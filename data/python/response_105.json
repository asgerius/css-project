[{"tags": ["python", "list", "set"], "answers": [{"comments": [{"owner": {"reputation": 2202, "user_id": 700070, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d3a6495fcb54188bb2f59002e517af65?s=128&d=identicon&r=PG&f=1", "display_name": "Jshee", "link": "https://stackoverflow.com/users/700070/jshee"}, "edited": false, "score": 0, "creation_date": 1484179310, "post_id": 41602916, "comment_id": 70408400, "body": "Wow, silly me. I must be getting tired. Thanks @Joran ! Ill accept as soon as I can"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1484179364, "post_id": 41602916, "comment_id": 70408422, "body": "Here, it is not necessary to type-case the <code>set</code> back to <code>list</code>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1484179532, "post_id": 41602916, "comment_id": 70408471, "body": "@MoinuddinQuadri that may be true ... but i didnt want to make assumtions"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 7, "last_activity_date": 1484179043, "creation_date": 1484179043, "answer_id": 41602916, "question_id": 41602896, "link": "https://stackoverflow.com/questions/41602896/remove-duplicate-items-from-list/41602916#41602916", "title": "Remove duplicate items from list", "body": "<p>you are discarding the result when you need to save it ... <code>b_result_list</code> never actually changes... so you are just iterating over the original list. instead save the result of the <code>set</code> operation</p>\n\n<pre><code>b_result_list = list(set(b_result_list))\n</code></pre>\n\n<p>(note that <code>set</code>s do not preserve order)</p>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1484184240, "last_edit_date": 1484184240, "creation_date": 1484181575, "answer_id": 41603294, "question_id": 41602896, "link": "https://stackoverflow.com/questions/41602896/remove-duplicate-items-from-list/41603294#41603294", "title": "Remove duplicate items from list", "body": "<p>If you want to maintain order and uniqueify, you can do:</p>\n\n<pre><code>&gt;&gt;&gt; li\n['1', '1', '2', '2', '3', '3', '3', '3', '1', '1', '4', '5', '4', '6', '6']\n&gt;&gt;&gt; seen=set()\n&gt;&gt;&gt; [e for e in li if not (e in seen or seen.add(e))]\n['1', '2', '3', '4', '5', '6']\n</code></pre>\n\n<p>Or, you can use the keys of an OrderedDict:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import OrderedDict\n&gt;&gt;&gt; OrderedDict([(k, None) for k in li]).keys()\n['1', '2', '3', '4', '5', '6']\n</code></pre>\n\n<p>But a set alone may substantially change the order of the original list:</p>\n\n<pre><code>&gt;&gt;&gt; list(set(li))\n['1', '3', '2', '5', '4', '6']\n</code></pre>\n"}], "owner": {"reputation": 2202, "user_id": 700070, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d3a6495fcb54188bb2f59002e517af65?s=128&d=identicon&r=PG&f=1", "display_name": "Jshee", "link": "https://stackoverflow.com/users/700070/jshee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 41602916, "answer_count": 2, "score": 0, "last_activity_date": 1484184240, "creation_date": 1484178931, "last_edit_date": 1495542829, "question_id": 41602896, "link": "https://stackoverflow.com/questions/41602896/remove-duplicate-items-from-list", "title": "Remove duplicate items from list", "body": "<p>I tried following <a href=\"https://stackoverflow.com/questions/6764909/python-how-to-remove-all-duplicate-items-from-a-list\">this post</a> but, it doesnt seem to be working for me.</p>\n\n<p>I tried this code:</p>\n\n<pre><code>for bresult in response.css(LIST_SELECTOR):\n    NAME_SELECTOR = 'h2 a ::attr(href)'\n    yield {\n        'name': bresult.css(NAME_SELECTOR).extract_first(),\n    }\n                                                                                  b_result_list.append(bresult.css(NAME_SELECTOR).extract_first())\n\n    #set b_result_list to SET to remove dups, then change back to LIST\n    set(b_result_list)\n    list(set(b_result_list))\nfor brl in b_result_list:\n    print(\"brl: {}\".format(brl))\n</code></pre>\n\n<p><strong>This prints out:</strong></p>\n\n<pre><code>brl: https://facebook.site.com/users/login\nbrl: https://facebook.site.com/users\nbrl: https://facebook.site.com/users/login\n</code></pre>\n\n<p>When I just need:</p>\n\n<pre><code>brl: https://facebook.site.com/users/login\nbrl: https://facebook.site.com/users\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "python-2.7", "unit-testing", "mocking", "patch"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1484179154, "post_id": 41602875, "comment_id": 70408347, "body": "This looks like a bit of a round-about way to do it, but it looks workable to me.  (Your use of <code>side_effect</code> in <code>mock_get_collection</code> looks a bit suspicious, but otherwise ...)  Can you explain a little more clearly what you mean by &quot;it didn&#39;t work&quot;?"}, {"owner": {"reputation": 89, "user_id": 6392522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L1qnp.jpg?s=128&g=1", "display_name": "Robinson Wei", "link": "https://stackoverflow.com/users/6392522/robinson-wei"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1484240526, "post_id": 41602875, "comment_id": 70439296, "body": "I think what I mean is I don&#39;t know how to call them after the patch. When I call mongo_report_test, I need to pass the &quot;mock_call&quot; parameter, right, but what is mock_call, really? I don&#39;t get it. Is it another &quot;mock_call = Mock()&quot; ?"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 7401139, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154874739198767/picture?type=large", "display_name": "loveboat", "link": "https://stackoverflow.com/users/7401139/loveboat"}, "is_accepted": false, "score": 0, "last_activity_date": 1484180828, "creation_date": 1484180828, "answer_id": 41603175, "question_id": 41602875, "link": "https://stackoverflow.com/questions/41602875/mock-patch-function/41603175#41603175", "title": "mock patch function", "body": "<p>Unless this was some cut-n-paste error, I believe this:</p>\n\n<pre><code>mock.count.side_effect = [20, 6, 2]\nmock.find.side_effect = [{user: xx}]\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>mocked_collection.count.side_effect = [20, 6, 2]\nmocked_collection.find.side_effect = [{user: xx}]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 6392522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L1qnp.jpg?s=128&g=1", "display_name": "Robinson Wei", "link": "https://stackoverflow.com/users/6392522/robinson-wei"}, "edited": false, "score": 0, "creation_date": 1484240573, "post_id": 41605454, "comment_id": 70439318, "body": "I guess the second solution looks just what I need. Thank you!  Another question I got is how can I call it?   If I call test_from_report, I am missing a parameter i need to pass, right? The &quot;mock_get_collection&quot; one?"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "reply_to_user": {"reputation": 89, "user_id": 6392522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L1qnp.jpg?s=128&g=1", "display_name": "Robinson Wei", "link": "https://stackoverflow.com/users/6392522/robinson-wei"}, "edited": false, "score": 0, "creation_date": 1484270929, "post_id": 41605454, "comment_id": 70453000, "body": "@RobinsonWei, It is not easy to explain the mock, The previous code is not working after I tested, this should work."}], "tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": true, "score": 1, "last_activity_date": 1484270685, "last_edit_date": 1484270685, "creation_date": 1484197371, "answer_id": 41605454, "question_id": 41602875, "link": "https://stackoverflow.com/questions/41602875/mock-patch-function/41605454#41605454", "title": "mock patch function", "body": "<p>It took me a while to figure out that the original answer is misleading. Here is  a working copy of mock very similar to your question, the only thing I did not know is your return value of get_connection(). python v2.6.6</p>\n\n<pre><code>    #/usr/bin/env pthon\n    import unittest\n    import mock\n    from mock import MagicMock\n\n    class Mongo(object):\n        def __init__(self, *args, **kwargs):\n            # doing nothing for demo\n            pass\n\n        def get_collection(self, input1):\n            # return fixed list for demo\n            return [1, 3, 5]\n\n        def from_report(self, input_a, input_b):\n            collection_a = self.get_collection(input_a)\n            collection_b = self.get_collection(input_b)\n            return collection_a + collection_b\n\n    class TestMongo(unittest.TestCase):\n\n        def setUp(self):\n            self.expected = [2, 4, 6, 2, 4, 6]\n            self.mock_value = [2, 4, 6]\n\n        def tearDown(self):\n            pass\n\n        \"\"\" in the format of file_name.class_name.method_name\n        @mock.patch('test_mongo.Mongo.get_collection')\n        def test_using_mock_patch(self, mock_get_collection):\n            mock_get_collection.return_value = self.mock_value\n            mongo = Mongo()\n            mongo.get_collection = mock_get_collection\n            result = mongo.from_report('any', 'where')\n            self.assertEquals(result, self.expected)\n\n        \"\"\" mock.MagicMock\n        def test_mongo_get_collection_using_magicMock(self):\n            mock_mongo = MagicMock(name='get_collection')\n            mock_mongo.get_collection.return_value = self.mock_value\n            mongo = Mongo()\n            mongo.get_collection = mock_mongo.get_collection\n            result = mongo.from_report('any', 'where')\n            self.assertEquals(result, self.expected)\n\n        \"\"\" mock.Mock\n        def test_mongo_get_collection_using_Mock(self):\n            mock_mongo = mock.Mock(name='get_collection')\n            mock_mongo.get_collection.return_value = self.mock_value\n            mongo = Mongo()\n            mongo.get_collection = mock_mongo.get_collection\n            result = mongo.from_report('any', 'where')\n            self.assertEquals(result, self.expected)\n\n\n    if __name__ == '__main__':\n        suite = unittest.TestLoader().loadTestsFromTestCase(TestMongo)\n        unittest.TextTestRunner(verbosity=2).run(suite)\n</code></pre>\n\n<p>Here is the commands and output</p>\n\n<pre><code>    -bash-4.1$ python test_mongo.py\n    test_mongo_get_collection_using_Mock (__main__.TestMongo) ... ok\n    test_mongo_get_collection_using_magicMock (__main__.TestMongo) ... ok\n    test_using_mock_patch (__main__.TestMongo) ... ok\n\n    ----------------------------------------------------------------------\n    Ran 3 tests in 0.005s\n\n    OK\n    -bash-4.1$ nosetests -vv test_mongo.py\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 6392522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L1qnp.jpg?s=128&g=1", "display_name": "Robinson Wei", "link": "https://stackoverflow.com/users/6392522/robinson-wei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1617, "favorite_count": 0, "accepted_answer_id": 41605454, "answer_count": 2, "score": 1, "last_activity_date": 1484270685, "creation_date": 1484178706, "last_edit_date": 1484240361, "question_id": 41602875, "link": "https://stackoverflow.com/questions/41602875/mock-patch-function", "title": "mock patch function", "body": "<p>I am a newbie in python mock, recently I am trying to write a test code for my function. \nThe function is used to analyze a Mongo database and from a CSV report. And I want to patch the \"get_collection()\" function. The structure is like this:</p>\n\n<p>mongo_report.py file:</p>\n\n<pre><code>import pymongo\n\ndef get_collection(): # used to get mongo collection\n\ndef from_report():  #used to from a report\n    get_collection(mongodb, mongo_collection_name)\n    .....\n</code></pre>\n\n<p>In my test file:</p>\n\n<pre><code>from mongo_report import from_report\nfrom mock import Mock, patch\n\ndef mock_get_collection():  # used to replace get_collection() \n    mocked_collection = Mock()\n    mock_get_collection.count.side_effect = [20, 6, 2]\n    mock_get_collection.find.side_effect = [{user: xx}]\n    return mocked_collection\n\n@patch('mongo_report.get_collection')\ndef mongo_report_test(mock_call):\n    mock_call.return_value = mock_get_collection()\n    from_report()\n</code></pre>\n\n<p>The patch is written by what I learned on a webpage <a href=\"https://blog.fugue.co/2016-02-11-python-mocking-101.html\" rel=\"nofollow noreferrer\">https://blog.fugue.co/2016-02-11-python-mocking-101.html</a><br>\nbut it didn't work.So my question is:</p>\n\n<ol>\n<li><p>Is this the right way to use patch, if not, how can I patch it? </p></li>\n<li><p>At mongo_report_test(mock_call), where is the mock_call come from, it doesn't linked to anything here, how can I declare it</p></li>\n<li><p>After patch, how can I call this test function?</p></li>\n</ol>\n\n<p>Start learning from decorator, spend a whole day bumping my head to the desk, but still didn't learn the trick. :&lt;</p>\n"}, {"tags": ["python", "pip", "setup.py", "pypi"], "owner": {"reputation": 4315, "user_id": 1768702, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ced4cc517f215af04800f05f52eb310b?s=128&d=identicon&r=PG", "display_name": "yelsayed", "link": "https://stackoverflow.com/users/1768702/yelsayed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1484178666, "creation_date": 1484178666, "question_id": 41602869, "link": "https://stackoverflow.com/questions/41602869/setup-py-dependency-links-pypi-name-conflict", "title": "setup.py dependency_links Pypi name conflict", "body": "<p>I have a non-Pypi package that I want to install using <code>setup.py</code> file, so I include it in the <code>dependency_links</code>:</p>\n\n<pre><code>dependency_link=['package_url.tar.gz']\n</code></pre>\n\n<p>The problem there's another package with the same name on Pypi, so the <code>setup.py</code> just ignores my <code>dependency_links</code> line and installs that. Is there a way around this?</p>\n"}, {"tags": ["python", "tweepy"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 7212847, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ed0e32be3befbd42fec3a22a56eacdbe?s=128&d=identicon&r=PG&f=1", "display_name": "JackR", "link": "https://stackoverflow.com/users/7212847/jackr"}, "edited": false, "score": 0, "creation_date": 1484242031, "post_id": 41613541, "comment_id": 70440164, "body": "It&#39;s notre all my tweets for exemple have a yesterday tweet?"}, {"owner": {"reputation": 4502, "user_id": 4614675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh5.googleusercontent.com/-wENEinPp2ls/AAAAAAAAAAI/AAAAAAAAABw/oJ3bOTpW9ek/photo.jpg?sz=128", "display_name": "Giordano", "link": "https://stackoverflow.com/users/4614675/giordano"}, "reply_to_user": {"reputation": 165, "user_id": 7212847, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ed0e32be3befbd42fec3a22a56eacdbe?s=128&d=identicon&r=PG&f=1", "display_name": "JackR", "link": "https://stackoverflow.com/users/7212847/jackr"}, "edited": false, "score": 0, "creation_date": 1484243879, "post_id": 41613541, "comment_id": 70441203, "body": "Sorry I don&#39;t understand, would you like your tweets of yesterday?"}, {"owner": {"reputation": 165, "user_id": 7212847, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ed0e32be3befbd42fec3a22a56eacdbe?s=128&d=identicon&r=PG&f=1", "display_name": "JackR", "link": "https://stackoverflow.com/users/7212847/jackr"}, "edited": false, "score": 0, "creation_date": 1484244620, "post_id": 41613541, "comment_id": 70441621, "body": "All tweets in my account regardless of the date"}, {"owner": {"reputation": 165, "user_id": 7212847, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ed0e32be3befbd42fec3a22a56eacdbe?s=128&d=identicon&r=PG&f=1", "display_name": "JackR", "link": "https://stackoverflow.com/users/7212847/jackr"}, "edited": false, "score": 0, "creation_date": 1484247998, "post_id": 41613541, "comment_id": 70443336, "body": "I can do this with a stream because I want to use spark streaming?"}, {"owner": {"reputation": 4502, "user_id": 4614675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh5.googleusercontent.com/-wENEinPp2ls/AAAAAAAAAAI/AAAAAAAAABw/oJ3bOTpW9ek/photo.jpg?sz=128", "display_name": "Giordano", "link": "https://stackoverflow.com/users/4614675/giordano"}, "reply_to_user": {"reputation": 165, "user_id": 7212847, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ed0e32be3befbd42fec3a22a56eacdbe?s=128&d=identicon&r=PG&f=1", "display_name": "JackR", "link": "https://stackoverflow.com/users/7212847/jackr"}, "edited": false, "score": 0, "creation_date": 1484248480, "post_id": 41613541, "comment_id": 70443601, "body": "I don&#39;t think so... because Twitter has the bother limitation of time constraints"}, {"owner": {"reputation": 4502, "user_id": 4614675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh5.googleusercontent.com/-wENEinPp2ls/AAAAAAAAAAI/AAAAAAAAABw/oJ3bOTpW9ek/photo.jpg?sz=128", "display_name": "Giordano", "link": "https://stackoverflow.com/users/4614675/giordano"}, "reply_to_user": {"reputation": 165, "user_id": 7212847, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ed0e32be3befbd42fec3a22a56eacdbe?s=128&d=identicon&r=PG&f=1", "display_name": "JackR", "link": "https://stackoverflow.com/users/7212847/jackr"}, "edited": false, "score": 0, "creation_date": 1484250943, "post_id": 41613541, "comment_id": 70445037, "body": "You are welcome. lease if the answer was helpful mark it"}], "tags": [], "owner": {"reputation": 4502, "user_id": 4614675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh5.googleusercontent.com/-wENEinPp2ls/AAAAAAAAAAI/AAAAAAAAABw/oJ3bOTpW9ek/photo.jpg?sz=128", "display_name": "Giordano", "link": "https://stackoverflow.com/users/4614675/giordano"}, "is_accepted": true, "score": 0, "last_activity_date": 1484246790, "last_edit_date": 1484246790, "creation_date": 1484224951, "answer_id": 41613541, "question_id": 41602826, "link": "https://stackoverflow.com/questions/41602826/retrieve-tweets-tweepy/41613541#41613541", "title": "Retrieve tweets tweepy", "body": "<p>If you want stream only tweets on your user, you can use the following lines:</p>\n\n<pre><code>from tweepy import StreamListener\nfrom tweepy import Stream\nimport tweepy\n\nconsumer_key = ''\nconsumer_secret = ''\naccess_token = ''\naccess_token_secret = ''\n\nauth = tweepy.OAuthHandler(consumer_key, consumer_secret)\nauth.set_access_token(access_token, access_token_secret)\napi = tweepy.API(auth)\n\nclass CustomStreamListener(StreamListener):\n\n   def on_data(self, data):\n       print(data)\n\n  def on_error(self, status):\n      print(status)\n\nif __name__ == '__main__':\n    listener = CustomStreamListener()\n    twitterStream = Stream(auth, listener)\n    twitterStream.filter(follow=['2466458114'])\n</code></pre>\n\n<p>In your question, you said that you can't see your tweets. I don't know if is clear or not but just to be sure, with streaming you can see only the \"real time\" tweets. So also with my code, if you don't tweet nothing, you don't see nothing.</p>\n\n<p><strong>UPDATE AFTER CHAT IN COMMENTS</strong></p>\n\n<p>Since Twitter Official API has the bother limitation of time constraints, you can't get older tweets than a week.<br>\nFor this task I suggest you to use this great <a href=\"https://github.com/Jefferson-Henrique/GetOldTweets-python\" rel=\"nofollow noreferrer\">python library</a>.<br>\nIt allows to get how many tweets you want and wrote when you want. <br>\nAs documentation says, you can simply use it in this way:</p>\n\n<pre><code>tweetCriteria = got.manager.TweetCriteria().setUsername('&lt;user_without_@&gt;').setSince(\"2015-05-01\").setUntil(\"2015-09-30\")\n</code></pre>\n\n<p>If you are using python2.X you can use <code>got</code>, instead if you are using python3.X you can use <code>got3</code>.</p>\n\n<p>I prepare an example in Python3:</p>\n\n<pre><code>from getOldTweets import got3\ntweetCriteria = got3.manager.TweetCriteria().setUsername('barackobama').setSince(\"2015-09-01\").setUntil(\"2015-09-30\")\ntweets_list = got3.manager.TweetManager.getTweets(tweetCriteria)\nfor tweet in tweets_list:\n    print(tweet.text)\n</code></pre>\n\n<p>Let me know.</p>\n"}], "owner": {"reputation": 165, "user_id": 7212847, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ed0e32be3befbd42fec3a22a56eacdbe?s=128&d=identicon&r=PG&f=1", "display_name": "JackR", "link": "https://stackoverflow.com/users/7212847/jackr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 41613541, "answer_count": 1, "score": -1, "last_activity_date": 1484247089, "creation_date": 1484178339, "last_edit_date": 1484247089, "question_id": 41602826, "link": "https://stackoverflow.com/questions/41602826/retrieve-tweets-tweepy", "title": "Retrieve tweets tweepy", "body": "<p>How can I retrieve only my tweets with a stream? I test that but I don't see my tweets.</p>\n\n<p><strong>My first attempt:</strong></p>\n\n<pre><code>streamingAPI = tweepy.streaming.Stream(auth, CustomStreamListener())\nstreamingAPI.userstream(_with='followings')\nstreamingAPI.filter()\n</code></pre>\n\n<p><strong>My second attempt:</strong></p>\n\n<pre><code>streamingAPI = tweepy.streaming.Stream(auth, CustomStreamListener())\nstreamingAPI.filter(follow= ['2466458114'])\n</code></pre>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["python", "variables", "module"], "comments": [{"owner": {"reputation": 212, "user_id": 7342539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e934017665a125d0e00fa150f88415a9?s=128&d=identicon&r=PG&f=1", "display_name": "user7342539", "link": "https://stackoverflow.com/users/7342539/user7342539"}, "edited": false, "score": 2, "creation_date": 1484178322, "post_id": 41602797, "comment_id": 70408104, "body": "why don&#39;t you make the variable <code>data</code> global inside the external file and access it with <code>outSimulation.data</code>?"}, {"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 2, "creation_date": 1484178429, "post_id": 41602797, "comment_id": 70408127, "body": "<code>data</code> is a local variable to your function <code>outlet1()</code>, you can not access it by <code>outlet1.data()</code>"}, {"owner": {"reputation": 136, "user_id": 4913983, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-bbuM_6B5FEY/AAAAAAAAAAI/AAAAAAAAANU/Cp_VRYRjL7M/photo.jpg?sz=128", "display_name": "arlyon", "link": "https://stackoverflow.com/users/4913983/arlyon"}, "edited": false, "score": 0, "creation_date": 1484178597, "post_id": 41602797, "comment_id": 70408172, "body": "as mentioned above you cannot access it, you will need to instantiate an outlet object first (assuming it&#39;s a class we are talking about)"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1484178946, "post_id": 41602797, "comment_id": 70408279, "body": "What creates <code>data</code>? How do you know it will exist? What decides to make it stop existing? Names have scope in Python, and objects cease to exist when nothing refers to them any more."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1484178971, "post_id": 41602797, "comment_id": 70408285, "body": "<code>.data()</code> is a function call. Why would that work?"}, {"owner": {"reputation": 3, "user_id": 7407152, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209320081613186/picture?type=large", "display_name": "Eduardo Martinez", "link": "https://stackoverflow.com/users/7407152/eduardo-martinez"}, "edited": false, "score": 0, "creation_date": 1484179827, "post_id": 41602797, "comment_id": 70408569, "body": "Thank you user7342539 that worked. Since data is a list I just accessed them like this &#39;outSimulation.data(1)&#39;   etc."}, {"owner": {"reputation": 3, "user_id": 7407152, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209320081613186/picture?type=large", "display_name": "Eduardo Martinez", "link": "https://stackoverflow.com/users/7407152/eduardo-martinez"}, "edited": false, "score": 0, "creation_date": 1484180049, "post_id": 41602797, "comment_id": 70408646, "body": "Peter a stand alone file outSimulation.py creates data that I am feeding into a data base. however outSimulation.py has functions and inside those functions is &quot;data&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 938, "user_id": 3980466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645862f30b05489c2f30f87875984171?s=128&d=identicon&r=PG&f=1", "display_name": "T. Arboreus", "link": "https://stackoverflow.com/users/3980466/t-arboreus"}, "is_accepted": false, "score": 0, "last_activity_date": 1484180751, "creation_date": 1484180751, "answer_id": 41603163, "question_id": 41602797, "link": "https://stackoverflow.com/questions/41602797/accessing-variable-inside-a-function-from-external-file/41603163#41603163", "title": "Accessing variable inside a function from external file?", "body": "<p>Functions are not classes, and are specifically designed so that you CAN'T do what you're trying to do. That's the whole basis of functional programming and the concepts behind encapsulation. Even if your function was a class, your code still wouldn't work because you're trying to call the variable as a function (by adding <code>()</code> to <code>data</code>).</p>\n\n<p>Either create data as a global variable that can be referenced inside the function or have the function return a tuple with multiple items, including the original return value and the data variable (messy). You could also rewrite the function in an object-oriented way if that approach suits your problem domain, in which case your code above would make more sense.</p>\n"}, {"tags": [], "owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "is_accepted": true, "score": 0, "last_activity_date": 1484180871, "creation_date": 1484180871, "answer_id": 41603179, "question_id": 41602797, "link": "https://stackoverflow.com/questions/41602797/accessing-variable-inside-a-function-from-external-file/41603179#41603179", "title": "Accessing variable inside a function from external file?", "body": "<p>You cannot<sup>*</sup> access a variable which is local to a function from outside the function.</p>\n\n<ul>\n<li>If you want to access the value of <code>data</code> from a function which is <em>called</em> by <code>outlet1()</code>, you should pass <code>data</code> to that function.</li>\n<li>If you want to access the value of <code>data</code> <em>after</em> <code>outlet1()</code> finishes running, you should return <code>data</code> (possibly along with other things) from <code>outlet1()</code>.</li>\n<li><p>Alternatively, you can make <code>data</code> a module-level variable. Assuming you assign something to <code>data</code> within <code>outlet1()</code>, you would make it a module-level variable using the <code>global</code> keyword,</p>\n\n<pre><code>def outlet1():\n    global data\n    # code\n    data = ...\n    # more code\n</code></pre>\n\n<p>but this tends to be less clean than the other methods.</p></li>\n</ul>\n\n<p>There are other solutions if <code>outlet1()</code> is defined within a class, but your question suggests that's not the case so I won't get into that.</p>\n\n<hr>\n\n<p><sup>*</sup>Well... uh, never mind. There are some wacky things you can do for debugging, but you're better off not considering those for your purposes.</p>\n"}], "owner": {"reputation": 3, "user_id": 7407152, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209320081613186/picture?type=large", "display_name": "Eduardo Martinez", "link": "https://stackoverflow.com/users/7407152/eduardo-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 41603179, "answer_count": 2, "score": 0, "last_activity_date": 1484195741, "creation_date": 1484178150, "last_edit_date": 1484195741, "question_id": 41602797, "link": "https://stackoverflow.com/questions/41602797/accessing-variable-inside-a-function-from-external-file", "title": "Accessing variable inside a function from external file?", "body": "<p>I have a file\noutSimulation.py this file has a function called\noutlet1 and inside this function there is a variable called data</p>\n\n<p>I want to access this data variable from another program called main.py</p>\n\n<p>I have tried it with absolute imports </p>\n\n<pre><code>from outSimulation import outlet1 \nvalues = outlet1.data()\n</code></pre>\n\n<p>but it doesnt work. Any help is appreciated. </p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7407043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a42b42fb95fa52a103f799a3db3ebd14?s=128&d=identicon&r=PG&f=1", "display_name": "HWG", "link": "https://stackoverflow.com/users/7407043/hwg"}, "edited": false, "score": 0, "creation_date": 1484178740, "post_id": 41602704, "comment_id": 70408226, "body": "Thank you, &quot;.join&quot; worked. And gave me the exact output i was looking for."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "reply_to_user": {"reputation": 13, "user_id": 7407043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a42b42fb95fa52a103f799a3db3ebd14?s=128&d=identicon&r=PG&f=1", "display_name": "HWG", "link": "https://stackoverflow.com/users/7407043/hwg"}, "edited": false, "score": 0, "creation_date": 1484178910, "post_id": 41602704, "comment_id": 70408269, "body": "note that concatenating strings is generally avoided in favour of <code>str.format</code> or using the <code>%</code> operator (like my second example). If you are concatenating several strings together, there is a series of temporary objects created, which is slow. The <code>str.format</code> method avoids that. For concatenating 2 strings its not really an issue, but worth being mindful of."}], "tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": true, "score": 3, "last_activity_date": 1484177497, "creation_date": 1484177497, "answer_id": 41602704, "question_id": 41602665, "link": "https://stackoverflow.com/questions/41602665/list-as-value-in-a-dictionary-cannot-concatenate-str-and-list-objects/41602704#41602704", "title": "list as value in a dictionary - cannot concatenate &#39;str&#39; and &#39;list&#39; objects", "body": "<p>Your <code>type</code> dict member is a list and you cannot concatenate a string and list. Instead join all the members of the list into a string and display that.</p>\n\n<pre><code>print(\"Type: \" + ', '.join(info[\"type\"]))\n</code></pre>\n\n<p>or if you wished to display the list in usual repl format</p>\n\n<pre><code>print(\"Type: %r\" % info[\"type\"])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "is_accepted": false, "score": 1, "last_activity_date": 1484177533, "creation_date": 1484177533, "answer_id": 41602711, "question_id": 41602665, "link": "https://stackoverflow.com/questions/41602665/list-as-value-in-a-dictionary-cannot-concatenate-str-and-list-objects/41602711#41602711", "title": "list as value in a dictionary - cannot concatenate &#39;str&#39; and &#39;list&#39; objects", "body": "<p>type is a list and you need to treat it as such, you need to decide how you want to display the elements of the list with your string, </p>\n\n<p>As a start, you may want them comma separated</p>\n\n<pre><code>\"Type: {}\".format(','.join(info[\"type\"]))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1484178014, "post_id": 41602724, "comment_id": 70408005, "body": "Or the former to a list."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 3, "last_activity_date": 1484178212, "last_edit_date": 1484178212, "creation_date": 1484177601, "answer_id": 41602724, "question_id": 41602665, "link": "https://stackoverflow.com/questions/41602665/list-as-value-in-a-dictionary-cannot-concatenate-str-and-list-objects/41602724#41602724", "title": "list as value in a dictionary - cannot concatenate &#39;str&#39; and &#39;list&#39; objects", "body": "<p>Indeed, you can't concatenate strings and lists, without converting the latter to a string.</p>\n\n<p>Fortunately, for <code>print</code> you don't need to concatenate. You can just print the two items separately:</p>\n\n<pre><code>print(\"Type:\", info[\"type\"])\n</code></pre>\n\n<p>This will use the default Python representation of the list. If you want to customize this, you can use <code>str.join</code>:</p>\n\n<pre><code>print(\"Type:\", \", \".join(info[\"type\"]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 413, "user_id": 2596830, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fdbb33b73152e57e259d4bddb359c25a?s=128&d=identicon&r=PG&f=1", "display_name": "davidlebr1", "link": "https://stackoverflow.com/users/2596830/davidlebr1"}, "is_accepted": false, "score": 0, "last_activity_date": 1484177659, "creation_date": 1484177659, "answer_id": 41602731, "question_id": 41602665, "link": "https://stackoverflow.com/questions/41602665/list-as-value-in-a-dictionary-cannot-concatenate-str-and-list-objects/41602731#41602731", "title": "list as value in a dictionary - cannot concatenate &#39;str&#39; and &#39;list&#39; objects", "body": "<p>Simply change this line :</p>\n\n<pre><code>    print(\"Type: \" + info[\"type\"])\n</code></pre>\n\n<p>to this :</p>\n\n<pre><code>    print(\"Type: \" + str(info[\"type\"]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "is_accepted": false, "score": 1, "last_activity_date": 1484177784, "creation_date": 1484177784, "answer_id": 41602746, "question_id": 41602665, "link": "https://stackoverflow.com/questions/41602665/list-as-value-in-a-dictionary-cannot-concatenate-str-and-list-objects/41602746#41602746", "title": "list as value in a dictionary - cannot concatenate &#39;str&#39; and &#39;list&#39; objects", "body": "<p>The problem is that you have <code>types</code> as a list. you want to use <code>str.join()</code>:</p>\n\n<pre><code>for poke, info in pokemon.items():\n    print(\"\\nName: \" + poke.title())\n    print(\"Type: \" + ', '.join(info[\"type\"]))\n    print(\"Evolves from \" + info[\"evo_from\"])\n    print(\"Evolves to \" + info[\"evo_to\"])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7407043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a42b42fb95fa52a103f799a3db3ebd14?s=128&d=identicon&r=PG&f=1", "display_name": "HWG", "link": "https://stackoverflow.com/users/7407043/hwg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 41602704, "answer_count": 5, "score": 0, "last_activity_date": 1484178212, "creation_date": 1484177246, "last_edit_date": 1484177936, "question_id": 41602665, "link": "https://stackoverflow.com/questions/41602665/list-as-value-in-a-dictionary-cannot-concatenate-str-and-list-objects", "title": "list as value in a dictionary - cannot concatenate &#39;str&#39; and &#39;list&#39; objects", "body": "<p>I am trying to make a pokemon \"database\" of sorts. I want the program to output every pokemons: name, type, evolves from, evolves to. Each name is a key in my <code>pokemon</code> dictionary. Each value is another dictionary containing the information as keys (type, evolves from, evolves to). These keys values are the desirable output. The problem is that the <code>type</code> key has a list as its value and I get this error when I try to run it:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Name: Bulbasaur\nTraceback (most recent call last):\n  File \"pokemon.py\", line 51, in &lt;module&gt;\n    print(\"Type: \" + info[\"type\"])\nTypeError: cannot concatenate 'str' and 'list' objects\n</code></pre>\n\n<p>The following is my code:</p>\n\n<pre><code>pokemon = {\n    \"bulbasaur\": {\n        \"type\": [\"grass\", \"poison\"],\n        \"evo_from\": \"none\",\n        \"evo_to\": \"ivysaur\"\n        },\n    \"ivysaur\": {\n        \"type\": [\"grass\", \"poison\"],\n        \"evo_from\": \"bulbasaur\",\n        \"evo_to\": \"venusaur\"\n        },\n    \"venusaur\": {\n        \"type\": [\"grass\", \"poison\"],\n        \"evo_from\": \"ivysaur\",\n        \"evo_to\": \"none\"\n        },\n    \"charmander\": {\n        \"type\": [\"fire\"],\n        \"evo_from\": \"none\",\n        \"evo_to\": \"charmeleon\"\n        },\n    \"charmeleon\": {\n        \"type\": [\"fire\"],\n        \"evo_from\": \"charmander\",\n        \"evo_to\": \"charizard\"\n        },\n    \"charizard\": {\n        \"type\": [\"fire\", \"flying\"],\n        \"evo_from\": \"charmeleon\",\n        \"evo_to\": \"none\"\n        },\n    \"squirtle\": {\n        \"type\": [\"water\"],\n        \"evo_from\": \"none\",\n        \"evo_to\": \"wartortle\"\n        },\n    \"wartortle\": {\n        \"type\": [\"water\"],\n        \"evo_from\": \"squirtle\",\n        \"evo_to\": \"blastoise\"\n        },\n    \"blastoise\": {\n        \"type\": [\"water\"],\n        \"evo_from\": \"wartortle\",\n        \"evo_to\": \"none\"\n        }\n    }\nfor poke, info in pokemon.items():\n    print(\"\\nName: \" + poke.title())\n    print(\"Type: \" + info[\"type\"])\n    print(\"Evolves from \" + info[\"evo_from\"])\n    print(\"Evolves to \" + info[\"evo_to\"])\n</code></pre>\n\n<p>I want the output to look like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Name: Bulbasaur\nType: Grass, Poison\nEvolves from none\nEvolves to Ivysaur\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 4913983, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-bbuM_6B5FEY/AAAAAAAAAAI/AAAAAAAAANU/Cp_VRYRjL7M/photo.jpg?sz=128", "display_name": "arlyon", "link": "https://stackoverflow.com/users/4913983/arlyon"}, "is_accepted": false, "score": 0, "last_activity_date": 1484178459, "creation_date": 1484178459, "answer_id": 41602850, "question_id": 41602655, "link": "https://stackoverflow.com/questions/41602655/python-facebook-api-about-the-limit-and-summary/41602850#41602850", "title": "Python facebook api about the limit and summary", "body": "<p>The params looks like just a strangely written get request. You can see in the code that it is sent to the server just like any other get request and returns text just like a get request too.</p>\n\n<p>In a get request you have your url ex. youtube.com/watch and a questionmark denotes a get request just like the one at the beginning of the params string. What it is doing is sending a variable called fields to the server.</p>\n\n<p>Additionally it is appending the variable limit (denoted by an ampersand or &amp;) and setting it to 100, along with finally sending the \"since\" variable.</p>\n\n<p>So, yes. Default limit is specifying how many entries you want to get in response to your get request.</p>\n"}], "owner": {"reputation": 935, "user_id": 7396308, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e2627531d8932d63bf9dac66a2b3ecac?s=128&d=identicon&r=PG&f=1", "display_name": "bin", "link": "https://stackoverflow.com/users/7396308/bin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1484188705, "creation_date": 1484177197, "last_edit_date": 1484188705, "question_id": 41602655, "link": "https://stackoverflow.com/questions/41602655/python-facebook-api-about-the-limit-and-summary", "title": "Python facebook api about the limit and summary", "body": "<p><a href=\"https://developers.facebook.com/docs/workplace/custom-integrations/examples\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/workplace/custom-integrations/examples</a>\nthere are example: download.py,in the function: <code>def getFeed(group, name):</code>  </p>\n\n<p>There is a piece of it:</p>\n\n<pre><code>params = \"?fields=permalink_url,from,story,type,message,link,created_time,updated_time,likes.limit(0).summary(total_count),comments.limit(0).summary(total_count)\"\n</code></pre>\n\n<p>What does the <code>likes.limit(0).summary(total_count),comments.limit(0).summary(total_count)</code> mean?<br>\nSpecifically, what does <code>limit(0)</code> mean, and what does  <code>summary(total_count)</code> mean?</p>\n\n<p>Also, in this download.py, there is </p>\n\n<pre><code>DEFAULT_LIMIT = \"100\"# Set to true if you like seeing console output\n</code></pre>\n\n<p>What does this <code>DEFAULT_LIMIT</code> mean? Does it mean 100 pages or 100 feeds (posts)?</p>\n"}, {"tags": ["python", "arrays"], "comments": [{"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1484177148, "post_id": 41602616, "comment_id": 70407711, "body": "It looks like you want us to write some code for you. While many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on his own. A good way to show this effort is to include the code you&#39;ve written so far, example input (if there is any), the expected output, and the output you actually get (console output, tracebacks, etc.). The more detail you provide, the more answers you are likely to receive. Check the <a href=\"http://stackoverflow.com/tour\">FAQ</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1484177220, "post_id": 41602616, "comment_id": 70407732, "body": "Also, your question is not clear. Are you saying you want to replace each string in that 2D array with a 2-tuple that includes the original string and an increasing integer in string format? Does that increasing integer key reset for each list in the overall list, or does it increase over the entire list?"}, {"owner": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "reply_to_user": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1484177256, "post_id": 41602616, "comment_id": 70407746, "body": "Obviously it is clear how u can see it xD"}, {"owner": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "reply_to_user": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1484177428, "post_id": 41602616, "comment_id": 70407812, "body": "Please, dont make any Hatespeeches. It shows that u want makeyourself very important"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1484177692, "post_id": 41602616, "comment_id": 70407891, "body": "Please edit the question to clarify that that second sublist should be starting with 1 or will continue with the number from the previous sub-list"}, {"owner": {"reputation": 626, "user_id": 4142312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lMJYp.jpg?s=128&g=1", "display_name": "Edward Tyler", "link": "https://stackoverflow.com/users/4142312/edward-tyler"}, "edited": false, "score": 0, "creation_date": 1484177980, "post_id": 41602616, "comment_id": 70407984, "body": "Please provide a minimal, complete, and verifiable example of the problem with your code.  See: <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1484178289, "post_id": 41602616, "comment_id": 70408089, "body": "@Moinuddin It should started with the number of previous sub list for continue"}], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 4142312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lMJYp.jpg?s=128&g=1", "display_name": "Edward Tyler", "link": "https://stackoverflow.com/users/4142312/edward-tyler"}, "edited": false, "score": 0, "creation_date": 1484178129, "post_id": 41602770, "comment_id": 70408038, "body": "Good answer-- that&#39;s certainly one way to do it. Unfortunately I think it would be unusual for a beginner to pull off a one-liner like that."}, {"owner": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "edited": false, "score": 0, "creation_date": 1484178181, "post_id": 41602770, "comment_id": 70408053, "body": "Oh thx, but it should started with 11 on the second list and not with 1 again. Can u help me?"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "edited": false, "score": 0, "creation_date": 1484178283, "post_id": 41602770, "comment_id": 70408086, "body": "@Okalj Are all the sub-lists of the same length?"}, {"owner": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "edited": false, "score": 0, "creation_date": 1484178367, "post_id": 41602770, "comment_id": 70408118, "body": "@MoinuddinQuadri Yes, it is"}, {"owner": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "edited": false, "score": 0, "creation_date": 1484178769, "post_id": 41602770, "comment_id": 70408235, "body": "U are the best, homie"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1484178976, "post_id": 41602770, "comment_id": 70408286, "body": "No need to say thanks. You should <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept the answer</a> if it helped you, and you think it is worth accepting. Also, I have made an edit to your question. Please take a look at it and be clear on asking the question from next time. You will get better response from the community :)"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 2, "last_activity_date": 1484178630, "last_edit_date": 1484178630, "creation_date": 1484177957, "answer_id": 41602770, "question_id": 41602616, "link": "https://stackoverflow.com/questions/41602616/map-2d-list-with-corresponding-position-in-the-list/41602770#41602770", "title": "map 2D list with corresponding position in the list", "body": "<p>In order to achieve this, you may use <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><strong><code>enumerate()</code></strong></a> with <em>nested list comprehension</em> expression as:</p>\n\n<pre><code>my_list = [['4470', '4753.5', '5682', '4440', '6113.5', '3661.5', '7555.3', '6090.3', '5147.3', '4296'], ['4468.5', '4742.5', '5297', '5501.8', '5061.3', '2933.5', '6367.5', '6053.8', '5654.3', '3793.3']]\nsub_list_len = len(my_list[0])  # all the sub-lists are of constant length\n\nnew_list = [[(str(i), j) for i, j in enumerate(sub_list, n*sub_list_len+1)] \\\n                 for n, sub_list in enumerate(my_list)]\n</code></pre>\n\n<p>Final value hold by <code>new_list</code> will be:</p>\n\n<pre><code>[[('1', '4470'), ('2', '4753.5'), ('3', '5682'), ('4', '4440'), ('5', '6113.5'), ('6', '3661.5'), ('7', '7555.3'), ('8', '6090.3'), ('9', '5147.3'), ('10', '4296')], [('11', '4468.5'), ('12', '4742.5'), ('13', '5297'), ('14', '5501.8'), ('15', '5061.3'), ('16', '2933.5'), ('17', '6367.5'), ('18', '6053.8'), ('19', '5654.3'), ('20', '3793.3')]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 615, "user_id": 6912791, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fa73c2c3cffb26545cbc77259ee9a0f1?s=128&d=identicon&r=PG&f=1", "display_name": "Pike D.", "link": "https://stackoverflow.com/users/6912791/pike-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1484178860, "last_edit_date": 1484178860, "creation_date": 1484178259, "answer_id": 41602812, "question_id": 41602616, "link": "https://stackoverflow.com/questions/41602616/map-2d-list-with-corresponding-position-in-the-list/41602812#41602812", "title": "map 2D list with corresponding position in the list", "body": "<p>This should work:</p>\n\n<pre><code>def list2tupple(array):\n    return_list = []\n    for item in array:\n        for iteration, value in enumerate(item):\n            return_list.append((str((iteration+1)), str(value)))\n    return return_list\n</code></pre>\n\n<p><strong>Exapmle</strong>:</p>\n\n<pre><code>a = [['a']]\nprint(list_tupple(a))\noutput: [('1', 'a')]\n</code></pre>\n\n<p>You could use list comprehension for this, but I think this is clearer.</p>\n"}, {"tags": [], "owner": {"reputation": 395, "user_id": 4934609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a210d2fa0d005e788c4d27d0df7abccf?s=128&d=identicon&r=PG&f=1", "display_name": "Liron Lavi", "link": "https://stackoverflow.com/users/4934609/liron-lavi"}, "is_accepted": false, "score": 1, "last_activity_date": 1484180502, "last_edit_date": 1484180502, "creation_date": 1484179219, "answer_id": 41602948, "question_id": 41602616, "link": "https://stackoverflow.com/questions/41602616/map-2d-list-with-corresponding-position-in-the-list/41602948#41602948", "title": "map 2D list with corresponding position in the list", "body": "<p>I wanted to give you an example as simple as it gets, I created a new list, and counter to know which key I'm on.</p>\n\n<p>I iterate my_list through each sub-list, than I iterate through each sub-list item.</p>\n\n<p>Than I'm creating a tuple which I'll append to a new list.</p>\n\n<pre><code>    my_list = [['4470', '4753.5', '5682', '4440', '6113.5', '3661.5', '7555.3', '6090.3', '5147.3', '4296'],\n           ['4468.5', '4742.5', '5297', '5501.8', '5061.3', '2933.5', '6367.5', '6053.8', '5654.3', '3793.3']]\n\nnew_list = []\ncount = 1  # the key\nfor sub_list in my_list:  # gets both of the sub lists\n    for item in sub_list:  # gets the items in each list\n        new_list.append((str(count), item))  # appends a tuple to a new list\n        count += 1\n</code></pre>\n\n<p>Since your question included the words: key and value I will add another way to arrange my_list to key and value inform of <a href=\"https://docs.python.org/2/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\">dictionary</a>.</p>\n\n<pre><code>my_list = [['4470', '4753.5', '5682', '4440', '6113.5', '3661.5', '7555.3', '6090.3', '5147.3', '4296'],\n           ['4468.5', '4742.5', '5297', '5501.8', '5061.3', '2933.5', '6367.5', '6053.8', '5654.3', '3793.3']]\n\nnew_dict = {}  # new dictionary\ncount = 1  # the key\nfor sub_list in my_list:  # gets both of the sub lists\n    for item in sub_list:  # gets the items in each list\n        new_dict[count] = item  # appends key and value to the dict\n        count += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": false, "score": 0, "last_activity_date": 1484197866, "last_edit_date": 1484197866, "creation_date": 1484197515, "answer_id": 41605471, "question_id": 41602616, "link": "https://stackoverflow.com/questions/41602616/map-2d-list-with-corresponding-position-in-the-list/41605471#41605471", "title": "map 2D list with corresponding position in the list", "body": "<p>Same thing but different - using <a href=\"https://docs.python.org/3/library/itertools.html#itertools.count\" rel=\"nofollow noreferrer\">itertools.count</a>.</p>\n\n<pre><code>import itertools\n\na = [['4470', '4753.5', '5682',  .....]]\n\nitem_nbrs = itertools.count(1)\ndef tuples(iterable):\n    for thing in iterable:\n        yield (next(item_nbrs), thing)\n\nz = [list(tuples(iterable)) for iterable in a]\n</code></pre>\n\n<hr>\n\n<p>A bit more functional:</p>\n\n<pre><code>item_nbrs = itertools.count(1)\nf = map(tuples, a)\ng = map(list, f)\nh = list(g)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>item_nbrs = itertools.count(1)\nk = list(map(list, map(tuples, a)))\n\n\n&gt;&gt;&gt; z == h == k\nTrue\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7340119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5453878ba7925c76da01a9cdf0e8370?s=128&d=identicon&r=PG&f=1", "display_name": "Ok alj", "link": "https://stackoverflow.com/users/7340119/ok-alj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1484197866, "creation_date": 1484177008, "last_edit_date": 1484178844, "question_id": 41602616, "link": "https://stackoverflow.com/questions/41602616/map-2d-list-with-corresponding-position-in-the-list", "title": "map 2D list with corresponding position in the list", "body": "<p>I have following 2D-Array like:</p>\n\n<pre><code>[['4470', '4753.5', '5682', '4440', '6113.5', '3661.5', '7555.3', '6090.3', '5147.3', '4296'], ['4468.5', '4742.5', '5297', '5501.8', '5061.3', '2933.5', '6367.5', '6053.8', '5654.3', '3793.3']]\n</code></pre>\n\n<p>I want to transform it to a new list with each element mapped to its position in the overall list like:</p>\n\n<pre><code>[[('1','4470'),('2', '4753.5'), ...], [('11', '4468.5'), ...]]\n</code></pre>\n\n<p>Position in next sub-list should be the next value from the previous sub-list. Also, the length of each sub-list is same.</p>\n"}, {"tags": ["python", "animation", "matplotlib", "plot", "3d"], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 5656742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55bd31a5226c8a4d1307c0ccf18d178b?s=128&d=identicon&r=PG&f=1", "display_name": "RDS", "link": "https://stackoverflow.com/users/5656742/rds"}, "edited": false, "score": 0, "creation_date": 1484248157, "post_id": 41609238, "comment_id": 70443422, "body": "Thats the thing I needed--i knew redrawing the whole thing wasn&#39;t right, but it was the only thing I could get working.  As a &quot;teach a man to fish&quot; follow up, I scoured the matplot docs and could not find any mention of of _offsets3d.  Do I need to be including github and the code itself for future reference?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 396, "user_id": 5656742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55bd31a5226c8a4d1307c0ccf18d178b?s=128&d=identicon&r=PG&f=1", "display_name": "RDS", "link": "https://stackoverflow.com/users/5656742/rds"}, "edited": false, "score": 3, "creation_date": 1484258921, "post_id": 41609238, "comment_id": 70449190, "body": "This is a good point. The upper solution uses <code>_offsets3d</code> which is a private method (as indicated by the <code>_</code> in front). Those are not documented. One will only find them by looking through the <a href=\"https://github.com/matplotlib/matplotlib\" rel=\"nofollow noreferrer\">source code</a> or by finding usage examples online. I often find it helpful to look at the source if the documentation does not provide a solution. Not to forget, asking a specific question like you did also helps finding hidden gems like <code>_offsets3d</code>. ;-) However, as private functions might also change between versions, their use should in general be avoided."}, {"owner": {"reputation": 7108, "user_id": 7353970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ac9ba2dd59be35776312120c47e431b?s=128&d=identicon&r=PG&f=1", "display_name": "whiletrue", "link": "https://stackoverflow.com/users/7353970/whiletrue"}, "edited": false, "score": 0, "creation_date": 1550652481, "post_id": 41609238, "comment_id": 96342921, "body": "how can additional data points over time be added to the 3d offset?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 7108, "user_id": 7353970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ac9ba2dd59be35776312120c47e431b?s=128&d=identicon&r=PG&f=1", "display_name": "whiletrue", "link": "https://stackoverflow.com/users/7353970/whiletrue"}, "edited": false, "score": 0, "creation_date": 1550666273, "post_id": 41609238, "comment_id": 96351485, "body": "@F&#225;bioFerreira The length of the arrays is not restricted. You can supply different length arrays from frame to frame, just within each frame x,y,z need to have the same length of course."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 25, "last_activity_date": 1503063296, "last_edit_date": 1503063296, "creation_date": 1484212806, "answer_id": 41609238, "question_id": 41602588, "link": "https://stackoverflow.com/questions/41602588/matplotlib-3d-scatter-animations/41609238#41609238", "title": "Matplotlib 3D scatter animations", "body": "<p>The <strong>scatter plot</strong> in 3D is a <code>mpl_toolkits.mplot3d.art3d.Path3DCollection</code> object. This provides an attribute <code>_offsets3d</code> which hosts a tuple <code>(x,y,z)</code> and can be used to update the scatter points' coordinates. Therefore it may be beneficial not to create the whole plot on every iteration of the animation, but instead only update its points.</p>\n\n<p>The following is a working example on how to do this.</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.animation\nimport pandas as pd\n\n\na = np.random.rand(2000, 3)*10\nt = np.array([np.ones(100)*i for i in range(20)]).flatten()\ndf = pd.DataFrame({\"time\": t ,\"x\" : a[:,0], \"y\" : a[:,1], \"z\" : a[:,2]})\n\ndef update_graph(num):\n    data=df[df['time']==num]\n    graph._offsets3d = (data.x, data.y, data.z)\n    title.set_text('3D Test, time={}'.format(num))\n\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\ntitle = ax.set_title('3D Test')\n\ndata=df[df['time']==0]\ngraph = ax.scatter(data.x, data.y, data.z)\n\nani = matplotlib.animation.FuncAnimation(fig, update_graph, 19, \n                               interval=40, blit=False)\n\nplt.show()\n</code></pre>\n\n<p>This solution does not allow for blitting. However, depending on the usage case, it may not be necessary to use a scatter plot at all; using a <strong>normal <code>plot</code></strong> might be equally possible, which allows for blitting - as seen in the following example.</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.animation\nimport pandas as pd\n\n\na = np.random.rand(2000, 3)*10\nt = np.array([np.ones(100)*i for i in range(20)]).flatten()\ndf = pd.DataFrame({\"time\": t ,\"x\" : a[:,0], \"y\" : a[:,1], \"z\" : a[:,2]})\n\ndef update_graph(num):\n    data=df[df['time']==num]\n    graph.set_data (data.x, data.y)\n    graph.set_3d_properties(data.z)\n    title.set_text('3D Test, time={}'.format(num))\n    return title, graph, \n\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\ntitle = ax.set_title('3D Test')\n\ndata=df[df['time']==0]\ngraph, = ax.plot(data.x, data.y, data.z, linestyle=\"\", marker=\"o\")\n\nani = matplotlib.animation.FuncAnimation(fig, update_graph, 19, \n                               interval=40, blit=True)\n\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8324579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6819ec178e387ff1d06068376edcd65f?s=128&d=identicon&r=PG&f=1", "display_name": "Kuifie", "link": "https://stackoverflow.com/users/8324579/kuifie"}, "is_accepted": false, "score": 2, "last_activity_date": 1500372485, "creation_date": 1500372485, "answer_id": 45163652, "question_id": 41602588, "link": "https://stackoverflow.com/questions/41602588/matplotlib-3d-scatter-animations/45163652#45163652", "title": "Matplotlib 3D scatter animations", "body": "<p>If using Jupyter Notebook remember to use <code>%matplotlib notebook</code> don't use <code>%matplotlib inline</code>.</p>\n"}], "owner": {"reputation": 396, "user_id": 5656742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55bd31a5226c8a4d1307c0ccf18d178b?s=128&d=identicon&r=PG&f=1", "display_name": "RDS", "link": "https://stackoverflow.com/users/5656742/rds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18015, "favorite_count": 4, "accepted_answer_id": 41609238, "answer_count": 2, "score": 12, "last_activity_date": 1503063296, "creation_date": 1484176863, "question_id": 41602588, "link": "https://stackoverflow.com/questions/41602588/matplotlib-3d-scatter-animations", "title": "Matplotlib 3D scatter animations", "body": "<p>I am graphing out positions in a star cluster, my data is in a dataframe with x,y,z positions as well as a time index.</p>\n\n<p>I am able to produce a 3d scatter plot and was trying to produce a rotating plot--I have been somewhat successful, but struggling through the animation API.</p>\n\n<p>If my \"update_graph\" function just returns a new ax.scatter(), the old one stays plotted unless i rebuild the entire graph.  That seems inefficient.  As well, I have to set my interval rather high or my animation \"skips\" every other frame, so it says my performance is rather bad.  Finally I am forced to use the \"blit=False\" as I cannot get an iterator for a 3d scatter plot.  Apparently the \"graph.set_data()\" doesn't work, and I can use the \"graph.set_3d_properties\" but that allows me new z coordinates only.  </p>\n\n<p>So i have cobbled together a cluuge-- (data i used is at \n<a href=\"https://www.kaggle.com/mariopasquato/star-cluster-simulations\" rel=\"noreferrer\">https://www.kaggle.com/mariopasquato/star-cluster-simulations</a> \nscroll to bottom)</p>\n\n<p>Also I am only plotting 100 points (data=data[data.id&lt;100])</p>\n\n<p>My (working) code is as follows:</p>\n\n<pre><code>def update_graph(num):\n     ax = p3.Axes3D(fig)\n     ax.set_xlim3d([-5.0, 5.0])\n     ax.set_xlabel('X')\n     ax.set_ylim3d([-5.0, 5.0])\n     ax.set_ylabel('Y')\n     ax.set_zlim3d([-5.0, 5.0])\n     ax.set_zlabel('Z')\n     title='3D Test, Time='+str(num*100)\n     ax.set_title(title)\n     sample=data0[data0['time']==num*100]\n     x=sample.x\n     y=sample.y\n     z=sample.z\n     graph=ax.scatter(x,y,z)\n     return(graph)\n\nfig = plt.figure()\nax = p3.Axes3D(fig)\n\n# Setting the axes properties\nax.set_xlim3d([-5.0, 5.0])\nax.set_xlabel('X')\nax.set_ylim3d([-5.0, 5.0])\nax.set_ylabel('Y')\nax.set_zlim3d([-5.0, 5.0])\nax.set_zlabel('Z')\nax.set_title('3D Test')\ndata=data0[data0['time']==0]\nx=data.x\ny=data.y\nz=data.z\ngraph=ax.scatter(x,y,z)\n\n# Creating the Animation object\nline_ani = animation.FuncAnimation(fig, update_graph, 19, \n                               interval=350, blit=False)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "screen-scraping"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7399077, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nssM_EFpQjk/AAAAAAAAAAI/AAAAAAAACtA/35Cll3yxyr0/photo.jpg?sz=128", "display_name": "Sergei Lutchenko", "link": "https://stackoverflow.com/users/7399077/sergei-lutchenko"}, "edited": false, "score": 0, "creation_date": 1484224319, "post_id": 41602748, "comment_id": 70427824, "body": "Now I understand, a problem is in that element goes after &lt;/head&gt; at &lt;frameset&gt;, so it can&#39;t find it. Do you know how to locate there?"}, {"owner": {"reputation": 1, "user_id": 7399077, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nssM_EFpQjk/AAAAAAAAAAI/AAAAAAAACtA/35Cll3yxyr0/photo.jpg?sz=128", "display_name": "Sergei Lutchenko", "link": "https://stackoverflow.com/users/7399077/sergei-lutchenko"}, "edited": false, "score": 0, "creation_date": 1484225164, "post_id": 41602748, "comment_id": 70428391, "body": "Problem solved with self.driver.switch_to_frame(name)."}], "tags": [], "owner": {"reputation": 13, "user_id": 7389524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a98dd5786f2eb083c471938d1a74f3?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry Gilmore", "link": "https://stackoverflow.com/users/7389524/gerry-gilmore"}, "is_accepted": false, "score": 0, "last_activity_date": 1484177809, "creation_date": 1484177809, "answer_id": 41602748, "question_id": 41602539, "link": "https://stackoverflow.com/questions/41602539/click-on-element-in-dropdown-with-selenium-and-python/41602748#41602748", "title": "Click on element in dropdown with Selenium and Python", "body": "<p>I would suggest not using xpath here. Try, instead, something like this:</p>\n\n<pre><code> select = Select(self.driver.find_element_by_id('periodoExtrato'))\n option_indexes = range(1, len(select.options))\n for index in option_indexes:\n    select.select_by_index(index)\n    ......\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7399077, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nssM_EFpQjk/AAAAAAAAAAI/AAAAAAAACtA/35Cll3yxyr0/photo.jpg?sz=128", "display_name": "Sergei Lutchenko", "link": "https://stackoverflow.com/users/7399077/sergei-lutchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1484313099, "creation_date": 1484313099, "answer_id": 41635424, "question_id": 41602539, "link": "https://stackoverflow.com/questions/41602539/click-on-element-in-dropdown-with-selenium-and-python/41635424#41635424", "title": "Click on element in dropdown with Selenium and Python", "body": "<p>A problem is that element goes after <code>&lt;/head&gt;</code> in <code>&lt;frameset&gt;</code>, so selenium  can't find it. After adding this string problem solved.</p>\n\n<pre><code>browser.switch_to_frame('name')\n</code></pre>\n\n<p>And after that </p>\n\n<pre><code>self.driver.find_element_by_xpath('//[@id=\"periodoExtrato\"]/option[4]').click()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7399077, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nssM_EFpQjk/AAAAAAAAAAI/AAAAAAAACtA/35Cll3yxyr0/photo.jpg?sz=128", "display_name": "Sergei Lutchenko", "link": "https://stackoverflow.com/users/7399077/sergei-lutchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1484313099, "creation_date": 1484176631, "last_edit_date": 1484312867, "question_id": 41602539, "link": "https://stackoverflow.com/questions/41602539/click-on-element-in-dropdown-with-selenium-and-python", "title": "Click on element in dropdown with Selenium and Python", "body": "<p><strong>With Selenium and Chrome webdriver on MacOS need to click dropdown element. But always have an error that can't find. Have this html code on a page where it located:</strong></p>\n\n<pre><code>&lt;select id=\"periodoExtrato\" name=\"periodoExtrato\" class=\"EXTtexto\" onchange=\"enviarExtrato(document.formperiodo.periodoExtrato[document.formperiodo.periodoExtrato.selectedIndex].value);\"&gt;\n&lt;!--&lt;option value=\"01\" &gt;&amp;Uacute;ltimo dia&lt;/option&gt;--&gt;\n&lt;option value=\"03\" selected=\"true\"&gt;\u00daltimos 3 dias&lt;/option&gt;\n&lt;option value=\"05\"&gt;\u00daltimos 5 dias&lt;/option&gt;\n&lt;option value=\"07\"&gt;\u00daltimos 7 dias&lt;/option&gt;\n&lt;option value=\"15\"&gt;\u00daltimos 15 dias&lt;/option&gt;\n&lt;option value=\"30\"&gt;\u00daltimos 30 dias&lt;/option&gt;\n&lt;option value=\"X\"&gt;Data espec\u00edfica (at\u00e9 60 dias)&lt;/option&gt;\n&lt;option value=\"D\"&gt;M\u00eas completo (desde 2002)&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>I need to choose \u00daltimos 15 dias, so i have this code:</strong></p>\n\n<pre><code>self.driver.find_element_by_xpath('//[@id=\"periodoExtrato\"]/option[4]').click()\n</code></pre>\n\n<p><strong>But have an error:</strong></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"olxscrape.py\", line 120, in &lt;module&gt;\n    main()\n  File \"olxscrape.py\", line 117, in main\n    b = Bot()\n  File \"olxscrape.py\", line 12, in __init__\n    self.navigate()\n  File \"olxscrape.py\", line 106, in navigate\n    self.driver.find_element_by_xpath('//*[@id=\"periodoExtrato\"]/option[4]').click()\n  File \"/Users/Lutchenko/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 293, in find_element_by_xpath\n    return self.find_element(by=By.XPATH, value=xpath)\n  File \"/Users/Lutchenko/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 752, in find_element\n    'value': value})['value']\n  File \"/Users/Lutchenko/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 236, in execute\n    self.error_handler.check_response(response)\n  File \"/Users/Lutchenko/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 192, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//*[@id=\"periodoExtrato\"]/option[4]\"}\n  (Session info: chrome=55.0.2883.95)\n  (Driver info: chromedriver=2.27.440174 (e97a722caafc2d3a8b807ee115bfb307f7d2cfd9),platform=Mac OS X 10.12.2 x86_64)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "datetime"], "comments": [{"owner": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1484178084, "post_id": 41602537, "comment_id": 70408028, "body": "One approach that comes to mind is to use <code>date.weekday()</code> - <a href=\"https://docs.python.org/2/library/datetime.html#datetime.date.weekday\" rel=\"nofollow noreferrer\">docs.python.org/2/library/datetime.html#datetime.date.weekda&zwnj;&#8203;y</a>. You can count the number of times that this function returns 0 (Monday) thru 4 (Friday)."}, {"owner": {"reputation": 2273, "user_id": 3339058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e83b11d2c7358ba0a1512054b6c220?s=128&d=identicon&r=PG&f=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/3339058/javier"}, "edited": false, "score": 0, "creation_date": 1484179692, "post_id": 41602537, "comment_id": 70408530, "body": "<code>startdate = datetime.date(2017, int(month), int(day))</code>"}, {"owner": {"reputation": 6021, "user_id": 3688648, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/migGL.jpg?s=128&g=1", "display_name": "Felk", "link": "https://stackoverflow.com/users/3688648/felk"}, "edited": false, "score": 0, "creation_date": 1484182118, "post_id": 41602537, "comment_id": 70409160, "body": "2017-1-11 to 2017-2-21 are 6 weeks though, not 7"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4415944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KqnSI.png?s=128&g=1", "display_name": "deathstroke", "link": "https://stackoverflow.com/users/4415944/deathstroke"}, "is_accepted": false, "score": 0, "last_activity_date": 1484178318, "creation_date": 1484178318, "answer_id": 41602822, "question_id": 41602537, "link": "https://stackoverflow.com/questions/41602537/calculate-how-many-weeks-make-up-30-weekdays/41602822#41602822", "title": "Calculate how many weeks make up 30 weekdays?", "body": "<pre><code>print datetime.datetime.isocalendar(enddate)[1] - datetime.datetime.isocalendar(startdate)[1]\n</code></pre>\n\n<p>This statement gives you correct answers if the weekday is Monday! You should think a little bit different considering this condition <strong>The start day can be any day of the week day.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 6021, "user_id": 3688648, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/migGL.jpg?s=128&g=1", "display_name": "Felk", "link": "https://stackoverflow.com/users/3688648/felk"}, "is_accepted": false, "score": 1, "last_activity_date": 1484530315, "last_edit_date": 1484530315, "creation_date": 1484181678, "answer_id": 41603313, "question_id": 41602537, "link": "https://stackoverflow.com/questions/41602537/calculate-how-many-weeks-make-up-30-weekdays/41603313#41603313", "title": "Calculate how many weeks make up 30 weekdays?", "body": "<p>one approach would be to just simulate walking over each day, except cancelling out multiples of 5 (whole weeks) beforehand</p>\n\n<pre><code>def end_by_weekdays(start, weekdays):\n    weeks, weekdays = divmod(weekdays, 5)\n    days = 0\n    startday = start.weekday()\n    while weekdays &gt; 0:\n        days += 1\n        if (startday + days) % 7 &lt; 5:\n            weekdays -= 1\n    return start + timedelta(days=days + 7*weeks)\n</code></pre>\n\n<p>This outputs the following:</p>\n\n<pre><code>&gt;&gt;&gt; end_by_weekdays(date(2017,1,11), 30)\ndatetime.date(2017, 2, 22)\n</code></pre>\n\n<p>Note that it outputs the 22nd insteaf of your expected date, which was the 21st, because I treated the starting date exclusive. Easy enough to change though if you want to.</p>\n\n<p>You can then use this date to see how many weeks it takes</p>\n\n<pre><code>&gt;&gt;&gt; start = date(2017,1,11)\n&gt;&gt;&gt; (end_by_weekdays(start, 30) - start).days / 7\n6.0\n</code></pre>\n\n<p>or have <code>end_by_weekdays()</code> return the number of days directly to avoid this back-and-forth.</p>\n\n<p><em>Note</em>: I used Python 3 in my code. So that last example will do an integer division on Python 2 and just output <code>6</code></p>\n"}], "owner": {"reputation": 773, "user_id": 6009031, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a59459350b0e6b9695e6df6adb1ccf9f?s=128&d=identicon&r=PG&f=1", "display_name": "tempomax", "link": "https://stackoverflow.com/users/6009031/tempomax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1484530315, "creation_date": 1484176627, "last_edit_date": 1484178212, "question_id": 41602537, "link": "https://stackoverflow.com/questions/41602537/calculate-how-many-weeks-make-up-30-weekdays", "title": "Calculate how many weeks make up 30 weekdays?", "body": "<p>Getting dates accurate is always tricky. I want to know how many weeks it takes to encapsulate 30 <strong>week days</strong>. The start day can be any day of the <strong>week day</strong>. <em>Weekends CANNOT be counted.</em></p>\n\n<p>For example, if I start on <strong>1/11/2017</strong>, then for 30 week days (inclusive of starting date), the end date is <strong>2/21/2017</strong>. That means it takes <strong>7 weeks</strong>. </p>\n\n<hr>\n\n<p><em>This is what I've tried:</em></p>\n\n<p>Since <code>datetime.isocalendar()</code> can be used to determine the week number in the year, my idea is to take something along the lines of:</p>\n\n<p><code>datetime.isocalendar(enddate) - datetime.isocalendar(startdate)</code>. </p>\n\n<p><em>But I believe my enddate calculation is wrong so I am getting weird numbers:</em></p>\n\n<pre><code>import datetime\ndef doit(month, day):\n    startdate = datetime.datetime.strptime(\"2017-%s-%s\" % (month,day),\"%Y-%m-%d\")\n    enddate = startdate + datetime.timedelta(days=41)    \n    print datetime.datetime.isocalendar(enddate)[1] - datetime.datetime.isocalendar(startdate)[1]\n</code></pre>\n\n<p>I do <code>days=41</code> because each week has two weekends that we're not counting, so since 30 weekdays is normally 6 weeks, that means 6*2 + 30 = 42 days total. But since we're counting the starting date, we only add  <code>42-1=41</code> days.</p>\n\n<p>Why am I getting incorrect numbers? For example, if you input the dates I listed above (<code>doit(1,11)</code>), I'll get <code>6</code> weeks which is not correct.</p>\n"}, {"tags": ["python", "python-2.7", "postgresql", "psycopg2", "postgresql-9.3"], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 4641482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/806725503/picture?type=large", "display_name": "D_C", "link": "https://stackoverflow.com/users/4641482/d-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1484255679, "creation_date": 1484255679, "answer_id": 41623108, "question_id": 41602531, "link": "https://stackoverflow.com/questions/41602531/create-postgres-function-in-python/41623108#41623108", "title": "Create Postgres function in Python", "body": "<p>It turns out that the error was just outside of the provided code snippet. Postgre has the geometry type inside of the public schema and when I defined the search path for this code, I only defined the schema in which I was working; public was not included. So....</p>\n\n<pre><code>pg_cursor.execute('set search_path =  %s, public' % (schema))\npg_connection.commit()\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 4641482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/806725503/picture?type=large", "display_name": "D_C", "link": "https://stackoverflow.com/users/4641482/d-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 990, "favorite_count": 0, "accepted_answer_id": 41623108, "answer_count": 1, "score": 1, "last_activity_date": 1515479069, "creation_date": 1484176590, "last_edit_date": 1515479069, "question_id": 41602531, "link": "https://stackoverflow.com/questions/41602531/create-postgres-function-in-python", "title": "Create Postgres function in Python", "body": "<p>I am creating trying to create a function inside Postgres from Python. My connection to postgres database uses Psycopg 2 and connects successfully in other instances. Code:</p>\n\n<pre><code>pg_cursor.execute('CREATE OR REPLACE FUNCTION %s.fix_geometry(geometry) \\\n    RETURNS SETOF geometry AS\\\n    $BODY$\\\n        SELECT geom the_geom\\\n        FROM \\\n                (\\\n                SELECT (st_dump(st_buffer(st_snaptogrid(st_makevalid(the_geom), 0.5), 0))).geom\\\n                FROM (SELECT geom the_geom FROM st_dump(st_snaptogrid($1, 0.5))) a\\\n                ) b\\\n        WHERE geometrytype(geom) = \\'POLYGON\\' AND st_area(geom) &gt;= 0.01;\\\n\n    $BODY$\\\n       LANGUAGE sql VOLATILE\\\n       COST 100\\\n       ROWS 1000;' %(schema)) #line 84\n\npg_connection.commit()\npg_cursor.execute('ALTER FUNCTION %s.fix_geometry(geometry) OWNER TO analysis' % (schema))\npg_connection.commit()\n</code></pre>\n\n<p>I get an error:</p>\n\n<blockquote>\n  <p>line 84, in <br>\n      ROWS 1000;' %(schema))<br>\n  ProgrammingError: type geometry does not exist</p>\n</blockquote>\n\n<p>When I run the code in pgAdmin it executes successfully. What am I missing?</p>\n\n<p>Python 2.7, Postgres 9.3</p>\n"}, {"tags": ["python", "django", "django-forms", "django-views"], "comments": [{"owner": {"reputation": 1064, "user_id": 4117381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/br0Y9.jpg?s=128&g=1", "display_name": "Ahmed Hosny", "link": "https://stackoverflow.com/users/4117381/ahmed-hosny"}, "edited": false, "score": 0, "creation_date": 1484179196, "post_id": 41602524, "comment_id": 70408365, "body": "you can override __init__\\ PtoRequestForm and in it add self.fields[&#39;user&#39;].widget.attrs[&#39;readonly&#39;] = True"}], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484179912, "post_id": 41603041, "comment_id": 70408596, "body": "Where exactly do I place this in my code? I&#39;ve tried several things like this and they either don&#39;t change anything or throw an error."}, {"owner": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484180385, "post_id": 41603041, "comment_id": 70408754, "body": "Awesome we&#39;re making progress. After doing this the field was grayed out but I could still select the drop down menu and change the user. Is this something to do with &#39;readonly&#39; maybe? Is there another attribute that would work so that the user couldn&#39;t even select the dropdown menu?"}, {"owner": {"reputation": 1064, "user_id": 4117381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/br0Y9.jpg?s=128&g=1", "display_name": "Ahmed Hosny", "link": "https://stackoverflow.com/users/4117381/ahmed-hosny"}, "reply_to_user": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484180737, "post_id": 41603041, "comment_id": 70408837, "body": "If you have to make it select element. you can add disabled attribute = True. The problem is that if you made this, it will not be sent back after submitting. You can change also the widget to textfield as follow. self.fields[&#39;user&#39;].widget=TextInput()"}, {"owner": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484180865, "post_id": 41603041, "comment_id": 70408878, "body": "Yeah that&#39;s what I was just reading. Could I disable it and just throw the user on in the backend after it&#39;s been submitted?"}, {"owner": {"reputation": 1064, "user_id": 4117381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/br0Y9.jpg?s=128&g=1", "display_name": "Ahmed Hosny", "link": "https://stackoverflow.com/users/4117381/ahmed-hosny"}, "reply_to_user": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484181025, "post_id": 41603041, "comment_id": 70408913, "body": "If you changed the widget to TextInput, you will not have to disable it and readonly attribute will do the job and it will be sent to the backend. If you decided to go through Selectbox, you have two options. If the user is attached to request, you can get access to this by request.user. If not, you will have to add a hidden field with the username."}, {"owner": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484181786, "post_id": 41603041, "comment_id": 70409082, "body": "I changed the widget to a TextInput and now when I try to save it says: Cannot assign &quot;&#39;FlashBanistan&#39;&quot;: &quot;PtoHistory.user&quot; must be a &quot;User&quot; instance. The user is a foreignkey field to my User model. Any idea on how to overcome this?"}, {"owner": {"reputation": 1064, "user_id": 4117381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/br0Y9.jpg?s=128&g=1", "display_name": "Ahmed Hosny", "link": "https://stackoverflow.com/users/4117381/ahmed-hosny"}, "reply_to_user": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484181987, "post_id": 41603041, "comment_id": 70409132, "body": "in form_valid function, you can get the user foreign key as form.fields[&#39;user&#39;] = User.objects.get(username=form.fields[&#39;user&#39;])"}, {"owner": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "edited": false, "score": 0, "creation_date": 1484235674, "post_id": 41603041, "comment_id": 70435791, "body": "Ahmed, sadly when I click submit it doesn&#39;t even make it into my form_valid function before it throws the error so I can&#39;t reassign the user field to self.request.user. I would be ok with just leaving that field out on the form that the user sees and adding it in the backend but every implementation of this I have tried fails."}], "tags": [], "owner": {"reputation": 1064, "user_id": 4117381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/br0Y9.jpg?s=128&g=1", "display_name": "Ahmed Hosny", "link": "https://stackoverflow.com/users/4117381/ahmed-hosny"}, "is_accepted": false, "score": 0, "last_activity_date": 1484180081, "last_edit_date": 1484180081, "creation_date": 1484179826, "answer_id": 41603041, "question_id": 41602524, "link": "https://stackoverflow.com/questions/41602524/how-do-i-make-a-form-field-read-only-or-otherwise-non-editable-in-a-django-gener/41603041#41603041", "title": "How do I make a form field read only or otherwise non editable in a django generic FormView?", "body": "<p>You can add it as follow:</p>\n\n<pre><code>class PtoRequestForm(forms.ModelForm):\n    class Meta:\n        # Model to be used in the form.\n        model = PtoHistory\n        # Define which model fields to include in the form.\n        fields = [\n            'user',\n            'start',\n            'end',\n            'leave_type',\n        ]\n        # Attach input widgets to fields for a friendlier user interface.\n        widgets = {\n            'start': DateTimeWidget(attrs={'id':'start'}, usel10n = True, bootstrap_version=3),\n            'end': DateTimeWidget(attrs={'id':'end'}, usel10n = True, bootstrap_version=3),}\n\n    def __init__(self, *args, **kwargs):\n         super(PtoRequestForm, self).__init__(*args, **kwargs)\n         self.fields['user'].widget.attrs['readonly'] = True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "is_accepted": true, "score": 0, "last_activity_date": 1484239314, "creation_date": 1484239314, "answer_id": 41618546, "question_id": 41602524, "link": "https://stackoverflow.com/questions/41602524/how-do-i-make-a-form-field-read-only-or-otherwise-non-editable-in-a-django-gener/41618546#41618546", "title": "How do I make a form field read only or otherwise non editable in a django generic FormView?", "body": "<p>In my model form I didn't include the 'user' field like so:</p>\n\n<p>forms.py:</p>\n\n<pre><code>class PtoRequestForm(forms.ModelForm):\n    class Meta:\n        # Model to be used in the form.\n        model = PtoHistory\n        # Define which model fields to include in the form.\n        fields = [\n            'start',\n            'end',\n            'leave_type',\n        ]\n        # Attach input widgets to fields for a friendlier user interface.\n        widgets = {\n            'start': DateTimeWidget(attrs={'id':'start'}, usel10n = True, bootstrap_version=3),\n            'end': DateTimeWidget(attrs={'id':'end'}, usel10n = True, bootstrap_version=3),\n        }\n</code></pre>\n\n<p>And then in my form_valid function I just attached the user who was currently logged in before I saved it to the database like so:</p>\n\n<p>views.py:</p>\n\n<pre><code>def form_valid(self, form):\n        new_form = form.save(commit=False)\n        new_form.user = self.request.user\n        new_form.save()\n        return super(IndexView, self).form_valid(form)\n</code></pre>\n"}], "owner": {"reputation": 396, "user_id": 5307472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/687324348035624/picture?type=large", "display_name": "FlashBanistan", "link": "https://stackoverflow.com/users/5307472/flashbanistan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 0, "accepted_answer_id": 41618546, "answer_count": 2, "score": 0, "last_activity_date": 1484239314, "creation_date": 1484176565, "question_id": 41602524, "link": "https://stackoverflow.com/questions/41602524/how-do-i-make-a-form-field-read-only-or-otherwise-non-editable-in-a-django-gener", "title": "How do I make a form field read only or otherwise non editable in a django generic FormView?", "body": "<p>I have a form that pre-populates the user field on page load with the currently logged in user. I would like to grey this field out so that the user can't change it to a user who isn't logged in. I would like for the user to be able to change the rest of the fields. I've tried using the <strong>init</strong> function on the model form and the view to no avail.  Any pointers would be appreciated.</p>\n\n<p>forms.py:</p>\n\n<pre><code>class PtoRequestForm(forms.ModelForm):\n    class Meta:\n        # Model to be used in the form.\n        model = PtoHistory\n        # Define which model fields to include in the form.\n        fields = [\n            'user',\n            'start',\n            'end',\n            'leave_type',\n        ]\n        # Attach input widgets to fields for a friendlier user interface.\n        widgets = {\n            'start': DateTimeWidget(attrs={'id':'start'}, usel10n = True, bootstrap_version=3),\n            'end': DateTimeWidget(attrs={'id':'end'}, usel10n = True, bootstrap_version=3),\n    }\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>class IndexView(FormView):\n    template_name = 'accounts/index.html'\n    form_class = PtoRequestForm\n    success_url = '/accounts'\n    # Pre-populates the form with the specified values on page load.\n    def get_initial(self):\n        return {'user': self.request.user}\n\n    # Function runs when form is submitted. Do whatever needed to the form before it's saved to the db.\n    def form_valid(self, form):\n        form.save()\n        return super(IndexView, self).form_valid(form)\n\n    # Function runs on page load. Gather any information needed for the template.\n    def get_context_data(self, **kwargs):\n        # Initialize context\n        context = super(IndexView, self).get_context_data(**kwargs)\n\n        # Grab all ptoHistory records from the database, selecting only the values desired.\n        pto_history = PtoHistory.objects.values('start', 'end', 'pk', 'user_id')\n        # Convert the django queryset to json so that fullcalendar can work with it on the frontend.\n        json_pto_history = json.dumps(list(pto_history), cls=DjangoJSONEncoder)\n        # Save the converted json to the context to be returned to the front end.\n        context['ptoHistory'] = json_pto_history\n        return context\n</code></pre>\n\n<p>Here is a screenshot of my form. The user shouldn't be able to change the user field but the rest of the fields are ok to change.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JOJW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOJW4.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "string", "python-3.x"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1484177342, "post_id": 41602513, "comment_id": 70407783, "body": "You&#39;re essentially asking &quot;what is the name of 0.&quot; This doesn&#39;t really have a good answer. It&#39;s technically possible to dig out a name by using some Python voodoo, but a value may have many names in many scopes and most of them will not be particularly useful. Suppose you write <code>c = [a]</code>. Now <code>c[0]</code> is a name for <code>0</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2989, "user_id": 6204900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4c88f41c450074eebb6fe844184601fe?s=128&d=identicon&r=PG&f=1", "display_name": "splinter", "link": "https://stackoverflow.com/users/6204900/splinter"}, "edited": false, "score": 0, "creation_date": 1484177196, "post_id": 41602593, "comment_id": 70407722, "body": "You are right, I want the NAME as a string. Is there no simple pythonic way to acheive this?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1484178327, "post_id": 41602593, "comment_id": 70408107, "body": "<code>a = b = c = d = e = 0</code>. Now you want a magic function that will take <code>0</code> and get a name for it. Which name do you want?"}], "tags": [], "owner": {"reputation": 260, "user_id": 6562308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MhM9s.gif?s=128&g=1", "display_name": "Jon Malachowski", "link": "https://stackoverflow.com/users/6562308/jon-malachowski"}, "is_accepted": true, "score": 1, "last_activity_date": 1484176888, "creation_date": 1484176888, "answer_id": 41602593, "question_id": 41602513, "link": "https://stackoverflow.com/questions/41602513/get-any-variable-into-string-format/41602593#41602593", "title": "Get any variable into string format?", "body": "<p>If I understand you correctly, you don't care about the value of the variable itself, you care about getting it's NAME as a string, storing it, and passing it around.  Most people who need to do stuff like that don't need to for primitives like integers (since you already know the name, you just wrote it), but they store the keys of hashes (python dictionaries). consider using python dictionaries, and key's for the larger solution.</p>\n"}], "owner": {"reputation": 2989, "user_id": 6204900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4c88f41c450074eebb6fe844184601fe?s=128&d=identicon&r=PG&f=1", "display_name": "splinter", "link": "https://stackoverflow.com/users/6204900/splinter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1484178805, "accepted_answer_id": 41602593, "answer_count": 1, "score": 0, "last_activity_date": 1484178248, "creation_date": 1484176529, "last_edit_date": 1484178248, "question_id": 41602513, "link": "https://stackoverflow.com/questions/41602513/get-any-variable-into-string-format", "closed_reason": "Duplicate", "title": "Get any variable into string format?", "body": "<p>In python3, I would like to do the following simple thing: given any variable, get its name as a string. That is, I would like some function, such that when the following code is run:</p>\n\n<pre><code>a = 0\nb = a.someFunction()\nprint(b)\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>'a'\n</code></pre>\n\n<p>Does python3 have this capability?</p>\n"}, {"tags": ["python", "lasagne"], "comments": [{"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1484184876, "post_id": 41602500, "comment_id": 70409793, "body": "What input data are you using that is <code>942x1x1x30</code>?"}, {"owner": {"reputation": 184, "user_id": 1521487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e60bbcea94320bd52c979b113bda85?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1521487/matthew"}, "reply_to_user": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1484234465, "post_id": 41602500, "comment_id": 70434872, "body": "It&#39;s really just 942 samples with 30 features each.  I thought from the examples that lasagne always wanted its data as (num_samples x channels x rows x columns).  Do you think the strange dimensions here could be throwing off the l2 regularization? Weird that everything else seems to work OK though, including the l1 regularizer."}, {"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1484237794, "post_id": 41602500, "comment_id": 70437424, "body": "The lasagne examples you&#39;re looking at are probably ones involving classifying images, which are represented as (channel, height, width). The first dimension is batch size.  So a typical input would be <code>(32, 3, 128, 128)</code>.  This would be 32 128x128 color images.  If your data is just 30 features, then the input can just be (batch_size, 30).  Without access to your data though it is hard to say whether or not this is the cause of your issue."}, {"owner": {"reputation": 184, "user_id": 1521487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e60bbcea94320bd52c979b113bda85?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1521487/matthew"}, "reply_to_user": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1484241298, "post_id": 41602500, "comment_id": 70439752, "body": "They are image classification examples. I haven&#39;t found many examples that aren&#39;t, actually. I&#39;ve dug a little deeper into this and found that the function <code>lasagne.regularization.l2</code> runs fine on a 30x10 numpy array, but when I give that function the 30x10 weight matrix of the hidden layer it errors out:  <code>&#39;&#47;usr&#47;local&#47;lib&#47;python2.7&#47;dist-packages&#47;lasagne&#47;regularizati&zwnj;&#8203;on.pyc in l2(x)       80         squared l2 norm (sum of squared values of elements)      81     &quot;&quot;&quot; --&gt; 82     return T.sum(x**2)      83   TypeError: unsupported operand type(s) for ** or pow(): &#39;CudaNdarray&#39; and &#39;int&#39;&#39;</code>"}, {"owner": {"reputation": 184, "user_id": 1521487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e60bbcea94320bd52c979b113bda85?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1521487/matthew"}, "reply_to_user": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1484241708, "post_id": 41602500, "comment_id": 70439967, "body": "Ignore my previous comment, I was giving it its arguments wrong when I generated that error message.  I&#39;m back to having no idea why this doesn&#39;t work.  Part of me is tempted to just switch over to dropout for regularization and be done with it, but another part is too stubborn."}, {"owner": {"reputation": 2569, "user_id": 2147347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e4iCE.jpg?s=128&g=1", "display_name": "malioboro", "link": "https://stackoverflow.com/users/2147347/malioboro"}, "edited": false, "score": 0, "creation_date": 1484891778, "post_id": 41602500, "comment_id": 70705868, "body": "what is your L2_reg_param value?"}], "owner": {"reputation": 184, "user_id": 1521487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e60bbcea94320bd52c979b113bda85?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1521487/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484176483, "creation_date": 1484176483, "question_id": 41602500, "link": "https://stackoverflow.com/questions/41602500/lasagne-l2-regularization-on-hidden-layer-returns-nan-from-loss-function", "title": "Lasagne: L2 regularization on hidden layer returns NaN from loss function", "body": "<p>I'm trying to put together a really simple 3-layer neural network in lasagne. 30 input neurons, 10-neuron hidden layer, 1-neuron output layer. I'm using the binary_crossentropy loss function and sigmoid nonlinearity. I want to put l1 regularization on the edges entering the output layer and l2 regularization on the edges from the input to the hidden layer. I'm using code very close to the example code on the regularization page of the lasagne documentation.</p>\n\n<p>The L1 regularization seems to work fine, but whenever I add the L2 regularization's penalty term to the loss function, it returns nan. Everything works fine when I remove the term  <code>l2_penalty * l2_reg_param</code> from the last line below. Additionally, I'm able to perform L1 regularization on the hidden layer <code>l_hid1</code> without any issues. </p>\n\n<p>This is my first foray into theano and lasagne so I feel like the error is probably something pretty simple but I just don't know enough to see it.</p>\n\n<p>Here's the net setup code:</p>\n\n<pre><code>l_in = lasagne.layers.InputLayer(shape=(942,1,1,30),input_var=input_var)\n\nl_hid1 = lasagne.layers.DenseLayer(l_in, num_units=10, nonlinearity=lasagne.nonlinearities.sigmoid, W=lasagne.init.GlorotUniform())\n\nnetwork = lasagne.layers.DenseLayer(l_hid1, num_units=1, nonlinearity=lasagne.nonlinearities.sigmoid)\n\nprediction = lasagne.layers.get_output(network)\n\nl2_penalty = regularize_layer_params(l_hid1, l2)\nl1_penalty = regularize_layer_params(network, l1)\n\nloss = lasagne.objectives.binary_crossentropy(prediction, target_var)\nloss = loss.mean()\nloss = loss + l1_penalty * l1_reg_param + l2_penalty * l2_reg_param\n</code></pre>\n\n<p>Any help would be greatly appreciated.  Thanks!!</p>\n"}, {"tags": ["python", "windows", "python-2.7", "zlib", "pillow"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1484179661, "post_id": 41602470, "comment_id": 70408520, "body": "Why are you using Pillow 2.7.0? I have Python 2.7.13 with Pillow 3.3.0 installed on a Windows 7 machine, with no zlib issues. Try using <code>pip install Pillow</code> from the command line to get the latest version and dependencies."}, {"owner": {"reputation": 1601, "user_id": 5900093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ac3f1e0e212aabaefe01f2eaeb4b408f?s=128&d=identicon&r=PG&f=1", "display_name": "Bird", "link": "https://stackoverflow.com/users/5900093/bird"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1484180206, "post_id": 41602470, "comment_id": 70408694, "body": "I tried using Pillow 2.7.0 because that was the only version I could find on the package index page that would install on my system (not sure why), and that version was the only one in zip format and ended up being the only way to get it to install at all. I tried <code>pip install Pillow</code> and got <code>Could not find a version that satisfies the requirement Pillow (from versions: ) No matching distribution found for Pillow</code>"}, {"owner": {"reputation": 1601, "user_id": 5900093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ac3f1e0e212aabaefe01f2eaeb4b408f?s=128&d=identicon&r=PG&f=1", "display_name": "Bird", "link": "https://stackoverflow.com/users/5900093/bird"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1484180800, "post_id": 41602470, "comment_id": 70408856, "body": "Just tried reinstalling with Pillow 3.3.0 after martineau&#39;s comment and got <code>ValueError: zlib is required unless explicitly disabled</code> Maybe pip installs zlib? I just tried <code>pip install zlib</code> and got the same error as my last comment."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1484180829, "post_id": 41602470, "comment_id": 70408866, "body": "The <a href=\"https://pillow.readthedocs.io/en/latest/installation.html#windows-installation\" rel=\"nofollow noreferrer\"><b><i>Windows Installation</i></b></a> section says &quot;We provide Pillow binaries for Windows compiled for the matrix of supported Pythons in both 32 and 64-bit versions in wheel, egg, and executable installers. These binaries have all of the optional libraries included:&quot; followed by <code>&gt; pip install Pillow</code> example command-line command. Try getting a version of Pillow from <a href=\"https://pypi.python.org/pypi/Pillow\" rel=\"nofollow noreferrer\">this part of pypi</a>."}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 11059335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc74e4c958511d8d2be333782fa7f6b?s=128&d=identicon&r=PG&f=1", "display_name": "Banginpadr", "link": "https://stackoverflow.com/users/11059335/banginpadr"}, "is_accepted": false, "score": 0, "last_activity_date": 1560462219, "creation_date": 1560462219, "answer_id": 56588930, "question_id": 41602470, "link": "https://stackoverflow.com/questions/41602470/how-do-i-install-zlib-for-python-2-7-pillow-on-windows/56588930#56588930", "title": "How do I install zlib for Python 2.7 Pillow on Windows?", "body": "<p>zlib is <a href=\"https://developer.android.com/ndk/guides/stable_apis#zlib\" rel=\"nofollow noreferrer\">already there</a> in the NDK.</p>\n\n<p>i was having the same problem. i have a note 8(samsung). just go to GitHub and install zlib from there, after that you will be avaible to install pillow.</p>\n"}], "owner": {"reputation": 1601, "user_id": 5900093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ac3f1e0e212aabaefe01f2eaeb4b408f?s=128&d=identicon&r=PG&f=1", "display_name": "Bird", "link": "https://stackoverflow.com/users/5900093/bird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3506, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560462219, "creation_date": 1484176356, "last_edit_date": 1495540911, "question_id": 41602470, "link": "https://stackoverflow.com/questions/41602470/how-do-i-install-zlib-for-python-2-7-pillow-on-windows", "title": "How do I install zlib for Python 2.7 Pillow on Windows?", "body": "<p>I am trying to run a Python script that calls PIL (via Pillow). The script works perfectly on my MacBook, but I want it to run on Windows as well. I get an error that \"decoder zip not available\" (see full output below). Searching the web led me to download zlib and reinstall Pillow (as described in <a href=\"https://stackoverflow.com/questions/3544155/about-the-pil-error-ioerror-decoder-zip-not-available\">this question</a>). Unfortunately I get the same exact error.  </p>\n\n<p><strong>My questions are:</strong><br>\nHow/where do I install zlib? I downloaded a zip file, couldn't find any direction on the zlib website nor elsewhere. I tried putting the unzipped zlib folder in the Python site-packages folder with Pillow. </p>\n\n<p>Am I missing something else that would give the error message? I'm surprised how difficult installing Pillow is.  </p>\n\n<p>Using Windows 7, Python 2.7, currently have Pillow 2.7.0 installed from zip file from <a href=\"https://pypi.python.org/pypi/Pillow/2.7.0\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/Pillow/2.7.0</a></p>\n\n<p><strong>The script:</strong> (Basically it should open an image in a window and allow the user to draw rectangles over the image).  </p>\n\n<pre><code>import Tkinter as tk  \nfrom Tkinter import *  \nimport tkMessageBox  \nfrom PIL import ImageTk, Image  \nimport subprocess  \n\ncrop_regions = []\npath = \"D:/Temp/OCR_test/K111PS_V5_2\"\n\nclass ImageCanvas(Frame):\n# This class creates a Tkinter canvas and displays the first video frame grab\ndef __init__(self, master):\n    Frame.__init__(self, master)\n    self.grid_rowconfigure(0, weight=1)\n    self.grid_columnconfigure(0, weight=1)\n    self.canvas = Canvas(self, width=720, height=480, bd=0, highlightthickness=0)\n    self.canvas.grid(row=0, column=0, sticky='nsew', padx=4, pady=4)\n\n\nclass ImgTk(tk.Tk):\n# This function asks the user to select portions of the first video frame grab that contain data to OCR\n# Coordinates of data field locations are saved as a global variable to be passed to the rest of the script\ndef __init__(self):\n    tk.Tk.__init__(self)\n    tkMessageBox.showinfo(\n        message=\"On the following image, draw rectangles over the desired fields: \\nlatitude, longitude, date, time and other \\nin that order. \\nClose the image window when finished\")\n    self.main = ImageCanvas(self)\n    self.main.grid(row=0, column=0, sticky='nsew')\n    self.c = self.main.canvas\n\n    self.currentImage = {}\n    self.load_imgfile(path + '/images/0029.png')\n\n    self.c.bind('&lt;ButtonPress-1&gt;', self.click_down)\n    self.c.bind('&lt;B1-Motion&gt;', self.click_drag)\n    self.c.bind('&lt;ButtonRelease-1&gt;', self.rectangles)\n\ndef load_imgfile(self, filename):\n    self.img = Image.open(filename)\n    self.currentImage['data'] = self.img\n\n    self.photo = ImageTk.PhotoImage(self.img)\n    self.c.xview_moveto(0)\n    self.c.yview_moveto(0)\n    self.c.create_image(0, 0, image=self.photo, anchor='nw', tags='img')\n    self.c.config(scrollregion=self.c.bbox('all'))\n    self.currentImage['photo'] = self.photo\n    self.title(\"Draw rectangles\")\n\ndef click_down(self, event):\n    self.anchor = (event.widget.canvasx(event.x),\n                   event.widget.canvasy(event.y))\n    self.item = None\n\ndef click_drag(self, event):\n    selected_box = self.anchor + (event.widget.canvasx(event.x), event.widget.canvasy(event.y))\n    if self.item is None:\n        self.item = event.widget.create_rectangle(selected_box, outline=\"red3\", width=2.1)\n    else:\n        event.widget.coords(self.item, *selected_box)\n\ndef rectangles(self, event):\n    if self.item:\n        self.click_drag(event)\n        box = tuple((int(round(v)) for v in event.widget.coords(self.item)))\n        roi = self.currentImage['data'].crop(box)  # region of interest\n        lat = roi.size[0], ':', roi.size[1], ':', box[0], ':', box[1]\n        lat = str(lat)\n        lat = lat.replace(',', '')\n        lat = lat.replace(\"'\", '')\n        lat = lat.replace(' ', '')\n        global crop_regions\n        crop_regions.append(lat)\n\napp = ImgTk()\napp.mainloop()  \n</code></pre>\n\n<p><strong>Error message:</strong>  </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:/Scripts/DaileyScripts/Python/OCR/PIL_test.py\", line 81, in &lt;module&gt;\n    app = ImgTk()\n  File \"D:/Scripts/DaileyScripts/Python/OCR/PIL_test.py\", line 37, in __init__\nself.load_imgfile(path + '/images/0029.png')\n  File \"D:/Scripts/DaileyScripts/Python/OCR/PIL_test.py\", line 47, in load_imgfile\nself.photo = ImageTk.PhotoImage(self.img)\n  File \"build\\bdist.win-amd64\\egg\\PIL\\ImageTk.py\", line 115, in __init__\nself.paste(image)\n  File \"build\\bdist.win-amd64\\egg\\PIL\\ImageTk.py\", line 165, in paste\nim.load()\n  File \"build\\bdist.win-amd64\\egg\\PIL\\ImageFile.py\", line 200, in load\nd = Image._getdecoder(self.mode, d, a, self.decoderconfig)\n  File \"build\\bdist.win-amd64\\egg\\PIL\\Image.py\", line 417, in _getdecoder\nraise IOError(\"decoder %s not available\" % decoder_name)\nIOError: decoder zip not available\n</code></pre>\n\n<p>The modules seem to work otherwise, i.e. I can call them without error.</p>\n"}, {"tags": ["python", "regex", "list", "iteration", "sequence"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484536231, "post_id": 41602469, "comment_id": 70535845, "body": "<code>random.choice[baglist]</code> =&gt; <code>random.choice(baglist)</code>"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484536453, "post_id": 41602469, "comment_id": 70535886, "body": "What is the point of starting the search from the beginning again, if it was not found the first time? Or am I misunderstanding what you want to do?"}, {"owner": {"reputation": 251, "user_id": 7328277, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3CCcf.jpg?s=128&g=1", "display_name": "ColeWorld", "link": "https://stackoverflow.com/users/7328277/coleworld"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484536536, "post_id": 41602469, "comment_id": 70535908, "body": "@PaulRooney I just made this example to make the reading simpler,  in my situation the bags will actually be urls that I want to monitor. Instead of making a different script to see if &quot;rice&quot; is in the xml of the url, I want to put it all in one script. Cycle through the urls until I get a hit"}, {"owner": {"reputation": 10793, "user_id": 488784, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7518909259cc80c14d7a9dd36a66a518?s=128&d=identicon&r=PG", "display_name": "bozdoz", "link": "https://stackoverflow.com/users/488784/bozdoz"}, "edited": false, "score": 1, "creation_date": 1484536630, "post_id": 41602469, "comment_id": 70535931, "body": "Is something not working in this script?  Also, if &#39;rice&#39; is not found, won&#39;t it be an infinite loop?"}, {"owner": {"reputation": 251, "user_id": 7328277, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3CCcf.jpg?s=128&g=1", "display_name": "ColeWorld", "link": "https://stackoverflow.com/users/7328277/coleworld"}, "reply_to_user": {"reputation": 10793, "user_id": 488784, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7518909259cc80c14d7a9dd36a66a518?s=128&d=identicon&r=PG", "display_name": "bozdoz", "link": "https://stackoverflow.com/users/488784/bozdoz"}, "edited": false, "score": 0, "creation_date": 1484536892, "post_id": 41602469, "comment_id": 70535978, "body": "@bozdoz No, eventually <code>bigbag1</code> or <code>bigbag2</code> will randomly select <code>ricebag</code> which will make the <code>if</code> statement true, breaking the loop and printing <code>yum</code> ... I just need to know how to continue searching through the bags until the if statement is true"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484537056, "post_id": 41602469, "comment_id": 70536011, "body": "no it wont because you only do the <code>random.choice</code> calls once, outside the loop so they will never add <code>ricebag</code> unless its done the first time. It sounds like a screwy algorithm choice. In theory even if it was in the loop it might never select <code>rice</code> or it might not for a very long time."}, {"owner": {"reputation": 251, "user_id": 7328277, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3CCcf.jpg?s=128&g=1", "display_name": "ColeWorld", "link": "https://stackoverflow.com/users/7328277/coleworld"}, "edited": false, "score": 0, "creation_date": 1484537347, "post_id": 41602469, "comment_id": 70536070, "body": "Well this is only a simulation, I am truly looking for a way to loop through the  <code>bags</code> until <code>rice</code> is found. Not trying to sound snotty but does that make sense?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484537879, "post_id": 41602469, "comment_id": 70536192, "body": "I think we need to get to the root of the problem you are trying to solve. It sounds to me like you have an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. If we can get past the issue with your solution and address the issue of your problem, we can get somewhere. Does that make sense?"}], "answers": [{"tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": false, "score": 0, "last_activity_date": 1484537827, "creation_date": 1484537827, "answer_id": 41669083, "question_id": 41602469, "link": "https://stackoverflow.com/questions/41602469/sequentially-running-through-lists-in-python/41669083#41669083", "title": "Sequentially Running through lists in Python", "body": "<p>Not sure I understood your question, but nevertheless this is how you loop a number of lists over and over again:</p>\n\n<pre><code>from itertools import chain, cycle\n\na = range(5)\nb = range(10, 14)\nc = range(100, 107)\n\nfor item in cycle(chain(a, b, c)):\n    print item\n</code></pre>\n\n<p>This loops infinitely, but you can add your condition in a loop to break it eventually.    </p>\n"}], "owner": {"reputation": 251, "user_id": 7328277, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3CCcf.jpg?s=128&g=1", "display_name": "ColeWorld", "link": "https://stackoverflow.com/users/7328277/coleworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484537827, "creation_date": 1484176355, "last_edit_date": 1484537226, "question_id": 41602469, "link": "https://stackoverflow.com/questions/41602469/sequentially-running-through-lists-in-python", "title": "Sequentially Running through lists in Python", "body": "<p>How can I tell python to run through a list sequentially, running the same function (in this case searching for the bag with 'rice'), and if the bag with rice is not found, start from <code>bag1</code> again and begin searching every bag from bag1-bigbag2. My example:</p>\n\n<pre><code>import random\nbag1 = \"bag of chips\"\nbag2 = \"bag of cookies\"\nbag3 = \"bag of cheetos\"\nricebag = \"bag of rice\"\n\nbaglist = [bag1, bag2, bag3, ricebag]\nbigbag1 = random.choice(baglist)\n\nbags =[bag1, bag2, bag3, bigbag1]\nrice = False\nwhile not rice:\n    for bag in bags:\n        if ' rice' in bag:\n            print('rice found')\n            rice = True\n            break\nprint('yum')        \n</code></pre>\n\n<p>End goal is to continue searching through the bags sequentially until the <code>if</code> statement is true. In a real example the <code>bags</code> represent urls in which I am parsing through, <code>rice</code> being the keyword I am searching for in the urls. The urls are changing so eventually <code>rice</code> will be uploaded to the url and the loop will break.</p>\n"}, {"tags": ["python", "pygame", "kivy"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1484180062, "post_id": 41602417, "comment_id": 70408650, "body": "Can you <code>import</code> either one in a .py script run from the command line?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484229128, "post_id": 41602417, "comment_id": 70431053, "body": "you may have installed many Pythons - Mac should have installed default one and you use Anaconda in PyCharm. Maybe you installed PyGame for different version than you use in PyCharm."}], "answers": [{"comments": [{"owner": {"reputation": 1556, "user_id": 611716, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/f4i2e.jpg?s=128&g=1", "display_name": "Frecklefoot", "link": "https://stackoverflow.com/users/611716/frecklefoot"}, "edited": false, "score": 0, "creation_date": 1518879833, "post_id": 41603281, "comment_id": 84689407, "body": "I&#39;ve been banging my head against the wall trying to get this to work. Thanks, man!"}, {"owner": {"reputation": 121, "user_id": 5373702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afc5189745403142f2e176555b22ec1?s=128&d=identicon&r=PG&f=1", "display_name": "gom1", "link": "https://stackoverflow.com/users/5373702/gom1"}, "reply_to_user": {"reputation": 1556, "user_id": 611716, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/f4i2e.jpg?s=128&g=1", "display_name": "Frecklefoot", "link": "https://stackoverflow.com/users/611716/frecklefoot"}, "edited": false, "score": 0, "creation_date": 1533146114, "post_id": 41603281, "comment_id": 90243390, "body": "@Frecklefoot, super late on the reply but glad it helped!"}], "tags": [], "owner": {"reputation": 121, "user_id": 5373702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afc5189745403142f2e176555b22ec1?s=128&d=identicon&r=PG&f=1", "display_name": "gom1", "link": "https://stackoverflow.com/users/5373702/gom1"}, "is_accepted": false, "score": 1, "last_activity_date": 1484181470, "creation_date": 1484181470, "answer_id": 41603281, "question_id": 41602417, "link": "https://stackoverflow.com/questions/41602417/no-module-pygame-in-pycharm/41603281#41603281", "title": "no module pygame in Pycharm", "body": "<p>To ensure proper setup, you can download pygame from PyCharm directly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0q2LF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0q2LF.png\" alt=\"Add a the PyGame package by clicking the &#39;+&#39; button\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FbDB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FbDB9.png\" alt=\"Enter PyGame and press &#39;Install Package&#39;\"></a></p>\n\n<p>You should now be able to import pygame and use them in your scripts.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7385095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce195713d5bcd5be5119941dab0dafeb?s=128&d=identicon&r=PG", "display_name": "asadullahpranto", "link": "https://stackoverflow.com/users/7385095/asadullahpranto"}, "is_accepted": false, "score": 0, "last_activity_date": 1610518574, "creation_date": 1610518574, "answer_id": 65696608, "question_id": 41602417, "link": "https://stackoverflow.com/questions/41602417/no-module-pygame-in-pycharm/65696608#65696608", "title": "no module pygame in Pycharm", "body": "<p>For pycharm:</p>\n<p>Go to:</p>\n<ol>\n<li>File</li>\n<li>Settings</li>\n<li>Project: Project_Name</li>\n<li>Click the '+' icon (located on the bottom side).\nThen will Appear new window.</li>\n<li>Search pygame on this window</li>\n<li>Then click 'Install Package'</li>\n<li>close the window and run your code.</li>\n</ol>\n"}], "owner": {"reputation": 27, "user_id": 6245386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ceb86d14465386c82f3eb462c0416298?s=128&d=identicon&r=PG&f=1", "display_name": "Kati Dev", "link": "https://stackoverflow.com/users/6245386/kati-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6362, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1610518574, "creation_date": 1484176147, "question_id": 41602417, "link": "https://stackoverflow.com/questions/41602417/no-module-pygame-in-pycharm", "title": "no module pygame in Pycharm", "body": "<p>I try to work for the first time with Kivy, I install it but when I run the program I have this error message:\n<a href=\"https://i.stack.imgur.com/n0jfQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0jfQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And I try to install pygame, but I still have the same error:\n<a href=\"https://i.stack.imgur.com/LRwZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LRwZE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any help please?</p>\n"}, {"tags": ["python", "matplotlib", "lambda", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1484176240, "post_id": 41602376, "comment_id": 70407384, "body": "It is unrelated to using lambda. There should be no difference at all. There must be something else going on that is causing the behavior you see. The best think you can do is to create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete and Verifiable example</a> to narrow down the problem."}, {"owner": {"reputation": 11, "user_id": 5394501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de5a8302078478d91e12191819ccf26?s=128&d=identicon&r=PG&f=1", "display_name": "B. Buysschaert", "link": "https://stackoverflow.com/users/5394501/b-buysschaert"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1484176481, "post_id": 41602376, "comment_id": 70407481, "body": "Thanks!  At least I now know that the lambda function is not to blame.  I will try to narrow down the issue by looking within my on_key_event."}, {"owner": {"reputation": 11, "user_id": 5394501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de5a8302078478d91e12191819ccf26?s=128&d=identicon&r=PG&f=1", "display_name": "B. Buysschaert", "link": "https://stackoverflow.com/users/5394501/b-buysschaert"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1484213876, "post_id": 41602376, "comment_id": 70420765, "body": "It seemed to be related to where I exactly call the mpl_connect.  I had placed it with the redrawing instance, creating a new mpl_connect every time I had updated the figure.  While this did not provide any issues without the lambda function, it did when including the lambda function.  The issue now seems to be resolved by calling the mpl_connect somewhere else (outside of the updating instance or the on_key_event)."}], "owner": {"reputation": 11, "user_id": 5394501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de5a8302078478d91e12191819ccf26?s=128&d=identicon&r=PG&f=1", "display_name": "B. Buysschaert", "link": "https://stackoverflow.com/users/5394501/b-buysschaert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484175960, "creation_date": 1484175960, "last_edit_date": 1495542278, "question_id": 41602376, "link": "https://stackoverflow.com/questions/41602376/lambda-function-in-mpl-connect-multiplies-input-keystroke", "title": "lambda function in mpl_connect multiplies input keystroke?", "body": "<p>Following <a href=\"https://stackoverflow.com/questions/24960910/how-can-i-pass-parameters-to-on-key-in-fig-canvas-mpl-connectkey-press-event\">this example</a> I tried to use a lambda function to pass my controller of my Tkinter widget through mpl_connect, located at a different frame (as the controller contains some general variables).  Although I did not change the code (except adjusting for the passed through controller in the appropriate instances within the frame), my on_key_event function now behaves quite differently.</p>\n\n<p>The old version, where I call mpl_connect without the lambda function behaves normally.  Each key stroke calls the on_key_event instance only once.</p>\n\n<pre><code>self.canvas.mpl_connect('key_press_event', self.on_key_event)\n</code></pre>\n\n<p>The new version, where I attempt to pass through the controller to on_key_event with the lambda function behaves quite differently.  Each key stroke seems to call the on_key_event instance multiple times (seemingly a random number smaller than 10).</p>\n\n<pre><code>self.canvas.mpl_connect('key_press_event', lambda event: self.on_key_event(event, controller))\n</code></pre>\n\n<p>Is this related to the lambda function behaving slightly different than I am expecting?  A wrong syntax?  Something differently because of the matplotlib figure embedded within Tkinter?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1484176223, "post_id": 41602331, "comment_id": 70407379, "body": "what are you trying to accomplish? do you want the columns&#39; positions in the list of columns? Why can&#39;t you use the list comprehension you gave in your question?"}, {"owner": {"reputation": 336, "user_id": 6411264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b6da9faea5a6ec9f25c4cca74a18ccf6?s=128&d=identicon&r=PG&f=1", "display_name": "UberStuper", "link": "https://stackoverflow.com/users/6411264/uberstuper"}, "reply_to_user": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1484176389, "post_id": 41602331, "comment_id": 70407442, "body": "bah, sorry there was a typo in the question. but yes the indexes or positions of the columns in the dataframe, currently using a list comprehension to do it, but since colnames is an iterable there should be a way to use map or apply ?"}], "answers": [{"comments": [{"owner": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 2, "creation_date": 1484176497, "post_id": 41602471, "comment_id": 70407492, "body": "if using python3 you&#39;d want to wrap it in with <code>list()</code>: <code>list(map(lambda col: data.columns.get_loc(col), colnames))</code>"}], "tags": [], "owner": {"reputation": 36, "user_id": 7401139, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154874739198767/picture?type=large", "display_name": "loveboat", "link": "https://stackoverflow.com/users/7401139/loveboat"}, "is_accepted": true, "score": 1, "last_activity_date": 1484176360, "creation_date": 1484176360, "answer_id": 41602471, "question_id": 41602331, "link": "https://stackoverflow.com/questions/41602331/using-map-or-apply-to-get-multiple-indexes-of-columns-using-a-list-of-column-nam/41602471#41602471", "title": "using map or apply to get multiple indexes of columns using a list of column names", "body": "<p>I'm not sure why you don't want to use the list comprehension\u2014I prefer it for readability\u2014but yes it can be written as a map:</p>\n\n<pre><code>map(lambda col: data.columns.get_loc(col), colnames)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1484177052, "last_edit_date": 1484177052, "creation_date": 1484176552, "answer_id": 41602517, "question_id": 41602331, "link": "https://stackoverflow.com/questions/41602331/using-map-or-apply-to-get-multiple-indexes-of-columns-using-a-list-of-column-nam/41602517#41602517", "title": "using map or apply to get multiple indexes of columns using a list of column names", "body": "<p>That works just fine, but this is what <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.searchsorted.html\" rel=\"nofollow noreferrer\"><code>searchsorted</code></a> is for:</p>\n\n<pre><code>def get_all_locs(index, x):\n    v = index.values\n    a = v.argsort()\n    i = a.argsort()\n    return a[v[a].searchsorted(x)]\n\nget_all_locs(data.columns, colnames)\n\narray([1, 3])\n</code></pre>\n"}], "owner": {"reputation": 336, "user_id": 6411264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b6da9faea5a6ec9f25c4cca74a18ccf6?s=128&d=identicon&r=PG&f=1", "display_name": "UberStuper", "link": "https://stackoverflow.com/users/6411264/uberstuper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 41602471, "answer_count": 2, "score": 0, "last_activity_date": 1484177052, "creation_date": 1484175747, "last_edit_date": 1484176302, "question_id": 41602331, "link": "https://stackoverflow.com/questions/41602331/using-map-or-apply-to-get-multiple-indexes-of-columns-using-a-list-of-column-nam", "title": "using map or apply to get multiple indexes of columns using a list of column names", "body": "<p>Using pandas if I have column names that correspond to some data:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\ndata = pd.DataFrame(np.zeros((5,4)), columns=['x1', 'a', 'c', 'b'])\ncolnames = ['a', 'b']\n</code></pre>\n\n<p>then I can get the column positions like this :</p>\n\n<pre><code>[data.columns.get_loc(col) for col in colnames]\n</code></pre>\n\n<p>Is there a way to use for example a map or apply function to get this done ? </p>\n"}, {"tags": ["python", "bioinformatics"], "comments": [{"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1484242788, "post_id": 41602317, "comment_id": 70440583, "body": "Why you use <code>pyvcf</code> parse to read this input file (Since, it isn&#39;t the format) ?"}, {"owner": {"reputation": 5679, "user_id": 1878788, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fc54887ecbaba35e17251129e5b78c9a?s=128&d=identicon&r=PG", "display_name": "bli", "link": "https://stackoverflow.com/users/1878788/bli"}, "edited": false, "score": 0, "creation_date": 1484298364, "post_id": 41602317, "comment_id": 70461638, "body": "What do you call &quot;the code&quot; that you want to be printed?"}, {"owner": {"reputation": 5679, "user_id": 1878788, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fc54887ecbaba35e17251129e5b78c9a?s=128&d=identicon&r=PG", "display_name": "bli", "link": "https://stackoverflow.com/users/1878788/bli"}, "edited": false, "score": 0, "creation_date": 1484298627, "post_id": 41602317, "comment_id": 70461774, "body": "Is there a relation between the format described in the following link and the 3-column dataset that you show ? <a href=\"http://www.internationalgenome.org/wiki/Analysis/vcf4.0/\" rel=\"nofollow noreferrer\">internationalgenome.org/wiki/Analysis/vcf4.0</a>"}], "answers": [{"tags": [], "owner": {"reputation": 415, "user_id": 5706233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kiUE.jpg?s=128&g=1", "display_name": "Westly White", "link": "https://stackoverflow.com/users/5706233/westly-white"}, "is_accepted": false, "score": 0, "last_activity_date": 1484176370, "creation_date": 1484176370, "answer_id": 41602480, "question_id": 41602317, "link": "https://stackoverflow.com/questions/41602317/categorising-data-according-to-one-column-in-python/41602480#41602480", "title": "Categorising data according to one column in python", "body": "<p>How about this</p>\n\n<pre><code>from sys import argv\nscript, vcf_file = argv\nimport vcf\nvcf_reader = vcf.Reader(open(vcf_file, 'r'))\n\n# Store our results outside of the loop\nfecResult = \"\"\nf3cResult = \"\"\n\n# For each record\nfor record.affected_start in vcf_reader: \n    if record.sample == \"2fec2\":\n        fecResult = record.mutation\n    if record.sample == \"1f3c\":\n        f3cResult = record.mutation\n\n# Outside of the loop compare the results and if they match print the record.\nif fecResult == f3cResult:\n    print record.affected_start\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5679, "user_id": 1878788, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fc54887ecbaba35e17251129e5b78c9a?s=128&d=identicon&r=PG", "display_name": "bli", "link": "https://stackoverflow.com/users/1878788/bli"}, "edited": false, "score": 0, "creation_date": 1484301111, "post_id": 41631635, "comment_id": 70463260, "body": "My solution might not be practical if you work with huge data (there will be too many (pos, mutation) combinations, so the dictionary will use too much memory)"}, {"owner": {"reputation": 89, "user_id": 7407045, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/393f27c0968efd8a4308d81b3ee2a884?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Lipworth", "link": "https://stackoverflow.com/users/7407045/sam-lipworth"}, "edited": false, "score": 0, "creation_date": 1484780540, "post_id": 41631635, "comment_id": 70656353, "body": "Thankyou your answer helped me to adapt a script which works  - my data was actually in real VCF format I was just simplifying it as it&#39;s quite a confusing format in its own right especially for non-biologists!"}], "tags": [], "owner": {"reputation": 5679, "user_id": 1878788, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fc54887ecbaba35e17251129e5b78c9a?s=128&d=identicon&r=PG", "display_name": "bli", "link": "https://stackoverflow.com/users/1878788/bli"}, "is_accepted": false, "score": 1, "last_activity_date": 1484300826, "creation_date": 1484300826, "answer_id": 41631635, "question_id": 41602317, "link": "https://stackoverflow.com/questions/41602317/categorising-data-according-to-one-column-in-python/41631635#41631635", "title": "Categorising data according to one column in python", "body": "<p>I'm assuming your data is in the format you describe and not VCF.</p>\n\n<p>You can try to simply parse the file with standard python techniques and for each (pos, mutation) pair, build the set of samples having it as follows:</p>\n\n<pre><code>from sys import argv\nfrom collections import defaultdict\n# More convenient than a normal dict: an empty set will be\n# automatically created whenever a new key is accessed\n# keys will be (pos, mutation) pairs\n# values will be sets of sample names\nmutation_dict = defaultdict(set)\n# This \"with\" syntax (\"context manager\") is recommended\n# because file closing will be handled automatically\nwith open(argv[1], \"r\") as data_file:\n    # Read first line and check headers\n    # (assert &lt;something False&gt;, \"message\"\n    # will make the program exit and display \"message\")\n    assert data_file.readline().strip().split() == [\"sample\", \"pos\", \"mutation\"], \"Unexpected column names\"\n    # .strip() removes end-of-line character\n    # .split() splits into a list of words\n    # (by default using \"blanks\" as separator)\n    # .readline() has \"consumed\" a first line.\n    # Now we can loop over the rest of the lines\n    # that should contain the data\n    for line in data_file:\n        # Extract the fields\n        [sample, pos, mutation] = line.strip().split()\n        # add the sample to the set of samples having\n        # this (pos, mutation) combination\n        mutation_dict[(pos, mutation)].add(sample)\n    # Now loop over the key, value pairs in our dict:\n    for (pos, mutation), samples in mutation_dict.items():\n        # True if set intersection (&amp;) is not empty\n        if samples &amp; {\"2fec2\", \"1f3c\"}:\n            print(\"2fec2 and 1f3c share mutation %s at position %s\" % (mutation, pos))\n</code></pre>\n\n<p>With your example data as first argument of the script, this outputs:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2fec2 and 1f3c share mutation TC at position 40\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 7407045, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/393f27c0968efd8a4308d81b3ee2a884?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Lipworth", "link": "https://stackoverflow.com/users/7407045/sam-lipworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1484300826, "creation_date": 1484175683, "question_id": 41602317, "link": "https://stackoverflow.com/questions/41602317/categorising-data-according-to-one-column-in-python", "title": "Categorising data according to one column in python", "body": "<p>Hi I have a dataset as follows eg:</p>\n\n<pre><code>sample    pos    mutation\n2fec2     40     TC\n1f3c      40     TC\n19b0      40     TC\ntld3      60     CG\n</code></pre>\n\n<p>I want to be able to find a python way to for example find every instance where 2fec2 and 1f3c have the same mutation and print the code.  So far I have tried the following but it simply returns everything.  I am completely new to python and trying to ween myself off awk - please help!</p>\n\n<pre><code>from sys import argv\nscript, vcf_file = argv\nimport vcf\nvcf_reader = vcf.Reader(open(vcf_file, 'r'))\nfor record.affected_start in vcf_reader: #.affect_start is this modules way of calling data from the parsed pos column from a particular type of bioinformatics file\n    if record.sample == 2fec2 and 1f3c != 19b0 !=t1d3: #ditto .sample\n        print record.affected_start\n</code></pre>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1484175911, "post_id": 41602315, "comment_id": 70407280, "body": "The reason you get that output is because backslashes must be escaped in strings in Python. Thus, Python automatically inserts an escape character in your string."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484176002, "post_id": 41602315, "comment_id": 70407313, "body": "Instead of allowing the REPL to display the <code>repr</code> of the string, actually use <code>print</code> and you wont see the double back slash. <code>repr</code> is formatted to allow the recreation of the object using <code>eval</code> and since a string literal requires the escape character, it will be seen when the string is displayed via <code>repr</code>"}, {"owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1484176021, "post_id": 41602315, "comment_id": 70407323, "body": "@leaf Using the following string <code>&#39;CPI (ex Food &amp; Energy) % m&#47;m&#39;.replace(&#39;(&#39;, &#39;\\\\(&#39;)</code> (with the escaped backslash) also returns the same wrong result..."}], "answers": [{"comments": [{"owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "edited": false, "score": 0, "creation_date": 1484179148, "post_id": 41602428, "comment_id": 70408345, "body": "the problem is that i am trying to pass those new arguments to a mysql query and the double backslah DO end up in the query, making it invalid... <code>&#39;SELECT datetime, actual, forecast, prior FROM </code>all-data<code>.indicators_ft WHERE country=&quot;United States&quot; AND name = &quot;CPI \\\\(ex Food &amp; Energy\\\\) % m&#47;m&quot;&#39;</code>"}], "tags": [], "owner": {"reputation": 260, "user_id": 6562308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MhM9s.gif?s=128&g=1", "display_name": "Jon Malachowski", "link": "https://stackoverflow.com/users/6562308/jon-malachowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1484176576, "last_edit_date": 1484176576, "creation_date": 1484176182, "answer_id": 41602428, "question_id": 41602315, "link": "https://stackoverflow.com/questions/41602315/python-string-replace-with-parenthesis-sign/41602428#41602428", "title": "Python : string replace with parenthesis sign", "body": "<p>I think you may be confusing the interactive python shell output versus that ACTUAL contents of the string:</p>\n\n<pre><code>&gt;&gt;&gt;hello (world)'.replace('(', '\\(')\nhello \\\\(world)  \n</code></pre>\n\n<p>but</p>\n\n<pre><code>&gt;&gt;&gt;print 'hello (world)'.replace('(', '\\(')\nhello \\(world)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4415944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KqnSI.png?s=128&g=1", "display_name": "deathstroke", "link": "https://stackoverflow.com/users/4415944/deathstroke"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484176570, "post_id": 41602442, "comment_id": 70407516, "body": "Oh! I didn&#39;t know that. Thanks for commenting."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1484176931, "post_id": 41602442, "comment_id": 70407652, "body": "I edited your answer to remove the link and show the code. Lines starting with at least four spaces are formatted as code. Your answer could be improved by explaining why OP was seeing th incorrect result."}, {"owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "edited": false, "score": 0, "creation_date": 1484179129, "post_id": 41602442, "comment_id": 70408335, "body": "@deathstroke the problem is that i am trying to pass those new arguments to a mysql query and the double backslah DO end up in the query, making it invalid... <code>&#39;SELECT datetime, actual, forecast, prior FROM </code>all-data<code>.indicators_ft WHERE country=&quot;United States&quot; AND name = &quot;CPI \\\\(ex Food &amp; Energy\\\\) % m&#47;m&quot;&#39;</code>"}], "tags": [], "owner": {"reputation": 11, "user_id": 4415944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KqnSI.png?s=128&g=1", "display_name": "deathstroke", "link": "https://stackoverflow.com/users/4415944/deathstroke"}, "is_accepted": false, "score": 1, "last_activity_date": 1484176768, "last_edit_date": 1484176768, "creation_date": 1484176262, "answer_id": 41602442, "question_id": 41602315, "link": "https://stackoverflow.com/questions/41602315/python-string-replace-with-parenthesis-sign/41602442#41602442", "title": "Python : string replace with parenthesis sign", "body": "<p>You are doing it correctly:</p>\n\n<pre><code>&gt;&gt;&gt; print('hello (world)'.replace('(', '\\('))\nhello \\(world)\n</code></pre>\n"}], "owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1484179285, "creation_date": 1484175681, "last_edit_date": 1484179285, "question_id": 41602315, "link": "https://stackoverflow.com/questions/41602315/python-string-replace-with-parenthesis-sign", "title": "Python : string replace with parenthesis sign", "body": "<p>I am tring to use the replace function to modify the following string:</p>\n\n<pre><code>'hello (world)'\n</code></pre>\n\n<p>to </p>\n\n<pre><code>'hello \\(world)'\n</code></pre>\n\n<p>However when i run </p>\n\n<pre><code>'hello (world)'.replace('(', '\\(')\n</code></pre>\n\n<p>it returns </p>\n\n<pre><code>'hello \\\\(world)'\n</code></pre>\n\n<p>Any idea how to achieve the intended output?</p>\n\n<p>EDIT: \nthe problem is that i am trying to pass those new arguments to a mysql query and the double backslah DO end up in the query, making it invalid... <code>'SELECT datetime, actual, forecast, prior FROM all-data.indicators_ft WHERE country=\"United States\" AND name = \"CPI \\\\(ex Food &amp; Energy\\\\) % m/m\"'</code></p>\n"}, {"tags": ["python", "class"], "comments": [{"owner": {"reputation": 5994, "user_id": 5710637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAM5l.jpg?s=128&g=1", "display_name": "fafl", "link": "https://stackoverflow.com/users/5710637/fafl"}, "edited": false, "score": 1, "creation_date": 1484175732, "post_id": 41602304, "comment_id": 70407211, "body": "Add <code>self</code> as parameter to the method"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1484175966, "post_id": 41602304, "comment_id": 70407298, "body": "Methods are passed the object that owns them as the first parameter. By convention, we call this <code>self</code> in Python (but <code>def foobar_method(omg_its_me)</code> is syntactically valid). Note also that <code>street_name</code>, <code>x</code>, and <code>y</code> aren&#39;t defined inside <code>HouseLocation.print_address</code>. Since methods get their owners as the first argument, you get to use their attributes, but you have to refer to them as such! (<code>self.street_name</code>, <code>self.x</code>, <code>self.y</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 1438, "user_id": 768675, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2042d0bca89dd14e95145519f07e9a84?s=128&d=identicon&r=PG", "display_name": "esmit", "link": "https://stackoverflow.com/users/768675/esmit"}, "is_accepted": false, "score": 1, "last_activity_date": 1484177773, "last_edit_date": 1484177773, "creation_date": 1484175722, "answer_id": 41602323, "question_id": 41602304, "link": "https://stackoverflow.com/questions/41602304/calling-class-simple-code/41602323#41602323", "title": "Calling class *simple code*", "body": "<p><code>self</code> is the missing parameter, which is passed as the first argument of all class methods.</p>\n\n<pre><code>def print_address(self):\n    print '{}: {},{}'.format(self.street_name,self.x,self.y)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 1, "last_activity_date": 1484176089, "last_edit_date": 1484176089, "creation_date": 1484175733, "answer_id": 41602325, "question_id": 41602304, "link": "https://stackoverflow.com/questions/41602304/calling-class-simple-code/41602325#41602325", "title": "Calling class *simple code*", "body": "<p>You should pass <code>self</code> to <code>print_address()</code></p>\n\n<pre><code>def print_address(self):\n    print '{}: {},{}'.format(self.street_name, self.x, self.y)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1484175790, "post_id": 41602327, "comment_id": 70407229, "body": "Upvoted because you also explained the <i>why</i>."}, {"owner": {"reputation": 3429, "user_id": 5899161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7974a2c4fbb2bc7a521323ecfaa207a?s=128&d=identicon&r=PG&f=1", "display_name": "lukeg", "link": "https://stackoverflow.com/users/5899161/lukeg"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1484175934, "post_id": 41602327, "comment_id": 70407293, "body": "@dana, yeah, forgot about that. Fixed now, thanks."}], "tags": [], "owner": {"reputation": 3429, "user_id": 5899161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7974a2c4fbb2bc7a521323ecfaa207a?s=128&d=identicon&r=PG&f=1", "display_name": "lukeg", "link": "https://stackoverflow.com/users/5899161/lukeg"}, "is_accepted": false, "score": 3, "last_activity_date": 1484175816, "last_edit_date": 1484175816, "creation_date": 1484175739, "answer_id": 41602327, "question_id": 41602304, "link": "https://stackoverflow.com/questions/41602304/calling-class-simple-code/41602327#41602327", "title": "Calling class *simple code*", "body": "<p>Remember that methods take the <code>self</code> argument implicitly. Change the method code to:</p>\n\n<pre><code>  def print_address(self):\n      print '{}: {},{}'.format(self.street_name,self.x,self.y)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14884, "user_id": 315689, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/GkAk0.png?s=128&g=1", "display_name": "dana", "link": "https://stackoverflow.com/users/315689/dana"}, "is_accepted": true, "score": 1, "last_activity_date": 1484176158, "last_edit_date": 1484176158, "creation_date": 1484175742, "answer_id": 41602328, "question_id": 41602304, "link": "https://stackoverflow.com/questions/41602304/calling-class-simple-code/41602328#41602328", "title": "Calling class *simple code*", "body": "<p>The first parameter of a function should be the <code>self</code> parameter.  That is your instance of the class and allows you to get/set properties accordingly.</p>\n\n<pre><code>class HouseLocation():\n\n    def __init__(self,street_name,x,y):\n        self.street_name=street_name\n        self.x=x\n        self.y=y\n\n    def print_address(self):\n        print '{}: {},{}'.format(self.street_name,self.x,self.y)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "is_accepted": false, "score": 1, "last_activity_date": 1484175776, "creation_date": 1484175776, "answer_id": 41602337, "question_id": 41602304, "link": "https://stackoverflow.com/questions/41602304/calling-class-simple-code/41602337#41602337", "title": "Calling class *simple code*", "body": "<p><code>self</code> is the missing parameter here. The function needs to have at least one argument where one of those is <code>self</code> whenever in a class:</p>\n\n<pre><code>def print_address(self):\n      print '{}: {},{}'.format(self.street_name,self.x,self.y)\n</code></pre>\n\n<p>Then to avoid <code>NameError</code>, add <code>self.</code> in front of the variables.</p>\n"}], "owner": {"reputation": 129, "user_id": 7290548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1275427202524730/picture?type=large", "display_name": "Enigma", "link": "https://stackoverflow.com/users/7290548/enigma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1484176020, "accepted_answer_id": 41602328, "answer_count": 5, "score": 2, "last_activity_date": 1484177773, "creation_date": 1484175625, "question_id": 41602304, "link": "https://stackoverflow.com/questions/41602304/calling-class-simple-code", "closed_reason": "Duplicate", "title": "Calling class *simple code*", "body": "<pre><code>class HouseLocation():\n\n    def __init__(self,street_name,x,y):\n        self.street_name=street_name\n        self.x=x\n        self.y=y\n\n      def print_address():\n          print '{}: {},{}'.format(street_name,x,y)\n</code></pre>\n\n<p>I assume the code is very simple and explains itself I would assume\nnow my problem is when I try to run it</p>\n\n<blockquote>\n  <p>k=HouseLocation('lol lo', 3,7)</p>\n  \n  <p>k.print_address()</p>\n</blockquote>\n\n<p>I get the following error message</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):</p>\n  \n  <p>File \"\", line 1, in </p>\n  \n  <p>k.print_address()</p>\n  \n  <p>TypeError: print_address() takes no arguments (1 given)</p>\n</blockquote>\n\n<p>Can someone please explain what I am doing wrong?</p>\n"}, {"tags": ["python", "twitter", "machine-learning", "yahoo-finance"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1484176454, "post_id": 41602286, "comment_id": 70407468, "body": "Without seeing your code, how can we tell if there&#39;s something wrong in it?"}, {"owner": {"reputation": 4502, "user_id": 4614675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh5.googleusercontent.com/-wENEinPp2ls/AAAAAAAAAAI/AAAAAAAAABw/oJ3bOTpW9ek/photo.jpg?sz=128", "display_name": "Giordano", "link": "https://stackoverflow.com/users/4614675/giordano"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1484176680, "post_id": 41602286, "comment_id": 70407554, "body": "I mean in the logic. I found a lot of articles about this, but I don&#39;t know if my procedure is a &quot;best practices&quot; for this problem"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1484176822, "post_id": 41602286, "comment_id": 70407608, "body": "I&#39;m not sure this is the appropriate place to ask for advice on the logic of an application like this. Maybe the problem is in your basic assumption that there&#39;s a correlation between the market and the words you&#39;re classifying."}], "owner": {"reputation": 4502, "user_id": 4614675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh5.googleusercontent.com/-wENEinPp2ls/AAAAAAAAAAI/AAAAAAAAABw/oJ3bOTpW9ek/photo.jpg?sz=128", "display_name": "Giordano", "link": "https://stackoverflow.com/users/4614675/giordano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 536, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487259258, "creation_date": 1484175527, "question_id": 41602286, "link": "https://stackoverflow.com/questions/41602286/predict-stock-market-using-twitter", "title": "Predict stock market using twitter", "body": "<p>I'm trying to predict the daily positivity or negativity of stock market value through Twitter.<br>\nI researched a lot about this topic and I found this <a href=\"https://pdfs.semanticscholar.org/4ecc/55e1c3ff1cee41f21e5b0a3b22c58d04c9d6.pdf\" rel=\"nofollow noreferrer\">article</a> to start.<br>\nBasically, what I've done is get from yahoo finance the date relative to Down Jones and calculate if the day was positive or negative.</p>\n\n<p>For the same date, get all the tweets that contain words like <code>I'm, feel, makes me</code>, in order by collect only the tweets that express a sentiment. <br></p>\n\n<p>I have a list of words (positive and negative), without score, just words.<br>\nFor every day analyzed, I create a Python dictionary which has as keys the words of the list and as value a score,calculated in the following way:</p>\n\n<pre><code>score of a word = num of times the word matches tweets in a day /\n                  num of total matches of all words\n</code></pre>\n\n<p>In order to predict the stock market I train naive bayes algorithms as data, the python dictionary with words and relative score and as target 'pos' or 'neg' according to the finance data. </p>\n\n<p>I collected one year of date (from 1-1-2010 to 31-12-2010). <br>\nThe length of the list of words is 18540.<br>\nI'm working with Python 3.4, tweepy and scikit-learn</p>\n\n<p>The classifier doesn't work well and since I'm a novice in this field, I would like ask you if there is something wrong in my procedure or if you have some suggestions to help me.</p>\n\n<p>Any help is appreciated</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484175634, "post_id": 41602279, "comment_id": 70407174, "body": "what&#39;s about the 2nd line: <code>nonlocal contents</code>?"}, {"owner": {"reputation": 9, "user_id": 5798838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f022bc794e2705fbc275e3458439d2c0?s=128&d=identicon&r=PG&f=1", "display_name": "edenv3", "link": "https://stackoverflow.com/users/5798838/edenv3"}, "reply_to_user": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484175747, "post_id": 41602279, "comment_id": 70407218, "body": "contents defined in another function up than extended1 @RuhulAmin"}, {"owner": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484175785, "post_id": 41602279, "comment_id": 70407227, "body": "then add that function in the code so that we can inspect"}, {"owner": {"reputation": 9, "user_id": 5798838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f022bc794e2705fbc275e3458439d2c0?s=128&d=identicon&r=PG&f=1", "display_name": "edenv3", "link": "https://stackoverflow.com/users/5798838/edenv3"}, "reply_to_user": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484175907, "post_id": 41602279, "comment_id": 70407278, "body": "Update @RuhulAmin"}, {"owner": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484176272, "post_id": 41602279, "comment_id": 70407393, "body": "<code>contents[&#39;push_first&#39;][(mutable_list[&#39;get_item&#39;](i))]</code> try this"}, {"owner": {"reputation": 9, "user_id": 5798838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f022bc794e2705fbc275e3458439d2c0?s=128&d=identicon&r=PG&f=1", "display_name": "edenv3", "link": "https://stackoverflow.com/users/5798838/edenv3"}, "reply_to_user": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484176362, "post_id": 41602279, "comment_id": 70407433, "body": "I get the same error @RuhulAmin"}, {"owner": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484176429, "post_id": 41602279, "comment_id": 70407460, "body": "Sorry. how mutable list <code>mutable_list[&#39;get_item&#39;][i]</code>"}, {"owner": {"reputation": 9, "user_id": 5798838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f022bc794e2705fbc275e3458439d2c0?s=128&d=identicon&r=PG&f=1", "display_name": "edenv3", "link": "https://stackoverflow.com/users/5798838/edenv3"}, "reply_to_user": {"reputation": 1537, "user_id": 1960558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Idn6m.jpg?s=128&g=1", "display_name": "Ruhul Amin", "link": "https://stackoverflow.com/users/1960558/ruhul-amin"}, "edited": false, "score": 0, "creation_date": 1484176729, "post_id": 41602279, "comment_id": 70407572, "body": "The same error , i update the code @RuhulAmin"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1484185039, "post_id": 41602279, "comment_id": 70409837, "body": "How are you calling your function, and what is the exact error you are getting (along with the traceback)?"}, {"owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 0, "creation_date": 1484186846, "post_id": 41602279, "comment_id": 70410327, "body": "Can you add the full error message to the question. All the error is that you have a function name and are calling it as <code>func[...]</code> instead of <code>func(...)</code> wrong brackets. So the error message should point to which line is incorrectly calling a function."}], "owner": {"reputation": 9, "user_id": 5798838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f022bc794e2705fbc275e3458439d2c0?s=128&d=identicon&r=PG&f=1", "display_name": "edenv3", "link": "https://stackoverflow.com/users/5798838/edenv3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484176798, "creation_date": 1484175513, "last_edit_date": 1484176798, "question_id": 41602279, "link": "https://stackoverflow.com/questions/41602279/typeerror-function-object-is-not-subscriptable-in-python", "title": "TypeError: &#39;function&#39; object is not subscriptable in python", "body": "<p>I do not understand what is the problem writing in last row.\nextend1 is function inside a dictionary dispatch</p>\n\n<pre><code>def make_mutable_rlist(ctor=None):\n    \"\"\"Return a functional implementation of a mutable recursive list\"\"\"\n    contents = empty_rlist\n    if ctor != None:\n        i=ctor['length']()-1\n        print (i)\n        while i &gt;=0:\n            contents = make_rlist(ctor['get_item'](i),contents)\n            i-=1\n    def length():\n        return len_rlist(contents)\n    def get_item(index):\n        return getitem_rlist(contents,index)\n    def push_first(value):\n        nonlocal contents\n        contents = make_rlist(value,contents)\n\n    def extend1(mutable_list):\n        nonlocal contents\n        len1 = length()-1\n        len2 = mutable_list['length']()\n        for i in range (len1,len1+len2):\n            contents['push_first'](mutable_list['get_item'](i))\n</code></pre>\n"}, {"tags": ["python", "keras"], "answers": [{"tags": [], "owner": {"reputation": 8311, "user_id": 2217210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPiFz.jpg?s=128&g=1", "display_name": "indraforyou", "link": "https://stackoverflow.com/users/2217210/indraforyou"}, "is_accepted": true, "score": 12, "last_activity_date": 1484203004, "creation_date": 1484203004, "answer_id": 41606593, "question_id": 41602258, "link": "https://stackoverflow.com/questions/41602258/tokenizer-error-in-keras-pipeline/41606593#41606593", "title": "Tokenizer error in Keras pipeline", "body": "<p>You need to use <code>tokenizer.fit_on_texts(texts)</code> before using <code>tokenizer.texts_to_matrix()</code> </p>\n\n<p>here <code>texts</code> is the list of the the text data (both train and test). </p>\n\n<p><code>fit_on_texts()</code> uses it to build <code>word_index</code>. Its nothing but unique word to number mapping. And this mapping is later used to generate the matrix.</p>\n"}], "owner": {"reputation": 617, "user_id": 4525192, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7l9tu.jpg?s=128&g=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/4525192/angelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6730, "favorite_count": 1, "accepted_answer_id": 41606593, "answer_count": 1, "score": 2, "last_activity_date": 1484203004, "creation_date": 1484175425, "question_id": 41602258, "link": "https://stackoverflow.com/questions/41602258/tokenizer-error-in-keras-pipeline", "title": "Tokenizer error in Keras pipeline", "body": "<p>I want to use keras for authorship attribution. I have a list of (text,labels). I am trying to use the keras builtin vectorizer but I get the following error:</p>\n\n<blockquote>\n  <p>Vectorizing sequence data... Traceback (most recent call last):   File \"\", line 1, in    File\n  \"/home/angelo/org/courses/corpusling/finalproject/src/neuralnet.py\",\n  line 46, in \n      X_train = tokenizer.texts_to_matrix(X_train, mode='binary')   File \"/home/angelo/org/courses/corpusling/finalproject/venv0/lib/python3.5/site-packages/keras/preprocessing/text.py\",\n  line 166, in texts_to_matrix\n      sequences = self.texts_to_sequences(texts)   File \"/home/angelo/org/courses/corpusling/finalproject/venv0/lib/python3.5/site-packages/keras/preprocessing/text.py\",\n  line 131, in texts_to_sequences\n      for vect in self.texts_to_sequences_generator(texts):   File \"/home/angelo/org/courses/corpusling/finalproject/venv0/lib/python3.5/site-packages/keras/preprocessing/text.py\",\n  line 150, in texts_to_sequences_generator\n      i = self.word_index.get(w) AttributeError: 'Tokenizer' object has no attribute 'word_index'</p>\n</blockquote>\n\n<p>The following is my code so far:</p>\n\n<pre><code>import glob\nimport os\nimport pandas as pd\nimport numpy as np\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Activation\nfrom keras.preprocessing.text import Tokenizer\nfrom keras.utils import np_utils\n\n\ndef get_label(filename):\n    tmp = os.path.split(filename)[0]\n    label = os.path.basename(tmp)\n    return label\n\n\ndef read_file(filename):\n    with open(filename) as f:\n        text = f.read()\n    return text\n\n\ntraindocs = \"../data/C50/C50train/*/*.txt\"\ntestdocs = \"../data/C50/C50test/*/*.txt\"\n\ndocuments_train = (read_file(f) for f in glob.iglob(traindocs))\nlabels_train = (get_label(f) for f in glob.iglob(traindocs))\n\ndocuments_test = (read_file(f) for f in glob.iglob(testdocs))\nlabels_test = (get_label(f) for f in glob.iglob(testdocs))\n\ndf_train = pd.DataFrame([documents_train, labels_train])\ndf_train = df_train.transpose()\ndf_train.rename(columns={0: 'text', 1: 'author'}, inplace=True)\ndf_test = pd.DataFrame([documents_test, labels_test])\ndf_test = df_test.transpose()\ndf_test.rename(columns={0: 'text', 1: 'author'}, inplace=True)\n\nmax_words = 1000\nprint('Vectorizing sequence data...')\ntokenizer = Tokenizer(nb_words=max_words)\n\nX_train, Y_train = df_train.text, df_train.author\nX_test, Y_test = df_test.text, df_test.author\n\nX_train = tokenizer.texts_to_matrix(X_train, mode='binary')\nX_test = tokenizer.texts_to_matrix(X_test, mode='binary')\n\nnb_classes = np.max(Y_train) + 1\n\nprint('Convert class vector to binary class matrix (for use with categorical_crossentropy)')\nY_train = np_utils.to_categorical(Y_train, nb_classes)\nY_test = np_utils.to_categorical(Y_test, nb_classes)\n\nmodel = Sequential()\n\nmodel.add(Dense(output_dim=512, input_dim=(max_words,)))\nmodel.add(Activation(\"relu\"))\nmodel.add(Dense(output_dim=(np.max(Y_train)+1)))\nmodel.add(Activation(\"softmax\"))\n\nmodel.compile(loss='categorical_crossentropy',\n              optimizer='sgd', metrics=['accuracy'])\n\nmodel.fit(X_train, Y_train, nb_epoch=5, batch_size=32)\n\nloss_and_metrics = model.evaluate(X_test, Y_test, batch_size=32)\n</code></pre>\n"}, {"tags": ["python", "mysql", "null"], "answers": [{"comments": [{"owner": {"reputation": 950, "user_id": 3191334, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb02f4b53a630494b0deed1dbc10298e?s=128&d=identicon&r=PG&f=1", "display_name": "user3191334", "link": "https://stackoverflow.com/users/3191334/user3191334"}, "edited": false, "score": 0, "creation_date": 1484204616, "post_id": 41602566, "comment_id": 70415716, "body": "Thanks that answers my question. In my case I use python but the principle is the same."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 950, "user_id": 3191334, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb02f4b53a630494b0deed1dbc10298e?s=128&d=identicon&r=PG&f=1", "display_name": "user3191334", "link": "https://stackoverflow.com/users/3191334/user3191334"}, "edited": false, "score": 0, "creation_date": 1484239879, "post_id": 41602566, "comment_id": 70438836, "body": "Oops, sorry I didn&#39;t read the tags. Maybe you should convert this to Python and post your code, so you can accept a proper answer."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1484176732, "creation_date": 1484176732, "answer_id": 41602566, "question_id": 41602255, "link": "https://stackoverflow.com/questions/41602255/filter-null-columns-in-in-mysql-result/41602566#41602566", "title": "Filter NULL columns in in MySQL result", "body": "<p>You can't filter columns in SQL, because the columns are specified in the <code>SELECT</code> clause, and all rows have the same columns. You'll have to do it in PHP, by looping over the columns when adding them to the result array.</p>\n\n<pre><code>$result = array();\nwhile ($row = $stmt-&gt;fetch(PDO::FETCH_ASSOC)) {\n    $result_row = array();\n    foreach ($row as $col =&gt; $value) {\n        if ($value !== null) {\n            $result_row[$col] = $value;\n        }\n    }\n    $result[] = $result_row;\n}\necho json_encode($result);\n</code></pre>\n"}], "owner": {"reputation": 950, "user_id": 3191334, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb02f4b53a630494b0deed1dbc10298e?s=128&d=identicon&r=PG&f=1", "display_name": "user3191334", "link": "https://stackoverflow.com/users/3191334/user3191334"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 41602566, "answer_count": 1, "score": 0, "last_activity_date": 1490558280, "creation_date": 1484175420, "last_edit_date": 1490558280, "question_id": 41602255, "link": "https://stackoverflow.com/questions/41602255/filter-null-columns-in-in-mysql-result", "title": "Filter NULL columns in in MySQL result", "body": "<p>I built a small python API which should return a JSON filled with all necessary key / value pairs. The key values are just queried from a MySQL DB like:</p>\n\n<pre><code>SELECT * \nFROM flowers \nWHERE favourite = 1\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>id        color     size     favourite  ...\n---------------------------------------------\n1234      yellow    big      1          ...\n1235      &lt;null&gt;    small    1          ...\n1236      blue      &lt;null&gt;   1          ...\n1237      &lt;null&gt;    &lt;null&gt;   1          ...\n</code></pre>\n\n<p>Executing this query will return an array which looks similar to this:</p>\n\n<pre><code>[\n    {'id': 1234, 'color': \"yellow\", 'size': \"big\", 'favourite': 1, ... },\n    {'id': 1234, 'color': \"&lt;null&gt;\", 'size': \"small\", 'favourite': 1, ... },\n    {'id': 1234, 'color': \"blue\", 'size': \"&lt;null&gt;\", 'favourite': 1, ... },\n    {'id': 1234, 'color': \"&lt;null&gt;\", 'size': \"&lt;null&gt;\", 'favourite': 1, ... }\n]\n</code></pre>\n\n<p>In order to prevent sending any useless entries to the clients, I'd like to choose what I'm SELECTing. My goal is to keep selecting each row where <code>favourite=1</code>, but just leave away the column, returning <code>&lt;null&gt;</code>. So I get a result equal to this:</p>\n\n<pre><code>[\n    {'id': 1234, 'color': \"yellow\", 'size': \"big\", 'favourite': 1, ... },\n    {'id': 1234, 'size': \"small\", 'favourite': 1, ... },\n    {'id': 1234, 'color': \"blue\", 'favourite': 1, ... },\n    {'id': 1234, 'favourite': 1, ... }\n]\n</code></pre>\n\n<p>I'm also very interested in the performance. Is it possible / worth to reach my target via the MySQL query or is it better to select also the <code>&lt;null&gt;</code> results and filter them with a custom python method afterwards?</p>\n"}, {"tags": ["python", "sql", "postgresql"], "answers": [{"comments": [{"owner": {"reputation": 787, "user_id": 2591068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5EZRZ.jpg?s=128&g=1", "display_name": "Jakub Macina", "link": "https://stackoverflow.com/users/2591068/jakub-macina"}, "reply_to_user": {"reputation": 43, "user_id": 7407028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf58109c05e38d851cb7f497020b325?s=128&d=identicon&r=PG&f=1", "display_name": "Arush Shah", "link": "https://stackoverflow.com/users/7407028/arush-shah"}, "edited": false, "score": 0, "creation_date": 1484834958, "post_id": 41602296, "comment_id": 70680322, "body": "Than you can mark this as the best answer solution ;)"}], "tags": [], "owner": {"reputation": 787, "user_id": 2591068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5EZRZ.jpg?s=128&g=1", "display_name": "Jakub Macina", "link": "https://stackoverflow.com/users/2591068/jakub-macina"}, "is_accepted": true, "score": 1, "last_activity_date": 1484175981, "last_edit_date": 1484175981, "creation_date": 1484175583, "answer_id": 41602296, "question_id": 41602226, "link": "https://stackoverflow.com/questions/41602226/python-postgresql-table-creation-using-pg-dump/41602296#41602296", "title": "Python PostgreSQL table creation using pg_dump", "body": "<p>You must <code>commit</code> the transaction at the end because by default any data manipulation is rolled back and lost. </p>\n\n<pre><code>cur.commit()\n</code></pre>\n\n<p>Alternatively, you can set <code>autocommit</code> to <code>True</code> at the beginning to commit each new data automatically to the db.</p>\n\n<pre><code>conn.autocommit = True\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7407028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf58109c05e38d851cb7f497020b325?s=128&d=identicon&r=PG&f=1", "display_name": "Arush Shah", "link": "https://stackoverflow.com/users/7407028/arush-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 41602296, "answer_count": 1, "score": 0, "last_activity_date": 1484175981, "creation_date": 1484175268, "question_id": 41602226, "link": "https://stackoverflow.com/questions/41602226/python-postgresql-table-creation-using-pg-dump", "title": "Python PostgreSQL table creation using pg_dump", "body": "<p>I'm trying to replicate the table structure of an existing PostgreSQL database. I have 2 databases currently, A and B. I used the \"pg_dump -s\" command and generated the sql query to create the tables of A. In my python script, I have the following code to create the same structure in database B:</p>\n\n<pre><code>con2 = psycopg2.connect(database=\"Archives\", user=\"postgres\", password=\"root\", host=\"127.0.0.1\", port=\"5432\")\n\ndbexe = \"\"\"\n--\n-- PostgreSQL database dump\n--\n\n-- Dumped from database version 9.6.0\n-- Dumped by pg_dump version 9.6.0\n\nSET statement_timeout = 0;\nSET lock_timeout = 0;\nSET idle_in_transaction_session_timeout = 0;\nSET client_encoding = 'UTF8';\nSET standard_conforming_strings = on;\nSET check_function_bodies = false;\nSET client_min_messages = warning;\nSET row_security = off;\n\n--\n-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: \n--\n\nCREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;\n\n\n--\n-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: \n--\nseveral thousand more lines ....\"\"\"\n\ncur2 = con2.cursor()\ncur2.execute(dbexe)\nprint(\"done\")\n</code></pre>\n\n<p>The code seems to run fine but when I check database B I don't see any tables. Any suggestions as to why this may be happening?</p>\n"}, {"tags": ["python", "string", "type-conversion", "division", "multiplication"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1484175373, "post_id": 41602218, "comment_id": 70407080, "body": "Multiplying by 0.5 returns a float, and you must use integers in slices. Whereas dividing by 2 (assuming Python 2.x) always returns an integer."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1484175538, "post_id": 41602251, "comment_id": 70407132, "body": "*Only in Python 2"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1484176733, "post_id": 41602251, "comment_id": 70407573, "body": "To expand on @juanpa.arrivillaga, in Python 3 you need to use <code>&#47;&#47;</code> to get integer division, even if both operands are integers."}, {"owner": {"reputation": 2273, "user_id": 3339058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e83b11d2c7358ba0a1512054b6c220?s=128&d=identicon&r=PG&f=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/3339058/javier"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1484179188, "post_id": 41602251, "comment_id": 70408360, "body": "@juanpa.arrivillaga added clarification. Thanks."}], "tags": [], "owner": {"reputation": 2273, "user_id": 3339058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e83b11d2c7358ba0a1512054b6c220?s=128&d=identicon&r=PG&f=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/3339058/javier"}, "is_accepted": false, "score": 3, "last_activity_date": 1484179164, "last_edit_date": 1484179164, "creation_date": 1484175398, "answer_id": 41602251, "question_id": 41602218, "link": "https://stackoverflow.com/questions/41602218/why-strlenstr-2-but-not-strlenstr-0-5/41602251#41602251", "title": "Why str[:len(str) / 2] but not str[:len(str) * 0.5]?", "body": "<p>In Python 2:</p>\n\n<p>Dividing two integers results in an integer.</p>\n\n<p>Multiplying an integer and a float results in a float.</p>\n\n<p>Slices must be integer.</p>\n"}, {"tags": [], "owner": {"reputation": 3395, "user_id": 6164984, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/gtaJI.png?s=128&g=1", "display_name": "math2001", "link": "https://stackoverflow.com/users/6164984/math2001"}, "is_accepted": false, "score": 1, "last_activity_date": 1484176804, "creation_date": 1484176804, "answer_id": 41602577, "question_id": 41602218, "link": "https://stackoverflow.com/questions/41602218/why-strlenstr-2-but-not-strlenstr-0-5/41602577#41602577", "title": "Why str[:len(str) / 2] but not str[:len(str) * 0.5]?", "body": "<p>In python, slices <em>must</em> be integers (<code>5.0</code> is wrong, <code>5</code> is good).</p>\n\n<h1>In python 2</h1>\n\n<pre><code>len(str) / 5 # =&gt; integer\nlen(str) * 0.5 # =&gt; float\n</code></pre>\n\n<h1>In python 3</h1>\n\n<pre><code>len(str) / 5 # =&gt; float\nlen(str) // 5 # =&gt; integer (equivalent of math.floor(len(str) / 5))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7392423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mn3Y8.jpg?s=128&g=1", "display_name": "TaeKwonDodd", "link": "https://stackoverflow.com/users/7392423/taekwondodd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1484179164, "creation_date": 1484175242, "last_edit_date": 1484178183, "question_id": 41602218, "link": "https://stackoverflow.com/questions/41602218/why-strlenstr-2-but-not-strlenstr-0-5", "title": "Why str[:len(str) / 2] but not str[:len(str) * 0.5]?", "body": "<p>I'm playing on coding bat and </p>\n\n<pre><code>return str[:len(str) / 2]\n</code></pre>\n\n<p>works fine but </p>\n\n<pre><code>return str[:len(str) * 0.5]\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>Error:slice indices must be integers or None or have an __index__ method\n</code></pre>\n\n<p>and although I can kind of speculate as to why this is I am very interested in hearing a better informed explanation. Thank you!</p>\n\n<p>Bonus Points: Offer a tag I can place on this post so that we can categorize it well!</p>\n"}, {"tags": ["python", "sql", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 841, "user_id": 7406966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZL1OY.jpg?s=128&g=1", "display_name": "Shivam Sharma", "link": "https://stackoverflow.com/users/7406966/shivam-sharma"}, "edited": false, "score": 0, "creation_date": 1484256664, "post_id": 41602276, "comment_id": 70448120, "body": "I suppose trusting the filtering ability of my database engine is the most reliable solution at the moment. Thanks a ton!"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 6, "last_activity_date": 1484175502, "creation_date": 1484175502, "answer_id": 41602276, "question_id": 41602162, "link": "https://stackoverflow.com/questions/41602162/any-alternatives-for-onetomany-or-manytoone-in-django/41602276#41602276", "title": "Any alternatives for OneToMany or ManyToOne in Django", "body": "<p><code>OneToManyField</code> doesn't exist in Django because it is just the reverse relationship of a <code>ForeignKey</code>.  So you don't need the <code>notifications</code> field on the <code>User</code> model here, just remove it.  </p>\n\n<p>Don't worry prematurely about performance of filtering on the notifications. Querying relations is what SQL was designed for, and that's what relational databases are good at doing.  </p>\n"}], "owner": {"reputation": 841, "user_id": 7406966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZL1OY.jpg?s=128&g=1", "display_name": "Shivam Sharma", "link": "https://stackoverflow.com/users/7406966/shivam-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 41602276, "answer_count": 1, "score": 3, "last_activity_date": 1484175511, "creation_date": 1484175008, "last_edit_date": 1495541639, "question_id": 41602162, "link": "https://stackoverflow.com/questions/41602162/any-alternatives-for-onetomany-or-manytoone-in-django", "title": "Any alternatives for OneToMany or ManyToOne in Django", "body": "<p>I have a <strong>NOTIFICATION</strong> and an <strong>USER</strong> app in Django.\nThe code goes something like :</p>\n\n<pre><code>class Notification(models.Model):\n    user = models.ForeignKey(User , related_name = \"notification\"\n    ....\n    ....\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class User(models.Model):\n    notifications = models.OneToManyField(Notification , related_name = \"user\"\n    ....\n    ....\n</code></pre>\n\n<p>Now I know that <strong>models.OneToManyField</strong> doesn't exist in Django.\nI get the fact that I can simply access the user from the notification instance of the model. But I suppose that would somehow slow my system because in production I would keep all the instances of Notification Model.\nFor example : I'm expecting around 500+ notifications per user once the system is in production for a significant amount of time.</p>\n\n<p>I suppose, it would just be easier to access all the notifications of one user directly rather than sifting through the whole Notification Table to find notifications of a specific user.<br>\nI've read <a href=\"https://stackoverflow.com/questions/6928692/how-to-express-a-one-to-many-relationship-in-django\">this</a> and the documentation to an extent and I'm not able to find a solution to my problem.</p>\n\n<p>Also I'm not sure about the processing constraints of a processor to obtain all the Notifications from the whole Notification Table. I'm just assuming that it'll be somewhat slower.</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user554546"}, "edited": false, "score": 0, "creation_date": 1484175291, "post_id": 41602151, "comment_id": 70407054, "body": "&quot;For a negative step, the contents of the range are still determined by the formula r[i] = start + step*i, but the constraints are i &gt;= 0 and r[i] &gt; stop.&quot; <a href=\"https://docs.python.org/3/library/stdtypes.html#ranges\" rel=\"nofollow noreferrer\">docs.python.org/3/library/stdtypes.html#ranges</a>"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1484175581, "post_id": 41602151, "comment_id": 70407147, "body": "You&#39;re asking Python to go from 0 to 10 by -1. But when you add -1 to 0 you get -1, and so on; you will never get to 10 no matter how many times you add -1. So what you&#39;re trying to do makes no sense, and Python has rules in place to prevent it."}], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1484175312, "creation_date": 1484175312, "answer_id": 41602234, "question_id": 41602151, "link": "https://stackoverflow.com/questions/41602151/why-for-i-in-range0-10-1-wont-print-anything/41602234#41602234", "title": "why for i in range(0,10,-1): wont print anything", "body": "<p>With a negative \"<code>step</code>\", python keeps on yielding<sup>1</sup> elements while the current value is greater than <code>end</code>.  In this case, you start at <code>0</code>.  <code>0</code> is not greater than or equal to <code>10</code> so python's done and nothing gets yielded.</p>\n\n<hr>\n\n<p><sup><sup>1</sup>This is a simplification of course -- <code>range</code> returns a <code>range</code> object on python3.x which is an indexable sequence type so it doesn't exactly <code>yield</code>, but the basic idea is the same ...</sup></p>\n"}, {"comments": [{"owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "edited": false, "score": 1, "creation_date": 1484193233, "post_id": 41602243, "comment_id": 70411916, "body": "<code>print(*range(10, 0, -1))</code>  works as aready mentioned.  range() will count in reverse, you just have to give a valid start, end for a negative increment"}], "tags": [], "owner": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1484175352, "creation_date": 1484175352, "answer_id": 41602243, "question_id": 41602151, "link": "https://stackoverflow.com/questions/41602151/why-for-i-in-range0-10-1-wont-print-anything/41602243#41602243", "title": "why for i in range(0,10,-1): wont print anything", "body": "<p>Third argument in <code>range</code> is <a href=\"https://docs.python.org/2/library/functions.html#range\" rel=\"nofollow noreferrer\"><code>step</code></a></p>\n\n<p>In range you can give <code>step</code> as <code>1</code>, <code>2</code> etc. </p>\n\n<p>When you give <code>-1</code>, it will not do step in <code>reverse</code>.</p>\n\n<p>If you want to print reverse order you can try </p>\n\n<pre><code>&gt;&gt;&gt; range(10)[::-1]\n[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1829, "user_id": 2747741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2c50bde11723bbb26ac7aa17ee9a0ad?s=128&d=identicon&r=PG", "display_name": "mtd", "link": "https://stackoverflow.com/users/2747741/mtd"}, "is_accepted": false, "score": 2, "last_activity_date": 1484175457, "creation_date": 1484175457, "answer_id": 41602266, "question_id": 41602151, "link": "https://stackoverflow.com/questions/41602151/why-for-i-in-range0-10-1-wont-print-anything/41602266#41602266", "title": "why for i in range(0,10,-1): wont print anything", "body": "<p>There is no evaluation of the first element by the <code>range()</code> call, and Python's <code>range()</code> function will not return anything if <code>step</code> is negative and <code>start + i * step</code> is not greater than <code>stop</code>.  For your example, <code>start = 0 + 0 * -1</code> is not greater than <code>stop = 10</code>, so your <code>range</code> call returns the empty list, and your <code>for</code> loop has nothing to iterate over.</p>\n\n<pre><code>$ python -c 'print(range(0,10,-1))'\n[]\n</code></pre>\n\n<p><code>range()</code>'s <a href=\"https://docs.python.org/2/library/functions.html#range\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>range(stop)</p>\n  \n  <p>range(start, stop[, step])</p>\n  \n  <p>This is a versatile function to create lists containing arithmetic progressions. It is most often used in for loops. The arguments must be plain integers. If the step argument is omitted, it defaults to 1. If the start argument is omitted, it defaults to 0. The full form returns a list of plain integers [start, start + step, start + 2 * step, ...]. If step is positive, the last element is the largest start + i * step less than stop; if step is negative, the last element is the smallest start + i * step greater than stop. step must not be zero (or else ValueError is raised). Example:</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1266, "user_id": 2966288, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b73ff469f4be219ed742b4e7cdcb4be?s=128&d=identicon&r=PG&f=1", "display_name": "sonrad10", "link": "https://stackoverflow.com/users/2966288/sonrad10"}, "is_accepted": false, "score": 0, "last_activity_date": 1484177151, "creation_date": 1484177151, "answer_id": 41602643, "question_id": 41602151, "link": "https://stackoverflow.com/questions/41602151/why-for-i-in-range0-10-1-wont-print-anything/41602643#41602643", "title": "why for i in range(0,10,-1): wont print anything", "body": "<p>In Python, the range function works with the arguments <code>range(StartingValue, EndingValue, Step)</code> the problem you have is that you are assigning a negative step to a situation where the StartingValue is less than EndingValue. Since this is the case, it never enters the loop, because the end value has already been reached, and exceeded.</p>\n\n<p>To fix this, just reverse the first two values: <code>for I in range(10,0,-1)</code> . Think of it as if you were saying it in a sentence, such as <code>FOR each ITEM in the RANGE of 10 to 0 decreasing by 1</code></p>\n"}], "owner": {"reputation": 5, "user_id": 6802117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2eb1e490478e2a4059f22328d6b20b8?s=128&d=identicon&r=PG&f=1", "display_name": "prap4search", "link": "https://stackoverflow.com/users/6802117/prap4search"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 0, "accepted_answer_id": 41602234, "answer_count": 4, "score": 0, "last_activity_date": 1484177151, "creation_date": 1484174934, "last_edit_date": 1484175110, "question_id": 41602151, "link": "https://stackoverflow.com/questions/41602151/why-for-i-in-range0-10-1-wont-print-anything", "title": "why for i in range(0,10,-1): wont print anything", "body": "<pre><code>for i in range(0,10,-1):\n     print (i)\n</code></pre>\n\n<p>Why the  above program prints nothing ,i expect it to print at least 0\nAccording to \n\"for i in range(start, end, iterator)\" definition ,it evaluates first element and then uses iterator to get to next element.\nSo in theory the Example code snippet should first take 0 and print it and then next element is evaluated as -1 which is not in 0-10 then it should bail out </p>\n"}, {"tags": ["python", "pyflakes"], "owner": {"reputation": 2510, "user_id": 139781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/IWtCS.jpg?s=128&g=1", "display_name": "razeh", "link": "https://stackoverflow.com/users/139781/razeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1484174693, "creation_date": 1484174693, "question_id": 41602104, "link": "https://stackoverflow.com/questions/41602104/pyflakes-and-mixed-python-codebases", "title": "Pyflakes and mixed Python codebases", "body": "<p>I have a code base (C++, Python) with Python 2 and Python 3 scripts scattered throughout the source code.</p>\n\n<p>I'd like to run pyflakes (and pytest from within pyflakes) against various subdirectories in the code base, but when I run pyflakes from Python 2 it fails on the Python 3 scripts.</p>\n\n<p>Is there a clean way to run pyflakes against a mixed Python 2 and Python 3 code base?</p>\n"}, {"tags": ["python", "xml-parsing"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 7230498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/816c357df83c419c453c130e6b0ea498?s=128&d=identicon&r=PG&f=1", "display_name": "Deadulus", "link": "https://stackoverflow.com/users/7230498/deadulus"}, "edited": false, "score": 0, "creation_date": 1484175871, "post_id": 41602249, "comment_id": 70407265, "body": "Thank you for the quick reply. This is running on my raspberry pi. The StarGaze.xml is located in the same folder as the .py code above. I can now run the code without error however, I do not get any printed response?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 181, "user_id": 7230498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/816c357df83c419c453c130e6b0ea498?s=128&d=identicon&r=PG&f=1", "display_name": "Deadulus", "link": "https://stackoverflow.com/users/7230498/deadulus"}, "edited": false, "score": 0, "creation_date": 1484175918, "post_id": 41602249, "comment_id": 70407286, "body": "@Milesy okay, is the XML that you&#39;ve posted in the question the same as in the file? Thanks."}, {"owner": {"reputation": 181, "user_id": 7230498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/816c357df83c419c453c130e6b0ea498?s=128&d=identicon&r=PG&f=1", "display_name": "Deadulus", "link": "https://stackoverflow.com/users/7230498/deadulus"}, "edited": false, "score": 0, "creation_date": 1484176052, "post_id": 41602249, "comment_id": 70407329, "body": "@alexce - yes, exactly the same."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 181, "user_id": 7230498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/816c357df83c419c453c130e6b0ea498?s=128&d=identicon&r=PG&f=1", "display_name": "Deadulus", "link": "https://stackoverflow.com/users/7230498/deadulus"}, "edited": false, "score": 0, "creation_date": 1484176243, "post_id": 41602249, "comment_id": 70407385, "body": "@Milesy interesting, with exactly this XML inside <code>Stargaze.xml</code> and the exactly posted code in the question I&#39;m getting two lines printed on both 2.7 and 3.6 Pythons.."}, {"owner": {"reputation": 181, "user_id": 7230498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/816c357df83c419c453c130e6b0ea498?s=128&d=identicon&r=PG&f=1", "display_name": "Deadulus", "link": "https://stackoverflow.com/users/7230498/deadulus"}, "edited": false, "score": 0, "creation_date": 1484176512, "post_id": 41602249, "comment_id": 70407498, "body": "@alexce - apologies. It was not the same, my file was completely different. The code works perfectly. Thank you."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1484175390, "creation_date": 1484175390, "answer_id": 41602249, "question_id": 41602047, "link": "https://stackoverflow.com/questions/41602047/printing-child-node-using-xml/41602249#41602249", "title": "Printing child node using xml", "body": "<p>Iterate over the <code>object</code> nodes and locate the <code>constellation</code> and <code>ra</code> nodes using <code>findall()</code> and <code>find()</code> methods and <code>.attrib</code> attribute:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\ntree = ET.parse('StarGaze.xml')\nroot = tree.getroot()\n\nfor obj in root.findall(\"object\"):\n    constellation = obj.find(\"constellation\")\n    ra = obj.find(\"ra\")\n\n    print(constellation.attrib[\"id\"], constellation.text, ra.attrib[\"unit\"], ra.text)\n</code></pre>\n\n<p>Would print:</p>\n\n<pre><code>84 Ursa Minor hour 2.5301944\n84 Ursa Minor hour 2.5301944\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 7230498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/816c357df83c419c453c130e6b0ea498?s=128&d=identicon&r=PG&f=1", "display_name": "Deadulus", "link": "https://stackoverflow.com/users/7230498/deadulus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 1, "accepted_answer_id": 41602249, "answer_count": 1, "score": 1, "last_activity_date": 1484175390, "creation_date": 1484174423, "last_edit_date": 1484174589, "question_id": 41602047, "link": "https://stackoverflow.com/questions/41602047/printing-child-node-using-xml", "title": "Printing child node using xml", "body": "<p>Here is an api xml i am working with:</p>\n\n<pre><code>&lt;response&gt;\n    &lt;request&gt;polaris&lt;/request&gt;\n    &lt;status&gt;0&lt;/status&gt;\n    &lt;verbiage&gt;OK&lt;/verbiage&gt;\n    &lt;object id=\"S251\"&gt;\n        &lt;type id=\"1\"&gt;Star&lt;/type&gt;\n        &lt;name&gt;\u03b1 UMi&lt;/name&gt;\n        &lt;catId&gt;\u03b1 UMi&lt;/catId&gt;\n        &lt;constellation id=\"84\"&gt;Ursa Minor&lt;/constellation&gt;\n        &lt;ra unit=\"hour\"&gt;2.5301944&lt;/ra&gt;\n        &lt;de unit=\"degree\"&gt;89.264167&lt;/de&gt;\n        &lt;mag&gt;2.02&lt;/mag&gt;\n    &lt;/object&gt;\n    &lt;object id=\"S251\"&gt;\n        &lt;type id=\"1\"&gt;Star&lt;/type&gt;\n        &lt;name&gt;\u03b1 UMi&lt;/name&gt;\n        &lt;catId&gt;\u03b1 UMi&lt;/catId&gt;\n        &lt;constellation id=\"84\"&gt;Ursa Minor&lt;/constellation&gt;\n        &lt;ra unit=\"hour\"&gt;2.5301944&lt;/ra&gt;\n        &lt;de unit=\"degree\"&gt;89.264167&lt;/de&gt;\n        &lt;mag&gt;2.02&lt;/mag&gt;\n    &lt;/object&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>Here is my current code:</p>\n\n<pre><code>   #!/usr/bin/env python\n\n   import xml.etree.ElementTree as ET\n   tree = ET.parse('StarGaze.xml')\n   root = tree.getroot()\n   callevent=root.find('polaris')\n\n   Moc1=callevent.find('polaris')\n\n\n   for node in Moc1.getiterator():\n       if node.tag=='constellation id':\n           print node.tag, node.attrib, node.text'\n</code></pre>\n\n<p>I want to be able to print defined children. For example: </p>\n\n<p>constellation id=</p>\n\n<p>ra unit=</p>\n\n<p>Any help would be very much appreciated</p>\n"}, {"tags": ["python", "pandas", "weighted-average"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 5548564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cd3acc4907569b52e68bb0e4a258ed77?s=128&d=identicon&r=PG&f=1", "display_name": "grove80904", "link": "https://stackoverflow.com/users/5548564/grove80904"}, "edited": false, "score": 0, "creation_date": 1484187715, "post_id": 41602120, "comment_id": 70410569, "body": "I had some NaN values in my actual data which caused problems for this solution.  To get around that, I simply changed <code>np.average()</code> to <code>np.ma.average()</code>.  Thanks!"}], "tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 4, "last_activity_date": 1484174779, "creation_date": 1484174779, "answer_id": 41602120, "question_id": 41602026, "link": "https://stackoverflow.com/questions/41602026/weighted-average-grouped-by-day-of-2-columns-based-on-criteria-in-3rd-column-o/41602120#41602120", "title": "Weighted average, grouped by day, of 2 columns based on criteria in 3rd column of pandas dataframe", "body": "<p>Filter the DataFrame to remove values where Col1 is 'A', then perform a <code>groupby</code> using <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.average.html\" rel=\"nofollow noreferrer\"><code>np.average</code></a>:</p>\n\n<pre><code>df[df['Col1'] != 'A'].groupby(pd.TimeGrouper('D')) \\\n                     .apply(lambda grp: np.average(grp['Col3'], weights=grp['Col2']))\n</code></pre>\n\n<p>The resulting output (using <code>np.random.seed([3,1415])</code> as the random state seed) :</p>\n\n<pre><code>2017-01-01    11.975517\n2017-01-02    12.411798\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 5548564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cd3acc4907569b52e68bb0e4a258ed77?s=128&d=identicon&r=PG&f=1", "display_name": "grove80904", "link": "https://stackoverflow.com/users/5548564/grove80904"}, "edited": false, "score": 0, "creation_date": 1484187866, "post_id": 41602291, "comment_id": 70410613, "body": "This seemed a little more laborious than the solution from root, but it worked nonetheless +1.  Thanks."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1484175547, "creation_date": 1484175547, "answer_id": 41602291, "question_id": 41602026, "link": "https://stackoverflow.com/questions/41602026/weighted-average-grouped-by-day-of-2-columns-based-on-criteria-in-3rd-column-o/41602291#41602291", "title": "Weighted average, grouped by day, of 2 columns based on criteria in 3rd column of pandas dataframe", "body": "<pre><code>np.random.seed([3,1415])\ndf = pd.DataFrame({'Col1' : 16 * ['A', 'B', 'C'], \n                   'Col2' : np.random.rand(48), \n                   'Col3' : np.random.randint(5, 20, 48)},\n                   index = pd.date_range('2017-01-01', periods=48, freq='H'))\n\n\nd1 = df.query('Col1 != \"A\"').drop('Col1', 1)\nd2 = d1.assign(Prod=d1.prod(1)).groupby(pd.TimeGrouper('D'))['Col2', 'Prod'].sum()\nd2.Prod.div(d2.Col2)\n\n2017-01-01    11.975517\n2017-01-02    12.411798\nFreq: D, dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 5548564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cd3acc4907569b52e68bb0e4a258ed77?s=128&d=identicon&r=PG&f=1", "display_name": "grove80904", "link": "https://stackoverflow.com/users/5548564/grove80904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 41602120, "answer_count": 2, "score": 3, "last_activity_date": 1484175547, "creation_date": 1484174334, "question_id": 41602026, "link": "https://stackoverflow.com/questions/41602026/weighted-average-grouped-by-day-of-2-columns-based-on-criteria-in-3rd-column-o", "title": "Weighted average, grouped by day, of 2 columns based on criteria in 3rd column of pandas dataframe", "body": "<p>I have a pandas dataframe</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'Col1' : 16 * ['A', 'B', 'C'], \n                   'Col2' : np.random.rand(48), \n                   'Col3' : np.random.randint(5, 20, 48)},\n                   index = pd.date_range('2017-01-01', periods=48, freq='H'))\n\nIn [1]: df.tail()\nOut [1]: \n                    Col1      Col2  Col3\n2017-01-02 19:00:00    B  0.144572     7\n2017-01-02 20:00:00    C  0.740500    11\n2017-01-02 21:00:00    A  0.357077    19\n2017-01-02 22:00:00    B  0.652536     9\n2017-01-02 23:00:00    C  0.022437     8\n</code></pre>\n\n<p>I want to return a dataframe that displays the weighted average of Col3 by date where Col2 is the weighting and Col1 is either 'B' or 'C' while ignoring 'A.'  This would return something that looks like the following.</p>\n\n<pre><code>           WtdAvg\n2017-01-01   XX.X\n2017-01-02   YY.Y\n</code></pre>\n"}, {"tags": ["python", "function", "math", "equation"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484174596, "post_id": 41602009, "comment_id": 70406814, "body": "you could use <code>eval()</code> but it is not prefered method (for security reason). You could create universal function like <code>ax^2+bx+c</code> and only ask user for <code>a</code>, <code>b</code>, <code>c</code> then you can easily define <code>def fun(a,b,c,x): return a*x**2 + b*x + c</code>. Or you could try <a href=\"http://www.sympy.org/en/index.html\" rel=\"nofollow noreferrer\">sympy</a> module for symbolic mathematics."}, {"owner": {"reputation": 1044, "user_id": 6451874, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2fcba324f29f2095a65d59ba83dd4bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Ofer Arial", "link": "https://stackoverflow.com/users/6451874/ofer-arial"}, "edited": false, "score": 0, "creation_date": 1484174949, "post_id": 41602009, "comment_id": 70406935, "body": "@Emre Could you give an example? It will be much easier to help this way.."}, {"owner": {"reputation": 17, "user_id": 5890841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9f0893bd744fe155b570376203b0baa?s=128&d=identicon&r=PG&f=1", "display_name": "Emre &#199;ak\u0131r", "link": "https://stackoverflow.com/users/5890841/emre-%c3%87ak%c4%b1r"}, "edited": false, "score": 0, "creation_date": 1484242333, "post_id": 41602009, "comment_id": 70440347, "body": "Thank you so much for the explanation! I guess I understood the way &#39;rednammoc&#39; did."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5890841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9f0893bd744fe155b570376203b0baa?s=128&d=identicon&r=PG&f=1", "display_name": "Emre &#199;ak\u0131r", "link": "https://stackoverflow.com/users/5890841/emre-%c3%87ak%c4%b1r"}, "edited": false, "score": 0, "creation_date": 1484242588, "post_id": 41602407, "comment_id": 70440488, "body": "This one exactly what I was looking for. I&#39;ll try this and let you know. Thank you so much!"}], "tags": [], "owner": {"reputation": 356, "user_id": 1277624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e2f69416a1a5ba7f6ae840e8acaa806?s=128&d=identicon&r=PG", "display_name": "rednammoc", "link": "https://stackoverflow.com/users/1277624/rednammoc"}, "is_accepted": true, "score": 0, "last_activity_date": 1484177183, "last_edit_date": 1495540917, "creation_date": 1484176097, "answer_id": 41602407, "question_id": 41602009, "link": "https://stackoverflow.com/questions/41602009/encryption-program-with-python-using-a-specific-function/41602407#41602407", "title": "Encryption program with python using a specific function", "body": "<p>You can go char-by-char within a for-loop and use ord() to get the ordinal number of a ascii-character. To evaluate arithmetic expressions you might use ast (see <a href=\"https://stackoverflow.com/questions/2371436/evaluating-a-mathematical-expression-in-a-string\">Evaluating a mathematical expression in a string</a>). Before that you need to replace \"x\" with the previously gathered ordinal number.</p>\n\n<p>Here's a minimal example which hopefully does exactly that.</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>$ python mycrypt.py \"Stack Overflow is Awesome!\" \"3x+2\"\n:251:350:293:299:323:98:239:356:305:344:308:326:335:359:98:317:347:98:197:359:305:347:335:329:305:101:\n</code></pre>\n\n<p><strong>Code:</strong> </p>\n\n<pre><code>#!/usr/bin/python\nimport sys\nimport ast\nimport operator as op\n\n# supported operators\noperators = {ast.Add: op.add, ast.Sub: op.sub, ast.Mult: op.mul,\n             ast.Div: op.truediv, ast.Pow: op.pow, ast.BitXor: op.xor,\n             ast.USub: op.neg}\n\ndef eval_expr(expr):\n    \"\"\"\n    &gt;&gt;&gt; eval_expr('2^6')\n    4\n    &gt;&gt;&gt; eval_expr('2**6')\n    64\n    &gt;&gt;&gt; eval_expr('1 + 2*3**(4^5) / (6 + -7)')\n    -5.0\n    \"\"\"\n    return eval_(ast.parse(expr, mode='eval').body)\n\ndef eval_(node):\n    if isinstance(node, ast.Num): # &lt;number&gt;\n        return node.n\n    elif isinstance(node, ast.BinOp): # &lt;left&gt; &lt;operator&gt; &lt;right&gt;\n        return operators[type(node.op)](eval_(node.left), eval_(node.right))\n    elif isinstance(node, ast.UnaryOp): # &lt;operator&gt; &lt;operand&gt; e.g., -1\n        return operators[type(node.op)](eval_(node.operand))\n    else:\n        raise TypeError(node)\n\n# Your first argument (e.g. \"Stack Overflow is Awesome!\")\ntext = sys.argv[1]\n# Your second argument (e.g. \"3x+2\")\ncalc = sys.argv[2]\n\n# Print beginning\nsys.stdout.write(\":\")   \n# For each character in text do your calculation                \nfor c in text:\n    # Generate expression by replacing x  with ascii ordinal number \n    #  prefixed with a multiplicator. \n    # -&gt; character \"a\" has ordinal number \"97\"\n    # -&gt; expression \"3x+2\" will be changed to \"3*97+2\"\n    #  likewise the expression \"3*x+2\" will be changed to \"3**97+2\" \n    #  which might not be the expected result.\n    expr = calc.replace(\"x\", \"*\" + str(ord(c))) \n    # Evaluate expression\n    out = eval_expr(expr)\n    # Print cipher with trailing colon and without newline                          \n    sys.stdout.write(str(out) + \":\")\n# Print ending newline\nprint(\"\")                                           \n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5890841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9f0893bd744fe155b570376203b0baa?s=128&d=identicon&r=PG&f=1", "display_name": "Emre &#199;ak\u0131r", "link": "https://stackoverflow.com/users/5890841/emre-%c3%87ak%c4%b1r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 41602407, "answer_count": 1, "score": 0, "last_activity_date": 1484177183, "creation_date": 1484174276, "question_id": 41602009, "link": "https://stackoverflow.com/questions/41602009/encryption-program-with-python-using-a-specific-function", "title": "Encryption program with python using a specific function", "body": "<p>I'm trying to write a python program that is going to encrypt the user's input message by using an equation that is also given by the user.  This is going to be my first program (except \"hello world\" and \"number guesser\"). I'll try to be more specific. I think the first thing to do is, creating a list and writing all the letters and their corresponding numbers. asking for string input, and asking the user write an equation like 3x+2. What I am trying to do is, for each letter of the string input find the corresponding number from the list and use the equation to produce another output. I think I should split the message that is going to be encrypted and find the each number values, but how am I gonna make the python put those numbers into the equation? Thank you for any help </p>\n"}, {"tags": ["python", "python-2.7", "numpy", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7169487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1fd45ca6ca157e144c2a8e74d21eae?s=128&d=identicon&r=PG&f=1", "display_name": "Alysha", "link": "https://stackoverflow.com/users/7169487/alysha"}, "edited": false, "score": 0, "creation_date": 1484226266, "post_id": 41602285, "comment_id": 70429093, "body": "Fixing the data, I still get the same error. I was missing a value in the <code>log_op_T = np.array([4.25, 4.3, 4.35, 4.4, 4.45, 4.5, 4.55, 4.6, 4.65, 4.7, 4.75, 4.8, 4.85, 4.9, 4.95])</code> <code>op_T = np.power(log_op_T, 10)</code> Is there something missing in the syntax I used to interpolate this?"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1484175526, "creation_date": 1484175526, "answer_id": 41602285, "question_id": 41601987, "link": "https://stackoverflow.com/questions/41601987/syntax-for-interp2d-or-rectbivariatespline/41602285#41602285", "title": "Syntax for interp2d or RectBivariateSpline", "body": "<p>Copy-n-pasting your arrays I get:</p>\n\n<pre><code>In [391]: op_r.shape\nOut[391]: (19,)\nIn [393]: op_T.shape\nOut[393]: (14,)\nIn [395]: log_op_val.shape\nOut[395]: (15, 19)\n</code></pre>\n\n<p>15 does not equal 14 or 19!</p>\n"}], "owner": {"reputation": 13, "user_id": 7169487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1fd45ca6ca157e144c2a8e74d21eae?s=128&d=identicon&r=PG&f=1", "display_name": "Alysha", "link": "https://stackoverflow.com/users/7169487/alysha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484175526, "creation_date": 1484174155, "last_edit_date": 1495542829, "question_id": 41601987, "link": "https://stackoverflow.com/questions/41601987/syntax-for-interp2d-or-rectbivariatespline", "title": "Syntax for interp2d or RectBivariateSpline", "body": "<p>I have a data set of points, logR, logT, and logX, where X is a function of R and T. It's only a data set, I have no defined function for X. The data is listed in a table, where logR corresponds to columns and logT corresponds to logT. I am attempting to use an interpolation function to evaluate this grid at two inputs of logR and logT. I found my situation most related to this post:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30083872/how-to-pass-arrays-into-scipy-interpolate-rectbivariatespline\">How to pass arrays into Scipy Interpolate RectBivariateSpline?</a></p>\n\n<p>But I could not arrange things so my function could be evaluated at my inputs. Here are my attempts:</p>\n\n<pre><code>import numpy as np\nfrom scipy.interpolate import RectBivariateSpline, interp2d\n\nop_r = np.array([1e-8, 3.1622e-8, 1e-7, 3.1622e-7, 1e-6, 3.1622e-6, 1e-5,\n3.1622e-5, 1e-4, 3.1622e-4, 1e-3, 3.1622e-3, 1e-2, 3.1622e-2, 0.1, .31622, 1,\n3.1622, 10])\n\nop_T = np.array([17782.794, 19952.623, 22387.211, 25118.864, 28183.829,\n31622.777, 35481.339, 39810.717, 44668.359, 50118.723, 56234.133, 63095.734,\n79432.823, 89125.094])\n\nlog_op_val = np.array([[-0.598, -0.593, -0.583, -0.568, -0.539, -0.477,\n-0.353, -0.142, 0.168, 0.558, 0.990, 1.443, 1.915, 2.407, 2.866, 3.239, 3.517,\n3.725, 3.896], [-0.597, -0.592, -0.580, -0.561, -0.532, -0.474, -0.362,\n-0.165, 0.138, 0.539, 1.001, 1.476, 1.942, 2.426, 2.912, 3.352, 3.702, 3.968,\n4.175], [-0.588, -0.588, -0.578, -0.555, -0.520, -0.462, -0.357, -0.171,\n0.124, 0.529, 1.009, 1.507, 2.001, 2.487, 2.979, 3.453, 3.856, 4.176, 4.422],\n[-0.545, -0.559, -0.563, -0.546, -0.506, -0.442, -0.338, -0.159, 0.132, 0.538,\n1.015, 1.525, 2.051, 2.565, 3.072, 3.563, 3.996, 4.356, 4.634], [-0.520,\n-0.521, -0.519, -0.509, -0.475, -0.409, -0.301, -0.122, 0.167, 0.571, 1.052,\n1.570, 2.106, 2.642, 3.176, 3.684, 4.136, 4.517, 4.822], [-0.518, -0.514,\n-0.504, -0.478, -0.425, -0.344, -0.232, -0.056, 0.226, 0.629, 1.111, 1.631,\n2.169, 2.719, 3.276, 3.804, 4.275, 4.672, 4.990], [-0.517, -0.513, -0.504,\n-0.479, -0.417, -0.297, -0.129, 0.074, 0.353, 0.734, 1.202, 1.715, 2.250,\n2.800, 3.364, 3.907, 4.394, 4.802, 5.127], [-0.518, -0.514, -0.505, -0.484,\n-0.429, -0.311, -0.104, 0.185, 0.521, 0.894, 1.329, 1.818, 2.341, 2.883,\n3.441, 3.986, 4.481, 4.894, 5.218], [-0.517, -0.514, -0.507, -0.490, -0.443,\n-0.337, -0.142, 0.169, 0.588, 1.039, 1.480, 1.936, 2.431, 2.955, 3.496, 4.031,\n4.521, 4.934, 5.253], [-0.516, -0.513, -0.507, -0.492, -0.453, -0.361, -0.184,\n0.103, 0.510, 1.009, 1.531, 2.022, 2.502, 3.002, 3.519, 4.035, 4.513, 4.920,\n5.235], [-0.515, -0.511, -0.506, -0.493, -0.460, -0.381, -0.225, 0.036, 0.409,\n0.877, 1.415, 1.973, 2.502, 3.005, 3.505, 4.002, 4.468, 4.868, 5.183],\n[-0.515, -0.511, -0.503, -0.490, -0.462, -0.394, -0.257, -0.022, 0.321, 0.759,\n1.269, 1.827, 2.403, 2.949, 3.458, 3.948, 4.405, 4.802, 5.113], [-0.516,\n-0.512, -0.502, -0.487, -0.460, -0.400, -0.279, -0.066, 0.254, 0.672, 1.164,\n1.701, 2.278, 2.851, 3.388, 3.889, 4.347, 4.741, 5.047], [-0.517, -0.512,\n-0.503, -0.485, -0.454, -0.397, -0.287, -0.092, 0.211, 0.620, 1.101, 1.628,\n2.190, 2.762, 3.322, 3.841, 4.305, 4.695, 4.989], [-0.516, -0.512, -0.503,\n-0.484, -0.449, -0.388, -0.283, -0.099, 0.192, 0.596, 1.071, 1.596, 2.148,\n2.714, 3.281, 3.811, 4.280, 4.661, 4.937]])\n\nT_1a = 22100.\nR_a = rho_ta /(((T_1a)/(1e6))**3)\ngri_chi_a = RectBivariateSpline(op_r, op_T, op_val)\nchi_a = RectBivariateSpline(R_a, T_1a)\nprint chi_a\n</code></pre>\n\n<p>And this is the error I get:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"model.py\", line 279, in &lt;module&gt;\ngri_chi_a = RectBivariateSpline(op_r, op_T, op_val)\n\"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/scipy/interpolate/fitpack2.py\", line 882, in __init__\nraise TypeError('x dimension of z must have same number of '\nTypeError: x dimension of z must have same number of elements as x\n</code></pre>\n\n<p>It is the same as if I use the interp2d function. Any help would be appreciated.</p>\n"}, {"tags": ["python", "windows", "pip", "docker-cloud"], "comments": [{"owner": {"reputation": 521, "user_id": 3731982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b05ca9c76b96b9003035cf8b96518c04?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3731982/steve"}, "edited": false, "score": 0, "creation_date": 1484176130, "post_id": 41601973, "comment_id": 70407353, "body": "Double check that your package is supported in Python 3. It seems to be trying to import the <code>exceptions</code> module, but I tried this on my local Python 2 and it works, but not on my local Python 3."}, {"owner": {"reputation": 521, "user_id": 3731982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b05ca9c76b96b9003035cf8b96518c04?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3731982/steve"}, "edited": false, "score": 1, "creation_date": 1484178346, "post_id": 41601973, "comment_id": 70408112, "body": "Please see <a href=\"https://github.com/docker/dockercloud-cli/issues/21\" rel=\"nofollow noreferrer\">issue 21</a> on GitHub. It seems it does not support Python 3."}], "answers": [{"comments": [{"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 1, "creation_date": 1490772716, "post_id": 41602010, "comment_id": 73256201, "body": "Link-only answers are generally <a href=\"http://meta.stackexchange.com/a/8259/204922\">frowned upon</a> on Stack Overflow. In time it is possible for links to atrophy and become unavailable, meaning that your answer is useless to users in the future. It would be best if you could provide the general details of your answer in your actual post, citing your link as a reference."}, {"owner": {"reputation": 7, "user_id": 4096191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce1bcbfc0a82260446ade346c0a9207?s=128&d=identicon&r=PG", "display_name": "brorbw", "link": "https://stackoverflow.com/users/4096191/brorbw"}, "reply_to_user": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 0, "creation_date": 1518309187, "post_id": 41602010, "comment_id": 84453048, "body": "Well, copying the answer of someone else is just plagiarism, which is why I added the links."}], "tags": [], "owner": {"reputation": 7, "user_id": 4096191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce1bcbfc0a82260446ade346c0a9207?s=128&d=identicon&r=PG", "display_name": "brorbw", "link": "https://stackoverflow.com/users/4096191/brorbw"}, "is_accepted": false, "score": -2, "last_activity_date": 1484174276, "last_edit_date": 1495541853, "creation_date": 1484174276, "answer_id": 41602010, "question_id": 41601973, "link": "https://stackoverflow.com/questions/41601973/docker-cloud-cli-error-on-windows/41602010#41602010", "title": "Docker-Cloud CLI Error on Windows", "body": "<p>Check the following</p>\n\n<p><a href=\"https://stackoverflow.com/questions/338768/python-importerror-no-module-named\">Python error &quot;ImportError: No module named&quot;</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/17309288/importerror-no-module-named-requests\">ImportError: No module named requests</a></p>\n"}], "owner": {"reputation": 41, "user_id": 5517971, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rTGMyuqHyf4/AAAAAAAAAAI/AAAAAAAAABc/2YL-osZe6cw/photo.jpg?sz=128", "display_name": "NightTerror6", "link": "https://stackoverflow.com/users/5517971/nightterror6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1484180958, "creation_date": 1484174120, "last_edit_date": 1484180958, "question_id": 41601973, "link": "https://stackoverflow.com/questions/41601973/docker-cloud-cli-error-on-windows", "title": "Docker-Cloud CLI Error on Windows", "body": "<p>I'm trying to install the Docker-Cloud CLI with pip, and it installs successfully.  However, when I check the version (as suggested by the site), I get the error in the paste below.  I'm running Windows 10 and Python 3.6.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\aglas\\AppData\\Local\\Programs\\Python\\Python36-32\\Scripts\\docker-cloud-script.py\", line 11, in &lt;module&gt;\n    load_entry_point('docker-cloud==1.0.7', 'console_scripts', 'docker-cloud')()\n  File \"c:\\users\\aglas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pkg_resources\\__init__.py\", line 565, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"c:\\users\\aglas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2631, in load_entry_point\n    return ep.load()\n  File \"c:\\users\\aglas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2291, in load\n    return self.resolve()\n  File \"c:\\users\\aglas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pkg_resources\\__init__.py\", line 2297, in resolve\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\n  File \"c:\\users\\aglas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\dockercloudcli\\cli.py\", line 10, in &lt;module&gt;\n    from dockercloudcli import commands\n  File \"c:\\users\\aglas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\dockercloudcli\\commands.py\", line 15, in &lt;module&gt;\n    from dockercloudcli import utils\n  File \"c:\\users\\aglas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\dockercloudcli\\utils.py\", line 16, in &lt;module&gt;\n    from exceptions import BadParameter, StreamOutputError\nModuleNotFoundError: No module named 'exceptions'\n</code></pre>\n"}, {"tags": ["python", "gtk"], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 1277624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e2f69416a1a5ba7f6ae840e8acaa806?s=128&d=identicon&r=PG", "display_name": "rednammoc", "link": "https://stackoverflow.com/users/1277624/rednammoc"}, "edited": false, "score": 0, "creation_date": 1484257914, "post_id": 41613232, "comment_id": 70448755, "body": "Thanks for your help and all the tips! Unfortunately for this project i&#39;m forced to use GTK 2, but i&#39;ll definitely check out GTK 3 next time."}], "tags": [], "owner": {"reputation": 10263, "user_id": 518853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjKPw.png?s=128&g=1", "display_name": "liberforce", "link": "https://stackoverflow.com/users/518853/liberforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1484303923, "last_edit_date": 1484303923, "creation_date": 1484224019, "answer_id": 41613232, "question_id": 41601893, "link": "https://stackoverflow.com/questions/41601893/why-does-gtk-table-takes-twice-as-much-space-than-it-should/41613232#41613232", "title": "Why does gtk.Table takes twice as much space than it should?", "body": "<p>It turns out it's your <code>event_box.set_border_width(25)</code> that hurts. If you just want to space evenly your labels, us the padding arguments of <code>GtkTable::attach</code> instead.</p>\n\n<p>Here are unrelated improvements:\ndon't connect <code>gtk_main_quit</code> to the <code>delete-event</code> signal, connect it to the <code>destroy</code> signal instead. <code>delete-event</code> is when you want to do something before quitting (for example, display a popup \"are you sure ? yes/no\"), but what you want is to quit gtk when the window is really destroyed.</p>\n\n<p>Also, instead of prepending your widgets when adding them in the table, append them and use a range starting from 0 so it's easier to see where the widgets are added (the indexes in the table are zero-based).</p>\n\n<p>As for your VBox, in this context it's useless. If you only have widget which content takes the whole window, just add it directly to your GtkWindow (but maybe it's needed in our unstripped version of the program).</p>\n\n<p>Finally, you don't need to call <code>gtk_widget_show</code> on each widget. Just focus on constructing your widget hierarchy, and then run <code>gtk_widget_show_all</code> on the toplevel window. It will recursively show all the widgets in it.</p>\n\n<p>That gives us in the end:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport pygtk\npygtk.require('2.0')\nimport gtk\n\nclass MyProgram:\n\n    def __init__(self):\n        app_window = gtk.Window(gtk.WINDOW_TOPLEVEL)\n        app_window.set_border_width(10)\n        app_window.connect('destroy', lambda w: gtk.main_quit())\n        table = gtk.Table(rows=1, columns=1, homogeneous=True)\n\n        for col in range(0,9):\n            for row in range(0,4):\n                event_box = gtk.EventBox()\n                label_day = gtk.Label('')\n                label_day.set_size_request(18, 18)\n                event_box.add(label_day)\n                event_box.modify_bg(gtk.STATE_NORMAL,\n                        event_box.get_colormap().alloc_color(\"orange\"))\n#                event_box.set_border_width(25)\n                table.attach(event_box, col, col + 1, row, row + 1, 0, 0, 12, 12)\n        app_window.add(table)\n        app_window.show_all()\n\n\nif __name__ == '__main__':\n    MyProgram()\n    gtk.main()\n</code></pre>\n\n<p>You also have a tool named <a href=\"https://wiki.gnome.org/Projects/GTK+/Inspector\" rel=\"nofollow noreferrer\"><code>gtk-inspector</code></a> but I don't know if it works with GTK 2. If not, fallback on <code>gtk-parasite</code>. These tools will help you analyze a running gtk user interface and see the characteristics of its widgets.</p>\n\n<p>Also, GTK 3 has been out for a few years now and GTK 4 is on the road. Consider using GTK 3 for new code. It doesn't use pygtk anymore, it's pygobject instead trough the <code>gi</code> package (GObject introspection).</p>\n\n<p>Here's the GTK 3 in python official tutorial:</p>\n\n<p><a href=\"https://python-gtk-3-tutorial.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">https://python-gtk-3-tutorial.readthedocs.io/en/latest/index.html</a></p>\n"}], "owner": {"reputation": 356, "user_id": 1277624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e2f69416a1a5ba7f6ae840e8acaa806?s=128&d=identicon&r=PG", "display_name": "rednammoc", "link": "https://stackoverflow.com/users/1277624/rednammoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 41613232, "answer_count": 1, "score": 0, "last_activity_date": 1484303923, "creation_date": 1484173749, "last_edit_date": 1484174136, "question_id": 41601893, "link": "https://stackoverflow.com/questions/41601893/why-does-gtk-table-takes-twice-as-much-space-than-it-should", "title": "Why does gtk.Table takes twice as much space than it should?", "body": "<p>I'm using <em>gtk.Table</em> in combination with an <em>EventBox</em> for every cell to draw a colored grid. After trying out a minimal example i've discovered that the window is twice as big as the actual table. Also it's not possible to shrink the window any further when the application is running.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/dBsqQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dBsqQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>It seems like something went horrible wrong but i'm not able to figure out the cause. Here's the minimal example to reproduce the misbehaviour:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport pygtk\npygtk.require('2.0')\nimport gtk\n\nclass MyProgram:\n\n    def __init__(self):\n        app_window = gtk.Window(gtk.WINDOW_TOPLEVEL)\n        app_window.set_border_width(10)\n        app_window.connect(\"delete_event\", lambda w,e: gtk.main_quit())\n        vbox_app = gtk.VBox(False, 0)\n        table_layout = gtk.Table(rows=1,columns=1, homogeneous=True)\n        for col in range(1,10):\n                for row in range(1,5):\n                        event_box = gtk.EventBox()\n                        label_day = gtk.Label(\"\")\n                        label_day.set_size_request(18,18)\n                        label_day.show()\n                        event_box.add(label_day)\n                        event_box.modify_bg(gtk.STATE_NORMAL,\n                                event_box.get_colormap().alloc_color(\"orange\"))\n                        event_box.set_border_width(25)\n                        event_box.show()\n                        table_layout.attach(event_box, 0, col, 0, row, 0,0,0,0)\n        vbox_app.pack_start(table_layout)\n        app_window.add(vbox_app)\n        app_window.show_all()\n        return\n\ndef main():\n    gtk.main()\n    return 0\n\nif __name__ == \"__main__\":\n    MyProgram()\n    main()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 4, "creation_date": 1484173889, "post_id": 41601871, "comment_id": 70406540, "body": "What&#39;s with the nested function definitions here? You don&#39;t need closures..."}, {"owner": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "edited": false, "score": 0, "creation_date": 1484174178, "post_id": 41601871, "comment_id": 70406651, "body": "Is there a way to attach a file? I&#39;d attach the whole CSV if possible. It&#39;s just sample data. Also, what do you mean don&#39;t need closures? Sorry, my Python isn&#39;t great. Just getting back into it after a hiatus."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1484174317, "post_id": 41601871, "comment_id": 70406704, "body": "Honestly, just the header and the first couple of lines is all you need. With regard to closures, I am asking why you define functions inside a function, then simply call them inside that function.... it doesn&#39;t make any sense. You aren&#39;t going to be able to reuse those functions."}, {"owner": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "edited": false, "score": 0, "creation_date": 1484174462, "post_id": 41601871, "comment_id": 70406759, "body": "Added a data sample.  So should I have the functions defined inside the main function, then call them before I call finder() outside of the finder function?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1484174871, "post_id": 41601871, "comment_id": 70406900, "body": "What is &quot;the main function&quot;? You should define functions where they will be useful to you. <i>Calling</i> them inside <code>finder</code> seems reasonable. <i>Defining</i> them inside <code>finder</code> doesn&#39;t."}, {"owner": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "edited": false, "score": 0, "creation_date": 1484175001, "post_id": 41601871, "comment_id": 70406954, "body": "Ahhh, I follow now. I think I defined them inside <code>finder()</code> because I was defining the list variables inside, but I realize I could just put the variables outside of <code>finder()</code> and have them available globally."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "edited": false, "score": 0, "creation_date": 1484251905, "post_id": 41602207, "comment_id": 70445571, "body": "Hey man, this helped a ton! I used some of what you did here, but it also helped me re-examine the issue. I&#39;ve updated the initial post with the new code and a question.  Thanks so much for your help!"}, {"owner": {"reputation": 415, "user_id": 5706233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kiUE.jpg?s=128&g=1", "display_name": "Westly White", "link": "https://stackoverflow.com/users/5706233/westly-white"}, "reply_to_user": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "edited": false, "score": 1, "creation_date": 1484252901, "post_id": 41602207, "comment_id": 70446096, "body": "Check the updated answer. I thought there was multiple words in the row[&#39;word&#39;] element. Since there is only a single word, Just add it to a string, or add it to a list to be used later."}, {"owner": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "edited": false, "score": 0, "creation_date": 1484254026, "post_id": 41602207, "comment_id": 70446744, "body": "Thanks, that helped a ton. Now I have to figure out why it&#39;s pulling words from outside of the date range...  I printed the date range just to be sure it&#39;s not adding random dates, and it&#39;s not, they are all correct, but when I run the code to find the words it&#39;s grabbing the correct words but also random words from totally random dates. Very strange."}, {"owner": {"reputation": 415, "user_id": 5706233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kiUE.jpg?s=128&g=1", "display_name": "Westly White", "link": "https://stackoverflow.com/users/5706233/westly-white"}, "reply_to_user": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "edited": false, "score": 0, "creation_date": 1484262761, "post_id": 41602207, "comment_id": 70450709, "body": "Sometimes its better to print out the dates in a readable format so you can see if your data is correct. Write another script that will print out all of the data in a readable format and look for errors in the csv file itself. I dont see how a word could get past the date check if statement unless the add word is outside of the date check if statement"}], "tags": [], "owner": {"reputation": 415, "user_id": 5706233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kiUE.jpg?s=128&g=1", "display_name": "Westly White", "link": "https://stackoverflow.com/users/5706233/westly-white"}, "is_accepted": false, "score": 2, "last_activity_date": 1484252814, "last_edit_date": 1484252814, "creation_date": 1484175180, "answer_id": 41602207, "question_id": 41601871, "link": "https://stackoverflow.com/questions/41601871/need-to-find-a-word-in-a-csv-file-based-off-of-conditional/41602207#41602207", "title": "Need to find a word in a CSV file based off of conditional", "body": "<p>I dont know how the data is formatted, but here is my attempt. </p>\n\n<p>import time</p>\n\n<pre><code>def finder(start_date='2014-06-22', end_date='2014-07-22'):\n    \"\"\" \n    :param start_date: Starting date\n    :param end_date: Ending date\n    \"\"\"\n\n    def filterDates(reader):\n        datelist = []\n        for row in reader:\n            created_on = float(row['created_at'])\n            d = time.strftime('%Y-%m-%d', time.localtime(createdOn)) # Converts dates\n\n            # Is between starting and ending dates\n            if d &gt;= start_date  and d &lt;= end_date:\n                # Going to use the created_on value so we dont have to reformat it again\n                datelist.append(created_on)\n        return datelist\n\n    def findWords(reader, datelist):\n        for row in reader:\n            if  float(row['created_at']) in datelist:\n                words = row['word']\n                for word in words:      \n                    print(word)\n\n    with open('sample_data.csv', encoding=\"utf8\") as csvfile:\n        reader = csv.DictReader(csvfile)\n\n    dates = filterDates(reader)\n    dates = dates.sort()\n    findWords(reader, dates)     \n\nfinder('2014-06-22', '2014-07-22')\n</code></pre>\n\n<p>EDIT:\nIf you want to add each word to a list use this</p>\n\n<p>Add this outside of the loop</p>\n\n<pre><code>sentence_list = []\n</code></pre>\n\n<p>change </p>\n\n<pre><code>words = row['word'] \n</code></pre>\n\n<p>to </p>\n\n<pre><code>word = row['word']\n</code></pre>\n\n<p>then change </p>\n\n<pre><code>for word in words:      \n    print(word)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>sentence_list.append(word)\n</code></pre>\n\n<p>If you want to use a string add this outside of the loop</p>\n\n<pre><code>sentence = \"\"\n</code></pre>\n\n<p>Then when you print the word, just add it to the sentence</p>\n\n<pre><code># adding a Word to the sentence\nsentence = \"{} {}\".format(sentence, word)\n</code></pre>\n\n<p>and finally add this to the the bottom outside of the loop</p>\n\n<pre><code>print(sentence)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 2836149, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e42f789b9b1f6e191cc1bea52ffa072b?s=128&d=identicon&r=PG&f=1", "display_name": "RedDeadVolvo", "link": "https://stackoverflow.com/users/2836149/reddeadvolvo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484252814, "creation_date": 1484173693, "last_edit_date": 1484251843, "question_id": 41601871, "link": "https://stackoverflow.com/questions/41601871/need-to-find-a-word-in-a-csv-file-based-off-of-conditional", "title": "Need to find a word in a CSV file based off of conditional", "body": "<p>I am truly stuck. My task here is to filter the dates of a 5000 record CSV to find a specific date range, order it in ascending order, and then take the fields of a different column which creates a sentence. I have been able to successfully sort for the dates and order them, but my problem now is that I don't know how to get the words that correspond with that row. Here is the code:</p>\n\n<pre><code>#/usr/bin/python3\n\nimport csv\nimport time\n\n\ndef finder():\n    with open('sample_data.csv', encoding=\"utf8\") as csvfile:\n        reader = csv.DictReader(csvfile)\n        r = [] # This will hold our ID numbers for rows\n        c = [] # This will hold our initial dates that are filtered out from the main csv\n        l = [] # This will hold our sorted dates from c\n        w = [] # This will hold our words \n        sentence = '' #This will be our sentence\n\n        # Filter out created_at dates we don't care about\n\n        def filterDates():\n            for row in reader:\n                createdOn = float(row['created_at'])\n                d = time.strftime('%Y-%m-%d', time.localtime(createdOn)) # Converts dates\n\n                if d &lt; '2014-06-22':\n                    pass\n                else:\n                    c.append(d)\n\n        filterDates()\n\n        def sort(c):\n            for i in c:\n                if i &gt; '2014-06-22' and i &lt; '2014-07-22':\n                    l.append(i)\n                    l.sort(reverse=False)\n                else:\n                    pass\n\n        sort(c)\n\n        def findWords(l):\n            for row in reader:\n                words = row['word']\n                for x in range(l):\n                    print(words[0])\n\n        findWords(l)\n\nfinder()\n</code></pre>\n\n<p>I know this code is probably sloppy and all over the place. I saw it as a challenge for a job and thought I could do it easily, but apparently my Python isn't quite up to snuff. I haven't used Python CSV before. I will say right off the bat that I no longer plan to apply for this job, but this will drive me crazy if I can't figure it out. I've already spent hours trying different things, my issue lies in how to take the rows that have the correct dates and get the words.</p>\n\n<p>All suggestions and help is appreciated! For my own sanity, I need to figure this out. </p>\n\n<p>Thanks,\nRDD</p>\n\n<p>Data Sample:</p>\n\n<pre><code>id  created_at  first_name  last_name   email   gender  company currency    word    drug_brand  drug_name   drug_company    pill_color  frequency   token   keywords\n1   1309380645  Stephanie   Franklin    sfranklin0@sakura.ne.jp Female  Latz    IDR transitional    SUNLEYA Age minimizing sun care AVOBENZONE, OCTINOXATE, OCTISALATE, OXYBENZONE  C.F.E.B. Sisley Maroon  Yearly  ______T______h__e________ _______N__e__z_____p______e_____________d______i______a_____n__ _____h__i__v__e___-_____m___i____n__d__ _____________f ________c_______h__a__________s_.__ _Z________a_____l_____g________o__._   est risus auctor sed tristique in\n2   1237178109  Michelle    Fowler  mfowler1@oracle.com Female  Skipstorm   EUR flexibility Medulla Arnica  Medulla Arnica  Uriel Pharmacy Inc. Yellow  Once    _____   morbi vestibulum velit id\n3   1303585711  Betty   Barnes  bbarnes2@howstuffworks.com  Female  Skibox  IDR workforce   Rash Relief Zinc Oxide Dimethicone  Touchless Care Concepts LLC Purple  Monthly ___ ac est lacinia\n4   1231175716  Jerry   Rogers  jrogers3@canalblog.com  Male    Cogibox IDR content-based   up and up acid controller complete  Famotidine, Calcium Carbonate, Magnesium Hydroxide  Target Corporation  Maroon  Daily   NIL augue a suscipit nulla elit\n5   1236709011  Harry   Garrett hgarrett4@mlb.com   Male    Yotz    RUB coherent    Vistaril    HYDROXYZINE PAMOATE Pfizer Laboratories Div Pfizer Inc  Orange  Never   \u00ef\u00bf\u00bd_nb_l_ _u___ __olop __ __oq_l _n _unp_p__u_ _od___ po_sn__ op p_s '__l_ _u__s_d_p_ _n_____suo_ '____ __s _olop _nsd_ ___o_   morbi ut odio cras\n6   1400030214  Lori    Martin  lmartin5@apache.org Female  Aivee   EUR software    Fluorouracil    Fluorouracil    Taro Pharmaceutical Industries Ltd. Pink    Daily   _   dui vel sem\n7   1368791435  Joe Turner  jturner6@elpais.com Male    Mycat   IRR tangible    Sulfacetamide Sodium    Sulfacetamide Sodium    Paddock Laboratories, LLC   Aquamarine  Often   1;DROP TABLE users  nulla facilisi cras non velit\n8   1394919241  Ruth    Bryant  rbryant7@dell.com   Female  Browsecat   IDR incremental Pollens - Trees, Mesquite, Prosopis juliflora   Mesquite, Prosopis juliflora    Jubilant HollisterStier LLC Aquamarine  Weekly  ___________ et magnis dis\n9   1352948920  Cynthia Lopez   clopez8@gov.uk  Female  Twitterbeat USD Up-sized    Ideal Flawless  Octinoxate, Titanium Dioxide    Avon Products, Inc  Red Daily   (_\u00ef\u00bf\u00bd_\u00ef\u00bf\u00bd___ ___)   purus eu magna\n10  1319910259  Phillip Ross    pross9@ehow.com Male    Buzzshare   VEF data-warehouse  Serotonin   Serotonin   BioActive Nutritional   Orange  Weekly  __  vel sem\n</code></pre>\n\n<p>Okay, so after some tweaking a great help from Westley White, I was able to get this functioning! I have it condensed into one nested function that is doing what it is supposed to! Here is the code:</p>\n\n<pre><code>#/usr/bin/python3\n\nimport csv\nimport time\n\ndef finder():\n\n    with open('sample_data.csv', 'r', encoding='latin-1') as csvfile:\n        reader = csv.DictReader(csvfile)\n        def dates(reader):\n            # Set up variables\n            date_range = []\n            sentence = []\n\n            # Initiate iteration through CSV\n            for row in reader:\n                createdOn = float(row['created_at'])\n                words = str(row['word'])\n                d = time.strftime('%Y-%m-%d', time.localtime(createdOn)) # Converts dates\n\n                if d &gt;= '2014-06-22' and d &lt;= '2014-07-22':\n                    date_range.append(d)\n\n                date_range.sort()\n\n                for word in words:\n                    if d in date_range:\n                        sentence.append(word)\n\n            print(sentence)\n\n        dates(reader)\n\nfinder()\n</code></pre>\n\n<p>There is only one problem left. When <code>sentence[]</code> appends, it appends each character one at a time. I don't know how to go about combining the letters into the words from the CSV column without combining them all together. Any ideas?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pyqt", "pyqt5", "signals-slots", "qthread"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1484180759, "post_id": 41601862, "comment_id": 70408845, "body": "Sorry, but I can&#39;t reproduce this. Both methods give identical output, and all threads run outside of the main thread (this is using python 3.6.0, qt 5.7.1, and pyqt 5.7 on arch-linux)."}, {"owner": {"reputation": 21748, "user_id": 869951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/63uk6.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/869951/oliver"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1484190857, "post_id": 41601862, "comment_id": 70411353, "body": "@ekhumoro Thanks for checking. Geez, that is strange, it actually only happens when I run it through the PyCharm debugger (there are no breakpoints, btw). Python&#39;s debugger (pdb) runs it fine. I guess I will open a ticket with JetBrains."}], "answers": [{"tags": [], "owner": {"reputation": 21748, "user_id": 869951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/63uk6.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/869951/oliver"}, "is_accepted": true, "score": 1, "last_activity_date": 1484368986, "creation_date": 1484368986, "answer_id": 41646858, "question_id": 41601862, "link": "https://stackoverflow.com/questions/41601862/how-to-start-work-in-a-non-main-thread-qobject/41646858#41646858", "title": "How to start work in a non-main-thread QObject", "body": "<p>I posted a support request to jetbrains and they promptly answered : </p>\n\n<blockquote>\n  <p>It was made intentionally for a better debugging. You can uncheck\n  setting Settings | Build, Execution, Deployment | Python Debugger >\n  PyQt compatible and will have workers started as expected.</p>\n</blockquote>\n\n<p>Amazing! </p>\n"}], "owner": {"reputation": 21748, "user_id": 869951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/63uk6.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/869951/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 41646858, "answer_count": 1, "score": 2, "last_activity_date": 1484368986, "creation_date": 1484173644, "last_edit_date": 1484179495, "question_id": 41601862, "link": "https://stackoverflow.com/questions/41601862/how-to-start-work-in-a-non-main-thread-qobject", "title": "How to start work in a non-main-thread QObject", "body": "<p>Based on the Qt docs and other examples on the web, I would have thought that the following program, which uses <code>QThread.started</code> signal, would start workers in <strong><em>non-main threads</em></strong>. But this is not the case, instead each <code>work</code> slot is called from <strong>main</strong> thread: </p>\n\n<pre><code>import time\nimport sys\n\nfrom PyQt5.QtCore import QObject, QThread, pyqtSignal, pyqtSlot\nfrom PyQt5.QtWidgets import QApplication, QPushButton, QTextEdit, QVBoxLayout, QWidget\n\n\ndef trap_exc_during_debug(*args):\n    # when app exits, put breakpoint in next line when run in debugger, and analyse args\n    pass\n\n\nsys.excepthook = trap_exc_during_debug\n\n\nclass Checker(QObject):\n    sig_step = pyqtSignal(int, str)\n    sig_done = pyqtSignal(int)\n\n    def __init__(self, id: int):\n        super().__init__()\n        self.__id = id\n\n    @pyqtSlot()\n    def work(self):\n        thread_name = QThread.currentThread().objectName()\n        thread_id = int(QThread.currentThreadId())\n        print('running work #{} from thread \"{}\" (#{})'.format(self.__id, thread_name, thread_id))\n\n        time.sleep(2)\n        self.sig_step.emit(self.__id, 'step 1')\n        time.sleep(2)\n        self.sig_step.emit(self.__id, 'step 2')\n        time.sleep(2)\n        self.sig_done.emit(self.__id)\n\n\nclass MyWidget(QWidget):\n    NUM_THREADS = 3\n\n    sig_start = pyqtSignal()\n\n    def __init__(self):\n        super().__init__()\n\n        self.setWindowTitle(\"Thread Example\")\n        form_layout = QVBoxLayout()\n        self.setLayout(form_layout)\n        self.resize(200, 200)\n\n        self.push_button = QPushButton()\n        self.push_button.clicked.connect(self.start_threads)\n        self.push_button.setText(\"Start {} threads\".format(self.NUM_THREADS))\n        form_layout.addWidget(self.push_button)\n\n        self.log = QTextEdit()\n        form_layout.addWidget(self.log)\n        # self.log.setMaximumSize(QSize(200, 80))\n\n        self.text_edit = QTextEdit()\n        form_layout.addWidget(self.text_edit)\n        # self.text_edit.setMaximumSize(QSize(200, 60))\n\n        QThread.currentThread().setObjectName('main')\n        self.__threads_done = None\n        self.__threads = None\n\n    def start_threads(self):\n        self.log.append('starting {} threads'.format(self.NUM_THREADS))\n        self.push_button.setDisabled(True)\n\n        self.__threads_done = 0\n        self.__threads = []\n        for idx in range(self.NUM_THREADS):\n            checker = Checker(idx)\n            thread = QThread()\n            thread.setObjectName('thread_' + str(idx))\n            self.__threads.append((thread, checker))  # need to store checker too otherwise will be gc'd\n            checker.moveToThread(thread)\n            checker.sig_step.connect(self.on_thread_step)\n            checker.sig_done.connect(self.on_thread_done)\n\n            # self.sig_start.connect(checker.work)  # method 1 works: each work() is in non-main thread\n            thread.started.connect(checker.work)  # method 2 doesn't work: each work() is in main thread\n            thread.start()\n\n        self.sig_start.emit()  # this is only useful in method 1\n\n    @pyqtSlot(int, str)\n    def on_thread_step(self, thread_id, data):\n        self.log.append('thread #{}: {}'.format(thread_id, data))\n        self.text_edit.append('{}: {}'.format(thread_id, data))\n\n    @pyqtSlot(int)\n    def on_thread_done(self, thread_id):\n        self.log.append('thread #{} done'.format(thread_id))\n        self.text_edit.append('-- Thread {} DONE'.format(thread_id))\n        self.__threads_done += 1\n        if self.__threads_done == self.NUM_THREADS:\n            self.log.append('No more threads')\n            self.push_button.setEnabled(True)\n\n\nif __name__ == \"__main__\":\n    app = QApplication([])\n\n    form = MyWidget()\n    form.show()\n\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>If I use a custom signal instead, it works fine. To see this, comment out the \"method 2\" line and uncomment the \"method 1\" line and repeat the run. </p>\n\n<p>It would certainly be nicer to start the workers without having to create a custom signal, is there a way to do this (while sticking to the design of calling <code>moveToThread</code> on the workers)? </p>\n\n<p>Note: The docs for <code>QThread.started</code> signal don't help much: </p>\n\n<blockquote>\n  <p>This signal is emitted from the associated thread when it starts executing</p>\n</blockquote>\n\n<p>To me this implies that <code>started</code> would be emitted in the non-main thread, such that the <code>work</code> slot it is connected to would get called in the non-main thread, but this is clearly not the case. Even if my interpretation is incorrect and the signal is in-fact emitted in the main thread, the connection type is <em>for both methods</em> the default <code>Qt.AutoConnection</code>, to a slot on a <code>QObject</code> moved to another thread, so the <code>started</code> signal <em>should</em> be transmitted asynchronously (i.e. through each checker's QThread event loop), again clearly not the case. </p>\n"}, {"tags": ["python", "openerp"], "comments": [{"owner": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "edited": false, "score": 0, "creation_date": 1484173524, "post_id": 41601820, "comment_id": 70406365, "body": "@Paramitra, can you add your error in same question ?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1484174062, "post_id": 41601820, "comment_id": 70406612, "body": "Please give the FULL traceback of the error and line is occurred on."}, {"owner": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1484174232, "post_id": 41601820, "comment_id": 70406675, "body": "I got it thanks for checking. I edit my post"}, {"owner": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "edited": false, "score": 0, "creation_date": 1484174342, "post_id": 41601820, "comment_id": 70406711, "body": "@Paramita if you get your answer, please update in asnswer and select same as correct answer for this, that way you will close the workflow :)"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1484237011, "post_id": 41605457, "comment_id": 70436836, "body": "Thanks a lot that makes more sense"}], "tags": [], "owner": {"reputation": 14070, "user_id": 4093735, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/6hzqH.png?s=128&g=1", "display_name": "Emipro Technologies Pvt. Ltd.", "link": "https://stackoverflow.com/users/4093735/emipro-technologies-pvt-ltd"}, "is_accepted": true, "score": 1, "last_activity_date": 1484197391, "creation_date": 1484197391, "answer_id": 41605457, "question_id": 41601820, "link": "https://stackoverflow.com/questions/41601820/showing-typeerror-builtin-function-or-method-object-is-not-iterable-in-odoo/41605457#41605457", "title": "showing TypeError: &#39;builtin_function_or_method&#39; object is not iterable in Odoo", "body": "<p>It should be like this,</p>\n\n<pre><code>@api.multi\n@api.onchange('license_id')\ndef del_potential(self):\n    for rec in self:\n        _logger.info('Status Approved or not' + str(rec.license_id.approval_state))\n        _logger.info('Potential FGL' + str(rec.partner_potential_fgl_address))\n        if rec.license_id.approval_state == 'approved':\n            rec.partner_potential_fgl_address = False\n</code></pre>\n\n<p>This is not required as self contains list of browsable recordset, so you don't need explicitly browse any ids..</p>\n\n<p>Don't use</p>\n\n<pre><code>so = self.env['sale.order'].browse([self.id])\n</code></pre>\n\n<p>Use instead</p>\n\n<pre><code>self.id or self.field_name\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 41605457, "answer_count": 1, "score": 0, "last_activity_date": 1484197391, "creation_date": 1484173454, "last_edit_date": 1484174194, "question_id": 41601820, "link": "https://stackoverflow.com/questions/41601820/showing-typeerror-builtin-function-or-method-object-is-not-iterable-in-odoo", "title": "showing TypeError: &#39;builtin_function_or_method&#39; object is not iterable in Odoo", "body": "<p>I am getting this error when I am trying to change the license_id in odoo</p>\n\n<pre><code>    @api.multi\n    @api.onchange('license_id')\n    def del_potential(self):\n        _logger.info('Status Approved or not' + str(self.license_id.approval_state))\n        _logger.info('Potential FGL' + str(self.partner_potential_fgl_address))\n        if self.license_id.approval_state == 'approved':\n            so = self.env['sale.order'].browse(id)\n            # _logger.info('del_potential id:'+str(so))\n            so.partner_potential_fgl_address = False\n</code></pre>\n\n<p>Can anyone please guide why I am getting this error?</p>\n\n<p>Sorry it is my bad it should be</p>\n\n<pre><code>so = self.env['sale.order'].browse([self.id])\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>so = self.env['sale.order'].browse(id)\n</code></pre>\n"}, {"tags": ["python", "string", "caesar-cipher"], "comments": [{"owner": {"reputation": 2966, "user_id": 3022310, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7f10ec2b45320ee843e539d705c31d08?s=128&d=identicon&r=PG", "display_name": "turbulencetoo", "link": "https://stackoverflow.com/users/3022310/turbulencetoo"}, "edited": false, "score": 3, "creation_date": 1484173552, "post_id": 41601799, "comment_id": 70406378, "body": "it looks like you want to find the shift <i>modulo</i> 26. <code>shift % 26</code>"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1484173618, "post_id": 41601799, "comment_id": 70406409, "body": "alternative implementation <a href=\"http://stackoverflow.com/questions/26369035/caesar-cipher-issue/26371777#26371777\" title=\"caesar cipher issue\">stackoverflow.com/questions/26369035/caesar-cipher-issue/&hellip;</a>"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 2, "creation_date": 1484173622, "post_id": 41601799, "comment_id": 70406410, "body": "as a side note: for <code>shift &lt;= -1</code>, the <code>shift &lt;= 26</code> will always be <code>True</code>. Your <code>elif</code> condition will never be executed"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "reply_to_user": {"reputation": 2966, "user_id": 3022310, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7f10ec2b45320ee843e539d705c31d08?s=128&d=identicon&r=PG", "display_name": "turbulencetoo", "link": "https://stackoverflow.com/users/3022310/turbulencetoo"}, "edited": false, "score": 0, "creation_date": 1484173748, "post_id": 41601799, "comment_id": 70406474, "body": "@turbulencetoo so just replace <code>shift = shift % 26</code> and then <code>shifted_letters = letters[shift:] + letters[:shift]</code> will suffice? And yes I realize that now @MoinuddinQuadri"}], "owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484174103, "creation_date": 1484173324, "question_id": 41601799, "link": "https://stackoverflow.com/questions/41601799/simple-caesar-cypher-reducing-if-statements", "title": "Simple Caesar Cypher, reducing if statements", "body": "<p>I have started doing some reading in cryptography and was writing a simple function for a Caesar cypher. Is there any way to compact the <code>if, elif, else</code> statements into one statement. I feel like there is a way I just can't seem to think of it right now. Thanks!</p>\n\n<pre><code>from string import maketrans\ndef basic_cypher(message, shift):\n    letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n    if shift &lt;= 26:\n        shifted_letters = letters[shift:] + letters[:shift]\n    elif shift &lt;= -1:\n        shifted_letters = letters[:shift] + letters[shift:]\n    else:\n        shifted_letters = letters[shift - 26:] + letters[:shift - 26]\n    trans_tab = maketrans(letters, shifted_letters)\n    return 'This is the encoded version of your message: ', message.translate(trans_tab)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "recursion"], "answers": [{"tags": [], "owner": {"reputation": 494, "user_id": 6730222, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XQVe1lpcOPg/AAAAAAAAAAI/AAAAAAAAAGU/ON8gIin1d50/photo.jpg?sz=128", "display_name": "Alessandro Lodi", "link": "https://stackoverflow.com/users/6730222/alessandro-lodi"}, "is_accepted": false, "score": 0, "last_activity_date": 1484247985, "creation_date": 1484247985, "answer_id": 41621003, "question_id": 41601722, "link": "https://stackoverflow.com/questions/41601722/recursive-python-function-cant-calculate-edge-case/41621003#41621003", "title": "Recursive python function - can&#39;t calculate edge case", "body": "<p>I think that you have to make a tree because this looks like a tree<br></p>\n\n<pre><code>INVOICE -&gt; ORDER2\n        -&gt; ORDER1 -&gt; ORDER2\n        -&gt; ORDER4 -&gt; ORDER1 -&gt; ORDER2\n                  -&gt; ORDER3\n</code></pre>\n\n<p>So i implemented <a href=\"https://repl.it/FHdl/27\" rel=\"nofollow noreferrer\">this code</a> to make the right tree</p>\n\n<pre><code>hierarchi = [('INVOICE', 'ORDER2'),\n('INVOICE', 'ORDER1'),\n('ORDER1', 'ORDER2'),\n('INVOICE', 'ORDER4'),\n('ORDER4', 'ORDER1'),\n('ORDER4', 'ORDER3')]\n\ndef make_based_list(base):\n  the_list = []\n  i = 0\n  for item in hierarchi:\n    if(item[0] == base):\n      the_list.insert(i,item)\n      i+=1\n  return the_list\n\nclass Node:\n  def __init__(self,base):\n    self.base = base\n    self.children = []\n    self.n_of_child = 0\n\n  def get_child(self,base):\n    found_child = Node('NOT_FOUND')\n    for child in self.children:\n      if child.base == base:\n        found_child = child\n\n    if found_child.base!='NOT_FOUND':\n      return found_child\n    else:\n      for child in self.children:\n        found_child = child.get_child(base)\n        if found_child.base!='NOT_FOUND':\n          return found_child\n    return found_child\n\n  def add_child(self,child_node):\n    self.children.insert(self.n_of_child,child_node)\n    self.n_of_child+=1\n\n  def update_child(self,base,child_node):\n    for child in self.children:\n        if child.base == base:\n          child = child_node\n          return 1\n    return 0\n\n  def populate(self,assoc_list):\n    for assoc in assoc_list:\n      child_node = Node(assoc[1])\n      self.add_child(child_node)\n\n  def print_childrens(self):\n    for child in self.children:\n      child.print_me()\n\n  def print_me(self):\n    print(\"Me:\"+self.base)\n    if self.n_of_child&gt;0:\n      print(\"Mychilds:\")\n      self.print_childrens()\n    else:\n      print(\"No child\")\n\ntop_base = 'INVOICE'\ntop_based_list = make_based_list(top_base)\ntop_node = Node(top_base)\ntop_node.populate(top_based_list)\n\nfor item in hierarchi:\n  if item[0]!=top_base:\n    the_child = top_node.get_child(item[1])\n    the_parent = top_node.get_child(item[0])\n    if the_child.base=='NOT_FOUND':\n      the_child = Node(item[1])\n    the_parent.add_child(the_child)\n    top_node.update_child(item[0],the_parent)\n\ntop_node.print_me()\n</code></pre>\n\n<p>I am new in python and i know that the code can be better, but i just want to help<br>\nNow i'll implement your calculation and update my answer<br><br>\nI hope that's useful for you</p>\n"}], "owner": {"reputation": 175, "user_id": 2524282, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/80f982761ad8a0a7e87ffe090d5c1b60?s=128&d=identicon&r=PG", "display_name": "user2524282", "link": "https://stackoverflow.com/users/2524282/user2524282"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1484247985, "creation_date": 1484173016, "last_edit_date": 1484232754, "question_id": 41601722, "link": "https://stackoverflow.com/questions/41601722/recursive-python-function-cant-calculate-edge-case", "title": "Recursive python function - can&#39;t calculate edge case", "body": "<p>I have the following dictionary: </p>\n\n<pre><code>&gt;&gt;&gt; for key, details in relationships.items():\n                print key, details[2]\n\n('INVOICE', 'INVOICE') 1\n('INVOICE', 'ORDER2') 0.50000000\n('INVOICE', 'ORDER1') 0.01536410\n('ORDER1', 'ORDER2') 0.05023163\n('INVOICE', 'ORDER4') 0.00573215\n('ORDER4', 'ORDER1') 0.08777898\n('ORDER4', 'ORDER3') 0.01674388\n</code></pre>\n\n<p>This creates the following hierarchy:</p>\n\n<pre><code>INVOICE -&gt; ORDER2\n        -&gt; ORDER1 -&gt; ORDER2\n        -&gt; ORDER4 -&gt; ORDER1 -&gt; ORDER2\n                  -&gt; ORDER3\n</code></pre>\n\n<p>where each arrow represents the value of <code>details[2]</code>.  The final 'relationship' of each order to the invoice needs to be calculated.  Expected values:</p>\n\n<pre><code>&gt; ORDER1: 0.01586726 (0.0153641 + 0.0877898 x 0.00573215) \n&gt; ORDER2: 0.50079704 (0.5 + 0.05023163 x 0.0153641 + 0.05023163 x 0.0877898 x 0.00573215)\n&gt; ORDER3: 0.00009598 (0.01674388 x 0.00573215)\n&gt; ORDER4: 0.00573215 (0.00573215)\n</code></pre>\n\n<p>I have the following attempt at a recursive function:</p>\n\n<pre><code>for invoice in final_relationships.keys():\n     calculate(invoice, invoice, Decimal(1))\n\ndef calculate(orig_ord, curr_ord, contribution):\n     for rel_ID, rel_details in relationships.items():\n          if rel_ID[1] == curr_ord:\n               if orig_ord == curr_ord:\n                    contribution = Decimal(1)\n               if rel_ID[0] != rel_ID[1]:\n                    contribution = (contribution * rel_details[2]).quantize(Decimal('0.00000001'), rounding=ROUND_HALF_UP)\n                    calculate(orig_ord, rel_ID[0], contribution)\n               else:\n                    final_relationships[orig_ord] += contribution\n                    contribution = Decimal(0)\n</code></pre>\n\n<p>This correctly calculates all scenarios except one, for ORDER2.  </p>\n\n<pre><code>------- ORDER2\n1  # rel_ID,               curr_ord,     rel_details[2],    contribution\n2  ('ORDER1', 'ORDER2')    ORDER2        0.05023163         1\n3  ('INVOICE', 'ORDER1')    ORDER1        0.01536410         0.05023163\n4  ('INVOICE', 'INVOICE')  INVOICE       1                  0.00077176\n5  # final\n6  0.00077176\n7  ('ORDER4', 'ORDER1')    ORDER1        0.08777898         0.00077176\n8  ('INVOICE', 'ORDER4')   ORDER4        0.00573215         0.00006774\n9  ('INVOICE', 'INVOICE')  INVOICE       1                  3.9E-7\n10 # final\n11 0.00077215\n12 ('INVOICE', 'ORDER2')   ORDER2        0.50000000         0.05023163\n13 ('INVOICE', 'INVOICE')  INVOICE       1                  0.50000000\n14 # final\n15 0.50077215\n</code></pre>\n\n<p>The issue is on line 7, since the contribution begins at 0.00077176 instead of 0.05023163, because the iteration for ('ORDER1', 'ORDER2') doesn't happen the second time (after line 2).  This is the relationship <code>INVOICE -&gt; ORDER4 -&gt; ORDER1 -&gt; ORDER2</code>.</p>\n\n<p>How can I fix the function?  I tried resetting the contribution if the 'orig_ord' wasn't processed, but couldn't figure out where to put it.  If the whole thing is dumb, I'm open to re-writing, as long as I get the job done.</p>\n"}, {"tags": ["python", "windows", "python-3.x", "cmd", "pyautogui"], "comments": [{"owner": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "edited": false, "score": 0, "creation_date": 1484173848, "post_id": 41601693, "comment_id": 70406523, "body": "Try this <a href=\"http://stackoverflow.com/questions/8863917/importerror-no-module-named-pil\" title=\"importerror no module named pil\">stackoverflow.com/questions/8863917/&hellip;</a>"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1484174338, "post_id": 41601693, "comment_id": 70406708, "body": "The directory shown is just a temp directory, don&#39;t worry about it. If you read down through the output, it will tell you exactly what is wrong. pip is trying to install <code>pyautogui</code>, which has a number of dependencies. One of those dependencies, <code>pyscreeze</code>, needs the <code>PIL</code> module, which is provided by the <code>Pillow</code> package (yeah, it&#39;s confusing). You&#39;ll see that Pillow has already been downloaded, but not installed yet, so when the <code>setup.py</code> from PyScreeze tries to import <code>pyscreeze</code>, it fails because it can&#39;t yet find the <code>PIL</code> module. Solution? <code>pip install pillow</code>, then install pyautogui."}, {"owner": {"reputation": 45, "user_id": 5512880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/191003087902832/picture?type=large", "display_name": "iStillHaveToGoPee", "link": "https://stackoverflow.com/users/5512880/istillhavetogopee"}, "reply_to_user": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "edited": false, "score": 0, "creation_date": 1484174469, "post_id": 41601693, "comment_id": 70406763, "body": "@Lafada gold... I just used variations of what they posted there until it suddenly decided to work. Thanks!"}, {"owner": {"reputation": 45, "user_id": 5512880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/191003087902832/picture?type=large", "display_name": "iStillHaveToGoPee", "link": "https://stackoverflow.com/users/5512880/istillhavetogopee"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1484174602, "post_id": 41601693, "comment_id": 70406820, "body": "@MattDMo Thanks! That&#39;s exactly what the link Lafada posted said."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1484185906, "post_id": 41601693, "comment_id": 70410075, "body": "This has nothing to do with the cmd shell. cmd searches for and executes pip.exe, which is responsible for parsing the rest of the command line. pip inherits its standard handles for the console (conhost.exe) from cmd.exe, and thereafter cmd waits in the background for pip to exit. pip.exe in turn executes python.exe to run the main entry point for the pip package that&#39;s installed in &quot;Lib/site-packages&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 7401826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sKvLD52t7IU/AAAAAAAAAAI/AAAAAAAAB2Y/9aZXMrda0wY/photo.jpg?sz=128", "display_name": "sriram lamsal", "link": "https://stackoverflow.com/users/7401826/sriram-lamsal"}, "is_accepted": false, "score": 0, "last_activity_date": 1484174403, "last_edit_date": 1495541452, "creation_date": 1484174403, "answer_id": 41602037, "question_id": 41601693, "link": "https://stackoverflow.com/questions/41601693/cmd-is-searching-the-wrong-file-path-when-trying-to-use-pip-to-install-new-modul/41602037#41602037", "title": "cmd is searching the wrong file path when trying to use pip to install new module in python", "body": "<p>when there is no module PIL only then this error will occur, its simle. \nInstall PIL \nwhile you could also check some other threads.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8863917/importerror-no-module-named-pil\">ImportError: No module named PIL</a> </p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 5512880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/191003087902832/picture?type=large", "display_name": "iStillHaveToGoPee", "link": "https://stackoverflow.com/users/5512880/istillhavetogopee"}, "is_accepted": false, "score": 1, "last_activity_date": 1484693644, "last_edit_date": 1495535361, "creation_date": 1484693644, "answer_id": 41708492, "question_id": 41601693, "link": "https://stackoverflow.com/questions/41601693/cmd-is-searching-the-wrong-file-path-when-trying-to-use-pip-to-install-new-modul/41708492#41708492", "title": "cmd is searching the wrong file path when trying to use pip to install new module in python", "body": "<p>The following comments from above are how I solved this issue:</p>\n\n<p>@Lafada - <a href=\"https://stackoverflow.com/questions/8863917/importerror-no-module-named-pil\">ImportError: No module named PIL</a></p>\n\n<p>@MattDMo - The directory shown is just a temp directory, don't worry about it. If you read down through the output, it will tell you exactly what is wrong. pip is trying to install pyautogui, which has a number of dependencies. One of those dependencies, pyscreeze, needs the PIL module, which is provided by the Pillow package (yeah, it's confusing). You'll see that Pillow has already been downloaded, but not installed yet, so when the setup.py from PyScreeze tries to import pyscreeze, it fails because it can't yet find the PIL module. Solution? pip install pillow, then install pyautogui.</p>\n"}], "owner": {"reputation": 45, "user_id": 5512880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/191003087902832/picture?type=large", "display_name": "iStillHaveToGoPee", "link": "https://stackoverflow.com/users/5512880/istillhavetogopee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1484693644, "creation_date": 1484172917, "question_id": 41601693, "link": "https://stackoverflow.com/questions/41601693/cmd-is-searching-the-wrong-file-path-when-trying-to-use-pip-to-install-new-modul", "title": "cmd is searching the wrong file path when trying to use pip to install new module in python", "body": "<p>I am using the CMD to install the pyautogui module and keep getting the following error:</p>\n\n<pre><code>Command \"python setup.py egg_info\" failed with error code 1 in C:\\Users\\ANDBOD~1\\AppData\\Local\\Temp\\pip-build-pmc8kstd\\pyscreeze\\\n</code></pre>\n\n<p>I use <code>pip install pyautogui</code> to start the install, and cmd displays the following code before the error appears:</p>\n\n<pre><code>    C:\\WINDOWS\\system32&gt;pip install pyautogui\nCollecting pyautogui\n  Using cached PyAutoGUI-0.9.33.zip\nCollecting pymsgbox (from pyautogui)\n  Using cached PyMsgBox-1.0.3.zip\nCollecting PyTweening&gt;=1.0.1 (from pyautogui)\n  Using cached PyTweening-1.0.3.zip\nCollecting Pillow (from pyautogui)\n  Downloading Pillow-4.0.0-cp36-cp36m-win32.whl (1.3MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.3MB 78kB/s\nCollecting pyscreeze (from pyautogui)\n  Using cached PyScreeze-0.1.8.zip\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"C:\\Users\\ANDBOD~1\\AppData\\Local\\Temp\\pip-build-pmc8kstd\\pyscreeze\\setup.py\", line 6, in &lt;module&gt;\n        version=__import__('pyscreeze').__version__,\n      File \"C:\\Users\\ANBDOD~1\\AppData\\Local\\Temp\\pip-build-pmc8kstd\\pyscreeze\\pyscreeze\\__init__.py\", line 21, in &lt;module&gt;\n        from PIL import Image\n    ModuleNotFoundError: No module named 'PIL'\n</code></pre>\n\n<p>I believe the error is happening because cmd is searching the C:\\Users\\ANDBOD... file path and that is not where I have my python files saved. I've tried opening cmd as admin but received the same error.</p>\n\n<p>I used the exact same process to install openpyxl 2 weeks ago and had no issue, but now I get the same issue no matter which module I try to install.</p>\n\n<p>Thanks in advance for the help!</p>\n"}, {"tags": ["python", "pandas", "deep-learning", "keras", "kaggle"], "comments": [{"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 0, "creation_date": 1484178726, "post_id": 41601660, "comment_id": 70408222, "body": "There might be nothing wrong, just that your model is overfitting and performs poorly on test data that is different from the training set."}, {"owner": {"reputation": 766, "user_id": 657104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c774fe7f3866f48f07374fb6b5047e3?s=128&d=identicon&r=PG&f=1", "display_name": "Anas", "link": "https://stackoverflow.com/users/657104/anas"}, "reply_to_user": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 0, "creation_date": 1484233748, "post_id": 41601660, "comment_id": 70434335, "body": "@MatiasValdenegro Right, I&#39;m sure that could be the case. But to be this far off? I&#39;ve used data augmentation to randomly modify my training set and generate more samples, but no luck."}], "owner": {"reputation": 766, "user_id": 657104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c774fe7f3866f48f07374fb6b5047e3?s=128&d=identicon&r=PG&f=1", "display_name": "Anas", "link": "https://stackoverflow.com/users/657104/anas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1488473668, "creation_date": 1484172821, "last_edit_date": 1488473668, "question_id": 41601660, "link": "https://stackoverflow.com/questions/41601660/log-loss-score-in-training-validation-very-different-from-score-on-kaggle-test", "title": "Log loss score in training &amp; validation very different from score on Kaggle test set", "body": "<p>I'm able to get a log loss score as low as 0.24 in training and 0.38 in validation, but once I submit my predictions to Kaggle to score on the test set, the loss is way off (sometimes as high as 4, but mostly never below 0.69). Any ideas what could be going wrong?</p>\n\n<p>FYI, here is my code for writing the predictions to file (using Keras &amp; Tensorflow backend):</p>\n\n<pre><code>predictions = model.predict(test, verbose=0)\npreds = pd.DataFrame({\n    \"label\": map(lambda x: x[0], predictions)\n})\npreds.index += 1\npreds.to_csv('submissions/submission.csv', index_label=\"id\")\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "tensorflow", "google-cloud-dataflow", "google-cloud-ml"], "answers": [{"comments": [{"owner": {"reputation": 1803, "user_id": 2984051, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b554b12f325eb6e30122d049e693b377?s=128&d=identicon&r=PG&f=1", "display_name": "bw4sz", "link": "https://stackoverflow.com/users/2984051/bw4sz"}, "edited": false, "score": 0, "creation_date": 1484192125, "post_id": 41602040, "comment_id": 70411650, "body": "That did it. Thanks for the help. Are there other docs I should be looking at? Looking here <a href=\"https://cloud.google.com/ml/reference/commandline/jobs/submit/training\" rel=\"nofollow noreferrer\">cloud.google.com/ml/reference/commandline/jobs/submit/traini&zwnj;&#8203;ng</a>, not seeing that flag. Where should I look for IMPLEMENTATION-ARGS. I recognize this is still in beta."}, {"owner": {"reputation": 455, "user_id": 3818158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ea0578534e7d7d4e2d565a8c15dc69?s=128&d=identicon&r=PG", "display_name": "JoshGC", "link": "https://stackoverflow.com/users/3818158/joshgc"}, "reply_to_user": {"reputation": 1803, "user_id": 2984051, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b554b12f325eb6e30122d049e693b377?s=128&d=identicon&r=PG&f=1", "display_name": "bw4sz", "link": "https://stackoverflow.com/users/2984051/bw4sz"}, "edited": false, "score": 0, "creation_date": 1484248504, "post_id": 41602040, "comment_id": 70443620, "body": "Updated my answer.  The flag was inside model.py which has nothing to do with CloudML but about the Tensorflow code you&#39;re running!"}], "tags": [], "owner": {"reputation": 455, "user_id": 3818158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ea0578534e7d7d4e2d565a8c15dc69?s=128&d=identicon&r=PG", "display_name": "JoshGC", "link": "https://stackoverflow.com/users/3818158/joshgc"}, "is_accepted": true, "score": 1, "last_activity_date": 1484248553, "last_edit_date": 1484248553, "creation_date": 1484174410, "answer_id": 41602040, "question_id": 41601620, "link": "https://stackoverflow.com/questions/41601620/cloudml-retraining-inception-received-a-label-value-outside-the-valid-range/41602040#41602040", "title": "cloudml retraining inception - received a label value outside the valid range", "body": "<p>I think you need to specify <code>--label_count 13</code> when you submit your training job.  That flag should go after the in the second group of flags after the <code>--</code>, since it needs to be passed to the code you're executing, and not to gcloud/Cloud ML.</p>\n\n<p>The issue is that the TensorFlow training code needs to know how many output logits to make before it starts stepping through the data; so it cannot inspect the intermediate files from the preprocess step.</p>\n\n<p>Let me know if this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6915676, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9fK54xphmms/AAAAAAAAAAI/AAAAAAAAA1A/Hi3A6zdYCiM/photo.jpg?sz=128", "display_name": "Slaven Bilac", "link": "https://stackoverflow.com/users/6915676/slaven-bilac"}, "is_accepted": false, "score": 0, "last_activity_date": 1484238465, "creation_date": 1484238465, "answer_id": 41618273, "question_id": 41601620, "link": "https://stackoverflow.com/questions/41601620/cloudml-retraining-inception-received-a-label-value-outside-the-valid-range/41618273#41618273", "title": "cloudml retraining inception - received a label value outside the valid range", "body": "<p>The flags after the -- model specific and are specified in <a href=\"https://github.com/GoogleCloudPlatform/cloudml-samples/blob/master/flowers/trainer/model.py#L47\" rel=\"nofollow noreferrer\">model.py</a> file:</p>\n\n<pre><code>def create_model():\n  \"\"\"Factory method that creates model to be used by generic task.py.\"\"\"\n  parser = argparse.ArgumentParser()\n  # Label count needs to correspond to nubmer of labels in dictionary used\n  # during preprocessing.\n  parser.add_argument('--label_count', type=int, default=5)\n  parser.add_argument('--dropout', type=float, default=0.5)\n  parser.add_argument(\n      '--inception_checkpoint_file',\n      type=str,\n      default=DEFAULT_INCEPTION_CHECKPOINT)\n  args, task_args = parser.parse_known_args()\n  override_if_not_in_args('--max_steps', '1000', task_args)\n  override_if_not_in_args('--batch_size', '100', task_args)\n  override_if_not_in_args('--eval_set_size', '370', task_args)\n  override_if_not_in_args('--eval_interval_secs', '2', task_args)\n  override_if_not_in_args('--log_interval_secs', '2', task_args)\n  override_if_not_in_args('--min_train_eval_rate', '2', task_args)\n  return Model(args.label_count, args.dropout,\n               args.inception_checkpoint_file), task_args\n</code></pre>\n\n<p>Note you can change things like label_count, dropout, max_steps, etc., to affect the model training.</p>\n\n<p>HTH.</p>\n"}], "owner": {"reputation": 1803, "user_id": 2984051, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b554b12f325eb6e30122d049e693b377?s=128&d=identicon&r=PG&f=1", "display_name": "bw4sz", "link": "https://stackoverflow.com/users/2984051/bw4sz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2942, "favorite_count": 0, "accepted_answer_id": 41602040, "answer_count": 2, "score": 1, "last_activity_date": 1484248553, "creation_date": 1484172653, "last_edit_date": 1495542831, "question_id": 41601620, "link": "https://stackoverflow.com/questions/41601620/cloudml-retraining-inception-received-a-label-value-outside-the-valid-range", "title": "cloudml retraining inception - received a label value outside the valid range", "body": "<p>I am following the flowers <a href=\"https://cloud.google.com/blog/big-data/2016/12/how-to-train-and-classify-images-using-google-cloud-machine-learning-and-cloud-dataflow\" rel=\"nofollow noreferrer\">tutorial</a> for re-training inception on google cloud ml. I can run the tutorial, train, predict, just fine. </p>\n\n<p>I then substituted the flowers dataset for a test dataset of my own. Optical character recognition of image digits.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1nLwX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1nLwX.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>When training the model I receive the error:</p>\n\n<pre><code>Invalid argument: Received a label value of 13 which is outside the valid range of [0, 6). Label values: 6 3 2 7 3 7 6 6 12 6 5 2 3 6 8 8 8 8 4 6 5 13 7 4 8 12 5 2 4 12 12 8 8 8 12 6 4 2 12 4 3 8 2 6 8 12 2 8 4 6 2 4 12 5 5 7 6 2 2 3 2 8 2 5 2 8 2 7 4 12 8 4 2 4 8 2 2 8 2 8 7 6 8 3 5 5 5 8 8 2 5 3 9 8 5 8 3 2 5 4\n</code></pre>\n\n<p>The format of training and eval datasets looks like this:</p>\n\n<pre><code>root@e925cd9502c0:~/MeerkatReader/cloudML# head training_dataGCS.csv\ngs://api-project-773889352370-ml/TrainingData/0_2.jpg,H\ngs://api-project-773889352370-ml/TrainingData/0_4.jpg,One\ngs://api-project-773889352370-ml/TrainingData/0_5.jpg,Five\n</code></pre>\n\n<p>The dict file looks like this</p>\n\n<pre><code>$ cat cloudML/dict.txt\nEight\nF\nFive\nForward_slash\nFour\nH\nNine\nOne\nSeven\nSix\nThree\nTwo\nZero\n</code></pre>\n\n<p>I had originally had labels like 1,2,3,4 and /, but I changed them to character strings in case they were special characters (especially /). I can see a somewhat similar message <a href=\"https://stackoverflow.com/questions/33933846/tensorflow-indices-are-not-valid-out-of-bounds\">here</a>, but that had to do with 0th based indexing. </p>\n\n<p>What's strange about the message is that there are indeed 13 label types. Somehow tensorflow is looking for only 7 (0-6). My questions is what kind of formatting error might make tensorflow think there are less labels then there are. I can confirm that both the testing and training data 80-20 split have all the label classes (though in different frequencies).</p>\n\n<p>I'm running from recent docker build provided by google.</p>\n\n<pre><code>`docker run -it -p \"127.0.0.1:8080:8080\" --entrypoint=/bin/bash  gcr.io/cloud-datalab/datalab:local-20161227\n</code></pre>\n\n<p>I am submit the training job using</p>\n\n<pre><code>  # Submit training job.\ngcloud beta ml jobs submit training \"$JOB_ID\" \\\n  --module-name trainer.task \\\n  --package-path trainer \\\n  --staging-bucket \"$BUCKET\" \\\n  --region us-central1 \\\n  -- \\\n  --output_path \"${GCS_PATH}/training\" \\\n  --eval_data_paths \"${GCS_PATH}/preproc/eval*\" \\\n  --train_data_paths \"${GCS_PATH}/preproc/train*\"\n</code></pre>\n\n<p>Full error:</p>\n\n<pre><code>Error reported to Coordinator: &lt;class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'&gt;, Received a label value of 13 which is outside the valid range of [0, 6). Label values: 6 3 2 7 3 7 6 6 12 6 5 2 3 6 8 8 8 8 4 6 5 13 7 4 8 12 5 2 4 12 12 8 8 8 12 6 4 2 12 4 3 8 2 6 8 12 2 8 4 6 2 4 12 5 5 7 6 2 2 3 2 8 2 5 2 8 2 7 4 12 8 4 2 4 8 2 2 8 2 8 7 6 8 3 5 5 5 8 8 2 5 3 9 8 5 8 3 2 5 4 [[Node: evaluate/xentropy/xentropy = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:master/replica:0/task:0/cpu:0\"](final_ops/input/Wx_plus_b/fully_connected_1/BiasAdd, inputs/Squeeze)]] Caused by op u'evaluate/xentropy/xentropy', defined at: File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main \"__main__\", fname, loader, pkg_name) File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/root/.local/lib/python2.7/site-packages/trainer/task.py\", line 545, in &lt;module&gt; tf.app.run() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 43, in run sys.exit(main(sys.argv[:1] + flags_passthrough)) File \"/root/.local/lib/python2.7/site-packages/trainer/task.py\", line 308, in main run(model, argv) File \"/root/.local/lib/python2.7/site-packages/trainer/task.py\", line 439, in run dispatch(args, model, cluster, task) File \"/root/.local/lib/python2.7/site-packages/trainer/task.py\", line 480, in dispatch Trainer(args, model, cluster, task).run_training() File \"/root/.local/lib/python2.7/site-packages/trainer/task.py\", line 187, in run_training self.args.batch_size) File \"/root/.local/lib/python2.7/site-packages/trainer/model.py\", line 278, in build_train_graph return self.build_graph(data_paths, batch_size, GraphMod.TRAIN) File \"/root/.local/lib/python2.7/site-packages/trainer/model.py\", line 256, in build_graph loss_value = loss(logits, labels) File \"/root/.local/lib/python2.7/site-packages/trainer/model.py\", line 396, in loss logits, labels, name='xentropy') File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/nn_ops.py\", line 1544, in sparse_softmax_cross_entropy_with_logits precise_logits, labels, name=name) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_nn_ops.py\", line 2376, in _sparse_softmax_cross_entropy_with_logits features=features, labels=labels, name=name) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2238, in create_op original_op=self._default_original_op, op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1130, in __init__ self._traceback = _extract_stack() InvalidArgumentError (see above for traceback): Received a label value of 13 which is outside the valid range of [0, 6). Label values: 6 3 2 7 3 7 6 6 12 6 5 2 3 6 8 8 8 8 4 6 5 13 7 4 8 12 5 2 4 12 12 8 8 8 12 6 4 2 12 4 3 8 2 6 8 12 2 8 4 6 2 4 12 5 5 7 6 2 2 3 2 8 2 5 2 8 2 7 4 12 8 4 2 4 8 2 2 8 2 8 7 6 8 3 5 5 5 8 8 2 5 3 9 8 5 8 3 2 5 4 [[Node: evaluate/xentropy/xentropy = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:master/replica:0/task:0/cpu:0\"](final_ops/input/Wx_plus_b/fully_connected_1/BiasAdd, inputs/Squeeze)]]\n</code></pre>\n\n<p>Everything looks okay in my bucket</p>\n\n<p><a href=\"https://i.stack.imgur.com/rxZZl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxZZl.png\" alt=\"enter image description here\"></a></p>\n\n<p>And saving my log events.</p>\n\n<p><a href=\"https://i.stack.imgur.com/y6stu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y6stu.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "edited": false, "score": 0, "creation_date": 1484173045, "post_id": 41601637, "comment_id": 70406181, "body": "Always doing it a bit better eh? ;)"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "edited": false, "score": 0, "creation_date": 1484173090, "post_id": 41601637, "comment_id": 70406195, "body": "@AlexG I appreciate the compliment"}, {"owner": {"reputation": 1143, "user_id": 4415232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NuOSzmu0emM/AAAAAAAAAAI/AAAAAAAAAGM/rUd6ll1SPQk/photo.jpg?sz=128", "display_name": "threxx", "link": "https://stackoverflow.com/users/4415232/threxx"}, "edited": false, "score": 0, "creation_date": 1484173122, "post_id": 41601637, "comment_id": 70406211, "body": "thanks! Can you tell me why I can use city without any brackets and &#39; &#39; (string marks)? How do you call that call?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 1143, "user_id": 4415232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NuOSzmu0emM/AAAAAAAAAAI/AAAAAAAAAGM/rUd6ll1SPQk/photo.jpg?sz=128", "display_name": "threxx", "link": "https://stackoverflow.com/users/4415232/threxx"}, "edited": false, "score": 1, "creation_date": 1484173188, "post_id": 41601637, "comment_id": 70406237, "body": "@threxx because <code>pandas</code> makes it convenient in certain circumstances.  <code>df.groupby(&#39;STATE&#39;)[&#39;CITY&#39;].transform(&#39;nunique&#39;)</code> is equivalent.  pandas attaches an <code>attribute</code> with the name <code>CITY</code> to the <code>groupby</code> object.  That is how it is possible."}, {"owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "edited": false, "score": 0, "creation_date": 1484175703, "post_id": 41601637, "comment_id": 70407200, "body": "Nice + 1 @piRSquared.  Can you please describe how <code>transform</code> is being used here?  I&#39;m still learning how to use it."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "edited": false, "score": 1, "creation_date": 1484176050, "post_id": 41601637, "comment_id": 70407328, "body": "@ade1e thx.  <code>transform</code> broadcasts aggregated results across the entire group.  In this case, State &#39;XYZ&#39; might have 102 unique Cities.  However, the original object has a row for each State/City.  Rather than return a single row for each state, transform returns a row for each State/City with 102 repeated for every City in State."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1484172721, "creation_date": 1484172721, "answer_id": 41601637, "question_id": 41601566, "link": "https://stackoverflow.com/questions/41601566/pandas-dataframe-count-all-x-of-unique-y/41601637#41601637", "title": "pandas dataframe count all x of unique y", "body": "<p>Try:</p>\n\n<pre><code>df['sumCity'] = df.groupby('STATE').CITY.transform('nunique')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "is_accepted": false, "score": 1, "last_activity_date": 1484172848, "creation_date": 1484172848, "answer_id": 41601670, "question_id": 41601566, "link": "https://stackoverflow.com/questions/41601566/pandas-dataframe-count-all-x-of-unique-y/41601670#41601670", "title": "pandas dataframe count all x of unique y", "body": "<p>I think you'll want to do a <code>groupby</code>. Something like this:</p>\n\n<p><code>group = df.groupby('STATE')['CITY'].count()</code></p>\n\n<p>And then map this result to a new column using a dictionary:</p>\n\n<p><code>df['sumCity'] = df['STATE'].map(dict(group))</code></p>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 6768058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-K9QrmyE0F5k/AAAAAAAAAAI/AAAAAAAAAGs/QOtuR17ZGOA/photo.jpg?sz=128", "display_name": "LUSAQX", "link": "https://stackoverflow.com/users/6768058/lusaqx"}, "is_accepted": false, "score": 0, "last_activity_date": 1484173035, "creation_date": 1484173035, "answer_id": 41601727, "question_id": 41601566, "link": "https://stackoverflow.com/questions/41601566/pandas-dataframe-count-all-x-of-unique-y/41601727#41601727", "title": "pandas dataframe count all x of unique y", "body": "<p>I am not sure about your y, but you can transform your y into class series and using the class value_counts() as below:</p>\n\n<pre><code>pandas.Series(y).value_counts()\n</code></pre>\n"}], "owner": {"reputation": 1143, "user_id": 4415232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NuOSzmu0emM/AAAAAAAAAAI/AAAAAAAAAGM/rUd6ll1SPQk/photo.jpg?sz=128", "display_name": "threxx", "link": "https://stackoverflow.com/users/4415232/threxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 41601637, "answer_count": 3, "score": 0, "last_activity_date": 1484173359, "creation_date": 1484172401, "last_edit_date": 1484173359, "question_id": 41601566, "link": "https://stackoverflow.com/questions/41601566/pandas-dataframe-count-all-x-of-unique-y", "title": "pandas dataframe count all x of unique y", "body": "<p>i am currently working with pandas daraframe. Right now I want to count all values x of every y. So example: For every state I have I want to count the number of cities. </p>\n\n<p>I tried something like this, but I know this is not the right syntax but I do not know how to do it right:</p>\n\n<pre><code>df['sumCity'] = df[['STATE'].unique()df['CITY']].count()\n</code></pre>\n\n<p>Can anyone tell me how to do that right?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1484173431, "post_id": 41601530, "comment_id": 70406328, "body": "So you then want ~40 million columns? Reconsider this approach. Panel/time series regression modeling requires long format as you originally have it."}, {"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1484173607, "post_id": 41601530, "comment_id": 70406403, "body": "@Parfait could you point me to an example of doing a regression in long format?"}, {"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1484173647, "post_id": 41601530, "comment_id": 70406420, "body": "@Parfait also this will not generate 40 million rows, each of the 10,000 ids would have the same column names and would be concatenated"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1484175916, "post_id": 41601530, "comment_id": 70407283, "body": "How many <code>_ts</code> distinct values? This will determine the number of columns."}, {"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1484176402, "post_id": 41601530, "comment_id": 70407451, "body": "@Parfait in the dataset there 4044 distinct _ts values, but i only want columns for the first 24 and the last _ts values"}], "answers": [{"tags": [], "owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "is_accepted": false, "score": 0, "last_activity_date": 1484178967, "creation_date": 1484178967, "answer_id": 41602904, "question_id": 41601530, "link": "https://stackoverflow.com/questions/41601530/efficient-pandas-transformation-of-timeseries-data/41602904#41602904", "title": "Efficient pandas transformation of timeseries data", "body": "<p>Figured out a hacky way on my own. This runs in ~20ms</p>\n\n<pre><code>def time_series_columns(df):\n    data_values = []\n    for x in df.columns:\n        data_values.append(df[x].values.tolist())\n\n    columns = []\n\n    for metric in df.columns.values:\n        for ts in np.arange(0, 7500, 300):\n            columns.append(\"{}_{}\".format(ts, metric))\n\n    data = [[item for sublist in [listy[:25] for listy in data_values] for item in sublist]]\n    new_df = pd.DataFrame(data, columns=columns)\n\n    return new_df\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 1, "last_activity_date": 1484185621, "creation_date": 1484185621, "answer_id": 41603819, "question_id": 41601530, "link": "https://stackoverflow.com/questions/41601530/efficient-pandas-transformation-of-timeseries-data/41603819#41603819", "title": "Efficient pandas transformation of timeseries data", "body": "<p>Consider a <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.pivot_table.html\" rel=\"nofollow noreferrer\">pivot_table</a> to transform data frame from long to wide format. However, one nuance to your needs is selecting the top 24 distinct values and last value which you can do with <code>series</code> manipulation. Below takes first two values, changing according to your needs.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\n# REPRODUCIBLE EXAMPLE\ndf = pd.DataFrame({'_id': list(range(1,11))*5,\n                   '_ts':[300 for i in range(10)] + [600 for i in range(10)] +\n                         [900 for i in range(10)] + [1200 for i in range(10)] +\n                         [1500 for i in range(10)],\n                   'metric1': np.random.randn(50),\n                   'metric2': np.random.randn(50),\n                   'metric3': np.random.randn(50)})\n\n# FIRST 2 AND LAST VALUES (SORTED IN _ts ORDER)\nfirst2vals = pd.Series(df['_ts'].unique()).sort_values().tolist()[:2]\nlastval = pd.Series(df['_ts'].unique()).sort_values().tolist()[-1]\n\n# FILTER DATA FRAME BY ABOVE LISTS\ndf = df[df['_ts'].isin(first2vals + [lastval])]\n\n# PIVOT DATA FRAME\npvtdf = df.pivot_table(index=\"_id\", columns=['_ts'], \n                       values=['metric1', 'metric2', 'metric3']).reset_index()\n\n# EXTRACT NEW COLUMNS FROM HIERARCHICAL INDEX\nnewcols = [str(i[1])+'_'+str(i[0]) for i in pvtdf.columns[1:].values]\npvtdf.columns = pvtdf.columns.get_level_values(0)\npvtdf.columns = ['id'] + newcols\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>print(pvtdf.head())\n\n#    id  300_metric1  600_metric1  1500_metric1  300_metric2  600_metric2  1500_metric2  300_metric3  600_metric3  1500_metric3\n# 0   1    -1.158317     1.677042     -0.763932     0.673375    -1.345052     -0.754341    -0.023793    -1.212369      1.566882\n# 1   2     1.699644     0.700463      1.351290    -0.672567    -0.941611      0.739071     1.270882     0.079738     -1.272970\n# 2   3     0.414411    -1.110571      0.744850    -0.822367     1.897526     -0.344387    -0.382097     0.631639      0.515618\n# 3   4     0.744617     0.708938     -0.851571    -1.312690     1.817234     -1.084037    -1.253749    -1.554973     -0.162376\n# 4   5     1.233120     0.569504      0.560808     0.437648     0.293689      0.675582     1.396155     0.210394     -0.504569\n</code></pre>\n"}], "owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 41603819, "answer_count": 2, "score": 0, "last_activity_date": 1484185621, "creation_date": 1484172273, "question_id": 41601530, "link": "https://stackoverflow.com/questions/41601530/efficient-pandas-transformation-of-timeseries-data", "title": "Efficient pandas transformation of timeseries data", "body": "<p>I have a dataset that is 23 columns and 4,044 rows and looks like the below:</p>\n\n<pre><code>+-----+-----+---------+---------+---------+--------+\n| _id | _ts | metric1 | metric2 | metric3 | etc... |\n+-----+-----+---------+---------+---------+--------+\n|   1 | 300 |     .01 |      10 |       1 |        |\n|   1 | 600 |     .02 |      25 |       1 |        |\n|   1 | 900 |     .07 |      47 |       1 |        |\n+-----+-----+---------+---------+---------+--------+\n</code></pre>\n\n<p>I would like to pivot the data in such a way that I can combine <code>_ts</code> + <code>metric</code> to make a column for regression model purposes, e.g. <code>300_metric1</code>, <code>600_metric1</code>, etc.</p>\n\n<p>Right now if I put the dataframe through this function:</p>\n\n<pre><code>def build_timeseries_features(df):\n    df['_ts'] = df['_ts'].astype(str)\n    df = df.set_index('_ts', append=True).stack().unstack(0).T\n    df.columns = df.columns.map('_'.join)\n    concat = pd.concat([df.iloc[[x]].dropna(1).reset_index(drop=True) for x in range(1, 26)], axis=1)\n    df = pd.concat([concat, df.iloc[[4032]].dropna(1).reset_index(drop=True)], axis=1)  # gets the 14th day data by index\n\n    return df\n</code></pre>\n\n<p>I get the following back, which is exactly how I want it:</p>\n\n<pre><code>+-----+-------------+-------------+-------------+--------+\n| _id | 300_metric1 | 600_metric1 | 900_metric1 | etc... |\n+-----+-------------+-------------+-------------+--------+\n|   1 |         .01 |         .02 |         .07 |        |\n+-----+-------------+-------------+-------------+--------+\n</code></pre>\n\n<p>The issue with this is that it is <em>extremely</em> slow (time profiling shows this taking 43.8 seconds) and I need to be able to do this on a dataset that is ~10,000 ids, so ~40million rows....so this will take about 5 days to finish</p>\n\n<p>Any thoughts on how I can speed this up?</p>\n"}, {"tags": ["python", "pandas", "dictionary", "lambda"], "comments": [{"owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 0, "creation_date": 1484172399, "post_id": 41601523, "comment_id": 70405893, "body": "Can you show an example of your DataFrame?"}, {"owner": {"reputation": 63, "user_id": 7287183, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10207827941439706/picture?type=large", "display_name": "lasingallday", "link": "https://stackoverflow.com/users/7287183/lasingallday"}, "reply_to_user": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 0, "creation_date": 1484172681, "post_id": 41601523, "comment_id": 70406014, "body": "I can tell you what&#39;s in it, but I can&#39;t show the customer data. I have the Month, whether it&#39;s a weekday/weekend, what day of the month, which product, what division, amount spent, etc. It&#39;s strings and integers. Let me know if you need more info."}, {"owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 0, "creation_date": 1484172748, "post_id": 41601523, "comment_id": 70406056, "body": "I&#39;m trying to figure-out is what <i>indexes of df[&#39;Month&#39;]</i> means in your question. What does such an index look like?"}, {"owner": {"reputation": 63, "user_id": 7287183, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10207827941439706/picture?type=large", "display_name": "lasingallday", "link": "https://stackoverflow.com/users/7287183/lasingallday"}, "reply_to_user": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 0, "creation_date": 1484173111, "post_id": 41601523, "comment_id": 70406206, "body": "@piRsquared just answered it. He said use df.Day += df.Month.map(myDict). And Month is an int from 1 to 12."}, {"owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 0, "creation_date": 1484173323, "post_id": 41601523, "comment_id": 70406291, "body": "He changed his answer based on the &quot;index&quot; line in your question. Which one is correct?"}, {"owner": {"reputation": 63, "user_id": 7287183, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10207827941439706/picture?type=large", "display_name": "lasingallday", "link": "https://stackoverflow.com/users/7287183/lasingallday"}, "reply_to_user": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 0, "creation_date": 1484173719, "post_id": 41601523, "comment_id": 70406449, "body": "The first one. I appreciate the quick change, but it was just poor terminology on my part. Apologies!"}], "answers": [{"comments": [{"owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 1, "creation_date": 1484172802, "post_id": 41601611, "comment_id": 70406081, "body": "OP states: <i>I really want to apply myDict to the indexes of df[&#39;Month&#39;], not the Month column directly.</i> I&#39;m trying to figure-out what these indexes are."}, {"owner": {"reputation": 63, "user_id": 7287183, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10207827941439706/picture?type=large", "display_name": "lasingallday", "link": "https://stackoverflow.com/users/7287183/lasingallday"}, "edited": false, "score": 0, "creation_date": 1484173563, "post_id": 41601611, "comment_id": 70406380, "body": "the original answer of df.Day += df.Month.map(myDict) changes each row correctly. I do not think the df.index.to_series().map(myDict) works because it has no reference to df.Month! By index I meant to say all row values of the column where being addressed. I do not know that index is the proper term."}, {"owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "reply_to_user": {"reputation": 63, "user_id": 7287183, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10207827941439706/picture?type=large", "display_name": "lasingallday", "link": "https://stackoverflow.com/users/7287183/lasingallday"}, "edited": false, "score": 1, "creation_date": 1484193196, "post_id": 41601611, "comment_id": 70411912, "body": "@lasingallday The term you&#39;re looking for is simply the <i>values</i>. An <i>index</i> (in any programming language) refers to the <i>location</i> of a value. That&#39;s why we were confused."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1484173663, "last_edit_date": 1484173663, "creation_date": 1484172612, "answer_id": 41601611, "question_id": 41601523, "link": "https://stackoverflow.com/questions/41601523/use-dictionary-on-pandas-column/41601611#41601611", "title": "Use dictionary on Pandas column?", "body": "<p>Try:</p>\n\n<pre><code>df.Day += df.Month.map(myDict)\n</code></pre>\n\n<p>Or:<br>\nbecause I don't really get what you are doing</p>\n\n<pre><code>df.Day += df.index.to_series().map(myDict)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7287183, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10207827941439706/picture?type=large", "display_name": "lasingallday", "link": "https://stackoverflow.com/users/7287183/lasingallday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 41601611, "answer_count": 1, "score": 1, "last_activity_date": 1484173663, "creation_date": 1484172244, "last_edit_date": 1484172336, "question_id": 41601523, "link": "https://stackoverflow.com/questions/41601523/use-dictionary-on-pandas-column", "title": "Use dictionary on Pandas column?", "body": "<p>I want to do something like the following:</p>\n\n<pre><code>df['Day'] = df['Day'].apply(lambda x: x + myDict[df['Month']]),\n</code></pre>\n\n<p>where</p>\n\n<pre><code>myDict={2:3,4:1,6:1,9:1,11:1,1:0,3:0,5:0,7:0,8:0,10:0,12:0}.\n</code></pre>\n\n<p>What I'm doing is adding a number of days onto the day of the month if it's a certain month. Ex: If it's February and the day of the month is 28, I add 3 to get 31.</p>\n\n<p>But this does not work because I really want to apply myDict to the indexes of df['Month'], not the Month column directly.</p>\n\n<p>Can I do iterrows inline for my command? I think this would perform faster through pandas than a big for loop iterating through the whole dataframe.</p>\n"}, {"tags": ["python", "google-app-engine", "urlfetch"], "comments": [{"owner": {"reputation": 27241, "user_id": 5320906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=128&g=1", "display_name": "snakecharmerb", "link": "https://stackoverflow.com/users/5320906/snakecharmerb"}, "edited": false, "score": 0, "creation_date": 1484173599, "post_id": 41601518, "comment_id": 70406401, "body": "It isn&#39;t possible for urlfetch to execute javascript scripts on the page and include their results.  What makes you think that urlfetch is somehow including the results of xhr requests in its result?"}, {"owner": {"reputation": 3, "user_id": 6781569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhFcv.jpg?s=128&g=1", "display_name": "user6781569", "link": "https://stackoverflow.com/users/6781569/user6781569"}, "reply_to_user": {"reputation": 27241, "user_id": 5320906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=128&g=1", "display_name": "snakecharmerb", "link": "https://stackoverflow.com/users/5320906/snakecharmerb"}, "edited": false, "score": 0, "creation_date": 1484177202, "post_id": 41601518, "comment_id": 70407726, "body": "You can do a urlfetch.fetch for URL1 that I&#39;ve specified, and compare its output to the HTML source in a browser. You will see the content is different. A portion of the difference comes from other products shown on the page - this is fetched via XHR as seen from Chrome developer console. To be clear, I did not expect urlfetch.fetch to execute JS etc., but was a bit surprised in this case that its result seemed different from the plain HTML source content."}], "answers": [{"tags": [], "owner": {"reputation": 27241, "user_id": 5320906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=128&g=1", "display_name": "snakecharmerb", "link": "https://stackoverflow.com/users/5320906/snakecharmerb"}, "is_accepted": true, "score": 0, "last_activity_date": 1484240952, "last_edit_date": 1484240952, "creation_date": 1484202958, "answer_id": 41606576, "question_id": 41601518, "link": "https://stackoverflow.com/questions/41601518/using-urlfetch-in-python-gae-to-fetch-a-complete-document/41606576#41606576", "title": "Using URLFetch in Python GAE to fetch a complete document", "body": "<p>The server is serving different output based on the user-agent string supplied in the request headers.</p>\n\n<p>By default, <code>urlfetch.fetch</code> will send requests with the user agent header set to something like <code>AppEngine-Google; (+http://code.google.com/appengine; appid: myapp.appspot.com</code>.</p>\n\n<p>A browser will send a user agent header like this: <code>Mozilla/5.0 (X11; Linux x86_64; rv:50.0) Gecko/20100101 Firefox/50.0</code></p>\n\n<p>If you override the default headers for <code>urlfetch.fetch</code></p>\n\n<pre><code>headers = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64; rv:50.0) Gecko/20100101 Firefox/50.0'}\nurlfetch.fetch(url, headers=headers)\n</code></pre>\n\n<p>you will find that the html that you receive is almost identical to that served to the browser.  </p>\n"}], "owner": {"reputation": 3, "user_id": 6781569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhFcv.jpg?s=128&g=1", "display_name": "user6781569", "link": "https://stackoverflow.com/users/6781569/user6781569"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 41606576, "answer_count": 1, "score": -1, "last_activity_date": 1484240952, "creation_date": 1484172224, "question_id": 41601518, "link": "https://stackoverflow.com/questions/41601518/using-urlfetch-in-python-gae-to-fetch-a-complete-document", "title": "Using URLFetch in Python GAE to fetch a complete document", "body": "<p>I am using urlfetch.fetch in App engine using Python 2.7.</p>\n\n<p>I tried fetching 2 URLs belonging to 2 different domains. For the first one, the result of urlfetch.fetch includes results after resolving XHR queries that are made for getting recommended products. \nHowever for the other page belonging to another domain, the XHR queries are not resolved and I just get the plain HTML for the most part. The XHR queries for this page are also made for purposes of getting recommended products to show, etc.</p>\n\n<p>Here is how I use urlfetch:\nfetch_result = urlfetch.fetch(url, deadline=5, validate_certificate=True)</p>\n\n<p>URL 1 (the one where XHR is resolved and the response is complete)\n<a href=\"https://www.walmart.com/ip/HP-15-f222wm-ndash-15.6-Laptop-Touchscreen-Windows-10-Home-Intel-Pentium-Quad-Core-Processor-4GB-Memory-500GB-Hard-Drive/53853531\" rel=\"nofollow noreferrer\">https://www.walmart.com/ip/HP-15-f222wm-ndash-15.6-Laptop-Touchscreen-Windows-10-Home-Intel-Pentium-Quad-Core-Processor-4GB-Memory-500GB-Hard-Drive/53853531</a></p>\n\n<p>URL 2 (the one where I just get the plain HTML for the most part)\n<a href=\"https://www.flipkart.com/oricum-blue-486-loafers/p/itmezfrvwtwsug9w?pid=SHOEHZWJUMMTEYRU\" rel=\"nofollow noreferrer\">https://www.flipkart.com/oricum-blue-486-loafers/p/itmezfrvwtwsug9w?pid=SHOEHZWJUMMTEYRU</a></p>\n\n<p>Can someone please advice what I may be missing in regards to the inconsistency.</p>\n"}, {"tags": ["python", "ndimage"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 1, "creation_date": 1484172541, "post_id": 41601473, "comment_id": 70405944, "body": "png-Images are compressed and uncompressed in memory. Did you consider this?"}], "answers": [{"tags": [], "owner": {"reputation": 415, "user_id": 5706233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kiUE.jpg?s=128&g=1", "display_name": "Westly White", "link": "https://stackoverflow.com/users/5706233/westly-white"}, "is_accepted": false, "score": 0, "last_activity_date": 1484172857, "creation_date": 1484172857, "answer_id": 41601678, "question_id": 41601473, "link": "https://stackoverflow.com/questions/41601473/iterating-over-images-in-folder-blowing-up-memory/41601678#41601678", "title": "Iterating over images in folder blowing up memory", "body": "<p>You do not want to store the actual files into memory, just the file names. That way you can load and unload the files one by one later in the application. Loading that much data is kinda pointless.</p>\n\n<p>Try This</p>\n\n<pre><code>import os\n\npictures = []\nfiles = os.listdir('images')\nfor file in files:\n    if (file.endswith(\".png\")):\n        pictures.append(file)\n\n....\n\nfor picture in pictures:\n    workingPicture = read(picture)\n    analyze(picture)\n    inspect(picture)\n    ...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6685865, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mXnJBxPTOj4/AAAAAAAAAAI/AAAAAAAACEo/IS8XKaxNqYI/photo.jpg?sz=128", "display_name": "Max Barkhausen", "link": "https://stackoverflow.com/users/6685865/max-barkhausen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484172857, "creation_date": 1484172014, "question_id": 41601473, "link": "https://stackoverflow.com/questions/41601473/iterating-over-images-in-folder-blowing-up-memory", "title": "Iterating over images in folder blowing up memory", "body": "<p>I'm using the following code to iterate over images in a folder and to save them in a dictionary with the filenames as keys, but it's blowing up memory requirements quickly even though the images in the folder should easily fit into memory. Why is this, and how can I fix it?</p>\n\n<pre><code>def make_image_dict(folders):\n  image_dict={}\n  for folder in folders:\n    files = os.listdir(folder)\n    print (\"Loading images in folder:\", folder)\n    for file in files:\n      try:\n        image=ndimage.imread(folder+'/'+file)\n        if file.endswith('.png'):\n          image_name = str(file)[:-4]\n          image_dict[image_name]=image\n      except IOError as e:\n        print (e)\n  return image_dict\n</code></pre>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 6610176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/55c1cee956c90f42c02975f969fe7990?s=128&d=identicon&r=PG&f=1", "display_name": "SVill", "link": "https://stackoverflow.com/users/6610176/svill"}, "edited": false, "score": 0, "creation_date": 1484178135, "post_id": 41601533, "comment_id": 70408042, "body": "I juust changed the cse variable to lookUp in my own code, as well as fixed indentations to properly reflect code that code block. I&#39;m still having the same error. Is it because I&#39;m working within an open csv file (list.csv), even though I&#39;m trying to run the regex on a txt file (cse_results.txt)?"}], "tags": [], "owner": {"reputation": 456, "user_id": 5145092, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DBaDcOZZlac/AAAAAAAAAAI/AAAAAAAAC6I/r_1vRRHP2qE/photo.jpg?sz=128", "display_name": "Michael Neylon", "link": "https://stackoverflow.com/users/5145092/michael-neylon"}, "is_accepted": false, "score": 0, "last_activity_date": 1484172598, "last_edit_date": 1484172598, "creation_date": 1484172285, "answer_id": 41601533, "question_id": 41601378, "link": "https://stackoverflow.com/questions/41601378/when-parsing-google-cse-html-in-a-text-file-typeerror-expected-string-or-bytes/41601533#41601533", "title": "When parsing google cse html in a text file, TypeError: expected string or bytes-like object", "body": "<p><code>re.search()</code> is expecting a string or bytes-like object, as it states. You are giving it <code>cse</code>, which is a file object in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 6610176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/55c1cee956c90f42c02975f969fe7990?s=128&d=identicon&r=PG&f=1", "display_name": "SVill", "link": "https://stackoverflow.com/users/6610176/svill"}, "is_accepted": false, "score": 0, "last_activity_date": 1484191732, "last_edit_date": 1484191732, "creation_date": 1484186480, "answer_id": 41603942, "question_id": 41601378, "link": "https://stackoverflow.com/questions/41601378/when-parsing-google-cse-html-in-a-text-file-typeerror-expected-string-or-bytes/41603942#41603942", "title": "When parsing google cse html in a text file, TypeError: expected string or bytes-like object", "body": "<p>I got it! I had to convert snip and result in re.search() into strings.</p>\n\n<p>To clarify, I was under the impression that the regex in snip was already in string format, and I did not think of result being an issue since it was what I was searching. I was actually under the impression that they both had to be in bytes, since the information was being grabbed of the internet.</p>\n\n<p>I went back to cut down on the code, but here is what I have for reference:</p>\n\n<pre><code>with open('list.csv', 'r') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        name = row[1] + ' ' + row[2] + ' ' +row[4]\n        print(\"This trial will search for\", name)\n        results = google_search(name, my_api_key, my_cse_id, num=1)\n        for result in results:\n            print(result)\n            snip = r'View\\s&lt;b&gt;(.+?)&amp;nb'\n            snippet = re.search(str(snip),str(result)).group(1)\n            with open(\"cse_result.txt\", \"w+\") as nameLookup:\n                nameLookup.write(snippet)\n            print()\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 6610176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/55c1cee956c90f42c02975f969fe7990?s=128&d=identicon&r=PG&f=1", "display_name": "SVill", "link": "https://stackoverflow.com/users/6610176/svill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1484191732, "creation_date": 1484171619, "last_edit_date": 1495541637, "question_id": 41601378, "link": "https://stackoverflow.com/questions/41601378/when-parsing-google-cse-html-in-a-text-file-typeerror-expected-string-or-bytes", "title": "When parsing google cse html in a text file, TypeError: expected string or bytes-like object", "body": "<p>I apologize if something like this has been asked, but I'm a beginner in Python and can't figure this out. I recently created a Google CSE to look over linkedin and return structured data using <a href=\"https://stackoverflow.com/questions/37083058/programmatically-searching-google-in-python-using-custom-search\">this</a>. The API works fine, but now I'm trying to put the code on a text document to parse on my computer. Whenever try to run it with my regular expression, it returns:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\My_PC\\Desktop\\CSE.py\", line 41, in &lt;module&gt;\n    snippet = re.search(snip,cse).group(1)\n  File \"C:\\Users\\My_PC\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\re.py\", line 182, in search\n    return _compile(pattern, flags).search(string)\nTypeError: expected string or bytes-like object\n</code></pre>\n\n<p>So I tried putting b in front of my regex to convert it to bytes. That led to the same error, so I tried encoding it in utf-8 in the regex, which lead to the same error. </p>\n\n<p>Once again, I'm sorry if this has been asked before, but I just can't figure out. Could someone please tell me what I am getting wrong?</p>\n\n<p>Here is my code, if it helps:</p>\n\n<pre><code>def google_search(search_term, api_key, cse_id, **kwargs):\n    service = build(\"customsearch\",\"v1\",developerKey=api_key)\n    res = service.cse().list(q=search_term, cx=cse_id, **kwargs).execute()\n    return res['items']\n\n\n    a=0\n    with open('list.csv', 'r') as f:\n        reader = csv.reader(f)\n        for row in reader:\n            name = row[1]+' '+row[2]+' '+row[4]\n            print(\"This trial will search for\", name)\n            print()\n            results = google_search(name, my_api_key, my_cse_id, num=1)\n            #for result in results:\n            #    pprint.pprint(result)\n            a += 1\n            print()\n            print(\"This is trial\", a)\n            print()\n            print('+=+=+=+=+=+=+=+=+')\n            print()\n            time.sleep(2)\n            with open(\"cse_results.txt\", \"w+\", encoding='utf-8') as cse:#make the files cse_results.txt. cse_results.txt is truncated if it exists\n                cse.write(str(results))#write results to cse_results.txt \n                snip = b'View\\s&lt;b&gt;(.+?)&amp;nb'#find string that starts with View in html\n                snippet = re.search(snip,cse).group(1)\n                print(snippet)#check if regex was captured\n            with open(\"cse_parse.txt\", \"a\") as par:#append the found snippet to the cse_parse.txt file\n                par.write(snippet)\n            for line in cse:\n                snippet = re.findall(snip,line)#search cse_results.txt for the snip pattern\n                print(snippet)#print it to ensure that the regex was found\n                par.write(\"HTML Snippet:\"+snippet)#append match text to to cse_parse.txt\n            if a &gt;= 0:\n                break\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "subprocess", "python-tesseract"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7260132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34ae4ae2f3d3d0a685df08cb7988e587?s=128&d=identicon&r=PG&f=1", "display_name": "DJMannyB", "link": "https://stackoverflow.com/users/7260132/djmannyb"}, "is_accepted": false, "score": 0, "last_activity_date": 1484601900, "creation_date": 1484601900, "answer_id": 41685209, "question_id": 41601358, "link": "https://stackoverflow.com/questions/41601358/why-is-pytesseract-throwing-winerror-6/41685209#41685209", "title": "Why is pytesseract throwing WinError 6?", "body": "<p>I had the same issue.. So I don't know enough about Python to troubleshoot all the various files, but I did notice for me the issue was due to the subprocess file. Somehow when pytesseract calls subprocess, the script throws an error.</p>\n\n<p>In any case, I got around the problem by skipping pytesseract altogether, and accessing tesseract via subprocess. My code below:</p>\n\n<pre><code>import subprocess\nfrom subprocess import Popen, PIPE\nimage_file = r\"C:\\Temp\\test.png\"\noutlocation = r\"C:\\Temp\\output\"\ncommand = ['tesseract', image_file, outlocation]\nproc = subprocess.Popen(command,\n        stderr=subprocess.PIPE)\n</code></pre>\n\n<p>This is very much a band aid solution, but it did allow me to proceed with the usage of tesseract in python. Hope it helps.</p>\n\n<p>Also, the workaround above assumes you already have tesseract installed. In case you don't, you can grab it from <a href=\"https://github.com/UB-Mannheim/tesseract/wiki\" rel=\"nofollow noreferrer\">https://github.com/UB-Mannheim/tesseract/wiki</a></p>\n"}, {"comments": [{"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 2, "creation_date": 1506432101, "post_id": 46427377, "comment_id": 79812387, "body": "This would be more suited to a comment as it does not directly help &quot;answer&quot; the question"}, {"owner": {"reputation": 11, "user_id": 6438077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01954c569cfaef2ab9100fa8217a7555?s=128&d=identicon&r=PG&f=1", "display_name": "Abdul", "link": "https://stackoverflow.com/users/6438077/abdul"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1506506812, "post_id": 46427377, "comment_id": 79845842, "body": "I don&#39;t have right to comment. Will take care if future.. thanks."}], "tags": [], "owner": {"reputation": 11, "user_id": 6438077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01954c569cfaef2ab9100fa8217a7555?s=128&d=identicon&r=PG&f=1", "display_name": "Abdul", "link": "https://stackoverflow.com/users/6438077/abdul"}, "is_accepted": false, "score": 1, "last_activity_date": 1506431057, "creation_date": 1506431057, "answer_id": 46427377, "question_id": 41601358, "link": "https://stackoverflow.com/questions/41601358/why-is-pytesseract-throwing-winerror-6/46427377#46427377", "title": "Why is pytesseract throwing WinError 6?", "body": "<p>I don't know the real issue but the issue got resolved once I restarted the PC.</p>\n"}], "owner": {"reputation": 137, "user_id": 6273571, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o-_XSr3_rTo/AAAAAAAAAAI/AAAAAAAABoY/Bs91rMmibVE/photo.jpg?sz=128", "display_name": "Hadron Tungsten", "link": "https://stackoverflow.com/users/6273571/hadron-tungsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1506431057, "creation_date": 1484171540, "last_edit_date": 1484315661, "question_id": 41601358, "link": "https://stackoverflow.com/questions/41601358/why-is-pytesseract-throwing-winerror-6", "title": "Why is pytesseract throwing WinError 6?", "body": "<p>This is my first time using pytesseract. I'm trying to perform a simple OCR on a small image. The code boils down to:</p>\n\n<pre><code>from PIL import Image\nfrom pytesseract import image_to_string\n\ntest = Image.open(r'C:\\test.jpg')\nprint(image_to_string(test))\n</code></pre>\n\n<p>This throws OSError: [WinError 6] The handle is invalid</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Testing.py\", line 5, in &lt;module&gt;\n    print(image_to_string(test))\n  File \"C:\\\\pytesseract.py\", line 161, in image_to_string\n    config=config)\n  File \"C:\\\\pytesseract.py\", line 94, in run_tesseract\n    stderr=subprocess.PIPE)\n  File \"C:\\\\subprocess.py\", line 911, in __init__\n    errread, errwrite) = self._get_handles(stdin, stdout, stderr)\n  File \"C:\\\\subprocess.py\", line 1150, in _get_handles\n    c2pwrite = self._make_inheritable(c2pwrite)\n  File \"C:\\\\subprocess.py\", line 1182, in _make_inheritable\n    _winapi.DUPLICATE_SAME_ACCESS)\nOSError: [WinError 6] The handle is invalid\n</code></pre>\n\n<p>I'm using Python 3.5 on Windows 7.</p>\n\n<p>Thanks in advance for your time!</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3", "aws-cli"], "comments": [{"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1484173930, "post_id": 41601321, "comment_id": 70406562, "body": "Some performance considerations: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/request-rate-perf-considerations.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/&hellip;</a>"}, {"owner": {"reputation": 7887, "user_id": 3770040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fEHcj.jpg?s=128&g=1", "display_name": "Khalid T.", "link": "https://stackoverflow.com/users/3770040/khalid-t"}, "edited": false, "score": 1, "creation_date": 1484174440, "post_id": 41601321, "comment_id": 70406748, "body": "Have you tried Amazon Athena? It is intended to quickly analyze large-scale datasets on S3: <a href=\"https://aws.amazon.com/athena/\" rel=\"nofollow noreferrer\">aws.amazon.com/athena</a>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7376755"}, "is_accepted": false, "score": 1, "last_activity_date": 1484175115, "creation_date": 1484175115, "answer_id": 41602190, "question_id": 41601321, "link": "https://stackoverflow.com/questions/41601321/iterating-over-objects-in-an-aws-s3-bucket/41602190#41602190", "title": "Iterating over Objects in an AWS S3 Bucket", "body": "<p>1) Is your script running on a EC2 instance? If you are running it from your localhost or your own datacenter , moving it to a EC2 instance in the same Region as the bucket and running it from there could decrease latency and increase performance. You are probably running it from a EC2 instance, but I figured I would ask. You got alot of files to go through!</p>\n\n<p>2) Have you checked out the Athena service from AWS? Athena is a interactive query service and queries data directly from S3. Amazon Athena uses Presto with full standard SQL support and works with a variety of standard data formats, including CSV, JSON, ORC, and Parquet. If the text data you are working with fits a Athena use case, it might be worth the time to check it out. Athena is a new service, I have never used it but it sounds like it was created to address the use case you have.  Here is the FAQ:</p>\n\n<p><a href=\"https://aws.amazon.com/athena/faqs/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/athena/faqs/</a></p>\n"}, {"tags": [], "owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "is_accepted": false, "score": 2, "last_activity_date": 1484257074, "creation_date": 1484257074, "answer_id": 41623434, "question_id": 41601321, "link": "https://stackoverflow.com/questions/41601321/iterating-over-objects-in-an-aws-s3-bucket/41623434#41623434", "title": "Iterating over Objects in an AWS S3 Bucket", "body": "<p>If you have a large number of objects in your Amazon S3 bucket, then <code>objects.all()</code> is not an efficient iteration method, since it tries to load them all into memory simultaneously.</p>\n\n<p>Instead, use <a href=\"https://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.Client.list_objects_v2\" rel=\"nofollow noreferrer\"><code>list_objects_v2()</code></a> to page through the objects in groups of 1000. Then, call it again with the <code>ContinuationToken</code> that was returned.</p>\n\n<p>You will effectively need a <code>for</code> loop calling <code>list_objects_v2()</code> and another <code>for</code> loop within that which loops through each object.</p>\n"}], "owner": {"reputation": 41, "user_id": 7396010, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4eDlgi5RyDs/AAAAAAAAAAI/AAAAAAAAADU/gAJmh8ipsyI/photo.jpg?sz=128", "display_name": "Nate", "link": "https://stackoverflow.com/users/7396010/nate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2044, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1484257074, "creation_date": 1484171377, "question_id": 41601321, "link": "https://stackoverflow.com/questions/41601321/iterating-over-objects-in-an-aws-s3-bucket", "title": "Iterating over Objects in an AWS S3 Bucket", "body": "<p>The script I have is working, but the bucket I am scanning over is massive and times out after a while. What can I do to make this more efficient or start from a specific location?</p>\n\n<pre><code>import boto3\n\ns3 = boto3.resource('s3')\nb = s3.Bucket('my_bucket')\n\nfor obj in b.objects.all():\n   # Open the file, run some RegEx to find some data. If it's found, output to a log file\n</code></pre>\n\n<p>The first problem I have is the size of the bucket. It's about 1.5 million objects. I have my code opening up text files looking for some RegEx and if there's a match on the RegEx then it outputs the Object name and what was found. </p>\n\n<p>After running the script for about an hour, it makes it about 40k objects in before throwing an error:</p>\n\n<pre><code>requests.exceptions.ConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>object at 0x109e82d50&gt;: Failed to establish a new connection: [Errno 60] Operation timed out',))\n</code></pre>\n\n<p>The search items it's searching through are alphabetical, so we'll say it makes it through the \"E\" section and then times out. I want start with objects starting with \"F\". </p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1484171758, "post_id": 41601320, "comment_id": 70405605, "body": "Did you try to get up-to-date <code>chromedriver</code> version? <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=2.27/\" rel=\"nofollow noreferrer\">chromedriver.storage.googleapis.com/index.html?path=2.27</a>"}, {"owner": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "reply_to_user": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1484171998, "post_id": 41601320, "comment_id": 70405719, "body": "yep, that&#39;s the version I am using now."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "edited": false, "score": 0, "creation_date": 1484171921, "post_id": 41601423, "comment_id": 70405693, "body": "got a different error:  <code>Exception AttributeError: &quot;&#39;Service&#39; object has no attribute &#39;process&#39;&quot; in &lt;bound method Service.__del__ of &lt;selenium.webdriver.chrome.service.Service object at 0x1007e07d0&gt;&gt; ignored</code>"}, {"owner": {"reputation": 5470, "user_id": 2568849, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/UxtGh.png?s=128&g=1", "display_name": "Mesut GUNES", "link": "https://stackoverflow.com/users/2568849/mesut-gunes"}, "reply_to_user": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "edited": false, "score": 0, "creation_date": 1484172326, "post_id": 41601423, "comment_id": 70405856, "body": "@cetaceanNeeded use latest version of chromedriver instead of the one in bin folder. check updated answer."}, {"owner": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "edited": false, "score": 0, "creation_date": 1484172429, "post_id": 41601423, "comment_id": 70405907, "body": "so I actually copied the latest version of chromedriver to that directory because that filepath is the only one that works properly.  any other filepath besides the one homebrew originally installed to throws an error."}, {"owner": {"reputation": 5470, "user_id": 2568849, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/UxtGh.png?s=128&g=1", "display_name": "Mesut GUNES", "link": "https://stackoverflow.com/users/2568849/mesut-gunes"}, "reply_to_user": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "edited": false, "score": 0, "creation_date": 1484172693, "post_id": 41601423, "comment_id": 70406021, "body": "@cetaceanNeeded seems like chromedriver 2.25 solves this problem. Try that version"}, {"owner": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "edited": false, "score": 0, "creation_date": 1484172997, "post_id": 41601423, "comment_id": 70406162, "body": "that throws this error: <code>File &quot;&#47;Users&#47;serenity&#47;anaconda&#47;lib&#47;python2.7&#47;site-packages&#47;seleni&zwnj;&#8203;um&#47;webdriver&#47;common&#47;&zwnj;&#8203;service.py&quot;, line 81, in start     os.path.basename(self.path), self.start_error_message) selenium.common.exceptions.WebDriverException: Message: &#39;chromedriver_3&#39; executable needs to be in PATH. Please see https:&#47;&#47;sites.google.com&#47;a&#47;chromium.org&#47;chromedriver&#47;home Exception AttributeError: &quot;&#39;Service&#39; object has no attribute &#39;process&#39;&quot; in &lt;bound method Service.__del__ of &lt;selenium.webdriver.chrome.service.Service object at 0x1007e0810&gt;&gt; ignored</code>"}, {"owner": {"reputation": 5470, "user_id": 2568849, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/UxtGh.png?s=128&g=1", "display_name": "Mesut GUNES", "link": "https://stackoverflow.com/users/2568849/mesut-gunes"}, "reply_to_user": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "edited": false, "score": 0, "creation_date": 1484173279, "post_id": 41601423, "comment_id": 70406274, "body": "the problem is related to path, check this answer: <a href=\"http://stackoverflow.com/a/29858817/2568849\">stackoverflow.com/a/29858817/2568849</a>"}], "tags": [], "owner": {"reputation": 5470, "user_id": 2568849, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/UxtGh.png?s=128&g=1", "display_name": "Mesut GUNES", "link": "https://stackoverflow.com/users/2568849/mesut-gunes"}, "is_accepted": false, "score": 1, "last_activity_date": 1484172269, "last_edit_date": 1484172269, "creation_date": 1484171785, "answer_id": 41601423, "question_id": 41601320, "link": "https://stackoverflow.com/questions/41601320/badstatusline-error-with-selenium/41601423#41601423", "title": "BadStatusLine error with Selenium", "body": "<p>Dowload the latest version of <a href=\"https://sites.google.com/a/chromium.org/chromedriver/downloads\" rel=\"nofollow noreferrer\">chromedriver</a> and place it to somewhere in the project and call it instead of the on bin file.</p>\n\n<pre><code>from selenium import webdriver \ndriver = webdriver.Chrome(\"/path/to/chromedriver\")\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4301732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8ejJ.jpg?s=128&g=1", "display_name": "cetaceanNeeded", "link": "https://stackoverflow.com/users/4301732/cetaceanneeded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1955, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1484172269, "creation_date": 1484171369, "question_id": 41601320, "link": "https://stackoverflow.com/questions/41601320/badstatusline-error-with-selenium", "title": "BadStatusLine error with Selenium", "body": "<p>I'm trying to scrape Google Chrome Extension Store reviews using Selenium and BeautifulSoup.  However, I can't seem to get Selenium up and running, even with the latest version of Chromedriver, which seemed to solve the problem for other people asking about the same thing on this site.  A blank Chrome window will briefly open, then close.  Here's the traceback I get:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"scrape_chrome_reviews.py\", line 5, in &lt;module&gt;\ndriver = webdriver.Chrome(chromedriver)\nFile \"/Users/serenity/anaconda/lib/python2.7/site-packages/selenium/webdriver/chrome/webdriver.py\", line 69, in __init__\ndesired_capabilities=desired_capabilities)\nFile \"/Users/serenity/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 92, in __init__\nself.start_session(desired_capabilities, browser_profile)\nFile \"/Users/serenity/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 179, in start_session\nresponse = self.execute(Command.NEW_SESSION, capabilities)\nFile \"/Users/serenity/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 234, in execute\nresponse = self.command_executor.execute(driver_command, params)\nFile \"/Users/serenity/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/remote_connection.py\", line 408, in execute\nreturn self._request(command_info[0], url, body=data)\nFile \"/Users/serenity/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/remote_connection.py\", line 440, in _request\nresp = self._conn.getresponse()\nFile \"/Users/serenity/anaconda/lib/python2.7/httplib.py\", line 1132, in getresponse\nresponse.begin()\nFile \"/Users/serenity/anaconda/lib/python2.7/httplib.py\", line 453, in begin\nversion, status, reason = self._read_status()\nFile \"/Users/serenity/anaconda/lib/python2.7/httplib.py\", line 417, in _read_status\nraise BadStatusLine(line)\nhttplib.BadStatusLine: ''\n</code></pre>\n\n<p>and the code I'm running is just this:</p>\n\n<pre><code>from selenium import webdriver                                              \nchromedriver = '/usr/local/Cellar/chromedriver/2.27/bin/chromedriver'\ndriver = webdriver.Chrome(chromedriver)\ndriver.quit()\n</code></pre>\n\n<p>Any suggestions?  I'm really stumped.</p>\n"}, {"tags": ["python", "button", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6288625, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-3IJGuNO5xgk/AAAAAAAAAAI/AAAAAAAAAIM/NAg9nz7ZRck/photo.jpg?sz=128", "display_name": "Apocolyptic", "link": "https://stackoverflow.com/users/6288625/apocolyptic"}, "edited": false, "score": 0, "creation_date": 1484173745, "post_id": 41601539, "comment_id": 70406472, "body": "Bravo very well explained and I am glad you brought my formatting errors to my attention.  Very good answer I cannot express how much I appreciate this, so have a good day."}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1484172688, "last_edit_date": 1484172688, "creation_date": 1484172297, "answer_id": 41601539, "question_id": 41601299, "link": "https://stackoverflow.com/questions/41601299/tkinter-button-widget-auto-runs-the-command-and-then-stops-working/41601539#41601539", "title": "Tkinter button widget auto runs the command and then stops working", "body": "<p><code>command=</code> (and <code>bind()</code>) needs function name (callback) - it means without <code>()</code> and arguments</p>\n\n<pre><code>command=updateButton\n</code></pre>\n\n<p>If you have to use function with arguments then use <code>lambda</code></p>\n\n<pre><code>command=lambda:updateButton('A')\n</code></pre>\n\n<hr>\n\n<p>BTW: Now your function is executed at start and its result is assigned to <code>command=</code> - it can be sometimes useful to generate function assigned to button.</p>\n\n<hr>\n\n<p>BTW: <code>var = Widget(...).grid(...)</code> will assign <code>None</code> to variable because <code>grid()/pack()/place()</code> return <code>None</code>. You have to do in two steps</p>\n\n<pre><code>var = Widget(...)\nvar.grid(...)\n</code></pre>\n\n<p>or remove variable if you don't need it</p>\n\n<pre><code>Widget(...).grid(...)\n</code></pre>\n\n<hr>\n\n<p>BTW: see <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 -- Style Guide for Python Code</a></p>\n\n<p>To make code more readable we use <code>lower_case</code> names for variables and functions/methods - ie. <code>window</code>, <code>button_a</code>, <code>entry_a</code>, etc. And <code>CamelCase</code> names for classes.</p>\n\n<p>We use space after every comma.</p>\n"}], "owner": {"reputation": 31, "user_id": 6288625, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-3IJGuNO5xgk/AAAAAAAAAAI/AAAAAAAAAIM/NAg9nz7ZRck/photo.jpg?sz=128", "display_name": "Apocolyptic", "link": "https://stackoverflow.com/users/6288625/apocolyptic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "closed_date": 1484176336, "answer_count": 1, "score": -1, "last_activity_date": 1484172688, "creation_date": 1484171319, "question_id": 41601299, "link": "https://stackoverflow.com/questions/41601299/tkinter-button-widget-auto-runs-the-command-and-then-stops-working", "closed_reason": "Duplicate", "title": "Tkinter button widget auto runs the command and then stops working", "body": "<p>I have 3 entries on my window currently that contain a particular variable.  And my goal is to be able to type something within thosse entries then press a button to update them all and run a command.  However the command I set my button to run for some reason gets automatically ran as soon as you start the program and then becomes unusable.  Here's the part of my code that presents an issue currently buttonA is the one with the command.</p>\n\n<pre><code>#Entries\nentryA = Entry(Window,text=\"Angle\",bg=bgB,fg=fgB,bd=0)\nentryA.grid(row=1,column=2)\nentryA.insert(0,info['a'])\nentryB = Entry(Window,text=\"Velocity\",bg=bgB,fg=fgB,bd=0)\nentryB.grid(row=2,column=2)\nentryB.insert(0,info['v'])\nentryC = Entry(Window,text=\"Initial Height\",bg=bgB,fg=fgB,bd=0)\nentryC.grid(row=3,column=2)\nentryC.insert(0,info['iH'])\nentryD = Entry(Window,text=\"Rotate\",bg=bgB,fg=fgB,bd=0)\nentryD.grid(row=5,column=7)\nentryE = Entry(Window,text=\"Amount\",bg=bgB,fg=fgB,bd=0)\nentryE.grid(row=6,column=7)\nentryF = Entry(Window,text=\"Password\",bg=bgB,fg=fgB,bd=0,show='*')\nentryF.grid(row=13,column=6)\n#CheckBoxes\nvar=None\ncheckA = Checkbutton(Window,bg=bgB,fg=fgB,bd=0,activebackground=ActiveC,activeforeground=fgB,variable=var).grid(row=1,column=7,sticky='w')\ncheckB = Checkbutton(Window,bg=bgB,fg=fgB,bd=0,activebackground=ActiveC,activeforeground=fgB,variable=var).grid(row=2,column=7,sticky='w')\ncheckC = Checkbutton(Window,bg=bgB,fg=fgB,bd=0,activebackground=ActiveC,activeforeground=fgB,variable=var).grid(row=3,column=7,sticky='w')\ncheckD = Checkbutton(Window, text=\"\",bg=bgB,fg=fgB,bd=0,activebackground=ActiveC,activeforeground=fgB,Avariable=var).grid(row=4,column=7,sticky='w')\n#Buttons\nbuttonA = Button(Window,text=\"Confirm\",bg=bgB,fg=fgB,activebackground=ActiveC,activeforeground=fgB,bd=0,command=updateButton('A')).grid(row=1,column=4)\nbuttonB = Button(Window,text=\"Confirm\",bg=bgB,fg=fgB,activebackground=ActiveC,activeforeground=fgB,bd=0).grid(row=2,column=4)\nbuttonC = Button(Window,text=\"Confirm\",bg=bgB,fg=fgB,activebackground=ActiveC,activeforeground=fgB,bd=0).grid(row=3,column=4)\nbuttonD = Button(Window,text=\"ACTIVATE\",bg=bgB,fg=fgB,activebackground=ActiveC,activeforeground=fgB,bd=0).grid(row=5,column=9)\nbuttonE = Button(Window,text=\"ACTIVATE\",bg=bgB,fg=fgB,activebackground=ActiveC,activeforeground=fgB,bd=0).grid(row=6,column=9)\nbuttonFIRE = Button(Window,text=\"Fire\",bg=bgB,fg=fgB,activebackground=ActiveC,activeforeground=fgB,bd=0).grid(row=14,column=6,sticky='w')\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1484175323, "post_id": 41601270, "comment_id": 70407064, "body": "<code>l2</code> quite clearly contains lists: <code>l2.append(list(line))</code>"}, {"owner": {"reputation": 55, "user_id": 7304040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827c2db85c3af937a1050381ad259de?s=128&d=identicon&r=PG&f=1", "display_name": "MiguelA", "link": "https://stackoverflow.com/users/7304040/miguela"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1484175726, "post_id": 41601270, "comment_id": 70407208, "body": "I meant the values themselves that make up the list are floats. sorry for the confusion."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7304040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827c2db85c3af937a1050381ad259de?s=128&d=identicon&r=PG&f=1", "display_name": "MiguelA", "link": "https://stackoverflow.com/users/7304040/miguela"}, "edited": false, "score": 0, "creation_date": 1484171710, "post_id": 41601339, "comment_id": 70405589, "body": "I tried this at first, it returns:  <code>TypeError: unsupported operand type(s) for -: &#39;int&#39; and &#39;list&#39;</code>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 55, "user_id": 7304040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827c2db85c3af937a1050381ad259de?s=128&d=identicon&r=PG&f=1", "display_name": "MiguelA", "link": "https://stackoverflow.com/users/7304040/miguela"}, "edited": false, "score": 2, "creation_date": 1484172337, "post_id": 41601339, "comment_id": 70405862, "body": "@MiguelA You have a typo somewhere, probably something like <code>[1 - values for value in values]</code>"}, {"owner": {"reputation": 338, "user_id": 5646852, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-oCRPt2RBCuM/AAAAAAAAAAI/AAAAAAAAACg/vgj4oF0rgrA/photo.jpg?sz=128", "display_name": "AgentM", "link": "https://stackoverflow.com/users/5646852/agentm"}, "edited": false, "score": 0, "creation_date": 1571267538, "post_id": 41601339, "comment_id": 103187775, "body": "I actually have a numpy array with rgba values in it. So <code>rgba_array[..., 0]</code> would access all red values. this would be an array of arrays. I then did <code>print([255 - x for x in rgba_array[..., 0]])</code> And it also seemed to work? I got the expected values. However when doing this to a regular 2d array, I get a TypeError indeed.  Is this a overridden method for [integer] - [numpy arrays]?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 338, "user_id": 5646852, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-oCRPt2RBCuM/AAAAAAAAAAI/AAAAAAAAACg/vgj4oF0rgrA/photo.jpg?sz=128", "display_name": "AgentM", "link": "https://stackoverflow.com/users/5646852/agentm"}, "edited": false, "score": 0, "creation_date": 1571267926, "post_id": 41601339, "comment_id": 103187859, "body": "@AgentM I don&#39;t know anything about <code>numpy</code>. I could look it up in the docs. If you want help on <code>numpy</code> though it would have been best to tag the original question, then you&#39;d get experts on that to answer. Replying to me will get very few views from anyone else. Search the documentation, and stack overflow for other answers, and then maybe ask a new question if you&#39;re still stuck."}], "tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": true, "score": 2, "last_activity_date": 1484175482, "last_edit_date": 1484175482, "creation_date": 1484171442, "answer_id": 41601339, "question_id": 41601270, "link": "https://stackoverflow.com/questions/41601270/subtracting-all-elements-in-list-from-a-specific-number/41601339#41601339", "title": "Subtracting all elements in list from a specific number", "body": "<p>You can use a list comprehension</p>\n\n<pre><code>&gt;&gt;&gt; values = [2, 4, 6, 8, 10]\n&gt;&gt;&gt; [1 - value for value in values]\n[-1, -3, -5, -7, -9]\n</code></pre>\n\n<p>edit: If you really have a list of lists:</p>\n\n<pre><code>&gt;&gt;&gt; values = [[2, 4, 6], [8, 10, 12]]\n&gt;&gt;&gt; [[1 - value for value in sublist]\n...   for sublist in values]\n[[-1, -3, -5], [-7, -9, -11]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 7304040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827c2db85c3af937a1050381ad259de?s=128&d=identicon&r=PG&f=1", "display_name": "MiguelA", "link": "https://stackoverflow.com/users/7304040/miguela"}, "edited": false, "score": 0, "creation_date": 1484173195, "post_id": 41601374, "comment_id": 70406239, "body": "I&#39;m still getting <code>unsupported operand type(s) for -: &#39;int&#39; and &#39;list&#39;</code> which is confusing because it works on the example but not on the list created from my .csv file"}, {"owner": {"reputation": 338, "user_id": 5646852, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-oCRPt2RBCuM/AAAAAAAAAAI/AAAAAAAAACg/vgj4oF0rgrA/photo.jpg?sz=128", "display_name": "AgentM", "link": "https://stackoverflow.com/users/5646852/agentm"}, "edited": false, "score": 0, "creation_date": 1571324002, "post_id": 41601374, "comment_id": 103211138, "body": "With your edit, the result will by a single dimension array, what if I want the same datatype namely, a 2d array from that operation?"}], "tags": [], "owner": {"reputation": 2655, "user_id": 3727348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVZF9.png?s=128&g=1", "display_name": "Taras Matsyk", "link": "https://stackoverflow.com/users/3727348/taras-matsyk"}, "is_accepted": false, "score": 1, "last_activity_date": 1484173415, "last_edit_date": 1484173415, "creation_date": 1484171599, "answer_id": 41601374, "question_id": 41601270, "link": "https://stackoverflow.com/questions/41601270/subtracting-all-elements-in-list-from-a-specific-number/41601374#41601374", "title": "Subtracting all elements in list from a specific number", "body": "<p>Sure, you have plenty of options,</p>\n\n<pre><code>number = 1\na = [2, 4, 6, 8, 10]\nresult = list()\n# using for loop\nfor i in a:\n    result.append(number-i)\n\nprint result\n# using list comprehension\nresult = [number-x for x in a]\nprint result\n\n# taking functional approach and applying a lambda function on each element\nresult = map(lambda x: number - x, a)\nprint result\n</code></pre>\n\n<p>Please let me know if you need more explanation on each of them</p>\n\n<h3>edited. Can't comment so far, man :)</h3>\n\n<p>I bet you have a nested list, smth like [[1,2,3,4]] not the one [1,2,3,4].\nIf it is a case, try next</p>\n\n<pre><code>result = [1-x for y in a for x in y]\n</code></pre>\n\n<p>I know it looks horrible and it will help to make it cleaner if you post an actual list representation. You can fill a list with dummy values if it is important.</p>\n"}, {"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 0, "last_activity_date": 1484171735, "creation_date": 1484171735, "answer_id": 41601413, "question_id": 41601270, "link": "https://stackoverflow.com/questions/41601270/subtracting-all-elements-in-list-from-a-specific-number/41601413#41601413", "title": "Subtracting all elements in list from a specific number", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/functions.html#map\" rel=\"nofollow noreferrer\"><code>map()</code></a> with <a href=\"https://docs.python.org/2/library/operator.html#operator.sub\" rel=\"nofollow noreferrer\"><code>operator.sub</code></a>:</p>\n\n<pre><code>map(operator.sub, [1]*len(a), a)  # list(map(...)) for Python 3\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&gt;&gt;&gt; import operator\n&gt;&gt;&gt;\n&gt;&gt;&gt; a = [2, 4, 6, 8, 10]\n&gt;&gt;&gt; map(operator.sub, [1]*len(a), a)\n[-1, -3, -5, -7, -9]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "is_accepted": false, "score": 1, "last_activity_date": 1484172234, "last_edit_date": 1484172234, "creation_date": 1484171803, "answer_id": 41601428, "question_id": 41601270, "link": "https://stackoverflow.com/questions/41601270/subtracting-all-elements-in-list-from-a-specific-number/41601428#41601428", "title": "Subtracting all elements in list from a specific number", "body": "<p>A simple for loop will do it:</p>\n\n<pre><code>atemp = [2,4,6,8,10]\na=[]\nfor i in atemp:\n    a.append((1 - i))\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>[-1, -3, -5, -7, -9]\n</code></pre>\n\n<p>Or a <a href=\"https://docs.python.org/2/tutorial/datastructures.html\" rel=\"nofollow noreferrer\">list comprehension</a>:</p>\n\n<pre><code>a = [1 - x for x in atemp]\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>a\n\n[-1, -3, -5, -7, -9]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6058, "user_id": 1952500, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd15d38fd1e508e6c2bcad9e153e789d?s=128&d=identicon&r=PG", "display_name": "user1952500", "link": "https://stackoverflow.com/users/1952500/user1952500"}, "is_accepted": false, "score": 0, "last_activity_date": 1484172290, "last_edit_date": 1484172290, "creation_date": 1484171821, "answer_id": 41601434, "question_id": 41601270, "link": "https://stackoverflow.com/questions/41601270/subtracting-all-elements-in-list-from-a-specific-number/41601434#41601434", "title": "Subtracting all elements in list from a specific number", "body": "<p>There are multiple answers here with python comprehension. If you are looking for Matlab-like equivalents, you could do it with the numpy library:</p>\n\n<pre><code>import numpy as np\nlist(np.ones(len(a)) - a)\n\n[-1.0, -3.0, -5.0, -7.0, -9.0]\n</code></pre>\n\n<p>This will return floats by default. To get ints, use:</p>\n\n<pre><code>import numpy as np\nlist(np.ones(len(a), dtype=np.int) - a)\n\n[-1, -3, -5, -7, -9]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28, "user_id": 5734938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b417dc673ceeddd253c821e91bc7c56?s=128&d=identicon&r=PG&f=1", "display_name": "che_sac", "link": "https://stackoverflow.com/users/5734938/che-sac"}, "is_accepted": false, "score": 0, "last_activity_date": 1484173434, "creation_date": 1484173434, "answer_id": 41601813, "question_id": 41601270, "link": "https://stackoverflow.com/questions/41601270/subtracting-all-elements-in-list-from-a-specific-number/41601813#41601813", "title": "Subtracting all elements in list from a specific number", "body": "<p>You can use list comprehension.</p>\n\n<pre><code>values = [2, 4, 6, 8, 10]\nx = [1 - value for value in values]\nprint(x)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7304040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827c2db85c3af937a1050381ad259de?s=128&d=identicon&r=PG&f=1", "display_name": "MiguelA", "link": "https://stackoverflow.com/users/7304040/miguela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2959, "favorite_count": 0, "accepted_answer_id": 41601339, "answer_count": 6, "score": 2, "last_activity_date": 1484177106, "creation_date": 1484171214, "last_edit_date": 1484177106, "question_id": 41601270, "link": "https://stackoverflow.com/questions/41601270/subtracting-all-elements-in-list-from-a-specific-number", "title": "Subtracting all elements in list from a specific number", "body": "<p>Can I do an operation where I minus my list from a number using python? for example:</p>\n\n<pre><code>a = [2, 4, 6, 8, 10]\n</code></pre>\n\n<p>I would then do <code>1 - a</code></p>\n\n<p>The output should be:</p>\n\n<pre><code>a = [-1, -3, -5, -7, -9] \n</code></pre>\n\n<p><code>a</code> in my code is a list of floats pulled from a .csv file, is this kind of operation possible in python?</p>\n\n<p>I am creating my list this way:</p>\n\n<pre><code>f2 = 'C:/Users/.....csv'\nwith open(f2,'r') as csvfile:\n    csvreader = csv.reader(csvfile)\n    for line in csvreader:\n        l2.append(list(line))\n</code></pre>\n\n<p><code>l2</code> contains lists of floats.</p>\n"}, {"tags": ["python", "facebook", "bots", "facebook-messenger", "chatbot"], "comments": [{"owner": {"reputation": 240, "user_id": 4441060, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/62b8305f98b167841fc13065a900c4a5?s=128&d=identicon&r=PG", "display_name": "candh", "link": "https://stackoverflow.com/users/4441060/candh"}, "edited": false, "score": 0, "creation_date": 1484354800, "post_id": 41601267, "comment_id": 70490915, "body": "facebook&#39;s api posts back the message with the recipientID of the facebook page&#39;s ID. I know kinda weird. My guess is that you (user1) populates that list, but somewhere in between (user2 being the facebook page) also contributes to the length of the list.. idk, just a guess. what do you think? try printing out recipient IDs"}, {"owner": {"reputation": 1169, "user_id": 3276768, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/281d13be910548f09ba1ef72f3cedc86?s=128&d=identicon&r=PG&f=1", "display_name": "user3276768", "link": "https://stackoverflow.com/users/3276768/user3276768"}, "reply_to_user": {"reputation": 240, "user_id": 4441060, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/62b8305f98b167841fc13065a900c4a5?s=128&d=identicon&r=PG", "display_name": "candh", "link": "https://stackoverflow.com/users/4441060/candh"}, "edited": false, "score": 0, "creation_date": 1484478396, "post_id": 41601267, "comment_id": 70519243, "body": "I try printing the ID&#39;s and didn&#39;t saw anything unusual."}], "owner": {"reputation": 1169, "user_id": 3276768, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/281d13be910548f09ba1ef72f3cedc86?s=128&d=identicon&r=PG&f=1", "display_name": "user3276768", "link": "https://stackoverflow.com/users/3276768/user3276768"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1484171575, "creation_date": 1484171194, "last_edit_date": 1484171575, "question_id": 41601267, "link": "https://stackoverflow.com/questions/41601267/facebook-messenger-python-two-different-results-same-user", "title": "Facebook Messenger (Python) two different results same user", "body": "<p>Currently I am building a Facebook Messenger bot using this library <a href=\"https://github.com/davidchua/pymessenger\" rel=\"nofollow noreferrer\">PyMessenger</a> and I am encountering a strange behavior. </p>\n\n<p>The purpose of my silly bot is to simply append a number 1 to a list every time the user writes a message, and then return the length of the list.</p>\n\n<p>My problem is that the value returned is wrong.The bot is acting as if it has two different lists for the same user. For example, after writing one message, the output should be 1, and after writing the second message the output should be 2. Now, sometimes after I write a third message the output is 1, instead of 3. And after the next input, the output of the bot could be either 3 (length of the 'first' list) or 2 (the length of the 'second' list). I know my explanation is not the best, so please let me know if you need more details.</p>\n\n<p>The bot is deployed on a free Heroku instance.</p>\n\n<p>Attached to this post if my whole script, and a picture from the bot showing an example.</p>\n\n<pre><code>import os\nfrom pymessenger.bot import Bot\nfrom collections import defaultdict\n\nimport requests\nfrom flask import Flask, request\n\napp = Flask(__name__)\n\nACCESS_TOKEN = os.environ.get('PAGE_ACCESS_TOKEN')\nbot = Bot(ACCESS_TOKEN)\n\n\na = defaultdict(list)\n\n\n@app.route(\"/\", methods=['POST', 'GET'])\ndef webhook():\n    if request.method == 'POST':\n        output = request.get_json()\n        for event in output['entry']:\n            messaging = event['messaging']\n            for x in messaging:\n                if x.get('message'):\n                    recipient_id = x['sender']['id']\n                    a[recipient_id].append(1)\n                    bot.send_text_message(recipient_id, len(a[recipient_id]))\n    return 'Success'\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/i4eT0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i4eT0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "web-scraping", "python-requests", "bs4"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1484171166, "post_id": 41601166, "comment_id": 70405331, "body": "i dont see any actual question here... whats wrong with the solution you posted?"}, {"owner": {"reputation": 5, "user_id": 7237457, "user_type": "registered", "profile_image": "https://graph.facebook.com/2672851620669/picture?type=large", "display_name": "S_Stand_ring", "link": "https://stackoverflow.com/users/7237457/s-stand-ring"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1484171557, "post_id": 41601166, "comment_id": 70405511, "body": "Thanks, I got a little caught up in the explanation"}, {"owner": {"reputation": 3188, "user_id": 476063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SM8Do.jpg?s=128&g=1", "display_name": "garrettmurray", "link": "https://stackoverflow.com/users/476063/garrettmurray"}, "edited": false, "score": 1, "creation_date": 1484172214, "post_id": 41601166, "comment_id": 70405805, "body": "This question is too broad. Stack Overflow isn&#39;t a place where you can ask other people to tutorialize or write code for you, but instead a place where you can ask specific questions when you need help or guidance. In this case, you&#39;re effectively asking someone to tell you how to write this code for you. Based on your code sample, it appears <code>data</code> might contain what you need... does it not? Please be specific."}, {"owner": {"reputation": 5, "user_id": 7237457, "user_type": "registered", "profile_image": "https://graph.facebook.com/2672851620669/picture?type=large", "display_name": "S_Stand_ring", "link": "https://stackoverflow.com/users/7237457/s-stand-ring"}, "reply_to_user": {"reputation": 3188, "user_id": 476063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SM8Do.jpg?s=128&g=1", "display_name": "garrettmurray", "link": "https://stackoverflow.com/users/476063/garrettmurray"}, "edited": false, "score": 0, "creation_date": 1484172968, "post_id": 41601166, "comment_id": 70406147, "body": "My intention was not bring a broad question, nor ask someone to write it for me so I apologize @garrettmurray that I posted a &quot;garbage&quot; post, as I dislike those types of posts also. I suppose what I am looking for is: What is framework for using a <code>request.post</code> then a <code>request.get</code> or <code>bs4</code> scrape when the URL does not change."}], "answers": [{"comments": [{"owner": {"reputation": 16, "user_id": 6789215, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m-Hr9SPfrpg/AAAAAAAAAAI/AAAAAAAAABE/YZFLgvAizIw/photo.jpg?sz=128", "display_name": "\u0421\u0435\u0440\u0433\u0435\u0439 \u0416\u0438\u043b\u044c\u0446\u043e\u0432", "link": "https://stackoverflow.com/users/6789215/%d0%a1%d0%b5%d1%80%d0%b3%d0%b5%d0%b9-%d0%96%d0%b8%d0%bb%d1%8c%d1%86%d0%be%d0%b2"}, "reply_to_user": {"reputation": 5, "user_id": 7237457, "user_type": "registered", "profile_image": "https://graph.facebook.com/2672851620669/picture?type=large", "display_name": "S_Stand_ring", "link": "https://stackoverflow.com/users/7237457/s-stand-ring"}, "edited": false, "score": 0, "creation_date": 1484173319, "post_id": 41601359, "comment_id": 70406289, "body": "PhantomJS is a standalone application (headless browser) and CasperJS is just JS wrapper. You can use PhantomJS with Python. Example <a href=\"http://stackoverflow.com/questions/13287490/is-there-a-way-to-use-phantomjs-in-python\" title=\"is there a way to use phantomjs in python\">stackoverflow.com/questions/13287490/&hellip;</a>"}], "tags": [], "owner": {"reputation": 16, "user_id": 6789215, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m-Hr9SPfrpg/AAAAAAAAAAI/AAAAAAAAABE/YZFLgvAizIw/photo.jpg?sz=128", "display_name": "\u0421\u0435\u0440\u0433\u0435\u0439 \u0416\u0438\u043b\u044c\u0446\u043e\u0432", "link": "https://stackoverflow.com/users/6789215/%d0%a1%d0%b5%d1%80%d0%b3%d0%b5%d0%b9-%d0%96%d0%b8%d0%bb%d1%8c%d1%86%d0%be%d0%b2"}, "is_accepted": true, "score": 0, "last_activity_date": 1484171541, "creation_date": 1484171541, "answer_id": 41601359, "question_id": 41601166, "link": "https://stackoverflow.com/questions/41601166/python-search-and-scrape-results/41601359#41601359", "title": "Python search and scrape results", "body": "<p>As you can see in the link this search works not through the redirection, so you can't pass your query into the URL.\nI'm not sure how you can work directly with the ASP.NET backend (it might be tricky due to authentication/validation on the backend).\nI think some automation (test) tool can help you (e.g PhantomJS and/or CasperJS). It gives you control over the rendered web page and you can programmatically put query into the input and grab data after response</p>\n"}], "owner": {"reputation": 5, "user_id": 7237457, "user_type": "registered", "profile_image": "https://graph.facebook.com/2672851620669/picture?type=large", "display_name": "S_Stand_ring", "link": "https://stackoverflow.com/users/7237457/s-stand-ring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 0, "accepted_answer_id": 41601359, "answer_count": 1, "score": 0, "last_activity_date": 1484172987, "creation_date": 1484170785, "last_edit_date": 1484172987, "question_id": 41601166, "link": "https://stackoverflow.com/questions/41601166/python-search-and-scrape-results", "title": "Python search and scrape results", "body": "<p>This is my first post so I apologize if it is a duplicate but I could not find an answer relevant to mine. If there is one please let me know and I will check it out.</p>\n\n<p>I am attempting to scrape a website(below) to find Berkeley rent ceiling, the trouble I'm having is I cannot seem to figure out how to insert an address into the search box and scrape the info from the next page. In the past the URLs I've worked with change with search input, but not on this website. I thought my best bet would be using <code>bs4</code> to scrape the info and <code>request.session</code> and <code>requests.post</code> to get to each subsequent address.</p>\n\n<pre><code>#Berkeley Rent Scrape\nfrom bs4 import BeauitfulSoup\nimport sys\nimport requests\nimport openpyxl\nimport pprint\nimport csv\n\n#wb = openpyxl.load_workbook('workbook.xlsx', data_only=True)\n#sheet = wb.get_sheet_by_name('worksheet')\n\n\nprops_payload={'aspnetForm':'1150 Oxford St'}\nURL = 'http://www.ci.berkeley.ca.us/RentBoardUnitSearch.aspx'\n\ns = requests.session()\np = s.post(ULR, data = props_payload)\nsoup = BeauitfulSoup(p.text)\ndata = soup.find_all('td', class=\"gridItem\")\n</code></pre>\n\n<p><strong>UPDATE</strong> How do you get the info from the new webpage once the post has been sent? Or in other words, what is framework for using a request.post then a request.get or bs4 scrape when the URL does not change?</p>\n\n<p>I was thinking it would look something like this, but I'm sure I need a GET request somewhere in there but don't understand how sessions work when the URL doesn't change. </p>\n\n<p>I will be exporting the info to a csv file and to a excel sheet, but I can deal with that later. Just want to get the meat out of the way.</p>\n\n<p>Thank you for any help!</p>\n"}, {"tags": ["python", "sql-server", "string", "escaping", "pypyodbc"], "answers": [{"comments": [{"owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "edited": false, "score": 0, "creation_date": 1484246271, "post_id": 41604656, "comment_id": 70442469, "body": "thank you! I didn&#39;t realize that <code>pypyodbc</code> would use <code>?</code> (kind of unexpected given Python standard string formatting uses <code>%</code>). That solved the issue. :)"}], "tags": [], "owner": {"reputation": 161, "user_id": 7356982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cefa7056cb3632d6bbaa6ed35f4455?s=128&d=identicon&r=PG&f=1", "display_name": "Pramod Maharjan", "link": "https://stackoverflow.com/users/7356982/pramod-maharjan"}, "is_accepted": true, "score": 2, "last_activity_date": 1484192600, "last_edit_date": 1484192600, "creation_date": 1484191941, "answer_id": 41604656, "question_id": 41601114, "link": "https://stackoverflow.com/questions/41601114/escaping-characters-in-sql-string-for-pypyodbc/41604656#41604656", "title": "Escaping characters in SQL string for pypyodbc", "body": "<p>The issue here is you are using %s placeholder like in python or other programming language. However pypyodbc uses ? as placeholder (parameter marker). Simply replace %s with ?, your code should work fine.</p>\n\n<pre><code>import pypyodbc\nconnection = pypyodbc.connect('Driver={SQL Server};' 'Server=12.3.456.789.0123;' 'Database=mydb;' 'uid=BenchmarkingUS;pwd=mypwd')\ncursor= connection.cursor()\ndata = [{'p1': \"I'm hungry\", 'p2': \"text for col2\", 'p3': 1234}]\nfor dd in data:\n    insert_sql = \"INSERT INTO phyo_test (col1,col2,col3) VALUES (?, ?, ?)\"\n    cursor.execute(insert_sql, (dd['p1'], dd['p2'], dd['p3']))\ncursor.commit()\n</code></pre>\n\n<p>Note: You are setting value of p3 as string '1234' which wont give errors. But its better to change it to int 1234 just to prevent data type errors.</p>\n"}], "owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1476, "favorite_count": 0, "accepted_answer_id": 41604656, "answer_count": 1, "score": 1, "last_activity_date": 1484246202, "creation_date": 1484170581, "last_edit_date": 1484246202, "question_id": 41601114, "link": "https://stackoverflow.com/questions/41601114/escaping-characters-in-sql-string-for-pypyodbc", "title": "Escaping characters in SQL string for pypyodbc", "body": "<p>Suppose I have <code>my_table</code> in SQL Server like this:</p>\n\n<pre><code>  CREATE TABLE my_table\n  (col1 VARCHAR(100),\n  col2 VARCHAR(100),\n  col3 INT)\n</code></pre>\n\n<p>I tried to insert a few records to that table using Python 3.5 and <code>pypyodbc</code> library as shown below:</p>\n\n<pre><code>import pypyodbc\nconnection = pypyodbc.connect('Driver={SQL Server};' 'Server=12.3.456.789.0123;' 'Database=mydb;' 'uid=me;pwd=mypwd')\ncursor= connection.cursor()\ndata = [{'p1': \"I'm hungry\", 'p2': \"text for col2\", 'p3': '1234'}]\nfor dd in data:\n    insert_sql = \"INSERT INTO my_table (col1,col2,col3) VALUES (%s, %s, %s)\"\n    cursor.execute(insert_sql, (dd['p1'], dd['p2'], dd['p3']))\n</code></pre>\n\n<p>But when the above code is run, it returns:</p>\n\n<pre><code>pypyodbc.ProgrammingError: ('HY000', 'The SQL contains 0 parameter markers, but 3 parameters were supplied')\n</code></pre>\n\n<p>I don't know what I'm doing wrong. If anyone could help me resolve this, I'd greatly appreciate the help!</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 336, "user_id": 7395553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338f72e690b1e8189cffb5bd1858d9a7?s=128&d=identicon&r=PG&f=1", "display_name": "A. Sokol", "link": "https://stackoverflow.com/users/7395553/a-sokol"}, "edited": false, "score": 0, "creation_date": 1484172996, "post_id": 41601325, "comment_id": 70406161, "body": "... I don&#39;t have enough reputation to comment on other answers. @Miloslav your code fails on <code>min_tiles(2, 4, 1, 3)</code>. @Joran your answer doesn&#39;t account for discarding excess."}, {"owner": {"reputation": 49, "user_id": 7406490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e337ab5d47a792f86d73e33cd35d1721?s=128&d=identicon&r=PG&f=1", "display_name": "user64350", "link": "https://stackoverflow.com/users/7406490/user64350"}, "edited": false, "score": 0, "creation_date": 1484174444, "post_id": 41601325, "comment_id": 70406750, "body": "I&#39;m not sure if I&#39;m allowed to use dynamic programming the only things we are allowed to use are the functions listed in the question. And yes I think I get what you are trying to explain in your 2nd paragraph I&#39;ll try that."}, {"owner": {"reputation": 336, "user_id": 7395553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338f72e690b1e8189cffb5bd1858d9a7?s=128&d=identicon&r=PG&f=1", "display_name": "A. Sokol", "link": "https://stackoverflow.com/users/7395553/a-sokol"}, "reply_to_user": {"reputation": 49, "user_id": 7406490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e337ab5d47a792f86d73e33cd35d1721?s=128&d=identicon&r=PG&f=1", "display_name": "user64350", "link": "https://stackoverflow.com/users/7406490/user64350"}, "edited": false, "score": 0, "creation_date": 1484174767, "post_id": 41601325, "comment_id": 70406866, "body": "I wasn&#39;t sure what was allowed. Dynamic programming would mean that you store some Array-like structures of values, but you aren&#39;t using any mathematical functions outside of basic arithmetic and min/max."}], "tags": [], "owner": {"reputation": 336, "user_id": 7395553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338f72e690b1e8189cffb5bd1858d9a7?s=128&d=identicon&r=PG&f=1", "display_name": "A. Sokol", "link": "https://stackoverflow.com/users/7395553/a-sokol"}, "is_accepted": false, "score": 0, "last_activity_date": 1484171396, "creation_date": 1484171396, "answer_id": 41601325, "question_id": 41601083, "link": "https://stackoverflow.com/questions/41601083/min-number-of-tiles-required-for-a-floor/41601325#41601325", "title": "Min number of tiles required for a floor", "body": "<p>You would be able to use a dynamic programming solution to solve this problem, but if you are new to programming in general this would be difficult. You can assume that you would start by placing a tile aligned with a corner of the floor (with two possible orientations), and once this tile is placed it creates two sub-problems of smaller rectangles.</p>\n\n<p>You also know that you can produce <code>n(l) x m(w)</code> and <code>n(w) x m(l)</code>  rectangles using your one tile with <code>l x w</code>. I think the largest (by area) such rectangle that completely fits within the boundaries will always be part of the solution. Maybe try to see if you can prove that is always the case?</p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 7406490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e337ab5d47a792f86d73e33cd35d1721?s=128&d=identicon&r=PG&f=1", "display_name": "user64350", "link": "https://stackoverflow.com/users/7406490/user64350"}, "edited": false, "score": 0, "creation_date": 1484174979, "post_id": 41601355, "comment_id": 70406947, "body": "I was wondering if you could explain the thought process? I&#39;m not sure why you used float and math.ceil? Im guessing this is part of the answer and I would have to write a similar function for vertical?"}, {"owner": {"reputation": 49, "user_id": 7406490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e337ab5d47a792f86d73e33cd35d1721?s=128&d=identicon&r=PG&f=1", "display_name": "user64350", "link": "https://stackoverflow.com/users/7406490/user64350"}, "edited": false, "score": 0, "creation_date": 1484239800, "post_id": 41601355, "comment_id": 70438764, "body": "I don&#39;t know if it&#39;s different which each python version but I have 3 and when I don&#39;t use float is the division I still get a float so 3/2 would still give me 1.5 so I guess that part of the code wouldn&#39;t be necessary."}, {"owner": {"reputation": 381, "user_id": 1517689, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f18ad9baf832c26ed0d6ae6163615929?s=128&d=identicon&r=PG", "display_name": "Miloslav \u010c&#237;\u017e", "link": "https://stackoverflow.com/users/1517689/miloslav-%c4%8c%c3%ad%c5%be"}, "reply_to_user": {"reputation": 49, "user_id": 7406490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e337ab5d47a792f86d73e33cd35d1721?s=128&d=identicon&r=PG&f=1", "display_name": "user64350", "link": "https://stackoverflow.com/users/7406490/user64350"}, "edited": false, "score": 0, "creation_date": 1484323512, "post_id": 41601355, "comment_id": 70477076, "body": "Yes, in Python3 3/2 == 1.5, in Python 2.7 3/2 == 1. So you can ommit the float function, but if you leave it in, it will work in both versions."}], "tags": [], "owner": {"reputation": 381, "user_id": 1517689, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f18ad9baf832c26ed0d6ae6163615929?s=128&d=identicon&r=PG", "display_name": "Miloslav \u010c&#237;\u017e", "link": "https://stackoverflow.com/users/1517689/miloslav-%c4%8c%c3%ad%c5%be"}, "is_accepted": false, "score": 0, "last_activity_date": 1484235111, "last_edit_date": 1484235111, "creation_date": 1484171532, "answer_id": 41601355, "question_id": 41601083, "link": "https://stackoverflow.com/questions/41601083/min-number-of-tiles-required-for-a-floor/41601355#41601355", "title": "Min number of tiles required for a floor", "body": "<pre><code>def min_tiles_horizontal(room_width,room_length,tile_width,tile_length):\n  return math.ceil(room_width / float(tile_width)) * math.ceil(room_length / float(tile_length))\n\ndef min_tiles(room_width,room_length,tile_width,tile_length):\n  return min(\n      min_tiles_horizontal(room_width,room_length,tile_width,tile_length),        \n      min_tiles_horizontal(room_width,room_length,tile_length,tile_width))\n</code></pre>\n\n<p><code>min_tiles_horizontal</code> only computes the number of tiles needed if the tiles are oriented horizontally. In <code>min_tiles</code> we call the <code>min_tiles_horizontal</code> twice - once for getting the number for horizontal tiling and once for getting the number for vertical tiling (we get this by switching <code>tile_length</code> and <code>tile_width</code> as the arguments) - and we return the minimum of those two numbers.</p>\n\n<p><code>float</code> is used to do a floting point division, e.g. for 3 / float(2) we'll get 1.5 (without using <code>float</code> we'd make an integer divide and we'd get 1). <code>math.ceil</code> is then used to round the number to the closest greater number, e.g. <code>math.ceil(2.1)</code> will give us 3, since when you need 2.1 tiles, you have to use 3.</p>\n"}], "owner": {"reputation": 49, "user_id": 7406490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e337ab5d47a792f86d73e33cd35d1721?s=128&d=identicon&r=PG&f=1", "display_name": "user64350", "link": "https://stackoverflow.com/users/7406490/user64350"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 664, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497203190, "creation_date": 1484170472, "last_edit_date": 1497203190, "question_id": 41601083, "link": "https://stackoverflow.com/questions/41601083/min-number-of-tiles-required-for-a-floor", "title": "Min number of tiles required for a floor", "body": "<p>I'm starting to learn how to program in python and I came across this problem that I can only use these functions:</p>\n\n<ul>\n<li>Basic mathematical and logical operators (+.-, *, /, //, %, **, &lt;. &lt;=, >, >=, ==, !=, and, or, not)</li>\n<li>Any functions and constants available in the Math module\nmin, max, abs,</li>\n<li>type</li>\n<li>len (for length of strings)</li>\n<li>int, str, float conversion functions</li>\n<li>round</li>\n</ul>\n\n<p>I'm not looking for an answer more so just how to approach the problem.</p>\n\n<p>The question asks to determine the minimum number of identical tiles all with the same orientation that are required to cover the floor of a rectangular room. Any excess from a tile exceeding the floor area is discarded and cannot be\nreused. Write a Python function called min_tiles which consumes 4 positive integers, room_width, room_length, tile_width, tile_length, and produces the\nminimum number of tiles required to completely cover the floor of the room.</p>\n\n<p>Here are some examples:</p>\n\n<p>min_tiles(4,4,2,2) => 4</p>\n\n<p>If the tiles are rectangular, they can only be oriented in one direction, not\nboth. So, if the floor is 3 x 4, and the tiles are 1 x 3, then in one direction it would take 6 tiles to cover the floor (discarding excess pieces), but in the other direction it would only take 4 tiles to cover the floor. You should produce the minimum in this case, which would be 4. Hence min_tiles(3,4,1,3) => 4</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1484172775, "post_id": 41601068, "comment_id": 70406074, "body": "This is called web-scraping, and in Python the best free tool is BeautifulSoup. Try BS out and if you have a specific question, post your code and error here."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4712885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4c99346728d248a292d7dcb607fed1?s=128&d=identicon&r=PG&f=1", "display_name": "Ray ray bivens", "link": "https://stackoverflow.com/users/4712885/ray-ray-bivens"}, "edited": false, "score": 0, "creation_date": 1484253100, "post_id": 41619348, "comment_id": 70446217, "body": "I understand how to get the HTML, I have retrieved 65 thousand of them. I used my function that I wrote to parse them. About 28k of them retrieved the information I need, some need a little cleaning up but the remaining 30k+ didn&#39;t parse out right. I am returning 3 lists from my function each should be 15 lists of 5 elements. I am trying to find a way to parse out the block that I showed in OP. If you look at the source of the page the whole body of the text is basically in one &lt;pre&gt;&lt;/pre&gt;block. so really beautiful soup isn&#39;t going to get me any further, based off of your answer."}], "tags": [], "owner": {"reputation": 31, "user_id": 4134677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27736f8f74ff5c7f24a9c052afbb87e?s=128&d=identicon&r=PG&f=1", "display_name": "JulianSmith95", "link": "https://stackoverflow.com/users/4134677/juliansmith95"}, "is_accepted": false, "score": 0, "last_activity_date": 1484241858, "creation_date": 1484241858, "answer_id": 41619348, "question_id": 41601068, "link": "https://stackoverflow.com/questions/41601068/python-how-would-i-go-about-getting-block-of-text-from-an-html-document/41619348#41619348", "title": "Python-How would i go about getting block of text from an html document", "body": "<p>Your question is a little vague so I'll try my best to help you. </p>\n\n<h2>1. Install Beautiful Soup 4</h2>\n\n<p>To get a block of text from a webpage,you will need to use the external library BeautifulSoup4 (BS4). Once downloaded and installed to your computer, first import BS4 using the following <code>from bs4 import BeautifulSoup</code>and <code>import urllib.request</code>. Then simply setup BS4 using <code>soup = BeautifulSoup(\"\", \"html.parser\")</code>.</p>\n\n<h2>2. Download Webpage</h2>\n\n<p>Downloading a webpage is simple, just use <code>site_download = urllib.request.urlopen(url)</code>. In your case, simply replace \"url\" with the url you provided here. Then we need to read what we've downloaded using <code>site_read = site_download.read().decode('utf-8')</code> followed by <code>soup = BeautifulSoup(site_read, \"html.parser\")</code>.</p>\n\n<h2>3. Get Block of Text</h2>\n\n<p>You can get text in many different ways, so I'll show you a few examples.</p>\n\n<p>To get the first instance of  &lt; P > tag (paragraph) text:</p>\n\n<pre><code>text = soup.find(\"p\")\ntext = getText()\n</code></pre>\n\n<p>To get all instances of the &lt; P > tag:</p>\n\n<pre><code>text = soup.findAll(\"p\")\ntext = getText()\n</code></pre>\n\n<p>To get text from a specific class:</p>\n\n<pre><code>text = soup.find(attrs={\"class\": \"class_name_here\"})\ntext = getText()\n</code></pre>\n\n<h2>4. Further Info</h2>\n\n<p>More information on how to get different types of tags and other things you can do with BS4 can be found <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">HERE</a>.</p>\n"}], "owner": {"reputation": 5, "user_id": 4712885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4c99346728d248a292d7dcb607fed1?s=128&d=identicon&r=PG&f=1", "display_name": "Ray ray bivens", "link": "https://stackoverflow.com/users/4712885/ray-ray-bivens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 542, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1484241858, "creation_date": 1484170425, "last_edit_date": 1484177790, "question_id": 41601068, "link": "https://stackoverflow.com/questions/41601068/python-how-would-i-go-about-getting-block-of-text-from-an-html-document", "title": "Python-How would i go about getting block of text from an html document", "body": "<p><a href=\"https://www.cpms.osd.mil/Content/AF%20Schedules/survey-sch/111/111R-03Apr2003.html\" rel=\"nofollow noreferrer\">https://www.cpms.osd.mil/Content/AF%20Schedules/survey-sch/111/111R-03Apr2003.html</a>\nThis is the page I am trying to parse. It's from a government site which in my experience are not known for keeping up their certificates, so you are are going to be warned about it not being safe by your browser. All I want is this part,<a href=\"https://imgur.com/a/BL14W\" rel=\"nofollow noreferrer\">http://imgur.com/a/BL14W</a>.</p>\n\n<p>edit: Sorry, for the lack of information. I started asking this question then I got called away at work. It's no excuse but when I came back it was time to go home so, I just kinda hit submit.</p>\n\n<p>I have already tried doing it more \"manually\" but apparently not all of the documents came out exactly the same. Here is what I tried:</p>\n\n<pre><code>def table_parser(page):\n    file = open(page)\n    table = []\n    num = 0\n    for line in file:\n        if 'Grade' in line:\n            num += 1\n        if num &gt; 0:\n            num += 1\n        if 3 &lt;= num &lt; 21:\n            line = line.rstrip()\n            if line != '':\n                split_line = line.split(' ')\n                split_line = [x for x in split_line if x != '']\n                strip_line = split_line[:16]\n                table.append(strip_line)\n    WG = []\n    WL = []\n    WS = []\n    for l in table:\n        WG.append((l[1:6]))\n        WL.append(l[6:11])\n        WS.append(l[11:16])\n\n    file.close()\n    # Return 3 lists for the 3 charts I want\n    return WG, WL, WS\n</code></pre>\n\n<p>This is what I used that got the about half of the 65k files I started with mostly right. I passed the returned lists into csv writers to store them till I can get them all cleaned up. I know there is probably a better way but I came up with this before I could wrap my head around BeautifulSoup. I don't necessarily want the code to do this, just pointers on where to start. I tried to find documentation on BeautifulSoup but I couldn't figure out where to start for what I need.</p>\n"}, {"tags": ["python", "macos", "scipy", "pip"], "comments": [{"owner": {"reputation": 27886, "user_id": 636626, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b18fc48caab5bf7c3e2a15292972f05b?s=128&d=identicon&r=PG", "display_name": "Nils Werner", "link": "https://stackoverflow.com/users/636626/nils-werner"}, "edited": false, "score": 0, "creation_date": 1484171394, "post_id": 41601025, "comment_id": 70405440, "body": "Are you sure you installed scipy using pip? Also, what version of pip are you using? Is using Python from homebrew an option?"}, {"owner": {"reputation": 252, "user_id": 4894552, "user_type": "registered", "accept_rate": 31, "profile_image": "https://lh3.googleusercontent.com/-ivqPvzKF7PU/AAAAAAAAAAI/AAAAAAAAEEs/JWAQAOt6Nok/photo.jpg?sz=128", "display_name": "Adrien Chapelet", "link": "https://stackoverflow.com/users/4894552/adrien-chapelet"}, "reply_to_user": {"reputation": 27886, "user_id": 636626, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b18fc48caab5bf7c3e2a15292972f05b?s=128&d=identicon&r=PG", "display_name": "Nils Werner", "link": "https://stackoverflow.com/users/636626/nils-werner"}, "edited": false, "score": 0, "creation_date": 1484172065, "post_id": 41601025, "comment_id": 70405747, "body": "I don&#39;t know exactly what scipy I&#39;m using. sudo pip -V pip 9.0.1 from /Library/Python/2.7/site-packages (python 2.7) I don&#39;t know how to switch to homebrew"}, {"owner": {"reputation": 131, "user_id": 1592286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b12e662196a49c6f5f6b5e116d8c05?s=128&d=identicon&r=PG", "display_name": "akubot", "link": "https://stackoverflow.com/users/1592286/akubot"}, "edited": false, "score": 0, "creation_date": 1510369718, "post_id": 41601025, "comment_id": 81418437, "body": "Here&#39;s how to install Homebrew,   which will then let you install <code>pip</code>   <a href=\"https://brew.sh/\" rel=\"nofollow noreferrer\">Homebrew</a>"}], "owner": {"reputation": 252, "user_id": 4894552, "user_type": "registered", "accept_rate": 31, "profile_image": "https://lh3.googleusercontent.com/-ivqPvzKF7PU/AAAAAAAAAAI/AAAAAAAAEEs/JWAQAOt6Nok/photo.jpg?sz=128", "display_name": "Adrien Chapelet", "link": "https://stackoverflow.com/users/4894552/adrien-chapelet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484170230, "creation_date": 1484170230, "question_id": 41601025, "link": "https://stackoverflow.com/questions/41601025/sciypy-python-on-macos", "title": "Sciypy Python on MacOS", "body": "<p>I am on MacOS 10.12.2 Sierra and I am trying to use scipy with Python.\nBut, when I'm trying to lunch my code, I have the following problem :</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"v2-subplots.py\", line 4, in &lt;module&gt;\nimport scipy as sp\nImportError: No module named scipy\n</code></pre>\n\n<p>I've locate my python :\n    whereis python\n    /usr/bin/python</p>\n\n<p>Whem I'm trying to do :</p>\n\n<pre><code>sudo -H pip install scipy\nRequirement already satisfied: scipy in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\n</code></pre>\n\n<p>and :</p>\n\n<pre><code>sudo -H pip uninstall scipy\nDEPRECATION: Uninstalling a distutils installed project (scipy) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project.\nUninstalling scipy-0.13.0b1:\n/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/scipy-0.13.0b1-py2.7.egg-info\nProceed (y/n)? y\nException:\nTraceback (most recent call last):\nFile \"/Library/Python/2.7/site-packages/pip/basecommand.py\", line 215, in main\nstatus = self.run(options, args)\nFile \"/Library/Python/2.7/site-packages/pip/commands/uninstall.py\", line 76, in run\nrequirement_set.uninstall(auto_confirm=options.yes)\nFile \"/Library/Python/2.7/site-packages/pip/req/req_set.py\", line 346, in uninstall\nreq.uninstall(auto_confirm=auto_confirm)\nFile \"/Library/Python/2.7/site-packages/pip/req/req_install.py\", line 754, in uninstall\npaths_to_remove.remove(auto_confirm)\nFile \"/Library/Python/2.7/site-packages/pip/req/req_uninstall.py\", line 115, in remove\nrenames(path, new_path)\nFile \"/Library/Python/2.7/site-packages/pip/utils/__init__.py\", line 267, in renames\nshutil.move(old, new)\nFile \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 302, in move\ncopy2(src, real_dst)\nFile \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 131, in copy2\ncopystat(src, dst)\nFile \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 103, in copystat\nos.chflags(dst, st.st_flags)\nOSError: [Errno 1] Operation not permitted: '/tmp/pip-3SMGTf-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/scipy-0.13.0b1-py2.7.egg-info'\n</code></pre>\n\n<p>Do you have any idea ? I think that scipy isn't installed in the right directory that python is scanning for its plugins, but I've no idea on how to fix it</p>\n"}, {"tags": ["python", "csv", "twitter"], "comments": [{"owner": {"reputation": 3188, "user_id": 476063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SM8Do.jpg?s=128&g=1", "display_name": "garrettmurray", "link": "https://stackoverflow.com/users/476063/garrettmurray"}, "edited": false, "score": 0, "creation_date": 1484171886, "post_id": 41600997, "comment_id": 70405678, "body": "There are many reasons why writing to a file can fail. Does the file exist? Does Python have write access to the file? From the looks of the error, it doesn&#39;t seem as though the file was writable. In the future, please include steps you&#39;ve taken to resolve the problem. In this case, have you tried making the file writable?"}], "answers": [{"tags": [], "owner": {"reputation": 981, "user_id": 2427078, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/FqBsb.jpg?s=128&g=1", "display_name": "Mandrek", "link": "https://stackoverflow.com/users/2427078/mandrek"}, "is_accepted": false, "score": 0, "last_activity_date": 1497422833, "creation_date": 1497422833, "answer_id": 44537392, "question_id": 41600997, "link": "https://stackoverflow.com/questions/41600997/twitter-sentiment-analysis-csv-io-unsupportedoperation-error/44537392#44537392", "title": "Twitter Sentiment Analysis CSV io.unsupportedOperation error", "body": "<p>Have you tried using </p>\n\n<pre><code> open(\"sentiment.txt\",'w') \n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5179296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f43f1723efdbfa2406c13b6454c61fc?s=128&d=identicon&r=PG&f=1", "display_name": "Preacher", "link": "https://stackoverflow.com/users/5179296/preacher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497422833, "creation_date": 1484170120, "question_id": 41600997, "link": "https://stackoverflow.com/questions/41600997/twitter-sentiment-analysis-csv-io-unsupportedoperation-error", "title": "Twitter Sentiment Analysis CSV io.unsupportedOperation error", "body": "<p>I am writting a program in Python, that is using Twitter's API and It is searching twitter for a list of tweets about any topic we want, then analyze each tweet to see how positive or negative it's emotion is. \nIn the beginning I used for loop to print out the tweets in the cmd. Initial code of loop in the program</p>\n\n<pre><code>api = tweepy.API(auth)\npublic_tweets = api.search(\"Estonia\")\nfor tweet in public_tweets:\nprint(tweet.text.encode(\"utf-8\"))\nanalysis = TextBlob(tweet.text)\nprint(analysis.sentiment)\n</code></pre>\n\n<p>Now I wanted to make write directly into a text file using csv, but an error occurs\nCode:</p>\n\n<pre><code>api = tweepy.API(auth)\npublic_tweets = api.search(\"Estonia\")\nwith  open(\"sentiment.txt\") as scoreFile:\nscoreFileWriter = csv.writer(scoreFile)\nfor tweet in public_tweets:\ntext = tweet.text\nanalysis = TextBlob(tweet.text)\nsentiment = analysis.sentiment.polarity\nscoreFileWriter.writerow([text, sentiment])\n</code></pre>\n\n<p>Error</p>\n\n<pre><code>C:\\Users\\ArturErik\\Desktop&gt;python sentiment.py\nTraceback (most recent call last):\n  File \"sentiment.py\", line 23, in &lt;module&gt;\n    scoreFileWriter.writerow([text, sentiment])\nio.UnsupportedOperation: not writable\n</code></pre>\n\n<p>I am new to Python and I cannot fix the bug.</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1484170946, "post_id": 41601124, "comment_id": 70405231, "body": "The <code>All (day|night)</code> is just one of the many similar patterns. So ideally, I&#39;d like to say &quot;Match anything between pipe symbols, unless the match contains 1 or more pipe symbols surrounded by ellipses, in which case treat that whole thing as one group.&quot;"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1484171003, "post_id": 41601124, "comment_id": 70405262, "body": "@DirtyPenguin ah, okay, then I think anubhava&#39;s solution should cover these, give it a try. I&#39;ll see if I can improve mine. Thanks."}, {"owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1484171514, "post_id": 41601124, "comment_id": 70405497, "body": "Thank you for the lookbehind/lookahead examples though :)"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1484170596, "creation_date": 1484170596, "answer_id": 41601124, "question_id": 41600963, "link": "https://stackoverflow.com/questions/41600963/regex-correctly-matching-groups-with-negative-lookback/41601124#41601124", "title": "Regex: Correctly matching groups with negative lookback", "body": "<p>If it is just about <code>day</code> and <code>night</code> words around <code>|</code> specifically, you can use <em>negative lookbehind and negative lookahead</em>:</p>\n\n<pre><code>&gt;&gt;&gt; re.split(r\"(?&lt;!day)\\|(?!night)\", s)\n['qr/I Love Chocolate', 'And Free Shipping', 'All (day|night)', 'please/i;']\n</code></pre>\n\n<hr>\n\n<p>I'd also remove the <code>qr/</code> prefix and <code>/i</code> postfix beforehand to keep the split expression simple. For example, this way:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"qr/I Love Chocolate|And Free Shipping|All (day|night)|please/i;\"\n&gt;&gt;&gt; s = re.sub(r\"^[a-z]+/\", \"\", s)\n&gt;&gt;&gt; s = re.sub(r\"/[a-z]+;$\", \"\", s)\n</code></pre>\n\n<p>Then, split:</p>\n\n<pre><code>&gt;&gt;&gt; re.split(r\"(?&lt;!day)\\|(?!night)\", s)\n['I Love Chocolate', 'And Free Shipping', 'All (day|night)', 'please']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1484170817, "creation_date": 1484170817, "answer_id": 41601180, "question_id": 41600963, "link": "https://stackoverflow.com/questions/41600963/regex-correctly-matching-groups-with-negative-lookback/41601180#41601180", "title": "Regex: Correctly matching groups with negative lookback", "body": "<p>You can use this regex for matching:</p>\n\n<pre><code>[^/|(]+(?:\\([^)]*\\))*\n</code></pre>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>&gt;&gt;&gt; str = 'qr/I Love Chocolate|And Free Shipping|All (day|night)|please/i'\n&gt;&gt;&gt; print re.findall(r'[^/|(]+(?:\\([^)]*\\))*', str)\n['qr', 'I Love Chocolate', 'And Free Shipping', 'All (day|night)', 'please', 'i']\n</code></pre>\n\n<p>Or if you want to discard <code>qr/</code> at start and <code>/i</code> in the end then use:</p>\n\n<pre><code>&gt;&gt;&gt; print re.findall(r'[^/|(]+(?:\\([^)]*\\))*', re.sub(r'^qr/(.*)/i$', r'\\1', str))\n['I Love Chocolate', 'And Free Shipping', 'All (day|night)', 'please']\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/HBka56/16\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n"}], "owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "accepted_answer_id": 41601180, "answer_count": 2, "score": 3, "last_activity_date": 1484171097, "creation_date": 1484169960, "last_edit_date": 1484171097, "question_id": 41600963, "link": "https://stackoverflow.com/questions/41600963/regex-correctly-matching-groups-with-negative-lookback", "title": "Regex: Correctly matching groups with negative lookback", "body": "<p>I'm working with this string:</p>\n\n<pre><code>qr/I Love Chocolate|And Free Shipping|All (day|night)|please/i;\n</code></pre>\n\n<p>I'm using the following regex pattern:</p>\n\n<pre><code>(?:qr\\/)?(.*?)(?:\\||\\/)\n</code></pre>\n\n<p>I'd like to get the following matches back:</p>\n\n<pre><code>[\"I Love Chocolate\", \"And Free Shipping\", \"All (day|night)\", \"please\"]\n</code></pre>\n\n<p>However, this is what I actually get back:</p>\n\n<pre><code>[\"I Love Chocolate\", \"And Free Shipping\", \"All (day\", \"night)\", \"please\"]\n</code></pre>\n\n<p>I modified my regex to use a lookback:</p>\n\n<pre><code>(?:qr\\/)?(?&lt;!All \\(day|night\\))(.*?)(?:\\||\\/)\n</code></pre>\n\n<p>However, this still splits the string into <code>All (day</code> and <code>night)</code>.</p>\n\n<p>How do I adjust the regex so that instead of capturing <code>All (day</code> and <code>night)</code> as individual strings, I instead get <code>All (day|night)</code>?</p>\n\n<p>More generally, the goal here in muggle-speak would be: \"Find any groups  delimited by the pipe character, unless the group contains 1 or more pipe characters surrounded by ellipses; in which case, treat that entire string as one group.\"</p>\n"}, {"tags": ["python", "namedtuple", "repr"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1484171022, "post_id": 41600945, "comment_id": 70405269, "body": "You can see how namedtuple is implemented: <a href=\"https://hg.python.org/cpython/file/2.7/Lib/collections.py#l247\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/2.7/Lib/collections.py#l247</a>"}], "answers": [{"comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1484170060, "post_id": 41600946, "comment_id": 70404816, "body": "Actually it is tooo much hacky and is not the worth for such a trivial thing. Declaration of <code>__repr__</code> and <code>__str__</code> function in your class was all you needed"}, {"owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1484170159, "post_id": 41600946, "comment_id": 70404875, "body": "@MoinuddinQuadri And copy/paste it every time manually? Meh\u2026 I&#39;ll pass. Or hardcode it, meh too!"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1484170367, "post_id": 41600946, "comment_id": 70404957, "body": "This repr implementation makes some sense for <code>namedtuple</code> (which is immutable and can satisfy the usual invariant that <code>eval(repr(a)) == a</code>).  But how often do you need to define a custom class that is just a bunch of attributes?  We have already data structures for most of those use-cases."}, {"owner": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "edited": false, "score": 1, "creation_date": 1484170371, "post_id": 41600946, "comment_id": 70404958, "body": "Creating a namedtuple class just to get a string representation of an instance is a little bit too much imo, it&#39;s easy enough to format a string of the form &quot;name(foo=1, bar=2)&quot; if you already have the name and the vars. But +1 for creativity :-)"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1484171501, "post_id": 41600946, "comment_id": 70405491, "body": "importing an additional library and creating a <code>namedtuple</code> object each time just to display the string is not the correct way in my opinion"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1484171817, "post_id": 41600946, "comment_id": 70405641, "body": "I just don&#39;t think it&#39;s a good idea in the first place.  Consider if an instance has an attribute is a blob of json or something, you can end up with a repr which is thousands of lines long, and totally bollocks up the logging in your app - consuming all disk space, for example.  Your implementation &quot;works&quot; ok, but remember: just because you <i>can</i>, doesn&#39;t mean you <i>should</i>.  repr is not intended to be human readable."}, {"owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1484171952, "post_id": 41600946, "comment_id": 70405702, "body": "@wim Oh I know\u2026 it wouldn&#39;t be something I use everywhere. It is hacky. If I were to make it customizable/safe, it would start getting dirtier for not much interesting value added."}, {"owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1514159915, "post_id": 41600946, "comment_id": 82899245, "body": "whats up with your indentation in your return statement ??"}, {"owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "reply_to_user": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1514162201, "post_id": 41600946, "comment_id": 82899544, "body": "@0TTT0 In the first code? It was to avoid to put all on one line as I did in the other example. It&#39;s still perfectly valid. I tried making it more &quot;readable&quot; but I&#39;m not sure it&#39;s a success or not. I don&#39;t see anything else wrong or particular with the others <code>return</code>s I used."}, {"owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1514223185, "post_id": 41600946, "comment_id": 82910883, "body": "it is valid.  in general i think its more readable to keep your code on one line, unless its a nested list comp / genexp or goes over 80 characters"}], "tags": [], "owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "is_accepted": true, "score": 7, "last_activity_date": 1484176302, "last_edit_date": 1484176302, "creation_date": 1484169864, "answer_id": 41600946, "question_id": 41600945, "link": "https://stackoverflow.com/questions/41600945/bring-namedtuples-str-and-repr-behavior-to-regular-classes/41600946#41600946", "title": "Bring namedtuple&#39;s __str__ and __repr__ behavior to regular classes", "body": "<p>A bit hacky but this does it:</p>\n\n<pre><code>from collections import namedtuple\n\ndef nice_repr(obj):\n    def nice_repr(self):\n        return repr(\n            namedtuple(\n                type(self).__name__,\n                vars(self)\n            )(**vars(self))\n        )\n\n    obj.__repr__ = nice_repr\n\n    return obj\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>@nice_repr\nclass A:\n    def __init__(self, b, c):\n        self.b = b\n        self.c = c\n\nprint(repr(A(1, 2)))  # Outputs: A(c=2, b=1)\n</code></pre>\n\n<p><strong>EDIT:</strong> (Fail-safe version)</p>\n\n<pre><code>def nice_repr(obj):\n    \"\"\" Decorator to bring namedtuple's __repr__ behavior to regular classes. \"\"\"\n\n    def nice_repr(self):\n        v = vars(self)\n\n        # Prevent infinite looping if `vars` happens to include `self`.\n        del(v['self'])\n\n        return repr(namedtuple(type(self).__name__, v)(**v))\n\n    obj.__repr__ = nice_repr\n\n    return obj\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "edited": false, "score": 0, "creation_date": 1484170308, "post_id": 41601024, "comment_id": 70404935, "body": "Defeats the purpose. I&#39;d like not having to hardcode it and have a fancy <code>repr</code> like the <code>namedtuple</code> one."}, {"owner": {"reputation": 1751, "user_id": 3586325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3CRVr.jpg?s=128&g=1", "display_name": "Buzz", "link": "https://stackoverflow.com/users/3586325/buzz"}, "reply_to_user": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "edited": false, "score": 0, "creation_date": 1484170390, "post_id": 41601024, "comment_id": 70404966, "body": "@JeromeJ you can make it anything you want. if you want to build it from something in the class you can do that too"}, {"owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "edited": false, "score": 0, "creation_date": 1484170495, "post_id": 41601024, "comment_id": 70405018, "body": "I started with a bunch of lengthy <code>def __repr__(self): \\ return &#39;className(attrA={attrA}, attrB={attrB})&#39;.format(**self))</code> which is annoying and not dynamic. No thanks."}, {"owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "edited": false, "score": 0, "creation_date": 1484170552, "post_id": 41601024, "comment_id": 70405049, "body": "I&#39;m not looking for flexibility here. I know I can define <code>__str__</code> and <code>__repr__</code> directly in the class itself. It isn&#39;t what I&#39;m looking for."}], "tags": [], "owner": {"reputation": 1751, "user_id": 3586325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3CRVr.jpg?s=128&g=1", "display_name": "Buzz", "link": "https://stackoverflow.com/users/3586325/buzz"}, "is_accepted": false, "score": -1, "last_activity_date": 1484170229, "creation_date": 1484170229, "answer_id": 41601024, "question_id": 41600945, "link": "https://stackoverflow.com/questions/41600945/bring-namedtuples-str-and-repr-behavior-to-regular-classes/41601024#41601024", "title": "Bring namedtuple&#39;s __str__ and __repr__ behavior to regular classes", "body": "<p>when you create any class you define your own <code>__str__</code> function just like you create an <code>__init__</code> function</p>\n\n<pre><code>class Foo:\n    def __init__(self):\n        self.a=\"value\"\n\n    def __str__(self):\n        return \"a is: \"+self.a\n\nvariable=Foo()\nprint variable\n</code></pre>\n\n<p>this will print: \"a is: value\" \nyou can do this for any class </p>\n"}, {"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 2, "last_activity_date": 1484171601, "last_edit_date": 1495542852, "creation_date": 1484170801, "answer_id": 41601170, "question_id": 41600945, "link": "https://stackoverflow.com/questions/41600945/bring-namedtuples-str-and-repr-behavior-to-regular-classes/41601170#41601170", "title": "Bring namedtuple&#39;s __str__ and __repr__ behavior to regular classes", "body": "<p>If I were you, I would have created a Parent Class with the definition of <code>__repr__</code> method and inherit that class in the child classes to have that behavior. To me, <a href=\"https://stackoverflow.com/a/41600946/2063361\">your solution</a> looks like a huge hack in order to achieve very trivial thing. Below is the sample:</p>\n\n<pre><code>class BaseClass:\n\n     # logic can be used with in `__repr__` itself.\n     # creating separate function to make it more clear\n     def _get_formatted_string(self):\n         return '{class_name}({params})'.format(\n             class_name=self.__class__.__name__,\n             params=', '.join('{}={}'.format(k, v) for k, v in vars(self).items()))\n\n     def __repr__(self):\n         return self._get_formatted_string()\n\nclass child(BaseClass):\n\n    def __init__(self, a, b):\n        self.a = a\n        self.b = b\n</code></pre>\n\n<p>Here is the desired behavior:</p>\n\n<pre><code>&gt;&gt;&gt; c = child(1, 2)\n&gt;&gt;&gt; repr(c)\n'child(a=1, b=2)'\n&gt;&gt;&gt; str(c)\n'child(a=1, b=2)'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1033, "user_id": 6710360, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_kIB1Fmgq_c/AAAAAAAAAAI/AAAAAAAAABM/RhpxIymZN0Q/photo.jpg?sz=128", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6710360/anonymous"}, "is_accepted": false, "score": 2, "last_activity_date": 1560908912, "creation_date": 1560908912, "answer_id": 56659033, "question_id": 41600945, "link": "https://stackoverflow.com/questions/41600945/bring-namedtuples-str-and-repr-behavior-to-regular-classes/56659033#56659033", "title": "Bring namedtuple&#39;s __str__ and __repr__ behavior to regular classes", "body": "<p><strong>typing.NamedTuple is new and elegant</strong>. A better version of collections.namedtuple.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from typing import NamedTuple\n\nclass Employee(NamedTuple):\n    name: str\n    id: int\n</code></pre>\n\n<p>is basically the same as </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>Employee = collections.namedtuple('Employee', ['name', 'id'])\n</code></pre>\n\n<p>A more advanced example for this question</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from typing imoprt NamedTuple\n\nclass Employee(NamedTuple):\n    \"\"\"Represents an employee.\"\"\"\n    name: str\n    id: int = 3\n\n    def __repr__(self) -&gt; str:\n        return f'&lt;Employee {self.name}, id={self.id}&gt;'\n</code></pre>\n\n<p>see <a href=\"https://docs.python.org/3/library/typing.html#typing.NamedTuple\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/typing.html#typing.NamedTuple</a></p>\n"}], "owner": {"reputation": 6779, "user_id": 1524913, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/de3d107ed1ccad362b44763106a78178?s=128&d=identicon&r=PG", "display_name": "jeromej", "link": "https://stackoverflow.com/users/1524913/jeromej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2275, "favorite_count": 2, "accepted_answer_id": 41600946, "answer_count": 4, "score": 2, "last_activity_date": 1560908912, "creation_date": 1484169864, "last_edit_date": 1484172591, "question_id": 41600945, "link": "https://stackoverflow.com/questions/41600945/bring-namedtuples-str-and-repr-behavior-to-regular-classes", "title": "Bring namedtuple&#39;s __str__ and __repr__ behavior to regular classes", "body": "<p><a href=\"https://mail.python.org/pipermail/python-ideas/2014-September/029310.html\" rel=\"nofollow noreferrer\">https://mail.python.org/pipermail/python-ideas/2014-September/029310.html</a></p>\n\n<p>I always thought <code>namedtuple</code> builtin <code>__str__</code> and <code>__repr__</code> were very neat and I'm looking for a simple way to apply it to any classes of mine easily.</p>\n\n<pre><code>&gt;&gt;&gt; from collections import namedtuple\n&gt;&gt;&gt; A  = namedtuple(\"A\", [\"foo\"])\n&gt;&gt;&gt; print(A(foo=1))\nA(foo=1)\n&gt;&gt;&gt; str(A(foo=1))\n'A(foo=1)'\n&gt;&gt;&gt; repr(A(foo=1))\n'A(foo=1)'\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I initially started with a bunch of lengthy, not dynamic, hardcoded <code>__repr__</code>. I don't like that. <code>namedtuple</code> does it fancy and automatically.</p>\n\n<pre><code>def __repr__(self):\n    return 'className(attrA={attrA}, attrB={attrB})'.format(**vars(self)))\n</code></pre>\n"}, {"tags": ["python", "csv", "plot"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1484169927, "post_id": 41600849, "comment_id": 70404746, "body": "Your code has nothing to do with parsing a data file or plotting values obtained from it, and your &quot;CSV&quot; is not a <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">CSV</a> at all. Questions seeking debugging help (<b>&quot;why isn&#39;t this code working?&quot;</b>) must include the desired behavior, <i>a specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 354, "user_id": 2891429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d744fbfebed04b33d31f0a54607f622?s=128&d=identicon&r=PG&f=1", "display_name": "newGuy", "link": "https://stackoverflow.com/users/2891429/newguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1484170989, "creation_date": 1484170989, "answer_id": 41601216, "question_id": 41600849, "link": "https://stackoverflow.com/questions/41600849/sort-data-from-a-csv-file-and-implement-a-graph-using-python/41601216#41601216", "title": "Sort data from a CSV file and implement a graph using python", "body": "<p>you need to store the data in a table or similar data structure. There are lots of libraries for data analysis with python. Try <a href=\"http://pandas.pydata.org/\" rel=\"nofollow noreferrer\">pandas</a>.\nfor plotting you could also use <a href=\"http://matplotlib.org/\" rel=\"nofollow noreferrer\">matplotlib</a></p>\n"}], "owner": {"reputation": 39, "user_id": 7073744, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10153244522917761/picture?type=large", "display_name": "Abdullah Al Mamun", "link": "https://stackoverflow.com/users/7073744/abdullah-al-mamun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1484170989, "creation_date": 1484169409, "last_edit_date": 1484169692, "question_id": 41600849, "link": "https://stackoverflow.com/questions/41600849/sort-data-from-a-csv-file-and-implement-a-graph-using-python", "title": "Sort data from a CSV file and implement a graph using python", "body": "<p>I am trying to generate a graph (time Vs bandwidth) from a CSV file. The CSV file contains the data of stdout after executing a python script. Now, I have to keep only interval and bandwidth in the CSV file and plot a graph from there. The upper file is the python script I'm using and the lower file is the CSV file from where I need to sort data. Suggestions are truly welcome to edit the python script or possibly to write a new python script to generate the plot. Thanks in advance..</p>\n\n<pre><code>import sys\nimport time\nimport select\nimport csv\nimport paramiko\n\nclass Logger(object):\n    def __init__(self):\n        self.terminal = sys.stdout\n        self.log = open(\"logfile.csv\", \"a\")\n\n    def write(self, message):\n        self.terminal.write(message)\n        self.log.write(message)\n\n    def flush(self):\n        #this flush method is needed for python 3 compatibility.\n        #this handles the flush command by doing nothing.\n        #you might want to specify some extra behavior here.\n        pass\nsys.stdout = Logger()\n\nhost = '169.254.115.1'\ni = 1\n\n#\n# Try to connect to the host.\n# Retry a few times if it fails.\n#\nwhile True:\n    print ('Trying to connect to %s (%i/2)' % (host, i))\n\n    try:\n        ssh = paramiko.SSHClient()\n        ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n        ssh.connect(host, port=22, username='user', password='user')\n        print (\"Connected to %s\" % host)\n        break\n    except paramiko.AuthenticationException:\n        print (\"Authentication failed when connecting to %s\") % host\n        sys.exit(1)\n    except:\n        print (\"Could not SSH to %s, waiting for it to start\" % host)\n        i += 1\n        time.sleep(2)\n\n    # If we could not connect within time limit\n    if i == 2:\n        print (\"Could not connect to %s. Giving up\") % host\n        sys.exit(1)\n\n# Send the command (non-blocking)\nstdin, stdout, stderr = ssh.exec_command(\"cd /opt/cohda/test; sudo ./runtest_iperf_tx.sh\")\n\n# Wait for the command to terminate\n\nwhile not stdout.channel.exit_status_ready():\n\n    # Only print data if there is data to read in the channel\n    if stdout.channel.recv_ready():\n        rl, wl, xl = select.select([stdout.channel], [], [], 0.0)\n        if len(rl) &gt; 0:\n            # Print data from stdout\n            print (stdout.channel.recv(1024)),\n\n\n\n#\n# Disconnect from the host\n#\n\n\nprint (\"Command done, closing SSH connection\")\nssh.close()\n</code></pre>\n\n\n\n<pre><code>Trying to connect to 169.254.115.1 (1/2)                \nConnected to 169.254.115.1              \nb'Usage: ./runtest_iperf_tx.sh [ChanSCH] [Mode: none|remote|local|target] [MCS] [PRIORITY]\\nUsing: ./runtest_iperf_tx.sh 180 target MK2MCS_R12QPSK MK2_PRIO_4\\n'                \nb'Interface:         wave-raw\\nChannel: SCH\\nRadio: B\\nChannelNumber:  180\\nDefaultMCS:     10\\nDefaultTxPower: 40\\nDefaultTRC:     0\\nDefaultTPC:     0\\nBandwidth:      10\\nDualTxControl:  0\\nChannelUtilisationPeriod: 49\\nTxAntenna:      3\\nRxAntenna:      3\\nMACAddr: 04:e5:48:00:00:b1\\nFilter:            0x88b6  0x86dd  0x0800  0x0806\\nMAC Address: 04:e5:48:00:00:b1\\n'   \nb'  ChannelNumber:  180\\n  DefaultMCS:     10\\n  DefaultTxPower: 40\\n  DefaultTRC:     0\\n  DefaultTPC:     0\\n  Bandwidth:      10\\n  DualTxControl:  0\\n  ChannelUtilisationPeriod: 49\\n  TxAntenna:      3\\n  RxAntenna:      3\\n  MACAddr: 04:e5:48:00:00:b1\\n  Filter:         0x88b6  0x86dd  0x0800  0x0806\\n'   \nb'PING 192.168.234.1 (192.168.234.1) from 192.168.234.2 wave-data: 56(84) bytes of data.\\n64 bytes from 192.168.234.1: icmp_seq=1 ttl=64 time=1998 ms\\n'                \nb'64 bytes from 192.168.234.1: icmp_seq=2 ttl=64 time=995 ms\\n'             \nb'64 bytes from 192.168.234.1: icmp_seq=3 ttl=64 time=1.85 ms\\n'                \nb'\\n'               \nb'--- 192.168.234.1 ping statistics ---\\n3 packets transmitted   3 received  0% packet loss  time 2003ms\\nrtt min/avg/max/mdev = 1.859/998.493/1998.492/815.126 ms   pipe 2\\n'\nb'------------------------------------------------------------\\nServer listening on TCP port 5001\\nTCP window size: 0.08 MByte (default)\\n------------------------------------------------------------\\n------------------------------------------------------------\\nClient connecting to 192.168.234.1     TCP port 5001\\nTCP window size: 0.04 MByte (default)\\n------------------------------------------------------------\\n[  5] local 192.168.234.2 port 59528 connected with 192.168.234.1 port 5001\\n'         \nb'[ ID] Interval       Transfer     Bandwidth\\n[  5]  0.0- 1.0 sec  0.62 MBytes  5.24 Mbits/sec\\n'              \nb'[  5]  1.0- 2.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  2.0- 3.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  3.0- 4.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  4.0- 5.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  5.0- 6.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  6.0- 7.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  7.0- 8.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  8.0- 9.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5]  9.0-10.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 10.0-11.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 11.0-12.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 12.0-13.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 13.0-14.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 14.0-15.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 15.0-16.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 16.0-17.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 17.0-18.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 18.0-19.0 sec  0.50 MBytes  4.19 Mbits/sec\\n'               \nb'[  5] 19.0-20.0 sec  0.50 MBytes  4.19 Mbits/sec\\n[  5]  0.0-20.3 sec  10.2 MBytes  4.24 Mbits/sec\\n'             \nb'[  4] local 192.168.234.2 port 5001 connected with 192.168.234.1 port 44782\\n'                \nb'[  4]  0.0- 1.0 sec  0.48 MBytes  4.05 Mbits/sec\\n'               \nb'[  4]  1.0- 2.0 sec  0.50 MBytes  4.18 Mbits/sec\\n'               \nb'[  4]  2.0- 3.0 sec  0.50 MBytes  4.22 Mbits/sec\\n'               \nb'[  4]  3.0- 4.0 sec  0.51 MBytes  4.29 Mbits/sec\\n'               \nb'[  4]  4.0- 5.0 sec  0.51 MBytes  4.25 Mbits/sec\\n'               \nb'[  4]  5.0- 6.0 sec  0.50 MBytes  4.16 Mbits/sec\\n'               \nb'[  4]  6.0- 7.0 sec  0.51 MBytes  4.31 Mbits/sec\\n'               \nb'[  4]  7.0- 8.0 sec  0.50 MBytes  4.22 Mbits/sec\\n'               \nb'[  4]  8.0- 9.0 sec  0.52 MBytes  4.33 Mbits/sec\\n'               \nb'[  4]  9.0-10.0 sec  0.51 MBytes  4.24 Mbits/sec\\n'               \nb'[  4] 10.0-11.0 sec  0.47 MBytes  3.95 Mbits/sec\\n'               \nb'[  4] 11.0-12.0 sec  0.54 MBytes  4.55 Mbits/sec\\n'               \nb'[  4] 12.0-13.0 sec  0.50 MBytes  4.18 Mbits/sec\\n'               \nb'[  4] 13.0-14.0 sec  0.49 MBytes  4.14 Mbits/sec\\n'               \nb'[  4] 14.0-15.0 sec  0.51 MBytes  4.31 Mbits/sec\\n'               \nb'[  4] 15.0-16.0 sec  0.49 MBytes  4.09 Mbits/sec\\n'               \nb'[  4] 16.0-17.0 sec  0.49 MBytes  4.11 Mbits/sec\\n'               \nb'[  4] 17.0-18.0 sec  0.52 MBytes  4.34 Mbits/sec\\n'               \nb'[  4] 18.0-19.0 sec  0.51 MBytes  4.30 Mbits/sec\\n'               \nb'[  4] 19.0-20.0 sec  0.51 MBytes  4.25 Mbits/sec\\n'               \nb'[  4]  0.0-20.6 sec  10.4 MBytes  4.23 Mbits/sec\\n'               \nb'CCH: \\n  RxReport: /dev/null\\n  RxLog:    /dev/null\\nSCH: \\n  RxReport: /dev/null\\n  RxLog:    /dev/null\\n'               \nb'CCH: \\n  RxReport: /dev/null\\n  RxLog:    /dev/null\\nSCH: \\n  RxReport: /dev/null\\n  RxLog:    /dev/null\\n'               \nCommand done     closing SSH connection         \n</code></pre>\n\n\n"}, {"tags": ["python", "pymssql"], "answers": [{"comments": [{"owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "edited": false, "score": 0, "creation_date": 1484240397, "post_id": 41600915, "comment_id": 70439202, "body": "Thanks. I would rather not use lambda if possible. Are there any other possible solutions that are parameterized properly? Thanks!"}], "tags": [], "owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "is_accepted": false, "score": 0, "last_activity_date": 1484170133, "last_edit_date": 1484170133, "creation_date": 1484169661, "answer_id": 41600915, "question_id": 41600833, "link": "https://stackoverflow.com/questions/41600833/python-pymssql-executemany-delete-where-value-in-list/41600915#41600915", "title": "Python pymssql executemany delete where value in list", "body": "<pre><code>sql='DELETE FROM Computer WHERE ID  IN (%s)' \n inlist=', '.join(map(lambda x: '%s', ComputerIDs))\nsql = sql % inlist\ncursor.execute(sql, ComputerIDs)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "edited": false, "score": 1, "creation_date": 1484244251, "post_id": 41619061, "comment_id": 70441409, "body": "<a href=\"http://stackoverflow.com/a/7929438/6626530\">stackoverflow.com/a/7929438/6626530</a> Refer this answer to know more about sql injection"}], "tags": [], "owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "is_accepted": false, "score": 0, "last_activity_date": 1484240906, "creation_date": 1484240906, "answer_id": 41619061, "question_id": 41600833, "link": "https://stackoverflow.com/questions/41600833/python-pymssql-executemany-delete-where-value-in-list/41619061#41619061", "title": "Python pymssql executemany delete where value in list", "body": "<p>I was able to resolve the issue.</p>\n\n<pre><code>query_string = \"DELETE FROM Computer WHERE ID = %s\"\ncursor.executemany(query_string, ComputerIDs)\n</code></pre>\n\n<p>Can anyone tell me if this query is parameterized properly and safe from SQL injection?</p>\n"}], "owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2948, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1484240906, "creation_date": 1484169368, "question_id": 41600833, "link": "https://stackoverflow.com/questions/41600833/python-pymssql-executemany-delete-where-value-in-list", "title": "Python pymssql executemany delete where value in list", "body": "<p>I am using python 2.7 to perform CRUD operations on a MS SQL 2012 DB.</p>\n\n<p>I have a list of IDs called \"ComputerIDs\".</p>\n\n<p>I want to run a query that deletes all records in the database where the ID is equal to one of the IDs in the list.</p>\n\n<p>I have tried the following but it does not seem to work.</p>\n\n<pre><code>cursor.executemany(\"DELETE FROM Computer WHERE ID=%s\", ComputerIDs)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 2, "creation_date": 1484169623, "post_id": 41600831, "comment_id": 70404583, "body": "Please show us what you think the result should be for say the first row."}, {"owner": {"reputation": 59, "user_id": 3753761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3fcf723907c5bb99bfc2bb2c774623e?s=128&d=identicon&r=PG&f=1", "display_name": "bmeredith", "link": "https://stackoverflow.com/users/3753761/bmeredith"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1484169801, "post_id": 41600831, "comment_id": 70404673, "body": "Of course, my apologies."}, {"owner": {"reputation": 3010, "user_id": 4602605, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0c921d4afb9c300fef44df63bf71e9b0?s=128&d=identicon&r=PG&f=1", "display_name": "sunwarri0r", "link": "https://stackoverflow.com/users/4602605/sunwarri0r"}, "edited": false, "score": 0, "creation_date": 1484169859, "post_id": 41600831, "comment_id": 70404706, "body": "Which rows do you want to evaluate/compare? The ones with the same index or the ones with an identical cat &amp; subcat ?"}, {"owner": {"reputation": 59, "user_id": 3753761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3fcf723907c5bb99bfc2bb2c774623e?s=128&d=identicon&r=PG&f=1", "display_name": "bmeredith", "link": "https://stackoverflow.com/users/3753761/bmeredith"}, "edited": false, "score": 0, "creation_date": 1484169968, "post_id": 41600831, "comment_id": 70404760, "body": "Cat/Subcat is desired comparison. Index is not important"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1484170441, "post_id": 41600831, "comment_id": 70404990, "body": "do you mean that the rating is between the row&#39;s low and the row&#39;s high?  Because you said <code>low.min()</code>, that implies to me that you meant the minimum for the whole column.  Which did you mean?"}, {"owner": {"reputation": 59, "user_id": 3753761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3fcf723907c5bb99bfc2bb2c774623e?s=128&d=identicon&r=PG&f=1", "display_name": "bmeredith", "link": "https://stackoverflow.com/users/3753761/bmeredith"}, "edited": false, "score": 0, "creation_date": 1484170723, "post_id": 41600831, "comment_id": 70405139, "body": "As shown in DF1 for cat = 5/sub-cat = 1 there are 2 rows matching.  I need to check if  row 0&#39;s rating in DF2 falls within the minimum low and maximum high for those 2 matching rows in DF1."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 3753761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3fcf723907c5bb99bfc2bb2c774623e?s=128&d=identicon&r=PG&f=1", "display_name": "bmeredith", "link": "https://stackoverflow.com/users/3753761/bmeredith"}, "edited": false, "score": 0, "creation_date": 1484170064, "post_id": 41600961, "comment_id": 70404820, "body": "Once a true is found against cat/subcat I need to ensure that rating falls within the minimum and maximum of the corresponding rows in DF1. The data comes to me in pairs like that with row 13 and 14, but I need to compare them to lowest low and highest high."}, {"owner": {"reputation": 768, "user_id": 6637269, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh4.googleusercontent.com/-b0MbyRU_4kc/AAAAAAAAAAI/AAAAAAAAADs/Byb6WFGzwfY/photo.jpg?sz=128", "display_name": "Josh Kidd", "link": "https://stackoverflow.com/users/6637269/josh-kidd"}, "reply_to_user": {"reputation": 59, "user_id": 3753761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3fcf723907c5bb99bfc2bb2c774623e?s=128&d=identicon&r=PG&f=1", "display_name": "bmeredith", "link": "https://stackoverflow.com/users/3753761/bmeredith"}, "edited": false, "score": 0, "creation_date": 1484170886, "post_id": 41600961, "comment_id": 70405207, "body": "You can use groupby on DF1 with df1.groupby([&#39;cat,&#39;sub-cat&#39;])[low].min()[high].max() to create a new dataframe with the max and min values for each pair of cat and sub-cat"}], "tags": [], "owner": {"reputation": 768, "user_id": 6637269, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh4.googleusercontent.com/-b0MbyRU_4kc/AAAAAAAAAAI/AAAAAAAAADs/Byb6WFGzwfY/photo.jpg?sz=128", "display_name": "Josh Kidd", "link": "https://stackoverflow.com/users/6637269/josh-kidd"}, "is_accepted": false, "score": 0, "last_activity_date": 1484169959, "creation_date": 1484169959, "answer_id": 41600961, "question_id": 41600831, "link": "https://stackoverflow.com/questions/41600831/pandas-add-new-column-based-on-comparison-of-two-dfs/41600961#41600961", "title": "Pandas: Add new column based on comparison of two DFs", "body": "<p>To add a new column based on a boolean expression would involve something along the lines of: </p>\n\n<pre><code>temp = boolean code involving inequality\ndf2['new column name'] = temp\n</code></pre>\n\n<p>However I'm not sure I understand, the first row in your DF2 table for instance, has a rating of 246, which means it's true for row 13 of DF1, but false for row 14. What would you like it to return?</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 3753761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3fcf723907c5bb99bfc2bb2c774623e?s=128&d=identicon&r=PG&f=1", "display_name": "bmeredith", "link": "https://stackoverflow.com/users/3753761/bmeredith"}, "edited": false, "score": 0, "creation_date": 1484175599, "post_id": 41601268, "comment_id": 70407157, "body": "This is beautiful. Thank you."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1484171698, "last_edit_date": 1484171698, "creation_date": 1484171201, "answer_id": 41601268, "question_id": 41600831, "link": "https://stackoverflow.com/questions/41600831/pandas-add-new-column-based-on-comparison-of-two-dfs/41601268#41601268", "title": "Pandas: Add new column based on comparison of two DFs", "body": "<p><code>join</code> post <code>groupby.agg</code></p>\n\n<pre><code>d2 = DF2.join(\n    DF1.groupby(\n        ['cat', 'sub-cat']\n    ).agg(dict(low='min', high='max')),\n    on=['Cat', 'Sub-Cat']\n)\nd2\n\n  Cat  Sub-Cat  Rating   high    low\n0   5        1     246  350.0  232.0\n1   5        2     239    NaN    NaN\n2   8        1     203    NaN    NaN\n3   8        2     218    NaN    NaN\n4   K        1     149    NaN    NaN\n5   K        2     165    NaN    NaN\n6   K        1     171    NaN    NaN\n7   K        2     185    NaN    NaN\n8   K        1     157    NaN    NaN\n9   K        2     171    NaN    NaN\n</code></pre>\n\n<hr>\n\n<p><strong><em>assign with <code>.loc</code></em></strong>  </p>\n\n<pre><code>DF2.loc[d2.eval('low &lt;= Rating &lt;= high'), 'In-Spec'] = True\nDF2\n\n  Cat  Sub-Cat  Rating In-Spec\n0   5        1     246    True\n1   5        2     239     NaN\n2   8        1     203     NaN\n3   8        2     218     NaN\n4   K        1     149     NaN\n5   K        2     165     NaN\n6   K        1     171     NaN\n7   K        2     185     NaN\n8   K        1     157     NaN\n9   K        2     171     NaN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3010, "user_id": 4602605, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0c921d4afb9c300fef44df63bf71e9b0?s=128&d=identicon&r=PG&f=1", "display_name": "sunwarri0r", "link": "https://stackoverflow.com/users/4602605/sunwarri0r"}, "is_accepted": false, "score": 0, "last_activity_date": 1484171420, "creation_date": 1484171420, "answer_id": 41601329, "question_id": 41600831, "link": "https://stackoverflow.com/questions/41600831/pandas-add-new-column-based-on-comparison-of-two-dfs/41601329#41601329", "title": "Pandas: Add new column based on comparison of two DFs", "body": "<p>You can do it like this</p>\n\n<pre><code>df2['In-Spec'] = 'False'\ndf2['In-Spec'][(df2['Rating'] &gt; df1['low']) &amp; (df2['Rating'] &lt; df1['high'])] = 'True'\n</code></pre>\n\n<p>But which rows should be compared with each others? Do you want them to compare by their index or by their cat &amp; subcat names?</p>\n"}], "owner": {"reputation": 59, "user_id": 3753761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3fcf723907c5bb99bfc2bb2c774623e?s=128&d=identicon&r=PG&f=1", "display_name": "bmeredith", "link": "https://stackoverflow.com/users/3753761/bmeredith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 1, "accepted_answer_id": 41601268, "answer_count": 3, "score": 0, "last_activity_date": 1484171698, "creation_date": 1484169364, "last_edit_date": 1484171061, "question_id": 41600831, "link": "https://stackoverflow.com/questions/41600831/pandas-add-new-column-based-on-comparison-of-two-dfs", "title": "Pandas: Add new column based on comparison of two DFs", "body": "<p>I have 2 dataframes that I am wanting to compare one to the other and add a 'True/False' to a new column in the first based on the comparison. </p>\n\n<p>My data resembles:</p>\n\n<p>DF1:</p>\n\n<pre><code>        cat  sub-cat    low       high\n3       3        1      208       223\n4       3        1      224       350\n8       4        1      223       244\n9       4        1      245       350\n13      5        1      232       252\n14      5        1      253       350\n</code></pre>\n\n<p>DF2:</p>\n\n<pre><code>      Cat   Sub-Cat   Rating\n0     5      1           246\n1     5      2           239\n2     8      1           203\n3     8      2           218\n4     K      1           149\n5     K      2           165\n6     K      1           171\n7     K      2           185\n8     K      1           157\n9     K      2           171\n</code></pre>\n\n<p>Desired result would be for DF2 to have an additional column with a True or False depending on if, based on the cat and sub-cat, that the rating is between the low.min() and high.max() or Null if no matches found to compare.</p>\n\n<p>Have been running rounds with this for far too long with no results to speak of.</p>\n\n<p>Thank you in advance for any assistance.</p>\n\n<p>Update:</p>\n\n<p>First row would look something like:</p>\n\n<pre><code>      Cat   Sub-Cat   Rating  In-Spec\n0     5      1           246    True\n</code></pre>\n\n<p>As it falls within the min low and the max high.</p>\n\n<p>Example: There are two rows in DF1 for cat = 5 and sub-cat = 2. I need to get the minimum low and the maximum high from those 2 rows and then check if the rating from row 0 in DF2 falls within the minimum low and maximum high from the two matching rows in DF1</p>\n"}, {"tags": ["python", "python-2.7", "if-statement", "while-loop"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484169230, "post_id": 41600773, "comment_id": 70404363, "body": "use <code>break</code> to leave <code>while True</code> when answer is correct."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484169326, "post_id": 41600773, "comment_id": 70404408, "body": "BTW: you could use list <code>path</code> and <code>path[1]</code>, <code>path[2]</code>, etc. with <code>for-loop</code> to check answer. And <code>answer = min(path)</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484169457, "post_id": 41600773, "comment_id": 70404487, "body": "BTW: you can do <code>if shortestpath.lower() == &quot;y&quot;:</code> or <code>if shortestpath in (&quot;Y&quot;, &quot;y&quot;):</code>"}], "answers": [{"comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484171110, "post_id": 41600966, "comment_id": 70405307, "body": "you need only one <code>break</code> inside <code>if shortestpath == &quot;Y&quot;</code> and another in <code>elif shortestpath == &quot;N&quot;</code>"}], "tags": [], "owner": {"reputation": 201, "user_id": 4157918, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c734e4da8ca06e323dbca65a5a75306c?s=128&d=identicon&r=PG&f=1", "display_name": "Jfach", "link": "https://stackoverflow.com/users/4157918/jfach"}, "is_accepted": false, "score": 0, "last_activity_date": 1484171357, "last_edit_date": 1484171357, "creation_date": 1484169976, "answer_id": 41600966, "question_id": 41600773, "link": "https://stackoverflow.com/questions/41600773/repeating-until-correct-answer-is-given/41600966#41600966", "title": "Repeating until correct answer is given", "body": "<p>wrap your code in a <code>while</code> loop. Once your code reaches a correct answer, you can exit the loop with <code>break</code></p>\n\n<pre><code>while True:\n    shortestpath = raw_input(\"Give the shortest path? (Y/N)\")\n    if shortestpath == \"Y\" or shortestpath == \"y\":\n        answer = min(path1, path2, path3, path4, path5, path6, path7, path8, path9)\n        print \"The shortest path is: \"\n        print answer\n        if answer == path1:\n            print \"a,f,e\"\n        elif answer == path2:\n            print \"a,c,f,e\"\n        elif answer == path3:\n            print \"a,f,c,d,e\"\n        elif answer == path4:\n            print \"a,f,c,b,d,e\"\n        elif answer == path5:\n            print \"a,c,d,e\"\n        elif answer == path6:\n            print \"a,c,b,d,e\"\n        elif answer == path7:\n            print \"a,b,c,f,e\"\n        elif answer == path8:\n            print \"a,b,c,d,e\"\n        elif answer == path9:\n            print \"a,b,d,e\"\n        break\n    elif shortestpath == \"N\" or shortestpath == \"n\":\n        print \"End of program.\"\n        break\n    else:\n        print \"Invalid answer, try again.\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1484171353, "creation_date": 1484171353, "answer_id": 41601314, "question_id": 41600773, "link": "https://stackoverflow.com/questions/41600773/repeating-until-correct-answer-is-given/41601314#41601314", "title": "Repeating until correct answer is given", "body": "<pre><code>def get_answer(prompt,options):\n    while True:\n        result = raw_input(prompt)\n        if result in options: return result\n        print \"Got unexpected input ... please try again\"\n\nselected_option = get_answer(\"Would you like to _____?\",options=[\"y\",\"Y\",\"n\",\"N\"])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7406687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6321ba4df439e52da69e039300d973f?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin Ciesla", "link": "https://stackoverflow.com/users/7406687/marcin-ciesla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1484171357, "creation_date": 1484169124, "last_edit_date": 1484170065, "question_id": 41600773, "link": "https://stackoverflow.com/questions/41600773/repeating-until-correct-answer-is-given", "title": "Repeating until correct answer is given", "body": "<p>Here is a code that I made, it's just a small part of the whole bigger thing. How do I put this in a while loop so that it will repeat the <code>\"Invalid answer, try again.\"</code> until the correct answer is given? I have tried for many hours looking at while loops but just can't do it. If you actually will run the code it obviously will come up with errors because you don't have paths etc. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>shortestpath = raw_input(\"Give the shortest path? (Y/N)\")\nif shortestpath == \"Y\" or shortestpath == \"y\":\n    answer = min(path1, path2, path3, path4, path5, path6, path7, path8, path9)\n    print \"The shortest path is: \"\n    print answer\n    if answer == path1:\n        print \"a,f,e\"\n    elif answer == path2:\n        print \"a,c,f,e\"\n    elif answer == path3:\n        print \"a,f,c,d,e\"\n    elif answer == path4:\n        print \"a,f,c,b,d,e\"\n    elif answer == path5:\n        print \"a,c,d,e\"\n    elif answer == path6:\n        print \"a,c,b,d,e\"\n    elif answer == path7:\n        print \"a,b,c,f,e\"\n    elif answer == path8:\n        print \"a,b,c,d,e\"\n    elif answer == path9:\n        print \"a,b,d,e\"\nelif shortestpath == \"N\" or shortestpath == \"n\":\n    print \"End of program.\"\nelse:\n    print \"Invalid answer, try again.\"\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-2.7"], "comments": [{"owner": {"reputation": 4567, "user_id": 1318734, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/S3JJ2.gif?s=128&g=1", "display_name": "rofls", "link": "https://stackoverflow.com/users/1318734/rofls"}, "edited": false, "score": 1, "creation_date": 1484169399, "post_id": 41600767, "comment_id": 70404447, "body": "<code>range</code> and <code>len</code> are what I would call &quot;built-in&quot; functions, along with print. So, you&#39;re making arbitrary constraints."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1484169451, "post_id": 41600767, "comment_id": 70404478, "body": "Also the code does not give you the output you provided. And <code>j = i + 1</code> does not do anything as you &quot;overwrite&quot; <code>j</code> with a different value in the next line"}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1484169438, "creation_date": 1484169438, "answer_id": 41600858, "question_id": 41600767, "link": "https://stackoverflow.com/questions/41600767/find-the-difference-between-all-the-values-in-the-array-and-check-whether-differ/41600858#41600858", "title": "Find the difference between all the values in the array and check whether difference in present in the array", "body": "<p>You may use <a href=\"https://docs.python.org/2/library/itertools.html#cobinations\" rel=\"nofollow noreferrer\"><code>itertools.combinations</code></a> to achieve this:</p>\n\n<pre><code>from itertools import combinations\na = [1,2,4,5]\n\nfor i, j in combinations(a, 2):\n    dif = j - i  # OR, dif = abs(j - i) for checking against absolute value\n    if dif in a:\n        print j, i, dif\n</code></pre>\n\n<p>Above code will print:</p>\n\n<pre><code>2 1 1\n5 1 4\n4 2 2\n5 4 1\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 41600858, "answer_count": 1, "score": -1, "last_activity_date": 1484169438, "creation_date": 1484169109, "question_id": 41600767, "link": "https://stackoverflow.com/questions/41600767/find-the-difference-between-all-the-values-in-the-array-and-check-whether-differ", "title": "Find the difference between all the values in the array and check whether difference in present in the array", "body": "<p>I want to write a program which would calculate the difference between all the values of an array and find whether the difference is also present in the array or not.</p>\n\n<p>For eg,</p>\n\n<pre><code>a = [1,2,4,5]\n\nfor i in range(len(a)):\n    j = i+1\n    for j in range(len(a)):\n        dif = a[i] - a[j]\n        if dif in a:\n            print a[i], a[j], dif\n</code></pre>\n\n<p>The output here would be,</p>\n\n<pre><code>2 1 1\n4 2 2\n5 1 4\n5 4 1\n</code></pre>\n\n<p>I want to know if there is a more efficient way of doing this? I don't want to use any python in built functions here. Without that is it possible to improve the algorithm?</p>\n\n<p>Any help would be helpful\nThanks</p>\n"}, {"tags": ["python", "python-2.7", "class", "operator-overloading"], "answers": [{"comments": [{"owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "edited": false, "score": 0, "creation_date": 1484174000, "post_id": 41601077, "comment_id": 70406585, "body": "This does not answer the question.  My question is: why does observed behavior occur?"}, {"owner": {"reputation": 650, "user_id": 3022982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3040ac2e9831e96a5e524ae5e435fd20?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3022982/andrew"}, "reply_to_user": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "edited": false, "score": 0, "creation_date": 1484213477, "post_id": 41601077, "comment_id": 70420477, "body": "I already wrote: because you returned NotImplemented from your code so  &quot;The interpreter will then try the reflected operation, or some other fallback, depending on the operator.&quot; Why 6 times? Because you used Python 2.7. Python 3.5.2 and 3.6.0 try only 2 variants of comparison. Possibly it is a bug in Python 2.7."}], "tags": [], "owner": {"reputation": 650, "user_id": 3022982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3040ac2e9831e96a5e524ae5e435fd20?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3022982/andrew"}, "is_accepted": false, "score": -3, "last_activity_date": 1484170452, "creation_date": 1484170452, "answer_id": 41601077, "question_id": 41600735, "link": "https://stackoverflow.com/questions/41600735/how-exactly-does-python-operator-overloading-work/41601077#41601077", "title": "How exactly does Python operator overloading work?", "body": "<p>Please read Python Manual about NotImplemented: \"Numeric methods and rich comparison methods should return this value if they do not implement the operation for the operands provided. (The interpreter will then try the reflected operation, or some other fallback, depending on the operator.) Its truth value is true.\"</p>\n\n<p>That is if you change return NotImplemented by return self.name==other.name, there will be a single call to <strong>eq</strong></p>\n"}, {"comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1484189657, "post_id": 41604047, "comment_id": 70411061, "body": "Great explanation.  As you note, the last four comparisons are as defined by the docs: first try reversed comparison starting on the right (which may lead to trying from the left if the RHS returns NotImplemented) and then try ordinary comparison starting from the left (which may lead to trying from the right if the left returns NotImplemented).  The first two are an optimization.  I think an important takeaway from this (although it&#39;s not explicitly stated in the docs) is that <i>the exact number of times the compare functions are called is an implementation detail and is not defined behavior</i>."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "edited": false, "score": 0, "creation_date": 1484193961, "post_id": 41604047, "comment_id": 70412073, "body": "@augurar I&#39;ve included all relevant source code into the question and highlighted the relevant comparisons and their order. If I need to explain anything else, let me know :) (But you won&#39;t get the flow chart xD)"}, {"owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "edited": false, "score": 0, "creation_date": 1484212074, "post_id": 41604047, "comment_id": 70419613, "body": "Also worth noting that if one object does not define any of the rich comparison methods, the other object&#39;s <code>__eq__</code> method will only be called once, not twice."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 2, "last_activity_date": 1484213469, "last_edit_date": 1484213469, "creation_date": 1484187261, "answer_id": 41604047, "question_id": 41600735, "link": "https://stackoverflow.com/questions/41600735/how-exactly-does-python-operator-overloading-work/41604047#41604047", "title": "How exactly does Python operator overloading work?", "body": "<p><strong>The behaviour is python-2.x only and it's part of how rich comparisons work internally (at least CPython) but only if both are new-style classes and both arguments have the same type!</strong></p>\n\n<p>The source C-code reads (I highlighted the parts where the comparisons are done and/or skipped):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>PyObject *\nPyObject_RichCompare(PyObject *v, PyObject *w, int op)\n{\n    PyObject *res;\n\n    assert(Py_LT &lt;= op &amp;&amp; op &lt;= Py_GE);\n    if (Py_EnterRecursiveCall(\" in cmp\"))\n        return NULL;\n\n    /* If the types are equal, and not old-style instances, try to\n       get out cheap (don't bother with coercions etc.). */\n    if (v-&gt;ob_type == w-&gt;ob_type &amp;&amp; !PyInstance_Check(v)) {\n        cmpfunc fcmp;\n        richcmpfunc frich = RICHCOMPARE(v-&gt;ob_type);\n        /* If the type has richcmp, try it first.  try_rich_compare\n           tries it two-sided, which is not needed since we've a\n           single type only. */\n        if (frich != NULL) {\n            /****************************************************/\n            /* 1. This first tries v.__eq__(w) then w.__eq__(v) */\n            /****************************************************/\n            res = (*frich)(v, w, op);\n            if (res != Py_NotImplemented)\n                goto Done;\n            Py_DECREF(res);\n        }\n        /* No richcmp, or this particular richmp not implemented.\n           Try 3-way cmp. */\n        fcmp = v-&gt;ob_type-&gt;tp_compare;\n        if (fcmp != NULL) \n            /***********************************************/\n            /* Skipped because you don't implement __cmp__ */\n            /***********************************************/\n            int c = (*fcmp)(v, w);\n            c = adjust_tp_compare(c);\n            if (c == -2) {\n                res = NULL;\n                goto Done;\n            }\n            res = convert_3way_to_object(op, c);\n            goto Done;\n        }\n    }\n\n    /* Fast path not taken, or couldn't deliver a useful result. */\n    res = do_richcmp(v, w, op);\nDone:\n    Py_LeaveRecursiveCall();\n    return res;\n}\n\n/* Try a genuine rich comparison, returning an object.  Return:\n   NULL for exception;\n   NotImplemented if this particular rich comparison is not implemented or\n     undefined;\n   some object not equal to NotImplemented if it is implemented\n     (this latter object may not be a Boolean).\n*/\nstatic PyObject *\ntry_rich_compare(PyObject *v, PyObject *w, int op)\n{\n    richcmpfunc f;\n    PyObject *res;\n\n    if (v-&gt;ob_type != w-&gt;ob_type &amp;&amp;\n        PyType_IsSubtype(w-&gt;ob_type, v-&gt;ob_type) &amp;&amp;\n        (f = RICHCOMPARE(w-&gt;ob_type)) != NULL) {\n            /*******************************************************************************/\n            /* Skipped because you don't compare unequal classes where w is a subtype of v */\n            /*******************************************************************************/\n        res = (*f)(w, v, _Py_SwappedOp[op]);\n        if (res != Py_NotImplemented)\n            return res;\n        Py_DECREF(res);\n    }\n    if ((f = RICHCOMPARE(v-&gt;ob_type)) != NULL) {\n            /*****************************************************************/\n            /** 2. This again tries to evaluate v.__eq__(w) then w.__eq__(v) */\n            /*****************************************************************/\n        res = (*f)(v, w, op);\n        if (res != Py_NotImplemented)\n            return res;\n        Py_DECREF(res);\n    }\n    if ((f = RICHCOMPARE(w-&gt;ob_type)) != NULL) {\n            /***********************************************************************/\n            /* 3. This tries the reversed comparison: w.__eq__(v) then v.__eq__(w) */\n            /***********************************************************************/\n        return (*f)(w, v, _Py_SwappedOp[op]);\n    }\n    res = Py_NotImplemented;\n    Py_INCREF(res);\n    return res;\n}\n</code></pre>\n\n<p>The interesting parts are the comments - which answers your question:</p>\n\n<ol>\n<li><p>If both are the same type and new-style classes it assumes it can do a shortcut: it makes one attempt to rich compare them. The normal and reversed return NotImplemented and it proceeds.</p></li>\n<li><p>It enters the <code>try_rich_compare</code> function, there it tries to compare them again, first normal then reversed.</p></li>\n<li><p>A final attempt is made by testing the reversed operation: Now it compares it reversed and then attempts the normal (reversed of the reversed operation) one again.</p></li>\n<li><p>(not shown) In the end all 3 possibilities failed then a last test is done if the objects are identical <code>a1 is a2</code> which returns the observed <code>False</code>.</p></li>\n</ol>\n\n<p>The presence of the last test can be observed if you test <code>a1 == a1</code>:</p>\n\n<pre><code>&gt;&gt;&gt; a1 == a1\na1.__eq__(a1)\na1.__eq__(a1)\na1.__eq__(a1)\na1.__eq__(a1)\na1.__eq__(a1)\na1.__eq__(a1)\nTrue\n</code></pre>\n\n<hr>\n\n<p>I don't know if that behaviour is fully documented, at least there are some hints in the documentation of <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__eq__\" rel=\"nofollow noreferrer\"><code>__eq__</code></a> </p>\n\n<blockquote>\n  <p>A rich comparison method may return the singleton NotImplemented if it does not implement the operation for a given pair of arguments.</p>\n</blockquote>\n\n<p>and <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__cmp__\" rel=\"nofollow noreferrer\"><code>__cmp__</code></a>:</p>\n\n<blockquote>\n  <p>Called by comparison operations if rich comparison (see above) is not defined.</p>\n</blockquote>\n\n<hr>\n\n<p>Some more observations:</p>\n\n<p>Note that if you define <code>__cmp__</code> it doesn't respect <code>return NotImplemented</code> like <code>__eq__</code> does (because it enters the previously skipped branch in <code>PyObject_RichCompare</code>):</p>\n\n<pre><code>class A(object):\n    def __init__(self, name):\n        self.name = name\n    def __str__(self):\n        return self.name\n    def __eq__(self, other):\n        print('{}.__eq__({})'.format(self, other))\n        return NotImplemented\n    def __cmp__(self, other):\n        print('{}.__cmp__({})'.format(self, other))\n        return NotImplemented\n\n\n&gt;&gt;&gt; a1, a2 = A('a1'), A('a2')\n&gt;&gt;&gt; a1 == a2\na1.__eq__(a2)\na2.__eq__(a1)\na1.__cmp__(a2)\na2.__cmp__(a1)\nFalse\n</code></pre>\n\n<p>The behaviour with the subclasses or identical classes can be seen easily seen if you explicitly compare with superclass and inherited class:</p>\n\n<pre><code>&gt;&gt;&gt; class A(object):\n...     def __init__(self, name):\n...         self.name = name\n...     def __str__(self):\n...         return self.name\n...     def __eq__(self, other):\n...         print('{}.__eq__({}) from A'.format(self, other))\n...         return NotImplemented\n...\n&gt;&gt;&gt;\n&gt;&gt;&gt; class B(A):\n...     def __eq__(self, other):\n...         print('{}.__eq__({}) from B'.format(self, other))\n...         return NotImplemented\n...\n&gt;&gt;&gt;\n&gt;&gt;&gt; a1, a2 = A('a1'), B('a2')\n&gt;&gt;&gt; a1 == a2\na2.__eq__(a1) from B\na1.__eq__(a2) from A\na1.__eq__(a2) from A\na2.__eq__(a1) from B\na2.__eq__(a1) from B\na1.__eq__(a2) from A\nFalse\n&gt;&gt;&gt; a2 == a1\na2.__eq__(a1) from B\na1.__eq__(a2) from A\na1.__eq__(a2) from A\na2.__eq__(a1) from B\nFalse\n</code></pre>\n\n<hr>\n\n<p>A final comment:</p>\n\n<p>I added the code I used to \"print\" where it does the comparisons in a <a href=\"https://gist.github.com/MSeifert04/acec8515090a4217d1b87d4ff092f459\" rel=\"nofollow noreferrer\">gist</a>. If you know how to create python-c-extensions you can compile and run the code yourself (the <code>myrichcmp</code> function needs to be called with the two arguments to compare for equality).</p>\n"}], "owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 1, "accepted_answer_id": 41604047, "answer_count": 2, "score": 2, "last_activity_date": 1484213469, "creation_date": 1484168990, "last_edit_date": 1484169704, "question_id": 41600735, "link": "https://stackoverflow.com/questions/41600735/how-exactly-does-python-operator-overloading-work", "title": "How exactly does Python operator overloading work?", "body": "<p>I tried the following experiment:</p>\n\n<pre><code>&gt;&gt;&gt; class A(object):\n...     def __init__(self, name):\n...         self.name = name\n...     def __str__(self):\n...         return self.name\n...     def __eq__(self, other):\n...         print('{}.__eq__({})'.format(self, other))\n...         return NotImplemented\n... \n&gt;&gt;&gt; a1 = A('a1')\n&gt;&gt;&gt; a2 = A('a2')\n&gt;&gt;&gt; a1 == a2\na1.__eq__(a2)\na2.__eq__(a1)\na1.__eq__(a2)\na2.__eq__(a1)\na2.__eq__(a1)\na1.__eq__(a2)\nFalse\n</code></pre>\n\n<p>What the heck is going on here?</p>\n\n<p>More generally, is there official documentation of the exact flow that occurs when evaluating an operator?  The <a href=\"https://docs.python.org/2/reference/datamodel.html\" rel=\"nofollow noreferrer\">data model</a> documentation alludes to some kind of fallback behavior but does not precisely describe what it is.  There are several possibilities that complicate the situation:</p>\n\n<ul>\n<li><code>a</code> and <code>b</code> may be of the same or different types</li>\n<li><code>a</code> and <code>b</code> may or may not not define an <code>__eq__</code> method</li>\n<li><code>a.__eq__(b)</code> or <code>b.__eq__(a)</code> may return <code>NotImplemented</code>, or another value.</li>\n</ul>\n\n<p>Some kind of flow diagram would be helpful.</p>\n\n<hr>\n\n<p><strong>Edit:</strong> Before marking this question as a duplicate, please make sure the supposed duplicate answers the following:</p>\n\n<ul>\n<li>Why does <code>__eq__</code> get called 6 times in the given pattern?</li>\n<li>Where is the behavior fully documented?</li>\n<li>Can I get a flowchart?</li>\n</ul>\n"}, {"tags": ["python", "matplotlib", "compiler-errors", "latex", "freeze"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484171557, "post_id": 41600714, "comment_id": 70405510, "body": "run in console/terminal/cmd.exe and maybe it displays some error message."}, {"owner": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1484173643, "post_id": 41600714, "comment_id": 70406417, "body": "@furas Is <code>command prompt</code> not the same as <code>cmd.exe</code>? If it is, no error is displayed apart from a window that pops up to tell me <code>python.exe</code> has stopped working and to close program."}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "edited": false, "score": 0, "creation_date": 1484183647, "post_id": 41600957, "comment_id": 70409521, "body": "Unfortunately my return value is <code>0</code> and the return info (see comment below, wasn&#39;t sure if it is relevant) seems good. Although thank you, that was very helpful as I&#39;d been wondering if it was my <code>PATH</code> for a while but didn&#39;t know how to check! So if it isn&#39;t my path what else may it be?"}, {"owner": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "edited": false, "score": 0, "creation_date": 1484183751, "post_id": 41600957, "comment_id": 70409550, "body": "<code>&gt;&gt;&gt; import subprocess      (new line)      &gt;&gt;&gt; subprocess.call([&#39;latex&#39;, &#39;--version&#39;])    (new line)        MiKTeX-pdfTeX 2.9.6100 (1.40.17) (MiKTeX 2.9.6100 64-bit)     (new line)       Copyright (C) 1982 D. E. Knuth, (C) 1996-2016 Han The Thanh     (new line)      TeX is a trademark of the American Mathematical Society.        (new line)  compiled with zlib version 1.2.8; using 1.2.8       (new line)  compiled with libpng version 1.6.24; using 1.6.24       (new line)  compiled with poppler version 0.46.0       (new line)  compiled with jpeg version 8.4       (new line)  0</code>"}, {"owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "reply_to_user": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "edited": false, "score": 0, "creation_date": 1484230165, "post_id": 41600957, "comment_id": 70431776, "body": "@AldaHunter The good news is that this confirms that latex can be found. :-) Try adding an explicit <code>exit()</code> at the end of your script, although that shouldn&#39;t be necessary. I&#39;ve never seen this behavior, so it is probalby some ms-windows specific weirdness."}, {"owner": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "edited": false, "score": 0, "creation_date": 1484242892, "post_id": 41600957, "comment_id": 70440644, "body": "I have added the <code>exit()</code> code but still <code>python.exe</code> stops responding before the image is saved :,-("}, {"owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "reply_to_user": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "edited": false, "score": 0, "creation_date": 1484243156, "post_id": 41600957, "comment_id": 70440785, "body": "@AldaHunter Look at the processes like I mentioned in my edit. Any tex-related processes still running?"}, {"owner": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "edited": false, "score": 0, "creation_date": 1484243293, "post_id": 41600957, "comment_id": 70440862, "body": "When I run my code, <code>python.exe</code> appears (as expected) which appears to open up <code>kpsewhich.exe</code> (which is a <code>standalone path lookup and variable extension for Kpathsea1</code> from its description), this then closes suddenly before <code>python.exe</code> stops working! I cannot find any LaTeX or TeX processes (although maybe they start and finish too quickly to be seen). And I&#39;m not sure what code to test in LaTeX, because as you can see from the minimal example I don&#39;t use any LaTeX code (although may be hidden in the matplotlib files somewhere). It seems a very weird problem."}, {"owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "reply_to_user": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "edited": false, "score": 0, "creation_date": 1484243356, "post_id": 41600957, "comment_id": 70440897, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/133023/discussion-between-roland-smith-and-aldahunter\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1484230683, "last_edit_date": 1484230683, "creation_date": 1484169923, "answer_id": 41600957, "question_id": 41600714, "link": "https://stackoverflow.com/questions/41600714/why-does-python-become-unresponsive-when-i-use-latex-to-render-text/41600957#41600957", "title": "Why does python become unresponsive when I use LaTeX to render text?", "body": "<p>Note that <code>pyplot.show()</code> <em>blocks</em> until you close the window.</p>\n\n<p>If you are generating plots for your LaTeX documents, just remove <code>pyplot.show()</code>.</p>\n\n<p>Make sure that Python can actually <em>find</em> <code>latex</code>, <code>dvipng</code> and <code>gs</code>. (I would expect you to get a error message if that is not the case, but I haven't used python/matplotlib on ms-windows, so I'm not sure.) That is, their location should be in your <code>PATH</code> environment variable. See the <a href=\"http://matplotlib.org/faq/environment_variables_faq.html#environment-variables\" rel=\"nofollow noreferrer\">matplotlib documentation on environment variables</a>.</p>\n\n<p>Try the following in an interactive Python session:</p>\n\n<pre><code>&gt;&gt;&gt; import subprocess\n&gt;&gt;&gt; subprocess.call(['latex', '--version'])\npdfTeX 3.14159265-2.6-1.40.17 (TeX Live 2016)\nkpathsea version 6.2.2\nCopyright 2016 Han The Thanh (pdfTeX) et al.\nThere is NO warranty.  Redistribution of this software is\ncovered by the terms of both the pdfTeX copyright and\nthe Lesser GNU General Public License.\nFor more information about these matters, see the file\nnamed COPYING and the pdfTeX source.\nPrimary author of pdfTeX: Han The Thanh (pdfTeX) et al.\nCompiled with libpng 1.6.21; using libpng 1.6.21\nCompiled with zlib 1.2.8; using zlib 1.2.8\nCompiled with xpdf version 3.04\n0\n</code></pre>\n\n<p>The stuff about the TeX version might well be different; it depends on which version of which TeX distribution you're using.\n<em>Most important</em> is the last line; this is the return value of <code>subprocess.call</code> and <em>should</em> be 0, indicating that the command return no error.</p>\n\n<p>If the <code>subprocess.call</code> raises an exception (like below; not sure if it will be the same on ms-windows), you need to modify the <code>PATH</code> so that python can find LaTeX and the other things it needs.</p>\n\n<pre><code>&gt;&gt;&gt; subprocess.call(['foo', '--version'])\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/python2.7/subprocess.py\", line 168, in call\n    return Popen(*popenargs, **kwargs).wait()\n  File \"/usr/local/lib/python2.7/subprocess.py\", line 390, in __init__\n    errread, errwrite)\n  File \"/usr/local/lib/python2.7/subprocess.py\", line 1024, in _execute_child\n    raise child_exception\nOSError: [Errno 2] No such file or directory\n</code></pre>\n\n<p><strong>Edit:</strong>\nIf this is not the problem, it could be that is it TeX that is not quitting. Try running the script. When you get the error dialog, look in the task manager if there is still a (la)tex process running. Look at the LaTeX code that you use, and try running it in LaTeX to check that it is actually valid. It might get hung on an error...</p>\n"}], "owner": {"reputation": 431, "user_id": 7371436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc947743ec8fa72b32c9bf12c68aeda?s=128&d=identicon&r=PG&f=1", "display_name": "Aldahunter", "link": "https://stackoverflow.com/users/7371436/aldahunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 41600957, "answer_count": 1, "score": 1, "last_activity_date": 1484230683, "creation_date": 1484168892, "question_id": 41600714, "link": "https://stackoverflow.com/questions/41600714/why-does-python-become-unresponsive-when-i-use-latex-to-render-text", "title": "Why does python become unresponsive when I use LaTeX to render text?", "body": "<p>I'm currently using <code>python 2.7.11</code> running my code in <code>command prompt</code>. I am using <code>matplotlib</code> to create 3D figures for my <code>LaTeX</code> document. However when I try to use <code>LaTeX</code> to render my text for the images I receive a windows error message telling me <code>python.exe</code> has stopped working and I must close the program. Why is this happening and how can I fix it? I'm not tec savvy, so simple answers would be appreciated. Thank you in advance.</p>\n\n<p><strong>Code</strong></p>\n\n<p>The minimum code for this error is:</p>\n\n<pre><code>from mpl_toolkits.mplot3d import Axes3D\nimport numpy, matplotlib, matplotlib.pyplot as pyplot\n\nmatplotlib.rcParams['text.usetex'] = True\n\nModule_Colour = '#F0AE1E'\n\nfig = pyplot.figure()\nax = fig.add_subplot(111, projection='3d')\n\nX_arr = numpy.array([1.0,0.0,0.0])\nY_arr = numpy.array([0.0,1.0,0.0])\nZ_arr = numpy.array([0.0,0.0,1.0])\nO_arr = numpy.array([0.0,0.0,0.0])\n\npyplot.quiver(O_arr,O_arr,O_arr,X_arr,Y_arr,Z_arr,\n              pivot='tail', length=1.0, linewidth=2.5,\n              color = Module_Colour)\n\npyplot.savefig('C:/Users/alexd/Documents/University/Physics/Physics Figures/fig.jpeg', bbox_inches='tight')\npyplot.show()\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 7406612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25c2e80ac5a00f58b1ccb8f500d47345?s=128&d=identicon&r=PG&f=1", "display_name": "Biopy", "link": "https://stackoverflow.com/users/7406612/biopy"}, "edited": false, "score": 0, "creation_date": 1484208447, "post_id": 41601043, "comment_id": 70417585, "body": "Oh thanks a lot, it really helps me !  By the way, I want to do the same thing with a Spinbox widget, how can I get the value in a global variable ?"}, {"owner": {"reputation": 12061, "user_id": 6415268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hHWNQ.png?s=128&g=1", "display_name": "j_4321", "link": "https://stackoverflow.com/users/6415268/j-4321"}, "reply_to_user": {"reputation": 137, "user_id": 7406612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25c2e80ac5a00f58b1ccb8f500d47345?s=128&d=identicon&r=PG&f=1", "display_name": "Biopy", "link": "https://stackoverflow.com/users/7406612/biopy"}, "edited": false, "score": 0, "creation_date": 1484212653, "post_id": 41601043, "comment_id": 70419960, "body": "For the spinbox, you don&#39;t need a global variable, just use the <code>get</code> method of the spinbox (I have edited my answer to show you)."}], "tags": [], "owner": {"reputation": 12061, "user_id": 6415268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hHWNQ.png?s=128&g=1", "display_name": "j_4321", "link": "https://stackoverflow.com/users/6415268/j-4321"}, "is_accepted": true, "score": 3, "last_activity_date": 1484212589, "last_edit_date": 1484212589, "creation_date": 1484170326, "answer_id": 41601043, "question_id": 41600684, "link": "https://stackoverflow.com/questions/41600684/put-file-path-in-global-variable-from-browse-button-with-tkinter/41601043#41601043", "title": "Put file path in global variable from browse button with tkinter", "body": "<p>There are at least two different ways of doing it:</p>\n\n<p>1) Bundle your whole app in a class like this:</p>\n\n<pre><code>import Tkinter as tk\nimport tkFileDialog\n\nclass App(tk.Tk):\n\n    def __init__(self):\n        tk.Tk.__init__(self) # create window\n\n        self.filename = \"\" # variable to store filename\n\n        tk.Button(self, text='Browse', command=self.openfile).pack()\n        tk.Button(self, text='Print filename', command=self.printfile).pack()\n\n        self.spinbox = tk.Spinbox(self, from_=0, to=10)\n        self.spinbox.pack(pady=10)\n        tk.Button(self, text='Print spinbox value', command=self.printspinbox).pack()\n\n        self.mainloop()\n\n    def printspinbox(self):\n        print(self.spinbox.get())\n\n    def openfile(self):\n        self.filename = tkFileDialog.askopenfilename(title=\"Open file\")\n\n    def printfile(self):\n        print(self.filename)\n\nif __name__ == '__main__':\n    App()\n</code></pre>\n\n<p>In this case, <code>filename</code> is an attribute of the <code>App</code>, so it is accessible from any function inside the class.</p>\n\n<p>2) Use a global variable:</p>\n\n<pre><code>import Tkinter as tk\nimport tkFileDialog\n\ndef openfile():\n    global filename\n    filename = tkFileDialog.askopenfilename(title=\"Open file\")\n\ndef printfile():\n    print(filename)\n\ndef printspinbox():\n    print(spinbox.get())\n\nwindow = tk.Tk()\n\nfilename = \"\" # global variable\n\ntk.Button(window, text='Browse', command=openfile).pack()\ntk.Button(window, text='Print filename', command=printfile).pack()\n\nspinbox = tk.Spinbox(window, from_=0, to=10)\nspinbox.pack(pady=10)\ntk.Button(window, text='Print spinbox value', command=printspinbox).pack()\n\nwindow.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 7406612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25c2e80ac5a00f58b1ccb8f500d47345?s=128&d=identicon&r=PG&f=1", "display_name": "Biopy", "link": "https://stackoverflow.com/users/7406612/biopy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3423, "favorite_count": 2, "accepted_answer_id": 41601043, "answer_count": 1, "score": 1, "last_activity_date": 1556175333, "creation_date": 1484168757, "last_edit_date": 1556175333, "question_id": 41600684, "link": "https://stackoverflow.com/questions/41600684/put-file-path-in-global-variable-from-browse-button-with-tkinter", "title": "Put file path in global variable from browse button with tkinter", "body": "<p>I'm just starting to use tkinter and it is a little difficult to handle it. Check this sample :</p>\n\n<pre><code>#!/usr/bin/env python\n#-*- coding: utf-8 -*-\n\nimport Tkinter as tk\nimport tkFileDialog\n\ndef openfile():\n    filename = tkFileDialog.askopenfilename(title=\"Open file\")\n    return filename\n\nwindow = tk.Tk()\ntk.Button(window, text='Browse', command=openfile).pack()\n\nwindow.mainloop()\n</code></pre>\n\n<p>I juste created a browse button which keep the file path in the variable \"filename\" in the function openfile(). How can i put the content of \"filename\" in a variable out of the function ? </p>\n\n<p>For example I want to put it in the variable P and print it in a terminal</p>\n\n<pre><code>def openfile():\n    filename = tkFileDialog.askopenfilename(title=\"Open file\")\n    return filename\n\nwindow = tk.Tk()\ntk.Button(window, text='Browse', command=openfile).pack()\n\nwindow.mainloop()\n\nP = \"the file path in filename\"\nprint P\n</code></pre>\n\n<p>I also also want to put the file path in a widget Entry(), and as same as below, get the text in the Entry widget in another global variable.</p>\n\n<p>If someone knows, it would be nice.</p>\n"}, {"tags": ["python", "recursion", "combinations"], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1484170501, "post_id": 41600668, "comment_id": 70405023, "body": "Thank you! How can I avoid that problem?"}], "tags": [], "owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "is_accepted": true, "score": 4, "last_activity_date": 1484168812, "last_edit_date": 1484168812, "creation_date": 1484168721, "answer_id": 41600668, "question_id": 41600636, "link": "https://stackoverflow.com/questions/41600636/amount-of-combinations-with-nominals-given/41600668#41600668", "title": "Amount of combinations with nominals given", "body": "<p>the <code>print()</code> function returns <code>None</code>.</p>\n\n<p>So when you do <code>return print(\"C should be positive\")</code>, you are returning None. Hence, at the line <code>possibilities += amount(N, C-nominal, nominal)</code> your code is raising Exception </p>\n"}], "owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 41600668, "answer_count": 1, "score": 0, "last_activity_date": 1484168812, "creation_date": 1484168570, "question_id": 41600636, "link": "https://stackoverflow.com/questions/41600636/amount-of-combinations-with-nominals-given", "title": "Amount of combinations with nominals given", "body": "<p>I am to calculate the amount of combinations of a number (let's call it C) using N numbers given.\nI am to use a recursive formula.\nHowever there is an error:<br>\n\"TypeError: unsupported operand type(s) for +=: 'int' and 'NoneType' \"<br>\nMy code:</p>\n\n<pre><code>def amount(N, C, latest_nominal = 0):\n    if C &lt; 0:\n        return print(\"C should be positive\")\n    if C == 0:\n        return print(\"1\")\n    if not N:\n        return print(\"There are no nominals\")\n    possibilities = 0\n    for nominal in N:\n        if nominal &gt;= latest_nominal:\n            possibilities += amount(N, C-nominal, nominal)\n    return possibilities  \n</code></pre>\n\n<p>I would appreciate any help! :)</p>\n"}, {"tags": ["python", "r", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "is_accepted": true, "score": 5, "last_activity_date": 1493140375, "creation_date": 1493140375, "answer_id": 43617048, "question_id": 41600579, "link": "https://stackoverflow.com/questions/41600579/grouping-hover-text-of-multiple-line-with-different-mode-in-plotly-r/43617048#43617048", "title": "Grouping hover text of multiple line with different mode in plotly R", "body": "<p>If you look at the raw JSON of the example provided in the link you can see that <code>hovermode</code> is set to <code>x</code> (the default is <code>all</code>).</p>\n\n<p>If you set <code>hovermode</code> to <code>x</code> in <code>layout</code> in <code>R</code> you should get the desired output as well.</p>\n\n<pre><code>library(data.table)\nlibrary(plotly)\n\nset.seed(42)\n\ndt &lt;- data.table(x = 1:10, y = rnorm(10), z = rnorm(10)+2) \nplot_ly(type = \"scatter\", mode = \"lines\") %&gt;% \n  add_trace(y = dt$y, name = \"curve 1\", mode = \"lines+markers\") %&gt;% \n  add_trace(y = dt$z, name = \"curve 2\", mode = \"lines\") %&gt;% \n  layout(hovermode = 'x')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/icNTn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/icNTn.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 185, "user_id": 7326592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-E8M8GAbdDRM/AAAAAAAAAAI/AAAAAAAACKM/QieS9CKcVx8/photo.jpg?sz=128", "display_name": "Weiwen Gu", "link": "https://stackoverflow.com/users/7326592/weiwen-gu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 0, "accepted_answer_id": 43617048, "answer_count": 1, "score": 2, "last_activity_date": 1537521580, "creation_date": 1484168351, "last_edit_date": 1537521580, "question_id": 41600579, "link": "https://stackoverflow.com/questions/41600579/grouping-hover-text-of-multiple-line-with-different-mode-in-plotly-r", "title": "Grouping hover text of multiple line with different mode in plotly R", "body": "<p>Plotly has the feature of showing hover text of multiple lines simultaneously. For example:</p>\n\n<pre><code>dt &lt;- data.table(x = 1:10, y = rnorm(10), z = rnorm(10)+2)\nplot_ly(type = \"scatter\", mode = \"lines\") %&gt;% \n    add_trace(x = dt$x, y = dt$y, name = \"curve 1\", mode = \"lines\") %&gt;% \n    add_trace(y = dt$z, name = \"curve 2\", mode = \"lines\")\n</code></pre>\n\n<p>However, if their modes are different, the hover text won't be grouped. For example:</p>\n\n<pre><code>dt &lt;- data.table(x = 1:10, y = rnorm(10), z = rnorm(10)+2) \nplot_ly(type = \"scatter\", mode = \"lines\") %&gt;%\n    add_trace(x = dt$x, y = dt$y, name = \"curve 1\", mode = \"lines+markers\") %&gt;% \n    add_trace(y = dt$z, name = \"curve 2\", mode = \"lines\")\n</code></pre>\n\n<p>plotly in python has a way to do it (<a href=\"https://plot.ly/python/line-charts/\" rel=\"nofollow noreferrer\">Line Plot Modes</a>)\nI couldn't find the solution to plotly in R.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "pickle"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1484168652, "post_id": 41600577, "comment_id": 70404043, "body": "Defining Highscores as a list before you load the pickle doesn&#39;t change what the object is when it is loaded; it just overwrites the previous value. Clearly, whatever was saved in the pickle is not a list."}, {"owner": {"reputation": 11, "user_id": 7406593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f2b0e5a9d451fe03039dbef8a6f03f6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Higgins", "link": "https://stackoverflow.com/users/7406593/adam-higgins"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1484169352, "post_id": 41600577, "comment_id": 70404422, "body": "@DanielRoseman yes. I think I am appending objects to the pickle like it was a list but it&#39;s not. This is the code I am using to dump it. <code>currScore = calculateScore()</code>  <code>currUser = tkSimpleDialog.askstring(&quot;&quot;,&quot;Please enter a Username:&quot;)</code>  <code>newHighscore = scoreEntry(currScore, currUser)</code>      <code>with open(&quot;Highscores.txt&quot;, &quot;ab&quot;) as f:         pickle.dump(newHighscore, f)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 3, "last_activity_date": 1484170601, "creation_date": 1484170601, "answer_id": 41601127, "question_id": 41600577, "link": "https://stackoverflow.com/questions/41600577/iterating-through-a-list-of-objects-which-is-loaded-by-pickle/41601127#41601127", "title": "iterating through a list of objects which is loaded by pickle", "body": "<p>Just like <code>pickle.dump</code> dumps a single object to the file, <code>pickle.load</code> loads a single object from the file.  If you want a list, you will need to load them all:</p>\n\n<pre><code>with open(\"Highscores.txt\", \"rb\") as score_file:\n    Highscores = []\n    while True:\n        try:\n            Highscores.append(pickle.load(score_file))\n        except EOFError:\n            break\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7406593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f2b0e5a9d451fe03039dbef8a6f03f6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Higgins", "link": "https://stackoverflow.com/users/7406593/adam-higgins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1568, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484170601, "creation_date": 1484168346, "last_edit_date": 1495541637, "question_id": 41600577, "link": "https://stackoverflow.com/questions/41600577/iterating-through-a-list-of-objects-which-is-loaded-by-pickle", "title": "iterating through a list of objects which is loaded by pickle", "body": "<p>In a section of a game I am creating a user enters a username. The username and user's score are saved in an object which is pickled to an external file which has the other pickled score objects in it. </p>\n\n<p>I then have a button on the UI that if clicked should display the Highest scores of all players in descending order.</p>\n\n<p>I load in the file into a list with the code I found <a href=\"https://stackoverflow.com/questions/18229082/python-pickle-unpickle-a-list-to-from-a-file\">here</a> .</p>\n\n<pre><code>Highscores = []\nHighscores = pickle.load(open(\"Highscores.txt\", \"rb\"))\n</code></pre>\n\n<p>I then use a bubble sort to sort the list of objects shown below.</p>\n\n<pre><code>def bubbleSort():\n    swapOccured = True\n    while swapOccured == True:\n        swapOccured = False\n        for i in Highscores:\n            if Highscores[i].score &gt; Highscores[i + 1].score:\n                hold = Highscores[i + 1]\n                Highscore[i + 1] = Highscores[i]\n                Highscores[i] = Highscores[i + 1]\n                swapOccured = True\n</code></pre>\n\n<p>The error that is getting returned is </p>\n\n<pre><code>for index in Highscores:\nTypeError: iteration over non-sequence\n</code></pre>\n\n<p>I have looked at other questions like this for example <a href=\"https://stackoverflow.com/questions/11871593/python-iteration-over-non-sequence\">here</a>  but the error was that the program was looping through an object not looping through a list of objects. I'm pretty sure it's not the same error as the example, I think it could be with loading in a list of objects with pickle but I'm stuck.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "visual-studio", "autocomplete", "intellisense"], "comments": [{"owner": {"reputation": 2289, "user_id": 3873323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GC0dB.jpg?s=128&g=1", "display_name": "Yotam Salmon", "link": "https://stackoverflow.com/users/3873323/yotam-salmon"}, "edited": false, "score": 0, "creation_date": 1484168560, "post_id": 41600564, "comment_id": 70403988, "body": "Have you tried vscode with the Python module? It really is <b>the perfect editor</b>, seriously. The auto-completion and the linter are just precious ;)"}, {"owner": {"reputation": 898, "user_id": 7154311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9aJ8P.png?s=128&g=1", "display_name": "Ch3shire", "link": "https://stackoverflow.com/users/7154311/ch3shire"}, "reply_to_user": {"reputation": 2289, "user_id": 3873323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GC0dB.jpg?s=128&g=1", "display_name": "Yotam Salmon", "link": "https://stackoverflow.com/users/3873323/yotam-salmon"}, "edited": false, "score": 0, "creation_date": 1484169193, "post_id": 41600564, "comment_id": 70404345, "body": "I&#39;ll check that, thanks for the hint :)"}, {"owner": {"reputation": 5294, "user_id": 6593065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe51beac3e1baad85b28b95f4723ee6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Liu - MSFT", "link": "https://stackoverflow.com/users/6593065/sara-liu-msft"}, "edited": false, "score": 0, "creation_date": 1484204599, "post_id": 41600564, "comment_id": 70415711, "body": "@Ch3shire, what&#39;s the python version does you installed and does your issue is solved or not?"}, {"owner": {"reputation": 898, "user_id": 7154311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9aJ8P.png?s=128&g=1", "display_name": "Ch3shire", "link": "https://stackoverflow.com/users/7154311/ch3shire"}, "reply_to_user": {"reputation": 5294, "user_id": 6593065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe51beac3e1baad85b28b95f4723ee6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Liu - MSFT", "link": "https://stackoverflow.com/users/6593065/sara-liu-msft"}, "edited": false, "score": 0, "creation_date": 1484210744, "post_id": 41600564, "comment_id": 70418805, "body": "@Sara-MSFT i have both 3.4 and 2.7 (but I use 2.7), as far as I know Visual Studio interprets for 2.7."}, {"owner": {"reputation": 5294, "user_id": 6593065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe51beac3e1baad85b28b95f4723ee6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Liu - MSFT", "link": "https://stackoverflow.com/users/6593065/sara-liu-msft"}, "edited": false, "score": 0, "creation_date": 1484551531, "post_id": 41600564, "comment_id": 70540147, "body": "@Ch3shire, does your issue is solved or not?"}, {"owner": {"reputation": 898, "user_id": 7154311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9aJ8P.png?s=128&g=1", "display_name": "Ch3shire", "link": "https://stackoverflow.com/users/7154311/ch3shire"}, "edited": false, "score": 0, "creation_date": 1484576348, "post_id": 41600564, "comment_id": 70554030, "body": "Not quite, I don&#39;t have working solution. For now I just write in Visual Studio Code where I have less intrusive autocompletion. I&#39;ll try to apply your solution later, for now I&#39;ll mark your answer as accepted."}], "answers": [{"comments": [{"owner": {"reputation": 898, "user_id": 7154311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9aJ8P.png?s=128&g=1", "display_name": "Ch3shire", "link": "https://stackoverflow.com/users/7154311/ch3shire"}, "edited": false, "score": 0, "creation_date": 1484295849, "post_id": 41628323, "comment_id": 70460349, "body": "It&#39;s weird but I can&#39;t get same result. Thanks for help though :)"}, {"owner": {"reputation": 5294, "user_id": 6593065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe51beac3e1baad85b28b95f4723ee6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Liu - MSFT", "link": "https://stackoverflow.com/users/6593065/sara-liu-msft"}, "reply_to_user": {"reputation": 898, "user_id": 7154311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9aJ8P.png?s=128&g=1", "display_name": "Ch3shire", "link": "https://stackoverflow.com/users/7154311/ch3shire"}, "edited": false, "score": 0, "creation_date": 1484298058, "post_id": 41628323, "comment_id": 70461467, "body": "@Ch3shire, you already used the python 3.5 as the default environment? If not, you can have a try with install and configure it."}], "tags": [], "owner": {"reputation": 5294, "user_id": 6593065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe51beac3e1baad85b28b95f4723ee6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sara Liu - MSFT", "link": "https://stackoverflow.com/users/6593065/sara-liu-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1484287480, "last_edit_date": 1495542324, "creation_date": 1484287480, "answer_id": 41628323, "question_id": 41600564, "link": "https://stackoverflow.com/questions/41600564/python-incorrect-intellisense-autocompletion-for-numpy/41628323#41628323", "title": "Python: Incorrect Intellisense autocompletion for numpy", "body": "<p>You need to install the <a href=\"https://www.python.org/downloads/release/python-350/\" rel=\"nofollow noreferrer\">python 3.5</a> and download the corresponding wheel for <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy\" rel=\"nofollow noreferrer\">numpy</a>. Then using the command: pip install xxxx(numpy wheel version that you download) to install it. For more the detail information about the installation staff, you can have a look at <a href=\"https://stackoverflow.com/questions/28413824/installing-numpy-on-windows\">this</a>.</p>\n\n<p>Then open or create a python application project in VS and set the python 3.5 as the default environment, then I can found the intellisense for numpy.zeros also works fine in .py file like the following screenshot: (python 3.5)\n<a href=\"https://i.stack.imgur.com/HTZNk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HTZNk.png\" alt=\"enter image description here\"></a></p>\n\n<p>If set the python 2.7 as the default environment, the intellisense just like your description as below:\n<a href=\"https://i.stack.imgur.com/S42s2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S42s2.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 898, "user_id": 7154311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9aJ8P.png?s=128&g=1", "display_name": "Ch3shire", "link": "https://stackoverflow.com/users/7154311/ch3shire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 0, "accepted_answer_id": 41628323, "answer_count": 1, "score": 1, "last_activity_date": 1484287480, "creation_date": 1484168278, "last_edit_date": 1484212926, "question_id": 41600564, "link": "https://stackoverflow.com/questions/41600564/python-incorrect-intellisense-autocompletion-for-numpy", "title": "Python: Incorrect Intellisense autocompletion for numpy", "body": "<p>One thing I can't get over - when I use numpy in Visual Studio and I want to declare an array of zeroes, I write:</p>\n\n<p><code>x = numpy.zeros(n)</code></p>\n\n<p>and it is correct for the interpreter. BUT THE AUTOCOMPLETION GIVES ME:</p>\n\n<p><code>X = numpy.zeros_like ...</code></p>\n\n<p>How can I change it to get actually helpful autocompletion? In C++ I get everything allright, so I guess it's an internal problem in Python case.</p>\n\n<p>Edit: As I see the problem is that numpy.zeros is defined in numeric.py as:\n<code>zeros = multiarray.zeros</code>. Apparently this is not enough for IntelliSense (or VisualAssist for this matter), which requires <code>def function</code> to actually see the structure.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 6, "last_activity_date": 1484168627, "creation_date": 1484168627, "answer_id": 41600646, "question_id": 41600536, "link": "https://stackoverflow.com/questions/41600536/getting-values-in-a-pandas-df-below-the-diagonal/41600646#41600646", "title": "Getting values in a pandas df below the diagonal", "body": "<p>You could use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.tril_indices.html\" rel=\"noreferrer\"><code>np.tril_indices</code></a> to obtain the indices of the lower-triangular elements. Then use NumPy indexing (e.g. <code>values[np.tril_indices(...)]</code>) to obtain those values in an array:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame({'Word': ['toxin', 'sloppy', 'grief'],\n 'grief': [-0.059999999999999998, 0.089999999999999997, 1.0],\n 'sloppy': [-0.029999999999999999, 1.0, 0.089999999999999997],\n 'toxin': [1.0, -0.029999999999999999, -0.059999999999999998]})\n\n\nvalues = df[df['Word']].values\nlower_triangular = values[np.tril_indices(values.shape[0], -1)]\nprint(pd.DataFrame({'Column': lower_triangular})\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>   Column\n0   -0.03\n1   -0.06\n2    0.09\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1484172441, "last_edit_date": 1484172441, "creation_date": 1484172090, "answer_id": 41601489, "question_id": 41600536, "link": "https://stackoverflow.com/questions/41600536/getting-values-in-a-pandas-df-below-the-diagonal/41601489#41601489", "title": "Getting values in a pandas df below the diagonal", "body": "<p><strong><em><code>numpy.tril_indices</code></em></strong><br>\nsimilar to @unutbu's answer but preserving the indices with a multi-index</p>\n\n<pre><code>v = df.values\ni, j = np.tril_indices_from(v, -1)\npd.Series(v[i, j], [df.index[i], df.columns[j]])\n\nWord          \nsloppy  toxin    -0.03\ngrief   toxin    -0.06\n        sloppy    0.09\ndtype: float64\n</code></pre>\n\n<p><strong><em><code>numpy</code> broadcasting + <code>pandas</code> <code>mask</code> + <code>stack</code></em></strong>  </p>\n\n<pre><code>rng = np.arange(len(df))\ndf.mask(rng[:, None] &lt;= rng).stack()\n\nWord          \nsloppy  toxin    -0.03\ngrief   toxin    -0.06\n        sloppy    0.09\ndtype: float64\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 5826447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/28620e7cb9ee3dd0c7aca007e1815250?s=128&d=identicon&r=PG&f=1", "display_name": "user5826447", "link": "https://stackoverflow.com/users/5826447/user5826447"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1484172441, "creation_date": 1484168183, "last_edit_date": 1484169081, "question_id": 41600536, "link": "https://stackoverflow.com/questions/41600536/getting-values-in-a-pandas-df-below-the-diagonal", "title": "Getting values in a pandas df below the diagonal", "body": "<p>I have a matrix dataframe and I would like to get just the values on the second half on the diagonal (so everything under the 1 in the example below). I would like the result to be a new dataframe with one column with all of these values listed, but I'm not sure exactly how to go about this. </p>\n\n<p>Shortened version of my df:</p>\n\n<pre><code>Word    toxin    sloppy  grief\ntoxin   1       -0.03    -0.06\nsloppy  -0.03    1       0.09\ngrief   -0.06    0.09    1\n</code></pre>\n\n<p>Ideal df:</p>\n\n<pre><code>Column\n-0.03\n-0.06\n0.09\n</code></pre>\n\n<p>Any help is very much appreciated!</p>\n"}, {"tags": ["python", "class", "scipy"], "comments": [{"owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 0, "creation_date": 1484172644, "post_id": 41600531, "comment_id": 70405987, "body": "I don&#39;t think <code>exponweib</code> itself is a <code>class</code>. Run <code>import inspect; print(inspect.isclass(exponweib))</code> to verify for yourself. The class is <code>rv_continuous</code> or <code>exponweib_gen</code> and <code>rv_continuous</code> is imported as <code>from scipy.stats import rv_continuous</code>. I think that&#39;s what you need to inherit from to be able to make the modifications. Try it and report if it&#39;s working."}, {"owner": {"reputation": 1391, "user_id": 2450629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EP5Ah.jpg?s=128&g=1", "display_name": "Haochen Wu", "link": "https://stackoverflow.com/users/2450629/haochen-wu"}, "edited": false, "score": 0, "creation_date": 1484172715, "post_id": 41600531, "comment_id": 70406037, "body": "<code>exponweib</code> you imported is an object. <code>exponweib_gen</code> is probably the class you are looking for."}], "answers": [{"comments": [{"owner": {"reputation": 1391, "user_id": 2450629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EP5Ah.jpg?s=128&g=1", "display_name": "Haochen Wu", "link": "https://stackoverflow.com/users/2450629/haochen-wu"}, "edited": false, "score": 0, "creation_date": 1484177285, "post_id": 41601955, "comment_id": 70407760, "body": "Just curious, why is the original <code>class weibull(exponweib):</code> is legal? I think callable is not the only requirement."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 1391, "user_id": 2450629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EP5Ah.jpg?s=128&g=1", "display_name": "Haochen Wu", "link": "https://stackoverflow.com/users/2450629/haochen-wu"}, "edited": false, "score": 1, "creation_date": 1484185615, "post_id": 41601955, "comment_id": 70410007, "body": "@HaochenWu: <code>class Foo(Bar)</code>, <a href=\"https://mail.python.org/pipermail/python-dev/2005-November/057906.html\" rel=\"nofollow noreferrer\">causes Python to call <code>type(Bar)(&#39;Foo&#39;, (Bar,), clsdct)</code></a> to create the class <code>Foo</code>. If you (erroneously) <i>try</i> to define a class with <code>class weibull(exponweib)</code>, Python calls <code>type(exponweib)(&#39;weibull&#39;, (exponweib,), clsdict)</code>, which returns an instance of <code>exponweib_gen</code>. It is &quot;legal&quot; Python --  it assigns <code>&#39;weibull&#39;</code> to <code>momtype</code> and <code>&#39;(exponweib,)&#39;</code> to <code>a</code> and <code>clsdict</code> to <code>b</code>. <i>At this stage</i> no error occurs, but it is not returning a sensible class (nor a sensible distribution)."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 2, "last_activity_date": 1484174043, "last_edit_date": 1495541239, "creation_date": 1484174043, "answer_id": 41601955, "question_id": 41600531, "link": "https://stackoverflow.com/questions/41600531/subclass-of-scipy-stats-exponweib-not-calling-init-or-other-functions/41601955#41601955", "title": "Subclass of Scipy.Stats.exponweib not calling __init__ or other functions", "body": "<p>Per NumPy/SciPy developer <a href=\"https://stackoverflow.com/a/17976359/190597\">Robert Kern's answer</a>, subclass <code>rv_frozen</code>, not <code>exponweib</code>.</p>\n\n<p>Notice that <code>exponweib</code> is an <a href=\"https://github.com/scipy/scipy/blob/master/scipy/stats/_continuous_distns.py#L1241\" rel=\"nofollow noreferrer\"><em>instance</em> of the class <code>exponweib_gen</code></a>. </p>\n\n<pre><code>In [110]: stats.exponweib\nOut[110]: &lt;scipy.stats._continuous_distns.exponweib_gen at 0x7fd799db2588&gt;\n</code></pre>\n\n<p><code>exponweib</code> <a href=\"https://github.com/scipy/scipy/blob/master/scipy/stats/_distn_infrastructure.py#L771\" rel=\"nofollow noreferrer\">is itself a callable</a> which returns an instance of <code>rv_frozen</code>.</p>\n\n<pre><code>In [107]: exponweib(a=1, c=2.6)\nOut[107]: &lt;scipy.stats._distn_infrastructure.rv_frozen at 0x7fd7997282b0&gt;\n</code></pre>\n\n<p>So following this pattern, by analogy, <code>w = weibull(2.6, 2600)</code> will be an instance of <code>rv_frozen</code>. If you want <code>w</code> to have additional methods, then you'll need to subclass <code>rv_frozen</code>, not <code>exponweib</code>, nor <code>exponweib_gen</code>, nor <code>rv_continuous</code>.</p>\n\n<hr>\n\n<pre><code>import scipy.stats as stats\n\nclass my_frozen(stats._distn_infrastructure.rv_frozen):\n\n    def __init__(self, dist, *args, **kwds):\n        super(my_frozen,self).__init__(dist, *args, **kwds)\n        print(kwds)\n\n    def doSomething(self,s):\n        print(s)\n\ndef weibull(beta, nu):\n    dist = stats.exponweib # an instance of stats._continuous_distns.exponweib_gen\n    dist.name = 'weibull'\n    return my_frozen(dist, a=1, c=beta, loc=0, scale=nu)\n\nw = weibull(2.6, 2600)\nprint('%0.10f'%w.pdf(1000))\nw.doSomething('Something')\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>{'loc': 0, 'scale': 2600, 'c': 2.6, 'a': 1}\n0.0001994484\nSomething\n</code></pre>\n"}], "owner": {"reputation": 941, "user_id": 1403791, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2d6bcb66172d30b48c79d270851a1aa4?s=128&d=identicon&r=PG", "display_name": "David Folkner", "link": "https://stackoverflow.com/users/1403791/david-folkner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 41601955, "answer_count": 1, "score": 1, "last_activity_date": 1484174043, "creation_date": 1484168167, "question_id": 41600531, "link": "https://stackoverflow.com/questions/41600531/subclass-of-scipy-stats-exponweib-not-calling-init-or-other-functions", "title": "Subclass of Scipy.Stats.exponweib not calling __init__ or other functions", "body": "<p>I am attempting to make a subclass to simplify the inputs to the <code>scipy.stats.exponweib</code> package as well as add some extra functions.  Simplifed the class is in its own files call <code>weibull.py</code></p>\n\n<pre><code>from scipy.stats import exponweib\n# import scipy\n\nclass weibull(exponweib):\n\n    def __init__(self,beta,nu):\n        super(weibull,self).__init__(a=1,c=beta,loc=0,scale=nu)\n        print beta\n        print nu\n\n    def doSomething(self,s):\n        print(s)\n</code></pre>\n\n<p>My test script looks something like:</p>\n\n<pre><code>from weibull import weibull\n\nw = weibull(2.6,2600)\nprint('%0.10f'%w.pdf(1000))\nw.doSomething('Something')\n</code></pre>\n\n<p>It seems as though my <code>__init__</code> is not running at all, none of the print statements run and an error is thrown on the <code>doSomething</code> routine.</p>\n\n<p>The output in the terminal looks like:</p>\n\n<pre><code>Codes&gt; python weibull_testHarness.py\n0.0000000000\nTraceback (most recent call last):\n  File \"weibull_testHarness.py\", line 5, in &lt;module&gt;\n    w.doSomething('Something')\nAttributeError: 'rv_frozen' object has no attribute 'doSomething'\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1484168109, "post_id": 41600498, "comment_id": 70403784, "body": "use <code>|</code> not <code>or</code>: <code>df_subset = df[(df[&#39;a&#39;] == A) &amp; ((df[&#39;b&#39;]== B) | (df[&#39;b&#39;].isnull()))]</code>, you need to use the operators <code>&amp;</code>, <code>|</code>, <code>~</code> for <code>and</code>, <code>or</code> and <code>not</code> respectively"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 2992991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9VAG1.jpg?s=128&g=1", "display_name": "Hkk", "link": "https://stackoverflow.com/users/2992991/hkk"}, "edited": false, "score": 0, "creation_date": 1484169433, "post_id": 41600521, "comment_id": 70404466, "body": "Thank you, this solved my issue"}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 2, "last_activity_date": 1484168107, "creation_date": 1484168107, "answer_id": 41600521, "question_id": 41600498, "link": "https://stackoverflow.com/questions/41600498/pandas-selecting-columns-meeting-criteria-a-or-b/41600521#41600521", "title": "Pandas selecting columns meeting criteria A or B", "body": "<p>You need to use <code>|</code> for <code>or</code>, just like you used <code>&amp;</code> for <code>and</code>.</p>\n\n<p>This also means you need to be sure to parenthesize the two conditions, but you're already doing that.</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 2992991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9VAG1.jpg?s=128&g=1", "display_name": "Hkk", "link": "https://stackoverflow.com/users/2992991/hkk"}, "edited": false, "score": 0, "creation_date": 1484169415, "post_id": 41600529, "comment_id": 70404458, "body": "thanks you! method 3 was what I wanted to do."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 101, "user_id": 2992991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9VAG1.jpg?s=128&g=1", "display_name": "Hkk", "link": "https://stackoverflow.com/users/2992991/hkk"}, "edited": false, "score": 0, "creation_date": 1484169545, "post_id": 41600529, "comment_id": 70404535, "body": "@Sinanju glad I could help.  <b><i>method 2</i></b> is identical to <b><i>method 3</i></b>.  It just reflects my stylistic preference.  <b><i>method 1</i></b> is different, but I like to provide perspective."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 0, "last_activity_date": 1484169150, "last_edit_date": 1484169150, "creation_date": 1484168162, "answer_id": 41600529, "question_id": 41600498, "link": "https://stackoverflow.com/questions/41600498/pandas-selecting-columns-meeting-criteria-a-or-b/41600529#41600529", "title": "Pandas selecting columns meeting criteria A or B", "body": "<p>Consider the dataframe <code>df</code></p>\n\n<pre><code>np.random.seed([3,1415])\ndf = pd.DataFrame(\n    np.random.choice(list('ABC'), size=(20, 3)),\n    columns=list('abc'))\ndf = df.mask(np.random.choice((True, False), size=(20, 3), p=(.1, .9)))\n\ndf\n\n      a    b    c\n0     A    C    C\n1     C    C    B\n2     B    C    A\n3     C    A    C\n4     A    A    C\n5     A    C  NaN\n6   NaN    B    A\n7   NaN    B    C\n8     A    A    A\n9     A    B    C\n10    B    A    B\n11    B  NaN    A\n12    A    C    A\n13    C    C    C\n14  NaN    C    C\n15    B    C    A\n16    C    B    A\n17    A  NaN    B\n18    C  NaN    A\n19    A    C    B\n</code></pre>\n\n<p><strong><em>method 1</em></strong><br>\n<a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html\" rel=\"nofollow noreferrer\"><code>pd.DataFrame.query</code></a>  </p>\n\n<pre><code>df.query('a == \"A\" &amp; (b == \"B\" | b != b)')\n</code></pre>\n\n<p><strong><em>method 2</em></strong><br>\nuse series boolean operators  </p>\n\n<pre><code>df[df.a.eq('A') &amp; (df.b.eq('B') | df.b.isnull())]\n</code></pre>\n\n<p><strong><em>method 3</em></strong><br>\ncorrecting what you had</p>\n\n<pre><code>df[(df['a'] == 'A') &amp; ((df['b'] == 'B') | df['b'].isnull())]\n#                                       ^          \n#                                       |\n\n    a    b  c\n9   A    B  C\n17  A  NaN  B\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2992991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9VAG1.jpg?s=128&g=1", "display_name": "Hkk", "link": "https://stackoverflow.com/users/2992991/hkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "closed_date": 1484169352, "accepted_answer_id": 41600529, "answer_count": 2, "score": 0, "last_activity_date": 1484169150, "creation_date": 1484168017, "question_id": 41600498, "link": "https://stackoverflow.com/questions/41600498/pandas-selecting-columns-meeting-criteria-a-or-b", "closed_reason": "Duplicate", "title": "Pandas selecting columns meeting criteria A or B", "body": "<p>I tried to search an answer to this bus couldnt find any.</p>\n\n<p>I'm trying to select a subset of my dataframe that meet criteria 'A and (B or C)' so far I couldn't get it to work. </p>\n\n<p>the code i'm trying:</p>\n\n<pre><code>df_subset = df[(df['a'] == A) &amp; ((df['b']== B) or (df['b'].isnull()))]\n</code></pre>\n\n<p>this line is giving me the following error message</p>\n\n<pre><code>ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().enter code here\n</code></pre>\n\n<p>is there anyway to make this to work? i know i can subset ('a'=A and 'b'=B) and ('a'=A and 'b'.isnull()) and merge the 2 subsets. but doing it in one line would be better. </p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "web2py", "multi-tenant"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1484168086, "post_id": 41600429, "comment_id": 70403776, "body": "Which web2py mechanism have you tried, and in what way did it fail?"}, {"owner": {"reputation": 58, "user_id": 2070364, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7f7f03f9dd5d0bc8faeaab3e8e37c4b0?s=128&d=identicon&r=PG", "display_name": "user2070364", "link": "https://stackoverflow.com/users/2070364/user2070364"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1484189947, "post_id": 41600429, "comment_id": 70411137, "body": "I tried using routes in and routes out in the routes.py file."}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1484190212, "post_id": 41600429, "comment_id": 70411196, "body": "Maybe if you showed what you tried, someone could help you fix it."}, {"owner": {"reputation": 58, "user_id": 2070364, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7f7f03f9dd5d0bc8faeaab3e8e37c4b0?s=128&d=identicon&r=PG", "display_name": "user2070364", "link": "https://stackoverflow.com/users/2070364/user2070364"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1484234252, "post_id": 41600429, "comment_id": 70434708, "body": "Added further explanation above"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1484234557, "post_id": 41600429, "comment_id": 70434949, "body": "You seem to be trying to use <i>both</i> the parameter-based system and the pattern based one simultaneously, with illegal Python code to boot."}, {"owner": {"reputation": 58, "user_id": 2070364, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7f7f03f9dd5d0bc8faeaab3e8e37c4b0?s=128&d=identicon&r=PG", "display_name": "user2070364", "link": "https://stackoverflow.com/users/2070364/user2070364"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1484234888, "post_id": 41600429, "comment_id": 70435192, "body": "Ok. Do you say that because of the `routers = dict( BASE = dict( default_application=&#39;myapp&#39;, )&#39; line? Also please explain illegal python code."}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1484240410, "post_id": 41600429, "comment_id": 70439210, "body": "Have you tried to evaluate this .py file?"}], "answers": [{"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 1, "last_activity_date": 1484168053, "creation_date": 1484168053, "answer_id": 41600507, "question_id": 41600429, "link": "https://stackoverflow.com/questions/41600429/how-to-set-up-web2py-for-multi-tenant-app-with-the-tenant-name-coming-after-the/41600507#41600507", "title": "How to set up web2py for multi-tenant app with the tenant name coming after the domain name and not as a subdomain?", "body": "<p>I assume that you want to use a single app across all tenants, and the problem is that web2py uses what you want to be the usergroupname to identify the app.</p>\n\n<p>The solution is to use web2py's URL rewriting facilities: <a href=\"http://www.web2py.com/book/default/chapter/04#URL-rewrite\" rel=\"nofollow noreferrer\">http://www.web2py.com/book/default/chapter/04#URL-rewrite</a></p>\n"}], "owner": {"reputation": 58, "user_id": 2070364, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7f7f03f9dd5d0bc8faeaab3e8e37c4b0?s=128&d=identicon&r=PG", "display_name": "user2070364", "link": "https://stackoverflow.com/users/2070364/user2070364"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484234130, "creation_date": 1484167729, "last_edit_date": 1484234130, "question_id": 41600429, "link": "https://stackoverflow.com/questions/41600429/how-to-set-up-web2py-for-multi-tenant-app-with-the-tenant-name-coming-after-the", "title": "How to set up web2py for multi-tenant app with the tenant name coming after the domain name and not as a subdomain?", "body": "<p>For example:\n - <a href=\"https://domain.com/usergroupname/controller_name/function_name\" rel=\"nofollow noreferrer\">https://domain.com/usergroupname/controller_name/function_name</a> \nwhere usergroupname signifies the tenant name.</p>\n\n<p>I've been trying to get it right for weeks but havent been able to get anything to work.</p>\n\n<p>Edit:\nTo explain further, I have gotten multitenancy to work in subdomain format through the common field option in the model, but due to constraints (SSL certificates for each new tenant), I don't think its practical to have it set up that way. </p>\n\n<p>So here's the content of routes.py that I've setup to try and get it to work.</p>\n\n<p>`routers = dict(\n     BASE = dict(\n         default_application='myapp',\n     )\nroutes_in = (\n                ('/$domain','/myapp/workspaces/index/$domain'),\n                ('/$domain/$c','/myapp/$c/index/$domain'),\n                ('/$domain/$c/$f','/myapp/$c/$f/$domain'),\n                ('/$domain/$c/$f/$anything','/devassist/$c/$f/$domain/$anything')\n)</p>\n\n<p>routes_out = [(a,b) for (b,a) in routes_in]`</p>\n\n<p>Not sure what I'm missing though.</p>\n"}, {"tags": ["python", "arrays", "optimization", "scipy", "least-squares"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1484167828, "post_id": 41600370, "comment_id": 70403663, "body": "It looks your Y data is multidimensional.  <code>curve_fit</code> requires the output array to be one-dimensional.  You might take a look at <a href=\"http://stackoverflow.com/questions/40829791/fitting-a-vector-function-with-curve-fit-in-scipy\">this question</a> or <a href=\"http://stackoverflow.com/questions/21566379/fitting-a-2d-gaussian-function-using-scipy-optimize-curve-fit-valueerror-and-m\">this one</a>."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1484168214, "post_id": 41600370, "comment_id": 70403827, "body": "Show us what <code>func</code> produces for typical inputs."}, {"owner": {"reputation": 71, "user_id": 7406611, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97ef3ea9a0ed8c318e3e0f7e7f39ab8d?s=128&d=identicon&r=PG&f=1", "display_name": "nik.yan", "link": "https://stackoverflow.com/users/7406611/nik-yan"}, "edited": false, "score": 0, "creation_date": 1484484281, "post_id": 41600370, "comment_id": 70520796, "body": "func produces an array of arrays with 3 entries [x][3] out of the data array of arrays with 9 entries [x][9]  Running func over complete xdata returns calculated ydata for every array entry of xdata , but i need to estimate the parameters (m1,m2,g), which are not given. curve_fit and lstsq throw the same error (see above)"}], "answers": [{"tags": [], "owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "is_accepted": false, "score": 0, "last_activity_date": 1484222704, "creation_date": 1484222704, "answer_id": 41612806, "question_id": 41600370, "link": "https://stackoverflow.com/questions/41600370/least-linear-squares-scipy-optimize-curve-fit-throws-result-from-function-ca/41612806#41612806", "title": "Least Linear Squares: scipy.optimize.curve_fit() throws &quot;Result from function call is not a proper array of floats.&quot;", "body": "<p><code>curve_fit</code> solves a <em>nonlinear</em> least squares problem. For <em>linear</em> least squares, better use <a href=\"https://docs.scipy.org/doc/scipy-0.18.1/reference/generated/scipy.optimize.lsq_linear.html\" rel=\"nofollow noreferrer\">lsq_linear</a> or <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.lstsq.html\" rel=\"nofollow noreferrer\">numpy.lstsq</a></p>\n"}], "owner": {"reputation": 71, "user_id": 7406611, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97ef3ea9a0ed8c318e3e0f7e7f39ab8d?s=128&d=identicon&r=PG&f=1", "display_name": "nik.yan", "link": "https://stackoverflow.com/users/7406611/nik-yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484222704, "creation_date": 1484167473, "last_edit_date": 1484174588, "question_id": 41600370, "link": "https://stackoverflow.com/questions/41600370/least-linear-squares-scipy-optimize-curve-fit-throws-result-from-function-ca", "title": "Least Linear Squares: scipy.optimize.curve_fit() throws &quot;Result from function call is not a proper array of floats.&quot;", "body": "<p>i am trying to implement an python code right now, which computes the least squared error for a matrix equation</p>\n\n<p>First, I have some 2 dimensional Data XDATA (Array of Array of Floats), Shape 100,9\nSecond, I have some 2 dimesional YDATA, Shape 100,3\nMy function creates an array of 3 entries out of an array of 9 entries and 3 unknow parameters.\nSo im trying to estimate these parameters via linear least squares:</p>\n\n<pre><code>#linear regression\n#Messured Data\nxdata = np.array(data[0:9])\nxdata = xdata.astype(np.float)\nxdata = np.transpose(xdata)\n#True y\nydata = np.array(data[9:12])\nydata = ydata.astype(np.float)\nydata = np.transpose(ydata)\n\n#Timestamps\nsize = np.size(xdata)/np.size(xdata[0])\n\ndef func(xdata,m1,m2,g):\n    y_est = []\n    for x in xdata:\n        u_est = []\n        u_est.append((m1+m2)*(x[6]+g))\n        u_est.append(m2*(2*x[5]*x[4]*x[2]+(x[2]**2)*x[7]))\n        u_est.append(m2*(x[8]-x[2]*(x[4]**2)))\n        y_est.append(u_est)\n    y_est = np.array(y_est)\n    return y_est\n\nprint (curve_fit(func,xdata,ydata))\n</code></pre>\n\n<p>But it throws an error i am not (yet) able to fix:\n<a href=\"https://i.stack.imgur.com/NHD7O.png\" rel=\"nofollow noreferrer\">Error</a></p>\n"}, {"tags": ["python", "machine-learning", "scipy", "scikit-learn", "sparse-matrix"], "answers": [{"comments": [{"owner": {"reputation": 3143, "user_id": 341320, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/TCUZQ.jpg?s=128&g=1", "display_name": "juanmirocks", "link": "https://stackoverflow.com/users/341320/juanmirocks"}, "edited": false, "score": 0, "creation_date": 1484212290, "post_id": 41601532, "comment_id": 70419742, "body": "This is good thinking! Just what I needed, thank you! -- On a similar note, I guess with <i>sparse</i> matrices I cannot first reduce to a minimum range as with <code>MinMaxScaler</code>, that is, if feature-column only ranges between 40 and 80, change the minimum to 0 and 40, and then, apply <code>log1p</code> as in your answer. -- I would only need to do this for few columns, maybe is it efficient to operate non-sparasely on those columns only then swap?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "reply_to_user": {"reputation": 3143, "user_id": 341320, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/TCUZQ.jpg?s=128&g=1", "display_name": "juanmirocks", "link": "https://stackoverflow.com/users/341320/juanmirocks"}, "edited": false, "score": 0, "creation_date": 1484240167, "post_id": 41601532, "comment_id": 70439045, "body": "It&#39;s a strange situation if you have a sparse matrix but some columns have all  values range from 40 to 80. I haven&#39;t had to deal with such a situation myself; you may want to post a separate question, as it&#39;s different from the above one."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "is_accepted": true, "score": 3, "last_activity_date": 1484172281, "creation_date": 1484172281, "answer_id": 41601532, "question_id": 41600349, "link": "https://stackoverflow.com/questions/41600349/scale-apply-function-sparse-matrix-logarithmically/41601532#41601532", "title": "Scale (apply function?) sparse matrix logarithmically", "body": "<p>Logarithm of x in base b is the same as log(x)/log(b), where logs are natural. So, the process you describe amounts to first applying log(x+1) transformation to everything, and then scaling by max absolute value. Conveniently, log(x+1) is a built-in function, <code>log1p</code>. Example:</p>\n\n<pre><code>from sklearn.preprocessing import FunctionTransformer, maxabs_scale\nfrom scipy.sparse import csc_matrix\nimport numpy as np\nlogtran = FunctionTransformer(np.log1p, accept_sparse=True)\nX = csc_matrix([[ 1., 0, 8], [ 2., 0,  0], [ 0,  1., 2]])\nY = maxabs_scale(logtran.transform(X))\n</code></pre>\n\n<p>Output (sparse matrix Y):</p>\n\n<pre><code>  (0, 0)        0.630929753571\n  (1, 0)        1.0\n  (2, 1)        1.0\n  (0, 2)        1.0\n  (2, 2)        0.5\n</code></pre>\n"}], "owner": {"reputation": 3143, "user_id": 341320, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/TCUZQ.jpg?s=128&g=1", "display_name": "juanmirocks", "link": "https://stackoverflow.com/users/341320/juanmirocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 2, "accepted_answer_id": 41601532, "answer_count": 1, "score": 2, "last_activity_date": 1484172281, "creation_date": 1484167402, "question_id": 41600349, "link": "https://stackoverflow.com/questions/41600349/scale-apply-function-sparse-matrix-logarithmically", "title": "Scale (apply function?) sparse matrix logarithmically", "body": "<p>I am using <a href=\"http://scikit-learn.org/stable/modules/preprocessing.html#preprocessing\" rel=\"nofollow noreferrer\">scikit-learn preprocessing scaling</a> for <strong>sparse</strong> matrices.</p>\n\n<p>My goal is to \"scale\" each feature-column by taking the logarithm-base the column maximum value. My wording may be inexact. I try to explain.</p>\n\n<p>Say feature-column has values: <code>0, 8, 2</code>:</p>\n\n<ul>\n<li>Max value = 8</li>\n<li>Log-8 of feature value 0 should be 0.0 = <code>math.log(0+1, 8+1)</code> (the +1 is to cope with zeros; so yes, we are actually taking log-base 9)</li>\n<li>Log-8 of feature value 8 should be 1.0 = <code>math.log(8+1, 8+1)</code></li>\n<li>Log-8 of feature value 2 should be 0.5 = <code>math.log(2+1, 8+1)</code></li>\n</ul>\n\n<p>Yes, I can easily apply any arbitrary function-based transformer with <a href=\"http://scikit-learn.org/stable/modules/preprocessing.html#custom-transformers\" rel=\"nofollow noreferrer\">FunctionTransformer</a>, but I want the base of the log change (based on) each column (in particular, the maximum value). That is, I want to do something like the <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MaxAbsScaler.html#sklearn.preprocessing.MaxAbsScaler\" rel=\"nofollow noreferrer\">MaxAbsScaler</a>, only taking logarithms.</p>\n\n<p>I see that <code>MaxAbsScaler</code> gets first a vector (<code>scale</code>) of the maximum values of each column (<a href=\"https://github.com/scikit-learn/scikit-learn/blob/14031f6/sklearn/preprocessing/data.py#L788\" rel=\"nofollow noreferrer\">code</a>) and then multiples the original matrix times <code>1 / scale</code> in <a href=\"https://github.com/scikit-learn/scikit-learn/blob/14031f65d144e3966113d3daec836e443c6d7a5b/sklearn/utils/sparsefuncs.py#L62\" rel=\"nofollow noreferrer\">code</a>.</p>\n\n<p>However, I don't know what to do if I want to take the logarithms-based on the <code>scale</code> vector. Is it even possible to transform the logarithm operation to a multiplication (?) or do I have other possibilities of scipy sparse operations that are efficient?</p>\n\n<p>I hope my intent is clear (and possible).</p>\n"}, {"tags": ["python", "bubble-sort"], "comments": [{"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1484167501, "post_id": 41600327, "comment_id": 70403489, "body": "&quot;I know that it&#39;s possible with a for loop, but I don&#39;t really understand them and I&#39;d like to write something that I understand.&quot;  If you are <i>learning</i> to program, that is a <i>terrible</i> mindset. If you don&#39;t understand them now, put in some work so you understand them."}, {"owner": {"reputation": 2153, "user_id": 3687725, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1We1W.jpg?s=128&g=1", "display_name": "Preston Martin", "link": "https://stackoverflow.com/users/3687725/preston-martin"}, "edited": false, "score": 0, "creation_date": 1484167564, "post_id": 41600327, "comment_id": 70403512, "body": "What is the exact error? At what line is the index out of range?"}, {"owner": {"reputation": 15, "user_id": 6866544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae3842cb02c182fbb210a78ff2920a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6866544/tom"}, "edited": false, "score": 0, "creation_date": 1484167802, "post_id": 41600327, "comment_id": 70403647, "body": "I&#39;m learning the for loop, but if I could use a while loop on this which I understand I would much prefer it."}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1484167822, "post_id": 41600327, "comment_id": 70403660, "body": "Your identation is still wrong btw."}, {"owner": {"reputation": 15, "user_id": 6866544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae3842cb02c182fbb210a78ff2920a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6866544/tom"}, "edited": false, "score": 0, "creation_date": 1484167824, "post_id": 41600327, "comment_id": 70403662, "body": "The error is on line 15"}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1484169363, "post_id": 41600327, "comment_id": 70404426, "body": "Okay, now two more things. Remove one level of indentation from the <code>start = start + 1</code>, and also remove the <code>else:</code> and put the <code>maxlist = maxlist - 1</code> into the same indentation as the <code>while</code>.  The <code>start</code> variable needs to be incremented after each comparison, not only if the comparison is positive.  The <code>maxlist</code> variable needs to be decremented after each run of the innermost while loop"}, {"owner": {"reputation": 15, "user_id": 6866544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae3842cb02c182fbb210a78ff2920a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6866544/tom"}, "edited": false, "score": 0, "creation_date": 1484170124, "post_id": 41600327, "comment_id": 70404854, "body": "Sorry, I was wrong. It still doesn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 7089349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bp6nT.jpg?s=128&g=1", "display_name": "FlipTack", "link": "https://stackoverflow.com/users/7089349/fliptack"}, "edited": false, "score": 1, "creation_date": 1484168111, "post_id": 41600430, "comment_id": 70403787, "body": "<code>numbers[start], numbers[start+1] = numbers[start+1], numbers[start]</code> is much more pythonic"}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "reply_to_user": {"reputation": 383, "user_id": 7089349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bp6nT.jpg?s=128&g=1", "display_name": "FlipTack", "link": "https://stackoverflow.com/users/7089349/fliptack"}, "edited": false, "score": 0, "creation_date": 1484168192, "post_id": 41600430, "comment_id": 70403817, "body": "That&#39;s what I was hinting at with &quot;more efficient way&quot; but let&#39;s not confuse beginners with tuple assignments ;)"}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1484168537, "post_id": 41600430, "comment_id": 70403969, "body": "It&#39;s because if <code>start</code> has run up all the way to <code>maxlist - 1</code> (the last step before the loop isn&#39;t run any more), then <code>numbers[start + 1]</code> will be <code>numbers[maxlist]</code> which is out of range. So really your condition in the loop should be for <code>maxlist - 1</code> instead of <code>maxlist</code>."}, {"owner": {"reputation": 15, "user_id": 6866544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae3842cb02c182fbb210a78ff2920a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6866544/tom"}, "edited": false, "score": 0, "creation_date": 1484168552, "post_id": 41600430, "comment_id": 70403980, "body": "Sorry, but what is the difference between &quot;bubbling up&quot; and &quot;bubbling down&quot;. If it runs for the same amount of time is there no difference? Also, is it wrong to have the largest element at the end."}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1484168597, "post_id": 41600430, "comment_id": 70404012, "body": "Next up, before entering the innermost while-loop you&#39;d have to reset <code>start</code> to 0, and in the <code>else</code> part instead of <code>start = start + 1</code> do <code>maxlist = maxlist - 1</code>."}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1484168609, "post_id": 41600430, "comment_id": 70404024, "body": "And, finally, instead of using <code>!=</code>, use <code>&lt;</code>."}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1484168676, "post_id": 41600430, "comment_id": 70404064, "body": "The difference is this: In traditional bubble sort, after the first innermost loop, the largest element is at the end. That is good, and I call that &quot;bubbling up&quot;. You could write a modified algorithm where instead of that, after the first pass the smallest element is at the front."}, {"owner": {"reputation": 15, "user_id": 6866544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae3842cb02c182fbb210a78ff2920a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6866544/tom"}, "edited": false, "score": 0, "creation_date": 1484168864, "post_id": 41600430, "comment_id": 70404168, "body": "I think I&#39;ve entered it all correctly, but i just get them returned in the given order, without any switching place."}, {"owner": {"reputation": 15, "user_id": 6866544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae3842cb02c182fbb210a78ff2920a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6866544/tom"}, "edited": false, "score": 0, "creation_date": 1484169130, "post_id": 41600430, "comment_id": 70404310, "body": "I couldn&#39;t fit it in a comment so have added it to the question"}], "tags": [], "owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "is_accepted": true, "score": 0, "last_activity_date": 1484168120, "last_edit_date": 1484168120, "creation_date": 1484167735, "answer_id": 41600430, "question_id": 41600327, "link": "https://stackoverflow.com/questions/41600327/bubble-sort-using-a-while-loop-in-python/41600430#41600430", "title": "Bubble Sort using a while loop in Python", "body": "<p>For starters:</p>\n\n<pre><code>replacement = numbers[start]\nreplaced = numbers[start+1]\ndel numbers[start]\ndel numbers[start+1]\nnumbers.insert(start, replaced)\nnumbers.insert(start+1, replacement)\n</code></pre>\n\n<p>This looks like a very cumbersome way to swap the two numbers. Try this way:</p>\n\n<pre><code>replacement = numbers[start]\nnumbers[start] = numbers[start + 1]\nnumbers[start + 1] = replacement\n</code></pre>\n\n<p>And no need for <code>del</code> and <code>insert</code>. Understand what these three lines do: I put the value that's at position <code>start</code> into the variable <code>replacement</code>. Then I overwrite the value at position <code>start</code> with the value at position <code>start + 1</code>. Then I overwrite the value at position <code>start + 1</code> with the value in <code>replacement</code>, which is the old value of <code>numbers[start]</code>.</p>\n\n<p>There's an even more efficient way (in python, anyway) to swap numbers, but it could be a bit confusing for starters.</p>\n\n<p>That's not the only problem though. </p>\n\n<p>The way you have implemented BubbleSort is that you \"bubble up\" instead of \"bubble down\". That means that after the very first pass, you now know that the largest element will be at the end of the list.</p>\n\n<p>This means that instead of increasing <code>start</code> by 1 after the first pass, you'd have to reduce the <em>upper</em> end by 1.</p>\n"}, {"comments": [{"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 2, "creation_date": 1484169165, "post_id": 41600532, "comment_id": 70404336, "body": "Well, in your innermost line l[i], l[j] = l[j], l[i], you don&#39;t have a guarantee that j = i + 1, so i, j are not adjacent elements and so you&#39;re not doing classic BubbleSort"}], "tags": [], "owner": {"reputation": 1981, "user_id": 1309045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c64b6bf711fe569da004b4db24aff21?s=128&d=identicon&r=PG", "display_name": "Spade", "link": "https://stackoverflow.com/users/1309045/spade"}, "is_accepted": false, "score": 1, "last_activity_date": 1484169787, "last_edit_date": 1484169787, "creation_date": 1484168171, "answer_id": 41600532, "question_id": 41600327, "link": "https://stackoverflow.com/questions/41600327/bubble-sort-using-a-while-loop-in-python/41600532#41600532", "title": "Bubble Sort using a while loop in Python", "body": "<p>The bubble sort algorithm works in <strong>O(n*n)</strong> time by <a href=\"https://upload.wikimedia.org/wikipedia/commons/c/c8/Bubble-sort-example-300px.gif\" rel=\"nofollow noreferrer\">repeatedly swapping adjacent elements</a> with each other to ensure sort order. Its popular publicized form with two for loops can easily be modified to replace with while loops as expressed below:</p>\n\n<pre><code>def bubbleSort(l):\n    i = 0\n    while i&lt;len(l):\n        j = 0\n        while j&lt;len(l)-1:\n            if l[j+1] &lt; l[j]:\n                l[j], l[j+1] = l[j+1], l[j]\n            j += 1\n        i += 1\n    return l\n</code></pre>\n\n<p>Python enables swapping without a temporary variable which makes the code look a lot more readable.</p>\n"}, {"tags": [], "owner": {"reputation": 2153, "user_id": 3687725, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1We1W.jpg?s=128&g=1", "display_name": "Preston Martin", "link": "https://stackoverflow.com/users/3687725/preston-martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1484169453, "last_edit_date": 1484169453, "creation_date": 1484169108, "answer_id": 41600766, "question_id": 41600327, "link": "https://stackoverflow.com/questions/41600327/bubble-sort-using-a-while-loop-in-python/41600766#41600766", "title": "Bubble Sort using a while loop in Python", "body": "<p>At this particular line:</p>\n\n<pre><code>if numbers[start] &gt; numbers[start+1]:\n</code></pre>\n\n<p>numbers[start+1] is referencing an element in your list that does not exist (outside the boundaries of the array). </p>\n\n<pre><code>while len(numbers) &lt; maxlist:\n    num = input(\"Please enter a number: \")\n    numbers.append(num)\n</code></pre>\n\n<p>In this line of code, you are adding numbers to a list until your list length is equal to the max length. Let's say maxList is equal to 10. Your list would contain 10 elements once it has exited this loop. </p>\n\n<pre><code> while start != maxList:\n        if numbers[start] &gt; numbers[start+1]:\n        #extra code here\n        start = start + 1\n</code></pre>\n\n<p>In this while loop, you are iterating through each element of the array and incrementing the start variable each time. If say maxList is equal to 10, once start = 9, your while loop evaluates 9 != 10 (start != maxList) and proceeds. Your next if statement if numbers[start] > numbers[start+1] then tries to compare if numbers[9] > numbers[10]. Lists and array indexes in Python start at 0, therefore, when you are trying to reference the element at numbers[10], you are referencing the 11th value in the list, which doesn't exist. This is a common \"off by one\" error that you will encounter often in your programming adventures! :) To correct this, simply change your while loop to: </p>\n\n<pre><code>while start &lt;= maxList:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 11850172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yhLnzl1aVX4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5wdz4lXZlXmbbACrgEwc7L34cWQ/photo.jpg?sz=128", "display_name": "\u5317\u7f8e38fule", "link": "https://stackoverflow.com/users/11850172/%e5%8c%97%e7%be%8e38fule"}, "is_accepted": false, "score": -1, "last_activity_date": 1567709181, "creation_date": 1567709181, "answer_id": 57811397, "question_id": 41600327, "link": "https://stackoverflow.com/questions/41600327/bubble-sort-using-a-while-loop-in-python/57811397#57811397", "title": "Bubble Sort using a while loop in Python", "body": "<p>Using a <code>for loop</code> with a definite number of iteration(s) is potentially wasteful. It fails to accommodate the scenario where a already sorted array is given. The <code>for loop</code> would blindly iterate regardless of whether the array is sorted or not. </p>\n\n<p>Instead, we should introduce a flag and use a <code>while loop</code>. As soon as it detects no swapping, it's done.</p>\n"}], "owner": {"reputation": 15, "user_id": 6866544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae3842cb02c182fbb210a78ff2920a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6866544/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4268, "favorite_count": 0, "accepted_answer_id": 41600430, "answer_count": 4, "score": 0, "last_activity_date": 1567709181, "creation_date": 1484167335, "last_edit_date": 1484169095, "question_id": 41600327, "link": "https://stackoverflow.com/questions/41600327/bubble-sort-using-a-while-loop-in-python", "title": "Bubble Sort using a while loop in Python", "body": "<p>I've been set a bubble sort for homework, and I've been trying to use a while loop. I know that it's possible with a for loop, but I don't really understand them and I'd like to write something that I understand.</p>\n\n<pre><code>unsorted = True\nnumbers = []\nunsortchecker = 0\nstart = 0\nmaxlist = int(input(\"How many numbers should be sorted?\"))\nif len(numbers) == 1:\n   print(1)\nwhile len(numbers) &lt; maxlist:\n    num = input(\"Please enter a number: \")\n    numbers.append(num)\nwhile unsorted:\n    if unsortchecker == 0:\n        unsorted = False\n    while start != maxlist:\n        if numbers[start] &gt; numbers[start+1]:\n            replacement = numbers[start]\n            replaced = numbers[start+1]\n            del numbers[start]\n            del numbers[start+1]\n            numbers.insert(start, replaced)\n            numbers.insert(start+1, replacement)\n            unsortchecker = 1\n            start = start + 1\n            print(numbers)\n      else:\n          start = start + 1\n          print(numbers)\nprint(numbers)\n</code></pre>\n\n<p>When I run this, it will work for the first few, and then replace different numbers to what I want, and then give back an error \nIndexError: list index out of range\nAny ideas?</p>\n\n<p>Edited Code</p>\n\n<pre><code>unsorted = True\nnumbers = []\nunsortchecker = 0\nstart = 0\nmaxlist = int(input(\"How many numbers should be sorted?\"))\nend = maxlist\nif len(numbers) == 1:\n    print(1)\nwhile len(numbers) &lt; maxlist:\n    num = input(\"Please enter a number: \")\n    numbers.append(num)\nwhile unsorted:\n    if unsortchecker == 0:\n        unsorted = False\n    start = 0\n     while start &lt; maxlist-1:\n        if numbers[start] &gt; numbers[start+1]:\n            replacement = numbers[start]\n            numbers[start] = numbers[start + 1]\n            numbers[start + 1] = replacement\n            unsortchecker = unsortchecker + 1\n            start = start + 1\n            print(numbers)\n        else:\n             maxlist = maxlist - 1\n             print(numbers)\nprint(numbers)\n</code></pre>\n"}, {"tags": ["python", "arrays", "list", "file"], "comments": [{"owner": {"reputation": 1751, "user_id": 3586325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3CRVr.jpg?s=128&g=1", "display_name": "Buzz", "link": "https://stackoverflow.com/users/3586325/buzz"}, "edited": false, "score": 0, "creation_date": 1484167649, "post_id": 41600309, "comment_id": 70403553, "body": "Do you want to know how to read from a file and store it as a list or take all the elements of a list and write them to a file?"}, {"owner": {"reputation": 144, "user_id": 6361540, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f353596d150e7a1945eb6aa76481eae3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6361540/lucas"}, "reply_to_user": {"reputation": 1751, "user_id": 3586325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3CRVr.jpg?s=128&g=1", "display_name": "Buzz", "link": "https://stackoverflow.com/users/3586325/buzz"}, "edited": false, "score": 0, "creation_date": 1484167759, "post_id": 41600309, "comment_id": 70403617, "body": "@Buzz I want to take all elements of a list and write them to a file."}, {"owner": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 1, "creation_date": 1484167806, "post_id": 41600309, "comment_id": 70403649, "body": "the solution linked to above is wrong, the OP tries to write into a file and not read from a file. I&#39;ve flagged this question so hopefully the duplicate link is removed"}, {"owner": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 0, "creation_date": 1484167860, "post_id": 41600309, "comment_id": 70403677, "body": "@Lucas in your code there&#39;s a line missing where you actually write into the file. it should read <code>file.write(correct_list)</code>. With this it works."}, {"owner": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 0, "creation_date": 1484168042, "post_id": 41600309, "comment_id": 70403757, "body": "also: <code>list</code> is a reserved python keyword, you should not name your variable like this as you might into problems later, try <code>l</code> for example"}, {"owner": {"reputation": 5452, "user_id": 3714940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bwcdU.jpg?s=128&g=1", "display_name": "SiHa", "link": "https://stackoverflow.com/users/3714940/siha"}, "edited": false, "score": 0, "creation_date": 1484214890, "post_id": 41600309, "comment_id": 70421449, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/899103/writing-a-list-to-a-file-with-python\">Writing a list to a file with Python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1751, "user_id": 3586325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3CRVr.jpg?s=128&g=1", "display_name": "Buzz", "link": "https://stackoverflow.com/users/3586325/buzz"}, "is_accepted": false, "score": 0, "last_activity_date": 1484231263, "creation_date": 1484231263, "answer_id": 41615660, "question_id": 41600309, "link": "https://stackoverflow.com/questions/41600309/python-write-lists-in-a-file/41615660#41615660", "title": "Python Write lists in a file", "body": "<p>First, you probably shouldn't use <code>list</code> because it is a reserved word in python.(<a href=\"https://docs.python.org/2/library/functions.html#list\" rel=\"nofollow noreferrer\">link</a>) You could use almost anything else. I usually use <code>lst</code></p>\n\n<p>You need to actually put it in the file. Your code is missing:</p>\n\n<pre><code>file.write(correct_list)\n</code></pre>\n\n<p>this will actually write the string to the file.</p>\n\n<p>You can also try something like this:</p>\n\n<pre><code>lst=[\"damn\",\"bro\"]\nfile = open(\"test.txt\", \"w\")\nfor item in lst:\n    file.write(item+\"\\n\")\n</code></pre>\n\n<p>This will loop over each item in the list and write them one at a time to the file with a new line at the end</p>\n\n<p>Also make sure you close the file when you are done with it:</p>\n\n<pre><code>file.close()\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 6361540, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f353596d150e7a1945eb6aa76481eae3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6361540/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1484231263, "creation_date": 1484167266, "question_id": 41600309, "link": "https://stackoverflow.com/questions/41600309/python-write-lists-in-a-file", "title": "Python Write lists in a file", "body": "<p>My question is: How can I write lists in a file?</p>\n\n<p>So:</p>\n\n<pre><code>list = [\"damn\",\"bro\"]\ncorrect_list = \"\\n\".join(list)\nfile = open(\"test.txt\", \"w\")\n</code></pre>\n\n<p>How do I write this into a file now that it's a list?\nSo in the file:</p>\n\n<pre><code>damn\nbro\n</code></pre>\n\n<p>I already tried it but it just stand behind each other without whitespace</p>\n"}, {"tags": ["python", "random", "probability", "transitions", "traveling-salesman"], "comments": [{"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1484166918, "post_id": 41600076, "comment_id": 70403160, "body": "Sorry, I don&#39;t understand the negative votes, it&#39;s ok to downvote but could you explain the reason? Is it because it&#39;s not the good place for such a question?"}, {"owner": {"reputation": 2284, "user_id": 3684792, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/24880a587c5f7bece55cd19c733e223e?s=128&d=identicon&r=PG&f=1", "display_name": "user3684792", "link": "https://stackoverflow.com/users/3684792/user3684792"}, "edited": false, "score": 0, "creation_date": 1484167079, "post_id": 41600076, "comment_id": 70403249, "body": "Is this a question about sampling? Is it that you are trying to generate a random path with probability that it is the shortest global path, such that you are more likely to generate &#39;good&#39; solutions?"}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "reply_to_user": {"reputation": 2284, "user_id": 3684792, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/24880a587c5f7bece55cd19c733e223e?s=128&d=identicon&r=PG&f=1", "display_name": "user3684792", "link": "https://stackoverflow.com/users/3684792/user3684792"}, "edited": false, "score": 0, "creation_date": 1484168641, "post_id": 41600076, "comment_id": 70404037, "body": "Sorry if it was unclear, I edited my question to add an example."}, {"owner": {"reputation": 2284, "user_id": 3684792, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/24880a587c5f7bece55cd19c733e223e?s=128&d=identicon&r=PG&f=1", "display_name": "user3684792", "link": "https://stackoverflow.com/users/3684792/user3684792"}, "edited": false, "score": 0, "creation_date": 1484169370, "post_id": 41600076, "comment_id": 70404432, "body": "Ok so the graph is always fully connected, but the question remains - do you want the product of the individual probabilities to be proportional to the probability that the path is generated?"}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "reply_to_user": {"reputation": 2284, "user_id": 3684792, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/24880a587c5f7bece55cd19c733e223e?s=128&d=identicon&r=PG&f=1", "display_name": "user3684792", "link": "https://stackoverflow.com/users/3684792/user3684792"}, "edited": false, "score": 0, "creation_date": 1484172299, "post_id": 41600076, "comment_id": 70405846, "body": "I want to narrow the search, by limiting it to k of these paths (hopefully if probabilities are good these paths would be good candidates for the shortest path). The probabilities here are given. I don&#39;t know if it answers your question."}, {"owner": {"reputation": 2284, "user_id": 3684792, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/24880a587c5f7bece55cd19c733e223e?s=128&d=identicon&r=PG&f=1", "display_name": "user3684792", "link": "https://stackoverflow.com/users/3684792/user3684792"}, "edited": false, "score": 0, "creation_date": 1484173172, "post_id": 41600076, "comment_id": 70406228, "body": "Well you can do a greedy forward sampling if you like. If your vertex set is S Start at vertex a: Go to vertex i with $P_ai / Sum_i P_aj $ for i in S - a , and recursively repeat. Does this help?"}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "reply_to_user": {"reputation": 2284, "user_id": 3684792, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/24880a587c5f7bece55cd19c733e223e?s=128&d=identicon&r=PG&f=1", "display_name": "user3684792", "link": "https://stackoverflow.com/users/3684792/user3684792"}, "edited": false, "score": 0, "creation_date": 1484231483, "post_id": 41600076, "comment_id": 70432672, "body": "Yes. It is the first solution I was thinking about. Thank you @user3684792."}], "answers": [{"comments": [{"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1484175238, "post_id": 41601849, "comment_id": 70407040, "body": "Wow. Thank you sascha. I will take the time to study your answer. At first glance I&#39;m not sure to understand why sampling from a given distribution needs optimization but maybe I miss something."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1484175353, "post_id": 41601849, "comment_id": 70407074, "body": "@Patrick You don&#39;t need to (<b>idea: which possible realization is the most probable given the transition-probabilities under the constraints given</b>). But the idea comes from MAP-approximation in PGMs (at least how i see this). The problem is though, that we need valid solutions and basic-MAP approximation is unconstrained-optimization which is much much easier. Don&#39;t get your hopes to high! (Maybe also check some literature on: &quot;Sampling from combinatoric structures&quot;. But i fear it&#39;s an complex topic)"}], "tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": true, "score": 2, "last_activity_date": 1484175240, "last_edit_date": 1484175240, "creation_date": 1484173587, "answer_id": 41601849, "question_id": 41600076, "link": "https://stackoverflow.com/questions/41600076/in-python-generate-a-random-path-for-the-tsp-according-to-transition-probabilit/41601849#41601849", "title": "In Python, generate a random path for the TSP according to transition probabilities", "body": "<p>(It would have been a much better question if you provided a bit of code; especially because the question is targeting a step which has many steps before)</p>\n\n<p>Here is some approach which should be only taken as some idea as the setup might be a bit annoying (cvxpy and some MIP-solver which is not bad; i'm using CBC here, see cvxpy's docs for alternatives or setup-docs). It's also not really tested. The idea is somewhat based on MAP-calculation in Probabilistic graphical models, but the transfer might be mathematically wrong (no guarantees). It's also harder as the opt-problem in our case is bound to constraints!</p>\n\n<h2>Idea</h2>\n\n<p>Formulate an optimization-problem maximizing the a-priori-probabilities used = part of solution-path (and square this = bigger deviations are more heavily penalized), while generating a valid solution (valid path).</p>\n\n<p>While the problem might be non-convex (i'm not sure) and therefore infeasible to solve in a globally-optimal way), we are using some well-analyzed heuristic for <em>difference of convex programming here</em>. </p>\n\n<p><strong>Remark:</strong> This approach is by design searching for the global-optimum (not entirely true as we are using nonconvex-optimization algorithms). This means, that multiple samplings with different solutions is not really natural within this approach (but calling the DCCP routine with different starting-points will result in different solutions with high probability).</p>\n\n<p><strong>Remark 2:</strong> Performance is very bad for non-small instances (with non-commercial solvers) which renders it a more theoretical-approach.</p>\n\n<h2>Implementation</h2>\n\n<p>Here is some implementation using Python 3, numpy, scipy (shortest paths), cvxpy (opt-problem formulation) and dccp (difference of convex function optimization extension for cvxpy)</p>\n\n<h3>Code</h3>\n\n<pre><code>import numpy as np\nfrom scipy.sparse.csgraph import csgraph_from_dense, shortest_path\nfrom scipy.spatial import distance\nfrom cvxpy import *\nimport dccp\nnp.random.seed(1)\n\n\"\"\" Create random problem \"\"\"\nN = 10\ndistances = np.random.rand(N, N)                    # assymetric\n\n\"\"\" Calculate shortest paths \"\"\"\ncsparse_distances = csgraph_from_dense(distances)\nshortest = shortest_path(csparse_distances)         # directed\n\n\"\"\" Calculate a-prori probabilities based on global shortest paths \"\"\"\nshortest_global = np.copy(shortest)\nfor row in range(shortest_global.shape[0]):\n    # normalize sum to 1\n    row_sum = np.sum(shortest_global[row, :])\n    shortest_global[row, :] /= row_sum\n\n\"\"\" Formulate MIQP problem \"\"\"\n# Based on: https://en.wikipedia.org/wiki/Travelling_salesman_problem\n#       and my example here: https://github.com/cvxgrp/cvxpy/blob/master/examples/tsp_mip.py#L16\n\n# Variables\nx = Bool(N, N)                                      # edge x,y in PATH\nu = Int(N)                                          # aux-var\n\n# Constraints\nconstraints = []\n\nfor j in range(N):                                      # ingoing: exactly 1\n    indices = list(range(0, j)) + list(range(j + 1, N))\n    constraints.append(sum_entries(x[indices, j]) == 1)\nfor i in range(N):\n    indices = list(range(0, i)) + list(range(i + 1, N)) # outgoing: exactly 1\n    constraints.append(sum_entries(x[i, indices]) == 1)\n\nfor i in range(1, N):                               # subtour-elimination\n    for j in range(1, N):\n        if i != j:\n            constraints.append(u[i] - u[j] + N*x[i, j] &lt;= N-1)\n\n# Objective\nobj = Maximize(sum_entries(square(mul_elemwise(shortest_global, x))))\n\n# Solve\nprob = Problem(obj, constraints)\nprint(\"problem is DCP: \", prob.is_dcp())\nprob.solve(method='dccp', solver=CBC, ccp_times=10)  # do not use default solver!\n# Remark: formulation above not accepted by CVX-ruleset\n#         -&gt; need \"difference of convex function\"-extension\n#         -&gt; heuristic (which is well-known for good behaviour)!\n\n\n\"\"\" Print solution \"\"\"\nprint('Solution path matrix')\nprint(np.round(x.value).astype('int'))\nprint('A-priori probability matrix')\nprint(np.round(shortest_global, 2))\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>...\n...\niteration= 1 cost value =  0.34508891154470694 tau =  0.005\niteration= 2 cost value =  0.5092119781611304 tau =  0.006\niteration= 3 cost value =  0.5092119781611304 tau =  0.0072\nSolution path matrix\n[[0 0 0 0 0 0 0 0 1 0]\n [1 0 0 0 0 0 0 0 0 0]\n [0 0 0 1 0 0 0 0 0 0]\n [0 0 0 0 1 0 0 0 0 0]\n [0 0 0 0 0 1 0 0 0 0]\n [0 0 0 0 0 0 0 0 0 1]\n [0 0 1 0 0 0 0 0 0 0]\n [0 0 0 0 0 0 1 0 0 0]\n [0 0 0 0 0 0 0 1 0 0]\n [0 1 0 0 0 0 0 0 0 0]]\nA-priori probability matrix\n[[ 0.    0.14  0.    0.24  0.11  0.07  0.07  0.03  0.13  0.21]\n [ 0.12  0.    0.09  0.22  0.01  0.17  0.13  0.11  0.06  0.07]\n [ 0.11  0.1   0.    0.27  0.08  0.12  0.05  0.02  0.1   0.15]\n [ 0.06  0.17  0.06  0.    0.15  0.12  0.11  0.09  0.01  0.23]\n [ 0.09  0.16  0.09  0.18  0.    0.13  0.13  0.11  0.05  0.05]\n [ 0.01  0.15  0.02  0.21  0.12  0.    0.08  0.05  0.15  0.22]\n [ 0.06  0.17  0.06  0.25  0.03  0.12  0.    0.09  0.11  0.11]\n [ 0.09  0.07  0.07  0.21  0.08  0.08  0.11  0.    0.14  0.15]\n [ 0.11  0.16  0.11  0.09  0.07  0.14  0.11  0.12  0.    0.1 ]\n [ 0.07  0.17  0.07  0.21  0.15  0.12  0.12  0.09  0.    0.  ]]\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<ul>\n<li>Ouch, somehow ECOS_BB seems to be still used which tells us there is much more potential with a better solver-setup.</li>\n</ul>\n"}], "owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 1, "accepted_answer_id": 41601849, "answer_count": 1, "score": 1, "last_activity_date": 1484175240, "creation_date": 1484166295, "last_edit_date": 1484168591, "question_id": 41600076, "link": "https://stackoverflow.com/questions/41600076/in-python-generate-a-random-path-for-the-tsp-according-to-transition-probabilit", "title": "In Python, generate a random path for the TSP according to transition probabilities", "body": "<p>For the travelling salesman problem (TSP), I would like to generate in Python a random tour (where each node from a set of n is visited only once) from a state-transition matrix M (n x n), for which M[i,j] contains the probability that the shortest global path connects node i to node j.</p>\n\n<p>Anyone knows how to do that in Python? I'm asking here about general methods or modules that do that.</p>\n\n<p>Example: suppose that M[i,j]=1 for j=(i+1)%n and 0 elsewhere. All the paths that would be generated (always starting from 0) are: (0,1,2,...,n). If you slightly change this matrix, substituting the 1.0 for 0.9 and putting 0.1 at M[i,i+2], a possible path is: (0,2,3,..,n,1). In this particular example where some probabilities are 0, I know that the last move is impossible (from node n to node 1) and for that reason you can assume that probabilities are always greater than 0.</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "keras"], "comments": [{"owner": {"reputation": 51, "user_id": 6348351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adff231549e06602ff48e5f1293850cc?s=128&d=identicon&r=PG&f=1", "display_name": "Sharon", "link": "https://stackoverflow.com/users/6348351/sharon"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 1, "creation_date": 1484334991, "post_id": 41600067, "comment_id": 70483592, "body": "that method works and I get the import keras part working, but it then fails when asking for tensorflow. Following the same idea for tensorflow and sending a .zip file, I get <code>ImportError: No module named _pywrap_tensorflow   Error importing tensorflow.  Unless you are using bazel, you should not try to import tensorflow from its source directory; please exit the tensorflow source tree, and relaunch your python interpreter from there.</code> I assume my tensorflow is built on a different OS than the worker...? any idea?"}, {"owner": {"reputation": 2294, "user_id": 7159229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEMml.jpg?s=128&g=1", "display_name": "Louis Yang", "link": "https://stackoverflow.com/users/7159229/louis-yang"}, "edited": false, "score": 0, "creation_date": 1548742044, "post_id": 41600067, "comment_id": 95639675, "body": "The redirected question is about Caffe not keras. I don&#39;t think this is a completely duplicate question."}, {"owner": {"reputation": 2294, "user_id": 7159229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEMml.jpg?s=128&g=1", "display_name": "Louis Yang", "link": "https://stackoverflow.com/users/7159229/louis-yang"}, "edited": false, "score": 0, "creation_date": 1559897996, "post_id": 41600067, "comment_id": 99571240, "body": "you can broadcast just the weights of the model and use <code>pandas_udf</code> where you build the model and load the weights"}, {"owner": {"reputation": 2294, "user_id": 7159229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEMml.jpg?s=128&g=1", "display_name": "Louis Yang", "link": "https://stackoverflow.com/users/7159229/louis-yang"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1559898603, "post_id": 41600067, "comment_id": 99571548, "body": "@zero323 can you explain why the question is duplicated? and how to use the solution to keras?"}], "owner": {"reputation": 51, "user_id": 6348351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adff231549e06602ff48e5f1293850cc?s=128&d=identicon&r=PG&f=1", "display_name": "Sharon", "link": "https://stackoverflow.com/users/6348351/sharon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 559, "favorite_count": 0, "closed_date": 1490115921, "answer_count": 0, "score": 4, "last_activity_date": 1484166259, "creation_date": 1484166259, "question_id": 41600067, "link": "https://stackoverflow.com/questions/41600067/broadcasting-a-keras-model-with-pyspark", "closed_reason": "Duplicate", "title": "Broadcasting a keras model with pyspark", "body": "<p>I have a Keras model and I need to broadcast it/include it in a pyspark UDF. It can't be pickled,  so simply sc.broadcast(model) won't work. Any ideas?</p>\n"}, {"tags": ["python", "django", "graph"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7406368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NJ28.gif?s=128&g=1", "display_name": "Vams", "link": "https://stackoverflow.com/users/7406368/vams"}, "edited": false, "score": 0, "creation_date": 1484342035, "post_id": 41630618, "comment_id": 70486903, "body": "Hi Alex,   thank you for reply but it did not help. However I have found that the problem is with data representation. Please check this <a href=\"https://jsfiddle.net/r0yxkxbt/\" rel=\"nofollow noreferrer\">jsfiddle.net/r0yxkxbt</a> It looks like quotations in <b>data</b> create the problem.  I have this <code>&quot;data&quot;: [&quot;20.83&quot;, &quot;20.83&quot;, &quot;21.61&quot;, &quot;22.11&quot;, &quot;23.00&quot;, &quot;23.17&quot;, &quot;23.94&quot;, &quot;24.67&quot;, &quot;24.94&quot;, &quot;24.94&quot;, &quot;25.00&quot;, &quot;25.00&quot;],</code>        but it works with        <code>data: [20.83, 20.83, 21.61, 22.11, 23.00, 23.17, 23.94, 24.67, 24.94, 24.94, 25.00, 25.00],</code>"}], "tags": [], "owner": {"reputation": 1852, "user_id": 1431647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39648946b090647df5def3beca55b86c?s=128&d=identicon&r=PG", "display_name": "Alexander Todorov", "link": "https://stackoverflow.com/users/1431647/alexander-todorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1484297457, "creation_date": 1484297457, "answer_id": 41630618, "question_id": 41600052, "link": "https://stackoverflow.com/questions/41600052/django-chartit-is-not-displayng-yaxis-data/41630618#41630618", "title": "Django Chartit is not displayng yAxis data", "body": "<p>@Vams,\nI see that you are using the latest version of HighCharts.js, which may not be working. The following JavaScript Libraries are required for using Django-Chartit.</p>\n\n<ul>\n<li>jQuery - versions 1.6.4 and 1.7 are known to work well with django-chartit.</li>\n<li>Highcharts - versions 2.1.7 and 2.2.0 are known to work well with django-chartit.</li>\n</ul>\n\n<p>Try one of the older versions and see if it works. If it does then that means the new versions of HighCharts.js are not compatible with the old ones. If even the older versions don't work that means you have a problem somewhere in your code. I will need a bug open for that to debug further.</p>\n\n<p>--\nAlex, maintainer of django-chartit</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7406368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NJ28.gif?s=128&g=1", "display_name": "Vams", "link": "https://stackoverflow.com/users/7406368/vams"}, "is_accepted": true, "score": 0, "last_activity_date": 1484370827, "creation_date": 1484370827, "answer_id": 41647010, "question_id": 41600052, "link": "https://stackoverflow.com/questions/41600052/django-chartit-is-not-displayng-yaxis-data/41647010#41647010", "title": "Django Chartit is not displayng yAxis data", "body": "<p>The problem was with the model field type. In my case it was VARCHAR but it has to be DECIMAL or INTEGER</p>\n\n<p>Thank you!</p>\n"}], "owner": {"reputation": 11, "user_id": 7406368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NJ28.gif?s=128&g=1", "display_name": "Vams", "link": "https://stackoverflow.com/users/7406368/vams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 41647010, "answer_count": 2, "score": 1, "last_activity_date": 1484370827, "creation_date": 1484166211, "last_edit_date": 1484185024, "question_id": 41600052, "link": "https://stackoverflow.com/questions/41600052/django-chartit-is-not-displayng-yaxis-data", "title": "Django Chartit is not displayng yAxis data", "body": "<p>I am using Django 1.10.3 and python 3.4.2.<br>\nFor some reason, chartit is not displaying graph line on my chart plot. However, I can see 'data' when I do view-source in my browser. Please point me where I was wrong.</p>\n\n<p>My graph (without graph)</p>\n\n<p><a href=\"https://i.stack.imgur.com/fJvlk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fJvlk.png\" alt=\"Graph\"></a></p>\n\n<p>Here is what view-source displays</p>\n\n<pre><code>&lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"http://code.highcharts.com/highcharts.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;div id='cont'&gt;&lt;script type=\"text/javascript\"&gt;\nvar _chartit_hco_array = [{\"yAxis\": [{\"title\": {\"text\": \"Temp\"}}], \"series\": [{\"stacking\": false, \"data\": [\"20.83\", \"20.83\", \"21.61\", \"22.11\", \"23.00\", \"23.17\", \"23.94\", \"24.67\", \"24.94\", \"24.94\", \"25.00\", \"25.00\"], \"type\": \"line\", \"name\": \"temperature\"}], \"xAxis\": [{\"categories\": [\"2016-12-16T11:40:13+00:00\", \"2016-12-16T11:40:13+00:00\", \"2016-12-16T12:00:32+00:00\", \"2016-12-16T12:20:51+00:00\", \"2016-12-16T13:20:56+00:00\", \"2016-12-16T13:40:22+00:00\", \"2016-12-16T14:00:41+00:00\", \"2016-12-16T14:21:00+00:00\", \"2016-12-16T14:40:26+00:00\", \"2016-12-16T14:47:29+00:00\", \"2016-12-16T14:51:02+00:00\", \"2016-12-16T14:54:34+00:00\"], \"title\": {\"text\": \"Date\"}}], \"chart\": {\"renderTo\": \"cont\"}, \"title\": {\"text\": \"Temp Data of Kedsum\"}}];\n&lt;/script&gt;\n&lt;script src=\"/static/chartit/js/chartloader.js\" type=\"text/javascript\"&gt;\n&lt;/script&gt;&lt;/div&gt;\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>from chartit import DataPool, Chart\nfrom django.shortcuts import render\nfrom monitor.models import LogicLocation, SensorPrologue, SensorThgr122N, SensorKedsum\n\n#def graphs(request):\n#  return render(request, 'graphs/graphs.html', {'content': ['Graphs Output!!!']})\n\ndef graphs(request):\n    #Step 1: Create a DataPool with the data we want to retrieve.\n    sensordata = DataPool(\n           series=\n            [{'options': {\n               'source': SensorKedsum.objects.all()},\n              'terms': [\n               'date',\n                'temperature']}\n             ])\n\n    #Step 2: Create the Chart object\n    cht = Chart(\n            datasource = sensordata,\n            series_options =\n              [{'options':{\n                  'type': 'line',\n                  'stacking': False},\n                'terms':{\n                  'date': [\n                     'temperature']\n                  }}],\n            chart_options =\n              {'title': {\n                   'text': 'Temp Data of Kedsum'},\n               'xAxis': {\n                    'title': {\n                       'text': 'Date'}},\n               'yAxis': {\n                'title': {\n                   'text': 'Temp',\n                }}})\n\n    #Step 3: Send the chart object to the template.\n    return render(request, 'graphs/graphs.html', {'tempchart': cht})\n</code></pre>\n\n<p>graphs.html</p>\n\n<pre><code>&lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"http://code.highcharts.com/highcharts.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n{% load chartit %}\n\n{% block content %}\n            &lt;div id='cont'&gt;{{ tempchart|load_charts:\"cont\" }}&lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>Here is the console output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Performing system checks...\n\nSystem check identified no issues (0 silenced).\nJanuary 11, 2017 - 20:18:27\nDjango version 1.10.3, using settings 'smarthome.settings'\nStarting development server at http://0.0.0.0:8000/\nQuit the server with CONTROL-C.\n[11/Jan/2017 20:18:29] \"GET /graphs/ HTTP/1.1\" 200 1128\n[11/Jan/2017 20:18:30] \"GET /static/chartit/js/chartloader.js HTTP/1.1\" 304 0\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1484170142, "post_id": 41600027, "comment_id": 70404866, "body": "Can you post the view for your registration page?"}, {"owner": {"reputation": 2745, "user_id": 4344683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Cfdqv.jpg?s=128&g=1", "display_name": "Shezan Kazi", "link": "https://stackoverflow.com/users/4344683/shezan-kazi"}, "reply_to_user": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1484209422, "post_id": 41600027, "comment_id": 70418050, "body": "please see above, i added it"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 4115842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47eb40345ca62663060c14d342e18bc3?s=128&d=identicon&r=PG&f=1", "display_name": "lionlinekz", "link": "https://stackoverflow.com/users/4115842/lionlinekz"}, "is_accepted": false, "score": 1, "last_activity_date": 1484211615, "last_edit_date": 1484211615, "creation_date": 1484211217, "answer_id": 41608751, "question_id": 41600027, "link": "https://stackoverflow.com/questions/41600027/django-registration-login-html-as-index/41608751#41608751", "title": "Django - registration login.html as index", "body": "<p>change the order of the following two lines:</p>\n\n<pre><code>url(r'^$', views.index, name='index'),\nurl(r'^dashboard/', views.dashboard, name='dashboard'),,\n</code></pre>\n\n<p>and change the following:</p>\n\n<pre><code>return '/crm/dashboard/'\n</code></pre>\n"}], "owner": {"reputation": 2745, "user_id": 4344683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Cfdqv.jpg?s=128&g=1", "display_name": "Shezan Kazi", "link": "https://stackoverflow.com/users/4344683/shezan-kazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484211615, "creation_date": 1484166094, "last_edit_date": 1484209461, "question_id": 41600027, "link": "https://stackoverflow.com/questions/41600027/django-registration-login-html-as-index", "title": "Django - registration login.html as index", "body": "<p>My app is hosted on <a href=\"http://shezankazi.pythonanywhere.com\" rel=\"nofollow noreferrer\">shezankazi.pythonanywhere.com</a></p>\n\n<p>When I open this link I get to index.html. However I would like to open login.html directly as occurs when I choose \"Anmelden\" at the index page. Herefore I require assistance</p>\n\n<p>This is my views.py</p>\n\n<pre><code>def index(request):\nreturn render(request, 'crm/index.html')\n\nclass MyRegistrationView(RegistrationView):\n    def get_success_url(self, request, user):\n        return '/crm/'\n</code></pre>\n\n<p>This is my app/urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom django.conf.urls import include\nfrom django.contrib import admin\nfrom crm import views as crm_views\nfrom person import views as person_views\n\n\nurlpatterns = [\n    url(r'^$', crm_views.index, name='index'),\n    url(r'^crm/', include('crm.urls')),\n    ...\n\n]\n</code></pre>\n\n<p>And this is my crm/urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom crm import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'^dashboard/', views.dashboard, name='dashboard'),\n]\n</code></pre>\n\n<p>And this is the end of my settings.py:</p>\n\n<pre><code># If True, users can register\nREGISTRATION_OPEN = False\n# One-week activation window; you may, of course, use a different value.\nACCOUNT_ACTIVATION_DAYS = 7\n# If True, the user will be automatically logged in.\nREGISTRATION_AUTO_LOGIN = False\n# The page you want users to arrive at after they successful log in\nLOGIN_REDIRECT_URL = '/crm/dashboard/'\n# The page users are directed to if they are not logged in,\n# and are trying to access pages requiring authentication\nLOGIN_URL = '/accounts/login/'\n# The page users are directed to upon logging out\nLOGOUT_REDIRECT_URL = '/accounts/login'\n</code></pre>\n\n<p>At first I changed the index view to render registration/login.html but then whenever I enter my credentials, the login page loads again instead of redirecting me to the dashboard.</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1484165850, "post_id": 41599955, "comment_id": 70402625, "body": "can you show the code where <code>tempval</code> becomes BLA?"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 4, "creation_date": 1484166054, "post_id": 41599955, "comment_id": 70402744, "body": "as a side note: <code>list</code> is in-built type in python. Your variable name should not override it"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1484166244, "post_id": 41599955, "comment_id": 70402833, "body": "What is the desired value the second time around?"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 2, "creation_date": 1484166374, "post_id": 41599955, "comment_id": 70402905, "body": "Also, I will suggest to take a look at <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\"><code>collections.defaultdict</code></a>"}, {"owner": {"reputation": 824, "user_id": 4545530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b31967fe4702f501fc7ef3df61d408e?s=128&d=identicon&r=PG&f=1", "display_name": "mkiever", "link": "https://stackoverflow.com/users/4545530/mkiever"}, "edited": false, "score": 0, "creation_date": 1484167412, "post_id": 41599955, "comment_id": 70403443, "body": "I don&#39;t see a problem using <code>list</code> as a variable. I am overriding built-in names of Python all the time."}], "answers": [{"comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1484166312, "post_id": 41599969, "comment_id": 70402869, "body": "Also, <code>if</code> should be <code>records[dictkey] = list</code>. Not <code>[list]</code>"}, {"owner": {"reputation": 3991, "user_id": 365837, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZnI9W.png?s=128&g=1", "display_name": "Rok Povsic", "link": "https://stackoverflow.com/users/365837/rok-povsic"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1484166391, "post_id": 41599969, "comment_id": 70402912, "body": "Yep, that&#39;s true."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1484166396, "post_id": 41599969, "comment_id": 70402917, "body": "<code>collections.defaultdict</code> would be handy here."}, {"owner": {"reputation": 3991, "user_id": 365837, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZnI9W.png?s=128&g=1", "display_name": "Rok Povsic", "link": "https://stackoverflow.com/users/365837/rok-povsic"}, "edited": false, "score": 0, "creation_date": 1484167453, "post_id": 41599969, "comment_id": 70403462, "body": "Sorry, it should be <code>records[dictkey] = [list]</code> as you did specify at the start."}, {"owner": {"reputation": 91, "user_id": 2684219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/799053675/picture?type=large", "display_name": "driesken", "link": "https://stackoverflow.com/users/2684219/driesken"}, "edited": false, "score": 0, "creation_date": 1484167956, "post_id": 41599969, "comment_id": 70403718, "body": "@yper Unfortunately, doesn&#39;t appear to make a difference"}], "tags": [], "owner": {"reputation": 3991, "user_id": 365837, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZnI9W.png?s=128&g=1", "display_name": "Rok Povsic", "link": "https://stackoverflow.com/users/365837/rok-povsic"}, "is_accepted": false, "score": 1, "last_activity_date": 1484165857, "creation_date": 1484165857, "answer_id": 41599969, "question_id": 41599955, "link": "https://stackoverflow.com/questions/41599955/python-nested-lists-within-dict-element/41599969#41599969", "title": "Python nested lists within dict element", "body": "<p>Remove the <code>[0]</code> part from the last line. The value in the dictionary is already a list. It is that list you wish to append the second list (<code>['BLA']</code>) to.</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 2684219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/799053675/picture?type=large", "display_name": "driesken", "link": "https://stackoverflow.com/users/2684219/driesken"}, "edited": false, "score": 0, "creation_date": 1484204938, "post_id": 41600720, "comment_id": 70415868, "body": "Doesn&#39;t append either unfortunately. Could it be due to the fact that &quot;records&quot; has class multiprocessing.managers.DictProxy?"}], "tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": false, "score": 1, "last_activity_date": 1484168904, "creation_date": 1484168904, "answer_id": 41600720, "question_id": 41599955, "link": "https://stackoverflow.com/questions/41599955/python-nested-lists-within-dict-element/41600720#41600720", "title": "Python nested lists within dict element", "body": "<p>You're almost there. You will want to append the list like so:</p>\n\n<pre><code>records = manager.dict({})\n\n# within some loop\n  dictkey = \"my123\"\n  tempval = \"TEST\" # as an example, gets new values with every loop\n  temp_list = [tempval] # holds a list of value\n\n\n  if dictkey not in records:\n    records[dictkey] = [temp_list]\n  else:\n    records[dictkey].append(temp_list) # append list of value\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 2684219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/799053675/picture?type=large", "display_name": "driesken", "link": "https://stackoverflow.com/users/2684219/driesken"}, "is_accepted": false, "score": 0, "last_activity_date": 1484205790, "creation_date": 1484205790, "answer_id": 41607296, "question_id": 41599955, "link": "https://stackoverflow.com/questions/41599955/python-nested-lists-within-dict-element/41607296#41607296", "title": "Python nested lists within dict element", "body": "<p>I've found the solution. Looks like the append in the else statement doesn't work for class multiprocessing.managers.DictProxy.</p>\n\n<p>I've modified the else statement and now it's working.</p>\n\n<pre><code>records = manager.dict({})\n\n&lt; within some loop &gt;\n  dictkey = \"my123\"\n  tempval = \"TEST\" # as an example, gets new values with every loop\n  temp_list = [tempval] # holds a list of value\n\n  if dictkey not in records:\n    records[dictkey] = [temp_list]\n  else:\n    records[dictkey] = records.get(dictkey, []) + [temp_list]\n</code></pre>\n\n<p>Thanks everyone for your help!</p>\n"}], "owner": {"reputation": 91, "user_id": 2684219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/799053675/picture?type=large", "display_name": "driesken", "link": "https://stackoverflow.com/users/2684219/driesken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1612, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1484205790, "creation_date": 1484165761, "last_edit_date": 1484167836, "question_id": 41599955, "link": "https://stackoverflow.com/questions/41599955/python-nested-lists-within-dict-element", "title": "Python nested lists within dict element", "body": "<p>I'm trying to create the following datastructure (list containing several lists) within a shared dict:</p>\n\n<pre><code>{'my123': [['TEST'],['BLA']]}\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>records = manager.dict({})\n\n&lt;within some loop&gt;\n  dictkey = \"my123\"\n  tempval = \"TEST\" # as an example, gets new values with every loop\n  list = []\n  list.append(tempval)\n\n  if dictkey not in records.keys():\n    records[dictkey] = [list]\n  else:\n    records[dictkey][0].append([tempval])\n</code></pre>\n\n<p>The first list within the dict element 'my123' gets populated with \"TEST\", but when I loop a second time (where tempval is \"BLA\"), the list doesn't get nested. </p>\n\n<p>Instead I'm getting:</p>\n\n<pre><code>{'my123': [['TEST']]}\n</code></pre>\n\n<p>What am I doing wrong in the else statement?</p>\n\n<p>Edit:\nHave modified the code, but still doesn't get added:</p>\n\n<pre><code>records = manager.dict({})\n\n&lt;within some loop&gt;\n  dictkey = \"my123\"\n  tempval = \"TEST\" # as an example, gets new values with every loop\n  list = []\n  list.append(tempval)\n\n  if dictkey == \"my123\":\n    print tempval # prints new values with every loop to make sure\n    if dictkey not in records.keys():\n      records[dictkey] = [list]\n    else:\n      records[dictkey].append([list])\n</code></pre>\n"}, {"tags": ["python", "string", "subprocess"], "comments": [{"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 1, "creation_date": 1484165944, "post_id": 41599930, "comment_id": 70402677, "body": "Please post actual code not a screen shot."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1484166279, "post_id": 41599930, "comment_id": 70402847, "body": "use <code>&quot;fixedtext\\\\{}\\\\xxxx</code>.format(filename)` for instance. It has nothing to do with subprocess <i>at all</i>"}, {"owner": {"reputation": 67, "user_id": 4219970, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0a7a0e91c89f28843a1b13e08b97c3fe?s=128&d=identicon&r=PG&f=1", "display_name": "ismail yussuf", "link": "https://stackoverflow.com/users/4219970/ismail-yussuf"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1484169127, "post_id": 41599930, "comment_id": 70404309, "body": "hey @Jean-Fran&#231;oisFabre, im not sure what you mean. could you elaborate??"}, {"owner": {"reputation": 67, "user_id": 4219970, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0a7a0e91c89f28843a1b13e08b97c3fe?s=128&d=identicon&r=PG&f=1", "display_name": "ismail yussuf", "link": "https://stackoverflow.com/users/4219970/ismail-yussuf"}, "reply_to_user": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1484170760, "post_id": 41599930, "comment_id": 70405156, "body": "hey @elethan, I updated the question"}], "answers": [{"tags": [], "owner": {"reputation": 2304, "user_id": 7256199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4457bed0ec4a48407259cb23e51b410?s=128&d=identicon&r=PG&f=1", "display_name": "afxentios", "link": "https://stackoverflow.com/users/7256199/afxentios"}, "is_accepted": true, "score": 1, "last_activity_date": 1484203061, "last_edit_date": 1484203061, "creation_date": 1484166764, "answer_id": 41600183, "question_id": 41599930, "link": "https://stackoverflow.com/questions/41599930/pythons-subprocess-check-output/41600183#41600183", "title": "Python&#39;s subprocess.check_output( )", "body": "<p>Do you mean:</p>\n\n<pre><code>subprocess.check_output('python upload.py --file=\"C:\\\\Users\\\\...\\\\anniebot\\\\' + bunny + '\" --title= ...')\n</code></pre>\n\n<p>So basically concatenate the string using the <strong>single</strong> quote instead of the <strong>double</strong> quote you are using.</p>\n"}], "owner": {"reputation": 67, "user_id": 4219970, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0a7a0e91c89f28843a1b13e08b97c3fe?s=128&d=identicon&r=PG&f=1", "display_name": "ismail yussuf", "link": "https://stackoverflow.com/users/4219970/ismail-yussuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 41600183, "answer_count": 1, "score": 0, "last_activity_date": 1484203061, "creation_date": 1484165687, "last_edit_date": 1484170721, "question_id": 41599930, "link": "https://stackoverflow.com/questions/41599930/pythons-subprocess-check-output", "title": "Python&#39;s subprocess.check_output( )", "body": "<p>I'm working with python's <code>subprocess.check_output()</code> and I'm using it to run a python file that takes certain attributes (like fileName, title, etc..). Everything works fine however, I decided to pass in a string variable instead of an actual string. This doesn't work and I'm not sure why. Does anyone see something that I don't?</p>\n\n<pre><code>import textFile\nimport upload\nimport subprocess\ndef upload(fileName):\n    arr = []\n    bunny = \"big_buck_bunny.flv\" #this is the variable\n    arr = textFile.readLine(fileName)\n    size = textFile.getLines(fileName)\n    i = 0\n    while(i &lt; size):\n        f = open(\"upload.py-oauth2.json\", 'w').close()\n        textFile.append(\"C:\\\\Users\\\\user1\\\\Desktop\\\\tester\\\\upload.py-oauth2.json\",arr[i])\n        #This below is where i would like to pass in a variable\n        subprocess.check_output('python upload.py --file=\"C:\\\\Users\\\\...\\\\anniebot\\\\' + bunny)\n    i+=1\n\n\nupload(\"C:\\\\Users\\\\user1\\\\Desktop\\\\tester\\\\accountList.txt\")        \n</code></pre>\n\n<p>So I pretty much would like to change the path constantly. The problem is, I cant figure out a way to get subprocess to work without passing in a fixed string.</p>\n\n<p>i would like to do something like:-</p>\n\n<pre><code>    subprocess.check_output('python upload.py --file=\"C:\\\\Users\\\\user1\\\\Videos\\\\anniebot\\\\\" + bunny --title=\"title\" --description=\"testing\" --keywords=\"test\" --category=\"22\" --privacyStatus=\"public\"')\n</code></pre>\n"}, {"tags": ["python", "postgresql", "import", "sqlalchemy", "amazon-redshift"], "answers": [{"comments": [{"owner": {"reputation": 754, "user_id": 3298753, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/18509c7ea43afc8ba7ef542658985b77?s=128&d=identicon&r=PG", "display_name": "jstudios", "link": "https://stackoverflow.com/users/3298753/jstudios"}, "edited": false, "score": 0, "creation_date": 1484166352, "post_id": 41599937, "comment_id": 70402893, "body": "No, that would be incorrect syntax; it produces an error."}], "tags": [], "owner": {"reputation": 354, "user_id": 2891429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d744fbfebed04b33d31f0a54607f622?s=128&d=identicon&r=PG&f=1", "display_name": "newGuy", "link": "https://stackoverflow.com/users/2891429/newguy"}, "is_accepted": false, "score": -1, "last_activity_date": 1484165714, "creation_date": 1484165714, "answer_id": 41599937, "question_id": 41599843, "link": "https://stackoverflow.com/questions/41599843/what-is-causing-this-importerror-with-sqlalchemy-relationships/41599937#41599937", "title": "What is causing this ImportError with SQLAlchemy relationships?", "body": "<p>It looks like your trying to import the sponsor class from the sponsor class. SHouldn't it be </p>\n\n<pre><code>from goldstrike.mappings import Sonsor\n</code></pre>\n\n<p>Not</p>\n\n<pre><code>from goldstrike.mappings.sponsor import Sponsor\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 354, "user_id": 2891429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d744fbfebed04b33d31f0a54607f622?s=128&d=identicon&r=PG&f=1", "display_name": "newGuy", "link": "https://stackoverflow.com/users/2891429/newguy"}, "is_accepted": true, "score": 0, "last_activity_date": 1484167938, "last_edit_date": 1495542829, "creation_date": 1484167938, "answer_id": 41600476, "question_id": 41599843, "link": "https://stackoverflow.com/questions/41599843/what-is-causing-this-importerror-with-sqlalchemy-relationships/41600476#41600476", "title": "What is causing this ImportError with SQLAlchemy relationships?", "body": "<p>okay, please ignore my above answer. \nlooks like there is a circular reference with sponsor and promotion. check <a href=\"https://stackoverflow.com/questions/9252543/importerror-cannot-import-name-x\">this</a> post out. </p>\n"}], "owner": {"reputation": 754, "user_id": 3298753, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/18509c7ea43afc8ba7ef542658985b77?s=128&d=identicon&r=PG", "display_name": "jstudios", "link": "https://stackoverflow.com/users/3298753/jstudios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2209, "favorite_count": 0, "accepted_answer_id": 41600476, "answer_count": 2, "score": 1, "last_activity_date": 1484167938, "creation_date": 1484165299, "question_id": 41599843, "link": "https://stackoverflow.com/questions/41599843/what-is-causing-this-importerror-with-sqlalchemy-relationships", "title": "What is causing this ImportError with SQLAlchemy relationships?", "body": "<p>I get the following error when trying to run <code>test.py</code>:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 3, in &lt;module&gt;\n    from goldstrike.mappings.sponsor import Sponsor\n  File \"/home/.../Repos/goldstrike/goldstrike/mappings/sponsor.py\", line 4, in &lt;module&gt;\n    from promotion import Promotion\n  File \"/home/.../Repos/goldstrike/goldstrike/mappings/promotion.py\", line 5, in &lt;module&gt;\n    from sponsor import Sponsor\nImportError: cannot import name Sponsor\n</code></pre>\n\n<p>The directory structure is as follows:</p>\n\n<pre><code>/test.py\n/goldstrike/__init__.py\n/goldstrike/mappings/__init__.py\n/goldstrike/mappings/sponsor.py\n/goldstrike/mappings/promotion.py\n</code></pre>\n\n<p><strong>test.py</strong></p>\n\n<pre><code>from sqlalchemy.orm import sessionmaker\nfrom db import get_redshift_engine\nfrom goldstrike.mappings.sponsor import Sponsor\n\neng = get_redshift_engine()\nSession = sessionmaker(bind=eng)\nsession = Session()\n\np = session.query(Sponsor).get(30).promotions\n\nprint p[0].name\n</code></pre>\n\n<p><strong>sponsor.py</strong></p>\n\n<pre><code>from sqlalchemy import Column, BigInteger, String, DateTime\nfrom sqlalchemy.orm import relationship\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom promotion import Promotion\n\nBase = declarative_base()\n\n\nclass Sponsor(Base):\n    __tablename__ = 'prisponsor'\n    id = Column(BigInteger, primary_key=True)\n    name = Column(String(255))\n    createddate = Column(DateTime)\n    updateddate = Column(DateTime)\n    createddateest = Column(DateTime)\n    promotions = relationship(Promotion, back_populates='sponsor')\n</code></pre>\n\n<p><strong>promotion.py</strong></p>\n\n<pre><code>from sqlalchemy import Column, BigInteger, String, DateTime, ForeignKey\nfrom sqlalchemy.orm import relationship\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.dialects.postgresql import DOUBLE_PRECISION\nfrom sponsor import Sponsor\n\n\nBase = declarative_base()\n\n\nclass Promotion(Base):\n    __tablename__ = 'pripromotion'\n    id = Column(BigInteger, primary_key=True)\n    sponsorid = Column(BigInteger, ForeignKey('prisponsor.id'))\n    status = Column(String(50))\n    createddate = Column(DateTime)\n    enddate = Column(DateTime)\n    updateddate = Column(DateTime)\n    name = Column(String(50))\n    title = Column(String(50))\n    totalqty = Column(BigInteger)\n    perkioskengagement = Column(DOUBLE_PRECISION)\n    permobileengagement = Column(DOUBLE_PRECISION)\n    gamekey = Column(String(50))\n    pripromotiontype_type = Column(String(50))\n    promotiontag = Column(String(2000))\n    pripromotioncategory_category = Column(String(255))\n    whatshot = Column(String(50))\n    createddateest = Column(DateTime)\n    startdate = Column(DateTime)\n    description = Column(String(1000))\n    salerep = Column(String(50))\n    sponsor = relationship(Sponsor, back_populates='promotions')\n</code></pre>\n"}, {"tags": ["python", "file", "download"], "comments": [{"owner": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 1, "creation_date": 1484166142, "post_id": 41599806, "comment_id": 70402788, "body": "what web framework are you using as backend?"}, {"owner": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 0, "creation_date": 1484166215, "post_id": 41599806, "comment_id": 70402821, "body": "the download is triggered when the browser comes across a content-type it cannot render inline, which should be the case with <code>application&#47;vnd.apple.pkpass</code>"}, {"owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1484166523, "post_id": 41599806, "comment_id": 70402980, "body": "I believe the <code>Content-Disposition</code> header is also relevant, although I can&#39;t tell whether that&#39;s really what this question is asking about."}, {"owner": {"reputation": 1104, "user_id": 4780833, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/kELFU.jpg?s=128&g=1", "display_name": "Jorel Amthor", "link": "https://stackoverflow.com/users/4780833/jorel-amthor"}, "reply_to_user": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 0, "creation_date": 1484166622, "post_id": 41599806, "comment_id": 70403023, "body": "@hansaplast im using turbogears"}, {"owner": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 0, "creation_date": 1484167321, "post_id": 41599806, "comment_id": 70403375, "body": "@JorelAmthor are you sure? there&#39;s no <code>view_config</code> in the turbogears docs: <a href=\"http://turbogears.readthedocs.io/en/latest/search.html?q=view_config&amp;check_keywords=yes&amp;area=default\" rel=\"nofollow noreferrer\">search for view_config on turbogears doc</a>"}, {"owner": {"reputation": 1104, "user_id": 4780833, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/kELFU.jpg?s=128&g=1", "display_name": "Jorel Amthor", "link": "https://stackoverflow.com/users/4780833/jorel-amthor"}, "reply_to_user": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 0, "creation_date": 1484170044, "post_id": 41599806, "comment_id": 70404807, "body": "@hansaplast i meant to say pyramid ofc :D sorry i got confused"}], "owner": {"reputation": 1104, "user_id": 4780833, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/kELFU.jpg?s=128&g=1", "display_name": "Jorel Amthor", "link": "https://stackoverflow.com/users/4780833/jorel-amthor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1484172613, "creation_date": 1484165161, "last_edit_date": 1484172613, "question_id": 41599806, "link": "https://stackoverflow.com/questions/41599806/python-how-to-serve-files", "title": "Python : How to serve files", "body": "<p>Im currently doing a side project for myself, and i would like to create a webpage, with basically a button that'll download a file ( more specifically an apple wallet file, but this isn't important ) .\nThe front end side is okay, but i'm having trouble with the back end side. I'm having trouble to render a downloadable file.</p>\n\n<p>Here's what i wrote</p>\n\n<pre><code>@view_config(name='pkpass', request_method='POST')\ndef post_mobile(request):\n   #i've shortened this for readability\n   b64 = 'JIDEWJIODEW'\n   b64decoded = base64.b64decode(b64)\n   try :\n      res = Response(body=b64decoded, content_type = 'application/octet-stream')\n      res.content_disposition = 'attachment; filename=\"test.pkpass\"'\n   except Exception as e :\n      print(e)\n\n   return res\n</code></pre>\n\n<p>But there's few thing that i don't get. How will the browser know this file have to be downloaded ? i mean, how the auto-download will start ? Also, nothing happen when i click my link. I've made sure that the backend was correctly called, but i'm not sure about the return value</p>\n\n<p>PS : adding a SC <a href=\"https://i.stack.imgur.com/HhIJi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HhIJi.png\" alt=\"enter image description here\"></a>\nEdit 2 : HTML Screen shot</p>\n\n<p><a href=\"https://i.stack.imgur.com/TvFY2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvFY2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "linux", "saml-2.0", "xmlsec", "xmlsec1"], "comments": [{"owner": {"reputation": 511, "user_id": 2090808, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/J2Jfq.jpg?s=128&g=1", "display_name": "Deepak Verma", "link": "https://stackoverflow.com/users/2090808/deepak-verma"}, "edited": false, "score": 0, "creation_date": 1484166050, "post_id": 41599742, "comment_id": 70402739, "body": "Looks like I was using wrong command to verify xml. xmlsec1 --verify --X509-skip-strict-checks --id-attr:ID &quot;urn:oasis:names:tc:SAML:2.0:protocol:Assertion&quot; --trusted-pem cert.pem signed_res.xml"}], "owner": {"reputation": 511, "user_id": 2090808, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/J2Jfq.jpg?s=128&g=1", "display_name": "Deepak Verma", "link": "https://stackoverflow.com/users/2090808/deepak-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1093, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1484165756, "creation_date": 1484164951, "last_edit_date": 1484165756, "question_id": 41599742, "link": "https://stackoverflow.com/questions/41599742/saml-xmlsec1-verification", "title": "SAML-xmlsec1 verification", "body": "<p>I signed my saml response xml with xmlsec command:</p>\n\n<pre><code>xmlsec1 --sign --privkey-pem keys/privkey.pem,keys/cert.pem --id-attr:ID \"urn:oasis:names:tc:SAML:2.0:protocol:Assertion\" --output signed_res.xml saml_response.xml\n</code></pre>\n\n<p>Here is my XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;samlp:Response xmlns:samlp=\"urn:oasis:names:tc:SAML:2.0:protocol\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:saml=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"GOSAMLRESPONSE1484161444050744957968075\" Version=\"2.0\" IssueInstant=\"2017-01-10T19:04:04Z\" Destination=\"https://mail.google.com/a/demo.mediaagility.com\" InResponseTo=\"aejlhgifgamagkaobldafdnifhllkclmdkdmgmjf\"&gt;\n    &lt;saml:Issuer xmlns:saml=\"urn:oasis:names:tc:SAML:2.0:assertion\"&gt;https://127.0.0.1/login&lt;/saml:Issuer&gt;\n    &lt;samlp:Status&gt;\n            &lt;samlp:StatusCode Value=\"urn:oasis:names:tc:SAML:2.0:status:Success\"/&gt;\n    &lt;/samlp:Status&gt;\n    &lt;ds:Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n        &lt;ds:SignedInfo&gt;\n            &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/&gt;\n            &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;\n            &lt;ds:Reference ID=\"#GOSAMLASSERTION1484161444050744957968075\"&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/&gt;\n                    &lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/&gt;\n                &lt;ds:DigestValue&gt;7qAlp8q4w58e7v5hQpU/xkbbaSM=&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n        &lt;/ds:SignedInfo&gt;\n        &lt;ds:SignatureValue&gt;Nx8Kpiglxw+ZwXp80nvM6eH09DyHWNHsFMtIgXXBLKVSiOOc9tlvULKg5+09vRxU\nO453dmRZ6OXEnpxkBD6WPC3YzJDoNFLWK+VytshgXLlk+kXMBPP+/fw0imkPP7cO\ny8YAjdt6q9+QtSCFztYcIDya3Vrz3i9X0ggck0WcJX4=&lt;/ds:SignatureValue&gt;\n        &lt;ds:KeyInfo&gt;\n        &lt;ds:X509Data&gt;\n&lt;ds:X509Certificate&gt;MIICtjCCAh+gAwIBAgIJAJTeBUN2i9ZNMA0GCSqGSIb3DQEBBQUAME4xCzAJBgNV\nBAYTAkhSMQ8wDQYDVQQIEwZaYWdyZWIxITAfBgNVBAoTGE5la2Egb3JnYW5pemFj\naWphIGQuby5vLjELMAkGA1UEAxMCQ0EwHhcNMTIxMjI4MTYwODA1WhcNMTQxMjI4\nMTYwODA1WjBvMQswCQYDVQQGEwJIUjEPMA0GA1UECBMGWmFncmViMQ8wDQYDVQQH\nEwZaYWdyZWIxITAfBgNVBAoTGE5la2Egb3JnYW5pemFjaWphIGQuby5vLjEbMBkG\nA1UEAxMSUHJvZ3JhbWVyc2thIGZpcm1hMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCB\niQKBgQCgWApHV5cma0GY/v/vmwgciDQBgITcitx2rG0F+ghXtGiEJeK75VY7jQwE\nUFCbgV+AaOY2NQChK2FKec7Hss/5y+jbWfX2yVwX6TYcCwnOGXenz+cgx2Fwqpu3\nncL6dYJMfdbKvojBaJQLJTaNjRJsZACButDsDtXDSH9QaRy+hQIDAQABo3sweTAJ\nBgNVHRMEAjAAMCwGCWCGSAGG+EIBDQQfFh1PcGVuU1NMIEdlbmVyYXRlZCBDZXJ0\naWZpY2F0ZTAdBgNVHQ4EFgQUSo9ThP/MOg8QIRWxoPo8qKR8O2wwHwYDVR0jBBgw\nFoAUAelckr4bx8MwZ7y+VlHE46Mbo+cwDQYJKoZIhvcNAQEFBQADgYEAy19Z7Z5/\n/MlWkogu41s0RxL9ffG60QQ0Y8hhDTmgHNx1itj0wT8pB7M4KVMbZ4hjjSFsfRq4\nVj7jm6LwU0WtZ3HGl8TygTh8AAJvbLROnTjLL5MqI9d9pKvIIfZ2Qs3xmJ7JEv4H\nUHeBXxQq/GmfBv3l+V5ObQ+EHKnyDodLHCk=&lt;/ds:X509Certificate&gt;\n&lt;/ds:X509Data&gt;\n        &lt;/ds:KeyInfo&gt;\n    &lt;/ds:Signature&gt;\n    &lt;saml:Assertion xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" ID=\"GOSAMLASSERTION1484161444050744957968075\" Version=\"2.0\" IssueInstant=\"2017-01-10T19:04:04Z\"&gt;\n        &lt;saml:Issuer&gt;https://127.0.0.1/login&lt;/saml:Issuer&gt;\n        &lt;saml:Subject&gt;\n            &lt;saml:NameID Format=\"urn:oasis:names:tc:SAML:2.0:nameid-format:email\"&gt;admin@demo.mediaagility.com&lt;/saml:NameID&gt;\n            &lt;saml:SubjectConfirmation Method=\"urn:oasis:names:tc:SAML:2.0:cm:bearer\"&gt;\n                &lt;saml:SubjectConfirmationData NotOnOrAfter=\"2017-01-12T19:04:04Z\" Recipient=\"https://mail.google.com/a/demo.mediaagility.com\" InResponseTo=\"aejlhgifgamagkaobldafdnifhllkclmdkdmgmjf\"/&gt;\n            &lt;/saml:SubjectConfirmation&gt;\n        &lt;/saml:Subject&gt;\n        &lt;saml:Conditions NotBefore=\"2017-01-10T19:04:04Z\" NotOnOrAfter=\"2017-01-12T19:04:04Z\"&gt;\n            &lt;saml:AudienceRestriction&gt;\n                &lt;saml:Audience&gt;https://mail.google.com/a/demo.mediaagility.com&lt;/saml:Audience&gt;\n            &lt;/saml:AudienceRestriction&gt;\n        &lt;/saml:Conditions&gt;\n        &lt;saml:AuthnStatement AuthnInstant=\"2017-01-10T19:04:04Z\" SessionNotOnOrAfter=\"2017-01-12T19:04:04Z\"&gt;\n            &lt;saml:AuthnContext&gt;\n                &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:Password&lt;/saml:AuthnContextClassRef&gt;\n            &lt;/saml:AuthnContext&gt;\n        &lt;/saml:AuthnStatement&gt;\n    &lt;/saml:Assertion&gt;\n&lt;/samlp:Response&gt;\n</code></pre>\n\n<p>but when verifying the same signed saml xml using this command:</p>\n\n<pre><code>xmlsec1 --verify --X509-skip-strict-checks --id-attr:ID \"urn:oasis:names:tc:SAML:2.0:protocol:Assertion\" --trusted-pem keys/cacert.pem saml_response.xml\n</code></pre>\n\n<p>I am getting this:</p>\n\n<pre><code>func=xmlSecBase64Decode:file=base64.c:line=740:obj=unknown:subj=buf != NULL:error=100:assertion: \nfunc=xmlSecBufferBase64NodeContentRead:file=buffer.c:line=563:obj=unknown:subj=xmlSecBase64Decode:error=1:xmlsec library function failed: \nfunc=xmlSecTransformVerifyNodeContent:file=transforms.c:line=1776:obj=sha1:subj=xmlSecBufferBase64NodeContentRead:error=1:xmlsec library function failed: \nfunc=xmlSecDSigReferenceCtxProcessNode:file=xmldsig.c:line=1602:obj=unknown:subj=xmlSecTransformVerifyNodeContent:error=1:xmlsec library function failed: \nfunc=xmlSecDSigCtxProcessSignedInfoNode:file=xmldsig.c:line=804:obj=unknown:subj=xmlSecDSigReferenceCtxProcessNode:error=1:xmlsec library function failed:node=Reference\nfunc=xmlSecDSigCtxProcessSignatureNode:file=xmldsig.c:line=547:obj=unknown:subj=xmlSecDSigCtxProcessSignedInfoNode:error=1:xmlsec library function failed: \nfunc=xmlSecDSigCtxVerify:file=xmldsig.c:line=366:obj=unknown:subj=xmlSecDSigCtxSigantureProcessNode:error=1:xmlsec library function failed: \nError: signature failed \nERROR\nSignedInfo References (ok/all): 0/1\nManifests References (ok/all): 0/0\nError: failed to verify file \"saml_response.xml\"\n</code></pre>\n\n<p>I want to use SAML with Google as Google as SP.</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "edited": false, "score": 0, "creation_date": 1484165024, "post_id": 41599726, "comment_id": 70402153, "body": "Any specific reason to use <code>BS</code> instead of another library? for simpler things I like to use <code>PyQuery</code> and it use DOM selectors to extract information."}, {"owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "edited": false, "score": 0, "creation_date": 1484165180, "post_id": 41599726, "comment_id": 70402256, "body": "can you share r_text ?"}, {"owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "reply_to_user": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "edited": false, "score": 0, "creation_date": 1484165361, "post_id": 41599726, "comment_id": 70402361, "body": "@RafaelAguilar nope. just wanted to scrape the site for comments. would you suggest PyQuery for that?"}, {"owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "reply_to_user": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "edited": false, "score": 0, "creation_date": 1484165414, "post_id": 41599726, "comment_id": 70402407, "body": "@Shijo no, I tried by stack recognizes it as spam"}, {"owner": {"reputation": 8048, "user_id": 2658948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFeL8.jpg?s=128&g=1", "display_name": "dstudeba", "link": "https://stackoverflow.com/users/2658948/dstudeba"}, "edited": false, "score": 0, "creation_date": 1484166154, "post_id": 41599726, "comment_id": 70402798, "body": "when you do a <code>print soup</code> do you see the <code>tr</code> you are trying to get in the soup?"}, {"owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "edited": false, "score": 0, "creation_date": 1484166437, "post_id": 41599726, "comment_id": 70402942, "body": "@AndrewF Yes, I&#39;ve made an example snippet so you can try it out."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1484166803, "post_id": 41599726, "comment_id": 70403112, "body": "@AndrewF what output are you getting with the above code? Thanks."}, {"owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1484167591, "post_id": 41599726, "comment_id": 70403525, "body": "@alecxe I&#39;m getting a &#39;None&#39; on the print return statement"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1484167621, "post_id": 41599726, "comment_id": 70403542, "body": "@AndrewF interesting, works for me as is. Did it work for you before?"}, {"owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1484168372, "post_id": 41599726, "comment_id": 70403904, "body": "@alecxe  hey, that&#39;s really weird. could you please share all your code with me to try it out in my IDE. And no it didn&#39;t work on those print statements at all."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1484168585, "post_id": 41599726, "comment_id": 70404005, "body": "@AndrewF I&#39;ve just executed the code as is. Have you tried to change <code>html.parser</code> to, say, <code>html5lib</code> or <code>lxml</code> (they need to be installed)?"}, {"owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1484169023, "post_id": 41599726, "comment_id": 70404250, "body": "@alecxe hey, sorry for the bother but the strangest thing happened next. I reloaded the page and it worked but it&#39;s not giving me all the elements again. To give you a more concrete example, in this one here: <code>print soup.find(&#39;table&#39;, id=&#39;discussion-list&#39;) </code>. I get the output ` &lt;/thead&gt; &lt;input name=&quot;code&quot; type=&quot;hidden&quot; value=&quot;cotn:SEE.L&quot;/&gt; &lt;input name=&quot;it&quot; type=&quot;hidden&quot; value=&quot;le&quot;/&gt; &lt;input name=&quot;display&quot; type=&quot;hidden&quot; value=&quot;discussion&quot;/&gt; &lt;/table&gt;` at the end of the print. But in the source code there&#39;s a tbody before the end."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "edited": false, "score": 0, "creation_date": 1484220828, "post_id": 41600017, "comment_id": 70425515, "body": "thanks! this did prove to be an easier way to go about it."}], "tags": [], "owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "is_accepted": false, "score": 1, "last_activity_date": 1484166382, "last_edit_date": 1484166382, "creation_date": 1484166070, "answer_id": 41600017, "question_id": 41599726, "link": "https://stackoverflow.com/questions/41599726/beautifulsoup-not-finding-tr-id/41600017#41600017", "title": "BeautifulSoup not finding tr id", "body": "<p>@AndrewF:</p>\n\n<p>I'd suggest you to use <code>PyQuery</code> for simpler tasks as extract comments, here is a snippet to show the simplicity of it:</p>\n\n<pre><code>import requests\nimport pyquery\n\nhead= {\n'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36',\n'Content-Type': 'text/html',}\n\nr = requests.get('http://www.iii.co.uk/investment/detail?code=cotn:LSE:SEE&amp;display=discussion', headers=head)\n\nr_text = r.text\npq = pyquery.PyQuery(r_text)\n\nfor a in pq('tr.comment div'):\n    if a.text.strip():\n        print(a.text.strip())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "edited": false, "score": 0, "creation_date": 1484220766, "post_id": 41603868, "comment_id": 70425473, "body": "Thank you SO MUCH !!! I was struggling to find the reason for this for sooo long. Just for my future reference, is there a specific place to find out if there are bugs in package and version combo I&#39;m using?"}, {"owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "reply_to_user": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "edited": false, "score": 0, "creation_date": 1484221012, "post_id": 41603868, "comment_id": 70425644, "body": "@AndrewF the reason why I know this bug is I answered a lot this question in stack overflow. If you can, I recommend you install and use lxml for speed. If you\u2019re using a version of Python 2 earlier than 2.7.3, or a version of Python 3 earlier than 3.2.2, it\u2019s essential that you install lxml or html5lib\u2013Python\u2019s built-in HTML parser is just not very good in older versions."}], "tags": [], "owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "is_accepted": true, "score": 2, "last_activity_date": 1484221105, "last_edit_date": 1484221105, "creation_date": 1484185947, "answer_id": 41603868, "question_id": 41599726, "link": "https://stackoverflow.com/questions/41599726/beautifulsoup-not-finding-tr-id/41603868#41603868", "title": "BeautifulSoup not finding tr id", "body": "<p>I believe <code>html.parser</code> is unstable is python2, use <code>lxml</code> or <code>html5lib</code></p>\n\n<pre><code>soup = bs(r_text, \"lxml\")\n</code></pre>\n\n<p>This quote is from <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#problems-after-installation\" rel=\"nofollow noreferrer\">Document</a>:</p>\n\n<blockquote>\n  <p>If you can, I recommend you install and use lxml for speed. If you\u2019re\n  using a version of Python 2 earlier than 2.7.3, or a version of Python\n  3 earlier than 3.2.2, it\u2019s essential that you install lxml or\n  html5lib\u2013<strong>Python\u2019s built-in HTML parser is just not very good in older\n  versions.</strong></p>\n</blockquote>\n"}], "owner": {"reputation": 59, "user_id": 6579213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c12018f264fc616f948f40c64afc2b56?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/6579213/andrewf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 1, "accepted_answer_id": 41603868, "answer_count": 2, "score": 0, "last_activity_date": 1484221105, "creation_date": 1484164923, "question_id": 41599726, "link": "https://stackoverflow.com/questions/41599726/beautifulsoup-not-finding-tr-id", "title": "BeautifulSoup not finding tr id", "body": "<p>I've run this web scraping exercise using the requests and BeautifulSoup module in python 2.7.12. My problem is that I can't seem to get the soup object to return a specific tr based on the id, as well as a few other html elements with id that I've picked at random including the ones in the below print statements. Any idea why that's not working? Any help would be greatly appreciated.    </p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup as bs\n\nhead= {\n'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36',\n'Content-Type': 'text/html',}\n\nr = requests.get('http://www.iii.co.uk/investment/detail?code=cotn:LSE:SEE&amp;display=discussion', headers=head)\n\nr_text = r.text\nsoup = bs(r_text, \"html.parser\")\n\nprint soup.find(\"tr\",id=\"disc1-12056888\")\nprint soup.find('table', id='discussion-list')\n</code></pre>\n"}, {"tags": ["python", "list", "filter", "runtime", "simultaneous"], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1484165846, "post_id": 41599741, "comment_id": 70402621, "body": "since performance is a concern, using a generator expression instead of a list comprehension seems like a better approach."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1484165125, "last_edit_date": 1484165125, "creation_date": 1484164949, "answer_id": 41599741, "question_id": 41599609, "link": "https://stackoverflow.com/questions/41599609/filter-two-lengthy-paired-lists-of-data/41599741#41599741", "title": "Filter two lengthy paired lists of data", "body": "<p>You may use <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow noreferrer\"><strong><code>zip</code></strong></a> with <em>list comprehension</em> expression to filter the values. For example, let's say the value of your lists are:</p>\n\n<pre><code># For demo purpose\n&gt;&gt;&gt; measurement = ['a', 'b', '', 'c', '']\n&gt;&gt;&gt; time        = [  1,   2,  3,   4,  5]\n</code></pre>\n\n<p>Below expression will filter the item from both lists if value is <code>''</code> in <code>measurement</code> list. </p>\n\n<pre><code>&gt;&gt;&gt; measurement, time = zip(*[(i, j) for i, j in zip(measurement, time) if i !=''])\n</code></pre>\n\n<p>Final values hold by your <code>measurement</code> and <code>time</code> list will be:</p>\n\n<pre><code>&gt;&gt;&gt; measurement\n('a', 'b', 'c')\n&gt;&gt;&gt; time\n(1, 2, 4)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1484164962, "creation_date": 1484164962, "answer_id": 41599744, "question_id": 41599609, "link": "https://stackoverflow.com/questions/41599609/filter-two-lengthy-paired-lists-of-data/41599744#41599744", "title": "Filter two lengthy paired lists of data", "body": "<p>Use <code>zip</code> and <code>filter</code>.  Here I unzip the two lists again, but you don't have to.</p>\n\n<pre><code>from numbers import Number\ntime, measurement = zip(*filter(lambda x: isinstance(x[1], Number), zip(time, measurement)))\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 7010243, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-AgUhWyayjHY/AAAAAAAAAAI/AAAAAAAAD8U/04ZJpZtQtw4/photo.jpg?sz=128", "display_name": "Andrew Louis", "link": "https://stackoverflow.com/users/7010243/andrew-louis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 1, "accepted_answer_id": 41599741, "answer_count": 2, "score": 0, "last_activity_date": 1484165125, "creation_date": 1484164520, "question_id": 41599609, "link": "https://stackoverflow.com/questions/41599609/filter-two-lengthy-paired-lists-of-data", "title": "Filter two lengthy paired lists of data", "body": "<p>I have a list of time data, with each value being a datetime value.\nI have a list of measurements that are floats to go along with the time data, i.e. measurement[i] occurred at time[i]. </p>\n\n<p>Some measurements are not floats, and are empty strings. </p>\n\n<p>I want to filter out all measurements that are empty strings, and equivalently filter out the times that are associated with these measurements. </p>\n\n<p>The time and measurement lists are quite lengthy, so it would be great to factor in runtime into a solution for this problem</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "html", "beautifulsoup"], "comments": [{"owner": {"reputation": 236, "user_id": 5100922, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b0adedf303484c9a92ee9e144301587?s=128&d=identicon&r=PG&f=1", "display_name": "Zanzag", "link": "https://stackoverflow.com/users/5100922/zanzag"}, "edited": false, "score": 0, "creation_date": 1484164682, "post_id": 41599600, "comment_id": 70401944, "body": "If if had to guess I would say <code>soup.find</code> has not found any ocurrence and therefore it has returned <code>None</code>. That&#39;s why you are getting an error when trying to get the lenght. Look again at the parameters of that function and the file you are working with to see why it&#39;s not finding anything."}, {"owner": {"reputation": 236, "user_id": 5100922, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b0adedf303484c9a92ee9e144301587?s=128&d=identicon&r=PG&f=1", "display_name": "Zanzag", "link": "https://stackoverflow.com/users/5100922/zanzag"}, "edited": false, "score": 0, "creation_date": 1484164884, "post_id": 41599600, "comment_id": 70402073, "body": "And about the text, the random spaces and indentation makes it look pretty messed up. The last part could probably be took together in the form of a list comprehension rather than three differents <code>Try</code> <code>Except</code>. Also don&#39;t use simply <code>Except</code>, it may silent some exceptions you don&#39;t want to. In the case you can&#39;t be more precise about the expected exception use <code>Except exception as e</code> and in that block `print(e)&#180;"}, {"owner": {"reputation": 583, "user_id": 7128498, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88699db4cbfc20b0beb61bc5267f7dbe?s=128&d=identicon&r=PG&f=1", "display_name": "im7", "link": "https://stackoverflow.com/users/7128498/im7"}, "reply_to_user": {"reputation": 236, "user_id": 5100922, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b0adedf303484c9a92ee9e144301587?s=128&d=identicon&r=PG&f=1", "display_name": "Zanzag", "link": "https://stackoverflow.com/users/5100922/zanzag"}, "edited": false, "score": 0, "creation_date": 1484203487, "post_id": 41599600, "comment_id": 70415229, "body": "@Zanzag Thank you for writing your opinion.  I don&#39;t quite understand what you mean when you say that the text is messed up.  I have posted the html code and the code so that you can inspect them and diagnose the problem rather than guess."}], "answers": [{"tags": [], "owner": {"reputation": 997, "user_id": 1065383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HiBnk.jpg?s=128&g=1", "display_name": "Malcolm Murdoch", "link": "https://stackoverflow.com/users/1065383/malcolm-murdoch"}, "is_accepted": false, "score": 1, "last_activity_date": 1484165411, "creation_date": 1484165411, "answer_id": 41599867, "question_id": 41599600, "link": "https://stackoverflow.com/questions/41599600/beautiful-soup-code-gives-unexpected-results-edited/41599867#41599867", "title": "Beautiful Soup code gives unexpected results (edited)", "body": "<p>I think you're misreading the attribute searching.</p>\n\n<p>If you're looking for 'has summary equal to \"Popularity for top 1000\"', you should use:</p>\n\n<pre><code>soup.find('table', summary=\"Popularity for top 1000\")\n</code></pre>\n\n<p>Hopefully that works for you!</p>\n"}, {"comments": [{"owner": {"reputation": 583, "user_id": 7128498, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88699db4cbfc20b0beb61bc5267f7dbe?s=128&d=identicon&r=PG&f=1", "display_name": "im7", "link": "https://stackoverflow.com/users/7128498/im7"}, "edited": false, "score": 1, "creation_date": 1484205292, "post_id": 41603912, "comment_id": 70416045, "body": "I have edited the code removing the _ as suggested.  The code continues to fail for some reason.  Your opinions and feedback are welcome."}, {"owner": {"reputation": 583, "user_id": 7128498, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88699db4cbfc20b0beb61bc5267f7dbe?s=128&d=identicon&r=PG&f=1", "display_name": "im7", "link": "https://stackoverflow.com/users/7128498/im7"}, "edited": false, "score": 0, "creation_date": 1484206568, "post_id": 41603912, "comment_id": 70416672, "body": "I did not.  I restored it. Somehow unselects it by itself. The same applies for the previous comment. Thank you for your answer!"}, {"owner": {"reputation": 583, "user_id": 7128498, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88699db4cbfc20b0beb61bc5267f7dbe?s=128&d=identicon&r=PG&f=1", "display_name": "im7", "link": "https://stackoverflow.com/users/7128498/im7"}, "edited": false, "score": 0, "creation_date": 1484207078, "post_id": 41603912, "comment_id": 70416912, "body": "Yes it does! But please explain to me:  Why the value passed to summary is &quot;Popularity for top 1000&quot;?  The html code has summary = &quot;formatting&quot; and the &quot;Popularity for top 1000&quot; appears within &lt;h&gt; tags."}, {"owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "reply_to_user": {"reputation": 583, "user_id": 7128498, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88699db4cbfc20b0beb61bc5267f7dbe?s=128&d=identicon&r=PG&f=1", "display_name": "im7", "link": "https://stackoverflow.com/users/7128498/im7"}, "edited": false, "score": 0, "creation_date": 1484207396, "post_id": 41603912, "comment_id": 70417041, "body": "@im7  to narrow the scope, so that you do not need to worry about the first table in the HTML code, because it&#39;s did not exist in the small scope."}], "tags": [], "owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "is_accepted": true, "score": 1, "last_activity_date": 1484206229, "last_edit_date": 1484206229, "creation_date": 1484186240, "answer_id": 41603912, "question_id": 41599600, "link": "https://stackoverflow.com/questions/41599600/beautiful-soup-code-gives-unexpected-results-edited/41603912#41603912", "title": "Beautiful Soup code gives unexpected results (edited)", "body": "<pre><code>summary_ = \"formatting\"\nallign_ = \"right\"\n</code></pre>\n\n<p>delete the <code>_</code>, only <code>class_</code> has <code>_</code>.</p>\n\n<blockquote>\n  <p>It\u2019s very useful to search for a tag that has a certain CSS class, but\n  the name of the CSS attribute, \u201c<code>class</code>\u201d, is a reserved word in Python.\n  Using class as a keyword argument will give you a syntax error. As of\n  Beautiful Soup 4.1.2, you can search by CSS class using the keyword\n  argument <code>class_</code></p>\n</blockquote>\n\n<pre><code>with open('/home/li/Downloads/google-python-exercises/babynames/baby2006.html') as f:\n    soup = bs4.BeautifulSoup(f, 'lxml')\n    table = soup.find(summary=\"Popularity for top 1000\")\n    for tr in table.find_all('tr'):\n        tds = list(tr.stripped_strings)\n        print(tds)\n</code></pre>\n\n<p>out:</p>\n\n<pre><code>['Rank', 'Male name', 'Female name']\n['1', 'Jacob', 'Emily']\n['2', 'Michael', 'Emma']\n['3', 'Joshua', 'Madison']\n['4', 'Ethan', 'Isabella']\n['5', 'Matthew', 'Ava']\n['6', 'Daniel', 'Abigail']\n['7', 'Christopher', 'Olivia']\n['8', 'Andrew', 'Hannah']\n['9', 'Anthony', 'Sophia']\n['10', 'William', 'Samantha']\n['11', 'Joseph', 'Elizabeth']\n</code></pre>\n"}], "owner": {"reputation": 583, "user_id": 7128498, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/88699db4cbfc20b0beb61bc5267f7dbe?s=128&d=identicon&r=PG&f=1", "display_name": "im7", "link": "https://stackoverflow.com/users/7128498/im7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 41603912, "answer_count": 2, "score": 1, "last_activity_date": 1484206229, "creation_date": 1484164487, "last_edit_date": 1484204942, "question_id": 41599600, "link": "https://stackoverflow.com/questions/41599600/beautiful-soup-code-gives-unexpected-results-edited", "title": "Beautiful Soup code gives unexpected results (edited)", "body": "<p>(The question was edited based on feedback received.  I will continue to edit it based on input received until the issue is resolved)</p>\n\n<p>I am learning Pyhton and beautiful soup in particular and I am doing the Google Exercise on Regex using the set of html files that contains popular baby names for different years (e.g. baby1990.html etc). You can find this dataset if you are interested here: <a href=\"https://developers.google.com/edu/python/exercises/baby-names\" rel=\"nofollow noreferrer\">https://developers.google.com/edu/python/exercises/baby-names</a></p>\n\n<p>Each html file contains a table with baby names data that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r4GpY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r4GpY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Before the table with the baby names there is another table.  The html code in the Tags of the two tables is respectively the following</p>\n\n<pre><code>&lt;table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"4\"&gt; # Unwanted table\n&lt;table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"4\" summary=\"formatting\"&gt;  # targeted table\n</code></pre>\n\n<p>You may observe that the targeted differs from the unwanted table by the attribute: summary=\"formatting\"</p>\n\n<p>The first table--the one we must skip -- has the following html code:</p>\n\n<pre><code>&lt;table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"4\"&gt;\n  &lt;tbody&gt;\n  &lt;tr&gt;&lt;td class=\"sstop\" valign=\"bottom\" align=\"left\" width=\"25%\"&gt;\n      Social Security Online\n    &lt;/td&gt;&lt;td valign=\"bottom\" class=\"titletext\"&gt;\n      &lt;!-- sitetitle --&gt;Popular Baby Names\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr bgcolor=\"#333366\"&gt;&lt;td colspan=\"2\" height=\"2\"&gt;&lt;/td&gt;&lt;/tr&gt;\n  &lt;tr&gt;&lt;td class=\"graystars\" width=\"25%\" valign=\"top\"&gt;\n       &lt;a href=\"../OACT/babynames/\"&gt;Popular Baby Names&lt;/a&gt;&lt;/td&gt;&lt;td valign=\"top\"&gt; \n      &lt;a href=\"http://www.ssa.gov/\"&gt;&lt;img src=\"/templateimages/tinylogo.gif\"\n      width=\"52\" height=\"47\" align=\"left\"\n      alt=\"SSA logo: link to Social Security home page\" border=\"0\"&gt;&lt;/a&gt;&lt;a name=\"content\"&gt;&lt;/a&gt;\n      &lt;h1&gt;Popular Names by Birth Year&lt;/h1&gt;September 12, 2007&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr bgcolor=\"#333366\"&gt;&lt;td colspan=\"2\" height=\"1\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n</code></pre>\n\n<p>Within the targeted table the code is the following:</p>\n\n<pre><code>&lt;table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"4\" summary=\"formatting\"&gt;\n&lt;tr valign=\"top\"&gt;&lt;td width=\"25%\" class=\"greycell\"&gt;\n&lt;a href=\"../OACT/babynames/background.html\"&gt;Background information&lt;/a&gt;\n&lt;p&gt;&lt;br /&gt;\n&amp;nbsp; Select another &lt;label for=\"yob\"&gt;year of birth&lt;/label&gt;?&lt;br /&gt;      \n&lt;form method=\"post\" action=\"/cgi-bin/popularnames.cgi\"&gt;\n&amp;nbsp; &lt;input type=\"text\" name=\"year\" id=\"yob\" size=\"4\" value=\"1990\"&gt;\n&lt;input type=\"hidden\" name=\"top\" value=\"1000\"&gt;\n&lt;input type=\"hidden\" name=\"number\" value=\"\"&gt;\n&amp;nbsp; &lt;input type=\"submit\" value=\"   Go  \"&gt;&lt;/form&gt;\n&lt;/td&gt;&lt;td&gt;\n&lt;h3 align=\"center\"&gt;Popularity in 1990&lt;/h3&gt;\n&lt;p align=\"center\"&gt;\n&lt;table width=\"48%\" border=\"1\" bordercolor=\"#aaabbb\"\n cellpadding=\"2\" cellspacing=\"0\" summary=\"Popularity for top 1000\"&gt;\n&lt;tr align=\"center\" valign=\"bottom\"&gt;\n&lt;th scope=\"col\" width=\"12%\" bgcolor=\"#efefef\"&gt;Rank&lt;/th&gt;\n&lt;th scope=\"col\" width=\"41%\" bgcolor=\"#99ccff\"&gt;Male name&lt;/th&gt;\n&lt;th scope=\"col\" bgcolor=\"pink\" width=\"41%\"&gt;Female name&lt;/th&gt;&lt;/tr&gt;\n&lt;tr align=\"right\"&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;Michael&lt;/td&gt;&lt;td&gt;Jessica&lt;/td&gt; # Targeted row\n&lt;tr align=\"right\"&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;Christopher&lt;/td&gt;&lt;td&gt;Ashley&lt;/td&gt; # Targeted row\netc...\n</code></pre>\n\n<p>You can see that the distinctive attribute of the targeted rows is: align = \"right\".</p>\n\n<p>Now the code to extract the content of the targeted cells is the following:</p>\n\n<pre><code>with open(\"C:/Users/ALEX/MyFiles/JUPYTER NOTEBOOKS/google-python-exercises/babynames/baby1990.html\",\"r\") \\\nas f: soup = bs(f.read(), 'html.parser') \n\nprint soup.tr\nprint \"number of elemenents in the soup:\" , len(soup)\n\nright_table = soup.find(\"table\", summary = \"formatting\")\n\nprint(right_table.prettify())\n\nprint \"right_table\" , len(right_table)\n\nprint(right_table[0].prettify())\n\nfor row in right_table[1].find_all(\"tr\", allign = \"right\"):\n\n     cells = row.find_all(\"td\")\n\n     try:\n                            print \"cells[0]: \" , cells[0]\n     except:\n                            print \"cells[0] : NaN\"\n     try:\n                            print \"cells[1]: \" , cells[1]\n     except:\n                            print \"cells[1] : NaN\"    \n     try:\n                            print \"cells[2]: \" , cells[2]\n     except:\n                            print \"cells[2] : NaN\"\n</code></pre>\n\n<p>The output is an error message:</p>\n\n<pre><code>    &lt;tr&gt;&lt;td align=\"left\" class=\"sstop\" valign=\"bottom\" width=\"25%\"&gt;\n      Social Security Online\n    &lt;/td&gt;&lt;td class=\"titletext\" valign=\"bottom\"&gt;\n&lt;!-- sitetitle --&gt;Popular Baby Names\n    &lt;/td&gt;\n&lt;/tr&gt;\nnumber of elemenents in the soup: 4\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n&lt;ipython-input-116-3ec77a65b5ad&gt; in &lt;module&gt;()\n      6 right_table = soup.find(\"table\", summary = \"formatting\")\n      7 \n----&gt; 8 print(right_table.prettify())\n      9 \n     10 print \"right_table\" , len(right_table)\n\nC:\\users\\alex\\Anaconda2\\lib\\site-packages\\bs4\\element.pyc in prettify(self, encoding, formatter)\n   1198     def prettify(self, encoding=None, formatter=\"minimal\"):\n   1199         if encoding is None:\n-&gt; 1200             return self.decode(True, formatter=formatter)\n   1201         else:\n   1202             return self.encode(encoding, True, formatter=formatter)\n\nC:\\users\\alex\\Anaconda2\\lib\\site-packages\\bs4\\element.pyc in decode(self, indent_level, eventual_encoding, formatter)\n   1164             indent_contents = None\n   1165         contents = self.decode_contents(\n-&gt; 1166             indent_contents, eventual_encoding, formatter)\n   1167 \n   1168         if self.hidden:\n\nC:\\users\\alex\\Anaconda2\\lib\\site-packages\\bs4\\element.pyc in decode_contents(self, indent_level, eventual_encoding, formatter)\n   1233             elif isinstance(c, Tag):\n   1234                 s.append(c.decode(indent_level, eventual_encoding,\n-&gt; 1235                                   formatter))\n   1236             if text and indent_level and not self.name == 'pre':\n   1237                 text = text.strip()\n\n... last 2 frames repeated, from the frame below ...\n\nC:\\users\\alex\\Anaconda2\\lib\\site-packages\\bs4\\element.pyc in decode(self, indent_level, eventual_encoding, formatter)\n   1164             indent_contents = None\n   1165         contents = self.decode_contents(\n-&gt; 1166             indent_contents, eventual_encoding, formatter)\n   1167 \n   1168         if self.hidden:\n\nRuntimeError: maximum recursion depth exceeded while calling a Python object\n</code></pre>\n\n<p>The questions are the following:</p>\n\n<ol>\n<li><p>Why the code returns the first table -- the unwanted one-- given that we have passed the argument summary = \"formatting\"?</p></li>\n<li><p>What the error message implies?  Why it is created?</p></li>\n<li><p>What are other errors you can observe in the code -- if any?</p></li>\n</ol>\n\n<p>Your advice will be appreciated.</p>\n"}, {"tags": ["python", "string", "python-3.x", "replace", "byte"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1484166093, "post_id": 41599579, "comment_id": 70402762, "body": "Are you trying to remove whitespace solely from the beginning and end?  Because there is a <code>strip</code> function that does just that.  If you&#39;re removing all whitespace, it should be noted that you&#39;re missing a space <code>&#39; &#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 2770723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adb384c145581b61cbfe3d9c802c686?s=128&d=identicon&r=PG&f=1", "display_name": "SashaGreen", "link": "https://stackoverflow.com/users/2770723/sashagreen"}, "edited": false, "score": 0, "creation_date": 1484166499, "post_id": 41599936, "comment_id": 70402969, "body": "This works for me. So I suppose the lines of code in the package should be modified to this. Thank you!"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "reply_to_user": {"reputation": 133, "user_id": 2770723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adb384c145581b61cbfe3d9c802c686?s=128&d=identicon&r=PG&f=1", "display_name": "SashaGreen", "link": "https://stackoverflow.com/users/2770723/sashagreen"}, "edited": false, "score": 1, "creation_date": 1484166863, "post_id": 41599936, "comment_id": 70403140, "body": "@SashaGreen it means that the package was designed to work with strings, but you&#39;re trying to make it work with bytes.  Be very careful before you make any changes.  If this package is necessary for what you&#39;re doing, you should make every attempt to change your inputs rather than someone elses code."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 4, "last_activity_date": 1484166945, "last_edit_date": 1484166945, "creation_date": 1484165712, "answer_id": 41599936, "question_id": 41599579, "link": "https://stackoverflow.com/questions/41599579/python-string-replace-not-working-bytes-input-expected/41599936#41599936", "title": "Python string replace not working (bytes input expected?)", "body": "<p><code>replace</code> works with <code>str</code> or <code>bytes</code> but not both mixed.</p>\n\n<p>You could rewrite it like this:</p>\n\n<pre><code>for s in (b'\\f', b'\\n', b'\\r', b'\\t', b'\\v'): #strip whitespaces except space!\n    text = text.replace(s, b'')\n</code></pre>\n\n<p>you could also to apply <code>strip</code> which works with <code>bytes</code> type:</p>\n\n<pre><code>text = text.strip()  # remove all of the above + space\n</code></pre>\n\n<p>Also possible: convert back to <code>str</code> beforehand, trying:</p>\n\n<pre><code>text = str(text)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>text = text.decode('utf-8')\n</code></pre>\n\n<p>(choose the best solution to avoid modifying a third-party package, as Patrick noted)</p>\n"}], "owner": {"reputation": 133, "user_id": 2770723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adb384c145581b61cbfe3d9c802c686?s=128&d=identicon&r=PG&f=1", "display_name": "SashaGreen", "link": "https://stackoverflow.com/users/2770723/sashagreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6699, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1484166945, "creation_date": 1484164411, "last_edit_date": 1484165052, "question_id": 41599579, "link": "https://stackoverflow.com/questions/41599579/python-string-replace-not-working-bytes-input-expected", "title": "Python string replace not working (bytes input expected?)", "body": "<p>I am trying to use Pyner (<a href=\"https://github.com/dat/pyner\" rel=\"nofollow noreferrer\">https://github.com/dat/pyner</a>) for NER. I give it a string of text to extract named entities from it. But I get an error. I am attaching the snipet where the error arises: </p>\n\n<pre><code>for s in ('\\f', '\\n', '\\r', '\\t', '\\v'): #strip whitespaces\n    text = text.replace(s, '')\n\nError message: {TypeError: a bytes-like object is required, not 'str'}\n</code></pre>\n\n<p>This error occurs even when I try multiple types of inputs (bytes objects)</p>\n\n<pre><code>text = b'This'\ntext = bytes(\"This\".encode('utf-8'))\n</code></pre>\n\n<p>I think the problem is that replace is not getting the right input type. I am using python 3.5. What am I doing wrong? Please help!</p>\n"}, {"tags": ["python", "pandas", "trend"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1484166640, "post_id": 41599501, "comment_id": 70403039, "body": "<code>df[&#39;Trend&#39;] = np.sign(df[&#39;m_a&#39;].diff().fillna(0)).map({0:&#39;FLAT&#39;,1:&#39;UP&#39;,-1:&zwnj;&#8203;&#39;DOWN&#39;})</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "is_accepted": true, "score": 3, "last_activity_date": 1484166518, "last_edit_date": 1484166518, "creation_date": 1484164934, "answer_id": 41599731, "question_id": 41599501, "link": "https://stackoverflow.com/questions/41599501/define-trend-pandas-python/41599731#41599731", "title": "Define trend pandas/python", "body": "<p>You can use something like this with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html\" rel=\"nofollow noreferrer\">np.where</a> and expand on the logic as required:   </p>\n\n<pre><code>df['Trend'] = np.where(df['m_a'] &lt; df['m_a'].shift(),'DOWN',\n              np.where(df['m_a'] &gt; df['m_a'].shift(),'UP','FLAT'))\n\n\n  price m_a Trend\n0   1   2   FLAT\n1   2   2   FLAT\n2   3   4   UP\n3   4   5   UP\n4   5   6   UP\n5   6   7   UP\n6   7   -1  DOWN\n7   8   2   UP\n8   6   7   UP\n9   7   -6  DOWN\n10  8   -7  DOWN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1484171096, "last_edit_date": 1484171096, "creation_date": 1484170733, "answer_id": 41601157, "question_id": 41599501, "link": "https://stackoverflow.com/questions/41599501/define-trend-pandas-python/41601157#41601157", "title": "Define trend pandas/python", "body": "<p>I'd do it this way:</p>\n\n<p>Setup sample DF:</p>\n\n<pre><code>In [31]: df = pd.DataFrame(np.random.rand(20)*100, columns=['price'])\n\nIn [32]: df\nOut[32]:\n        price\n0   20.555945\n1   58.312756\n2    3.723192\n3   22.298697\n4   71.533725\n5   71.257019\n6   87.355602\n7   55.076239\n8   67.941031\n9   77.437012\n10  94.496416\n11  16.937017\n12  68.494663\n13  79.112648\n14  88.298477\n15  59.028143\n16  16.991677\n17  14.835137\n18  75.095696\n19  95.177781\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>In [33]: df['trend'] = np.sign(df['price']\n    ...:                         .rolling(window=5)\n    ...:                         .mean()\n    ...:                         .diff()\n    ...:                         .fillna(0)) \\\n    ...:                         .map({0:'FLAT',1:'UP',-1:'DOWN'})\n    ...:\n\nIn [34]: df\nOut[34]:\n        price trend\n0   20.555945  FLAT\n1   58.312756  FLAT\n2    3.723192  FLAT\n3   22.298697  FLAT\n4   71.533725  FLAT\n5   71.257019    UP\n6   87.355602    UP\n7   55.076239    UP\n8   67.941031    UP\n9   77.437012    UP\n10  94.496416    UP\n11  16.937017  DOWN\n12  68.494663    UP\n13  79.112648    UP\n14  88.298477    UP\n15  59.028143  DOWN\n16  16.991677    UP\n17  14.835137  DOWN\n18  75.095696  DOWN\n19  95.177781    UP\n</code></pre>\n\n<p>Plot:</p>\n\n<pre><code>In [39]: df.price.plot(figsize=(16,6))\nOut[39]: &lt;matplotlib.axes._subplots.AxesSubplot at 0xc16e4a8&gt;\n\nIn [40]: plt.locator_params(nbins=len(df))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/t8KDH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t8KDH.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 53, "user_id": 7406423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d702165cb6262f4f054e9d8fb26e9c?s=128&d=identicon&r=PG&f=1", "display_name": "goodw1n", "link": "https://stackoverflow.com/users/7406423/goodw1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2027, "favorite_count": 1, "accepted_answer_id": 41599731, "answer_count": 2, "score": 4, "last_activity_date": 1484171096, "creation_date": 1484164153, "question_id": 41599501, "link": "https://stackoverflow.com/questions/41599501/define-trend-pandas-python", "title": "Define trend pandas/python", "body": "<p>I have dataset:</p>\n\n<pre><code>print (df['price'])\n\n0      0.435\n1     -2.325\n2     -3.866\n...\n58   -35.876\n59   -37.746\nName: price, dtype: float64\n</code></pre>\n\n<p>moving average:</p>\n\n<pre><code>m_a = df['price'].rolling(window=5).mean()\nm_a.plot()\nprint(m_a)\n0         NaN\n1         NaN\n2         NaN\n3         NaN\n4     -2.8976\n5     -4.9628\n...\n58   -36.2204\n59   -36.4632\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6rg6F.png\" rel=\"nofollow noreferrer\">M/A</a></p>\n\n<p>How can I determine the trend for the last n rows - FLAT/UP/DOWN?\nIn text, or int def result, like:</p>\n\n<pre><code>trend = gettrend(df,5)\nprint(trend)\n&gt;&gt;UP\n</code></pre>\n"}]