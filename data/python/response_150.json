[{"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 800, "user_id": 7571925, "user_type": "registered", "profile_image": "https://graph.facebook.com/812564295544843/picture?type=large", "display_name": "Blake", "link": "https://stackoverflow.com/users/7571925/blake"}, "edited": false, "score": 0, "creation_date": 1511396701, "post_id": 47445607, "comment_id": 81846986, "body": "how many data frames are in your example? I don&#39;t quite understand the formatting"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 800, "user_id": 7571925, "user_type": "registered", "profile_image": "https://graph.facebook.com/812564295544843/picture?type=large", "display_name": "Blake", "link": "https://stackoverflow.com/users/7571925/blake"}, "edited": false, "score": 0, "creation_date": 1511396761, "post_id": 47445607, "comment_id": 81847001, "body": "@Blake thanks for the edit.  You might be correct, but you&#39;re guessing just as I was.  However, I like your guess better (-:"}], "answers": [{"comments": [{"owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "edited": false, "score": 0, "creation_date": 1511396429, "post_id": 47445693, "comment_id": 81846908, "body": "This looks good but the final product should be a single dataframe, not a list of same dataframes."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "edited": false, "score": 4, "creation_date": 1511396572, "post_id": 47445693, "comment_id": 81846956, "body": "@Elisha512 I&#39;m glad it&#39;s helpful... but how would I know what your final output should look like if you don&#39;t show us.  I had to guess at creating sample data in the first place.  Why don&#39;t you take my sample data and edit your post.  Include in it what you want the final dataframe to look like."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1511396649, "last_edit_date": 1511396649, "creation_date": 1511395732, "answer_id": 47445693, "question_id": 47445607, "link": "https://stackoverflow.com/questions/47445607/how-to-find-an-intersection-of-a-list-of-dataframes-with-exactly-same-columns-an/47445693#47445693", "title": "How to find an intersection of a list of dataframes with exactly same columns and indexes but different values in pandas python?", "body": "<p>See if this works</p>\n\n<pre><code>from functools import reduce\nimport pandas as pd\n\nlis = [df1, df2, df3, ... , dfn]\n\ninner_align = lambda d1, d2: d1.align(d2, 'inner')[0]\nouter_align = lambda d1, d2: d1.align(d2, 'outer')[0]\n\ninner_indcs = reduce(inner_align, lis)\nouter_indcs = reduce(outer_aling, lis)\n\ninnout = lambda d, i, o: d.reindex_like(i).reindex_like(o)\n\noutput = innout(lis[0], inner_indcs, outer_indcs)\n</code></pre>\n\n<hr>\n\n<p><strong>Setup</strong>  </p>\n\n<pre><code>lis = [\n    pd.DataFrame(1, list('abc'), list('xyz')),\n    pd.DataFrame(1, list('acd'), list('wyz')),\n    pd.DataFrame(1, list('bec'), list('ysu')),\n    pd.DataFrame(1, list('cef'), list('xgy')),\n]\n\nprint(*lis, sep='\\n'*2)\n\n   x  y  z\na  1  1  1\nb  1  1  1\nc  1  1  1\n\n   w  y  z\na  1  1  1\nc  1  1  1\nd  1  1  1\n\n   y  s  u\nb  1  1  1\ne  1  1  1\nc  1  1  1\n\n   x  g  y\nc  1  1  1\ne  1  1  1\nf  1  1  1\n</code></pre>\n\n<hr>\n\n<p><strong>Demonstration</strong>  </p>\n\n<pre><code>from functools import reduce\nimport pandas as pd\n\ninner_align = lambda d1, d2: d1.align(d2, 'inner')[0]\nouter_align = lambda d1, d2: d1.align(d2, 'outer')[0]\n\ninner_indcs = reduce(inner_align, lis)\nouter_indcs = reduce(outer_align, lis)\n\ninnout = lambda d, i, o: d.reindex_like(i).reindex_like(o)\n\noutput = innout(lis[0], inner_indcs, outer_indcs)\n\nprint(output)\n\n    g   s   u   w   x    y   z\na NaN NaN NaN NaN NaN  NaN NaN\nb NaN NaN NaN NaN NaN  NaN NaN\nc NaN NaN NaN NaN NaN  1.0 NaN\nd NaN NaN NaN NaN NaN  NaN NaN\ne NaN NaN NaN NaN NaN  NaN NaN\nf NaN NaN NaN NaN NaN  NaN NaN\n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 47445693, "answer_count": 1, "score": 0, "last_activity_date": 1511396649, "creation_date": 1511395044, "question_id": 47445607, "link": "https://stackoverflow.com/questions/47445607/how-to-find-an-intersection-of-a-list-of-dataframes-with-exactly-same-columns-an", "title": "How to find an intersection of a list of dataframes with exactly same columns and indexes but different values in pandas python?", "body": "<p>I have a list of pandas dataframes as:</p>\n\n<pre><code>lis = [df1, df2, df3, ... , dfn]\n</code></pre>\n\n<p>I want to find an intersection of these dataframes such that my final df called \nintersection_df have only values that are common to all. All columns and rows should still be there but filled with na if no intersection is found.</p>\n\n<p>My dataframes are all multidimensional with same number of rows and columns which look like this like this:</p>\n\n<pre><code>              1   2   3   4   5  \ncat   cat     1   0   0   1   1  \n      dog     1   0   0   1   1  \n      fox     0   0   0   0   0  \n      jumps   0   0   1   1   1  \n      over    1   0   0   1   1  \n      the     1   0   0   1   1\ndog   cat     1   0   0   1   0  \n      dog     1   0   0   1   0  \n      fox     0   0   0   0   0  \n      jumps   1   0   0   1   0  \n      over    1   0   0   1   0  \n      the     1   1   0   1   0 \n</code></pre>\n\n<p>I have tried different solutions found on stackoverflow but no luck, any ideas?</p>\n"}, {"tags": ["python", "tdd", "stdin"], "comments": [{"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1511395171, "post_id": 47445606, "comment_id": 81846608, "body": "Do you mean &quot;test driven development&quot; with TDD? If so you should probably test input and algorithm seperatly. What do you mean with ZNEC runtime error? Can you give an <a href=\"https://stackoverflow.com/help/mcve\">minimal example</a> with the error output you are getting?"}, {"owner": {"reputation": 469, "user_id": 6860252, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/gnFFD.jpg?s=128&g=1", "display_name": "Mr. Jibz", "link": "https://stackoverflow.com/users/6860252/mr-jibz"}, "reply_to_user": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1511395496, "post_id": 47445606, "comment_id": 81846690, "body": "I&#39;ve edited my code above. I thought it was TDD, but perhaps I&#39;m incorrect. My code above is being checked against several testcases in the system. The test cases are being passed to input(), which then get passed to my function, however when I run the above the error reads <code>Runtime Error - NZEC</code> The instructions for the last two lines were because it says to &quot;Accept input from standard input&quot;"}, {"owner": {"reputation": 469, "user_id": 6860252, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/gnFFD.jpg?s=128&g=1", "display_name": "Mr. Jibz", "link": "https://stackoverflow.com/users/6860252/mr-jibz"}, "reply_to_user": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1511397434, "post_id": 47445606, "comment_id": 81847149, "body": "thoughts? @syntonym"}], "owner": {"reputation": 469, "user_id": 6860252, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/gnFFD.jpg?s=128&g=1", "display_name": "Mr. Jibz", "link": "https://stackoverflow.com/users/6860252/mr-jibz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511395430, "creation_date": 1511395025, "last_edit_date": 1511395430, "question_id": 47445606, "link": "https://stackoverflow.com/questions/47445606/reading-stdin-for-python-tdd", "title": "reading stdin for python TDD", "body": "<p>I want to learn how to read standard input with Python 2 TDD, but I keep hitting the ZNEC runtime error, and no solve is helping me pass. Here's my latest go at the function and test with input():</p>\n\n<pre><code>def parens_balance(line):\n    parensonly = ''.join(char for char in line if char == '(' or char == ')')\n    parenscount = 0\n    for i in parensonly: \n        if i == '(':\n            parenscount +=1 \n        elif i == ')':\n            parenscount +=1\n    if parenscount % 2 == 0:\n        print('{} {}'.format('Y', parensonly))\n    else:\n        print('{} {}'.format('N', parensonly))\n\nline = input()\nprint(parens_balance(line))\n</code></pre>\n\n<p>Test case would be <code>((1+2) * (3-4))</code> or <code>(1+2)*3)+5/8)</code></p>\n"}, {"tags": ["python", "arrays", "numpy", "keras"], "comments": [{"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "edited": false, "score": 0, "creation_date": 1511409545, "post_id": 47445588, "comment_id": 81849883, "body": "What is the error?"}, {"owner": {"reputation": 23, "user_id": 2648191, "user_type": "registered", "profile_image": "https://graph.facebook.com/742018288/picture?type=large", "display_name": "Aaron Charcoal Styles", "link": "https://stackoverflow.com/users/2648191/aaron-charcoal-styles"}, "reply_to_user": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "edited": false, "score": 0, "creation_date": 1511411448, "post_id": 47445588, "comment_id": 81850360, "body": "With the code I posted, the error is: <code>ValueError: Error when checking model input: the list of Numpy arrays that you are passing to your model is not the size the model expected. Expected to see 4 array(s), but instead got the following list of 92 arrays</code>  Fairly obvious, but other things I&#39;ve tried have come back with similar errors; including &quot;Expected 1 array, but got 4 arrays&quot; and &quot;Expected 4 arrays and got 1 array&quot;  I just kinda want to know what I should be passing to the fit(inputs)."}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "edited": false, "score": 0, "creation_date": 1511432319, "post_id": 47445588, "comment_id": 81860678, "body": "You should indeed pass a list with four numpy arrays. All arrays should have the same number of elements in the first dimension. Each array should match the shape of the respective input you listed in <code>Model(inputs=[input1,input2, input3,input4], ...)</code>"}, {"owner": {"reputation": 23, "user_id": 2648191, "user_type": "registered", "profile_image": "https://graph.facebook.com/742018288/picture?type=large", "display_name": "Aaron Charcoal Styles", "link": "https://stackoverflow.com/users/2648191/aaron-charcoal-styles"}, "reply_to_user": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "edited": false, "score": 0, "creation_date": 1511471912, "post_id": 47445588, "comment_id": 81881471, "body": "Turn out the errors weren&#39;t wrong inputs, but wrong outputs. FML"}], "owner": {"reputation": 23, "user_id": 2648191, "user_type": "registered", "profile_image": "https://graph.facebook.com/742018288/picture?type=large", "display_name": "Aaron Charcoal Styles", "link": "https://stackoverflow.com/users/2648191/aaron-charcoal-styles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 687, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511471987, "creation_date": 1511394883, "last_edit_date": 1511471987, "question_id": 47445588, "link": "https://stackoverflow.com/questions/47445588/keras-functional-model-with-multiple-inputs", "title": "Keras functional model with multiple inputs", "body": "<p><strong>Edit</strong>: Basically I need advice on the following:<br>\nGiven a collection of 100 images (256,256,3), broken up into 4 quads of (128,128,3), how do I pass that to a model that required 4 inputs (the 4 quads)?</p>\n\n<p><strong>Edit 2</strong>: I've done some more fiddling with a more specific script. Like I originally thought, it is meant to be a list of x inputs, which are arrays with whatever shape defined. But I've modified my code to do that and it still doesn't work. Here's a dump form the console, including prints for the trainX len, the trainX[0] shape and the expected inputs:  </p>\n\n<p><strong>Edit 3</strong>: Be sure to check your <em>outputs</em> as well as our <em>inputs</em>.</p>\n\n<p><code>Using TensorFlow backend.\nStart Fit - round: 0\ntrainX length: 4\ntrainX[0] shape: (92, 128, 128, 3)\nExpected Model inputs: [&lt;tf.Tensor 'input_1:0' shape=(?, 128, 128, 3) dtype=float32&gt;, &lt;tf.Tensor 'input_2:0' shape=(?, 128, 128, 3) dtype=float32&gt;, &lt;tf.Tensor 'input_3:0' shape=(?, 128, 128, 3) dtype=float32&gt;, &lt;tf.Tensor 'input_4:0' shape=(?, 128, 128, 3) dtype=float32&gt;]\nTraceback (most recent call last):\n  File \"D:\\Func\\FuncTest.py\", line 193, in &lt;module&gt;\n    verbose = 1)\n  File \"D:\\FtPrnt\\Keras\\lib\\site-packages\\keras\\engine\\training.py\", line 1574, in fit\n    batch_size=batch_size)\n  File \"D:\\FtPrnt\\Keras\\lib\\site-packages\\keras\\engine\\training.py\", line 1411, in _standardize_user_data\n    exception_prefix='target')\n  File \"D:\\FtPrnt\\Keras\\lib\\site-packages\\keras\\engine\\training.py\", line 88, in _standardize_input_data\n    '...')\nValueError: Error when checking model target: the list of Numpy arrays that you are passing to your model is not the size the model expected. Expected to see 1 array(s), but instead got the following list of 4 arrays: [array([[[ 255.,  255.,  255., ...,  255.,  255.,  255.],\n        [ 255.,  255.,  255., ...,  255.,  255.,  255.],\n        [ 255.,  255.,  255., ...,  255.,  255.,  255.],\n        ...,\n        [   0....</code></p>\n\n<p>I'm dabbling in the functional API and am playing around with multiple inputs.\nBut I have been unable to get it to work properly.</p>\n\n<p>I've tested my model with a single input and it works fine, but adding the multiple inputs and a concatenation fails.</p>\n\n<p>My test is loading a single image, splitting it up into quaters, then pushing that into the network through 4 inputs.</p>\n\n<p>I've tried nearly every combination of list and numpy array I can think off, but each time I'm getting.</p>\n\n<p>My understanding is that I should be providing a list of (four) inputs, which are arrays with a shape of (samples, img_dim_x, img_dim_y, img_layers). But whenever I tried this, it didn't work.</p>\n\n<p>After some looking around, I saw somewhere that the array should be the number of samples. So I tried that, which also failed. <a href=\"https://gist.github.com/anonymous/3388645f4aeed64022d57e04b99b27c8\" rel=\"nofollow noreferrer\">My current code</a> follows this idea, with providing a list with a length of samples, containing an array with a shape of (inputs, img_dim_x, img_dim_y, img_layers)</p>\n"}, {"tags": ["python", "list", "class", "csv", "oop"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1511395761, "post_id": 47445586, "comment_id": 81846747, "body": "You should declare the class type once, before the loop. Then create instances, passing the row elements as parameters."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1511397089, "post_id": 47445586, "comment_id": 81847076, "body": "Your data doesn&#39;t match. You have 9 years and only 8 data values."}], "answers": [{"tags": [], "owner": {"reputation": 17989, "user_id": 365102, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e3139989e6548e7deac2cd45253d60df?s=128&d=identicon&r=PG", "display_name": "Mateen Ulhaq", "link": "https://stackoverflow.com/users/365102/mateen-ulhaq"}, "is_accepted": false, "score": 1, "last_activity_date": 1511395694, "last_edit_date": 1511395694, "creation_date": 1511395392, "answer_id": 47445653, "question_id": 47445586, "link": "https://stackoverflow.com/questions/47445586/how-to-read-the-contents-of-a-csv-file-into-a-class-with-each-csv-row-as-a-class/47445653#47445653", "title": "How to read the contents of a csv file into a class with each csv row as a class instance", "body": "<p>Some tips to help you clean up your code:</p>\n\n<ol>\n<li><p>Instead of this:</p>\n\n<pre><code>self.yr1970\n</code></pre>\n\n<p>Define a list to keep track of years and their values:</p>\n\n<pre><code>tokyo_years = {\n    1970: 23.3,\n    1975: 26.61,\n    # ...\n}\n</code></pre>\n\n<p>Now pair this structure with each city:</p>\n\n<pre><code>cities = [\n    { 'city': 'Tokyo',     'years': tokyo_years },\n    { 'city': 'Vancouver', 'years': vancouver_years },\n    # ...\n]\n</code></pre></li>\n<li><p>Don't nest so deeply. Also, the following is really weird:</p>\n\n<pre><code>for row in cityList:\n    if row != 'label':\n        for row in cityList:\n</code></pre>\n\n<p>You are looping over something and then looping over it again while you are looping over it...!</p></li>\n<li><p>Classes belong at top-level. That means there should be 0 spaces preceding <code>class</code>.</p>\n\n<pre><code>         class City:\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>class City:\n</code></pre></li>\n</ol>\n\n<p>The reason I mention all this is because trying to do anything further with messy code just results in messier code. :) Try to improve your current code by:</p>\n\n<ol>\n<li>Using data structures (lists, dictionaries).</li>\n<li>Restricting levels of nested code to 2 max. (Consider using functions to help you with this.)</li>\n<li>Putting classes at top-level.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 613, "user_id": 586651, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cdada7105d55aef7de9405f2ee5eee62?s=128&d=identicon&r=PG", "display_name": "Brian Palma", "link": "https://stackoverflow.com/users/586651/brian-palma"}, "is_accepted": false, "score": -1, "last_activity_date": 1511396164, "creation_date": 1511396164, "answer_id": 47445741, "question_id": 47445586, "link": "https://stackoverflow.com/questions/47445586/how-to-read-the-contents-of-a-csv-file-into-a-class-with-each-csv-row-as-a-class/47445741#47445741", "title": "How to read the contents of a csv file into a class with each csv row as a class instance", "body": "<pre><code>import csv\n\n\nclass City:\n    def __init__(self, **kwargs):\n        self.id = kwargs.get('id')\n        self.latitude = kwargs.get('latitude')\n        self.longitude = kwargs.get('longitude')\n        self.city = kwargs.get('city')\n        self.label = kwargs.get('label')\n        self.year_1970 = kwargs.get('yr1970')\n        self.year_1975 = kwargs.get('yr1975')\n        self.year_1980 = kwargs.get('yr1980')\n        self.year_1985 = kwargs.get('yr1985')\n        self.year_1990 = kwargs.get('yr1990')\n        self.year_1995 = kwargs.get('yr1995')\n        self.year_2000 = kwargs.get('yr2000')\n        self.year_2005 = kwargs.get('yr2005')\n\n    def __str__(self):\n        return self.label\n\n\nif __name__ == '__main__':\n    with open('filepath', 'r') as csvfile:\n        reader = csv.DictReader(csvfile)\n\n        for row in reader:\n            city = City(**row)\n            print(city)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1511396999, "creation_date": 1511396999, "answer_id": 47445837, "question_id": 47445586, "link": "https://stackoverflow.com/questions/47445586/how-to-read-the-contents-of-a-csv-file-into-a-class-with-each-csv-row-as-a-class/47445837#47445837", "title": "How to read the contents of a csv file into a class with each csv row as a class instance", "body": "<p>If your data is just an immutable record, use <a href=\"https://docs.python.org/3/library/collections.html#collections.namedtuple\" rel=\"nofollow noreferrer\"><strong><code>namedtuple</code></strong></a>:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import namedtuple\n\n&gt;&gt;&gt; City = namedtuple('City', 'lat lon cityName label '\n...                   'yr1970 yr1975 yr1980 yr1985 yr1990 yr1995 yr2000 yr2005 yr2010')\n</code></pre>\n\n<p>You can slice the row as you don't need the first value, and unpack it using <code>*</code>:</p>\n\n<pre><code>&gt;&gt;&gt; row = ['1', '35.6832085', '139.8089447', 'Tokyo', 'Tokyo',\n...        '23.3', '26.61', '28.55', '30.3', '32.53', '33.59', '34.45', '35.62', '35.7']\n\n&gt;&gt;&gt; city = City(*row[1:])\n\n&gt;&gt;&gt; city\nCity(lat='35.6832085', lon='139.8089447', cityName='Tokyo', label='Tokyo',\n     yr1970='23.3', yr1975='26.61', yr1980='28.55', yr1985='30.3', yr1990='32.53',\n     yr1995='33.59', yr2000='34.45', yr2005='35.62', yr2010='35.7')\n</code></pre>\n\n<p>You need to add just this object to your lists of cities, not every attribute:</p>\n\n<pre><code>&gt;&gt;&gt; cities.append(city)\n</code></pre>\n\n<p>Putting it together with a list comprehension filtering out the label rows:</p>\n\n<pre><code>import csv\nfrom collections import namedtuple\n\nCity = namedtuple('City',\n                  'lat lon cityName label '\n                  'yr1970 yr1975 yr1980 yr1985 yr1990 yr1995 yr2000 yr2005 yr2010')\n\nwith open('filepath') as f:\n    cities = [City(*row[1:]) for row in csv.reader(f)\n              if row[0] != 'label']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 8984830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5c5c81e4a128d7e91306e2b60fd68f?s=128&d=identicon&r=PG&f=1", "display_name": "Willard A.", "link": "https://stackoverflow.com/users/8984830/willard-a"}, "edited": false, "score": 0, "creation_date": 1511407977, "post_id": 47445846, "comment_id": 81849484, "body": "This seems to be working, thank you! Do you know if there&#39;s any way to be able to call attributes via a city&#39;s name? (i.e., instances[&#39;Tokyo&#39;].latitude)"}, {"owner": {"reputation": 53, "user_id": 8984830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5c5c81e4a128d7e91306e2b60fd68f?s=128&d=identicon&r=PG&f=1", "display_name": "Willard A.", "link": "https://stackoverflow.com/users/8984830/willard-a"}, "edited": false, "score": 0, "creation_date": 1511410321, "post_id": 47445846, "comment_id": 81850068, "body": "took out the &#39;[&#39; before &#39;City&#39; and it worked perfectly, thanks much!"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 10, "last_activity_date": 1511446271, "last_edit_date": 1511446271, "creation_date": 1511397058, "answer_id": 47445846, "question_id": 47445586, "link": "https://stackoverflow.com/questions/47445586/how-to-read-the-contents-of-a-csv-file-into-a-class-with-each-csv-row-as-a-class/47445846#47445846", "title": "How to read the contents of a csv file into a class with each csv row as a class instance", "body": "<p>You can try this:</p>\n\n<pre><code>import csv\nclass City:\n   def __init__(self, row, header):\n        self.__dict__ = dict(zip(header, row))\n\ndata = list(csv.reader(open('file.csv')))\ninstances = [City(i, data[0]) for i in data[1:]]\n</code></pre>\n\n<p>However, since you mentioned that there are many rows, you may want to create an id for each city that will act as your string representation in the list:</p>\n\n<pre><code>import csv\nclass City:\n   def __init__(self, row, header, the_id):\n       self.__dict__ = dict(zip(header, row)) \n       self.the_id = the_id\n   def __repr__(self):\n       return self.the_id\n\ndata = list(csv.reader(open('file.csv')))\ninstances = [City(a, data[0], \"city_{}\".format(i+1)) for i, a in enumerate(data[1:])]\n</code></pre>\n\n<p>Your output will be a listing like this:</p>\n\n<pre><code>[city_1, city_2, city_3...]\n</code></pre>\n\n<p>And any attributes can be called like so:</p>\n\n<pre><code>instances[1].latitude\n</code></pre>\n\n<p>Regarding your recent comment, to access city attributes by city name, you can slightly restructure <code>instances</code>:</p>\n\n<pre><code>instances = {a[3]:City(a, data[0], \"city_{}\".format(i+1)) for i, a in enumerate(data[1:])}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1511398580, "last_edit_date": 1511398580, "creation_date": 1511397594, "answer_id": 47445926, "question_id": 47445586, "link": "https://stackoverflow.com/questions/47445586/how-to-read-the-contents-of-a-csv-file-into-a-class-with-each-csv-row-as-a-class/47445926#47445926", "title": "How to read the contents of a csv file into a class with each csv row as a class instance", "body": "<p>You can do this by using a <a href=\"https://docs.python.org/3/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\"><code>csv.DictReader</code></a> which will return each row as an dictionary. It will also allow you to easily define the class based on the fieldnames defined in the first or header row of the csv file rather than hardcoding them into your program.</p>\n\n<p>You'll still be able reference the fields of any record with \"dot\" syntax such as <code>city.latitude</code>, <code>city.label</code>, etc.</p>\n\n<p>Below is Python 2 code. For Python 3, open the file with:</p>\n\n<pre><code>with open('cities.csv', 'r', newline='') as f:\n</code></pre>\n\n<p>instead what's shown.</p>\n\n<pre><code>import csv\n\nwith open('cities.csv', 'rb') as f:\n    reader = csv.DictReader(f)\n    fieldnames = reader.fieldnames\n\n    class City:\n        def __init__(self, **fields):\n            self.__dict__.update(**fields)\n\n        def __repr__(self):  # Added to make printing instances show their contents.\n            fields = ', '.join(('{}={!r}'.format(fieldname, getattr(self, fieldname))\n                                   for fieldname in fieldnames))\n            return('{}({})'.format(self.__class__.__name__, fields))\n\n    Cities = [City(**row) for row in reader]\n\nprint(Cities)\n</code></pre>\n\n<p>Sample output from your sample input file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[City(id='1', latitude='35.6832085', longitude='139.8089447', city='Tokyo', label='Tokyo', yr1970='23.3', yr1975='26.61', yr1980='28.55', yr1985='30.3', yr1990='32.53', yr1995='33.59', yr2000='34.45', yr2005='35.62')]\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8984830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5c5c81e4a128d7e91306e2b60fd68f?s=128&d=identicon&r=PG&f=1", "display_name": "Willard A.", "link": "https://stackoverflow.com/users/8984830/willard-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9364, "favorite_count": 3, "accepted_answer_id": 47445846, "answer_count": 5, "score": 5, "last_activity_date": 1511446271, "creation_date": 1511394862, "last_edit_date": 1511395435, "question_id": 47445586, "link": "https://stackoverflow.com/questions/47445586/how-to-read-the-contents-of-a-csv-file-into-a-class-with-each-csv-row-as-a-class", "title": "How to read the contents of a csv file into a class with each csv row as a class instance", "body": "<p>I'm a Python newbie, and I've been struggling with a class assignment for days. I have a csv file that contains data as such:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>id,latitude,longitude,city,label,yr1970,yr1975,yr1980,yr1985,yr1990,yr1995,yr2000,yr2005\n1,35.6832085,139.8089447,Tokyo,Tokyo,23.3,26.61,28.55,30.3,32.53,33.59,34.45,35.62\n</code></pre>\n\n<p>There are about 40 rows in this file, each containing data related to a world city. As you can see, the top row is the header. I am supposed to create a class in Python and read the csv file into the class, where every row becomes an instance of the class. I am then to store the class instances in a list. I've been able to create one instance where all of the data is stored, but I can't seem to create an instance for each row (and I obviously do not want to do it manually).</p>\n\n<p>Here's what I've got so far:</p>\n\n<pre><code>import csv\nCities = []\n\n\nwith open('filepath','rb') as f:\ncityList = csv.reader(f)\nfor row in cityList:\n    if row != 'label':\n        for row in cityList:\n            citysName = row[3]\n\n\n            class City:\n\n                def __init__(self, cityName=row[3], Label=row[4], Lat=row[1],\n                         Lon=row[2], yr1970=row[5], yr1975=row[6], yr1980=row[7],\n                             yr1985=row[8], yr1990=row[9], yr1995=row[10], yr2000=row[11],\n                             yr2005=row[12], yr2010=row[13]):\n                    self.cityName = cityName\n                    self.label = Label\n                    self.lat = Lat\n                    self.lon = Lon\n                    self.yr1970 = yr1970\n                    self.yr1975 = yr1975\n                    self.yr1980 = yr1980\n                    self.yr1985 = yr1985\n                    self.yr1990 = yr1990\n                    self.yr1995 = yr1995\n                    self.yr2000 = yr2000\n                    self.yr2005 = yr2005\n                    self.yr2010 = yr2010\n\n            citysName = City()\n\n            Cities.append(citysName.cityName)\n            Cities.append(citysName.label)\n            Cities.append(citysName.lat)\n            Cities.append(citysName.lon)\n            Cities.append(citysName.yr1970)\n            Cities.append(citysName.yr1975)\n            Cities.append(citysName.yr1980)\n            Cities.append(citysName.yr1985)\n            Cities.append(citysName.yr1990)\n            Cities.append(citysName.yr1995)\n            Cities.append(citysName.yr2000)\n            Cities.append(citysName.yr2005)\n            Cities.append(citysName.yr2010)\n\n        print Cities\n</code></pre>\n\n<p>Again, I'm quite new with Python (and coding in general), and I realize this code is not good, but I'm having a lot of difficulty finding tips for reading csv files into a Python class.</p>\n"}, {"tags": ["python", "list", "function", "tkinter"], "comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 2, "creation_date": 1511395525, "post_id": 47445582, "comment_id": 81846695, "body": "You tell us what it doesn&#39;t do.  What <i>does</i> it do?  What does your print statement print?"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 1, "creation_date": 1511396901, "post_id": 47445582, "comment_id": 81847032, "body": "What does <code>len(answers)</code> return?"}, {"owner": {"reputation": 171, "user_id": 4174975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNpRi.png?s=128&g=1", "display_name": "Projski", "link": "https://stackoverflow.com/users/4174975/projski"}, "edited": false, "score": 1, "creation_date": 1511397667, "post_id": 47445582, "comment_id": 81847212, "body": "It would be great to get a <a href=\"https://stackoverflow.com/help/mcve\">minimal example</a> to work with. Can you provide more detail?"}, {"owner": {"reputation": 11, "user_id": 8993730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V4d8R38wi48/AAAAAAAAAAI/AAAAAAAAAGk/S_iGOL9Zzts/photo.jpg?sz=128", "display_name": "Fahim Zaman", "link": "https://stackoverflow.com/users/8993730/fahim-zaman"}, "edited": false, "score": 1, "creation_date": 1511397786, "post_id": 47445582, "comment_id": 81847244, "body": "The print statement is just there to tell me whether it worked. Inside the function, it prints out the list of answers just fine, but outside, when I print it, it doesn&#39;t include number 7, the one with the entry widget.  And len(answers) returns the length of the list answers."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1511421996, "post_id": 47445582, "comment_id": 81854331, "body": "<code>command=</code> needs callback - it means function name without <code>()</code> - but in last code you have <code>command = Submit() </code>. It should be <code>command=Submit</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1511422239, "post_id": 47445582, "comment_id": 81854427, "body": "command <code>Button( comman= )</code> doesn&#39;t wait for click - it only inform mainloop what it has to exececute when you click button. All code after <code>Buttom()</code> is executed even before <code>mainloop</code> opens window and before you click button - so it doesn&#39;t have <code>answer[7]</code> yet. If you have to do something after click then you have to do it inside function <code>Submit()</code>"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1511435826, "post_id": 47445582, "comment_id": 81862900, "body": "@FahimZaman I&#39;m not quizzing you. What is the <i>length</i> of the list answers according to <code>len(answers)</code>?"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1511436040, "post_id": 47445582, "comment_id": 81863015, "body": "How exactly are you globalizing variables? Have you tried adding <code>global answers</code> inside your <code>Submit</code> function?"}, {"owner": {"reputation": 11, "user_id": 8993730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V4d8R38wi48/AAAAAAAAAAI/AAAAAAAAAGk/S_iGOL9Zzts/photo.jpg?sz=128", "display_name": "Fahim Zaman", "link": "https://stackoverflow.com/users/8993730/fahim-zaman"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1521133478, "post_id": 47445582, "comment_id": 85612764, "body": "Sorry, as I had forgotten to check this post for a long time. Thanks to @furas for your comment, that was the problem. Could you put your comment as an answer so I can accept it?"}], "answers": [{"tags": [], "owner": {"reputation": 755, "user_id": 10145519, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1BJDnmZWxs/AAAAAAAAAAI/AAAAAAAAAAU/Qv-tHVvgucE/photo.jpg?sz=128", "display_name": "P S Solanki", "link": "https://stackoverflow.com/users/10145519/p-s-solanki"}, "is_accepted": false, "score": 1, "last_activity_date": 1598288105, "last_edit_date": 1598288105, "creation_date": 1598287428, "answer_id": 63565264, "question_id": 47445582, "link": "https://stackoverflow.com/questions/47445582/lists-not-saving-entry-data-tkinter/63565264#63565264", "title": "Lists Not Saving Entry Data Tkinter", "body": "<p>I think the problem lies with the command you set the button to execute.</p>\n<p>the below code for example</p>\n<pre><code>tk.Button(..., command=submit())\n</code></pre>\n<p>In this code, the command submit() will be executed even before the mainloop runs, and at that instance of time, answer[7] is nowhere present.</p>\n<p>Just change the command styling to</p>\n<pre><code>tk.Button(..., command=submit)\n</code></pre>\n<p>and it should work.</p>\n<p>MOREOVER -- (Useful info)</p>\n<p>In case of functions which expect arguments to be supplied, the lambda keyword is used like below::</p>\n<pre><code>tk.Button(..., command=lambda x: submit(x))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8993730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V4d8R38wi48/AAAAAAAAAAI/AAAAAAAAAGk/S_iGOL9Zzts/photo.jpg?sz=128", "display_name": "Fahim Zaman", "link": "https://stackoverflow.com/users/8993730/fahim-zaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1598288105, "creation_date": 1511394838, "last_edit_date": 1511398674, "question_id": 47445582, "link": "https://stackoverflow.com/questions/47445582/lists-not-saving-entry-data-tkinter", "title": "Lists Not Saving Entry Data Tkinter", "body": "<p>I'm having a button save what's in an entry, and, for some reason, it isn't saving it properly to the list <strong>outside</strong> of the function, as in inside the function Submit(), it remembers the entry value just fine.\nHere is the part of the function for setting up the entry:</p>\n\n<pre><code>Q8answer = Entry(r)\nQ8answer.config(fg = \"blue\",bg = \"white\",font = (\"Arial\",20),)\nQ8answer.place(relx = 0.5,rely = 0.5,anchor = \"center\")\n\nsubmit = Button(r, text = \"Submit THIS Answer\",command = Submit)\nsubmit.place(relx = 0.5, rely = 0.8, anchor = \"center\")\n</code></pre>\n\n<p>And this is the function called Submit():</p>\n\n<pre><code>def Submit():\n    answers[7] = str(Q8answer.get())\n    print(answers)\n</code></pre>\n\n<p>And BTW, I do globalise all the variables needed, as the other answers which are multiple choice with button questions ( answers[0] to answers[6] ), all worked and saved to the list properly.</p>\n\n<p>EDIT:Heres some more context:</p>\n\n<pre><code>    Q8answer.place_forget()\n    submit.place_forget()\n\n    Q8answer = Entry(r)\n    Q8answer.config(fg = \"blue\",font = (\"Arial\",20),)\n\n    submit = Button(r, text = \"Submit THIS Answer\", command = Submit() )\n\n    Amode = 0\n    Bmode = 0\n    Cmode = 0\n    Dmode = 0\n    Abutton.config(image = unselected)\n    Bbutton.config(image = unselected)\n    Cbutton.config(image = unselected)\n    Dbutton.config(image = unselected)\n\n    if mode == 1:\n        if questionNumber &lt; len(questions):\n            questionNumber += 1\n            if questionNumber == 8:\n                Correct()\n            elif questionNumber == 7:\n                Abutton.place_forget()\n                Bbutton.place_forget()\n                Cbutton.place_forget()\n                Dbutton.place_forget()\n\n                Alabel.place_forget()\n                Blabel.place_forget()\n                Clabel.place_forget()\n                Dlabel.place_forget()\n\n                Number = Label(r,text = \"Question \" + str(questionNumber + 1))\n                Number.config(fg = \"blue\",bg = \"grey\", font = (\"Arial\",15))\n                Number.place(relx = 0.02, rely = 0.02 )\n\n                question = questions[questionNumber]\n                Question.place_forget()\n                Question = Label(r,text = question)\n                Question.config(fg = \"blue\",bg = \"grey\")\n                Question.config(font = (\"Arial\",20))\n                Question.place(relx = 0.5, rely = 0.15, anchor = \"center\")\n\n                Q8answer = Entry(r)\n                Q8answer.config(fg = \"blue\",bg = \"white\",font = (\"Arial\",20),)\n                Q8answer.place(relx = 0.5,rely = 0.5,anchor = \"center\")\n\n                submit = Button(r, text = \"Submit THIS Answer\",command = Submit)\n                submit.place(relx = 0.5, rely = 0.8, anchor = \"center\")\n            else:\n                Q8answer.place_forget()\n                submit.place_forget()\n</code></pre>\n\n<p>and after that bit at the else statement, it doesn't have anything to do with this.</p>\n"}, {"tags": ["python", "google-bigquery"], "comments": [{"owner": {"reputation": 171, "user_id": 4174975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNpRi.png?s=128&g=1", "display_name": "Projski", "link": "https://stackoverflow.com/users/4174975/projski"}, "edited": false, "score": 0, "creation_date": 1511397909, "post_id": 47445581, "comment_id": 81847274, "body": "Can you <a href=\"https://stackoverflow.com/help/mcve\">provide more detail</a>, and show what libraries you are importing, and what results you are getting versus what you want? I&#39;ve got something similar running on BigQuery using Python but I need a little more info here to be able to give you an answer..."}], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 8974140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065598ca5b1d4ba0629dcfe2b7f032df?s=128&d=identicon&r=PG&f=1", "display_name": "Daria", "link": "https://stackoverflow.com/users/8974140/daria"}, "is_accepted": false, "score": 1, "last_activity_date": 1511414148, "creation_date": 1511414148, "answer_id": 47448023, "question_id": 47445581, "link": "https://stackoverflow.com/questions/47445581/partitioning-bigquery-tables-via-api-in-python/47448023#47448023", "title": "Partitioning BigQuery Tables via API in python", "body": "<p>If you want to check if the table is partitioned or not, use get_table() method (<a href=\"https://github.com/GoogleCloudPlatform/google-cloud-python/blob/4b107613b0fcf139569504e9d44fa4a0793b4fd0/bigquery/google/cloud/bigquery/client.py#L290\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-python/blob/4b107613b0fcf139569504e9d44fa4a0793b4fd0/bigquery/google/cloud/bigquery/client.py#L290</a>) and check the partitioning_type property of the returned object. You can also get the job object using get_job() with the job id and check if the time_partitioning was set in the configuration.</p>\n\n<p>I don't think that query job you're running results in the partitioned table, since the time_partitioning should be set in the job configuration, and it seems like the client doesn't do this. If it is true, you can create partitioned table first and use existing table as a destination.</p>\n"}], "owner": {"reputation": 321, "user_id": 1762418, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4dbe8faa8fa1c1eebf2cdf960d4dbfa?s=128&d=identicon&r=PG", "display_name": "Matt H", "link": "https://stackoverflow.com/users/1762418/matt-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511414148, "creation_date": 1511394837, "question_id": 47445581, "link": "https://stackoverflow.com/questions/47445581/partitioning-bigquery-tables-via-api-in-python", "title": "Partitioning BigQuery Tables via API in python", "body": "<p>I'm using Python to hit the BigQuery API.   I've been successful at running queries and writing new tables, but would like to ensure those output tables are partitioned per <a href=\"https://cloud.google.com/bigquery/docs/creating-partitioned-tables\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/creating-partitioned-tables</a>   </p>\n\n<p>The output of the query would have the columns: event_date[string in the format \"2017-11-12\"], metric[integer]   </p>\n\n<p>Per the code below, I've been assigning the \"partitioning_type\" code to various objects, but it never returns an error.  </p>\n\n<p>( I guess it'd also be useful to know how to tell if my partitioning efforts are actually working (i.e. how to identify the _PARTITIONTIME pseudo column)). </p>\n\n<pre><code>dest_table_id = \"BQresults\"\nquery_job = client.run_async_query(str(uuid.uuid4()), query))\nquery_job.allow_large_results = True\ndest_dataset = client.dataset(dest_dataset_id)\ndest_table = dest_dataset.table(dest_table_id)\ndest_table.partitioning_type =\"DAY\"\n\nquery_job.destination = dest_table\nquery_job.write_disposition = 'WRITE_TRUNCATE'\nquery_job.use_legacy_sql = False\nquery_job.begin()\nquery_job.result()  \n</code></pre>\n"}, {"tags": ["python", "mongodb", "sorting", "pymongo"], "comments": [{"owner": {"reputation": 189, "user_id": 781469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644eab022df83516906a968e93c6a8f4?s=128&d=identicon&r=PG", "display_name": "Nish", "link": "https://stackoverflow.com/users/781469/nish"}, "edited": false, "score": 0, "creation_date": 1511395291, "post_id": 47445539, "comment_id": 81846643, "body": "I think you are using find in wrong way. <code>db.some_db.find({&quot;name&quot;: &quot;cola&quot;,&quot;status&quot;:&#39;+&#39;})</code> should give you the right result."}, {"owner": {"reputation": 11, "user_id": 8993716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0213ddde90442a9899e2db2d140d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "wtf", "link": "https://stackoverflow.com/users/8993716/wtf"}, "reply_to_user": {"reputation": 189, "user_id": 781469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644eab022df83516906a968e93c6a8f4?s=128&d=identicon&r=PG", "display_name": "Nish", "link": "https://stackoverflow.com/users/781469/nish"}, "edited": false, "score": 0, "creation_date": 1511395623, "post_id": 47445539, "comment_id": 81846714, "body": "I was trying. Getting &quot;None&quot; then."}, {"owner": {"reputation": 189, "user_id": 781469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644eab022df83516906a968e93c6a8f4?s=128&d=identicon&r=PG", "display_name": "Nish", "link": "https://stackoverflow.com/users/781469/nish"}, "edited": false, "score": 0, "creation_date": 1511395889, "post_id": 47445539, "comment_id": 81846776, "body": "What do you get for these: <code>print db.some_db.find({}).count()</code> , <code>print db.some_db.find({&quot;name&quot;: &quot;cola&quot;}).count()</code> &amp; <code>print db.some_db.find({&quot;status&quot;:&#39;+&#39;}).count()</code> I think one of your query parameter is not working."}, {"owner": {"reputation": 11, "user_id": 8993716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0213ddde90442a9899e2db2d140d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "wtf", "link": "https://stackoverflow.com/users/8993716/wtf"}, "reply_to_user": {"reputation": 189, "user_id": 781469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644eab022df83516906a968e93c6a8f4?s=128&d=identicon&r=PG", "display_name": "Nish", "link": "https://stackoverflow.com/users/781469/nish"}, "edited": false, "score": 0, "creation_date": 1511396178, "post_id": 47445539, "comment_id": 81846852, "body": "output: 5, 5, 5"}], "answers": [{"tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": false, "score": 0, "last_activity_date": 1511668438, "last_edit_date": 1511668438, "creation_date": 1511668001, "answer_id": 47492834, "question_id": 47445539, "link": "https://stackoverflow.com/questions/47445539/pymongo-search-and-sorting-non-repeating-values-keyerror-weight/47492834#47492834", "title": "PyMongo search and sorting non-repeating values (KeyError: &#39;weight&#39;)", "body": "<p>There is a typo in your query.</p>\n\n<pre><code>documents = db.some_db.find({'name': 'colla', 'status': '+'})\ndocuments.sort(key=lambda doc: doc.get('weight', None), reverse=True)\n</code></pre>\n\n<p>Using <code>itemgetter</code>, you have to be <em>really</em> certain all documents have a weight field. Using a lambda here is a non-strict way of sorting by weight. \nThe query result can be restricted to finding documents that have the weight field.</p>\n\n<pre><code>documents = db.some_db.find({\n                'name': 'colla', 'status': '+', 'weight': {'$exists': True},\n            })\n</code></pre>\n\n<p>Lastly, the query result can be restricted to finding documents that have weight to be 2 or 3.</p>\n\n<pre><code>documents = db.some_db.find({\n                'name': 'colla', 'status': '+', 'weight': {'$in': [2, 3]},\n            })\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8993716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0213ddde90442a9899e2db2d140d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "wtf", "link": "https://stackoverflow.com/users/8993716/wtf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511668438, "creation_date": 1511394552, "last_edit_date": 1511394926, "question_id": 47445539, "link": "https://stackoverflow.com/questions/47445539/pymongo-search-and-sorting-non-repeating-values-keyerror-weight", "title": "PyMongo search and sorting non-repeating values (KeyError: &#39;weight&#39;)", "body": "<p>I have data like this :</p>\n\n<pre><code>_id:5a0f6c61d1154f2f9983ad74\nname:\"colla\"\nweight:\"2\"\nstatus:\"+\"\ntime_exp:2017-11-18 00:37:31.946\n\n_id:5a0f6c61d1154f2f9983ad74\nname:\"pepsi\"\nweight:\"3\"\nstatus:\"+\"\ntime_exp:2017-11-18 00:37:31.946\n\n_id:5a0f6c61d1154f2f9983ad74\nname:\"colla\"\nweight:\"3\"\nstatus:\"+\"\ntime_exp:2017-11-18 00:37:31.946\n</code></pre>\n\n<p>From that i want to find all non-repeating elements with <code>\"name\": \"colla\", 'status': '+'</code> and equate to random variable.</p>\n\n<p>Example: from data above get all \"weights\" (2,3) and equate. (some_random1 = 2, some_random2 = 3)</p>\n\n<p>How I tried:  <code>list(db.some_db.find({}, {\"name\": \"cola\",\"status\":'+'})).sort(key=itemgetter('weight'), reverse=True)</code>, but I'm getting this error:</p>\n\n<pre><code>KeyError: 'weight'\n</code></pre>\n\n<p>Thx for your help</p>\n"}, {"tags": ["python", "function", "compare"], "comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1511394660, "post_id": 47445534, "comment_id": 81846466, "body": "Looks good to me (assuming the over-indentation is a SO formatting issue, and not how your code actually looks). Can you please share the exact text of the error you&#39;re getting?"}, {"owner": {"reputation": 953, "user_id": 8272888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRUzh.jpg?s=128&g=1", "display_name": "sam-pyt", "link": "https://stackoverflow.com/users/8272888/sam-pyt"}, "edited": false, "score": 0, "creation_date": 1511394739, "post_id": 47445534, "comment_id": 81846491, "body": "please post the full traceback, there seem to be no syntax errors here."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1511394754, "post_id": 47445534, "comment_id": 81846498, "body": "Why is this not just <code>return X == Y</code>?"}, {"owner": {"reputation": 1, "user_id": 8993684, "user_type": "registered", "profile_image": "https://graph.facebook.com/811248249063104/picture?type=large", "display_name": "MacKG", "link": "https://stackoverflow.com/users/8993684/mackg"}, "edited": false, "score": 0, "creation_date": 1512695248, "post_id": 47445534, "comment_id": 82372634, "body": "Turns out it was just a silly over-indentation. Thanks for the help guys."}], "owner": {"reputation": 1, "user_id": 8993684, "user_type": "registered", "profile_image": "https://graph.facebook.com/811248249063104/picture?type=large", "display_name": "MacKG", "link": "https://stackoverflow.com/users/8993684/mackg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 8, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511394501, "creation_date": 1511394501, "question_id": 47445534, "link": "https://stackoverflow.com/questions/47445534/how-do-i-make-a-function-that-compares-its-arguments-in-python", "title": "how do i make a function that compares its arguments in python", "body": "<p>I am trying to make a function that takes its arguments and compares them, returning true if they are the same. I have this code but it keeps telling me I have an invalid syntax for the first argument. what do I have wrong?</p>\n\n<pre><code>    def PnUcompare(X,Y):\n        if X == Y:\n            return True\n        else:\n            return False\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "pip"], "comments": [{"owner": {"reputation": 169, "user_id": 3466912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43e409dadb536065819d8fb922ddca0a?s=128&d=identicon&r=PG&f=1", "display_name": "CAJ", "link": "https://stackoverflow.com/users/3466912/caj"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511468931, "post_id": 47445519, "comment_id": 81880512, "body": "Gentoo. I was able to install tensorflow fine for python2 on the same system, but I need python 3."}, {"owner": {"reputation": 169, "user_id": 3466912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43e409dadb536065819d8fb922ddca0a?s=128&d=identicon&r=PG&f=1", "display_name": "CAJ", "link": "https://stackoverflow.com/users/3466912/caj"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511472277, "post_id": 47445519, "comment_id": 81881583, "body": "I&#39;m not sure I understand why pip wouldn&#39;t work? That is the recommended way to install most python packages on Gentoo.  Anyway, the USE flags: 3.4.3-r1(3.4)(01:55:05 PM 08/17/2016)(gdbm ipv6 ncurses readline sqlite ssl threads xml -build -elibc_uclibc -examples -hardened -tk -wininst)"}, {"owner": {"reputation": 169, "user_id": 3466912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43e409dadb536065819d8fb922ddca0a?s=128&d=identicon&r=PG&f=1", "display_name": "CAJ", "link": "https://stackoverflow.com/users/3466912/caj"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511473269, "post_id": 47445519, "comment_id": 81881911, "body": "I see, thank you. Do you know of a way to find out what exactly pip thinks is wrong/missing? Even with the verbose output, it just says &quot;not compatible&quot; instead of detailing what is missing. Pip3 installation worked perfectly well for a number of other complicated packages (numpy, opencv), but I suppose maybe those depend a different subset of packages."}, {"owner": {"reputation": 169, "user_id": 3466912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43e409dadb536065819d8fb922ddca0a?s=128&d=identicon&r=PG&f=1", "display_name": "CAJ", "link": "https://stackoverflow.com/users/3466912/caj"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511476485, "post_id": 47445519, "comment_id": 81882820, "body": "(&#39;cp34&#39;, &#39;cp34&#39;, &#39;manylinux1_x86_64&#39;) (&#39;cp34&#39;, &#39;cp34&#39;, &#39;linux_x86_64&#39;) (&#39;cp34&#39;, &#39;abi3&#39;, &#39;manylinux1_x86_64&#39;) (&#39;cp34&#39;, &#39;abi3&#39;, &#39;linux_x86_64&#39;) (&#39;cp34&#39;, &#39;none&#39;, &#39;manylinux1_x86_64&#39;) (&#39;cp34&#39;, &#39;none&#39;, &#39;linux_x86_64&#39;) (&#39;cp33&#39;, &#39;abi3&#39;, &#39;manylinux1_x86_64&#39;) (&#39;cp33&#39;, &#39;abi3&#39;, &#39;linux_x86_64&#39;) (&#39;cp32&#39;, &#39;abi3&#39;, &#39;manylinux1_x86_64&#39;) (&#39;cp32&#39;, &#39;abi3&#39;, &#39;linux_x86_64&#39;) (&#39;py3&#39;, &#39;none&#39;, &#39;manylinux1_x86_64&#39;) (&#39;py3&#39;, &#39;none&#39;, &#39;linux_x86_64&#39;) (&#39;cp34&#39;, &#39;none&#39;, &#39;any&#39;) (&#39;cp3&#39;, &#39;none&#39;, &#39;any&#39;) (&#39;py34&#39;, &#39;none&#39;, &#39;any&#39;) (&#39;py3&#39;, &#39;none&#39;, &#39;any&#39;) (&#39;py33&#39;, &#39;none&#39;, &#39;any&#39;)... (&#39;py30&#39;, &#39;none&#39;, &#39;any&#39;)"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 1, "creation_date": 1511477645, "post_id": 47445519, "comment_id": 81883144, "body": "And there you have it - your abi is missing the <code>m</code> letter (<code>cp34</code> instead of <code>cp34m</code> which means your python installation was compiled without <code>pymalloc</code>. <code>tensorflow</code> offers only wheels that require <code>pymalloc</code> to be present (all the <code>manylinux1</code> wheels have the <code>m</code> letter in the soabi string). This is strange as Gentoo compiles python with <code>pymalloc</code> and this can&#39;t be changed without an explicit ebuild patching. I guess something is wrong with your python installation. Check that your <code>pip</code> belongs to python installed by Gentoo and not some custom python build."}, {"owner": {"reputation": 169, "user_id": 3466912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43e409dadb536065819d8fb922ddca0a?s=128&d=identicon&r=PG&f=1", "display_name": "CAJ", "link": "https://stackoverflow.com/users/3466912/caj"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511569801, "post_id": 47445519, "comment_id": 81917953, "body": "It&#39;s the normal gentoo pip installed  <code>Calculating dependencies... done! [ebuild   R    ] dev-python&#47;pip-9.0.1-r1::gentoo  PYTHON_TARGETS=&quot;python2_7 python3_4 (-pypy) -python3_5 (-python3_6)&quot; 0 KiB</code>. I reinstalled to make sure, and it replaced the symlinks. I also checked <code>which pip3</code> to be sure. I&#39;ll try updating python itself."}, {"owner": {"reputation": 169, "user_id": 3466912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43e409dadb536065819d8fb922ddca0a?s=128&d=identicon&r=PG&f=1", "display_name": "CAJ", "link": "https://stackoverflow.com/users/3466912/caj"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511580409, "post_id": 47445519, "comment_id": 81919541, "body": "Rebuilding python did it"}], "owner": {"reputation": 169, "user_id": 3466912, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43e409dadb536065819d8fb922ddca0a?s=128&d=identicon&r=PG&f=1", "display_name": "CAJ", "link": "https://stackoverflow.com/users/3466912/caj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511394372, "creation_date": 1511394372, "question_id": 47445519, "link": "https://stackoverflow.com/questions/47445519/no-matching-distribution-found-for-tensorflow-on-linux-running-64bit-python-3-4", "title": "No matching distribution found for tensorflow on Linux running 64bit python 3.4", "body": "<p>I am trying to install tensorflow for python3 using pip, and I am getting this error:</p>\n\n<p><code>Could not find a version that satisfies the requirement tensorflow (from versions: ) No matching distribution found for tensorflow</code></p>\n\n<p>I know that using 32bit python is commonly the issue, but I am running 64bit Python 3.4.3 on Linux, and pip is version 9.0.1:\n<code>pip 9.0.1 from /home/cjoseph/.local/lib64/python3.4/site-packages (python 3.4)</code></p>\n\n<p>These versions of pip and python are supposed to be compatible with the tensorflow install \nIf I do a verbose install, pip goes through basically all the installation options and decides that none of them are compatible: </p>\n\n<p><code>Skipping link https://pypi.python.org/packages/60/36/2d73d4da24cbd3a4913a4fdec8111e02af332975a8dc1c83557b5c47aa09/tensorflow-1.4.0rc0-cp34-cp34m-manylinux1_x86_64.whl#md5=fe56aa114db56265d92b7cbd544c16af (from https://pypi.python.org/simple/tensorflow/); it is not compatible with this Python</code></p>\n\n<p>However, I don't understand why the x86_64 python 3.4 \"manylinux\" wheel is discarded as incompatible. My system meets all those requirements. If I try and install the wheel directly like so, I still get the same 'not compatible' error:</p>\n\n<p><code>pip3 install https://pypi.python.org/packages/05/f7/ccf4f218f448c1194df0d52743691bcd835e0fb665a3b7876d929f5218d4/tensorflow-1.4.0-cp34-cp34m-manylinux1_x86_64.whl#md5=ae3b5d6f98dbf89641b5efbb1864ffe5</code></p>\n\n<p><code>tensorflow-1.4.0-cp34-cp34m-manylinux1_x86_64.whl is not a supported wheel on this platform.</code></p>\n\n<p>I also tried with a link to the tensorflow-hosted binary, same result:</p>\n\n<p><code>pip3 install --upgrade https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.4.0-cp34-cp34m-linux_x86_64.whl</code></p>\n\n<p><code>tensorflow-1.4.0-cp34-cp34m-linux_x86_64.whl is not a supported wheel on this platform.</code></p>\n\n<p>As a final sanity check tried \"python3 -m pip install ...\" and the outcome is the same.</p>\n\n<p>I am pretty stumped at this point. </p>\n"}, {"tags": ["python", "numpy", "animation", "matplotlib", "random"], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1511395644, "post_id": 47445627, "comment_id": 81846721, "body": "It works, but I really need to generate not only one random walk but several of them. And your code generates a different plot for each step. I would like to have one plot."}, {"owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "reply_to_user": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1511396581, "post_id": 47445627, "comment_id": 81846959, "body": "@Hendrra. But you have to generate a different plot for each step, simply because the red point moves. Without this red point, you are right, one could simply accumulate the steps without reploting everything."}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1511396713, "post_id": 47445627, "comment_id": 81846992, "body": "That&#39;s a pity. What about adding the red point after generating the random walk?"}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1511618863, "post_id": 47445627, "comment_id": 81928486, "body": "That&#39;s exactly what I wanted! Thank you. Is it possible to use the same methon to create a 3D random walk?"}, {"owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "reply_to_user": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1511620308, "post_id": 47445627, "comment_id": 81928984, "body": "@Hendrra. I guess it is. But, please, if my answer does what you want, consider ticking as correct and let&#39;s ask another which links to the current one, asking how to turn this (my) answer into its 3d-counterpart. I won&#39;t be far :)"}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 1, "creation_date": 1511620376, "post_id": 47445627, "comment_id": 81929011, "body": "Sorry! I forgot to tick your answer as correct. I will think about it for a while and I&#39;m sure I will need to ask for some details :)"}], "tags": [], "owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "is_accepted": true, "score": 3, "last_activity_date": 1511484901, "last_edit_date": 1511484901, "creation_date": 1511395207, "answer_id": 47445627, "question_id": 47445394, "link": "https://stackoverflow.com/questions/47445394/adding-an-animation-to-a-random-walk-plot-python/47445627#47445627", "title": "Adding an animation to a random walk plot [Python]", "body": "<p>As it stands now, you generate traj in one shot. I mean that <code>traj</code> in <code>traj = np.cumsum(temp1, axis = 0)</code> already contains all the \"story\" from the beginning to the end. If you want to create an animation that is in \"real time\", you should not generate <code>traj</code> in one shot, but iteratively, plotting new steps as they come. What about doing:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndef real_time_random_walk_2D_NT(\n    nb_steps, nb_trajs, with_dots=False, save_trajs=False, tpause=.01\n    ):\n    \"\"\"\n    Parameters\n    ----------\n    nb_steps     : integer\n                   number of steps\n    nb_trajs     : integer\n                   number of trajectories\n    save_trajs   : boolean (optional)\n                   If True, entire trajectories are saved rather than\n                   saving only the last steps needed for plotting.\n                   False by default.\n    with_dots    : boolean (optional)\n                   If True, dots representative of random-walking entities\n                   are displayed. Has precedence over `save_trajs`. \n                   False by default. \n    tpause       : float (optional)\n                   Pausing time between 2 steps. .01 secondes by default.   \n    \"\"\"\n    skoki = np.array([[0, 1], [1, 0], [-1, 0], [0, -1]])\n    trajs = np.zeros((nb_trajs, 1, 2))\n    for i in range(nb_steps):\n        _steps = []\n        for j in range(nb_trajs):\n            traj = trajs[j,:,:]\n            losy = np.random.randint(4, size = 1)\n            temp = skoki[losy, :]\n            traj = np.concatenate((traj, temp), axis = 0)\n            traj[-1,:]   += traj[-2,:]\n            _steps.append(traj)\n        if save_trajs or with_dots:\n            trajs = np.array(_steps)\n            if with_dots:\n                plt.cla()\n                plt.plot(trajs[:,i, 0].T, trajs[:,i, 1].T, 'ro') ## There are leeway in avoiding these costly transpositions\n                plt.plot(trajs[:,:i+1, 0].T, trajs[:,:i+1, 1].T)\n            else:\n                plt.plot(trajs[:,-1+i:i+1, 0].T, trajs[:,-1+i:i+1, 1].T)\n        else:\n            trajs = np.array(_steps)[:,-2:,:]\n            plt.plot(trajs[:,:, 0].T, trajs[:,:, 1].T)\n\n        plt.pause(tpause)\n\n\nreal_time_random_walk_2D_NT(50, 6, with_dots=True)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JDkCx.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDkCx.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>real_time_random_walk_2D_NT(50, 6)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6ygOf.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ygOf.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1453, "favorite_count": 2, "accepted_answer_id": 47445627, "answer_count": 1, "score": 4, "last_activity_date": 1511484901, "creation_date": 1511393223, "question_id": 47445394, "link": "https://stackoverflow.com/questions/47445394/adding-an-animation-to-a-random-walk-plot-python", "title": "Adding an animation to a random walk plot [Python]", "body": "<p>I have written a code that plots random walks. There are <code>traj</code> different random walks generated and each consists of <code>n</code> steps. I would like to animate their moves. How can I do that?<br>\nMy code below:  </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\ndef random_walk_2D(n, traj = 1):\n\n    for i in range(traj):\n\n        skoki = np.array([[0, 1], [1, 0], [-1, 0], [0, -1]])\n        losy = np.random.randint(4, size = n)\n\n        temp = skoki[losy, :]\n\n        x = np.array([[0, 0]])\n\n        temp1 = np.concatenate((x, temp), axis = 0)\n\n        traj = np.cumsum(temp1, axis = 0)\n\n        plt.plot(traj[:, 0], traj[:, 1])\n        plt.plot(traj[-1][0], traj[-1][1], 'ro') #the last point\n\n    plt.show()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1511394098, "creation_date": 1511394098, "answer_id": 47445482, "question_id": 47445364, "link": "https://stackoverflow.com/questions/47445364/dataframe-with-object-data-type-but-float-values/47445482#47445482", "title": "Dataframe with object data type but Float values", "body": "<p>Try this:</p>\n\n<pre><code>df['Year'] = df['Year'].astype(str).str.split('.').str[0]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>df['Year'] = df['Year'].astype(str).str.extract(r'(\\d+)', expand=False)\n</code></pre>\n"}], "owner": {"reputation": 1419, "user_id": 5724824, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/40621587456d39b4980ff7543f2b6f03?s=128&d=identicon&r=PG&f=1", "display_name": "SANM2009", "link": "https://stackoverflow.com/users/5724824/sanm2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47445482, "answer_count": 1, "score": 1, "last_activity_date": 1511394265, "creation_date": 1511393030, "last_edit_date": 1511394265, "question_id": 47445364, "link": "https://stackoverflow.com/questions/47445364/dataframe-with-object-data-type-but-float-values", "title": "Dataframe with object data type but Float values", "body": "<p>I have a dataframe with year column which has mixed data types. it looks like this:</p>\n\n<pre><code>Year  #(the dtype is Object)\n'2001'\n2002.0\n2003.0\n</code></pre>\n\n<p>and so on</p>\n\n<p>I want to keep the data type but change the data to look like the first value.</p>\n\n<pre><code>Year\n2001, 2002,2003,2004 .......\n</code></pre>\n"}, {"tags": ["python", "wikipedia", "wikipedia-api", "pywikibot"], "answers": [{"tags": [], "owner": {"reputation": 202, "user_id": 8966159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ji4BF.jpg?s=128&g=1", "display_name": "framawiki", "link": "https://stackoverflow.com/users/8966159/framawiki"}, "is_accepted": true, "score": 2, "last_activity_date": 1511459015, "creation_date": 1511459015, "answer_id": 47461041, "question_id": 47445348, "link": "https://stackoverflow.com/questions/47445348/how-do-i-get-wikipedia-article-text-after-a-certain-revision-occured/47461041#47461041", "title": "How do I get Wikipedia article text after a certain revision occured?", "body": "<p>If you have both page name and revid associated :</p>\n\n<pre><code>text = pywikibot.Page(pywikibot.Site(), 'WP:Accueil_principal').getOldVersion(oldid=141963852)\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 6500611, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/230114182c419aadc93e31e0974d02ab?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Bouwense", "link": "https://stackoverflow.com/users/6500611/christian-bouwense"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 47461041, "answer_count": 1, "score": 0, "last_activity_date": 1511459015, "creation_date": 1511392937, "question_id": 47445348, "link": "https://stackoverflow.com/questions/47445348/how-do-i-get-wikipedia-article-text-after-a-certain-revision-occured", "title": "How do I get Wikipedia article text after a certain revision occured?", "body": "<p>I am using Pywikibot to get article text from Wikipedia, specifically pywikibot.Page().get(). I want all the Wiki Markup as well. The get() method gives this to me but only for the page at the current time. Is there a way to get the article text once a specified revision has occurred?</p>\n"}, {"tags": ["python", "python-2.7", "debugging"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 8993562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f3156e796422b6493a5450206ea3a1?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos S Traynor", "link": "https://stackoverflow.com/users/8993562/carlos-s-traynor"}, "is_accepted": false, "score": 0, "last_activity_date": 1511814721, "creation_date": 1511814721, "answer_id": 47519338, "question_id": 47445310, "link": "https://stackoverflow.com/questions/47445310/python-titanic-debugging-error-in-imputing-fare/47519338#47519338", "title": "Python : (Titanic) debugging error in imputing fare", "body": "<p>I have sorted  it out, the problem is that a pivotal table needs to be indexed like this\n`import pandas \ntrain = pd.read_csv('.../kaggletrain')</p>\n\n<p>test =  pd.read_csv('.../kaggletest')</p>\n\n<p>fare_means = train.pivot_table('Fare', index = 'Pclass', aggfunc = 'mean')</p>\n\n<p>fare_means[1:2]</p>\n\n<p>therefore </p>\n\n<p>test['Fare'] = test[['Fare','Pclass']].apply(lambda x:\n                                             fare_means[int(x['Pclass']-1):int(x['Pclass'])] if pd.isnull(x['Fare'])\n                                             else x['Fare'], axis=1)`</p>\n"}], "owner": {"reputation": 71, "user_id": 8993562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f3156e796422b6493a5450206ea3a1?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos S Traynor", "link": "https://stackoverflow.com/users/8993562/carlos-s-traynor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511814721, "creation_date": 1511392704, "last_edit_date": 1511419651, "question_id": 47445310, "link": "https://stackoverflow.com/questions/47445310/python-titanic-debugging-error-in-imputing-fare", "title": "Python : (Titanic) debugging error in imputing fare", "body": "<p>I will thank very much for your help.I have a problem with the classic Kaggle Titanic Tutorial for machine learning. My problem is when using a pivotal table to imput means in a dataframe (or tupple):</p>\n\n<pre><code>fare_means = df.pivot_table(\"Fare\", index= \"Pclass\", aggfunc=\"mean\")\n\n\u200bfare_means.info()    \nfare_class 'pandas.core.frame.DataFrame'&gt;    \nInt64   \nIndex: 3 entries, 1 to 3    \nData columns (total 1 columns):  Fare    3 non-null float64  \ndtypes: float64(1)   \nmemory usage: 48.0 bytes\n\nfare_means   \nOut[46]:   \nFare ---Pclass     \n1     ------- 84.154687  \n2      -------20.662183   \n3      -------13.675550\n\ndf_test['Fare'] = df_test[['Fare', 'Pclass']].apply(lambda x:\n\nfare_means[x['Pclass']] if pd.isnull(x['Fare'])\n\nelse x['Fare'], axis=1)\n</code></pre>\n\n<h1>KeyError: (3, u'occurred at index 152')</h1>\n\n<pre><code>df_test.iloc[150:155, 0: ]   \n  Index-- Pclass    ----    Fare       \n  150 ------ 1      --------83.1583   \n  151 ------ 3      --------7.8958    \n  152 ------ 3      --------NaN    \n  153 ------ 3      --------12.1833  \n  154 ------ 3      --------31.3875 \n</code></pre>\n"}, {"tags": ["python", "math", "trigonometry"], "comments": [{"owner": {"reputation": 368279, "user_id": 1288, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fc763c6ff6c160ddad05741e87e517b6?s=128&d=identicon&r=PG", "display_name": "Bill the Lizard", "link": "https://stackoverflow.com/users/1288/bill-the-lizard"}, "edited": false, "score": 2, "creation_date": 1511392788, "post_id": 47445309, "comment_id": 81845951, "body": "The input to trig functions is an angle in radians."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1511392794, "post_id": 47445309, "comment_id": 81845953, "body": "try <code>ax = distance1 * math.cos(math.radians(113))</code> (or just know that <code>radians = degrees*PI&#47;180.0</code>)"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1511424900, "post_id": 47445309, "comment_id": 81855787, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8483080/pythons-trigonmetric-function-return-unexpected-values\">Python&#39;s trigonmetric function return unexpected values</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6022, "user_id": 468495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vRQn6.jpg?s=128&g=1", "display_name": "Vinay Pai", "link": "https://stackoverflow.com/users/468495/vinay-pai"}, "is_accepted": true, "score": 2, "last_activity_date": 1511393068, "creation_date": 1511393068, "answer_id": 47445368, "question_id": 47445309, "link": "https://stackoverflow.com/questions/47445309/not-recieving-correct-output-from-python-math-code/47445368#47445368", "title": "Not recieving correct output from python math code", "body": "<p><code>math.cos</code> and other trigonometric functions <a href=\"https://docs.python.org/3.6/library/math.html#math.cos\" rel=\"nofollow noreferrer\">take arguments in radians</a>, not degrees.  You can use <code>math.radians</code> to convert.</p>\n\n<pre><code>ax = distance1 * math.cos(math.radians(direction1))\n</code></pre>\n\n<p>This produces <code>-2969.5565765184806</code> as expected</p>\n"}], "owner": {"reputation": 43, "user_id": 8419523, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/l4yLf.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8419523/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1511424900, "accepted_answer_id": 47445368, "answer_count": 1, "score": -1, "last_activity_date": 1511393172, "creation_date": 1511392688, "last_edit_date": 1511393172, "question_id": 47445309, "link": "https://stackoverflow.com/questions/47445309/not-recieving-correct-output-from-python-math-code", "closed_reason": "Not suitable for this site", "title": "Not recieving correct output from python math code", "body": "<p>Any ideas why the following code produces the wrong calculation? It's probably just incorrect syntax.</p>\n\n<pre><code>import math\nax = distance1 * math.cos(direction1)\n</code></pre>\n\n<p><code>distance1</code> is set to 7600.\nAnd <code>direction1</code> is set to 113.</p>\n\n<p>In a normal calculator, 7600 times the cosine of 113 is equal to <code>-2969.556576518480538.</code></p>\n\n<p>But the code above produces <code>7564.02643525</code>.</p>\n"}, {"tags": ["python", "sum"], "comments": [{"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511392957, "post_id": 47445293, "comment_id": 81846001, "body": "Question for you: does the number of digits to sum have to be at least 2?"}, {"owner": {"reputation": 597, "user_id": 1012010, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2Jb4g.png?s=128&g=1", "display_name": "Alligator", "link": "https://stackoverflow.com/users/1012010/alligator"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511393084, "post_id": 47445293, "comment_id": 81846044, "body": "Yes, the number of digits needs to be at least two.  It does look like this is a duplicate question.  Here is the previous answer, which is very similar.  <a href=\"https://stackoverflow.com/questions/46942681/how-to-find-all-combinations-that-sum-up-to-at-most-a-constant\" title=\"how to find all combinations that sum up to at most a constant\">stackoverflow.com/questions/46942681/&hellip;</a>"}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 1, "creation_date": 1511393116, "post_id": 47445293, "comment_id": 81846060, "body": "Well since I can&#39;t answer this one explicitly, this should get you started (apologies ahead of time for the formatting in the comments):  from itertools import combinations  foo = [1, 2, 3, 4, 5]  combos = []  for r in range(1,len(foo)): \tcombos.append([&#39;,&#39;.join(map(str, comb)) for comb in combinations(foo, r) if sum(comb)&lt;7])"}, {"owner": {"reputation": 597, "user_id": 1012010, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2Jb4g.png?s=128&g=1", "display_name": "Alligator", "link": "https://stackoverflow.com/users/1012010/alligator"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511393344, "post_id": 47445293, "comment_id": 81846115, "body": "Very elegant.  Nice answer.  I wish I could upvote it.  This is why StackOverflow is frustrating.  I tried to ask a valid question and I get downvotes.  Makes me not want to use the site anymore."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511393443, "post_id": 47445293, "comment_id": 81846147, "body": "Shoot me an upvote on the comment and I&#39;ll be happy lol. Hope I got you started! And yes, sometimes it seems that people are quick to jump to a &#39;duplicate question&#39; conclusion..."}, {"owner": {"reputation": 597, "user_id": 1012010, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2Jb4g.png?s=128&g=1", "display_name": "Alligator", "link": "https://stackoverflow.com/users/1012010/alligator"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511394310, "post_id": 47445293, "comment_id": 81846379, "body": "Didn&#39;t know I could upvote a comment.  Done."}], "owner": {"reputation": 597, "user_id": 1012010, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2Jb4g.png?s=128&g=1", "display_name": "Alligator", "link": "https://stackoverflow.com/users/1012010/alligator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1511392777, "answer_count": 0, "score": 0, "last_activity_date": 1511392596, "creation_date": 1511392596, "question_id": 47445293, "link": "https://stackoverflow.com/questions/47445293/how-can-i-sum-certain-elements-in-a-python-list-to-meet-specific-conditions", "closed_reason": "Duplicate", "title": "How can I sum certain elements in a python list to meet specific conditions?", "body": "<p>I have a python list, similar to the following:</p>\n\n<pre><code>foo = [1, 2, 3, 4, 5]\n</code></pre>\n\n<p>I'd like to find a way to sum some of the list elements, provided the sum does not exceed a specific value, such as \"7\" in the list above.  I want it to find all the combinations that do not exceed \"7\".  </p>\n\n<p>I need it to return a result that looks something like:</p>\n\n<pre><code>[1, 2, 3]\n[1, 4]\n[2, 4]\n[1, 5]\n</code></pre>\n\n<p>I'm aware I can already sum a complete list using <em>sum(foo)</em>, but I only want to sum part of the list.  I'm not aware of a way to introduce an if <em>sum(foo) &lt; 7</em> argument that only sums some of the terms.</p>\n\n<p>How would I do this?  Should I be using itertools.combinations?</p>\n"}, {"tags": ["jquery", "python", "flask"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1511392643, "post_id": 47445249, "comment_id": 81845903, "body": "dont use jquery ... or you will have to redirect in javascript (use <code>document.location.href=&#39;&#47;&#39;</code> ) after getting your response (which is probably the contents of the redirect page) ... take a better look into clientside vs serverside and how they interact"}, {"owner": {"reputation": 33, "user_id": 6275344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5XAD.gif?s=128&g=1", "display_name": "HaveSomeSyntax", "link": "https://stackoverflow.com/users/6275344/havesomesyntax"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1511392764, "post_id": 47445249, "comment_id": 81845941, "body": "Yes, the response has been the contents of the redirect page. That makes so much sense. Thank you. Can you post as an answer so I can accept it?"}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 8993012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/484be26e9dda8d11a4c49b9384320d8d?s=128&d=identicon&r=PG&f=1", "display_name": "allen-munsch", "link": "https://stackoverflow.com/users/8993012/allen-munsch"}, "is_accepted": false, "score": 0, "last_activity_date": 1511392965, "creation_date": 1511392965, "answer_id": 47445353, "question_id": 47445249, "link": "https://stackoverflow.com/questions/47445249/flask-not-redirecting-after-post/47445353#47445353", "title": "Flask Not Redirecting after POST?", "body": "<p>jquery callbacks?:</p>\n\n<pre><code>success: function(response) {\n                window.location.replace(`${response.data}`);\n          },\nerror: function(error) {\n                console.log(error);\n       }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 2, "last_activity_date": 1511392976, "creation_date": 1511392976, "answer_id": 47445355, "question_id": 47445249, "link": "https://stackoverflow.com/questions/47445249/flask-not-redirecting-after-post/47445355#47445355", "title": "Flask Not Redirecting after POST?", "body": "<p>option one</p>\n\n<p>just post your form using normal form post (ie <code>form.submit()</code>, or just have a submit button you do not intercept) and alow the backendd to redirect you to arrive at your destination</p>\n\n<p>option two</p>\n\n<p>do the redirect in javascript (<code>document.location.href=new_url</code>) after you get success ... </p>\n\n<p>I would also recommend taking a better look at how clientside vs serverside works and how they interact together</p>\n"}], "owner": {"reputation": 33, "user_id": 6275344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5XAD.gif?s=128&g=1", "display_name": "HaveSomeSyntax", "link": "https://stackoverflow.com/users/6275344/havesomesyntax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3297, "favorite_count": 0, "accepted_answer_id": 47445355, "answer_count": 2, "score": 2, "last_activity_date": 1511392976, "creation_date": 1511392286, "question_id": 47445249, "link": "https://stackoverflow.com/questions/47445249/flask-not-redirecting-after-post", "title": "Flask Not Redirecting after POST?", "body": "<p>I have been staring at this and Googling stuff for hours now, and I need another pair of eyes. I am learning Python and Flask. </p>\n\n<p>My problem: Flask is not visibly changing the page after the returned redirect(), but it is \"working\": The printed messages \"Successfully redirected to the homepage.\" and \"User has a valid session.\" are being outputted to the console after login. Additionally, navigating to \"/home\" directly works as expected. I am using jQuery to POST data to Flask.</p>\n\n<pre><code>from flask import Flask, request, redirect, jsonify, render_template, session\n\nfrom google.oauth2 import id_token\nfrom google.auth.transport import requests\n\nimport sys, collections\n\nimport db\n\napp = Flask(__name__)\napp.secret_key = 'some-key'\n\ndb.connect('users.sqlite')\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n@app.route('/collect', methods=['POST'])\ndef collect():\n    if request.method == 'POST':\n        google_credential_package = {}\n        google_credential_package['google_credential'] = request.json['google_credential']\n        google_credential_package['verified'] = request.json['verified']\n\n        try:\n            idinfo = id_token.verify_oauth2_token(google_credential_package['google_credential'], requests.Request(), 'my-client-id')\n            if idinfo['iss'] not in ['accounts.google.com', 'https://accounts.google.com']:\n                raise ValueError('Wrong issuer.')\n            if idinfo['aud'] == 'my-client-id':\n                userid = idinfo['sub']\n                email = idinfo['email']\n                name = idinfo['name']\n                pfp = idinfo['picture']\n                user_type = 'normie'\n\n                retrieved_user = db.user('users.sqlite', userid, email, name, pfp, user_type)\n\n                if retrieved_user[3] == 'alpha':\n                    print('User ' + name + ' is an Alpha Tester.')\n                    session['user'] = 'yes'\n                    return redirect('/home') # THE URL DOES NOT CHANGE HERE. (REDIRECT DOES NOT VISUALLY CHANGE ANYTHING.)\n                else:\n                    return 'Success.'\n        except ValueError:\n            print('Invalid token!')\n            pass\n\n@app.route('/home')\ndef generateHome():\n    print('Successfully redirected to the homepage.')\n    if session.get('user'):\n        print('User has a valid session.')\n        return render_template('home.html') # THIS DOES NOT HAPPEN VISIBLY.\n    else:\n        print('User does not have a valid session.')\n        return render_template('error.html', error = 'This page is only available to Alpha users.')\n</code></pre>\n\n<p><strong>EDIT</strong>: There is no error message outputted. The template \"home.html\" is stored in <code>templates</code>.</p>\n"}, {"tags": ["python", "xml", "lxml"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1511395722, "post_id": 47445236, "comment_id": 81846737, "body": "I took the liberty of running the XML through <code>xmlstarlet format</code>, to make its indentation accurately reflect its structure."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8827270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c282ac669e63fc9fa71ad62614d5042a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8827270/daniel"}, "edited": false, "score": 0, "creation_date": 1511406011, "post_id": 47445634, "comment_id": 81848993, "body": "Many thanks, both for the helpful answer and for filling out my initial post. To be clear, calling join() with a text iterator as a parameter on an empty string fills the string with what the iterator returns? (Sorry if my terminology is incorrect, still quite new to the programming game.)"}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 0, "last_activity_date": 1511395239, "creation_date": 1511395239, "answer_id": 47445634, "question_id": 47445236, "link": "https://stackoverflow.com/questions/47445236/getting-text-whether-or-not-nested-inside-an-extra-element-when-parsing-xml/47445634#47445634", "title": "Getting text whether or not nested inside an extra element when parsing XML", "body": "<p>You can use <code>itertext()</code> to iterate over all text fields, even those inside nested elements (or on the <code>tail</code> of an enclosed element, as here):</p>\n\n<pre><code>for l in root.iter('l'):\n    file.write(''.join(l.itertext()) + \"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8827270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c282ac669e63fc9fa71ad62614d5042a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8827270/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 47445634, "answer_count": 1, "score": 0, "last_activity_date": 1511395699, "creation_date": 1511392221, "last_edit_date": 1511395699, "question_id": 47445236, "link": "https://stackoverflow.com/questions/47445236/getting-text-whether-or-not-nested-inside-an-extra-element-when-parsing-xml", "title": "Getting text whether or not nested inside an extra element when parsing XML", "body": "<p>I want to create a text file (the txt file in the repo below) with lines of poetry that are in an XML file (the xml file in the repo) with each line enclosed in a \"l\" tag. The problem is, three of these lines have an annoying \"milestone\" element that causes my code (the py file) to ignore the line when writing to the new file. Can anyone help?</p>\n\n<p>Specifically, I want something like:</p>\n\n<pre><code>&lt;l&gt;&lt;milestone ed=\"P\" unit=\"Para\"/&gt;\u03c4\u03af\u03c2 \u03c4\u1fbd \u1f04\u03c1 \u03c3\u03c6\u03c9\u03b5 \u03b8\u03b5\u1ff6\u03bd \u1f14\u03c1\u03b9\u03b4\u03b9 \u03be\u03c5\u03bd\u03ad\u03b7\u03ba\u03b5 \u03bc\u03ac\u03c7\u03b5\u03c3\u03b8\u03b1\u03b9;&lt;/l&gt;\n</code></pre>\n\n<p>...to be treated the same way as if it were:</p>\n\n<pre><code>&lt;l&gt;\u03c4\u03af\u03c2 \u03c4\u1fbd \u1f04\u03c1 \u03c3\u03c6\u03c9\u03b5 \u03b8\u03b5\u1ff6\u03bd \u1f14\u03c1\u03b9\u03b4\u03b9 \u03be\u03c5\u03bd\u03ad\u03b7\u03ba\u03b5 \u03bc\u03ac\u03c7\u03b5\u03c3\u03b8\u03b1\u03b9;&lt;/l&gt;\n</code></pre>\n\n<hr>\n\n<p>The input files are taken from <a href=\"https://github.com/DLibatique/texts/tree/master/iliad\" rel=\"nofollow noreferrer\">https://github.com/DLibatique/texts/tree/master/iliad</a></p>\n\n<p>(I know the code is messy and there are many ways to DRY it and set up my repo structure better -- just trying to get the basic idea down first and then I can pretty it up later.)</p>\n\n<p>Code:</p>\n\n<pre><code>import sys\nreload(sys)\nsys.setdefaultencoding('utf-8')\n\nimport xml.etree.ElementTree as ET\ntree = ET.parse('iliad_1_1-32.xml')\nroot = tree.getroot()\n\nfile = open('iliad_1_1-32.txt','w')\nfor l in root.iter('l'):\n    file.write(str(l.text) + \"\\n\")\nfile.close()\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;text&gt;\n  &lt;body&gt;\n    &lt;div1 type=\"Book\" n=\"1\" org=\"uniform\" sample=\"complete\"&gt;\n      &lt;milestone ed=\"p\" n=\"1\" unit=\"card\"/&gt;\n      &lt;l&gt;&lt;milestone ed=\"P\" unit=\"para\"/&gt;\u03bc\u1fc6\u03bd\u03b9\u03bd \u1f04\u03b5\u03b9\u03b4\u03b5 \u03b8\u03b5\u1f70 \u03a0\u03b7\u03bb\u03b7\u03ca\u03ac\u03b4\u03b5\u03c9 \u1f08\u03c7\u03b9\u03bb\u1fc6\u03bf\u03c2&lt;/l&gt;\n      &lt;l&gt;\u03bf\u1f50\u03bb\u03bf\u03bc\u03ad\u03bd\u03b7\u03bd, \u1f23 \u03bc\u03c5\u03c1\u03af\u1fbd \u1f08\u03c7\u03b1\u03b9\u03bf\u1fd6\u03c2 \u1f04\u03bb\u03b3\u03b5\u1fbd \u1f14\u03b8\u03b7\u03ba\u03b5,&lt;/l&gt;\n      &lt;l&gt;\u03c0\u03bf\u03bb\u03bb\u1f70\u03c2 \u03b4\u1fbd \u1f30\u03c6\u03b8\u03af\u03bc\u03bf\u03c5\u03c2 \u03c8\u03c5\u03c7\u1f70\u03c2 \u1f0c\u03ca\u03b4\u03b9 \u03c0\u03c1\u03bf\u0390\u03b1\u03c8\u03b5\u03bd&lt;/l&gt;\n      &lt;l&gt;\u1f21\u03c1\u03ce\u03c9\u03bd, \u03b1\u1f50\u03c4\u03bf\u1f7a\u03c2 \u03b4\u1f72 \u1f11\u03bb\u03ce\u03c1\u03b9\u03b1 \u03c4\u03b5\u1fe6\u03c7\u03b5 \u03ba\u03cd\u03bd\u03b5\u03c3\u03c3\u03b9\u03bd&lt;/l&gt;\n      &lt;l n=\"5\"&gt;\u03bf\u1f30\u03c9\u03bd\u03bf\u1fd6\u03c3\u03af \u03c4\u03b5 \u03c0\u1fb6\u03c3\u03b9, \u0394\u03b9\u1f78\u03c2 \u03b4\u1fbd \u1f10\u03c4\u03b5\u03bb\u03b5\u03af\u03b5\u03c4\u03bf \u03b2\u03bf\u03c5\u03bb\u03ae,&lt;/l&gt;\n      &lt;l&gt;\u1f10\u03be \u03bf\u1f57 \u03b4\u1f74 \u03c4\u1f70 \u03c0\u03c1\u1ff6\u03c4\u03b1 \u03b4\u03b9\u03b1\u03c3\u03c4\u03ae\u03c4\u03b7\u03bd \u1f10\u03c1\u03af\u03c3\u03b1\u03bd\u03c4\u03b5&lt;/l&gt;\n      &lt;l&gt;\u1f08\u03c4\u03c1\u03b5\u0390\u03b4\u03b7\u03c2 \u03c4\u03b5 \u1f04\u03bd\u03b1\u03be \u1f00\u03bd\u03b4\u03c1\u1ff6\u03bd \u03ba\u03b1\u1f76 \u03b4\u1fd6\u03bf\u03c2 \u1f08\u03c7\u03b9\u03bb\u03bb\u03b5\u03cd\u03c2.&lt;/l&gt;\n      &lt;l&gt;&lt;milestone ed=\"P\" unit=\"Para\"/&gt;\u03c4\u03af\u03c2 \u03c4\u1fbd \u1f04\u03c1 \u03c3\u03c6\u03c9\u03b5 \u03b8\u03b5\u1ff6\u03bd \u1f14\u03c1\u03b9\u03b4\u03b9 \u03be\u03c5\u03bd\u03ad\u03b7\u03ba\u03b5 \u03bc\u03ac\u03c7\u03b5\u03c3\u03b8\u03b1\u03b9;&lt;/l&gt;\n      &lt;l&gt;\u039b\u03b7\u03c4\u03bf\u1fe6\u03c2 \u03ba\u03b1\u1f76 \u0394\u03b9\u1f78\u03c2 \u03c5\u1f31\u03cc\u03c2: \u1f43 \u03b3\u1f70\u03c1 \u03b2\u03b1\u03c3\u03b9\u03bb\u1fc6\u03ca \u03c7\u03bf\u03bb\u03c9\u03b8\u03b5\u1f76\u03c2&lt;/l&gt;\n      &lt;l n=\"10\"&gt;\u03bd\u03bf\u1fe6\u03c3\u03bf\u03bd \u1f00\u03bd\u1f70 \u03c3\u03c4\u03c1\u03b1\u03c4\u1f78\u03bd \u1f44\u03c1\u03c3\u03b5 \u03ba\u03b1\u03ba\u03ae\u03bd, \u1f40\u03bb\u03ad\u03ba\u03bf\u03bd\u03c4\u03bf \u03b4\u1f72 \u03bb\u03b1\u03bf\u03af,&lt;/l&gt;\n      &lt;l&gt;\u03bf\u1f55\u03bd\u03b5\u03ba\u03b1 \u03c4\u1f78\u03bd \u03a7\u03c1\u03cd\u03c3\u03b7\u03bd \u1f20\u03c4\u03af\u03bc\u03b1\u03c3\u03b5\u03bd \u1f00\u03c1\u03b7\u03c4\u1fc6\u03c1\u03b1&lt;/l&gt;\n      &lt;l&gt;\u1f08\u03c4\u03c1\u03b5\u0390\u03b4\u03b7\u03c2: \u1f43 \u03b3\u1f70\u03c1 \u1f26\u03bb\u03b8\u03b5 \u03b8\u03bf\u1f70\u03c2 \u1f10\u03c0\u1f76 \u03bd\u1fc6\u03b1\u03c2 \u1f08\u03c7\u03b1\u03b9\u1ff6\u03bd&lt;/l&gt;\n      &lt;l&gt;\u03bb\u03c5\u03c3\u03cc\u03bc\u03b5\u03bd\u03cc\u03c2 \u03c4\u03b5 \u03b8\u03cd\u03b3\u03b1\u03c4\u03c1\u03b1 \u03c6\u03ad\u03c1\u03c9\u03bd \u03c4\u1fbd \u1f00\u03c0\u03b5\u03c1\u03b5\u03af\u03c3\u03b9\u1fbd \u1f04\u03c0\u03bf\u03b9\u03bd\u03b1,&lt;/l&gt;\n      &lt;l&gt;\u03c3\u03c4\u03ad\u03bc\u03bc\u03b1\u03c4\u1fbd \u1f14\u03c7\u03c9\u03bd \u1f10\u03bd \u03c7\u03b5\u03c1\u03c3\u1f76\u03bd \u1f11\u03ba\u03b7\u03b2\u03cc\u03bb\u03bf\u03c5 \u1f08\u03c0\u03cc\u03bb\u03bb\u03c9\u03bd\u03bf\u03c2&lt;/l&gt;\n      &lt;l n=\"15\"&gt;\u03c7\u03c1\u03c5\u03c3\u03ad\u1ff3 \u1f00\u03bd\u1f70 \u03c3\u03ba\u03ae\u03c0\u03c4\u03c1\u1ff3, \u03ba\u03b1\u1f76 \u03bb\u03af\u03c3\u03c3\u03b5\u03c4\u03bf \u03c0\u03ac\u03bd\u03c4\u03b1\u03c2 \u1f08\u03c7\u03b1\u03b9\u03bf\u03cd\u03c2,&lt;/l&gt;\n      &lt;l&gt;\u1f08\u03c4\u03c1\u03b5\u0390\u03b4\u03b1 \u03b4\u1f72 \u03bc\u03ac\u03bb\u03b9\u03c3\u03c4\u03b1 \u03b4\u03cd\u03c9, \u03ba\u03bf\u03c3\u03bc\u03ae\u03c4\u03bf\u03c1\u03b5 \u03bb\u03b1\u1ff6\u03bd:&lt;/l&gt;\n      &lt;l&gt;\u1f08\u03c4\u03c1\u03b5\u0390\u03b4\u03b1\u03b9 \u03c4\u03b5 \u03ba\u03b1\u1f76 \u1f04\u03bb\u03bb\u03bf\u03b9 \u1f10\u03cb\u03ba\u03bd\u03ae\u03bc\u03b9\u03b4\u03b5\u03c2 \u1f08\u03c7\u03b1\u03b9\u03bf\u03af,&lt;/l&gt;\n      &lt;l&gt;\u1f51\u03bc\u1fd6\u03bd \u03bc\u1f72\u03bd \u03b8\u03b5\u03bf\u1f76 \u03b4\u03bf\u1fd6\u03b5\u03bd \u1f48\u03bb\u03cd\u03bc\u03c0\u03b9\u03b1 \u03b4\u03ce\u03bc\u03b1\u03c4\u1fbd \u1f14\u03c7\u03bf\u03bd\u03c4\u03b5\u03c2&lt;/l&gt;\n      &lt;l&gt;\u1f10\u03ba\u03c0\u03ad\u03c1\u03c3\u03b1\u03b9 \u03a0\u03c1\u03b9\u03ac\u03bc\u03bf\u03b9\u03bf \u03c0\u03cc\u03bb\u03b9\u03bd, \u03b5\u1f56 \u03b4\u1fbd \u03bf\u1f34\u03ba\u03b1\u03b4\u1fbd \u1f31\u03ba\u03ad\u03c3\u03b8\u03b1\u03b9:&lt;/l&gt;\n      &lt;l n=\"20\"&gt;\u03c0\u03b1\u1fd6\u03b4\u03b1 \u03b4\u1fbd \u1f10\u03bc\u03bf\u1f76 \u03bb\u03cd\u03c3\u03b1\u03b9\u03c4\u03b5 \u03c6\u03af\u03bb\u03b7\u03bd, \u03c4\u1f70 \u03b4\u1fbd \u1f04\u03c0\u03bf\u03b9\u03bd\u03b1 \u03b4\u03ad\u03c7\u03b5\u03c3\u03b8\u03b1\u03b9,&lt;/l&gt;\n      &lt;l&gt;\u1f01\u03b6\u03cc\u03bc\u03b5\u03bd\u03bf\u03b9 \u0394\u03b9\u1f78\u03c2 \u03c5\u1f31\u1f78\u03bd \u1f11\u03ba\u03b7\u03b2\u03cc\u03bb\u03bf\u03bd \u1f08\u03c0\u03cc\u03bb\u03bb\u03c9\u03bd\u03b1.&lt;/l&gt;\n      &lt;l&gt;&lt;milestone ed=\"P\" unit=\"para\"/&gt;\u1f14\u03bd\u03b8\u1fbd \u1f04\u03bb\u03bb\u03bf\u03b9 \u03bc\u1f72\u03bd \u03c0\u03ac\u03bd\u03c4\u03b5\u03c2 \u1f10\u03c0\u03b5\u03c5\u03c6\u03ae\u03bc\u03b7\u03c3\u03b1\u03bd \u1f08\u03c7\u03b1\u03b9\u03bf\u1f76&lt;/l&gt;\n      &lt;l&gt;\u1f00\u03bb\u03bb\u1fbd \u03bf\u1f50\u03ba \u1f08\u03c4\u03c1\u03b5\u0390\u03b4\u1fc3 \u1f08\u03b3\u03b1\u03bc\u03ad\u03bc\u03bd\u03bf\u03bd\u03b9 \u1f25\u03bd\u03b4\u03b1\u03bd\u03b5 \u03b8\u03c5\u03bc\u1ff7,&lt;/l&gt;\n      &lt;l n=\"25\"&gt;\u1f00\u03bb\u03bb\u1f70 \u03ba\u03b1\u03ba\u1ff6\u03c2 \u1f00\u03c6\u03af\u03b5\u03b9, \u03ba\u03c1\u03b1\u03c4\u03b5\u03c1\u1f78\u03bd \u03b4\u1fbd \u1f10\u03c0\u1f76 \u03bc\u1fe6\u03b8\u03bf\u03bd \u1f14\u03c4\u03b5\u03bb\u03bb\u03b5:&lt;/l&gt;\n      &lt;l&gt;\u03bc\u03ae \u03c3\u03b5 \u03b3\u03ad\u03c1\u03bf\u03bd \u03ba\u03bf\u03af\u03bb\u1fc3\u03c3\u03b9\u03bd \u1f10\u03b3\u1f7c \u03c0\u03b1\u03c1\u1f70 \u03bd\u03b7\u03c5\u03c3\u1f76 \u03ba\u03b9\u03c7\u03b5\u03af\u03c9&lt;/l&gt;\n      &lt;l&gt;\u1f22 \u03bd\u1fe6\u03bd \u03b4\u03b7\u03b8\u03cd\u03bd\u03bf\u03bd\u03c4\u1fbd \u1f22 \u1f55\u03c3\u03c4\u03b5\u03c1\u03bf\u03bd \u03b1\u1f56\u03c4\u03b9\u03c2 \u1f30\u03cc\u03bd\u03c4\u03b1,&lt;/l&gt;\n      &lt;l&gt;\u03bc\u03ae \u03bd\u03cd \u03c4\u03bf\u03b9 \u03bf\u1f50 \u03c7\u03c1\u03b1\u03af\u03c3\u03bc\u1fc3 \u03c3\u03ba\u1fc6\u03c0\u03c4\u03c1\u03bf\u03bd \u03ba\u03b1\u1f76 \u03c3\u03c4\u03ad\u03bc\u03bc\u03b1 \u03b8\u03b5\u03bf\u1fd6\u03bf:&lt;/l&gt;\n      &lt;l&gt;\u03c4\u1f74\u03bd \u03b4\u1fbd \u1f10\u03b3\u1f7c \u03bf\u1f50 \u03bb\u03cd\u03c3\u03c9: \u03c0\u03c1\u03af\u03bd \u03bc\u03b9\u03bd \u03ba\u03b1\u1f76 \u03b3\u1fc6\u03c1\u03b1\u03c2 \u1f14\u03c0\u03b5\u03b9\u03c3\u03b9\u03bd&lt;/l&gt;\n      &lt;l n=\"30\"&gt;\u1f21\u03bc\u03b5\u03c4\u03ad\u03c1\u1ff3 \u1f10\u03bd\u1f76 \u03bf\u1f34\u03ba\u1ff3 \u1f10\u03bd \u1f0c\u03c1\u03b3\u03b5\u03ca \u03c4\u03b7\u03bb\u03cc\u03b8\u03b9 \u03c0\u03ac\u03c4\u03c1\u03b7\u03c2&lt;/l&gt;\n      &lt;l&gt;\u1f31\u03c3\u03c4\u1f78\u03bd \u1f10\u03c0\u03bf\u03b9\u03c7\u03bf\u03bc\u03ad\u03bd\u03b7\u03bd \u03ba\u03b1\u1f76 \u1f10\u03bc\u1f78\u03bd \u03bb\u03ad\u03c7\u03bf\u03c2 \u1f00\u03bd\u03c4\u03b9\u03cc\u03c9\u03c3\u03b1\u03bd:&lt;/l&gt;\n      &lt;l&gt;\u1f00\u03bb\u03bb\u1fbd \u1f34\u03b8\u03b9 \u03bc\u03ae \u03bc\u1fbd \u1f10\u03c1\u03ad\u03b8\u03b9\u03b6\u03b5 \u03c3\u03b1\u03ce\u03c4\u03b5\u03c1\u03bf\u03c2 \u1f65\u03c2 \u03ba\u03b5 \u03bd\u03ad\u03b7\u03b1\u03b9.&lt;/l&gt;\n    &lt;/div1&gt;\n  &lt;/body&gt;\n&lt;/text&gt;\n</code></pre>\n"}, {"tags": ["python", "windows"], "comments": [{"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1511392399, "post_id": 47445224, "comment_id": 81845834, "body": "What does <code>which python3</code> give you?"}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1511809563, "post_id": 47445224, "comment_id": 81992237, "body": "just tried and I&#39;m getting:  &quot;&#39;which&#39; is not recognized as an internal or external command, operable program or batch file.&quot;"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1511820228, "post_id": 47445224, "comment_id": 81997644, "body": "Then you are using significantly less linux than I assumed. It wouldn&#39;t hurt adding the windows tag to this question to make that more clear."}], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1511395968, "post_id": 47445352, "comment_id": 81846800, "body": "Thanks this is helpful. But when I use   <code>python3 -m venv &#47;path&#47;to&#47;new&#47;virtual&#47;environment</code>  I get <b>python3&#39; is not recognized as an internal or external command, operable program or batch file.</b>  I&#39;m using Python 3 so not sure what&#39;s going on here"}, {"owner": {"reputation": 2612, "user_id": 4122928, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/nGk5I.jpg?s=128&g=1", "display_name": "giliev", "link": "https://stackoverflow.com/users/4122928/giliev"}, "reply_to_user": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1511396567, "post_id": 47445352, "comment_id": 81846953, "body": "Which Operative System do you use?"}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1511398258, "post_id": 47445352, "comment_id": 81847349, "body": "I&#39;m on Windows 10"}, {"owner": {"reputation": 1256, "user_id": 5186864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84a45ac1ccac37ed3a6565851115ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Falk Schuetzenmeister", "link": "https://stackoverflow.com/users/5186864/falk-schuetzenmeister"}, "edited": false, "score": 0, "creation_date": 1511911170, "post_id": 47445352, "comment_id": 82042213, "body": "Again, python is not on your current path. You have two options. Set the PATH variable or find the executable and provide as argument to virtualenv."}], "tags": [], "owner": {"reputation": 2612, "user_id": 4122928, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/nGk5I.jpg?s=128&g=1", "display_name": "giliev", "link": "https://stackoverflow.com/users/4122928/giliev"}, "is_accepted": false, "score": 1, "last_activity_date": 1511392964, "last_edit_date": 1592644375, "creation_date": 1511392964, "answer_id": 47445352, "question_id": 47445224, "link": "https://stackoverflow.com/questions/47445224/im-trying-to-create-a-virtual-environment-in-python-3-but-cant-get-it-set-up/47445352#47445352", "title": "I&#39;m trying to create a virtual environment in Python 3 but can&#39;t get it set up", "body": "<p>I usually create virtual environments with\n<code>python3 -m venv /path/to/new/virtual/environment</code> (here's the documentation <a href=\"https://docs.python.org/3/library/venv.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/venv.html</a>)</p>\n<p>To be able to do this you need to have installed python 3 globally.</p>\n<p>Also if you want to use that environment you may need to activate it:</p>\n<p><code>source /path/to/new/virtual/environment/bin/activate</code></p>\n<p>These commands work on Unix based systems.</p>\n"}, {"comments": [{"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1511484243, "post_id": 47445514, "comment_id": 81884611, "body": "<code>python3 --version</code> returns: &#39;python3&#39; is not recognized as an internal or external command, operable program or batch file.  but  <code>python --version</code> returns: Python 3.6.1 :: Anaconda 4.4.0 (64-bit)  I did have Python 2 installed a while back so does this mean that my Command Prompt is still referencing the older version? Should I just uninstall Python 2 altogether and start fresh? I also have Anaconda (if that makes a difference)."}, {"owner": {"reputation": 1256, "user_id": 5186864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84a45ac1ccac37ed3a6565851115ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Falk Schuetzenmeister", "link": "https://stackoverflow.com/users/5186864/falk-schuetzenmeister"}, "reply_to_user": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1511532395, "post_id": 47445514, "comment_id": 81904441, "body": "This means Python 3 is on your path. In that case simply calling virtualenv should create a virtual environment using Python 3.6.1. The executable for python 3 is still called &#39;python&#39;. You might symlink it as python3 if you like to have both versions on hand. Your python 3 install might have overwritten the symlink to Python 2."}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1511917645, "post_id": 47445514, "comment_id": 82044027, "body": "Thanks a lot, I was able to run <code>virtualenv -p LOCATION ve</code> successfully to create a virtual environment.   But now the issue is getting activated. I tried <code>source ve&#47;bin&#47;activate</code> and <code>LOCATION ve&#47;bin&#47;activate</code> and looked around the site for answer but couldn&#39;t find anything. Any ideas? Thanks again!"}, {"owner": {"reputation": 1256, "user_id": 5186864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84a45ac1ccac37ed3a6565851115ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Falk Schuetzenmeister", "link": "https://stackoverflow.com/users/5186864/falk-schuetzenmeister"}, "reply_to_user": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1511982889, "post_id": 47445514, "comment_id": 82077883, "body": "Did you look into the ve folder? What is there?"}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1512001482, "post_id": 47445514, "comment_id": 82086019, "body": "Just checked the ve folder and there&#39;s:  Include (folder) Lib (folder) Scripts(folder) tcl (folder) pip-selfcheck.json"}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1512002187, "post_id": 47445514, "comment_id": 82086214, "body": "Also, I just ran <code>ve\\Scripts\\activate.bat</code> and it returns <code>(ve) C:\\Users\\David&gt;</code> Does that mean that it&#39;s all set up correctly and ready to go?"}, {"owner": {"reputation": 1256, "user_id": 5186864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84a45ac1ccac37ed3a6565851115ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Falk Schuetzenmeister", "link": "https://stackoverflow.com/users/5186864/falk-schuetzenmeister"}, "reply_to_user": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 1, "creation_date": 1512066142, "post_id": 47445514, "comment_id": 82117540, "body": "Yes, if you are on Windows you have to run ve\\Scripts\\activate.bat. Sorry for assuming you were on Linux or OSX. You are all good now."}], "tags": [], "owner": {"reputation": 1256, "user_id": 5186864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84a45ac1ccac37ed3a6565851115ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Falk Schuetzenmeister", "link": "https://stackoverflow.com/users/5186864/falk-schuetzenmeister"}, "is_accepted": true, "score": 2, "last_activity_date": 1511395113, "last_edit_date": 1511395113, "creation_date": 1511394338, "answer_id": 47445514, "question_id": 47445224, "link": "https://stackoverflow.com/questions/47445224/im-trying-to-create-a-virtual-environment-in-python-3-but-cant-get-it-set-up/47445514#47445514", "title": "I&#39;m trying to create a virtual environment in Python 3 but can&#39;t get it set up", "body": "<p>It means that python3 is not on your path. You can test that with ...</p>\n\n<pre><code>python3 --version\n</code></pre>\n\n<p>If you get an error your virtualenv creation will fail as well. </p>\n\n<p>Just use the full path of your python executable with the -p flag i.e.:</p>\n\n<pre><code>virtualenv -p /some_odd_location/bin/python3 env\n</code></pre>\n\n<p>In Windows this will be probably</p>\n\n<pre><code>virtualenv -p C:\\python3\\bin\\python3.exe env (I will verify tomorrow)\n</code></pre>\n\n<p>And of course make sure python3 is installed in the first place.</p>\n\n<p>Alternatively, you can also symlink your python executable in /usr/bin but that will affect the global settings.</p>\n\n<p>Virtual environments are not much more than alternative path settings in the shell where they are activated plus a clean python installation in the folder that you create by invoking virtualenv.</p>\n"}], "owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "accepted_answer_id": 47445514, "answer_count": 2, "score": 0, "last_activity_date": 1511820907, "creation_date": 1511392174, "last_edit_date": 1511820907, "question_id": 47445224, "link": "https://stackoverflow.com/questions/47445224/im-trying-to-create-a-virtual-environment-in-python-3-but-cant-get-it-set-up", "title": "I&#39;m trying to create a virtual environment in Python 3 but can&#39;t get it set up", "body": "<p>So basically to create the virtual environment I'm running:</p>\n\n<p>$ virtualenv -p python3 ve </p>\n\n<p>But when I run this I get: \"The path python3 (from --python=python3) does not exist\"</p>\n\n<p>So I tried to do a mkdir ve and that doesn't work either. I'm not very familiar with virtual environments so I've tried a bunch of things and nothing seems to work. Any help would be much appreciated!</p>\n"}, {"tags": ["python", "python-3.x", "glob"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1511392019, "post_id": 47445170, "comment_id": 81845725, "body": "maybe try <code>filelist = glob.glob(os.path.join(outdir, &#39;&#47;*{}*.sh&#39;))</code>. Or <code>os.listdir(&#39;max&#47;test&#47;&#39;)</code>"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1511392126, "post_id": 47445170, "comment_id": 81845760, "body": "What version of Python are you using?  If it&#39;s 3.6+, you can use f-strings for this."}, {"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1511392171, "post_id": 47445170, "comment_id": 81845768, "body": "@PatrickHaugh 3.6"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1511392216, "post_id": 47445170, "comment_id": 81845782, "body": "Here&#39;s the relevant documentation: <a href=\"https://docs.python.org/3/reference/lexical_analysis.html#f-strings\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/lexical_analysis.html#f-strings</a>"}, {"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1511392524, "post_id": 47445170, "comment_id": 81845866, "body": "@downshift Tha&#39;s returning empty.."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1511392728, "post_id": 47445170, "comment_id": 81845931, "body": "@maximusdooku, ok try the suggested answer and see if it works"}], "answers": [{"comments": [{"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "edited": false, "score": 0, "creation_date": 1511393197, "post_id": 47445283, "comment_id": 81846079, "body": "Thanks!, But <code>glob.glob(f&#39;{outdir}*{{}}*.sh&#39;)</code> is returning empty."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "reply_to_user": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "edited": false, "score": 1, "creation_date": 1511641201, "post_id": 47445283, "comment_id": 81935505, "body": "@maximusdooku looks like I missed that extra slash.  Try <code>glob.glob(f&#39;{outdir}&#47;*{{}}*.sh&#39;)</code>"}], "tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 1, "last_activity_date": 1511913181, "last_edit_date": 1511913181, "creation_date": 1511392544, "answer_id": 47445283, "question_id": 47445170, "link": "https://stackoverflow.com/questions/47445170/how-can-i-find-all-files-using-folder-name/47445283#47445283", "title": "How can I find all files using folder name?", "body": "<p>Here's a quick example of using a f-string</p>\n\n<pre><code>outdir = 'max/test/'\npath = f'{outdir}/*{{}}*.sh'\n</code></pre>\n\n<p><code>path</code> is then equal to <code>'max/test/*{}*.sh'</code>.  Note that we have to escape the curly braces by doubling up on them.  <code>{{</code> escapes to <code>{</code> and <code>}}</code> to <code>}</code></p>\n"}, {"tags": [], "owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "is_accepted": true, "score": 1, "last_activity_date": 1511395489, "creation_date": 1511395489, "answer_id": 47445665, "question_id": 47445170, "link": "https://stackoverflow.com/questions/47445170/how-can-i-find-all-files-using-folder-name/47445665#47445665", "title": "How can I find all files using folder name?", "body": "<pre><code>glob.glob(outdir+'/*{}*.sh')\n</code></pre>\n\n<p>This works for me.</p>\n"}], "owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 47445665, "answer_count": 2, "score": -1, "last_activity_date": 1511913181, "creation_date": 1511391765, "last_edit_date": 1511392271, "question_id": 47445170, "link": "https://stackoverflow.com/questions/47445170/how-can-i-find-all-files-using-folder-name", "title": "How can I find all files using folder name?", "body": "<p>I want to:</p>\n\n<ul>\n<li>Mention the folder in one spot (I keep user-defined variables in one section)</li>\n<li>Use that to search all files mentioning a search string (<em>{}</em>.sh)</li>\n</ul>\n\n<p>How can I do this?</p>\n\n<p>This works:</p>\n\n<pre><code>filelist = glob.glob('max/test/*{}*.sh')\n</code></pre>\n\n<p>But I want to keep the folder assignment separate.</p>\n\n<p>This doesn't work:</p>\n\n<pre><code>outdir = 'max/test/'\nfilelist = glob.glob('outdir/*{}*.sh')\n</code></pre>\n"}, {"tags": ["python", "html"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8962942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7c5ee9cb88e345b6d9a4ec777ab32?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/8962942/coder"}, "edited": false, "score": 0, "creation_date": 1511663511, "post_id": 47445818, "comment_id": 81940265, "body": "How do you install it?"}], "tags": [], "owner": {"reputation": 528, "user_id": 7402725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e4d47030b45172654c088dd8e71d30?s=128&d=identicon&r=PG&f=1", "display_name": "C. Feenstra", "link": "https://stackoverflow.com/users/7402725/c-feenstra"}, "is_accepted": false, "score": 0, "last_activity_date": 1511396856, "creation_date": 1511396856, "answer_id": 47445818, "question_id": 47445157, "link": "https://stackoverflow.com/questions/47445157/use-query-phrase-interpretation-to-compute-a-math-equation/47445818#47445818", "title": "Use query phrase interpretation to compute a math equation", "body": "<p>You're looking for <a href=\"https://github.com/sympy/sympy\" rel=\"nofollow noreferrer\">sympy</a></p>\n\n<pre><code>from sympy import sympify, Symbol\n&gt;&gt;&gt; sympify('2 ^ 3').evalf()\n8\n&gt;&gt;&gt; x = Symbol('x')\n&gt;&gt;&gt; sympify('x ^ 2').evalf(subs={x: 2})\n4\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8962942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7c5ee9cb88e345b6d9a4ec777ab32?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/8962942/coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1511396856, "creation_date": 1511391697, "question_id": 47445157, "link": "https://stackoverflow.com/questions/47445157/use-query-phrase-interpretation-to-compute-a-math-equation", "title": "Use query phrase interpretation to compute a math equation", "body": "<p>I am using python and html to build a webpage where I can enter a math equation in a textbox and compute the math equation like google calculator. \nAre there any libraries or suggestions as to how I may go about doing this?</p>\n"}, {"tags": ["python", "unit-testing", "selenium", "inheritance", "super"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 8571154, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/da7f91564e4dda95e3fcd67ff5753e59?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Kurzeja", "link": "https://stackoverflow.com/users/8571154/adrian-kurzeja"}, "edited": false, "score": 0, "creation_date": 1511458147, "post_id": 47445297, "comment_id": 81876198, "body": "Thanks for advice I have used this in my code, the problem was in other place I just posted solutions ;)  Thanks anyway ;)"}, {"owner": {"reputation": 300, "user_id": 10462490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXHku.jpg?s=128&g=1", "display_name": "errorinpersona", "link": "https://stackoverflow.com/users/10462490/errorinpersona"}, "edited": false, "score": 0, "creation_date": 1561200730, "post_id": 47445297, "comment_id": 99991837, "body": "Did not fix my problem, however that is a really good advice!"}], "tags": [], "owner": {"reputation": 528, "user_id": 7402725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e4d47030b45172654c088dd8e71d30?s=128&d=identicon&r=PG&f=1", "display_name": "C. Feenstra", "link": "https://stackoverflow.com/users/7402725/c-feenstra"}, "is_accepted": false, "score": 9, "last_activity_date": 1511392637, "creation_date": 1511392637, "answer_id": 47445297, "question_id": 47445137, "link": "https://stackoverflow.com/questions/47445137/unittest-selenium-init-takes-1-positional-argument-but-2-were-given/47445297#47445297", "title": "Unittest + Selenium - __init__() takes 1 positional argument but 2 were given", "body": "<p><code>TestCase</code> instances take an optional keyword argument <code>methodName</code>; I'm guessing the <code>unittest</code> module passes this explicitly behind the scenes at some point. Typically when I'm subclassing classes I didn't make myself I'll use this pattern; this should fix your problem:</p>\n\n<pre><code>class SubClass(SupClass):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n</code></pre>\n\n<p>Especially when you're not passing any arguments to your <code>__init__</code> method, passing through the arguments in this manner is a good way to avoid the error you're getting. If you do want to pass something custom to your <code>__init__</code> method, you can do something like this:</p>\n\n<pre><code>class SubClass(SupClass):\n    def __init__(self, myarg, *args, **kwargs):\n       super().__init__(*args, **kwargs)\n       # do something with your custom argument\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 393, "user_id": 8571154, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/da7f91564e4dda95e3fcd67ff5753e59?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Kurzeja", "link": "https://stackoverflow.com/users/8571154/adrian-kurzeja"}, "is_accepted": false, "score": 0, "last_activity_date": 1511463551, "last_edit_date": 1511463551, "creation_date": 1511458065, "answer_id": 47460821, "question_id": 47445137, "link": "https://stackoverflow.com/questions/47445137/unittest-selenium-init-takes-1-positional-argument-but-2-were-given/47460821#47460821", "title": "Unittest + Selenium - __init__() takes 1 positional argument but 2 were given", "body": "<p>Ok, I found the problem... It is something else than you wrote the solution that you wrote is good too and I also used It in my code.</p>\n\n<p>Problem from my question was here:</p>\n\n<pre><code>suite = loader.loadTestsFromTestCase(Tests)\nrunner.run(suite())\n</code></pre>\n\n<p>I should change to:</p>\n\n<pre><code>something = Tests\nsuite = loader.loadTestsFromTestCase(something)\nrunner.run(suite())\n</code></pre>\n\n<p>BUT another thing is that I had to rebuild it completly to work properly\nAt start: inheritance __ init __ from previous class with super was stupid becouse I didn't have acces to the class before... so I couldn't access my variables. So I've changed:</p>\n\n<pre><code>class SubClass(SupClass):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>class SubClass(SupClass):\n    def __init__(self, *args, **kwargs):\n        super(SubClass, self).setUpClass(*args, **kwargs)\n</code></pre>\n\n<p>Then I understood that __ init __ inheritance from unittest.TestCase is impossible. To imagine what happened... </p>\n\n<p>My new way to start test cases:</p>\n\n<pre><code>something = Tests \n</code></pre>\n\n<p>it was creating a new error... that said i have to use <strong>Tests()</strong> but when I used this form I got and previous error so both ways was bad.\nSo I just created class with variables, but with no __ init __ and no super()</p>\n\n<pre><code>class Something(StartInstance):\n    a = thing1\n    b = thing2\n    c = thing3\n</code></pre>\n\n<p>I'm writing this becouse maybe someone in future will try to use __ init __ with unittest... It doesn't work... or I just didn't find the solution, but I'm new :P</p>\n"}], "owner": {"reputation": 393, "user_id": 8571154, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/da7f91564e4dda95e3fcd67ff5753e59?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Kurzeja", "link": "https://stackoverflow.com/users/8571154/adrian-kurzeja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2701, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1511463551, "creation_date": 1511391531, "last_edit_date": 1511391850, "question_id": 47445137, "link": "https://stackoverflow.com/questions/47445137/unittest-selenium-init-takes-1-positional-argument-but-2-were-given", "title": "Unittest + Selenium - __init__() takes 1 positional argument but 2 were given", "body": "<p>I'm working with unittest and selenium for the first time but thats also my first bigger code in python. I found some answers for this problem but there was no explaination for classes with __ init __ inheritance and method super().__ init __() </p>\n\n<p><strong>TL;DR</strong>\nI have classes that inherits one by one. The first class StartInstance that creates chrome instance inherits from unittest.TestCase and the problem is with inheritance and super().<strong>init</strong>() in other classes, becouse when i remove it test normaly starts</p>\n\n<p>All looks like:</p>\n\n<pre><code>class StartInstance(unittest.TestCase):\n    @classmethod\n    def setUpClass(cls): pass\n\nclass A(StartInstance):\n    def __init__(self):\n        super().__init__() adding variables etc to init\n\nclass B(A):\n    def __init__(self): \n        super().__init__() adding variables etc to init\n\nclass C(A):\n    def __init__(self):\n        super().__init__() adding variables etc to init\n\nclass PrepareTests(B, C, D):\n    def all tests(self):\n        self.tests_B\n        self.tests_C\n        self.tests_D\n\n class Tests(PrepareTests):\n    def test_click:\n        click()\n        all_tests()\n\n\n #and finally somewhere a test runner\n suite = loader.loadTestsFromTestCase(Tests)\n runner.run(suite())\n\n#when i run this i get this error and it only raises when i \nadd classes with their own init\n#heh TL;DR almost as long as normal text sorry :(\n</code></pre>\n\n<hr>\n\n<p><strong>ALL:</strong></p>\n\n<p><strong>FULL ERROR MESSAGE:</strong></p>\n\n<pre><code>Traceback (most recent call last):\n File \"xyz\\main_test.py\", line 24, \n in &lt;module&gt;\n   runner.run(suite())\n  File \"xyz\\main_test.py\", line 11, \nin suite\n   about_us = loader.loadTestsFromTestCase(AboutUs)\n File \n\"xyz\\Python36\\lib\\unittest\\loader.py\", line 92, in loadTestsFromTestCase\nloaded_suite = self.suiteClass(map(testCaseClass, testCaseNames))\n File \"xyz\\Python36\\lib\\unittest\\suite.py\", line 24, in __init__\n  self.addTests(tests)\n File \"xyz\\Python36\\lib\\unittest\\suite.py\", line 57, in addTests\n   for test in tests:\n TypeError: __init__() takes 1 positional argument but 2 were given\n</code></pre>\n\n<p>Thats my code:</p>\n\n<p>I have a settings.py file with variables in dict of dicts accessed by settings.xyz[\"layer1\"][\"KEY\"]</p>\n\n<p><strong>setup.py</strong> - setup class for selenium</p>\n\n<pre><code>class StartInstance(unittest.TestCase):\n    @classmethod\n    def setUpClass(cls):\n        cls.driver = webdriver.Chrome()\n        cls.driver.get(settings.URLS['MAIN_URL'])\n        cls.driver.implicitly_wait(2)\n        cls.driver.maximize_window()\n\n    @classmethod\n    def tearDownClass(cls):\n        cls.driver.quit()\n</code></pre>\n\n<p><strong>main_tests_config.py</strong> - next layer - now very basic configs</p>\n\n<pre><code>class MainTestConfig(StartInstance):\n    def __init__(self):\n        super().__init__()\n        self.language = settings.TEST_LANGUAGE\n        self.currency = settings.TEST_CURRENCY\n</code></pre>\n\n<p><strong>header.py</strong> (got few more files like this) - next layer translates code from config.py to class variables, inherits from previous classes becouse it needs global language</p>\n\n<pre><code>class HeaderPath(MainTestConfig):\n    def __init__(self):\n        super().__init__()\n        self.logo_path = settings.PAGE_PATHS[\"HEADER\"][\"LOGO\"]\n        self.business_path = settings.PAGE_PATHS[\"HEADER\"][\"BUSINESS\"]\n\nclass HeaderText(MainTestConfig):\n    def __init__(self):\n        super().__init__()\n        self.business_text = settings.PAGE_CONTENT[self.language][\"HEADER\"][\"BUSINESS\"]\n        self.cart_text = settings.PAGE_CONTENT[self.language][\"HEADER\"][\"CART\"]\n</code></pre>\n\n<p><strong>header_tests.py</strong> - next layer, inherits variables(HeadetText, HeaderPath, Urls(class Urls it is class with page urls variables)), language(from MainTestConfig), and selenium driver (from first class StartInstance), example build of class </p>\n\n<pre><code>class HeaderStaticTest(HeaderText, HeaderPath, Urls):\n    def header_static(self):\n        self.logo_display()\n        self.method2()\n        # etc..\n\n    def logo_display(self):\n        self.driver.find_element_by_xpath(self.logo_path)\n    def self.method2(self):\n        pass\n</code></pre>\n\n<p><strong>static_display.py</strong> - next layer, class that inherits all classes with tests like previous one and uses their methods that runs all tests but not as test_</p>\n\n<pre><code>class StaticDisplay(HeaderStaticTest, HorizontalStaticTest, VerticalStaticTest):\n    def static_display(self):\n        self.header_static()\n        self.horizontal_static()\n        self.vertical_static()\n</code></pre>\n\n<p><strong>test_about_us.py</strong> - next layer, a normal unittest testcase it inherits only a previous one but in general it inherits all prevous classes that i wrote, now i can test all \"static views\" on page that dont change when i click on button</p>\n\n<pre><code>class AboutUs(StaticDisplay):\n    def test_horizontal_menu_click(self):\n        about_us_element = self.driver.find_element_by_id(self.hor_about_path)\n        about_us_element.click()\n        self.assertIn(\n            self.about_url,\n            self.driver.current_url\n        )\n\n    def test_check_static_after_horizontal(self):\n        self.static_display()\n</code></pre>\n\n<p>(finally)\n<strong>main_cases.py</strong> - runner with this error, and it only raises when I add classes with their own init... have no idea how to repair it... please help</p>\n\n<pre><code>def suite():\n    loader = unittest.TestLoader()\n    about_us = loader.loadTestsFromTestCase(AboutUs)\n    return unittest.TestSuite([about_us])\n\nif __name__ == '__main__':\n    runner = unittest.TextTestRunner()\n    runner.run(suite())\n</code></pre>\n\n<p>As i said there is somewhere problem with this new def __ init __ and super().__ init __() in new classes... where I'm making a mistake? </p>\n\n<p>When i start this test case i get an error:</p>\n\n<p><strong>TypeError: __ init __() takes 1 positional argument but 2 were given</strong> Full error message above, probably it is needed</p>\n\n<p>Can someone help me please?</p>\n"}, {"tags": ["python", "python-3.x", "chromium", "python-webbrowser"], "comments": [{"owner": {"reputation": 1016, "user_id": 3856624, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b18b401d3a489632aa8eb16cb9eb04cf?s=128&d=identicon&r=PG&f=1", "display_name": "ivan7707", "link": "https://stackoverflow.com/users/3856624/ivan7707"}, "edited": false, "score": 0, "creation_date": 1511440074, "post_id": 47445130, "comment_id": 81865468, "body": "See answer below.  That is the issue"}], "answers": [{"tags": [], "owner": {"reputation": 1016, "user_id": 3856624, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b18b401d3a489632aa8eb16cb9eb04cf?s=128&d=identicon&r=PG&f=1", "display_name": "ivan7707", "link": "https://stackoverflow.com/users/3856624/ivan7707"}, "is_accepted": false, "score": 1, "last_activity_date": 1511393003, "creation_date": 1511393003, "answer_id": 47445360, "question_id": 47445130, "link": "https://stackoverflow.com/questions/47445130/webbrowser-directory-not-found-error/47445360#47445360", "title": "Webbrowser &#39;directory not found&#39; error", "body": "<pre><code>webbrowser.open('https://www.youtube.com')\n</code></pre>\n\n<p>use the https:// in front.</p>\n"}], "owner": {"reputation": 21, "user_id": 8993551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7b4837c7da1bc3e105c15acfb3e44be?s=128&d=identicon&r=PG&f=1", "display_name": "G.K", "link": "https://stackoverflow.com/users/8993551/g-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511393003, "creation_date": 1511391477, "question_id": 47445130, "link": "https://stackoverflow.com/questions/47445130/webbrowser-directory-not-found-error", "title": "Webbrowser &#39;directory not found&#39; error", "body": "<p>I am having a reoccurring error with the webbrowser module on python. Whenever I run this program, I get a multiple errors.</p>\n\n<pre><code>import webbrowser\ngoogle_urls = [\"www.gmail.com\", \"www.youtube.com\"]\ndef open_tabs(url_lists):\n    for url in url_lists:\n        webbrowser.open_new_tab(url)\ndef main():\n    webbrowser.open(\"www.google.com\", new=2, autoraise=False)\n    open_tabs(google_urls)\n\nmain()\n</code></pre>\n\n<p>These are the errors I get:\n/home/garion/Documents/www.youtube.com: No such file or directory (also 2 more, which are the same, except the are for www.google.com and www.gmail.com)</p>\n\n<p>I am using lubuntu, python IDLE 3.5, and Chromium.</p>\n"}, {"tags": ["python", "ds9"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1511391858, "post_id": 47445128, "comment_id": 81845666, "body": "What angles should they be at? Do you mean the center of the image or the object being photographed? Please share what cod you have, we really can&#39;t recommend anything without it."}, {"owner": {"reputation": 21, "user_id": 6841103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec03a44e4eec787502cbab74926dfa5c?s=128&d=identicon&r=PG&f=1", "display_name": "Melaku Sisay", "link": "https://stackoverflow.com/users/6841103/melaku-sisay"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1511391968, "post_id": 47445128, "comment_id": 81845700, "body": "Hi Patrick Haugh, they must be just at the center but the angles are green=5,red=44 and yellow =111."}], "owner": {"reputation": 21, "user_id": 6841103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec03a44e4eec787502cbab74926dfa5c?s=128&d=identicon&r=PG&f=1", "display_name": "Melaku Sisay", "link": "https://stackoverflow.com/users/6841103/melaku-sisay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1511391742, "creation_date": 1511391466, "last_edit_date": 1511391742, "question_id": 47445128, "link": "https://stackoverflow.com/questions/47445128/how-to-draw-a-rectangular-boxslit-on-a-region-file-using-python-ds9", "title": "How to draw a rectangular box(slit) on a region file using python-ds9", "body": "<p>Its my first time to use python code to display ds9 images.I just display  black and white image but I wanted to get a color image with two or more slit positioned on the image  which passes at the center,plus the position angle and coordinates should not be manually typed coz I have many images.I expect something <img src=\"https://i.stack.imgur.com/qdjn7.png\" alt=\"enter image description here\"> like this.As you see the slits are not at the center I need them all at the center but they are at  different angle.I need your help as usual,thanks!</p>\n"}, {"tags": ["python", "pandas", "impala", "ibis"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8705153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ad6c2c76f14afaa2fd46ee16e210ca?s=128&d=identicon&r=PG&f=1", "display_name": "sushant", "link": "https://stackoverflow.com/users/8705153/sushant"}, "edited": false, "score": 0, "creation_date": 1511920947, "post_id": 47543691, "comment_id": 82044768, "body": "alternatively, use following:ibis.config_init.impala_temp_hdfs_path_doc = &lt;path&gt;"}], "tags": [], "owner": {"reputation": 1, "user_id": 8705153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ad6c2c76f14afaa2fd46ee16e210ca?s=128&d=identicon&r=PG&f=1", "display_name": "sushant", "link": "https://stackoverflow.com/users/8705153/sushant"}, "is_accepted": false, "score": 0, "last_activity_date": 1511920692, "last_edit_date": 1511920692, "creation_date": 1511919379, "answer_id": 47543691, "question_id": 47445099, "link": "https://stackoverflow.com/questions/47445099/inserting-data-to-impala-table-using-ibis-python/47543691#47543691", "title": "Inserting data to impala table using Ibis python", "body": "<p>Error was coming due to structure and security of the hadoop system. Ibis package tries to create temp_db &amp; temp_hdfs_location in __ibis_tmp &amp; /tmp/ibis/ respectively. Since in our system default locations are not open to any user other than root/system admin... insert command was erroring out when getting data from /tmp/ibis/ to actual db (still not clear but may be via __ibis_tmp dbase). Once we edited the config_init.py file for ibis package to a allowed temp location/db. It worked like a charm.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5485370, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d45oTiwCLJo/AAAAAAAAAAI/AAAAAAADncQ/lbgYOlUHt-k/photo.jpg?sz=128", "display_name": "Galen Yip", "link": "https://stackoverflow.com/users/5485370/galen-yip"}, "is_accepted": false, "score": 0, "last_activity_date": 1600618783, "creation_date": 1600618783, "answer_id": 63981123, "question_id": 47445099, "link": "https://stackoverflow.com/questions/47445099/inserting-data-to-impala-table-using-ibis-python/63981123#63981123", "title": "Inserting data to impala table using Ibis python", "body": "<p>instead of editing the config_init.py mentioned</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/47543691/5485370\">https://stackoverflow.com/a/47543691/5485370</a></p>\n</blockquote>\n<p>It is easier to assign the temp db and path using the ibis.options:</p>\n<pre><code>ibis.options.impala.temp_db = 'your_temp_db'\nibis.options.impala.temp_hdfs_path = 'your_temp_hdfs_path'\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8705153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ad6c2c76f14afaa2fd46ee16e210ca?s=128&d=identicon&r=PG&f=1", "display_name": "sushant", "link": "https://stackoverflow.com/users/8705153/sushant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1541, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1600618783, "creation_date": 1511391246, "last_edit_date": 1511397863, "question_id": 47445099, "link": "https://stackoverflow.com/questions/47445099/inserting-data-to-impala-table-using-ibis-python", "title": "Inserting data to impala table using Ibis python", "body": "<p>I'm trying to insert df into a ibis created impala table with partition. I am running this on remote kernel using spyder 3.2.4 on windows 10 machine and python 3.6.2 on edge node machine running CentOS. </p>\n\n<p>I get following error:</p>\n\n<pre><code>Writing DataFrame to temporary file\nWriting CSV to: /tmp/ibis/pandas_0032f9dd1916426da62c8b4d8f4dfb92/0.csv\nTraceback (most recent call last):\n\nFile \"/usr/local/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2910, in run_code\nexec(code_obj, self.user_global_ns, self.user_ns)\n\nFile \"\", line 1, in \ninsert = target_table.insert(df3)\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/impala/client.py\", line 1674, in insert\nwriter, expr = write_temp_dataframe(self._client, obj)\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/impala/pandas_interop.py\", line 225, in write_temp_dataframe\nreturn writer, writer.delimited_table(path)\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/impala/pandas_interop.py\", line 188, in delimited_table\nschema = self.get_schema()\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/impala/pandas_interop.py\", line 184, in get_schema\nreturn pandas_to_ibis_schema(self.df)\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/impala/pandas_interop.py\", line 219, in pandas_to_ibis_schema\nreturn schema(pairs)\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/expr/api.py\", line 105, in schema\nreturn Schema.from_tuples(pairs)\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/expr/datatypes.py\", line 109, in from_tuples\nreturn Schema(names, types)\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/expr/datatypes.py\", line 55, in init\nself.types = [validate_type(typ) for typ in types]\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/expr/datatypes.py\", line 55, in \nself.types = [validate_type(typ) for typ in types]\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/expr/datatypes.py\", line 1040, in validate_type\nreturn TypeParser(t).parse()\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/expr/datatypes.py\", line 901, in parse\nt = self.type()\n\nFile \"/usr/local/lib/python3.6/site-packages/ibis/expr/datatypes.py\", line 1033, in type\nraise SyntaxError('Type cannot be parsed: {}'.format(self.text))\n\nFile \"\", line unknown\nSyntaxError: Type cannot be parsed: integer\n</code></pre>\n"}, {"tags": ["python", "flask", "pygame"], "comments": [{"owner": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511391177, "post_id": 47445043, "comment_id": 81845442, "body": "what happens currently?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "reply_to_user": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511391200, "post_id": 47445043, "comment_id": 81845450, "body": "pygame.error: video system not initialized"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "reply_to_user": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511391220, "post_id": 47445043, "comment_id": 81845459, "body": "Running the game separately works perfect."}, {"owner": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511391262, "post_id": 47445043, "comment_id": 81845471, "body": "Can you show how you run it that works perfectly? Also the contents of <code>going</code> might help."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "reply_to_user": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511391346, "post_id": 47445043, "comment_id": 81845497, "body": "Could I send it to you privately its a college assignment I dont want to publish it"}, {"owner": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511391797, "post_id": 47445043, "comment_id": 81845645, "body": "The purpose of this site is for public QA so that solutions to your problems might help others who come across the same thing. People aren&#39;t really here to help with your code for free."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "reply_to_user": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511392094, "post_id": 47445043, "comment_id": 81845750, "body": "I updated it there"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1511423075, "post_id": 47445043, "comment_id": 81854804, "body": "BTW: as for me you could make it more OOP - keep <code>main()</code> (with <code>pygame.init()</code>) inside <code>Board()</code> and create class <code>Button</code>. Outside classes you could keep only constant values."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "edited": false, "score": 0, "creation_date": 1511392871, "post_id": 47445311, "comment_id": 81845973, "body": "unfortunately i get the same error.  pygame.error: video system not initialized"}, {"owner": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "edited": false, "score": 0, "creation_date": 1511393023, "post_id": 47445311, "comment_id": 81846030, "body": "I messed up the order but fixed it. Also, follow your stack trace whenever you get an error. There is a lot of helpful information there."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "edited": false, "score": 0, "creation_date": 1511393453, "post_id": 47445311, "comment_id": 81846152, "body": "Thank you, the window launches now, only one small problem &quot;UnboundLocalError: local variable &#39;background&#39; referenced before assignment&quot;  I tried changing the ordering about but that doesnt work"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "edited": false, "score": 0, "creation_date": 1511393965, "post_id": 47445311, "comment_id": 81846296, "body": "When I change the name of the background variable, it turns to this error: NameError: name &#39;screen&#39; is not defined"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1511422655, "post_id": 47445311, "comment_id": 81854604, "body": "Now <code>screen</code> is local variable created inside <code>main()</code> and not available in other functions. You will have to use <code>global screen</code> in <code>main()</code> to make it again available in other functions. The same problem can be with other variables created in <code>main()</code>."}], "tags": [], "owner": {"reputation": 1730, "user_id": 4403600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/575934715/picture?type=large", "display_name": "Phillip Martin", "link": "https://stackoverflow.com/users/4403600/phillip-martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1511392960, "last_edit_date": 1511392960, "creation_date": 1511392706, "answer_id": 47445311, "question_id": 47445043, "link": "https://stackoverflow.com/questions/47445043/python-flask-game-not-initializing/47445311#47445311", "title": "Python flask game not initializing", "body": "<p>It seems that the two ways you try to call your game are slightly different.</p>\n\n<p>The successful way, which seems to be something like \n<code>$ python going.py</code></p>\n\n<p>runs this code</p>\n\n<pre><code>if __name__ == \"__main__\":\n    pygame.init()\n    screen = pygame.display.set_mode(size, 0, 32) \n    pygame.display.set_caption(\"Go_Online\")\n    background = pygame.image.load(background).convert()\n    main()\n</code></pre>\n\n<p>The flask route, when triggered runs this</p>\n\n<pre><code>return going.main()\n</code></pre>\n\n<p>You're missing some setup. My guess is that the bottom of your <code>going.py</code> should look like this. </p>\n\n<pre><code>def main():\n    pygame.init()\n    screen = pygame.display.set_mode(size, 0, 32) \n    pygame.display.set_caption(\"Go_Online\")\n    background = pygame.image.load(background).convert()\n    player = Player()\n    board = Board()\n    board.game_intro()  \n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7302428"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511423687, "creation_date": 1511390927, "last_edit_date": 1511423687, "question_id": 47445043, "link": "https://stackoverflow.com/questions/47445043/python-flask-game-not-initializing", "title": "Python flask game not initializing", "body": "<p>I have my flask file and a seperate file which contains a pygame. Both work seperately, How would i combine the flask so that when i press my link on my webpage it starts running the external file, how would I call it?</p>\n\n<pre><code>from flask import Flask, render_template\nimport going\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\nreturn render_template('index.html')\n\n@app.route('/my-link/')\ndef my_link():\n   return going.main()\n\nif __name__ == '__main__':\n   app.run(debug=True)\n</code></pre>\n\n<p>At the moment I am trying to run the main() method to initialize the program.</p>\n\n<pre><code>import pygame\n##1100 * 800\nsize = [1100, 800]\nscore1 = 0\nscore2 = 0\nblue = (100, 149, 237)\nblack = (0, 0, 0)\nbrown = (165,42,42)\nwhite = (255, 255, 255)\ngreen =(0,100,0)\nred = (255,0,0)\ndark_red = (200,0,0)\ngrey = (100,100,100)\nother_grey = (0,0,100)\nbackground = 'Mahogany.jpg'\npass_count = 0\nplayer = 1\nclock = pygame.time.Clock()\n\nclass Player(object):\n    def ___init__(self,id):\n        self.id = 1\n    def quitGame(self):\n        pygame.quit()\n        quit()\n    def pass_turn(self):\n        global pass_count\n        pass_count += 1\n        if pass_count == 2:\n            quitGame()      \n    def score(player_text, score):\n        return player_text + str(score) \n\n\nclass Stone(object):\n    def __init__(self,board,position,color):\n        self.board = board\n        self.position = position\n        self.color = color\n        self.placeStone()\n    def placeStone(self):\n        coords = (self.position[0] * 50,  self.position[1] * 50)\n        pygame.draw.circle(self.board,self.color,coords,20,0)\n\n        pygame.display.update()\n\nclass Board(object):    \n    def draw_board(self):\n        for i in range(12):\n                for j in range(12):\n                    rect = pygame.Rect(55 + (50 * i), 100 + (50 * j), 50, 50)\n                    pygame.draw.rect(background, blue, rect, 1)\n        screen.blit(background, (0,0))\n        pygame.display.update()\n\n    def text_objects(self,text, font):\n        textSurface = font.render(text, True, black)\n\n        return textSurface, textSurface.get_rect()\n\n    def button(self,msg,x,y,w,h,ic,ac,action = None):\n        mouse = pygame.mouse.get_pos()\n        click = pygame.mouse.get_pressed()\n        if x+w &gt; mouse[0] &gt; x and y+h &gt; mouse[1] &gt; y:\n            pygame.draw.rect(screen, ac,(x,y,w,h))\n\n            if click[0] == 1 and action != None:\n                action()\n        else:\n            pygame.draw.rect(screen, ic,(x,y,w,h))\n\n        smallText = pygame.font.Font(\"freesansbold.ttf\",20)\n        textSurf, textRect = self.text_objects(msg, smallText)\n        textRect.center = ( (x+(w/2)), (y+(h/2)) )\n        screen.blit(textSurf, textRect)\n    def game_intro(self):\n\n        intro = True\n        while intro:\n            for event in pygame.event.get():\n                if event.type == pygame.QUIT:\n                    pygame.quit()\n                    quit()\n\n            screen.blit(background, (0,0))\n            largeText = pygame.font.SysFont(\"comicsansms\",60)\n            TextSurf, TextRect = self.text_objects(\"GONLINE\", largeText)\n            TextRect.center = ((1100/2),(800/2))\n            screen.blit(TextSurf, TextRect)\n\n            self.button(\"Play!\",200,500,100,100,grey,other_grey,self.play_game)\n            self.button(\"Quit!\",700,500,100,100,red,dark_red,Player.quitGame)\n\n            pygame.display.update()\n            clock.tick(15)\n    def play_game(self):\n        width = 20\n        height = 20 \n        space_between = 5 \n\n        global player\n        finish = False\n        self.draw_board()\n        while not finish:\n\n\n            for event in pygame.event.get():\n                if event.type == pygame.QUIT:  \n                    finish = True  \n                elif event.type == pygame.MOUSEBUTTONDOWN and player == 1:\n                    position = pygame.mouse.get_pos()\n                    if (event.button == 1) and (position[0] &gt; 55 and position[0] &lt; 710) and (position[1] &gt; 100 and position[1] &lt; 750):\n                        x = int(round(((position[0]) / 50.0), 0))\n                        y = int(round(((position[1]) / 50.0), 0))\n                        Stone(screen,(x,y),white)\n\n                        player = 2\n                elif event.type == pygame.MOUSEBUTTONDOWN and player == 2:\n                    position = pygame.mouse.get_pos()\n                    if (event.button == 1) and(position[0] &gt; 55 and position[0] &lt; 710) and (position[1] &gt; 100 and position[1] &lt; 750):\n                        x = int(round(((position[0]) / 50.0), 0))\n                        y = int(round(((position[1] ) / 50.0), 0))\n                        Stone(screen,(x,y),black)\n\n                        player = 1\n\n\n\n\n            clock.tick(60)\n            self.button(\"Pass!\",750,200,100,100,grey,other_grey,Player.pass_turn)\n            self.button(\"Quit!\",950,200,100,100,red,dark_red,Player.quitGame)\n            self.button(score(\"Player 1: \", score1),750,400,300,110,white,white)\n            self.button(score(\"Player 2: \",score2),750,600,300,110,white, white)\n            pygame.display.update()\n\n\n        pygame.quit()\n\ndef main():\n    player = Player()\n    board = Board()\n    board.game_intro()  \n\nif __name__ == \"__main__\":\n    pygame.init()\n    screen = pygame.display.set_mode(size, 0, 32) \n    pygame.display.set_caption(\"Go_Online\")\n    background = pygame.image.load(background).convert()\n    main()\n</code></pre>\n\n<p>Here is the main game file</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe", "dataset"], "comments": [{"owner": {"reputation": 1181, "user_id": 501054, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e24ef9f1c5862d9205cd39bd9ea12c77?s=128&d=identicon&r=PG", "display_name": "joaoavf", "link": "https://stackoverflow.com/users/501054/joaoavf"}, "edited": false, "score": 0, "creation_date": 1511391419, "post_id": 47444999, "comment_id": 81845516, "body": "You can use <code>DataFrame.dtypes</code> as well"}], "answers": [{"comments": [{"owner": {"reputation": 7204, "user_id": 4333347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b091d5e3973e6f65ec16442c3b1b16b?s=128&d=identicon&r=PG", "display_name": "buydadip", "link": "https://stackoverflow.com/users/4333347/buydadip"}, "edited": false, "score": 0, "creation_date": 1511394702, "post_id": 47445094, "comment_id": 81846482, "body": "Can you translate that output for me?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 7204, "user_id": 4333347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b091d5e3973e6f65ec16442c3b1b16b?s=128&d=identicon&r=PG", "display_name": "buydadip", "link": "https://stackoverflow.com/users/4333347/buydadip"}, "edited": false, "score": 1, "creation_date": 1511400735, "post_id": 47445094, "comment_id": 81847869, "body": "@Bolboa the 1st array mean the row index , and 2nd mean the column index"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 4, "last_activity_date": 1511391229, "creation_date": 1511391229, "answer_id": 47445094, "question_id": 47444999, "link": "https://stackoverflow.com/questions/47444999/check-if-column-contains-type-string-object/47445094#47445094", "title": "Check if column contains type string (object)", "body": "<p>Using <code>applymap</code> with <code>type</code></p>\n\n<pre><code>df = pd.DataFrame({'C1': [1,2,3,'4'], 'C2': [10, 20, '3',40]})\n\ndf.applymap(type)==str\nOut[73]: \n      C1     C2\n0  False  False\n1  False  False\n2  False   True\n3   True  False\n</code></pre>\n\n<p>Here you know the str cell. \nThen we using <code>np.where</code> to locate it </p>\n\n<pre><code>np.where((df.applymap(type)==str))\nOut[75]: (array([2, 3], dtype=int64), array([1, 0], dtype=int64))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1511391773, "creation_date": 1511391773, "answer_id": 47445173, "question_id": 47444999, "link": "https://stackoverflow.com/questions/47444999/check-if-column-contains-type-string-object/47445173#47445173", "title": "Check if column contains type string (object)", "body": "<p>If your goal is to convert everything to numerical values, then you can use this approach:</p>\n\n<p>Sample DF:</p>\n\n<pre><code>In [126]: df = pd.DataFrame(np.arange(15).reshape(5,3)).add_prefix('col')\n\nIn [127]: df.loc[0,'col0'] = 'XXX'\n\nIn [128]: df\nOut[128]:\n  col0  col1  col2\n0  XXX     1     2\n1    3     4     5\n2    6     7     8\n3    9    10    11\n4   12    13    14\n\nIn [129]: df.dtypes\nOut[129]:\ncol0    object\ncol1     int32\ncol2     int32\ndtype: object\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>In [130]: df.loc[:, df.dtypes.eq('object')] = df.loc[:, df.dtypes.eq('object')].apply(pd.to_numeric, errors='coerce')\n\nIn [131]: df\nOut[131]:\n   col0  col1  col2\n0   NaN     1     2\n1   3.0     4     5\n2   6.0     7     8\n3   9.0    10    11\n4  12.0    13    14\n\nIn [132]: df.dtypes\nOut[132]:\ncol0    float64\ncol1      int32\ncol2      int32\ndtype: object\n</code></pre>\n"}], "owner": {"reputation": 7204, "user_id": 4333347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b091d5e3973e6f65ec16442c3b1b16b?s=128&d=identicon&r=PG", "display_name": "buydadip", "link": "https://stackoverflow.com/users/4333347/buydadip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2849, "favorite_count": 1, "accepted_answer_id": 47445094, "answer_count": 2, "score": 3, "last_activity_date": 1511392034, "creation_date": 1511390679, "last_edit_date": 1511392034, "question_id": 47444999, "link": "https://stackoverflow.com/questions/47444999/check-if-column-contains-type-string-object", "title": "Check if column contains type string (object)", "body": "<p>I have a huge dataset with thousands of rows and hundreds of columns. One of these columns contain a string because I am getting an error. I want to locate this string. All my columns are supposed to be float values, however one of these columns has a type <code>str</code> somewhere.</p>\n\n<p>How can I loop through a particular column using <code>Pandas</code> and print only the row that is of type <code>str</code>? I want to find out what the string(s) are so I can convert them to their numerical equivalent.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1511392241, "post_id": 47444995, "comment_id": 81845792, "body": "What do you mean by &quot;functions&quot;?  Functions defined using <code>def</code>? Instances of <code>function</code>? Any callables?"}, {"owner": {"reputation": 131, "user_id": 8406938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cde7283ace0ca48b7dc26fd5ce4b88c8?s=128&d=identicon&r=PG&f=1", "display_name": "Allen W", "link": "https://stackoverflow.com/users/8406938/allen-w"}, "reply_to_user": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1511393797, "post_id": 47444995, "comment_id": 81846252, "body": "@Goyo I mean to return all the method, method1_in_a, method2_in_a, etc in each class inside ech py files."}], "answers": [{"tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 1, "last_activity_date": 1511391959, "last_edit_date": 1511391959, "creation_date": 1511391579, "answer_id": 47445140, "question_id": 47444995, "link": "https://stackoverflow.com/questions/47444995/python-retrieve-all-of-the-functions-under-multiple-classes-in-a-package/47445140#47445140", "title": "Python - Retrieve all of the functions under multiple classes in a package", "body": "<p>To return only needed information, use the optional argument <code>predicate</code>. Example to find all classes in a module and all functions in a class:</p>\n\n<pre><code>classes = inspect.getmembers(module, predicate=inspect.isclass)\nfor cls_name, cls in classes:\n    functions = inspect.getmembers(cls, predicate=inspect.isfunction)\n        for fn_name, fn in functions:\n            print(cls_name, fn_name)\n</code></pre>\n\n<p>For a list of all available predicates, see <a href=\"https://docs.python.org/3/library/inspect.html\" rel=\"nofollow noreferrer\">inspect module docs</a> (all the functions named <code>inspect.isXYZ</code> are predicates).</p>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1511392003, "creation_date": 1511392003, "answer_id": 47445204, "question_id": 47444995, "link": "https://stackoverflow.com/questions/47444995/python-retrieve-all-of-the-functions-under-multiple-classes-in-a-package/47445204#47445204", "title": "Python - Retrieve all of the functions under multiple classes in a package", "body": "<p>You can try this:</p>\n\n<pre><code>import inspect\nfrom os import listdir\nfiles = listdir(directory_to_common)\nfunctions = [inspect.getmembers(__import__(\"{}.{}\".format(directory_to_common, i[:-3])), inspect.isfunction) for i in files if i.endswith('.py') and not i.startswith('__')]\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 8406938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cde7283ace0ca48b7dc26fd5ce4b88c8?s=128&d=identicon&r=PG&f=1", "display_name": "Allen W", "link": "https://stackoverflow.com/users/8406938/allen-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 47445140, "answer_count": 2, "score": 0, "last_activity_date": 1511392003, "creation_date": 1511390670, "question_id": 47444995, "link": "https://stackoverflow.com/questions/47444995/python-retrieve-all-of-the-functions-under-multiple-classes-in-a-package", "title": "Python - Retrieve all of the functions under multiple classes in a package", "body": "<p>I currently have a package structure like that:</p>\n\n<pre><code>common/\n    a.py\n    b.py\n    c.py\n    __init__.py\n    .svn\nutil/\n    util.py\n    __init__.py\n</code></pre>\n\n<p>I want to write a function in util.py to retrieve all of the functions in a.py, b.py, c.py</p>\n\n<pre><code>from os import listdir\n\nfiles = listdir(directory_to_common)\nfor f in files:\n    if '.py' in f and '__' not in f:\n        module_name = f.split(.)[0]\n        module = __import__(module_name)\n</code></pre>\n\n<p>I can successfully import the module. </p>\n\n<p>Than I used </p>\n\n<pre><code>inspect.getmembers(module) \n</code></pre>\n\n<p>but it returns a lot of un-needed information.\nFrom here, how do I retrieve the functions inside a.py, b.py, c.py? </p>\n\n<pre><code>#a.py, b.py, c.py has similar structure as follows:\nclass A:\n    def __init__(self):\n        .....\n    def method1_in_a(self):\n        .....\n    def method2_in_a(self):\n        .....\n</code></pre>\n"}, {"tags": ["python", "multithreading", "locking", "python-multithreading", "ant-colony"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1511396681, "post_id": 47444967, "comment_id": 81846982, "body": "If you wait for something that has already happened, you&#39;re going to be waiting a <i>very</i> long time. <b>Never</b> call <code>wait</code> on a condition variable unless you have checked that the thing you are waiting for hasn&#39;t already happened. Also, you manipulate shared state before calling <code>acquire</code>. See <a href=\"https://docs.python.org/2.0/lib/condition-objects.html\" rel=\"nofollow noreferrer\">here</a> for proper use. Notice the <code>acquire</code> before the <code>wait</code> which is in a <code>while</code> loop. Notice the <code>acquire</code> before shared state is modified."}, {"owner": {"reputation": 918, "user_id": 7238958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10213863953341976/picture?type=large", "display_name": "Rafael Marques", "link": "https://stackoverflow.com/users/7238958/rafael-marques"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1511405888, "post_id": 47444967, "comment_id": 81848968, "body": "My sequence of actions is 1) self.iterations() (this is a function that simply starts #num_ants threads), 2) self.acquire(), 3) self.wait(). So if I am waiting for something that already hapened, does that mean that between 1 and 3) all threads have already terminated, and this is why no one notifies? @DavidSchwartz"}, {"owner": {"reputation": 918, "user_id": 7238958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10213863953341976/picture?type=large", "display_name": "Rafael Marques", "link": "https://stackoverflow.com/users/7238958/rafael-marques"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1511410248, "post_id": 47444967, "comment_id": 81850051, "body": "after correction based on your answer and link, i still got the mistake. furter investigation lead to this. I add a print in the update function, which prints the current thread_counter. Wen error occurs, the update printed twice the same thread_counter, thus, not reaching the termination condition that calls notify. this is a part of the tring where the error ocured: &quot;ant counter 3, Update called by 6, ant counter 4, Update called by 19, Update called by 4, ant counter ant counter 5 5 Update called by 14 ant counter 6&quot;"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1511423119, "post_id": 47444967, "comment_id": 81854835, "body": "Can you show us the corrected code? It&#39;s quite possible you didn&#39;t correct it properly. For example, you may still modify or access shared state without protection or call <code>wait</code> when you shouldn&#39;t."}, {"owner": {"reputation": 918, "user_id": 7238958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10213863953341976/picture?type=large", "display_name": "Rafael Marques", "link": "https://stackoverflow.com/users/7238958/rafael-marques"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1511440605, "post_id": 47444967, "comment_id": 81865819, "body": "sorry, i should have updated it sooner. @DavidSchwartz"}], "owner": {"reputation": 918, "user_id": 7238958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10213863953341976/picture?type=large", "display_name": "Rafael Marques", "link": "https://stackoverflow.com/users/7238958/rafael-marques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511468111, "creation_date": 1511390462, "last_edit_date": 1511468111, "question_id": 47444967, "link": "https://stackoverflow.com/questions/47444967/multi-threading-stuck-suspect-of-error-in-condition-variable", "title": "Multi Threading stuck - suspect of error in condition variable", "body": "<p>I am testing an Ant Colony Optimisation (ACO) software which runs with multiple threads (1 for each ant created). </p>\n\n<p>Each ACO iteration should wait for all threads to finish, before allowing the next iteration to start. I am doing this with \"condition()\" from threading module. </p>\n\n<p>Since ants share a pherormone matrix, the reading and writing on that matrix is subject to locks, also from the threading module.</p>\n\n<p>Now a <strong>description of the problem</strong>:</p>\n\n<p>I run the function and print something at each iteration. Sometimes, not always, it seams that the execution of the function stops, this is, it stops printing, meaning the iteration never finished. </p>\n\n<p>I honestly don't now why this is happening, and i would appreciate any answer that could get me in the right track. If i had to guess I would say that the condition variable is not properly called, or something like that. However I am not sure, and I also find it odd that this only happens sometimes.</p>\n\n<p>Below are the relevant functions.\nThe ACO starts by calling the start() function. This creates N threads, which, when finished, call update(). This update function, upon being called N times, calls notify, which allows start() to continue the process and, finally, start the next iteration. I also posted the run method of each thread. </p>\n\n<p>It may be worth mentioning that, without daemon actions, the error hardly occurs. With daemon actions, it occurs almost always (which i also find odd). \nFinally, the error does not happen always in the same iteration.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    def start(self):\r\n        self.ants = self.create_ants()\r\n        self.iter_counter = 0\r\n\r\n        while self.iter_counter &lt; self.num_iterations:\r\n            print \"START ACQUIRED\"\r\n            self.cv.acquire()\r\n            print \"calling iteration\"\r\n            self.iteration()\r\n            #CV wait until all ants (threads) finish and call update, which\r\n            #calls notify(), and allow continuation\r\n            while not self.iter_done:\r\n                print \"iter not complete, W8ING\"\r\n                self.cv.wait()\r\n            print \"global update \"\r\n            self.global_update_with_lock()\r\n            print \"START RELEASED\"\r\n            self.cv.release()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>def update(self, ant):\r\n    lock = Lock()\r\n    lock.acquire()\r\n\r\n    print \"Update called by %s\" % (ant.ID,)\r\n    self.ant_counter += 1\r\n\r\n    self.avg_path_cost += ant.path_cost\r\n\r\n    # book-keeping\r\n    if ant.path_cost &lt; self.best_path_cost:\r\n        self.best_path_cost = ant.path_cost\r\n        self.best_path_mat = ant.path_mat\r\n        self.best_path_vec = ant.path_vec\r\n        self.last_best_path_iteration = self.iter_counter\r\n\r\n    #all threads finished, call notify\r\n    print \"ant counter\"\r\n    print self.ant_counter\r\n    if self.ant_counter == len(self.ants):\r\n        print \"ants finished\"\r\n        #THIS MIGHT CAUSE PROBLEMS (no need to notify if its no one waiting)\r\n        self.best_cost_at_iter.append(self.best_path_cost)\r\n        self.avg_path_cost /= len(self.ants)\r\n\r\n        self.cv.acquire()\r\n        self.iter_done = True\r\n        self.cv.notify()\r\n        self.cv.release()\r\n\r\n    lock.release()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    # overide Thread's run()\r\n    def run(self):\r\n        graph = self.colony.graph\r\n        while not self.end():\r\n            # we need exclusive access to the graph\r\n            graph.lock.acquire()\r\n            new_node = self.state_transition_rule(self.curr_node)\r\n            self.path_cost += graph.delta(self.curr_node, new_node)\r\n\r\n            self.path_vec.append(new_node)\r\n            self.path_mat[self.curr_node][new_node] = 1  #adjacency matrix representing path\r\n\r\n            #print \"Ant %s : %s, %s\" % (self.ID, self.path_vec, self.path_cost,)\r\n\r\n            self.local_updating_rule(self.curr_node, new_node)\r\n            graph.lock.release()\r\n\r\n            self.curr_node = new_node\r\n\r\n        # close the tour\r\n        self.path_vec.append(self.path_vec[0])\r\n\r\n        #RUN LOCAL HEURISTIC\r\n        if self.daemon == True:\r\n            try:\r\n                daemon_result =  twoOpt(self.path_vec, graph.delta_mat)\r\n                d_path, d_adj = daemon_result['path_vec'], daemon_result['path_matrix']\r\n                self.path_vec = d_path\r\n                self.path_mat = d_adj\r\n            except Exception, e:\r\n                print \"exception: \" + str(e)\r\n                traceback.print_exc()\r\n\r\n        self.path_cost += graph.delta(self.path_vec[-2], self.path_vec[-1])\r\n        # send our results to the colony\r\n        self.colony.update(self)\r\n        #print \"Ant thread %s terminating.\" % (self.ID,)\r\n        \r\n        # allows thread to be restarted (calls Thread.__init__)\r\n        self.__init__(self.ID, self.start_node, self.colony, self.daemon, self.Beta, self.Q0, self.Rho)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Solution to the problem:</strong>\nFirst of all, i corrected the error in the waiting of the condition variables, in according to the comments here.\nSecond, it was still hanging sometimes, and this was due to a somewhat buggy mistake in the thread counter update.\nThe solution was to change the counter from an int, to an array with length num_threads, full of 0's, where each thread updates its position in the list. When all threads finish, the counter array should be all 1's. This is currently working just fine.</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 137, "user_id": 8915214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f828212d179a5cf966ce8efc25f040df?s=128&d=identicon&r=PG&f=1", "display_name": "yuchen huang", "link": "https://stackoverflow.com/users/8915214/yuchen-huang"}, "edited": false, "score": 0, "creation_date": 1511401000, "post_id": 47445022, "comment_id": 81847912, "body": "@yuchenhuang Yw~ :-)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 4, "last_activity_date": 1511390801, "creation_date": 1511390801, "answer_id": 47445022, "question_id": 47444958, "link": "https://stackoverflow.com/questions/47444958/how-to-get-values-from-one-dataframe-based-on-row/47445022#47445022", "title": "How to get values from one dataframe based on row?", "body": "<p>something like this ? </p>\n\n<pre><code>df1.set_index('AreaCode').replace({'non':np.nan}).combine_first(df2.set_index('AreaCode')).reset_index()\nOut[58]: \n   AreaCode  Amount\n0         1     NaN\n1         2     NaN\n2         3     8.0\n3         4    11.0\n4         5    17.0\n5         6     NaN\n6         7     NaN\n7         8     NaN\n</code></pre>\n\n<p>Or we using <code>merge</code></p>\n\n<pre><code>df1.merge(df2,on='AreaCode',how='left').ffill(1).drop('Amount_x',1).rename(columns={'Amount_y':'Amount'})\nOut[69]: \n  AreaCode Amount\n0        1    non\n1        2    non\n2        3      8\n3        4     11\n4        5     17\n5        6    non\n6        7    non\n7        8    non\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 1, "last_activity_date": 1511395015, "creation_date": 1511395015, "answer_id": 47445605, "question_id": 47444958, "link": "https://stackoverflow.com/questions/47444958/how-to-get-values-from-one-dataframe-based-on-row/47445605#47445605", "title": "How to get values from one dataframe based on row?", "body": "<p>You can do this:</p>\n\n<pre><code>df2 = df2.set_index('AreaCode')\ndf1['Amount'] = df1.AreaCode.map(df2['Amount']).fillna(df1.Amount)\ndf1\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   AreaCode Amount\n0         1    non\n1         2    non\n2         3      8\n3         4     11\n4         5     17\n5         6    non\n6         7    non\n7         8    non\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 8915214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f828212d179a5cf966ce8efc25f040df?s=128&d=identicon&r=PG&f=1", "display_name": "yuchen huang", "link": "https://stackoverflow.com/users/8915214/yuchen-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 47445022, "answer_count": 2, "score": 1, "last_activity_date": 1511395015, "creation_date": 1511390406, "question_id": 47444958, "link": "https://stackoverflow.com/questions/47444958/how-to-get-values-from-one-dataframe-based-on-row", "title": "How to get values from one dataframe based on row?", "body": "<p><p>\nI have two dataframes as below.</p>\n\n<pre>\ndf1:\nAreaCode     Amount\n1            non\n2            non            \n3            non            \n4            non            \n5            non            \n6            non            \n7            non            \n8            non            \n\n\ndf2:\nAreaCode     Amount\n3            8\n4            11\n5            17\n</pre>\n\n<p>I want to get the answer like below dataframe. </p>\n\n<pre>\ndf2:\nAreaCode     Amount\n1            non\n2            non            \n3            8            \n4            11            \n5            17            \n6            non            \n7            non            \n8            non   \n</pre>\n\n<p>How can I realize my aim?</p>\n"}, {"tags": ["python", "attributes"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1511390452, "post_id": 47444914, "comment_id": 81845214, "body": "You haven&#39;t used <code>self.mid</code> in this code. If you want us to help you, you need to show the real code and the full traceback."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1511799231, "post_id": 47444914, "comment_id": 81986346, "body": "When you get to a resolution, please remember to up-vote useful things and accept your favourite answer (even if you have to write it yourself), so Stack Overflow can properly archive the question."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6230466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d1308e0b73e0323ca1f007d34bb8aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user6230466", "link": "https://stackoverflow.com/users/6230466/user6230466"}, "edited": false, "score": 0, "creation_date": 1511392582, "post_id": 47445121, "comment_id": 81845889, "body": "Not entirely. It does work for the botstrategy.py, but not for bottrade. I&#39;ve added all the lines you have here into bottrade.py, but I&#39;m still getting a &quot;no attribute mid&quot;.   Mid is an integer, so maybe I don&#39;t need int(mid)?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 3, "user_id": 6230466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d1308e0b73e0323ca1f007d34bb8aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user6230466", "link": "https://stackoverflow.com/users/6230466/user6230466"}, "edited": false, "score": 0, "creation_date": 1511392746, "post_id": 47445121, "comment_id": 81845934, "body": "We can&#39;t debug code until you supply the <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a>."}, {"owner": {"reputation": 3, "user_id": 6230466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d1308e0b73e0323ca1f007d34bb8aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user6230466", "link": "https://stackoverflow.com/users/6230466/user6230466"}, "edited": false, "score": 0, "creation_date": 1511393506, "post_id": 47445121, "comment_id": 81846171, "body": "I have edited the code above to include bottrade.py and it&#39;s traceback."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 3, "user_id": 6230466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d1308e0b73e0323ca1f007d34bb8aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user6230466", "link": "https://stackoverflow.com/users/6230466/user6230466"}, "edited": false, "score": 0, "creation_date": 1511395854, "post_id": 47445121, "comment_id": 81846765, "body": "You did the same thing there: you tried to use a variable <code>mid</code> that doesn&#39;t exist.  This is in the same state as BotStrategy was before I suggested changes: no object attribute <code>mid</code>, and you trying to reference either that or a local variable.  You have to make the attribute and then reference it with <code>self.mid</code>."}, {"owner": {"reputation": 3, "user_id": 6230466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d1308e0b73e0323ca1f007d34bb8aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user6230466", "link": "https://stackoverflow.com/users/6230466/user6230466"}, "edited": false, "score": 0, "creation_date": 1511402845, "post_id": 47445121, "comment_id": 81848306, "body": "I see my mistake and thank you for the assist.   To the person who downvoted this question - I am sorry I needed help. I searched for over an hour to find the solution to my problem, and for some reason you felt my question wasn&#39;t &quot;worthy&quot; of being asked. In this Thankgiving season, I hope you find peace and joy."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1511391416, "creation_date": 1511391416, "answer_id": 47445121, "question_id": 47444914, "link": "https://stackoverflow.com/questions/47444914/object-has-no-attribute-but-also-get-global-name-not-defined/47445121#47445121", "title": "Object has no attribute but also get global name not defined", "body": "<p>The run-time system is correct.  In the <code>mid</code> case, there is no variable <code>mid</code> defined in <code>evaluatePositions</code>.  Similarly, there is no object attribute <code>mid</code> for instances of <code>BotStrategy</code>.  Look at the difference in your initialization:</p>\n\n<pre><code>class BotStrategy(object):\n  def __init__(self):\n    self.output = BotLog()\n    self.prices = []\n    self.closes = [] # Needed for Momentum Indicator\n    ...\n    mid=int(mid)\n</code></pre>\n\n<p><code>mid</code> is a local variable of <strong>init</strong>, not an attribute.  Perhaps you need</p>\n\n<pre><code>    self.mid = int(mid)\n</code></pre>\n\n<p>and the use <code>self.mid</code> when you reference that value.</p>\n\n<p>Does that work for you?</p>\n"}], "owner": {"reputation": 3, "user_id": 6230466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d1308e0b73e0323ca1f007d34bb8aaf?s=128&d=identicon&r=PG&f=1", "display_name": "user6230466", "link": "https://stackoverflow.com/users/6230466/user6230466"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 47445121, "answer_count": 1, "score": -2, "last_activity_date": 1511393799, "creation_date": 1511390115, "last_edit_date": 1511393799, "question_id": 47444914, "link": "https://stackoverflow.com/questions/47444914/object-has-no-attribute-but-also-get-global-name-not-defined", "title": "Object has no attribute but also get global name not defined", "body": "<p>I am trying my darnest to pull a variable from a text file to do some math in an trading bot algorithim.</p>\n\n<p>This is my code. I have shortened it to get to the issue:</p>\n\n<pre><code>from botlog import BotLog\nfrom botindicators import BotIndicators\nfrom bottrade import BotTrade\n\nclass BotStrategy(object):\n  def __init__(self):\n    self.output = BotLog()\n    self.prices = []\n    self.closes = [] # Needed for Momentum Indicator\n    self.trades = []                #20 trades at 0.021 =  .042 \n    self.currentPrice = \"\"      #after a day, add the BTC to 0.042 and adjust simultaneous trades\n    self.currentClose = \"\"      #53 coins for 2500 simul trades per coin pair\n    self.numSimulTrades = 100   #looks like dash ends at 2500 trades  eth ends at about     1000 trades total for all four would be about 208 coins\n    self.indicators = BotIndicators()\n    mid=0\n\n    with open('test.txt', 'r') as myfile:\n        mid=myfile.read().replace('\\n', '')\n        self.output.log(mid)\n    mid=int(mid)\n\ndef tick(self,candlestick):\n    self.currentPrice = float(candlestick.priceAverage)\n    self.prices.append(self.currentPrice)\n\n    #self.currentClose = float(candlestick['close'])\n    #self.closes.append(self.currentClose)\n\n    self.output.log(\"Price: \"+str(candlestick.priceAverage)+\"\\tMoving Average: \"+str(self.indicators.movingAverage(self.prices,5)))\n    self.evaluatePositions()\n    self.updateOpenTrades()\n    self.showPositions()\n\n\ndef evaluatePositions(self):\n    openTrades = []\n    for trade in self.trades:\n        if (trade.status == \"OPEN\"):\n            openTrades.append(trade)\n\n    if (len(openTrades) &lt; self.numSimulTrades):\n        if ((self.currentPrice) &lt; self.indicators.movingAverage(self.prices,15)):\n            self.trades.append(BotTrade(self.currentPrice,stopLoss=.0001))\n\n    for trade in openTrades:\n        if ((self.currentPrice + mid) &gt; self.indicators.movingAverage(self.prices,15)) :\n            trade.close(self.currentPrice)\n\ndef updateOpenTrades(self):\n    for trade in self.trades:\n        if (trade.status == \"OPEN\"):\n            trade.tick(self.currentPrice)\n\n\ndef showPositions(self):\n    for trade in self.trades:\n        trade.showTrade()\n</code></pre>\n\n<p>With \"self.mid\" I get the error: 'Bot1' object has no attribute 'mid'\na if I remove the \"self\" I get: NameError: global name 'mid' is not defined</p>\n\n<p>What am I doing wrong? I'm losing my mind!</p>\n\n<p>Traceback was requested: This is the No Attribute: </p>\n\n<pre><code>user@user1:~/Desktop/bot/part3$ python backtest.py\n90\nPrice: 0.0486309    Moving Average: None\nPrice: 0.04853957   Moving Average: 0.048585235\nTrade opened\nEntry Price: 0.04853957 Status: OPEN Exit Price: \nPrice: 0.04847643   Moving Average: 0.0485489666667\nTrade opened\nTraceback (most recent call last):\n  File \"backtest.py\", line 15, in &lt;module&gt;\n    main(sys.argv[1:])\n  File \"backtest.py\", line 12, in main\n    strategy.tick(candlestick)\n  File \"/home/user/Desktop/bot/part3/botstrategy.py\", line 30, in tick\n    self.evaluatePositions()\n  File \"/home/user/Desktop/bot/part3/botstrategy.py\", line 46, in evaluatePositions\n    self.currentPrice= float(self.currentPrice+self.mid)\nAttributeError: 'BotStrategy' object has no attribute 'mid'\n</code></pre>\n\n<p>And this is \"mid\" not defined:</p>\n\n<pre><code>user@user1:~/Desktop/bot/part3$ python backtest.py\n90\nPrice: 0.0486309    Moving Average: None\nPrice: 0.04853957   Moving Average: 0.048585235\nTrade opened\nEntry Price: 0.04853957 Status: OPEN Exit Price: \nPrice: 0.04847643   Moving Average: 0.0485489666667\nTrade opened\nTraceback (most recent call last):\n  File \"backtest.py\", line 15, in &lt;module&gt;\n    main(sys.argv[1:])\n  File \"backtest.py\", line 12, in main\n    strategy.tick(candlestick)\n  File \"/home/user/Desktop/bot/part3/botstrategy.py\", line 30, in tick\n    self.evaluatePositions()\n  File \"/home/user/Desktop/bot/part3/botstrategy.py\", line 46, in    evaluatePositions\n    if ((self.currentPrice + mid) &gt;     self.indicators.movingAverage(self.prices,15)) :\n    NameError: global name 'mid' is not defined\n</code></pre>\n\n<p>bottrade.py code:</p>\n\n<pre><code>from botlog import BotLog\nimport botstrategy \n\ndef main(argv):\n    currentMovingAverage = 0;\n    tradePlaced = False\n    typeOfTrade = False\n    dataDate = \"\"\n    orderNumber = \"\"\n    dataPoints = []\n    localMax = []\n    currentResistance = 0.018\n    mid = int(mid)\n\n\nclass BotTrade(object):\n    def __init__(self,currentPrice,stopLoss=0):\n        self.output = BotLog()\n        prices = []\n        self.status = \"OPEN\"\n        self.entryPrice = currentPrice\n        self.exitPrice = \"\"\n     self.output.log(\"Trade opened\")\n\n\n        if (stopLoss):\n            self.stopLoss = currentPrice - stopLoss\n\n    def close(self,currentPrice):\n    self.mid = int(mid)\n     if currentPrice &gt; (self.entryPrice + self.mid): #DASH likes about 0.000937, XRP about 0.000001, ETH likes  0.000855  XMR likes  0.000396\n          #use ETH to start with, with less than 4 trades. you get about 1.7 BTC in a week - 4 trades @ 0.021=0.084 BTC. Daily is 0.24 \n            self.status = \"CLOSED\"\n            self.exitPrice = currentPrice\n            self.output.log(\"Trade closed\")\n\n    def tick(self, currentPrice):\n        if (self.stopLoss):\n            if (currentPrice &lt; self.stopLoss):\n                self.close(currentPrice)\n\n\n    def showTrade(self):\n         tradeStatus = \"Entry Price: \"+str(self.entryPrice)+\" Status: \"+str(self.status)+\" Exit Price: \"+str(self.exitPrice)\n\n        if (self.status == \"CLOSED\"):\n            tradeStatus = tradeStatus + \" Profit:! \"\n            if (self.exitPrice &gt; self.entryPrice):\n                tradeStatus = tradeStatus + \" \\033[92m\"\n            else:\n                tradeStatus = tradeStatus + \" \\033[91m\"\n\n        tradeStatus = tradeStatus+str(abs((self.exitPrice) - (self.entryPrice)))+\" \\033[0m\"\n\n    self.output.log(tradeStatus)\n</code></pre>\n\n<p>Traceback from bottrade.py</p>\n\n<pre><code>user@user1:~/Desktop/bot/part3$ python backtest.py\nPrice: 1131.71486314    Moving Average: None\nPrice: 1103.73203402    Moving Average: 1117.72344858\nTrade opened\nEntry Price: 1103.73203402 Status: OPEN Exit Price: \nPrice: 1108.36463027    Moving Average: 1114.60384248\nTrade opened\nTraceback (most recent call last):\n  File \"backtest.py\", line 15, in &lt;module&gt;\n    main(sys.argv[1:])\n   File \"backtest.py\", line 12, in main\n     strategy.tick(candlestick)\n   File \"/home/user/Desktop/bot/part3/botstrategy.py\", line 29, in tick\nself.evaluatePositions()\n      File \"/home/user/Desktop/bot/part3/botstrategy.py\", line 46, in evaluatePositions\n    trade.close(self.currentPrice)\n    File \"/home/user/Desktop/bot/part3/bottrade.py\", line 30, in close\nself.mid = int(mid)\nNameError: global name 'mid' is not defined\n</code></pre>\n\n<p>Full display now. Any help would be appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 2, "creation_date": 1511389903, "post_id": 47444841, "comment_id": 81845016, "body": "Please format your code. It&#39;s the only way we can see what you&#39;re actually doing - and relying on other people to do it for you is rude."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1511390051, "post_id": 47444841, "comment_id": 81845066, "body": "<code>line not in (&quot;0&quot;,&quot;5&quot;, ...)</code> checks if the whole line neither equals &quot;0&quot; or &quot;5&quot; or ..."}, {"owner": {"reputation": 3, "user_id": 8849738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d17a91b90d18cf9554b5c5db66602fb?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/8849738/paul"}, "edited": false, "score": 0, "creation_date": 1511391266, "post_id": 47444841, "comment_id": 81845472, "body": "thanks paul it is kind of close to what I want but it gave me this ouput when I printed it [{&#39;5&#39;, &#39;0&#39;, &#39;0\\n&#39;, &#39;9&#39;, &#39;7&#39;}, {&#39;5&#39;, &#39;0&#39;, &#39;0\\n&#39;, &#39;9&#39;, &#39;7&#39;}, {&#39;0\\n&#39;, &#39;0&#39;, &#39;9&#39;, &#39;7&#39;}, {&#39;0\\n&#39;, &#39;9&#39;, &#39;7&#39;}, {&#39;0&#39;}], I want all five elements of the row to get printed if it is valid here it prints,3,3,3,2,1 elements in the row"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1511391862, "post_id": 47444841, "comment_id": 81845667, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described.  In particular, include the input, actual output, and desired output."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1511392014, "post_id": 47444841, "comment_id": 81845723, "body": "This is entirely unclear.  You state that three 0&#39;s is acceptable, but then your code issues an error for three.  You give 0, 5, 7, 9 as the only valid characters, but then your code counts and tests the quantity of 1, 2, and 3, but not 4, 6, and 8.  Also, you&#39;ve made no apparent attempt to debug this -- put in <code>print</code> statements to see what&#39;s going on.  Finally, your posted code doesn&#39;t run at all, let alone giving output (syntax error)."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8849738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d17a91b90d18cf9554b5c5db66602fb?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/8849738/paul"}, "edited": false, "score": 0, "creation_date": 1511390344, "post_id": 47444916, "comment_id": 81845169, "body": "But I actually don&#39;t only want the message. I also want the valid rows to be saved in a different list that i can then interpret for my calculations"}, {"owner": {"reputation": 44, "user_id": 8993012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/484be26e9dda8d11a4c49b9384320d8d?s=128&d=identicon&r=PG&f=1", "display_name": "allen-munsch", "link": "https://stackoverflow.com/users/8993012/allen-munsch"}, "reply_to_user": {"reputation": 3, "user_id": 8849738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d17a91b90d18cf9554b5c5db66602fb?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/8849738/paul"}, "edited": false, "score": 0, "creation_date": 1511390702, "post_id": 47444916, "comment_id": 81845311, "body": "@Paul <a href=\"https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackexchange.com/questions/22186/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 8849738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d17a91b90d18cf9554b5c5db66602fb?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/8849738/paul"}, "edited": false, "score": 0, "creation_date": 1511391761, "post_id": 47444916, "comment_id": 81845624, "body": "@paul for example only the first two rows are valid and only those should be added and printed and not the other four. thanks"}], "tags": [], "owner": {"reputation": 44, "user_id": 8993012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/484be26e9dda8d11a4c49b9384320d8d?s=128&d=identicon&r=PG&f=1", "display_name": "allen-munsch", "link": "https://stackoverflow.com/users/8993012/allen-munsch"}, "is_accepted": true, "score": 0, "last_activity_date": 1511390560, "last_edit_date": 1511390560, "creation_date": 1511390126, "answer_id": 47444916, "question_id": 47444841, "link": "https://stackoverflow.com/questions/47444841/data-check-routine-isnt-working/47444916#47444916", "title": "Data check routine isn&#39;t working", "body": "<p>Here is an example that uses a <code>set</code>:</p>\n\n<pre><code>lolwat = []\nfor line in open('scores.txt'):\n    numbers = set(line.split(','))\n    if '5' in numbers and '7' in numbers:\n        print('okay 5,7')\n    elif '9' in numbers:\n        print('okay 9')\n    lolwat.append(numbers)\ndo_stuff_with(lolwat)\n</code></pre>\n\n<p>Set de-duplicates the numbers ensuring each is unique like 5,7,9 only occur once.</p>\n"}, {"tags": [], "owner": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "is_accepted": false, "score": 0, "last_activity_date": 1511390685, "creation_date": 1511390685, "answer_id": 47445001, "question_id": 47444841, "link": "https://stackoverflow.com/questions/47444841/data-check-routine-isnt-working/47445001#47445001", "title": "Data check routine isn&#39;t working", "body": "<p>You need to learn how to break a problem like that down into smaller pieces:</p>\n\n<p>E.g., You want to check each row:</p>\n\n<pre><code>for row in open('scores.txt'):\n    check_row(row)\n\ndef check_row(row):\n    ...\n</code></pre>\n\n<p>You want to save good rows to a list:</p>\n\n<pre><code>good_rows = []\nfor row in ...:\n    if check_row(row): good_rows.add(row)\n</code></pre>\n\n<p>A good row contains exactly one '5':</p>\n\n<pre><code>def check_row(row):\n    number_of_fives = count_number_of(row, '5')\n    if number_of_fives != 1:\n        return False\n    ...\n    return True\n\ndef count_number_of(row, digit):\n    ...\n</code></pre>\n\n<p>And so on.</p>\n"}], "owner": {"reputation": 3, "user_id": 8849738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d17a91b90d18cf9554b5c5db66602fb?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/8849738/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47444916, "answer_count": 2, "score": -3, "last_activity_date": 1511391806, "creation_date": 1511389727, "last_edit_date": 1511391806, "question_id": 47444841, "link": "https://stackoverflow.com/questions/47444841/data-check-routine-isnt-working", "title": "Data check routine isn&#39;t working", "body": "<p>I have a file containing a 5 x 7 table:\n<a href=\"https://i.stack.imgur.com/YSWyl.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI want a validation check that there is either a 5,7, or 9; but none of them is repeated, i.e there must be only one occurrence of these numbers.  5 and 7 are required, 9 is optional, the remaining three columns can be 0. I have written this code but it doesn't work. I also want to store the valid rows in a separate list.\nMy attempt of the program in python is as follows</p>\n\n<pre><code>def validation ():\n    numlist = open(\"scores.txt\",\"r\")\n    invalidnum=0\n    for line in numlist:\n        x = line.count(\"0\")\n        inv1 = line.count(\"1\")\n        inv2 = line.count(\"2\")\n        inv3 = line.count(\"3\")\n        if x &gt; 2 or inv1 &gt; 1 or inv2 &gt; 1 or inv3 &gt; 1 or line not in (\"0\",\"5\",\"7\",\"9\"):\n        invalidnum=invalidnum+1\n           print(invalidnum,\"Invalid numbers found\" \n        else:\n            print(\"All numbers are valid in the list\")\n</code></pre>\n\n<p>I will appreciate if someone can help me on this.</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511389895, "post_id": 47444791, "comment_id": 81845011, "body": "In you for loop, you are overwriting your <code>table_pull</code> variable so only the last row is being processed. You have to indent the code after the loop so it is executed inside the loop, also making sure you append to dataframe instead of assigning (<code>df[...] = list(...</code> lines)."}, {"owner": {"reputation": 35, "user_id": 8859335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7747365974858bc186b25899a897c4?s=128&d=identicon&r=PG&f=1", "display_name": "mlt0882", "link": "https://stackoverflow.com/users/8859335/mlt0882"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511391693, "post_id": 47444791, "comment_id": 81845602, "body": "Thanks @hoefling and @rahlf23! It&#39;s gonna take me a bit more work to rewrite those aspects of it but now that I know where I went wrong it should be considerably easier."}], "answers": [{"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": true, "score": 0, "last_activity_date": 1511390020, "creation_date": 1511390020, "answer_id": 47444895, "question_id": 47444791, "link": "https://stackoverflow.com/questions/47444791/scraping-multiple-pages-into-list-with-beautifulsoup/47444895#47444895", "title": "Scraping multiple pages into list with beautifulsoup", "body": "<p>Simply put, it looks like you are accessing all 'td' elements and then attempting to access the previous elements of that list, which is unnecessary. Also, as @hoefling pointed out, you are continuously overwriting your variable inside of your loop, which is the reasoning for why you are only returning the last element in the list (in other words, only the last iteration of your loop sets the value of that variable, all previous ones are overwritten). Apologies, I cannot test this out currently due to firewalls on my machine. Try the following:</p>\n\n<pre><code>no_space = name_15.str.replace('\\s+', '-')\n\n#lists out the pages to scrape \nfor n in no_space:\n    page = 'https://coinmarketcap.com/currencies/' + n + '/historical-data/'\n    http = lib.PoolManager()\n    response = http.request('GET', page)\n    soup = BeautifulSoup(response.data, \"lxml\")\n\n    main_table = soup.find('tbody')\n\n    table = [p.text.strip() for p in main_table.find_all('td')]\n\n    #You will need to re-think these indices here to get the info you want\n    date = table[208:1:-7]\n    open_p = table[207:1:-7]\n    high_p = table[206:1:-7]\n    low_p = table[205:1:-7] \n    close_p = table[204:0:-7]\n\n    df=pd.DataFrame(date,columns=['Date'])\n    df['Open']=list(map(float,open_p))\n    df['High']=list(map(float,high_p))\n    df['Low']=list(map(float,low_p))\n    df['Close']=list(map(float,close_p))\n    print(df)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8859335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7747365974858bc186b25899a897c4?s=128&d=identicon&r=PG&f=1", "display_name": "mlt0882", "link": "https://stackoverflow.com/users/8859335/mlt0882"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 47444895, "answer_count": 1, "score": 1, "last_activity_date": 1511390020, "creation_date": 1511389487, "question_id": 47444791, "link": "https://stackoverflow.com/questions/47444791/scraping-multiple-pages-into-list-with-beautifulsoup", "title": "Scraping multiple pages into list with beautifulsoup", "body": "<p>I wrote out a scraper program using beautifulsoup4 in Python that iterates through multiple pages of cryptocurrency values and returns the the opening, highest, and closing values. The scraping part of the issue works fine but  can't get it to save all of the currencies into my lists, only the last one gets added to the list. </p>\n\n<p>Can anyone help me out on how to save all of them? I've done hours of searching and can't seem to find a relevant answer. The code is as follows:</p>\n\n<pre><code>no_space = name_15.str.replace('\\s+', '-')\n\n#lists out the pages to scrape \nfor n in no_space:\n    page = 'https://coinmarketcap.com/currencies/' + n + '/historical-data/'\n    http = lib.PoolManager()\n    response = http.request('GET', page)\n    soup = BeautifulSoup(response.data, \"lxml\")\n\n    main_table = soup.find('tbody')\n\n    date=[]\n    open_p=[]\n    high_p=[]\n    low_p=[]\n    close_p=[]\n\n    table = []\n\n    for row in main_table.find_all('td'):\n        table_pull = row.find_all_previous('td') #other find methods aren't returning what I need, but this works just fine\n\n    table = [p.text.strip() for p in table_pull]\n\n    date = table[208:1:-7]\n    open_p = table[207:1:-7]\n    high_p = table[206:1:-7]\n    low_p = table[205:1:-7] \n    close_p = table[204:0:-7]\n\n    df=pd.DataFrame(date,columns=['Date'])\n    df['Open']=list(map(float,open_p))\n    df['High']=list(map(float,high_p))\n    df['Low']=list(map(float,low_p))\n    df['Close']=list(map(float,close_p))\n    print(df)\n</code></pre>\n"}, {"tags": ["python", "c++", "opencv", "bitwise-and"], "comments": [{"owner": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1511431383, "post_id": 47444783, "comment_id": 81860025, "body": "As far as I know, OpenCV does not have anything like that, but you can use  std::find_if with cv::Mat iterators and a predicate that returns true when your condition is met(in this case that a pixel is not white). It will stop at the first True value and it will only check the image once. If all are white it will return iterator end, which you can compare after it finishes it."}], "answers": [{"tags": [], "owner": {"reputation": 1130, "user_id": 5672459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153733019839707/picture?type=large", "display_name": "Danilo Souza Mor&#227;es", "link": "https://stackoverflow.com/users/5672459/danilo-souza-mor%c3%a3es"}, "is_accepted": true, "score": 2, "last_activity_date": 1516391962, "creation_date": 1516391962, "answer_id": 48348652, "question_id": 47444783, "link": "https://stackoverflow.com/questions/47444783/how-to-simulate-short-circuit-and-in-opencv/48348652#48348652", "title": "How to simulate short circuit and in opencv", "body": "<p>I ended up finding a solution. I implemented the short-circuit and operation in python which turned out to be a lot slower than the cv2.bitwise_and followed by a cv2.bitwise_xor. But then I used numba to pre compile that function and I ended up having a function that runs 4x as fast as the cv2 one. Here's the code:</p>\n\n<pre><code>@numba.jit(\"b1(u1[:,:],u1[:,:])\")\ndef is_template_in(template, image):\n    for y in range(0, template.shape[0]):\n        for x in range(0, template.shape[1]):\n            if template[y][x] and not image[y][x]:\n                return False\n    return True\n</code></pre>\n"}], "owner": {"reputation": 1130, "user_id": 5672459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153733019839707/picture?type=large", "display_name": "Danilo Souza Mor&#227;es", "link": "https://stackoverflow.com/users/5672459/danilo-souza-mor%c3%a3es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 48348652, "answer_count": 1, "score": 0, "last_activity_date": 1516391962, "creation_date": 1511389440, "last_edit_date": 1511389996, "question_id": 47444783, "link": "https://stackoverflow.com/questions/47444783/how-to-simulate-short-circuit-and-in-opencv", "title": "How to simulate short circuit and in opencv", "body": "<p>I am trying to check whether a binary image (template) is contained inside another image (source). To do that, I first started doing something like this:</p>\n\n<p>(its a pseudo code resembling python, but I'm more interested in the right technique than in the language implementation)</p>\n\n<pre><code>#this code runs once at startup\ntemplate_nonzero = count_nonzero(template)\n\n#this code is run inside a function\nmask = bitwise_and(template, source)\nis_contained = count_nonzero(mask) == template_nonzero\n</code></pre>\n\n<p>Then I realized I could speed things up by avoiding count_nonzero:</p>\n\n<pre><code>mask = bitwise_and(template, source)\nmask_against_template = bitwise_xor(template, mask)\nis_contained = not mask_against_template.any()\n</code></pre>\n\n<p>This code is almost 3 times faster than the first one. I'm now wondering if there is such a thing as a short circuit and operator in opencv that would return true if bitwise_and is true for all white pixels or false upon finding the first false operation. This way I wouldnt have to use xor or even run through the entire image in a bitwise_and.</p>\n\n<p>Any ideas?</p>\n\n<p>Edit:</p>\n\n<p>I forgot to mention that I even tried this code, but using xor is a bit faster than using ==:</p>\n\n<pre><code>mask = bitwise_and(template, source)\nmask_against_template = template == mask\nis_contained = mask_against_template.all()\n</code></pre>\n"}, {"tags": ["python", "python-2.x"], "comments": [{"owner": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 1, "creation_date": 1511389489, "post_id": 47444780, "comment_id": 81844858, "body": "whoops just adding the <code>@staticmethod</code> decorator works..."}], "answers": [{"comments": [{"owner": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 0, "creation_date": 1511390255, "post_id": 47444917, "comment_id": 81845138, "body": "But then taking into account the optional <code>self</code> parameter. :)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 1, "creation_date": 1511390291, "post_id": 47444917, "comment_id": 81845158, "body": "@albertjan: Static methods don&#39;t receive an implicit <code>self</code>, even if you call them on an instance."}, {"owner": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 0, "creation_date": 1511391164, "post_id": 47444917, "comment_id": 81845437, "body": "Thats perfect exactly what I was looking for, does <code>MethodType</code> make a new &quot;bound&quot; method?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 1, "creation_date": 1511391429, "post_id": 47444917, "comment_id": 81845521, "body": "@albertjan: Yes. It can also make unbound method objects on Python 2; the <code>instance = owner</code> bit avoids that. (Also, I&#39;ve changed the code to create the method object differently now, because the signature for <code>types.MethodType</code> changed in Python 3. This way should be compatible with both 2 and 3.)"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1522276617, "last_edit_date": 1522276617, "creation_date": 1511390128, "answer_id": 47444917, "question_id": 47444780, "link": "https://stackoverflow.com/questions/47444780/can-a-function-be-static-and-non-static-in-python-2/47444917#47444917", "title": "can a function be static and non-static in python 2", "body": "<p>If you want something that will actually receive <code>self</code> if called on an instance, but can also be called on the class, writing your own descriptor type may be advisable:</p>\n\n<pre><code>import types\n\nclass ClassOrInstanceMethod(object):\n    def __init__(self, wrapped):\n        self.wrapped = wrapped\n    def __get__(self, instance, owner):\n        if instance is None:\n            instance = owner\n        return self.wrapped.__get__(instance, owner)\n\nclass demo(object):\n    @ClassOrInstanceMethod\n    def foo(self):\n        # self will be the class if this is called on the class\n        print(self)\n</code></pre>\n\n<p><a href=\"https://ideone.com/PVcjXk\" rel=\"nofollow noreferrer\">Demo.</a></p>\n\n<p>For the original version of your question, you could just write it like any other static method, with <code>@staticmethod</code>. Calling a static method on an instance works the same as calling it on the class:</p>\n\n<pre><code>class Test(object):\n    @staticmethod\n    def test(a, b):\n        return a + b\n</code></pre>\n\n<p><a href=\"https://ideone.com/tXpn5q\" rel=\"nofollow noreferrer\">Demo.</a></p>\n"}], "owner": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 47444917, "answer_count": 1, "score": 0, "last_activity_date": 1522276617, "creation_date": 1511389416, "last_edit_date": 1511390912, "question_id": 47444780, "link": "https://stackoverflow.com/questions/47444780/can-a-function-be-static-and-non-static-in-python-2", "title": "can a function be static and non-static in python 2", "body": "<p>Lets say I have this class:</p>\n\n<pre><code>class Test(object):\n    def __init__(self, a):\n        self.a = a\n\n    def test(self, b):\n        if isinstance(self, Test):\n            return self.a + b\n        else:\n            return self + b\n</code></pre>\n\n<p>This would ideally in my world do this:</p>\n\n<pre><code>&gt;&gt;&gt; Test.test(1,2)\n3\n&gt;&gt;&gt; Test(1).test(2)\n3\n</code></pre>\n\n<p>Now this doesn't work because you get this error:</p>\n\n<pre><code>TypeError: unbound method test() must be called with Test instance as first argument (got int instance instead)\n</code></pre>\n\n<p>In python3 this works fine, and I have the sneaking suspicion this is possible with a decorator in python2 but my python foo isn't strong enough to get that to work.</p>\n\n<p><strong>Plot Twist</strong>: So what happens when I need something on self when it's not called statically.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511402891, "post_id": 47444756, "comment_id": 81848311, "body": "What version of SciKit-Image are you using?"}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "reply_to_user": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511402943, "post_id": 47444756, "comment_id": 81848321, "body": "how do i tell which version?"}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "reply_to_user": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511403608, "post_id": 47444756, "comment_id": 81848480, "body": "I ran &#39;pip install scikit-image&#39;  it ran to completion but results are the same. I couldn&#39;t tell which version though."}, {"owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511404414, "post_id": 47444756, "comment_id": 81848659, "body": "Check <code>skimage.__version__</code>. It&#39;s a common convention for Python packages to make their version number accessible as the root module&#39;s <code>__version__</code> attribute like this."}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "reply_to_user": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511406209, "post_id": 47444756, "comment_id": 81849035, "body": "best I can tell its version 0.13.0  if this seems correct.  I did a &#39;conda list&#39; command and thats what I got."}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "reply_to_user": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511406963, "post_id": 47444756, "comment_id": 81849214, "body": "It looks as if &#39;is_local_maximum&#39; should be &#39;local_maxima&#39;. or initial guess that seems to work.  Thanks for your help.  Looking for version number led me to some files which provided clues."}, {"owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511420385, "post_id": 47444756, "comment_id": 81853625, "body": "If you&#39;ve figured out the problem, I&#39;d definitely encourage you to post an answer to your own question (and you can accept it, too)."}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "reply_to_user": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 0, "creation_date": 1511424186, "post_id": 47444756, "comment_id": 81855382, "body": "Will do. Thanks for the advice."}], "answers": [{"tags": [], "owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "is_accepted": true, "score": 0, "last_activity_date": 1511424591, "creation_date": 1511424591, "answer_id": 47450451, "question_id": 47444756, "link": "https://stackoverflow.com/questions/47444756/trying-to-use-skimage-morphology-in-an-image-processing-code-but-get-error-messa/47450451#47450451", "title": "Trying to use skimage.morphology in an image processing code but get error message", "body": "<p>After searching thru different files I determined that the module <code>is_local_maximum</code> had its name changed to <code>local_maxima</code>. My code ran to completion and produced the expected result when that substitution was made.</p>\n"}], "owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 0, "accepted_answer_id": 47450451, "answer_count": 1, "score": 0, "last_activity_date": 1511424591, "creation_date": 1511389292, "last_edit_date": 1511402652, "question_id": 47444756, "link": "https://stackoverflow.com/questions/47444756/trying-to-use-skimage-morphology-in-an-image-processing-code-but-get-error-messa", "title": "Trying to use skimage.morphology in an image processing code but get error message", "body": "<p>I'm working thru an image processing example in python 2.7.13. The code has\n<code>import skimage.morphology as morph</code> and then later has the line <code>lm1 = morph.is_local_maximum(fimg)</code>. I get the error message: </p>\n\n<pre><code>File \"2dlocalmaxima.py\", line 29, in &lt;module&gt;\n    lm1 = morph.is_local_maximum(fimg)\nAttributeError: 'module' object has no attribute 'is_local_maximum'.\n</code></pre>\n\n<p>I've googled this and have found many instances of this module being used. I can find no instance of this being deprecated. Am I doing something wrong? I have tried running in python 2.7.13 and 3.6. Both give same error message.</p>\n\n<p>The total code from the book is:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as mpl \nimport scipy.ndimage as ndimage \nimport skimage.morphology as morph\n\n# Generating data points with a non-uniform background\nx = np.random.uniform(low=0, high=200, size=20).astype(int) \ny = np.random.uniform(low=0, high=400, size=20).astype(int)\n\n# Creating image with non-uniform background \nfunc = lambda x, y: np.cos(x)+ np.sin(y) \ngrid_x, grid_y = np.mgrid[0:12:200j, 0:24:400j] \nbkg = func(grid_x, grid_y)\nbkg = bkg / np.max(bkg)\n\n# Creating points\nclean = np.zeros((200,400))\nclean[(x,y)] += 5\nclean = ndimage.gaussian_filter(clean, 3) \nclean = clean / np.max(clean)\n\n# Combining both the non-uniform background \n# and points\nfimg = bkg + clean\nfimg = fimg / np.max(fimg)\n\n# Calculating local maxima \nlm1 = morph.is_local_maximum(fimg)\nx1, y1 = np.where(lm1.T == True)\n\n# Creating figure to show local maximum detection \n# rate success\nfig = mpl.figure(figsize=(8, 4))\n\nax = fig.add_subplot(111)\nax.imshow(fimg)\nax.scatter(x1, y1, s=100, facecolor='none', edgecolor='#009999') \nax.set_xlim(0,400)\nax.set_ylim(0,200)\nax.xaxis.set_visible(False)\nax.yaxis.set_visible(False)\n\nfig.savefig('scikit_image_f02.pdf', bbox_inches='tight')\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511390628, "post_id": 47444738, "comment_id": 81845287, "body": "Without the webpage it is hard to say. But a few suggestions/questions for you: 1) Does the webpage include the value you want in the source HTML or is it dynamically generated via interaction in the webpage? This will determine whether you need bs4 or Selenium. 2) I would avoid using the strong tag to narrow down your search, instead search by a specific tag with specific class (e.g. soup.find(&#39;ul&#39;, {&#39;class&#39;: &#39;inline-stats section&#39;}).text)"}, {"owner": {"reputation": 528, "user_id": 7402725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e4d47030b45172654c088dd8e71d30?s=128&d=identicon&r=PG&f=1", "display_name": "C. Feenstra", "link": "https://stackoverflow.com/users/7402725/c-feenstra"}, "edited": false, "score": 0, "creation_date": 1511391452, "post_id": 47444738, "comment_id": 81845530, "body": "Here&#39;s a tip: when you&#39;re having issues with finding elements in a web page, it often helps to save the page source to a file. You can then open it in Chrome using <code>file:&#47;&#47;&#47;path&#47;to&#47;file.html</code> in the address bar. In my experience, logging in with selenium then using requests to get the pages individually doesn&#39;t work (certainly not always). In your case, I don&#39;t know why you&#39;re using requests at all since you&#39;re already getting the page using your web driver -- just do <code>htmlpg = BeautifulSoup(driver.page_source, &#39;html.parser&#39;)</code>"}, {"owner": {"reputation": 528, "user_id": 7402725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e4d47030b45172654c088dd8e71d30?s=128&d=identicon&r=PG&f=1", "display_name": "C. Feenstra", "link": "https://stackoverflow.com/users/7402725/c-feenstra"}, "edited": false, "score": 0, "creation_date": 1511391660, "post_id": 47444738, "comment_id": 81845590, "body": "Also I assume you&#39;re trying to iterate through pages, but I don&#39;t see your <code>pg</code> variable used anywhere"}, {"owner": {"reputation": 99, "user_id": 5138703, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/af458795f3b4edcdd7e7a58a0f1ad4fc?s=128&d=identicon&r=PG&f=1", "display_name": "federico zampu", "link": "https://stackoverflow.com/users/5138703/federico-zampu"}, "edited": false, "score": 0, "creation_date": 1511392762, "post_id": 47444738, "comment_id": 81845939, "body": "Thanks @rahfl23. I can see the value 7.1 in the source html but not sire that&#39;s enough to say that it is not dynamically generated. Also, thanks for your suggestionz  Feenstra, thanks for your tip!  In case you have any other comments on the code, feel free to shoot me a message."}, {"owner": {"reputation": 99, "user_id": 5138703, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/af458795f3b4edcdd7e7a58a0f1ad4fc?s=128&d=identicon&r=PG&f=1", "display_name": "federico zampu", "link": "https://stackoverflow.com/users/5138703/federico-zampu"}, "edited": false, "score": 0, "creation_date": 1511426392, "post_id": 47444738, "comment_id": 81856678, "body": "I tried you suggestions. But noted that when I run the list_links loop, the list does not contain the current links on the page. This is strange."}], "owner": {"reputation": 99, "user_id": 5138703, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/af458795f3b4edcdd7e7a58a0f1ad4fc?s=128&d=identicon&r=PG&f=1", "display_name": "federico zampu", "link": "https://stackoverflow.com/users/5138703/federico-zampu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511389212, "creation_date": 1511389212, "question_id": 47444738, "link": "https://stackoverflow.com/questions/47444738/python-web-scraping-tags-not-found", "title": "python web scraping - tags not found", "body": "<p>I'm trying to scrape some info from a website that requires a login.\nHere is my code:</p>\n\n<pre><code>from selenium import webdriver\nfrom bs4 import BeautifulSoup\nfrom pandas import DataFrame\nimport requests\nimport pandas as pd\nimport numpy as np\nimport time   \nimport requests\nfrom lxml import html\n\ndriver = webdriver.Chrome(executable_path='/Applications/chromedriver')\ndriver.get(\"website/login\")\n\n\n#Login\nusername = driver.find_element_by_name('email')\nusername.send_keys('my email')\n\npassword = driver.find_element_by_name('password')\npassword.send_keys('my password')\n\nform = driver.find_element_by_id('login-button')\nform.submit()\n\n\n#Search activities\ndriver.get('website/activities/search')\n\ncity = driver.find_element_by_name('location')\ncity.send_keys('London, England, United Kingdom')\n\nkey = driver.find_element_by_name('keywords')\nkey.send_keys('run')\n\nactivity = driver.find_element_by_name('activity_type')\nactivity.send_keys('Run')\n\nsearch = driver.find_element_by_id('ride-search-button')\nsearch.submit()\n\n\n#Webscrape\npg = 15\n\nfor pg in range(1, pg): \n    print('page = ', pg)\n\n    list_links = [link.get_attribute('href') for link in driver.find_elements_by_xpath(\"//a[contains(@href,'activities')]\")][1:10]\n    print(list_links)\n\n    for i, link in enumerate(list_links):\n\n        driver.get(link)\n\n        page = requests.get(link)\n        htmlpg = BeautifulSoup(page.content, 'html.parser')\n\n        try:\n            item = htmlpg.find_all('strong')\n            #Distance = ?? to be completed as item doe not find anything with 7.1 in it\n\n        except:\n            driver.back()\n            continue\n\n    driver.back()   \n\ndriver.quit() \n</code></pre>\n\n<p>The problem is that when I try to scrape the distance (7.1) using find_all, bs4 does not appear to find anything. It almost seems it is not parsing info on the current page (see html below).</p>\n\n<p>Can someone tell me what I'm doing wrong? Thank you,\nFede</p>\n\n<p><a href=\"https://i.stack.imgur.com/5TSKx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5TSKx.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "angularjs", "django"], "answers": [{"tags": [], "owner": {"reputation": 477, "user_id": 1481040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ee3uO.jpg?s=128&g=1", "display_name": "Juanmi Taboada", "link": "https://stackoverflow.com/users/1481040/juanmi-taboada"}, "is_accepted": false, "score": 0, "last_activity_date": 1513841428, "creation_date": 1513841428, "answer_id": 47919990, "question_id": 47444731, "link": "https://stackoverflow.com/questions/47444731/codenerix-disable-a-dropdown-field-with-foreign-key-using-ng-readonly/47919990#47919990", "title": "Codenerix - Disable a dropdown field with foreign key using ng-readonly", "body": "<p>You should use <strong>ng-disabled</strong> as you are doing. This is the way we do it in <a href=\"https://github.com/centrologic/django-codenerix-examples/blob/master/exchange/exchange/base/forms.py\" rel=\"nofollow noreferrer\">Django Codenerix Example @ Gibhub</a> (lines 41 and 42) and this is how it has been developed for <strong><a href=\"https://github.com/centrologic/django-codenerix/blob/master/codenerix/widgets.py\" rel=\"nofollow noreferrer\">StaticSelects</a></strong> (line 228) as well.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 7570079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69469ba8bf0cfed4291c05bf67f1bdb1?s=128&d=identicon&r=PG&f=1", "display_name": "Soleronline", "link": "https://stackoverflow.com/users/7570079/soleronline"}, "is_accepted": false, "score": 1, "last_activity_date": 1513841962, "creation_date": 1513841962, "answer_id": 47920109, "question_id": 47444731, "link": "https://stackoverflow.com/questions/47444731/codenerix-disable-a-dropdown-field-with-foreign-key-using-ng-readonly/47920109#47920109", "title": "Codenerix - Disable a dropdown field with foreign key using ng-readonly", "body": "<p>You can define an extra attribute to your fields in your forms. Add <strong>{'extra': ['ng-disabled=true']}</strong> in the field of your <strong>GenModelForm</strong>, inside your <strong>__groups__</strong> method. Example:</p>\n\n<pre><code>def __groups__(self):\n    g = [\n        (_('Info'), 12,\n            ['client', 6, {'extra': ['ng-disabled=true']}],\n        )\n    ]\n    return g\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8993182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYnXl.png?s=128&g=1", "display_name": "c0nd3m0r", "link": "https://stackoverflow.com/users/8993182/c0nd3m0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513841962, "creation_date": 1511389159, "last_edit_date": 1592644375, "question_id": 47444731, "link": "https://stackoverflow.com/questions/47444731/codenerix-disable-a-dropdown-field-with-foreign-key-using-ng-readonly", "title": "Codenerix - Disable a dropdown field with foreign key using ng-readonly", "body": "<h1>Codenerix</h1>\n<p>Has anyone knows how to use correctly ng-readonly in a GenModelForm when coming from a sublist tab (GenList) who calls a GenCreateModal windows?</p>\n<p>Structure is a master-detail, sublist tab has pk of master table and calls GenCreateModal with this pk argument of master table.</p>\n<p>GenCreateModal receives pk argument in his asociated form (the mentioned GenModelForm) and can use it. The goal is to disable field with ng-disabled if pk argument of master table is filled. This way when create from another list of detail table without arguments, field can be filled with a value selecting it with the dropdown, and when coming from master table it cannot be modified and it will be assigned to master pk value.</p>\n<p>I tried to do it that way:</p>\n<p>First assign 'client' on GenCreateModal with:</p>\n<pre><code>def get_initial(self): \n    client = self.kwargs.get('pk', None) \n    if client: \n        self.kwargs['client'] = client \n    return self.kwargs \n</code></pre>\n<p>Then read it on the GenModelform with:</p>\n<pre><code>def __init__(self, *args, **kwargs):   \n    super(DetailForm, self).__init__(*args, **kwargs)\n    if kwargs.get('initial', None) and kwargs['initial'].get('client', None):\n        self.fields['client'].widget.attrs[u'ng-readonly'] = 'true'\n</code></pre>\n<p>But it do not work with dropdown fields. Field can be modified.\nCause is that in templatetags_list.py of codenerix we have:</p>\n<pre><code>def inireadonly(attrs, i):\n    field = ngmodel(i)\n    return addattr(attrs, 'ng-readonly=readonly_{0}'.format(field))\n</code></pre>\n<p>This code set ng-readonly to &quot;true readonly_client&quot; instead of &quot;true&quot; when it comes with value &quot;true&quot; from GenModelForm, values are concatenated.</p>\n<p>I found a workaround with:</p>\n<pre><code>self.fields['client'].widget.attrs[u'ng-readonly'] = 'true || '\n</code></pre>\n<p>this way the end value will be &quot;true || readonly_client&quot; that result on &quot;true&quot; as desired when evaluated, but I think it is not the proper way.</p>\n<p>On my personal fork of django-codenerix I have changed the function to (functions is on two py files, should change both):</p>\n<pre><code>def inireadonly(attrs, i):\n    field = ngmodel(i)\n    if attrs.get('ng-readonly', None) is None:\n        attrs = addattr(attrs, 'ng-readonly=readonly_{0}'.format(field))\n    return attrs\n</code></pre>\n<p>This way it respects the value when it comes filled form GenModelForm, but I'm not sure about inconveniences and collateral effects. For example when want to concatenate conditions, with that change should read old value, concatenate manually and set new value. I think it should be a better way to do it and 'ng-readonly=readonly_{0}'.format(field) should have a functionality that I haven't discovered yet. Don't want to lose it when I discover it. So I revert the change and look for another solution.</p>\n<p>Currently I'm using</p>\n<pre><code>self.fields['client'].widget.attrs[u'ng-disabled'] = 'true'\n</code></pre>\n<p>and it goes OK, I'm using this way and I have no problem now, but I'm curious about the way to use ng-readonly if I need it on the future. That's because with ng-readonly we can select text on fields with the mouse for example and can not select it with ng-disabled. In some cases it could be of interest.</p>\n<p>Has anyone knows how to use ng-readonly in a correct way?\nHas anyone knows the functionality of 'ng-readonly=readonly_{0}'.format(field)?</p>\n"}, {"tags": ["python", "mongodb", "sorting", "pymongo"], "comments": [{"owner": {"reputation": 3058, "user_id": 635160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/R8jPW.jpg?s=128&g=1", "display_name": "Gabriel Fair", "link": "https://stackoverflow.com/users/635160/gabriel-fair"}, "edited": false, "score": 0, "creation_date": 1525366867, "post_id": 47444730, "comment_id": 87338490, "body": "Did you ever figure this out. What you tried seems correct by their documentation. However I can&#39;t get it to work either"}], "owner": {"reputation": 59, "user_id": 8875424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f8d2a5e6bc73f24a3a4eda45f02d65?s=128&d=identicon&r=PG&f=1", "display_name": "Andry", "link": "https://stackoverflow.com/users/8875424/andry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511390999, "creation_date": 1511389159, "question_id": 47444730, "link": "https://stackoverflow.com/questions/47444730/pymongo-search-and-sorting-non-repeating-values-dict-object-has-no-attribute", "title": "PyMongo search and sorting non-repeating values (&#39;dict&#39; object has no attribute &#39;sort&#39;)", "body": "<p>I have data like this :</p>\n\n<pre><code>_id:5a0f6c61d1154f2f9983ad74\nname:\"colla\"\nweight:\"2\"\nstatus:\"+\"\ntime_exp:2017-11-18 00:37:31.946\n\n_id:5a0f6c61d1154f2f9983ad74\nname:\"pepsi\"\nweight:\"3\"\nstatus:\"+\"\ntime_exp:2017-11-18 00:37:31.946\n\n_id:5a0f6c61d1154f2f9983ad74\nname:\"colla\"\nweight:\"3\"\nstatus:\"+\"\ntime_exp:2017-11-18 00:37:31.946\n</code></pre>\n\n<p>From that i want to find all non-repeating elements with <code>\"name\": \"colla\", 'status': '+'</code> and equate to random variable.</p>\n\n<p>Example: from data above get all \"weights\" (2,3) and equate. (some_random1 = 2, some_random2 = 3)</p>\n\n<p>How I tried: \n<code>db.some_db.find_one({}, {\"name\": \"cola\",\"status\":'+'}).sort(key=itemgetter('weight'), reverse=True)</code>, but I'm getting this error: </p>\n\n<pre><code>'dict' object has no attribute 'sort'\n</code></pre>\n\n<p>Thx to your help</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1511389293, "post_id": 47444727, "comment_id": 81844786, "body": "Normally you would call the superclass init, by using `super()"}], "answers": [{"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 3, "last_activity_date": 1511389246, "creation_date": 1511389246, "answer_id": 47444747, "question_id": 47444727, "link": "https://stackoverflow.com/questions/47444727/can-child-classes-inherit-instance-variables-from-their-parent-class-in-python/47444747#47444747", "title": "Can child classes inherit instance variables from their parent class in Python?", "body": "<p>You should call <code>__init__</code> from the parent class:</p>\n\n<pre><code>class Person(object):\n    def __init__(self, name, occupation):\n        self.name = name\n        self.occupation = occupation\n\nclass Teacher(Person):\n    def __init__(self, name, occupation, subject):\n        Person.__init__(self, name, occupation)\n        self.subject = subject\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 8988626, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pu1B0dXkMKM/AAAAAAAAAAI/AAAAAAAAAPU/dnqwFKbUWa0/photo.jpg?sz=128", "display_name": "birac", "link": "https://stackoverflow.com/users/8988626/birac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3378, "favorite_count": 0, "closed_date": 1511389282, "accepted_answer_id": 47444747, "answer_count": 1, "score": 0, "last_activity_date": 1511389246, "creation_date": 1511389146, "question_id": 47444727, "link": "https://stackoverflow.com/questions/47444727/can-child-classes-inherit-instance-variables-from-their-parent-class-in-python", "closed_reason": "Duplicate", "title": "Can child classes inherit instance variables from their parent class in Python?", "body": "<p>In Python 2.7, do instance variables need to be manually defined in a child class, or can they be inherited directly from the parent class?</p>\n\n<p>E.g.</p>\n\n<pre><code>class Person(object):\n    def __init__(self, name, occupation):\n        self.name = name\n        self.occupation = occupation\n\nclass Teacher(Person):\n    def __init__(self, name, occupation, subject):\n        self.name = name\n        self.occupation = occupation\n        self.subject = subject\n</code></pre>\n\n<p>Instead of redeclaring the name and occupation instance variables in the child class, can these be inherited another way?</p>\n"}, {"tags": ["python", "matplotlib", "plot", "3d"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1511389073, "post_id": 47444703, "comment_id": 81844706, "body": "You create a figure in each loop step. Don&#39;t do that and instead call <code>plt.show</code> after the complete loop"}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1511389707, "post_id": 47444703, "comment_id": 81844938, "body": "So I should use plot.show after the for loop?"}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1511389866, "post_id": 47444703, "comment_id": 81844997, "body": "@ImportanceOfBeingErnest Unfortunately it doesn&#39;t work. The function creates a plot in every iteration."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1511390053, "post_id": 47444703, "comment_id": 81845067, "body": "Yes because you call <code>fig = plt.figure()</code> in each loop. If you want one single figure, don&#39;t create several of them."}], "owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511389003, "creation_date": 1511388972, "last_edit_date": 1511389003, "question_id": 47444703, "link": "https://stackoverflow.com/questions/47444703/plotting-many-3d-functions-in-one-plot", "title": "Plotting many 3D functions in one plot", "body": "<p>I am generating random walks in 3D plot. The numbers of generated random walks is equal to the variable traj. How can I plot them in one plot? I'm looking for something similar to 'hold on' in MatLab.<br>\nThere is my code:  </p>\n\n<pre><code>def random_walk_3D(n, traj = 1):\n\nfor i in range(traj):\n\n    skoki = np.array([[0, 1, 0], [1, 0, 0], [0, -1, 0], [0, 0, 1], [-1, 0, 0], [0, 0, -1]])\n    losy = np.random.randint(6, size = n)\n\n    temp = skoki[losy, :]\n\n    x = np.array([[0, 0, 0]])\n\n    temp1 = np.concatenate((x, temp), axis = 0)\n\n    traj = np.cumsum(temp1, axis = 0)\n\n    fig = plt.figure()\n    ax = fig.gca(projection='3d')\n    ax = plt.gca()\n\n    X, Y, Z = zip(*traj)\n    ax.plot(X, Y, Z)\n    ax.scatter(X[-1], Y[-1], Z[-1], c='r', marker='o') #the last point\n    plt.show()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "multiprocessing", "pathos"], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "is_accepted": false, "score": 0, "last_activity_date": 1511390640, "creation_date": 1511390640, "answer_id": 47444990, "question_id": 47444695, "link": "https://stackoverflow.com/questions/47444695/pathos-multiprocessing-in-class-produces-garbled-standard-output/47444990#47444990", "title": "Pathos multiprocessing in class produces garbled standard output", "body": "<p>Try using a <a href=\"https://docs.python.org/2/library/multiprocessing.html#synchronization-primitives\" rel=\"nofollow noreferrer\"><code>Lock</code></a> to ensure only one of the subprocesses writes to stdout at a time.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8972245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ad5c632490abbdb714c3fba38cdeb95?s=128&d=identicon&r=PG&f=1", "display_name": "S. Laroche", "link": "https://stackoverflow.com/users/8972245/s-laroche"}, "is_accepted": false, "score": 0, "last_activity_date": 1511815458, "creation_date": 1511815458, "answer_id": 47519495, "question_id": 47444695, "link": "https://stackoverflow.com/questions/47444695/pathos-multiprocessing-in-class-produces-garbled-standard-output/47519495#47519495", "title": "Pathos multiprocessing in class produces garbled standard output", "body": "<p>I was not using the suggested</p>\n\n<pre><code>if __name__ == '__main__':\n    freeze_support()\n</code></pre>\n\n<p>for Windows. Things are behaving normally now.</p>\n"}], "owner": {"reputation": 1, "user_id": 8972245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ad5c632490abbdb714c3fba38cdeb95?s=128&d=identicon&r=PG&f=1", "display_name": "S. Laroche", "link": "https://stackoverflow.com/users/8972245/s-laroche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511815458, "creation_date": 1511388918, "question_id": 47444695, "link": "https://stackoverflow.com/questions/47444695/pathos-multiprocessing-in-class-produces-garbled-standard-output", "title": "Pathos multiprocessing in class produces garbled standard output", "body": "<p>I'm trying to use multiprocessing in a class I have written to speed up calculations. I'm using pathos.multiprocessing and dill, and using map on a ProcessingPool. I've tested the functionality of multiprocessing in a console and it performed as expected. The issue I'm having is that when I try to implement it in my code, as soon as it calls pool.map the terminal I'm using starts spitting out ridiculous nonsense. The output is recognizable as being from the code, but I have no idea how it's making it print. Some of it comes from a method like I defined below, where it includes the current datetime. In the nonsense I see that it's printing the current time, after pool.map was called, so this isn't just something that's just being repeatedly printed out, it's new output. Here is a little code illustrating how I'm using multiprocessing. </p>\n\n<p>My_func is a little more complicated than I have below, but as a first step I changed it to literally what is written below, and the problem still persists. </p>\n\n<p>Additionally, Ctr-C does trigger a KeyboardInterrupt, but does not completely stop the program. I'm using Visual Studio and python 2.7.13 on Windows 10.</p>\n\n<pre><code>from pathos.multiprocessing import ProcessingPool\nimport dill\nimport datetime\n\nclass my_class(Object):\n    def __init__(self):\n        pool = ProcessingPool(nodes=4)\n\n        p1 = [1,2,3]\n        p2 = [4,5,6]\n        p3 = [7,8,9]\n\n        results = pool.map(self.my_func, p1, p2, p3)\n\n    def my_func(self,x,y,z):\n        print(x,y,z)\n\n    def status_printout(self,message):\n        header = datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S')\n        print(header+' -- '+message)\n</code></pre>\n"}, {"tags": ["python", "django", "django-admin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8993389"}, "edited": false, "score": 0, "creation_date": 1511389179, "post_id": 47444690, "comment_id": 81844741, "body": "sorry not &#39;sum_amount&#39;  its &quot;_get_total&quot; in the message"}, {"owner": {"reputation": 9701, "user_id": 5165332, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/93c5b8f16dce739cd7e4336034e1f76c?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Lisitsky", "link": "https://stackoverflow.com/users/5165332/eugene-lisitsky"}, "edited": false, "score": 0, "creation_date": 1511418390, "post_id": 47444690, "comment_id": 81852683, "body": "better readability, formatting, typos"}], "owner": {"user_type": "does_not_exist", "display_name": "user8993389"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511418390, "creation_date": 1511388902, "last_edit_date": 1511418390, "question_id": 47444690, "link": "https://stackoverflow.com/questions/47444690/django-cant-add-admin-page-model-py-list-display-sum-amount", "title": "Django can&#39;t add admin page model.py list_display = &#39;sum_amount&#39;", "body": "<p>How can I am add in the (<code>list_display =</code> ) and show the admin page? When I try start server I get:</p>\n\n<pre><code>(admin.E108) The value of 'list_display[2]' refers to 'sum_amount', \nwhich is not a callable, an attribute of 'OrderAdmin', \nor an attribute or method on\n</code></pre>\n\n<p>my model.py:</p>\n\n<pre><code> class Order(models.Model):\n        first_name = models.CharField(max_length=50)\n        last_name = models.CharField(max_length=50)\n        city = models.CharField(max_length=100)\n        created = models.DateTimeField(auto_now_add=True)\n        updated = models.DateTimeField(auto_now=True)\n         class Hesapla(models.Model):\n        talepid = models.ForeignKey(Order, on_delete=models.CASCADE)\n        paid = models.BooleanField(default=False)\n        price = models.DecimalField(max_digits=10, decimal_places=2)\n        quantity = models.PositiveIntegerField(default=1)\n\n       def _get_total(self):\n           \"Returns the total\"\n           return self.price * self.quantity\n           property(_get_total)\n</code></pre>\n\n<p>my admin.py</p>\n\n<pre><code>from django.contrib import admin\n\n\nfrom orders.models import Order, Hesapla\n\nclass HesaplaInline(admin.StackedInline):\n    model = Hesapla\n    extra = 3\n\nclass OrderAdmin(admin.ModelAdmin):\n    fieldsets = [\n        (None,               {'fields': ['first_name']}),\n        ('city', {'fields': ['last_name'], 'classes':['collapse']}),\n    ]\n    inlines = [HesaplaInline]\n    list_display = ['first_name','last_name','sum_amount']\n\nclass Meta:\n    model = Order\nadmin.site.register(Order, OrderAdmin)\n</code></pre>\n"}, {"tags": ["python", "pip", "setuptools"], "answers": [{"comments": [{"owner": {"reputation": 444, "user_id": 1530967, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/084bbaabba3da4c0eb795b4a94903725?s=128&d=identicon&r=PG", "display_name": "Tom Close", "link": "https://stackoverflow.com/users/1530967/tom-close"}, "edited": false, "score": 0, "creation_date": 1511389079, "post_id": 47444698, "comment_id": 81844708, "body": "Ah, makes sense. Might need to bite the bullet and make it just 1.0 then :)"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 444, "user_id": 1530967, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/084bbaabba3da4c0eb795b4a94903725?s=128&d=identicon&r=PG", "display_name": "Tom Close", "link": "https://stackoverflow.com/users/1530967/tom-close"}, "edited": false, "score": 0, "creation_date": 1511389602, "post_id": 47444698, "comment_id": 81844899, "body": "@TomClose I see you have a decent code coverage, so I wouldn&#39;t be afraid of doing that."}, {"owner": {"reputation": 444, "user_id": 1530967, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/084bbaabba3da4c0eb795b4a94903725?s=128&d=identicon&r=PG", "display_name": "Tom Close", "link": "https://stackoverflow.com/users/1530967/tom-close"}, "edited": false, "score": 0, "creation_date": 1511389903, "post_id": 47444698, "comment_id": 81845017, "body": "Thanks, yeah it is probably worthy of coming out of beta (finally!)"}], "tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 1, "last_activity_date": 1511388926, "creation_date": 1511388926, "answer_id": 47444698, "question_id": 47444636, "link": "https://stackoverflow.com/questions/47444636/pip-is-ignoring-the-most-recent-releases-of-my-package-on-pypi/47444698#47444698", "title": "Pip is ignoring the most recent releases of my package on PyPI", "body": "<p>It's because of the <code>rc2</code> suffix. By default, <code>pip</code> will install only the stable versions of a package. Your last stable version is <code>0.1</code>, while all the versions with suffixes <code>devX</code> or <code>rcX</code> are not considered stable. You can override this by adding the <code>--pre</code> option:</p>\n\n<pre><code>$ pip install nineml --pre\n</code></pre>\n\n<p><a href=\"https://pip.pypa.io/en/stable/reference/pip_install/#pre-release-versions\" rel=\"nofollow noreferrer\">See also the explanation in <code>pip</code> docs</a>.</p>\n"}], "owner": {"reputation": 444, "user_id": 1530967, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/084bbaabba3da4c0eb795b4a94903725?s=128&d=identicon&r=PG", "display_name": "Tom Close", "link": "https://stackoverflow.com/users/1530967/tom-close"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 47444698, "answer_count": 1, "score": 1, "last_activity_date": 1511388926, "creation_date": 1511388576, "question_id": 47444636, "link": "https://stackoverflow.com/questions/47444636/pip-is-ignoring-the-most-recent-releases-of-my-package-on-pypi", "title": "Pip is ignoring the most recent releases of my package on PyPI", "body": "<p>I have recently uploaded a few releases of a Python package I have been working on called <code>nineml</code> to PyPI. Navigating to <em>nineml</em> through the PyPI website (<a href=\"https://pypi.python.org/pypi/nineml\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/nineml</a>) takes me to the most recent release (1.0rc2). However, when I attempt to install it using <code>pip</code> only the oldest release (0.1) is found, despite it being not compatible with Python 3 (this problem also occurs with Python 2.7).</p>\n\n<p>Looking at the verbose output (below) <code>pip</code> appears to be finding the links to the newer releases but doesn't include them in the list of versions</p>\n\n<pre><code>(nineml-test3) tclose@potassium:~$ python --version\n  Python 3.6.2\n(nineml-test3) tclose@potassium:~$ pip install -vvv nineml\nCollecting nineml\n  1 location(s) to search for versions of nineml:\n  * https://pypi.python.org/simple/nineml/\n  Getting page https://pypi.python.org/simple/nineml/\n  Looking up \"https://pypi.python.org/simple/nineml/\" in the cache\n  Current age based on date: 140\n  Freshness lifetime from max-age: 600\n  Freshness lifetime from request max-age: 600\n  The response is \"fresh\", returning cached response\n  600 &gt; 140\n  Analyzing links from page https://pypi.python.org/simple/nineml/\n    Found link https://pypi.python.org/packages/18/25/67fcf106b63c515e86b41c579809fbdee6468abc2b0efba497017da087d8/nineml-1.0rc1-py2.py3-none-any.whl#md5=ca3c30a777e443069c9d6d60a3f819f6 (from https://pypi.python.org/simple/nineml/) (requires-python:&gt;=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, &lt;4), version: 1.0rc1\n    Found link https://pypi.python.org/packages/26/a8/42ad4062d40f7e1c71d6195814d47a9b8a4c55b310f9d1d943a7a57d6a36/nineml-1.0rc2-py2.py3-none-any.whl#md5=94497e8caf47f38240dcd1bc703ffd52 (from https://pypi.python.org/simple/nineml/) (requires-python:&gt;=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, &lt;4), version: 1.0rc2\n    Skipping link https://pypi.python.org/packages/2d/6f/573b71c04f891d968f44efd86a87b457072d5a92d4364c6e8a6420560f83/nineml-0.1-py2-none-any.whl#md5=6d7e0dee64e4bc181b141044368997b0 (from https://pypi.python.org/simple/nineml/); it is not compatible with this Python\n    Found link https://pypi.python.org/packages/3c/da/844e823a9b932041b880414896759502697bff369d3b5f33c9b0d53f2b76/nineml-0.1.tar.gz#md5=fd0f8c6d90aed2fe6b1bc8a696a85eff (from https://pypi.python.org/simple/nineml/), version: 0.1\n    Found link https://pypi.python.org/packages/40/ad/dc65fd215c717c92119149104371b56b74aa32e1b1fecfef5637af467cb7/nineml-1.0rc1.tar.gz#md5=91fe5e41c89309803c036981362dd94e (from https://pypi.python.org/simple/nineml/) (requires-python:&gt;=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, &lt;4), version: 1.0rc1\n    Found link https://pypi.python.org/packages/b7/9e/f2611491478af2ecd55c74ac2ef8adf825be6d327916043b4abe910dd051/nineml-1.0rc2.tar.gz#md5=fb580237a2a156f8559420c23547812d (from https://pypi.python.org/simple/nineml/) (requires-python:&gt;=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, &lt;4), version: 1.0rc2\n  Using version 0.1 (newest of versions: 0.1)\n  Looking up \"https://pypi.python.org/packages/3c/da/844e823a9b932041b880414896759502697bff369d3b5f33c9b0d53f2b76/nineml-0.1.tar.gz\" in the cache\n  Current age based on date: 169019\n  Freshness lifetime from max-age: 31557600\n  The response is \"fresh\", returning cached response\n  31557600 &gt; 169019\n  Using cached nineml-0.1.tar.gz\n  Downloading from\n</code></pre>\n\n<p>My <code>setup.py</code> is pretty straightforward I think</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom setuptools import setup, find_packages\n\nsetup(\n    name=\"nineml\",\n    version=\"1.0rc2\",\n    packages=find_packages(),\n    # add your name here if you contribute to the code\n    author=\"Andrew P. Davison, Thomas G. Close, Mike Hull, Eilif Muller\",\n    author_email=\"myemail@gmail.com\",\n    description=(\n        \"A tool for reading, writing and generally working with 9ML objects \"\n        \"and files.\"),\n    long_description=open(\"README.rst\").read(),\n    license=\"BSD 3 License\",\n    keywords=(\"computational neuroscience modeling interoperability XML YAML\"\n              \"HDF5 JSON\"),\n    url=\"http://nineml-python.readthedocs.io\",\n    classifiers=['Development Status :: 4 - Beta',\n                 'Environment :: Console',\n                 'Intended Audience :: Science/Research',\n                 'License :: OSI Approved :: BSD License',\n                 'Natural Language :: English',\n                 'Operating System :: OS Independent',\n                 'Programming Language :: Python :: 2',\n                 'Programming Language :: Python :: 2.7',\n                 'Programming Language :: Python :: 3',\n                 'Programming Language :: Python :: 3.4',\n                 'Programming Language :: Python :: 3.5',\n                 'Programming Language :: Python :: 3.6',\n                 'Topic :: Scientific/Engineering'],\n    install_requires=['lxml&gt;=3.7.3',\n                      'future&gt;=0.16.0',\n                      'h5py&gt;=2.7.0',\n                      'PyYAML&gt;=3.1',\n                      'sympy&gt;=1.1'],\n    python_requires='&gt;=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, &lt;4',\n    tests_require=['nose', 'numpy']\n)\n</code></pre>\n\n<p>Any idea why it is ignoring the most recent releases?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "multi-index"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8363516, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1fa89b1fad12d0265ab6e66576d1acfb?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/8363516/andrea"}, "edited": false, "score": 0, "creation_date": 1511528099, "post_id": 47444757, "comment_id": 81902025, "body": "it works! Omg, I think I spent hours trying to find this solution. Thank you! May I ask, from a python beginner point of view, why index_col=[0:3] doesn&#39;t work?"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 93, "user_id": 8363516, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1fa89b1fad12d0265ab6e66576d1acfb?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/8363516/andrea"}, "edited": false, "score": 1, "creation_date": 1511533663, "post_id": 47444757, "comment_id": 81905105, "body": "[0:3] is not a python list.   type that on a line by itself and it will not return [0,1,2,3].  It is a slicing operator that works on a list.  You might try range(0,3).   I am on my phone so I dont know for sure if that will work.  Would you accept this answer if it helped?"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 4, "last_activity_date": 1511389298, "creation_date": 1511389298, "answer_id": 47444757, "question_id": 47444631, "link": "https://stackoverflow.com/questions/47444631/how-can-i-upload-a-4-multi-index-level-row-hierarchy-from-excel-into-a-pandas-da/47444757#47444757", "title": "how can I upload a 4 multi index level row hierarchy from excel into a pandas dataframe?", "body": "<p>Try this:</p>\n\n<pre><code>pd.read_excel('data.xlsx', header=[0,1], index_col=[0,1,2,3])\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8363516, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1fa89b1fad12d0265ab6e66576d1acfb?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/8363516/andrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1511392278, "creation_date": 1511388559, "last_edit_date": 1511392278, "question_id": 47444631, "link": "https://stackoverflow.com/questions/47444631/how-can-i-upload-a-4-multi-index-level-row-hierarchy-from-excel-into-a-pandas-da", "title": "how can I upload a 4 multi index level row hierarchy from excel into a pandas dataframe?", "body": "<p>I spend hours trying to find a solution but nothing so far.\nI have the following table (see screenshot).\ncan anybody please shed some light and explain me how to upload it into a dataframe?\nMany thanks,\nAndrea</p>\n\n<p><a href=\"https://i.stack.imgur.com/ttnHC.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ttnHC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ttnHC.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "database-design", "model"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 3765057, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/OaChI.png?s=128&g=1", "display_name": "cssidy", "link": "https://stackoverflow.com/users/3765057/cssidy"}, "edited": false, "score": 0, "creation_date": 1511390899, "post_id": 47444928, "comment_id": 81845360, "body": "Ah! I see, an intermediary table! Thank you."}], "tags": [], "owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "is_accepted": true, "score": 0, "last_activity_date": 1511390190, "creation_date": 1511390190, "answer_id": 47444928, "question_id": 47444613, "link": "https://stackoverflow.com/questions/47444613/django-multiple-choice-field-of-options-in-database/47444928#47444928", "title": "Django multiple-choice field of options in database", "body": "<p>Just add one model for list of streams and another model for user selected streams</p>\n\n<pre><code>class Stream(models.Model):\n    name = models.CharField(max_length=50)\n\nclass UserStream(models.Model):\n    user = models.ForeignKey(User)\n    name = models.ForeignKey(Stream)\n</code></pre>\n\n<p>That's it. Insert possible streams to <code>Stream</code> model and user selected streams to <code>UserStream</code> model.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 4977920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045dd7f26a1dcfe8030fcfecc9ba1561?s=128&d=identicon&r=PG&f=1", "display_name": "Jarvis Cochrane", "link": "https://stackoverflow.com/users/4977920/jarvis-cochrane"}, "is_accepted": false, "score": 0, "last_activity_date": 1511396623, "last_edit_date": 1511396623, "creation_date": 1511396068, "answer_id": 47445733, "question_id": 47444613, "link": "https://stackoverflow.com/questions/47444613/django-multiple-choice-field-of-options-in-database/47445733#47445733", "title": "Django multiple-choice field of options in database", "body": "<p>The <code>ManyToManyField</code> already implicitly creates the 'intermediary table' described in the accepted answer. As per the documentation:</p>\n\n<blockquote>\n  <p>Behind the scenes, Django creates an intermediary join table to\n  represent the many-to-many relationship.</p>\n</blockquote>\n\n<p>You can pass a callable to the <code>choices</code> field of the <code>ChoicesField</code> which you display to the user, allowing the list of available choices to be determined dynamically when the form is generated.</p>\n\n<p>The list of valid choices in the User&lt;->Stream relationship is already constrained by the relationship, so there's no benefit in specifying the available choices on the model field.</p>\n"}], "owner": {"reputation": 305, "user_id": 3765057, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/OaChI.png?s=128&g=1", "display_name": "cssidy", "link": "https://stackoverflow.com/users/3765057/cssidy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2075, "favorite_count": 0, "accepted_answer_id": 47444928, "answer_count": 2, "score": 0, "last_activity_date": 1511396623, "creation_date": 1511388469, "question_id": 47444613, "link": "https://stackoverflow.com/questions/47444613/django-multiple-choice-field-of-options-in-database", "title": "Django multiple-choice field of options in database", "body": "<p>I am designing a model, view and template for my news aggregation app. I want the template to offer the user a multiple-choice field form with options from the database. How do I design this in my model? </p>\n\n<p>I was reading the Django documentation about ManyToManyField (the one with journalists and articles) but I don't think that is quite the right relationship because in my case, \"articles\" can exist without a journalist and journalist without an article.</p>\n\n<p>I have Users. I have Streams. Streams is a collection of news sites a user can sign up to follow and see aggregated headline snippets, such as from CNN,Twitter, Google News, etc etc. A Stream can exist with no Users. A Stream can have many Users. A User can have no Streams, in fact all user accounts start in my app with no Streams until they choose one. A User can have many Streams. </p>\n\n<p>In the template, I want to create a form with the list of all the Stream options in the database (this will likely change as I ad more options in the future). When a User selects a Stream, it will be added to their dashboard view. They can add and delete Streams. However, there is only 1 Twitter, 1 Google News, etc source. I can't use the typical choices option in the User model, I want it to be \"dynamic\" and pull straight from the Streams database.</p>\n\n<p>This is what I have now but I know it's not right:</p>\n\n<p><strong>streams/models.py</strong></p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth.models import User\n\n\nclass Stream(models.Model):\n    user = models.ManyToManyField(User, blank=True, null=True)\n    name = models.CharField(max_length=30)\n</code></pre>\n\n<p><strong>user/models.py</strong></p>\n\n<pre><code>from django.db import models\n\n\nclass User(models.Model):\n     name = models.CharField(max_length=30)\n\n     '''''\n     #TODO: make this dynamic, streams is pulling from Streams model\n        streams = (\n            ('Google News'),\n            ('Yahoo News'),\n            ('Twitter'),\n            ('CNN'),\n            ('New York Times'),\n            ('NBC News'),\n            ('Huffington Post')\n        )\n        stream_choices = models.CharField(max_length=9, choices=streams)\n\n\n     '''''\n</code></pre>\n"}, {"tags": ["python", "numpy", "scikit-learn", "svm"], "comments": [{"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511390917, "post_id": 47444608, "comment_id": 81845368, "body": "If you are attempting to supply the feature matrix and target vector to a classification algorithm in sklearn, it is unnecessary to concatenate the two. Unless I am misunderstanding your question"}, {"owner": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511391391, "post_id": 47444608, "comment_id": 81845504, "body": "thats exactly I am trying to do.  i am not worried about matrix concatenation. My problem is how to introduce &quot;digits&quot; in that matrix so I can perform binary SVM classification: like here <a href=\"http://cvxopt.org/applications/svm/index.html\" rel=\"nofollow noreferrer\">cvxopt.org/applications/svm/index.html</a>"}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511391755, "post_id": 47444608, "comment_id": 81845621, "body": "Perhaps I am still unclear what you are trying to do. Your feature matrix should be of size [n_samples, n_features] as you have clarified above and your target vector should be of size [n_samples, 1]. Each column of your feature matrix should pertain to the same indicial location of a respective pixel in each image of your training set. Each row would represent an individual training example (or image) in this case. Are we in agreement so far?"}, {"owner": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511391813, "post_id": 47444608, "comment_id": 81845649, "body": "yes, rahlf23. Thanks for the second part. So to outline problem if I wanted to do digits 3 vs digit 6, how do I introduce that. If I do not have &quot;digits&quot; variable to manipulate as I defined above"}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511391945, "post_id": 47444608, "comment_id": 81845690, "body": "The example via the link you shared is attempting to classify 0&#39;s and 1&#39;s, are you attempting to expand this example to more than just two classes?"}, {"owner": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511391988, "post_id": 47444608, "comment_id": 81845714, "body": "No just two classes for now. That is where I got stuck."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "reply_to_user": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "edited": false, "score": 0, "creation_date": 1511392008, "post_id": 47444608, "comment_id": 81845720, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/159624/discussion-between-rahlf23-and-lpt\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "edited": false, "score": 0, "creation_date": 1511394201, "post_id": 47445292, "comment_id": 81846354, "body": "thanks rahlf23, it works for single array like lbl but not for the img. List comprehension will generates ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all() if implemented"}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1511444932, "post_id": 47445292, "comment_id": 81868490, "body": "use <code>np.where</code> on the matrix. <code>np.where(images==6, 1, images)</code>"}], "tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 0, "last_activity_date": 1511392591, "creation_date": 1511392591, "answer_id": 47445292, "question_id": 47444608, "link": "https://stackoverflow.com/questions/47444608/preserve-the-elements-value-in-matrix/47445292#47445292", "title": "preserve the elements value in matrix", "body": "<p>To map two digits for binary classification, modify your target vector via list comprehension: </p>\n\n<pre><code>import numpy as np\n\ns = np.array([6, 8, 6, 6, 6, 8, 6, 8, 8, 8, 6, 6, 6, 8, 8, 6, 8, 6, 8] ) \n\nnew = np.array([0 if i==6 else 1 for i in s])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[0 1 0 0 0 1 0 1 1 1 0 0 0 1 1 0 1 0 1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "is_accepted": false, "score": 1, "last_activity_date": 1511445228, "creation_date": 1511445228, "answer_id": 47457159, "question_id": 47444608, "link": "https://stackoverflow.com/questions/47444608/preserve-the-elements-value-in-matrix/47457159#47457159", "title": "preserve the elements value in matrix", "body": "<p>Use <code>numpy</code> <code>where</code> for vectorized and quicker computation:</p>\n\n<p>With rahfl23's array above:</p>\n\n<pre><code>np.where(s==6, 0, 1)\n</code></pre>\n\n<p>For the matrix:</p>\n\n<pre><code>np.where(images==6, 0, 1)\n</code></pre>\n"}], "owner": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1511445228, "creation_date": 1511388399, "last_edit_date": 1511391735, "question_id": 47444608, "link": "https://stackoverflow.com/questions/47444608/preserve-the-elements-value-in-matrix", "title": "preserve the elements value in matrix", "body": "<p>I have a text dataset with labels and images. The labels are 1-dimensional elements representing handwritten digits. <code>Dimension:(1010,)</code>. Images are 28*28 pixel size images.<code>Dimension:(1010, 784)</code>. After reading from text dataset I have following dataset <code>reformatData['data']</code> and <code>reformatData['target']</code> - which are respectively <code>[n_samples, n_features]</code> and <code>[n_samples]</code>. </p>\n\n<p>Again, dimensions of these: <code>(1010, 784) (1010,)</code> when printed <code>reformatData</code></p>\n\n<p>Now I am trying to do binary classification and introduce digits into the matrix, which I try to do with the following function. </p>\n\n<pre><code>digits1=[8]\ndigits2=[1]\n\n\ndef read(digits):\n    rows=28\n    cols=28\n    #lbl = array(\"b\", reformatData['target'])\n    lbl = reformatData['target']\n    img=reformatData['data']\n    #img = array(\"B\", reformatData['data'])\n\n    ind = [ k for k in xrange(len(lbl)) if lbl[k] in digits]\n    images =  matrix(0, (len(ind), rows*cols))\n    labels = matrix(0, (len(ind), 1))\n    for i in xrange(len(ind)):\n        images[i, :] = img[ ind[i]*rows*cols : (ind[i]+1)*rows*cols ]\n        labels[i] = lbl[ind[i]]\n    return images, labels\n\nprint read(digits=digits1)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>(&lt;0x784 matrix, tc='i'&gt;, &lt;0x1 matrix, tc='i'&gt;)\n</code></pre>\n\n<p>I expected: </p>\n\n<pre><code>(&lt;1010x784 matrix, tc='i'&gt;, &lt;1010x1 matrix, tc='i'&gt;)\n</code></pre>\n\n<p>How do I solve this? </p>\n"}, {"tags": ["python", "datetime", "pytz"], "answers": [{"comments": [{"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "edited": false, "score": 0, "creation_date": 1511388912, "post_id": 47444668, "comment_id": 81844639, "body": "Yes this clears it up for me.  I&#39;m not sure why I thought pytz wouldn&#39;t override the default args"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1511388758, "creation_date": 1511388758, "answer_id": 47444668, "question_id": 47444607, "link": "https://stackoverflow.com/questions/47444607/should-i-make-datetime-now-timezone-aware-before-converting-to-est/47444668#47444668", "title": "Should I make datetime.now() timezone aware before converting to EST?", "body": "<p>These will print the same time wherever you are.  I'm not in EST, and they both give <em>your</em> local time.  Local time comes from the default arguments:</p>\n\n<pre><code>print(datetime.now())\n</code></pre>\n\n<p>Your first line specifies that you want the time in EST.  The second specifies UTC, but converts that to EST.</p>\n\n<p>Does that clear up the functioning for you?</p>\n"}], "owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 1, "accepted_answer_id": 47444668, "answer_count": 1, "score": 0, "last_activity_date": 1511388758, "creation_date": 1511388390, "question_id": 47444607, "link": "https://stackoverflow.com/questions/47444607/should-i-make-datetime-now-timezone-aware-before-converting-to-est", "title": "Should I make datetime.now() timezone aware before converting to EST?", "body": "<p>I have to do a bunch of time calculations on EST terms, is the 2nd of the two print statements the appropriate way to ensure that <code>datetime.now()</code> will return the appropriate TZ aware EST time from anywhere in the world?  I assume the reason they are both returning the same values now is because my local time <em>is</em> EST.  My logic is to make it TZ aware in UTC then convert to EST so I'm never relying on \"local\" time.</p>\n\n<pre><code>from datetime import datetime\nfrom pytz import timezone\n\nEST = timezone('America/New_York')\n\nprint(datetime.now(EST))\nprint(datetime.now(timezone('UTC')).astimezone(EST))\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>2017-11-22 16:58:55.236498-05:00\n2017-11-22 16:58:55.237080-05:00\n</code></pre>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1511388500, "post_id": 47444578, "comment_id": 81844492, "body": "Are you the first person to ask here on SO how to plot days of the week on a matplotlib plot? In how far do other answers not help?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1511388959, "post_id": 47444578, "comment_id": 81844658, "body": "How can you plot by days if your data does not have a date column?"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1511389551, "post_id": 47444578, "comment_id": 81844879, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Actually he just mentions day of week (so we could take any date and start with sunday I guess) :). Or just assign Sun-Sat."}, {"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1511390502, "post_id": 47444578, "comment_id": 81845231, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 The first row is on Sunday, then Monday and so on."}, {"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1511390570, "post_id": 47444578, "comment_id": 81845265, "body": "@AntonvBR Yes I just meant to label the x axis with Sun-Sat."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 1, "creation_date": 1511391630, "post_id": 47444578, "comment_id": 81845578, "body": "I think this was wrongfully marked as duplicate as you are asking for something else. Hope my answer could help you! :)"}], "answers": [{"comments": [{"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511390644, "post_id": 47444959, "comment_id": 81845293, "body": "Why did this get a downvote?"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511390666, "post_id": 47444959, "comment_id": 81845300, "body": "@eleanora I don&#39;t know. Doesn&#39;t matter, does it help you?"}, {"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511430282, "post_id": 47444959, "comment_id": 81859176, "body": "Thank you. I think you need <code>for i in range(int(round(len(df)&#47;7))):</code> as round returns a float."}, {"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511431446, "post_id": 47444959, "comment_id": 81860080, "body": "It doesn&#39;t plot the last few days it seems as it only seems to cover full weeks. Also, how do you get the y axis range to be the same for each graph? I tried adding <code>plt.ylim([0,10])</code> in the loop but that didn&#39;t work well."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511433856, "post_id": 47444959, "comment_id": 81861685, "body": "@eleanora we could use subplots for that. With matplotlib you always need to format a lot :/"}, {"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511433989, "post_id": 47444959, "comment_id": 81861767, "body": "I could ask a separate question so I can accept two of your answers maybe :)"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511442060, "post_id": 47444959, "comment_id": 81866669, "body": "@eleanora No not necessary, but yeah that could be another question. But I think the answer is already out there on how to use subplots etc."}, {"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1511442862, "post_id": 47444959, "comment_id": 81867161, "body": "<a href=\"https://stackoverflow.com/questions/47454335/how-to-get-pandas-to-plot-on-the-same-graph-with-the-same-y-axis-range\" title=\"how to get pandas to plot on the same graph with the same y axis range\">stackoverflow.com/questions/47454335/&hellip;</a> Any help very much appreciated."}], "tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 0, "last_activity_date": 1511391292, "last_edit_date": 1511391292, "creation_date": 1511390410, "answer_id": 47444959, "question_id": 47444578, "link": "https://stackoverflow.com/questions/47444578/how-to-add-days-of-the-week-x-axis-labels/47444959#47444959", "title": "How to add days of the week x axis labels", "body": "<p>Something like this?</p>\n\n<pre><code>import pandas as pd\nimport calendar\n\ndf = pd.DataFrame({'Physical': {0: 5,\n  1: 6,2: 6,3: 6,4: 5,5: 7,6: 5,7: 6,8: 7,9: 7,10: 7,11: 6,12: 7,\n  13: 7,14: 5,15: 8,16: 9,17: 7,18: 7,19: 7,20: 7,21: 7,22: 7,23: 7,24: 6,25: 6,\n  26: 6,27: 6,28: 6,29: 6,30: 7,31: 7,32: 7,33: 7,34: 7,35: 8,36: 7,37: 7,38: 6}})\n\n# Get Dayofweek index number (start with 6 for sunday) 6,0,1....\ndf['DayOfTheWeek'] = [(i+6) % 7  for i in range(len(df))]\n\n# Get a map to translate to day of week\nd = dict(zip(range(7),list(calendar.day_name)))\ndf['DayOfTheWeek'] = df['DayOfTheWeek'].map(d)\n\n# Loop through the df (splitting week by week)\nfor i in range(round(len(df)/7)):\n    df.iloc[i*7:(i+1)*7].set_index('DayOfTheWeek').plot(kind='bar')\n\nplt.show()\n</code></pre>\n\n<p>Returns 6 images, this is one:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7gACi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7gACi.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1243, "favorite_count": 0, "closed_date": 1511391256, "accepted_answer_id": 47444959, "answer_count": 1, "score": -2, "last_activity_date": 1511391292, "creation_date": 1511388273, "question_id": 47444578, "link": "https://stackoverflow.com/questions/47444578/how-to-add-days-of-the-week-x-axis-labels", "closed_reason": "Duplicate", "title": "How to add days of the week x axis labels", "body": "<p>I have a dataframe in which each row relates to a day of the week, starting on Sunday. there are 39 rows in total.  I would like to plot the numerical values  from the column <code>Physical</code> one week at a time with the days of the week labelled on the x-axis.  I have this so far:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndf = pd.read_csv(\"health.csv\", header = None, names = ['Physical', 'Emotional'])\nax = df['Physical'].plot()\nplt.show()\n</code></pre>\n\n<p>This gives:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7akYP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7akYP.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I label the x-axis by the days of the week, starting on Sunday and split the weeks so that they are separated vertically.</p>\n\n<p>The full data is:</p>\n\n<pre><code>5,5\n6,7\n6,9\n6,7\n5,6\n7,9\n5,9\n6,7\n7,6\n7,4\n7,5\n6,7\n7,9\n7,9\n5,6\n8,7\n9,9\n7,7\n7,6\n7,8\n7,9\n7,9\n7,6\n7,8\n6,6\n6,6\n6,7\n6,6\n6,5\n6,6\n7,5\n7,5\n7,5\n7,6\n7,5\n8,6\n7,6\n7,7\n6,6\n</code></pre>\n"}, {"tags": ["javascript", "python", "flask", "flask-socketio"], "comments": [{"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1511401587, "post_id": 47444541, "comment_id": 81848030, "body": "I can&#39;t really tell you, since you are not showing the complete application.   But I&#39;m pretty sure the dev tools open or closed is a side effect, not part of the problem. So let&#39;s go through the check list: First, have you monkey patched the standard library, and second: are you sure you are not invoking any blocking functions in your Python server?"}, {"owner": {"reputation": 57, "user_id": 5000528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202967286983764/picture?type=large", "display_name": "Leonardo Hardtke", "link": "https://stackoverflow.com/users/5000528/leonardo-hardtke"}, "reply_to_user": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1511405589, "post_id": 47444541, "comment_id": 81848906, "body": "Thanks for the answer. I&#39;ll update the question to include the relevant code.  Yes I have <code>eventlet.monkey_patch()</code>. As I mentioned the datafile gets updated properly. This happens just 1 line bellow I emit the socket.io signal, so I do not think there is anything wrong there."}, {"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1511407500, "post_id": 47444541, "comment_id": 81849350, "body": "Try monkey patching above your imports, not below."}, {"owner": {"reputation": 57, "user_id": 5000528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202967286983764/picture?type=large", "display_name": "Leonardo Hardtke", "link": "https://stackoverflow.com/users/5000528/leonardo-hardtke"}, "reply_to_user": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1511411483, "post_id": 47444541, "comment_id": 81850371, "body": "Thanks, but it does not work either. :("}, {"owner": {"reputation": 57, "user_id": 5000528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202967286983764/picture?type=large", "display_name": "Leonardo Hardtke", "link": "https://stackoverflow.com/users/5000528/leonardo-hardtke"}, "reply_to_user": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1511417581, "post_id": 47444541, "comment_id": 81852321, "body": "Well I figured out what the problem was. I was trying to read the static data file, instead of serving the data to a route. Working OK now. Sorry for the noise..."}], "owner": {"reputation": 57, "user_id": 5000528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202967286983764/picture?type=large", "display_name": "Leonardo Hardtke", "link": "https://stackoverflow.com/users/5000528/leonardo-hardtke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511406217, "creation_date": 1511388037, "last_edit_date": 1511406217, "question_id": 47444541, "link": "https://stackoverflow.com/questions/47444541/get-request-only-when-developer-tools-open-in-the-browser-on-a-flask-socket-proj", "title": "GET request only when developer tools open in the browser on a FLASK-Socket project", "body": "<p>I am having an odd behavior in my FLASK project and I am not really sure what is going on here, basically it works OK while the developer tools of the browser is open (tested in firefox/chrome) but it stops updating as soon as I close it.</p>\n\n<p>I have a Thread in FLASK that is emitting current date and pH values (read from a pH probe) and also appending the data to a csv file that i later read in the js to make a graph and refresh it every time I have a new pH reading. In python:</p>\n\n<pre><code>....\n#Inside the thread. Running every 5 seconds.\nsocketio.emit('new_pH', {'pH': pH[0],'date': date})\nwith open(\"static/data.csv\", \"a\") as myfile:\n      myfile.write(\"{},{}\\n\".format(date,pH[0]))\nprint(\"pH: {}\".format(pH[0]))\n....\n</code></pre>\n\n<p>and on the js side:</p>\n\n<pre><code>var socket = io.connect('http://' + document.domain + ':' + location.port,{'multiplex': false});\nsocket.on('new_pH', function(msg){\n....\n    console.log(\"Received pH: \", msg.pH)\n    console.log(\"Received date: \", msg.date)\n    d3.csv(\"static/data.csv\", function(error, data) {\n        data.forEach(function(d) {\n            d.date = parseDate(d.date);\n            d.close = +d.close;\n....\n  });\n</code></pre>\n\n<p>On my terminal I see that when the dev tools are open I have a GET request for the data:</p>\n\n<pre><code>pH: 7.64666214035\n127.0.0.1 - - [22/Nov/2017 18:11:39] \"GET /static/data.csv HTTP/1.1\" 200 4950 0.000831\n</code></pre>\n\n<p>and as soon as I close the devel tools I only see the pH values.</p>\n\n<p>It happens with the FLASK server and also with gunicorn <code>gunicorn --worker-class eventlet -w 1 pHMon:app -b 0.0.0.0:5000  --reload</code></p>\n\n<p>Any hint would be appreciated! Thanks!</p>\n\n<p>Python code:</p>\n\n<pre><code>from flask import Flask, render_template, g, redirect\nfrom flask_socketio import SocketIO, emit\n\nimport numpy as np\nimport threading\nimport eventlet\nimport datetime\nimport sqlite3\nimport time\n\nfrom models import db\n\neventlet.monkey_patch()\n\nclass rand_pH(object):\n    def __init__(self, interval, exp_id):\n        self.interval = interval\n        self.exp_id = exp_id\n        thread = threading.Thread(target=self.run, args=())\n        thread.daemon = True                            \n        thread.start()       \n        # Initialice the textfile\n        with open(\"static/data.csv\", \"w\") as myfile:\n            myfile.write(\"date,close\\n\")\n\n    def run(self):\n        \"\"\"\n        Runs forever in the backround\n        Used to emit the state of the system\n        Now it just send a new pH every 5 seconds\n        But will be replaced by the actual reading\n        \"\"\"\n        global pH\n        global current_status_loop\n        current_status_loop = get_current_status()\n\n        while current_status_loop==1:\n            s = np.random.normal(0, 0.5, 1)\n            pH=pH+s\n            date=datetime.datetime.today().strftime(\"%Y-%m-%d %H:%M:%S\")\n            socketio.emit('new_pH', {'pH': pH[0],'date': date})\n            # Update the database\n            conn = sqlite3.connect('database.db')\n            cursor = conn.cursor()\n            cursor.execute('''INSERT INTO experiment_data(date, value, exp_id) VALUES(?,?,?)''', (date,pH[0],self.exp_id))\n            conn.commit()\n            with open(\"static/data.csv\", \"a\") as myfile:\n                myfile.write(\"{},{}\\n\".format(date,pH[0]))\n            time.sleep(self.interval)\n            current_status_loop = get_current_status()\n\n\n@app.route('/')\ndef index():\n    '''Main access point'''\n    # Get the status of the last experiment\n    cursor = get_db().cursor()\n    cursor.execute(''' SELECT status FROM exp ORDER BY exp_id DESC LIMIT 1 ''')\n    current_status = cursor.fetchall()[0][0]\n    # if current_status_loop is not defined it means that\n    # the thread was not started (ie. previous enexpected server shutownd\n    # or not an expement runnin).\n    try:\n        current_status_loop\n    except NameError:\n        stop()\n    return render_template('start_new.html')\n    else:\n        print \"sure, it was defined.\"\n    if current_status == 0:\n       return render_template('start_new.html')\n    if current_status == 1:\n       return render_template('view_running.html')\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>var socket = io.connect('http://' + document.domain + ':' + location.port,{'multiplex': false});\n\nsocket.on('new_pH', function(msg){\n  console.log(\"Recived pH: \", msg.pH)\n  console.log(\"Recived date: \", msg.date)\n  // Get the data\n  d3.csv(\"static/data.csv\", function(error, data) {\n    data.forEach(function(d) {\n    d.date = parseDate(d.date);\n    d.close = +d.close;\n    });\n  // Set the ranges\n  var x = d3.time.scale().range([0, width]);\n  var y = d3.scale.linear().range([height, 0]);\n\n  // Define the axes\n  var xAxis = d3.svg.axis().scale(x)\n  .orient(\"bottom\").ticks(2);\n\n  var yAxis = d3.svg.axis().scale(y)\n  .orient(\"left\").ticks(2);\n\n  // Define the line\n  var valueline = d3.svg.line()\n  .x(function(d) { return x(d.date); })\n  .y(function(d) { return y(d.close); });\n\n  // Scale the range of the data\n  x.domain(d3.extent(data, function(d) { return d.date; }));\n  y.domain([0, d3.max(data, function(d) { return d.close; })]);\n\n  // Add the valueline path.\n  svg.append(\"path\")\n  .attr(\"class\", \"line\")\n  .attr(\"d\", valueline(data));\n\n  // Add the X Axis\n  svg.append(\"g\")\n  .attr(\"class\", \"x axis\")\n  .attr(\"transform\", \"translate(0,\" + height + \")\")\n  .call(xAxis);\n\n  // Add the Y Axis\n  svg.append(\"g\")\n  .attr(\"class\", \"y axis\")\n  .call(yAxis);\n\n});\n});\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1511387987, "post_id": 47444521, "comment_id": 81844273, "body": "missing <code>&quot;&quot;&quot;</code> !?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1511388046, "post_id": 47444521, "comment_id": 81844298, "body": "You&#39;re missing the closing quotes for the comment: <code>&quot;&quot;&quot;Returns a driver to control the VoiceHat LED light with various animations.</code> &lt;--- add <code>&quot;&quot;&quot;</code> to the end of this line"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1511390608, "post_id": 47444521, "comment_id": 81845275, "body": "@toxicl-16: there&#39;s a lot of indentation errors in your code. here&#39;s your code reformatted with (hopefully) correct indentations: <a href=\"http://dpaste.com/3A39W3X\" rel=\"nofollow noreferrer\">dpaste.com/3A39W3X</a> -- Try running it, and report back any errors"}, {"owner": {"reputation": 27, "user_id": 8993426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4248af407d8a29144b9667cc83d54351?s=128&d=identicon&r=PG&f=1", "display_name": "ToXicL 16", "link": "https://stackoverflow.com/users/8993426/toxicl-16"}, "edited": false, "score": 0, "creation_date": 1511403683, "post_id": 47444521, "comment_id": 81848505, "body": "I renamed assistant_library_with_local_commands_demo.py to test2.py.... Sorry."}, {"owner": {"reputation": 27, "user_id": 8993426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4248af407d8a29144b9667cc83d54351?s=128&d=identicon&r=PG&f=1", "display_name": "ToXicL 16", "link": "https://stackoverflow.com/users/8993426/toxicl-16"}, "edited": false, "score": 0, "creation_date": 1511403690, "post_id": 47444521, "comment_id": 81848509, "body": "when running as a function, &quot;src/assistant_library_with_local_commands_demo.py&quot; I get: /home/pi/AIY-voice-kit-python/src/aiy/_drivers/_led.py:51: RuntimeWarning: This channel is already in use, continuing anyway. Use GPIO.setwarnings(False) to disable warnings. GPIO.setup(channel, GPIO.OUT) Traceback (most recent call last): File &quot;src/test2.py&quot;, line 119, in &lt;module&gt; main() File &quot;src/test2.py&quot;, line 115, in main process_event(assistant, event) File &quot;src/test2.py&quot;, line 95, in process_event self._can_start_conversation = True NameError: name &#39;self&#39; is not defined"}, {"owner": {"reputation": 27, "user_id": 8993426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4248af407d8a29144b9667cc83d54351?s=128&d=identicon&r=PG&f=1", "display_name": "ToXicL 16", "link": "https://stackoverflow.com/users/8993426/toxicl-16"}, "edited": false, "score": 0, "creation_date": 1511403843, "post_id": 47444521, "comment_id": 81848536, "body": "When running as python file, &quot;sudo python src/assistant_library_with_local_commands_demo.py&quot; I get: Traceback (most recent call last): File &quot;src/test2.py&quot;, line 28, in &lt;module&gt; import aiy.assistant.auth_helpers File &quot;/home/pi/AIY-voice-kit-python/src/aiy/assistant/auth_helper&zwnj;&#8203;\u200c\u200bs.py&quot;, line 24, in &lt;module&gt; import google_auth_oauthlib.flow ImportError: No module named google_auth_oauthlib.flow.    The code for auth_helpers.py is here: <a href=\"https://docs.google.com/document/d/1rDb3346GKsDPJjCr8Dn8TGJ3e5MrXIbz0MqoC0I3S9g/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}, {"owner": {"reputation": 27, "user_id": 8993426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4248af407d8a29144b9667cc83d54351?s=128&d=identicon&r=PG&f=1", "display_name": "ToXicL 16", "link": "https://stackoverflow.com/users/8993426/toxicl-16"}, "edited": false, "score": 0, "creation_date": 1511403964, "post_id": 47444521, "comment_id": 81848561, "body": "Please help...."}, {"owner": {"reputation": 27, "user_id": 8993426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4248af407d8a29144b9667cc83d54351?s=128&d=identicon&r=PG&f=1", "display_name": "ToXicL 16", "link": "https://stackoverflow.com/users/8993426/toxicl-16"}, "edited": false, "score": 0, "creation_date": 1511491714, "post_id": 47444521, "comment_id": 81886038, "body": "Also, I added the end quotes"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8993426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4248af407d8a29144b9667cc83d54351?s=128&d=identicon&r=PG&f=1", "display_name": "ToXicL 16", "link": "https://stackoverflow.com/users/8993426/toxicl-16"}, "edited": false, "score": 0, "creation_date": 1511389190, "post_id": 47444580, "comment_id": 81844746, "body": "I make the changes then run.. returns me with: File &quot;test2.py&quot;, line 65     if sys.stdout.isatty():                           ^ IndentationError: unindent does not match any outer indentation level"}], "tags": [], "owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "is_accepted": false, "score": 2, "last_activity_date": 1511388278, "creation_date": 1511388278, "answer_id": 47444580, "question_id": 47444521, "link": "https://stackoverflow.com/questions/47444521/how-can-i-fix-this-eof-syntax-error/47444580#47444580", "title": "How can I fix this EOF syntax error", "body": "<p>As you can see from the different coloring of the source code elements, everything beyond <code>\"\"\"Returns a driver to control the VoiceHat LED light with various animations.</code> is being compiled as a comment. You need to add <code>\"\"\"</code> at the end of the line.</p>\n"}], "owner": {"reputation": 27, "user_id": 8993426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4248af407d8a29144b9667cc83d54351?s=128&d=identicon&r=PG&f=1", "display_name": "ToXicL 16", "link": "https://stackoverflow.com/users/8993426/toxicl-16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511389856, "creation_date": 1511387951, "last_edit_date": 1511389856, "question_id": 47444521, "link": "https://stackoverflow.com/questions/47444521/how-can-i-fix-this-eof-syntax-error", "title": "How can I fix this EOF syntax error", "body": "<p>When I run my google aiy project, using <code>python src/assistant_library_with_local_commands</code>, I get:  </p>\n\n<blockquote>\n  <p><strong><em>File \"assistant_library_with_local_commands_demo.py\", line 122<br>\n      ^\n  SyntaxError: EOF while scanning triple-quoted string literal\n  .</em></strong><br>\n  How can I fix this error? I cannot find anything else on the web.</p>\n</blockquote>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/env python3\n# Copyright 2017 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n\"\"\"Run a recognizer using the Google Assistant Library.\nThe Google Assistant Library has direct access to the audio API, so this Python\ncode doesn't need to record audio. Hot word detection \"OK, Google\" is supported.\nThe Google Assistant Library can be installed with:\n    env/bin/pip install google-assistant-library==0.0.2\nIt is available for Raspberry Pi 2/3 only; Pi Zero is not supported.\n\"\"\"\n\n    import logging\n    import subprocess\n    import sys\n\n    import aiy.assistant.auth_helpers\n    import aiy.audio\n    import aiy.voicehat\n    from google.assistant.library import Assistant\n    from google.assistant.library.event import EventType\n\n    logging.basicConfig(\n        level=logging.INFO,\n        format=\"[%(asctime)s] %(levelname)s:%(name)s:%(message)s\"\n    )\n\n    def get_led():\n        \"\"\"Returns a driver to control the VoiceHat LED light with various animations.\n        led = aiy.voicehat.get_led()\n        # You may set any LED animation:\n        led.set_state(aiy.voicehat.LED.PULSE_QUICK)\n        led.set_state(aiy.voicehat.LED.BLINK)\n        # Or turn off the light but keep the driver running:\n        led.set_state(aiy.voicehat.LED_OFF)\n\n    def hello_there():\n        aiy.audio.say('Hello there Leland!')\n       # subprocess.call('sudo shutdown now', shell=True)\n\n\n    def how_are_you():\n        aiy.audio.say('I am doing rather fine today!')\n        #subprocess.call('sudo reboot', shell=True)\n\n    def poo_stripe():\n        #ip_address = subprocess.check_output(\"hostname -I | cut -d' ' -f1\", shell=True)\n        aiy.audio.say('Today you need to make sure that you wash the five inch poo stripe out of your pants!')\n\n    def process_event(assistant, event):\n        status_ui = aiy.voicehat.get_status_ui()\n        if event.type == EventType.ON_START_FINISHED:\n            status_ui.status('ready')\n            if sys.stdout.isatty():\n                print('Say \"OK, Google\" then speak, or press Ctrl+C to quit...')\n\n        elif event.type == EventType.ON_CONVERSATION_TURN_STARTED:\n            status_ui.status('listening')\n\n        elif event.type == EventType.ON_RECOGNIZING_SPEECH_FINISHED and event.args:\n            print('You said:', event.args['text'])\n            text = event.args['text'].lower()\n            if text == 'hello':\n            led.set_state(aiy.voicehat.LED.PULSE_QUICK)\n                assistant.stop_conversation()\n                hello_there()\n            led.set_state(aiy.voicehat.LED_OFF)\n            elif text == 'how are you today':\n                led.set_state(aiy.voicehat.LED.PULSE_QUICK)\n            assistant.stop_conversation()\n                how_are_you()\n            led.set_state(aiy.voicehat.LED_OFF)\n            elif text == 'what is on my to-do list today':\n            led.set_state(aiy.voicehat.LED.PULSE_QUICK)\n                assistant.stop_conversation()\n                poo_stripe()\n            led.set_state(aiy.voicehat.LED_OFF)\n        elif event.type == EventType.ON_END_OF_UTTERANCE:\n            status_ui.status('thinking')\n\n        elif event.type == EventType.ON_CONVERSATION_TURN_FINISHED:\n            status_ui.status('ready')\n        elif status_ui.status('ready') == True:\n                       self._can_start_conversation = True\n\n        elif event.type == EventType.ON_ASSISTANT_ERROR and event.args and event.args['is_fatal']:\n            sys.exit(1)\n\n    def _on_button_pressed(self):\n            # Check if we can start a conversation. 'self._can_start_conversation'\n            # is False when either:\n            # 1. The assistant library is not yet ready; OR\n            # 2. The assistant library is already in a conversation.\n        led.set_state(aiy.voicehat.LED.PULSE_QUICK)\n            if self._can_start_conversation:\n                self._assistant.start_conversation()\n        led.set_state(aiy.voicehat.LED_OFF)\n\n\n    def main():\n        credentials = aiy.assistant.auth_helpers.get_assistant_credentials()\n        with Assistant(credentials) as assistant:\n            for event in assistant.start():\n                process_event(assistant, event)\n\n\n    if __name__ == '__main__':\n        main()\n</code></pre>\n"}, {"tags": ["python", "patsy"], "answers": [{"tags": [], "owner": {"reputation": 8900, "user_id": 1925449, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97c543aca1ac7bbcfb5279d0300c8330?s=128&d=identicon&r=PG", "display_name": "Nathaniel J. Smith", "link": "https://stackoverflow.com/users/1925449/nathaniel-j-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1511904415, "last_edit_date": 1511904415, "creation_date": 1511414315, "answer_id": 47448055, "question_id": 47444502, "link": "https://stackoverflow.com/questions/47444502/how-to-stop-patsy-from-creating-redundant-interactions-of-categorical-variables/47448055#47448055", "title": "How to stop patsy from creating redundant interactions of categorical variables", "body": "<p>Patsy interprets <code>C(c1):C(c2)</code> as meaning \"I want to estimate the effect of every combination of <code>c1</code> and <code>c2</code> values\". If some of those combinations don't appear in your data, then they can't be estimated, so giving you a singular matrix at least points out the problem...</p>\n\n<p>If you want to estimate effects for just the combinations that exist, one easy way is to make a new variable that takes on a different value for each combination of <code>c1</code> and <code>c2</code>. The reason this works is that patsy then will infer that the set of possible values is exactly the ones that actually appear -- it has no way to know that <code>b.f</code> could have happened:</p>\n\n<pre><code>In [1]: df[\"c1_and_c2\"] = df[\"c1\"] + \".\" + df[\"c2\"]\n\nIn [2]: patsy.dmatrix(\"c1_and_c2 - 1\", df)\nOut[2]: \nDesignMatrix with shape (3, 3)\n  c1_and_c2[a.f]  c1_and_c2[a.g]  c1_and_c2[b.g]\n               0               1               0\n               1               0               0\n               0               0               1\n  Terms:\n    'c1_and_c2' (columns 0:3)\n</code></pre>\n"}], "owner": {"reputation": 2795, "user_id": 2998998, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8424bcd9571a90dee95c219bd6443ecc?s=128&d=identicon&r=PG", "display_name": "Artturi Bj&#246;rk", "link": "https://stackoverflow.com/users/2998998/artturi-bj%c3%b6rk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 47448055, "answer_count": 1, "score": 0, "last_activity_date": 1511904415, "creation_date": 1511387869, "question_id": 47444502, "link": "https://stackoverflow.com/questions/47444502/how-to-stop-patsy-from-creating-redundant-interactions-of-categorical-variables", "title": "How to stop patsy from creating redundant interactions of categorical variables", "body": "<p>I'm using patsy to fit regressions with statsmodels using the formula api.</p>\n\n<p>My problem is that my design matrix is singular because patsy creates (locally?) redundant interactions of categoricals.</p>\n\n<pre><code>import patsy\nimport pandas as pd\ndata = [('y',[2,5,6]),\n        ('c1',['a','a','b']),\n        ('c2',['g','f','g'])]\ndf = pd.DataFrame.from_items(data)#([y,c1,c2],columns=['y','c1','c2'])\nformula = \"y ~C(c1):C(c2)-1\"\ny,X = patsy.dmatrices(formula,df,return_type='dataframe')\nprint (X)\n\nC(c1)[a]:C(c2)[f]   C(c1)[b]:C(c2)[f]   C(c1)[a]:C(c2)[g]   C(c1)[b]:C(c2)[g]\n0   0.0 0.0 1.0 0.0\n1   1.0 0.0 0.0 0.0\n2   0.0 0.0 0.0 1.0\n</code></pre>\n\n<p>I would like to exclude the second column since <code>c1</code> doesn't have value <code>b</code> when <code>c2</code> has the value <code>f</code></p>\n"}, {"tags": ["python", "xml", "parsing", "beautifulsoup", "bigdata"], "answers": [{"comments": [{"owner": {"reputation": 1553, "user_id": 8378885, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10159144384065441/picture?type=large", "display_name": "HelloToEarth", "link": "https://stackoverflow.com/users/8378885/hellotoearth"}, "edited": false, "score": 0, "creation_date": 1511402896, "post_id": 47446167, "comment_id": 81848312, "body": "Very helpful. Not able to figure out why the actual csv isn&#39;t writing with your script on my Windows setup. Simply replaced the filename with my path to the xml but I&#39;m getting nothing.  Also, to clarify even further all I want is to grab <i>ALL</i> tags in these XMLs; so it&#39;s a big undertaking. There are even more children that are repetitions that I&#39;ll have to tweak. Your outline is helping as a general rule, however."}, {"owner": {"reputation": 1553, "user_id": 8378885, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10159144384065441/picture?type=large", "display_name": "HelloToEarth", "link": "https://stackoverflow.com/users/8378885/hellotoearth"}, "edited": false, "score": 0, "creation_date": 1511457648, "post_id": 47446167, "comment_id": 81875985, "body": "I figured it out, @Dan-Dev. I simply replaced the soup calling from xml to xml_string to read it properly. I think there was some issues with BS&#39;s interpretation to text."}, {"owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "reply_to_user": {"reputation": 1553, "user_id": 8378885, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10159144384065441/picture?type=large", "display_name": "HelloToEarth", "link": "https://stackoverflow.com/users/8378885/hellotoearth"}, "edited": false, "score": 0, "creation_date": 1511458450, "post_id": 47446167, "comment_id": 81876342, "body": "Glad you figured it out. If you just want to convert xml documents to csv documents have you thought of using XSLT? XSLT is designed for just this, it is a good skill to learn and may save you time in the long run."}, {"owner": {"reputation": 1553, "user_id": 8378885, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10159144384065441/picture?type=large", "display_name": "HelloToEarth", "link": "https://stackoverflow.com/users/8378885/hellotoearth"}, "edited": false, "score": 0, "creation_date": 1511465690, "post_id": 47446167, "comment_id": 81879368, "body": "I&#39;ll delve into it. Thanks, Dan."}], "tags": [], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1511400026, "last_edit_date": 1511400026, "creation_date": 1511399546, "answer_id": 47446167, "question_id": 47444501, "link": "https://stackoverflow.com/questions/47444501/parsing-xml-files-with-repeated-tags-that-have-differing-data-using-beautifulsou/47446167#47446167", "title": "Parsing XML files with repeated tags that have differing data using BeautifulSoup in Python", "body": "<p>First of all I downloaded one of the zip files \"ipg170103.zip\" and found it contained multiple xml documents. So I ran (on Linux) </p>\n\n<pre><code>csplit ipg170103.xml '/xml version/' '{*}'\n</code></pre>\n\n<p>To split the files into multiple single documents. Working with one of these files \"xx995\" I managed to see what you are working with. using \"grep\" on the file for \"country\" I discovered many instances of the word so I guessed you wanted the \"country\" under \"publication-reference\" (if not you will have to change the script) and likewise \"invention\" from \"invention-title\". I also discovered multiple instances of \"date\" under \"patcit\" not all of them had a name with them so my script omits these. I found too many \"city\" elements to know which one you wanted.\nBut in any case I could not determine exactly what you wanted so you may well have to tweak it a bit for your exact needs.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport csv\n\nxml = open(\"xx995\",'r').read()\nsoup = BeautifulSoup(xml, 'lxml')\npat = soup.find(\"us-patent-grant\")\n\ncountry = pat.find(\"publication-reference\").find(\"country\").text\ninvention = pat.find(\"invention-title\").text\n\ndata = []\npat_cite = pat.findAll(\"patcit\")\nfor item in pat_cite:\n    name = None\n    date = None\n    if item.find(\"name\"):\n        name = item.find(\"name\").text\n        # Only get date if name\n        if item.find(\"date\"):\n            date = item.find(\"date\").text\n        data.append((name,date))\n\nwith open('./output.csv', 'wt') as f:\n    writer = csv.writer(f, dialect='excel')\n    writer.writerow(('invention', 'country', 'patcit name', 'patcit date'))\n    for d in data:\n        writer.writerow((invention, country, d[0], d[1]))\n        invention = None\n        country = None\n</code></pre>\n\n<p>Outputs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cmLxx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cmLxx.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1553, "user_id": 8378885, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10159144384065441/picture?type=large", "display_name": "HelloToEarth", "link": "https://stackoverflow.com/users/8378885/hellotoearth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 47446167, "answer_count": 1, "score": 0, "last_activity_date": 1511400026, "creation_date": 1511387865, "last_edit_date": 1511388315, "question_id": 47444501, "link": "https://stackoverflow.com/questions/47444501/parsing-xml-files-with-repeated-tags-that-have-differing-data-using-beautifulsou", "title": "Parsing XML files with repeated tags that have differing data using BeautifulSoup in Python", "body": "<p>I have been stuck on this problem for a while now but no solution. I have a snippet of my Python script that looks like so:</p>\n\n<pre><code>pub_ref = soup.findAll(\"publication-reference\") \n\nwith open('./output.csv', 'ab+') as f:\n    writer = csv.writer(f, dialect = 'excel')\n\n    for info in pub_ref:  \n        pat_cite = soup.findAll(\"patcit\")\n        for item in pat_cite:\n            if item.find(\"name\"):\n                name = item.find(\"name\").text\n\n            writer.writerow([name])\n</code></pre>\n\n<p>This part of the script I want to parse children of a citation child root <em>\"pacit\"</em> of the parent <em>\"publication-reference\"</em> that crops up multiple times in the XML file and looks like this:</p>\n\n<pre><code>.\n.\n.\n    &lt;us-references-cited&gt;\n    &lt;us-citation&gt;\n    &lt;patcit num=\"00001\"&gt;\n    &lt;document-id&gt;\n    &lt;country&gt;US&lt;/country&gt;\n    &lt;doc-number&gt;1589850&lt;/doc-number&gt;\n    &lt;kind&gt;A&lt;/kind&gt;\n    &lt;name&gt;Haskell&lt;/name&gt;\n    &lt;date&gt;19260600&lt;/date&gt;\n    &lt;/document-id&gt;\n    &lt;/patcit&gt;\n    &lt;category&gt;cited by applicant&lt;/category&gt;\n    &lt;/us-citation&gt;\n    &lt;us-citation&gt;\n    &lt;patcit num=\"00002\"&gt;\n    &lt;document-id&gt;\n    &lt;country&gt;US&lt;/country&gt;\n    &lt;doc-number&gt;D134414&lt;/doc-number&gt;\n    &lt;kind&gt;S&lt;/kind&gt;\n    &lt;name&gt;Orme, Jr.&lt;/name&gt;\n    &lt;date&gt;19421100&lt;/date&gt;\n    &lt;/document-id&gt;\n    &lt;/patcit&gt;\n    &lt;category&gt;cited by applicant&lt;/category&gt;\n    &lt;/us-citation&gt;\n    &lt;us-citation&gt;\n.\n.\n.\n</code></pre>\n\n<p>The dots indicate that the file is larger than this and isn't showing the parent root \"publication-reference\". The problem is that my script only parses one of the many children of pacit, the <em>\"name\"</em> root, once through as you can tell. And this works fine for those roots that have only one entry per invention, but not multiples.</p>\n\n<p>I also want to store these in an CSV file, as you can see with the writer, whereby the output shows these multiple patcit citations down a column like so:</p>\n\n<pre><code>invention name  country   city      .... patcit name1  patcit date1....\n                  white space            patcit name2  patcit date2....\n                  white space            patcit name2  patcit date3....\n</code></pre>\n\n<p>The XML files I'm using can be found here at <a href=\"https://bulkdata.uspto.gov/data/patent/grant/redbook/fulltext/2017/\" rel=\"nofollow noreferrer\">https://bulkdata.uspto.gov/data/patent/grant/redbook/fulltext/2017/</a></p>\n\n<p>Any help would be appreciated as I've tried multiple ways and I feel this is a beginner's problem.</p>\n"}, {"tags": ["python", "case-sensitive"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1511387826, "post_id": 47444473, "comment_id": 81844203, "body": "Strings are immutable. <code>s[x].lower()</code> returns a new string, you have to do something with it."}, {"owner": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "edited": false, "score": 3, "creation_date": 1511387880, "post_id": 47444473, "comment_id": 81844224, "body": "If s is a string then you can just do <code>s.swapcase()</code>"}, {"owner": {"reputation": 240, "user_id": 3721256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3nIn.jpg?s=128&g=1", "display_name": "Paedolos", "link": "https://stackoverflow.com/users/3721256/paedolos"}, "edited": false, "score": 0, "creation_date": 1511387882, "post_id": 47444473, "comment_id": 81844227, "body": "also, your two conditions will override one another due to missing elif"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1511387938, "post_id": 47444473, "comment_id": 81844252, "body": "You&#39;re not saving the results and you&#39;re not calling <code>upper</code> either."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511387941, "post_id": 47444473, "comment_id": 81844255, "body": "Note, strings are immutable in Java too."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1511387978, "post_id": 47444473, "comment_id": 81844269, "body": "Is <code>s</code> a string or a list? Question says &quot;iterate through a list&quot; but then says &quot;returning an unchanged string&quot;"}, {"owner": {"reputation": 953, "user_id": 8272888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRUzh.jpg?s=128&g=1", "display_name": "sam-pyt", "link": "https://stackoverflow.com/users/8272888/sam-pyt"}, "edited": false, "score": 0, "creation_date": 1511391690, "post_id": 47444473, "comment_id": 81845600, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13417816/swap-case-of-letters-in-string-input-parameter\">Swap case of letters in string input parameter</a>"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1511387917, "post_id": 47444507, "comment_id": 81844243, "body": "Strings are immutable, you can&#39;t assign to <code>s[x]</code>."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1511387974, "post_id": 47444507, "comment_id": 81844265, "body": "@Barmar correct, however, the OP mentioned that he is iterating over a list, not a string."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1511388337, "post_id": 47444507, "comment_id": 81844419, "body": "You can remove the <code>[...]</code> and use a generator comprehension instead, which should be negligibly faster."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1511388477, "post_id": 47444507, "comment_id": 81844486, "body": "nit: i wouldn&#39;t use <code>i</code> for a character in a string. <code>i</code> is never anything but an index in my head. I&#39;d prefer <code>c</code> or <code>ch</code>. (I mention mostly because when I skimmed this answer I thought &quot;Hey you can&#39;t lowercase an index!&quot;)"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1511388590, "post_id": 47444507, "comment_id": 81844524, "body": "@TemporalWolf generally yes, however, in the case of <code>join</code>, it still has to format the passed generator to a list, so it is actually more efficient to pass a list."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1511387928, "last_edit_date": 1511387928, "creation_date": 1511387889, "answer_id": 47444507, "question_id": 47444473, "link": "https://stackoverflow.com/questions/47444473/swapping-letter-casing-in-python/47444507#47444507", "title": "Swapping letter casing in Python", "body": "<p>In Python, strings are immutable. Therefore, you can use a list comprehension with <code>.join</code>:</p>\n\n<pre><code>def swap_case(s):\n   return ''.join([i.lower() if i.isupper() else i.upper() for i in s])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "is_accepted": false, "score": 4, "last_activity_date": 1511388098, "creation_date": 1511388098, "answer_id": 47444550, "question_id": 47444473, "link": "https://stackoverflow.com/questions/47444473/swapping-letter-casing-in-python/47444550#47444550", "title": "Swapping letter casing in Python", "body": "<p>If s is a string you can do the following:</p>\n\n<pre><code>def swap_case(s):\n    return s.swapcase()\n</code></pre>\n\n<p>That being said, I don't think you need to create a function if that is all you are doing. You can just call .swapcase() on the string rather than passing it into a function.</p>\n"}, {"tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": false, "score": 0, "last_activity_date": 1511388218, "creation_date": 1511388218, "answer_id": 47444569, "question_id": 47444473, "link": "https://stackoverflow.com/questions/47444473/swapping-letter-casing-in-python/47444569#47444569", "title": "Swapping letter casing in Python", "body": "<p>As the comments have mentioned, <code>s[x].lower()</code> returns a new string, and it can't be assigned to since strings are immutable. So you need to accumulate a new string.</p>\n\n<pre><code>def swap_case(s):\n    s0 = \"\"\n    for x in range(len(s)):\n        if s[x].isupper():\n            s0 += s[x].lower() \n        elif s[x].islower():\n            s0 += s[x].upper()\n    return s0\n</code></pre>\n\n<p>You can also iterate over it with a lambda, which will be more concise.</p>\n\n<pre><code>def swap_case(s):\n    s0 = map(lambda x: x.lower() if x.isupper() else x.upper(), s)\n    return ''.join(s0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1511388416, "post_id": 47444586, "comment_id": 81844455, "body": "Code only answers are not ideal. Please review <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>, then <a href=\"https://stackoverflow.com/posts/47444586/edit\">edit</a> your answer, including things like <i>why does it not work the way OP tried</i> and <i>how this fixes it</i>."}], "tags": [], "owner": {"reputation": 635, "user_id": 8876606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1394bb6594806df68253926a197dbb36?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Eding", "link": "https://stackoverflow.com/users/8876606/matt-eding"}, "is_accepted": false, "score": 0, "last_activity_date": 1511388697, "last_edit_date": 1511388697, "creation_date": 1511388302, "answer_id": 47444586, "question_id": 47444473, "link": "https://stackoverflow.com/questions/47444473/swapping-letter-casing-in-python/47444586#47444586", "title": "Swapping letter casing in Python", "body": "<p>In python you don't need to loop over strings like <code>for x in range(len(s))</code>. Instead python can be more succinct with <code>for char in message</code>. Furthermore the <code>if</code> clause looks like it should be followed by an <code>elif</code> and an <code>else</code> (for non alphabetical characters). The code below works well for short messages since <code>+=</code> recopies the string each time due to it being an immutable type. If this impacts the speed of your program consider using <code>str.join()</code> instead.</p>\n\n<pre><code>def swap_case(message):\n    swapped_message = ''\n    for char in message:\n        if char.isupper():\n            swapped_message += char.lower()\n        elif char.islower():\n            swapped_message += char.upper()\n        else:\n            swapped_message += char\n    return swapped_message\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1511388676, "creation_date": 1511388676, "answer_id": 47444655, "question_id": 47444473, "link": "https://stackoverflow.com/questions/47444473/swapping-letter-casing-in-python/47444655#47444655", "title": "Swapping letter casing in Python", "body": "<p>For a recursive solution:</p>\n\n<pre><code>def swap_case(s):\n    if not s:  # empty string\n        return s\n    head, tail = s[0], s[1:]\n    if head.isupper():\n        return head.lower() + swap_case(tail)\n    else:\n        return head.upper() + swap_case(tail)\n</code></pre>\n\n<p>This is not ideally performant in Python (which generally implements recursion poorly under the hood), but it's not all that bad for reasonably-sized strings.</p>\n"}, {"tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": false, "score": 0, "last_activity_date": 1511391001, "last_edit_date": 1511391001, "creation_date": 1511389793, "answer_id": 47444850, "question_id": 47444473, "link": "https://stackoverflow.com/questions/47444473/swapping-letter-casing-in-python/47444850#47444850", "title": "Swapping letter casing in Python", "body": "<p>See these 2 statements from your code:</p>\n\n<pre><code>s[x].lower()\ns[x].upper()\n</code></pre>\n\n<p><code>s[x]</code> is <em>NOT</em> this (as you may think):</p>\n\n<pre><code>+------+------+-----+------+-----+-------------+\n| s[0] | s[1] | ... | s[x] | ... | s[len(s)-1] |\n+------+------+-----+------+-----+-------------+\n                      ^^^^\n</code></pre>\n\n<p>but the <em>new</em> 1-character string containing only the <code>x</code><sup>th</sup> character from the original string <code>s</code>:</p>\n\n<pre><code>+------+------+-----+------+-----+-------------+\n| s[0] | s[1] | ... | s[x] | ... | s[len(s)-1] |\n+------+------+-----+------+-----+-------------+\n\n                   copy of s[x] \n             (another place in the memory):\n                    +------+\n                    |      |\n                    +------+\n                      ^^^^\n</code></pre>\n\n<p>as <em>it is not allowed to change characters in strings</em>.</p>\n\n<p>So you changed the case of <em>that 1-character string</em>, keeping your original string <code>s</code> unchanged.</p>\n\n<hr>\n\n<p>Note:</p>\n\n<pre><code>s = \"apple\"\ns = \"orange\"\n</code></pre>\n\n<p>is perfectly OK - the second statement <em>didn't change</em> <code>\"apple\"</code> into <code>\"orange\"</code> but it <em>created the new string</em> <code>\"orange\"</code> in an <em>other place in the memory</em>, and then <em>labeled this new place with <code>s</code></em> (...which was originally the label of the string \"apple\"). </p>\n"}], "owner": {"reputation": 152, "user_id": 8650261, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/91fba02c55e12426aab90a14cf83a4a9?s=128&d=identicon&r=PG&f=1", "display_name": "Andres Alvarez", "link": "https://stackoverflow.com/users/8650261/andres-alvarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "answer_count": 6, "score": 0, "last_activity_date": 1511391001, "creation_date": 1511387727, "last_edit_date": 1511388039, "question_id": 47444473, "link": "https://stackoverflow.com/questions/47444473/swapping-letter-casing-in-python", "title": "Swapping letter casing in Python", "body": "<p>Been trying to transition from Java to Python but I am having difficulty writing for loops that iterate through a string.<br>\nAs you can see, I tried accessing each index to check its case. If that letter is capital then we lowercase it and vice versa.<br>\nI'm not really sure why it is returning an unchanged string if I am already making changes to that particular index</p>\n\n<pre><code>def swap_case(s):\n\n    for x in range(len(s)):\n        if s[x].isupper():\n            s[x].lower() \n        if s[x].islower():\n            s[x].upper()\n\n    return s\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1511387600, "post_id": 47444353, "comment_id": 81844101, "body": "Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. Your posted code produces no output, and you haven&#39;t tested all the cases you describe."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1511387926, "post_id": 47444353, "comment_id": 81844246, "body": "What would you expect your program to return for <code>abbas</code>?"}, {"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 0, "creation_date": 1511388069, "post_id": 47444353, "comment_id": 81844312, "body": "If you are looking for compact, then <code>len(s)-1 if len(s)&lt;2 else len(s)-1-(s[-1]==s[-2])</code> will do what you want, but I don&#39;t recommend writing <i>that</i>."}], "answers": [{"comments": [{"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511387586, "post_id": 47444424, "comment_id": 81844095, "body": "Missing one case: single-character strings."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511387685, "post_id": 47444424, "comment_id": 81844141, "body": "Good grab; thanks.  Fixed now."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1511387704, "last_edit_date": 1511387704, "creation_date": 1511387528, "answer_id": 47444424, "question_id": 47444353, "link": "https://stackoverflow.com/questions/47444353/finding-pairs-of-symbols-in-the-end-of-a-string/47444424#47444424", "title": "Finding pairs of symbols in the end of a string", "body": "<p>Your logic is far too complex.  The problem involves <em>only</em> the final two characters; there's no need to loop through the string.</p>\n\n<ol>\n<li>Check the string length; if it's 0, return -1.  If it's 1, return 0.</li>\n<li>Check the last two characters against each other <code>s[-1] == s[-2]</code>.  If they're equal, return len(s)-2; else return len(s)-1.</li>\n</ol>\n\n<p>I trust you can turn that into code.</p>\n"}], "owner": {"reputation": 301, "user_id": 8709567, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0c713c0b6c66d2ca049ece1f1cfd866e?s=128&d=identicon&r=PG&f=1", "display_name": "AlTs", "link": "https://stackoverflow.com/users/8709567/alts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1511391826, "accepted_answer_id": 47444424, "answer_count": 1, "score": 0, "last_activity_date": 1511388704, "creation_date": 1511387212, "last_edit_date": 1511388704, "question_id": 47444353, "link": "https://stackoverflow.com/questions/47444353/finding-pairs-of-symbols-in-the-end-of-a-string", "closed_reason": "Not suitable for this site", "title": "Finding pairs of symbols in the end of a string", "body": "<p>I have to write a program that returns ...</p>\n\n<ul>\n<li>-1 for an empty string</li>\n<li>0 for a single-character string</li>\n<li>next-to-last index if the final two characters match</li>\n<li>last index if they are different</li>\n</ul>\n\n<p>For instance:</p>\n\n<pre><code>    \"tara\" =&gt; 3\n    \"baa\" =&gt; 1\n    \"adjsk\" =&gt; 4\n    \"sthkk\"=&gt; 3\n    \"a\" =&gt; 0\n</code></pre>\n\n<p>It seems that I'm returning index of last character wrongly:</p>\n\n<pre><code>def ends_with_pair(s):\n    for i in range(len(s)-1):\n        if s[i] == s[i+1]:\n            return s.index(s[i])\n        return s.index(s[-1])\n</code></pre>\n\n<p>Also, is there a way to make it more compact?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1511387239, "post_id": 47444332, "comment_id": 81843946, "body": "Can you share the data?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1511388334, "post_id": 47444332, "comment_id": 81844417, "body": "I woudl guess it is the same issue as <a href=\"https://stackoverflow.com/questions/47404653/pandas-0-21-0-timestamp-compatibility-issue-with-matplotlib\">this one</a>."}, {"owner": {"reputation": 23, "user_id": 8993413, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nOq5q9eRtj8/AAAAAAAAAAI/AAAAAAAAAi4/Z8eO9bjDNCI/photo.jpg?sz=128", "display_name": "derrik bosse", "link": "https://stackoverflow.com/users/8993413/derrik-bosse"}, "edited": false, "score": 0, "creation_date": 1511394740, "post_id": 47444332, "comment_id": 81846492, "body": "The dataset is here:  <a href=\"https://github.com/QCaudron/pydata_pandas/tree/master/data\" rel=\"nofollow noreferrer\">github.com/QCaudron/pydata_pandas/tree/master/data</a> coffees.csv. I had to delete null values and change the datatypes of the timestamp and number of coffees to datetime and integer, respectively. I can view it in a plot using pylab  But i want to add the timestamp element as my x value."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8507616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/111522b34f2ebd1cf20890fc32446aaf?s=128&d=identicon&r=PG", "display_name": "TechSolX", "link": "https://stackoverflow.com/users/8507616/techsolx"}, "is_accepted": false, "score": 1, "last_activity_date": 1512170972, "last_edit_date": 1512170972, "creation_date": 1512169739, "answer_id": 47602766, "question_id": 47444332, "link": "https://stackoverflow.com/questions/47444332/python-error-on-data-plotx-data-timestamp-style/47602766#47602766", "title": "Python error on data.plot(x=data.timestamp, style=&quot;.-&quot;)", "body": "<p>I had a similar issue and I believe it is a version issue with pandas and the Jupyter Notebook that are different from what Quentin is using in his examples here: <a href=\"https://github.com/QCaudron/pydata_pandas\" rel=\"nofollow noreferrer\">https://github.com/QCaudron/pydata_pandas</a> and what you, and I, are using.</p>\n\n<p>Try this:</p>\n\n<pre><code>data.plot('timestamp', style='.-')\n</code></pre>\n\n<p>or</p>\n\n<pre><code>data.plot(x='timestamp', style='.-')\n</code></pre>\n\n<p>Per the pandas docs <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.plot.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.plot.html</a> either a label or position should work.</p>\n\n<p>DataFrame <br/>\nx : label or position, default None <br/>\ny : label or position, default None <br/>\nAllows plotting of one column versus another<br/></p>\n"}], "owner": {"reputation": 23, "user_id": 8993413, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nOq5q9eRtj8/AAAAAAAAAAI/AAAAAAAAAi4/Z8eO9bjDNCI/photo.jpg?sz=128", "display_name": "derrik bosse", "link": "https://stackoverflow.com/users/8993413/derrik-bosse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1516, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1512170972, "creation_date": 1511387133, "question_id": 47444332, "link": "https://stackoverflow.com/questions/47444332/python-error-on-data-plotx-data-timestamp-style", "title": "Python error on data.plot(x=data.timestamp, style=&quot;.-&quot;)", "body": "<p>In Python I am trying to use the following command to get timestamp info on my plot. I've imported the proper packages pandas and pylab. The data is all cleaned as well.</p>\n\n<p>data.plot(x=data.timestamp, style=\".-\")</p>\n\n<p>I keep getting a massive error with lots of different things. I am following along to <a href=\"https://www.youtube.com/watch?v=5XGycFIe8qE\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=5XGycFIe8qE</a> and it comes at 38 minutes. Here is the error I get: It's massive </p>\n\n<p>Traceback (most recent call last):   File \"\", line 1, in      data.plot(x=data.timestamp, style=\".-\")   File \"C:\\Python3\\lib\\site-packages\\pandas\\plotting_core.py\", line 2673, in <strong>call</strong>     sort_columns=sort_columns, **kwds)   File \"C:\\Python3\\lib\\site-packages\\pandas\\plotting_core.py\", line 1900, in plot_frame     **kwds)   File \"C:\\Python3\\lib\\site-packages\\pandas\\plotting_core.py\", line 1727, in _plot     plot_obj.generate()   File \"C:\\Python3\\lib\\site-packages\\pandas\\plotting_core.py\", line 260, in generate     self._post_plot_logic_common(ax, self.data)   File \"C:\\Python3\\lib\\site-packages\\pandas\\plotting_core.py\", line 395, in _post_plot_logic_common     self._apply_axis_properties(ax.yaxis, fontsize=self.fontsize)   File \"C:\\Python3\\lib\\site-packages\\pandas\\plotting_core.py\", line 468, in _apply_axis_properties     labels = axis.get_majorticklabels() + axis.get_minorticklabels()   File \"C:\\Python3\\lib\\site-packages\\matplotlib\\axis.py\", line 1188, in get_majorticklabels     ticks = self.get_major_ticks()   File \"C:\\Python3\\lib\\site-packages\\matplotlib\\axis.py\", line 1339, in get_major_ticks     numticks = len(self.get_major_locator()())   File \"C:\\Python3\\lib\\site-packages\\matplotlib\\dates.py\", line 1054, in <strong>call</strong>     self.refresh()   File \"C:\\Python3\\lib\\site-packages\\matplotlib\\dates.py\", line 1074, in refresh     dmin, dmax = self.viewlim_to_dt()   File \"C:\\Python3\\lib\\site-packages\\matplotlib\\dates.py\", line 832, in viewlim_to_dt     return num2date(vmin, self.tz), num2date(vmax, self.tz)   File \"C:\\Python3\\lib\\site-packages\\matplotlib\\dates.py\", line 441, in num2date     return _from_ordinalf(x, tz)   File \"C:\\Python3\\lib\\site-packages\\matplotlib\\dates.py\", line 256, in _from_ordinalf     dt = datetime.datetime.fromordinal(ix).replace(tzinfo=UTC) ValueError: ordinal must be >= 1</p>\n"}, {"tags": ["python", "smartsheet-api"], "comments": [{"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1511387676, "post_id": 47444323, "comment_id": 81844136, "body": "it would be more readable if you post a screenshot of the error instead of copying pasting it"}], "answers": [{"tags": [], "owner": {"reputation": 1636, "user_id": 5424833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f2198b92f31ea537e71189423aee16b3?s=128&d=identicon&r=PG&f=1", "display_name": "Software2", "link": "https://stackoverflow.com/users/5424833/software2"}, "is_accepted": false, "score": 0, "last_activity_date": 1511387984, "creation_date": 1511387984, "answer_id": 47444530, "question_id": 47444323, "link": "https://stackoverflow.com/questions/47444323/cannot-install-smartsheet-python-sdk/47444530#47444530", "title": "Cannot install smartsheet-python-sdk", "body": "<p>The error in your log is at the bottom:  </p>\n\n<blockquote>\n  <p>OSError: [Errno 1] Operation not permitted:</p>\n</blockquote>\n\n<p>This may be a problem with your python installation (New security issues on Sierra) <a href=\"https://stackoverflow.com/questions/31900008/oserror-errno-1-operation-not-permitted-when-installing-scrapy-in-osx-10-11\">This thread</a> suggests reinstalling python as one possible solution.</p>\n\n<pre><code>brew install python\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8993282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0acff4032b30a97b9aa7108da4ccf62?s=128&d=identicon&r=PG&f=1", "display_name": "EMScoder", "link": "https://stackoverflow.com/users/8993282/emscoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511387984, "creation_date": 1511387105, "question_id": 47444323, "link": "https://stackoverflow.com/questions/47444323/cannot-install-smartsheet-python-sdk", "title": "Cannot install smartsheet-python-sdk", "body": "<p>I want to use the SmartSheet API.  I am trying to install the SmartSheet module for Python from the following page:</p>\n\n<p><a href=\"https://pypi.python.org/pypi/smartsheet-python-sdk\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/smartsheet-python-sdk</a></p>\n\n<p>I have tried using the command <strong>sudo pip install\n   smartsheet-python-sdk</strong> on Terminal.   </p>\n\n<p>I have tried using <strong>pip\n   install smartsheet-python-sdk</strong>.  </p>\n\n<p>I'm not sure which is correct but I get the following error when I try to install it.  </p>\n\n<p>I tried manually installing this but wasn't sure how to do it after downloading it from GitHub.  </p>\n\n<p>I have both Python 2.7 and Python 3.6.3 installed on my Mac.  </p>\n\n<ol>\n<li>Is this a Python version issue?  If so, how do I uninstall Python 3?  I installed it with Homebrew.</li>\n<li>Is this a problem with six?  I saw documentation about problems with six and tried to install it using pip with an \"ignore six\" at the end of the pip line.  </li>\n<li>Can I still use SmartSheet without the SmartSheet module for Python?</li>\n<li>How do you install a module downloaded from GitHub?  Which directory should it go in so it can be found by Terminal?  </li>\n</ol>\n\n<p>Requirement already satisfied: smartsheet-python-sdk in /Library/Python/2.7/site-packages\nRequirement already satisfied: requests in /Library/Python/2.7/site-packages/requests-2.11.1-py2.7.egg (from smartsheet-python-sdk)\nCollecting six>=1.9 (from smartsheet-python-sdk)\n  Using cached six-1.11.0-py2.py3-none-any.whl\nRequirement already satisfied: certifi in /Library/Python/2.7/site-packages (from smartsheet-python-sdk)\nRequirement already satisfied: python-dateutil in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from smartsheet-python-sdk)\nRequirement already satisfied: requests-toolbelt in /Library/Python/2.7/site-packages (from smartsheet-python-sdk)\nInstalling collected packages: six\n  Found existing installation: six 1.4.1\n    DEPRECATION: Uninstalling a distutils installed project (six) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project.\n    Uninstalling six-1.4.1:\nException:\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/Library/Python/2.7/site-packages/pip/commands/install.py\", line 342, in run\n    prefix=options.prefix_path,\n  File \"/Library/Python/2.7/site-packages/pip/req/req_set.py\", line 778, in install\n    requirement.uninstall(auto_confirm=True)\n  File \"/Library/Python/2.7/site-packages/pip/req/req_install.py\", line 754, in uninstall\n    paths_to_remove.remove(auto_confirm)\n  File \"/Library/Python/2.7/site-packages/pip/req/req_uninstall.py\", line 115, in remove\n    renames(path, new_path)\n  File \"/Library/Python/2.7/site-packages/pip/utils/<strong>init</strong>.py\", line 267, in renames\n    shutil.move(old, new)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 302, in move\n    copy2(src, real_dst)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 131, in copy2\n    copystat(src, dst)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 103, in copystat\n    os.chflags(dst, st.st_flags)\nOSError: [Errno 1] Operation not permitted: '/tmp/pip-VF5C02-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/six-1.4.1-py2.7.egg-info'</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 2338, "user_id": 3080953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe6bc2a51d294b0d1d65fa203e496c7a?s=128&d=identicon&r=PG&f=1", "display_name": "c2huc2hu", "link": "https://stackoverflow.com/users/3080953/c2huc2hu"}, "edited": false, "score": 0, "creation_date": 1511387263, "post_id": 47444313, "comment_id": 81843955, "body": "You need to do more than check if the letters are the same, you also need to check that the counts are the same"}, {"owner": {"reputation": 375, "user_id": 3335163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c16ceedcdd8d1a01eee6b5b3de944?s=128&d=identicon&r=PG&f=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/3335163/grisha"}, "edited": false, "score": 0, "creation_date": 1511387277, "post_id": 47444313, "comment_id": 81843963, "body": "you return immediately after the comparison of the first characters"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7811169"}, "edited": false, "score": 0, "creation_date": 1511387339, "post_id": 47444313, "comment_id": 81843993, "body": "Your function returns on the first Char. It doesn&#39;t check the whole string."}], "answers": [{"tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": false, "score": 0, "last_activity_date": 1511387263, "creation_date": 1511387263, "answer_id": 47444365, "question_id": 47444313, "link": "https://stackoverflow.com/questions/47444313/anagram-function-says-ellhe-and-hello-are-anagrams/47444365#47444365", "title": "Anagram function says &quot;ellhe&quot; and &quot;hello&quot; are anagrams", "body": "<p>You're returning after only checking one letter, but your method is flawed anyway. Implemented correctly it will return true if the words contain the same letters, but will disregard how often they occur.</p>\n"}, {"tags": [], "owner": {"reputation": 3104, "user_id": 2558739, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ygAg7.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2558739/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1511387321, "creation_date": 1511387321, "answer_id": 47444381, "question_id": 47444313, "link": "https://stackoverflow.com/questions/47444313/anagram-function-says-ellhe-and-hello-are-anagrams/47444381#47444381", "title": "Anagram function says &quot;ellhe&quot; and &quot;hello&quot; are anagrams", "body": "<p>Here are a few things:\n1) You're returning as soon as one character matches, not when the entire word matches\n2) I believe you need to add some logic to handle situations where the same letter appears multiple times. Otherwise, helo and hello will show as anagrams of each other.</p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1511387960, "creation_date": 1511387960, "answer_id": 47444523, "question_id": 47444313, "link": "https://stackoverflow.com/questions/47444313/anagram-function-says-ellhe-and-hello-are-anagrams/47444523#47444523", "title": "Anagram function says &quot;ellhe&quot; and &quot;hello&quot; are anagrams", "body": "<p>This is a one-liner: sort both strings and compare the sorted lists of characters:</p>\n\n<pre><code>if sorted(word1.lower()) ==\n   sorted(word2.lower()):\n</code></pre>\n\n<p>I trust you can do the rest of the routine, as you've already handled that logic.</p>\n"}], "owner": {"reputation": 13, "user_id": 4905386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa3a841c9d5faa7cdf21cd440a79e79?s=128&d=identicon&r=PG&f=1", "display_name": "TheProKi", "link": "https://stackoverflow.com/users/4905386/theproki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1511388424, "creation_date": 1511387075, "last_edit_date": 1511388424, "question_id": 47444313, "link": "https://stackoverflow.com/questions/47444313/anagram-function-says-ellhe-and-hello-are-anagrams", "title": "Anagram function says &quot;ellhe&quot; and &quot;hello&quot; are anagrams", "body": "<p>I am trying to check whether two given strings are anagrams.</p>\n\n<pre><code>def Anagram(Word1, Word2):\n    if len(Word1.lower()) == len(Word2.lower()):\n        for Char in Word1.lower():\n            if Char in Word2.lower():\n                return (Word2,\"Is An Anagram Of\", Word1)\n            else:\n                return (Word2, \"Is Not A Anagram\", Word1)\n    else:\n        return (Word2, \"Is Not A Anagram\", Word1)\n\nprint(Anagram(\"Hello\", \"ellhe\"))\n</code></pre>\n\n<p>The problem is that this prints that it is an anagram when it is not.  FOr instance, it says that \"ellhe\" and \"hello\" are anagrams, but they differ by one letter ('o' vs a second 'e'). What am I doing wrong?</p>\n"}, {"tags": ["python", "windows", "image-processing", "bioinformatics", "nipype"], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 616300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a921a67d35ac19eb20e4edb651da3c7e?s=128&d=identicon&r=PG", "display_name": "Chris Gorgolewski", "link": "https://stackoverflow.com/users/616300/chris-gorgolewski"}, "is_accepted": true, "score": 0, "last_activity_date": 1511400692, "creation_date": 1511400692, "answer_id": 47446288, "question_id": 47444272, "link": "https://stackoverflow.com/questions/47444272/command-bet-could-not-be-found-on-host-error-while-using-bet-in-fsl-on-windo/47446288#47446288", "title": "&quot;command &#39;bet&#39; could not be found on host&quot; error while using BET in FSL on Windows 10 via Python 3.5", "body": "<p>You can only use FSL on Windows via <a href=\"https://github.com/kaczmarj/neurodocker\" rel=\"nofollow noreferrer\">Docker</a>, <a href=\"https://github.com/poldrack/fmri-analysis-vm\" rel=\"nofollow noreferrer\">Virtual Machine</a>, or <a href=\"https://msdn.microsoft.com/en-us/commandline/wsl/about\" rel=\"nofollow noreferrer\">Windows Subsystem for Linux</a>. Running it naively is not possible.</p>\n"}], "owner": {"reputation": 33, "user_id": 8928336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17851e44dbf4568435fadc1e5c583523?s=128&d=identicon&r=PG&f=1", "display_name": "effebi", "link": "https://stackoverflow.com/users/8928336/effebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 47446288, "answer_count": 1, "score": 0, "last_activity_date": 1511400692, "creation_date": 1511386847, "last_edit_date": 1511388202, "question_id": 47444272, "link": "https://stackoverflow.com/questions/47444272/command-bet-could-not-be-found-on-host-error-while-using-bet-in-fsl-on-windo", "title": "&quot;command &#39;bet&#39; could not be found on host&quot; error while using BET in FSL on Windows 10 via Python 3.5", "body": "<p>I need to perform brain extraction on .nii images.\nI am using Anaconda on Windows 10 and have an environment based on Python 3.5.4.\nOn Nipype I found the BET from FSL and I followed the code:</p>\n\n<pre><code>mybet = fsl.BET()\nmybet.inputs.in_file = 'example.nii'\nmybet.inputs.out_file = 'example_bet.nii' \nresult = mybet.run()\n</code></pre>\n\n<p>Please note that I expect the output file <code>example_bet.nii</code> to be created by fsl.BET, not to be an image to be overwritten.\nI can only find solutions based on Unix systems and it seems one needs to have FSL installed on a Unix-based OS, which is not possible without a Virtual Machine in Windows.\nWell, this is the output I get:</p>\n\n<pre><code>171122-12:02:48,988 interface WARNING:\n     FSLOUTPUTTYPE environment variable is not set. Setting FSLOUTPUTTYPE=NIFTI\n\n---------------------------------------------------------------------------\nOSError                                   Traceback (most recent call last)\n&lt;ipython-input-12-5b900fbd5263&gt; in &lt;module&gt;()\n      2 mybet.inputs.in_file = 'prova.nii'\n      3 mybet.inputs.out_file = 'prova_bet.nii'\n----&gt; 4 result = mybet.run()\n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\nipype\\interfaces\\base.py in run(self, **inputs)\n   1079                         version=self.version)\n   1080         try:\n-&gt; 1081             runtime = self._run_wrapper(runtime)\n   1082             outputs = self.aggregate_outputs(runtime)\n   1083             runtime.endTime = dt.isoformat(dt.utcnow())\n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\nipype\\interfaces\\base.py in _run_wrapper(self, runtime)\n   1722 \n   1723     def _run_wrapper(self, runtime):\n-&gt; 1724         runtime = self._run_interface(runtime)\n   1725         return runtime\n   1726 \n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\nipype\\interfaces\\fsl\\preprocess.py in _run_interface(self, runtime)\n    142         # in stderr and if it's set, then update the returncode\n    143         # accordingly.\n--&gt; 144         runtime = super(BET, self)._run_interface(runtime)\n    145         if runtime.stderr:\n    146             self.raise_exception(runtime)\n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\nipype\\interfaces\\base.py in _run_interface(self, runtime, correct_return_codes)\n   1748         if not exist_val:\n   1749             raise IOError(\"command '%s' could not be found on host %s\" %\n-&gt; 1750                           (self.cmd.split()[0], runtime.hostname))\n   1751         setattr(runtime, 'command_path', cmd_path)\n   1752         setattr(runtime, 'dependencies', get_dependencies(executable_name,\n\nOSError: command 'bet' could not be found on host DESKTOP-MYPC\nInterface BET failed to run. \n</code></pre>\n\n<p>Do I need to switch to Linux or is there a way around it?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "beautifulsoup", "iteration"], "comments": [{"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1511387303, "post_id": 47444269, "comment_id": 81843974, "body": "stack trace pls to find while line is causing it. have you tried using extend instead of append?"}], "answers": [{"tags": [], "owner": {"reputation": 2531, "user_id": 996205, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b96fb72e053d2b561e56be76286f549?s=128&d=identicon&r=PG", "display_name": "Thom Ives", "link": "https://stackoverflow.com/users/996205/thom-ives"}, "is_accepted": false, "score": 1, "last_activity_date": 1511396279, "last_edit_date": 1511396279, "creation_date": 1511395855, "answer_id": 47445705, "question_id": 47444269, "link": "https://stackoverflow.com/questions/47444269/append-multiple-reshaped-lists-into-pandas-dataframe/47445705#47445705", "title": "Append multiple reshaped lists into pandas DataFrame", "body": "<p>The simple answer to your question would be <a href=\"https://stackoverflow.com/questions/19112398/getting-list-of-lists-into-pandas-dataframe\">HERE</a>.</p>\n\n<p>The tough part was taking your code and finding what was not right yet.</p>\n\n<p>Using your full code, I modified it as shown below. Please copy and diff with yours. </p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport pandas\nimport numpy as np\n\nhosplist = [\"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Norfolk%20and%20Norwich%20Hospital\",\n            \"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Barnet%20Hospital\",\n            \"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Altnagelvin%20Area%20Hospital\"]\ntemp2 = []\ndf_final = pandas.DataFrame()\nfor item in hosplist:\n    r=requests.get(item)\n    c=r.content\n    soup=BeautifulSoup(c,\"html.parser\")\n\n    all=soup.find_all([\"div\"],{\"class\":\"toggle_container\"})[1]\n    i=0\n    temp = []\n    for item in all.find_all(\"td\"):\n        if i%4 ==0:\n            temp.append(soup.find_all(\"span\")[4].text)\n            temp.append(soup.find_all(\"h5\")[0].text)\n        temp.append(all.find_all(\"td\")[i].text)\n        i=i+1\n    table = np.array(temp).reshape((int(len(temp)/6)),6)\n    for array in table:\n        newArray = []\n        for x in array:\n            try:\n                x = x.encode(\"ascii\")\n            except:\n                x = 'cannot convert'\n            newArray.append(x)\n        temp2.append(newArray)\n\ndf_final = pandas.DataFrame(temp2, columns=['h1', 'h2', 'h3', 'h4', 'h5', 'h6'])\nprint df_final\n</code></pre>\n\n<p>I tried to use a list comprehension for the ascii conversion, which was absolutely necessary for the strings to show up in the dataframe, but the comprehension was throwing an error, so I built in an exception, and the exception never shows. </p>\n"}, {"comments": [{"owner": {"reputation": 2531, "user_id": 996205, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b96fb72e053d2b561e56be76286f549?s=128&d=identicon&r=PG", "display_name": "Thom Ives", "link": "https://stackoverflow.com/users/996205/thom-ives"}, "edited": false, "score": 1, "creation_date": 1511407246, "post_id": 47446126, "comment_id": 81849286, "body": "Nice! Much cleaner now."}], "tags": [], "owner": {"reputation": 1697, "user_id": 6205382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1401137328537c52badfaa9e297c4146?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Bobak", "link": "https://stackoverflow.com/users/6205382/martin-bobak"}, "is_accepted": true, "score": 1, "last_activity_date": 1511412972, "last_edit_date": 1511412972, "creation_date": 1511399155, "answer_id": 47446126, "question_id": 47444269, "link": "https://stackoverflow.com/questions/47444269/append-multiple-reshaped-lists-into-pandas-dataframe/47446126#47446126", "title": "Append multiple reshaped lists into pandas DataFrame", "body": "<p>I reorganized the code a little and was able to create the dataframe without having to encode.</p>\n\n<p>Solution:</p>\n\n<pre><code>hosplist = [\"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Norfolk%20and%20Norwich%20Hospital\",\n            \"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Barnet%20Hospital\",\n            \"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Altnagelvin%20Area%20Hospital\"]\ntemp = []\ntemp2 = []\ndf_final = pandas.DataFrame()\nfor item in hosplist:\n    r=requests.get(item)\n    c=r.content\n    soup=BeautifulSoup(c,\"html.parser\")\n\n    all=soup.find_all([\"div\"],{\"class\":\"toggle_container\"})[1]\n    i=0\n\n    for item in all.find_all(\"td\"):\n        if i%4 ==0:\n            temp.append(soup.find_all(\"span\")[4].text)\n            temp.append(soup.find_all(\"h5\")[0].text)\n        temp.append(all.find_all(\"td\")[i].text.replace(\"-\",\"NaN\").replace(\"+\",\"\"))\n        i=i+1\ntemp2.append(temp)\ntable = np.array(temp2).reshape((int(len(temp2[0])/6)),6)\ndf_final = pandas.DataFrame(table, columns=['h1', 'h2', 'h3', 'h4', 'h5', 'h6'])\ndf_final\n</code></pre>\n"}], "owner": {"reputation": 1697, "user_id": 6205382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1401137328537c52badfaa9e297c4146?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Bobak", "link": "https://stackoverflow.com/users/6205382/martin-bobak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 47446126, "answer_count": 2, "score": 1, "last_activity_date": 1511412972, "creation_date": 1511386828, "question_id": 47444269, "link": "https://stackoverflow.com/questions/47444269/append-multiple-reshaped-lists-into-pandas-dataframe", "title": "Append multiple reshaped lists into pandas DataFrame", "body": "<p>I am scrapping England's Joint Data and have the results in the correct format I want when I do one hospital at a time. I eventually want to iterate over all hospitals but first decided to make an array of three different hospitals and figure out the iteration. </p>\n\n<p>The code below gives me the correct format of the final results in a pandas DataFrame when I have just one hospital:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport pandas\nimport numpy as np\nr=requests.get(\"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?\nhospitalName=Norfolk%20and%20Norwich%20Hospital\")\nc=r.content\nsoup=BeautifulSoup(c,\"html.parser\")\n\nall=soup.find_all([\"div\"],{\"class\":\"toggle_container\"})[1]\n\ni=0\ntemp = []\nfor item in all.find_all(\"td\"):\n    if i%4 ==0:\n        temp.append(soup.find_all(\"span\")[4].text)\n        temp.append(soup.find_all(\"h5\")[0].text)\n    temp.append(all.find_all(\"td\")[i].text.replace(\"   \",\"\"))\n    i=i+1\ntable = np.array(temp).reshape(12,6)\nfinal = pandas.DataFrame(table)\nfinal\n</code></pre>\n\n<p>In my iterated version, I cannot figure out a way to append each result set into a final DataFrame:</p>\n\n<pre><code>hosplist = [\"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Norfolk%20and%20Norwich%20Hospital\",\n            \"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Barnet%20Hospital\",\n            \"http://www.njrsurgeonhospitalprofile.org.uk/HospitalProfile?hospitalName=Altnagelvin%20Area%20Hospital\"]\ntemp2 = []\ndf_final = pandas.DataFrame()\nfor item in hosplist:\n    r=requests.get(item)\n    c=r.content\n    soup=BeautifulSoup(c,\"html.parser\")\n\n    all=soup.find_all([\"div\"],{\"class\":\"toggle_container\"})[1]\n    i=0\n    temp = []\n    for item in all.find_all(\"td\"):\n        if i%4 ==0:\n            temp.append(soup.find_all(\"span\")[4].text)\n            temp.append(soup.find_all(\"h5\")[0].text)\n        temp.append(all.find_all(\"td\")[i].text)\n        i=i+1\n    table = np.array(temp).reshape((int(len(temp)/6)),6)\n    temp2.append(table)\n    #df_final = pandas.DataFrame(df)\n</code></pre>\n\n<p>At the end, the 'table' has all the data I want but its not easy to manipulate so I want to put it in a DataFrame. However, I am getting an \"ValueError: Must pass 2-d input\" error. </p>\n\n<p>I think this error is saying that I have 3 arrays which would make it 3 dimensional. This is just a practice iteration, there are over 400 hospitals whose data I plan to put into a dataframe but I am stuck here now. </p>\n"}, {"tags": ["python", "django", "python-3.x"], "comments": [{"owner": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "edited": false, "score": 0, "creation_date": 1511386545, "post_id": 47444179, "comment_id": 81843663, "body": "What is the error are you&#39;re getting?"}, {"owner": {"reputation": 10212, "user_id": 537098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c794978de2f7a314b349f68bf0aad91?s=128&d=identicon&r=PG", "display_name": "jmetz", "link": "https://stackoverflow.com/users/537098/jmetz"}, "edited": false, "score": 0, "creation_date": 1511386577, "post_id": 47444179, "comment_id": 81843677, "body": "Your last function needs to be indented, presumably..."}, {"owner": {"reputation": 10212, "user_id": 537098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c794978de2f7a314b349f68bf0aad91?s=128&d=identicon&r=PG", "display_name": "jmetz", "link": "https://stackoverflow.com/users/537098/jmetz"}, "edited": false, "score": 4, "creation_date": 1511386669, "post_id": 47444179, "comment_id": 81843708, "body": "Also in your last function, you need <code>len(self.text)</code>, not <code>text.len()</code>."}, {"owner": {"reputation": 139, "user_id": 6209497, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fGnsi.png?s=128&g=1", "display_name": "CholoBoy", "link": "https://stackoverflow.com/users/6209497/choloboy"}, "edited": false, "score": 0, "creation_date": 1511386701, "post_id": 47444179, "comment_id": 81843722, "body": "currently gettings self\t Error in formatting: NameError: name &#39;text&#39; is not defined"}, {"owner": {"reputation": 10212, "user_id": 537098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c794978de2f7a314b349f68bf0aad91?s=128&d=identicon&r=PG", "display_name": "jmetz", "link": "https://stackoverflow.com/users/537098/jmetz"}, "edited": false, "score": 1, "creation_date": 1511386721, "post_id": 47444179, "comment_id": 81843732, "body": "See my second comment above..."}, {"owner": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1511386887, "post_id": 47444179, "comment_id": 81843805, "body": "<code>if text.len() &gt;= 50:</code> -&gt; <code>if self.text.len() &gt;= 50:</code>"}, {"owner": {"reputation": 10212, "user_id": 537098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c794978de2f7a314b349f68bf0aad91?s=128&d=identicon&r=PG", "display_name": "jmetz", "link": "https://stackoverflow.com/users/537098/jmetz"}, "reply_to_user": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1511387092, "post_id": 47444179, "comment_id": 81843894, "body": "@allcaps: Does a Django TextField have a len  member function? (genuine question)"}, {"owner": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1511420484, "post_id": 47444179, "comment_id": 81853668, "body": "In Python len() returns the length (the number of items) of an object. The argument may be a sequence (such as a string, bytes, tuple, list, or range) or a collection (such as a dictionary, set, or frozen set). <a href=\"https://docs.python.org/3/library/functions.html#len\" rel=\"nofollow noreferrer\">docs.python.org/3/library/functions.html#len</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1511387180, "post_id": 47444276, "comment_id": 81843923, "body": "Code only answers are not ideal. Please review <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and tell us <i>why it didn&#39;t work</i> and <i>how this fixes it</i>."}], "tags": [], "owner": {"reputation": 139, "user_id": 6209497, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fGnsi.png?s=128&g=1", "display_name": "CholoBoy", "link": "https://stackoverflow.com/users/6209497/choloboy"}, "is_accepted": true, "score": 0, "last_activity_date": 1511386872, "creation_date": 1511386872, "answer_id": 47444276, "question_id": 47444179, "link": "https://stackoverflow.com/questions/47444179/how-to-make-an-if-else-statement-for-character-length/47444276#47444276", "title": "how to make an if else statement for character length", "body": "<pre><code>from django.db import models\n\n# Create your models here.\n\nclass Topic(models.Model):\n    \"\"\"A topic the user is learning about\"\"\"\n    text = models.CharField(max_length=200)\n    date_added = models.DateTimeField(auto_now_add=True)\n    def __str__(self):\n        \"\"\"Return a string representation of the model\"\"\"\n        return self.text\n\nclass Entry(models.Model):\n    \"\"\"Something specific learned about a topic\"\"\"\n    topic = models.ForeignKey(Topic)\n    text = models.TextField()\n    date_added = models.DateTimeField(auto_now_add=True)\n\n    class Meta:\n        verbose_name_plural = 'entries'\n\n    def __str__(self):\n        if len(self.text) &gt;= 50:\n            \"\"\"Return a string represerntation of the model\"\"\"\n            return self.text[:50] + \"...\"\n        else:\n            return self.text\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8993182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYnXl.png?s=128&g=1", "display_name": "c0nd3m0r", "link": "https://stackoverflow.com/users/8993182/c0nd3m0r"}, "is_accepted": false, "score": 1, "last_activity_date": 1511392197, "creation_date": 1511392197, "answer_id": 47445228, "question_id": 47444179, "link": "https://stackoverflow.com/questions/47444179/how-to-make-an-if-else-statement-for-character-length/47445228#47445228", "title": "how to make an if else statement for character length", "body": "<p>Use:</p>\n\n<pre><code>if len(self.text) &gt;= 50:\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>if text.len() &gt;= 50:\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 6209497, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fGnsi.png?s=128&g=1", "display_name": "CholoBoy", "link": "https://stackoverflow.com/users/6209497/choloboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 47444276, "answer_count": 2, "score": -1, "last_activity_date": 1511392197, "creation_date": 1511386383, "last_edit_date": 1511386638, "question_id": 47444179, "link": "https://stackoverflow.com/questions/47444179/how-to-make-an-if-else-statement-for-character-length", "title": "how to make an if else statement for character length", "body": "<p>I'm trying to write a piece of code that will see if the text entry has 50 or more characters and if it does then to just show the 50 plus ellipsis (...)  or else if it has less than 50 characters then to just show the whole entry without the ellipsis.</p>\n\n<p>My current code is:</p>\n\n<pre><code>from django.db import models\n\n# Create your models here.\n\nclass Topic(models.Model):\n    \"\"\"A topic the user is learning about\"\"\"\n    text = models.CharField(max_length=200)\n    date_added = models.DateTimeField(auto_now_add=True)\n    def __str__(self):\n        \"\"\"Return a string representation of the model\"\"\"\n        return self.text\n\nclass Entry(models.Model):\n    \"\"\"Something specific learned about a topic\"\"\"\n    topic = models.ForeignKey(Topic)\n    text = models.TextField()\n    date_added = models.DateTimeField(auto_now_add=True)\n\n    class Meta:\n        verbose_name_plural = 'entries'\n\n    def __str__(self):\n        if text.len() &gt;= 50:\n            \"\"\"Return a string represerntation of the model\"\"\"\n            return self.text[:50] + \"...\"\n        else:\n            return self.text\n</code></pre>\n\n<p>When I run this while using Python and Django I keep getting an error. How would i go about fixing this</p>\n"}, {"tags": ["python", "linux", "python-3.x", "python-os"], "answers": [{"comments": [{"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "edited": false, "score": 0, "creation_date": 1517339332, "post_id": 47444210, "comment_id": 84052721, "body": "Should it be <code>USER=root python myscript.py</code>?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "edited": false, "score": 1, "creation_date": 1517348654, "post_id": 47444210, "comment_id": 84057453, "body": "@Akavall: If the script has the execute bit set and has a shebang line (e.g. <code>#!&#47;usr&#47;bin&#47;env python</code>), you don&#39;t need to explicitly run <code>python</code>, the script shebang would handle it for you (you might need to provide a relative path if the directory containing <code>myscript.py</code> isn&#39;t in your <code>PATH</code>). I usually assume &quot;main&quot; Python scripts are set up with shebangs and the execute bit just for brevity, but sure, <code>USER=root python myscript.py</code> also works."}, {"owner": {"reputation": 1516, "user_id": 969196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f25ebb33442f38eda1107174f769da?s=128&d=identicon&r=PG", "display_name": "Thomas Guyot-Sionnest", "link": "https://stackoverflow.com/users/969196/thomas-guyot-sionnest"}, "edited": false, "score": 0, "creation_date": 1550305856, "post_id": 47444210, "comment_id": 96227122, "body": "@ShadowRanger: Your answer is valid, but you should still recommend using <code>getpass.getuser()</code> or <code>pwd.getpwuid(os.getuid())[0]</code>. Regarding your answer to Akavall, it is true on UNIX/Linux, not on Windows."}, {"owner": {"reputation": 1516, "user_id": 969196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f25ebb33442f38eda1107174f769da?s=128&d=identicon&r=PG", "display_name": "Thomas Guyot-Sionnest", "link": "https://stackoverflow.com/users/969196/thomas-guyot-sionnest"}, "edited": false, "score": 0, "creation_date": 1550306235, "post_id": 47444210, "comment_id": 96227193, "body": "A normal user can always use <code>LD_PRELOAD</code> to trick an application into seeing things differently, so the point about security is a bit moot. In the end, it&#39;s what the user can do that mater, not the way it is done."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 5, "last_activity_date": 1511386515, "creation_date": 1511386515, "answer_id": 47444210, "question_id": 47444178, "link": "https://stackoverflow.com/questions/47444178/difference-between-os-getlogin-and-os-environ-for-getting-username/47444210#47444210", "title": "Difference between os.getlogin() and os.environ for getting Username", "body": "<p><code>os.environ['USER']</code> can lie, with no security controls at all, <code>os.getlogin</code> doesn't have that problem.</p>\n\n<p>If you're using the ID check for security purposes of any kind, don't rely on the environment.</p>\n\n<p>Example, running as user <code>lowpriv</code>, checking the environment would tell you you're root when run like so in <code>bash</code>:</p>\n\n<pre><code>USER=root myscript.py\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 8970885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a038c6bb13e9c15b5313728b43241d31?s=128&d=identicon&r=PG&f=1", "display_name": "valerius21", "link": "https://stackoverflow.com/users/8970885/valerius21"}, "is_accepted": false, "score": 0, "last_activity_date": 1511386846, "creation_date": 1511386846, "answer_id": 47444271, "question_id": 47444178, "link": "https://stackoverflow.com/questions/47444178/difference-between-os-getlogin-and-os-environ-for-getting-username/47444271#47444271", "title": "Difference between os.getlogin() and os.environ for getting Username", "body": "<p>I guess in UNIX based systems it really just comes down to personal preference. I'd use <code>os.getlogin()</code> if I plan to write the code for other platforms such as windows. Moreover, enviroment variables and easier be manipulated. so it's more secure to use it in cases where security is a priority.</p>\n"}, {"comments": [{"owner": {"reputation": 1121, "user_id": 4818853, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8f2ce7111f8a67efb9e4c3fd9f91bb0f?s=128&d=identicon&r=PG&f=1", "display_name": "user_dev", "link": "https://stackoverflow.com/users/4818853/user-dev"}, "edited": false, "score": 0, "creation_date": 1546547999, "post_id": 48346349, "comment_id": 94895254, "body": "Thank you for the detailed answer!!"}], "tags": [], "owner": {"reputation": 2929, "user_id": 5031373, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8eb5ce3a29a47c2fde92470b1f1c714c?s=128&d=identicon&r=PG&f=1", "display_name": "jpyams", "link": "https://stackoverflow.com/users/5031373/jpyams"}, "is_accepted": false, "score": 13, "last_activity_date": 1520530892, "last_edit_date": 1592644375, "creation_date": 1516382370, "answer_id": 48346349, "question_id": 47444178, "link": "https://stackoverflow.com/questions/47444178/difference-between-os-getlogin-and-os-environ-for-getting-username/48346349#48346349", "title": "Difference between os.getlogin() and os.environ for getting Username", "body": "<h2>Update: use <a href=\"https://docs.python.org/3/library/getpass.html#getpass.getuser\" rel=\"noreferrer\"><code>getpass.getuser()</code></a></h2>\n<p><code>getpass.getuser()</code> conveniently searches through the various user environment variables to get the username.  This avoids the issues with <code>os.getlogin()</code> enumerated below.</p>\n<p>If you're worried about people modifying the environment variables, then use <code>pwd.getpwuid(os.getuid())[0]</code>.</p>\n<p>From the <a href=\"https://docs.python.org/3/library/getpass.html#getpass.getuser\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>This function checks the environment variables <code>LOGNAME</code>, <code>USER</code>, <code>LNAME</code> and <code>USERNAME</code>, in order, and returns the value of the first one which is set to a non-empty string. If none are set, the login name from the password database is returned on systems which support the pwd module, otherwise, an exception is raised.</p>\n<p>In general, this function should be preferred over <code>os.getlogin()</code>.</p>\n</blockquote>\n<p>From the <a href=\"https://docs.python.org/3/library/os.html#os.getlogin\" rel=\"noreferrer\">Python docs</a> for <code>os.getlogin()</code>:</p>\n<blockquote>\n<p>For most purposes, it is more useful to use <code>getpass.getuser()</code> since the latter checks the environment variables <code>LOGNAME</code> or <code>USERNAME</code> to find out who the user is, and falls back to <code>pwd.getpwuid(os.getuid())[0]</code> to get the login name of the current real user id.</p>\n</blockquote>\n<h2>Old Answer: Problems with <code>os.getlogin()</code></h2>\n<h3>TL;DR</h3>\n<p><code>os.getlogin()</code> can throw errors when run in certain situations.  Using the <code>LOGNAME</code>, <code>USER</code>, <code>USERNAME</code>, etc. environment variables (after checking that they exist) is the safer option.  If you're really worried about people changing the environment variables, then you can pull the username from the current process ID using <code>pwd.getpwuid(os.getuid())[0]</code>.</p>\n<h3>Longer explaination</h3>\n<p>One issue with <code>os.getlogin()</code> is that you can`t run it without a controlling terminal.  <a href=\"https://docs.python.org/3/library/os.html#os.getlogin\" rel=\"noreferrer\">From the docs</a>:</p>\n<blockquote>\n<p>os.getlogin()</p>\n<p>Return the name of the user logged in on the controlling terminal of the process. For most purposes, it is more useful to use the environment variables LOGNAME or USERNAME to find out who the user is, or pwd.getpwuid(os.getuid())[0] to get the login name of the current real user id.</p>\n</blockquote>\n<p>If you try to call <code>os.getlogin()</code> without a controlling terminal, you will get</p>\n<pre><code>OSError: [Errno 25] Inappropriate ioctl for device\n</code></pre>\n<p>So using the <code>LOGNAME</code>, <code>USER</code>, <code>USERNAME</code>, etc. environment variables is safer than <code>os.getlogin()</code>.  If you're really worried about people changing the environment variables, then you can use <code>pwd.getpwuid(os.getuid())[0]</code>.</p>\n"}], "owner": {"reputation": 2929, "user_id": 5031373, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8eb5ce3a29a47c2fde92470b1f1c714c?s=128&d=identicon&r=PG&f=1", "display_name": "jpyams", "link": "https://stackoverflow.com/users/5031373/jpyams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7226, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1520530892, "creation_date": 1511386376, "question_id": 47444178, "link": "https://stackoverflow.com/questions/47444178/difference-between-os-getlogin-and-os-environ-for-getting-username", "title": "Difference between os.getlogin() and os.environ for getting Username", "body": "<p>Is there a difference between using <code>os.getlogin()</code> and <code>os.environ</code> for getting the current user's username on Linux?</p>\n\n<p>At different times I've seen someone recommend looking at the environment variables <code>$USER</code> or <code>$LOGNAME</code>, and other times <code>os.getlogin()</code> was recommended.</p>\n\n<p>So I'm curious: is one preferred, or are there situations where you would use one over the other, or are they simply two ways of doing the same thing?</p>\n"}, {"tags": ["python", "email", "postfix"], "comments": [{"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511386130, "post_id": 47444055, "comment_id": 81843492, "body": "Once you&#39;re getting Postfix to pass you an email on stdin, the hard part is done. See the <a href=\"https://docs.python.org/3/library/email.parser.html\" rel=\"nofollow noreferrer\"><code>email.parser</code></a> documentation for the rest."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511387643, "post_id": 47444055, "comment_id": 81844123, "body": "It&#39;s not 100% finished, but I hope that following <a href=\"https://serverfault.com/a/258491/208727\">serverfault.com/a/258491/208727</a> it will eventually work :) Have you tried it before?"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511387804, "post_id": 47444055, "comment_id": 81844190, "body": "I have configured Postfix to pass emails to a python script, yes. I use it to allow texting in of information for applications. I didn&#39;t follow those instructions in particular, but the process was pretty much the same."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511387862, "post_id": 47444055, "comment_id": 81844219, "body": "@glibdud Did it also require <i>all</i> these steps? It seems quite complicated there, I would be happy with a workflow using less steps... If you have one please post an answer, would be great :)"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511387917, "post_id": 47444055, "comment_id": 81844242, "body": "Basically, yes. Postfix is a complicated beast."}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 778, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511385729, "creation_date": 1511385729, "question_id": 47444055, "link": "https://stackoverflow.com/questions/47444055/how-to-receive-emails-from-postfix-in-a-python-script", "title": "How to receive emails from postfix in a Python script?", "body": "<p><a href=\"https://serverfault.com/a/258491/208727\">This answer</a> gives details about how to route all incoming emails, i.e. emails arriving to my server's Postfix, to a Python script. But then it seems that the emails will be routed to <code>stdin</code>, unparsed.</p>\n\n<p>How to listen to emails in Python in this way (i.e. <code>postfix ---&gt; python</code>), and extract useful data, such as <code>from</code>, <code>to</code>, <code>subject</code>, etc.?</p>\n\n<p>Is there something like:</p>\n\n<pre><code>while True:\n    mail = waitForNewMailFromPostfix()\n    subject = mail.getSubject()\n    from = mail.getFrom()\n    body = mail.getBody()\n    # do something with it!\n</code></pre>\n"}, {"tags": ["python", "linux", "ubuntu", "ubuntu-16.04"], "comments": [{"owner": {"reputation": 840, "user_id": 2935678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nNbrTeoAYds/AAAAAAAAAAI/AAAAAAAAABE/PbdFMtSjfbA/photo.jpg?sz=128", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/2935678/ahmad"}, "edited": false, "score": 0, "creation_date": 1511385825, "post_id": 47444042, "comment_id": 81843359, "body": "i suggest viewing this page <a href=\"https://github.com/ContinuumIO/anaconda-issues/issues/286\" rel=\"nofollow noreferrer\">github.com/ContinuumIO/anaconda-issues/issues/286</a>"}, {"owner": {"reputation": 670, "user_id": 5155413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-soqlwzMnqNc/AAAAAAAAAAI/AAAAAAAAACk/wCe1zt-OyCE/photo.jpg?sz=128", "display_name": "Nick Duddy", "link": "https://stackoverflow.com/users/5155413/nick-duddy"}, "reply_to_user": {"reputation": 840, "user_id": 2935678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nNbrTeoAYds/AAAAAAAAAAI/AAAAAAAAABE/PbdFMtSjfbA/photo.jpg?sz=128", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/2935678/ahmad"}, "edited": false, "score": 1, "creation_date": 1511387079, "post_id": 47444042, "comment_id": 81843889, "body": "@Ahmad the link above circles back around to the article I posted above."}], "answers": [{"tags": [], "owner": {"reputation": 670, "user_id": 5155413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-soqlwzMnqNc/AAAAAAAAAAI/AAAAAAAAACk/wCe1zt-OyCE/photo.jpg?sz=128", "display_name": "Nick Duddy", "link": "https://stackoverflow.com/users/5155413/nick-duddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1511625547, "creation_date": 1511625547, "answer_id": 47487857, "question_id": 47444042, "link": "https://stackoverflow.com/questions/47444042/ubuntu-failed-to-import-the-site-module-error-message/47487857#47487857", "title": "Ubuntu &#39;Failed to import the site module&#39; error message", "body": "<p>I couldn't find a solution to this. I decided to upgrade to Ubuntu 17.x and the issues is now gone.</p>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 5155413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-soqlwzMnqNc/AAAAAAAAAAI/AAAAAAAAACk/wCe1zt-OyCE/photo.jpg?sz=128", "display_name": "Nick Duddy", "link": "https://stackoverflow.com/users/5155413/nick-duddy"}, "edited": false, "score": 1, "creation_date": 1525420515, "post_id": 48054297, "comment_id": 87357185, "body": "I&#39;ve started using Anaconda to manage my Python installations,hopefully I won&#39;t get this problem again."}], "tags": [], "owner": {"reputation": 10051, "user_id": 6031995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KAcWh.png?s=128&g=1", "display_name": "Kenan", "link": "https://stackoverflow.com/users/6031995/kenan"}, "is_accepted": false, "score": 0, "last_activity_date": 1514851979, "creation_date": 1514851979, "answer_id": 48054297, "question_id": 47444042, "link": "https://stackoverflow.com/questions/47444042/ubuntu-failed-to-import-the-site-module-error-message/48054297#48054297", "title": "Ubuntu &#39;Failed to import the site module&#39; error message", "body": "<p>I had a similar issue but on windows, so Im not sure if this will help. Turns out I has some environment variables that were causing the terminal to screw it. </p>\n\n<p>I downloaded <code>anaconda</code> but had <code>PYTHONHOME</code> and <code>PYTHONSCRIPTS</code> as environmental variables. I deleted those since anaconda creates it's own environmental variables for the terminal to use. Problem solved after that.</p>\n\n<p>Note: Be sure to restart after deleting</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 10560230, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mhcb2gQDC_A/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDnPgnDD46D9InDpXo7u0z3LSmdDQ/mo/photo.jpg?sz=128", "display_name": "Marko Panushkovski", "link": "https://stackoverflow.com/users/10560230/marko-panushkovski"}, "is_accepted": false, "score": 0, "last_activity_date": 1607459703, "creation_date": 1607459703, "answer_id": 65206495, "question_id": 47444042, "link": "https://stackoverflow.com/questions/47444042/ubuntu-failed-to-import-the-site-module-error-message/65206495#65206495", "title": "Ubuntu &#39;Failed to import the site module&#39; error message", "body": "<p>I also had similar issue on windows. I was installing python with PyCharm after I erased other version of python and the program looked for site-packages in the old location. I just installed the pip.exe file by double click from the Scripts folder of new python that I installed.</p>\n"}], "owner": {"reputation": 670, "user_id": 5155413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-soqlwzMnqNc/AAAAAAAAAAI/AAAAAAAAACk/wCe1zt-OyCE/photo.jpg?sz=128", "display_name": "Nick Duddy", "link": "https://stackoverflow.com/users/5155413/nick-duddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10050, "favorite_count": 0, "accepted_answer_id": 47487857, "answer_count": 3, "score": 1, "last_activity_date": 1607459703, "creation_date": 1511385632, "last_edit_date": 1511443573, "question_id": 47444042, "link": "https://stackoverflow.com/questions/47444042/ubuntu-failed-to-import-the-site-module-error-message", "title": "Ubuntu &#39;Failed to import the site module&#39; error message", "body": "<p>I get the following error message below. When I try to run a python file with the command <code>python3 training.py</code></p>\n\n<p>I found a potential solution <a href=\"https://stackoverflow.com/questions/21446220/linux-weird-python-output\">here</a> but when I went to make the suggested change it appeared that my machine had what was considered the correct setup.</p>\n\n<p>To clarify, I have did significant research and none of the following fixes work</p>\n\n<ul>\n<li><a href=\"https://github.com/ContinuumIO/anaconda-issues/issues/286\" rel=\"nofollow noreferrer\">GitHub 286</a></li>\n<li><a href=\"https://bugs.launchpad.net/ubuntu/+source/python3.3/+bug/1192890\" rel=\"nofollow noreferrer\">1192890</a></li>\n<li><a href=\"https://bugs.launchpad.net/command-not-found/+bug/1480388\" rel=\"nofollow noreferrer\">1480388</a></li>\n</ul>\n\n<p>Any suggestions to what it could be and how to fix it?</p>\n\n<pre><code>Failed to import the site module\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/site.py\", line 580, in &lt;module&gt;\n    main()\n  File \"/usr/lib/python3.5/site.py\", line 566, in main\n    known_paths = addusersitepackages(known_paths)\n  File \"/usr/lib/python3.5/site.py\", line 287, in addusersitepackages\n    user_site = getusersitepackages()\n  File \"/usr/lib/python3.5/site.py\", line 263, in getusersitepackages\n    user_base = getuserbase() # this will also set USER_BASE\n  File \"/usr/lib/python3.5/site.py\", line 253, in getuserbase\n    USER_BASE = get_config_var('userbase')\n  File \"/usr/lib/python3.5/sysconfig.py\", line 595, in get_config_var\n    return get_config_vars().get(name)\n  File \"/usr/lib/python3.5/sysconfig.py\", line 538, in get_config_vars\n    _init_posix(_CONFIG_VARS)\n  File \"/usr/lib/python3.5/sysconfig.py\", line 410, in _init_posix\n    from _sysconfigdata import build_time_vars\n  File \"/usr/lib/python3.5/_sysconfigdata.py\", line 6, in &lt;module&gt;\n    from _sysconfigdata_m import *\nImportError: No module named '_sysconfigdata_m'\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "convolution"], "answers": [{"comments": [{"owner": {"reputation": 1537, "user_id": 4829166, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc46c31282003b3201d0d5b3be78d553?s=128&d=identicon&r=PG&f=1", "display_name": "Nimitz14", "link": "https://stackoverflow.com/users/4829166/nimitz14"}, "edited": false, "score": 0, "creation_date": 1511386390, "post_id": 47444089, "comment_id": 81843600, "body": "Ah yeah I wanted to ask whether stride 0 is a viable option. Although it seems to me without <code>&#39;valid&#39;</code>, given image with width <code>w</code> and filter with width <code>w</code>, the filter would start from the first element in the image and therefore only cover half the image (as the filter extends from the first element by <code>w&#47;2</code> in both directions)?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 1537, "user_id": 4829166, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc46c31282003b3201d0d5b3be78d553?s=128&d=identicon&r=PG&f=1", "display_name": "Nimitz14", "link": "https://stackoverflow.com/users/4829166/nimitz14"}, "edited": false, "score": 0, "creation_date": 1511386614, "post_id": 47444089, "comment_id": 81843684, "body": "That coverage depends on the padding you specify.  If you restrict this to no padding at all, then the convolution can&#39;t occur except on the midline."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1511385941, "creation_date": 1511385941, "answer_id": 47444089, "question_id": 47444039, "link": "https://stackoverflow.com/questions/47444039/how-to-create-a-conv-layer-where-the-filter-doesnt-move-across-one-dimension/47444089#47444089", "title": "How to create a conv layer where the filter doesn&#39;t move across one dimension", "body": "<p>Yes, you could do it that way.  Another is to use the <code>stride</code> parameter to specify the stride in each dimension.  You can set the other dimension's stride to 0.  <code>stride=(1, 0)</code> is the proper syntax, I think.</p>\n"}], "owner": {"reputation": 1537, "user_id": 4829166, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc46c31282003b3201d0d5b3be78d553?s=128&d=identicon&r=PG&f=1", "display_name": "Nimitz14", "link": "https://stackoverflow.com/users/4829166/nimitz14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 47444089, "answer_count": 1, "score": 1, "last_activity_date": 1511385941, "creation_date": 1511385621, "question_id": 47444039, "link": "https://stackoverflow.com/questions/47444039/how-to-create-a-conv-layer-where-the-filter-doesnt-move-across-one-dimension", "title": "How to create a conv layer where the filter doesn&#39;t move across one dimension", "body": "<p>Put another way I want the filter to cover the image across one dimension and only move in the other direction.</p>\n\n<p>If I have an input with shape (ignoring batch size and number of input channels) <code>(h, w)</code>, I want to have a filter to have shape <code>(x, w)</code> where <code>x&lt;h</code>. Would creating a filter with shape <code>(x, w)</code> and using padding of <code>'VALID'</code> be the correct thing to do (the idea being <code>VALID</code> will force that the filter is only convolved across the image when the filter 'fits' across the image in the width dimension)?</p>\n\n<p>Might there be another, better way to do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511385558, "post_id": 47444009, "comment_id": 81843228, "body": "maybe a ternary expression?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1511385589, "post_id": 47444009, "comment_id": 81843243, "body": "<code>return &#39;a&#39; if a() else (&#39;b&#39; if b() else &#39;c&#39;)</code>"}, {"owner": {"reputation": 408, "user_id": 4961390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b038016debd98b371a87814d983caded?s=128&d=identicon&r=PG&f=1", "display_name": "Nijan", "link": "https://stackoverflow.com/users/4961390/nijan"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511385614, "post_id": 47444009, "comment_id": 81843252, "body": "yes, that works. Thanks."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1511385683, "post_id": 47444009, "comment_id": 81843291, "body": "Using a nested conditional expression <i>is definitely not more pythonic</i> than using <code>if...elif...else</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511385844, "post_id": 47444009, "comment_id": 81843374, "body": "@juanpa.arrivillaga just a question of taste. but I would just call that shorter in term of lines, not necessarily more pythonic. if there are more than 2 conditions, ternary is just not the way to do it."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511387237, "post_id": 47444009, "comment_id": 81843943, "body": "@Jean-Fran&#231;oisFabre I agree. But personally, I think nested conditional expressions are difficult to read, whereas an <code>if...elif..else</code> block is <i>extremely</i> readable."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511387327, "post_id": 47444009, "comment_id": 81843985, "body": "Coal_ answer is perfect when there&#39;s a lot of conditions. There are only 2 in OP question, but this could be generalized. But I&#39;m not losing any opportunity to promote ternary, as this can save you in functional programming."}, {"owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "edited": false, "score": 0, "creation_date": 1511390012, "post_id": 47444009, "comment_id": 81845056, "body": "The most pythonic way to do what you want is <code>next((f for f in [a,b] if f()), c).__name__</code>."}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1511385698, "post_id": 47444040, "comment_id": 81843299, "body": "careful: <code>functions</code> is a <code>set</code> in your example, so <code>b</code> could be evaluated before <code>a</code>. Make that a list."}, {"owner": {"reputation": 721, "user_id": 8101215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fd6002242a6df655382e9886ca1c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8101215/daniel"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511385768, "post_id": 47444040, "comment_id": 81843327, "body": "Thanks for the heads-up, I&#39;m used to using sets nowadays for these kinds of things :)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511385925, "post_id": 47444040, "comment_id": 81843403, "body": "do the return value match the function call? Well, even if it doesn&#39;t, one could always do a list of tuples so your answer would still be OK. You could add that if there are 4 chained conditions, your answer avoids a lot of copy/paste."}], "tags": [], "owner": {"reputation": 721, "user_id": 8101215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fd6002242a6df655382e9886ca1c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8101215/daniel"}, "is_accepted": false, "score": 4, "last_activity_date": 1514168012, "last_edit_date": 1514168012, "creation_date": 1511385625, "answer_id": 47444040, "question_id": 47444009, "link": "https://stackoverflow.com/questions/47444009/pythonic-way-of-returning-a-value-depending-of-results-of-multiple-functions/47444040#47444040", "title": "Pythonic way of returning a value depending of results of multiple functions", "body": "<p>If you can put all of the functions into an iterable:</p>\n\n<pre><code>functions = [a, b]\nfor func in functions:\n    if func():\n        return func.__name__\nreturn \"c\"\n</code></pre>\n\n<p>This makes more sense when supplied with lots of functions, as the only thing that changes is <code>functions</code> (and optionally a 'default' return value). If you want this as a function:</p>\n\n<pre><code>def return_truthy_function_name(*functions, default):\n    \"\"\"Iterate over `*functions` until a function returns a truthy value, then return its name.\n    If none of the functions return a truthy value, return `default`.\n    \"\"\"\n    for function in functions:\n        if function():\n            return function.__name__\n    return default\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1511385708, "post_id": 47444044, "comment_id": 81843304, "body": "Does shorter == more Pythonic?"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 2, "last_activity_date": 1511386062, "last_edit_date": 1511386062, "creation_date": 1511385637, "answer_id": 47444044, "question_id": 47444009, "link": "https://stackoverflow.com/questions/47444009/pythonic-way-of-returning-a-value-depending-of-results-of-multiple-functions/47444044#47444044", "title": "Pythonic way of returning a value depending of results of multiple functions", "body": "<p>I don't know if it's more pythonic, but it's shorter using 2 nested ternary expressions:</p>\n\n<pre><code>return 'a' if a() else ('b' if b() else 'c')\n</code></pre>\n\n<p>if there are more than 2 conditions, nesting ternary expressions becomes ludicrious and the loop approach of <a href=\"https://stackoverflow.com/questions/47444009/pythonic-way-of-returning-a-value-depending-of-results-of-multiple-functions/47444040#47444040\">Coal_ answer</a> (maybe using a list of <code>tuples</code> to associate the function call and the return value if there's no obvious relation between the 2) is better.</p>\n"}, {"comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1511385796, "post_id": 47444054, "comment_id": 81843344, "body": "You came a minute too late ;-)"}, {"owner": {"reputation": 721, "user_id": 8101215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fd6002242a6df655382e9886ca1c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8101215/daniel"}, "edited": false, "score": 0, "creation_date": 1511385800, "post_id": 47444054, "comment_id": 81843348, "body": "This is almost the same as Jean-Fran&#231;ois Fabre&amp;#39;s answer."}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1511385839, "post_id": 47444054, "comment_id": 81843370, "body": "But this doesn&#39;t use parentheses, thus making it even shorter ;). Let&#39;s code golf this"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511385974, "post_id": 47444054, "comment_id": 81843420, "body": "I&#39;ve put parentheses in for the sake of safety. I don&#39;t like juggling with knives."}], "tags": [], "owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "is_accepted": false, "score": 1, "last_activity_date": 1511385714, "creation_date": 1511385714, "answer_id": 47444054, "question_id": 47444009, "link": "https://stackoverflow.com/questions/47444009/pythonic-way-of-returning-a-value-depending-of-results-of-multiple-functions/47444054#47444054", "title": "Pythonic way of returning a value depending of results of multiple functions", "body": "<p>You could use a conditional expression:</p>\n\n<pre><code>return 'a' if a() else 'b' if b() else 'c'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1511386105, "post_id": 47444090, "comment_id": 81843482, "body": "again: make that an ordered dict, or you cannot predict the order of the evaluations. Those wouldn&#39;t be equivalent to OP case. Actually a list of tuples would be even better since you&#39;re not using random lookup dict feature."}], "tags": [], "owner": {"reputation": 375, "user_id": 3335163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c16ceedcdd8d1a01eee6b5b3de944?s=128&d=identicon&r=PG&f=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/3335163/grisha"}, "is_accepted": false, "score": 0, "last_activity_date": 1511385948, "creation_date": 1511385948, "answer_id": 47444090, "question_id": 47444009, "link": "https://stackoverflow.com/questions/47444009/pythonic-way-of-returning-a-value-depending-of-results-of-multiple-functions/47444090#47444090", "title": "Pythonic way of returning a value depending of results of multiple functions", "body": "<pre><code>d = {a: 'a() is true',\n     b: 'b() is true',\n     c: 'c() is true'}\n\nfor func, answer in d.items():\n  if func():\n    return answer\nreturn 'nothing seems to be true'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511386831, "post_id": 47444167, "comment_id": 81843780, "body": "you could remove the space after &quot;, &quot; to save 1 char. But for me calling all the functions is a non-starter."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1511428614, "post_id": 47444167, "comment_id": 81858041, "body": "most of the answers here got DV. Probably the meta effect of my question which I didn&#39;t even link but people visited my profile, I got a couple of downvotes, and some upvotes too... <a href=\"https://meta.stackoverflow.com/questions/359703/why-questions-dont-get-that-much-upvote-love\" title=\"why questions dont get that much upvote love\">meta.stackoverflow.com/questions/359703/&hellip;</a>. Your update adds a lot so +1, you should remove the first solution completely and only leave the <code>next</code> stuff"}], "tags": [], "owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "is_accepted": false, "score": 0, "last_activity_date": 1517663981, "last_edit_date": 1517663981, "creation_date": 1511386345, "answer_id": 47444167, "question_id": 47444009, "link": "https://stackoverflow.com/questions/47444009/pythonic-way-of-returning-a-value-depending-of-results-of-multiple-functions/47444167#47444167", "title": "Pythonic way of returning a value depending of results of multiple functions", "body": "<p>Actually the <strong><em>most pythonic</em></strong> and generalizable way to do what you ask is probably</p>\n\n<pre><code>next((f for f in [a,b] if f()), c).__name__\n</code></pre>\n\n<p>Note that the callable <code>c</code> (defined on purpose) is used as default if the generator is empty.</p>\n"}], "owner": {"reputation": 408, "user_id": 4961390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b038016debd98b371a87814d983caded?s=128&d=identicon&r=PG&f=1", "display_name": "Nijan", "link": "https://stackoverflow.com/users/4961390/nijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 1, "answer_count": 5, "score": 3, "last_activity_date": 1517663981, "creation_date": 1511385462, "question_id": 47444009, "link": "https://stackoverflow.com/questions/47444009/pythonic-way-of-returning-a-value-depending-of-results-of-multiple-functions", "title": "Pythonic way of returning a value depending of results of multiple functions", "body": "<p>I want to return a value depending on which among a set of functions returns true. </p>\n\n<pre><code>if a():\n    return 'a'\nelif b():\n    return 'b'\nelse:\n    return 'c'\n</code></pre>\n\n<p>is there a more pythonic way of doing so?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511385493, "post_id": 47444004, "comment_id": 81843188, "body": "raising an exception is better, you can pass a message along. exiting you can only pass an exit code."}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511385720, "post_id": 47444004, "comment_id": 81843312, "body": "If you want to generate an exception, just <a href=\"https://docs.python.org/3/tutorial/errors.html#raising-exceptions\" rel=\"nofollow noreferrer\"><code>raise</code></a> it. Python will take care of the rest."}], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1511386002, "post_id": 47444070, "comment_id": 81843439, "body": "Technically, <code>sys.exit</code> raises a <code>SystemExit</code> exception, which, among other things, is a big reason to never use a bare <code>except</code> clause."}, {"owner": {"reputation": 3104, "user_id": 2558739, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ygAg7.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2558739/ben"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1511386439, "post_id": 47444070, "comment_id": 81843617, "body": "@chepner is right. Here&#39;s what the Python docs say: sys.exit([arg]) Exit from Python. This is implemented by raising the SystemExit exception, so cleanup actions specified by finally clauses of try statements are honored, and it is possible to intercept the exit attempt at an outer level.             I still stand by the idea of using try-except logic (limited to trap for the raised exception), though."}], "tags": [], "owner": {"reputation": 3104, "user_id": 2558739, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ygAg7.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2558739/ben"}, "is_accepted": false, "score": -1, "last_activity_date": 1511385817, "creation_date": 1511385817, "answer_id": 47444070, "question_id": 47444004, "link": "https://stackoverflow.com/questions/47444004/terminating-python-function/47444070#47444070", "title": "Terminating python function", "body": "<p>I believe that sys.exit(0) will exit the program, not return to the calling function. As Jean-Francois says, I believe you want to raise an exception. If you want the calling function to handle that exception (i.e. for your program not to end) then surround the call to Foo with try - except logic.</p>\n"}, {"tags": [], "owner": {"reputation": 347, "user_id": 5798891, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c0eb1e1dd6d1e14c2d11f95e265672b?s=128&d=identicon&r=PG&f=1", "display_name": "Maaaaa", "link": "https://stackoverflow.com/users/5798891/maaaaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1511386015, "creation_date": 1511386015, "answer_id": 47444106, "question_id": 47444004, "link": "https://stackoverflow.com/questions/47444004/terminating-python-function/47444106#47444106", "title": "Terminating python function", "body": "<p>It depends. \nIf you want to raise an Expection, then raise it in the method.\nIf you don't handle it, the program will crash. That is usually not a good way to stop the program and should not be the case, when the Exception is predictable.\nIf you handle it (with try/catch) then you should\na) do something, so that the program can continue nonetheless\nb) notify the user that something went wrong and cannot be handled and exit</p>\n\n<p>Usually if you use sys.exit(x) when something went wrong, then x is bigger than 0</p>\n\n<p>Return is the default if nothing went wrong and the method/function simply finished</p>\n\n<p>sys.exit(0) is used to terminate the program\ne.g. if you have a particular button (or key combination etc.) that, when pressed, should stop the application </p>\n"}], "owner": {"reputation": 841, "user_id": 8964075, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/02745bacc3317f29714fd43b9f8ab738?s=128&d=identicon&r=PG&f=1", "display_name": "vcx34178", "link": "https://stackoverflow.com/users/8964075/vcx34178"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511386015, "creation_date": 1511385434, "question_id": 47444004, "link": "https://stackoverflow.com/questions/47444004/terminating-python-function", "title": "Terminating python function", "body": "<p>I have a function like:</p>\n\n<pre><code>function foo(a,b,c):\n    if a==1:\n        do something\n    elif a==2:\n        do something\n    else:\n        exit abnormally #1\n\n    return v1,v2,..\n</code></pre>\n\n<p>If I want to exit this function at <code>#1</code> in the code, what is the recommended way? I want to raise some exception, print error message, return to the calling function and stop the program.  <code>sys.exit(0)</code> will exit, but is it the recommended way? </p>\n"}, {"tags": ["python", "numpy", "geo"], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "edited": false, "score": 1, "creation_date": 1511801365, "post_id": 47448476, "comment_id": 81987730, "body": "Did the trick. I used the or and flipped the dimensions. Thanks for the help!"}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 1, "last_activity_date": 1511416387, "creation_date": 1511416387, "answer_id": 47448476, "question_id": 47443992, "link": "https://stackoverflow.com/questions/47443992/mask-a-2d-array-with-different-masks-for-each-dimension/47448476#47448476", "title": "Mask a 2D array with different masks for each dimension", "body": "<p>My guess is your solution is almost right, just flip dimensions:</p>\n\n<pre><code>twodmask = latmask[:, None] &amp; lonmask[None, :]\n</code></pre>\n\n<p>and perhaps use or instead of and? (Not sure about that.)</p>\n\n<pre><code>twodmask = latmask[:, None] | lonmask[None, :]\n</code></pre>\n"}], "owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 47448476, "answer_count": 1, "score": 0, "last_activity_date": 1511416387, "creation_date": 1511385365, "question_id": 47443992, "link": "https://stackoverflow.com/questions/47443992/mask-a-2d-array-with-different-masks-for-each-dimension", "title": "Mask a 2D array with different masks for each dimension", "body": "<p>I have three different arrays.</p>\n\n<p>One is a latitude array (-90 to 90) another is a longitude array (0 to 360) and the last is a 2D temperature array with the shape (len(lats), len(lons) where len(lats) != len(lons). </p>\n\n<p>I have obtained a longitude mask via other means and have created a latitude mask via:</p>\n\n<pre><code>latmask = np.ma.masked_where(np.logical_or(lat &lt; -60, lat &gt; 60), lat).mask\n</code></pre>\n\n<p>So now I have two 1D masks that I want to apply to the 2D data along the appropriate axis with \"or\" logic (aka if either the lat or lon in that index was masked, then the 2D data should be masked).</p>\n\n<p>I have tried combining the two 1D masks into a 2D mask using :</p>\n\n<pre><code>2dmask = np.logical_or(latmask , lonmask)\n2dmask = latmask * lonmask\n</code></pre>\n\n<p>but these give an error saying the two arrays are not the same shape.</p>\n\n<pre><code>2dmask = latmask[np.newaxis, :] &amp; lonmask[:, np.newaxis]\n</code></pre>\n\n<p>but when I try to apply this mask to my data like so and plot the result:</p>\n\n<pre><code>testdata = np.ma.masked_array(nt[0,50,:,:], mask = 2dmask)\n</code></pre>\n\n<p>I get the following plot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/v3CDW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v3CDW.png\" alt=\"Bad Masking\"></a></p>\n\n<p>but this plot should have data above and below +/- 60 degrees lat masked and data except some continuous strip of longitudes masked (basically plucking out a rectangle of data). </p>\n\n<p>I have spent the last 30-45 minutes searching the documentation and stack overflow for similar problems with no luck. </p>\n\n<p>Thanks for any help!</p>\n\n<p>-Will</p>\n"}, {"tags": ["python", "bash", "qiime"], "comments": [{"owner": {"reputation": 375, "user_id": 3335163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c16ceedcdd8d1a01eee6b5b3de944?s=128&d=identicon&r=PG&f=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/3335163/grisha"}, "edited": false, "score": 0, "creation_date": 1511385416, "post_id": 47443988, "comment_id": 81843146, "body": "<code>chmod +x validate_mapping_file.py</code> plus please show the first line of this Python file - does it have a shabang line?"}, {"owner": {"reputation": 1080, "user_id": 2280259, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ERmHw.jpg?s=128&g=1", "display_name": "Isank", "link": "https://stackoverflow.com/users/2280259/isank"}, "edited": false, "score": 0, "creation_date": 1511386225, "post_id": 47443988, "comment_id": 81843532, "body": "Did you try using <code>.&#47;validate_mapping_file.py</code> or <code>&lt;absolute_path&gt; to validate_mapping_file.py</code>"}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 3335163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c16ceedcdd8d1a01eee6b5b3de944?s=128&d=identicon&r=PG&f=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/3335163/grisha"}, "edited": false, "score": 1, "creation_date": 1511385699, "post_id": 47444030, "comment_id": 81843301, "body": "... plus it has to be in one of the <code>PATH</code> directories"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1511572027, "post_id": 47444030, "comment_id": 81918314, "body": "<code>$(pwd):$PATH</code>, or its backtick-based equivalent, is extremely inefficient compared to <code>$PWD&#47;$PATH</code>; like any other command substitution, it forks a subshell."}, {"owner": {"reputation": 1590, "user_id": 2364412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54e872d16a11dd047abf6c1bbb1867a?s=128&d=identicon&r=PG", "display_name": "Florian Rhiem", "link": "https://stackoverflow.com/users/2364412/florian-rhiem"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1511589734, "post_id": 47444030, "comment_id": 81920923, "body": "@CharlesDuffy I doubt that he types faster than <code>pwd</code> executes. Still, it achieves the same and is more efficient, so I editted the answer."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1511619504, "post_id": 47444030, "comment_id": 81928722, "body": "@FlorianRhiem, thank you. The concern isn&#39;t so much immediate interactive use, but not teaching practices that would create a bottleneck if used in other circumstances (ie. inside an inner loop)."}], "tags": [], "owner": {"reputation": 1590, "user_id": 2364412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54e872d16a11dd047abf6c1bbb1867a?s=128&d=identicon&r=PG", "display_name": "Florian Rhiem", "link": "https://stackoverflow.com/users/2364412/florian-rhiem"}, "is_accepted": true, "score": 6, "last_activity_date": 1511589499, "last_edit_date": 1511589499, "creation_date": 1511385580, "answer_id": 47444030, "question_id": 47443988, "link": "https://stackoverflow.com/questions/47443988/bash-python-py-command-not-found/47444030#47444030", "title": "bash: python: .py: command not found", "body": "<p>To execute a Python script in this way, you need three things:</p>\n\n<ol>\n<li><p>The file needs to have the executable bit set for you. To do this, try using: <code>chmod u+x validate_mapping_file.py</code></p></li>\n<li><p>The file needs to begin with a shebang, for example <code>#!/usr/bin/env python3</code> which will tell the system to run the script using the python3 executable according to your environment</p></li>\n<li><p>The file needs to be in one of the directories in your <code>PATH</code> environment variable. You can add the current directory using export <code>PATH=$PWD:$PATH</code> or use <code>./validate_mapping_file.py</code> instead of just <code>validate_mapping_file.py</code> (thanks @Grisha)</p></li>\n</ol>\n\n<p>Afterwards you should be able to execute the script the way you tried before.</p>\n"}], "owner": {"reputation": 15, "user_id": 7969620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-62X3Y-eeB-w/AAAAAAAAAAI/AAAAAAAACuI/ULhijJ1UxTo/photo.jpg?sz=128", "display_name": "Muhammad Arslan", "link": "https://stackoverflow.com/users/7969620/muhammad-arslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20423, "favorite_count": 0, "closed_date": 1511572101, "accepted_answer_id": 47444030, "answer_count": 1, "score": -1, "last_activity_date": 1511589499, "creation_date": 1511385347, "last_edit_date": 1511394532, "question_id": 47443988, "link": "https://stackoverflow.com/questions/47443988/bash-python-py-command-not-found", "closed_reason": "Duplicate", "title": "bash: python: .py: command not found", "body": "<p>I am trying to run the following command in <code>QIIME2 virtual machine</code>, installed on macbook but the code is not working</p>\n\n<pre><code>validate_mapping_file.py -m Fasting_Map.txt -o mapping_output\n</code></pre>\n\n<p>Here is the link: <a href=\"http://qiime.org/tutorials/tutorial.html\" rel=\"nofollow noreferrer\">http://qiime.org/tutorials/tutorial.html</a></p>\n\n<p>I get the following message </p>\n\n<blockquote>\n  <p>bash: validate_mapping_file.py: command not found</p>\n</blockquote>\n\n<p>I am new to <code>unix/linux</code> as well as on <code>qiime</code>. I would be very thankful for the help...</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1511387471, "post_id": 47443985, "comment_id": 81844042, "body": "In the output that you linked I do not see any output from the print statements.  Why?  I don&#39;t see how the program you presented could actually run, since you try to access (for example) <code>grid[selectedRow-1][selectedColumn+2]</code> when <code>selectedColumn</code> was just verified to have a value of 3.  That means you are trying to access the <i>sixth</i> element of <code>grid[selectedRow-1]</code> which makes no sense for a 3x3 game board.  Is this really your program?"}, {"owner": {"reputation": 3, "user_id": 8993056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X-8oFXWSgdw/AAAAAAAAAAI/AAAAAAAAAKc/j6vIOEToy1w/photo.jpg?sz=128", "display_name": "Daniel Loughran", "link": "https://stackoverflow.com/users/8993056/daniel-loughran"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1511387989, "post_id": 47443985, "comment_id": 81844276, "body": "Sorry about that. I totally forgot to post the rest of the code. It&#39;s been a long few weeks. Anyway, I have to edit column 6 because of the way I made my list.                                                                                                                                                                                                             Edit: Those print statements should only print when there is a marker already there. If there is not a marker there, then there is no need to have them print something."}], "answers": [{"tags": [], "owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "is_accepted": true, "score": 0, "last_activity_date": 1511394275, "creation_date": 1511394275, "answer_id": 47445507, "question_id": 47443985, "link": "https://stackoverflow.com/questions/47443985/bug-not-allowing-users-to-select-the-third-row-for-tic-tac-toe/47445507#47445507", "title": "Bug not allowing users to select the third row for tic tac toe", "body": "<p>You are being tripped up by the <code>index</code> function.  When you call <code>.index(x)</code> on an array, it steps through the array until it finds a value equal to x.  So when you write, inside your for loop:</p>\n\n<pre><code>for rows in grid:\n    grid.index(rows)\n</code></pre>\n\n<p>you won't necessarily get the index of <code>grid</code> that you are currently working with, but rather the first element of grid that's <em>equal in value</em> to rows.  When you have an empty board, all the rows are equal in value - so at that moment <code>grid.index(rows)</code> always returns 0.</p>\n\n<p>There is a good way to fix that, but it involves rethinking how your program is structured.  In general your code is painful to read and the program is much longer and less efficient than it could be.  I strongly recommend posting it to the site CodeReview.stackexchange.com to get help with improving your approach.</p>\n\n<p>Here is the portion of the program starting with <code>if player == \" X \"</code>.  I have eliminated the for loop entirely and replaced your insert/pop pairs with simple assignment statements.</p>\n\n<pre><code>if player == \" X \":\n    row = grid[selectedRow-1]\n    #Determine what to do based on the column selected.\n    if selectedColumn == 1:\n        #Check to see if a player is in the spot selected.\n        if row[selectedColumn] == \" O \" or row[selectedColumn] == \" X \":\n            print(\"\\nA player is already there.\")\n        else:\n            row[selectedColumn] = player\n    elif selectedColumn == 2:\n        if row[selectedColumn + 1] == \" O \" or row[selectedColumn + 1] == \" X \":\n            print(\"\\nA player is already there.\")\n        else:\n            row[selectedColumn+1] = player\n    elif selectedColumn == 3:\n        if row[selectedColumn + 2] == \" O \" or row[selectedColumn + 2] == \" X \":\n            print(\"\\nA player is already there.\")\n        else:\n            row[selectedColumn+2] = player\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8993056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X-8oFXWSgdw/AAAAAAAAAAI/AAAAAAAAAKc/j6vIOEToy1w/photo.jpg?sz=128", "display_name": "Daniel Loughran", "link": "https://stackoverflow.com/users/8993056/daniel-loughran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 47445507, "answer_count": 1, "score": 0, "last_activity_date": 1511394275, "creation_date": 1511385312, "last_edit_date": 1511387932, "question_id": 47443985, "link": "https://stackoverflow.com/questions/47443985/bug-not-allowing-users-to-select-the-third-row-for-tic-tac-toe", "title": "Bug not allowing users to select the third row for tic tac toe", "body": "<p>As the title suggest, the bug I am running into is not allowing the first person to select the third row of my Tic Tac Toe grid. It's is behaving like that row does not exist. Perhaps I did something wrong that I do not see or I over complicated it.</p>\n\n<p>Anyway, everything else works as I want it to. This is last thing I want to fix. Also, if you guys have suggestions to make my code better and more efficient please tell me. This is my first year programming.</p>\n\n<p>The code that edits the grid:</p>\n\n<pre><code>#Edit the Tic Tac Toe grid.\ndef editGrid(grid, selectedRow, selectedColumn, player):\n    validRow = 0\n    #Determine which player is editing the\n    #grid.\n    if player == \" X \":      \n        for rows in grid:\n            #Determine which row was selected.\n            if selectedRow - 1 == validRow:\n                #Determine what to do based on the column selected.\n                if selectedColumn == 1:\n                    #Check to see if a player is in the spot selected.\n                    if grid[selectedRow - 1][selectedColumn] == \" O \" or grid[selectedRow - 1][selectedColumn] == \" X \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn, player)\n                        rows.pop(selectedColumn + 1)\n                elif selectedColumn == 2:\n                    if grid[selectedRow - 1][selectedColumn + 1] == \" O \" or grid[selectedRow - 1][selectedColumn + 1] == \" X \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn + 1, player)\n                        rows.pop(selectedColumn + 2)\n                elif selectedColumn == 3:\n                    if grid[selectedRow - 1][selectedColumn + 2] == \" O \" or grid[selectedRow - 1][selectedColumn + 2] == \" X \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn + 2, player)\n                        rows.pop(selectedColumn + 3)\n            validRow = grid.index(rows) + 1\n    else:\n        for rows in grid:\n            #Determine which row was selected.\n            if selectedRow - 1 == validRow:\n                #Determine what to do based on the column selected.\n                if selectedColumn == 1:\n                    #Check to see if a player is in the spot selected.\n                    if grid[selectedRow - 1][selectedColumn] == \" X \" or grid[selectedRow - 1][selectedColumn] == \" O \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn, player)\n                        rows.pop(selectedColumn + 1)\n                elif selectedColumn == 2:\n                    if grid[selectedRow - 1][selectedColumn + 1] == \" X \" or grid[selectedRow - 1][selectedColumn + 1] == \" O \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn + 1, player)\n                        rows.pop(selectedColumn + 2)\n                elif selectedColumn == 3:\n                    if grid[selectedRow - 1][selectedColumn + 2] == \" X \" or grid[selectedRow - 1][selectedColumn + 2] == \" O \":\n                        print(\"\\nA player is already there.\")\n                    else:    \n                        rows.insert(selectedColumn + 2, player)\n                        rows.pop(selectedColumn + 3)\n            validRow = grid.index(rows) + 1\n</code></pre>\n\n<p>Side Note: I have ran the debugger and for the first time this code runs the variable \"validRow\" gets reset to 0 but when there is already an \" X \" on the grid the variable does not get reset to 0. I am genuinely confused as to why this happens.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fy2P6.png\" rel=\"nofollow noreferrer\">Here's the problem.</a></p>\n\n<p>Edit: Here is the rest of the code.</p>\n\n<pre><code>    #!/usr/bin/env python3\n\n#Create the grid.\ndef drawGrid(grid):\n    #Show the grid to the user.\n    for rows in grid:\n        print(\"+---+---+---+\")\n        #Print each item in the row.\n        for row in rows:\n            print(row, end='')\n        #Formatting\n        print()\n    print(\"+---+---+---+\")\n\n#Edit the Tic Tac Toe grid.\ndef editGrid(grid, selectedRow, selectedColumn, player):\n    validRow = 0\n    #Determine which player is editing the\n    #grid.\n    if player == \" X \":      \n        for rows in grid:\n            #Determine which row was selected.\n            if selectedRow - 1 == validRow:\n                #Determine what to do based on the column selected.\n                if selectedColumn == 1:\n                    #Check to see if a player is in the spot selected.\n                    if grid[selectedRow - 1][selectedColumn] == \" O \" or grid[selectedRow - 1][selectedColumn] == \" X \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn, player)\n                        rows.pop(selectedColumn + 1)\n                elif selectedColumn == 2:\n                    if grid[selectedRow - 1][selectedColumn + 1] == \" O \" or grid[selectedRow - 1][selectedColumn + 1] == \" X \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn + 1, player)\n                        rows.pop(selectedColumn + 2)\n                elif selectedColumn == 3:\n                    if grid[selectedRow - 1][selectedColumn + 2] == \" O \" or grid[selectedRow - 1][selectedColumn + 2] == \" X \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn + 2, player)\n                        rows.pop(selectedColumn + 3)\n            validRow = grid.index(rows) + 1\n    else:\n        for rows in grid:\n            #Determine which row was selected.\n            if selectedRow - 1 == validRow:\n                #Determine what to do based on the column selected.\n                if selectedColumn == 1:\n                    #Check to see if a player is in the spot selected.\n                    if grid[selectedRow - 1][selectedColumn] == \" X \" or grid[selectedRow - 1][selectedColumn] == \" O \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn, player)\n                        rows.pop(selectedColumn + 1)\n                elif selectedColumn == 2:\n                    if grid[selectedRow - 1][selectedColumn + 1] == \" X \" or grid[selectedRow - 1][selectedColumn + 1] == \" O \":\n                        print(\"\\nA player is already there.\")\n                    else:\n                        rows.insert(selectedColumn + 1, player)\n                        rows.pop(selectedColumn + 2)\n                elif selectedColumn == 3:\n                    if grid[selectedRow - 1][selectedColumn + 2] == \" X \" or grid[selectedRow - 1][selectedColumn + 2] == \" O \":\n                        print(\"\\nA player is already there.\")\n                    else:    \n                        rows.insert(selectedColumn + 2, player)\n                        rows.pop(selectedColumn + 3)\n            validRow = grid.index(rows) + 1\n\n#Determine if there are any winners.\ndef checkWinner(grid, player):\n    if (grid[0][1] == player and grid[0][3] == player) and grid[0][5] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[1][1] == player and grid[1][3] == player) and grid[1][5] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[2][1] == player and grid[2][3] == player) and grid[2][5] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[0][1] == player and grid[1][3] == player) and grid[2][5] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[0][3] == player and grid[1][3] == player) and grid[2][3] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[0][5] == player and grid[1][5] == player) and grid[2][5] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[0][1] == player and grid[1][3] == player) and grid[2][5] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[0][5] == player and grid[1][3] == player) and grid[2][1] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    elif (grid[0][1] == player and grid[1][1] == player) and grid[2][1] == player:\n        print(\"\\n\" + player + \"wins!\")\n        return True\n    else:\n        return False\n\ndef main():\n    print(\"Welcome to Tic Tac Toe\\n\")\n    #Assume the user wants to play.\n    userChoice = \"y\"\n    while userChoice.lower() == \"y\":\n        #Form the grid\n        grid = [[\"|\",\"   \",\"|\", \"   \",\"|\", \"   \",\"|\"],\n                [\"|\",\"   \",\"|\", \"   \",\"|\", \"   \",\"|\"],\n                [\"|\",\"   \",\"|\", \"   \",\"|\", \"   \",\"|\"]]\n        drawGrid(grid)\n        #Set the default number of turns.\n        numberOfTurns = 1\n        isWon= False\n        isTie = False\n        #Run until someone wins or it ties.\n        while isWon == False and isTie == False:\n            #Catch any errors with the input.\n            if numberOfTurns % 2 != 0:\n                print(\"\\nX's Turn\")\n                #Set who goes this turn and what\n                #marker to use.\n                player = \" X \"\n                #Determine if all input data is valid.\n                isValid = False\n                while isValid == False:\n                    try:\n                        row = int(input(\"Pick a row (1, 2, 3): \"))\n                        #Check the validity of the input\n                        #data.\n                        while row &lt; 1 or row &gt; 3:\n                            print(\"Please enter an integer bewteen 1 and 3. Try again.\")\n                            row = int(input(\"Pick a row (1, 2, 3): \"))\n                        #Ask the user which column to occupy.\n                        column = int(input(\"Pick a column (1, 2, 3): \"))\n                        #Check the validity of the input\n                        #data.\n                        while column &lt; 1 or column &gt; 3:\n                            print(\"Please enter an integer bewteen 1 and 3. Try again.\")\n                            column = int(input(\"Pick a row (1, 2, 3): \"))\n                        isValid = True\n                        #Add the player's icon to the correct\n                        #spaces.\n                        editGrid(grid, row, column, player)\n                    except ValueError:\n                        print(\"Please input an integer between 1 and 3. Try again.\")\n                        isValid = False\n            else:\n                print(\"\\nO's Turn\")\n                #Set who goes this turn and what\n                #marker to use.\n                player = \" O \"\n                #Determine if all input data is valid.\n                isValid = False\n                while isValid == False:\n                    try:\n                        row = int(input(\"Pick a row (1, 2, 3): \"))\n                        #Check the validity of the input\n                        #data.\n                        while row &lt; 1 or row &gt; 3:\n                            print(\"Please enter an integer bewteen 1 and 3. Try again.\")\n                            row = int(input(\"Pick a row (1, 2, 3): \"))\n                        #Ask the user which column to occupy.\n                        column = int(input(\"Pick a column (1, 2, 3): \"))\n                        #Check the validity of the input\n                        #data.\n                        while column &lt; 1 or column &gt; 3:\n                            print(\"Please enter an integer bewteen 1 and 3. Try again.\")\n                            column = int(input(\"Pick a row (1, 2, 3): \"))\n                        isValid = True\n                        #Add the player's icon to the correct\n                        #spaces.\n                        editGrid(grid, row, column, player)\n                    except ValueError:\n                        print(\"Please input an integer between 1 and 3. Try again.\")\n                        isValid = False\n            print()\n            #Draw the edited grid.\n            drawGrid(grid)\n            #Determine if the programs needs to terminate.\n            isWon = checkWinner(grid, player)\n            #Check the status of the game.\n            if isWon == False and isTie == False:\n                #Keep track of how many spaces\n                #are taken up.\n                tokenCounter = 0\n                for rows in grid:\n                    for space in rows:\n                        #Determine if all there spaces\n                        #are taken up.\n                        if space == \" X \" or space == \" O \":\n                            tokenCounter += 1\n                #Determine if there was a tie.\n                if tokenCounter == 9 and isWon == False:\n                    isTie = True\n                    print(\"\\nIt is a tie!\\n\")\n            #Next players goes.\n            numberOfTurns += 1\n        print(\"Round over!\\n\")\n        userChoice = input(\"Do you want to play another round? (y / n) \")\n        while userChoice.lower() != \"y\" and userChoice.lower() != \"n\":\n            print(\"Please type \\\"y\\\"  or \\\"n\\\". Try again.\")\n            userChoice = input(\"Do you want to play another round? (y / n) \")\n        print()\n    print(\"\\nBye!\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "celery", "airflow"], "comments": [{"owner": {"reputation": 384, "user_id": 3776598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a990e7949d5a70211a590039075486e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3776598", "link": "https://stackoverflow.com/users/3776598/user3776598"}, "edited": false, "score": 0, "creation_date": 1511819234, "post_id": 47443984, "comment_id": 81997160, "body": "It seems that the order of <code>airflow webserver , airflow scheduler, airflow worker</code> matters to how this works"}], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 3776598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a990e7949d5a70211a590039075486e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3776598", "link": "https://stackoverflow.com/users/3776598/user3776598"}, "edited": false, "score": 0, "creation_date": 1511586460, "post_id": 47464740, "comment_id": 81920371, "body": "I get the same error:  <code>DEFAULT_EXECUTOR = CeleryExecutor() NameError: name &#39;CeleryExecutor&#39; is not defined</code>. Seems a bit circular actually"}, {"owner": {"reputation": 4558, "user_id": 1969152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8acc442341104960e3b61e07f5698449?s=128&d=identicon&r=PG", "display_name": "Daniel Huang", "link": "https://stackoverflow.com/users/1969152/daniel-huang"}, "reply_to_user": {"reputation": 384, "user_id": 3776598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a990e7949d5a70211a590039075486e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3776598", "link": "https://stackoverflow.com/users/3776598/user3776598"}, "edited": false, "score": 0, "creation_date": 1511801984, "post_id": 47464740, "comment_id": 81988134, "body": "Hmm what if you try <code>import celery</code>? Any errors then?"}, {"owner": {"reputation": 384, "user_id": 3776598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a990e7949d5a70211a590039075486e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3776598", "link": "https://stackoverflow.com/users/3776598/user3776598"}, "edited": false, "score": 0, "creation_date": 1511810814, "post_id": 47464740, "comment_id": 81992876, "body": "<code>import celery</code> works for me. I ended up getting it working. It seems like the order of <code>airflow webserver</code> , <code>airflow scheduler</code>, <code>airflow worker</code> works."}], "tags": [], "owner": {"reputation": 4558, "user_id": 1969152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8acc442341104960e3b61e07f5698449?s=128&d=identicon&r=PG", "display_name": "Daniel Huang", "link": "https://stackoverflow.com/users/1969152/daniel-huang"}, "is_accepted": false, "score": 0, "last_activity_date": 1511481893, "creation_date": 1511481893, "answer_id": 47464740, "question_id": 47443984, "link": "https://stackoverflow.com/questions/47443984/celeryexecutor-is-not-defined-even-after-pip-install-airflowcelery/47464740#47464740", "title": "&#39;CeleryExecutor&#39; is not defined even after pip install airflow[celery]", "body": "<p>Try opening up a python shell where airflow is installed and run this:</p>\n\n<pre><code>&gt;&gt;&gt; from airflow.executors.celery_executor import CeleryExecutor\n</code></pre>\n\n<p>I think you'll get a more useful error.</p>\n"}, {"comments": [{"owner": {"reputation": 384, "user_id": 3776598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a990e7949d5a70211a590039075486e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3776598", "link": "https://stackoverflow.com/users/3776598/user3776598"}, "edited": false, "score": 0, "creation_date": 1511586959, "post_id": 47470337, "comment_id": 81920457, "body": "I have set <code>executor = CeleryExecutor</code> in my ~/airflow.cfg. Doesn&#39;t this turn on my celery workers for airflow?"}], "tags": [], "owner": {"reputation": 312, "user_id": 4705144, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3c63a73c0618905eb729a8493b728cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Pleeea", "link": "https://stackoverflow.com/users/4705144/pleeea"}, "is_accepted": false, "score": 1, "last_activity_date": 1511516406, "creation_date": 1511516406, "answer_id": 47470337, "question_id": 47443984, "link": "https://stackoverflow.com/questions/47443984/celeryexecutor-is-not-defined-even-after-pip-install-airflowcelery/47470337#47470337", "title": "&#39;CeleryExecutor&#39; is not defined even after pip install airflow[celery]", "body": "<p>Seems that you switched, but airflow doesn't know about it. Check that you have specified <em>AIRFLOW_HOME</em> env variable before running each airflow command and you don't have folders <em>~/airflow</em> and file <em>~/airflow.cfg</em> (in your home directory!) as it will be used as default (ignoring your <em>AIRFLOW_HOME</em>).</p>\n\n<p>More details about this issue: <a href=\"https://github.com/puckel/docker-airflow/issues/132\" rel=\"nofollow noreferrer\">https://github.com/puckel/docker-airflow/issues/132</a></p>\n"}, {"tags": [], "owner": {"reputation": 675, "user_id": 3886157, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73a22d4ddce0d352c07db9a13c9a2e76?s=128&d=identicon&r=PG", "display_name": "feng ce", "link": "https://stackoverflow.com/users/3886157/feng-ce"}, "is_accepted": false, "score": 1, "last_activity_date": 1531806402, "creation_date": 1531806402, "answer_id": 51374018, "question_id": 47443984, "link": "https://stackoverflow.com/questions/47443984/celeryexecutor-is-not-defined-even-after-pip-install-airflowcelery/51374018#51374018", "title": "&#39;CeleryExecutor&#39; is not defined even after pip install airflow[celery]", "body": "<p>Opening up a python shell and run <code>from celery import Celery</code> to test if you have installed <code>celery</code> already. If not you can install it through pip . \n<code>pip install celery</code></p>\n"}], "owner": {"reputation": 384, "user_id": 3776598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a990e7949d5a70211a590039075486e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3776598", "link": "https://stackoverflow.com/users/3776598/user3776598"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1531806402, "creation_date": 1511385310, "question_id": 47443984, "link": "https://stackoverflow.com/questions/47443984/celeryexecutor-is-not-defined-even-after-pip-install-airflowcelery", "title": "&#39;CeleryExecutor&#39; is not defined even after pip install airflow[celery]", "body": "<p>I am trying to switch over from LocalExecutor to CeleryExecutor on my local machine. I should have the necessary libraries installed using  <code>pip install airflow[celery]</code>. I also have redis installed and running.</p>\n\n<p>However, when I try to run <code>airflow worker</code>, I get the error:</p>\n\n<pre><code>DEFAULT_EXECUTOR = CeleryExecutor()\nNameError:  CeleryExecutor' is not defined\n</code></pre>\n\n<p>I have a <code>broker url</code> and <code>celery_result_backend</code> both set to <code>redis://localhost:6379</code> with redis running in the background. What am I doing wrong?</p>\n"}, {"tags": ["python", "mongodb"], "comments": [{"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511385519, "post_id": 47443959, "comment_id": 81843204, "body": "so basically, this is the question about how to get data from mongodb and has nothing to do with selenium."}], "owner": {"reputation": 33, "user_id": 8993225, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b9d4c600513ba7e4de1a72f6e16d4960?s=128&d=identicon&r=PG", "display_name": "Henri CHEVALLIER", "link": "https://stackoverflow.com/users/8993225/henri-chevallier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511391593, "creation_date": 1511385171, "last_edit_date": 1511391593, "question_id": 47443959, "link": "https://stackoverflow.com/questions/47443959/how-to-get-scraped-data-from-mongodb", "title": "How to get scraped data from MongoDB?", "body": "<p>I'm trying to get scraped urls, stocked in a mongo db, to my scrapy spider and \nthen iterate on it with Selenium. </p>\n\n<p>Everything goes well with this code, I just want to iterate on \"urls\" I've scraped and stocked in mongodb. How can I do this?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from selenium import webdriver\nfrom time import sleep\n\ndriver = webdriver.Chrome('/path')\ndriver.get('https://www.website.com')\n\n#login page\nemail = driver.find_element_by_name('email')\nemail.send_keys('email@gmail.com')\nsleep(0.5)\n\npassword  = driver.find_element_by_name('pass')\npassword.send_keys('mypass')\nsleep(0.5)\n\nsign_in_button = driver.find_element_by_xpath('//*[@type=\"button\"]')\nsign_in_button.click()\nsleep(5)\n\n#pre-home\nnext_button = driver.find_element_by_class_name('_2pii')\nnext_button.click()\nsleep(5)\n\n#pages to scrape\nurls = ('https://www.website.com/page1','https://www.website.com/page2')\n\nfor url in urls:\n    driver.get(url)\n    sleep(5)\n\n    try:\n        add_button = driver.find_element_by_xpath('//*[contains(concat( \" \", @class, \" \" ), concat( \" \", \"_5caa\", \" \" ))]')\n        add_button.click()\n\n    except:\n        pass\n</code></pre>\n"}, {"tags": ["python", "pdf", "scrapy", "pdfminer"], "comments": [{"owner": {"reputation": 837, "user_id": 5107872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e125b4c3710fb30e0372c64daacd6268?s=128&d=identicon&r=PG&f=1", "display_name": "ahed87", "link": "https://stackoverflow.com/users/5107872/ahed87"}, "edited": false, "score": 0, "creation_date": 1511391126, "post_id": 47443925, "comment_id": 81845424, "body": "sorry to say, no, the times I have used pdfminer I get gray hairs. So it worked earlier? With same installation, same response.body?"}, {"owner": {"reputation": 837, "user_id": 5107872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e125b4c3710fb30e0372c64daacd6268?s=128&d=identicon&r=PG&f=1", "display_name": "ahed87", "link": "https://stackoverflow.com/users/5107872/ahed87"}, "edited": false, "score": 0, "creation_date": 1511392688, "post_id": 47443925, "comment_id": 81845918, "body": "can you open the pdf if you save to disk? A quick look at the source gives that the error is raised when it does not recognize the method to parse with, so that points towards malformed pdf, or the specific version of miner that you have does not support the pdf-dialect."}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 837, "user_id": 5107872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e125b4c3710fb30e0372c64daacd6268?s=128&d=identicon&r=PG&f=1", "display_name": "ahed87", "link": "https://stackoverflow.com/users/5107872/ahed87"}, "edited": false, "score": 0, "creation_date": 1511530564, "post_id": 47443925, "comment_id": 81903482, "body": "Thanks I switched over to pdfminer.six which appears to be the closest to maintained. I&#39;m not getting the error but I&#39;m also not able to parse my pdf. I&#39;ll write a follow up question soon."}], "answers": [{"tags": [], "owner": {"reputation": 837, "user_id": 5107872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e125b4c3710fb30e0372c64daacd6268?s=128&d=identicon&r=PG&f=1", "display_name": "ahed87", "link": "https://stackoverflow.com/users/5107872/ahed87"}, "is_accepted": false, "score": 1, "last_activity_date": 1511388964, "last_edit_date": 1511388964, "creation_date": 1511388114, "answer_id": 47444555, "question_id": 47443925, "link": "https://stackoverflow.com/questions/47443925/extracting-embedded-pdf-pdfinterpretererror-unknown-operator-x00/47444555#47444555", "title": "Extracting embedded PDF - PDFInterpreterError: Unknown operator: &#39;\\x00&#39;", "body": "<p>Use</p>\n\n<pre><code>from io import StringIO\nfile_like = StringIO(your_string)\n</code></pre>\n\n<p>if you're on py3, py2 also has StringIO, but with different import.\nif you really have bytes (no b'' in your posted example), there is a analogue BytesIO to use.</p>\n\n<p>For parsing pdf one way is pdfminer, if you're on py3 there is a version called pdfminer-six that is possible to get running.\nPlenty of so examples of how to use pdfminer.\nHowever pending on the actual pdf and what you are looking for in the pdf you might get gray hairs before you are able to pull it out in an acceptable and reproducible way for later use.</p>\n\n<p>If you can't find a stream-reader in pdfminer it will probably work to write the string to disk and then you have your pdf-file on disk as starting point for pdfminer.</p>\n"}], "owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511404675, "creation_date": 1511385023, "last_edit_date": 1511404675, "question_id": 47443925, "link": "https://stackoverflow.com/questions/47443925/extracting-embedded-pdf-pdfinterpretererror-unknown-operator-x00", "title": "Extracting embedded PDF - PDFInterpreterError: Unknown operator: &#39;\\x00&#39;", "body": "<p>Using Scrapy, I want to download a pdf into read a binary file into memory and extract the contents. I realize that the pdf is embedded in a page that looks like:</p>\n\n<pre><code>&lt;embed id=\"plugin\" type=\"application/x-google-chrome-pdf\" src=\"http:xxx/DocumentInquiry.aspx?DocumentNo=12502\" stream-url=\"blob:chrome-extension://mhjfbmdgcfjbbpaeojofohoefgiehjai/1c86700d-0230-43b1-8b5e-eb219a2220af\" headers=\"Content-Type: application/pdf\nContent-Length: 50080\nCache-Control: private\nServer: Microsoft-IIS/7.5\nContent-Disposition: inline;filename=DocumentInquiry.pdf\nX-Powered-By: ASP.NET\n</code></pre>\n\n<p>When I open the scrapy response.body for http:xxx/DocumentInquiry.aspx?DocumentNo=12502\nI see a string that starts with:</p>\n\n<pre><code>'%PDF-1.4\\n%\\xe2\\xe3\\xcf\\xd3\\r\\n1 0 obj\\n&lt;&lt;/Type /Page\\n/Parent 2 0 R\\n/MediaBox [ 0 0 612.000 792.000 ]\\n/Resources &lt;&lt;/XObject 3 0 R /ProcSet [ /PDF /Text /ImageB /ImageC /ImageI ]&gt;&gt;/Contents [ 4 0 R ]\\n/Rotate 0\\n&gt;&gt;\\r\\nendobj\\n5 0 obj\\n&lt;&lt;/Type /XObject /Subtype /Image\\n/Name /JI1Obj1\\n/Width 1275 /Height 1650\\n/BitsPerComponent 8\\n/ColorSpace /DeviceRGB\\n/Filter [ /FlateDecode /DCTDecode ]\\n/Length 6 0 R&gt;&gt;\\r\\nstream\\r\\nx\\x9c\\xed\\x9dYl\\x1bE\\x18\\x80g}\\xa4I\\n\\x88\\xa4[Sh\\x11m\\xe9\\x\n</code></pre>\n\n<p>How do I extract the pdf here ?</p>\n\n<p>edit: I'm using pdfminer with the following function which has worked previously:</p>\n\n<pre><code>def convert_pdf_to_html(string):\n\n    in_memory_pdf = BytesIO(\n        bytes(string))  # in_memory_pdf IS A FILE LIKE OBJECT SO DOES NOT NEED TO BE OPENED, CLOSED ETC\n\n    rsrcmgr = PDFResourceManager()\n    retstr = BytesIO()\n\n    codec = 'utf-8'\n    laparams = LAParams()\n\n    device = TextConverter(rsrcmgr, retstr, codec=codec, laparams=laparams)  # CONSIDER TextConverter FOR TEXT\n    # device = HTMLConverter(rsrcmgr, retstr, codec=codec, laparams=laparams) # CONSIDER HTMLConverter FOR HTML\n\n    interpreter = PDFPageInterpreter(rsrcmgr, device)\n    password = \"\"\n    maxpages = 0\n    caching = True\n    pagenos = set()\n    for page in PDFPage.get_pages(in_memory_pdf, pagenos, maxpages=maxpages, password=password, caching=caching,\n                                  check_extractable=True):\n        interpreter.process_page(page)\n    device.close()\n    st = retstr.getvalue()\n    retstr.close()\n    return st\n</code></pre>\n\n<p>I'm getting the following error at the line \"for page in PDFPage.get_page...\":</p>\n\n<pre><code> File \"MypROJEctspiders\\forc_spider.py\", line 313, in get_order\n    full_text = convert_pdf_to_html(response.body)\n  File \"MypROJEctspiders\\forc_spider.py\", line 51, in convert_pdf_to_html\n    interpreter.process_page(page)\n  File \"E:\\Miniconda2\\envs\\contact2E\\lib\\site-packages\\pdfminer\\pdfinterp.py\", line 834, in process_page\n    self.render_contents(page.resources, page.contents, ctm=ctm)\n  File \"E:\\Miniconda2\\envs\\contact2E\\lib\\site-packages\\pdfminer\\pdfinterp.py\", line 846, in render_contents\n    self.execute(list_value(streams))\n  File \"E:\\Miniconda2\\envs\\contact2E\\lib\\site-packages\\pdfminer\\pdfinterp.py\", line 876, in execute\n    raise PDFInterpreterError('Unknown operator: %r' % name)\nPDFInterpreterError: Unknown operator: '\\x00'\n</code></pre>\n\n<p>Does this look an error you recognize? I thought that the problem may be the pdf being embedded in the response, and not being parsed correctly by pdfminer.</p>\n"}, {"tags": ["python", "tensorflow", "keras", "keras-layer", "keras-2"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8993292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0755fbda88dfdb8c0b416c1bd0f513f9?s=128&d=identicon&r=PG&f=1", "display_name": "nigem6997", "link": "https://stackoverflow.com/users/8993292/nigem6997"}, "is_accepted": true, "score": 1, "last_activity_date": 1511807001, "creation_date": 1511807001, "answer_id": 47517447, "question_id": 47443880, "link": "https://stackoverflow.com/questions/47443880/dimension-error-with-sparse-categorical-crossentropy/47517447#47517447", "title": "Dimension error with sparse_categorical_crossentropy", "body": "<p>Issue fixed in <a href=\"https://github.com/fchollet/keras/pull/8514\" rel=\"nofollow noreferrer\">8514</a>.</p>\n\n<p><a href=\"https://github.com/fchollet/keras/issues/8558#issue-276202564\" rel=\"nofollow noreferrer\">Keras Issue</a></p>\n"}], "owner": {"reputation": 21, "user_id": 8993292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0755fbda88dfdb8c0b416c1bd0f513f9?s=128&d=identicon&r=PG&f=1", "display_name": "nigem6997", "link": "https://stackoverflow.com/users/8993292/nigem6997"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "accepted_answer_id": 47517447, "answer_count": 1, "score": 1, "last_activity_date": 1511807001, "creation_date": 1511384783, "question_id": 47443880, "link": "https://stackoverflow.com/questions/47443880/dimension-error-with-sparse-categorical-crossentropy", "title": "Dimension error with sparse_categorical_crossentropy", "body": "<p>I have a weighted sparse_categorical_crossentropy loss which is not working after updating to Keras 2.1.1. The previous version I was using was 2.0.6, and it was working fine then.</p>\n\n<p>There are 2 classes (0 and 1) in the Output Layer. I pass the flattened 1D array with an extra dimension as the label.</p>\n\n<pre><code>label = label.flatten().astype(np.int16)\nlabel = np.expand_dims(label, axis=-1)\n</code></pre>\n\n<p>If I call <strong>sparse_categorical_crossentropy</strong> directly then there are no errors shown and the training starts. To verify that there was nothing wrong in the way custom weighted loss function should be called, I copied the <strong>sparse_categorical_crossentropy</strong> from <strong>keras/backend/tensorflow_backend.py</strong>, renamed it to scc and assigned it to the loss function.</p>\n\n<pre><code>// default\nnet.model.compile(optimizer=Adam(lr=0.001), loss=sparse_categorical_crossentropy)\n\n// scc is just a copy of sparse_categorical_crossentropy from tensorflow_backend\nnet.model.compile(optimizer=Adam(lr=0.001), loss=scc)\n</code></pre>\n\n<p>This gives the following error:</p>\n\n<pre><code>ValueError: Error when checking target: expected mask to have shape (None, 4096, 2) but got array with shape (8, 4096, 1)\n</code></pre>\n\n<p>If I change the label to One-Hot encoding format to correspond to the 2 labels, then tensorflow throws an error as shown below:</p>\n\n<pre><code>label = np.hstack((label, (~label.astype(bool)).astype(int)))\n\nW tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: logits and labels must have the same first dimension, got logits shape [32768,2] and labels shape [65536]\n</code></pre>\n\n<p>Any idea what I am doing wrong ?</p>\n"}, {"tags": ["python", "numpy", "multidimensional-array", "nearest-neighbor", "masked-array"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1511384892, "post_id": 47443874, "comment_id": 81842885, "body": "What&#39;s the expected output for that 2D case?"}, {"owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1511385055, "post_id": 47443874, "comment_id": 81842971, "body": "It would be a mask array with predominantly True elements, only the K lowest values would be False in each row."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "edited": false, "score": 0, "creation_date": 1511387044, "post_id": 47443969, "comment_id": 81843876, "body": "Thank you, that works.  I have no idea how, but it does."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "edited": false, "score": 0, "creation_date": 1511387429, "post_id": 47443969, "comment_id": 81844027, "body": "@user2038074 Added some more comments to help out."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1511387255, "last_edit_date": 1511387255, "creation_date": 1511385208, "answer_id": 47443969, "question_id": 47443874, "link": "https://stackoverflow.com/questions/47443874/generate-mask-array-with-lowest-n-valued-positions-reset-per-row/47443969#47443969", "title": "Generate mask array with lowest N valued positions reset per row", "body": "<p>Here's one way -</p>\n\n<pre><code>N = 3 # number of points to be set as False per row\n\n# Slice out the first N cols per row\nk_idx = idx[:,:N]\n\n# Initialize output array\nout = np.ones(position.shape, dtype=bool)\n\n# Index into output with k_idx as col indices to reset\nout[np.arange(k_idx.shape[0])[:,None], k_idx] = 0\n</code></pre>\n\n<p>The last step involves <code>advanced-indexing</code>, which might be a big step if you are new to NumPy, but basically here we are using <code>k_idx</code> to index into columns and we are forming tuples of indexes to index into rows with the range array of <code>np.arange(k_idx.shape[0])[:,None]</code>. More info on <a href=\"https://docs.scipy.org/doc/numpy-1.10.1/reference/arrays.indexing.html#advanced-indexing\" rel=\"nofollow noreferrer\"><code>advanced-indexing</code></a>.</p>\n\n<p>We could improve on performance by using <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.argpartition.html\" rel=\"nofollow noreferrer\"><code>np.argpartition</code></a> instead of <code>argsort</code>, like so -</p>\n\n<pre><code>k_idx = np.argpartition(position, N)[:,:N]\n</code></pre>\n\n<p>Sample input, output for a case to set lowest <code>3</code> elements per row as False -</p>\n\n<pre><code>In [227]: position\nOut[227]: \narray([[36, 63,  3, 78, 98],\n       [75, 86, 63, 61, 79],\n       [21, 12, 72, 27, 23],\n       [38, 16, 17, 88, 29],\n       [93, 37, 48, 88, 10]])\n\nIn [228]: out\nOut[228]: \narray([[False, False, False,  True,  True],\n       [False,  True, False, False,  True],\n       [False, False,  True,  True, False],\n       [ True, False, False,  True, False],\n       [ True, False, False,  True, False]], dtype=bool)\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 47443969, "answer_count": 1, "score": 2, "last_activity_date": 1511387506, "creation_date": 1511384757, "last_edit_date": 1511387506, "question_id": 47443874, "link": "https://stackoverflow.com/questions/47443874/generate-mask-array-with-lowest-n-valued-positions-reset-per-row", "title": "Generate mask array with lowest N valued positions reset per row", "body": "<p>Given a 2D array of distances, use argsort to generate an index array, where the first element is the index of the lowest value in the row.  Use indexing to select only the first K columns, where K = 3 for example.</p>\n\n<pre><code>position = np.random.randint(100, size=(5, 5))\narray([[36, 63,  3, 78, 98],\n   [75, 86, 63, 61, 79],\n   [21, 12, 72, 27, 23],\n   [38, 16, 17, 88, 29],\n   [93, 37, 48, 88, 10]])\nidx = position.argsort()\narray([[2, 0, 1, 3, 4],\n   [3, 2, 0, 4, 1],\n   [1, 0, 4, 3, 2],\n   [1, 2, 4, 0, 3],\n   [4, 1, 2, 3, 0]])\nidx[:,0:3]\narray([[2, 0, 1],\n   [3, 2, 0],\n   [1, 0, 4],\n   [1, 2, 4],\n   [4, 1, 2]])\n</code></pre>\n\n<p>What I would like to do then is create a masked array which when applied to the original position array returns only the indices which yield the k shortest distances.</p>\n\n<p>I based this approach on some code I found which works on a 1 dimensional array.</p>\n\n<pre><code># https://glowingpython.blogspot.co.uk/2012/04/k-nearest-neighbor-search.html\n\nfrom numpy import random, argsort, sqrt\nfrom matplotlib import pyplot as plt    \n\ndef knn_search(x, D, K):\n    \"\"\" find K nearest neighbours of data among D \"\"\"\n    ndata = D.shape[1]\n    K = K if K &lt; ndata else ndata\n    # euclidean distances from the other points\n    sqd = sqrt(((D - x[:, :ndata]) ** 2).sum(axis=0))\n    idx = argsort(sqd)  # sorting\n    # return the indexes of K nearest neighbours\n    return idx[:K]\n\n# knn_search test\ndata = random.rand(2, 5)  # random dataset\nx = random.rand(2, 1)  # query point\n\n# performing the search\nneig_idx = knn_search(x, data, 2)\n\nfigure = plt.figure()\nplt.scatter(data[0,:], data[1,:])\nplt.scatter(x[0], x[1], c='g')\nplt.scatter(data[0, neig_idx], data[1, neig_idx], c='r', marker = 'o')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "list", "for-loop", "if-statement", "openpyxl"], "comments": [{"owner": {"reputation": 3104, "user_id": 2558739, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ygAg7.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2558739/ben"}, "edited": false, "score": 0, "creation_date": 1511385086, "post_id": 47443839, "comment_id": 81842985, "body": "So, I see a lot of print statements but it appears that you&#39;re only printing the output from one of them - is this the output from the last one?  Is your goal to remove the Nones from that list?"}, {"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1511386403, "post_id": 47443839, "comment_id": 81843608, "body": "Where is the country code/name?"}, {"owner": {"reputation": 291, "user_id": 8825683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TU9YZ.png?s=128&g=1", "display_name": "starboy", "link": "https://stackoverflow.com/users/8825683/starboy"}, "edited": false, "score": 0, "creation_date": 1511387734, "post_id": 47443839, "comment_id": 81844159, "body": "Im only printing the output of the &#39;print(patent)&#39; command and i shortened it because it was hundreds of cells. The print(list) at the bottom i did not include because it didn&#39;t give me the list i wanted"}, {"owner": {"reputation": 291, "user_id": 8825683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TU9YZ.png?s=128&g=1", "display_name": "starboy", "link": "https://stackoverflow.com/users/8825683/starboy"}, "edited": false, "score": 0, "creation_date": 1511387893, "post_id": 47443839, "comment_id": 81844235, "body": "Hi Jeroen, the country names are in a different excel column. I have not figured out how to use them as a key for the groups of values because they are separated by even more None objects and random numbers"}, {"owner": {"reputation": 2600, "user_id": 6914989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fm2Ar.png?s=128&g=1", "display_name": "FabienP", "link": "https://stackoverflow.com/users/6914989/fabienp"}, "edited": false, "score": 1, "creation_date": 1511389440, "post_id": 47443839, "comment_id": 81844840, "body": "Ever heard of <code>pandas</code>? Kinda made for this task, and it can <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\">read .xlsx files</a> directly."}, {"owner": {"reputation": 291, "user_id": 8825683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TU9YZ.png?s=128&g=1", "display_name": "starboy", "link": "https://stackoverflow.com/users/8825683/starboy"}, "edited": false, "score": 0, "creation_date": 1511389676, "post_id": 47443839, "comment_id": 81844925, "body": "FabienP - I read spent some time reading the manual for data frames; dicts and series in pandas but not enough to use it now. Dictionaries in particular require you to understand how the data is stored but when i have read more in depth i will try pandas. Do you know of a way to do what i want with openpyxl."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "reply_to_user": {"reputation": 2600, "user_id": 6914989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fm2Ar.png?s=128&g=1", "display_name": "FabienP", "link": "https://stackoverflow.com/users/6914989/fabienp"}, "edited": false, "score": 0, "creation_date": 1511425109, "post_id": 47443839, "comment_id": 81855915, "body": "@FabienP Pandas doesn&#39;t read Excel files directly (it uses <code>xlrd</code> to do this) but I agree that for this kind of statistical analysis it makes more sense the writing your own code. openpyxl works well with Pandas."}, {"owner": {"reputation": 291, "user_id": 8825683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TU9YZ.png?s=128&g=1", "display_name": "starboy", "link": "https://stackoverflow.com/users/8825683/starboy"}, "edited": false, "score": 0, "creation_date": 1511433972, "post_id": 47443839, "comment_id": 81861755, "body": "My goal is to break the loop when there is an empty cell, record any values the loop has iterated through before the empty cell in a list. Then for the loop to continue from where it last stopped (cell.value = None) and then break again at the next instance of None and record this new area of cell.values in another list. This needs to happen over the whole list."}, {"owner": {"reputation": 309, "user_id": 8840163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZUg0i.gif?s=128&g=1", "display_name": "HSchmachty", "link": "https://stackoverflow.com/users/8840163/hschmachty"}, "edited": false, "score": 0, "creation_date": 1511974318, "post_id": 47443839, "comment_id": 82073190, "body": "This is a fairly confusing question. Can you include the spreadsheet? Also, do you mean to say each list of countries should contain 19 countries? Or you want all countries to be equally divided into 19 lists? It sounds like there is an easy solution if you could clarify what you are trying to achieve."}], "owner": {"reputation": 291, "user_id": 8825683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TU9YZ.png?s=128&g=1", "display_name": "starboy", "link": "https://stackoverflow.com/users/8825683/starboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511385385, "creation_date": 1511384582, "question_id": 47443839, "link": "https://stackoverflow.com/questions/47443839/how-to-separate-extracted-column-from-excel-into-different-lists-or-groups-in-py", "title": "How to separate extracted column from excel into different lists or groups in Python", "body": "<p>I am reading a column from an excel file using openpyxl.</p>\n\n<p>I have written code to get the column of data I need into excel but the data is separated by empty cells.</p>\n\n<p>I want to group these data wherever the cell value is not None into 19 sets of countries so that I can use it later to calculate the mean and standard deviation for the 19 countries.</p>\n\n<p>I don't want to hard code it using list slices. Instead I want to save these integers to a list or list of lists using a loop but im not sure how to because this is my first project with Python.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>    #Read PCT rankings project ratified results\n#Beta\n\nimport openpyxl\n\nwb=openpyxl.load_workbook('PCT rankings project ratified results.xlsx', data_only=True)\nsheet=wb.get_sheet_by_name('PCT by IP firms')\n\nrow_counter=sheet.max_row\ncolumn_counter=sheet.max_column\n\nprint(row_counter)\nprint(column_counter)\n\n#iterating over column of patent filings and trying to use empty cells to flag loop for it to append/store list of numbers before reaching the next non empty cell and repeat this everytime it happens(expecting 19 times) \n\nlist=[]\nfor row in range(4,sheet.max_row +1):\n    patent=sheet['I'+str(row)].value\n    print(patent)\n    if patent == None:\n        list.append(patent)\nprint(list)\n</code></pre>\n\n<p>This is the output from Python giving you a visualisation of what I am trying to do.</p>\n\n<p>Column I:\n412\n14\n493\n488\n339\n273\n238\n226\n200\n194\n153\n164\n151\n126\nNone\n120\nNone\nNone\n133\n77\n62\n79\n24\n0\n30\n20\n16\n0\n6\n9\n11\nNone\nNone\nNone\nNone\n608\n529\n435\n320\n266\n264\n200\n272\n134\n113\n73\n23\n12\n52\n21</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 3, "creation_date": 1511384783, "post_id": 47443834, "comment_id": 81842831, "body": "if this is your code it isn&#39;t fine, the <code>elif</code>s should be aligned with the first <code>if</code>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1511384793, "post_id": 47443834, "comment_id": 81842837, "body": "Your code <i>isn&#39;t</i> fine, at least not as shown here."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1511384845, "post_id": 47443834, "comment_id": 81842862, "body": "The error is pretty explicit: you have spaces and tabs in your indentation; replace all of one with the other, and fix your editor to use spaces (recommended) consistently."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1511385059, "post_id": 47443834, "comment_id": 81842973, "body": "&quot;Could my code be incorrect? <a href=\"http://dopamine.net.au/wp-content/uploads/2016/10/skinner.jpg\" rel=\"nofollow noreferrer\">No, it&#39;s the compiler that&#39;s wrong!</a>&quot;"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1511385077, "post_id": 47443834, "comment_id": 81842983, "body": "That code isn&#39;t indented correctly for any version of Python, but I assume that&#39;s just an accident in copying your code here. That error message is happening because you <b>cannot</b> mix tabs and spaces when indenting Python 3 code, it&#39;s as simple as that."}, {"owner": {"reputation": 29, "user_id": 8954146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/230b599c5e04cfb375d26f3fe8c162b9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterHackerLOIS", "link": "https://stackoverflow.com/users/8954146/masterhackerlois"}, "edited": false, "score": 0, "creation_date": 1511385308, "post_id": 47443834, "comment_id": 81843096, "body": "What the hell in the python IDLE it is aligned, gg python idle."}, {"owner": {"reputation": 29, "user_id": 8954146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/230b599c5e04cfb375d26f3fe8c162b9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterHackerLOIS", "link": "https://stackoverflow.com/users/8954146/masterhackerlois"}, "edited": false, "score": 0, "creation_date": 1511387357, "post_id": 47443834, "comment_id": 81844000, "body": "I reformatted it and it is still coming up with the error."}, {"owner": {"reputation": 29, "user_id": 8954146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/230b599c5e04cfb375d26f3fe8c162b9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterHackerLOIS", "link": "https://stackoverflow.com/users/8954146/masterhackerlois"}, "edited": false, "score": 0, "creation_date": 1511473990, "post_id": 47443834, "comment_id": 81882108, "body": "I have edited the question."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8954146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/230b599c5e04cfb375d26f3fe8c162b9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterHackerLOIS", "link": "https://stackoverflow.com/users/8954146/masterhackerlois"}, "edited": false, "score": 0, "creation_date": 1511474016, "post_id": 47443897, "comment_id": 81882119, "body": "I have edited the question."}], "tags": [], "owner": {"reputation": 434, "user_id": 7371512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gOyf.jpg?s=128&g=1", "display_name": "Tatsuya Yokota", "link": "https://stackoverflow.com/users/7371512/tatsuya-yokota"}, "is_accepted": true, "score": 0, "last_activity_date": 1511384849, "creation_date": 1511384849, "answer_id": 47443897, "question_id": 47443834, "link": "https://stackoverflow.com/questions/47443834/inconsistent-use-of-tabs-and-spaces-in-indentation-python/47443897#47443897", "title": "Inconsistent use of tabs and spaces in indentation??? (python)", "body": "<p>Your tabbing should be consistent for if/elif/else statements on the same level. I'm guessing you would want to reformat the code as the following:</p>\n\n<pre><code>if ai == 1 and rock == True:\n    lblr = tkinter.Label(menuwol, text=\"Neither win, the both of you picked rocks.\")\n    time.sleep(1)\n    menuwol.destroy()\n\nelif ai == 1 and paper == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked rocks, you picked paper, you win!\")\n    time.sleep(1)\n    menuwol.destroy()\n\nelif ai == 1 and sissors == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked rocks, you picked sissors, computer wins!\")\n    time.sleep(1)\n    menuwol.destroy()\n\nelif ai == 2 and rock == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked paper, you picked rocks, computer wins!\")\n    time.sleep(1)\n    menuwol.destroy()\n    #rest of code\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8954146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/230b599c5e04cfb375d26f3fe8c162b9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterHackerLOIS", "link": "https://stackoverflow.com/users/8954146/masterhackerlois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23739, "favorite_count": 0, "closed_date": 1511385315, "accepted_answer_id": 47443897, "answer_count": 1, "score": -5, "last_activity_date": 1511473890, "creation_date": 1511384555, "last_edit_date": 1511473890, "question_id": 47443834, "link": "https://stackoverflow.com/questions/47443834/inconsistent-use-of-tabs-and-spaces-in-indentation-python", "closed_reason": "Duplicate", "title": "Inconsistent use of tabs and spaces in indentation??? (python)", "body": "<pre><code>if ai == 1 and rock == True:\n\n     lblr = tkinter.Label(menuwol, text=\"Neither win, the both of you picked rocks.\")\n     time.sleep(1)\n     menuwol.destroy()\n     lblr.pack()\n\nelif ai == 1 and paper == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked rock, you picked paper, you win!\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelif ai == 1 and sissors == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked rock, you picked sissors, computer wins!\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelif ai == 2 and rock == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked paper, you picked rock, computer wins!\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelif ai == 2 and paper == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Neither win, both of you picked paper.\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelif ai == 2 and sissors == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked paper, you picked sissors, you win!\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelif ai == 3 and rock == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked sissors, you picked rock, you win!\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelif ai == 3 and paper == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Computer picked sissors, you picked paper, computer wins!\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelif ai == 3 and sissors == True:\n\n    lblr = tkinter.Label(menuwol, text=\"Neither win, both of you picked sissors.\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n\nelse:\n\n    lblr = tkinter.Label(menuwol, text=\"Error BOIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII!!!\")\n    time.sleep(1)\n    menuwol.destroy()\n    lblr.pack()\n</code></pre>\n\n<p>I am trying to make a rock, paper, scissors game and the <em>Inconsistent use of tabs and spaces in indentation</em> error comes up even though my code is fine.\nHow do I fix this?</p>\n\n<p>I have re-wrote the code in notepad++, Visual Studios and default python IDLE. </p>\n\n<p>Any help will be much appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 2, "creation_date": 1511384783, "post_id": 47443832, "comment_id": 81842832, "body": "Your function hits a <code>return</code> statement at the end of its first pass through the <code>for</code> loop, so it never gets to the second pass."}, {"owner": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "reply_to_user": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1511385246, "post_id": 47443832, "comment_id": 81843063, "body": "@glibdud Thank you. That did it.   I commented out the &#39;return&#39; line and ran it. It seems as though it loops through three times based on the &#39;zipshapes&#39; function print statements. They&#39;re repeated three times in the interactive window. Any idea why?"}], "owner": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511384547, "creation_date": 1511384547, "question_id": 47443832, "link": "https://stackoverflow.com/questions/47443832/append-to-zipfile-self-made-function", "title": "Append to Zipfile Self-Made Function", "body": "<p>The closest question to mine is this one: \nPython 2.6 - Add a file to zipfile without folders \nBut it's not exactly what I'm looking for. </p>\n\n<p>I' m trying to define a pretty simple function, and after debugging I still can't catch why, in the for loop, the Disclaimer - Final.txt file is only being appended to one zip file, and not both? </p>\n\n<p>This function does a few things: it finds the zipfile--> then removes the zipfile --> then calls another function 'zipshapes' which zips a new file--> then it appends the txt file. </p>\n\n<pre><code>import zipfile, os\nfrom ZipFiles import zipshapes \n\npath = r'\\\\gisfile\\GISstaff\\Jared\\Python Scripts\\Disclaimer - Final.txt'\nzips = [r'\\\\gisfile\\GISstaff\\Jared\\Python Scripts\\Test\\WillCounty_AddressPoint.zip',\n        r'\\\\gisfile\\GISstaff\\Jared\\Python Scripts\\Test\\WillCounty_Street.zip'] # list of zip folders\n\ndef append2zip():\n  for zip in zips: # loop through zipfolders\n    if os.path.exists(zip):\n      os.remove(zip)\n      print('removed: {}'.format(zip))\n      zipshapes()\n      zf = zipfile.ZipFile(zip,mode='a')\n      zf.write(path,os.path.basename(path))\n      print('disclaimer appended: {}'.format(zip))\n      return 'append2zip'\n\nappend2zip() # call function above\n</code></pre>\n"}, {"tags": ["python", "operator-overloading", "eval"], "comments": [{"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1511384973, "post_id": 47443806, "comment_id": 81842918, "body": "Look here: <a href=\"https://docs.python.org/3/reference/expressions.html#operator-precedence\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/&hellip;</a>. It has to do with precedence. <code>+</code> is going to be evaluated before the bitwise operator <code>^</code>. That is why you are seeing it work with explicit parentheses."}, {"owner": {"reputation": 768, "user_id": 5080669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab31e0ae217530fad8878facd993a24?s=128&d=identicon&r=PG&f=1", "display_name": "O.Suleiman", "link": "https://stackoverflow.com/users/5080669/o-suleiman"}, "edited": false, "score": 0, "creation_date": 1511384979, "post_id": 47443806, "comment_id": 81842922, "body": "You could use something like this maybe: eval(&quot;A^2+1&quot;.replace(&quot;^&quot;,&quot;**&quot;))"}], "owner": {"reputation": 401, "user_id": 5572577, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92bb3f08ebfc9957005c2d16818f2660?s=128&d=identicon&r=PG&f=1", "display_name": "Yeti", "link": "https://stackoverflow.com/users/5572577/yeti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1511384457, "creation_date": 1511384457, "question_id": 47443806, "link": "https://stackoverflow.com/questions/47443806/overload-caret-operator-for-string-evaluation-in-python", "title": "Overload caret operator for string evaluation in Python", "body": "<p>The easiest way to bypass a current problem I have is to interpret the caret operator (^) as a power operator, which in Python is **. I need to evaluate strings of arithmetic with this new definition of ^, so I am using <code>eval()</code> to accomplish this. I know the dangers of Python's <code>eval()</code> but this code will <em>only ever</em> be used by myself.</p>\n\n<p>To accomplish the operator overloading I have done:</p>\n\n<pre><code>class Pow(float):\n    def __xor__(self, other):\n        return self ** other\n\n# Give a value for the variable and define using new Class Pow\nA = Pow(2.4)\n\neval(\"A^3\")\n</code></pre>\n\n<p>This works great, but for any operator placed before or after the power in the string, e.g.:</p>\n\n<pre><code>eval(\"1+A^3\")\neval(\"A^3+A\")\netc...\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>unsupported operand type(s) for ^: 'float' and 'int'\n</code></pre>\n\n<p>Or the incorrect answer.</p>\n\n<p>If all the power terms are placed in brackets, e.g.:</p>\n\n<pre><code>eval(\"1+(A^3)\")\neval(\"(A^3)+A\")\n</code></pre>\n\n<p>Then everything works great again as the correct Class syntax is now being satisfied. Replacing the ^ characters in the string with ** beforehand is not ideal so I was wondering if there is a way to 'more robustly' overload the caret operator for arithmetic evaluation as though it were a traditional power operator. If not, is there a better way to accomplish this task?</p>\n"}, {"tags": ["python", "dictionary", "while-loop"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 2, "creation_date": 1511384324, "post_id": 47443765, "comment_id": 81842631, "body": "How would a while loop know when to end? Why wouldn&#39;t you just break out of the for loop? If you have a boolean flag then why wouldn&#39;t you just use the else clause instead?"}, {"owner": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "edited": false, "score": 3, "creation_date": 1511384393, "post_id": 47443765, "comment_id": 81842660, "body": "Try using a <code>break</code> after <code>fooBar = True</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1511384563, "post_id": 47443765, "comment_id": 81842733, "body": "Sure you can use a <code>while</code> loop, <i>every for loop can be written as a while loop if you really have to for some reson</i> but I don&#39;t see any advantages over your for loop."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1511384855, "post_id": 47443765, "comment_id": 81842864, "body": "There may be better ways to do this. If the condition depends on the key as well as the value you may be able to use set methods to select a subset of the items so that you don&#39;t need to loop over them all until the condition is true. This is efficient because <code>.keys()</code> returns a set-like View, and if the values are of a suitable type then the <code>.items()</code> View is also set-like."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1511385135, "post_id": 47443765, "comment_id": 81843004, "body": "@PM2Ring that is true in python 3 only. But who uses python 2 in 2017 ? :) I agree that iterating on a dict should be done without break to process all items. a potential <code>break</code> means that there&#39;s a linear search somewhere that could be faster if the data was organized better."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511385499, "post_id": 47443765, "comment_id": 81843189, "body": "@Jean-Fran&#231;oisFabre Exactly. :) We should assume that all Python questions are about Python 3 unless the OP explicitly mentions otherwise. However, Python 2.6+ does provide <a href=\"https://docs.python.org/2/library/stdtypes.html#dictionary-view-objects\" rel=\"nofollow noreferrer\">View objects</a>, but they&#39;re named <code>.viewkeys()</code> etc."}], "answers": [{"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 5, "last_activity_date": 1511384369, "creation_date": 1511384369, "answer_id": 47443788, "question_id": 47443765, "link": "https://stackoverflow.com/questions/47443765/can-you-use-a-while-loop-on-a-dictionary-in-python/47443788#47443788", "title": "Can you use a while loop on a dictionary in python?", "body": "<p>You don't have to continue iterating over the entire dictionary - you could just <code>break</code> out of the loop:</p>\n\n<pre><code>fooBar = False\nfor key, value in my_dict.items():\n    if (condition):\n        fooBar = True\n        break # Here! \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 3, "last_activity_date": 1511385273, "last_edit_date": 1511385273, "creation_date": 1511384542, "answer_id": 47443829, "question_id": 47443765, "link": "https://stackoverflow.com/questions/47443765/can-you-use-a-while-loop-on-a-dictionary-in-python/47443829#47443829", "title": "Can you use a while loop on a dictionary in python?", "body": "<p>In the case of linear search like this, looping &amp; breaking with a a flag set is a classical technique. Reserve <code>while</code> to cases where you cannot predict when the loop is going to end at all. </p>\n\n<p>However, a more pythonic method than setting a flag (like we'd have to do in Java or C) would be to use <code>else</code> for the <code>for</code> loop. </p>\n\n<pre><code>for key, value in my_dict.items():\n    if condition:\n        break\nelse:\n   # here we know that the loop went to the end without a break\n</code></pre>\n\n<p>just my 2 cents, though: iterating on a dictionary should be done without break to process all items. a potential <code>break</code> means that there's a linear search somewhere that could be faster if the data was organized better (for instance with values stored as keys to other dictionaries depending on what you're looking for so lookup is faster)</p>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511384821, "post_id": 47443836, "comment_id": 81842848, "body": "good remark. It doesn&#39;t apply to a complex processing though."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1511384888, "post_id": 47443836, "comment_id": 81842882, "body": "@Jean-Fran&#231;oisFabre: Why not? <code>any(complex_processing(k, v) for k, v in my_dict.items())</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1511384959, "post_id": 47443836, "comment_id": 81842908, "body": "I mean some code with auxiliary variables, cumulative stuff... not very good in a function since you&#39;d have to use globals (note: I upvoted your answer)"}], "tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 4, "last_activity_date": 1511384842, "last_edit_date": 1511384842, "creation_date": 1511384567, "answer_id": 47443836, "question_id": 47443765, "link": "https://stackoverflow.com/questions/47443765/can-you-use-a-while-loop-on-a-dictionary-in-python/47443836#47443836", "title": "Can you use a while loop on a dictionary in python?", "body": "<p>The pythonic variant would be to use <a href=\"https://docs.python.org/3/library/functions.html#any\" rel=\"nofollow noreferrer\"><code>any</code></a>:</p>\n\n<pre><code>any(condition for k, v in my_dict.items())\n</code></pre>\n\n<p>As an example, if you want to check if there's any pair of <code>(key, value)</code> with a sum larger than 10:</p>\n\n<pre><code>&gt;&gt;&gt; my_dict = {1: 4, 5: 6}\n&gt;&gt;&gt; any(k + v &gt; 10 for k, v in my_dict.items())\nTrue\n&gt;&gt;&gt; any(k + v &gt; 100 for k, v in my_dict.items())\nFalse\n</code></pre>\n\n<p>As mentioned in the documentation, <code>any</code> is equivalent to:</p>\n\n<pre><code>def any(iterable):\n    for element in iterable:\n        if element:\n            return True\n    return False\n</code></pre>\n\n<p>which very much looks like your code written as a function.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13473325, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/21f74c062719dbf1b6ddf98104c3da3b?s=128&d=identicon&r=PG", "display_name": "aaa123", "link": "https://stackoverflow.com/users/13473325/aaa123"}, "is_accepted": false, "score": -1, "last_activity_date": 1588670578, "last_edit_date": 1588670578, "creation_date": 1588669236, "answer_id": 61609446, "question_id": 47443765, "link": "https://stackoverflow.com/questions/47443765/can-you-use-a-while-loop-on-a-dictionary-in-python/61609446#61609446", "title": "Can you use a while loop on a dictionary in python?", "body": "<pre><code>print(\"It is a dictionary\")\nDict = {\"abase\" : \"To lower in position, estimation, or the like; degrade.\" ,\n\n\"abbess\" : \"The lady superior of a nunnery.\" ,\n\n\"abbey\" : \"The group of buildings which collectively form the dwelling-place of a society of monks or nuns.\" ,\n\n\"abbot\" : \"The superior of a community of monks.\" ,\n\n\"abdicate\" : \"To give up (royal power or the like).\",\n\n\"abdomen\" : \"In mammals, the visceral cavity between the diaphragm and the pelvic floor;the belly.\" ,\n\n\"abdominal\": \"Of, pertaining to, or situated on the abdomen.\" ,\n\n\"abduction\" : \"A carrying away of a person against his will, or illegally.\" ,\n\n\"abed\" :\"In bed; on a bed.\",\n\n\"append\":\"To join something to the end\",\n\"accuracy\" :  \"Exactness.\",\n\n\"accurate\" : \"Conforming exactly to truth or to a standard.\",\n\n\"accursed\" :  \"Doomed to evil, misery, or misfortune.\",\n\n\"accustom\": \"To make familiar by use.\",\n\n\"acerbity\" : \"Sourness, with bitterness and astringency.\",\n\n\"acetate\" : \"A salt of acetic acid.\",\n\n\"acetic\" : \"Of, pertaining to, or of the nature of vinegar.\",\n\n\"ache\": \"To be in pain or distress.\",\n\n\"achillean\" : \"Invulnerable\",\n\n\"achromatic\" : \"Colorless\",\n\n\"acid\" : \"A sour substance.\",\n\n\"acidify\" : \"To change into acid.\",\n\n\"acknowledge\":  \"To recognize; to admit the genuineness or validity of.\",\n\n\"acknowledgment\":\"Recognition.\",\n\n\"acme\" : \"The highest point, or summit.\",\n\n\"acoustic\" : \"Pertaining to the act or sense of hearing.\",\n\n\"acquaint\" : \"To make familiar or conversant.\",\n\n\"acquiesce\" : \"To comply; submit.\",\n\n\"acquiescence\" : \"Passive consent.\",\n\n\"acquire\" : \"To get as one's own.\",\n\n\"acquisition\" :\"Anything gained, or made one's own, usually by effort or labor.\",\n\n\"acquit\" : \"To free or clear, as from accusation.\",\n\n\"acquittal\" :  \"A discharge from accusation by judicial action.\",\n\n\"acquittance\": \"Release or discharge from indebtedness, obligation, or responsibility.\",\n\n\"acreage\" : \"Quantity or extent of land, especially of cultivated land.\",\n\n\"acrid\" :\"Harshly pungent or bitter.\",\n\n\"acrimonious\" : \"Full of bitterness.\" ,\n\n\"acrimony\" : \"Sharpness or bitterness of speech or temper.\" ,\n\n\"actionable\" :\"Affording cause for instituting an action, as trespass, slanderous words.\",\n\n\"actuality\" : \"Any reality.\"}\n\nX = (input(\"If you wanna search any word then do\\n\"))\nif X not in Dict:\n    exit(\"Your word is out of dictionary\")\nif X in Dict:\n    print(Dict[X])\n    while (True):\n        X = (input(\"If you wanna search any word then do\\n\"))\n        if X in Dict:\n            print(Dict[X])\n        if X not in Dict:\n            print(\"Your word is out of dictionary\")\n            break\n****#Run it anywhere you want copy my code it works fine with me****\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13473325, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/21f74c062719dbf1b6ddf98104c3da3b?s=128&d=identicon&r=PG", "display_name": "aaa123", "link": "https://stackoverflow.com/users/13473325/aaa123"}, "is_accepted": false, "score": 0, "last_activity_date": 1617348617, "last_edit_date": 1617348617, "creation_date": 1588669429, "answer_id": 61609508, "question_id": 47443765, "link": "https://stackoverflow.com/questions/47443765/can-you-use-a-while-loop-on-a-dictionary-in-python/61609508#61609508", "title": "Can you use a while loop on a dictionary in python?", "body": "<pre><code>print(&quot;It is a dictionary&quot;)\ndt = {\n    &quot;abase&quot; : &quot;To lower in position, estimation, or the like; degrade.&quot; ,\n    &quot;abbess&quot; : &quot;The lady superior of a nunnery.&quot; ,\n    &quot;abbey&quot; : &quot;The group of buildings which collectively form the dwelling-place of a society of monks or nuns.&quot; ,\n    &quot;abbot&quot; : &quot;The superior of a community of monks.&quot; ,\n    &quot;abdicate&quot; : &quot;To give up (royal power or the like).&quot;,\n    &quot;abdomen&quot; : &quot;In mammals, the visceral cavity between the diaphragm and the pelvic floor;the belly.&quot; ,\n    &quot;abdominal&quot;: &quot;Of, pertaining to, or situated on the abdomen.&quot; ,\n    &quot;abduction&quot; : &quot;A carrying away of a person against his will, or illegally.&quot; ,\n    &quot;abed&quot; :&quot;In bed; on a bed.&quot;,\n    &quot;append&quot;:&quot;To join something to the end&quot;,\n    &quot;accuracy&quot; :  &quot;Exactness.&quot;,\n    &quot;accurate&quot; : &quot;Conforming exactly to truth or to a standard.&quot;,\n    &quot;accursed&quot; :  &quot;Doomed to evil, misery, or misfortune.&quot;,\n    &quot;accustom&quot;: &quot;To make familiar by use.&quot;,\n    &quot;acerbity&quot; : &quot;Sourness, with bitterness and astringency.&quot;,\n    &quot;acetate&quot; : &quot;A salt of acetic acid.&quot;,\n    &quot;acetic&quot; : &quot;Of, pertaining to, or of the nature of vinegar.&quot;,\n    &quot;ache&quot;: &quot;To be in pain or distress.&quot;,\n    &quot;achillean&quot; : &quot;Invulnerable&quot;,\n    &quot;achromatic&quot; : &quot;Colorless&quot;,\n    &quot;acid&quot; : &quot;A sour substance.&quot;,\n    &quot;acidify&quot; : &quot;To change into acid.&quot;,\n    &quot;acknowledge&quot;:  &quot;To recognize; to admit the genuineness or validity of.&quot;,\n    &quot;acknowledgment&quot;:&quot;Recognition.&quot;,\n    &quot;acme&quot; : &quot;The highest point, or summit.&quot;,\n    &quot;acoustic&quot; : &quot;Pertaining to the act or sense of hearing.&quot;,\n    &quot;acquaint&quot; : &quot;To make familiar or conversant.&quot;,\n    &quot;acquiesce&quot; : &quot;To comply; submit.&quot;,\n    &quot;acquiescence&quot; : &quot;Passive consent.&quot;,\n    &quot;acquire&quot; : &quot;To get as one's own.&quot;,\n    &quot;acquisition&quot; :&quot;Anything gained, or made one's own, usually by effort or labor.&quot;,\n    &quot;acquit&quot; : &quot;To free or clear, as from accusation.&quot;,\n    &quot;acquittal&quot; :  &quot;A discharge from accusation by judicial action.&quot;,\n    &quot;acquittance&quot;: &quot;Release or discharge from indebtedness, obligation, or responsibility.&quot;,\n    &quot;acreage&quot; : &quot;Quantity or extent of land, especially of cultivated land.&quot;,\n    &quot;acrid&quot; :&quot;Harshly pungent or bitter.&quot;,\n    &quot;acrimonious&quot; : &quot;Full of bitterness.&quot; ,\n    &quot;acrimony&quot; : &quot;Sharpness or bitterness of speech or temper.&quot; ,\n    &quot;actionable&quot; :&quot;Affording cause for instituting an action, as trespass, slanderous words.&quot;,\n    &quot;actuality&quot; : &quot;Any reality.&quot;\n}\n\nX = (input(&quot;If you wanna search any word then do\\n&quot;))\nif X not in dt:\n    exit(&quot;Your word is out of dictionary&quot;)\nif X in dt:\n    print(dt[X])\n    while (True):\n        X = (input(&quot;If you wanna search any word then do\\n&quot;))\n        if X in dt:\n            print(dt[X])\n        if X not in dt:\n            print(&quot;Your word is out of dictionary&quot;)\n            break\n\n#Run it anywhere you want copy my code it works fine with me it is made using while loop so feel free to use it\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 7606453, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d9b698ebd53ba075f6a01a1ce4c6ff5b?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolae Stroncea", "link": "https://stackoverflow.com/users/7606453/nicolae-stroncea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14399, "favorite_count": 0, "accepted_answer_id": 47443788, "answer_count": 5, "score": 5, "last_activity_date": 1617348617, "creation_date": 1511384230, "last_edit_date": 1511384409, "question_id": 47443765, "link": "https://stackoverflow.com/questions/47443765/can-you-use-a-while-loop-on-a-dictionary-in-python", "title": "Can you use a while loop on a dictionary in python?", "body": "<p>If a value for one of the keys in my dictionary does satisfies a condition, I want to break out of the loop and set a property to <code>True</code>.</p>\n\n<p>what I'm doing so far is:</p>\n\n<pre><code>fooBar = False\nfor key, value in my_dict.items():\n    if (condition):\n        fooBar = True\n</code></pre>\n\n<p>Do I need to use a for loop and iterate through all items in the dictionary, or can I use a while loop?</p>\n"}, {"tags": ["python", "matlab", "exe"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1511386501, "post_id": 47443730, "comment_id": 81843642, "body": "what do your variables <code>V_S</code> and <code>V_T</code> look like?"}, {"owner": {"reputation": 21, "user_id": 8993239, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3WtRXnA88gg/AAAAAAAAAAI/AAAAAAAAJ-U/SgmYsN1uIDI/photo.jpg?sz=128", "display_name": "Sahel Fallahdoust", "link": "https://stackoverflow.com/users/8993239/sahel-fallahdoust"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1511466975, "post_id": 47443730, "comment_id": 81879826, "body": "Ther are lists of vertex positions, so if I print them they are going to be sth like: [[x1,y1,z1],[x2,y2,z2],...,[xn,yn,zn]]"}], "owner": {"reputation": 21, "user_id": 8993239, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3WtRXnA88gg/AAAAAAAAAAI/AAAAAAAAJ-U/SgmYsN1uIDI/photo.jpg?sz=128", "display_name": "Sahel Fallahdoust", "link": "https://stackoverflow.com/users/8993239/sahel-fallahdoust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530799214, "creation_date": 1511384108, "last_edit_date": 1530799214, "question_id": 47443730, "link": "https://stackoverflow.com/questions/47443730/pass-vector-lists-to-an-executable-frompython", "title": "Pass vector/lists to an executable frompython", "body": "<p>I have a Matlab <code>.EXE</code> file which calls a function <code>BlendingFacialFeatures()</code>.</p>\n\n<p>This function needs source vertices <code>V_S</code> and target vertices <code>V_T</code> as a list. As the output, it returns a list of vertices as well.</p>\n\n<p>Now I am trying to call this <code>.EXE</code> file from python. I tried: </p>\n\n<pre><code>arg = \"D:\\\\Face_Morphing\\\\Codes\\\\Exe\\\\V02\\\\exe\\\\BlendingFacialFeatures.exe\"\nresult = subprocess.call([arg , V_S , V_T]) \n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>ValueError: The truth value of an array with more than one element\nis ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>I was wondering how I can pass my vectors/lists directly to the Matlab <code>.EXE</code> file. Is it even possible?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 844, "user_id": 501368, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9eaad4d3fac389760c49f58971f8dbd9?s=128&d=identicon&r=PG", "display_name": "jdgilday", "link": "https://stackoverflow.com/users/501368/jdgilday"}, "edited": false, "score": 1, "creation_date": 1511384419, "post_id": 47443716, "comment_id": 81842673, "body": "You need to give more context in order for people to help you. Try including  the programming language (I think you&#39;re using python), any packages you&#39;re working with (where does dataframe come from), and a code snippet which shows where you&#39;re attempting to add the anonymous function"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1511384768, "post_id": 47443716, "comment_id": 81842825, "body": "<code>df.index += 1</code>"}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 3, "last_activity_date": 1511384543, "creation_date": 1511384543, "answer_id": 47443830, "question_id": 47443716, "link": "https://stackoverflow.com/questions/47443716/apply-anonymous-function-on-the-index-of-dataframe/47443830#47443830", "title": "apply anonymous function on the index of dataFrame", "body": "<p>One way would be:</p>\n\n<pre><code>df.set_index(df.index + 1)\n</code></pre>\n\n<p>another:</p>\n\n<pre><code>df.assign(index=lambda x: x.index+1).set_index('index')\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 8993230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c071946d9d8e14a15f3f4e4e849dcb4f?s=128&d=identicon&r=PG&f=1", "display_name": "saleh", "link": "https://stackoverflow.com/users/8993230/saleh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 47443830, "answer_count": 1, "score": 1, "last_activity_date": 1511394411, "creation_date": 1511384022, "last_edit_date": 1511394411, "question_id": 47443716, "link": "https://stackoverflow.com/questions/47443716/apply-anonymous-function-on-the-index-of-dataframe", "title": "apply anonymous function on the index of dataFrame", "body": "<p>I want to apply a   anonymous function (using <code>.apply()</code>) like <code>lambda x: x + 1</code> on indexes of dataframes (not on the columns) how can I do it?</p>\n"}, {"tags": ["javascript", "python", "flask", "static", "frontend"], "comments": [{"owner": {"reputation": 1213, "user_id": 929080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a592c05784ef354ea7eb298423af7f?s=128&d=identicon&r=PG", "display_name": "Arjen Dijkstra", "link": "https://stackoverflow.com/users/929080/arjen-dijkstra"}, "edited": false, "score": 0, "creation_date": 1511384507, "post_id": 47443714, "comment_id": 81842710, "body": "Shouldn&#39;t you start your href with a slash? href=&quot;/static/bootstrap.css&quot;"}, {"owner": {"reputation": 1, "user_id": 8993251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536bc7ae865439bf359b25ee4f554239?s=128&d=identicon&r=PG&f=1", "display_name": "OrzechowyKaloryfer", "link": "https://stackoverflow.com/users/8993251/orzechowykaloryfer"}, "reply_to_user": {"reputation": 1213, "user_id": 929080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a592c05784ef354ea7eb298423af7f?s=128&d=identicon&r=PG", "display_name": "Arjen Dijkstra", "link": "https://stackoverflow.com/users/929080/arjen-dijkstra"}, "edited": false, "score": 0, "creation_date": 1511384574, "post_id": 47443714, "comment_id": 81842738, "body": "Doesnt work with that either :("}], "owner": {"reputation": 1, "user_id": 8993251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536bc7ae865439bf359b25ee4f554239?s=128&d=identicon&r=PG&f=1", "display_name": "OrzechowyKaloryfer", "link": "https://stackoverflow.com/users/8993251/orzechowykaloryfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 643, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511384018, "creation_date": 1511384018, "question_id": 47443714, "link": "https://stackoverflow.com/questions/47443714/cannot-get-static-files-in-python-flask", "title": "Cannot get static files in python/flask", "body": "<p>I am trying to serve static index.html in flask, along with some javascript code, but i am getting a 404 or </p>\n\n<pre><code>ValueError: Unable to infer MIME-type because no filename is available. Please set either `attachment_filename`, pass a filepath to `filename_or_fp` or set your own MIME-type via `mimetype`.\n</code></pre>\n\n<p>in debug console.</p>\n\n<p>My code snippets that i think are of key importance are those:</p>\n\n<pre><code>app = Flask(__name__,static_url_path='/static')\n\n@app.route('/' ,methods=['GET'])\ndef home():\n    return app.send_static_file('index.html')\n\n@app.route('/static/&lt;path:path&gt;', methods=['GET'])\ndef staticReturn(path):\n    return app.send_static_file(path)\n</code></pre>\n\n<p>i get index.html served to me, but no files that i refer to index.html. And i refer to my files as such:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"static/bootstrap.css\"&gt;\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 4, "creation_date": 1511383954, "post_id": 47443685, "comment_id": 81842471, "body": "Sure, but you probably should define them all explicitely anyway. Furthermore, if you are really getting a bunch of variables where this becomes a pain, it&#39;s probably time to ask yourself &quot;should this data just go in a container?&quot;"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 2, "creation_date": 1511384010, "post_id": 47443685, "comment_id": 81842502, "body": "That looks pretty simple to me. Anything you might change would only complicate things."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1511384259, "post_id": 47443685, "comment_id": 81842606, "body": "<a href=\"https://docs.python.org/3/library/collections.html#collections.namedtuple\" rel=\"nofollow noreferrer\"><b><code>collections.namedtuple</code></b></a> is possibly the class @quamrana means, although it&#39;s part of the standard library, not a built-in."}, {"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1511384545, "post_id": 47443685, "comment_id": 81842724, "body": "If this were python 3, then <code>SimpleNamespace</code> <a href=\"https://docs.python.org/3.6/library/types.html#types.SimpleNamespace\" rel=\"nofollow noreferrer\">docs.python.org/3.6/library/types.html#types.SimpleNamespace</a> would be enough. Else look up Alex Martelli&#39;s Bunch Class <a href=\"http://code.activestate.com/recipes/52308-the-simple-but-handy-collector-of-a-bunch-of-named/\" rel=\"nofollow noreferrer\">code.activestate.com/recipes/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1511384200, "post_id": 47443744, "comment_id": 81842589, "body": "That is more concise but I would dispute that it is simpler."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511384658, "post_id": 47443744, "comment_id": 81842783, "body": "<b>very</b> smelly."}], "tags": [], "owner": {"reputation": 375, "user_id": 3335163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c16ceedcdd8d1a01eee6b5b3de944?s=128&d=identicon&r=PG&f=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/3335163/grisha"}, "is_accepted": false, "score": 0, "last_activity_date": 1511384381, "last_edit_date": 1511384381, "creation_date": 1511384136, "answer_id": 47443744, "question_id": 47443685, "link": "https://stackoverflow.com/questions/47443685/is-there-a-simple-way-of-assigning-instance-variables-in-a-python-class/47443744#47443744", "title": "Is there a simple way of assigning instance variables in a Python class?", "body": "<pre><code>class NewClass(object): \n  def __init__(self, **kwargs):\n    self.validate(kwargs) # optional      \n    self.__dict__.update(kwargs)\n</code></pre>\n\n<p>but the whole idea is kind of smelly</p>\n\n<p>you could additionally have a static set with admissible  <code>kwargs</code> keys and <code>validate</code> would check if passed <code>kwargs</code> contain a subset of that set</p>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1511384171, "creation_date": 1511384171, "answer_id": 47443753, "question_id": 47443685, "link": "https://stackoverflow.com/questions/47443685/is-there-a-simple-way-of-assigning-instance-variables-in-a-python-class/47443753#47443753", "title": "Is there a simple way of assigning instance variables in a Python class?", "body": "<p>You can use <code>__dict__</code>:</p>\n\n<pre><code>class NewClass:\n    def __init__(self, *args):\n        self.headers = [\"var{}\".format(i+1) for i in range(len(args))]#optional, can use an list of variable names you are expecting\n        for a, b in zip(self.headers, args):\n            self.__dict__[a] = b\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": true, "score": 2, "last_activity_date": 1511385475, "last_edit_date": 1511385475, "creation_date": 1511384400, "answer_id": 47443792, "question_id": 47443685, "link": "https://stackoverflow.com/questions/47443685/is-there-a-simple-way-of-assigning-instance-variables-in-a-python-class/47443792#47443792", "title": "Is there a simple way of assigning instance variables in a Python class?", "body": "<p><a href=\"https://docs.python.org/3/library/collections.html#collections.namedtuple\" rel=\"nofollow noreferrer\"><strong><code>collections.namedtuple</code></strong></a> is useful if you want something immutable:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import namedtuple\n&gt;&gt;&gt; NewClass = namedtuple('NewClass', 'x y')\n&gt;&gt;&gt; obj = NewClass(x=10, y=14)\n\n&gt;&gt;&gt; obj\nNewClass(x=10, y=14)\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 8988626, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pu1B0dXkMKM/AAAAAAAAAAI/AAAAAAAAAPU/dnqwFKbUWa0/photo.jpg?sz=128", "display_name": "birac", "link": "https://stackoverflow.com/users/8988626/birac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 47443792, "answer_count": 3, "score": 0, "last_activity_date": 1520250200, "creation_date": 1511383869, "last_edit_date": 1520250200, "question_id": 47443685, "link": "https://stackoverflow.com/questions/47443685/is-there-a-simple-way-of-assigning-instance-variables-in-a-python-class", "title": "Is there a simple way of assigning instance variables in a Python class?", "body": "<p>When defining a class in Python 2.7, you feed in variables to an init() function, then assign these to instance variables using e.g <code>self.x</code></p>\n\n<pre><code>class NewClass(object): \n  def __init__(self, x, y):      \n    self.x = x                    \n    self.y = y\n</code></pre>\n\n<p>If using a large number of variables, is there a way to simplify this process i.e. not have to explicitly define each instance variable?</p>\n\n<p>Or is there a good reason why they are explicitly defined?</p>\n"}, {"tags": ["python", "python-2.7", "matplotlib"], "comments": [{"owner": {"reputation": 3014, "user_id": 3621464, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lJc4V.jpg?s=128&g=1", "display_name": "MERose", "link": "https://stackoverflow.com/users/3621464/merose"}, "edited": false, "score": 0, "creation_date": 1575646059, "post_id": 47443670, "comment_id": 104647832, "body": "If the answer has solved your problem, would you maybe consider accepting the answer? This will marke the question as solved and also help other users."}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 0, "last_activity_date": 1511390006, "creation_date": 1511390006, "answer_id": 47444891, "question_id": 47443670, "link": "https://stackoverflow.com/questions/47443670/how-to-dynamically-re-order-items-in-matplotlib-legend/47444891#47444891", "title": "How to dynamically re-order items in matplotlib legend?", "body": "<p>You will need to order the list of lines to be used as legend handles as well as the list of labels by the result of the sorting of the last (or any other) row of the dataframe. </p>\n\n<pre><code>lines = ax.plot_date(...) \nlastrow = y.iloc[-1,:].values \norder = np.argsort(lastrow)\nfig.legend(np.array(lines)[order], y.columns[order])\n</code></pre>\n\n<p>Complete example:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\n\nfig, ax = plt.subplots(figsize=(6.4,3))\n\nlines = ax.plot_date(y.index.to_pydatetime(), y, '*-') \nax.xaxis.set_major_locator(mdates.WeekdayLocator(byweekday=(4),interval=2))\nax.xaxis.set_major_formatter(mdates.DateFormatter('%b %d'))\nax.yaxis.set_ticks(np.arange(1, 11, 1))\n\nplt.gca().invert_yaxis()\n\nlastrow = y.iloc[-1,:].values \norder = np.argsort(lastrow)\nfig.legend(np.array(lines)[order], y.columns[order], loc='right', frameon=False)\nplt.subplots_adjust(right=0.85)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Kmp2L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kmp2L.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 4385444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895c1df3a206963223c5c0e7121d5970?s=128&d=identicon&r=PG&f=1", "display_name": "RHoward", "link": "https://stackoverflow.com/users/4385444/rhoward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2159, "favorite_count": 0, "accepted_answer_id": 47444891, "answer_count": 1, "score": 1, "last_activity_date": 1511390006, "creation_date": 1511383760, "question_id": 47443670, "link": "https://stackoverflow.com/questions/47443670/how-to-dynamically-re-order-items-in-matplotlib-legend", "title": "How to dynamically re-order items in matplotlib legend?", "body": "<p>I am trying to create a simple bump chart where the legend order will be determined by the ranking of the most recent observations. I have a pandas DataFrame \"y\" with rankings across rows that looks like this. </p>\n\n<pre><code>In[231]: y\nOut[231]: \nCurrency    AUD  CAD   CHF  EUR  GBP  JPY  NOK  NZD  SEK   USD\n2017-09-08  5.0  1.0   8.0  3.0  9.0  7.0  4.0  6.0  2.0  10.0\n2017-09-22  8.0  2.0  10.0  1.0  5.0  9.0  4.0  6.0  3.0   7.0\n2017-10-06  4.0  5.0  10.0  2.0  7.0  9.0  3.0  8.0  1.0   6.0\n2017-10-20  3.0  4.0  10.0  1.0  7.0  5.0  6.0  9.0  2.0   8.0\n2017-11-03  5.0  3.0  10.0  1.0  9.0  7.0  2.0  8.0  4.0   6.0\n2017-11-17  5.0  4.0  10.0  1.0  9.0  7.0  3.0  8.0  2.0   6.0\n</code></pre>\n\n<p>The code I have used so far:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\n\nfig = plt.figure(figsize=(8.5,8.5))\nax = fig.add_subplot(111)\n\nl1,l2,l3,l4,l5,l6,l7,l8,l9,l10 = ax.plot_date(y.index.to_pydatetime(), y, '*-') \nax.xaxis.set_major_locator(mdates.WeekdayLocator(byweekday=(4),interval=2))\nax.xaxis.set_major_formatter(mdates.DateFormatter('%b %d'))\nax.yaxis.set_ticks(np.arange(1, 11, 1))\nax.set_title('Sample Chart', fontsize=20)\nplt.gca().invert_yaxis()\nfig.legend([l1,l2,l3,l4,l5,l6,l7,l8,l9,l10], ['AUD','CAD','CHF','EUR','GBP','JPY','NOK','NZD','SEK','USD'], 'right', fontsize=16, frameon=False, labelspacing=1.4)\nplt.tight_layout(pad=10) \n</code></pre>\n\n<p>Which generates an output of\n<a href=\"https://i.stack.imgur.com/D9k66.png\" rel=\"nofollow noreferrer\">fig.png</a></p>\n\n<p><strong>My question is how to reorder the legend based on the last observation from '2017-11-17'?</strong> i.e. I want EUR, SEK, NOK, etc... I do not want a static alphabetical ordering. Essentially in fig.legend I need [l4,l9,l7,...,l3], although this list will reorder as rows are added to 'y'. I can easily generate a list with the proper ordering the ordering but fig.legend wont accept a list where the elements are in quotations, ie ['l4','l9','l7',...,'l3'].</p>\n\n<p>I may be approaching this completely wrong so any help would be great.</p>\n"}, {"tags": ["python", "python-2.7", "pip", "python-packaging"], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 1325202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7adlj.png?s=128&g=1", "display_name": "Liam Pieri", "link": "https://stackoverflow.com/users/1325202/liam-pieri"}, "edited": false, "score": 0, "creation_date": 1511480663, "post_id": 47457252, "comment_id": 81883928, "body": "Thanks for the explanation! Can I have the values for the command class dict be a bash script instead of a python function? Or should I just make a function that calls the script?"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 521, "user_id": 1325202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7adlj.png?s=128&g=1", "display_name": "Liam Pieri", "link": "https://stackoverflow.com/users/1325202/liam-pieri"}, "edited": false, "score": 1, "creation_date": 1511481197, "post_id": 47457252, "comment_id": 81884048, "body": "@LiamPieri It should be a class that overrides the correct command class (custom test command should be a class that overrides class <code>test</code> from <code>setuptools.command.test</code> module, custom <code>build</code> command should be a class that overrides class <code>build</code> from <code>distutils.command.build</code> module and so on). Still, no one prescribes you what your command class <i>should</i> do, so you can call any bash script from there. I will update the answer with an example shortly."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 521, "user_id": 1325202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7adlj.png?s=128&g=1", "display_name": "Liam Pieri", "link": "https://stackoverflow.com/users/1325202/liam-pieri"}, "edited": false, "score": 1, "creation_date": 1511482719, "post_id": 47457252, "comment_id": 81884355, "body": "@LiamPieri check the updated answer, an example of running a bash script is added at the bottom, should now also be runnable with <code>python2</code>..."}, {"owner": {"reputation": 521, "user_id": 1325202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7adlj.png?s=128&g=1", "display_name": "Liam Pieri", "link": "https://stackoverflow.com/users/1325202/liam-pieri"}, "edited": false, "score": 0, "creation_date": 1511716346, "post_id": 47457252, "comment_id": 81952790, "body": "thanks! I&#39;m having an a weird issue when it comes to implementing this however, it doesn&#39;t makes sense to me. I&#39;m using 2.7 so my super has to take in args. So I call super with <code>super(MyTestClass, self)</code> but it throws this error at me <code>super() argument 1 must be type, not classobj</code>. Which doesn&#39;t make a any sense so I fed it in as <code>super(type(MyTestClass, self)</code> to which it spit back that self was not an instance of the type."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 521, "user_id": 1325202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7adlj.png?s=128&g=1", "display_name": "Liam Pieri", "link": "https://stackoverflow.com/users/1325202/liam-pieri"}, "edited": false, "score": 1, "creation_date": 1511720245, "post_id": 47457252, "comment_id": 81954163, "body": "@LiamPieri interesting, didn&#39;t know this: <a href=\"https://stackoverflow.com/questions/9698614/super-raises-typeerror-must-be-type-not-classobj-for-new-style-class\">related question on SO</a>. Add <code>object</code> to your interitance chain to fix the error: <code>class setupTestRequirements(test, object): ...</code> I don&#39;t do <code>python2.7</code>, thus not very much into its rules."}], "tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 1, "last_activity_date": 1511482644, "last_edit_date": 1511482644, "creation_date": 1511445561, "answer_id": 47457252, "question_id": 47443660, "link": "https://stackoverflow.com/questions/47443660/pypa-setup-py-test-scripts/47457252#47457252", "title": "PyPa setup.py test scripts", "body": "<p>It does not mean the files in <code>scripts</code> will be executed on package installation. The keyword <code>scripts</code> is used to mark python files in your package that are intended to run as standalone programs after package installation (maybe the name is a bit misleading). Example: you have a file <code>spam</code> with the content:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\n\nif __name__ == '__main__':\n    print('eggs!')\n</code></pre>\n\n<p>If you mark this file as script by adding it to the <code>scripts</code> in your <code>setup.py</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from setuptools import setup\n\nsetup(\n    ...\n    scripts=['spam'],\n)\n</code></pre>\n\n<p>after the package installation you can run <code>spam</code> as a standalone program in your terminal:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ spam\neggs!\n</code></pre>\n\n<p>Read <a href=\"http://python-packaging.readthedocs.io/en/latest/command-line-scripts.html\" rel=\"nofollow noreferrer\">this tutorial</a> for more info on command line scripts.</p>\n\n<hr>\n\n<p>Now, if you want to execute custom code on testing, you have to override the default <code>test</code> command. In your <code>setup.py</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from setuptools.command.test import test\n\nclass MyCustomTest(test):\n\n    def run(self):\n        print('&gt;&gt;&gt;&gt; this is my custom test command &lt;&lt;&lt;&lt;')\n        super().run()\n\nsetup(\n    ...\n    cmdclass={'test': MyCustomTest}\n)\n</code></pre>\n\n<p>Now you will notice an additional print when running tests:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python setup.py test\nrunning test\n&gt;&gt;&gt;&gt; this is my custom test command &lt;&lt;&lt;&lt;\nrunning egg_info\n...\nrunning build_ext\n\n----------------------------------------------------------------------\nRan 0 tests in 0.000s\n\nOK\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong>: if you want to run a custom bash script before executing tests, adapt the <code>MyCustomTest.run()</code> method. Example script <code>script.sh</code>:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/usr/bin/env bash\necho -n \"&gt;&gt;&gt; this is my custom bash script &lt;&lt;&lt;\"\n</code></pre>\n\n<p>Adapting <code>MyCustomTest</code> class in <code>setup.py</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import subprocess\nfrom setuptools import setup\nfrom setuptools.command.test import test\n\n\nclass MyCustomTest(test):\n\n    def run_some_script(self):\n        cmd = ['bash', 'script.sh']\n        # python3.5 and above\n        # ret = subprocess.run(cmd, stdout=subprocess.PIPE, universal_newlines=True)\n        # print(ret.stdout)\n\n        # old python2 versions\n        p = subprocess.Popen(cmd, stdout=subprocess.PIPE)\n        ret = p.communicate()\n        print(ret[0])\n\n    def run(self):\n        self.run_some_script()\n        super().run()\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python setup.py test\nrunning test\n&gt;&gt;&gt; this is my custom bash script &lt;&lt;&lt;\nrunning egg_info\nwriting spam.egg-info/PKG-INFO\nwriting dependency_links to spam.egg-info/dependency_links.txt\nwriting top-level names to spam.egg-info/top_level.txt\nreading manifest file 'spam.egg-info/SOURCES.txt'\nwriting manifest file 'spam.egg-info/SOURCES.txt'\nrunning build_ext\n\n----------------------------------------------------------------------\nRan 0 tests in 0.000s\n\nOK\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 1325202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7adlj.png?s=128&g=1", "display_name": "Liam Pieri", "link": "https://stackoverflow.com/users/1325202/liam-pieri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "accepted_answer_id": 47457252, "answer_count": 1, "score": 1, "last_activity_date": 1511722739, "creation_date": 1511383724, "last_edit_date": 1511722739, "question_id": 47443660, "link": "https://stackoverflow.com/questions/47443660/pypa-setup-py-test-scripts", "title": "PyPa setup.py test scripts", "body": "<p>I'm attempting to follow the advice and structure written in the <a href=\"http://python-packaging.readthedocs.io/\" rel=\"nofollow noreferrer\">python packaging docs</a>. In the setup function you can specify dependencies for tests with <code>tests_require</code>. And you can run scripts on install just by specifying <code>scripts</code>. But can I have a script that is only run in the case of a setup for testing?\n<hr>\nedit: Important parts of my setup.py</p>\n\n<pre><code>from setuptools import setup\n# To use a consistent encoding\nfrom codecs import open\nfrom os import path\nimport subprocess\nfrom setuptools import setup\nfrom setuptools.command.test import test\n\nclass setupTestRequirements(test, object):\n    def run_script(self):\n        cmd = ['bash', 'bin/test_dnf_requirements.sh']\n        p = subprocess.Popen(cmd, stdout=subprocess.PIPE)\n        ret = p.communicate()\n        print(ret[0])\n\n    def run(self):\n        self.run_script()\n        super(setupTestRequirements, self).run()\n\n...\nsetup(\n    ...\n    scripts=['bin/functional_dnf_requirements.sh'],\n    install_requires=['jira', 'PyYAML'],\n    tests_require=['flake8', 'autopep8', 'mock'],\n\n    cmdclass={'test': setupTestRequirements}\n)\n</code></pre>\n"}, {"tags": ["python", "openerp"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 8959881, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4c4e9965d0798dfb361fbe90a2b677b8?s=128&d=identicon&r=PG&f=1", "display_name": "ayar", "link": "https://stackoverflow.com/users/8959881/ayar"}, "edited": false, "score": 0, "creation_date": 1527300628, "post_id": 47447486, "comment_id": 88089314, "body": "Thanks @Rinaldi for  you  answer, I have been use your answer but the server stuck."}], "tags": [], "owner": {"reputation": 215, "user_id": 7911207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b3374ed8e88c751d2056dc4a8d6fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Rinaldi", "link": "https://stackoverflow.com/users/7911207/rinaldi"}, "is_accepted": true, "score": 1, "last_activity_date": 1511410729, "creation_date": 1511410729, "answer_id": 47447486, "question_id": 47443644, "link": "https://stackoverflow.com/questions/47443644/get-editable-copy-of-a-many2one-field-odoo/47447486#47447486", "title": "Get editable copy of a many2one field odoo", "body": "<p>You should use onchange not related fields, if you need to change value without change original value.\ntry this:</p>\n\n<pre><code>@api.multi\n    def onchange_segus1(self,segus1):\n    values          = {}\n        segus_obj    = self.env['segus.list']\n    if segus1:\n        data = segus_ob.browse(segus1).sDescr\n        values  = {\n            'decrTecn' : data       \n        }\n    return {'value': values} \n</code></pre>\n\n<p>and add in xml:\n    on_change=\"onchange_get_all_mark(segus1)\", in fields segus1</p>\n"}], "owner": {"reputation": 123, "user_id": 8959881, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4c4e9965d0798dfb361fbe90a2b677b8?s=128&d=identicon&r=PG&f=1", "display_name": "ayar", "link": "https://stackoverflow.com/users/8959881/ayar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 47447486, "answer_count": 1, "score": 0, "last_activity_date": 1511410729, "creation_date": 1511383659, "last_edit_date": 1511386649, "question_id": 47443644, "link": "https://stackoverflow.com/questions/47443644/get-editable-copy-of-a-many2one-field-odoo", "title": "Get editable copy of a many2one field odoo", "body": "<p>I have two custom modules in odoo:\nsegus.py (has a record of codes used as a source of information)\nreporte.py (use the fields registered in the module segus.py)\nI am extracting the following fields: sCodComp using many2one and the field decrTecn using   <em>related</em>  up here all right</p>\n\n<pre><code>from odoo import models, fields\nclass Reporte(models.Model):\n    _name = 'rep.oper' \n    segus1 = fields.Many2one('segus.list','SEGUS 1', required=True)\n    decrTecn = fields.Text(related='segus1.sDescr', store=True)\n\nfrom odoo import models, fields\nclass Segus(models.Model):\n    _name = 'segus.list'\n    _rec_name = 'sNom'\n    _description = 'Codes procedures'\n    sCodComp = fields.Char('component code')\n    sDescr = fields.Text('description procedures')\n</code></pre>\n\n<p>I would like to know how to make an editable copy in Reporte module\nof the Segus.sDescr field, because this original must not be modified.</p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "nlp", "nltk"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511383598, "post_id": 47443608, "comment_id": 81842301, "body": "I believe you mean <i>rationale</i> not <i>rational</i>."}, {"owner": {"reputation": 2645, "user_id": 2094670, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MXiyg.jpg?s=128&g=1", "display_name": "ajayramesh", "link": "https://stackoverflow.com/users/2094670/ajayramesh"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511383647, "post_id": 47443608, "comment_id": 81842324, "body": "yes, I mean rationale"}], "owner": {"reputation": 2645, "user_id": 2094670, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MXiyg.jpg?s=128&g=1", "display_name": "ajayramesh", "link": "https://stackoverflow.com/users/2094670/ajayramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1511383691, "creation_date": 1511383453, "last_edit_date": 1592644375, "question_id": 47443608, "link": "https://stackoverflow.com/questions/47443608/how-to-get-group-of-words-as-rationale-using-natural-language-processing-nltk", "title": "How to get group of words as Rationale using Natural Language processing/NLTK?", "body": "<p>consider below sentence, I want know how to extract rational from below sentence. Rationale meaning in this context = <code>single/group of words which gives some meanigful information to sentense</code></p>\n<blockquote>\n<p>I am play hockey.</p>\n<blockquote>\n<p><strong>play</strong></p>\n</blockquote>\n<p>I am feeling cold.</p>\n<blockquote>\n<p>rational: <strong>feeling cold</strong></p>\n</blockquote>\n<p>Sam is going to do Master of Science in Stanford next year.</p>\n<blockquote>\n<p>rational: <strong>Master of Science.</strong></p>\n</blockquote>\n</blockquote>\n<p>Those words are mix combination of adverbs, verbs and adjective. So how to extract those in nltk?</p>\n<p>I want to know how to extract group of words as rational using nltk ?</p>\n"}, {"tags": ["python", "datetime", "timezone", "iso8601"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 8970885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a038c6bb13e9c15b5313728b43241d31?s=128&d=identicon&r=PG&f=1", "display_name": "valerius21", "link": "https://stackoverflow.com/users/8970885/valerius21"}, "is_accepted": false, "score": 0, "last_activity_date": 1511385395, "last_edit_date": 1511385395, "creation_date": 1511385046, "answer_id": 47443931, "question_id": 47443605, "link": "https://stackoverflow.com/questions/47443605/python-get-timezone-value-from-datetime-object/47443931#47443931", "title": "python get timezone value from datetime object", "body": "<p>the problem is, that the values seem to be fixed to that object.\nthis is not the most efficient way to do it, in fact, I would happily know other answers, but, this is how I'd do it:</p>\n\n<pre><code>import dateutil.parser\nimport datetime\nimport re\nfirststarttime = '2008-12-31T23:00:00-08:00'\ndatetime_obj = dateutil.parser.parse(firststarttime)\ns = str(datetime_obj.tzinfo)\np = re.compile(\",\\s.?\\d+\")\nresult = p.search(s).group()\nresult = int(result[2:])\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>print(result)\n&gt;&gt;&gt; -28800 # as integer\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 969, "user_id": 8944057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sUIkS.png?s=128&g=1", "display_name": "eugenhu", "link": "https://stackoverflow.com/users/8944057/eugenhu"}, "is_accepted": true, "score": 0, "last_activity_date": 1511387104, "last_edit_date": 1511387104, "creation_date": 1511386474, "answer_id": 47444198, "question_id": 47443605, "link": "https://stackoverflow.com/questions/47443605/python-get-timezone-value-from-datetime-object/47444198#47444198", "title": "python get timezone value from datetime object", "body": "<p>Just use (if you're on Python 2.7 or above):</p>\n\n<pre><code>datetime_obj.utcoffset().total_seconds()\n</code></pre>\n\n<p>Using <a href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime.utcoffset\" rel=\"nofollow noreferrer\"><code>utcoffset()</code></a> to get the <code>timedelta</code>, and <a href=\"https://docs.python.org/3/library/datetime.html#datetime.timedelta.total_seconds\" rel=\"nofollow noreferrer\"><code>total_seconds()</code></a> to convert to seconds. You can read the documentation linked for information about what exactly they're doing.</p>\n\n<p>If you need to add this offset onto some other <code>datetime</code>, then you can just use <code>utcoffset()</code> to get back a <code>timedelta</code>. Though the return value might look a bit strange:</p>\n\n<pre><code>datetime.timedelta(-1, 57600)  # equivelant to datetime.timedelta(seconds=-28800)\n</code></pre>\n\n<p>This is because of the way <code>timedelta</code> normalizes negative values which is also noted at <a href=\"https://docs.python.org/3/library/datetime.html#timedelta-objects\" rel=\"nofollow noreferrer\"><code>datetime.timedelta</code></a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 8993215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e617134d032748b81ffe92f9340390?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/8993215/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9127, "favorite_count": 0, "accepted_answer_id": 47444198, "answer_count": 2, "score": 3, "last_activity_date": 1511387104, "creation_date": 1511383445, "question_id": 47443605, "link": "https://stackoverflow.com/questions/47443605/python-get-timezone-value-from-datetime-object", "title": "python get timezone value from datetime object", "body": "<p>Does anyone know how to obtain the Timezone value (in minutes, hrs etc.) of an ISO8601 timestamp? I can see it in a tzinfo object, but can't seem to get the value out. Here's what I've done so far, but how do I get the the value -28800 out into a variable?</p>\n\n<pre><code>import dateutil.parser\nimport datetime\nfirststarttime = '2008-12-31T23:00:00-08:00'\ndatetime_obj = dateutil.parser.parse(firststarttime)\ndatetime_obj\nOut[57]: datetime.datetime(2008, 12, 31, 23, 0, tzinfo=tzoffset(None, -28800))\ndatetime_obj.tzinfo\nOut[46]: tzoffset(None, -28800)\n</code></pre>\n"}, {"tags": ["python", "eclipse", "postgresql", "pydev", "pgadmin-4"], "answers": [{"tags": [], "owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1511391044, "creation_date": 1511391044, "answer_id": 47445062, "question_id": 47443577, "link": "https://stackoverflow.com/questions/47443577/create-sequence-on-pydev-for-postgres-database/47445062#47445062", "title": "create sequence on pydev for postgres database", "body": "<blockquote>\n  <p>I am trying to generate random numbers from 90001 to 90150 (increments\n  of one) under a column \"GameID\" and have it generated in the games\n  table</p>\n</blockquote>\n\n<p>It doesn't look like a sequence is needed here.\nYou could run this query:</p>\n\n<pre><code>select i from generate_series(90001, 90150) as x(i) order by random()\n</code></pre>\n\n<p>and pick a result from it at each game inserted in the loop.</p>\n"}], "owner": {"reputation": 21, "user_id": 8959320, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4c17cec22e0901487038ab67d4a126ca?s=128&d=identicon&r=PG&f=1", "display_name": "S AM", "link": "https://stackoverflow.com/users/8959320/s-am"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511391044, "creation_date": 1511383329, "last_edit_date": 1511383710, "question_id": 47443577, "link": "https://stackoverflow.com/questions/47443577/create-sequence-on-pydev-for-postgres-database", "title": "create sequence on pydev for postgres database", "body": "<p>I am trying to generate random numbers from 90001 to 90150 (increments of one) under a column \"GameID\" and have it generated in the games table. What should I do? I heard a sequence might work but I am not sure how this would work. Any ideas?</p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\nimport psycopg2\nimport sys\nimport csv\nfrom itertools import count, cycle\nfrom _tkinter import create\nfrom setuptools.dist import sequence\npath = r'C:\\Users\\sammy\\Downloads\\E0.csv'\nwith open(path, \"r\") as csvfile:\n    readCSV = csv.reader(csvfile, delimiter=\",\")\n    firstline = 1\n    con = None\n    con = psycopg2.connect(\"host='localhost' dbname='football' user='postgres' password='XXX'\")   \n    cur = con.cursor()\n    cur.execute(\"DROP TABLE games\")\n    cur.execute(\"DROP TABLE teams\")\n    cur.execute(\"DROP TABLE referees\")\n    cur.execute(\"CREATE TABLE games (HomeTeamID VARCHAR, HomeTeam VARCHAR, AwayTeamID VARCHAR, AwayTeam VARCHAR, FTHG INTEGER, ATHG INTEGER, FTR VARCHAR, RefereeID VARCHAR, RefereeName VARCHAR, HY INTEGER, AY INTEGER)\")\n    cur.execute(\"CREATE TABLE teams (HomeTeamID VARCHAR, HomeTeam VARCHAR, AwayTeamID VARCHAR, AwayTeam VARCHAR)\")\n    cur.execute(\"CREATE TABLE Referees (RefereeID VARCHAR, RefereeName VARCHAR)\")\n    create sequence sq_demo\n    start with 10001\n    increment by 1\n    maxvalue 15000\n    minvalue 10001\n    cache 3\n    cycle\n    order;\n\n    try:\n        for row in readCSV:\n            if firstline:\n                firstline=0\n                continue \n            HomeTeamID = row[2]\n            HomeTeam = row[2]\n            AwayTeamID = row[3]\n            AwayTeam = row[3]\n            FTHG = row[4]\n            ATHG = row[5]\n            FTR = row[6]\n            RefereeID = row[10]\n            RefereeName = row[10]\n            HY = row[19]\n            AY = row[20]\n            data1 = (HomeTeamID, HomeTeam, AwayTeamID, AwayTeam, FTHG, ATHG, FTR, RefereeID, RefereeName, HY, AY)\n            data2 = (HomeTeamID, HomeTeam, AwayTeamID, AwayTeam)\n            data3 = (RefereeID, RefereeName)\n            query1 = \"INSERT INTO games (HomeTeamID , HomeTeam, AwayTeamID, AwayTeam, FTHG, ATHG, FTR, RefereeID, RefereeName, HY, AY) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s);\"\n            query2 = \"INSERT INTO teams (HomeTeamID , HomeTeam, AwayTeamID, AwayTeam) VALUES (%s, %s, %s, %s);\"\n            query3 = \"INSERT INTO Referees (RefereeID, RefereeName) VALUES (%s, %s);\"\n            print(HomeTeam)\n            print(AwayTeam)\n            print (FTHG)\n            print (ATHG)\n            print (FTR)\n            print (RefereeID)\n            print (RefereeName)\n            print (HY)\n            print (AY)\n            cursor = con.cursor()\n            cursor.execute(query1, data1)\n            cursor.execute(query2, data2)\n            cursor.execute(query3, data3)\n    except psycopg2.DatabaseError as e:\n        if con:\n            con.rollback() \n            print (\"Error %s % e\", e)\n            sys.exit(1) \n    finally:\n        if con:\n            con.commit()\n            con.close()\n\nprint(\" \".join(row))\nout=open(\"new_data.csv\", \"w\")\noutput = csv.writer(out)\n\nfor row in data1:\n    output.writerow(row)\n\nout.close()\n</code></pre>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511383487, "post_id": 47443574, "comment_id": 81842249, "body": "Umm. Python does not use <code>{}</code> for condition blocks"}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 1, "creation_date": 1511383752, "post_id": 47443574, "comment_id": 81842367, "body": "You do not need to call <code>parser.parse_args()</code> multiple times. Just do it once as <code>args = parser.parse_args()</code> and then <code>if args.c</code> and <code>if args.l</code>"}, {"owner": {"reputation": 151, "user_id": 8726786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4d9a53bc155eba076c2af7d7fcaf61a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance Oxley", "link": "https://stackoverflow.com/users/8726786/lance-oxley"}, "edited": false, "score": 0, "creation_date": 1511383756, "post_id": 47443574, "comment_id": 81842372, "body": "Thanks for pointer..I removed that {} and its still the same... Calling both even if only 1 is specified"}, {"owner": {"reputation": 151, "user_id": 8726786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4d9a53bc155eba076c2af7d7fcaf61a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance Oxley", "link": "https://stackoverflow.com/users/8726786/lance-oxley"}, "edited": false, "score": 0, "creation_date": 1511383973, "post_id": 47443574, "comment_id": 81842482, "body": "ahhh perfect.  Thank you for this..."}], "answers": [{"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511385050, "post_id": 47443738, "comment_id": 81842967, "body": "Do you need if conditions? The parser takes defaults as parameters. <a href=\"https://docs.python.org/2/library/argparse.html#parser-defaults\" rel=\"nofollow noreferrer\">docs.python.org/2/library/argparse.html#parser-defaults</a>"}, {"owner": {"reputation": 151, "user_id": 8726786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4d9a53bc155eba076c2af7d7fcaf61a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance Oxley", "link": "https://stackoverflow.com/users/8726786/lance-oxley"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511385897, "post_id": 47443738, "comment_id": 81843392, "body": "possibly not but I would have a lot of code to run in each section.  how could i call this from each default"}], "tags": [], "owner": {"reputation": 151, "user_id": 8726786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4d9a53bc155eba076c2af7d7fcaf61a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance Oxley", "link": "https://stackoverflow.com/users/8726786/lance-oxley"}, "is_accepted": false, "score": 0, "last_activity_date": 1511384120, "creation_date": 1511384120, "answer_id": 47443738, "question_id": 47443574, "link": "https://stackoverflow.com/questions/47443574/check-if-arg-parse-is-called-and-run-if-statement/47443738#47443738", "title": "check if arg parse is called and run if statement", "body": "<p>Thanks ZWiki.... modified code as suggested... find below. </p>\n\n<pre><code>import argparse\n\nparser = argparse.ArgumentParser()\nparser.add_argument('-c', action='store_true')\nparser.add_argument('-l', action='store_true')\n\nargs = parser.parse_args()\nif args.c:\n        print(\"get custom config\")\nelse:\n        print(\"use default config code\")\n\nif args.l:\n        print(\"List files within config\")\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 8726786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4d9a53bc155eba076c2af7d7fcaf61a4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance Oxley", "link": "https://stackoverflow.com/users/8726786/lance-oxley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1511384120, "creation_date": 1511383313, "question_id": 47443574, "link": "https://stackoverflow.com/questions/47443574/check-if-arg-parse-is-called-and-run-if-statement", "title": "check if arg parse is called and run if statement", "body": "<p>Trying to have different checks for arg parse.  If -c or -l called only do that code.<br>\nIf I run this at the moment both statements are called.\nFor example, if -c is called only then done execute code for -l?</p>\n\n<pre><code>#!/usr/bin/python3\nimport argparse\n\nparser = argparse.ArgumentParser()\nparser.add_argument('-c', action='store_true')\nparser.add_argument('-l', action='store_true')\n\na = parser.parse_args()\nif a.c:\n    {\n        print(\"get custom config\")\n    }\nelse:\n    {\n        print(\"using default config file\")\n    }\n\nb = parser.parse_args()\n\nif b.l:\n    {\n        print(\"List files within config\")\n    }\nelse:\n    {\n        print(\"Call Normal Code\")\n    }\n</code></pre>\n\n<p>Thanks for the help as always.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1511383107, "post_id": 47443499, "comment_id": 81842036, "body": "Don&#39;t do this with regex. Use the <code>csv</code> module to read each line into a dictionary, then test the elements you care about."}, {"owner": {"reputation": 1757, "user_id": 6154787, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-8l2-ZoQLalE/AAAAAAAAAAI/AAAAAAAAARU/cxBnQCnl_Z0/photo.jpg?sz=128", "display_name": "RoyaumeIX", "link": "https://stackoverflow.com/users/6154787/royaumeix"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1511383193, "post_id": 47443499, "comment_id": 81842090, "body": "I know I can do that simply with csv, but I am trying to learn how to solve this with only regex."}, {"owner": {"reputation": 5282, "user_id": 4559110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5NZo.jpg?s=128&g=1", "display_name": "akash karothiya", "link": "https://stackoverflow.com/users/4559110/akash-karothiya"}, "edited": false, "score": 0, "creation_date": 1511383244, "post_id": 47443499, "comment_id": 81842116, "body": "using <code>regex</code> is overkilling here"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1511383242, "creation_date": 1511383242, "answer_id": 47443559, "question_id": 47443499, "link": "https://stackoverflow.com/questions/47443499/regex-capture-a-line-when-certain-columns-are-equal-to-certain-values/47443559#47443559", "title": "Regex: Capture a line when certain columns are equal to certain values", "body": "<p>Use <code>[^,]*</code> instead of <code>.*</code> to match a sequence of characters that doesn't include the comma separator. Use this for each field you want to skip when matching the line.</p>\n\n<pre><code>^[^,]*,paris,[^,]*,member,\n</code></pre>\n\n<p>Note that this is a very fragile mechanism compared to use the <code>csv</code> module, since it will break if you have any fields that contain comma (the <code>csv</code> module understands quoting a field to protect the delimiter).</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 781469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644eab022df83516906a968e93c6a8f4?s=128&d=identicon&r=PG", "display_name": "Nish", "link": "https://stackoverflow.com/users/781469/nish"}, "is_accepted": false, "score": 1, "last_activity_date": 1511383334, "creation_date": 1511383334, "answer_id": 47443578, "question_id": 47443499, "link": "https://stackoverflow.com/questions/47443499/regex-capture-a-line-when-certain-columns-are-equal-to-certain-values/47443578#47443578", "title": "Regex: Capture a line when certain columns are equal to certain values", "body": "<p>This should do it:</p>\n\n<pre><code>^.*,(paris),.*,(member),.*$\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1511383683, "last_edit_date": 1511383683, "creation_date": 1511383340, "answer_id": 47443581, "question_id": 47443499, "link": "https://stackoverflow.com/questions/47443499/regex-capture-a-line-when-certain-columns-are-equal-to-certain-values/47443581#47443581", "title": "Regex: Capture a line when certain columns are equal to certain values", "body": "<p>You can try this:</p>\n\n<pre><code>import re\ns = \"\"\"\n ID,from,to,type,duration\n 1,paris,berlin,member,12\n 2,berlin,paris,member,12\n 3,paris,madrid,non-member,10\n\"\"\"\nfinal_data = re.findall('\\d+,paris,\\w+,member,\\d+', s)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['1,paris,berlin,member,12']\n</code></pre>\n\n<p>However, note that the best solution is to read the file and use a dictionary:</p>\n\n<pre><code>import csv\nl = list(csv.reader(open('filename.csv')))\nfinal_l = [dict(zip(l[0], i)) for i in l[1:]]\nfinal_data = [','.join(i[b] for b in l[0]) for i in final_l if i['from'] == 'paris' and i['type'] == 'member']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 1, "last_activity_date": 1511383379, "creation_date": 1511383379, "answer_id": 47443589, "question_id": 47443499, "link": "https://stackoverflow.com/questions/47443499/regex-capture-a-line-when-certain-columns-are-equal-to-certain-values/47443589#47443589", "title": "Regex: Capture a line when certain columns are equal to certain values", "body": "<p>As many have pointed out, I would read this into a dictionary using csv. However, if you insist on using regex, this should work:</p>\n\n<pre><code>[0-9]+\\,paris.*[^-]member.*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 8970885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a038c6bb13e9c15b5313728b43241d31?s=128&d=identicon&r=PG&f=1", "display_name": "valerius21", "link": "https://stackoverflow.com/users/8970885/valerius21"}, "is_accepted": false, "score": 1, "last_activity_date": 1511383455, "creation_date": 1511383455, "answer_id": 47443609, "question_id": 47443499, "link": "https://stackoverflow.com/questions/47443499/regex-capture-a-line-when-certain-columns-are-equal-to-certain-values/47443609#47443609", "title": "Regex: Capture a line when certain columns are equal to certain values", "body": "<p>try this.</p>\n\n<pre><code>import re\nregex = r\"\\d,paris,\\w+,member,\\d+\"\nstr = \"\"\"ID,from,to,type,duration\n1,paris,berlin,member,12\n2,berlin,paris,member,12\n3,paris,madrid,non-member,10\"\"\"\nstr = str.split(\"\\n\")\n\nfor line in str:\n    if (re.match(regex, line)):\n        print(line)\n</code></pre>\n"}], "owner": {"reputation": 1757, "user_id": 6154787, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-8l2-ZoQLalE/AAAAAAAAAAI/AAAAAAAAARU/cxBnQCnl_Z0/photo.jpg?sz=128", "display_name": "RoyaumeIX", "link": "https://stackoverflow.com/users/6154787/royaumeix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 47443559, "answer_count": 5, "score": -1, "last_activity_date": 1511383683, "creation_date": 1511383016, "last_edit_date": 1511383209, "question_id": 47443499, "link": "https://stackoverflow.com/questions/47443499/regex-capture-a-line-when-certain-columns-are-equal-to-certain-values", "title": "Regex: Capture a line when certain columns are equal to certain values", "body": "<p>Let's say we have this data extract:</p>\n\n<pre><code>ID,from,to,type,duration\n1,paris,berlin,member,12\n2,berlin,paris,member,12\n3,paris,madrid,non-member,10\n</code></pre>\n\n<p>I want to retrieve the line when <strong>from = paris</strong>, and <strong>type = member</strong>.\nWhich means in this example I have only:</p>\n\n<pre><code>1,paris,berlin,member,12\n</code></pre>\n\n<p>That satisfy these rules. I am trying to do this with Regex only. I am still learning and I could only get this:</p>\n\n<pre><code>^.*(paris).*(member).*$\n</code></pre>\n\n<p>However, this will give me also the second line where paris is a destination. </p>\n\n<p>The idea I guess is to:</p>\n\n<ul>\n<li>Divide the line by commas.</li>\n<li>Check if the second item is equal to 'paris'</li>\n<li>Check if the fourth item is equal to 'member', or even check if there is 'member' in that line as there is no confusion with this part.</li>\n</ul>\n\n<p>Any solution where I can use <strong>only</strong> regex?</p>\n"}, {"tags": ["java", "python", "logic"], "comments": [{"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 1, "creation_date": 1511383181, "post_id": 47443491, "comment_id": 81842083, "body": "Nothing happens when the temperature is 56 to 89. It depends how your <code>heat</code> and <code>cool</code> methods are defined. Maybe they gradually increase/decrease the temperature until that threshold."}, {"owner": {"reputation": 23, "user_id": 6866849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac1973ffe62677d964f96b958a1e69b?s=128&d=identicon&r=PG&f=1", "display_name": "Niloy Alam", "link": "https://stackoverflow.com/users/6866849/niloy-alam"}, "reply_to_user": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1511383375, "post_id": 47443491, "comment_id": 81842198, "body": "@ZWiki, so how do i get that curves, it&#39;s so difficult. Are there any suggestions that you might give out."}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1511383562, "post_id": 47443491, "comment_id": 81842283, "body": "Does it have to look similar to that with the sharp jumps/drops in temperature or should it be linear?"}, {"owner": {"reputation": 23, "user_id": 6866849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac1973ffe62677d964f96b958a1e69b?s=128&d=identicon&r=PG&f=1", "display_name": "Niloy Alam", "link": "https://stackoverflow.com/users/6866849/niloy-alam"}, "reply_to_user": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1511383768, "post_id": 47443491, "comment_id": 81842377, "body": "The curve has to look exactly like the picture."}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1511384162, "post_id": 47443491, "comment_id": 81842569, "body": "What I would do it figure out what time you want to use. Allow <code>X</code> seconds/minutes/hours to be the amount of time you would like the temperature to go from A to B and then model a sin curve after that"}], "answers": [{"tags": [], "owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "is_accepted": false, "score": 0, "last_activity_date": 1511389328, "last_edit_date": 1511389328, "creation_date": 1511388831, "answer_id": 47444679, "question_id": 47443491, "link": "https://stackoverflow.com/questions/47443491/how-do-i-write-a-code-in-such-a-way-that-gives-me-periodic-cyclic-curve/47444679#47444679", "title": "How do I write a code in such a way that gives me periodic cyclic curve?", "body": "<p>you really should make a better try at coding, but I was bored</p>\n\n<p>this is a dynamic system simulation with linear 'heating/cooling' model and bang-bang controller</p>\n\n<pre><code>r_t =  1  # thermal resistance\nt_cold = 0.8  # cooling temp\nt_hot = 2.2   # heating temp\nt_lo, t_hi = 1, 2  # controller thresholds\nc_t = 100  # heat capacity\n\nt_obj = [0]  # really cold start temp\nh = []\nfor s in range(1000):\n    if t_obj[-1] &lt; t_lo:  # bang-bang logic\n        heat = 1\n    elif t_obj[-1] &gt; t_hi:\n        heat = 0\n\n# equation integrating the the heat/cooling input to t_obj\n\n    t_obj += [t_obj[-1] + ((heat * t_hot + (1 - heat) * t_cold) - t_obj[-1])/r_t/c_t]\n    h.append(heat)\n\nplt.plot(h)    # debug plot of `heat` state\nplt.plot(t_obj)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0MLeY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MLeY.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23, "user_id": 6866849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac1973ffe62677d964f96b958a1e69b?s=128&d=identicon&r=PG&f=1", "display_name": "Niloy Alam", "link": "https://stackoverflow.com/users/6866849/niloy-alam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511389328, "creation_date": 1511383007, "question_id": 47443491, "link": "https://stackoverflow.com/questions/47443491/how-do-i-write-a-code-in-such-a-way-that-gives-me-periodic-cyclic-curve", "title": "How do I write a code in such a way that gives me periodic cyclic curve?", "body": "<p>The context here is that I am trying to heat and cool an object, and I am trying to get cyclic temperature control system. </p>\n\n<p>Assume Room temeprature =25 degrees celcius ( which is the temeprature of the object at the beginning). I want to build a curve seen on the image. The object should cool when it reaches 90 degrees after it has been heated to 90 degrees, when the object cools to 55 degrees, it should heat to 90 degrees celcius.</p>\n\n<p>Image: <a href=\"https://i.stack.imgur.com/PLKM2.png\" rel=\"nofollow noreferrer\">Cycling curve graph going from 50 to 90</a></p>\n\n<p>This is my code: </p>\n\n<p>if ( temperature &lt;= 55) </p>\n\n<p>heat();</p>\n\n<p>else if ( temperature >=90) </p>\n\n<p>cool(); </p>\n\n<p>When the temperature value is 56 to 89, what happens? </p>\n\n<p>My solution would be to put a heating function at the beginning, like heat () and then the if else statements.</p>\n"}, {"tags": ["python", "string", "python-3.x", "file"], "answers": [{"tags": [], "owner": {"reputation": 1087, "user_id": 86689, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bpq2d.png?s=128&g=1", "display_name": "Neil Anderson", "link": "https://stackoverflow.com/users/86689/neil-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1511382977, "creation_date": 1511382977, "answer_id": 47443486, "question_id": 47443445, "link": "https://stackoverflow.com/questions/47443445/putting-quotation-marks-inside-a-string/47443486#47443486", "title": "Putting quotation marks inside a string", "body": "<p>You can include the quotation marks in the string that you are concatenating like this :</p>\n\n<pre><code>def add_div(filename, caption):\n\n    test = str(filename)\n    return ('&lt;div&gt;&lt;img src=\"' + test + '\"&gt;&lt;br&gt;&lt;p&gt;' + caption + '&lt;/p&gt;&lt;/div&gt;')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 0, "last_activity_date": 1511383014, "creation_date": 1511383014, "answer_id": 47443496, "question_id": 47443445, "link": "https://stackoverflow.com/questions/47443445/putting-quotation-marks-inside-a-string/47443496#47443496", "title": "Putting quotation marks inside a string", "body": "<p>Use one type of <code>quotation</code> for the <code>string</code> definition and the other for the included <code>quotes</code>:</p>\n\n<pre><code>&gt;&gt;&gt; \"bob said: 'hello'\"\n\"bob said: 'hello'\"\n&gt;&gt;&gt; \"I said 'yo bob, how u doing?' in reply\"\n\"I said 'yo bob, how u doing?' in reply\"\n</code></pre>\n\n<hr>\n\n<p>So to fix your problem, just change the <code>return</code> statement in the first <code>function</code> to:</p>\n\n<pre><code>return ('&lt;div&gt;&lt;img src=\"' + test + '&gt;&lt;br&gt;&lt;p&gt;'\" + caption + '&lt;/p&gt;&lt;/div&gt;')\n</code></pre>\n\n<hr>\n\n<p><em>Note that as a final thing, the parenthesis in the <code>return</code> statement aren't required as <code>return</code> is a not a <code>function</code> or <code>method</code>.</em></p>\n"}, {"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 2, "last_activity_date": 1511383055, "creation_date": 1511383055, "answer_id": 47443507, "question_id": 47443445, "link": "https://stackoverflow.com/questions/47443445/putting-quotation-marks-inside-a-string/47443507#47443507", "title": "Putting quotation marks inside a string", "body": "<p>You have two separate options:</p>\n\n<p>1) Use double quotes</p>\n\n<pre><code>print(\"Hey that's pretty cool!\")\n</code></pre>\n\n<p>2) Escape the single quotation mark</p>\n\n<pre><code>print('Hey that\\'s pretty cool!')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2302, "user_id": 5851593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ouqf6.jpg?s=128&g=1", "display_name": "Edwin van Mierlo", "link": "https://stackoverflow.com/users/5851593/edwin-van-mierlo"}, "is_accepted": false, "score": 0, "last_activity_date": 1511383829, "creation_date": 1511383829, "answer_id": 47443678, "question_id": 47443445, "link": "https://stackoverflow.com/questions/47443445/putting-quotation-marks-inside-a-string/47443678#47443678", "title": "Putting quotation marks inside a string", "body": "<p>Good answers, but another method is to escape the single or double quotation mark with <code>\\</code></p>\n\n<p>Example:</p>\n\n<pre><code># this is the same as\n# s = \"'\"\ns = '\\''\nprint(s)\n\n#this is the same as\n# s = '\"'\ns = \"\\\"\"\nprint(s)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8692308, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/337990113330287/picture?type=large", "display_name": "James Walker", "link": "https://stackoverflow.com/users/8692308/james-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1511383829, "creation_date": 1511382782, "last_edit_date": 1511383451, "question_id": 47443445, "link": "https://stackoverflow.com/questions/47443445/putting-quotation-marks-inside-a-string", "title": "Putting quotation marks inside a string", "body": "<pre><code>def add_div(filename, caption):\n\n    test = str(filename)\n    return ('&lt;div&gt;&lt;img src=' + test + '&gt;&lt;br&gt;&lt;p&gt;' + caption + '&lt;/p&gt;&lt;/div&gt;')\n\n\ndef add_body(image_dict, s, order = None):\n    '''(dict of {str:list of str}, str, list) -&gt; str\n\n    If the third parameter is passed, then the filenames\n    included in the body should only be those in the list and should be added\n    in the same order as they are listed in the list. '''\n    new = ''\n    s = '&lt;html&gt;&lt;head&gt;&lt;/head&gt;'\n\n    while order is None:\n       for (key, value) in image_dict.items():\n           new  += add_div(str(key), str(value[2]))\n       return (s + '&lt;body&gt;&lt;div id=\"slideshow\"&gt;'  + new + '&lt;/body&gt;'+ '&lt;/html&gt;')\n</code></pre>\n\n<p>The output of add_body function is:\n    <a href=\"https://i.stack.imgur.com/5H25S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5H25S.png\" alt=\"enter image description here\"></a></p>\n\n<p>how do I get quotation marks around the word images/skater.jpg ?</p>\n\n<p>this is what the file looks like \n<a href=\"https://i.stack.imgur.com/3VIhK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3VIhK.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "csv", "url"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1511383016, "creation_date": 1511383016, "answer_id": 47443498, "question_id": 47443434, "link": "https://stackoverflow.com/questions/47443434/pandas-reading-large-csv-directly-from-url/47443498#47443498", "title": "Pandas - Reading Large CSV directly from URL", "body": "<p>Try this:</p>\n\n<pre><code>reader = pd.read_csv(url, chunksize=1000, nrows=10000)\ndf = pd.concat([x for x in reader], ignore_index=True)\n</code></pre>\n\n<blockquote>\n  <p>how would I just get part of it, say 5,000 rows?</p>\n</blockquote>\n\n<pre><code>df = pd.read_csv(url, nrows=5000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 3335163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c16ceedcdd8d1a01eee6b5b3de944?s=128&d=identicon&r=PG&f=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/3335163/grisha"}, "is_accepted": false, "score": 0, "last_activity_date": 1511383161, "creation_date": 1511383161, "answer_id": 47443538, "question_id": 47443434, "link": "https://stackoverflow.com/questions/47443434/pandas-reading-large-csv-directly-from-url/47443538#47443538", "title": "Pandas - Reading Large CSV directly from URL", "body": "<p>Just get the 5000 rows in the command line with</p>\n\n<pre><code>wget -q -O - https://s3.amazonaws.com/nyc-tlc/trip+data/fhv_tripdata_2017-06.csv | head -n 5000 &gt; tmp.csv\n</code></pre>\n\n<p>and then proceed with tmp.csv</p>\n"}, {"tags": [], "owner": {"reputation": 224, "user_id": 3609568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOMkI.png?s=128&g=1", "display_name": "user66081", "link": "https://stackoverflow.com/users/3609568/user66081"}, "is_accepted": false, "score": 0, "last_activity_date": 1615069603, "creation_date": 1615069603, "answer_id": 66511264, "question_id": 47443434, "link": "https://stackoverflow.com/questions/47443434/pandas-reading-large-csv-directly-from-url/66511264#66511264", "title": "Pandas - Reading Large CSV directly from URL", "body": "<p>This works for me</p>\n<pre class=\"lang-py prettyprint-override\"><code>with contextlib.closing(urllib.request.urlopen(url=url)) as rd:\n    for df in pd.read_csv(rd, chunksize=5, index_col=0):\n        print(df)\n</code></pre>\n<p>while just</p>\n<pre class=\"lang-py prettyprint-override\"><code>pd.read_csv(url, chunksize=5, index_col=0)\n</code></pre>\n<p>crashes with MemoryError.</p>\n"}], "owner": {"reputation": 31, "user_id": 8992936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90dc549cb079087c783c8f116d1c6bf1?s=128&d=identicon&r=PG&f=1", "display_name": "colemanM", "link": "https://stackoverflow.com/users/8992936/colemanm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 709, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1615069603, "creation_date": 1511382747, "question_id": 47443434, "link": "https://stackoverflow.com/questions/47443434/pandas-reading-large-csv-directly-from-url", "title": "Pandas - Reading Large CSV directly from URL", "body": "<p>I'm new to python/data science in general, trying to understand why the below isn't working:</p>\n\n<pre><code>import pandas as pd\nurl = 'https://s3.amazonaws.com/nyc-tlc/trip+data/fhv_tripdata_2017-06.csv'\ntrip_df = []\nfor chunk in pd.read_csv(url, chunksize=1000, nrows=10000):\n    trip_df.append(chunk)\ntrip_df = pd.concat(trip_df, axis='rows')\n</code></pre>\n\n<p>It's returning a MemoryError, but I was under the impression that loading the file in chunks was a workaround for that. I'd prefer not to save the csv to my hard drive, plus I'm not entirely sure if that would help.</p>\n\n<p>My computer's pretty limited, only 4GB of RAM (2.9 usable). I imagine that's a factor here, but if importing the whole file isn't an option, how would I just get part of it, say 5,000 rows?</p>\n"}, {"tags": ["python", "flask", "gunicorn"], "comments": [{"owner": {"reputation": 715, "user_id": 3990097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566dc29d47f3d00c622c15c701e8ca85?s=128&d=identicon&r=PG&f=1", "display_name": "Argus Malware", "link": "https://stackoverflow.com/users/3990097/argus-malware"}, "edited": false, "score": 0, "creation_date": 1511382683, "post_id": 47443370, "comment_id": 81841860, "body": "there is no route /api/news in your code dude"}, {"owner": {"reputation": 803, "user_id": 767440, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d845c11a24e2e78133885a0927affc6b?s=128&d=identicon&r=PG", "display_name": "carlos.baez", "link": "https://stackoverflow.com/users/767440/carlos-baez"}, "reply_to_user": {"reputation": 715, "user_id": 3990097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566dc29d47f3d00c622c15c701e8ca85?s=128&d=identicon&r=PG&f=1", "display_name": "Argus Malware", "link": "https://stackoverflow.com/users/3990097/argus-malware"}, "edited": false, "score": 0, "creation_date": 1511384560, "post_id": 47443370, "comment_id": 81842729, "body": "I use flask.restless, it generates the endpoint with all operations, I don&#39;t need to implement (library for lazies)"}], "owner": {"reputation": 803, "user_id": 767440, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d845c11a24e2e78133885a0927affc6b?s=128&d=identicon&r=PG", "display_name": "carlos.baez", "link": "https://stackoverflow.com/users/767440/carlos-baez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511382429, "creation_date": 1511382429, "question_id": 47443370, "link": "https://stackoverflow.com/questions/47443370/api-rest-doesnt-work-with-gunicornflask", "title": "API Rest doesn&#39;t work with gunicorn+flask", "body": "<p>I am trying to check if my API Rest in Flask work with Gunicorn, but it doesn't response to my requests from the my web browser:</p>\n\n<p>my python code is: </p>\n\n<pre><code>import flask\nimport flask.ext.sqlalchemy\nimport flask.ext.restless\nimport datetime\nimport os\n\nfrom flask import Response\n\napp = flask.Flask(__name__, static_url_path='')\n\nDATABASE_URL = os.environ.get('DATABASE_URL','sqlite:///test.db')\napp.config[\"DEBUG\"] = True\napp.config['SQLALCHEMY_DATABASE_URI'] = DATABASE_URL \ndb = flask.ext.sqlalchemy.SQLAlchemy(app)\n\n@app.route('/')\ndef root():\n    return app.send_static_file('index.html')\n\n\n\nclass News(db.Model):\n    id = db.Column(db.Integer,primary_key=True)\n    link = db.Column(db.Unicode, unique= True)\n    received_date = db.Column(db.DateTime(), default=datetime.datetime.now)\n    analysed_date = db.Column(db.DateTime())\n    status = db.Column(db.Unicode)\n    info = db.Column(db.Unicode)\n    publish_date = db.Column(db.DateTime())\n    text = db.Column(db.Unicode)\n    link_image = db.Column(db.Unicode)\n    keywords = db.Column(db.Unicode)\n    videos  = db.Column(db.Unicode)\n    summary = db.Column(db.Unicode)\n    title = db.Column(db.Unicode)\n\n\n\n\n\nif __name__ == '__main__':\n    db.create_all()\n    port = int(os.environ.get('PORT',5000))\n    manager = flask.ext.restless.APIManager(app, flask_sqlalchemy_db=db)\n    manager.create_api(News,methods=['GET','POST','DELETE'])\n    app.run(host='0.0.0.0', port = port)\n</code></pre>\n\n<p>and I execute:</p>\n\n<pre><code>gunicorn -b 0.0.0.0:5000 rest_api:app\n</code></pre>\n\n<p>but If  try connect to this web (without gunicorn works):</p>\n\n<pre><code>http://localhost:5000/api/news\n</code></pre>\n\n<p>I received a 400 error.</p>\n"}, {"tags": ["python", "numpy", "scipy", "exponential", "trendline"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6764549"}, "edited": false, "score": 0, "creation_date": 1511382743, "post_id": 47443357, "comment_id": 81841877, "body": "Did you already try <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html\" rel=\"nofollow noreferrer\">scipy</a>? If you found the above link but don&#39;t know how to use it, is it possible to share the data used to generate the image you have linked in your question?"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1511383341, "post_id": 47443357, "comment_id": 81842178, "body": "I understand that upper left datum to mean that you have observed about 160 events with lifetimes just a little bit more than zero. Is that right?"}, {"owner": {"reputation": 452, "user_id": 3482325, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1a69661f17f93c2bdf2185530ce43bcc?s=128&d=identicon&r=PG&f=1", "display_name": "deKeijzer", "link": "https://stackoverflow.com/users/3482325/dekeijzer"}, "edited": false, "score": 0, "creation_date": 1511383628, "post_id": 47443357, "comment_id": 81842314, "body": "Thank you for your fast answer! I have tried playing around with SciPy, no good results yet. The thing i need seems a bit too different from the examples which are out there. Plus i&#39;m not that familiar with fitting anyway, all i have managed to do is a gauss fit &amp; linear regression so far... The data used can be found here: <a href=\"https://pastebin.com/i3H4ZfLQ\" rel=\"nofollow noreferrer\">pastebin.com/i3H4ZfLQ</a>"}], "answers": [{"tags": [], "owner": {"reputation": 452, "user_id": 3482325, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1a69661f17f93c2bdf2185530ce43bcc?s=128&d=identicon&r=PG&f=1", "display_name": "deKeijzer", "link": "https://stackoverflow.com/users/3482325/dekeijzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1511387969, "creation_date": 1511387969, "answer_id": 47444527, "question_id": 47443357, "link": "https://stackoverflow.com/questions/47443357/python-plotting-fitting-a-data-fit-in-the-form-1-ae-x-a-in-which-a-is-a/47444527#47444527", "title": "Python | Plotting &amp; fitting a data fit in the form (1/A)e^(-x/A) in which A is a constant", "body": "<p>Looks like i figured it out.</p>\n\n<pre><code>def exponential_fit(x, a, c):\n\"\"\"\nLogarithmic fit used for the MuonLab life time measurements.\n:param x:\n:param a:\n:param c:\n:return:\n\"\"\"\nreturn (1/a)*np.exp(-x/a)+c\n</code></pre>\n\n<p>def logarithmic_fit_plot(x, y): # WIP\n    font = {'family': 'normal',\n            'weight': 'bold',\n            'size': 20}</p>\n\n<pre><code>matplotlib.rc('font', **font)\nxdata = x\nydata = y\nplt.rc('text', usetex=True)\nplt.plot(xdata, ydata, '.', label='sample')\npopt, pcov = sp.optimize.curve_fit(exponential_fit, xdata, ydata)\nplt.plot(xdata, exponential_fit(xdata, *popt), 'r-',\n         label=r\"$\\frac{1}{\\tau_0}e^{\\frac{-x}{\\tau_0}}, \\tau_0=%5.3f, c=%5.3f$\" % tuple(popt))\nplt.legend()\nplt.show()\n</code></pre>\n\n<p>Sadly it doesn't fit the data very well, but that's just a math problem i guess.</p>\n"}, {"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 1, "last_activity_date": 1511412186, "creation_date": 1511412186, "answer_id": 47447698, "question_id": 47443357, "link": "https://stackoverflow.com/questions/47443357/python-plotting-fitting-a-data-fit-in-the-form-1-ae-x-a-in-which-a-is-a/47447698#47447698", "title": "Python | Plotting &amp; fitting a data fit in the form (1/A)e^(-x/A) in which A is a constant", "body": "<p>This code produces a decent fit.</p>\n\n<pre><code>first = True\nlifetimes = []\ncounts = []\nwith open('Werkverkeer.txt') as w:\n    next(w)\n    for line in w:\n        _, life, count = line.rstrip().split()\n        life, count = float(life), int(count)\n        if count==0:\n            continue\n        lifetimes.append(life-0.005)\n        counts.append(count)\n\nprobs = [_/sum(counts) for _ in counts]\nprint (probs)\n\nfrom scipy.optimize import leastsq\nfrom scipy.stats import expon\nfrom numpy import exp\n\ndef residual(params, X, data):\n    model = [expon.cdf(x+0.005, scale=params[0])-expon.cdf(x-0.005, scale=params[0]) for x in X]\n    return [d-m for (d,m) in zip(data, model)]\n\nr = leastsq(residual, [140], args=(lifetimes, probs))\nestimate = r[0][0]\nprint (estimate)\n\nfitted = [expon.cdf(x+0.005, scale=estimate)-expon.cdf(x-0.005, scale=estimate) for x in lifetimes]\nprint(fitted)\n\nfrom matplotlib import pyplot as plt\n\nplt.plot(lifetimes, probs, 'r.')\nplt.plot(lifetimes, fitted, 'b-')\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/a5VgQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a5VgQ.png\" alt=\"curve fit\"></a></p>\n\n<p>Things to note:</p>\n\n<ul>\n<li>Rather than fitting to <code>counts</code> I've fitted to normalised <code>counts</code>, which are estimates of probabilities, because the counts are really a way of getting at an estimate of the probability density function for the lifetimes.</li>\n<li>Because I'm using counts I need to fit the areas under the density function, for a given value of the parameter, between the boundaries of the bins. Hence, the line <code>model =</code>.</li>\n<li>As usual, the final line in <code>residual</code> returns the difference between the observed probabilities (based on counts) and the provisionally calculated probabilities.</li>\n</ul>\n\n<p><code>leastsq</code> returns a value of 0.0497646352872 for the parameter.</p>\n"}], "owner": {"reputation": 452, "user_id": 3482325, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1a69661f17f93c2bdf2185530ce43bcc?s=128&d=identicon&r=PG&f=1", "display_name": "deKeijzer", "link": "https://stackoverflow.com/users/3482325/dekeijzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1511412186, "creation_date": 1511382352, "last_edit_date": 1511382710, "question_id": 47443357, "link": "https://stackoverflow.com/questions/47443357/python-plotting-fitting-a-data-fit-in-the-form-1-ae-x-a-in-which-a-is-a", "title": "Python | Plotting &amp; fitting a data fit in the form (1/A)e^(-x/A) in which A is a constant", "body": "<p><a href=\"https://i.stack.imgur.com/zGg63.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGg63.png\" alt=\"raw data\"></a></p>\n\n<p>After a lot of searching and being unable to find an answer i choose to place my question here. </p>\n\n<p>How do i fit an exponential function in the form of y=(1/A)e^(-x/A) to the shown data and plot this function? I still need some getting used to fitting in Python. Help will be more than appreciated!</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3005, "user_id": 999858, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f1a8a12d17c9e5a10c343b061fb67e34?s=128&d=identicon&r=PG", "display_name": "Tigran Saluev", "link": "https://stackoverflow.com/users/999858/tigran-saluev"}, "edited": false, "score": 8, "creation_date": 1511382344, "post_id": 47443332, "comment_id": 81841691, "body": "I guess you need to post this question to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>."}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "reply_to_user": {"reputation": 3005, "user_id": 999858, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f1a8a12d17c9e5a10c343b061fb67e34?s=128&d=identicon&r=PG", "display_name": "Tigran Saluev", "link": "https://stackoverflow.com/users/999858/tigran-saluev"}, "edited": false, "score": 0, "creation_date": 1511382933, "post_id": 47443332, "comment_id": 81841955, "body": "@TigranSaluev Changing the name would make it ok, so not really I think."}, {"owner": {"reputation": 739, "user_id": 7032515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b32153cbad5d7d274ce436164f9bfcef?s=128&d=identicon&r=PG&f=1", "display_name": "danielleontiev", "link": "https://stackoverflow.com/users/7032515/danielleontiev"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1511383537, "post_id": 47443332, "comment_id": 81842273, "body": "@martineau, sorry, fixed"}, {"owner": {"reputation": 1167, "user_id": 5339807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5db3c9fa9b80760fc44ae03008f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "mascoj", "link": "https://stackoverflow.com/users/5339807/mascoj"}, "reply_to_user": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1511386324, "post_id": 47443332, "comment_id": 81843576, "body": "@scharette He has working code and is looking to improve it&#39;s style to closer fit a language. That isn&#39;t within the scope of SO."}], "answers": [{"comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 1, "creation_date": 1511382532, "post_id": 47443369, "comment_id": 81841785, "body": "since the question was about constructing a new list, you should copy <code>z</code> so it is not modifying the original list."}, {"owner": {"reputation": 528, "user_id": 7402725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e4d47030b45172654c088dd8e71d30?s=128&d=identicon&r=PG&f=1", "display_name": "C. Feenstra", "link": "https://stackoverflow.com/users/7402725/c-feenstra"}, "edited": false, "score": 0, "creation_date": 1511382628, "post_id": 47443369, "comment_id": 81841836, "body": "This assumes the indexes will be in order"}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "reply_to_user": {"reputation": 528, "user_id": 7402725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e4d47030b45172654c088dd8e71d30?s=128&d=identicon&r=PG&f=1", "display_name": "C. Feenstra", "link": "https://stackoverflow.com/users/7402725/c-feenstra"}, "edited": false, "score": 0, "creation_date": 1511382872, "post_id": 47443369, "comment_id": 81841932, "body": "@C.Feenstra The question assumes they are. It is impossible to know how they should be ordered (i.e. do we order just the <code>indexes</code>, or do we <code>zip</code> them, then order) so I decided this wasn&#39;t necessary. However if the OP explicitly states their position on this aspect then by all means, I will update the answer <b>:)</b>"}, {"owner": {"reputation": 739, "user_id": 7032515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b32153cbad5d7d274ce436164f9bfcef?s=128&d=identicon&r=PG&f=1", "display_name": "danielleontiev", "link": "https://stackoverflow.com/users/7032515/danielleontiev"}, "edited": false, "score": 0, "creation_date": 1511383229, "post_id": 47443369, "comment_id": 81842112, "body": "Yes, the order in <code>x</code> must hold like in your answer"}, {"owner": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511423640, "post_id": 47443369, "comment_id": 81855100, "body": "If <code>ypos</code> might not be ordered, you could just use <code>sorted(ypos)</code> i.e. <code>for pos, val in zip(sorted(ypos), y):</code>"}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "reply_to_user": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511426375, "post_id": 47443369, "comment_id": 81856668, "body": "@ArthurTacca: You cannot sort <code>ypos</code> without also reorganizing <code>y</code>."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1511433339, "post_id": 47443369, "comment_id": 81861347, "body": "BTW, this approach is fine with list of hundreds of elements. With larger lists, it becomes really slow."}, {"owner": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1511861029, "post_id": 47443369, "comment_id": 82012092, "body": "@EricDuminil My mistake, it should be <code>sorted(zip(ypos, y))</code>. And your second comment is sort of my point; for a few hundred elements it&#39;s fine; often with this sort of question, that&#39;s the type of number involved."}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 12, "last_activity_date": 1511382576, "last_edit_date": 1511382576, "creation_date": 1511382426, "answer_id": 47443369, "question_id": 47443332, "link": "https://stackoverflow.com/questions/47443332/combine-lists-having-a-specific-merge-order-in-a-pythonic-way/47443369#47443369", "title": "Combine lists having a specific merge order in a pythonic way?", "body": "<p>You should use <code>list.insert</code>, this is what it was made for!</p>\n\n<pre><code>def func(y, z, ypos):\n    x = z[:]\n    for pos, val in zip(ypos, y):\n        x.insert(pos-1, val)\n    return x\n</code></pre>\n\n<p>and a test:</p>\n\n<pre><code>&gt;&gt;&gt; func([11, 13, 15], [12, 14], [1,3,5])\n[11, 12, 13, 14, 15]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 2, "creation_date": 1511388555, "post_id": 47443528, "comment_id": 81844517, "body": "Excellent approach. It mimics the way you&#39;d distribute cards from two decks."}, {"owner": {"reputation": 3396, "user_id": 2586108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9bfe0d3e55c7d7a9693c713a67d8618?s=128&d=identicon&r=PG", "display_name": "John B", "link": "https://stackoverflow.com/users/2586108/john-b"}, "edited": false, "score": 0, "creation_date": 1511402804, "post_id": 47443528, "comment_id": 81848295, "body": "Can equivalently make <code>i+1</code> just <code>i</code> and change range to <code>range(1, len(y)+len(z)+1)</code> as it would remove <code>n - 1</code> <code>i+1</code> operations, but that&#39;s really just a nitpick micro optimization."}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 0, "creation_date": 1511420575, "post_id": 47443528, "comment_id": 81853705, "body": "It may be obvious, but one should ensure that <code>len(y) == len(ypos)</code> before running the list comprehension."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 2, "creation_date": 1511426314, "post_id": 47443528, "comment_id": 81856634, "body": "It&#39;s not clear at first, but you basically sort <code>ypos</code> again since you iterate with an increasing <code>i</code>. You can try with <code>f([15, 13, 11], [12, 14], [5, 3, 1])</code>. It returns <code>[15, 12, 13, 14, 11]</code>, as if <code>ypos</code> was <code>[1, 3, 5]</code>."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 1, "creation_date": 1511427541, "post_id": 47443528, "comment_id": 81857362, "body": "@EricDuminil Ah, now I get what you mean. But <code>ypos</code> does not have to be sorted, instead my approach ignores any order of <code>ypos</code> and just adds the elements from <code>y</code> in the order they have, not at the &quot;corresponding&quot; position in <code>ypos</code>. Interesting point."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 1, "creation_date": 1511428577, "post_id": 47443528, "comment_id": 81858012, "body": "@tobias_k: Indeed. <code>ypos</code> can be written in any order you want but <code>y</code> should be written in the same order as a sorted <code>ypos</code>. :)"}, {"owner": {"reputation": 3396, "user_id": 2586108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9bfe0d3e55c7d7a9693c713a67d8618?s=128&d=identicon&r=PG", "display_name": "John B", "link": "https://stackoverflow.com/users/2586108/john-b"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1520119295, "post_id": 47443528, "comment_id": 85186066, "body": "@EricDuminil Interesting discussion. It inspired me to add an answer that uses an alternative approach to preserving the corresponding positions."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 35, "last_activity_date": 1511443596, "last_edit_date": 1511443596, "creation_date": 1511383128, "answer_id": 47443528, "question_id": 47443332, "link": "https://stackoverflow.com/questions/47443332/combine-lists-having-a-specific-merge-order-in-a-pythonic-way/47443528#47443528", "title": "Combine lists having a specific merge order in a pythonic way?", "body": "<p>If the lists are very long, repeatedly calling <code>insert</code> <a href=\"https://stackoverflow.com/a/27073672/1639625\">might not be very efficient</a>. Alternatively, you could create two <code>iterators</code> from the lists and construct a list by getting the <code>next</code> element from either of the iterators depending on whether the current index is in <code>ypos</code> (or a <code>set</code> thereof):</p>\n\n<pre><code>&gt;&gt;&gt; ity = iter(y)\n&gt;&gt;&gt; itz = iter(z)\n&gt;&gt;&gt; syp = set(ypos)\n&gt;&gt;&gt; [next(ity if i+1 in syp else itz) for i in range(len(y)+len(z))]\n[11, 12, 13, 14, 15]\n</code></pre>\n\n<p>Note: this will insert the elements from <code>y</code> in the order they appear in <code>y</code> itself, i.e. the first element of <code>y</code> is inserted at the <em>lowest</em> index in <code>ypos</code>, not necessarily at the <em>first</em> index in <code>ypos</code>. If the elements of <code>y</code> should be inserted at the index of the <em>corresponding element</em> of <code>ypos</code>, then either <code>ypos</code> has to be in ascending order (i.e. the first index of <code>ypos</code> is also the lowest), or the iterator of <code>y</code> has to be sorted by the same order as the indices in <code>ypos</code> (afterwards, <code>ypos</code> itself does not have to be sorted, as we are turning it into a <code>set</code> anyway).</p>\n\n<pre><code>&gt;&gt;&gt; ypos = [5,3,1]   # y and z being same as above\n&gt;&gt;&gt; ity = iter(e for i, e in sorted(zip(ypos, y)))\n&gt;&gt;&gt; [next(ity if i+1 in syp else itz) for i in range(len(y)+len(z))]\n[15, 12, 13, 14, 11]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1590, "user_id": 2364412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54e872d16a11dd047abf6c1bbb1867a?s=128&d=identicon&r=PG", "display_name": "Florian Rhiem", "link": "https://stackoverflow.com/users/2364412/florian-rhiem"}, "is_accepted": false, "score": 2, "last_activity_date": 1511383689, "creation_date": 1511383689, "answer_id": 47443650, "question_id": 47443332, "link": "https://stackoverflow.com/questions/47443332/combine-lists-having-a-specific-merge-order-in-a-pythonic-way/47443650#47443650", "title": "Combine lists having a specific merge order in a pythonic way?", "body": "<p>Assuming that the <code>ypos</code> indices are sorted, here is another solution using iterators, though this one also supports <code>ypos</code> of unknown or infinite length:</p>\n\n<pre><code>import itertools\n\ndef func(y, ypos, z):\n    y = iter(y)\n    ypos = iter(ypos)\n    z = iter(z)\n    next_ypos = next(ypos, -1)\n    for i in itertools.count(start=1):\n        if i == next_ypos:\n            yield next(y)\n            next_ypos = next(ypos, -1)\n        else:\n            yield next(z)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1511444318, "post_id": 47444625, "comment_id": 81868089, "body": "Nice timing analysis, but I&#39;d say mine only takes 1.5 times longer (in fact, I got 135 and 179 ms respectively). :-P Surprised Joe&#39;s isn&#39;t slower, though, I&#39;d expect it to be quadratic."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 2, "creation_date": 1511445823, "post_id": 47444625, "comment_id": 81869095, "body": "@tobias_k: Yes, it depends on the system and underlying libraries. Factor 1.5 or 2 isn&#39;t much with such a large list. I was surprised by Joe &#39;s answer with smaller lists. With <code>n=100</code>, it was actually a bit faster than yours for example."}], "tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 8, "last_activity_date": 1511445743, "last_edit_date": 1511445743, "creation_date": 1511388540, "answer_id": 47444625, "question_id": 47443332, "link": "https://stackoverflow.com/questions/47443332/combine-lists-having-a-specific-merge-order-in-a-pythonic-way/47444625#47444625", "title": "Combine lists having a specific merge order in a pythonic way?", "body": "<p>With large lists, it might be a good idea to work with <a href=\"http://www.numpy.org/\" rel=\"noreferrer\"><code>numpy</code></a>.</p>\n\n<h1>Algorithm</h1>\n\n<ul>\n<li>create a new array as large as <code>y + z</code></li>\n<li>calculate coordinates for <code>z</code> values</li>\n<li>assign <code>y</code> values to <code>x</code> at <code>ypos</code></li>\n<li>assign <code>z</code> values to <code>x</code> at <code>zpos</code></li>\n</ul>\n\n<p>The complexity should be <code>O(n)</code>, with <code>n</code> being the total number of values.</p>\n\n<pre><code>import numpy as np\n\ndef distribute_values(y_list, z_list, y_pos):\n    y = np.array(y_list)\n    z = np.array(z_list)\n    n = y.size + z.size\n    x = np.empty(n, np.int)\n    y_indices = np.array(y_pos) - 1\n    z_indices = np.setdiff1d(np.arange(n), y_indices, assume_unique=True)\n    x[y_indices] = y\n    x[z_indices] = z\n    return x\n\nprint(distribute_values([11, 13, 15], [12, 14], [1, 3, 5]))\n# [11 12 13 14 15]\nprint(distribute_values([77], [35, 58, 74], [3]))\n# [35 58 77 74]\n</code></pre>\n\n<p>As a bonus, it also works fine when <code>ypos</code> isn't sorted:</p>\n\n<pre><code>print(distribute_values([15, 13, 11], [12, 14], [5, 3, 1]))\n# [11 12 13 14 15]\nprint(distribute_values([15, 11, 13], [12, 14], [5, 1, 3]))\n# [11 12 13 14 15]\n</code></pre>\n\n<h1>Performance</h1>\n\n<p>With <code>n</code> set to 1 million, this approach is a bit faster than <a href=\"https://stackoverflow.com/users/1639625/tobias-k\">@tobias_k's answer</a> and 500 times faster than <a href=\"https://stackoverflow.com/a/47443369/6419007\">@Joe_Iddon's answer</a>.</p>\n\n<p>The lists were created this way:</p>\n\n<pre><code>from random import random, randint\nN = 1000000\nypos = [i+1 for i in range(N) if random()&lt;0.4]\ny = [randint(0, 10000) for _ in ypos]\nz = [randint(0, 1000) for _ in range(N - len(y))\n</code></pre>\n\n<p>Here are the results with <a href=\"https://docs.python.org/3/library/timeit.html\" rel=\"noreferrer\"><code>%timeit</code></a> and IPython:</p>\n\n<pre><code>%timeit eric(y, z, ypos)\n131 ms \u00b1 1.54 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n\n%timeit tobias(y, z, ypos)\n224 ms \u00b1 977 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n\n%timeit joe(y,z, ypos)\n54 s \u00b1 1.48 s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16330, "user_id": 6464947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-STVPXBxpfbk/AAAAAAAAAAI/AAAAAAAAAMM/7wmzAdslc70/photo.jpg?sz=128", "display_name": "Giovanni G. PY", "link": "https://stackoverflow.com/users/6464947/giovanni-g-py"}, "is_accepted": false, "score": 1, "last_activity_date": 1514528830, "last_edit_date": 1514528830, "creation_date": 1513107124, "answer_id": 47780201, "question_id": 47443332, "link": "https://stackoverflow.com/questions/47443332/combine-lists-having-a-specific-merge-order-in-a-pythonic-way/47780201#47780201", "title": "Combine lists having a specific merge order in a pythonic way?", "body": "<h1>Pythonic way</h1>\n\n<pre><code>y = [11, 13, 15]\nz = [12, 14]\nypos = [1, 3, 5]\n\nx = z[:]\n\nfor c, n in enumerate(ypos):\n    x.insert(n - 1, y[c])\n\nprint(x)\n</code></pre>\n\n<p>output</p>\n\n<blockquote>\n  <p>[11, 12, 13, 14, 15]</p>\n</blockquote>\n\n<h1>In a function</h1>\n\n<pre><code>def func(y, ypos, z):\n    x = z[:]\n    for c,n in enumerate(ypos):\n        x.insert(n-1,y[c])\n    return x\n\nprint(func([11,13,15],[1,2,3],[12,14]))\n</code></pre>\n\n<p>outoput</p>\n\n<blockquote>\n  <p>[11, 12, 13, 14, 15]</p>\n</blockquote>\n\n<h1>Using zip</h1>\n\n<pre><code>y, z, ypos = [11, 13, 15], [12, 14], [1, 3, 5]\n\nfor i, c in zip(ypos, y):\n    z.insert(i - 1, c)\n\nprint(z)\n</code></pre>\n\n<p>[out:] </p>\n\n<pre><code>&gt; [11, 12, 13, 14, 15]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3396, "user_id": 2586108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9bfe0d3e55c7d7a9693c713a67d8618?s=128&d=identicon&r=PG", "display_name": "John B", "link": "https://stackoverflow.com/users/2586108/john-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1520119444, "last_edit_date": 1520119444, "creation_date": 1520118836, "answer_id": 49090232, "question_id": 47443332, "link": "https://stackoverflow.com/questions/47443332/combine-lists-having-a-specific-merge-order-in-a-pythonic-way/49090232#49090232", "title": "Combine lists having a specific merge order in a pythonic way?", "body": "<p>If you want the elements in <code>ypos</code> to be placed at the <code>x</code> index where each element's index in <code>ypos</code> should correspond with the same <code>y</code> index's element:</p>\n\n<ol>\n<li>Initialize <code>x</code> to the required size using all null values.</li>\n<li>Iterate through the zipped <code>y</code> and <code>ypos</code> elements to fill in each corresponding <code>y</code> element into <code>x</code>.</li>\n<li>Iterate through <code>x</code> and replace each remaining null value with <code>z</code> values where each replacement will choose from <code>z</code> in increasing\norder.</li>\n</ol>\n\n<p></p>\n\n<pre><code>y = [11, 13, 15]\nz = [12, 14]\nypos = [1, 5, 3]\n\nx = [None] * (len(y) + len(z))\nfor x_ypos, y_elem in zip(ypos, y):\n    x[x_ypos - 1] = y_elem\n\nz_iter = iter(z)\nx = [next(z_iter) if i is None else i for i in x]\n# x -&gt; [11, 12, 15, 14, 13]\n</code></pre>\n"}], "owner": {"reputation": 739, "user_id": 7032515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b32153cbad5d7d274ce436164f9bfcef?s=128&d=identicon&r=PG&f=1", "display_name": "danielleontiev", "link": "https://stackoverflow.com/users/7032515/danielleontiev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1574, "favorite_count": 6, "accepted_answer_id": 47443528, "answer_count": 6, "score": 24, "last_activity_date": 1520119444, "creation_date": 1511382260, "last_edit_date": 1511400983, "question_id": 47443332, "link": "https://stackoverflow.com/questions/47443332/combine-lists-having-a-specific-merge-order-in-a-pythonic-way", "title": "Combine lists having a specific merge order in a pythonic way?", "body": "<p>I would like to construct list <code>x</code> from two lists <code>y</code> and <code>z</code>. I want all elements from <code>y</code> be placed where <code>ypos</code> elements point. For example:</p>\n\n<pre><code>y = [11, 13, 15]\nz = [12, 14]\nypos = [1, 3, 5]\n</code></pre>\n\n<p>So, <code>x</code> must be <code>[11, 12, 13, 14, 15]</code></p>\n\n<p>Another example:</p>\n\n<pre><code>y = [77]\nz = [35, 58, 74]\nypos = [3]\n</code></pre>\n\n<p>So, <code>x</code> must be <code>[35, 58, 77, 74]</code></p>\n\n<p>I've written function that does what I want but it looks ugly:</p>\n\n<pre><code>def func(y, z, ypos):\n    x = [0] * (len(y) + len(z))\n    zpos = list(range(len(y) + len(z)))\n    for i, j in zip(y, ypos):\n        x[j-1] = i\n        zpos.remove(j-1)\n    for i, j in zip(z, zpos):\n        x[j] = i\n    return x\n</code></pre>\n\n<p>How to write it in pythonic way?</p>\n"}, {"tags": ["python", "arrays", "numpy", "multidimensional-array", "reshape"], "owner": {"reputation": 319, "user_id": 7565410, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vvLeI.jpg?s=128&g=1", "display_name": "Toool", "link": "https://stackoverflow.com/users/7565410/toool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 567, "favorite_count": 0, "closed_date": 1511383383, "answer_count": 0, "score": 4, "last_activity_date": 1511382868, "creation_date": 1511382054, "question_id": 47443293, "link": "https://stackoverflow.com/questions/47443293/numpy-reshape-2d-array-in-array-of-matrix-blocks", "closed_reason": "Duplicate", "title": "Numpy : reshape 2D array in array of matrix blocks", "body": "<p>I would like to reshape an 2D numpy array in a 3D array consisting of 2x2 (or in general PxP) blocks, respecting the spatial positions.</p>\n\n<pre><code>x = np.arange(100).reshape(10,10)\nx\narray([[ 0,  1,  2, ...,  7,  8,  9],\n       [10, 11, 12, ..., 17, 18, 19],\n       [20, 21, 22, ..., 27, 28, 29],\n       ..., \n       [70, 71, 72, ..., 77, 78, 79],\n       [80, 81, 82, ..., 87, 88, 89],\n       [90, 91, 92, ..., 97, 98, 99]])\n\ny = some_reshape_and_transpose(x)\ny[0]\narray([[ 0,  1],\n       [10, 11]])\ny[1]\narray([[ 2,  3],\n       [12, 13]])\ny.shape\n(25, 2, 2)\n</code></pre>\n\n<p>The precise order of the blocks along the first dimension of the 3D tensor is not important. The reverse command would be appreciated as well !</p>\n"}, {"tags": ["python", "loops", "merge", "logic"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1511382200, "post_id": 47443291, "comment_id": 81841615, "body": "Your code produces <code>[[0, 1, 2, 3], [0, 1], [2, 3, 0, 1], [2, 3, 0, 1, 2, 3]]</code>, which is different from the list in question. What do you actually want?"}, {"owner": {"reputation": 247, "user_id": 1736366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb036f15794ed26d00b4fa427ca912f9?s=128&d=identicon&r=PG", "display_name": "chribis", "link": "https://stackoverflow.com/users/1736366/chribis"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1511382318, "post_id": 47443291, "comment_id": 81841677, "body": "You&#39;re correct my mistake!"}, {"owner": {"reputation": 988, "user_id": 560599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1037a2b6275a137fcaf5b560fa5ea427?s=128&d=identicon&r=PG", "display_name": "mghicks", "link": "https://stackoverflow.com/users/560599/mghicks"}, "edited": false, "score": 0, "creation_date": 1511382830, "post_id": 47443291, "comment_id": 81841908, "body": "Very similar to other questions.  See this answer in particular: <a href=\"https://stackoverflow.com/a/312467/560599\">stackoverflow.com/a/312467/560599</a> -- shouldn&#39;t be hard to generalize that for a list of sizes."}], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 1736366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb036f15794ed26d00b4fa427ca912f9?s=128&d=identicon&r=PG", "display_name": "chribis", "link": "https://stackoverflow.com/users/1736366/chribis"}, "edited": false, "score": 0, "creation_date": 1511382327, "post_id": 47443327, "comment_id": 81841681, "body": "This is perfect. Thank you."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 247, "user_id": 1736366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb036f15794ed26d00b4fa427ca912f9?s=128&d=identicon&r=PG", "display_name": "chribis", "link": "https://stackoverflow.com/users/1736366/chribis"}, "edited": false, "score": 2, "creation_date": 1511382841, "post_id": 47443327, "comment_id": 81841916, "body": "@chribis : You should be careful while writing the questions and you shouldn&#39;t be changing the <i>basic requirement</i> of the question once you have the answers to it. It marks existing answers invalid answer. For example: I just got two down-votes because you changed your question :/ PS: I have updated the answer to match your desired result"}, {"owner": {"reputation": 247, "user_id": 1736366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb036f15794ed26d00b4fa427ca912f9?s=128&d=identicon&r=PG", "display_name": "chribis", "link": "https://stackoverflow.com/users/1736366/chribis"}, "edited": false, "score": 0, "creation_date": 1511383175, "post_id": 47443327, "comment_id": 81842078, "body": "Quite sorry, @Moinuddin. My mistake. I&#39;ve accepted your answer."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 247, "user_id": 1736366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb036f15794ed26d00b4fa427ca912f9?s=128&d=identicon&r=PG", "display_name": "chribis", "link": "https://stackoverflow.com/users/1736366/chribis"}, "edited": false, "score": 0, "creation_date": 1511383386, "post_id": 47443327, "comment_id": 81842202, "body": "I appreciate that, but accepting the answer is not an apology. You need to be careful while initially writing the question. Ideally I should have rollback your question to previous version. But since you are new here, I think you weren&#39;t knowing about it, and will be careful in the future :)"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1511382703, "last_edit_date": 1511382703, "creation_date": 1511382228, "answer_id": 47443327, "question_id": 47443291, "link": "https://stackoverflow.com/questions/47443291/making-a-list-of-lists-from-two-lists-based-on-indexes/47443327#47443327", "title": "Making a list of lists from two lists based on indexes", "body": "<p>You may use <em>list comprehension</em> expression with <a href=\"https://stackoverflow.com/questions/509211/understanding-pythons-slice-notation\"><em>list slicing</em></a> as:</p>\n\n<pre><code>&gt;&gt;&gt; indexes = [4, 2, 4, 6]\n&gt;&gt;&gt; values = [0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3]\n\n&gt;&gt;&gt; [values[sum(indexes[:i]):sum(indexes[:i+1])] for i, index in enumerate(indexes)]\n[[0, 1, 2, 3], [0, 1], [2, 3, 0, 1], [2, 3, 0, 1, 2, 3]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": false, "score": 1, "last_activity_date": 1511383630, "last_edit_date": 1511383630, "creation_date": 1511382841, "answer_id": 47443458, "question_id": 47443291, "link": "https://stackoverflow.com/questions/47443291/making-a-list-of-lists-from-two-lists-based-on-indexes/47443458#47443458", "title": "Making a list of lists from two lists based on indexes", "body": "<p>A regular for loop is a readable solution to this. There's no need for the list comprehension though, just maintain the current position in the list for slicing. </p>\n\n<pre><code>def split(idxes, vals):\n    res = []\n    pos = 0\n    for i in idxes:\n        res.append(vals[pos:pos+i])\n        pos += i\n    return res\n</code></pre>\n\n<hr>\n\n<p>Or if you particularly feel like importing <code>itertools</code>, though it's not really needed here, you could take the cumulative sum of the indices and then use the <code>pairwise</code> recipe. </p>\n\n<pre><code>from itertools import accumulate, tee\n\ndef pairwise(iterable):\n    \"s -&gt; (s0,s1), (s1,s2), (s2, s3), ...\"\n    a, b = tee(iterable)\n    next(b, None)\n    return zip(a, b)\n</code></pre>\n\n<p>Like so</p>\n\n<pre><code>&gt;&gt;&gt; [values[beg:end] for beg, end in pairwise(accumulate([0]+indexes))]\n[[0, 1, 2, 3], [0, 1], [2, 3, 0, 1], [2, 3, 0, 1, 2, 3]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1969, "user_id": 1836483, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cqf6i.jpg?s=128&g=1", "display_name": "Van Peer", "link": "https://stackoverflow.com/users/1836483/van-peer"}, "is_accepted": false, "score": 1, "last_activity_date": 1511382967, "creation_date": 1511382967, "answer_id": 47443485, "question_id": 47443291, "link": "https://stackoverflow.com/questions/47443291/making-a-list-of-lists-from-two-lists-based-on-indexes/47443485#47443485", "title": "Making a list of lists from two lists based on indexes", "body": "<pre><code>indexes = [4, 2, 4, 6]\nvalues = [0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3]\n\nl=[]\nl2=[]\nj=0\nfor i in range(len(indexes)):\n    k=0\n    while k &lt; indexes[i]:\n        l.append(values[j])\n        j+=1\n        k+=1\n    l2.append(l)\n    l=[]\n\nprint(l2)\n\n# [[0, 1, 2, 3], [0, 1], [2, 3, 0, 1], [2, 3, 0, 1, 2, 3]]\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 1736366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb036f15794ed26d00b4fa427ca912f9?s=128&d=identicon&r=PG", "display_name": "chribis", "link": "https://stackoverflow.com/users/1736366/chribis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 47443327, "answer_count": 3, "score": 1, "last_activity_date": 1511383630, "creation_date": 1511382033, "last_edit_date": 1511382275, "question_id": 47443291, "link": "https://stackoverflow.com/questions/47443291/making-a-list-of-lists-from-two-lists-based-on-indexes", "title": "Making a list of lists from two lists based on indexes", "body": "<p>I have these two lists</p>\n\n<pre><code>indexes = [4, 2, 4, 6]\nvalues = [0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3]\n</code></pre>\n\n<p>I'm looking to merge these lists to be this. Each index value corresponds to the list size of the merge.</p>\n\n<pre><code>[[0, 1, 2, 3], [0, 1], [2, 3, 0, 1], [2, 3, 0, 1, 2, 3]]\n</code></pre>\n\n<p>The current answer I have for this is okay, but I'm wondering if there's a better method for it.</p>\n\n<pre><code>ids = []\ncIndex = 0\nfor i in indexes:\n    ids.append([values[cIndex+x] for x in xrange(i)])\n    cIndex += i\n</code></pre>\n"}, {"tags": ["python", "ubuntu", "nginx", "flask", "ssh"], "comments": [{"owner": {"reputation": 189, "user_id": 781469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644eab022df83516906a968e93c6a8f4?s=128&d=identicon&r=PG", "display_name": "Nish", "link": "https://stackoverflow.com/users/781469/nish"}, "edited": false, "score": 0, "creation_date": 1511382796, "post_id": 47443283, "comment_id": 81841903, "body": "Run it in background. <code>&lt;insert gunicorn command&gt; &amp;</code> you can check job status by using <code>jobs</code> command."}, {"owner": {"reputation": 5851, "user_id": 2800058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89a11543adeba7f9212e25d410cd79d0?s=128&d=identicon&r=PG", "display_name": "pjcunningham", "link": "https://stackoverflow.com/users/2800058/pjcunningham"}, "edited": false, "score": 1, "creation_date": 1511521828, "post_id": 47443283, "comment_id": 81898360, "body": "<a href=\"http://supervisord.org/\" rel=\"nofollow noreferrer\">Supervisor</a>: A Process Control System. Google &quot;Flask Supervisor&quot; - lots of tutorials around."}], "owner": {"reputation": 1, "user_id": 7362945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e59c77e249423eaa86d2d9530f49f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sukkzez", "link": "https://stackoverflow.com/users/7362945/sukkzez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530799297, "creation_date": 1511382004, "last_edit_date": 1530799297, "question_id": 47443283, "link": "https://stackoverflow.com/questions/47443283/run-flask-app-on-ubuntu-all-the-time", "title": "run flask app on ubuntu all the time", "body": "<p>I just coded a basic Flask app and run it by using <code>gunicorn</code>.</p>\n\n<p>I can reach it by using the domain which points to my <code>nginx</code> webspace while I am connected via <code>ssh</code> with my <code>ubuntu vServer</code>.</p>\n\n<p>How can I make it to stay online while I am not connected via <code>ssh</code>? Is there a way I can turn it on and off whenever I like to?</p>\n\n<p>The point is everyone should be able to connect even when I am not currently connected in <code>ssh</code>.</p>\n"}]