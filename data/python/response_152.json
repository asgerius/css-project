[{"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 31, "user_id": 9037119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dj74l.jpg?s=128&g=1", "display_name": "Jerry B.", "link": "https://stackoverflow.com/users/9037119/jerry-b"}, "reply_to_user": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 1, "creation_date": 1512615755, "post_id": 47685436, "comment_id": 82333410, "body": "I just updated my code"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9037119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dj74l.jpg?s=128&g=1", "display_name": "Jerry B.", "link": "https://stackoverflow.com/users/9037119/jerry-b"}, "edited": false, "score": 0, "creation_date": 1512670620, "post_id": 47687967, "comment_id": 82362580, "body": "can you show what line of code grabs the image from my files?"}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "reply_to_user": {"reputation": 31, "user_id": 9037119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dj74l.jpg?s=128&g=1", "display_name": "Jerry B.", "link": "https://stackoverflow.com/users/9037119/jerry-b"}, "edited": false, "score": 0, "creation_date": 1512680031, "post_id": 47687967, "comment_id": 82367310, "body": "Just load your images with <code>pygame.image.load</code> when the program starts. Also, call <a href=\"http://www.pygame.org/docs/ref/surface.html#pygame.Surface.convert\" rel=\"nofollow noreferrer\"><code>convert()</code></a> or <code>convert_alpha()</code> to improve the performance (<code>convert</code> is a lot faster)."}, {"owner": {"reputation": 31, "user_id": 9037119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dj74l.jpg?s=128&g=1", "display_name": "Jerry B.", "link": "https://stackoverflow.com/users/9037119/jerry-b"}, "edited": false, "score": 0, "creation_date": 1512743172, "post_id": 47687967, "comment_id": 82392735, "body": "I am coding my program again because I had too many useless pieces of code and this will get me more organized. But I did take your code and test it and it worked. Thank you!"}, {"owner": {"reputation": 31, "user_id": 9037119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dj74l.jpg?s=128&g=1", "display_name": "Jerry B.", "link": "https://stackoverflow.com/users/9037119/jerry-b"}, "edited": false, "score": 0, "creation_date": 1513032989, "post_id": 47687967, "comment_id": 82486979, "body": "My previous code had a boundary system, but for some reason, it does not work with the new code."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "reply_to_user": {"reputation": 31, "user_id": 9037119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dj74l.jpg?s=128&g=1", "display_name": "Jerry B.", "link": "https://stackoverflow.com/users/9037119/jerry-b"}, "edited": false, "score": 0, "creation_date": 1513043842, "post_id": 47687967, "comment_id": 82489882, "body": "You just have to add these checks again <code>if x &gt; display_width - character_width or x &lt; 0: x_change = 0</code>. I only removed them because they were not relevant for the image switching."}], "tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": false, "score": 0, "last_activity_date": 1512680039, "last_edit_date": 1512680039, "creation_date": 1512623163, "answer_id": 47687967, "question_id": 47685436, "link": "https://stackoverflow.com/questions/47685436/how-to-display-a-different-image-based-on-button-clicks-with-pygame/47687967#47687967", "title": "How to display a different image based on button clicks with pygame?", "body": "<p>I'd get rid of the functions and just store the current image in a variable (<code>howieImg</code> in the example below). When the user presses one of the keys, you can simply assign one of the other images to the current image variable.</p>\n\n<pre><code>import pygame\n\npygame.init()\ngameDisplay = pygame.display.set_mode((800, 600))\n\n# These are just replacement images that allowed me to test the code.\n# howieImg_front = pygame.Surface((50, 50))\n# howieImg_front.fill((0, 0, 255))\n# howieImg_back = pygame.Surface((50, 50))\n# howieImg_back.fill((255, 255, 0))\n# howieImg_left = pygame.Surface((50, 50))\n# howieImg_left.fill((255, 0, 0))\n# howieImg_right = pygame.Surface((50, 50))\n# howieImg_right.fill((0, 255, 0))\n\nhowieImg_front = pygame.image.load('howie front.PNG').convert_alpha()\nhowieImg_back = pygame.image.load('howie back.PNG').convert_alpha()\nhowieImg_left = pygame.image.load('howie left.PNG').convert_alpha()\nhowieImg_right = pygame.image.load('howie right.PNG').convert_alpha()\n\n# Assign the current howie image to this variable.\nhowieImg = howieImg_front\n\nx = 200\ny = 300\nx_change = 0\ny_change = 0\nclock = pygame.time.Clock()\n\ngameExit = False\nwhile not gameExit:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            gameExit = True\n\n        if event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_w:\n                howieImg = howieImg_back\n                y_change = -3\n            if event.key == pygame.K_s:\n                howieImg = howieImg_front\n                y_change = 3\n            if event.key == pygame.K_a:\n                howieImg = howieImg_left\n                x_change = -3\n            if event.key == pygame.K_d:\n                howieImg = howieImg_right\n                x_change = 3                       \n        if event.type == pygame.KEYUP:\n            if event.key == pygame.K_w or event.key == pygame.K_s:\n                howieImg = howieImg_front\n                y_change = 0\n            if event.key == pygame.K_a or event.key == pygame.K_d:\n                howieImg = howieImg_front\n                x_change = 0\n\n    x += x_change\n    y += y_change\n\n    gameDisplay.fill((30, 30, 30))\n    # Just blit the current `howieImg`.\n    gameDisplay.blit(howieImg, (x, y))\n    pygame.display.update()\n    clock.tick(60)\n\npygame.quit()\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9037119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dj74l.jpg?s=128&g=1", "display_name": "Jerry B.", "link": "https://stackoverflow.com/users/9037119/jerry-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 521, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1512680039, "creation_date": 1512604538, "last_edit_date": 1512615740, "question_id": 47685436, "link": "https://stackoverflow.com/questions/47685436/how-to-display-a-different-image-based-on-button-clicks-with-pygame", "title": "How to display a different image based on button clicks with pygame?", "body": "<p>I am coding a game for a school project. I have coded it so that I use wasd to move my character. I have four different images: one facing left, one right, one forwards, and one backwards. I need to change the image being displayed as the character based on which button I press. I have a function defining each image, and I try to call that function based on which button is pressed, and then when the button goes back up, I want to display the front facing image again. All it does is every time I press, the corresponding facing image is displayed, goes away, and then the front facing image is displayed and then goes away very quickly. This is just the part that actually deals with the character:</p>\n\n<pre><code>howieImg = pygame.image.load('howie front.PNG')\nhowieImg_back = pygame.image.load('howie back.PNG')\nhowieImg_left = pygame.image.load('howie left.PNG')\nhowieImg_right = pygame.image.load('howie right.PNG')\n\ndef howie(x, y):\ngameDisplay.blit(howieImg, (x, y))\ndef howie_back(x, y):\ngameDisplay.blit(howieImg_back, (x, y))\ndef howie_left(x, y):\ngameDisplay.blit(howieImg_left, (x, y))\ndef howie_right(x, y):\ngameDisplay.blit(howieImg_right, (x, y))\n\nwhile not gameExit:\n        startx = (display_width/2)\n        starty = (display_height/2)\n        thing_width = 25\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n                quit()\n\n            if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_w and y &gt; 0:\n                    howie_back(x, y)\n                    y_change = -3\n                if event.key == pygame.K_s and y &lt; display_height - character_height:\n                    howie(x, y)\n                    y_change = 3\n                if event.key == pygame.K_a and x &gt; 0:\n                    howie_left(x, y)\n                    x_change = -3\n                if event.key == pygame.K_d and x &lt; display_width - character_width:\n                    howie_right(x, y)\n                    x_change = 3                       \n            if event.type == pygame.KEYUP:\n                if event.key == pygame.K_w or event.key == pygame.K_s:\n                    howie(x, y)\n                    y_change = 0\n                if event.key == pygame.K_a or event.key == pygame.K_d:\n                    howie(x, y)\n                    x_change = 0\n\n        x += x_change\n        y += y_change\n\n        if x &gt; display_width - character_width or x &lt; 0:\n            x_change = 0\n        if y &gt; display_height - character_height or y &lt; 0:\n            y_change = 0\n\n        clock.tick(60)\n        gameDisplay.blit(background1Img, [0, 0])\n        button1()\n        howie(x, y)\n        things_collected(collected)\n        pygame.display.update()\n</code></pre>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 2, "creation_date": 1512604553, "post_id": 47685425, "comment_id": 82330664, "body": "Use temporary variables."}, {"owner": {"reputation": 1988, "user_id": 4876765, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/37Wx5.jpg?s=128&g=1", "display_name": "LYu", "link": "https://stackoverflow.com/users/4876765/lyu"}, "edited": false, "score": 1, "creation_date": 1512604574, "post_id": 47685425, "comment_id": 82330674, "body": "Shouldn&#39;t this be just set the result into variables and passing them around?"}, {"owner": {"reputation": 2851, "user_id": 8003790, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/439b528b13c53ea231f24bb46136c0a1?s=128&d=identicon&r=PG&f=1", "display_name": "IMCoins", "link": "https://stackoverflow.com/users/8003790/imcoins"}, "edited": false, "score": 0, "creation_date": 1512604609, "post_id": 47685425, "comment_id": 82330689, "body": "Searche for <b>variables</b> and <b>return values</b>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1512605228, "post_id": 47685425, "comment_id": 82330853, "body": "If you want it to look <i>exactly like that</i>, then you&#39;ll probably have to refactor your code so that all your functions do not require arguments, to start with, no? Likely, this will involve the use of global variables. All around, this sounds like a very bad approach."}], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": false, "score": 1, "last_activity_date": 1512605381, "creation_date": 1512605381, "answer_id": 47685556, "question_id": 47685425, "link": "https://stackoverflow.com/questions/47685425/how-not-to-use-functions-as-parameters-for-other-functions/47685556#47685556", "title": "How not to use functions as parameters for other functions", "body": "<p>This should be equivalent.</p>\n\n<pre><code>def main():\n    result1 = function1()\n    result2 = function2(result1)\n    result3 = function3(result2)\n    final_result = function4(result3, result2)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9064559, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-o419ACyC9_Y/AAAAAAAAAAI/AAAAAAAAAA8/31dgGJBRDNw/photo.jpg?sz=128", "display_name": "Elijah Fernandez", "link": "https://stackoverflow.com/users/9064559/elijah-fernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1512605381, "creation_date": 1512604386, "question_id": 47685425, "link": "https://stackoverflow.com/questions/47685425/how-not-to-use-functions-as-parameters-for-other-functions", "title": "How not to use functions as parameters for other functions", "body": "<p>I am trying to write a few functions that will determine the number of real roots and the roots of a quadratic equations, and I must do it using a <code>main()</code> function. What I am trying to avoid is using the final function with all the other functions as its parameters, like</p>\n\n\n\n<pre><code>def main():\n    function4(function3(function2(function1())), function2(function1()))\n</code></pre>\n\n\n\n<p>Instead, how can I make it look like:</p>\n\n\n\n<pre><code>def main():\n    function1()\n    function2()\n    function3()\n    function4()\n</code></pre>\n\n\n"}, {"tags": ["python", "pyqt", "qt5", "pyqt5", "qspinbox"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512604465, "post_id": 47685405, "comment_id": 82330636, "body": "Show what you have tried. SO is not a coding service, read the following: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 107, "user_id": 8305277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-LX9b2uWBlvY/AAAAAAAAAAI/AAAAAAAAABM/dD681IFz9Ys/photo.jpg?sz=128", "display_name": "Nicolas Quiroz", "link": "https://stackoverflow.com/users/8305277/nicolas-quiroz"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1512604643, "post_id": 47685405, "comment_id": 82330699, "body": "@eyllanesc adding it now"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512604802, "post_id": 47685405, "comment_id": 82330747, "body": "Is it necessary to use TonoFactory for this example?"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 8305277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-LX9b2uWBlvY/AAAAAAAAAAI/AAAAAAAAABM/dD681IFz9Ys/photo.jpg?sz=128", "display_name": "Nicolas Quiroz", "link": "https://stackoverflow.com/users/8305277/nicolas-quiroz"}, "edited": false, "score": 0, "creation_date": 1512663311, "post_id": 47685790, "comment_id": 82358546, "body": "shouldn&#39;t you add a return in the conditionals so that the super method isnt called?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 107, "user_id": 8305277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-LX9b2uWBlvY/AAAAAAAAAAI/AAAAAAAAABM/dD681IFz9Ys/photo.jpg?sz=128", "display_name": "Nicolas Quiroz", "link": "https://stackoverflow.com/users/8305277/nicolas-quiroz"}, "edited": false, "score": 0, "creation_date": 1512663450, "post_id": 47685790, "comment_id": 82358622, "body": "@NicolasQuiroz My idea is to only use this method as a filter before the value is updated, in your case you tried to use editingFinished but it is issued after the change, that&#39;s why it fails."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 107, "user_id": 8305277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-LX9b2uWBlvY/AAAAAAAAAAI/AAAAAAAAABM/dD681IFz9Ys/photo.jpg?sz=128", "display_name": "Nicolas Quiroz", "link": "https://stackoverflow.com/users/8305277/nicolas-quiroz"}, "edited": false, "score": 0, "creation_date": 1512674215, "post_id": 47685790, "comment_id": 82364409, "body": "@NicolasQuiroz Read my note"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 107, "user_id": 8305277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-LX9b2uWBlvY/AAAAAAAAAAI/AAAAAAAAABM/dD681IFz9Ys/photo.jpg?sz=128", "display_name": "Nicolas Quiroz", "link": "https://stackoverflow.com/users/8305277/nicolas-quiroz"}, "edited": false, "score": 0, "creation_date": 1512674283, "post_id": 47685790, "comment_id": 82364451, "body": "You must add 2 more values to strings, one at the start and one at the end, these are just to fill."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1512674193, "last_edit_date": 1512674193, "creation_date": 1512607154, "answer_id": 47685790, "question_id": 47685405, "link": "https://stackoverflow.com/questions/47685405/loop-through-qspinbox-when-reaches-the-end/47685790#47685790", "title": "Loop through QSpinbox when reaches the end", "body": "<p>A solution strategy is to add an element before and to the last so that the buttons remain enabled, we intercept the changes so that instead of going to the last go to the second, and vice versa, instead of going to the first one, you must go to the last one.</p>\n\n<p>Example:</p>\n\n<pre><code>class StringBox(QSpinBox):\n    def __init__(self, parent=None):\n        super(StringBox, self).__init__(parent)\n        strings = []\n        texts = [\"do\", \"re\", \"mi\", \"fa\", \"sol\", \"la\", \"si\"]\n        for key in texts:\n            strings.append(key)\n        self.setStrings([\"\"] + strings + [\"-\"])\n        self.setValue(1)\n\n    def strings(self):\n        return self._strings\n\n    def setStrings(self, strings):\n        strings = list(strings)\n        self._strings = tuple(strings)\n        self._values = dict(zip(strings, range(len(strings))))\n        self.setRange(0, len(strings)-1)\n\n    def textFromValue(self, value):\n        return self._strings[value]\n\n    def valueFromText(self, text):\n        return self._values[text]\n\n    def stepBy(self, step):\n        if self.value() == 1 and step == -1:\n            self.setValue(self.maximum())\n        elif self.value() == self.maximum() -1  and step == 1:\n            self.setValue(0)\n        QSpinBox.stepBy(self, step)\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QApplication(sys.argv)\n    w = StringBox()\n    w.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p><strong>Note:</strong> Since you are using a dictionary and these can not have repeated keys, I recommend that the elements you add be different from the texts you show.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 13542187, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-22Nf6rOElf0/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclXgMuIFHpT2Ml6lg50mcPdS2u6Dw/photo.jpg?sz=128", "display_name": "Rakshit Arora", "link": "https://stackoverflow.com/users/13542187/rakshit-arora"}, "is_accepted": false, "score": 0, "last_activity_date": 1590722113, "last_edit_date": 1590722113, "creation_date": 1590691882, "answer_id": 62072382, "question_id": 47685405, "link": "https://stackoverflow.com/questions/47685405/loop-through-qspinbox-when-reaches-the-end/62072382#62072382", "title": "Loop through QSpinbox when reaches the end", "body": "<p>Use <code>spinbox.setWrapping(True)</code> method</p>\n\n<p>It is a builtin method to repeat the values of spin box</p>\n"}], "owner": {"reputation": 107, "user_id": 8305277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-LX9b2uWBlvY/AAAAAAAAAAI/AAAAAAAAABM/dD681IFz9Ys/photo.jpg?sz=128", "display_name": "Nicolas Quiroz", "link": "https://stackoverflow.com/users/8305277/nicolas-quiroz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 47685790, "answer_count": 2, "score": 1, "last_activity_date": 1590722113, "creation_date": 1512604231, "last_edit_date": 1512674568, "question_id": 47685405, "link": "https://stackoverflow.com/questions/47685405/loop-through-qspinbox-when-reaches-the-end", "title": "Loop through QSpinbox when reaches the end", "body": "<p>Is there any way to create a QSpinbox that sets itself to the first value, when it reaches the end, and the step up button is pressed again?</p>\n\n<p>I tried doing it in a custom QSpinBox but what happens is that when it reaches to the last value, y gets instantly reset, which leads to never seeing the last value.</p>\n\n<pre><code>from PyQt5.QtWidgets import QSpinBox\nfrom music import TonoFactory\n\n_tf = TonoFactory()\n\n\nclass StringBox(QSpinBox):\n    def __init__(self, parent=None):\n        super(StringBox, self).__init__(parent)\n        strings = []\n        for key in _tf.notas.keys():\n            strings.append(key)\n        self.setStrings(strings)\n        self.editingFinished.connect(self.reset_spin)\n\n    def strings(self):\n        return self._strings\n\n    def setStrings(self, strings):\n        strings = list(strings)\n        self._strings = tuple(strings)\n        self._values = dict(zip(strings, range(len(strings))))\n        self.setRange(0, len(strings) - 1)\n\n    def textFromValue(self, value):\n        return self._strings[value]\n\n    def valueFromText(self, text):\n        return self._values[text]\n\n    def reset_spin(self):\n        if self.value() == len(self.strings()) -1:\n            self.setValue(0)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 1, "creation_date": 1512605470, "post_id": 47685399, "comment_id": 82330938, "body": "impossible to say w/o seeing your data.  check if you have duplicate column names and try to reproduce with a small sample data set and post here"}, {"owner": {"reputation": 119, "user_id": 6348150, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/10156869024260175/picture?type=large", "display_name": "Julianno Sambatti", "link": "https://stackoverflow.com/users/6348150/julianno-sambatti"}, "reply_to_user": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1512605661, "post_id": 47685399, "comment_id": 82331002, "body": "No duplicate column names. However, there are column names with the name df[&#39;BASAL_AREA_1&#39;]. That shouldn&#39;t be a problem though"}, {"owner": {"reputation": 1425, "user_id": 2857926, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4fa2b186024bfed9076194d2face1afb?s=128&d=identicon&r=PG&f=1", "display_name": "hanego", "link": "https://stackoverflow.com/users/2857926/hanego"}, "edited": false, "score": 0, "creation_date": 1512615719, "post_id": 47685399, "comment_id": 82333402, "body": "First, you could the rename command with just one dictionary, not 3 lines. Then, could you do <code>print(df1,columns)</code> before and after the rename?"}], "owner": {"reputation": 119, "user_id": 6348150, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/10156869024260175/picture?type=large", "display_name": "Julianno Sambatti", "link": "https://stackoverflow.com/users/6348150/julianno-sambatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512604159, "creation_date": 1512604159, "question_id": 47685399, "link": "https://stackoverflow.com/questions/47685399/pandas-renaming-column-alters-type-of-the-data", "title": "Pandas: renaming column alters type of the data", "body": "<p>I am using jupyter Notebook to manipulate a table</p>\n\n<p>I have a data frame with several numerical columns that I renamed using:</p>\n\n<pre><code>df1.rename(columns={'FCO_ID_1': 'FCO_ID'}, inplace=True)\ndf1.rename(columns={'HEIGHT_1': 'H1'}, inplace=True)\ndf1.rename(columns={'BASAL_AREA': 'BA'}, inplace=True)\n</code></pre>\n\n<p>I then tested the dtype of each column using:</p>\n\n<pre><code>print (df1['H1'].dtype)\n</code></pre>\n\n<p>However, when I tested for 'BA', </p>\n\n<pre><code> print (df1['BA'].dtype)\n</code></pre>\n\n<p>I got the following error:</p>\n\n<p><code>\nAttributeError: 'DataFrame' object has no attribute 'dtype'\n</code></p>\n\n<p>I then tested the same column before renaming (from original dataframe df)</p>\n\n<pre><code> print (df['BASAL_AREA'].dtype)\n float64\n</code></pre>\n\n<p>I cannot figure out why renaming changes the data type and why only one column has this problem. </p>\n\n<p>thanks</p>\n"}, {"tags": ["python", "get", "python-requests", "codec"], "answers": [{"comments": [{"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1512605580, "post_id": 47685526, "comment_id": 82330973, "body": "xyres, thanks for the quick and detailed response.  That said, the length of &quot;color&quot; is 5 characters, is it not?  More importantly, isn&#39;t it the length of &quot;red&quot; that we need to know?  And if so, the color might be &quot;blue&quot;, which is 4 characters - how would the client know how many characters the return vale is?"}, {"owner": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1512605677, "post_id": 47685526, "comment_id": 82331008, "body": "@pshep123 Yes, it can be of any length. You&#39;ll have to set the header value by calculating the length of the <code>color</code> variable on the server."}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1512605772, "post_id": 47685526, "comment_id": 82331034, "body": "Ok, I guess the bigger question is that I&#39;m simply using the line: <code>return color, file_data</code>, not building out the whole <code>HTTP&#47;1.1 200 OK...</code> bit.  How do I include those headers in a simple <code>return</code>?"}, {"owner": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1512605843, "post_id": 47685526, "comment_id": 82331048, "body": "@pshep123 Are you using any framework to generate the response?"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1512605960, "post_id": 47685526, "comment_id": 82331088, "body": "I&#39;m using codecs to generate the binary data, but nothing to generate the response.  Simply using <code>return ...</code>  But please enlighten me, I have a feeling there is a much better way to do this."}, {"owner": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1512606198, "post_id": 47685526, "comment_id": 82331150, "body": "@pshep123 You must be using something on Server B to return the response. Python&#39;s built-in HTTP server, or something else? There must be something that&#39;s <i>listening</i> for the incoming requests?"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "reply_to_user": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "edited": false, "score": 0, "creation_date": 1512606242, "post_id": 47685526, "comment_id": 82331160, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/160664/discussion-between-pshep123-and-xyres\">continue this discussion in chat</a>."}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1512607634, "post_id": 47685526, "comment_id": 82331477, "body": "Main issue was that I needed to customize my response via Flask&#39;s <code>make_response</code> in which I created custom headers which could then be read by the client.  Thanks for your time and help @xyres!"}, {"owner": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1514626024, "post_id": 47685526, "comment_id": 83035398, "body": "@pshep123 Hi, it&#39;s been a while, but I just realized you can send the value of <code>color</code> itself in a header, instead of the number of bytes it has. I don&#39;t know why it slipped my mind then, but it is definitely a simpler solution. But I&#39;m sure you must be done with your project by now, so I just wanted to let you know for future."}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 1, "creation_date": 1514627570, "post_id": 47685526, "comment_id": 83035730, "body": "+1. But note that, while sending 6 bytes in the header makes sense, but sending <i>too much</i> will incur a HEAD latency -- which is not desirable."}], "tags": [], "owner": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "is_accepted": true, "score": 3, "last_activity_date": 1530517591, "last_edit_date": 1530517591, "creation_date": 1512605169, "answer_id": 47685526, "question_id": 47685383, "link": "https://stackoverflow.com/questions/47685383/python-requests-send-text-with-binary-data/47685526#47685526", "title": "Python requests send text with binary data", "body": "<p>An HTTP response looks like this:</p>\n\n<pre><code>HTTP/1.1 200 OK\n&lt;headers&gt;\n&lt;blank line&gt;\n&lt;response body&gt;\n</code></pre>\n\n<p>The <code>&lt;blank line&gt;</code> generally contains these characters - <code>\\r\\n</code>, also known as <code>CRLF</code>. </p>\n\n<p>So, when a server sends a response, the client (or browser) can differentiate from the headers and the response body by looking at the <code>&lt;blank line&gt;</code>. So, anything after <code>&lt;blank line&gt;</code> is treated as the response body.</p>\n\n<p>What that means is, there can be at most <strong>1 response body only</strong>. So, even if you think you're sending <code>color</code> and <code>file_data</code> separately like you're doing, they're still going in one response and the client will treat them as a single body.</p>\n\n<hr>\n\n<p><strong>What you can do to get around this?</strong></p>\n\n<p>You'll need a way to know which part of the response body is the <code>color</code> and which is <code>file_data</code>. You can do that by sending a custom header along with the response.</p>\n\n<p>Let's say, your response looks like this:</p>\n\n<pre><code>HTTP/1.1 200 OK\n&lt;headers&gt;\n&lt;blank line&gt;\n&lt;color&gt;&lt;file_data&gt;\n</code></pre>\n\n<p>Now, you can set a custom header on your response which will tell you how many bytes are there of the <code>color</code> variable.</p>\n\n<p>For example, if the value of <code>color</code> is <code>yellow</code> and it's 6 characters, that means it has 6 bytes. So, you can set a custom header that would tell you the total length of <code>color</code>:</p>\n\n<pre><code>HTTP/1.1 200 OK\n&lt;headers&gt;\nX-Color-Length: 6\n&lt;blank line&gt;\n&lt;color&gt;&lt;file_data&gt;\n</code></pre>\n\n<p>Then, in your client side, you can get the total bytes from the <code>X-Color-Length</code> header and read that number of bytes from the body to get the value of the <code>color</code>. Example:</p>\n\n<pre><code>response = requests.get(...)\n\ncolor_len = response.headers['X-Color-Length']\n\ncolor = response.content[:color_len]\nfile_data = response.content[color_len:]\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE:</strong> Now that I think about it, I've made this a little more complex than it should be. You can just send the color's value directly in a header like <code>X-Color: &lt;color&gt;</code>, instead of the number of bytes it has.</p>\n"}], "owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1142, "favorite_count": 0, "accepted_answer_id": 47685526, "answer_count": 1, "score": 0, "last_activity_date": 1530517591, "creation_date": 1512604044, "question_id": 47685383, "link": "https://stackoverflow.com/questions/47685383/python-requests-send-text-with-binary-data", "title": "Python requests send text with binary data", "body": "<p>I'm trying to send both binary data and a text string (or any other normal variable) between servers using python's requests library.</p>\n\n<p>I have two servers talking to each other.  <strong>Server A</strong> sends a GET request via python's requests library.  It looks something like this:</p>\n\n<pre><code>color, file_data = requests.get('https://www.serverb.com/testing', params = {...})\n</code></pre>\n\n<p><strong>Server B</strong> then does something like:</p>\n\n<pre><code>var1 = request.args.get('var1')\nvar2 = request.args.get('var2')\n\n# This function creates a binary file, saves it to disk, and returns the file name.\nres = some_function(var1, var2)\n\nfile_data = codecs.open(res, 'rb').read()\n\nreturn 'Success!', file_data\n</code></pre>\n\n<p>However, when I attempt this, Server B throws a 500 error.</p>\n\n<p>Is what I'm attempting to do impossible?  If I can only send back the binary data, but with custom headers, that would work as well, and help on how to set those up would be appreciated.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "batch-processing", "csvkit"], "comments": [{"owner": {"reputation": 3930, "user_id": 3346095, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1e61a9cdad491274a80239dcc5a1643b?s=128&d=identicon&r=PG&f=1", "display_name": "Hatshepsut", "link": "https://stackoverflow.com/users/3346095/hatshepsut"}, "edited": false, "score": 1, "creation_date": 1512604092, "post_id": 47685354, "comment_id": 82330499, "body": "<code>csvcut -c 1 test.csv | sort | uniq -c </code>"}], "answers": [{"tags": [], "owner": {"reputation": 2720, "user_id": 757714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1da1f58b5de9f3f644952a23528e5907?s=128&d=identicon&r=PG", "display_name": "aborruso", "link": "https://stackoverflow.com/users/757714/aborruso"}, "is_accepted": false, "score": 2, "last_activity_date": 1525248239, "creation_date": 1525248239, "answer_id": 50129775, "question_id": 47685354, "link": "https://stackoverflow.com/questions/47685354/use-csvkit-to-export-list-of-unique-value-with-counts/50129775#50129775", "title": "Use CSVKIT to export list of unique value with counts", "body": "<p>Use SQL, with <code>csvsql</code></p>\n\n<pre><code>csvsql -I --query \"select yourfield, count(*) as count from filename group by yourfield order by count DESC\" filename.csv\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 7762563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/69f7a5d9bf3b242ce449f4d1bc6d8240?s=128&d=identicon&r=PG&f=1", "display_name": "John D", "link": "https://stackoverflow.com/users/7762563/john-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525248239, "creation_date": 1512603820, "question_id": 47685354, "link": "https://stackoverflow.com/questions/47685354/use-csvkit-to-export-list-of-unique-value-with-counts", "title": "Use CSVKIT to export list of unique value with counts", "body": "<p>I have started using CSVKIT and I have learned a lot about how to use it and ways to manipulate data, but I am still working to gain all the concepts. I was recently asked to produce a record count based on all unique values in a column. I understand that this can be accomplished using Excel, but I wanted to find something other than Excel and my needing to create a VBA script as I have to batch process it over multiple files.</p>\n\n<p>using CSVKIT I have gotten the following:</p>\n\n<p>CSVSTAT -c 1 -uniq test.csv > test_report.csv</p>\n\n<p>This only tells me the number of unique values, but not their names and not the counts per each unique value. At one point I had the values but not the counts, but I am at a loss now. Anyone who can point me in the right direction would be much appreciated.</p>\n"}, {"tags": ["python", "csv", "matplotlib", "graph"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512603932, "post_id": 47685350, "comment_id": 82330433, "body": "You want <code>y_pos = np.arange(len(y))</code>."}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512604075, "post_id": 47685350, "comment_id": 82330491, "body": "Sorry about that I fixed that problem but I still run into Len() of unsized object for y_pos"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512604116, "post_id": 47685350, "comment_id": 82330514, "body": "Update your question with the actual code and the error it produces."}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512604240, "post_id": 47685350, "comment_id": 82330557, "body": "@ImportanceOfBeingErnest Done."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512604355, "post_id": 47685350, "comment_id": 82330596, "body": "Ok, it seems <code>v</code> is a single number? So you want one single bar per plot?"}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512604439, "post_id": 47685350, "comment_id": 82330624, "body": "I want it to look like this  <a href=\"https://pythonspot-9329.kxcdn.com/wp-content/uploads/2015/07/figure_barchart.png\" rel=\"nofollow noreferrer\">pythonspot-9329.kxcdn.com/wp-content/uploads/2015/07/&hellip;</a>  with the name of every project below each bar."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512604644, "post_id": 47685350, "comment_id": 82330701, "body": "This was not actually a question. It was a hint for you where your error is. At the moment you are trying to plot one single bar per plot, but that is not what you want."}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512605367, "post_id": 47685350, "comment_id": 82330900, "body": "Gotcha, I have it graphing now but it&#39;s creating a separate graph for each. Any suggestions on how to fix that?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512638446, "post_id": 47685350, "comment_id": 82342041, "body": "Yes, again, <a href=\"https://stackoverflow.com/posts/47685350/edit\">edit</a> your question to show the actual problem."}], "owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512604207, "creation_date": 1512603788, "last_edit_date": 1512604207, "question_id": 47685350, "link": "https://stackoverflow.com/questions/47685350/error-while-plotting-bar-graph-in-python", "title": "Error while plotting bar graph in python", "body": "<p>I have this current code below. The way the code is supposed to work is ask for a user name and then print all the projects and hours associated to that user within the called csv and then plot a vertical bar graph with the x-values being the project names and the y values being the hours for that project. I'm running into an error which is also shown below. How do I pull the right values from my code and plot them accordingly? I'm very novice with python so any help you can lend would be great.\nThanks in advance </p>\n\n<pre><code>import csv\nimport matplotlib.pyplot as plt; plt.rcdefaults()\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nwith open('Report1.csv') as csvfile:\n  hour_summation = {}\n  read_csv = csv.reader(csvfile, delimiter=',')\n  name_found = False\n  while not name_found:\n    # take user input for name\n    full_name = input('Enter your full name: ').lower()\n    # start search at top of file. Have to do this or each loop will\n    # start at the end of the file after the first check.\n    csvfile.seek(0)\n    for row in read_csv:\n      # check to see if row matches name\n      if(' '.join((row[0], row[1]))).lower() == full_name.strip().lower():\n        name_found = True\n        hour_summation[row[2]] = hour_summation.get(row[2], 0) + int(float(row[3]))\n\n    # name wasn't found, so repeat process\n    if not name_found:\n      # name wasn't found, go back to start of while loop\n      print('Name is not in system')\n    else:\n      # break out of while loop. Technically not required since while\n      # will exit here anyway, but clarity is nice\n      break\n\nprint('This is {} full hours report:'.format(full_name))\nfor k, v in hour_summation.items():\n    print(k + ': ' + str(v) + ' hours')\n\nfor k, v in hour_summation.items():\n    x = np.array(k)\n    y = np.array(v)\n    y_pos = np.arange(len(y))\n    plt.bar(y_pos, y, align='center', alpha=0.5)\n    plt.xticks(y_pos, x)\n    plt.ylabel('hours')\n    plt.title('Projects for: ', full_name)\n    plt.show()\n</code></pre>\n\n<p>Here is the error I'm getting. It is doing everything as it should until it reaches the graph section. </p>\n\n<pre><code>Enter your full name: david ayers\nThis is david ayers full hours report:\nAD-0001  Administrative Time: 4 hours\nAD-0002  Training: 24 hours\nAD-0003  Personal Time: 8 hours\nAD-0004  Sick Time: 0 hours\nOPS-0001  General Operational Support: 61 hours\nSUP-2507  NAFTA MFTS OS Support: 10 hours\nENG-2001_O Parts Maturity-Overhead: 1 hours\nENG-2006_O CHEC 2 Tool-Overhead: 19 hours\nFIN-2005  BLU Lake BOM Analytics: 52 hours\n\n\n\n\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-17-c9c8a4aa3176&gt; in &lt;module&gt;()\n     36     x = np.array(k)\n     37     y = np.array(v)\n---&gt; 38     y_pos = np.arange(len(y))\n     39     plt.bar(y_pos, y, align='center', alpha=0.5)\n     40     plt.xticks(y_pos, x)\n\nTypeError: len() of unsized object\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1512607255, "post_id": 47685619, "comment_id": 82331397, "body": "It throws this error- File &quot;/usr/local/lib/python2.7/site-packages/mock/mock.py&quot;, line 1118, in _mock_call     raise effect Exception                    -           Were you able to run without issues?"}, {"owner": {"reputation": 4122, "user_id": 174605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68fdf71a1519554403013964f2d4380e?s=128&d=identicon&r=PG", "display_name": "coelhudo", "link": "https://stackoverflow.com/users/174605/coelhudo"}, "reply_to_user": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1512722336, "post_id": 47685619, "comment_id": 82380737, "body": "Nope. In your example, in the test, you wrote the method run to throw an Exception. This means that you need a try/expect around the call of method task1.run in Workflow to make it work."}], "tags": [], "owner": {"reputation": 4122, "user_id": 174605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68fdf71a1519554403013964f2d4380e?s=128&d=identicon&r=PG", "display_name": "coelhudo", "link": "https://stackoverflow.com/users/174605/coelhudo"}, "is_accepted": true, "score": 1, "last_activity_date": 1548935618, "last_edit_date": 1548935618, "creation_date": 1512605974, "answer_id": 47685619, "question_id": 47685331, "link": "https://stackoverflow.com/questions/47685331/python-mock-exception-handling/47685619#47685619", "title": "python mock exception handling", "body": "<p>Given the syntax, you are using Python 2, but I will refer to the documentation in the <a href=\"https://docs.python.org/3/library/unittest.mock.html\" rel=\"nofollow noreferrer\">Python 3 official documentation anyway.</a> I believe the solution applies.</p>\n\n<p>The first example is:</p>\n\n<pre><code>from unittest.mock import MagicMock\n\nthing = ProductionClass()\nthing.method = MagicMock(return_value=3)\nthing.method(3, 4, 5, key='value')\n#prints 3\n\nthing.method.assert_called_with(3, 4, 5, key='value')\n</code></pre>\n\n<p>Bringing this your problem you would have the code below instead of your current code. See that I'm assigning the Task1.run and Task2.run methods to a MagicMock instance.</p>\n\n<pre><code>import unittest\nimport mock\nfrom t import Task1, Task2, Workflow\nclass TestWorkflow(unittest.TestCase):\n    def test_workflow(self):\n        self.task1 = Task1()\n        self.task1.run = mock.MagicMock() # mocking run from task1\n        self.task2 = Task2()\n        self.task2.run = mock.MagicMock()\n        self.task1.run.side_effect = Exception() # setting task1 exception to an exception object\n\n        self.workflow = Workflow()\n        self.workflow.run(self.task1, self.task2)\n        self.task2.run.assert_not_called() # checking task2 is not called.\n\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1902, "favorite_count": 0, "accepted_answer_id": 47685619, "answer_count": 1, "score": 1, "last_activity_date": 1548935618, "creation_date": 1512603671, "last_edit_date": 1512728717, "question_id": 47685331, "link": "https://stackoverflow.com/questions/47685331/python-mock-exception-handling", "title": "python mock exception handling", "body": "<p>I have couple of tasks in my workflow..Now, I want to mock the output of Task1 returning exception and just test task2.run method  is not called.</p>\n\n<pre><code>class Task1():\n    def run(self):\n        try:\n            return 2,2\n        except Exception as e:\n            print e\n            raise Exception('Task1 Exception')\n\nclass Task2():\n    def run(self,x,y):\n        try:\n            return 2 * (x*y)\n        except Exception as e:\n            print e\n            raise Exception('Task2 Exception')            \n\nclass Workflow():\n    def run(self,task1, task2):\n        x,y = task1.run()\n        print task2.run(x,y)\n\n\ntask1 = Task1()\ntask2 = Task2()\n\nw = Workflow()\nw.run(task1,task2)\n</code></pre>\n\n<p>Here is my unittest - </p>\n\n<pre><code>import unittest\nimport mock\nfrom test2 import Task1, Task2, Workflow\nclass TestWorkflow(unittest.TestCase):\n    def test_workflow(self):\n        self.task1 = mock.MagicMock(Task1()) # mocking task1\n        self.task2 = mock.MagicMock(Task2())\n        self.task1.side_effect = Exception() # setting task1 exception to an exception object\n\n        self.workflow = Workflow()\n        self.workflow.run(self.task1, self.task2)\n        self.task2.run.assert_not_called() # checking task2 is not called.\n\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>Exception:- </p>\n\n<pre><code>    x,y = task1.run()\nValueError: need more than 0 values to unpack\n</code></pre>\n"}, {"tags": ["python", "werkzeug"], "comments": [{"owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "edited": false, "score": 0, "creation_date": 1512607471, "post_id": 47685304, "comment_id": 82331440, "body": "<a href=\"https://stackoverflow.com/questions/18249949/python-file-object-to-flasks-filestorage\" title=\"python file object to flasks filestorage\">stackoverflow.com/questions/18249949/&hellip;</a>"}, {"owner": {"reputation": 34352, "user_id": 119775, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fK5bc.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Corbett", "link": "https://stackoverflow.com/users/119775/jean-fran%c3%a7ois-corbett"}, "edited": false, "score": 0, "creation_date": 1616761804, "post_id": 47685304, "comment_id": 118110884, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/18249949/python-file-object-to-flasks-filestorage\">Python File object to Flask&#39;s FileStorage</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "is_accepted": true, "score": 0, "last_activity_date": 1512847040, "creation_date": 1512847040, "answer_id": 47732202, "question_id": 47685304, "link": "https://stackoverflow.com/questions/47685304/python-flask-mimic-werkzeug-filestorage-object/47732202#47732202", "title": "python flask: mimic werkzeug FileStorage object", "body": "<p>Answered <a href=\"https://stackoverflow.com/questions/18249949/python-file-object-to-flasks-filestorage\">here</a>. Just need to wrap the python file object in the werkzeug <a href=\"http://werkzeug.pocoo.org/docs/0.12/datastructures/#werkzeug.datastructures.FileStorage\" rel=\"nofollow noreferrer\">FileStorage</a> class.</p>\n"}], "owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3665, "favorite_count": 0, "accepted_answer_id": 47732202, "answer_count": 1, "score": 3, "last_activity_date": 1512847040, "creation_date": 1512603514, "question_id": 47685304, "link": "https://stackoverflow.com/questions/47685304/python-flask-mimic-werkzeug-filestorage-object", "title": "python flask: mimic werkzeug FileStorage object", "body": "<p>I have the following route in a flask application which accepts an uploaded file and throws the file object into a function for validation. Here's a barebones example:</p>\n\n<pre><code>def is_file_valid(file):\n    if file.filename == 'test':\n        return True\n    return False\n\n@app.route('/validate', method=['POST'])\ndef validate():\n    file = request.files['file']\n    if is_file_valid(file):\n        return redirect(url_for('somewhere'))\n    return redirect(url_for('somewhere_else'))\n</code></pre>\n\n<p>I'm trying to create a unittest to test the <code>is_file_valid</code> function but I'm having trouble creating the <code>FileStorage</code> object flask uses which appears to be very similar to a standard python file object (<a href=\"http://werkzeug.pocoo.org/docs/0.12/datastructures/#werkzeug.datastructures.FileStorage\" rel=\"nofollow noreferrer\">docs</a>).</p>\n\n<p>Here's what I've tried so far:</p>\n\n<pre><code>import io\nwith io.open('/path/to/file', 'rb') as f:\n    print(f.filename)\n</code></pre>\n\n<p>But I'm getting the following error:</p>\n\n<pre><code>AttributeError: 'io.TextIOWrapper' object has no attribute 'filename'\n</code></pre>\n\n<p>Any idea how I can mimic werkzeug's <code>FileStorage</code> object in a regular python script?</p>\n"}, {"tags": ["python", "json", "web-scraping", "beautifulsoup", "mysql-workbench"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 7470217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154775363282534/picture?type=large", "display_name": "Damian Gromek", "link": "https://stackoverflow.com/users/7470217/damian-gromek"}, "is_accepted": false, "score": 0, "last_activity_date": 1512625896, "last_edit_date": 1512625896, "creation_date": 1512623745, "answer_id": 47688067, "question_id": 47685300, "link": "https://stackoverflow.com/questions/47685300/python-script-to-parse-first-image-of-search-engine-from-list-of-keywords-in-csv/47688067#47688067", "title": "Python script to parse first image of search engine from list of keywords in CSV", "body": "<p>As for saving the images as actual jpg or png files, looks like adding this </p>\n\n<blockquote>\n  <p>\" + \".\" + extension\"</p>\n</blockquote>\n\n<p>The full row now looks like this:</p>\n\n<blockquote>\n  <p>save_path = os.path.join(save_directory, file_name + \".\" + extension)</p>\n</blockquote>\n\n<p>fixed the issue as to saving the image in the actual extension as promised by the script.</p>\n\n<p><strong>Second Update:</strong></p>\n\n<pre><code>import sys\n</code></pre>\n\n<p>this import was already included in the script I found. I found through this site that I can return</p>\n\n<pre><code>sys.argv[2]\n</code></pre>\n\n<p>So according to <strong>sys</strong> which is -The list of command line arguments passed to a Python script. I included this to the script to return the uuid alongside the actual search terms like so:</p>\n\n<pre><code>file_name = uuid.uuid4().hex + \"-\" + sys.argv[2]\n</code></pre>\n\n<p>But now, as for running this script through mysql workbench on a table that has a list of queries to parse- I'm not sure how long it will take me to figure this one out. Any help would be appreciated. I would like to run this script on a large list of queries, without getting kicked off the search engine.</p>\n"}], "owner": {"reputation": 63, "user_id": 7470217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154775363282534/picture?type=large", "display_name": "Damian Gromek", "link": "https://stackoverflow.com/users/7470217/damian-gromek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512625896, "creation_date": 1512603501, "last_edit_date": 1512621716, "question_id": 47685300, "link": "https://stackoverflow.com/questions/47685300/python-script-to-parse-first-image-of-search-engine-from-list-of-keywords-in-csv", "title": "Python script to parse first image of search engine from list of keywords in CSV", "body": "<p>I have this code below that is supposed to save an image in my local directory from a search engine. It does, however it saves it as a hex file. I can mess with the code and get lucky, but I hope someone here can give me the best solution.</p>\n\n<p>If I open the hex file in notepad++ I notice the first row of the hex file says \"\u2030PNG\". I manually changed the file extension and the correct image shows up.</p>\n\n<p>That is my first issue with this code. I'm just trying to get a better understanding of it.</p>\n\n<p>I also wanted to throw in a list of key words to parse and return whatever number of images, default is 1 according to the script. Is it possible to tell python to read through a column of search Queries and save the image files as the search query? If it's easier, I use mysql workbench to work on my database. I have a column that I want to execute this script on but maybe instead return the filename whilst saving it into a local directory.</p>\n\n<p>For example, my first search was for \"HP C9730A\" which is a printer toner product. How can I send a list of part numbers may it be a csv or json array and return the parsed images saved exactly like the keywords used? So filename would be \"HP C9730A.jpg\"</p>\n\n<p>I noticed the clause in the script states:</p>\n\n<pre><code>&lt;b&gt;else&lt;/b&gt; 'jpg'\n</code></pre>\n\n<p>The first image on google using my example as mentioned before is a PNG file. Is this why my file isn't saving?</p>\n\n<p>Either way, can you help? me not only to save jpg or png images, but also save them as the search keywords with possible batch processing using csv or json array with many different keywords.</p>\n\n<pre><code>import argparse\nimport json\nimport itertools\nimport logging\nimport re\nimport os\nimport uuid\nimport sys\nfrom urllib2 import urlopen, Request\n\nfrom bs4 import BeautifulSoup\n\n\ndef configure_logging():\n    logger = logging.getLogger()\n    logger.setLevel(logging.DEBUG)\n    handler = logging.StreamHandler()\n    handler.setFormatter(\n        logging.Formatter('[%(asctime)s %(levelname)s %(module)s]: %(message)s'))\n    logger.addHandler(handler)\n    return logger\n\nlogger = configure_logging()\n\nREQUEST_HEADER = {\n    'User-Agent': \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.134 Safari/537.36\"}\n\n\ndef get_soup(url, header):\n    response = urlopen(Request(url, headers=header))\n    return BeautifulSoup(response, 'html.parser')\n\ndef get_query_url(query):\n    return \"https://www.google.co.in/search?q=%s&amp;source=lnms&amp;tbm=isch\" % query\n\ndef extract_images_from_soup(soup):\n    image_elements = soup.find_all(\"div\", {\"class\": \"rg_meta\"})\n    metadata_dicts = (json.loads(e.text) for e in image_elements)\n    link_type_records = ((d[\"ou\"], d[\"ity\"]) for d in metadata_dicts)\n    return link_type_records\n\ndef extract_images(query, num_images):\n    url = get_query_url(query)\n    logger.info(\"Souping\")\n    soup = get_soup(url, REQUEST_HEADER)\n    logger.info(\"Extracting image urls\")\n    link_type_records = extract_images_from_soup(soup)\n    return itertools.islice(link_type_records, num_images)\n\ndef get_raw_image(url):\n    req = Request(url, headers=REQUEST_HEADER)\n    resp = urlopen(req)\n    return resp.read()\n\ndef save_image(raw_image, image_type, save_directory):\n    extension = image_type if image_type else 'jpg'\n    file_name = uuid.uuid4().hex\n    save_path = os.path.join(save_directory, file_name)\n    with open(save_path, 'wb') as image_file:\n        image_file.write(raw_image)\n\ndef download_images_to_dir(images, save_directory, num_images):\n    for i, (url, image_type) in enumerate(images):\n        try:\n            logger.info(\"Making request (%d/%d): %s\", i, num_images, url)\n            raw_image = get_raw_image(url)\n            save_image(raw_image, image_type, save_directory)\n        except Exception as e:\n            logger.exception(e)\n\ndef run(query, save_directory, num_images=100):\n    query = '+'.join(query.split())\n    logger.info(\"Extracting image links\")\n    images = extract_images(query, num_images)\n    logger.info(\"Downloading images\")\n    download_images_to_dir(images, save_directory, num_images)\n    logger.info(\"Finished\")\n\ndef main():\n    parser = argparse.ArgumentParser(description='Scrape Google images')\n    parser.add_argument('-s', '--search', default='bananas', type=str, help='search term')\n    parser.add_argument('-n', '--num_images', default=1, type=int, help='num images to save')\n    parser.add_argument('-d', '--directory', default='/Users/Images/', type=str, help='save directory')\n    args = parser.parse_args()\n    run(args.search, args.directory, args.num_images)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "boto", "boto3"], "answers": [{"tags": [], "owner": {"reputation": 8699, "user_id": 1726083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757452f7cd7ba2347c667ef9298ceadb?s=128&d=identicon&r=PG", "display_name": "Daniel Farrell", "link": "https://stackoverflow.com/users/1726083/daniel-farrell"}, "is_accepted": true, "score": 1, "last_activity_date": 1512603938, "creation_date": 1512603938, "answer_id": 47685368, "question_id": 47685291, "link": "https://stackoverflow.com/questions/47685291/how-can-i-set-the-max-capacity-of-an-autoscaling-group-with-boto3/47685368#47685368", "title": "How can I set the MAX capacity of an autoscaling group with boto3?", "body": "<p>You don't need to recreate the group.  <a href=\"http://boto3.readthedocs.io/en/latest/reference/services/autoscaling.html#AutoScaling.Client.update_auto_scaling_group\" rel=\"nofollow noreferrer\">http://boto3.readthedocs.io/en/latest/reference/services/autoscaling.html#AutoScaling.Client.update_auto_scaling_group</a> can adjust the Max capacity .  Other than adjusting the desired capacity down to the max if necessary, you can change only the max capacity without side effects.  </p>\n\n<p>You can also do so from the cli.  Boto3 clients and awscli  commands are both usually pretty faithful to the underlying apis.  </p>\n"}], "owner": {"reputation": 195, "user_id": 8518106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afbc3ace43ed0fb62862dd06e95c5592?s=128&d=identicon&r=PG&f=1", "display_name": "Defenestrator6", "link": "https://stackoverflow.com/users/8518106/defenestrator6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1807, "favorite_count": 0, "accepted_answer_id": 47685368, "answer_count": 1, "score": 0, "last_activity_date": 1512603938, "creation_date": 1512603448, "question_id": 47685291, "link": "https://stackoverflow.com/questions/47685291/how-can-i-set-the-max-capacity-of-an-autoscaling-group-with-boto3", "title": "How can I set the MAX capacity of an autoscaling group with boto3?", "body": "<p>Lets say I have a cluster with 3 instances, and when it was created I wanted 3 instances. I can use a scaling policy to manipulate it between 0-3 but obviously it hits the limit of the MAX capacity.</p>\n\n<p>I can update this on the front end but don't see an API call for it. </p>\n\n<p>How do I set the max capacity of an autoscaling group?</p>\n\n<p>Ideally there is a way to do this without creating a new one then deleting the old one. If that is the only way, do I need to make the cluster \"aware\" of the new scaling group?</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1512603535, "post_id": 47685276, "comment_id": 82330287, "body": "Could you elaborate on what you mean by form&#39;s own handler ?"}, {"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "reply_to_user": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1512604861, "post_id": 47685276, "comment_id": 82330763, "body": "@GiannisIordanou: When you submit a form, its contents are sent to the URL that is specified in the &lt;form&gt;&#39;s &quot;action&quot; attribute (either as a POST or GET request). If &quot;action&quot; is not specified, the default URL is /."}, {"owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1512606807, "post_id": 47685276, "comment_id": 82331301, "body": "If I add an action to the form like below:     <code>&lt;form action=&quot;{% url &quot;notif:notify_email_add&quot; %}&quot; onsubmit=&quot;addNotifyEmailInHero()&quot; method=&quot;POST&quot; id=&quot;notify_email_form_in_hero&quot;&gt; </code> I get the json response back for example {&quot;status&quot;: &quot;success&quot;}"}, {"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "reply_to_user": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1512685687, "post_id": 47685276, "comment_id": 82369876, "body": "@GiannisIordanou: You have to suppress the normal form behavior in the onSubmit function, which I <i>think</i> you can do by having it return <code>false</code>."}, {"owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1512689791, "post_id": 47685276, "comment_id": 82371277, "body": "I am not even sure if onsubmit is appropriate for what I want to do. I wanted to run <code>addNotifyEmailInHero</code> when either enter was pressed or the button was clicked."}], "tags": [], "owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1512603385, "creation_date": 1512603385, "answer_id": 47685276, "question_id": 47685256, "link": "https://stackoverflow.com/questions/47685256/why-is-there-another-post-request-after-submitting-a-form/47685276#47685276", "title": "Why is there another post request after submitting a form?", "body": "<p>Because you have an onsubmit handler that ultimately makes an AJAX call to /notify-email/add/, and then the form is submitted to its own handler, which is / because you did not specify a handler.</p>\n"}], "owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512607837, "creation_date": 1512603233, "last_edit_date": 1512607837, "question_id": 47685256, "link": "https://stackoverflow.com/questions/47685256/why-is-there-another-post-request-after-submitting-a-form", "title": "Why is there another post request after submitting a form?", "body": "<p>I am using Django to create a form where users will have to enter their email to get notified in the future. After successfully submitting the form I get a post call that refreshes the page that the form is in:</p>\n\n<pre><code>[07/Dec/2017 01:22:41] \"POST /notify-email/add/ HTTP/1.1\" 200 21\n[07/Dec/2017 01:22:42] \"POST / HTTP/1.1\" 200 23030\n</code></pre>\n\n<p>Below is the relevant code:</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def add_notify_email(request):\n        if request.method == \"POST\":\n            form = NotifyEmailForm(request.POST)\n            if form.is_valid():\n                form.save(commit=True)\n                return JsonResponse({\"status\": \"success\"})\n            else:\n                return JsonResponse({\"status\": \"error\"})\n        else:\n            form = NotifyEmailForm()\n        return render(request, \"landing/home.html\", {\"form\": form})\n</code></pre>\n\n<p><strong>html</strong></p>\n\n<pre><code>&lt;form class=\"form\" onsubmit=\"addNotifyEmailInHero()\" method=\"POST\" id=\"notify_email_form_in_hero\"&gt;\n        {% csrf_token %}\n        &lt;div class=\"form-group row\"&gt;\n            &lt;div class=\"col-sm-10 input-group\" id=\"email_input_in_hero\"&gt;\n                &lt;div class=\"input-group-addon\" id=\"coming_soon_email_icon_in_hero\"&gt;&lt;i class=\"fa fa-envelope fa fa-2x\" aria-hidden=\"true\" id=\"email_icon_in_hero\"&gt;&lt;/i&gt;&lt;/div&gt;\n                &lt;input class=\"form-control\" type=\"email\" name=\"email\" onkeypress=\"if(event.keyCode === 13){addNotifyEmailInHero()}\" placeholder=\"If you want to get notified when we go live, please enter your email....\" maxlength=\"255\" required id=\"id_email\"/&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-sm-2\" id=\"notify_email_button_in_hero\"&gt;\n                &lt;button type=\"submit\" class=\"btn btn-block btn-primary\" id=\"submit_notify_email_in_hero\"&gt;&lt;i class=\"fa fa-bell nav-icon\" aria-hidden=\"true\"&gt;&lt;/i&gt;Notify Me&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n\n    &lt;script src=\"coming_soon.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><strong>coming_soon.js</strong></p>\n\n<pre><code>function addNotifyEmailInHero(e){\n        var notifyEmailForm = $(\"#notify_email_form_in_hero\");\n        var thanksModal = $(\"#thanks\");\n\n        $.ajax({\n        type: 'POST',\n        url: '/notify-email/add/',\n        data: notifyEmailForm.serialize(),\n        success: function(res){\n                   alert(res.status);\n                   if(res.status === \"success\") {                \n                        thanksModal.modal('show');\n                            }\n\n                    else {$(\"#id_email\").val(\"\");\n                          $(\"#id_email\").attr(\"placeholder\", \"Please Enter A Valid Email Address\");\n                            }\n        }\n    })}\n</code></pre>\n\n<p><strong>What I think is happening:</strong></p>\n\n<p>When you click the button or press enter the form gets \"submitted\", that means the <code>onsubmit</code> function runs. Specifically, in the js script, you get the form and the modal, then there is an ajax post request with the data from the form to <code>/notify-email/add/</code>. </p>\n\n<p>Based on the <code>urls.py</code>, <code>/notify-email/add/</code> is connected to the <code>add_notify_email</code> functional view in <code>views.py</code>. This function checks if it is a post request and if the form is valid it saves the data to the database and returns a json response, if the form is not valid it returns also a json response.</p>\n\n<p>If the request is not a post request it renders the specified template.</p>\n\n<p>If <code>add_notify_email</code> returns a json response that gets handled by the js function in <code>coming_soon.js</code>.</p>\n\n<p>That's my understanding of what really is going on.</p>\n"}, {"tags": ["python", "shebang"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 1, "creation_date": 1512603410, "post_id": 47685251, "comment_id": 82330241, "body": "Windows does not recognize the shebang as there is no <code>+x</code> file mode on any Windows sanctioned FS. From Windows&#39; perspective it might as well say <code>#!Bob&#39;s your uncle</code>."}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512603594, "post_id": 47685251, "comment_id": 82330313, "body": "@zwer: Well from my (admittedly very little) experience (can I can probably find a stackoverflow reference as well), you are wrong. Omitting the windows shebang line from my script and attempting to run it on Windows results in a complaint of libraries not being found, or a python not found in path. If I do put the line back, the scripts run fine."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1512604494, "post_id": 47685251, "comment_id": 82330647, "body": "How are you running it on Windows? Are you using a Unix emulator like Cygwin?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512604502, "post_id": 47685251, "comment_id": 82330649, "body": "Windows doesn&#39;t care, but Python launcher does. Those are two very different things ;)"}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512604768, "post_id": 47685251, "comment_id": 82330737, "body": "@zwer: thanks for clarifying. Any solutions to the Python launcher part? (I&#39;m using an atom (the editor) package to run those scripts)"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512605069, "post_id": 47685251, "comment_id": 82330810, "body": "@zerohedge - if you want to define specific interpreters within virtualenvs, then I&#39;m afraid you&#39;re out of luck - unless you want to write your own Python launcher. Would you consider wrapping your script into a launcher script?"}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512606085, "post_id": 47685251, "comment_id": 82331123, "body": "@zwer - I&#39;m not even sure what this means. Got any useful links?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512606216, "post_id": 47685251, "comment_id": 82331155, "body": "@zerohedge - what I mean is would it be ok with you to use an additional script just to run your script in the correct environment? Think of it as a launcher/bootstrap script where you&#39;ll define you virtualenvs (or use external config, or environment variables or...) and then launch that script instead. Then the script would run your real script based on the virtualenv paths defined and the OS it currently runs on."}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512606298, "post_id": 47685251, "comment_id": 82331175, "body": "@zwer - I think so, yes. But I can&#39;t say for sure because I&#39;m not sure what that would entail.."}], "answers": [{"comments": [{"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1512611677, "post_id": 47686347, "comment_id": 82332321, "body": "The only thing I don&#39;t understand about your answer is the first sentence. I don&#39;t really see any extra steps really! It&#39;s just run this py file instead of that py file. A big thank you!"}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 1, "last_activity_date": 1512611527, "creation_date": 1512611527, "answer_id": 47686347, "question_id": 47685251, "link": "https://stackoverflow.com/questions/47685251/interchangeable-shebang-line-in-python-script-for-dual-oses/47686347#47686347", "title": "interchangeable shebang line in Python script for dual OSes?", "body": "<p>If you don't mind adding extra steps, ou can create a launcher script <code>launcher.py</code> like:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport subprocess\nimport sys\n\nif __name__ != \"__main__\":\n    print(\"This is a launcher. Please run only as a main script.\")\n    exit(-1)\n\nINTERPRETERS = {\n    \"win\": r\"C:\\Users\\windows-username\\Envs\\some_env\\Scripts\\python.exe\",  # Windows\n    \"darwin\": \"/Users/os-x-username/.virtualenvs/some_env/bin/python\",  # OSX\n    \"linux\": \"/home/linux-user/.virtualenvs/some_env/bin/python\"  # Linux\n    # etc.\n}\n\nTARGET_SCRIPT = \"original_script_name.py\"\n\ninterpreter = None\nfor i in INTERPRETERS:  # let's find a suitable interpreter for the current platform\n    if sys.platform.startswith(i):\n        interpreter = i\n        break\nif not interpreter:\n    print(\"No suitable interpreter found for platform:\", sys.platform)\n    exit(-1)\n\nmain_proc = subprocess.Popen([interpreter, TARGET_SCRIPT] + sys.argv[1:])  # call virtualenv\nmain_proc.communicate()  # wait for it to finish\n\nexit(main_proc.poll())  # redirect the return code\n</code></pre>\n\n<p>Since this script is there only to run the <code>original_script_name.py</code> in the desired interpreter for the current platform, it doesn't matter what its shebang is - as long as it picks any Python interpreter it will be fine.</p>\n\n<p>It would act as a drop-in replacement for your original script (<code>original_script_name.py</code>) so just call <code>launcher.py</code> instead and it will even redirect the CLI arguments if needed.</p>\n"}], "owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 47686347, "answer_count": 1, "score": 0, "last_activity_date": 1512611527, "creation_date": 1512603217, "question_id": 47685251, "link": "https://stackoverflow.com/questions/47685251/interchangeable-shebang-line-in-python-script-for-dual-oses", "title": "interchangeable shebang line in Python script for dual OSes?", "body": "<p>A script is developed both on OS X and Windows using a virtualenv. The so-called developer has already installed all required packages using a <code>requirements.txt</code> file, but one problem remains:</p>\n\n<p>If the script is running on OS X, the beginning of each Python file must start like this:</p>\n\n<pre><code>#!/Users/os-x-username/.virtualenvs/some_env/bin/python\n#!C:\\Users\\windows-username\\Envs\\some_env\\Scripts\\python.exe\n</code></pre>\n\n<p>But if developing on Windows, the line order must be switched:</p>\n\n<pre><code>#!C:\\Users\\windows-username\\Envs\\some_env\\Scripts\\python.exe\n#!/Users/os-x-username/.virtualenvs/some_env/bin/python\n</code></pre>\n\n<p>How can the so-called developer avoid this tediousness?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "pipeline", "logistic-regression"], "answers": [{"tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": true, "score": 8, "last_activity_date": 1512603742, "last_edit_date": 1512603742, "creation_date": 1512603315, "answer_id": 47685264, "question_id": 47685234, "link": "https://stackoverflow.com/questions/47685234/spark-extracting-summary-for-a-ml-logistic-regression-model-from-a-pipeline-mod/47685264#47685264", "title": "Spark: Extracting summary for a ML logistic regression model from a pipeline model", "body": "<p>Just get the model from stages:</p>\n\n<pre><code>lrModel.stages[-1].summary\n</code></pre>\n\n<p>If model is earlier in the Pipeline replace -1 with its index.</p>\n"}], "owner": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4101, "favorite_count": 0, "accepted_answer_id": 47685264, "answer_count": 1, "score": 4, "last_activity_date": 1512603742, "creation_date": 1512603108, "last_edit_date": 1512603591, "question_id": 47685234, "link": "https://stackoverflow.com/questions/47685234/spark-extracting-summary-for-a-ml-logistic-regression-model-from-a-pipeline-mod", "title": "Spark: Extracting summary for a ML logistic regression model from a pipeline model", "body": "<p>I've estimated a logistic regression using pipelines. </p>\n\n<p>My last few lines before fitting the logistic regression:</p>\n\n<pre><code>from pyspark.ml.feature import VectorAssembler\nfrom pyspark.ml.classification import LogisticRegression\nlr = LogisticRegression(featuresCol=\"lr_features\", labelCol = \"targetvar\")\n# create assember to include encoded features\n    lr_assembler = VectorAssembler(inputCols= numericColumns + \n                               [categoricalCol + \"ClassVec\" for categoricalCol in categoricalColumns],\n                               outputCol = \"lr_features\")\nfrom pyspark.ml.classification import LogisticRegression\nfrom pyspark.ml import Pipeline\n# Model definition:\nlr = LogisticRegression(featuresCol = \"lr_features\", labelCol = \"targetvar\")\n# Pipeline definition:\nlr_pipeline = Pipeline(stages = indexStages + encodeStages +[lr_assembler, lr])\n# Fit the logistic regression model:\nlrModel = lr_pipeline.fit(train_train)\n</code></pre>\n\n<p>And then I tried to run the summary of the model. However, the code line below:</p>\n\n<pre><code>trainingSummary = lrModel.summary\n</code></pre>\n\n<p>results in: 'PipelineModel' object has no attribute 'summary'</p>\n\n<p>Any advice on how one could extract the summary information that is usually contained in regression's model from a pipeline model?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1512603670, "post_id": 47685206, "comment_id": 82330341, "body": "Have you checked the <code>read_fwf</code> documentation, especially the colspecs and delimiters parameters? You may need to enter the <code>colspecs</code> manually, if python is not picking up on them correctly. <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_fwf.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 1592, "user_id": 7403752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07d8fe28ab264b0de19240d36d64e2cd?s=128&d=identicon&r=PG&f=1", "display_name": "edyvedy13", "link": "https://stackoverflow.com/users/7403752/edyvedy13"}, "reply_to_user": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1512603821, "post_id": 47685206, "comment_id": 82330404, "body": "I tried to read it with widths I should use column names for colspecs right ?"}, {"owner": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1512604027, "post_id": 47685206, "comment_id": 82330471, "body": "colspecs should be something like [(0,6), (8,15), ...] dependent on the lengths of your columns, one pair of integers for each column."}, {"owner": {"reputation": 1592, "user_id": 7403752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07d8fe28ab264b0de19240d36d64e2cd?s=128&d=identicon&r=PG&f=1", "display_name": "edyvedy13", "link": "https://stackoverflow.com/users/7403752/edyvedy13"}, "reply_to_user": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1512604045, "post_id": 47685206, "comment_id": 82330477, "body": "oh ok let me try"}, {"owner": {"reputation": 1592, "user_id": 7403752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07d8fe28ab264b0de19240d36d64e2cd?s=128&d=identicon&r=PG&f=1", "display_name": "edyvedy13", "link": "https://stackoverflow.com/users/7403752/edyvedy13"}, "reply_to_user": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1512604167, "post_id": 47685206, "comment_id": 82330536, "body": "So I have to do it for 128 columns, there is no easy way right ?"}, {"owner": {"reputation": 1186, "user_id": 7327411, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211446482337148/picture?type=large", "display_name": "wkzhu", "link": "https://stackoverflow.com/users/7327411/wkzhu"}, "edited": false, "score": 0, "creation_date": 1512605367, "post_id": 47685206, "comment_id": 82330901, "body": "Maybe see if you can convert to CSV (see <a href=\"https://stackoverflow.com/questions/10538162/convert-ssms-rpt-output-file-to-txt-csv\" title=\"convert ssms rpt output file to txt csv\">stackoverflow.com/questions/10538162/&hellip;</a>) and then use <code>pd.read_csv</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 515, "user_id": 2525781, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fbbe196171c5f711aee4d49044c1d7e5?s=128&d=identicon&r=PG", "display_name": "GK89", "link": "https://stackoverflow.com/users/2525781/gk89"}, "is_accepted": false, "score": 5, "last_activity_date": 1519408457, "creation_date": 1519408457, "answer_id": 48953650, "question_id": 47685206, "link": "https://stackoverflow.com/questions/47685206/reading-rpt-files-with-pandas/48953650#48953650", "title": "Reading rpt files with pandas", "body": "<p>This question is old, but here is an answer.  You can read it as a csv using pandas.  I have used this for a variety of rpt files and it has worked.</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_csv(\"2014-1.rpt\", skiprows=[1], nrows=150)\n</code></pre>\n"}], "owner": {"reputation": 1592, "user_id": 7403752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07d8fe28ab264b0de19240d36d64e2cd?s=128&d=identicon&r=PG&f=1", "display_name": "edyvedy13", "link": "https://stackoverflow.com/users/7403752/edyvedy13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7295, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1519408457, "creation_date": 1512602919, "question_id": 47685206, "link": "https://stackoverflow.com/questions/47685206/reading-rpt-files-with-pandas", "title": "Reading rpt files with pandas", "body": "<p>I read rpt data to pandas by using:</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_fwf(\"2014-1.rpt\", skiprows=[1], nrows=150)\n</code></pre>\n\n<p>I actually follow the anwser <a href=\"https://stackoverflow.com/questions/42208832/how-to-load-space-separate-file-into-pandas-dataframe\">here</a>\nHowever, for some columns, seperation is not accurate. It is sample of what I get:</p>\n\n<pre><code>Country   Order Date Device   Category\nUK        2014-01-03 Desktop  Shoes\nIT        2014-01-03 Desktop  Shoes\nFR        2014-01-04 Desktop  Dress\nFR        2014-01-04 Tablet   Dress\nUS        2014-01-05 Desktop  Bags\nUS        2014-01-06 Desktop  Bags\nUK        2014-01-07 Tablet   Dress\n</code></pre>\n\n<p>For instance it reads Order Date and Device columns as a single column. Actually, it is just an example, there are many columns like this.\nHow to solve it? Do you have any idea?\nActually these columns with problems might have fixed widths</p>\n"}, {"tags": ["python", "excel", "list", "pandas", "xlutils"], "comments": [{"owner": {"reputation": 533, "user_id": 6641381, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/268d934decc6cc93b82e6b8e024bc26f?s=128&d=identicon&r=PG&f=1", "display_name": "EM28", "link": "https://stackoverflow.com/users/6641381/em28"}, "edited": false, "score": 0, "creation_date": 1512603405, "post_id": 47685195, "comment_id": 82330238, "body": "It is not clear what you are trying to do but you do not have to leave pandas. Everything can be done in pandas"}, {"owner": {"reputation": 111, "user_id": 9053589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b77d01f1f2d9ba689dce2f8dff407b?s=128&d=identicon&r=PG&f=1", "display_name": "geojasm", "link": "https://stackoverflow.com/users/9053589/geojasm"}, "reply_to_user": {"reputation": 533, "user_id": 6641381, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/268d934decc6cc93b82e6b8e024bc26f?s=128&d=identicon&r=PG&f=1", "display_name": "EM28", "link": "https://stackoverflow.com/users/6641381/em28"}, "edited": false, "score": 0, "creation_date": 1512603846, "post_id": 47685195, "comment_id": 82330410, "body": "What I want to do is to take the col_test list and write it to a column in the sheet that I am bringing up, but it needs to write starting in row 6 of the column 2 of that sheet."}], "owner": {"reputation": 111, "user_id": 9053589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b77d01f1f2d9ba689dce2f8dff407b?s=128&d=identicon&r=PG&f=1", "display_name": "geojasm", "link": "https://stackoverflow.com/users/9053589/geojasm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512602863, "creation_date": 1512602863, "question_id": 47685195, "link": "https://stackoverflow.com/questions/47685195/finding-the-range-of-a-list-and-using-it-as-a-parameter-in-python", "title": "Finding the range of a list and using it as a parameter in Python", "body": "<p>I am attempting to use the range of a list, specifically col_test and then I would like to use that range to specify the cells to be filled on the new worksheet.</p>\n\n<p>I want the list col_test to fill the second column in the new sheet starting at row 6.</p>\n\n<p>Here I am trying to use the \"write\" function to do this but I do not know the correct parameters to use.</p>\n\n<pre><code>import os\nimport glob\nimport pandas as pd\n\nfor csvfile in glob.glob(os.path.join('.', '*.csv')):\n    df = pd.read_csv(csvfile)\n\ncol_test = df['Test #'].tolist()\ncol_retest = df['Retest #'].tolist()\n\nfrom xlrd import open_workbook\nfrom xlutils.copy import copy\n\nrb = open_workbook(\"Excel FDT Master_01_update.xlsx\")\nwb = copy(rb)\n\ns = wb.get_sheet(3)\ns.write(range_of_col_test, col_test)\nwb.save('didthiswork.xls')\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "datetime", "strftime"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512602827, "post_id": 47685174, "comment_id": 82330006, "body": "use date.strftime()"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 2, "creation_date": 1512602839, "post_id": 47685174, "comment_id": 82330013, "body": "See <a href=\"https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow noreferrer\"><code>strftime()</code> and <code>strptime()</code> Behavior</a>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1512602926, "post_id": 47685174, "comment_id": 82330045, "body": "Take a look at <a href=\"https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior\" rel=\"nofollow noreferrer\"><code>datetime.strftime</code></a> to format it correctly, from a single <code>datetime</code> object, without lots of wasteful small string concatenations."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1512602935, "post_id": 47685174, "comment_id": 82330047, "body": "Also see <a href=\"https://pyformat.info/#datetime\" rel=\"nofollow noreferrer\">pyformat.info</a>"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 2, "creation_date": 1512602947, "post_id": 47685174, "comment_id": 82330055, "body": "And, don&#39;t forget that around the world  (which is your audience) there are confusingly different formats for numeric dates. Your example could be the 6th of December or the 12th of June. Always use a text name for the month."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 3, "creation_date": 1512602989, "post_id": 47685174, "comment_id": 82330076, "body": "@barny: Or ISO-8601 format (YYYY-MM-DD) which is unambiguous."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1512603554, "post_id": 47685174, "comment_id": 82330293, "body": "@ShadowRanger: It can still be ambiguous when you can&#39;t tell from the last two values whether they&#39;re &#39;MM-DD&#39; or &#39;DD-MM&#39;."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 1, "creation_date": 1512603760, "post_id": 47685174, "comment_id": 82330381, "body": "I may be pedantic but even I wouldn&#39;t argue that 2017-12-06 isn&#39;t the 6th December!"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1512609897, "post_id": 47685174, "comment_id": 82331923, "body": "@martineau: To my knowledge, there is no culture/locale that orders it YYYY-DD-MM. Sure, nothing <i>prevents</i> you from doing that (aside from common decency), but there is no cultural history behind YYYY-DD-MM, so the ambiguity just isn&#39;t there like it is for DD/MM/YYYY (European) vs. MM/DD/YYYY (USA). If you see ####-##-## with no context whatsoever, assuming it&#39;s YYYY-MM-DD will be correct 99.9999% of the time."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512610141, "post_id": 47685174, "comment_id": 82331972, "body": "@barny: I meant some more like 2018-04-05 which could either be April 5th or May 4th."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1512610292, "post_id": 47685174, "comment_id": 82332002, "body": "@ShadowRanger: Like <a href=\"https://www.phrases.org.uk/meanings/beauty-is-in-the-eye-of-the-beholder.html\" rel=\"nofollow noreferrer\">beauty</a>, ambiguity is in the eye of the beholder."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512644343, "post_id": 47685174, "comment_id": 82346089, "body": "Which country uses a format like yyyy-mm-dd or yyyy-dd-mm - do any?"}], "answers": [{"comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603059, "post_id": 47685214, "comment_id": 82330107, "body": "Ah, I can tell that this was posted on 12th July. Or was it?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603118, "post_id": 47685214, "comment_id": 82330130, "body": "@barny - complain to the OP, he wanted a dd/mm/yy format based on what he attempted to do."}, {"owner": {"reputation": 387, "user_id": 6026545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a67278c80a22d94daa4efc00000542f7?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6026545/dylan"}, "edited": false, "score": 0, "creation_date": 1512603358, "post_id": 47685214, "comment_id": 82330212, "body": "In Ireland, that is how we format it! Also, I have tried this already but it yields this error: type object &#39;datetime.datetime&#39; has no attribute &#39;datetime&#39;"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 387, "user_id": 6026545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a67278c80a22d94daa4efc00000542f7?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6026545/dylan"}, "edited": false, "score": 0, "creation_date": 1512603461, "post_id": 47685214, "comment_id": 82330258, "body": "@Dylan make sure you use the above import line (<code>import datetime</code>) and not the one you used in your script (<code>from datetime import *</code>)"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603491, "post_id": 47685214, "comment_id": 82330268, "body": "yes, you should always avoid from xyz import * - bad style/maintainability"}, {"owner": {"reputation": 387, "user_id": 6026545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a67278c80a22d94daa4efc00000542f7?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6026545/dylan"}, "edited": false, "score": 0, "creation_date": 1512603657, "post_id": 47685214, "comment_id": 82330338, "body": "@zwer I will keep that in mind going forward, thanks for the tip!"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603673, "post_id": 47685214, "comment_id": 82330346, "body": "I din&#39;t do anything apart from commenting, but it was a pleasure."}, {"owner": {"reputation": 387, "user_id": 6026545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a67278c80a22d94daa4efc00000542f7?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6026545/dylan"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603763, "post_id": 47685214, "comment_id": 82330382, "body": "@barny, just with reference to your other comment on format ISO 8601, is this something I can implement in code or just something to adhere to?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 2, "creation_date": 1512604078, "post_id": 47685214, "comment_id": 82330493, "body": "@Shadowranger made that very relevant comment. Not quite sure what you mean, we&#39;re talking about how you present dates and ISO8601 is certainly a fairly unambiguous way of doing it: 2017-12-06 is much better than 06/12/17. But arguably for an English-reading audience &quot;6th December 2017&quot; is completely crystal clear. However if you were exporting dates into e.g. a spreadsheet then ISO is the way to go IMO."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 2, "creation_date": 1512604293, "post_id": 47685214, "comment_id": 82330573, "body": "While adding to best practices, if you&#39;re going to store it somewhere you might want to use <code>datetime.datetime.utcnow()</code> instead of <code>datetime.datetime.now()</code> to obtain UTC datetime. That way you can adjust the actual date to your users&#39; timezones."}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 1, "last_activity_date": 1512602969, "creation_date": 1512602969, "answer_id": 47685214, "question_id": 47685174, "link": "https://stackoverflow.com/questions/47685174/how-to-format-dates-and-times/47685214#47685214", "title": "How to format dates and times?", "body": "<p>You can use <code>datetime.datetime.strftime()</code> to build any format you want:</p>\n\n<pre><code>import datetime\n\ntime = datetime.datetime.now().strftime(\"Posted on %d/%m/%y at - %H:%M\")\n\nprint(time)  # Posted on 07/12/17 at - 00:29\n</code></pre>\n\n<p>Read up more on special classes you can use when building your date: <a href=\"https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior\" rel=\"nofollow noreferrer\">strftime() and strptime() Behavior</a></p>\n"}, {"comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603032, "post_id": 47685215, "comment_id": 82330095, "body": "Hang on, is that 6th December or 12th June?"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603137, "post_id": 47685215, "comment_id": 82330139, "body": "@barny  it is <code>%d&#47;%m&#47;%y</code>, so it is December 6th"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603186, "post_id": 47685215, "comment_id": 82330155, "body": "Really? I live in the United States and 06/12/17 is 12th June."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603187, "post_id": 47685215, "comment_id": 82330157, "body": "@barny On a more serious note, if you want to see the month as a word, you can use <code>%b</code> for <code>Dec</code> or <code>%B</code> for <code>December</code>"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603270, "post_id": 47685215, "comment_id": 82330185, "body": "@barny agree, it confuses:)"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603325, "post_id": 47685215, "comment_id": 82330201, "body": "@barny If you&#39;re worried about this (for example you have to serve dates uniformly across international lines),. you should conform to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>, which specifies a <code>year-month-day</code> format"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512603386, "post_id": 47685215, "comment_id": 82330227, "body": "Durr. Who presenting a website to the internet isn&#39;t (shouldn&#39;t be) worried about their audience correctly interpreting a date?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 1, "creation_date": 1512610125, "post_id": 47685215, "comment_id": 82331970, "body": "@barny: Mind you, if you&#39;re doing internet presentation, you might just let JavaScript do the work, and call <code>.toLocaleString()</code> on the <code>Date</code> client-side, letting the browser use the appropriate formatting based on the user&#39;s locale."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1512644582, "post_id": 47685215, "comment_id": 82346247, "body": "Yes, agree that&#39;s an even better solution. I&#39;m just fed up with using US-authored intranet websites that use stoopid numeric date formats that work for their developers but not so well for all their audience."}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1512602981, "creation_date": 1512602981, "answer_id": 47685215, "question_id": 47685174, "link": "https://stackoverflow.com/questions/47685174/how-to-format-dates-and-times/47685215#47685215", "title": "How to format dates and times?", "body": "<pre><code>datetime.datetime.now().strftime('%d/%m/%y at - %H:%M')\n'06/12/17 at - 16:29'\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 6026545, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a67278c80a22d94daa4efc00000542f7?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6026545/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 47685214, "answer_count": 2, "score": -2, "last_activity_date": 1512603334, "creation_date": 1512602699, "last_edit_date": 1512603334, "question_id": 47685174, "link": "https://stackoverflow.com/questions/47685174/how-to-format-dates-and-times", "title": "How to format dates and times?", "body": "<p>I'm trying to get make a comments section for a website with the backend written in python. As of now, everything works fine except I cannot figure out how to format the date and time the way I want.</p>\n\n<p>What I am trying to have at the time of posting is either of these:</p>\n\n<ol>\n<li><code>Posted on Tue, 06/12/18 at - 11:20</code></li>\n</ol>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li><code>Posted on 06/12/18 at - 11:21</code></li>\n</ol>\n\n<p>Currently, what I have when the method is called is this:</p>\n\n<pre><code>import time\nfrom datetime import *\n\ntime = (\"Posted on \" + str(datetime.now().day) + \"/\"\n        + str(datetime.now().month) + \" at: \" + str(datetime.now().hour)\n        + \":\" + str(datetime.now().minute))\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql"], "answers": [{"tags": [], "owner": {"reputation": 1425, "user_id": 523375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a8a6925dc7b58cb83b4741c8b9c2a2?s=128&d=identicon&r=PG", "display_name": "Bob Barcklay", "link": "https://stackoverflow.com/users/523375/bob-barcklay"}, "is_accepted": true, "score": 2, "last_activity_date": 1512693819, "last_edit_date": 1512693819, "creation_date": 1512603274, "answer_id": 47685260, "question_id": 47685160, "link": "https://stackoverflow.com/questions/47685160/sum-averages-over-date-ranges-in-django/47685260#47685260", "title": "Sum averages over date ranges in Django", "body": "<p>If you add 'site' to your .values() clause, like this:</p>\n\n<pre><code>.values('date_slice', 'site')\n</code></pre>\n\n<p>and remove the order_by, which will cause the 'created_on' field to get added to the generated SQL GROUP BY, you should get averages for your two measurements for each slice+site.  You can then sum those values to get the totals across all sites.</p>\n"}], "owner": {"reputation": 43, "user_id": 8004288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7a52fae7e0d30804f02f1137b18bc5?s=128&d=identicon&r=PG&f=1", "display_name": "nMountain", "link": "https://stackoverflow.com/users/8004288/nmountain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 47685260, "answer_count": 1, "score": 0, "last_activity_date": 1512693819, "creation_date": 1512602588, "question_id": 47685160, "link": "https://stackoverflow.com/questions/47685160/sum-averages-over-date-ranges-in-django", "title": "Sum averages over date ranges in Django", "body": "<p>I'm trying to construct a query in Django that sums averages that were taken (i.e. averaged) over a range of times. </p>\n\n<p>Here is the relevant Django model:</p>\n\n<pre><code>class Data(models.Model):\n\n    class Meta:\n        verbose_name_plural = \"Data\"\n\n    site = models.ForeignKey(Site)\n    created_on = models.DateTimeField(auto_created=True)\n    reported_on = models.DateTimeField(null=True, blank=True)\n    baseline_power_kw = models.FloatField('Baseline Power (kw)', blank=True, null=True)\n    measured_power_kw = models.FloatField('Measured Power (kw)', blank=True, null=True)\n</code></pre>\n\n<p>In my query, I'm trying to average sites' data over a range of times, and then sum those averages for each range of time. Here is the query I have so far, which I believe just gets the average of all sites' data over a range of times.</p>\n\n<pre><code>        t_data = Data.objects.filter(site__in=sites) \\\n                                  .filter(created_on__range=(start, end)) \\\n                                  .extra(select={'date_slice': \"trunc(extract(epoch from created_on) / '60' )\"}) \\\n                                  .values('date_slice') \\\n                                  .annotate(avg_baseline_power_kw=Avg('baseline_power_kw'),\n                                            avg_measured_power_kw=Avg('measured_power_kw'),\n                                            time=Min('created_on')) \\\n                                  .order_by('-created_on')\n</code></pre>\n\n<p>Do you know how I can proceed? I am using Django with Postgres.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "matplotlib", "convex-hull"], "comments": [{"owner": {"reputation": 1633, "user_id": 3022712, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/eadc29ffebbca6135b8e45373d159112?s=128&d=identicon&r=PG&f=1", "display_name": "yar", "link": "https://stackoverflow.com/users/3022712/yar"}, "edited": false, "score": 0, "creation_date": 1512603096, "post_id": 47685145, "comment_id": 82330124, "body": "does the red line have to be precise? Does it have to have as many vertices as the green one?"}, {"owner": {"reputation": 678, "user_id": 8963981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGjL6.png?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8963981/manuel"}, "edited": false, "score": 1, "creation_date": 1512603175, "post_id": 47685145, "comment_id": 82330152, "body": "You can use this <a href=\"https://stackoverflow.com/questions/33831516/incrementing-area-of-convex-hull\" title=\"incrementing area of convex hull\">stackoverflow.com/questions/33831516/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 7775961, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/add4a48ff879eb610018a438c56bdfaa?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/7775961/matt"}, "edited": false, "score": 0, "creation_date": 1512634429, "post_id": 47685693, "comment_id": 82339771, "body": "This works very well for points, but when I try it with pictures it usually still overlaps some of them : <a href=\"https://i.imgur.com/RFYksbc.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/RFYksbc.jpg</a>  I&#39;m trying to get the vector from a point inside the hull and adding a vector in that direction to all the hull points"}], "tags": [], "owner": {"reputation": 678, "user_id": 8963981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGjL6.png?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8963981/manuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1512606486, "creation_date": 1512606486, "answer_id": 47685693, "question_id": 47685145, "link": "https://stackoverflow.com/questions/47685145/how-to-plot-lines-around-images-in-matplotlib/47685693#47685693", "title": "How to plot lines around images in Matplotlib", "body": "<p>A example using <a href=\"https://stackoverflow.com/questions/33831516/incrementing-area-of-convex-hull,it\">Incrementing area of convex hull</a> can be applied to your case.</p>\n\n<pre><code>from scipy.spatial import ConvexHull\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ngx = [-2, 2, -2, 2, 1, -0.5]\ngy = [3, 4, -2, -1, -1, 0.5]\n\npoints = np.array((gx, gy)).T\nconvh = ConvexHull(points)\nstretchCoef = 1.2\npointsStretched = points[convh.vertices]*stretchCoef\n\ngx_new = pointsStretched[..., 0]\ngy_new = pointsStretched[..., 1]\n</code></pre>\n"}], "owner": {"reputation": 370, "user_id": 7775961, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/add4a48ff879eb610018a438c56bdfaa?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/7775961/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512606486, "creation_date": 1512602466, "question_id": 47685145, "link": "https://stackoverflow.com/questions/47685145/how-to-plot-lines-around-images-in-matplotlib", "title": "How to plot lines around images in Matplotlib", "body": "<p>I have two lists with the coordinates of points that I want to draw using matplotlib: hx and hy, and i have a function which draws these points as images: plotImage.</p>\n\n<p>Now I would like to plot a line between these points, but the line should go somehow around the pictures. It doesn't have to go excctly by the borders of the images, the important thing is that it doesn't overlap with the pictures. </p>\n\n<p>Here is an example, the green line is what I have now (its the convex hull), and the red line is an example of how the line should look like.\n<a href=\"https://i.stack.imgur.com/72ZRj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72ZRj.png\" alt=\"Example\"></a></p>\n\n<p>Here's my code:</p>\n\n<pre><code>def plotImage(xData, yData, im):\n    for x, y in zip(xData, yData):\n        bb = Bbox.from_bounds(x,y,10,10)\n        bb2 = TransformedBbox(bb,ax.transData)\n        bbox_image = BboxImage(bb2,\n                            norm = None,\n                            origin=None,\n                            clip_on=False)\n\n        bbox_image.set_data(im)\n        ax.add_artist(bbox_image)\n\nfig=plt.figure()\nax=fig.add_subplot(111)\nimg = plt.imread('pic.png')\n\ngx = list(map(lambda x: x - 5, hx)) #  so the center of the picture is in the point I want to plot \ngy = list(map(lambda y: y - 5, hy)) #(without this, the image is drawn so that the picture's left bottom corner is in my point)\n\nplotImage(gx,gy,img)\nplt.plot(hx, hy, 'g-', markersize=10)\n</code></pre>\n\n<p>So my question is: how to calculate this red hull?</p>\n"}, {"tags": ["javascript", "python", "angular", "gzip", "pako"], "comments": [{"owner": {"reputation": 43630, "user_id": 75033, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/yqUcc.jpg?s=128&g=1", "display_name": "John Mee", "link": "https://stackoverflow.com/users/75033/john-mee"}, "edited": false, "score": 0, "creation_date": 1512602307, "post_id": 47685090, "comment_id": 82329822, "body": "You&#39;ve encoded it into utf-8.  Where do you decode it?"}, {"owner": {"reputation": 754, "user_id": 1950269, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2150e2452ec5f2fd47ac96488c130e0a?s=128&d=identicon&r=PG", "display_name": "Ashwin Ramaswami", "link": "https://stackoverflow.com/users/1950269/ashwin-ramaswami"}, "reply_to_user": {"reputation": 43630, "user_id": 75033, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/yqUcc.jpg?s=128&g=1", "display_name": "John Mee", "link": "https://stackoverflow.com/users/75033/john-mee"}, "edited": false, "score": 0, "creation_date": 1512616132, "post_id": 47685090, "comment_id": 82333519, "body": "How do I decode it using JS?"}], "answers": [{"comments": [{"owner": {"reputation": 2447, "user_id": 468618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32701e4c5c6d91bbbb092077f8bdd2f8?s=128&d=identicon&r=PG", "display_name": "Brian Morearty", "link": "https://stackoverflow.com/users/468618/brian-morearty"}, "edited": false, "score": 2, "creation_date": 1528326156, "post_id": 47688018, "comment_id": 88469259, "body": "This worked beautifully for me except I had to replace <code>arrayBuffer = this.result;</code> with <code>arrayBuffer = fileReader.result;</code>."}], "tags": [], "owner": {"reputation": 754, "user_id": 1950269, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2150e2452ec5f2fd47ac96488c130e0a?s=128&d=identicon&r=PG", "display_name": "Ashwin Ramaswami", "link": "https://stackoverflow.com/users/1950269/ashwin-ramaswami"}, "is_accepted": true, "score": 8, "last_activity_date": 1512623457, "creation_date": 1512623457, "answer_id": 47688018, "question_id": 47685090, "link": "https://stackoverflow.com/questions/47685090/pako-not-able-to-deflate-gzip-files-generated-in-python/47688018#47688018", "title": "Pako not able to deflate gzip files generated in python", "body": "<p>Turns out that I needed to use the res.blob() function to get the true binary data, not res.arrayBuffer(); and then convert the blob to the array buffer:</p>\n\n<pre><code>return this.http.get(\"output.json.gzip\", new RequestOptions({ responseType: ResponseContentType.Blob }))\n      .map((res:Response) =&gt; {\n        var blob = res.blob();\n        var arrayBuffer;\n        var fileReader = new FileReader();\n        fileReader.onload = function() {\n            arrayBuffer = this.result;\n            try {\n              let result:any = pako.ungzip(new Uint8Array(arrayBuffer), {\"to\": \"string\"});\n              let obj = JSON.parse(result);\n              console.log(obj);\n            } catch (err) {\n              console.log(\"Error \" + err);\n            }\n        };\n        fileReader.readAsArrayBuffer(blob);\n        return \"abc\";\n      });\n</code></pre>\n"}], "owner": {"reputation": 754, "user_id": 1950269, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2150e2452ec5f2fd47ac96488c130e0a?s=128&d=identicon&r=PG", "display_name": "Ashwin Ramaswami", "link": "https://stackoverflow.com/users/1950269/ashwin-ramaswami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2132, "favorite_count": 0, "accepted_answer_id": 47688018, "answer_count": 1, "score": 4, "last_activity_date": 1512623457, "creation_date": 1512602113, "question_id": 47685090, "link": "https://stackoverflow.com/questions/47685090/pako-not-able-to-deflate-gzip-files-generated-in-python", "title": "Pako not able to deflate gzip files generated in python", "body": "<p>I'm generating gzip files from python using the following code: (using python 3)</p>\n\n<pre><code>    file = gzip.open('output.json.gzip', 'wb')\n    dataToWrite = json.dumps(data).encode('utf-8')\n    file.write(dataToWrite)\n    file.close()\n</code></pre>\n\n<p>However, I'm trying to read this file now in Javascript using the Pako library (I'm using Angular 2):</p>\n\n<pre><code>this.http.get(\"output.json.gzip\")\n      .map((res:Response) =&gt; {\n        var resText:any = new Uint8Array(res.arrayBuffer());\n        var result = \"\";\n        try {\n          result = pako.inflate(resText, {\"to\": \"string\"});\n        } catch (err) {\n          console.log(\"Error \" + err);\n        }\n        return result;\n\n      });\n</code></pre>\n\n<p>But I'm getting this error in the console: <code>unknown compression method</code>. Should I be doing something else to properly inflate gzip files?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 3209, "user_id": 453343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea033f376317341667f57d5094ad068f?s=128&d=identicon&r=PG", "display_name": "ako", "link": "https://stackoverflow.com/users/453343/ako"}, "edited": false, "score": 0, "creation_date": 1512602775, "post_id": 47685067, "comment_id": 82329985, "body": "Without a reproducible example it is hard to say, but I suspect the last <code>rename</code> call may be where to look. What do you get from just ` mapping_df[[&#39;Global_Code&#39;, &#39;Retailer_X_Code&#39;, &#39;Retailer_Y_Code&#39;, &#39;Info&#39;]].set_index(&#39;Global_Code&#39;).stack().reset_index()`?"}, {"owner": {"reputation": 10574, "user_id": 507624, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b844b90364d964c2daa05d99cd7d68?s=128&d=identicon&r=PG", "display_name": "Growler", "link": "https://stackoverflow.com/users/507624/growler"}, "reply_to_user": {"reputation": 3209, "user_id": 453343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea033f376317341667f57d5094ad068f?s=128&d=identicon&r=PG", "display_name": "ako", "link": "https://stackoverflow.com/users/453343/ako"}, "edited": false, "score": 0, "creation_date": 1512603040, "post_id": 47685067, "comment_id": 82330099, "body": "@ako simply gives me different columns names. See above"}, {"owner": {"reputation": 10574, "user_id": 507624, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b844b90364d964c2daa05d99cd7d68?s=128&d=identicon&r=PG", "display_name": "Growler", "link": "https://stackoverflow.com/users/507624/growler"}, "reply_to_user": {"reputation": 3209, "user_id": 453343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea033f376317341667f57d5094ad068f?s=128&d=identicon&r=PG", "display_name": "ako", "link": "https://stackoverflow.com/users/453343/ako"}, "edited": false, "score": 0, "creation_date": 1512603371, "post_id": 47685067, "comment_id": 82330218, "body": "@ako I think I found the answer: add <code>Info</code> as an index (e.g., to <code>set_index</code> along with <code>Global_Code</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 10574, "user_id": 507624, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b844b90364d964c2daa05d99cd7d68?s=128&d=identicon&r=PG", "display_name": "Growler", "link": "https://stackoverflow.com/users/507624/growler"}, "is_accepted": false, "score": 1, "last_activity_date": 1512603575, "creation_date": 1512603575, "answer_id": 47685316, "question_id": 47685067, "link": "https://stackoverflow.com/questions/47685067/using-stack-to-index-multiple-columns-by-a-single-column/47685316#47685316", "title": "using stack to index multiple columns by a single column", "body": "<p>The way to do it is <code>index</code> by the columns you need: <code>.set_index(['Index1', 'Index2'])</code></p>\n\n<p>E.g.:</p>\n\n<pre><code>stacked_df = mapping_df[['Global_Code', 'Retailer_X_Code', 'Retailer_Y_Code', 'Info']].set_index(['Global_Code', 'Info']).stack().reset_index().rename(columns={'level_1':'Retailer_Name', 0:'Retailer_Code', 1: 'Product_Info'})\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>Global_Code |  Info | Retailer_Name   | Retailer_Code \n------------------------------------------------------      \n'A'              1    'Retailer_X_Code'   'a'           \n'A'              1    'Retailer_Y_Code'   'a_a'           \n...                   ...                 ...              \n'B'              2    'Retailer_X_Code'   'b'           \n'B'              2    'Retailer_Y_Code'   'b_b'         \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10574, "user_id": 507624, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b844b90364d964c2daa05d99cd7d68?s=128&d=identicon&r=PG", "display_name": "Growler", "link": "https://stackoverflow.com/users/507624/growler"}, "edited": false, "score": 0, "creation_date": 1512661164, "post_id": 47685404, "comment_id": 82357068, "body": "Thanks for this. Any benefit to this strategy rather than stacking on indices?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 10574, "user_id": 507624, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b844b90364d964c2daa05d99cd7d68?s=128&d=identicon&r=PG", "display_name": "Growler", "link": "https://stackoverflow.com/users/507624/growler"}, "edited": false, "score": 1, "creation_date": 1512661366, "post_id": 47685404, "comment_id": 82357203, "body": "@Growler pd. wide_to_long is for this specific case , assuming you have  Retailer_X_Code to Retailer_Z_Code, and NORetailer_X_Code to NORetailer_Z_Code , list them all and setting index will be hard , but if we uing wide_to_long almost the same code above."}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1512604226, "creation_date": 1512604226, "answer_id": 47685404, "question_id": 47685067, "link": "https://stackoverflow.com/questions/47685067/using-stack-to-index-multiple-columns-by-a-single-column/47685404#47685404", "title": "using stack to index multiple columns by a single column", "body": "<p>We using <code>wide_to_long</code>..:-), if you want to change the column name you can do , <code>rename</code>..</p>\n\n<pre><code>pd.wide_to_long(df,stubnames='Retailer',i=['Global_Code','Info'],j='Retailer_Name',sep='_',suffix='\\\\w+').reset_index()\nOut[155]: \n  Global_Code  Info Retailer_Name Retailer\n0         'A'     1        X_Code      'a'\n1         'A'     1        Y_Code    'a_a'\n2         'B'     2        X_Code      'b'\n3         'B'     2        Y_Code    'b_b'\n</code></pre>\n"}], "owner": {"reputation": 10574, "user_id": 507624, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b844b90364d964c2daa05d99cd7d68?s=128&d=identicon&r=PG", "display_name": "Growler", "link": "https://stackoverflow.com/users/507624/growler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 47685404, "answer_count": 2, "score": 1, "last_activity_date": 1512604226, "creation_date": 1512601998, "last_edit_date": 1512603027, "question_id": 47685067, "link": "https://stackoverflow.com/questions/47685067/using-stack-to-index-multiple-columns-by-a-single-column", "title": "using stack to index multiple columns by a single column", "body": "<p>I'm trying to take a format starting with:</p>\n\n<pre><code> Global_Code | Retailer_X_Code | Retailer_Y_Code | Info | ...\n  -----------------------------------------------------------\n 'A'              'a'              'a_a'            1     ...\n 'B'              'b'              'b_b'            2     ...\n ...              ...               ...            ...    ...\n</code></pre>\n\n<p>And stack the <code>Retailer_X_Code</code> and <code>Retailer_Y_Code</code> into a single <code>Retailer_Name</code> column, indexed by <code>Global_Code</code>. I'd also like to keep other columns in the row such as <code>Info</code>.</p>\n\n<p>So starting off with <code>stack()</code>, I get:</p>\n\n<pre><code> stacked_df = mapping_df.stack()\n\n ========\n\n Global_Code          'A'\n Retailer_X_Code      'a'\n Retailer_Y_Code      'a_a'\n Info                 1\n ...more columns\n\n Global_Code          'B'\n Retailer_X_Code      'b'\n Retailer_Y_Code      'b_b'\n Info                 2\n ...more columns\n</code></pre>\n\n<p>Great, now I don't all the columns, and want <code>Retailer_X_Code</code> and <code>Retailer_Y_Code</code> to be under one column. So I select these columns, organized by <code>Global_Code</code>:</p>\n\n<pre><code>stacked_df = mapping_df[['Global_Code', 'Retailer_X_Code', 'Retailer_Y_Code']].set_index('Global_Code').stack().reset_index().rename(columns={'level_1':'Retailer_Name', 0:'Retailer_Code'})\n\n========\n\nGlobal_Code |  Retailer_Name   | Retailer_Code\n------------------------------------------      \n'A'           'Retailer_X_Code'   'a'         \n'A'           'Retailer_Y_Code'   'a_a'          \n...           ...                 ...              \n'B'           'Retailer_X_Code'   'b'           \n'B'           'Retailer_Y_Code'   'b_b'         \n</code></pre>\n\n<p><strong>So far so good</strong>. Now I want to grab <code>Info</code> and include is as part of the stacked column result. <strong>The desired output should look like this:</strong></p>\n\n<pre><code>Global_Code |  Retailer_Name   | Retailer_Code | Info\n------------------------------------------------------      \n'A'           'Retailer_X_Code'   'a'            1\n'A'           'Retailer_Y_Code'   'a_a'          1   \n...           ...                 ...           ...    \n'B'           'Retailer_X_Code'   'b'            2\n'B'           'Retailer_Y_Code'   'b_b'          2\n</code></pre>\n\n<p>But if I add <code>Info</code> as part of the selected columns, then rename it to <code>Product_Info</code>, it doesn't add the <code>Info</code> column. </p>\n\n<p>Instead, it inserts <code>Info</code> values incorrectly under <code>Retailer_Name</code>.</p>\n\n<pre><code>stacked_df = mapping_df[['Global_Code', 'Retailer_X_Code', 'Retailer_Y_Code', 'Info']].set_index('Global_Code').stack().reset_index().rename(columns={'level_1':'Retailer_Name', 0:'Retailer_Code', 1: 'Product_Info'})\n\n========\n\nGlobal_Code |  Retailer_Name   | Retailer_Code\n------------------------------------------      \n'A'           'Retailer_X_Code'   'a'\n'A'           'Retailer_Y_Code'   'a_a'\n'A'           'Info'              1   \n'A'           'Info'              1\n'A'           'Info'              1            \n...           ...                 ...\n'B'           'Retailer_X_Code'   'b'\n'B'           'Retailer_Y_Code'   'b_b'\n'B'           'Info'              2\n</code></pre>\n\n<hr>\n\n<p>The above without column renaming, <code>.rename(columns={'level_1':'Retailer_Name', 0:'Retailer_Pack'})</code>, gives me:</p>\n\n<pre><code>Global_Code |  level_1          | 0\n------------------------------------------      \n'A'           'Retailer_X_Code'   'a'\n'A'           'Retailer_Y_Code'   'a_a'\n'A'           'Info'              1   \n'A'           'Info'              1\n'A'           'Info'              1            \n...           ...                 ...\n'B'           'Retailer_X_Code'   'b'\n'B'           'Retailer_Y_Code'   'b_b'\n'B'           'Info'              2\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy", "ms-access-2016"], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 8960574, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/bac323a39e06c246268c048e1d05f397?s=128&d=identicon&r=PG&f=1", "display_name": "CPU", "link": "https://stackoverflow.com/users/8960574/cpu"}, "edited": false, "score": 0, "creation_date": 1512603359, "post_id": 47685169, "comment_id": 82330213, "body": "@ Gabrieal A - Yes, I already did try converting all the values in the column to Python <code>datetime</code> using <code>to_pydatetime()</code>. However, this function cannot convert <code>NaT</code> values successfully."}, {"owner": {"reputation": 1509, "user_id": 9053238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4eb75e6286e55a54084a27ad8ac4e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel A", "link": "https://stackoverflow.com/users/9053238/gabriel-a"}, "reply_to_user": {"reputation": 219, "user_id": 8960574, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/bac323a39e06c246268c048e1d05f397?s=128&d=identicon&r=PG&f=1", "display_name": "CPU", "link": "https://stackoverflow.com/users/8960574/cpu"}, "edited": false, "score": 0, "creation_date": 1512603981, "post_id": 47685169, "comment_id": 82330454, "body": "Try replacing all NaT values with None . I updated my answer with how you might do this"}, {"owner": {"reputation": 219, "user_id": 8960574, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/bac323a39e06c246268c048e1d05f397?s=128&d=identicon&r=PG&f=1", "display_name": "CPU", "link": "https://stackoverflow.com/users/8960574/cpu"}, "edited": false, "score": 0, "creation_date": 1512605109, "post_id": 47685169, "comment_id": 82330818, "body": "@ Gabriel A - I tried your updated answer, but got the following error: <code>AttributeError: &#39;Series&#39; object has no attribute &#39;to_pydatetime&#39;</code>"}, {"owner": {"reputation": 1509, "user_id": 9053238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4eb75e6286e55a54084a27ad8ac4e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel A", "link": "https://stackoverflow.com/users/9053238/gabriel-a"}, "reply_to_user": {"reputation": 219, "user_id": 8960574, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/bac323a39e06c246268c048e1d05f397?s=128&d=identicon&r=PG&f=1", "display_name": "CPU", "link": "https://stackoverflow.com/users/8960574/cpu"}, "edited": false, "score": 0, "creation_date": 1512610266, "post_id": 47685169, "comment_id": 82331995, "body": "@Mook fixed the issue."}, {"owner": {"reputation": 219, "user_id": 8960574, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/bac323a39e06c246268c048e1d05f397?s=128&d=identicon&r=PG&f=1", "display_name": "CPU", "link": "https://stackoverflow.com/users/8960574/cpu"}, "edited": false, "score": 0, "creation_date": 1513307716, "post_id": 47685169, "comment_id": 82613045, "body": "@ Gabriel A - I tried your updated answer, but <code>NaT</code> values remain as they are. Do you know how I can check if a dataframe column is nullable (e.g. it can contain Null/None values)?"}], "tags": [], "owner": {"reputation": 1509, "user_id": 9053238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4eb75e6286e55a54084a27ad8ac4e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel A", "link": "https://stackoverflow.com/users/9053238/gabriel-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1512610242, "last_edit_date": 1512610242, "creation_date": 1512602685, "answer_id": 47685169, "question_id": 47685033, "link": "https://stackoverflow.com/questions/47685033/converting-column-values-into-datetime-to-insert-into-accessdb/47685169#47685169", "title": "Converting column values into datetime to insert into AccessDB", "body": "<p>Have you considered just converting it to datetime and then running the loop?\n<a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.dt.to_pydatetime.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.dt.to_pydatetime.html</a></p>\n\n<pre><code>df['Vote_date'] = df['Vote_date'].dt.to_pydatetime()\ndf.loc[df['Vote_date'].isnull(),\"Vote_date\"] = None\nfor index,row in df.iterrows():\n    cursor.execute(\"INSERT INTO Vote(vote_date) VALUES(?)\", row['Vote_date'])  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3025999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b709dc74a20b1ed3874d6a82d96f0e6?s=128&d=identicon&r=PG", "display_name": "mmmiiiiiikkkeee", "link": "https://stackoverflow.com/users/3025999/mmmiiiiiikkkeee"}, "is_accepted": false, "score": 0, "last_activity_date": 1553184355, "creation_date": 1553184355, "answer_id": 55284674, "question_id": 47685033, "link": "https://stackoverflow.com/questions/47685033/converting-column-values-into-datetime-to-insert-into-accessdb/55284674#55284674", "title": "Converting column values into datetime to insert into AccessDB", "body": "<p>I had luck doing this:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame(['01/01/2019',None], columns=['datetime_field'])\ndf['datetime_field'] = pd.to_datetime(df['datetime_field'])\n\ndf['datetime_field'] = pd.to_datetime(df['datetime_field'], errors='coerce').where(df['datetime_field'].notnull(), 0.0)\n</code></pre>\n\n<p>Originally the nulls in this field are NaT.</p>\n\n<p>pandas <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html\" rel=\"nofollow noreferrer\">where</a> docs</p>\n"}], "owner": {"reputation": 219, "user_id": 8960574, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/bac323a39e06c246268c048e1d05f397?s=128&d=identicon&r=PG&f=1", "display_name": "CPU", "link": "https://stackoverflow.com/users/8960574/cpu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553184355, "creation_date": 1512601822, "last_edit_date": 1512603646, "question_id": 47685033, "link": "https://stackoverflow.com/questions/47685033/converting-column-values-into-datetime-to-insert-into-accessdb", "title": "Converting column values into datetime to insert into AccessDB", "body": "<p>I am trying to populate values of Pandas Dataframe into MS Access table. I am using the following Pandas built-in <code>DF.iterrows()</code> to iterate through each row of a DataFrame and insert each row into Access table. </p>\n\n<pre><code>for index,row in df.iterrows():\n    print(repr(row['Vote_date'])) #Using iterrows() temporarily converts datetime64[ns] values into Timestamps  \n    row['Vote_date'] = row['Vote_date'].to_pydatetime() #This converts all values in this column, except NaT values.\n\n    cursor.execute(\"INSERT INTO Vote(vote_date) VALUES(?)\", row['Vote_date'])  \n</code></pre>\n\n<p>When I run this code, I get the following error: </p>\n\n<pre><code>pyodbc.DataError: ('22008', '[22008] [Microsoft][ODBC Microsoft Access Driver]Datetime field overflow  (36) (SQLExecDirectW)')\n</code></pre>\n\n<p>Pandas <code>Timestamps</code> values cannot be inserted into MS Access table. Research has shown that I would need to convert the column values into Python <code>datetime</code> values in order to insert into Access DB.</p>\n\n<p>Is there another iteration method that I can use to successfully insert Python <code>datetime</code> values into MS Access? And also handle <code>NaT</code> values?</p>\n"}, {"tags": ["python", "python-2.7", "tkinter"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512601953, "post_id": 47685022, "comment_id": 82329692, "body": "can&#39;t you do <code>def decmescommand(self, CipherText):</code> ? Or use <code>self.CipherText</code> and it will be accesible outside class as <code>some_instance.CipherText</code>"}, {"owner": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512602598, "post_id": 47685022, "comment_id": 82329935, "body": "@furas This error shows when I do the first one you said <code>TypeError: decmescommand() takes exactly 2 arguments (1 given) </code> If i use the <code>self.Ciphertext</code> like you said, It still didn&#39;t decrypt my message. Sorry for being a newb"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512603020, "post_id": 47685022, "comment_id": 82330089, "body": "you have to define function with argument <code>def decmescommand(self, txt):</code> and later use it with argument <code>some_imstance.decmescommand(CipherText)</code>. You should have to show how you use both classes - how and where you create instances.  Maybe then it would be easier to resolve problem."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512603571, "post_id": 47685022, "comment_id": 82330303, "body": "it is not preferred but you can use <code>global CipherText</code> instead of <code>global CT</code> and your variable will be accessible in all places. Currently variable <code>CT</code> have you <code>CipherText</code> and it is accessible in all places. But there is one thing: function <code>encmescommand()</code> has to be executed before <code>decmescommand()</code> to assign value to <code>CipherText</code>"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "edited": false, "score": 0, "creation_date": 1512603581, "post_id": 47685197, "comment_id": 82330307, "body": "Should I make it like this? <code>CT=CipherText</code> Damn having no sleep is really affecting my mind now."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "edited": false, "score": 0, "creation_date": 1512603710, "post_id": 47685197, "comment_id": 82330361, "body": "@Bernard1009 use <code>global CipherText</code> instead of <code>global CT</code> in <code>encmescommand()</code> or use <code>CT</code> instead of <code>CipherText</code> in <code>decmescommand()</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "edited": false, "score": 0, "creation_date": 1512604050, "post_id": 47685197, "comment_id": 82330479, "body": "@Bernard1009 first you have to show full error message (in question), second you have to show how to use both classes. <code>CiperText</code> will be accessible in <code>decmescommand()</code> only if you execute <code>encmescommand()</code> as first."}, {"owner": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "edited": false, "score": 0, "creation_date": 1512604474, "post_id": 47685197, "comment_id": 82330640, "body": "I have this <code>except: tkMessageBox.showwarning(&quot;Warning!&quot;, &quot;Wrong key!&quot;)</code> error when no message or wrong key is in the <code>CipherText</code>. Also tried to print the <code>CipherText</code>, and it shows only blank which i guess why the warning error is showing. I&#39;ve always execute the <code>encmescommand()</code> before using the <code>encmescommand()</code>."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512604696, "post_id": 47685197, "comment_id": 82330713, "body": "better use <code>except Exception as ex: print(ex)</code> and you will see what real problem is."}, {"owner": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "edited": false, "score": 0, "creation_date": 1512605015, "post_id": 47685197, "comment_id": 82330802, "body": "Thanks for the last suggestion! It shows that the problem is my <code>PlainText</code> typo error. I should really get some sleep now. lol. Thank you! You&#39;re a semester saver!"}], "tags": [], "owner": {"reputation": 187, "user_id": 7627775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKBiE.jpg?s=128&g=1", "display_name": "jsolum", "link": "https://stackoverflow.com/users/7627775/jsolum"}, "is_accepted": false, "score": 0, "last_activity_date": 1512602867, "creation_date": 1512602867, "answer_id": 47685197, "question_id": 47685022, "link": "https://stackoverflow.com/questions/47685022/i-cant-transfer-my-class-variable-into-another-class/47685197#47685197", "title": "I can&#39;t transfer my class variable into another class", "body": "<p>The problem is your scoping.  You have <code>CipherText</code> defined inside a method.  Try taking out <code>CipherText</code> and making it a global variable in your class.  Then you will be able to access it by calling <code>Encmesbuttons.CipherText</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "edited": false, "score": 0, "creation_date": 1512603973, "post_id": 47685357, "comment_id": 82330450, "body": "I&#39;ve tried your suggestion, still the wrong key error still pops up. Starting to think this might be a problem in my codings.."}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1512604635, "last_edit_date": 1512604635, "creation_date": 1512603859, "answer_id": 47685357, "question_id": 47685022, "link": "https://stackoverflow.com/questions/47685022/i-cant-transfer-my-class-variable-into-another-class/47685357#47685357", "title": "I can&#39;t transfer my class variable into another class", "body": "<p>It is not preferred method but you can use <code>global CipherText</code> instead of <code>global CT</code> in <code>decmescommand()</code> and your variable will be accessible in all places. Currently variable <code>CT</code> has your <code>CipherText</code> and it is accessible in all places - so you can use <code>CT</code> instead of <code>CipherText</code> inside <code>encmescommand()</code>. </p>\n\n<p>There is one thing: method <code>encmescommand()</code> has to be executed before <code>decmescommand()</code> to assign value to <code>CipherText</code> / <code>CT</code></p>\n\n<hr>\n\n<p><strong>EDIT:</strong></p>\n\n<p>see example</p>\n\n<pre><code>class Decmesbuttons():\n\n    def decmescommand(self):\n        print('execute decmescommand()')\n\n        print('CipherText:', CipherText)\n\nclass Encmesbuttons():\n\n\n    def encmescommand(self):\n         print('execute encmescommand()')\n\n         global CipherText\n\n         CipherText = \"hello world\"\n\nd = Decmesbuttons()\ne = Encmesbuttons()\n\ne.encmescommand() # &lt;- you have to run it before decmescommand()\nd.decmescommand()\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>execute encmescommand()\nexecute decmescommand()\nCipherText: hello world\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> more prefered method</p>\n\n<pre><code>class Decmesbuttons():\n\n    def decmescommand(self, text):\n        print('execute decmescommand()')\n\n        print('CipherText:', text)\n\nclass Encmesbuttons():\n\n\n    def encmescommand(self):\n        print('execute encmescommand()')\n\n        CipherText = \"hello world\"\n\n        return CipherText\n\nd = Decmesbuttons()\ne = Encmesbuttons()\n\nresult = e.encmescommand() # &lt;- you have to run it before decmescommand()\nd.decmescommand(result)\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8991252, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/56ae0996f210038ebb1d06bfd1850a8d?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard1009", "link": "https://stackoverflow.com/users/8991252/bernard1009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512604635, "creation_date": 1512601766, "question_id": 47685022, "link": "https://stackoverflow.com/questions/47685022/i-cant-transfer-my-class-variable-into-another-class", "title": "I can&#39;t transfer my class variable into another class", "body": "<p>Really desperate to ask this. I need to transfer my CipherText into another class, and it doesn't work. What am I missing? Sorry for the long post. (I've already removed the some GUI(tkinter) codes in those 2 class.) I can't seem to find solutions here. Would Gladly appreciate for some help. Thanks!!!</p>\n\n<pre><code>class Decmesbuttons():\n\n\n   def decmescommand(self):\n       datenow = str(datetime.datetime.now().date())\n       timenow = str(datetime.datetime.now().time())\n\n\n       privk = privkeyvarS.get()\n\n       #No key found error\n       try:\n           pathpriv = r'/home/gene/Desktop/ppl/keys/' + privk\n           loadprivkey = M2Crypto.RSA.load_key (pathpriv + '/' + privk + '-private.key')\n\n       except IOError: \n           tkMessageBox.showwarning(\"Warning!\", \"No \"+ privk + \" key found.\")\n\n\n       #Wrong key error &amp; printing of the decrypted message\n       try:\n           PlainText = loadprivkey.private_decrypt (Ciphertext, M2Crypto.RSA.pkcs1_oaep_padding)\n\n           if PlainText != \"\":\n               tkMessageBox.showinfo(\"DECRYPTED!\",\"Message decrypted by \" + privk + \" :\" + Plaintext)\n\n       except:\n           tkMessageBox.showwarning(\"Warning!\", \"Wrong key!\")\n\nclass Encmesbuttons():\n\n\n    def encmescommand(self):\n        datenow = str(datetime.datetime.now().date())\n        timenow = str(datetime.datetime.now().time())\n\n        m = messagevarS.get()\n        pk = pubkeyvarS.get()\n\n        #Input of selected message to encrypt\n\n        em = m + '\\n' + '-'\n        if not m:\n            tkMessageBox.showwarning(\"Warning!\", \"No message to encrypt\")\n\n        else:\n            #add to log\n            logkey = open ('log'+datenow+'.txt', 'a')\n            logkey.write(timenow +'-'  + ' Some user inputted a message.' + \"\\n\") \n            logkey.close()\n\n            f = open ('message.txt', 'w')\n            f.write(str(m)) \n            f.close()\n\n        try:\n            #select the public key owner to send your encrypted message \n\n            pathpub = r'/home/gene/Desktop/ppl/keys/' + pk\n            loadpub = M2Crypto.RSA.load_pub_key (pathpub+ '/' + pk + '-public.key')\n\n            global CT\n            CipherText = loadpub.public_encrypt (m, M2Crypto.RSA.pkcs1_oaep_padding)\n            CT = CipherText\n\n            #Print the ciphered message\n\n            tkMessageBox.showinfo(\"The encrypted message\",str(CipherText.encode('base64')))\n\n            #write ciphered text to file\n            f = open ('encryption.txt', 'w')\n            f.write(str(CipherText.encode ('base64')))\n            f.close()\n\n            #add to log\n            logkey = open ('log'+datenow+'.txt', 'a')\n            logkey.write(timenow +'-' + 'Some user has encrypted the message and selected ' + pk + ' as the receiver' +  \"\\n\") \n            logkey.close()\n\n\n        except IOError: \n            tkMessageBox.showwarning(\"Warning!\", \"No public key inputted\")\n</code></pre>\n\n<p>I need this variable:</p>\n\n<pre><code>CipherText = loadpub.public_encrypt (m, M2Crypto.RSA.pkcs1_oaep_padding)\n</code></pre>\n\n<p>to be in this line (the one with the Here sign):</p>\n\n<pre><code> PlainText = loadprivkey.private_decrypt (**HERE**, M2Crypto.RSA.pkcs1_oaep_padding)\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "melt"], "answers": [{"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 1, "last_activity_date": 1512601565, "creation_date": 1512601565, "answer_id": 47684994, "question_id": 47684961, "link": "https://stackoverflow.com/questions/47684961/melt-uneven-data-in-columns-and-ignore-nans-using-pandas/47684994#47684994", "title": "Melt uneven data in columns and ignore NaNs using pandas", "body": "<p>Using stack</p>\n\n<pre><code>df.set_index('Name').stack().reset_index(1,drop = True)\n\nName\napple     2016 W1\norange    2016 W1\norange    2017 W2\nbanana    2016 W2\nbanana    2017 W3\npear      2016 W3\npear      2016 W4\npear      2016 W5\nmelon     2016 W2\nmelon     2016 W4\nmelon     2017 W5\nmelon     2017 W6\nmelon     2017 W7\ndtype: object\n</code></pre>\n\n<p>Or using melt with some cleaning</p>\n\n<pre><code>df.melt(id_vars='Name').sort_values('Name').dropna()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "edited": false, "score": 0, "creation_date": 1512602731, "post_id": 47685000, "comment_id": 82329968, "body": "I like Op1 the best"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "edited": false, "score": 1, "creation_date": 1512602984, "post_id": 47685000, "comment_id": 82330070, "body": "@JAG2024 Yw~ :-), btw: consider the speed , op3 should be the fast"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1512602016, "last_edit_date": 1512602016, "creation_date": 1512601615, "answer_id": 47685000, "question_id": 47684961, "link": "https://stackoverflow.com/questions/47684961/melt-uneven-data-in-columns-and-ignore-nans-using-pandas/47685000#47685000", "title": "Melt uneven data in columns and ignore NaNs using pandas", "body": "<p>Op1 </p>\n\n<pre><code>df.melt('Name').dropna().drop('variable',1)\nOut[62]: \n      Name    value\n0    apple  2016 W1\n1   orange  2016 W1\n2   banana  2016 W2\n3     pear  2016 W3\n4    melon  2016 W2\n6   orange  2017 W2\n7   banana  2017 W3\n8     pear  2016 W4\n9    melon  2016 W4\n13    pear  2016 W5\n14   melon  2017 W5\n19   melon  2017 W6\n24   melon  2017 W7\n</code></pre>\n\n<p>Op2</p>\n\n<pre><code>df.set_index('Name').stack().reset_index().drop('level_1',1)\nOut[66]: \n      Name        0\n0    apple  2016 W1\n1   orange  2016 W1\n2   orange  2017 W2\n3   banana  2016 W2\n4   banana  2017 W3\n5     pear  2016 W3\n6     pear  2016 W4\n7     pear  2016 W5\n8    melon  2016 W2\n9    melon  2016 W4\n10   melon  2017 W5\n11   melon  2017 W6\n12   melon  2017 W7\n</code></pre>\n\n<p>Op3</p>\n\n<pre><code>pd.DataFrame({'Name':df.Name.tolist()*5,'Value':np.concatenate(df.iloc[:,1:].values)}).dropna()\nOut[69]: \n      Name    Value\n0    apple  2016 W1\n5    apple  2016 W1\n6   orange  2017 W2\n10   apple  2016 W2\n11  orange  2017 W3\n15   apple  2016 W3\n16  orange  2016 W4\n17  banana  2016 W5\n20   apple  2016 W2\n21  orange  2016 W4\n22  banana  2017 W5\n23    pear  2017 W6\n24   melon  2017 W7\n</code></pre>\n"}], "owner": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2132, "favorite_count": 0, "accepted_answer_id": 47685000, "answer_count": 2, "score": 1, "last_activity_date": 1512602016, "creation_date": 1512601354, "question_id": 47684961, "link": "https://stackoverflow.com/questions/47684961/melt-uneven-data-in-columns-and-ignore-nans-using-pandas", "title": "Melt uneven data in columns and ignore NaNs using pandas", "body": "<p>There must be an elegant way to do this but I have not found it yet. I have a large dataframe that looks something like this:</p>\n\n<pre><code>df\n    Name    0           1           2        3      4   \n1   apple   2016 W1     NaN         NaN      NaN    NaN \n2   orange  2016 W1     2017 W2     NaN      NaN    NaN \n3   banana  2016 W2     2017 W3     NaN      NaN    NaN  \n4   pear    2016 W3     2016 W4     2016 W5  NaN    NaN\n6   melon   2016 W2     2016 W4     2017 W5  2017 W6 2017 W7\n</code></pre>\n\n<p>And I want to melt the data such that there are only two columns <code>name</code> and <code>week</code>. So the result should look like this:</p>\n\n<pre><code>df_result\n\n    Name    week       \n    apple   2016 W1     \n    orange  2016 W1\n    orange  2017 W2     \n    banana  2016 W2 \n    banana  2017 W3\n    pear    2016 W3    \n    pear    2016 W4    \n    ... etc. \n</code></pre>\n\n<p>What I'm stuck on is how to ignore the NaN values while being sure to not lose any values. </p>\n\n<p>When I do <code>pd.melt(df, id_vars=['Name'])</code> I'm not sure if the outcome is what I want. </p>\n"}, {"tags": ["javascript", "python", "svg", "plotly", "trigonometry"], "answers": [{"comments": [{"owner": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "edited": false, "score": 0, "creation_date": 1512668160, "post_id": 47695091, "comment_id": 82361350, "body": "It took some time for me to work through this :) I wish I could give you more upvotes for it! Probably I should learn and do my project in JS, rather than transforming my results to SVG from Python. Thanks!!"}, {"owner": {"reputation": 41032, "user_id": 3877726, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/C7qq2.png?s=128&g=1", "display_name": "Blindman67", "link": "https://stackoverflow.com/users/3877726/blindman67"}, "reply_to_user": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "edited": false, "score": 1, "creation_date": 1512691211, "post_id": 47695091, "comment_id": 82371625, "body": "@erocoar In all the typing I forgot to add the most important part. All the maths is based on Law of cosines <a href=\"https://en.wikipedia.org/wiki/Trigonometric_functions#Law_of_cosines\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Trigonometric_functions#Law_of_cosines</a> That provide an easy way to solve any triangle if you have any 3 of a triangles 6 properties (3 side lengths and 3  angles) The circle intercepts is a solution to a triangle with sides A,B,C where A is the dist between circle centers, and B, and C are the radius of the two circles.The angle <code>acos((C*C-(A*A+B*B))&#47;(-2*A*B))</code> is the angle from joining line between to the intercept."}], "tags": [], "owner": {"reputation": 41032, "user_id": 3877726, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/C7qq2.png?s=128&g=1", "display_name": "Blindman67", "link": "https://stackoverflow.com/users/3877726/blindman67"}, "is_accepted": true, "score": 7, "last_activity_date": 1512696007, "last_edit_date": 1592644375, "creation_date": 1512649370, "answer_id": 47695091, "question_id": 47684885, "link": "https://stackoverflow.com/questions/47684885/arc-svg-parameters/47695091#47695091", "title": "Arc SVG Parameters", "body": "<h1>Circles and intercepting points</h1>\n<p>Don't know much about SVG arcTo. MDN gives <code>&quot;A rx,ry xAxisRotate LargeArcFlag,SweepFlag x,y&quot;</code>. as an arc in the path element. What rx and ry are??? I would guess radius for x,y.</p>\n<p>I am guessing you would use it as</p>\n<pre><code>// x,y start position\n// rx,ry radius x and y\n// x1,y1 end position\n&lt;path d=&quot;M x,y A rx, ry, 0 1 1 x1, y1&quot;/&gt;\n</code></pre>\n<p>Below is the problem solved as javascript. I have Commented the part you need for the SVG. The two end points (intercepts)</p>\n<p>There is a lot of redundancy but its not clear what you want so the code provides how to find other parts of two intersecting circles.</p>\n<h2>Law of Cosines</h2>\n<p>The math to solve the problem is called the <a href=\"https://en.wikipedia.org/wiki/Law_of_cosines\" rel=\"nofollow noreferrer\">law of cosines</a> that is used to solve triangles.</p>\n<p>In this case the triangle is created from 3 lengths. One each of the circle radius and one is the distance between circle centers. The image gives more details</p>\n<p><a href=\"https://i.stack.imgur.com/rEmEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rEmEV.png\" alt=\"enter image description here\" /></a></p>\n<p>With the angle c you can find the lengths GE, DE, and EF. If you want the angle for the other side at point f just swap B and C.</p>\n<h2>Example</h2>\n<p>Move mouse to check intercept.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const ctx = canvas.getContext(\"2d\");\nconst m = {\n  x: 0,\n  y: 0\n};\ndocument.addEventListener(\"mousemove\", e =&gt; {\n  var b = canvas.getBoundingClientRect();\n  m.x = e.pageX - b.left - scrollX;\n  m.y = e.pageY - b.top - scrollY;\n});\nconst PI = Math.PI;\nconst PI2 = Math.PI * 2;\nconst circles = [];\n\nfunction circle(x, y, r, col, f = 0, t = PI2, w = 2) {\n  var c;\n  circles.push(c = { x, y,r, col, f, t, w});\n  return c;\n};\n\nfunction drawCircle(A) {\n  ctx.strokeStyle = A.col;\n  ctx.lineWidth = A.w;\n  ctx.beginPath();\n  ctx.arc(A.x, A.y, A.r, A.f, A.t);\n  ctx.stroke();\n}\n\nfunction mark(x, y, r, c) {\n  ctx.strokeStyle = c;\n  ctx.lineWidth = 2;\n  ctx.beginPath();\n  ctx.arc(x, y, r, 0, PI2);\n  ctx.stroke();\n}\n\nfunction line(A, B, c) {\n  ctx.strokeStyle = c;\n  ctx.lineWidth = 2;\n  ctx.beginPath();\n  ctx.lineTo(A.x, A.y);\n  ctx.lineTo(B.x, B.y);\n  ctx.stroke();\n}\n\n// note I am sharing calc results between function  \n\n\nfunction circleIntercept(A, B) {\n  var vx, vy, dist, c, d, x, y, x1, y1, x2, y2, dir, a1, a2;\n  // Vec from A to B\n  vx = B.x - A.x;\n  vy = B.y - A.y;\n  // Distance between\n  dist = Math.sqrt(vx * vx + vy * vy);\n  // Are the intercepting\n  if (dist &lt; A.r + B.r &amp;&amp; dist &gt; B.r - A.r) {\n    c = (B.r * B.r - (dist * dist + A.r * A.r)) / (-2 * dist);\n\n    // Find mid point on cord\n    x = A.x + vx * (c / dist);\n    y = A.y + vy * (c / dist);\n    mark(x, y, 5, \"blue\");\n\n    // Find circumference intercepts\n\n    //#################################################################\n    //=================================================================\n    // SVG path \n    // Use x1,y1 and x2,y2 as the start and end angles of the ArcTo SVG\n    d = Math.sqrt(A.r * A.r - c * c);\n    x1 = x - vy * (d / dist);\n    y1 = y + vx * (d / dist);\n    x2 = x + vy * (d / dist);\n    y2 = y - vx * (d / dist);\n    // SVG path from above coords\n    // d = `M ${x1}, ${y1} A ${A.r}, ${A,r1} 0, 1, 1, ${x2}, ${y2}`;\n    //=================================================================\n\n    // draw the chord\n    line({x: x1,y: y1}, {x: x2,y: y2}, \"red\");\n    \n    // mark the intercepts\n    mark(x1, y1, 5, \"Green\");\n    mark(x2, y2, 5, \"Orange\");\n\n    // Get direction from A to B\n    dir = Math.atan2(vy, vx);\n\n    // Get half inside sweep\n    a1 = Math.acos(c / A.r);\n\n    // Draw arc for A\n    A.col = \"black\";\n    A.w = 4;\n    A.f = dir - a1;\n    A.t = dir + a1;\n    drawCircle(A);\n    A.col = \"#aaa\";\n    A.w = 2;\n    A.f = 0;\n    A.t = PI2;\n\n    // inside sweep for B\n    a2 = Math.asin(d / B.r);\n\n    // Draw arc for B\n    B.col = \"black\";\n    B.w = 4;\n    if (dist &lt; c) {\n      B.t = dir - a2;\n      B.f = dir + a2;\n    } else {\n\n      B.f = dir + PI - a2;\n      B.t = dir + PI + a2;\n    }\n    drawCircle(B);\n    B.col = \"#aaa\";\n    B.w = 2;\n    B.f = 0;\n    B.t = PI2;\n\n  }\n\n}\n\nvar w = canvas.width;\nvar h = canvas.height;\nvar cw = w / 2; // center \nvar ch = h / 2;\nvar C1 = circle(cw, ch, ch * 0.5, \"#aaa\");\nvar C2 = circle(cw, ch, ch * 0.8, \"#aaa\");\n\nfunction update(timer) {\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.globalAlpha = 1;\n  if (w !== innerWidth || h !== innerHeight) {\n    cw = (w = canvas.width = innerWidth) / 2;\n    ch = (h = canvas.height = innerHeight) / 2;\n    C1.x = cw;\n    C1.y = ch;\n    C1.r = ch * 0.5;\n    ctx.lineCap = \"round\";\n  }\n  C2.x = m.x;\n  C2.y = m.y;\n  ctx.clearRect(0, 0, w, h);\n\n\n  drawCircle(C1);\n  drawCircle(C2);\n  circleIntercept(C1, C2);\n\n\n\n\n\n\n  requestAnimationFrame(update);\n}\nrequestAnimationFrame(update);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "edited": false, "score": 0, "creation_date": 1512670104, "post_id": 47699426, "comment_id": 82362308, "body": "Thanks! This is really helpful - I guess I went wrong with treating the intersection as part of a new ellipse. :) For defining which circle is left/right, would I do it by angle?"}, {"owner": {"reputation": 14442, "user_id": 4996779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be841669a4ba9c0ba9ede5d2351e6209?s=128&d=identicon&r=PG", "display_name": "ccprog", "link": "https://stackoverflow.com/users/4996779/ccprog"}, "reply_to_user": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "edited": false, "score": 0, "creation_date": 1512670557, "post_id": 47699426, "comment_id": 82362546, "body": "It is more a question of how you order the intersection points. You could also say: draw an arrow from circle1 to circle2, and go from the intersection point to the left of the arrow to the point on the right with radius1, and back with radius 2. It all depends on your code."}, {"owner": {"reputation": 14442, "user_id": 4996779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be841669a4ba9c0ba9ede5d2351e6209?s=128&d=identicon&r=PG", "display_name": "ccprog", "link": "https://stackoverflow.com/users/4996779/ccprog"}, "reply_to_user": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "edited": false, "score": 0, "creation_date": 1512671125, "post_id": 47699426, "comment_id": 82362805, "body": "Maybe this is even easier: if cy of circle1 is greater than cy of circle2, then start at the intersection point that has the smaller x coordinate. If the cy are equal, start at  the intersection point with the smaller y."}], "tags": [], "owner": {"reputation": 14442, "user_id": 4996779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be841669a4ba9c0ba9ede5d2351e6209?s=128&d=identicon&r=PG", "display_name": "ccprog", "link": "https://stackoverflow.com/users/4996779/ccprog"}, "is_accepted": false, "score": 1, "last_activity_date": 1512671918, "last_edit_date": 1512671918, "creation_date": 1512663717, "answer_id": 47699426, "question_id": 47684885, "link": "https://stackoverflow.com/questions/47684885/arc-svg-parameters/47699426#47699426", "title": "Arc SVG Parameters", "body": "<p>Let's start with some terminology to clear up what is a clockwise direction (remember the y axis of SVG goes <em>down</em>): the first circle has radius <code>r1</code>, the second <code>r2</code>.</p>\n\n<ul>\n<li>If the center of the first circle is lower than that of the second (<code>cy1 &gt; cy2</code>), then name the intersection point with the smaller x coordinate <code>(x1, y1)</code>, and the other <code>(x2, y2)</code>.</li>\n<li>If the center of the first circle is higher than that of the second (<code>cy1 &lt; cy2</code>), then name the intersection point with the greater x coordinate <code>(x1, y1)</code>, and the other <code>(x2, y2)</code>.</li>\n<li>Else, name the intersection point with the smaller y coordinate <code>(x1, y1)</code>, and the other <code>(x2, y2)</code>.</li>\n</ul>\n\n<p>Now we will draw an arc from the first to the second intersection point with the radius of the first circle. The first two arc parameters are the horizontal and vertical radius. Since we are drawing a circle, both are identical. For the same reason, rotating the radii does not make sense and the third parameter is 0.</p>\n\n<p>The intersection of two circles always uses the small arc (the large arc would be used for the union), therefore the large arc flag is 0. We are drawing the arc clockwise, therefore the sweep flag is 1.</p>\n\n<p>Still unclear? The <a href=\"https://www.w3.org/TR/SVG11/paths.html#PathDataEllipticalArcCommands\" rel=\"nofollow noreferrer\">spec</a> uses this picture for explaining the flags:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nrbmw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nrbmw.png\" alt=\"enter image description here\"></a></p>\n\n<p>The second arc is going from the second to the first intersection point with the radius of the second circle. The flags remain the same.</p>\n\n<p>The result looks like this:</p>\n\n<pre><code>M x1, y1 A r1 r1 0 0 1 x2, y2 A r2 r2 0 0 1 x1, y1 Z\n</code></pre>\n"}], "owner": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2251, "favorite_count": 0, "accepted_answer_id": 47695091, "answer_count": 2, "score": 1, "last_activity_date": 1512696007, "creation_date": 1512600989, "question_id": 47684885, "link": "https://stackoverflow.com/questions/47684885/arc-svg-parameters", "title": "Arc SVG Parameters", "body": "<p>I've been trying to understand arc svg since it seems I need them in plotly -- my goal is to plot circle intersections. </p>\n\n<p>My original idea was something like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/HYPl5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HYPl5.png\" alt=\"enter image description here\"></a></p>\n\n<p>for every intersection, to find the start and end coordinates as well as the height - but I am not very sure of where to go from here. It seems I am lacking the rotation and Large Arc Flag / Sweep parameters, and I am not sure how I would go about retrieving them. If anyone could point me into the right direction here, that would be great! </p>\n"}, {"tags": ["python", "list", "pyspark", "apache-spark-1.4"], "comments": [{"owner": {"reputation": 11, "user_id": 8910838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d0b2b2d90a64eae9a9439b846f65af6?s=128&d=identicon&r=PG&f=1", "display_name": "Helen Z", "link": "https://stackoverflow.com/users/8910838/helen-z"}, "reply_to_user": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "edited": false, "score": 0, "creation_date": 1512602324, "post_id": 47684855, "comment_id": 82329830, "body": "/opt/spark1.4/bin/spark-submit --master yarn-client --num-executors 37 xxx.py"}], "answers": [{"tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": false, "score": 0, "last_activity_date": 1512602638, "creation_date": 1512602638, "answer_id": 47685163, "question_id": 47684855, "link": "https://stackoverflow.com/questions/47684855/pyspark-1-4-how-to-get-list-in-aggregated-function/47685163#47685163", "title": "pyspark 1.4 how to get list in aggregated function", "body": "<p><em>Spark 1.4 is old, not supported, slow, buggy and compatible with current versions. You should really consider upgrading Spark installation</em></p>\n\n<p>Enable Hive support, register <code>DataFrame</code> as a temporary table, and use</p>\n\n<pre><code>sqlContext  = HiveContext(sc)\n\ndf = ...  # create table using HiveContext\ndf.registerTempTable(\"df\")\n\nsqlContext.sql(\n  \"SELECT id, date, hour, collect_list(cell) GROUP BY id, date, hour FROM df\" \n)\n</code></pre>\n\n<p>Since <a href=\"https://stackoverflow.com/questions/47684855/pyspark-1-4-how-to-get-list-in-aggregated-function#comment82329830_47684855\">you use YARN</a> you <a href=\"https://stackoverflow.com/a/47670531/8371915\">should should be able to submit any version of Spark code</a>, but it might require placing custom PySpark version on the <code>PYTHONPATH</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 8910838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d0b2b2d90a64eae9a9439b846f65af6?s=128&d=identicon&r=PG&f=1", "display_name": "Helen Z", "link": "https://stackoverflow.com/users/8910838/helen-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512680910, "creation_date": 1512600828, "last_edit_date": 1512602498, "question_id": 47684855, "link": "https://stackoverflow.com/questions/47684855/pyspark-1-4-how-to-get-list-in-aggregated-function", "title": "pyspark 1.4 how to get list in aggregated function", "body": "<p>I want to get list of a column values in aggregated function, in pyspark 1.4. The <code>collect_list</code> is not available. Does anyone have suggestion how to do it?</p>\n\n<p>Original columns: </p>\n\n<pre><code>ID, date, hour, cell\n1, 1030, 01, cell1\n1, 1030, 01, cell2\n2, 1030, 01, cell3\n2, 1030, 02, cell4\n</code></pre>\n\n<p>I want output like below, <code>groupby (ID, date, hour)</code></p>\n\n<pre><code>ID, date, hour, cell_list\n1, 1030, 01, cell1, cell2\n2, 1030, 01, cell3\n2, 1030, 02, cell4\n</code></pre>\n\n<p>But my pyspark is in 1.4.0, <code>collect_list</code> is not available. I can't do:\n<code>df.groupBy(\"ID\",\"date\",\"hour\").agg(collect_list(\"cell\"))</code>.</p>\n"}, {"tags": ["python", "loops", "tkinter", "pygame"], "comments": [{"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 1, "creation_date": 1512602583, "post_id": 47684841, "comment_id": 82329928, "body": "Read the SO help center, including <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1512603293, "post_id": 47684841, "comment_id": 82330192, "body": "It sounds like you want to implement different scenes (states). You could write two separate functions or classes with their own while and event loops, and the controller is responsible for switching the scenes (in another while loop). <a href=\"https://www.reddit.com/r/pygame/comments/3kghhj/simple_state_machine_example/\" rel=\"nofollow noreferrer\">Here&#39;s a good example</a> of a state machine which let&#39;s you switch between several scenes with a single while and event loop."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 1, "creation_date": 1512603613, "post_id": 47684841, "comment_id": 82330324, "body": "<a href=\"https://stackoverflow.com/a/47460947/6220679\">Here&#39;s</a> a minimal example with functions as scenes."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 1, "creation_date": 1512604298, "post_id": 47684841, "comment_id": 82330576, "body": "BTW, don&#39;t load your images from the hard disk in the while or event loop, because that&#39;s slow and unnecessary. Just load them in the global scope and reuse them in the functions/methods that need them."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 1, "creation_date": 1512605136, "post_id": 47684841, "comment_id": 82330823, "body": "@skrx your  minimal example is nice"}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512605194, "post_id": 47684841, "comment_id": 82330841, "body": "@furas thanks. :) But I&#39;d rather use classes."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1512605680, "post_id": 47684841, "comment_id": 82331009, "body": "@skrx yes, with classes it can be more usefull but this minimal version is so short and clean - it can be easier to understand for beginners so it is good example."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1512605716, "post_id": 47684841, "comment_id": 82331019, "body": "Yes, that&#39;s why I wrote it."}], "owner": {"reputation": 11, "user_id": 9052694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1601895246516482/picture?type=large", "display_name": "Thomas Hur", "link": "https://stackoverflow.com/users/9052694/thomas-hur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "closed_date": 1610788511, "answer_count": 0, "score": 0, "last_activity_date": 1610788550, "creation_date": 1512600713, "question_id": 47684841, "link": "https://stackoverflow.com/questions/47684841/how-can-i-rewrite-my-while-loop-so-that-when-i-blit-a-new-window-the-while-loop", "closed_reason": "Duplicate", "title": "How can I rewrite my while loop so that when I blit a new window, the while loop ends?", "body": "<p>The problem is in class GameScreen: I use a while loop to make sure that when I click \"Play Game\" that the new screen appears. If this while loop isn't there, the gamescreen blits on the screen for just a second before my main screen once again reappears.</p>\n\n<p>However, if the while loop is there, the while loop causes the imageList to keep running and the cards keep on refreshing because of the loop. </p>\n\n<p>Is there any way to exclude my imageList from the while loop so that the images don't keep refreshing?</p>\n\n<pre><code>import sys, pygame\nimport tkinter as tk\nimport deuces\nimport random\n\nclass Controller:\n    def __init__(self, location):\n    # these are the rgb values\n        white = (255, 255, 255)\n        #i reference these multiple times throughout for buttons/images/other things\n        display_width = 1200\n        display_height = 700\n\n        #initialize screen\n        pygame.init()\n        self.screen = pygame.display.set_mode((display_width, display_height))\n        pygame.display.set_caption('Israeli Poker!')\n\n        #initialize backgroundimages\n        self.image = pygame.image.load('pokerBackground.png')\n        self.screen.blit(self.image, (0, 0))\n\n        self.image3 = pygame.image.load('image3.png')\n        self.screen.blit(self.image3, (675, 150))\n\n        # Displays the welcome text\n        self.font = pygame.font.SysFont(\"Arial\", 50)\n        self.font.set_bold(True)\n        self.text = self.font.render(\"Welcome to Israeli Poker!\", 1, white)\n        self.textpos = self.text.get_rect()\n        self.textpos.centerx = self.screen.get_rect().centerx\n        self.screen.blit(self.text, self.textpos)\n\n        self.TextRect = self.font.render(\"Play Game!\", True, white)\n        self.screen.blit(self.TextRect, (200,200))\n\n        self.TextRect = self.font.render(\"Instructions\", True, white)\n        self.screen.blit(self.TextRect, (200,300))\n\n        self.TextRect = self.font.render(\"Quit Game\", True, white)\n        self.screen.blit(self.TextRect, (200,400))\n\n        # Blit everything to the screen\n        pygame.display.flip()\n\n        for event in pygame.event.get():\n            mouse = pygame.mouse.get_pos()\n            click = pygame.mouse.get_pressed()\n\n            #exits the game if user presses button to close window\n            if event.type == pygame.QUIT: sys.exit()\n            if event.type == pygame.MOUSEBUTTONDOWN:\n                if 450 &gt; mouse[0] &gt; 200 and 240 &gt; mouse[1] &gt; 200:\n                    print(\"Play Game! -\", mouse)\n                    GameScreen((300,300))\n                if 450 &gt; mouse[0] &gt; 200 and 340 &gt; mouse[1] &gt; 300:\n                    print(\"Instructions -\", mouse)\n                    root = tk.Tk()\n                    photo = tk.PhotoImage(file= 'instructions.png')\n                    root.title('Instructions')\n                    label = tk.Label(root, image = photo)\n                    label.pack()\n                    root.mainloop()\n                if 450 &gt; mouse[0] &gt; 200 and 440 &gt; mouse[1] &gt; 400:\n                    print(\"Quit Game -\", mouse)\n                    sys.exit()\n\nclass GameScreen:\n    def __init__(self, location):\n        while True:\n            white = (255, 255, 255)\n            display_width = 1200\n            display_height = 700\n            self.screen = pygame.display.set_mode((display_width, display_height))\n            pygame.display.set_caption('Israeli Poker')\n            self.image = pygame.image.load('gameBackground.png')\n            self.screen.blit(self.image, (0, 0))\n            self.font = pygame.font.SysFont(\"Arial\", 30)\n            self.font.set_bold(True)\n            self.TextRect = self.font.render(\"Back to Main Screen\", True, white)\n            self.screen.blit(self.TextRect, (10, 10))\n            self.TextRect = self.font.render(\"Your hand\", True, white)\n            self.screen.blit(self.TextRect, (515, 565))\n            self.TextRect = self.font.render(\"Their hand\", True, white)\n            self.screen.blit(self.TextRect, (510, 115))\n            pygame.display.flip()\n\n            for event in pygame.event.get():\n                #exits the game if user presses button to close window\n            mouse = pygame.mouse.get_pos()\n                if event.type == pygame.QUIT: sys.exit()\n                if event.type == pygame.MOUSEBUTTONDOWN:\n                    print(\"Quit Game -\", mouse)\n                    if 300 &gt; mouse[0] &gt; 10 and 30 &gt; mouse[1] &gt; 10:\n                        while 1:\n                            Controller((300,300))\n\n                imageList = ['2c', '2d', '2h', '2s', '3c', '3d', '3h', '3s', '4c', '4d', '4h', '4s', '5c', '5d', '5h', '5s', '6c', '6d', '6h', '6s', '7c', '7d', '7h', '7s', '8c', '8d', '8h', '8s', '9c', '9d', '9h', '9s', '10c', '10d', '10h', '10s', 'Jc', 'Jd', 'Jh', 'Js', 'Qc', 'Qd', 'Qh', 'Qs', 'Kc', 'Kd', 'Kh', 'Ks', 'Ac', 'Ad', 'Ah', 'As']\n                newVar = random.choice(imageList) + '.png'\n                newVar2 = random.choice(imageList) + '.png'\n                newVar3 = random.choice(imageList) + '.png'\n                newVar4 = random.choice(imageList) + '.png'\n                newVar5 = random.choice(imageList) + '.png'\n                newVar6 = random.choice(imageList) + '.png'\n                newVar7 = random.choice(imageList) + '.png'\n                newVar8 = random.choice(imageList) + '.png'\n                newVar9 = random.choice(imageList) + '.png'\n                newVar10 = random.choice(imageList) + '.png'\n\n                self.image = pygame.image.load(newVar)\n                self.image2 = pygame.image.load(newVar2)\n                self.image3 = pygame.image.load(newVar3)\n                self.image4 = pygame.image.load(newVar4)\n                self.image5 = pygame.image.load(newVar5)\n                self.image6 = pygame.image.load(newVar6)\n                self.image7 = pygame.image.load(newVar7)\n                self.image8 = pygame.image.load(newVar8)\n                self.image9 = pygame.image.load(newVar9)\n                self.image10 = pygame.image.load(newVar10)\n\n                self.screen.blit(self.image, (350, 25))\n                self.screen.blit(self.image2, (450, 25))\n                self.screen.blit(self.image3, (550, 25))\n                self.screen.blit(self.image4, (650, 25))\n                self.screen.blit(self.image5, (750, 25))\n\n                self.screen.blit(self.image6, (350, 600))\n                self.screen.blit(self.image7, (450, 600))\n                self.screen.blit(self.image8, (550, 600))\n                self.screen.blit(self.image9, (650, 600))\n                self.screen.blit(self.image10, (750, 600))\n\n                pygame.display.flip()\n\n\n\ndef main():\n    while 1:\n        Controller((300,300))\nmain()\n</code></pre>\n"}, {"tags": ["python", "text-to-speech", "pyaudio", "wave"], "comments": [{"owner": {"reputation": 837, "user_id": 8499046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1439328356143179/picture?type=large", "display_name": "dkato", "link": "https://stackoverflow.com/users/8499046/dkato"}, "edited": false, "score": 0, "creation_date": 1512602203, "post_id": 47684827, "comment_id": 82329774, "body": "The length of sample is read out by <code>wave</code> module. PyAudio has no way to know the wav length. See getnframes method in wave module <a href=\"https://docs.python.org/3/library/wave.htmlhttps://docs.python.org/3/library/wave.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/wave.htmlhttps://docs.python.org/3&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 101, "user_id": 9064382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RsTwOOxyadQ/AAAAAAAAAAI/AAAAAAAAACg/e5hgYLN1cI0/photo.jpg?sz=128", "display_name": "Josiah Winslow", "link": "https://stackoverflow.com/users/9064382/josiah-winslow"}, "reply_to_user": {"reputation": 837, "user_id": 8499046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1439328356143179/picture?type=large", "display_name": "dkato", "link": "https://stackoverflow.com/users/8499046/dkato"}, "edited": false, "score": 0, "creation_date": 1512606733, "post_id": 47684827, "comment_id": 82331278, "body": "Thanks dkato, but how would I apply this to my code to get each thread to be delayed only as much to play one after the other? I&#39;ve tried defining self.delay in the class, and modifying that instead of delay, but it&#39;s not working."}], "answers": [{"tags": [], "owner": {"reputation": 837, "user_id": 8499046, "user_type": "registered", "profile_image": "https://graph.facebook.com/1439328356143179/picture?type=large", "display_name": "dkato", "link": "https://stackoverflow.com/users/8499046/dkato"}, "is_accepted": false, "score": 1, "last_activity_date": 1512620616, "creation_date": 1512620616, "answer_id": 47687558, "question_id": 47684827, "link": "https://stackoverflow.com/questions/47684827/use-pyaudio-to-play-files-immediately-after-the-other/47687558#47687558", "title": "Use pyaudio to play files immediately after the other", "body": "<p>Here is a modified code that plays wav files continuously.</p>\n\n<pre><code>import re\nimport wave\nimport pyaudio\n\nclass TextToSpeech:\n\n    CHUNK = 1024\n\n    def __init__(self, words_pron_dict='cmudict-0.7b.txt'):\n        self._l = {}\n        self._load_words(words_pron_dict)\n\n    def _load_words(self, words_pron_dict: str):\n        with open(words_pron_dict, 'r') as file:\n            for line in file:\n                if not line.startswith(';;;'):\n                    key, val = line.split('  ', 2)\n                    self._l[key] = re.findall(r\"[A-Z]+\", val)\n\n    def get_pronunciation(self, str_input):\n        list_pron = []\n        for word in re.findall(r\"[\\w']+\", str_input.upper()):\n            if word in self._l:\n                list_pron += self._l[word]\n        print(list_pron)\n\n        # pyaudio set up.\n        # This open method assume all wave files have the same format.\n        p = pyaudio.PyAudio()\n        stream = p.open(format=p.get_format_from_width(2),\n                        channels=2,\n                        rate=44100,\n                        output=True,\n                        frames_per_buffer=self.CHUNK)\n\n        # play each wav file contineuously\n        for pron in list_pron:\n            with wave.open(\"sounds/\"+pron+\".wav\", 'rb') as wf:\n                data = wf.readframes(TextToSpeech.CHUNK)\n                while data:\n                    stream.write(data)\n                    data = wf.readframes(TextToSpeech.CHUNK)\n\n        stream.stop_stream()\n        stream.close()\n        p.terminate()\n\nif __name__ == '__main__':\n    tts = TextToSpeech()\n    while True:\n        tts.get_pronunciation(input('Enter a word or phrase: '))\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 9064382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RsTwOOxyadQ/AAAAAAAAAAI/AAAAAAAAACg/e5hgYLN1cI0/photo.jpg?sz=128", "display_name": "Josiah Winslow", "link": "https://stackoverflow.com/users/9064382/josiah-winslow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512620616, "creation_date": 1512600606, "question_id": 47684827, "link": "https://stackoverflow.com/questions/47684827/use-pyaudio-to-play-files-immediately-after-the-other", "title": "Use pyaudio to play files immediately after the other", "body": "<p>I'm trying to modify my first Python program. I'm trying to use <a href=\"https://github.com/alexram1313/text-to-speech-sample\" rel=\"nofollow noreferrer\">this repository</a> to do some rudimentary text-to-speech. It does fine, but I want to improve it.</p>\n\n<p>From the looks of it, there is a 0.145 second delay between samples played. Not all the samples of my voice will be 0.145 seconds, however, and I want to have each sample play one after the other with no delays or skips.</p>\n\n<pre><code>import re\nimport wave\nimport pyaudio\nimport _thread\nimport time\n\nclass TextToSpeech:\n\n    CHUNK = 1024\n\n    def __init__(self, words_pron_dict:str = 'cmudict-0.7b.txt'):\n        self._l = {}\n        self._load_words(words_pron_dict)\n\n    def _load_words(self, words_pron_dict:str):\n        with open(words_pron_dict, 'r') as file:\n            for line in file:\n                if not line.startswith(';;;'):\n                    key, val = line.split('  ',2)\n                    self._l[key] = re.findall(r\"[A-Z]+\",val)\n\n    def get_pronunciation(self, str_input):\n        list_pron = []\n        for word in re.findall(r\"[\\w']+\",str_input.upper()):\n            if word in self._l:\n                list_pron += self._l[word]\n        print(list_pron)\n        delay = 0.0\n        for pron in list_pron:\n            _thread.start_new_thread( TextToSpeech._play_audio, (pron,delay,))\n            delay += 0.145\n\n    def _play_audio(sound, delay):\n        try:\n            time.sleep(delay)\n            wf = wave.open(\"sounds/\"+sound+\".wav\", 'rb')\n            p = pyaudio.PyAudio()\n            stream = p.open(format=p.get_format_from_width(wf.getsampwidth()),\n                channels=wf.getnchannels(),\n                rate=wf.getframerate(),\n                output=True)\n\n            data = wf.readframes(TextToSpeech.CHUNK)\n\n            while data:\n                stream.write(data)\n                data = wf.readframes(TextToSpeech.CHUNK)\n\n            stream.stop_stream()\n            stream.close()\n\n            p.terminate()\n        except:\n            pass\n\n\n\n\nif __name__ == '__main__':\n    tts = TextToSpeech()\n    while True:\n        tts.get_pronunciation(input('Enter a word or phrase: '))\n</code></pre>\n\n<p>I've tried getting rid of the threading and delay, but there is some delay still between samples. I'm thinking that I should, instead of incrementing delay by 0.145, increment it by the length of the sample in seconds, but I've looked at the pyaudio documentation, and I have no idea how to do that.</p>\n\n<p>Can someone help?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1512600670, "post_id": 47684802, "comment_id": 82329178, "body": "Shouldn&#39;t you have &quot;if keywords in filename&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 929, "user_id": 1862525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2b22dd712967b6dd13dee0d689eb241e?s=128&d=identicon&r=PG", "display_name": "reddy", "link": "https://stackoverflow.com/users/1862525/reddy"}, "edited": false, "score": 0, "creation_date": 1512601936, "post_id": 47684854, "comment_id": 82329690, "body": "Yes I was thinking that maybe there would be a one line word-matching function."}], "tags": [], "owner": {"reputation": 214708, "user_id": 201359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7odj.jpg?s=128&g=1", "display_name": "&#211;scar L&#243;pez", "link": "https://stackoverflow.com/users/201359/%c3%93scar-l%c3%b3pez"}, "is_accepted": false, "score": 1, "last_activity_date": 1512600815, "creation_date": 1512600815, "answer_id": 47684854, "question_id": 47684802, "link": "https://stackoverflow.com/questions/47684802/to-check-if-filename-has-substring-of-a-word-in-a-list/47684854#47684854", "title": "To check if filename has substring of a word in a list", "body": "<p>There isn't a nice one-liner for this case, because you need to know <em>which</em> keyword matched. An explicit loop is your best bet:</p>\n\n<pre><code>for file in os.listdir(directory):\n    filename = os.fsdecode(file)\n    ext = Path(file).suffix\n    for keyword in keywords:\n      if keyword in filename: # this tests for substrings\n        filepath = os.path.join(directory, filename, ext)\n        dict[keyword] = filepath\n        break\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 929, "user_id": 1862525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2b22dd712967b6dd13dee0d689eb241e?s=128&d=identicon&r=PG", "display_name": "reddy", "link": "https://stackoverflow.com/users/1862525/reddy"}, "edited": false, "score": 0, "creation_date": 1512602065, "post_id": 47684866, "comment_id": 82329719, "body": "Thank you, this works. There&#39;s no duplicate filename in the directory so this will be good for me."}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 2, "last_activity_date": 1512600907, "creation_date": 1512600907, "answer_id": 47684866, "question_id": 47684802, "link": "https://stackoverflow.com/questions/47684802/to-check-if-filename-has-substring-of-a-word-in-a-list/47684866#47684866", "title": "To check if filename has substring of a word in a list", "body": "<p>You're making this more complicated than it needs to be:</p>\n\n<pre><code>import os\n\nkeywords = ['mon', 'tue', 'wed']\n\ndirectory = \"my_dir\"\n\nresult = {}  # dict store our results\n\nfor filename in os.listdir(directory):\n    for keyword in keywords:\n        if keyword in filename:\n            result[keyword] = os.path.join(directory, filename)\n</code></pre>\n\n<p>This doesn't handle duplicates, however. If you want to store all matching filenames just initialize <code>result</code> as <code>collections.defaultdict(list)</code> and then when setting the found keyword use: <code>result[keyword].append(os.path.join(directory, filename))</code></p>\n"}], "owner": {"reputation": 929, "user_id": 1862525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2b22dd712967b6dd13dee0d689eb241e?s=128&d=identicon&r=PG", "display_name": "reddy", "link": "https://stackoverflow.com/users/1862525/reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3833, "favorite_count": 0, "accepted_answer_id": 47684866, "answer_count": 2, "score": 0, "last_activity_date": 1512600907, "creation_date": 1512600488, "question_id": 47684802, "link": "https://stackoverflow.com/questions/47684802/to-check-if-filename-has-substring-of-a-word-in-a-list", "title": "To check if filename has substring of a word in a list", "body": "<p>I have a list of keywords and I want to go through a directory looking for filename that contain the keyword. If found, binds the matching keyword and file path to a dictionary.</p>\n\n<pre><code>keywords = ['mon', 'tue', 'wed']\ndict = {}\n\ndirectory = os.fsencode(r\"my_dir\")\n\nfor file in os.listdir(directory):\n  filename = os.fsdecode(file)\n  ext = Path(file).suffix\n\n  if filename in keywords:\n    filepath = os.path.join(directory, filename, ext)\n    dict[keyword] = filepath\n</code></pre>\n\n<p>So at the end I want something like this:</p>\n\n<pre><code>{'mon': 'F:\\mon_001.txt', 'tue': 'F:\\tue_999.txt', 'wed': 'F\\wed_123.txt'}\n</code></pre>\n\n<p>Now how do I find the match?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1512600539, "post_id": 47684778, "comment_id": 82329137, "body": "<code>x for x in result</code> is a generator. That&#39;s what&#39;s printed. Use <code>print(*result)</code>, instead."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1512600774, "post_id": 47684778, "comment_id": 82329227, "body": "That isn&#39;t an error, that is printing a generator-object, which is what you told it to do."}], "owner": {"reputation": 203, "user_id": 6330984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8bcf0cfacad43580911b7d4a17597b0?s=128&d=identicon&r=PG&f=1", "display_name": "James LeBorn", "link": "https://stackoverflow.com/users/6330984/james-leborn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1512600544, "answer_count": 0, "score": 0, "last_activity_date": 1512600405, "creation_date": 1512600405, "question_id": 47684778, "link": "https://stackoverflow.com/questions/47684778/generator-object-genexpr-at-0x03416540", "closed_reason": "Duplicate", "title": "&lt;generator object &lt;genexpr&gt; at 0x03416540&gt;", "body": "<p>I'm getting the error \" at 0x03416540>\" while running the following code.\nHow do I print the list ?\n<code>\n    def add(x,y):\n        return x+y\n    def even(x):\n        return x%2==0\n    a=[1,2,3,4]\n    b=[17,11,11,10]\n    result = filter(even, map(add,a,b))\n    print(x for x in result)\n</code></p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 389, "user_id": 2168738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4N1Gm.jpg?s=128&g=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/2168738/hayden"}, "edited": false, "score": 0, "creation_date": 1512617486, "post_id": 47684775, "comment_id": 82333810, "body": "I suggest you to use django channels from official developer to implement background task"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 9066080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9526af7594af3ae45248406401462d06?s=128&d=identicon&r=PG&f=1", "display_name": "SUNHEE MOON", "link": "https://stackoverflow.com/users/9066080/sunhee-moon"}, "is_accepted": true, "score": 1, "last_activity_date": 1512633265, "creation_date": 1512633265, "answer_id": 47690148, "question_id": 47684775, "link": "https://stackoverflow.com/questions/47684775/update-django-model-from-background-task/47690148#47690148", "title": "Update django model from background task", "body": "<p>your project <strong>settings.py</strong></p>\n\n<pre><code>INSTALLED_APPS = [\n....\n]\n\n...\n# Add to Option\nBACKGROUND_TASK_RUN_ASYNC=True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9812972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RCGcOD6VNHk/AAAAAAAAAAI/AAAAAAAAAAc/zKHHM5TVxno/photo.jpg?sz=128", "display_name": "Yuzhe Chen", "link": "https://stackoverflow.com/users/9812972/yuzhe-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1528306294, "creation_date": 1528306294, "answer_id": 50726290, "question_id": 47684775, "link": "https://stackoverflow.com/questions/47684775/update-django-model-from-background-task/50726290#50726290", "title": "Update django model from background task", "body": "<p><code>django-background-tasks</code> seems to execute background tasks in atomic transactions (see <a href=\"https://github.com/arteria/django-background-tasks/issues/113\" rel=\"nofollow noreferrer\">issue here</a>), which means changes are only committed to the database after the tasks have completed. </p>\n\n<p>They recently <a href=\"https://github.com/arteria/django-background-tasks/commit/bd569f45c57413d6d45cff28065fb88c5392212b\" rel=\"nofollow noreferrer\">removed the <code>@atomic</code> decorators</a>, but didn't change the version number (it is currently still at 1.1.13).</p>\n"}], "owner": {"reputation": 2101, "user_id": 1822214, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/df9926cfcd9bbd9dddc9d425063f0052?s=128&d=identicon&r=PG&f=1", "display_name": "Forest Kunecke", "link": "https://stackoverflow.com/users/1822214/forest-kunecke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1158, "favorite_count": 0, "accepted_answer_id": 47690148, "answer_count": 2, "score": 0, "last_activity_date": 1528306294, "creation_date": 1512600398, "last_edit_date": 1512603213, "question_id": 47684775, "link": "https://stackoverflow.com/questions/47684775/update-django-model-from-background-task", "title": "Update django model from background task", "body": "<p>I am trying to update a django model from a task using <code>django-background-tasks</code>. Here's what I've got:</p>\n\n<pre><code>@background(schedule=0)\ndef difficult_work():\n    for i in range(0,100):\n        time.sleep(1)\n        with transaction.atomic():\n            workProgress = WorkProgress.objects.filter(id=\"fixed_work_id_for_testing\").select_for_update().get()\n\n            print(\"updating work progress to \" + str(i))\n            workProgress.progress = i\n            workProgress.currentJobInfo = \"test work\"\n\n            # if we've finished then make sure to set the status\n            if i == 100:\n                workProgress.status = \"success\"\n\n            transfer.save(force_update=True)\n</code></pre>\n\n<p>Additionally, I have an API view to get the progress of a work task.</p>\n\n<pre><code>class WorkDetail(APIView):\ndef get(self, request, workId, format=None):\n    with transaction.atomic():\n        work = WorkProgress.objects.filter(id=workId).select_for_update().get()\n        data = WorkProgressSerializer(transfer).data\n\n        return Response(data)\n</code></pre>\n\n<p>The problem is, I'm not seeing any updates to the database while executing a task. I've got <code>python manage.py dbshell</code> running, monitoring the database tables and they aren't updating as the task progresses. I'm making sure to run <code>python manage.py process_tasks</code>, and it's outputting the correct <code>print</code> statements, indicating progress, but the database doesn't update until the task exits.</p>\n\n<p>I found someone who ran into a similar problem <a href=\"https://groups.google.com/forum/#!topic/celery-users/2QXcsT-c0zE\" rel=\"nofollow noreferrer\">here</a>, but they were only experiencing it in tests where they did not <code>get()</code> an updated model. However I'm not even seeing the database update in <code>dbshell</code>.</p>\n\n<p>How do I make sure the table is updated while the task is running?</p>\n\n<p>Note: according to <a href=\"http://oddbird.net/2017/04/17/async-notifications/\" rel=\"nofollow noreferrer\">this</a> site, they had some sort of success using <code>celery</code>. Can anyone confirm this? I will try it out and comment on viability.</p>\n"}, {"tags": ["python", "dictionary", "for-loop"], "comments": [{"owner": {"reputation": 1606, "user_id": 5079666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Awfk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5079666/jon"}, "edited": false, "score": 0, "creation_date": 1512602422, "post_id": 47684739, "comment_id": 82329859, "body": "Why have the nested dictionary in the first place?"}, {"owner": {"reputation": 11, "user_id": 5970881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOImH.jpg?s=128&g=1", "display_name": "J Rowoldt", "link": "https://stackoverflow.com/users/5970881/j-rowoldt"}, "reply_to_user": {"reputation": 1606, "user_id": 5079666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Awfk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5079666/jon"}, "edited": false, "score": 0, "creation_date": 1512676530, "post_id": 47684739, "comment_id": 82365640, "body": "Just the way I&#39;ve parsed it for now.   Would be open to any suggestions."}, {"owner": {"reputation": 1606, "user_id": 5079666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Awfk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5079666/jon"}, "edited": false, "score": 0, "creation_date": 1512684759, "post_id": 47684739, "comment_id": 82369502, "body": "If this is your &quot;first shot&quot; at parsing your data, this is probably way over complicated. You should think about your end goal and the shortest path to that goal.  Apply <a href=\"https://simple.wikipedia.org/wiki/Occam%27s_razor\" rel=\"nofollow noreferrer\">Occam&#39;s Razor</a> to your work and life will be easier."}, {"owner": {"reputation": 11, "user_id": 5970881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOImH.jpg?s=128&g=1", "display_name": "J Rowoldt", "link": "https://stackoverflow.com/users/5970881/j-rowoldt"}, "reply_to_user": {"reputation": 1606, "user_id": 5079666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Awfk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5079666/jon"}, "edited": false, "score": 0, "creation_date": 1513277753, "post_id": 47684739, "comment_id": 82602852, "body": "Thanks Jon.   I&#39;m new at python and though it&#39;s an elegant language, I&#39;m from a SQL background when it comes to parsing data so struggling a bit with dict structure.    My impression is that in making a dict you are making a data structure you can iterate over with for loops and the like.  Still learning, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4977920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045dd7f26a1dcfe8030fcfecc9ba1561?s=128&d=identicon&r=PG&f=1", "display_name": "Jarvis Cochrane", "link": "https://stackoverflow.com/users/4977920/jarvis-cochrane"}, "edited": false, "score": 0, "creation_date": 1512603133, "post_id": 47685074, "comment_id": 82330136, "body": "Alternatively (following on from @jon&#39;s comment above), you could create a new instance of an &#39;Android&#39; class from each row of the database and maintain a list of those instances.  Finding a matching android would then be a simple matter of iterating over the list."}, {"owner": {"reputation": 11, "user_id": 5970881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOImH.jpg?s=128&g=1", "display_name": "J Rowoldt", "link": "https://stackoverflow.com/users/5970881/j-rowoldt"}, "edited": false, "score": 0, "creation_date": 1512605606, "post_id": 47685074, "comment_id": 82330985, "body": "Man that&#39;s not a bad idea.   A list of classes.  Very pythonic!  I&#39;ll try this, sounds interesting."}], "tags": [], "owner": {"reputation": 101, "user_id": 4977920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045dd7f26a1dcfe8030fcfecc9ba1561?s=128&d=identicon&r=PG&f=1", "display_name": "Jarvis Cochrane", "link": "https://stackoverflow.com/users/4977920/jarvis-cochrane"}, "is_accepted": false, "score": 0, "last_activity_date": 1512602560, "last_edit_date": 1512602560, "creation_date": 1512602042, "answer_id": 47685074, "question_id": 47684739, "link": "https://stackoverflow.com/questions/47684739/iterating-over-a-dict-made-from-a-csv/47685074#47685074", "title": "Iterating over a dict made from a .CSV", "body": "<p>How 'bout this?</p>\n\n<pre><code>def select(schema, name, es, value):                                               \n    emotionGrp = schema[name][es]                                                  \n    return [x for x in emotionGrp if x['VALUE']==value];                           \n\nprint(select(data, 'android_female', 'PAIN', '75'))\n</code></pre>\n\n<p>Where <code>data</code> is the data structure you've supplied in your question.</p>\n\n<p>Running this code with your sample data returns:</p>\n\n<pre><code>[{'NOTES': 'Severe pain, eyes closed', 'VALUE': '75', 'NAME': 'android_female', 'ES': 'PAIN', 'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_pain_75.obj'}]\n</code></pre>\n\n<p>Could be further simplified to just:</p>\n\n<pre><code>selectedAndroids = [x for x in schema[name][es] if x['VALUE']==value];\n</code></pre>\n\n<p>What's conspicuously missing is any kind of checking for keys which don't exist in the data model. Hm...</p>\n\n<pre><code>selectedAndroids = [x for x in schema.get(name, {}).get(es, {}) if x.get('VALUE', None)==value]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5970881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOImH.jpg?s=128&g=1", "display_name": "J Rowoldt", "link": "https://stackoverflow.com/users/5970881/j-rowoldt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1512602560, "creation_date": 1512600233, "question_id": 47684739, "link": "https://stackoverflow.com/questions/47684739/iterating-over-a-dict-made-from-a-csv", "title": "Iterating over a dict made from a .CSV", "body": "<p>I have a .CSV file that looks like this:</p>\n\n<pre><code>NAME            ES  VALUE FILE_LOC                                     NOTES\nandroid_female  HAPPY   25  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_happy_25.obj   Slightly happy\nandroid_female  HAPPY   50  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_happy_50.obj   happy\nandroid_female  HAPPY   75  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_happy_75.obj   Joyful or glee, eyes squinty\nandroid_female  SAD 25  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_sad_25.obj Morose\nandroid_female  SAD 75  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_sad_75.obj Very Sad\nandroid_female  CONFUSED    50  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_confused_50.obj    Bewildered\nandroid_female  SCARED  50  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_scared_50.obj  Frightened\nandroid_female  TIRED   25  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_tired_25.obj   Slightly run down\nandroid_female  TIRED   75  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_tired_75.obj   Very tired\nandroid_female  SURPRISED   50  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_surprised_50.obj   Semi shocked\nandroid_female  EMBARRASSED 50  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_embarrassed_50.obj Reddened cheeks\nandroid_female  KISS    50  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_kiss_50.obj    Kissy face, eyes closed\nandroid_female  MISCHIEVOUS 50  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_mischievous_50.obj Smirking and shifty eyes\n android_female PAIN    25  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_pain_25.obj    Slight pain, grimace\nandroid_female  PAIN    75  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_pain_75.obj    Severe pain, eyes closed\nandroid_female  ANGRY   25  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_angry_25.obj   Upset, brow furrowed\nandroid_female  ANGRY   75  C:\\Users\\jason\\Documents\\3Dobjects\\poses\\androidfemale\\androidfemale_angry_75.obj   Very angry, brows down\n</code></pre>\n\n<p>Fairly simple.  To get it from .CSV into a dict, I have the following code:</p>\n\n<pre><code>layouts_schema_file_name ='C:\\\\Users\\\\jason\\\\Documents\\\\RAY\\\\char_es_schemas\\\\ANIBOT_CHAR_ES_SCHEMA.csv'\nfull_path_to_file = layouts_schema_file_name \nprint('============ Importing LAYOUTS schema from: ', full_path_to_file , ' ==============')\nopenfile = open(full_path_to_file)\nreader = csv.DictReader(openfile)\n\nprint('Printing Character Emotional States reader file:')\nprint(reader)\n\nchar_es_schema = {}\n\nfor group1, records1 in itertools.groupby(reader, key=operator.itemgetter(\"NAME\")):\n    char_es_schema[group1] = {}\n    for group2, records2 in itertools.groupby(records1, key=operator.itemgetter(\"ES\")):\n        char_es_schema[group1][group2] = list(records2)\n        #for group3, records3 in itertools.groupby(records2, key=operator.itemgetter(\"VALUE\")):  \n        #   char_es_schema[group2][group3] = list(records3)\n</code></pre>\n\n<p>This results in the following (probably too complicated) dict, which is intended to store the keys and values in a structured way:</p>\n\n<pre><code>{'android_female': {'ANGRY': [{'ES': 'ANGRY',\n                           'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_angry_25.obj',\n                           'NAME': 'android_female',\n                           'NOTES': 'Upset, brow furrowed',\n                           'VALUE': '25'},\n                          {'ES': 'ANGRY',\n                           'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_angry_75.obj',\n                           'NAME': 'android_female',\n                           'NOTES': 'Very angry, brows down',\n                           'VALUE': '75'}],\n                'CONFUSED': [{'ES': 'CONFUSED',\n                              'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_confused_50.obj',\n                              'NAME': 'android_female',\n                              'NOTES': 'Bewildered',\n                              'VALUE': '50'}],\n                'EMBARRASSED': [{'ES': 'EMBARRASSED',\n                                 'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_embarrassed_50.obj',\n                                 'NAME': 'android_female',\n                                 'NOTES': 'Reddened cheeks',\n                                 'VALUE': '50'}],\n                'HAPPY': [{'ES': 'HAPPY',\n                           'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_happy_25.obj',\n                           'NAME': 'android_female',\n                           'NOTES': 'Slightly happy',\n                           'VALUE': '25'},\n                          {'ES': 'HAPPY',\n                           'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_happy_50.obj',\n                           'NAME': 'android_female',\n                           'NOTES': 'happy',\n                           'VALUE': '50'},\n                          {'ES': 'HAPPY',\n                           'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_happy_75.obj',\n                           'NAME': 'android_female',\n                           'NOTES': 'Joyful or glee, eyes squinty',\n                           'VALUE': '75'}],\n                'KISS': [{'ES': 'KISS',\n                          'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_kiss_50.obj',\n                          'NAME': 'android_female',\n                          'NOTES': 'Kissy face, eyes closed',\n                          'VALUE': '50'}],\n                'MISCHIEVOUS': [{'ES': 'MISCHIEVOUS',\n                                 'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_mischievous_50.obj',\n                                 'NAME': 'android_female',\n                                 'NOTES': 'Smirking and shifty eyes',\n                                 'VALUE': '50'}],\n                'PAIN': [{'ES': 'PAIN',\n                          'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_pain_25.obj',\n                          'NAME': 'android_female',\n                          'NOTES': 'Slight pain, grimace',\n                          'VALUE': '25'},\n                         {'ES': 'PAIN',\n                          'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_pain_75.obj',\n                          'NAME': 'android_female',\n                          'NOTES': 'Severe pain, eyes closed',\n                          'VALUE': '75'}],\n                'SAD': [{'ES': 'SAD',\n                         'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_sad_25.obj',\n                         'NAME': 'android_female',\n                         'NOTES': 'Morose',\n                         'VALUE': '25'},\n                        {'ES': 'SAD',\n                         'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_sad_75.obj',\n                         'NAME': 'android_female',\n                         'NOTES': 'Very Sad',\n                         'VALUE': '75'}],\n                'SCARED': [{'ES': 'SCARED',\n                            'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_scared_50.obj',\n                            'NAME': 'android_female',\n                            'NOTES': 'Frightened',\n                            'VALUE': '50'}],\n                'SURPRISED': [{'ES': 'SURPRISED',\n                               'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_surprised_50.obj',\n                               'NAME': 'android_female',\n                               'NOTES': 'Semi shocked',\n                               'VALUE': '50'}],\n                'TIRED': [{'ES': 'TIRED',\n                           'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_tired_25.obj',\n                           'NAME': 'android_female',\n                           'NOTES': 'Slightly run down',\n                           'VALUE': '25'},\n                          {'ES': 'TIRED',\n                           'FILE_LOC': 'C:\\\\Users\\\\jason\\\\Documents\\\\3Dobjects\\\\poses\\\\androidfemale\\\\androidfemale_tired_75.obj',\n                           'NAME': 'android_female',\n                           'NOTES': 'Very tired',\n                           'VALUE': '75'}]}}\n</code></pre>\n\n<p>I'm trying to iterate over this nested dict in order to match up the NAME and ES levels and the VALUE in the last level (it's actually a list with a dict in it).  The intention is to simple pull the file_loc for use later, using NAME, ES and VALUE to pull it.  It's supposed to be a 3 key concatenated field.</p>\n\n<p>Having a hard time doing this multiple ways.  I suspect my dict is overly complicated, would appreciate any thoughts.</p>\n\n<p>Here is my code to iterate which doesn't work now:</p>\n\n<pre><code>for actors in char_es_schema.keys():\n        if found_it == True:\n            print('Found character emotional state...')\n            continue\n        for emotions in actors:\n            for poses in emotions:\n                print('Current ES state and value we are searching is: ',char_es_schema[actor_name][curr_es][0]['ES'] ,char_es_schema[actor_name][curr_es][0]['VALUE'])\n                if char_es_schema[actor_name][curr_es][0]['VALUE'] == curr_es_level:\n                    file_loc = char_es_schema[actor_name][curr_es][0]['FILE_LOC']#!!!!!! what code goes here JMR 12/4\n                    print('Found file location for emotional state:', curr_es, curr_es_level, ' - : ', file_loc)\n                    found_it = True\n            if found_it == True:\n               -do some stuff-\n</code></pre>\n\n<p>Any ideas?  I think I made my dict too complicate and hard to iterate over, but would appreciate any ideas.</p>\n"}, {"tags": ["python", "email", "smtp", "gmail-api"], "comments": [{"owner": {"reputation": 1574, "user_id": 6304906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/783a08c5d7a3ca42d6fb007774a49f45?s=128&d=identicon&r=PG&f=1", "display_name": "Barney", "link": "https://stackoverflow.com/users/6304906/barney"}, "edited": false, "score": 0, "creation_date": 1512601063, "post_id": 47684732, "comment_id": 82329352, "body": "the image you posted, is it from your sent items?"}, {"owner": {"reputation": 1, "user_id": 7826379, "user_type": "registered", "profile_image": "https://graph.facebook.com/631458360390728/picture?type=large", "display_name": "Alister Shoa", "link": "https://stackoverflow.com/users/7826379/alister-shoa"}, "reply_to_user": {"reputation": 1574, "user_id": 6304906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/783a08c5d7a3ca42d6fb007774a49f45?s=128&d=identicon&r=PG&f=1", "display_name": "Barney", "link": "https://stackoverflow.com/users/6304906/barney"}, "edited": false, "score": 0, "creation_date": 1512606852, "post_id": 47684732, "comment_id": 82331311, "body": "no, it is from my inbox!"}, {"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1512633769, "post_id": 47684732, "comment_id": 82339458, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/31797134/send-email-to-multiple-recipients-with-bcc-hidden-address-django-1-6\" title=\"send email to multiple recipients with bcc hidden address django 1 6\">stackoverflow.com/questions/31797134/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8292069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ad7807056234df31f5ae73a19936c3?s=128&d=identicon&r=PG&f=1", "display_name": "Nou Mab", "link": "https://stackoverflow.com/users/8292069/nou-mab"}, "is_accepted": false, "score": 1, "last_activity_date": 1515951178, "creation_date": 1515951178, "answer_id": 48252276, "question_id": 47684732, "link": "https://stackoverflow.com/questions/47684732/hide-recipient-list-in-email-bcc-python-smtp/48252276#48252276", "title": "Hide Recipient List in Email (BCC) Python - smtp", "body": "<p>Check this out <a href=\"https://gist.github.com/mrts/039a9764bf4d23cda1bdac564cd0dfc4#comments\" rel=\"nofollow noreferrer\">mrts/send-email-hide-recipients.py</a>:  </p>\n\n<pre><code>from django.core.mail import send_mass_mail\n\nsubject = 'test subject'\nmessage = 'test message'\nfrom_email = 'from@from.com'\nrecipient_list = ['a@a.com', 'b@b.com', 'c@c.com']\n\nmessages = [(subject, message, from_email, [recipient]) for recipient in recipient_list]\n\nsend_mass_mail(messages)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7826379, "user_type": "registered", "profile_image": "https://graph.facebook.com/631458360390728/picture?type=large", "display_name": "Alister Shoa", "link": "https://stackoverflow.com/users/7826379/alister-shoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515951178, "creation_date": 1512600215, "question_id": 47684732, "link": "https://stackoverflow.com/questions/47684732/hide-recipient-list-in-email-bcc-python-smtp", "title": "Hide Recipient List in Email (BCC) Python - smtp", "body": "<p>First I tried using a ['BCC'] header with a list of recipients, but that resulted in the BCC field visible with all recipients also visible. </p>\n\n<p>I read on SO that if I leave out the BCC header and put the recipients directly into the sendmail function that it will send without showing to recipients.  Nope.  Still didn't work.  The recipients were all visible, but still shows the tag \"BCC\"<a href=\"https://i.stack.imgur.com/rwwYN.png\" rel=\"nofollow noreferrer\">image of how it shows up in gmail</a></p>\n\n<p>suggestions? I want a the recipient list to be hidden from other recipients.</p>\n\n<pre><code># Send TV Email\n\nmsg2 = MIMEMultipart()\nmsg2['From'] = fromaddr\nmsg2['To'] = toaddr \nmsg2['Subject'] = \"Welcome Message from Puls\"\nmsg2['Reply-to'] = \"alister@puls.com\"\nmsg2.add_header('reply-to', fromaddr)\nbody2 = \"\"\"Hello New Puls Technician!\"\"\"\n\nmsg2.attach(MIMEText(body2, 'plain'))\nserver = smtplib.SMTP('smtp.gmail.com', 587)\nserver.starttls()\nserver.login('email', \"password\")\ntext = msg2.as_string()\nserver.sendmail(fromaddr, newTvTechsEmailList, text)\nserver.quit()\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-forms", "django-views"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8887271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/368574cb1b7358523e75b5a03bc80fe6?s=128&d=identicon&r=PG&f=1", "display_name": "CelineDijon", "link": "https://stackoverflow.com/users/8887271/celinedijon"}, "edited": false, "score": 0, "creation_date": 1512609498, "post_id": 47685059, "comment_id": 82331857, "body": "This is exactly what I needed! I also added &quot;scheduler&quot; as a parameter and worked perfectly. Thanks so much Guillermo, you rock!"}, {"owner": {"reputation": 414, "user_id": 8570299, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/41c9a634d1ba493aa006f56fa37c51c5?s=128&d=identicon&r=PG&f=1", "display_name": "student101", "link": "https://stackoverflow.com/users/8570299/student101"}, "edited": false, "score": 0, "creation_date": 1512616279, "post_id": 47685059, "comment_id": 82333557, "body": "I need this as well, where do you add unique_together?  The documentation isn&#39;t to helpful with that."}, {"owner": {"reputation": 5, "user_id": 8887271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/368574cb1b7358523e75b5a03bc80fe6?s=128&d=identicon&r=PG&f=1", "display_name": "CelineDijon", "link": "https://stackoverflow.com/users/8887271/celinedijon"}, "reply_to_user": {"reputation": 414, "user_id": 8570299, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/41c9a634d1ba493aa006f56fa37c51c5?s=128&d=identicon&r=PG&f=1", "display_name": "student101", "link": "https://stackoverflow.com/users/8570299/student101"}, "edited": false, "score": 0, "creation_date": 1512647414, "post_id": 47685059, "comment_id": 82348143, "body": "@student101 add it into your models.py below the model class that houses the fields you want to include in unique_together."}, {"owner": {"reputation": 414, "user_id": 8570299, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/41c9a634d1ba493aa006f56fa37c51c5?s=128&d=identicon&r=PG&f=1", "display_name": "student101", "link": "https://stackoverflow.com/users/8570299/student101"}, "edited": false, "score": 0, "creation_date": 1512658576, "post_id": 47685059, "comment_id": 82355341, "body": "As a new field??"}], "tags": [], "owner": {"reputation": 1536, "user_id": 6005145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-8d0SktavI-o/AAAAAAAAAAI/AAAAAAAAAxU/Zrxn56xszBE/photo.jpg?sz=128", "display_name": "schrodigerscatcuriosity", "link": "https://stackoverflow.com/users/6005145/schrodigerscatcuriosity"}, "is_accepted": true, "score": 1, "last_activity_date": 1512679432, "last_edit_date": 1512679432, "creation_date": 1512601954, "answer_id": 47685059, "question_id": 47684719, "link": "https://stackoverflow.com/questions/47684719/trying-to-prevent-multiple-form-entries-with-identical-field-data-only-allow-fi/47685059#47685059", "title": "Trying to prevent multiple form entries with identical field data (only allow first user to take timeslot)", "body": "<p>Maybe <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/options/#unique-together\" rel=\"nofollow noreferrer\">unique_together</a> is what you're looking for:</p>\n\n<pre><code>class Agenda(models.Model):\n    # field definiton\n\n    class Meta:\n        unique_together = (\"startTime\", \"endTime\", \"daySlot\")\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8887271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/368574cb1b7358523e75b5a03bc80fe6?s=128&d=identicon&r=PG&f=1", "display_name": "CelineDijon", "link": "https://stackoverflow.com/users/8887271/celinedijon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 47685059, "answer_count": 1, "score": 0, "last_activity_date": 1512679432, "creation_date": 1512600179, "last_edit_date": 1512613441, "question_id": 47684719, "link": "https://stackoverflow.com/questions/47684719/trying-to-prevent-multiple-form-entries-with-identical-field-data-only-allow-fi", "title": "Trying to prevent multiple form entries with identical field data (only allow first user to take timeslot)", "body": "<p>I am trying to have users enter data in a django form and only allow ONE entry into the database per each time slot and day slot.</p>\n\n<p>Example: User fills out form to \"sign up\" to speak during 8:00am - 9:00am on Day 1 for schedule id 2.</p>\n\n<p>If a database entry already exists with the same TIMESLOT and DAYSLOT, I want to raise an error and prevent entry.</p>\n\n<p>Here is what I have so far, but the filter is spanning across the entire table rather than just filtering per schedule ID...</p>\n\n<pre><code>models.py\n\nfrom django.db import models\nimport datetime\n\nclass Schedule(models.Model):\n    title = models.CharField(max_length=250)\n\n    def publish(self):\n        self.published_date = timezone.now()\n        self.save()\n\n    def __str__(self):\n        return self.title\n\nclass Agenda(models.Model):\n\n    dayChoice = (\n     ('d1', \"Day 1\"),\n     ('d2', \"Day 2\"),\n     ('d3', \"Day 3\"),\n     ('d4', \"Day 4\")\n    )\n\n    fullName = models.CharField(max_length=250)\n    startTime = models.TimeField(auto_now=False, blank=True, null=True)\n    endTime = models.TimeField(auto_now=False, blank=True, null=True)\n    approved = models.BooleanField(blank=True)\n    daySlot = models.CharField(max_length=2, choices=dayChoice)\n    sub_date = models.DateTimeField(auto_now=True)\n    scheduler = models.ForeignKey(Schedule, on_delete=models.CASCADE)\n\n    def publish(self):\n        self.published_date = timezone.now()\n        self.save()\n\n    def __str__(self):\n        return self.fullName\n</code></pre>\n\n<hr>\n\n<pre><code>   views.py\n   from django.shortcuts import render, redirect\n\n    from django.utils import timezone\n    from django.shortcuts import render, get_object_or_404\n    from .models import Schedule, Agenda\n    from .forms import AgendaForm\n    # Create your views here.\n\n    def schedule_list(request):\n        schedules = Schedule.objects.all()\n        return render(request, 'adjenda/schedule_list.html', {'schedules': schedules})\n\n    def agenda_detail(request, pk):\n        schedules = get_object_or_404(Schedule, pk=pk)\n        agenda = Agenda.objects.filter(scheduler_id=pk).order_by('startTime')\n        form = AgendaForm(request.POST)\n        if request.method == \"POST\":\n            form = AgendaForm(request.POST)\n            if form.is_valid():\n                post = form.save(commit=False)\n                post.author = request.user\n                post.published_date = timezone.now()\n                post.save()\n                return redirect(\"/schedule/\" + pk)\n        else:\n            form = AgendaForm()\n\n        return render(request, 'adjenda/schedule_detail.html', {'agenda': agenda, 'schedules': schedules, 'form': form})\n\n\nforms.py\n\nfrom django import forms\nfrom .models import Agenda, Schedule\n\nclass AgendaForm(forms.ModelForm):\n\n    class Meta:\n        model = Agenda\n        fields = '__all__'\n\n\n\n    def clean_startTime(self):\n        startTime = self.cleaned_data['startTime']\n        if Agenda.objects.filter(startTime=startTime).exists():\n            raise forms.ValidationError(\"Time/Day already taken\")\n        return startTime\n</code></pre>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["python", "image", "rotation", "pygame", "sprite"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9058343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Qhsh9P3jJ2U/AAAAAAAAAAI/AAAAAAAAADs/otqJjvvQrmA/photo.jpg?sz=128", "display_name": "Ectrizz ", "link": "https://stackoverflow.com/users/9058343/ectrizz"}, "edited": false, "score": 0, "creation_date": 1512657552, "post_id": 47685130, "comment_id": 82354625, "body": "Works, Great thanks. I added my image to the self.image"}], "tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": true, "score": 0, "last_activity_date": 1512602354, "creation_date": 1512602354, "answer_id": 47685130, "question_id": 47684661, "link": "https://stackoverflow.com/questions/47684661/rotating-spite-not-showing/47685130#47685130", "title": "Rotating spite not showing", "body": "<p>You can increment the angle if a key gets pressed, then transform the original image, assign it to the <code>self.image</code> attribute and get a new rect with the center of the old rect.</p>\n\n<pre><code>import pygame\n\n\nclass Config(object):\n    fullscreen = False\n    width = 640\n    height = 360\n    fps = 60\n\nclass Player(pygame.sprite.Sprite):\n    maxrotate = 360\n    down = (pygame.K_DOWN)\n    up = (pygame.K_UP)\n\n    def __init__(self, startpos=(100,223), angle=0):\n        super().__init__()\n        self.pos = list(startpos)\n        self.image = pygame.Surface((70, 70), pygame.SRCALPHA)\n        pygame.draw.circle(self.image, pygame.Color('dodgerblue'), (35, 35), 35)\n        pygame.draw.circle(self.image, pygame.Color('black'), (35, 15), 8)\n        self.orig_image = self.image\n        self.rect = self.image.get_rect(center=startpos)\n        self.angle = angle\n\n    def update(self, seconds):\n        pressedkeys = pygame.key.get_pressed()\n        if pressedkeys[self.down]:\n            self.angle -= 2\n            self.rotate_image()\n        if pressedkeys[self.up]:\n            self.angle += 2\n            self.rotate_image()\n\n    def rotate_image(self):\n        self.image = pygame.transform.rotate(self.orig_image, self.angle)\n        self.rect = self.image.get_rect(center=self.rect.center)\n\n\ndef main():\n    pygame.init()\n    screen=pygame.display.set_mode((Config.width,Config.height))\n    clock = pygame.time.Clock()\n    FPS = Config.fps\n    allgroup = pygame.sprite.LayeredUpdates()\n    player = Player()\n    allgroup.add(player)\n\n    mainloop = True\n    while mainloop:\n        millisecond = clock.tick(Config.fps)\n\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                mainloop = False\n            elif event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_ESCAPE:\n                    mailoop = False\n\n        allgroup.update(millisecond)\n\n        screen.fill((50, 50, 70))\n        allgroup.draw(screen)\n        pygame.display.flip()\n\n\nif __name__ == '__main__':\n    main()\n    pygame.quit()\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9058343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Qhsh9P3jJ2U/AAAAAAAAAAI/AAAAAAAAADs/otqJjvvQrmA/photo.jpg?sz=128", "display_name": "Ectrizz ", "link": "https://stackoverflow.com/users/9058343/ectrizz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 47685130, "answer_count": 1, "score": 0, "last_activity_date": 1512602354, "creation_date": 1512599921, "last_edit_date": 1512601655, "question_id": 47684661, "link": "https://stackoverflow.com/questions/47684661/rotating-spite-not-showing", "title": "Rotating spite not showing", "body": "<p>I tried to let the \"Player\" rotate. It's a picture of the head that needs to be rotateable. But the error is that the head is not displaying (Player is not displaying). The image (bigshaghoofdz.png) needs to be rotateable.\nIt is rotatable by pressing the K_UP en the K_DOWN. Can turn a full 360 degrees. In the end it needs to shoot lasers from its eyes. </p>\n\n<pre><code>import pygame\nimport random\nimport math\nGRAD = math.pi / 180\n\nclass Config(object):\n    fullscreen = False\n    width = 640\n    height = 360\n    fps = 60\n\nclass Player(pygame.sprite.Sprite):\n    maxrotate = 360 \n    down = (pygame.K_DOWN)\n    up = (pygame.K_UP)\n    number = 1\n\n    def __init__(self, startpos = (-1,223), angle=0):\n        self.number = Player.number\n        Player.number += 1\n        Player.book[self.number] = self\n        pygame.sprite.Sprite.__init__(self, self.groups)\n        self.pos = [startpos[-1], startpos[223]]\n        self.down = Player.down[self.number]\n        self.up = Player.up[self.number]\n\n        image = pygame.image.load('BigShagHoofdz.png')\n\n    def update(self, seconds):\n\n        pressedkeys = pygame.key.get_pressed()          \n\n        self.turndirection = 0 \n        if pressedkeys[self.down]:\n            self.turndirection -= 1\n        if pressedkeys[self.up]:\n            self.turndirection += 1\n\n#end classes\n#defs\n\ndef radians_to_degrees(radians):\n    return (radians / math.pi) * 180.0\n\ndef degrees_to_radians(degrees):\n    return degrees * (math.pi / 180.0)\n\ndef main():\n    #game \n    pygame.init()\n    screen=pygame.display.set_mode((Config.width,Config.height))\n    background = pygame.image.load('background.jpg')\n\n    background = background.convert()\n    screen.blit(background, (0,0))\n    clock = pygame.time.Clock()\n    FPS = Config.fps\n    playtime = 0\n\n    Playergroup = pygame.sprite.Group()\n    allgroup = pygame.sprite.LayeredUpdates()\n\n    Player.groups = Playergroup, allgroup\n\n    mainloop = True\n    while mainloop:\n        millisecond = clock.tick(Config.fps)\n\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                mainloop = False\n            elif event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_ESCAPE:\n                    mailoop = False \n\n        pygame.display.set_caption(\"say hi\")\n        allgroup.clear(screen, background)\n        allgroup.draw(screen)\n        pygame.display.flip()\n    return 0\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "image-processing", "scikit-learn"], "comments": [{"owner": {"reputation": 4804, "user_id": 3921875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cc1800eb35f1c8ad7a897b44036648?s=128&d=identicon&r=PG&f=1", "display_name": "piman314", "link": "https://stackoverflow.com/users/3921875/piman314"}, "edited": false, "score": 0, "creation_date": 1512647476, "post_id": 47684660, "comment_id": 82348190, "body": "The reason for this is because <code>MinMaxScaler</code> is applying a transformation on each column of your data. You want an imagewise scale."}], "answers": [{"comments": [{"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "edited": false, "score": 0, "creation_date": 1512695319, "post_id": 47694656, "comment_id": 82372650, "body": "Works great -- thank you! This solution is pretty simple. I had decided the lesson to learn from the failure of MinMaxScaler was that such a linear scaling wouldn&#39;t be good enough, since the contrast was low."}], "tags": [], "owner": {"reputation": 4804, "user_id": 3921875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cc1800eb35f1c8ad7a897b44036648?s=128&d=identicon&r=PG&f=1", "display_name": "piman314", "link": "https://stackoverflow.com/users/3921875/piman314"}, "is_accepted": true, "score": 1, "last_activity_date": 1512647977, "creation_date": 1512647977, "answer_id": 47694656, "question_id": 47684660, "link": "https://stackoverflow.com/questions/47684660/rescaling-time-difference-between-video-frames/47694656#47694656", "title": "rescaling time difference between video frames", "body": "<p>As mentioned in my comment the reason that it's not working is because <code>MinMaxScaler</code> is for feature scaling, but you want to scale you entire image. Assuming your image are <code>numpy</code> arrays, your easiest way would be as follows:</p>\n\n<pre><code># create a 128x128 image to work with\nimage = np.random.random((128, 128),)\n# scale to [0, 1]\nnewimage = (image - image.min()) / (image.max() - image.min())\n# Now scale to [-1, 1]\nnewimage = newimage*2-1\nprint(newimage.min(), newimage.max())\n</code></pre>\n\n<p><strong>Output:</strong> -1.0, 1.0</p>\n"}], "owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 47694656, "answer_count": 1, "score": 1, "last_activity_date": 1512647977, "creation_date": 1512599917, "last_edit_date": 1512600113, "question_id": 47684660, "link": "https://stackoverflow.com/questions/47684660/rescaling-time-difference-between-video-frames", "title": "rescaling time difference between video frames", "body": "<p>I have a video of transport happening. Each frame looks like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/xFBwU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xFBwU.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have calculated something time-derivative like. if f(i) is the i-th frame, the following image is 2*f(i)-f(i+1)-f(i-1): </p>\n\n<p><a href=\"https://i.stack.imgur.com/78bG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/78bG0.png\" alt=\"enter image description here\"></a></p>\n\n<p>The moving particles have a more distinct signature in this time derivative video. The problem is I cannot actually make it a video, since linear combinations of float images (with intensities on [-1,1]) are not necessarily float images (because intensities are not on the range [-1,1]). Therefore I would like to rescale the images to be on [-1,1]. </p>\n\n<p>I tried to use sklearn's preprocessing module: </p>\n\n<pre><code>from sklearn import preprocessing\n\nimages = [image1, image2, ...] \n#each imagek is a 1D image array \n\nscaler = preprocessing.MinMaxScaler([-1,1])\nscaler.fit(images)\n\nrescaled_images = scaler.transform(images)\n</code></pre>\n\n<p>This method amplifies noise and removes the contrast.\n<a href=\"https://i.stack.imgur.com/5ZbYF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ZbYF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Any recommendation as to how I can rescale these time derivative images to [-1,1] without losing information? Any help is appreciated ! </p>\n\n<p>(I asked yesterday, but deleted the question because I didn't have the time to properly indicate the problem with graphics) </p>\n"}, {"tags": ["python", "matplotlib", "scatter-plot", "markers"], "comments": [{"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 1, "creation_date": 1512600246, "post_id": 47684652, "comment_id": 82329025, "body": "You&#39;ll have to explain more. How would you like to color the points? Each one a different color? Or all those with output variable == 1 as one color, and the rest as another?"}, {"owner": {"reputation": 1165, "user_id": 2855071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AMDxi.jpg?s=128&g=1", "display_name": "innisfree", "link": "https://stackoverflow.com/users/2855071/innisfree"}, "edited": false, "score": 0, "creation_date": 1512600271, "post_id": 47684652, "comment_id": 82329036, "body": "so the color <code>c=y</code>, which contains <code>0</code> and <code>1</code>s? that&#39;s why you see only the colors at the top and bottom of your color bar."}, {"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "edited": false, "score": 0, "creation_date": 1512600393, "post_id": 47684652, "comment_id": 82329089, "body": "Which values of visualize_x and visualize_y correspond to each of the 7 features?   You would like to see a scatter plot with 7 colors, one for each feature, right? A preliminary problem is then to get the x and y values associated with a given color"}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "reply_to_user": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512600551, "post_id": 47684652, "comment_id": 82329147, "body": "@bnaecker I would like to have a different colors for different observation but using a shape to label them for example the first person have a color red and belongs to the class 1 with represents by + .I hope that would be clear"}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512600738, "post_id": 47684652, "comment_id": 82329212, "body": "@AlterNative OK, it sounds like you want the color of the point to represent the observation (so each point a different color), and the marker style to represent the class. Is that right?"}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "reply_to_user": {"reputation": 1165, "user_id": 2855071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AMDxi.jpg?s=128&g=1", "display_name": "innisfree", "link": "https://stackoverflow.com/users/2855071/innisfree"}, "edited": false, "score": 0, "creation_date": 1512600745, "post_id": 47684652, "comment_id": 82329215, "body": "@innisfree yes , y has two values 0 and 1. I should changed my color bar to 2 instead of 10 to makes more sense I think."}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "reply_to_user": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512600818, "post_id": 47684652, "comment_id": 82329248, "body": "@bnaecker exactly"}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512601260, "post_id": 47684652, "comment_id": 82329431, "body": "@AlterNative That sounds unlikely to be helpful. What extra information would the color tell you? Using symbols to indicate the class of every point is fine, but the color seems like it would be either unhelpful, or redundant with the spatial position of the point. Are you just trying to make each point more clearly distinct from its neighbors?"}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "reply_to_user": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512601884, "post_id": 47684652, "comment_id": 82329669, "body": "@bnaecker I would like to compare with other plots of the same inputs to see when there is misclassification, are they belong to the same person or not!"}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512602107, "post_id": 47684652, "comment_id": 82329732, "body": "@AlterNative And you&#39;re OK with just visually scanning all those data points to find the one with <i>exactly</i> the same color? How do you expect to match up points from one observation across plots?"}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "reply_to_user": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512604348, "post_id": 47684652, "comment_id": 82330590, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/160662/discussion-between-alter-native-and-bnaecker\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 0, "creation_date": 1512602517, "post_id": 47685021, "comment_id": 82329894, "body": "thanks for your solution but I think this is not what I am looking for."}, {"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "reply_to_user": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 1, "creation_date": 1512602808, "post_id": 47685021, "comment_id": 82330001, "body": "I think it&#39;s safe to say with that vague reply I can&#39;t attempt to help you further at all. What do you need?"}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 0, "creation_date": 1512603030, "post_id": 47685021, "comment_id": 82330094, "body": "I am trying to explain my question better, it seems that my question does not mean very well."}, {"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "reply_to_user": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 2, "creation_date": 1512603148, "post_id": 47685021, "comment_id": 82330145, "body": "I understand you have seven categories, each with some set of (x,y,c) where x,y are coordinates in the plane and c is 0 or 1   Then you wanted different colors and markers for each category. Or do you want different markers for each category and different colors for each c?"}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 0, "creation_date": 1512603391, "post_id": 47685021, "comment_id": 82330232, "body": "@bnaecker Sorry for confusion. the colors belong to each group of the same id from my dataset and each shapes belong to the class."}, {"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "reply_to_user": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 0, "creation_date": 1512603445, "post_id": 47685021, "comment_id": 82330255, "body": "class as in 0 or 1 ? You have 7 groups and two classes per group?"}, {"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 0, "creation_date": 1512604222, "post_id": 47685021, "comment_id": 82330548, "body": "consider this ,f1 ,f2,f3,f4,f5,f6,f7,f8,f9 - f1 is the id and f2 ..f8 are features for classification and f9 is the label. I need to color by f1 and shape it by f9"}, {"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "reply_to_user": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 1, "creation_date": 1512695531, "post_id": 47685021, "comment_id": 82372708, "body": "so construct lists of the appropriate points x,y corresponding to each marker and color combination. Then, loop over the number of marker/color combinations, using the appropriate x,y,marker, and color values for each call in plt.scatter(). The matplotlib structure you need is indicated above"}], "tags": [], "owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "is_accepted": false, "score": 22, "last_activity_date": 1512603209, "last_edit_date": 1512603209, "creation_date": 1512601763, "answer_id": 47685021, "question_id": 47684652, "link": "https://stackoverflow.com/questions/47684652/how-to-customize-marker-colors-and-shapes-in-scatter-plot/47685021#47685021", "title": "How to customize marker colors and shapes in scatter plot?", "body": "<p>Is this the type of thing you're after? </p>\n\n<pre><code>from matplotlib import pyplot as plt \n\n#generate a list of markers and another of colors \nmarkers = [\".\" , \",\" , \"o\" , \"v\" , \"^\" , \"&lt;\", \"&gt;\"]\ncolors = ['r','g','b','c','m', 'y', 'k']\n\n#make a sample dataset\nx = np.arange(0,10)  #test x values.. every feature gets the same x values but you can generalize this\ny = [s*x for s in np.arange(7)] #generate 7 arrays of y values \n\n\nfor i in range(7): #for each of the 7 features \n    mi = markers[i] #marker for ith feature \n    xi = x #x array for ith feature .. here is where you would generalize      different x for every feature\n    yi = y[i] #y array for ith feature \n    ci = colors[i] #color for ith feature \n    plt.scatter(xi,yi,marker=mi, color=ci) \nplt.show() \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/nq4Ph.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nq4Ph.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28345, "favorite_count": 3, "answer_count": 1, "score": 6, "last_activity_date": 1512663658, "creation_date": 1512599875, "last_edit_date": 1512663658, "question_id": 47684652, "link": "https://stackoverflow.com/questions/47684652/how-to-customize-marker-colors-and-shapes-in-scatter-plot", "title": "How to customize marker colors and shapes in scatter plot?", "body": "<p>I have a data set with 9 columns. 7 features are used for feature selection and one of them for the classification. \nI used tsne library for feature selection in order to see how much my data could be classified.The result from tsne is shown in picture.</p>\n\n<p>However, I want to visualize my data in another way. I would like to set a color for each observation based on the column f1 (id). for example :</p>\n\n<pre><code>f1(id) f2 f3 ... f9(class label)\n1      66 77 ... A\n1      44 88 ... A\n2      33 55 ... B\n2      77 88 ..  B\n</code></pre>\n\n<p>colors come from f1 and shapes come from f9\n. I do not know how to do it! I would appreciate for your comments or give me some references to learn more about visualization part.\n<a href=\"https://i.stack.imgur.com/St0Zq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/St0Zq.png\" alt=\"enter image description here\"></a>\nthis is my code:</p>\n\n<pre><code>plt.scatter(visualize_x, visualize_y, c= y,marker='^', cmap=plt.cm.get_cmap(\"jet\", 10))\n</code></pre>\n"}, {"tags": ["python", "arrays", "pandas", "numpy", "binary"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 6163904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6nslJa9PAWM/AAAAAAAAAAI/AAAAAAAAAzA/m-dR2fRAZY8/photo.jpg?sz=128", "display_name": "Brent", "link": "https://stackoverflow.com/users/6163904/brent"}, "edited": false, "score": 0, "creation_date": 1512703405, "post_id": 47684865, "comment_id": 82374483, "body": "Nice. I didn&#39;t know about unpack bits."}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 2, "last_activity_date": 1512603475, "last_edit_date": 1512603475, "creation_date": 1512600904, "answer_id": 47684865, "question_id": 47684650, "link": "https://stackoverflow.com/questions/47684650/generate-binary-data-array-from-a-range-of-numbers/47684865#47684865", "title": "Generate Binary Data Array From a Range of Numbers", "body": "<p>You can use <code>np.unpackbits</code>, for example</p>\n\n<pre><code>np.unpackbits(np.arange(8).astype(np.uint8)[:, None], axis = 1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>array([[0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0, 0, 1],\n       [0, 0, 0, 0, 0, 0, 1, 0],\n       [0, 0, 0, 0, 0, 0, 1, 1],\n       [0, 0, 0, 0, 0, 1, 0, 0],\n       [0, 0, 0, 0, 0, 1, 0, 1],\n       [0, 0, 0, 0, 0, 1, 1, 0],\n       [0, 0, 0, 0, 0, 1, 1, 1]], dtype=uint8)\n</code></pre>\n\n<p>Slice off unwanted zeros:</p>\n\n<pre><code>np.unpackbits(np.arange(8).astype(np.uint8)[:, None], axis = 1)[:, -3:]\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>array([[0, 0, 0],\n       [0, 0, 1],\n       [0, 1, 0],\n       [0, 1, 1],\n       [1, 0, 0],\n       [1, 0, 1],\n       [1, 1, 0],\n       [1, 1, 1]], dtype=uint8)\n</code></pre>\n\n<p>Use modulo for signed values:</p>\n\n<pre><code>np.unpackbits((np.arange(-4, 4)%8).astype(np.uint8)[:, None], axis = 1)[:, -3:]\n</code></pre>\n\n<p>Or view casting from signed to unsigned:</p>\n\n<pre><code>np.unpackbits(np.arange(-4, 4).astype(np.int8).view(np.uint8)[:, None], axis = 1)[:, -3:]\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>array([[1, 0, 0],\n       [1, 0, 1],\n       [1, 1, 0],\n       [1, 1, 1],\n       [0, 0, 0],\n       [0, 0, 1],\n       [0, 1, 0],\n       [0, 1, 1]], dtype=uint8)\n</code></pre>\n\n<p>Transition count:</p>\n\n<pre><code>x = np.unpackbits(np.arange(-4, 4).astype(np.int8).view(np.uint8)[:, None], axis = 1)[:, -3:]\nnp.abs(np.diff(x.view(np.int8), axis=0)).sum(axis=1)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>array([1, 2, 1, 3, 1, 2, 1])\n</code></pre>\n\n<p>Or using your xor method:</p>\n\n<pre><code>(x[1:]^x[:-1]).sum(axis=1)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>array([1, 2, 1, 3, 1, 2, 1], dtype=uint64)\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 6163904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6nslJa9PAWM/AAAAAAAAAAI/AAAAAAAAAzA/m-dR2fRAZY8/photo.jpg?sz=128", "display_name": "Brent", "link": "https://stackoverflow.com/users/6163904/brent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1000, "favorite_count": 1, "accepted_answer_id": 47684865, "answer_count": 1, "score": 2, "last_activity_date": 1512603475, "creation_date": 1512599855, "question_id": 47684650, "link": "https://stackoverflow.com/questions/47684650/generate-binary-data-array-from-a-range-of-numbers", "title": "Generate Binary Data Array From a Range of Numbers", "body": "<p>I need to create Boolean/Binary arrays with rows representing the binary form of each number in given a range. Each column hold values for a given bit position. The range is determined by the bit-width and binary encoding scheme. Then I need to count the number of cells in a column that do not match the preceding cell.  </p>\n\n<p>I believe the counting process is simply XORing the array with itself shifted down one row. The sum of each column in the XOR result is my transition count.</p>\n\n<p>I need to do this for each combination of [signed, unsigned] values encoded as [hexadecimal, octal, decimal]. Mismatches between the encoding scheme and available bits results in unusable bits.<br>\n <em>e.g. A 4-bit unsigned octal array would still only have 8 rows. However, if it is signed then that 4th bit is used for sign and the array is the full 16 rows.</em></p>\n\n<p>The ultimate goal is to create labeled set of summary n-grams for the number of transitions at each bit position for various bit widths, encoding, and use of sign. The summary n-gram for example 1 would be {3-bit, octal, unsigned, [1, 3, 7]}. The summary n-gram for example 3 is {4-bit, octal, signed, [1, 2, 6, 13]}. Example 4 is {4-bit, hexadecimal, signed, [1, 2, 6, 13]}.</p>\n\n<p><strong>Examples:</strong><br>\n<strong>1)</strong> 8x3 Binary array of all possible 3-bit unsigned octal values:<br>\n0   0   0<br>\n0   0   1<br>\n0   1   0<br>\n0   1   1<br>\n1   0   0<br>\n1   0   1<br>\n1   1   0<br>\n1   1   1</p>\n\n<p><strong>2)</strong> 8x4 Binary array of all possible 4-bit unsigned octal values:<br>\nSame as #1 except with an additional leftmost column of all zeros</p>\n\n<p><strong>3)</strong> 16x4 Binary array of all possible 4-bit signed octal values:<br>\nNote: It's ok to double count zero (-0 and +0)\n1   1   1   1<br>\n1   1   1   0<br>\n1   1   0   1<br>\n1   1   0   0<br>\n1   0   1   1<br>\n1   0   1   0<br>\n1   0   0   1<br>\n1   0   0   0<br>\n0   0   0   0<br>\n0   0   0   1<br>\n0   0   1   0<br>\n0   0   1   1<br>\n0   1   0   0<br>\n0   1   0   1<br>\n0   1   1   0<br>\n0   1   1   1  </p>\n\n<p><strong>4)</strong> 16x4 Binary array of all possible 4-bit signed hexadecimal values:<br>\nSame as #3</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1, "user_id": 5026142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc940013e4504b2626a462b6ef0235d0?s=128&d=identicon&r=PG&f=1", "display_name": "zz5iojm", "link": "https://stackoverflow.com/users/5026142/zz5iojm"}, "edited": false, "score": 0, "creation_date": 1512600267, "post_id": 47684624, "comment_id": 82329035, "body": "Nevermind, I can get what I need to using the in filter."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5026142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc940013e4504b2626a462b6ef0235d0?s=128&d=identicon&r=PG&f=1", "display_name": "zz5iojm", "link": "https://stackoverflow.com/users/5026142/zz5iojm"}, "edited": false, "score": 0, "creation_date": 1512600778, "post_id": 47684749, "comment_id": 82329232, "body": "Thanks, but I got using Names.objects.filter(names__in=user_input)"}, {"owner": {"reputation": 364, "user_id": 1842332, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1fej8.png?s=128&g=1", "display_name": "J&#233;r&#233;my", "link": "https://stackoverflow.com/users/1842332/j%c3%a9r%c3%a9my"}, "reply_to_user": {"reputation": 1, "user_id": 5026142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc940013e4504b2626a462b6ef0235d0?s=128&d=identicon&r=PG&f=1", "display_name": "zz5iojm", "link": "https://stackoverflow.com/users/5026142/zz5iojm"}, "edited": false, "score": 0, "creation_date": 1512600887, "post_id": 47684749, "comment_id": 82329276, "body": "Suppose that this works too. Mine would make more sense IMO as you want to look if the user_input appears in names, right? :)"}], "tags": [], "owner": {"reputation": 364, "user_id": 1842332, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1fej8.png?s=128&g=1", "display_name": "J&#233;r&#233;my", "link": "https://stackoverflow.com/users/1842332/j%c3%a9r%c3%a9my"}, "is_accepted": false, "score": 0, "last_activity_date": 1512600901, "last_edit_date": 1512600901, "creation_date": 1512600259, "answer_id": 47684749, "question_id": 47684624, "link": "https://stackoverflow.com/questions/47684624/django-filter-icontains-find-matches-going-the-other-way/47684749#47684749", "title": "Django filter icontains - find matches going the other way", "body": "<p>Try:</p>\n\n<p><code>Names.objects.filter(user_input__in=names)</code></p>\n"}], "owner": {"reputation": 1, "user_id": 5026142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc940013e4504b2626a462b6ef0235d0?s=128&d=identicon&r=PG&f=1", "display_name": "zz5iojm", "link": "https://stackoverflow.com/users/5026142/zz5iojm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512600901, "creation_date": 1512599684, "question_id": 47684624, "link": "https://stackoverflow.com/questions/47684624/django-filter-icontains-find-matches-going-the-other-way", "title": "Django filter icontains - find matches going the other way", "body": "<p>In the code below, Django's icontains filter finds matches where the user_input is contained within the name. How do I find matches where the name is contained within the user_input?</p>\n\n<pre><code>names = \"Jim\", \"Bob\", \"James\"\nuser_input = \"Jimbo\"\n\nNames.objects.filter(names__icontains=user_input)\n#returns empty queryset\n\nNames.objects.filter(???=user_input)\n#returns queryset with \"Jim\"\n</code></pre>\n"}, {"tags": ["python", "string", "split"], "comments": [{"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 2, "creation_date": 1512599825, "post_id": 47684623, "comment_id": 82328874, "body": "<code>string.split(&quot;, &quot;)</code>"}, {"owner": {"reputation": 1626, "user_id": 5478462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/760557cc7099bc054a445ff659d02950?s=128&d=identicon&r=PG&f=1", "display_name": "pastaleg", "link": "https://stackoverflow.com/users/5478462/pastaleg"}, "edited": false, "score": 0, "creation_date": 1512599867, "post_id": 47684623, "comment_id": 82328887, "body": "<a href=\"https://stackoverflow.com/questions/8069975/split-string-on-commas-but-ignore-commas-within-double-quotes\" title=\"split string on commas but ignore commas within double quotes\">stackoverflow.com/questions/8069975/&hellip;</a>"}, {"owner": {"reputation": 375, "user_id": 8540273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f740ad22ef837b6efc94c95e755a0c2d?s=128&d=identicon&r=PG&f=1", "display_name": "JSingh", "link": "https://stackoverflow.com/users/8540273/jsingh"}, "edited": false, "score": 0, "creation_date": 1512599933, "post_id": 47684623, "comment_id": 82328916, "body": "<code>&quot;Today, I picked, a total, of, 1,000,000, apples&quot;.split(&#39;,&#39;);                              Array [ &quot;Today&quot;, &quot; I picked&quot;, &quot; a total&quot;, &quot; of&quot;, &quot; 1&quot;, &quot;000&quot;, &quot;000&quot;, &quot; apples&quot; ]</code>"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "reply_to_user": {"reputation": 375, "user_id": 8540273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f740ad22ef837b6efc94c95e755a0c2d?s=128&d=identicon&r=PG&f=1", "display_name": "JSingh", "link": "https://stackoverflow.com/users/8540273/jsingh"}, "edited": false, "score": 0, "creation_date": 1512600120, "post_id": 47684623, "comment_id": 82328976, "body": "@JSingh, was that directed at me or the question asker? Cause if it was me then you didn&#39;t do what I did..."}, {"owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 0, "creation_date": 1513648710, "post_id": 47684623, "comment_id": 82724013, "body": "Is your issue solved?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6711286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dfdc2a7cba00c08f19bf88e032d84a6?s=128&d=identicon&r=PG&f=1", "display_name": "Bob A.", "link": "https://stackoverflow.com/users/6711286/bob-a"}, "edited": false, "score": 0, "creation_date": 1512601582, "post_id": 47684699, "comment_id": 82329549, "body": "What if my original string is &quot;&quot;Today,I picked,a total,of,1,000,000,apples&quot;? Is there a better way?"}], "tags": [], "owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "is_accepted": false, "score": 1, "last_activity_date": 1512600066, "creation_date": 1512600066, "answer_id": 47684699, "question_id": 47684623, "link": "https://stackoverflow.com/questions/47684623/python-split-string-at-comma-ignore-comma-in-numbers/47684699#47684699", "title": "Python split string at comma, ignore comma in numbers", "body": "<p>replace your <code>string.split(\",\")</code> by <code>string.split(\", \")</code> with a space after the comma. This should be enough to avoid splitting the numbers.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 6711286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dfdc2a7cba00c08f19bf88e032d84a6?s=128&d=identicon&r=PG&f=1", "display_name": "Bob A.", "link": "https://stackoverflow.com/users/6711286/bob-a"}, "edited": false, "score": 0, "creation_date": 1512602847, "post_id": 47684983, "comment_id": 82330019, "body": "Wow this is awesome!! Exactly what I&#39;m looking for. I also tested this in the python language, how come with the same split parameter, it outputs differently?"}], "tags": [], "owner": {"reputation": 1762, "user_id": 1388544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdcb9dac7a69173fef3d2182edb6547c?s=128&d=identicon&r=PG&f=1", "display_name": "D.B.", "link": "https://stackoverflow.com/users/1388544/d-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1512601498, "creation_date": 1512601498, "answer_id": 47684983, "question_id": 47684623, "link": "https://stackoverflow.com/questions/47684623/python-split-string-at-comma-ignore-comma-in-numbers/47684983#47684983", "title": "Python split string at comma, ignore comma in numbers", "body": "<p>You can be more specific by using a regular expression to ignore commas when next to numeric values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var s = \"Today, I picked, a total, of, 1,000,000, apples\";\r\n\r\nvar a = s.split(/(?!\\d)\\,(?!\\d)/);\r\n\r\nconsole.log(a);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 0, "creation_date": 1568303315, "post_id": 57908708, "comment_id": 102240414, "body": "Code only answers can almost always be improved by explaining what the code does and why it does it. In this case that space after the comma could be called out as it is easy to miss. Also the code should be formatted as code using the &quot;{}&quot; button or other formatting methods."}], "tags": [], "owner": {"reputation": 41, "user_id": 11934881, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rCh24zyf3oU/AAAAAAAAAAI/AAAAAAAAABE/bFB4WOPdeoo/photo.jpg?sz=128", "display_name": "arpit patel", "link": "https://stackoverflow.com/users/11934881/arpit-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1568297746, "creation_date": 1568297746, "answer_id": 57908708, "question_id": 47684623, "link": "https://stackoverflow.com/questions/47684623/python-split-string-at-comma-ignore-comma-in-numbers/57908708#57908708", "title": "Python split string at comma, ignore comma in numbers", "body": "<p>line_1 = \"Today, I picked, a total, of, 1,000,000, apples\"</p>\n\n<p>line_2 = line_1.split(', ')</p>\n\n<p>print(line_2)</p>\n"}], "owner": {"reputation": 3, "user_id": 6711286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dfdc2a7cba00c08f19bf88e032d84a6?s=128&d=identicon&r=PG&f=1", "display_name": "Bob A.", "link": "https://stackoverflow.com/users/6711286/bob-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2281, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1568297746, "creation_date": 1512599681, "last_edit_date": 1512604380, "question_id": 47684623, "link": "https://stackoverflow.com/questions/47684623/python-split-string-at-comma-ignore-comma-in-numbers", "title": "Python split string at comma, ignore comma in numbers", "body": "<p>If I'm given the string </p>\n\n<pre><code>\"Today, I picked, a total, of, 1,000,000, apples\"\n</code></pre>\n\n<p>I want</p>\n\n<pre><code>[Today, I picked, a total, of, 1,000,000, apples] \n</code></pre>\n\n<p>I tried using <code>string.split(\",\")</code>, but that doesn't account for commas in numbers... Could you help me for this particular case? Thank you</p>\n\n<p><strong><em>Edit</em></strong>\nI previously asked this question for javascript, can anyone provide any insights for python?</p>\n"}, {"tags": ["python", "pyperclip"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 1, "creation_date": 1512602527, "post_id": 47684616, "comment_id": 82329900, "body": "&quot;Could not fetch the URL: <a href=\"https://pypi.python.org/simple/pyperclip/\" rel=\"nofollow noreferrer\">pypi.python.org/simple/pyperclip</a>&quot; means that pip couldn&#39;t even load the given URL to see what was listed there.  Is there anything between your computer and PyPI that might be interferring with your internet connection (proxy, router, firewall, etc.)?"}, {"owner": {"reputation": 41, "user_id": 3376220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8a1eae0a68bea26c4b364d870b5eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3376220", "link": "https://stackoverflow.com/users/3376220/user3376220"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1512660423, "post_id": 47684616, "comment_id": 82356627, "body": "I&#39;m doing this from work and they do block certain websites.  Maybe that can be the interference? However, I am able to copy/paste that URL in my browser and visit the site without any restrictions from my company firewall.  So I&#39;m not sure if it&#39;s still a firewall/permission issue or something else."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3376220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8a1eae0a68bea26c4b364d870b5eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3376220", "link": "https://stackoverflow.com/users/3376220/user3376220"}, "edited": false, "score": 0, "creation_date": 1512659974, "post_id": 47684793, "comment_id": 82356340, "body": "Thanks Sayan.  I downloaded pyperclip1.5.11 and ran the setup.py.  I&#39;m running windows so a black command window appeared for a few seconds, saw nothing written or come across it, and then it just closed itself.  It does not seem to have worked though.  If I open IDLE and try to import pyperclip i get the same ModuleNotFoundError.  If I try running my program from the CMD window I also get the same error.  When I run setup.py should it create some pyperclip folder in my Python dir?  When i search for &quot;pyperclip&quot; i dont see any such folder or files in my python dir."}, {"owner": {"reputation": 4146, "user_id": 7454097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qzerk.jpg?s=128&g=1", "display_name": "Sayan Sil", "link": "https://stackoverflow.com/users/7454097/sayan-sil"}, "reply_to_user": {"reputation": 41, "user_id": 3376220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8a1eae0a68bea26c4b364d870b5eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3376220", "link": "https://stackoverflow.com/users/3376220/user3376220"}, "edited": false, "score": 0, "creation_date": 1512667801, "post_id": 47684793, "comment_id": 82361159, "body": "The setup.py is designed to work from the command line. Open the terminal in this window where setup.py is located (using admin privileges just in case) or just go to this directory via terminal and then type &quot;setup.py&quot; and enter."}, {"owner": {"reputation": 41, "user_id": 3376220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8a1eae0a68bea26c4b364d870b5eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3376220", "link": "https://stackoverflow.com/users/3376220/user3376220"}, "edited": false, "score": 1, "creation_date": 1512678243, "post_id": 47684793, "comment_id": 82366481, "body": "Thanks Sayan! It works now.  Just to clarify and detail what I did (if it helps others): 1) downloaded the zip file and extracted the folder contents to a location on C drive 2) Click the &quot;Start&quot; button and type &quot;cmd.&quot; Right-click &quot;Cmd,&quot; select &quot;Run as Administrator&quot; 3) changed directory to where the setup.py file is located in the folder I just extracted 4) typed &quot;setup.py install&quot; 5)Now I&#39;m able to import the module into my code."}], "tags": [], "owner": {"reputation": 4146, "user_id": 7454097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qzerk.jpg?s=128&g=1", "display_name": "Sayan Sil", "link": "https://stackoverflow.com/users/7454097/sayan-sil"}, "is_accepted": false, "score": 0, "last_activity_date": 1512680958, "last_edit_date": 1512680958, "creation_date": 1512600461, "answer_id": 47684793, "question_id": 47684616, "link": "https://stackoverflow.com/questions/47684616/modulenotfounderror-no-module-named-pyperclip/47684793#47684793", "title": "ModuleNotFoundError: No module named &#39;pyperclip&#39;", "body": "<p><strong>For manual Installation,</strong></p>\n\n<p>I went to the <em>link</em> you provided in your question.</p>\n\n<p>Since all of them are <code>pyperclip 1.5</code>, I wouldn't mind downloading any one of them.</p>\n\n<p>However, the person who designed the site must want you to click on the <strong>topmost link</strong>, instead of scrolling all the way down.</p>\n\n<p>So I downloaded the <code>1.5.11</code> version, which was on the top.</p>\n\n<p>And on downloading (I am using my phone) I quickly extracted the zip and saw a nice setup.py file there.</p>\n\n<p><em>Btw, I wouldn't worry where to unzip or run the setup.py file.</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/SyN79.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SyN79.jpg\" alt=\"pyperclip unzipped\"></a></p>\n\n<p>Go ahead and run the <code>setup.py</code> and let it take its time.</p>\n\n<p>Once done, still not working in IDLE? I suggest use CMD(windows) or Terminal(Linux) and check if it is working there, and then come back to me.</p>\n\n<p><strong>Edit</strong>: On having problems installing the <code>setup.py</code>, open CMD as administrator by right clicking and selecting it from the start menu.</p>\n\n<p>Navigate to the directory where <code>setup.py</code> is located and run it inside the CMD, by typing 'setup.py' and press Enter.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 9786634, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d38402ca18675020d1729711243d3fbb?s=128&d=identicon&r=PG", "display_name": "Ayaz", "link": "https://stackoverflow.com/users/9786634/ayaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1526285692, "last_edit_date": 1526285692, "creation_date": 1526281348, "answer_id": 50324695, "question_id": 47684616, "link": "https://stackoverflow.com/questions/47684616/modulenotfounderror-no-module-named-pyperclip/50324695#50324695", "title": "ModuleNotFoundError: No module named &#39;pyperclip&#39;", "body": "<p>Thanks, it worked for me too.\nSee below details as written above:</p>\n\n<p>Thanks Sayan! It works now. Just to clarify and detail what I did (if it helps others): </p>\n\n<ol>\n<li>downloaded the zip file and extracted the folder contents to a location on C drive </li>\n<li>Click the \"Start\" button and type \"cmd.\" Right-click \"Cmd,\" select \"Run as Administrator\" 3) </li>\n<li>changed directory to where the setup.py file is located in the\nfolder I just extracted</li>\n<li>typed \"setup.py install\"</li>\n<li>Now I'm able to import the module into my code</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 4932708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24d53de2bfa077066459968e59ea81c7?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Albert", "link": "https://stackoverflow.com/users/4932708/oscar-albert"}, "is_accepted": false, "score": 2, "last_activity_date": 1546032228, "last_edit_date": 1546032228, "creation_date": 1546032132, "answer_id": 53964417, "question_id": 47684616, "link": "https://stackoverflow.com/questions/47684616/modulenotfounderror-no-module-named-pyperclip/53964417#53964417", "title": "ModuleNotFoundError: No module named &#39;pyperclip&#39;", "body": "<p>You must navigate to your default install location for 3.6. For IDLE 32 bits it's:</p>\n\n<pre><code>C:\\Users\\&lt;username&gt;\\AppData\\Local\\Programs\\Python\\Python36-32\\Scripts\\\n</code></pre>\n\n<p>for IDLE 64 bits use:</p>\n\n<pre><code>C:\\Users\\&lt;username&gt;\\AppData\\Local\\Programs\\Python\\Python36\\Scripts\\\n</code></pre>\n\n<p>If you navigate to that directory in the command prompt (use cd command), then the command </p>\n\n<pre><code>pip install pyperclip\n</code></pre>\n\n<p>should work.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10740483, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217264185938813/picture?type=large", "display_name": "Greg Witt", "link": "https://stackoverflow.com/users/10740483/greg-witt"}, "is_accepted": false, "score": 2, "last_activity_date": 1570892013, "creation_date": 1570892013, "answer_id": 58355382, "question_id": 47684616, "link": "https://stackoverflow.com/questions/47684616/modulenotfounderror-no-module-named-pyperclip/58355382#58355382", "title": "ModuleNotFoundError: No module named &#39;pyperclip&#39;", "body": "<p>There is a problem with the current version of the pyperclip I checked the git repo and opened a pull request for the issue. It currently doesn't support use for python3.7</p>\n"}], "owner": {"reputation": 41, "user_id": 3376220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8a1eae0a68bea26c4b364d870b5eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3376220", "link": "https://stackoverflow.com/users/3376220/user3376220"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16089, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1590253325, "creation_date": 1512599649, "last_edit_date": 1512602323, "question_id": 47684616, "link": "https://stackoverflow.com/questions/47684616/modulenotfounderror-no-module-named-pyperclip", "title": "ModuleNotFoundError: No module named &#39;pyperclip&#39;", "body": "<p>Similar issues like this have been posted on StackOverflow but I did not find adequate answers to resolve this issue.</p>\n\n<p>I'm running Python 3.6.3 on a Windows 7 machine.  From IDLE I type the following import stmt and get the subsequent error:</p>\n\n<pre><code>&gt;&gt;&gt; import pyperclip\nTraceback (most recent call last):\n  File \"&lt;pyshell#5&gt;\", line 1, in &lt;module&gt;\n    import pyperclip\nModuleNotFoundError: No module named 'pyperclip'\n</code></pre>\n\n<p>I tried hitting Win-R (to pup up the RUN window) and typed the following:</p>\n\n<pre><code>pip3 install pyperclip\npip install pyperclip\n</code></pre>\n\n<p>But it gives me an error saying \"Could not fetch the URL: <a href=\"https://pypi.python.org/simple/pyperclip/\" rel=\"nofollow noreferrer\">https://pypi.python.org/simple/pyperclip/</a>\nCould not find a version that satisfies the requirement pyperclip... No Matching distribution found\"</p>\n\n<p>If I visit the URL mentioned (<a href=\"https://pypi.python.org/simple/pyperclip/\" rel=\"nofollow noreferrer\">https://pypi.python.org/simple/pyperclip/</a>) I see a bunch of pyperclip ZIP files all dif versions.  But if I select a version I'm not sure where to place them/extract them or if extracting them is even the right thing to do.  </p>\n\n<p>Any advice?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512600498, "post_id": 47684606, "comment_id": 82329123, "body": "That looks confusing, looks like you want to use groupby(&#39;Customer&#39;). What&#39;s the next step?"}], "answers": [{"comments": [{"owner": {"reputation": 559, "user_id": 11212687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88a2ef77213c9ec0fae68a4fdfc47a28?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/11212687/perl"}, "edited": false, "score": 0, "creation_date": 1599402150, "post_id": 47684812, "comment_id": 112757900, "body": "Hello @Scott Boston, what if we want to merge some cells without making them an index (somehow in the middle of a data frame)?"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 559, "user_id": 11212687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88a2ef77213c9ec0fae68a4fdfc47a28?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/11212687/perl"}, "edited": false, "score": 1, "creation_date": 1599411848, "post_id": 47684812, "comment_id": 112760583, "body": "You can use <code>mask</code>."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 6, "last_activity_date": 1512600533, "creation_date": 1512600533, "answer_id": 47684812, "question_id": 47684606, "link": "https://stackoverflow.com/questions/47684606/merge-cells-with-pandas/47684812#47684812", "title": "Merge cells with pandas", "body": "<p>In pandas the inner most index must label each row.</p>\n\n<pre><code>df = df.set_index('Customer ID', append=True).swaplevel(0,1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>                    Category    VALUE\nCustomer ID                          \nHETO90      0      Baby Sets   1000.0\n            1  Girls Dresses   5356.0\n            2  Girls Jumpers   2822.0\n            3      Girls Top  13398.0\n            4         Shorts   7590.0\n</code></pre>\n"}], "owner": {"reputation": 883, "user_id": 3054818, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qhxOT.jpg?s=128&g=1", "display_name": "yigitozmen", "link": "https://stackoverflow.com/users/3054818/yigitozmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9658, "favorite_count": 2, "accepted_answer_id": 47684812, "answer_count": 1, "score": 3, "last_activity_date": 1557506862, "creation_date": 1512599583, "last_edit_date": 1557506862, "question_id": 47684606, "link": "https://stackoverflow.com/questions/47684606/merge-cells-with-pandas", "title": "Merge cells with pandas", "body": "<p>I want to remove duplicated cells with merge them all because they point out subelements.\nFor example I have a df like this:</p>\n\n<pre><code>|   | Customer ID | Category      | VALUE   |\n| -:|:----------- |:------------- | -------:|\n| 0 | HETO90      | Baby Sets     |  1000.0 |\n| 1 | HETO90      | Girls Dresses |  5356.0 |\n| 2 | HETO90      | Girls Jumpers |  2822.0 |\n| 3 | HETO90      | Girls Top     | 13398.0 |\n| 4 | HETO90      | Shorts        |  7590.0 |\n</code></pre>\n\n<p>I just want to merge HET090 to the one. Like this:</p>\n\n<pre><code>|   | Customer ID | Category      | VALUE   |\n| -:|:----------- |:------------- | -------:|\n| 0 |             | Baby Sets     |  1000.0 |\n| 1 |             | Girls Dresses |  5356.0 |\n| 2 | HETO90      | Girls Jumpers |  2822.0 |\n| 3 |             | Girls Top     | 13398.0 |\n| 4 |             | Shorts        |  7590.0 |\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 8553855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f28e2eae811a53d091cf85ba462b7b18?s=128&d=identicon&r=PG&f=1", "display_name": "Zevvysan", "link": "https://stackoverflow.com/users/8553855/zevvysan"}, "edited": false, "score": 0, "creation_date": 1512668214, "post_id": 47684644, "comment_id": 82361370, "body": "I tried this, but only got &quot;OSError: [Errno 13] Permission denied: &#39;/usr/local/lib/python2.7/dist-packages/pytz&#39;&quot; from it."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 283, "user_id": 8553855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f28e2eae811a53d091cf85ba462b7b18?s=128&d=identicon&r=PG&f=1", "display_name": "Zevvysan", "link": "https://stackoverflow.com/users/8553855/zevvysan"}, "edited": false, "score": 1, "creation_date": 1512668687, "post_id": 47684644, "comment_id": 82361588, "body": "That&#39;s a separate issue. You don&#39;t have permission to install into that directory. You could use <code>sudo</code>, but the recommended approach is to use a virtualenv. If you use a Python 3 virtualenv, then you can use Django 2.0."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 7, "last_activity_date": 1512599826, "creation_date": 1512599826, "answer_id": 47684644, "question_id": 47684498, "link": "https://stackoverflow.com/questions/47684498/trouble-installing-django-command-python-setup-py-egg-info-failed-with-error/47684644#47684644", "title": "Trouble installing Django: Command &quot;python setup.py egg_info&quot; failed with error code 1 in /tmp/pip-build-rcF9a5/Django/", "body": "<p>Pip is trying to install Django 2.0, which is incompatible with Python 2. You can install the latest 1.11.x release with</p>\n\n<pre><code>pip install \"Django&lt;2\"\n</code></pre>\n\n<p>There\u2019s an open issue on the Django ticket tracker to make pip install the correct version.</p>\n\n<p>If you are just starting out with Django, it would be much better to use Python 3, because 1.11 is the last version to support Python 2.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6312164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ac72391acf6a07e3ccee62e81df6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Niranthara95", "link": "https://stackoverflow.com/users/6312164/niranthara95"}, "is_accepted": false, "score": 1, "last_activity_date": 1512641813, "creation_date": 1512641813, "answer_id": 47692667, "question_id": 47684498, "link": "https://stackoverflow.com/questions/47684498/trouble-installing-django-command-python-setup-py-egg-info-failed-with-error/47692667#47692667", "title": "Trouble installing Django: Command &quot;python setup.py egg_info&quot; failed with error code 1 in /tmp/pip-build-rcF9a5/Django/", "body": "<p>To use Django 2.0 python 3 should be used. One way to do this is using a virtual environment. Create a python 3 virtual environment ( <code>python3 -m venv myvenv</code> ) and install Django 2.0 in it. Make sure to use pip from python 3 instead of 2.</p>\n"}], "owner": {"reputation": 283, "user_id": 8553855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f28e2eae811a53d091cf85ba462b7b18?s=128&d=identicon&r=PG&f=1", "display_name": "Zevvysan", "link": "https://stackoverflow.com/users/8553855/zevvysan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2437, "favorite_count": 0, "accepted_answer_id": 47684644, "answer_count": 2, "score": 4, "last_activity_date": 1512644036, "creation_date": 1512599160, "last_edit_date": 1512644036, "question_id": 47684498, "link": "https://stackoverflow.com/questions/47684498/trouble-installing-django-command-python-setup-py-egg-info-failed-with-error", "title": "Trouble installing Django: Command &quot;python setup.py egg_info&quot; failed with error code 1 in /tmp/pip-build-rcF9a5/Django/", "body": "<p>I'm trying to install Django via command prompt. I used <code>pip install Django</code> but got this message:</p>\n\n<pre><code>Collecting Django\n  Using cached `Django-2.0.tar.gz`\n</code></pre>\n\n<p>Complete output from command <code>python setup.py egg_info</code>:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/tmp/pip-build-rcF9a5/Django/setup.py\", line 32, in &lt;module&gt;\n    version = __import__('django').get_version()\n  File \"django/__init__.py\", line 1, in &lt;module&gt;\n    from django.utils.version import get_version\n  File \"django/utils/version.py\", line 61, in &lt;module&gt;\n    @functools.lru_cache()\nAttributeError: 'module' object has no attribute 'lru_cache'\n</code></pre>\n\n<p><br></p>\n\n<pre><code>Command **`\"python setup.py egg_info\"`** failed with error code 1 in **/tmp/pip-build-rcF9a5/Django/**\n</code></pre>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["python", "setup.py", "dulwich"], "comments": [{"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1513984139, "post_id": 47684438, "comment_id": 82866678, "body": "I&#39;d say this is impossible. There&#39;s a bunch of similar questions on SO: <a href=\"https://stackoverflow.com/questions/25161727/\">one</a>, <a href=\"https://stackoverflow.com/questions/31805385/\">two</a>, <a href=\"https://stackoverflow.com/questions/17045817\">three</a>, but no answer. I guess you could add a check in your setup script if the <code>--pure</code> global option was passed and abort the installation with a proper info message, but that&#39;s just it."}], "owner": {"reputation": 1248, "user_id": 3715648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/127fb47b5b0b348ba8c4098e939f2c16?s=128&d=identicon&r=PG&f=1", "display_name": "user3715648", "link": "https://stackoverflow.com/users/3715648/user3715648"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 914, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1512603404, "creation_date": 1512598929, "last_edit_date": 1512603404, "question_id": 47684438, "link": "https://stackoverflow.com/questions/47684438/i-pip-install-a-specific-package-with-global-option-how-do-i-add-that-package", "title": "I pip install a specific package with --global-option. How do I add that package as a dependency in setup.py?", "body": "<p>I'm using this package called Dulwich. While developing, I install it like this:</p>\n\n<pre><code>pip install dulwich --global-option=\"--pure\"\n</code></pre>\n\n<p>I want to add dulwich as a dependency to the setup.py file for my own package, but i'm not sure how to get it to use that pure flag. If my dependencies just looks like this:</p>\n\n<pre><code>DEPENDENCIES = [\n    'dulwich',\n]\nsetup(\n    install_requires=DEPENDENCIES,\n    ...\n)\n</code></pre>\n\n<p>it will fail. I've tried all variations of adding --pure and --global-options but they all fail with errors like:</p>\n\n<pre><code>'install_requires' must be a string or list of strings containing valid project/version requirement specifiers; Invalid requirement, parse error at \"'--pure'\"\n</code></pre>\n\n<p>How am I supposed to correctly add this package as a dependency? The end goal is that I can put my package on PyPi, so that when someone runs</p>\n\n<pre><code>pip install my_package\n</code></pre>\n\n<p>it will automatically run the equivalent of <code>pip install dulwich --global-option=\"--pure\"</code> as well</p>\n"}, {"tags": ["python", "ubuntu", "terminal", "jupyter"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1512599137, "post_id": 47684431, "comment_id": 82328572, "body": "You need to use quotes or other escaping -- otherwise, the spaces mean that your single argument is split, so <code>cp</code> thinks you&#39;re telling it to copy <i>two</i> files, one named <code>40126684_Notebook</code> and the other named <code>1-checkpoint.ipynb</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1512599194, "post_id": 47684431, "comment_id": 82328596, "body": "BTW, questions about command-line usage rather than software development are generally a better fit for <a href=\"https://superuser.com/\">SuperUser</a> or <a href=\"https://unix.stackexchange.com\">Unix & Linux</a>, not StackOverflow. An issue using <code>cp</code> <i>certainly</i> doesn&#39;t have anything to do with Python or Jupyter."}, {"owner": {"reputation": 11, "user_id": 8913750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d3d319a162a3b5df05ba1e60806b600?s=128&d=identicon&r=PG&f=1", "display_name": "amcn", "link": "https://stackoverflow.com/users/8913750/amcn"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1512599273, "post_id": 47684431, "comment_id": 82328634, "body": "Thanks very much @CharlesDuffy.  You&#39;ve saved my semester.  I will take your advice going forward.  Cheers!"}], "answers": [{"tags": [], "owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1512599180, "creation_date": 1512599180, "answer_id": 47684503, "question_id": 47684431, "link": "https://stackoverflow.com/questions/47684431/no-such-file-or-directory-yet-it-exists/47684503#47684503", "title": "&#39;No such file or directory&#39; yet it exists?", "body": "<p>Your command should be <code>cp 40126684_Notebook\\ 1-checkpoint.ipynb /home/vagrant/Desktop/</code></p>\n"}, {"tags": [], "owner": {"reputation": 496, "user_id": 4909533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UrphX.jpg?s=128&g=1", "display_name": "Murphy", "link": "https://stackoverflow.com/users/4909533/murphy"}, "is_accepted": false, "score": 0, "last_activity_date": 1512599924, "creation_date": 1512599924, "answer_id": 47684663, "question_id": 47684431, "link": "https://stackoverflow.com/questions/47684431/no-such-file-or-directory-yet-it-exists/47684663#47684663", "title": "&#39;No such file or directory&#39; yet it exists?", "body": "<p>You need to use the escape charachter '\\' before spaces as stated by @theBrainyGeek \nor quotes:\n<code>cp \"40126684_Notebook 1-checkpoint.ipynb\" /home/vagrant/Desktop/</code></p>\n"}], "owner": {"reputation": 11, "user_id": 8913750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d3d319a162a3b5df05ba1e60806b600?s=128&d=identicon&r=PG&f=1", "display_name": "amcn", "link": "https://stackoverflow.com/users/8913750/amcn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "closed_date": 1512601563, "answer_count": 2, "score": 0, "last_activity_date": 1512652545, "creation_date": 1512598886, "last_edit_date": 1512652545, "question_id": 47684431, "link": "https://stackoverflow.com/questions/47684431/no-such-file-or-directory-yet-it-exists", "closed_reason": "Not suitable for this site", "title": "&#39;No such file or directory&#39; yet it exists?", "body": "<p>I am relatively new to Stack Overflow and Python so please excuse me. \nI ran into an issue with Jupyter trying to open my notebook.  Specifically, this error is:</p>\n\n<pre><code>Unreadable Notebook: /home/vagrant/Notebook 1.ipynb NotJSONError('Notebook does not appear to be JSON: u\\'{\\\\n \"cells\": [\\\\n {\\\\n \"cell_type\": \"...',)\n</code></pre>\n\n<p>I am trying to recover this file as it is pretty crucial!  I discovered there is hidden folder accessible by the terminal called .ipynb_checkpoints and after listing all contents in this folder I am presented with this.</p>\n\n<pre><code>-rw-rw-r-- 1 vagrant vagrant 656710 Dec  6 17:25 Notebook 1-checkpoint.ipynb\n\n-rw-rw-r-- 1 vagrant vagrant  26332 Oct 19 21:47 Lab08-checkpoint.ipynb\n\n-rw-rw-r-- 1 vagrant vagrant     72 Nov 17 16:35 Untitled-checkpoint.ipynb\n</code></pre>\n\n<p>The top one Notebook 1-checkpoint.ipynb is the file I would like to recover.  Can anyone please help me with this?</p>\n\n<p>When I try to do this: </p>\n\n<pre><code>cp Notebook 1-checkpoint.ipynb /home/vagrant/Desktop/\n</code></pre>\n\n<p>I am presented with this:</p>\n\n<pre><code>cp: cannot stat \u2018Notebook\u2019: No such file or directory\ncp: cannot stat \u20181-checkpoint.ipynb\u2019: No such file or directory\n</code></pre>\n"}, {"tags": ["python", "wordpress", "ubuntu", "server", "vps"], "answers": [{"tags": [], "owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1512599026, "creation_date": 1512599026, "answer_id": 47684462, "question_id": 47684408, "link": "https://stackoverflow.com/questions/47684408/simple-script-running-on-server-and-app-communicating-with-it/47684462#47684462", "title": "Simple script running on server and app communicating with it", "body": "<p>I would suggest using something like AWS Lambda. Lambda is an AWS product that will allow you to host your function online and you can just call it with HTTP requests and GET a response. More at aws.amazon.com/lambda</p>\n"}, {"tags": [], "owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "is_accepted": false, "score": 0, "last_activity_date": 1512599442, "creation_date": 1512599442, "answer_id": 47684579, "question_id": 47684408, "link": "https://stackoverflow.com/questions/47684408/simple-script-running-on-server-and-app-communicating-with-it/47684579#47684579", "title": "Simple script running on server and app communicating with it", "body": "<p>You could use something like Django or Flask. Both are used for building back end of web apps. </p>\n"}], "owner": {"reputation": 81, "user_id": 5540416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5b8bad800c8dbbccbf510d2f8dd82809?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Tselikas", "link": "https://stackoverflow.com/users/5540416/alex-tselikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1512601397, "creation_date": 1512598797, "last_edit_date": 1512601397, "question_id": 47684408, "link": "https://stackoverflow.com/questions/47684408/simple-script-running-on-server-and-app-communicating-with-it", "title": "Simple script running on server and app communicating with it", "body": "<p>new to web development and i need some help to figure out the basics.I have a website right now,which is working fine,on a VPS with Ubuntu 16.04 and Apache.Say i would like a converter in my site or in a mobile application and have a python script in my server doing all the work.How can i send the python program the request and how can the page/application receive the data back(like download link,or info like JSON).</p>\n\n<p>A simple information would suffice,i don't need a thorough explanation,mostly names like protocols,etc.. maybe some sample code for Hello World.</p>\n\n<p>I should add that my website runs with Wordpress and i am not looking to change that yet.I want to create a web app within wordpress,with the app written in Python.</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 4, "creation_date": 1512632098, "post_id": 47684488, "comment_id": 82338654, "body": "Additional to point 1: reverse relationships wouldn&#39;t be created for models which are pointed to by ForeignKeys from myuninstalledapp."}], "tags": [], "owner": {"reputation": 2759, "user_id": 2217516, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a535610ddfa849990fc141d4ac5600fe?s=128&d=identicon&r=PG", "display_name": "Robert Townley", "link": "https://stackoverflow.com/users/2217516/robert-townley"}, "is_accepted": true, "score": 14, "last_activity_date": 1512599132, "creation_date": 1512599132, "answer_id": 47684488, "question_id": 47684387, "link": "https://stackoverflow.com/questions/47684387/what-is-the-purpose-of-adding-to-installed-apps-in-django/47684488#47684488", "title": "What is the purpose of adding to INSTALLED_APPS in Django?", "body": "<p>Django uses <code>INSTALLED_APPS</code> as a list of all of the places to look for models, management commands, tests, and other utilities. </p>\n\n<p>If you made two apps (say <code>myapp</code> and <code>myuninstalledapp</code>), but only one was listed in <code>INSTALLED_APPS</code>, you'd notice the following behavior:</p>\n\n<ol>\n<li>The models contained in <code>myuninstalledapp/models.py</code> would never trigger migration changes (or generate initial migrations). You wouldn't be able to interact with them on the database level either because their tables will have never been created.</li>\n<li>Static files listed within <code>myapp/static/</code> would be discovered as part of collectstatic or the test server's staticfiles serving, but <code>myuninstalledapp/static</code> files wouldn't be.</li>\n<li>Tests within <code>myapp/tests.py</code> would run but <code>myuninstalledapp/tests.py</code> wouldn't.</li>\n<li>Management commands listed in <code>myuninstalledapp/management/commands/</code> wouldn't be discovered.</li>\n</ol>\n\n<p>So really, you're welcome to have folders within your Django project that aren't installed apps (you can even create them with <code>python manage.py startapp</code>) but just know that certain auto-discovery Django utilities won't work for that application.</p>\n"}], "owner": {"reputation": 125, "user_id": 8447946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETCDA.png?s=128&g=1", "display_name": "XLTChiva", "link": "https://stackoverflow.com/users/8447946/xltchiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2474, "favorite_count": 4, "accepted_answer_id": 47684488, "answer_count": 1, "score": 9, "last_activity_date": 1512600498, "creation_date": 1512598727, "last_edit_date": 1512600498, "question_id": 47684387, "link": "https://stackoverflow.com/questions/47684387/what-is-the-purpose-of-adding-to-installed-apps-in-django", "title": "What is the purpose of adding to INSTALLED_APPS in Django?", "body": "<p>Most documentation simply tells you to add the name of each of your apps to the INSTALLED_APPS array in your Django project's settings. What is the benefit/purpose of this? What different functionality will I get if I create 2 apps, but only include the name of one in my INSTALLED_APPS array?</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 43630, "user_id": 75033, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/yqUcc.jpg?s=128&g=1", "display_name": "John Mee", "link": "https://stackoverflow.com/users/75033/john-mee"}, "edited": false, "score": 0, "creation_date": 1512601932, "post_id": 47684356, "comment_id": 82329689, "body": "Seeing the html might be helpful"}, {"owner": {"reputation": 2200, "user_id": 845642, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/73fa41923cbdbe0250b94e065dcaab41?s=128&d=identicon&r=PG", "display_name": "Eamonn Gormley", "link": "https://stackoverflow.com/users/845642/eamonn-gormley"}, "reply_to_user": {"reputation": 43630, "user_id": 75033, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/yqUcc.jpg?s=128&g=1", "display_name": "John Mee", "link": "https://stackoverflow.com/users/75033/john-mee"}, "edited": false, "score": 0, "creation_date": 1512602217, "post_id": 47684356, "comment_id": 82329778, "body": "Thanks, you&#39;ve reminded me to look closer at the HTML and I think I see the issue now"}], "answers": [{"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1512632795, "creation_date": 1512632795, "answer_id": 47690038, "question_id": 47684356, "link": "https://stackoverflow.com/questions/47684356/find-href-attributes-with-find-elements-by-class-name-in-selenium-with-python/47690038#47690038", "title": "Find href attributes with find_elements_by_class_name in Selenium with Python", "body": "<p>As per the HTML you have shared, the <code>link texts</code> and the <code>href attributes</code> are not within the node identified as <strong><code>find_elements_by_class_name(\"item-title\")</code></strong>. Rather they are within the decendent <strong><code>&lt;a&gt;</code></strong> tag. Hence instead of using <strong><code>find_elements_by_class_name(\"item-title\")</code></strong> we have to use either <strong><code>find_elements_by_xpath</code></strong> or <strong><code>find_elements_by_css_selector</code></strong> as follows :</p>\n\n<ul>\n<li><p>Using <strong><code>find_elements_by_css_selector</code></strong> :</p>\n\n<pre><code>myLinks=driver.find_elements_by_css_selector(\"div.item-title &gt; a\")\nfor link in myLinks:\n    out.write(link.get_attribute(\"innerHTML\"))\n    out.write (\",\") \n    out.write(link.get_attribute(\"href\"))\n    out.write(\"\\n\")\n</code></pre></li>\n<li><p>Using <strong><code>find_elements_by_xpath</code></strong> :</p>\n\n<pre><code>myLinks=driver.find_elements_by_xpath(\"//div[@class='item-title']/a\")\nfor link in myLinks:\n    out.write(link.get_attribute(\"innerHTML\"))\n    out.write (\",\") \n    out.write(link.get_attribute(\"href\"))\n    out.write(\"\\n\")\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 2200, "user_id": 845642, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/73fa41923cbdbe0250b94e065dcaab41?s=128&d=identicon&r=PG", "display_name": "Eamonn Gormley", "link": "https://stackoverflow.com/users/845642/eamonn-gormley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1944, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512632795, "creation_date": 1512598601, "last_edit_date": 1512602268, "question_id": 47684356, "link": "https://stackoverflow.com/questions/47684356/find-href-attributes-with-find-elements-by-class-name-in-selenium-with-python", "title": "Find href attributes with find_elements_by_class_name in Selenium with Python", "body": "<p>Using Selenium with Python.</p>\n\n<p>I've got pages full of links with a class called item-title. I'm trying to iterate through the pages and compile a list of all the link texts and the href attributes that go with them. I want to output the titles and links to a csv file.  Here is my code:</p>\n\n<pre><code>myLinks=driver.find_elements_by_class_name(\"item-title\")\nfor link in myLinks:\n    out.write(link.text)\n    out.write (\",\") \n    out.write(link.get_attribute(\"href\"))\n    out.write(\"\\n\")\n</code></pre>\n\n<p>The line that outputs the href value gives the following error:</p>\n\n<p>TypeError: expected a character buffer object</p>\n\n<p>Tried the following:</p>\n\n<pre><code>myLinks=driver.find_elements_by_class_name(\"item-title\")\nfor link in myLinks:\n    out.write(link.text)\n    out.write (\",\") \n    out.write(str(link.get_attribute(\"href\")))\n    out.write(\"\\n\")\n</code></pre>\n\n<p>Error went away, link text is coming through okay, but now the href is coming through as 'None'</p>\n\n<p>Edit to add the HTML</p>\n\n<pre><code>&lt;div class=\"item-title\"&gt;\n    &lt;span class=\"icons-pinned\"&gt;&lt;/span&gt;\n    &lt;span class=\"icons-solved\"&gt;&lt;/span&gt;\n    &lt;span class=\"icons-locked\"&gt;&lt;/span&gt;\n    &lt;span class=\"icons-moved\"&gt;&lt;/span&gt;\n    &lt;span class=\"icons-type\"&gt;&lt;/span&gt;\n    &lt;span class=\"icons-reply\"&gt;&lt;/span&gt;\n    &lt;a href=\"/mylink\"&gt;My title&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I think I see the issue now. The  is a child element of the div, I need to target that, don't I?</p>\n"}, {"tags": ["python", "string", "indexoutofboundsexception", "file-read"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 4, "creation_date": 1512598494, "post_id": 47684314, "comment_id": 82328272, "body": "But you increase <code>i</code> inside the loop. So <code>i</code> has a different value from what it had when you checked it."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1512598999, "post_id": 47684314, "comment_id": 82328498, "body": "A <code>while</code> loop test isn&#39;t continuously monitored during the loop body; it won&#39;t stop the loop if <code>i</code> grows past <code>len(test)-1</code> in the middle of the body."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1512599574, "post_id": 47684314, "comment_id": 82328771, "body": "It seems you could <i>greatly</i> simplify this using for-loops. Or honestly, it looks like your nested while-loops are trying to split the string by <code>&quot; &quot;</code> character, but you could just use <code>test.split(&#39; &#39;)</code> which will return a list of strings, than you can check that list-of-strings directly..."}, {"owner": {"reputation": 1, "user_id": 9064303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1440768782703653/picture?type=large", "display_name": "Grant Pierson", "link": "https://stackoverflow.com/users/9064303/grant-pierson"}, "edited": false, "score": 1, "creation_date": 1512604173, "post_id": 47684314, "comment_id": 82330540, "body": "I wasn&#39;t aware of the split function! Thank you so much!"}], "answers": [{"tags": [], "owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "is_accepted": true, "score": 0, "last_activity_date": 1512606547, "creation_date": 1512606547, "answer_id": 47685704, "question_id": 47684314, "link": "https://stackoverflow.com/questions/47684314/string-index-out-of-range-exception-where/47685704#47685704", "title": "String index out of range exception where?", "body": "<p>It seems you could greatly simplify this using for-loops. Or honestly, it looks like your nested while-loops are trying to split the string by \" \" character, but you could just use <code>test.split(' ')</code> which will return a list of strings, than you can check that list-of-strings directly</p>\n"}], "owner": {"reputation": 1, "user_id": 9064303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1440768782703653/picture?type=large", "display_name": "Grant Pierson", "link": "https://stackoverflow.com/users/9064303/grant-pierson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 47685704, "answer_count": 1, "score": -1, "last_activity_date": 1512606547, "creation_date": 1512598376, "question_id": 47684314, "link": "https://stackoverflow.com/questions/47684314/string-index-out-of-range-exception-where", "title": "String index out of range exception where?", "body": "<p>I'm trying to make a program for school which searches a text file for a string the user inputs. However I keep getting the error:</p>\n\n<p><code>line 16, in &lt;module&gt;, while(test[i] != \" \")</code>\n<code>IndexError: string index out of range</code></p>\n\n<p>This is my code:</p>\n\n<pre><code>import os\nmyList=[]\nwhile True:\n    ans = input(\"Please enter a filename or 'X' to exit\")\n        if(ans == \"X\"):\n        exit()\n    else:\n        while True:\n            if os.path.exists(ans):\n                with open(ans,\"r\") as file:\n                     test = file.read()\n                     print(file)\n                     i=0\n                     while(i &lt;= len(test)-1):\n                        sol = \"\"\n                        while(test[i] != \" \"):\n                            sol = sol + test[i]\n                            i += 1\n                        myList.append(sol)\n                        i += 1\n                    ans2 = input(\"Please enter a word to search for or 'X' to exit\")\n                    if(ans2 == 'X'):\n                        exit()\n                    else:\n                        if ans2 in myList:\n                            print(ans2 + \" is in \" + ans)\n                        else:\n                            print(ans2 + \" is NOT in \" + ans)\n            else:\n                print(\"File does not exist. Try again.\")\n                break\n</code></pre>\n\n<p>Basically it seems to me like the line <code>while(i &lt;= len(test)-1):</code> should prevent the string from getting out of index so I cannot find out where I'm going out of index. </p>\n"}, {"tags": ["python", "django", "nginx", "devops"], "comments": [{"owner": {"reputation": 2759, "user_id": 2217516, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a535610ddfa849990fc141d4ac5600fe?s=128&d=identicon&r=PG", "display_name": "Robert Townley", "link": "https://stackoverflow.com/users/2217516/robert-townley"}, "edited": false, "score": 0, "creation_date": 1512598796, "post_id": 47684308, "comment_id": 82328400, "body": "Can you post the results of the following two commands: &quot;ls -lah /etc/nginx/sites-available/&quot; as well as &quot;ls -lah /etc/nginx/sites-enabled&quot;. I&#39;m wondering if there&#39;s either a file permission issue or something that went wrong with the symlink"}, {"owner": {"reputation": 125, "user_id": 7515195, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/38617e1f431a1a22c0ba85153f703af6?s=128&d=identicon&r=PG&f=1", "display_name": "question1", "link": "https://stackoverflow.com/users/7515195/question1"}, "reply_to_user": {"reputation": 2759, "user_id": 2217516, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a535610ddfa849990fc141d4ac5600fe?s=128&d=identicon&r=PG", "display_name": "Robert Townley", "link": "https://stackoverflow.com/users/2217516/robert-townley"}, "edited": false, "score": 0, "creation_date": 1512599054, "post_id": 47684308, "comment_id": 82328525, "body": "first: drwxr-xr-x 2 root root 4.0K Dec  7 01:23 . drwxr-xr-x 6 root root 4.0K Dec  6 04:10 .. -rw-r--r-- 1 root root 1.0K Nov 29 00:30 .default.save.swp -rw-r--r-- 1 root root 1.0K Dec  5 15:49 .default.swp -rw-r--r-- 1 root root 1.0K Dec  6 22:05 .myproject.swp -rw-r--r-- 1 root root 1.0K Dec  7 01:23 .mysite.swp -rw-r--r-- 1 root root 1.0K Dec  7 00:47 .suga.swp -rw-r--r-- 1 root root  405 Dec  5 15:49 default -rw-r--r-- 1 root root  406 Dec  7 01:23 mysite -rw-r--r-- 1 root root  490 Dec  6 04:06 suga"}, {"owner": {"reputation": 125, "user_id": 7515195, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/38617e1f431a1a22c0ba85153f703af6?s=128&d=identicon&r=PG&f=1", "display_name": "question1", "link": "https://stackoverflow.com/users/7515195/question1"}, "reply_to_user": {"reputation": 2759, "user_id": 2217516, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a535610ddfa849990fc141d4ac5600fe?s=128&d=identicon&r=PG", "display_name": "Robert Townley", "link": "https://stackoverflow.com/users/2217516/robert-townley"}, "edited": false, "score": 0, "creation_date": 1512599093, "post_id": 47684308, "comment_id": 82328545, "body": "second: drwxr-xr-x 2 root root 4.0K Dec  7 01:23 . drwxr-xr-x 6 root root 4.0K Dec  6 04:10 .. -rw-r--r-- 1 root root 1.0K Nov 29 00:28 .blog.swp -rw-r--r-- 1 root root 1.0K Nov 29 00:29 .default.swp lrwxrwxrwx 1 root root   34 Dec  5 15:50 default -&gt; /etc/nginx/sites-available/default lrwxrwxrwx 1 root root   33 Dec  7 01:23 mysite -&gt; /etc/nginx/sites-available/mysite lrwxrwxrwx 1 root root   31 Dec  6 04:11 suga -&gt; /etc/nginx/sites-available/suga"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 7515195, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/38617e1f431a1a22c0ba85153f703af6?s=128&d=identicon&r=PG&f=1", "display_name": "question1", "link": "https://stackoverflow.com/users/7515195/question1"}, "edited": false, "score": 0, "creation_date": 1512680967, "post_id": 47684784, "comment_id": 82367756, "body": "how to change socket permission?"}, {"owner": {"reputation": 794, "user_id": 3717658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vtnZE.jpg?s=128&g=1", "display_name": "Naqib Hakimi", "link": "https://stackoverflow.com/users/3717658/naqib-hakimi"}, "reply_to_user": {"reputation": 125, "user_id": 7515195, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/38617e1f431a1a22c0ba85153f703af6?s=128&d=identicon&r=PG&f=1", "display_name": "question1", "link": "https://stackoverflow.com/users/7515195/question1"}, "edited": false, "score": 0, "creation_date": 1512764209, "post_id": 47684784, "comment_id": 82403661, "body": "this unix sock is just a file that is created after running uwsgi in tmp/uwsgi.sock;"}], "tags": [], "owner": {"reputation": 794, "user_id": 3717658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vtnZE.jpg?s=128&g=1", "display_name": "Naqib Hakimi", "link": "https://stackoverflow.com/users/3717658/naqib-hakimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1512600426, "creation_date": 1512600426, "answer_id": 47684784, "question_id": 47684308, "link": "https://stackoverflow.com/questions/47684308/trouble-with-nginx-and-django-configuration/47684784#47684784", "title": "Trouble with nginx and django configuration?", "body": "<p>this is a draft of my project used with uwsgi worked well for me . just change the address \none more thing change socket permission to 664 </p>\n\n<pre><code># mysite_nginx.conf\n\n# the upstream component nginx needs to connect to\nupstream django {\n    server unix:///tmp/uwsgi.sock;\n    #server 127.0.0.1:8001; # for a web port socket (we'll use this first)\n}\n\n# configuration of the server\nserver {\n    # the port your site will be served on\n    listen      8080;\n    # the domain name it will serve for\n    server_name 127.0.0.1; # substitute your machine's IP address or FQDN\n    charset     utf-8;\n\n    # max upload size\n    client_max_body_size 75M;   # adjust to taste\n\n    # Django media\n    location /media  {\n        alias /home/naqib/FINAL_WEB_03/NLLAYVM/media;  # your Django project's media files\n    }\n\n    location /static {\n        alias /home/naqib/FINAL_WEB_03/NLLAYVM/app/static; # your Django project's static files\n    }\n\n    # Finally, send all non-media requests to the Django server.\n    location / {\n        uwsgi_pass  django;\n        include     /home/naqib/FINAL_WEB_03/NLLAYVM/uwsgi_params; # the uwsgi_params file you installed\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 7515195, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/38617e1f431a1a22c0ba85153f703af6?s=128&d=identicon&r=PG&f=1", "display_name": "question1", "link": "https://stackoverflow.com/users/7515195/question1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512600426, "creation_date": 1512598339, "question_id": 47684308, "link": "https://stackoverflow.com/questions/47684308/trouble-with-nginx-and-django-configuration", "title": "Trouble with nginx and django configuration?", "body": "<p>I use NGINX+GUNICORN+DJANGO and my gunicorn status is active.\nI want to set up nginx with django.\nI create a new file named <code>'mysite'</code>in <code>/etc/nginx/sites-available</code></p>\n\n<pre><code>server {\n        listen 8000 default_server;\n        listen [::]:8000 default_server;\n        server_name my_ip;\n        location = /favicon.ico { access_log off; log_not_found off; }\n        location /static/ {\n            root /home/split/mysite;\n        }\n        location / {\n            include proxy_params;\n            proxy_pass http://unix:/home/split/mysite/mysite.sock;\n        }\n}\n</code></pre>\n\n<p>saved it and create symbolyc link to <code>/etc/nginx/sites-enabled</code>\nAfter that I did <code>sudo service nginx restart</code> and got this:</p>\n\n<pre><code>Job for nginx.service failed because the control process exited with error code. See \"systemctl status nginx.service\" and \"journalctl -xe\" for details.\n</code></pre>\n\n<p>I went to <code>journalctl -xe</code></p>\n\n<pre><code>-- \n-- Unit nginx.service has finished shutting down.\nDec 07 01:05:17 ubuntu systemd[1]: Starting A high performance web server and a reverse proxy server...\n-- Subject: Unit nginx.service has begun start-up\n-- Defined-By: systemd\n-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n-- \n-- Unit nginx.service has begun starting up.\nDec 07 01:05:17 ubuntu nginx[49646]: nginx: [crit] pread() \"/etc/nginx/sites-enabled/sites-available\" failed (21: Is a directory)\nDec 07 01:05:17 ubuntu nginx[49646]: nginx: configuration file /etc/nginx/nginx.conf test failed\nDec 07 01:05:17 ubuntu systemd[1]: nginx.service: Control process exited, code=exited status=1\nDec 07 01:05:17 ubuntu sudo[49639]: pam_unix(sudo:session): session closed for user root\nDec 07 01:05:17 ubuntu systemd[1]: FAILED TO START A HIGH PERFORMANCE WEB SERVER AND A REVERSE PROXY SERVER.\n-- Subject: Unit nginx.service has failed\n-- Defined-By: systemd\n-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n-- \n-- Unit nginx.service has failed.\n-- \n-- The result is failed.\nDec 07 01:05:17 ubuntu systemd[1]: nginx.service: Unit entered failed state.\nDec 07 01:05:17 ubuntu systemd[1]: nginx.service: Failed with result 'exit-code'.\nDec 07 01:05:42 ubuntu kernel: [UFW BLOCK] IN=eth0 OUT= MAC=02:1e:6d:00:e4:9f:00:01:e8:11:73:69:08:00 SRC=193.124.0.226 DST=194.87.95.46 LEN=48 TOS=0\nDec 07 01:05:57 ubuntu kernel: [UFW BLOCK] IN=eth0 OUT= MAC=02:1e:6d:00:e4:9f:00:01:e8:11:73:69:08:00 SRC=193.124.0.226 DST=194.87.95.46 LEN=52 TOS=0\nDec 07 01:06:16 ubuntu kernel: [UFW BLOCK] IN=eth0 OUT= MAC=01:00:5e:00:00:01:00:21:d7:56:a5:80:08:00 SRC=93.95.100.9 DST=224.0.0.1 LEN=32 TOS=0x00 P\nDec 07 01:06:21 ubuntu sudo[49655]:    split : TTY=pts/0 ; PWD=/etc/nginx ; USER=root ; COMMAND=/bin/journalctl -xe\nDec 07 01:06:21 ubuntu sudo[49655]: pam_unix(sudo:session): session opened for user root by split(uid=0)\nDec 07 01:06:39 ubuntu kernel: [UFW BLOCK] IN=eth0 OUT= MAC=02:1e:6d:00:e4:9f:00:01:e8:11:73:69:08:00 SRC=193.124.0.226 DST=194.87.95.46 LEN=52 TOS=0\nDec 07 01:07:16 ubuntu kernel: [UFW BLOCK] IN=eth0 OUT= MAC=01:00:5e:00:00:01:00:21:d7:56:a5:80:08:00 SRC=93.95.100.9 DST=224.0.0.1 LEN=32 TOS=0x00 P\nDec 07 01:07:17 ubuntu kernel: [UFW BLOCK] IN=eth0 OUT= MAC=02:1e:6d:00:e4:9f:00:01:e8:11:73:69:08:00 SRC=185.207.206.224 DST=194.87.95.46 LEN=40 TOS\nDec 07 01:07:46 ubuntu kernel: [UFW BLOCK] IN=eth0 OUT= MAC=02:1e:6d:00:e4:9f:00:01:e8:11:73:69:08:00 SRC=212.16.70.23 DST=194.87.95.46 LEN=40 TOS=0x\nDec 07 01:08:03 ubuntu sudo[49662]:    split : TTY=pts/0 ; PWD=/etc/nginx ; USER=root ; COMMAND=/bin/su\nDec 07 01:08:03 ubuntu sudo[49662]: pam_unix(sudo:session): session opened for user root by split(uid=0)\nDec 07 01:08:03 ubuntu su[49663]: Successful su for root by root\nDec 07 01:08:03 ubuntu su[49663]: + /dev/pts/0 root:root\nDec 07 01:08:03 ubuntu su[49663]: pam_unix(su:session): session opened for user root by split(uid=0)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1512599450, "post_id": 47684302, "comment_id": 82328715, "body": "<code>d[length] = {count}</code> is definitely not what you want."}, {"owner": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512599767, "post_id": 47684302, "comment_id": 82328847, "body": "Why not? the length is the key and the frequency, which is count, is the value."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1512672747, "post_id": 47684302, "comment_id": 82363616, "body": "no, the length is the key, and the value is a <i><code>set</code></i> containing a single-element, which is an <code>int</code> representing the frequency."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512599012, "post_id": 47684352, "comment_id": 82328506, "body": "Is there a way to do it without map?"}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "edited": false, "score": 0, "creation_date": 1512599021, "post_id": 47684352, "comment_id": 82328509, "body": "This is suboptimal as it iterates over <code>s</code> for each element in <code>s</code>, giving it a run time of <code>O(n^2)</code>."}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "reply_to_user": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512599095, "post_id": 47684352, "comment_id": 82328547, "body": "@bigez why would you want to avoid <code>map</code>? You could by replacing it with a generator expression, but it would be pointless."}, {"owner": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512599185, "post_id": 47684352, "comment_id": 82328594, "body": "I want to see how you could do it ordinarily without using fancy stuff."}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "reply_to_user": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512599302, "post_id": 47684352, "comment_id": 82328645, "body": "@bigez See my answer."}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "edited": false, "score": 0, "creation_date": 1512600827, "post_id": 47684352, "comment_id": 82329253, "body": "@Ajax1234 why iterate over <code>s</code> twice? Just throw an if statement into the for loop."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "edited": false, "score": 0, "creation_date": 1512600897, "post_id": 47684352, "comment_id": 82329278, "body": "@Sebastian true, however, I am trying to make this as readable and understandable for the OP."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1512600508, "last_edit_date": 1512600508, "creation_date": 1512598584, "answer_id": 47684352, "question_id": 47684302, "link": "https://stackoverflow.com/questions/47684302/returning-frequencies-of-words-in-a-dictionary/47684352#47684352", "title": "Returning frequencies of words in a dictionary", "body": "<p>You can use dictionary comprehension to iterate over <code>s</code>, which now contains the length of its original elements:</p>\n\n<pre><code>s = ['A', 'little', 'sentence', 'to', 'create', 'a', 'dictionary']\nfinal_s = {i:len([b for b in s if len(b) == i]) for i in map(len, s)}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{1: 2, 6: 2, 8: 1, 2: 1, 10: 1}\n</code></pre>\n\n<p>Simply:</p>\n\n<pre><code>new_d = {} \nfor i in s:\n    new_d[len(i)] = 0\nfor i in s:\n    new_d[len(i)] += 1\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{8: 1, 1: 2, 2: 1, 10: 1, 6: 2}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512600057, "post_id": 47684446, "comment_id": 82328958, "body": "Is there a way to do it ordinarily?"}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "reply_to_user": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512600172, "post_id": 47684446, "comment_id": 82328995, "body": "Define ordinarily. This only uses the standard Python library. If your problem is that you simply don&#39;t understand what&#39;s happening, I&#39;d suggest taking a full beginner&#39;s course of Python."}, {"owner": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512600255, "post_id": 47684446, "comment_id": 82329029, "body": "I mean how could we do it using beginner stuff in python?"}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "reply_to_user": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512600327, "post_id": 47684446, "comment_id": 82329062, "body": "Define beginner stuff. <code>collections.Counter</code> is a relatively easy thing to understand by reading its documentation."}, {"owner": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512601149, "post_id": 47684446, "comment_id": 82329386, "body": "The input is a list though."}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "reply_to_user": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "edited": false, "score": 0, "creation_date": 1512601227, "post_id": 47684446, "comment_id": 82329416, "body": "I&#39;m aware; run the code with your list <code>s</code> that you provided. I don&#39;t see what the problem is."}], "tags": [], "owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "is_accepted": false, "score": 2, "last_activity_date": 1512600663, "last_edit_date": 1512600663, "creation_date": 1512598971, "answer_id": 47684446, "question_id": 47684302, "link": "https://stackoverflow.com/questions/47684302/returning-frequencies-of-words-in-a-dictionary/47684446#47684446", "title": "Returning frequencies of words in a dictionary", "body": "<p>Using <code>Counter</code> definitely is the best option:</p>\n\n<pre><code>In [ ]: from collections import Counter\n   ...: d = Counter(map(len, s))\n   ...: d == {1:2, 6:2, 8:1, 2:1, 10:1}\nOut[ ]: True\n</code></pre>\n\n<p>Without using \"fancy stuff\", we use generator expressions, something I consider to be equally fancy:</p>\n\n<pre><code>Counter(len(i) for i in s)\n</code></pre>\n\n<p>If by \"ordinarily\" you mean using for loops, we can do that like so:</p>\n\n<pre><code>d = {}\nfor i in s:\n    if len(i) not in d:\n        d[len(i)] = 1\n    else:\n        d[len(i)] += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 4817649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cnujY.jpg?s=128&g=1", "display_name": "Happy Ahmad", "link": "https://stackoverflow.com/users/4817649/happy-ahmad"}, "is_accepted": false, "score": 1, "last_activity_date": 1512602241, "last_edit_date": 1512602241, "creation_date": 1512601914, "answer_id": 47685050, "question_id": 47684302, "link": "https://stackoverflow.com/questions/47684302/returning-frequencies-of-words-in-a-dictionary/47685050#47685050", "title": "Returning frequencies of words in a dictionary", "body": "<p>Simply do a loop for any word in the list. In each iteration create new key with value <code>1</code> if the length is not in the dict as a key yet, otherwise increase the previous value for the key:</p>\n\n<pre><code>def list_to_dict(word_list):\n   d = dict()\n   for any_word in word_list:\n      length = len(any_word)  \n      if length not in d:\n          d[length] = 1\n      else:\n          d[length] += 1\n   return d\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9048359, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cc56b22fb8307764f199a0dcbed01344?s=128&d=identicon&r=PG&f=1", "display_name": "bigez", "link": "https://stackoverflow.com/users/9048359/bigez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1512602241, "creation_date": 1512598308, "last_edit_date": 1512598633, "question_id": 47684302, "link": "https://stackoverflow.com/questions/47684302/returning-frequencies-of-words-in-a-dictionary", "title": "Returning frequencies of words in a dictionary", "body": "<p>I think I have the right idea on how to solve this function, but I'm not sure\nwhy I don't get the desired results shown in the docstring. Can anyone please help me fix this?</p>\n\n<pre><code>def list_to_dict(word_list):\n'''(list of str) -&gt; dict\nGiven a list of str (a list of English words) return a dictionary that keeps \ntrack of word length and frequency of length. Each key is a word length and \nthe corresponding value is the number of words in the given list of that \nlength.\n&gt;&gt;&gt; d = list_to_dict(['This', 'is', 'some', 'text'])\n&gt;&gt;&gt; d == {2:1, 4:3}\nTrue\n&gt;&gt;&gt; d = list_to_dict(['A', 'little', 'sentence', 'to', 'create', 'a', \n'dictionary'])\n&gt;&gt;&gt; d == {1:2, 6:2, 8:1, 2:1, 10:1}\nTrue\n'''\nd = {}\ncount = 0\nfor i in range(len(word_list)):\nlength = len(i)\nif length not in d:\n    count = count + length\n    d[length] = {count}\n    count += 1\nreturn d\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql"], "comments": [{"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1512598876, "post_id": 47684295, "comment_id": 82328443, "body": "Welcome to SO.  You might want to tag you question with Python many people may not see it if they do not look on the specific tags you gave."}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "edited": false, "score": 1, "creation_date": 1512599616, "post_id": 47684295, "comment_id": 82328786, "body": "If a key exists in multiple dataframes, how do you determine which is the &#39;source&#39; df?"}, {"owner": {"reputation": 25, "user_id": 7214908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ba3de933b38d2021d687a18282b9043?s=128&d=identicon&r=PG&f=1", "display_name": "Murali", "link": "https://stackoverflow.com/users/7214908/murali"}, "edited": false, "score": 0, "creation_date": 1512604707, "post_id": 47684295, "comment_id": 82330716, "body": "Lets say we have some priority in this example its df1 &gt; df2 &gt; df3"}], "answers": [{"tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": false, "score": 0, "last_activity_date": 1512605242, "last_edit_date": 1512605242, "creation_date": 1512604939, "answer_id": 47685494, "question_id": 47684295, "link": "https://stackoverflow.com/questions/47684295/spark-outer-join-with-source/47685494#47685494", "title": "spark outer join with source", "body": "<p>I'd do something like this:</p>\n\n<pre><code>from pyspark.sql.functions import col, lit, coalesce, when\n\ndf1 = spark.createDataFrame(\n    [(\"Item1\", \"key1\"), (\"Item2\", \"key2\"), (\"Item3\", \"key3\"), \n    (\"Item4\", \"key4\"), (\"Item5\", \"key5\")],\n    [\"item1\", \"key\"])\n\ndf2 = spark.createDataFrame(\n    [(\"t1\", \"key1\"), (\"t2\", \"key2\"), (\"t3\", \"key6\"),\n    (\"t4\", \"key7\"), (\"t5\", \"key8\")],\n    [\"item2\", \"key\"])\n\ndf3 = spark.createDataFrame([\n    (\"t1\", \"key1\"), (\"t2\", \"key2\"), (\"t3\", \"key8\"),\n    (\"t4\", \"key9\"), (\"t5\", \"key10\")],\n    [\"item3\", \"key\"])\n\ndf1.join(df2, [\"key\"], \"outer\").join(df3, [\"key\"], \"outer\").withColumn(\n    \"source\",\n    coalesce(\n        when(col(\"item1\").isNotNull(), \"df1\"), \n        when(col(\"item2\").isNotNull(), \"df2\"),  \n        when(col(\"item3\").isNotNull(), \"df3\")))\n</code></pre>\n\n<p>Result is:</p>\n\n<pre><code>## +-----+-----+-----+-----+------+                      \n## |  key|item1|item2|item3|source|\n## +-----+-----+-----+-----+------+\n## | key8| null|   t5|   t3|   df2|\n## | key5|Item5| null| null|   df1|\n## | key7| null|   t4| null|   df2|\n## | key3|Item3| null| null|   df1|\n## | key6| null|   t3| null|   df2|\n## | key1|Item1|   t1|   t1|   df1|\n## | key4|Item4| null| null|   df1|\n## | key2|Item2|   t2|   t2|   df1|\n## | key9| null| null|   t4|   df3|\n## |key10| null| null|   t5|   df3|\n## +-----+-----+-----+-----+------+\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7214908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ba3de933b38d2021d687a18282b9043?s=128&d=identicon&r=PG&f=1", "display_name": "Murali", "link": "https://stackoverflow.com/users/7214908/murali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512605242, "creation_date": 1512598249, "last_edit_date": 1512602923, "question_id": 47684295, "link": "https://stackoverflow.com/questions/47684295/spark-outer-join-with-source", "title": "spark outer join with source", "body": "<p>I am relatively new to spark, I was wondering if I could get the source of the column which was used for outer join</p>\n\n<p>Let's say I have 3 DF</p>\n\n<p>DF 1</p>\n\n<pre><code>+-----+----+\n|item1| key|\n+-----+----+\n|Item1|key1|\n|Item2|key2|\n|Item3|key3|\n|Item4|key4|\n|Item5|key5|\n+-----+----+\n</code></pre>\n\n<p>DF2</p>\n\n<pre><code>+-----+----+\n|item2| key|\n+-----+----+\n|   t1|key1|\n|   t2|key2|\n|   t3|key6|\n|   t4|key7|\n|   t5|key8|\n+-----+----+\n</code></pre>\n\n<p>DF3</p>\n\n<pre><code>+-----+-----+\n|item3|  key|\n+-----+-----+\n|   t1| key1|\n|   t2| key2|\n|   t3| key8|\n|   t4| key9|\n|   t5|key10|\n+-----+-----+\n</code></pre>\n\n<p>I want to do full outer join on these 3 dataframes and include a new column with to indicate the source of that key.</p>\n\n<p>E.g</p>\n\n<pre><code>+-----+-----+-----+-----+------+\n|  key|item1|item2|item3|source|\n+-----+-----+-----+-----+------+\n| key8| null|   t5|   t3|   DF2|\n| key5|Item5| null| null|   DF1|\n| key7| null|   t4| null|   DF2|\n| key3|Item3| null| null|   DF1|\n| key6| null|   t3| null|   DF2|\n| key1|Item1|   t1|   t1|   DF1|\n| key4|Item4| null| null|   DF1|\n| key2|Item2|   t2|   t2|   DF1|\n| key9| null| null|   t4|   DF3|\n|key10| null| null|   t5|   DF3|\n+-----+-----+-----+-----+------+\n</code></pre>\n\n<p>Is there any way to achieve this ?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 2, "creation_date": 1512598542, "post_id": 47684342, "comment_id": 82328289, "body": "see also docs here - <a href=\"https://pandas.pydata.org/pandas-docs/stable/gotchas.html#support-for-integer-na\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/&hellip;</a>"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 2, "last_activity_date": 1512598521, "creation_date": 1512598521, "answer_id": 47684342, "question_id": 47684267, "link": "https://stackoverflow.com/questions/47684267/why-different-inferred-dtype-of-pandas-series-with-defined-index/47684342#47684342", "title": "Why different inferred dtype of pandas.Series with defined index?", "body": "<p><code>NaN</code> is used to represent missing data. <code>NaN</code> is also a floating-point value. So for a Series to contain <code>NaN</code>, it must have a dtype capable of holding floating-point values (such as <code>float64</code> or <code>object</code>, but not <code>int64</code>).</p>\n"}], "owner": {"reputation": 754, "user_id": 1915862, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/589dbf341a8df90c7c414e6c1d84a00a?s=128&d=identicon&r=PG", "display_name": "ronnydw", "link": "https://stackoverflow.com/users/1915862/ronnydw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512600158, "creation_date": 1512598141, "last_edit_date": 1512600158, "question_id": 47684267, "link": "https://stackoverflow.com/questions/47684267/why-different-inferred-dtype-of-pandas-series-with-defined-index", "title": "Why different inferred dtype of pandas.Series with defined index?", "body": "<p>Why do the following 2 statements generate a different dtype? </p>\n\n<pre><code>pd.Series({0: 1001, 1: 1002, 2: 1003})\n\n0     1001\n1     1002\n2     1003\ndtype: int64\n\npd.Series({0: 1001, 2: 1002, 4: 1003}, index=range(3))\n\n0    1001.0\n1       NaN\n2    1002.0\ndtype: float64\n</code></pre>\n\n<p>The second Series replaces the dict index by a new range. I don't see why it should generate a different dtype?</p>\n"}, {"tags": ["python", "linux", "ubuntu", "tkinter", "pycharm"], "comments": [{"owner": {"reputation": 29277, "user_id": 291641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df10b741c091f5db29f951dc9918a34?s=128&d=identicon&r=PG", "display_name": "patthoyts", "link": "https://stackoverflow.com/users/291641/patthoyts"}, "edited": false, "score": 0, "creation_date": 1512598623, "post_id": 47684246, "comment_id": 82328325, "body": "The browse button is not showing because you failed to call the <code>pack()</code> method. Use <code>browseButton.pack()</code>. As for the title, works for me. My dialog has &quot;KML Generator&quot; as the title."}, {"owner": {"reputation": 29277, "user_id": 291641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df10b741c091f5db29f951dc9918a34?s=128&d=identicon&r=PG", "display_name": "patthoyts", "link": "https://stackoverflow.com/users/291641/patthoyts"}, "edited": false, "score": 0, "creation_date": 1512598892, "post_id": 47684246, "comment_id": 82328453, "body": "The command for setting the title is really <code>wm_title</code> so use <code>root.title(&#39;any old text&#39;)</code> but the <code>title</code> method is an alias for <code>wm_title</code> so should be fine as used (and is for me). The text should not matter - any unicode string should be fine. eg: <code>root.title(&#39;\u043c\u0438\u0440&#39;)</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512601479, "post_id": 47684246, "comment_id": 82329502, "body": "create minimal version - only <code>Tk()</code>, <code>title()</code> and <code>mainloop()</code> - and test it in PyCharm and without PyCharm."}, {"owner": {"reputation": 11, "user_id": 5843354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7454e0858469f2cac3adb0c9b15bff87?s=128&d=identicon&r=PG&f=1", "display_name": "MrCompTech", "link": "https://stackoverflow.com/users/5843354/mrcomptech"}, "edited": false, "score": 0, "creation_date": 1512610472, "post_id": 47684246, "comment_id": 82332043, "body": "Feel a bit silly for not seeing I was missing the parens for the browseButton pack, guess that will happen when not at all familiar with the syntax. I believe the title should work as is but still have no idea why it doesn&#39;t.  Thanks patthoyts. Created a minimal version as furas suggested, only four lines of code and still title only shows I mentioned above. Going to try to get minimalist script to work later."}, {"owner": {"reputation": 11, "user_id": 5843354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7454e0858469f2cac3adb0c9b15bff87?s=128&d=identicon&r=PG&f=1", "display_name": "MrCompTech", "link": "https://stackoverflow.com/users/5843354/mrcomptech"}, "edited": false, "score": 0, "creation_date": 1512611977, "post_id": 47684246, "comment_id": 82332396, "body": "PyCharm is using Python 3.5.1 but in a terminal python --version shows version 2.7.12 in use. When attempting to reinstall both python and python-tk for both versions 2 and 3 the apt-get response indicates that both python and python-tk are installed fro both versions. But, at a terminal I run python in interactive mode, the command &#39;import tkinter&#39; i receive the error message &quot;ImportError: No module named tkinter&quot;"}, {"owner": {"reputation": 11, "user_id": 5843354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7454e0858469f2cac3adb0c9b15bff87?s=128&d=identicon&r=PG&f=1", "display_name": "MrCompTech", "link": "https://stackoverflow.com/users/5843354/mrcomptech"}, "edited": false, "score": 0, "creation_date": 1512623674, "post_id": 47684246, "comment_id": 82335325, "body": "Turns out when importing tkinter with python version 2.7 the statement is &quot;import Tkinter&quot; and in python version 3.5 the correct statement is &quot;import tkinter&quot;. One uses capital T and the other lowercase t. Which means I will have problems writing scripts in version 3.5, which is what installed with PyCharm and version 2.7 which is loaded with Ubuntu 16.04. More research revealed that Ubuntu 16.04 strongly relies on Python 2.7."}, {"owner": {"reputation": 11, "user_id": 5843354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7454e0858469f2cac3adb0c9b15bff87?s=128&d=identicon&r=PG&f=1", "display_name": "MrCompTech", "link": "https://stackoverflow.com/users/5843354/mrcomptech"}, "edited": false, "score": 0, "creation_date": 1512623831, "post_id": 47684246, "comment_id": 82335370, "body": "Tried running a minimalist version, furas suggestion, and had the same results. The Tk window is displayed, but there is no title. Unless, the statement used is &#39;root.title(&quot;Title&quot;)&#39;, any other text than Title spelled with a capital T results in no title being displayed in the title bar."}, {"owner": {"reputation": 11, "user_id": 5843354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7454e0858469f2cac3adb0c9b15bff87?s=128&d=identicon&r=PG&f=1", "display_name": "MrCompTech", "link": "https://stackoverflow.com/users/5843354/mrcomptech"}, "edited": false, "score": 0, "creation_date": 1512656594, "post_id": 47684246, "comment_id": 82353950, "body": "The problem of setting a value for the window title is still present after using a minimal of 4 lines of code. But, since the actual problem is following along the free Python tutorial on UDemy.com and since it was the lack of a pair of braces, pointed out by patthoyts, that was causing this problem. I can now resume following the tutorial. Thank You patthoyts."}], "owner": {"reputation": 11, "user_id": 5843354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7454e0858469f2cac3adb0c9b15bff87?s=128&d=identicon&r=PG&f=1", "display_name": "MrCompTech", "link": "https://stackoverflow.com/users/5843354/mrcomptech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 788, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512600740, "creation_date": 1512598035, "last_edit_date": 1512600740, "question_id": 47684246, "link": "https://stackoverflow.com/questions/47684246/python-tkinter-window-title-will-not-display-any-text-other-than-the-word-title", "title": "Python Tkinter window title will not display any text other than the word Title", "body": "<p>I am attempting to learn Python. The IDE being used is PyCharm in Ubuntu 16.10. The project interpreter has the following modules loaded: PyOpenFDM, cycler, glob2, matplotlib, numpy, pandas, pip, pyparsing, python-dateutil, pytz, scipy, setuptools, simplekml, six and wheel.</p>\n\n<p>I am using the free tutorials on UDemy.com. The tutorial I am currently on has this example:</p>\n\n<pre><code>import simplekml\nimport pandas\nimport tkinter\n\ndf = pandas.read_csv(\"Coordinates.csv\")\nkml = simplekml.Kml()\nfor lon, lat in zip(df[\"Longitude\"], df[\"Latitude\"]):\n    kml.newpoint(name=\"SomePlace\", coords=[(lon, lat)])\nkml.save(\"C:\\\\out\\\\Points.kml\")\n\nroot = tkinter.Tk()\nroot.title(\"KML Generator\")\nroot.geometry(\"500x300\")\nlabel = tkinter.Label(root, text=\"This window generates a KML file.\")\nlabel.pack()\nbrowseButton = tkinter.Button(root, text=\"Browse\")\nbrowseButton.pack\nroot.mainloop()\n</code></pre>\n\n<p>On the instructor's system the above script works as expected without error.</p>\n\n<p>While Googling I found very few other issues where there was nothing displayed in the title bar. The few the I did find where either solved by correcting a typo (I have checked my code against the instructor's 4 times) or by adding *.title(\"Some Title\"). Searching StackOverflow lead me to the post <a href=\"https://stackoverflow.com/questions/6949265/python-tkinter-root-title-doesnt-work\">Python Tkinter Root Title doesn&#39;t work</a> which prompted me to change 'root.title(\"KML Generator\")' to 'root.title(\"Title\")'. Then the title 'Title' displayed in the window. But when I change the title anything else the title is not displayed. I have not yet found any combinations of letters, other than 'Title', that will display in the title bar of a window.</p>\n\n<p>Another problem is that browseButton is not displayed.</p>\n\n<p>Right-clicking on root.title brings up a context menu where I can click Go to --> Declaration and PyCharm opens a file editing window and moves the focus to:</p>\n\n<pre><code>def wm_title(self, string=None):\n    \"\"\"Set the title of this widget.\"\"\"\n    return self.tk.call('wm', 'title', self._w, string)\ntitle = wm_title\n</code></pre>\n\n<p>But I don't know enough for this to do me any good in solving the problems mentioned above.</p>\n\n<p>Anyone have any idea on what the problem is?</p>\n"}, {"tags": ["python", "function", "class", "parameter-passing"], "comments": [{"owner": {"reputation": 1793, "user_id": 6398487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1013337205416693/picture?type=large", "display_name": "Jason", "link": "https://stackoverflow.com/users/6398487/jason"}, "edited": false, "score": 0, "creation_date": 1512599625, "post_id": 47684222, "comment_id": 82328788, "body": "The answer from the link is that: in my example, <code>args == &#39;foo&#39;  </code> and <code>args[&#39;foo&#39;] == 2</code>. Quick question, if class <code>GindArgs(object)</code> could take type <code>**args</code> as argument, does that mean regular class could actually take &quot;keyword (dictionary)&quot; as argument too?"}, {"owner": {"reputation": 518, "user_id": 4817649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cnujY.jpg?s=128&g=1", "display_name": "Happy Ahmad", "link": "https://stackoverflow.com/users/4817649/happy-ahmad"}, "edited": false, "score": 0, "creation_date": 1512641868, "post_id": 47684222, "comment_id": 82344371, "body": "Yes, functions and therefore class constructions can get a dictionary as their arguments."}], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 4817649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cnujY.jpg?s=128&g=1", "display_name": "Happy Ahmad", "link": "https://stackoverflow.com/users/4817649/happy-ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1512598849, "creation_date": 1512598849, "answer_id": 47684418, "question_id": 47684222, "link": "https://stackoverflow.com/questions/47684222/when-defining-class-method-why-there-an-equals-sign-in-argument-e-g-funcfoo-3/47684418#47684418", "title": "When defining class method, why there an equals sign in argument e.g. func(foo=3)", "body": "<p>Here is an abstract:\nYou call the function <code>func</code> and pass a dictionary as the argument to it.\nIn the func function, you define a class named BindArgs, and then in the return statement, you first make an object (instance) from the BindArgs class and then return that instance.\nNotice that the statement <code>foo = args['foo']</code> get the key value of <code>'foo'</code> from the <code>args</code> dictionary (that is <code>2</code> in your sample code).\nthe <code><strong>init</strong></code> also will be run as the constructor of the class when you are creating an object.</p>\n"}], "owner": {"reputation": 1793, "user_id": 6398487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1013337205416693/picture?type=large", "display_name": "Jason", "link": "https://stackoverflow.com/users/6398487/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 1, "closed_date": 1512599464, "answer_count": 1, "score": 1, "last_activity_date": 1512599355, "creation_date": 1512597925, "last_edit_date": 1512599355, "question_id": 47684222, "link": "https://stackoverflow.com/questions/47684222/when-defining-class-method-why-there-an-equals-sign-in-argument-e-g-funcfoo-3", "closed_reason": "Duplicate", "title": "When defining class method, why there an equals sign in argument e.g. func(foo=3)", "body": "<p>I'm learning python, trying to figure out how does this code actually work:</p>\n\n<pre><code>def func(**args):\n    class BindArgs(object):\n       foo = args['foo']\n       print 'foo is ', foo\n       def __init__(self,args):\n           print \"hello i am here\"\n    return BindArgs(args) #return an instance of the class\n\nf = func(foo=2)\n</code></pre>\n\n<p>Output:</p>\n\n<p><code>foo is  2\nhello i am here</code></p>\n\n<p>But it's very confused that in the argument of a function <code>func(foo=2)</code> that takes equation mark in it. Could you please explain how the flow works? </p>\n"}, {"tags": ["python", "windows", "python-2.7"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1512598129, "post_id": 47684215, "comment_id": 82328139, "body": "Open an elevated terminal and rerun your script."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1512598216, "post_id": 47684215, "comment_id": 82328164, "body": "perhaps the file is open in another program?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1512598266, "post_id": 47684215, "comment_id": 82328187, "body": "Does it literally print a bunch of question marks?"}, {"owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 1, "creation_date": 1512598373, "post_id": 47684215, "comment_id": 82328228, "body": "What are <code>x</code> and <code>x1</code>?"}, {"owner": {"reputation": 931, "user_id": 3498459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0csUW.jpg?s=128&g=1", "display_name": "OlegArsyonov", "link": "https://stackoverflow.com/users/3498459/olegarsyonov"}, "edited": false, "score": 1, "creation_date": 1512598440, "post_id": 47684215, "comment_id": 82328249, "body": "Yes, it does print a bunch of question marks. None of the files are open in any other program. What do you guys think the problem might be?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1512598444, "post_id": 47684215, "comment_id": 82328251, "body": "@Galen: They&#39;re both defined in the code."}, {"owner": {"reputation": 931, "user_id": 3498459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0csUW.jpg?s=128&g=1", "display_name": "OlegArsyonov", "link": "https://stackoverflow.com/users/3498459/olegarsyonov"}, "edited": false, "score": 0, "creation_date": 1512598484, "post_id": 47684215, "comment_id": 82328265, "body": "x is every element of the array, x1 is every element of the array with some characters removed from it."}, {"owner": {"reputation": 931, "user_id": 3498459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0csUW.jpg?s=128&g=1", "display_name": "OlegArsyonov", "link": "https://stackoverflow.com/users/3498459/olegarsyonov"}, "edited": false, "score": 0, "creation_date": 1512598533, "post_id": 47684215, "comment_id": 82328283, "body": "WindowsError: [Error 2] The system cannot find the file specified"}, {"owner": {"reputation": 931, "user_id": 3498459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0csUW.jpg?s=128&g=1", "display_name": "OlegArsyonov", "link": "https://stackoverflow.com/users/3498459/olegarsyonov"}, "edited": false, "score": 0, "creation_date": 1512598542, "post_id": 47684215, "comment_id": 82328288, "body": "This is the error..."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1512598562, "post_id": 47684215, "comment_id": 82328301, "body": "user3503816: @Galen may have meant what are their value is this specific case of failure."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1512598726, "post_id": 47684215, "comment_id": 82328368, "body": "I think the problem is <code>os.listdir()</code> returns a file list, but it&#39;s just a list of file names, not complete paths. You&#39;ll need to us <code>os.path.join()</code> to concatenate the the directory to each file name. An alternative what would give you full path names would be to use <code>glob.glob()</code>."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1512607462, "post_id": 47684215, "comment_id": 82331438, "body": "Those question marks in an English-language locale would be &quot;The system cannot find the file specified&quot;. Apparently the localized error message can&#39;t be displayed properly with the console&#39;s default OEM codepage. Upgrade to Python 3.6 or install and enable  the <code>win_unicode_console</code> package to support Unicode in the Windows console instead of legacy codepages."}], "answers": [{"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 0, "last_activity_date": 1512598732, "creation_date": 1512598732, "answer_id": 47684391, "question_id": 47684215, "link": "https://stackoverflow.com/questions/47684215/os-rename-module-raises-windowserror-dont-understand-why/47684391#47684391", "title": "os.rename module raises WindowsError, don&#39;t understand why", "body": "<p>You're not using the path you're listing when renaming the files, try with:</p>\n\n<pre><code>import os\n\ndef rename_files(path):\n    file_list = os.listdir(path)\n    print(file_list)\n    for x in file_list:\n        print(x)\n        x1 = x.translate(None,\"0123456789\")\n        print(x1)\n        os.rename(os.path.join(path, x), os.path.join(path, x1))\n\nrename_files(r\"C:\\Users\\Oleg\\Desktop\\prank\\prank\")\n</code></pre>\n"}], "owner": {"reputation": 931, "user_id": 3498459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0csUW.jpg?s=128&g=1", "display_name": "OlegArsyonov", "link": "https://stackoverflow.com/users/3498459/olegarsyonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1512603011, "answer_count": 1, "score": -1, "last_activity_date": 1512598732, "creation_date": 1512597885, "last_edit_date": 1512598183, "question_id": 47684215, "link": "https://stackoverflow.com/questions/47684215/os-rename-module-raises-windowserror-dont-understand-why", "closed_reason": "Duplicate", "title": "os.rename module raises WindowsError, don&#39;t understand why", "body": "<p>Here is a snippet of code.</p>\n\n<pre><code>import os\ndef rename_files():\nfile_list = os.listdir(r\"C:\\Users\\Oleg\\Desktop\\prank\\prank\")\nprint (file_list)\nsaved_path = os.getcwd()\nprint(\"Current Working Directory Is \"+saved_path)\nfor x in file_list:\n    print x\n    x1 = x.translate(None,\"0123456789\")\n    print x1\n    os.rename(x, x1)\nrename_files()`\n</code></pre>\n\n<p>The problem is that it is giving me an error...</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\nFile \"C:/Python27/rename_files.py\", line 13, in &lt;module&gt;\nrename_files()\nFile \"C:/Python27/rename_files.py\", line 11, in rename_files\nos.rename(x, x1)\nWindowsError: [Error 2] ?? ??????? ????? ????????? ????\n</code></pre>\n"}, {"tags": ["python", "django", "shell"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 6137997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qEhHZdBQETU/AAAAAAAAAAI/AAAAAAAAAII/URNsjgVkXxE/photo.jpg?sz=128", "display_name": "Adam Yui", "link": "https://stackoverflow.com/users/6137997/adam-yui"}, "edited": false, "score": 0, "creation_date": 1512617482, "post_id": 47684554, "comment_id": 82333809, "body": "Thanks for the answer! So the way I&#39;m trying to implement it may be stupid, but can you possibly check out the code I&#39;ve added above (within the create view) , specifically after the &quot;else&quot; statement. It seems to work correctly on my end but I&#39;m not sure on how to check if its actually working and running the script"}], "tags": [], "owner": {"reputation": 794, "user_id": 3717658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vtnZE.jpg?s=128&g=1", "display_name": "Naqib Hakimi", "link": "https://stackoverflow.com/users/3717658/naqib-hakimi"}, "is_accepted": true, "score": 2, "last_activity_date": 1512664370, "last_edit_date": 1512664370, "creation_date": 1512599384, "answer_id": 47684554, "question_id": 47684199, "link": "https://stackoverflow.com/questions/47684199/run-python-scripts-from-within-django-app/47684554#47684554", "title": "Run python scripts from within Django app", "body": "<p>executing a shell script has nothing \nto do with django framework it's core python future .</p>\n\n<pre><code>import os\nos.execv('path' , ['arg'])\n</code></pre>\n\n<p>the arg can be a list or a tuple you can pass it from database or url etc.</p>\n\n<p>the folowing simple is match batter for this purpose </p>\n\n<pre><code>from subprocess import call \nsub = call(['ls' , '-l'])\nprint(sub)\n</code></pre>\n\n<p>the sub contain the output</p>\n"}], "owner": {"reputation": 137, "user_id": 6137997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qEhHZdBQETU/AAAAAAAAAAI/AAAAAAAAAII/URNsjgVkXxE/photo.jpg?sz=128", "display_name": "Adam Yui", "link": "https://stackoverflow.com/users/6137997/adam-yui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 47684554, "answer_count": 1, "score": 1, "last_activity_date": 1512664370, "creation_date": 1512597840, "last_edit_date": 1512617252, "question_id": 47684199, "link": "https://stackoverflow.com/questions/47684199/run-python-scripts-from-within-django-app", "title": "Run python scripts from within Django app", "body": "\n\n<p>I'm helping to build a Django app that will interface with a voip phone system, and they've created some scripts to execute when an action is performed (add, update,delete) in order to have parity with the phone system side. They've asked me to pass the parameters to the script like this \n<code>/var/www/html/om/om_add.sh deviceid filename title</code>\nThey've also mentioned to pass the title as a url, using <code>urllib.quote_plus(title)</code> \nLastly, it should occur after each action is executed in the app.\nNow, I've heard that executing shell scripts from a Django app is not advised, but wondering if this is a different case? Also, how I can go about doing this, the only way I know how to pass those params is to pass them through a view. Any help is greatly appreciated!</p>\n\n<pre><code>def post_create(request):\n    device = request.session['device']\n\n    if device == 'dummy':\n        return render(request,'access_denied.html')\n\n    did = {'device_id': device }\n    form= PostForm(request.POST or None, request.FILES or None,initial=did)\n\n\n    if form.is_valid():\n        instance = form.save(commit=False)\n        check = Sounds.objects.all().filter(device_id= device).filter(target=instance.target).exclude(target='generic').first()\n\n\n\n        if check:\n            instance.pk = check.pk\n            instance.device_id= device\n            instance.save()         \n            return HttpResponseRedirect('/')\n        else:\n            instance.device_id = device\n            instance.save()\n\n            dev = instance.device_id\n            name = instance.sound.name\n            title = urllib.quote_plus(instance.title) \n\n\n            os.execv('/var/www/html/ogm/ogm_add.sh', [dev,name,title])\n\n            return HttpResponseRedirect('/')\n\n    context= {\n        'form': form,\n    }\n    return render(request, 'post_form.html',context,)\n</code></pre>\n"}, {"tags": ["python", "html", "flask"], "comments": [{"owner": {"reputation": 18353, "user_id": 337315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/vNdBR.jpg?s=128&g=1", "display_name": "CodeLikeBeaker", "link": "https://stackoverflow.com/users/337315/codelikebeaker"}, "edited": false, "score": 0, "creation_date": 1512598525, "post_id": 47684182, "comment_id": 82328280, "body": "Have you tried debugging to see where your code is going? I&#39;d put a breakpoint on your if statement to see if it even enters. Also try doing a print(request.method) before your if statement to see what that outputs."}, {"owner": {"reputation": 327, "user_id": 8597114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9a6bf481ec5481f41a8180a03cc2810?s=128&d=identicon&r=PG&f=1", "display_name": "Marci", "link": "https://stackoverflow.com/users/8597114/marci"}, "reply_to_user": {"reputation": 18353, "user_id": 337315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/vNdBR.jpg?s=128&g=1", "display_name": "CodeLikeBeaker", "link": "https://stackoverflow.com/users/337315/codelikebeaker"}, "edited": false, "score": 0, "creation_date": 1512599390, "post_id": 47684182, "comment_id": 82328696, "body": "print(request.method) doesn&#39;t print anything to the cmd. The only thing I see in cmd is  GET/POST, GET/POST"}], "answers": [{"tags": [], "owner": {"reputation": 15514, "user_id": 272193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gj3WX.jpg?s=128&g=1", "display_name": "Matt Healy", "link": "https://stackoverflow.com/users/272193/matt-healy"}, "is_accepted": true, "score": 1, "last_activity_date": 1512603565, "creation_date": 1512603565, "answer_id": 47685313, "question_id": 47684182, "link": "https://stackoverflow.com/questions/47684182/python-flask-passing-variable-to-function-from-post-method/47685313#47685313", "title": "python flask - passing variable to function from post method", "body": "<p>When I test this, I get the following:</p>\n\n<pre><code>ERROR in app: Exception on /send [POST]\n...\n  File \"flask_ager.py\", line 10, in send\n    sys.stdout('age: ', age)\nTypeError: 'file' object is not callable\n</code></pre>\n\n<p>This line should be:</p>\n\n<pre><code>sys.stdout.write('age: {}'.format(age))\n</code></pre>\n\n<p>Updating that line and retesting shows the app is working correctly:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uYgkK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uYgkK.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 327, "user_id": 8597114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9a6bf481ec5481f41a8180a03cc2810?s=128&d=identicon&r=PG&f=1", "display_name": "Marci", "link": "https://stackoverflow.com/users/8597114/marci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2759, "favorite_count": 0, "closed_date": 1512661433, "accepted_answer_id": 47685313, "answer_count": 1, "score": 0, "last_activity_date": 1512603565, "creation_date": 1512597736, "question_id": 47684182, "link": "https://stackoverflow.com/questions/47684182/python-flask-passing-variable-to-function-from-post-method", "closed_reason": "Duplicate", "title": "python flask - passing variable to function from post method", "body": "<p>\nI'm new to flask and I'm making a webpage, where the user submits something and I need to run scripts with the using of the entered value.</p>\n\n<p>2 questions:</p>\n\n<p>Why don't make_nil gets called? - I'm getting the same value I entered.</p>\n\n<p>Why don't i see  sys.stdout('age: ', age) or print('age: ', age)?</p>\n\n<p>Thanks!</p>\n\n<p>flask_ager.py:</p>\n\n<pre><code>from flask import Flask, render_template, request\nimport sys\napp = Flask(__name__)\n\n@app.route('/send', methods=['GET', 'POST'])\ndef send():\n    if request.method == 'POST':\n        kapa = request.form['age']\n        age = make_nil(int(kapa))\n        sys.stdout('age: ', age)\n        return render_template('age.html', age=age)\n    return render_template('inka.html')\n\n\n\ndef make_nil(age):\n    return 0 \n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>\n\n\n\n\n\n\n\n<p>age.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt; Siker? &lt;/head&gt;\n&lt;body&gt; \n&lt;h1&gt; Your age is {{age}} &lt;/h1&gt;\n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n\n<p>inka.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt; Siker? &lt;/head&gt;\n&lt;body&gt; \n&lt;h1&gt; How old are you? &lt;/h1&gt;\n&lt;form method=\"POST\" action=\"/send\"&gt;\n&lt;div class=\"form_group\"&gt;\n&lt;input type=\"text\" name=\"age\"&gt;\n&lt;/div&gt;\n&lt;input class=\"btn btn-primary\" type=\"submit\" value=\"submit\"&gt;\n&lt;/form&gt;\n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["python", "csv", "parsing"], "comments": [{"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "edited": false, "score": 0, "creation_date": 1512599501, "post_id": 47684095, "comment_id": 82328739, "body": "Your example includes adding a new field for seconds after the time in hh:mm:ss format, is that purposeful? If so, are you able to elaborate on your requirements there?"}, {"owner": {"reputation": 1528, "user_id": 8580574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912ad5911e696e7aac0ea9ec35d80057?s=128&d=identicon&r=PG&f=1", "display_name": "PEREZje", "link": "https://stackoverflow.com/users/8580574/perezje"}, "reply_to_user": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "edited": false, "score": 0, "creation_date": 1512599635, "post_id": 47684095, "comment_id": 82328792, "body": "It\u2019s actually not seconds it\u2019s a timestamp."}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "edited": false, "score": 0, "creation_date": 1512599749, "post_id": 47684095, "comment_id": 82328839, "body": "2014-11-19 08:57:45.696; became 08:57:45, 45.696, 1,1 I would have expected 08:57:45.696, 1,1 Is it a requirement to expand the timestamp into two fields?"}, {"owner": {"reputation": 1528, "user_id": 8580574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912ad5911e696e7aac0ea9ec35d80057?s=128&d=identicon&r=PG&f=1", "display_name": "PEREZje", "link": "https://stackoverflow.com/users/8580574/perezje"}, "reply_to_user": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "edited": false, "score": 0, "creation_date": 1512600295, "post_id": 47684095, "comment_id": 82329046, "body": "You are correct I misstyped it. Will edit."}], "answers": [{"comments": [{"owner": {"reputation": 1528, "user_id": 8580574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912ad5911e696e7aac0ea9ec35d80057?s=128&d=identicon&r=PG&f=1", "display_name": "PEREZje", "link": "https://stackoverflow.com/users/8580574/perezje"}, "edited": false, "score": 0, "creation_date": 1512599950, "post_id": 47684584, "comment_id": 82328922, "body": "How would I go about adding this to a new file, I tried a for loop through the lines of the original.data file, then modifying that line with the code you provided. And then writing that to the new file. But I get this error code: TypeError: &#39;_io.TextIOWrapper&#39; object is not subscriptable"}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 1528, "user_id": 8580574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912ad5911e696e7aac0ea9ec35d80057?s=128&d=identicon&r=PG&f=1", "display_name": "PEREZje", "link": "https://stackoverflow.com/users/8580574/perezje"}, "edited": false, "score": 0, "creation_date": 1512600355, "post_id": 47684584, "comment_id": 82329073, "body": "<a href=\"https://stackoverflow.com/questions/28977477/typeerror-io-textiowrapper-object-is-not-subscriptable\" title=\"typeerror io textiowrapper object is not subscriptable\">stackoverflow.com/questions/28977477/&hellip;</a>  Does this help?"}, {"owner": {"reputation": 1528, "user_id": 8580574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912ad5911e696e7aac0ea9ec35d80057?s=128&d=identicon&r=PG&f=1", "display_name": "PEREZje", "link": "https://stackoverflow.com/users/8580574/perezje"}, "edited": false, "score": 0, "creation_date": 1512600949, "post_id": 47684584, "comment_id": 82329299, "body": "Thank you so much, this will help me along quite a bit!"}], "tags": [], "owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "is_accepted": false, "score": 0, "last_activity_date": 1512599469, "creation_date": 1512599469, "answer_id": 47684584, "question_id": 47684095, "link": "https://stackoverflow.com/questions/47684095/data-parsing-from-data-file-to-csv-python/47684584#47684584", "title": "Data parsing from .data file to .csv Python", "body": "<p>You don't need to parse the date if they are consistent in format, you can treat the whole thing as a string (you're not interacting with it as a date yet, based on your question) and just slice it up, then replace semicolons with commas.</p>\n\n<pre><code>s[11:].replace(';', 'c')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 1, "last_activity_date": 1512600046, "creation_date": 1512600046, "answer_id": 47684695, "question_id": 47684095, "link": "https://stackoverflow.com/questions/47684095/data-parsing-from-data-file-to-csv-python/47684695#47684695", "title": "Data parsing from .data file to .csv Python", "body": "<p>If every row is separated with double row break '\\n\\n':</p>\n\n<pre><code>import pandas as pd\nimport io\n\ndata = '''\\\n2014-11-19 08:57:45.696;1;1;52.33705;4.843468;8.319668;20.44;93.05875;6;5;1416383865;0.0806427;-0.4734802;-0.7419281;-16.14367;27.67606;-15.92525;53.06408\n52.48165;26;0.04704554;0.9128267;0.4871223;0.1783603;0.2536548;0.6368796;0.07435028;0.8879893;0.4615479;-0.1116289;0.1097959;0.04115437;0.0.0.0;10.167.22.1;1;0\n\n2014-11-19 08:57:46.695;2;2;52.33704;4.843778;8.393764;20.03;92.07;6;5;1416383866;-0.7679138;0.02275085;-1.0784;-22.94859;32.63707;2.281387;63.01468\n62.43224;26;-0.2999492;-0.8103959;1.792917;0.1327813;-0.4999467;0.05921629;-0.7161857;-0.6697808;1.959598;-0.1525345;0.02713824;-0.3281385;0.0.0.0;10.167.22.1;1;0'''\n\nfile = io.StringIO(data)\n\n# Read data\ndata = '\\n'.join(rows.split(\" \")[1].replace('\\n',';') for rows in file.read().split('\\n\\n'))\n\n# Create dataframe\ndf = pd.read_csv(io.StringIO(data),sep=\";\", header=None)\ndf.to_csv(\"output.csv\",sep=',')\n</code></pre>\n"}], "owner": {"reputation": 1528, "user_id": 8580574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/912ad5911e696e7aac0ea9ec35d80057?s=128&d=identicon&r=PG&f=1", "display_name": "PEREZje", "link": "https://stackoverflow.com/users/8580574/perezje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "closed_date": 1512632664, "answer_count": 2, "score": -4, "last_activity_date": 1512600312, "creation_date": 1512597371, "last_edit_date": 1512600312, "question_id": 47684095, "link": "https://stackoverflow.com/questions/47684095/data-parsing-from-data-file-to-csv-python", "closed_reason": "Needs details or clarity", "title": "Data parsing from .data file to .csv Python", "body": "<p>So I want to parse this kind of data into a .csv file with a comma as the separator. </p>\n\n<pre><code>2014-11-19 08:57:45.696;1;1;52.33705;4.843468;8.319668;20.44;93.05875;6;5;1416383865;0.0806427;-0.4734802;-0.7419281;-16.14367;27.67606;-15.92525;53.06408\n52.48165;26;0.04704554;0.9128267;0.4871223;0.1783603;0.2536548;0.6368796;0.07435028;0.8879893;0.4615479;-0.1116289;0.1097959;0.04115437;0.0.0.0;10.167.22.1;1;0\n\n2014-11-19 08:57:46.695;2;2;52.33704;4.843778;8.393764;20.03;92.07;6;5;1416383866;-0.7679138;0.02275085;-1.0784;-22.94859;32.63707;2.281387;63.01468\n62.43224;26;-0.2999492;-0.8103959;1.792917;0.1327813;-0.4999467;0.05921629;-0.7161857;-0.6697808;1.959598;-0.1525345;0.02713824;-0.3281385;0.0.0.0;10.167.22.1;1;0\n</code></pre>\n\n<p>I would want it to look something like this in the .csv file:</p>\n\n<pre><code>08:57:45.696, 1, 1, 52.33705.........\n</code></pre>\n\n<p>basically removing the date at the front, and switching the semicolons into commas. How am I able to do this in a python program, I've not done a lot of parsing as of yet so some tips would be very nice! </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "class", "user-interface", "tkinter"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512601689, "post_id": 47684075, "comment_id": 82329587, "body": "<code>command=lambda:controller.show_frame(SurveyXPSPlotter)</code> is like <code>def command(): return controller.show_frame(SurveyXPSPlotter)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1512663721, "post_id": 47685198, "comment_id": 82358803, "body": "Thx. for the answer! I my question was not really correct. So wat I want is to use the Path+filename stored in self.filename in the other classes to load data in every window and plot them with a function stored in another py file. The problem is i dont know how to use the self.filename in the &#39;subClass&#39; (e.g. HRXPSPlotter)? thx."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1512666326, "post_id": 47685198, "comment_id": 82360321, "body": "MatthiasK: My example code shows using <code>self.filename</code> in the <code>XPSPlotApp.plot_file()</code> method that was added. What more do you want? What&#39;s an example of &quot;using&quot; it in another class? What other class? Each <code>tk.Frame</code> subclass receives a <code>controller</code> argument when it&#39;s constructed. That object is an instance of <code>XPSPlotApp</code> and will have a <code>filename</code> attribute once the <code>&quot;Open&quot;</code> menu item has run the <code>browse_file()</code> method."}, {"owner": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1512672918, "post_id": 47685198, "comment_id": 82363703, "body": "What other class: as I said e.g. subclass HRXPSPlotter. I have this function inside HRXPSPlotter $ f=compxpsplot(data=&#39;c:/data/file_name.txt&#39;.sizef=15) $ now i want to replace $&#39;c:/data/file_name.txt&#39;$ by the variable stored in self.filename in the superclass. controller.filename does not work also if I define a method in the superclass which returns self.filename it always returns: $AttributeError: &#39;_tkinter.tkapp&#39; object has no attribute &#39;filename&#39;$?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1512674572, "post_id": 47685198, "comment_id": 82364578, "body": "<code>HRXPSPlotter</code> is a subclass of <code>tk.Frame</code> <b>not</b> <code>XPSPlotApp</code>, so it will never have a <code>self.filename</code> attribute. Your code assigns that to the<code>XPSPlotApp</code> <b>instance</b> named <code>app</code> which is created on the second-to-last line of the code\u2014and it only does that when its <code>browse_file()</code> method has been called. If you want to reference this attribute in one of the <code>tk.Frame</code> subclass methods, you will need to save the <code>controller</code> argument passed to each&#39;s <code>__init__()</code> function. In other words the attribute is <code>controller.filename</code>."}, {"owner": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1512754760, "post_id": 47685198, "comment_id": 82399338, "body": "As I said controller.filename does not work--&gt; output is &#39;_tkinter.tkapp&#39; object has no attribute &#39;filename&#39; ...,by the way why does str() not work inside the class? I thought standard lib. is working?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1512757023, "post_id": 47685198, "comment_id": 82400507, "body": "As I said, the <code>filename</code> attribute will not exist until the <code>browse_file()</code> method has been executed (by selecting &quot;Open&quot; on the file menu at least once). It won&#39;t exist when the instances of the <code>tk.Frame</code> subclasses are created in the <code>XPSPlotApp.__init__()</code> method. Sorry, but I don&#39;t understand your question about <code>str()</code> not working.  What <code>str()</code>?"}, {"owner": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1512849216, "post_id": 47685198, "comment_id": 82425617, "body": "OK thx. I understand now that i have to define an initial value for filename.Then I think one as to update the subclass to show the plot...but how could I do this? Because it still does not work to change the data/shows the plot from the data I selected with open using browse_file(). So I tried to set the plotfunction in an if statement (if (fileIN==True):) and defined a new variable fileIN which I defined inside the <b>init</b> function of XPSPlotApp with fileIN=False and used the brows_file() to set it True"}, {"owner": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "edited": false, "score": 0, "creation_date": 1513635278, "post_id": 47685198, "comment_id": 82720188, "body": "I solved the problem by using <code>plot_spectra(self,filename)</code> and updated it in the <code>brows_file</code> function with <code>self.frames[CompareXPSPlotter].plot_spectra(self.filename)</code>"}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 0, "last_activity_date": 1512670189, "last_edit_date": 1512670189, "creation_date": 1512602868, "answer_id": 47685198, "question_id": 47684075, "link": "https://stackoverflow.com/questions/47684075/tkinter-gui-which-loads-a-flie-and-can-print-out-the-file-name/47685198#47685198", "title": "tkinter gui which loads a flie and can print out the file name", "body": "<p>I'm not going to address all your three sub-questions directly because it would wind-up being a whole mini-tutorial on <code>tkinter</code>. However I can show you how to add a <code>Button</code> to do the plotting. Note especially the lines with the comment <strong><code># ADDED</code></strong> on them.</p>\n\n<p>Below a modified version of your code with a number of things added showing where and how to put a plotting function function could be put in. I've also changed the coding style so it follows the <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\"><strong>PEP 8 - Style Guide for Python Code</strong></a> more closely and is much more readable.</p>\n\n<p>In a several spots I also changed the name of variables to make it clearer how this kind of gui architecture based on <code>tkinter</code> operates.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import filedialog\nLARGE_FONT=('Verdana', 12)\n\n\nclass XPSPlotApp(tk.Tk):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n\n        container = tk.Frame(self)\n        container.pack(side='top', fill='both', expand=True)\n        container.grid_rowconfigure(0, weight=1)  # 0 is min size\n        container.grid_columnconfigure(0, weight=1)\n\n        # Add menubar and subcommands.\n        self.menuBar = tk.Menu(master=self)\n        self.filemenu = tk.Menu(self.menuBar, tearoff=0)\n        self.filemenu.add_command(label=\"Open\", command=self.browse_file)\n        self.filemenu.add_command(label=\"Plot\", command=self.plot_file)  # ADDED\n        self.filemenu.add_command(label=\"Quit!\", command=self.quit)\n        self.menuBar.add_cascade(label=\"File\", menu=self.filemenu)\n        self.config(menu=self.menuBar)\n\n        self.frames={}\n\n        for FrameSubclass in (HRXPSPlotter, SurveyXPSPlotter):\n            frame = FrameSubclass(container, self)  # create class instance.\n            self.frames[FrameSubclass] = frame\n            frame.grid(row=0, column=1, sticky='nsew')\n\n        self.show_frame(HRXPSPlotter)\n\n    def show_frame(self, subclass):\n        frame = self.frames[subclass]\n        frame.tkraise()\n\n    def browse_file(self):\n        self.filename = filedialog.askopenfilename(\n            initialdir=\"E:/Images\", title=\"Choose your file\",\n            filetypes=((\"text files\", \"*.txt\"), (\"all files\", \"*.*\"))\n        )\n        print(self.filename)\n\n    def plot_file(self):  # ADDED\n        try:\n            print('Plotting:', self.filename)\n        except AttributeError:\n            print('No filename has been selected to plot!')\n\n\nclass HRXPSPlotter(tk.Frame):\n    def __init__(self, parent, controller):\n        super().__init__(parent)\n        label = tk.Label(self, text='Start Page', font=LARGE_FONT)\n        label.pack(pady=10, padx=10)\n        # Button to go to another page.\n        button1 = tk.Button(self, text='Visit Page 1',\n                        command=lambda: controller.show_frame(SurveyXPSPlotter))\n        button1.pack()\n\n\nclass SurveyXPSPlotter(tk.Frame):\n    def __init__(self, parent, controller):\n        super().__init__(parent)\n        label = tk.Label(self, text='Page One', font=LARGE_FONT)\n        label.pack(pady=10, padx=10)\n        # Button to go to another page.\n        button1 = tk.Button(self, text='Back to Page 1',\n                        command=lambda: controller.show_frame(HRXPSPlotter))\n        button1.pack()\n\n\napp=XPSPlotApp()\napp.mainloop()\n</code></pre>\n\n<p>The <code>command=lambda: controller.show_frame(&lt;tk.Frame subclass&gt;)</code> arguments used to construct the <code>tk.Buttons</code> creates an anonymous function which calls <code>controller.show_frame(&lt;tk.Frame subclass&gt;)</code> when the corresponding button is pressed (as opposed to it happening as the <code>Button</code> itself is created).</p>\n\n<p>The <code>show_frame()</code> function looks up the <code>Frame</code> subclass <em>instance</em> in the <code>self.frames</code> dictionary that was created in the <code>XPSPlotApp</code> class <code>__init__()</code> method and \"raises\" it so it becomes as the top-most frame displayed (which effectively hides all the rest of them which are the same size and at the same position but now \"below\" it).</p>\n"}], "owner": {"reputation": 33, "user_id": 8790135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0952c29564e70e85a0b5cb7c3a8012df?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias K", "link": "https://stackoverflow.com/users/8790135/matthias-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 47685198, "answer_count": 1, "score": -3, "last_activity_date": 1512672249, "creation_date": 1512597282, "last_edit_date": 1512672249, "question_id": 47684075, "link": "https://stackoverflow.com/questions/47684075/tkinter-gui-which-loads-a-flie-and-can-print-out-the-file-name", "title": "tkinter gui which loads a flie and can print out the file name", "body": "<p>I am starting with python and I already created a nice plotting function with <code>matplotlib</code>. Now I want to insert the function into a GUI using tkinter.\nAs I learned from youtube and this forum I should use classes.\nUnfortunately I have some problems with that. What I have so far (where I do not understand everything in detail) is:</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import filedialog\n\nLARGE_FONT=('Verdana',12)\n\n\nclass XPSPlotApp(tk.Tk):\n\n    def __init__(self, *args,**kwargs):\n        tk.Tk.__init__(self, *args,**kwargs)\n        container=tk.Frame(self)\n\n        container.pack(side='top',fill='both',expand=True)\n        container.grid_rowconfigure(0,weight=1)#0 is min size\n        container.grid_columnconfigure(0,weight=1)\n\n\n        #adding a menubar#\n        self.menuBar = tk.Menu(master=self)\n        self.filemenu = tk.Menu(self.menuBar, tearoff=0)\n        self.filemenu.add_command(label=\"Open\", command=self.browse_file)\n        self.filemenu.add_command(label=\"Quit!\", command=self.quit)\n        self.menuBar.add_cascade(label=\"File\", menu=self.filemenu)\n        self.config(menu=self.menuBar)\n\n        self.frames={}\n\n        for F in (HRXPSPlotter, SurveyXPSPlotter):\n\n            frame=F(container,self)\n\n            self.frames[F]=frame\n\n            frame.grid(row=0,column=1,sticky='nsew')\n\n        self.show_frame(HRXPSPlotter)\n\n    def show_frame(self, cont):\n        frame=self.frames[cont]\n        frame.tkraise()\n\n    #Question if it should be here because maybe overwrites the filename   form other window?\n    def browse_file(self):\n        self.filename =  filedialog.askopenfilename(initialdir = \"E:/Images\",title = \"choose your file\",filetypes = ((\"txt files\",\"*.txt\"),(\"all files\",\"*.*\")))\n        print(self.filename)\n    def printFN(self):\n        print(self.filename)\n\n\nclass HRXPSPlotter(tk.Frame):\n\n    def __init__(self,parent, controller):\n        tk.Frame.__init__(self,parent)\n        lable=tk.Label(self,text='Sart Page',font=LARGE_FONT)\n        lable.pack(pady=10,padx=10)\n        #button to go to another page\n        button1=tk.Button(self, text='Visit Page 1',command=lambda:controller.show_frame(SurveyXPSPlotter))\n        button1.pack()\n\nclass SurveyXPSPlotter(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self, parent)\n        lable=tk.Label(self,text='Page One',font=LARGE_FONT)\n        lable.pack(pady=10,padx=10)\n        button1=tk.Button(self, text='Back to Page 1',command=lambda:controller.show_frame(HRXPSPlotter))\n        button1.pack()\n\napp=XPSPlotApp()\napp.mainloop()\n</code></pre>\n\n<p>The program has two pages (because I want to use different plotter) and a menu which can open a file from a directory.</p>\n\n<ol>\n<li>Now I want to implement a function which plots the <code>filename</code>+<code>filepath</code> when I  click a button, but I do not get it work? The problem is simply that I do not really know where I have to define the function \u2014 in the <code>__init__</code> or in the subclasses? and also...</li>\n<li>How the <code>command=lambda:controller</code> works, it is still magic for me!</li>\n<li>Why are the subclasses (e.g. <code>pageOne</code>) methods of <code>tk.Frame</code> and not <code>tk.Tk</code> like the <code>__init__</code>?</li>\n</ol>\n"}, {"tags": ["python", "loops", "csv", "while-loop"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1512597520, "post_id": 47684058, "comment_id": 82327858, "body": "The <code>while</code>-loop with the second <code>input</code> is inside the <code>for</code>-loop so it only looks at the currently processed <code>row</code>."}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1512597873, "post_id": 47684058, "comment_id": 82328039, "body": "So do you think I should remove the for loop in general?"}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1512599805, "post_id": 47684058, "comment_id": 82328865, "body": "@stevenmiller Your csv file does not have any commas."}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "reply_to_user": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1512599952, "post_id": 47684058, "comment_id": 82328925, "body": "@Goyo, I wasn&#39;t really sure how to add a csv to the question so I just pulled it from python."}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 1, "creation_date": 1512599022, "post_id": 47684350, "comment_id": 82328510, "body": "This won&#39;t work without seeking the file back to the top. <code>csv.reader</code> doesn&#39;t return a list or something that can just be reiterated over again and again."}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "edited": false, "score": 0, "creation_date": 1512599431, "post_id": 47684350, "comment_id": 82328710, "body": "It works now but only 1x through the loop and then errors out."}, {"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 1, "creation_date": 1512599520, "post_id": 47684350, "comment_id": 82328742, "body": "he&#39;s seeking the wrong thing. you have to seek the file, not the reader which is what my answer does."}, {"owner": {"reputation": 678, "user_id": 8963981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGjL6.png?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8963981/manuel"}, "edited": false, "score": 0, "creation_date": 1512599879, "post_id": 47684350, "comment_id": 82328895, "body": "Ok, my fault. Thanks again."}], "tags": [], "owner": {"reputation": 678, "user_id": 8963981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGjL6.png?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8963981/manuel"}, "is_accepted": false, "score": 1, "last_activity_date": 1512599833, "last_edit_date": 1512599833, "creation_date": 1512598572, "answer_id": 47684350, "question_id": 47684058, "link": "https://stackoverflow.com/questions/47684058/stuck-in-a-while-loop-in-python/47684350#47684350", "title": "Stuck in a while loop in python", "body": "<pre><code>import csv\n\nfull_name = input('Enter your full name: ').lower()\nbucle = True\nwith open('Report1.csv') as csvfile:\n    hour_summation = {}\n    read_csv = csv.reader(csvfile, delimiter=',')\n    while bucle:    \n        for row in read_csv:\n            if(' '.join((row[0], row[1]))).lower() == full_name.strip().lower():\n                hour_summation[row[2]] = hour_summation.get(row[2], 0) + int(float(row[3]))\n                bucle = False\n        if bucle:\n            print('Name is not in system')\n            full_name = input('Enter your full name: ').lower()\n            csvfile.seek(0)\n\nprint('This is {} full hours report:'.format(full_name))\nfor k, v in hour_summation.items():\nprint(k + ': ' + str(v) + ' hours')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "edited": false, "score": 0, "creation_date": 1512599275, "post_id": 47684394, "comment_id": 82328635, "body": "This is really close to what I need however it only prints out the first line of the csv that is associated with the user name. I&#39;m trying to get a full hours report from that name."}, {"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "reply_to_user": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "edited": false, "score": 0, "creation_date": 1512599456, "post_id": 47684394, "comment_id": 82328718, "body": "@stevenmiller Yeah i messed up. I just removed a line that wasn&#39;t supposed to be there. I had an extra break that was breaking the for loop too early. Check edit and try again. Should get you every row with that name."}, {"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "edited": false, "score": 0, "creation_date": 1512599560, "post_id": 47684394, "comment_id": 82328764, "body": "You rocked it my man! This is exactly what I was looking for. Now if only I could make sure misspelled names could be avoided. lol"}], "tags": [], "owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "is_accepted": true, "score": 2, "last_activity_date": 1512599381, "last_edit_date": 1512599381, "creation_date": 1512598745, "answer_id": 47684394, "question_id": 47684058, "link": "https://stackoverflow.com/questions/47684058/stuck-in-a-while-loop-in-python/47684394#47684394", "title": "Stuck in a while loop in python", "body": "<p>You're asking for input inside the while loop that never checks any row other then the current row. It looks like you're trying to iterate over the entire list to see if the name is anywhere in there (which is rough performance wise but I won't confuse you by getting into that xD) so your input check and loops need to be moved around a bit like so:</p>\n\n<pre><code>import csv\n\nwith open('Report1.csv') as csvfile:\n  hour_summation = {}\n  read_csv = csv.reader(csvfile, delimiter=',')\n  name_found = False\n  while not name_found:\n    # take user input for name\n    full_name = input('Enter your full name: ').lower()\n    # start search at top of file. Have to do this or each loop will\n    # start at the end of the file after the first check.\n    csvfile.seek(0)\n    for row in read_csv:\n      # check to see if row matches name\n      if(' '.join((row[0], row[1]))).lower() == full_name.strip().lower():\n        name_found = True\n        hour_summation[row[2]] = hour_summation.get(row[2], 0) + int(float(row[3]))\n\n    # name wasn't found, so repeat process\n    if not name_found:\n      # name wasn't found, go back to start of while loop\n      print('Name is not in system')\n    else:\n      # break out of while loop. Technically not required since while\n      # will exit here anyway, but clarity is nice\n      break\n\nprint('This is {} full hours report:'.format(full_name))\nfor k, v in hour_summation.items():\n    print(k + ': ' + str(v) + ' hours')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "edited": false, "score": 0, "creation_date": 1512599308, "post_id": 47684477, "comment_id": 82328648, "body": "This works great except the loop is only good for one error. So when I input two names in a row which are not in the csv it only works 1 time and then stops."}, {"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "reply_to_user": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "edited": false, "score": 0, "creation_date": 1512599689, "post_id": 47684477, "comment_id": 82328816, "body": "I&#39;ve added upper loop, so it&#39;ll ask for the name till it get a valid one, thereafter it&#39;ll stop. The logic and the code can be different depending on the requirements"}], "tags": [], "owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "is_accepted": false, "score": 1, "last_activity_date": 1512599507, "last_edit_date": 1512599507, "creation_date": 1512599079, "answer_id": 47684477, "question_id": 47684058, "link": "https://stackoverflow.com/questions/47684058/stuck-in-a-while-loop-in-python/47684477#47684477", "title": "Stuck in a while loop in python", "body": "<p>assuming the file can have multiple lines related to the given full name, try something like:</p>\n\n<pre><code>import csv\n\nfull_name = input('Enter your full name: ').lower()\nrun=1\nwhile run:    \n    with open('Report1.csv') as csvfile:\n        hour_summation = {}\n        read_csv = csv.reader(csvfile, delimiter=',')\n        for row in read_csv:\n            if(' '.join((row[0], row[1]))).lower() == full_name.strip().lower():\n                hour_summation[row[2]] = hour_summation.get(row[2], 0) + int(float(row[3]))\n\n    if hour_summation:\n        print('This is {} full hours report:'.format(full_name))\n        for k, v in hour_summation.items():\n            print(k + ': ' + str(v) + ' hours')\n        run=0\n    else:\n        print('Name is not in system')\n        full_name = input('Enter your full name: ').lower() # following your code, \n                                                            # request for a new full name comes only in case no results for the 1st one \n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 8892208, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d51e1190053b8f23778c4c9df51a471?s=128&d=identicon&r=PG&f=1", "display_name": "stevenmiller", "link": "https://stackoverflow.com/users/8892208/stevenmiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 47684394, "answer_count": 3, "score": -1, "last_activity_date": 1512599833, "creation_date": 1512597199, "question_id": 47684058, "link": "https://stackoverflow.com/questions/47684058/stuck-in-a-while-loop-in-python", "title": "Stuck in a while loop in python", "body": "<p>I'm very new to python so bear with me. I have this code below which I've inserted a while loop to make sure every time a name is given it checks to verify that name is in the csv and then if it isn't it gives and error and asks for a new name. My problem is that I can't seem to get out of the loop. Even with a new name that I know for a fact is in the csv it still sticks in the loop. My question is how can I get this code to run through a loop and verify the name is in there? any help would be great. I am even open to changing the entire code if there's a better way to write this. </p>\n\n<p>Here's what I got: </p>\n\n<pre><code>import csv\n\nfull_name = input('Enter your full name: ').lower()\n\nwith open('Report1.csv') as csvfile:\n    hour_summation = {}\n    read_csv = csv.reader(csvfile, delimiter=',')\n    for row in read_csv:\n        while (' '.join((row[0], row[1]))).lower() != full_name.strip().lower():\n            print('Name is not in system')\n            full_name = input('Enter your full name: ').lower()\n        if(' '.join((row[0], row[1]))).lower() == full_name.strip().lower():\n            hour_summation[row[2]] = hour_summation.get(row[2], 0) + int(float(row[3]))\nprint('This is {} full hours report:'.format(full_name))\nfor k, v in hour_summation.items():\n    print(k + ': ' + str(v) + ' hours')\n</code></pre>\n\n<p>Here's the result when I give an input:\nfyi. Steve Miller is not in the csv file so that first response is correct. However, Sri Mantri is in the file and it should continue on and print out all the listings under her name. </p>\n\n<pre><code>Enter your full name: Steve Miller\nName is not in system\nEnter your full name: Sri Mantri\nName is not in system\n</code></pre>\n\n<p>Here's what the output should look like when the code runs. </p>\n\n<pre><code>Enter your full name: Sri mantri\nThis is sri mantri full hours report:\nBeeline Blank: 28 hours\nSRV-0001 Service Requests for Base and Direct Services: 4 hours\nSUP-0001 Support Requests with a CISM Ticket: 129 hours\nSUP-2503 Web Application Maintenance &amp; Support: 72 hours\n0026184229 Margin Controlling Java Rewrite: 4 hours\n0033472751 PRE-AFE 2017 - CMS Enhancements: 2 hours\n0033472863 PRE-AFE 2017 - BPM Enhancements: 67 hours\nAPP-10008 Pre-Series (Non-Mainframe): 4 hours\nAPP-10146 Logistics (Non-Mainframe): 3 hours\nAPP-10195 Vehicle Labor System (Mainframe): 3 hours\nAPP-10354 Web PartsPro (Non-Mainframe): 1 hours\nAPP-10431 VIPService (Non-Mainframe): 1 hours\nAPP-10432 VIPService (Mainframe): 3 hours\nAPP-10536 Truck Invoice Adjustments (Mainframe): 2 hours\n</code></pre>\n\n<p>and the csv looks like this: </p>\n\n<pre><code>First Name  Last Name   Activity    Hours\nSri Mantri  SUP-2503 Web Application Maintenance &amp; Support  11\nSri Mantri  SUP-2503 Web Application Maintenance &amp; Support  3\nSri Mantri  SUP-2503 Web Application Maintenance &amp; Support  5\nSri Mantri  SUP-2503 Web Application Maintenance &amp; Support  2\nJeff    Moore   SUP-2503 Web Application Maintenance &amp; Support  3\nDavid   Ayers   SUP-2507  NAFTA MFTS OS Support 10\nPrasanth    Musunuru    0020826809 Vertex 6.0 at the NDC    4\nPrasanth    Musunuru    0020826809 Vertex 6.0 at the NDC    3\nPrasanth    Musunuru    0020826809 Vertex 6.0 at the NDC    1\nPrasanth    Musunuru    0020826809 Vertex 6.0 at the NDC    1\nJeff    Moore   0024480049 Fuel Tanks (infrastructure) - time tracking  1\nJeff    Moore   0024480049 Fuel Tanks (infrastructure) - time tracking  1\nJeff    Moore   0024480049 Fuel Tanks (infrastructure) - time tracking  4\n</code></pre>\n"}, {"tags": ["python", "database", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "edited": false, "score": 0, "creation_date": 1512598494, "post_id": 47684269, "comment_id": 82328271, "body": "Thanks. But the groupby could be slow right? I need to run this for about ~500M rows, is there any quick way to do this?"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "edited": false, "score": 0, "creation_date": 1512599152, "post_id": 47684269, "comment_id": 82328582, "body": "@MTANG I added another solution that doesn&#39;t use groupby and I see some speed improvement with this small dataset."}, {"owner": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "edited": false, "score": 0, "creation_date": 1512659084, "post_id": 47684269, "comment_id": 82355701, "body": "However I found that it gets even quicker if I manually add offsets to the index to align it into nearest minutes."}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "edited": false, "score": 0, "creation_date": 1512659138, "post_id": 47684269, "comment_id": 82355744, "body": "@MTANG would you post your solution?  This a great place for the SO community to learn from your situation.  Thank you."}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "edited": false, "score": 0, "creation_date": 1513288208, "post_id": 47684269, "comment_id": 82607853, "body": "@MTANG if this answer help you, would you consider <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work?answertab=votes#tab-top\">accepting</a>.  Thanks."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 1, "last_activity_date": 1512599202, "last_edit_date": 1512599202, "creation_date": 1512598147, "answer_id": 47684269, "question_id": 47684057, "link": "https://stackoverflow.com/questions/47684057/how-to-resample-and-round-every-index-into-nearest-seconds/47684269#47684269", "title": "How to resample and round every index into nearest seconds?", "body": "<p>You need to use <code>floor</code>:</p>\n\n<pre><code>df.groupby(df.index.floor('Min')).last().resample('Min').asfreq()\n</code></pre>\n\n<p>Let's try for speed(need Pandas 0.21.0+):</p>\n\n<pre><code>df.set_axis(df.index.floor('Min'), axis=0, inplace=False)\\\n  .drop_duplicates().resample('Min').asfreq()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>             bid\ntime            \n03:03:00  116.02\n03:04:00     NaN\n03:05:00     NaN\n03:06:00     NaN\n03:07:00  116.24\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1512598327, "creation_date": 1512598327, "answer_id": 47684306, "question_id": 47684057, "link": "https://stackoverflow.com/questions/47684057/how-to-resample-and-round-every-index-into-nearest-seconds/47684306#47684306", "title": "How to resample and round every index into nearest seconds?", "body": "<pre><code>(df.groupby(df['time'].dt.round('1min') )['bid'].mean()).asfreq('Min')\nOut[45]: \ntime\n2017-12-06 03:04:00    116.02\n2017-12-06 03:05:00       NaN\n2017-12-06 03:06:00       NaN\n2017-12-06 03:07:00       NaN\n2017-12-06 03:08:00    116.24\nFreq: T, Name: bid, dtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "is_accepted": false, "score": 1, "last_activity_date": 1512683872, "creation_date": 1512683872, "answer_id": 47704513, "question_id": 47684057, "link": "https://stackoverflow.com/questions/47684057/how-to-resample-and-round-every-index-into-nearest-seconds/47704513#47704513", "title": "How to resample and round every index into nearest seconds?", "body": "<p>I tried with this solution and it runs faster.</p>\n\n<pre><code>df = df.resample('Min').last()\noffset_mc = df.index[0].microseconds\noffset_sec = df.index[0].seconds % 60\nif not (offset_mc == 0 and offset_sec == 0): df.index +=  pd.tslib.Timedelta(str(59-offset_sec)+'seconds '+str(1000000-offset_mc)+'microseconds')\n</code></pre>\n"}], "owner": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1512683872, "creation_date": 1512597197, "last_edit_date": 1512597560, "question_id": 47684057, "link": "https://stackoverflow.com/questions/47684057/how-to-resample-and-round-every-index-into-nearest-seconds", "title": "How to resample and round every index into nearest seconds?", "body": "<p>My data looks like (the datatype is Pandas DataFrame) :</p>\n\n<pre><code>price = \n\ntime                bid\n03:03:34.797000     116.02\n03:03:34.797000     116.02\n03:03:54.152000     116.02\n03:03:54.169000     116.02\n03:03:54.169000     116.02\n03:07:36.899000     116.24\n03:07:48.760000     116.24\n03:07:48.760000     116.24\n03:07:48.761000     116.24\n</code></pre>\n\n<p>I tried to resample the data into second level data and align every data into the nearest seconds no earlier than the original time. I expect the result to be:</p>\n\n<pre><code>03:04:00    116.02\n03:05:00    NaN\n03:06:00    NaN\n03:07:00    NaN\n03:08:00    116.24\n</code></pre>\n\n<p>and used </p>\n\n<pre><code>price.resample('Min').last()\n</code></pre>\n\n<p>However I got.</p>\n\n<pre><code>03:03:34.797000     116.02\n03:04:34.797000     NaN\n03:05:34.797000     NaN\n03:06:34.797000     NaN\n03:07:34.797000     116.24\n</code></pre>\n\n<p>Everything goes well except the alignment. Anyone could help me solve the problem? Thanks.</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512598471, "post_id": 47684053, "comment_id": 82328261, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44241138/select-data-frame-by-dict-passing-in-parameters-or-comprehension-list-python-pan\">Select data frame by dict passing in parameters or comprehension list python pandas</a>"}, {"owner": {"reputation": 4901, "user_id": 3462321, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd0086ec4a53211d09387d975f55c8d3?s=128&d=identicon&r=PG&f=1", "display_name": "denvar", "link": "https://stackoverflow.com/users/3462321/denvar"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512599816, "post_id": 47684053, "comment_id": 82328868, "body": "@AntonvBR it is very similar, but does it contain an explicit example of using the direction part? I see you have that in your answer, thank you."}], "answers": [{"tags": [], "owner": {"reputation": 864, "user_id": 8627559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a5ba760dc2b2ec8cabee703ad415414?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Dresl", "link": "https://stackoverflow.com/users/8627559/lucas-dresl"}, "is_accepted": false, "score": 1, "last_activity_date": 1512598152, "creation_date": 1512598152, "answer_id": 47684271, "question_id": 47684053, "link": "https://stackoverflow.com/questions/47684053/create-generic-data-filter-on-pandas-dataframe-in-python/47684271#47684271", "title": "Create generic data filter on pandas dataframe in Python", "body": "<p>If I get you, using np.where i imagine something like this</p>\n\n<pre><code>df['filter'] = np.where((df['value'] == 100) &amp; (df['direction'] == '&gt;'), 1,0)\n\ndf.loc[df['filter'] == 1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 1, "last_activity_date": 1512598727, "creation_date": 1512598727, "answer_id": 47684386, "question_id": 47684053, "link": "https://stackoverflow.com/questions/47684053/create-generic-data-filter-on-pandas-dataframe-in-python/47684386#47684386", "title": "Create generic data filter on pandas dataframe in Python", "body": "<p>Here is an example applied with your data from <a href=\"https://stackoverflow.com/questions/44241138/select-data-frame-by-dict-passing-in-parameters-or-comprehension-list-python-pan\">Select data frame by dict passing in parameters or comprehension list python pandas</a></p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame(dict(value=[100,200],direction=['&gt;','&lt;']))\nmy_filter = {\"value\":100, \"direction\": \"&gt;\"}\n\n# Apply\nmask = (df[list(my_filter)] == pd.Series(my_filter)).all(axis=1)\ndf[mask]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 5602957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105706212ebe508932be29884fb15902?s=128&d=identicon&r=PG&f=1", "display_name": "CodeCollector", "link": "https://stackoverflow.com/users/5602957/codecollector"}, "is_accepted": false, "score": 1, "last_activity_date": 1512598935, "creation_date": 1512598935, "answer_id": 47684441, "question_id": 47684053, "link": "https://stackoverflow.com/questions/47684053/create-generic-data-filter-on-pandas-dataframe-in-python/47684441#47684441", "title": "Create generic data filter on pandas dataframe in Python", "body": "<p>You can use the operator module.\nHere is one example</p>\n\n<pre><code>import pandas as pd\nimport operator\nmy_data = pd.DataFrame([[1,1],[1,1]])\nmy_filter = {\"value\": 1, \"direction\": operator.ge}\nprint(my_data.loc[my_filter[\"direction\"](my_data[0],my_filter[\"value\"])])\n</code></pre>\n\n<p>This should ideally do the job.\nOtherwise you can use np.where with some modifications(personally I haven't used np.where much).</p>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1515623494, "creation_date": 1515623494, "answer_id": 48197178, "question_id": 47684053, "link": "https://stackoverflow.com/questions/47684053/create-generic-data-filter-on-pandas-dataframe-in-python/48197178#48197178", "title": "Create generic data filter on pandas dataframe in Python", "body": "<p>Demo:</p>\n\n<pre><code>In [73]: df\nOut[73]:\n   value direction\n0    100         &gt;\n1     12         ^\n2    101         &gt;\n3     13         v\n4    100         &lt;\n\nIn [74]: my_filter = [\"value &gt;= 100\", \"direction == '&gt;'\"]\n\nIn [75]: df.query(' and '.join(my_filter))\nOut[75]:\n   value direction\n0    100         &gt;\n2    101         &gt;\n</code></pre>\n"}], "owner": {"reputation": 4901, "user_id": 3462321, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd0086ec4a53211d09387d975f55c8d3?s=128&d=identicon&r=PG&f=1", "display_name": "denvar", "link": "https://stackoverflow.com/users/3462321/denvar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 48197178, "answer_count": 4, "score": 1, "last_activity_date": 1515623494, "creation_date": 1512597173, "last_edit_date": 1512599698, "question_id": 47684053, "link": "https://stackoverflow.com/questions/47684053/create-generic-data-filter-on-pandas-dataframe-in-python", "title": "Create generic data filter on pandas dataframe in Python", "body": "<p>I am trying to create a generic filter on some data. Consider a boiled down example:</p>\n\n<pre><code>my_data = pd.DataFrame(some_data)\nmy_filter = {\"value\": 100, \"direction\": \"&gt;\"}\n</code></pre>\n\n<p>now I want to leverage <code>numpy</code>'s <code>where</code> to do something like:</p>\n\n<pre><code>np.where(my_data (...) my_filter[\"value\"])\n</code></pre>\n\n<p>where, as \"(...)\", I want <code>my_filter[\"direction\"]</code>. Sure, I can use something like \"<code>eval(...)</code>\" by putting together an appropriate string.</p>\n\n<p><strong>Question</strong> But I was wondering if there is a way to do this without <code>eval(...)</code>?</p>\n\n<p><strong>Follow-up on \"already answered\" claim:</strong> The key here is that I need the <em>direction</em> to be generic. Sub-selecting data based on values is easy \"<code>np.where(my_data == my_filter[\"value\"])</code>\", e.g.</p>\n"}, {"tags": ["python", "excel", "pandas", "syntax", "xlrd"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1512599119, "post_id": 47684051, "comment_id": 82328563, "body": "Are you coming from R? This would be easier done with <code>list(range(0, 17))</code> assuming the second parameter accepts a list."}, {"owner": {"reputation": 111, "user_id": 9053589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b77d01f1f2d9ba689dce2f8dff407b?s=128&d=identicon&r=PG&f=1", "display_name": "geojasm", "link": "https://stackoverflow.com/users/9053589/geojasm"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1512599404, "post_id": 47684051, "comment_id": 82328702, "body": "Coming from Matlab"}], "owner": {"reputation": 111, "user_id": 9053589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b77d01f1f2d9ba689dce2f8dff407b?s=128&d=identicon&r=PG&f=1", "display_name": "geojasm", "link": "https://stackoverflow.com/users/9053589/geojasm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512597173, "creation_date": 1512597173, "question_id": 47684051, "link": "https://stackoverflow.com/questions/47684051/correct-syntax-for-write-function", "title": "Correct Syntax for write function", "body": "<p>I would like to use the size of the lists that I created (col_test) for indexing the write function but I do not know how to do this, and for that matter I don't know the syntax for the write function well at all. I want to populate the columns in the new sheet with the lists I created starting in row 6 of column 1.</p>\n\n<pre><code>import os\nimport glob\nimport pandas as pd\n\nfor csvfile in glob.glob(os.path.join('.', '*.csv')):\n    df = pd.read_csv(csvfile)\n\ncol_test = df['Test #'].tolist()\ncol_retest = df['Retest #'].tolist()\n\nfrom xlrd import open_workbook\nfrom xlutils.copy import copy\n\nrb = open_workbook(\"Excel FDT Master_01_update.xlsx\")\nwb = copy(rb)\n\ns = wb.get_sheet(3)\ns.write(6,0:17,0, col_test)\nwb.save('didthiswork.xls')\n</code></pre>\n"}, {"tags": ["python", "robotframework", "configparser"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 7, "last_activity_date": 1512600385, "creation_date": 1512600385, "answer_id": 47684774, "question_id": 47684027, "link": "https://stackoverflow.com/questions/47684027/config-parsing-robotframework/47684774#47684774", "title": "Config parsing Robotframework", "body": "<p>Robot framework variable files can be python code, and because they are python, you can create variables any way you want.</p>\n\n<p>You just need to create a python function that returns a dictionary of key/value pairs. Each key will become a robot variable.  </p>\n\n<p>For example, for the data in your question, if you want to create variables like <code>${CONFIG.Environment.username}</code>, you could do it like this:</p>\n\n<pre><code>import ConfigParser\ndef get_variables(varname, filename):\n    config = ConfigParser.ConfigParser()\n    config.read(filename)\n\n    variables = {}\n    for section in config.sections():\n        for key, value in config.items(section):\n            var = \"%s.%s.%s\" % (varname, section, key)\n            variables[var] = value\n    return variables\n</code></pre>\n\n<p>Save it to a file named \"ConfigVariables.py\", and put it where your test can find it. You can then use it like this:</p>\n\n<pre><code>*** Settings ***\nVariables  ConfigVariables.py  CONFIG  /tmp/Config.ini\n\n*** Test cases ***\nExample\n    should be equal  ${CONFIG.Environment.username}  username@mail.com\n    should be equal  ${CONFIG.Environment.password}  testpassword\n    should be equal  ${CONFIG.WebUI.login_url}       http://testsite.net/\n</code></pre>\n\n<p>Using functions to define variables is described in the robot framework user guide, in the section titled <a href=\"http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#variable-files\" rel=\"noreferrer\">Variable Files</a></p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7328965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25265903e5fbde8dba2b30cdcd368aaf?s=128&d=identicon&r=PG", "display_name": "Omar Mughrabi", "link": "https://stackoverflow.com/users/7328965/omar-mughrabi"}, "is_accepted": false, "score": 0, "last_activity_date": 1563278949, "creation_date": 1563278949, "answer_id": 57056930, "question_id": 47684027, "link": "https://stackoverflow.com/questions/47684027/config-parsing-robotframework/57056930#57056930", "title": "Config parsing Robotframework", "body": "<p>You can still use your config.ini file as below:</p>\n\n<pre><code>[Environment]\nUsername = username@mail.com\nPassword = testpassword\n\n[WebUI]\nlogin_url =        http://testsite.net/\n</code></pre>\n\n<p>is and simpley create a python file 'MyVariables.py fetch your variables as following:</p>\n\n<pre><code>import sys\nimport os\nimport ConfigParser\n\n\ntry:\n    dir_path = os.path.dirname(os.path.realpath(__file__))\n    config_file = os.path.join(dir_path,'config.ini')\n\n    config = ConfigParser.ConfigParser()\n    config.read(config_file)\n\n    login_url = config.get('WebUI','login_url')    \n    Username = config.get('Environment','Username')\n    Password= config.get('Environment','Password')\n\n\nexcept (ConfigParser.Error, ConfigParser.NoSectionError, ConfigParser.NoOptionError) as e:\n    sys.stderr.write(\"Error: {0}.\\n\".format(e))\n    sys.exit()\n</code></pre>\n\n<p>Notice that you have defined your variables on the py file same as they are named on the config file pointing to the corresponding section, for example in python file we defined variable 'login_url' using the config file section 'WebUI' and the variable 'login_url'</p>\n\n<p>And on your robot file you just need to set the variables file on the settings and you can user the defined variables on you test case:</p>\n\n<pre><code>*** Settings ***\nLibrary                 Selenium2Library\nVariables               MyVariables.py\n\n\n*** Test Cases ***\nTesting Variables\n    log variables\n</code></pre>\n\n<p>Your report will be something like:</p>\n\n<blockquote>\n  <p>15:02:41.615  INFO    ${login_url} = <a href=\"http://testsite.net/\" rel=\"nofollow noreferrer\">http://testsite.net/</a><br>\n  15:02:41.616  INFO    ${Password} = testpassword<br>\n  15:02:41.616  INFO    ${Username} = username@mail.com</p>\n</blockquote>\n"}], "owner": {"reputation": 198, "user_id": 2868419, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/564374779/picture?type=large", "display_name": "Souparno", "link": "https://stackoverflow.com/users/2868419/souparno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4137, "favorite_count": 1, "accepted_answer_id": 47684774, "answer_count": 2, "score": 4, "last_activity_date": 1563278949, "creation_date": 1512597059, "last_edit_date": 1512598551, "question_id": 47684027, "link": "https://stackoverflow.com/questions/47684027/config-parsing-robotframework", "title": "Config parsing Robotframework", "body": "<p>I have a project that has been implemented using a mix of python and Robotframework scripts. I have have a bunch of configuration items stored inside my projects  Config.ini file which looks like this:</p>\n\n<pre><code>[Environment]\nUsername: username@mail.com\nPassword: testpassword\n\n[WebUI]\nlogin_url:        http://testsite.net/\n</code></pre>\n\n<p>Python is able to interpret the above variables alright using the ConfigManager object like this:</p>\n\n<pre><code>class MyConfigManager(ConfigManager):\n    \"\"\"\n    Class to hold all config values in form of variables.\n    \"\"\"\n\ndef __init__(self):\n    super().__init__(\"dispatch/config.ini\")\n    self._android = Android(self._config)\n\n@property\ndef username(self):\n    return self._config.get(_env_section, \"Username\")\n\n@property\ndef password(self):\n    return self._config.get(_env_section, \"Password\")\n\nconfig = MyConfigManager()\n</code></pre>\n\n<p>Is it possible to import config.ini in Robotframework as a variables file and use these values? I am trying not to have another variables file for my Robot scripts.</p>\n\n<p>EDIT:</p>\n\n<p>I am attempting to do something like this with my robot file:</p>\n\n<pre><code>*** Settings ***\nDocumentation   WebUI Login Tests\nLibrary         SeleniumLibrary\nResource        common_keywords.robot\nVariables       config.ini\n# ^ will this work?  \nDefault Tags    Smoke\nSuite Setup     Set Selenium Timeout        15seconds\nSuite Teardown  Close Browser\n\n*** Variables ***\n\n${login_button}     class:auth0-lock-submit\n\n\n\n*** Test Cases ***\nTC001_Login_Test\n    [Documentation]     Open login page, login with credentials in arguments.\n    Open Browser Confirm Login Page     chrome      ${login_url}\n    Provide Input Text          name:email          ${username}\n    Provide Input Text          name:password       ${password}\n    Find Element And Click      ${login_button}\n# the three vars ${login_url},  ${username}, ${password} would be from \n# config.ini but this isnt working. What am I doing wrong? or is not\n# possible to do this?  \n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1512597740, "post_id": 47684009, "comment_id": 82327973, "body": "Note that a dictionary is normally called &quot;dict&quot; for short. &quot;Dic&quot; sounds like &quot;dick&quot;, so you may want to avoid it."}, {"owner": {"reputation": 15, "user_id": 8954874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12ceef813341482099c3f4787eb232a?s=128&d=identicon&r=PG&f=1", "display_name": "no name", "link": "https://stackoverflow.com/users/8954874/no-name"}, "reply_to_user": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1512597799, "post_id": 47684009, "comment_id": 82328004, "body": "Oh , your right...I&#39;m sorry about that.."}, {"owner": {"reputation": 4722, "user_id": 1170207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b71f9d5ae0b1574cbd07efb7ae926f8?s=128&d=identicon&r=PG", "display_name": "Jan Christoph Terasa", "link": "https://stackoverflow.com/users/1170207/jan-christoph-terasa"}, "edited": false, "score": 0, "creation_date": 1512599339, "post_id": 47684009, "comment_id": 82328666, "body": "There is no value <code>&quot;1&quot;</code> in <code>DicA</code>, nor a key <code>&quot;1&quot;</code>. Keep in mind that <code>dict</code>s are not guaranteed to be ordered/sorted, so <code>&quot;abc&quot;</code> is not even the &quot;first&quot; key."}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 2, "creation_date": 1512597984, "post_id": 47684141, "comment_id": 82328087, "body": "Instead of <code>defaultdict</code> you can also just do a <code>get</code> on it. Ex: <code>dicC = {key: dicB.get(val,&quot;&quot;) for key, val in dicA.items()}</code>"}, {"owner": {"reputation": 15, "user_id": 8954874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12ceef813341482099c3f4787eb232a?s=128&d=identicon&r=PG&f=1", "display_name": "no name", "link": "https://stackoverflow.com/users/8954874/no-name"}, "edited": false, "score": 0, "creation_date": 1512598034, "post_id": 47684141, "comment_id": 82328116, "body": "This helped me alot! Thank you very much. However i would&#39;ve never get the idea to do it that way. I always tried it with for loops and never got to the correct outcome. Guess i still have to learn a ton."}, {"owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "reply_to_user": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1512598095, "post_id": 47684141, "comment_id": 82328131, "body": "@MCBama That&#39;s a much better implementation!"}, {"owner": {"reputation": 15, "user_id": 8954874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12ceef813341482099c3f4787eb232a?s=128&d=identicon&r=PG&f=1", "display_name": "no name", "link": "https://stackoverflow.com/users/8954874/no-name"}, "edited": false, "score": 0, "creation_date": 1512604576, "post_id": 47684141, "comment_id": 82330676, "body": "Is there any way to implement map though? My friend said he did it easily with map so i*m trying it out , but i cant get anything to work.."}], "tags": [], "owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "is_accepted": true, "score": 1, "last_activity_date": 1512598046, "last_edit_date": 1512598046, "creation_date": 1512597576, "answer_id": 47684141, "question_id": 47684009, "link": "https://stackoverflow.com/questions/47684009/python-compare-replace-keys-in-dic-with-values-of-another-dic/47684141#47684141", "title": "Python compare/replace keys in dic with values of another dic", "body": "<p>You could do it with a dictionary comprehension:</p>\n\n<pre><code>dicA= {'abc': 1, 'def': 2, 'ghi': 3}\ndicB= {3: 'klm', 2: 'nop', 1: 'qrs'}\n\ndicC = {key: dicB[val] for key, val in dicA.items()}\n</code></pre>\n\n<p>However, this will fail if <code>dicB</code> does not have a key for one of the items in <code>dicA</code>.  You can get around this by using the <code>get</code> dictionary method which accepts a default value, as pointed out by MCBama.</p>\n\n<pre><code>dicA = {'abc': 1, 'def': 2, 'ghi': 3}\ndicB = {2: 'nop', 1: 'qrs'}\n\ndicC = {key: dicB.get(val,\"\") for key, val in dicA.items()}\n# {'abc': 'qrs', 'def': 'nop', 'ghi': ''}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8954874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12ceef813341482099c3f4787eb232a?s=128&d=identicon&r=PG&f=1", "display_name": "no name", "link": "https://stackoverflow.com/users/8954874/no-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 47684141, "answer_count": 1, "score": 1, "last_activity_date": 1512602645, "creation_date": 1512596940, "last_edit_date": 1512602645, "question_id": 47684009, "link": "https://stackoverflow.com/questions/47684009/python-compare-replace-keys-in-dic-with-values-of-another-dic", "title": "Python compare/replace keys in dic with values of another dic", "body": "<p>I'm looking for a way to compare/replace a value of a dictionary with a key of another dictionary  like so :</p>\n\n<pre><code>DicA = {'abc' : 1 , 'def' : 2 , 'ghi' : 3}\n\nDicB = {3: 'klm' , 2 : 'nop' ,1 : 'qrs'}\n</code></pre>\n\n<p>Result should be:</p>\n\n<pre><code>DicC = {'abc' : 'qrs' , 'def' : 'nop' ,'ghi' : 'klm'}\n</code></pre>\n\n<p>So the Value \"1\" in <code>DicA</code> got replaced with \"qrs\" because they key in <code>DicB(1)</code> matched with the Value in <code>DicA(1)</code> so the result is -> abc : qrs. </p>\n\n<ol>\n<li><p>How do I compare the  key with the value of another dictionary?(for loops)?</p></li>\n<li><p>How do I replace it afterwards?</p></li>\n<li><p>Is there a way to use the implemented map() function for this? E.g.</p></li>\n</ol>\n\n\n\n<pre><code>map(lambda dicA, dicB):\n</code></pre>\n"}, {"tags": ["python", "sql-server", "pandas", "pyodbc"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1512597307, "post_id": 47683981, "comment_id": 82327766, "body": "I believe the DB-API specifies that <code>.execute()</code> allows only one query per command."}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1512600376, "post_id": 47683981, "comment_id": 82329080, "body": "@bernie - I just had another look at <a href=\"https://www.python.org/dev/peps/pep-0249/\" rel=\"nofollow noreferrer\">PEP249</a> and I see no mention of that. Certainly an anonymous code block (multi-statement batch) <i>can</i> work if the ODBC driver allows it (and Microsoft&#39;s ODBC Driver for SQL Server does allow it)."}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "reply_to_user": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1512602955, "post_id": 47683981, "comment_id": 82330058, "body": "Ah, ok. Thanks @GordThompson. I must be mistaken then."}], "answers": [{"comments": [{"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1512600639, "post_id": 47684776, "comment_id": 82329171, "body": "... or perhaps try passing the whole anonymous code block (without splitting it) to <code>read_sql</code>? (Can&#39;t try it right now; no pandas on my phone....)"}, {"owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "reply_to_user": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1512600713, "post_id": 47684776, "comment_id": 82329200, "body": "that would work better, I was just trying to answer the question of why their code wasn&#39;t working"}, {"owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "edited": false, "score": 0, "creation_date": 1512604602, "post_id": 47684776, "comment_id": 82330684, "body": "This post answers the original question of why the code was not working, though ultimately ended up implementing the solution suggested by user GordThompson. Thank you to both."}, {"owner": {"reputation": 11187, "user_id": 1394697, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/658ae7ed330d8fc70df1c173960d27ad?s=128&d=identicon&r=PG", "display_name": "FlipperPA", "link": "https://stackoverflow.com/users/1394697/flipperpa"}, "edited": false, "score": 0, "creation_date": 1512605233, "post_id": 47684776, "comment_id": 82330856, "body": "Isn&#39;t it also <code>SELECT &lt;stuff&gt; INTO #&lt;temptable1&gt; FROM &lt;table1&gt;</code>? I believe the order of your <code>INTO</code> / <code>FROM</code> are reversed in your raw SQL."}, {"owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "reply_to_user": {"reputation": 11187, "user_id": 1394697, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/658ae7ed330d8fc70df1c173960d27ad?s=128&d=identicon&r=PG", "display_name": "FlipperPA", "link": "https://stackoverflow.com/users/1394697/flipperpa"}, "edited": false, "score": 1, "creation_date": 1512692804, "post_id": 47684776, "comment_id": 82372072, "body": "@FlipperPA I&#39;m using MS SQL Server, so the way it is posted works for me."}], "tags": [], "owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "is_accepted": true, "score": 1, "last_activity_date": 1512600399, "creation_date": 1512600399, "answer_id": 47684776, "question_id": 47683981, "link": "https://stackoverflow.com/questions/47683981/executing-sequence-of-ms-sql-queries-with-temp-tables-in-python/47684776#47684776", "title": "Executing sequence of MS sql queries with temp tables in python", "body": "<p>I believe it is because the first several queries don't return any data. Pandas read_sql expects data to come back. You should just use the pyodbc execute function to run those queries. </p>\n"}], "owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 47684776, "answer_count": 1, "score": 0, "last_activity_date": 1512600399, "creation_date": 1512596858, "question_id": 47683981, "link": "https://stackoverflow.com/questions/47683981/executing-sequence-of-ms-sql-queries-with-temp-tables-in-python", "title": "Executing sequence of MS sql queries with temp tables in python", "body": "<p>Currently trying to use <code>pyodbc</code> and <code>pandas</code> to read sequence of sql queries (from <code>MS sql server</code>) and examine as dataframe, getting the following error on the very first query in the sequence:</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-95-5eec1638614b&gt; in &lt;module&gt;()\n    285 for count, q in enumerate(sql_in):\n    286     print count\n--&gt; 287     frame_in = pd.read_sql(q, cnxn)\n    288 print frame_in.head(n=10)\n    289 \n\n/home/mapr/anaconda2/lib/python2.7/site-packages/pandas/io/sql.pyc in read_sql(sql, con, index_col, coerce_float, params, parse_dates, columns, chunksize)\n    497             sql, index_col=index_col, params=params,\n    498             coerce_float=coerce_float, parse_dates=parse_dates,\n--&gt; 499             chunksize=chunksize)\n    500 \n    501     try:\n\n/home/mapr/anaconda2/lib/python2.7/site-packages/pandas/io/sql.pyc in read_query(self, sql, index_col, coerce_float, params, parse_dates, chunksize)\n   1598         args = _convert_params(sql, params)\n   1599         cursor = self.execute(*args)\n-&gt; 1600         columns = [col_desc[0] for col_desc in cursor.description]\n   1601 \n   1602         if chunksize is not None:\n\nTypeError: 'NoneType' object is not iterable\n</code></pre>\n\n<p>The relevant code snippet looks like:</p>\n\n<pre><code>sql_in = \"\"\"\nSET NOCOUNT ON;\nselect &lt;stuff&gt; from &lt;table1&gt; into #&lt;temptable1&gt;\n----SPLIT\nSET NOCOUNT ON;\nselect &lt;stuff&gt; from &lt;table2&gt; into #&lt;temptable2&gt;\n----SPLIT\nSET NOCOUNT ON;\nselect &lt;stuff&gt; from &lt;table3&gt; into #&lt;temptable3&gt;\n----SPLIT\nSET NOCOUNT ON;\nselect &lt;stuff&gt; from &lt;table4&gt; &lt;joined with temptables1-3&gt; into #&lt;temptable4&gt;\n\"\"\".split('----SPLIT')\n\nfor count, q in enumerate(sql_in):\n    print count\n    frame_in = pd.read_sql(q, cnxn)\n</code></pre>\n\n<p>Done this way because only interested in the final temp table (using <code>split</code> because of the advice posted <a href=\"https://stackoverflow.com/a/34881248\">here</a>).</p>\n\n<p>Can confirm that pyodbc is configured right by running:</p>\n\n<pre><code>cnxn = pyodbc.connect(cnxn_str)\ncursor = cnxn.cursor()\n\n#Sample select query\nprint 'Testing db connection...'\ncursor.execute(\"SELECT @@version;\") \nrow = cursor.fetchone() \nwhile row: \n    print row[0] \n    row = cursor.fetchone()\n</code></pre>\n\n<p>And actually getting the server version.</p>\n\n<p>Any ideas why this could be happening and how to fix? Thanks.</p>\n"}, {"tags": ["python", "websocket", "twisted", "twisted.web", "twisted.internet"], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 5397497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153533963280250/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5397497/brian"}, "edited": false, "score": 0, "creation_date": 1512601329, "post_id": 47684763, "comment_id": 82329448, "body": "This answer is not relevant at all to the question."}, {"owner": {"reputation": 21, "user_id": 2308728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41dc231fd45be7be4028a775313451b?s=128&d=identicon&r=PG", "display_name": "user2308728", "link": "https://stackoverflow.com/users/2308728/user2308728"}, "reply_to_user": {"reputation": 391, "user_id": 5397497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153533963280250/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5397497/brian"}, "edited": false, "score": 0, "creation_date": 1594460963, "post_id": 47684763, "comment_id": 111138273, "body": "sorry. I saw it now .i wanted to post it in different stack"}], "tags": [], "owner": {"reputation": 21, "user_id": 2308728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41dc231fd45be7be4028a775313451b?s=128&d=identicon&r=PG", "display_name": "user2308728", "link": "https://stackoverflow.com/users/2308728/user2308728"}, "is_accepted": false, "score": -1, "last_activity_date": 1512600304, "creation_date": 1512600304, "answer_id": 47684763, "question_id": 47683919, "link": "https://stackoverflow.com/questions/47683919/how-to-set-subprotocol-list-for-client-twisted/47684763#47684763", "title": "How to set subprotocol list for Client (Twisted)", "body": "<p>new WebSocket( Url , Protocol[]) second parameter is optional. Check allowed characters in protocol parameter. Second one is string or string[] . Iam not sure if you ask for that.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 12376870, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kxPP-4zjvcg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerXW2xFysCQ7xR-6OJTFQ59omsQw/photo.jpg?sz=128", "display_name": "Umberto", "link": "https://stackoverflow.com/users/12376870/umberto"}, "is_accepted": true, "score": 1, "last_activity_date": 1575638862, "last_edit_date": 1575638862, "creation_date": 1575460590, "answer_id": 59175486, "question_id": 47683919, "link": "https://stackoverflow.com/questions/47683919/how-to-set-subprotocol-list-for-client-twisted/59175486#59175486", "title": "How to set subprotocol list for Client (Twisted)", "body": "<p>After you created the factory, you can append custom sub-protocols:</p>\n\n<pre><code>factory = WebSocketClientFactory(\"wss://SERVER_URL\")\nfactory.protocol = MyClientProtocol\n\n# append custom protocols here:\nfactory.protocols.append(\"graphql-ws\")\n\nconnectWS(factory)\n</code></pre>\n\n<p>Be careful with the \"s\" (protocol &lt;=> protocols). You can check if the protocol has been accepted by the server in the response of the \"onConnect\" method:</p>\n\n<pre><code>def OnConnect(self, response):\n     print(response)\n\noutput: {\"peer\" : \"...\", \"headers\" : { ... }, \"protocol\": \"graphql-ws\", ...}\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 5397497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153533963280250/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5397497/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 59175486, "answer_count": 2, "score": 0, "last_activity_date": 1575638862, "creation_date": 1512596538, "question_id": 47683919, "link": "https://stackoverflow.com/questions/47683919/how-to-set-subprotocol-list-for-client-twisted", "title": "How to set subprotocol list for Client (Twisted)", "body": "<p>\nHey everyone,</p>\n\n<p>I have created a Client and a Server to communicate over websockets. The Twisted library is used for the websockets, and eventually I will be sending GraphQL strings from Client to Server.</p>\n\n<p>However, I am getting an error that states:</p>\n\n<p><code>failing WebSocket opening handshake ('subprotocol selected by server (graphql-ws) not in subprotocol list requested by client ([])')\n</code></p>\n\n\n\n<p>Here is the example code that I have created:</p>\n\n<p><strong>server.py</strong></p>\n\n<pre><code>class MyServerProtocol(WebSocketServerProtocol):\n\n  def onConnect(self, request):\n    custom_header = {}\n    if request.headers['sec-websocket-key']:\n      custom_header['sec-websocket-protocol'] = 'graphql-ws'\n    return (None, custom_header)\n\n  def onOpen(self):\n    print \"Websocket connection open\"\n\n  def onMessage(self, payload, isBinary):\n    # Handle GraphQL query string here\n    try:\n      parsed_message = json.loads(payload)\n    except Exception as exp:\n      logger.error('Could not parse websocket payload', exc_info=True)\n      self.sendClose()\n      return 1\n\n  def onClose(self, wasClean, code, reason):\n    print(\"WebSocket connection closed: {0}\".format(reason))\n</code></pre>\n\n<p><strong>client.py</strong></p>\n\n<pre><code>class MyClientProtocol(WebSocketClientProtocol):\n\n  def onConnect(self, response):\n    response.protocol = 'graphql-ws'\n\n  def onOpen(self):\n    print \"Websocket connection open\"\n\n  def onMessage(self, payload, isBinary):\n    if isBinary:\n        print(\"Binary message received: {0} bytes\".format(len(payload)))\n    else:\n        print(\"Text message received: {0}\".format(payload.decode('utf8')))\n\n  def onClose(self, wasClean, code, reason):\n    print(\"WebSocket connection closed: {0}\".format(reason))\n</code></pre>\n\n\n\n<p>Does anyone know how to set the subprotocol list on the Client side? Any help would be greatly appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>Brian</p>\n\n\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3990, "user_id": 270589, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cd12c93e05654e0857df948183514e?s=128&d=identicon&r=PG", "display_name": "Behrooz Karjoo", "link": "https://stackoverflow.com/users/270589/behrooz-karjoo"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512596814, "post_id": 47683896, "comment_id": 82327535, "body": "@Jean-Fran&#231;oisFabre made the change and fixed the typo. It&#39;s quit_time"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512596869, "post_id": 47683896, "comment_id": 82327562, "body": "ok, this <i>must</i> be the same instance of the same class, of course. Try to print <code>id(self.quit_time)</code> in both snippets. If they&#39;re not identical, no communication!"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1512597093, "post_id": 47683896, "comment_id": 82327666, "body": "@Jean-Fran&#231;oisFabre Better he should print out <code>id(self)</code> because <code>id(self.quit_time)</code> is the id of <i>the</i> <code>True</code> or <code>False</code> object (both objects exist only once)."}, {"owner": {"reputation": 3990, "user_id": 270589, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cd12c93e05654e0857df948183514e?s=128&d=identicon&r=PG", "display_name": "Behrooz Karjoo", "link": "https://stackoverflow.com/users/270589/behrooz-karjoo"}, "edited": false, "score": 0, "creation_date": 1512597448, "post_id": 47683896, "comment_id": 82327831, "body": "ok I printed the ids of both self and the object. Neither are the same: ID in MAIN 495006804 48089488 ID in thread 495006596 48157968"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512597551, "post_id": 47683896, "comment_id": 82327879, "body": "@bkarj <code>self</code> isn&#39;t the same instance or class then. If so, maybe use a global boolean (urgh!!) to communicate."}, {"owner": {"reputation": 3990, "user_id": 270589, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cd12c93e05654e0857df948183514e?s=128&d=identicon&r=PG", "display_name": "Behrooz Karjoo", "link": "https://stackoverflow.com/users/270589/behrooz-karjoo"}, "edited": false, "score": 0, "creation_date": 1512598041, "post_id": 47683896, "comment_id": 82328118, "body": "well that just confused the hell out of me cause I only created one instance of that class."}, {"owner": {"reputation": 3990, "user_id": 270589, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cd12c93e05654e0857df948183514e?s=128&d=identicon&r=PG", "display_name": "Behrooz Karjoo", "link": "https://stackoverflow.com/users/270589/behrooz-karjoo"}, "edited": false, "score": 0, "creation_date": 1512598454, "post_id": 47683896, "comment_id": 82328254, "body": "I&#39;ve actually created 2 instances for two separate servers with different ports. But here&#39;s what I don&#39;t get: in def <b>init</b> i added print id(self) and print id(self.quit_time). When I instantiate the two servers it prints differnt ids for self, but the same is for self.quit_time: CREATING 44738320 quit time 500708228 CREATING 44740496 quit time 500708228"}, {"owner": {"reputation": 3990, "user_id": 270589, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cd12c93e05654e0857df948183514e?s=128&d=identicon&r=PG", "display_name": "Behrooz Karjoo", "link": "https://stackoverflow.com/users/270589/behrooz-karjoo"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1512601591, "post_id": 47683896, "comment_id": 82329554, "body": "@MichaelButscher I don&#39;t understand your point. Can you elaborate. Why is the boolean variable returning the same id for all the same instances of the class? Isn&#39;t it a different location in memory?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1512602535, "post_id": 47683896, "comment_id": 82329905, "body": "@bkarj <code>self.quit_time</code> references a boolean object, either <code>True</code> or <code>False</code>. These two objects are created on Python startup and are returned everywhere where needed, no new boolean objects are created. Therefore <code>id(self.quit_time)</code> will always return the id of one of the two only existing boolean objects."}, {"owner": {"reputation": 3990, "user_id": 270589, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cd12c93e05654e0857df948183514e?s=128&d=identicon&r=PG", "display_name": "Behrooz Karjoo", "link": "https://stackoverflow.com/users/270589/behrooz-karjoo"}, "edited": false, "score": 0, "creation_date": 1512603157, "post_id": 47683896, "comment_id": 82330147, "body": "did not know that. thank you"}], "owner": {"reputation": 3990, "user_id": 270589, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cd12c93e05654e0857df948183514e?s=128&d=identicon&r=PG", "display_name": "Behrooz Karjoo", "link": "https://stackoverflow.com/users/270589/behrooz-karjoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512596786, "creation_date": 1512596431, "last_edit_date": 1512596786, "question_id": 47683896, "link": "https://stackoverflow.com/questions/47683896/variable-in-thread-doesnt-change-with-the-variable-of-class", "title": "Variable in thread doesn&#39;t change with the variable of class", "body": "<p>My server class is listening for clients : </p>\n\n<pre><code>def listen_for_clients(self):\n    self.sock.settimeout(1)\n    while 1:\n        try:\n            print 'listening for clients'\n            print self.quit_time\n            if self.quit_time: break\n            conn, addr = self.sock.accept()\n            conn.setblocking(1)\n            self.connections.append(conn)\n            thread.start_new_thread(self.client_listener,(conn, ))  \n        except socket.timeout:\n            pass\n</code></pre>\n\n<p>However when I change the boolean self.quit_time to True it still prints as false in the thread and doesn't break out. Why is that? </p>\n\n<p>Here's the code that changes the value of self.quit_time:</p>\n\n<pre><code>def close(self):\n    self.quit_time = True\n    time.sleep(1)\n    print 'closing:', self\n    if self.incoming_thread:\n        self.incoming_thread.join()\n        print 'incoming thread joined'\n    if self.outgoing_thread:\n        self.outgoing_thread.join()\n        print 'outgoing thread joined'\n    if self.listener_thread:\n        self.listener_thread.join()\n        print 'listener thread joined'\n    for c in self.connections:\n        if c:\n            c.close()\n    if self.sock:\n        self.sock.close()\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1512596404, "post_id": 47683871, "comment_id": 82327316, "body": "What&#39;s &quot;something else&quot;?"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1512596408, "post_id": 47683871, "comment_id": 82327321, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8222855/check-if-string-is-upper-lower-or-mixed-case-in-python\">Check if string is upper, lower, or mixed case in Python</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512596435, "post_id": 47683871, "comment_id": 82327334, "body": "<code>DOFLAMINGO&#39;S</code> has a quote in it... output &amp; expected output in detail please (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)"}, {"owner": {"reputation": 8191, "user_id": 8881141, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C3ydX.jpg?s=128&g=1", "display_name": "Mr. T", "link": "https://stackoverflow.com/users/8881141/mr-t"}, "edited": false, "score": 0, "creation_date": 1512596802, "post_id": 47683871, "comment_id": 82327527, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/q/2323988/8881141\">stackoverflow.com/q/2323988/8881141</a> Also no effort, when somebody like me, who doesn&#39;t no anything about regex, finds it in less than a minute."}, {"owner": {"reputation": 61, "user_id": 8738198, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-DsEKess5Lqk/AAAAAAAAAAI/AAAAAAAAABY/-0_nR1mH_ZU/photo.jpg?sz=128", "display_name": "Sunny League", "link": "https://stackoverflow.com/users/8738198/sunny-league"}, "reply_to_user": {"reputation": 8191, "user_id": 8881141, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C3ydX.jpg?s=128&g=1", "display_name": "Mr. T", "link": "https://stackoverflow.com/users/8881141/mr-t"}, "edited": false, "score": 0, "creation_date": 1512598315, "post_id": 47683871, "comment_id": 82328202, "body": "@Piinthesky: I tried those solutions, and it returned nothing for me."}], "answers": [{"comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1512597439, "post_id": 47683912, "comment_id": 82327826, "body": "Wouldn&#39;t <code>[A-Z\\d_\\W]</code> be better as it includes digits and underscore (in the case that they may be used)?"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1512597809, "last_edit_date": 1512597809, "creation_date": 1512596490, "answer_id": 47683912, "question_id": 47683871, "link": "https://stackoverflow.com/questions/47683871/find-the-line-with-all-caps-in-regex-python/47683912#47683912", "title": "Find the line with all caps in Regex Python", "body": "<p>You can use <code>[A-Z\\W]</code> to check for any uppercase letters along with non alphanumeric characters:</p>\n\n<pre><code>import re\ns = [\"TRAFALGAR LAW\", \"You shall not be the pirate king.\", \"MONKEY D LUFFY\", \"Now!\", \"DOFLAMINGO'S UNDERLINGS:\", \"Noooooo!\"]\nnew_s = [i for i in s if re.findall('^[A-Z\\d_\\W]+$', i)]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['TRAFALGAR LAW', 'MONKEY D LUFFY', \"DOFLAMINGO'S UNDERLINGS:\"]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512596956, "post_id": 47683915, "comment_id": 82327609, "body": "@Jean-Fran&#231;oisFabre: Very true, thanks for spotting it. Updated."}, {"owner": {"reputation": 61, "user_id": 8738198, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-DsEKess5Lqk/AAAAAAAAAAI/AAAAAAAAABY/-0_nR1mH_ZU/photo.jpg?sz=128", "display_name": "Sunny League", "link": "https://stackoverflow.com/users/8738198/sunny-league"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512598187, "post_id": 47683915, "comment_id": 82328158, "body": "@Jean-Fran&#231;oisFabre: Thank you, but it doesn&#39;t do well if one line goes A SERVANT."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": true, "score": 4, "last_activity_date": 1512596940, "last_edit_date": 1512596940, "creation_date": 1512596496, "answer_id": 47683915, "question_id": 47683871, "link": "https://stackoverflow.com/questions/47683871/find-the-line-with-all-caps-in-regex-python/47683915#47683915", "title": "Find the line with all caps in Regex Python", "body": "<p>Here you go</p>\n\n<pre><code>import re\n\nstring = \"\"\"TRAFALGAR LAW\nYou shall not be the pirate king.\nMONKEY D LUFFY\nNow!\nDOFLAMINGO'S UNDERLINGS:\nNoooooo!\n\"\"\"\n\nrx = re.compile(r\"^([A-Z ':]+$)\", re.M)\n\nUPPERCASE = [line for line in string.split(\"\\n\") if rx.match(line)]\nprint(UPPERCASE)\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>rx = re.compile(r\"^([A-Z ':]+$)\", re.M)\n\nUPPERCASE = rx.findall(string)\nprint(UPPERCASE)\n</code></pre>\n\n<p>Both will yield</p>\n\n<pre><code>['TRAFALGAR LAW', 'MONKEY D LUFFY', \"DOFLAMINGO'S UNDERLINGS:\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": false, "score": 5, "last_activity_date": 1512597016, "last_edit_date": 1512597016, "creation_date": 1512596708, "answer_id": 47683957, "question_id": 47683871, "link": "https://stackoverflow.com/questions/47683871/find-the-line-with-all-caps-in-regex-python/47683957#47683957", "title": "Find the line with all caps in Regex Python", "body": "<h2>Brief</h2>\n\n<p>No need for regex, python has the method <a href=\"https://docs.python.org/3/library/stdtypes.html#str.isupper\" rel=\"nofollow noreferrer\"><code>isupper()</code></a></p>\n\n<blockquote>\n  <p>Return true if all cased characters<sup>[4]</sup> in the string are uppercase and there is at least one cased character, false otherwise.</p>\n  \n  <p><sub>[4] Cased characters are those with general category property being one of \u201cLu\u201d (Letter, uppercase), \u201cLl\u201d (Letter, lowercase), or \u201cLt\u201d (Letter, titlecase).</sub></p>\n</blockquote>\n\n<hr>\n\n<h2>Code</h2>\n\n<p><a href=\"https://ideone.com/JXoqzA\" rel=\"nofollow noreferrer\">See code in use here</a></p>\n\n<pre><code>a = [\n    \"TRAFALGAR LAW\",\n    \"You shall not be the pirate king.\",\n    \"MONKEY D LUFFY\",\n    \"Now!\",\n    \"DOFLAMINGO'S UNDERLINGS:\",\n    \"Noooooo!\",\n]\n\nfor s in a:\n    print s.isupper()\n</code></pre>\n\n<h3>Result</h3>\n\n<pre><code>True\nFalse\nTrue\nFalse\nTrue\nFalse\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8738198, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-DsEKess5Lqk/AAAAAAAAAAI/AAAAAAAAABY/-0_nR1mH_ZU/photo.jpg?sz=128", "display_name": "Sunny League", "link": "https://stackoverflow.com/users/8738198/sunny-league"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1700, "favorite_count": 1, "accepted_answer_id": 47683915, "answer_count": 3, "score": 2, "last_activity_date": 1512601268, "creation_date": 1512596321, "last_edit_date": 1512601268, "question_id": 47683871, "link": "https://stackoverflow.com/questions/47683871/find-the-line-with-all-caps-in-regex-python", "title": "Find the line with all caps in Regex Python", "body": "<p>I'm trying to find all lines that are all caps using regex, and so far I've tried this:</p>\n\n<pre><code>re.findall(r'\\b\\n|[A-Z]+\\b', kaizoku)\n</code></pre>\n\n<p>So far my database is as follows:</p>\n\n<pre><code>TRAFALGAR LAW\nYou shall not be the pirate king.\nMONKEY D LUFFY\nNow!\nDOFLAMINGO'S UNDERLINGS:\nNoooooo!\n</code></pre>\n\n<p>I want it to return</p>\n\n<pre><code>TRAFALGAR LAW\nMONKEY D LUFFY\nDOFLAMINGO'S UNDERLINGS:\n</code></pre>\n\n<p>But it's returning something else.\n(Namely this:</p>\n\n<pre><code>TRAFALGAR\nLAW\nY\nMONKEY\nD\nLUFFY\nN\nDOFLAMINGO'\nS\nUNDERLINGS:\nN\n</code></pre>\n\n<p><strong>EDIT</strong>\nSo far I really think the best fit for the answer is @Jan's answer </p>\n\n<pre><code>rx = re.compile(r\"^([A-Z ':]+$)\\b\", re.M)\nrx.findall(string)\n</code></pre>\n\n<p><strong>EDIT2</strong> Found out what's wrong, thanks!</p>\n"}, {"tags": ["python", "amazon-web-services", "ssl", "flask", "boto3"], "comments": [{"owner": {"reputation": 852, "user_id": 3948711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d49fe703b55c3463b6015999e73d06b1?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Baranowski", "link": "https://stackoverflow.com/users/3948711/alex-baranowski"}, "edited": false, "score": 0, "creation_date": 1512597956, "post_id": 47683839, "comment_id": 82328073, "body": "Note <b>this won&#39;t solve root cause</b>, but you can invoke python script with PYTHONHTTPSVERIFY=0, so from command line it would look like <code>PYTHONHTTPSVERIFY=0 &#47;path&#47;to&#47;script.py</code>. Python ssl shouldn&#39;t complain about certification anymore."}, {"owner": {"reputation": 1543, "user_id": 1298483, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/3aaea9965fe8d8be5d032dcfbf50c5e1?s=128&d=identicon&r=PG", "display_name": "RailsTweeter", "link": "https://stackoverflow.com/users/1298483/railstweeter"}, "reply_to_user": {"reputation": 852, "user_id": 3948711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d49fe703b55c3463b6015999e73d06b1?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Baranowski", "link": "https://stackoverflow.com/users/3948711/alex-baranowski"}, "edited": false, "score": 0, "creation_date": 1512657687, "post_id": 47683839, "comment_id": 82354704, "body": "What about when i deploy to heroku?"}], "answers": [{"tags": [], "owner": {"reputation": 852, "user_id": 3948711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d49fe703b55c3463b6015999e73d06b1?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Baranowski", "link": "https://stackoverflow.com/users/3948711/alex-baranowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1512660192, "creation_date": 1512660192, "answer_id": 47698337, "question_id": 47683839, "link": "https://stackoverflow.com/questions/47683839/flask-admin-s3-ssl-error/47698337#47698337", "title": "Flask admin s3 SSL error", "body": "<p>information about default https verification can be found:\n<a href=\"https://www.python.org/dev/peps/pep-0476/\" rel=\"nofollow noreferrer\">https://www.python.org/dev/peps/pep-0476/</a></p>\n\n<p>There is also great article from Red Hat.\n<a href=\"https://access.redhat.com/articles/2039753\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/2039753</a> Right now it's open, but in case of being behind pay-wall I decided to write key points.</p>\n\n<p>As said in comment you can invoke your python scripts with <code>PYTHONHTTPSVERIFY=0 /path/to/script.py</code></p>\n\n<p>You can also configure - default behaviour in file <code>/etc/python/cert-verification.cfg</code> and change </p>\n\n<pre><code>[https]\nverify=platform_default\n</code></pre>\n\n<p>to</p>\n\n<pre><code>[https]\nverify=disable\n</code></pre>\n\n<p>If you are using up to date python 2.7 you can also use in order to dynamically disable cert verification.</p>\n\n<pre><code>import ssl\nssl._https_verify_certificates(0)\n</code></pre>\n\n<p>Unfortunately for Python > 3.4 (I tried 3.4.5 and 3.6.3) I wasn't able to find similar function. Same result in documentation <a href=\"https://docs.python.org/3/library/ssl.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/ssl.html</a>.</p>\n"}], "owner": {"reputation": 1543, "user_id": 1298483, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/3aaea9965fe8d8be5d032dcfbf50c5e1?s=128&d=identicon&r=PG", "display_name": "RailsTweeter", "link": "https://stackoverflow.com/users/1298483/railstweeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512668203, "creation_date": 1512596209, "last_edit_date": 1512668203, "question_id": 47683839, "link": "https://stackoverflow.com/questions/47683839/flask-admin-s3-ssl-error", "title": "Flask admin s3 SSL error", "body": "<p>I'm trying to use a couple different implementations of uploading files to S3 from Flask Admin. In both situations I'm getting an SSL error. I've tried a few things that I've found such as adding this to config:</p>\n\n<pre><code>    S3_USE_HTTPS = False\n</code></pre>\n\n<p>I also updated the certifi package which I saw recommended on another thread. I can't solve this error. Any idea why I'm getting this?</p>\n\n<p>Error msg below:</p>\n\n<pre><code>&gt; File\n&gt; \"/Users/kevin/dev/allstarrma/flask-env/lib/python3.6/site-packages/boto/connection.py\",\n&gt; line 1071, in make_request\n&gt;     retry_handler=retry_handler)   File \"/Users/kevin/dev/allstarrma/flask-env/lib/python3.6/site-packages/boto/connection.py\",\n&gt; line 1030, in _mexe\n&gt;     raise ex   File \"/Users/kevin/dev/allstarrma/flask-env/lib/python3.6/site-packages/boto/connection.py\",\n&gt; line 943, in _mexe\n&gt;     request.body, request.headers)   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\",\n&gt; line 1239, in request\n&gt;     self._send_request(method, url, body, headers, encode_chunked)   File\n&gt; \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\",\n&gt; line 1285, in _send_request\n&gt;     self.endheaders(body, encode_chunked=encode_chunked)   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\",\n&gt; line 1234, in endheaders\n&gt;     self._send_output(message_body, encode_chunked=encode_chunked)   File\n&gt; \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\",\n&gt; line 1026, in _send_output\n&gt;     self.send(msg)   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\",\n&gt; line 964, in send\n&gt;     self.connect()   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\",\n&gt; line 1400, in connect\n&gt;     server_hostname=server_hostname)   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\",\n&gt; line 407, in wrap_socket\n&gt;     _context=self, _session=session)   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\",\n&gt; line 814, in __init__\n&gt;     self.do_handshake()   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\",\n&gt; line 1068, in do_handshake\n&gt;     self._sslobj.do_handshake()   File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\",\n&gt; line 689, in do_handshake\n&gt;     self._sslobj.do_handshake() ssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:777)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "random", "tkinter"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1512596191, "post_id": 47683816, "comment_id": 82327211, "body": "of course <code>outcomeG &lt;= 25</code> is stronger than <code>outcomeG &lt;= 22</code>."}, {"owner": {"reputation": 1600, "user_id": 7202599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ecff3952b6c8d0e878cdeb17642823?s=128&d=identicon&r=PG&f=1", "display_name": "SneakyTurtle", "link": "https://stackoverflow.com/users/7202599/sneakyturtle"}, "edited": false, "score": 0, "creation_date": 1512596229, "post_id": 47683816, "comment_id": 82327237, "body": "You also need to revise the priority of <code>if</code>/<code>elif</code> statements"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1512596274, "post_id": 47683816, "comment_id": 82327258, "body": "There&#39;s a lot wrong with this code. You only call <code>randint</code> once before calling <code>mainloop</code>, and you should never call <code>mainloop</code> in an infinite loop."}, {"owner": {"reputation": 13, "user_id": 9004314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_0vBCSCJv_E/AAAAAAAAAAI/AAAAAAAAAVk/EkyH1oy2FVQ/photo.jpg?sz=128", "display_name": "Potatoes", "link": "https://stackoverflow.com/users/9004314/potatoes"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512596447, "post_id": 47683816, "comment_id": 82327343, "body": "@Jean-Fran&#231;oisFabre How would I make it so the <code>if outcomeG &lt;= 25</code> has a 25% chance of doing the code in that if statement?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1512596701, "post_id": 47683816, "comment_id": 82327489, "body": "25% chance needs to be countermanded by 75% chance of something else. If you re-cast a random value if it&#39;s above 25% then there&#39;s 100% chance that you&#39;re entering in your code after (statistically) 4 tries. It&#39;s like playing heads &amp; tails and stopping only if you get heads. you need a &quot;G3&quot; case when the value is &gt; 25"}, {"owner": {"reputation": 13, "user_id": 9004314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_0vBCSCJv_E/AAAAAAAAAAI/AAAAAAAAAVk/EkyH1oy2FVQ/photo.jpg?sz=128", "display_name": "Potatoes", "link": "https://stackoverflow.com/users/9004314/potatoes"}, "edited": false, "score": 0, "creation_date": 1512596947, "post_id": 47683816, "comment_id": 82327603, "body": "Oh ok, thanks for the help."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 0, "last_activity_date": 1512596247, "creation_date": 1512596247, "answer_id": 47683851, "question_id": 47683816, "link": "https://stackoverflow.com/questions/47683816/same-result-every-time-with-random-numbers-python/47683851#47683851", "title": "Same result every time with random numbers (python)", "body": "<p>let's say <code>outcomeG &lt;= 22</code></p>\n\n<p>then your code encounters <code>outcomeG &lt;= 25</code> condition first, and enters first condition, <em>always</em>.</p>\n\n<p>You have to swap your <code>if</code> and <code>elif</code> to test <code>&lt;=22</code> first</p>\n\n<p>Of course you have to <em>do</em> something if <code>outcomeG &gt; 25</code> else you're looping for nothing.</p>\n"}], "owner": {"reputation": 13, "user_id": 9004314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_0vBCSCJv_E/AAAAAAAAAAI/AAAAAAAAAVk/EkyH1oy2FVQ/photo.jpg?sz=128", "display_name": "Potatoes", "link": "https://stackoverflow.com/users/9004314/potatoes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 47683851, "answer_count": 1, "score": 1, "last_activity_date": 1512596247, "creation_date": 1512596118, "question_id": 47683816, "link": "https://stackoverflow.com/questions/47683816/same-result-every-time-with-random-numbers-python", "title": "Same result every time with random numbers (python)", "body": "<pre><code>def gDiceRoll():\n\n    gDiceOptions.destroy()\n\n    global gDiceRoll\n    gDiceRoll = Tk()\n    gDiceRoll.title(\"Green Dice Roll\")\n    gDiceRoll.config(background=\"#32cd32\")\n\n    lbloutcome = Label(gDiceRoll, text=\"?\", width=\"12\", height=\"8\", bg=\"#32cd32\")\n\n    play()\n\n    while True:\n\n        outcomeG = random.randint(1, 100)\n        lbloutcome = Label(gDiceRoll, text=\"?\", width=\"12\", height=\"8\", bg=\"#32cd32\")\n\n        if outcomeG &lt;= 25:\n\n            lbloutcome.config(text=\"G1\", font=(25))\n            gDiceRoll.update()\n            f = open(\"Logs.txt\", \"a\")\n            ts = time.time()\n            sttime = datetime.datetime.fromtimestamp(ts).strftime('%Y%m%d_%H:%M:%S - ')\n            f.write(sttime + \"G1 \\n\")\n            f.close()\n            photo = PhotoImage(file=r\"C:\\Temp\\Dice_Roll\\pics\\G1.gif\")\n            lblop = Label(gDiceRoll, image=photo)\n            lblop.pack()\n            lbloutcome.pack()\n            gDiceRoll.mainloop()\n            gDiceRoll.after(1)\n            os.execl(sys.executable, sys.executable, *sys.argv)\n            break\n\n        elif outcomeG &lt;= 22:\n\n            lbloutcome.config(text=\"G2\", font=(25))\n            gDiceRoll.update()\n            f = open(\"Logs.txt\", \"a\")\n            ts = time.time()\n            sttime = datetime.datetime.fromtimestamp(ts).strftime('%Y%m%d_%H:%M:%S - ')\n            f.write(sttime + \"G2 \\n\")\n            f.close()\n            photo = PhotoImage(file=r\"C:\\Temp\\Dice_Roll\\pics\\G2.gif\")\n            lblop = Label(gDiceRoll, image=photo)\n            lblop.pack()\n            lbloutcome.pack()\n            gDiceRoll.mainloop()\n            gDiceRoll.after(1)\n            os.execl(sys.executable, sys.executable, *sys.argv)\n            break        \n        #etc\n</code></pre>\n\n<p>Every time I run the program ir <strong>ALWAYS</strong> comes out with G1. I have tried to fix it many ways but they just create other problems. The elif G1 &lt;= 25 means it has a 25% chance of doing G1 but it always does G1.</p>\n\n<p><strong>How can I fix this? Any help will be greatly appreciated</strong></p>\n"}, {"tags": ["python", "pandas", "time-series"], "comments": [{"owner": {"reputation": 864, "user_id": 8627559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a5ba760dc2b2ec8cabee703ad415414?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Dresl", "link": "https://stackoverflow.com/users/8627559/lucas-dresl"}, "edited": false, "score": 0, "creation_date": 1512598683, "post_id": 47683757, "comment_id": 82328350, "body": "I help you with that  <code>df.loc[ df[&#39;PercPriceChange&#39;] * df[&#39;PriceChange_L1&#39;] &lt; 0, &#39;turn&#39; ] = 1</code> and then <code>df.turn = df.turn.fillna(0)</code>"}, {"owner": {"reputation": 128, "user_id": 8426445, "user_type": "registered", "profile_image": "https://graph.facebook.com/1146426575462809/picture?type=large", "display_name": "Michael  Xu", "link": "https://stackoverflow.com/users/8426445/michael-xu"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1512675819, "post_id": 47683757, "comment_id": 82365246, "body": "@unutbu Yep, I was just trying to illustrate my thought (so I said &quot;something like&quot;). I&#39;ve edited the codes based on Lucas &#39;s comment."}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 8426445, "user_type": "registered", "profile_image": "https://graph.facebook.com/1146426575462809/picture?type=large", "display_name": "Michael  Xu", "link": "https://stackoverflow.com/users/8426445/michael-xu"}, "edited": false, "score": 0, "creation_date": 1512703110, "post_id": 47705271, "comment_id": 82374415, "body": "Perfect! I thought about groupby &amp; product, but was not able to figure out how to generate the group tags - your .cumsum() did the magic. Thanks so much!"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 0, "last_activity_date": 1512687702, "creation_date": 1512687702, "answer_id": 47705271, "question_id": 47683757, "link": "https://stackoverflow.com/questions/47683757/pandas-timeseries-data-calculating-product-over-intervals-of-varying-length/47705271#47705271", "title": "Pandas Timeseries Data - Calculating product over intervals of varying length", "body": "<p>The calculation you are looking for looks like a groupby/product operation. \nTo set up the groupby operation, we need to assign a <code>group</code> value to each row. Taking the cumulative sum of the <code>turn</code> column gives the desired result:</p>\n\n<pre><code>df['group'] = df['turn'].cumsum()\n# 0    0\n# 1    0\n# 2    1\n# 3    2\n# 4    2\n# 5    2\n# 6    3\n# Name: group, dtype: int64\n</code></pre>\n\n<p>Now we can define the <code>TotalPriceChange</code> column (modulo a little cleanup work) as </p>\n\n<pre><code>df['PercPriceChange_plus_one'] = df['PercPriceChange']+1\ndf['TotalPriceChange'] = df.groupby('group')['PercPriceChange_plus_one'].transform('prod') - 1\n</code></pre>\n\n<hr>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'PercPriceChange': [0.1, 0.2, -0.1, 0.1, 0.2, 0.1, -0.1],\n                   'TimeStamp': [1457280, 1457281, 1457282, 1457283, 1457284, 1457285, 1457286]})\n\ndf['turn'] = 0\ndf['PriceChange_L1'] = df['PercPriceChange'].shift(periods=1, freq=None, axis=0)\ndf.loc[ df['PercPriceChange'] * df['PriceChange_L1'] &lt; 0, 'turn' ] = 1 \n\ndf['group'] = df['turn'].cumsum()\n\ndf['PercPriceChange_plus_one'] = df['PercPriceChange']+1\ndf['TotalPriceChange'] = df.groupby('group')['PercPriceChange_plus_one'].transform('prod') - 1\nmask = (df['group'].diff() != 0)\ndf.loc[~mask, 'TotalPriceChange'] = 0\n\ndf = df[['TimeStamp', 'PercPriceChange', 'TotalPriceChange']]\nprint(df)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>   TimeStamp  PercPriceChange  TotalPriceChange\n0    1457280              0.1             0.320\n1    1457281              0.2             0.000\n2    1457282             -0.1            -0.100\n3    1457283              0.1             0.452\n4    1457284              0.2             0.000\n5    1457285              0.1             0.000\n6    1457286             -0.1            -0.100\n</code></pre>\n"}], "owner": {"reputation": 128, "user_id": 8426445, "user_type": "registered", "profile_image": "https://graph.facebook.com/1146426575462809/picture?type=large", "display_name": "Michael  Xu", "link": "https://stackoverflow.com/users/8426445/michael-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 47705271, "answer_count": 1, "score": 0, "last_activity_date": 1512687702, "creation_date": 1512595800, "last_edit_date": 1512675777, "question_id": 47683757, "link": "https://stackoverflow.com/questions/47683757/pandas-timeseries-data-calculating-product-over-intervals-of-varying-length", "title": "Pandas Timeseries Data - Calculating product over intervals of varying length", "body": "<p>\nI have some timeseries data that basically contains information on price change period by period. For example, let's say:</p>\n\n<pre><code>df = pd.DataFrame(columns = ['TimeStamp','PercPriceChange'])\ndf.loc[:,'TimeStamp']=[1457280,1457281,1457282,1457283,1457284,1457285,1457286]\ndf.loc[:,'PercPriceChange']=[0.1,0.2,-0.1,0.1,0.2,0.1,-0.1]\n</code></pre>\n\n<p>so that df looks like</p>\n\n<pre><code>     TimeStamp  PercPriceChange\n0    1457280              0.1\n1    1457281              0.2\n2    1457282             -0.1\n3    1457283              0.1\n4    1457284              0.2\n5    1457285              0.1\n6    1457286             -0.1\n</code></pre>\n\n<p>What I want to achieve is to calculate the overall price change before the an increase/decrease streak ends, and store the value in the row where the streak started. That is, what I want is a column 'TotalPriceChange' :</p>\n\n<pre><code>   TimeStamp   PercPriceChange               TotalPriceChange   \n0    1457280              0.1             1.1 * 1.2  - 1 = 0.31\n1    1457281              0.2                         0\n2    1457282             -0.1                        -0.1\n3    1457283              0.1           1.1 * 1.2 * 1.1  - 1 = 0.452\n4    1457284              0.2                         0\n5    1457285              0.1                         0\n6    1457286             -0.1                        -0.1\n</code></pre>\n\n<p>I can identify the starting points using something like:</p>\n\n<pre><code>df['turn'] = 0\ndf['PriceChange_L1'] = df['PercPriceChange'].shift(periods=1, freq=None, axis=0)\ndf.loc[ df['PercPriceChange'] * df['PriceChange_L1'] &lt; 0, 'turn' ] = 1 \n</code></pre>\n\n<p>to get</p>\n\n<pre><code>    TimeStamp   PercPriceChange             turn\n0    1457280              0.1          NaN or 1?\n1    1457281              0.2             0\n2    1457282             -0.1             1\n3    1457283              0.1             1\n4    1457284              0.2             0\n5    1457285              0.1             0\n6    1457286             -0.1             1\n</code></pre>\n\n<p>Given this column \"turn\", I need help proceeding with my quest (or perhaps we don't need this \"turn\" at all). I am pretty sure I can write a nested for-loop going through the entire DataFrame row by row, calculating what I need and populating the column 'TotalPriceChange', but given that I plan on doing this on a fairly large data set (think minute or hour data for couple of years), I imagine nested for-loops will be really slow. </p>\n\n<p>Therefore, I just wanted to check with you experts to see if there is any efficient solution to my problem that I am not aware of. Any help would be much appreciated!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "generator"], "comments": [{"owner": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "edited": false, "score": 0, "creation_date": 1512596336, "post_id": 47683745, "comment_id": 82327295, "body": "Did you see <a href=\"https://stackoverflow.com/questions/23381257/skipping-yield-in-python\" title=\"skipping yield in python\">stackoverflow.com/questions/23381257/skipping-yield-in-pytho&zwnj;&#8203;n</a>?"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512596670, "post_id": 47683745, "comment_id": 82327471, "body": "How about adding a <code>return None</code> after the loop?"}, {"owner": {"reputation": 409, "user_id": 3524689, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a7001abae6178fa88c866751cabc26ea?s=128&d=identicon&r=PG", "display_name": "salotz", "link": "https://stackoverflow.com/users/3524689/salotz"}, "reply_to_user": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "edited": false, "score": 0, "creation_date": 1512598346, "post_id": 47683745, "comment_id": 82328216, "body": "@serv-inc I hadn&#39;t, but that is a different problem because I am not looking to only skip particular elements. You would have the problem of skipping all of them of still handling the empty iterator."}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 3524689, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a7001abae6178fa88c866751cabc26ea?s=128&d=identicon&r=PG", "display_name": "salotz", "link": "https://stackoverflow.com/users/3524689/salotz"}, "edited": false, "score": 1, "creation_date": 1512598177, "post_id": 47683895, "comment_id": 82328154, "body": "Your suggestion is what I am going to actually do. I am however curious in the problem as posed anyhow."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 1, "last_activity_date": 1512596779, "last_edit_date": 1512596779, "creation_date": 1512596428, "answer_id": 47683895, "question_id": 47683745, "link": "https://stackoverflow.com/questions/47683745/python-functions-as-optional-generators/47683895#47683895", "title": "python functions as optional generators", "body": "<blockquote>\n  <p>So presumably when <code>is_return</code> is <code>False</code> then <code>foo_gen</code> is just a\n  function with no return value and when <code>is_return</code> is <code>True</code> <code>foo_gen</code>\n  is a generator</p>\n</blockquote>\n\n<p>You have your assumptions wrong. <code>is_return</code> does not determine if your function is a generator or not. The mere presence of a <code>yield</code> expression determines that, either the expression is reachable at function call or not, doesn't matter. </p>\n\n<p>So you probably want to stick to the first approach of returning a list which in my opinion is less confusing and easier to maintain.</p>\n"}, {"comments": [{"owner": {"reputation": 409, "user_id": 3524689, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a7001abae6178fa88c866751cabc26ea?s=128&d=identicon&r=PG", "display_name": "salotz", "link": "https://stackoverflow.com/users/3524689/salotz"}, "edited": false, "score": 0, "creation_date": 1512598714, "post_id": 47683898, "comment_id": 82328361, "body": "I completely agree with your concerns about this as an API choice. It is a design decision in my application to do it this way because this is a very high level method in which relatively inexperienced users will want it to DWIM and the <code>return_results</code> is sort of reserved for debugging and more advanced users. I&#39;m also looking to keep the namespace as slim as possible."}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 4, "last_activity_date": 1512596924, "last_edit_date": 1512596924, "creation_date": 1512596443, "answer_id": 47683898, "question_id": 47683745, "link": "https://stackoverflow.com/questions/47683745/python-functions-as-optional-generators/47683898#47683898", "title": "python functions as optional generators", "body": "<p>To do that, you would need to wrap <code>foo_gen</code> in another function which either returns the generator or iterates over it itself, like this:</p>\n\n<pre><code>def maybe_gen(N, is_return=False):\n    real_gen = foo_gen(N)\n    if is_return:\n        for item in real_gen:\n            pass\n    else:\n        return real_gen\n\ndef foo_gen(N):\n    for i in range(N):\n        print(i)\n        yield i\n\n&gt;&gt;&gt; list(maybe_gen(3))\n0\n1\n2\n[0, 1, 2]\n&gt;&gt;&gt; maybe_gen(3, is_return=True)\n0\n1\n2\n&gt;&gt;&gt; \n</code></pre>\n\n<p>The reason is that occurrence of <code>yield</code> anywhere in the function makes it a generator function.  There's no way to have a function that decides at call time whether it's a generator function or not.  Instead, you have to have a non-generator function that decides at runtime whether to return a generator or something else.</p>\n\n<p>That said, doing this is most likely not a good idea.  You can see that what <code>maybe_gen</code> does when <code>is_return</code> is True is completely trivial.  It just iterates over the generator without doing anything.  This is especially silly since in this case the generator itself doesn't do anything except print.</p>\n\n<p>It is better to have the function API be consistent: either always return a generator, or never do.  A better idea would be to just have two functions <code>foo_gen</code> that is the generator, and <code>print_gen</code> or something which unconditionally prints it.  If you want the generator, you call <code>foo_gen</code>.  If you just want to print it, you call <code>print_gen</code> instead, rather than passing a \"flag\" argument to <code>foo_gen</code>.</p>\n\n<p>With regard to your comment at the end:</p>\n\n<blockquote>\n  <p>But this isn't as nice and is confusing for users of an API who aren't expecting to have to iterate through anything to make the side-effects occur.</p>\n</blockquote>\n\n<p>If the API specifies that the function returns a generator, users should expect to have to iterate over it.  If the API says it doesn't return a generator, users shouldn't expect to have to iterate over it.  The API should just say one or the other, which will make it clear to users what to expect.  What is far more confusing is to have an awkward API that tells users they have to pass a flag to determine whether they get a generator or not, because this complicates the expectations of the user.</p>\n"}], "owner": {"reputation": 409, "user_id": 3524689, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a7001abae6178fa88c866751cabc26ea?s=128&d=identicon&r=PG", "display_name": "salotz", "link": "https://stackoverflow.com/users/3524689/salotz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 47683898, "answer_count": 2, "score": 0, "last_activity_date": 1512596924, "creation_date": 1512595735, "question_id": 47683745, "link": "https://stackoverflow.com/questions/47683745/python-functions-as-optional-generators", "title": "python functions as optional generators", "body": "<p>Lets say I have a function and I want to have the option to return results or not. This would be easy to code:</p>\n\n<pre><code>def foo(N, is_return=False):\n    l = []\n    for i in range(N):\n        print(i)\n        if is_return:\n            l.append(i)\n    if is_return:\n        return l\n</code></pre>\n\n<p>But now lets say I want the function to be a generator. I would write something like this:</p>\n\n<pre><code>def foo_gen(N, is_return=False):\n    for i in range(N):\n        print(i)\n        if is_return:\n            yield i\n</code></pre>\n\n<p>So presumably when <code>is_return</code> is <code>False</code> then <code>foo_gen</code> is just a function with no return value and when <code>is_return</code> is <code>True</code> <code>foo_gen</code> is a generator, for which I would like there to be two different invocations:</p>\n\n<pre><code>In [1]: list(foo_gen(3, is_return=True))\n0\n1\n2\nOut[2]: [0, 1, 2]\n</code></pre>\n\n<p>for when it is a generator and you have to iterate through the yielded values, and:</p>\n\n<pre><code>&gt;&gt;&gt; In [2]: foo_gen(3)\n0\n1\n2\n</code></pre>\n\n<p>For when it is not a generator and it just has it's side-effect and you don't have to iterate through it. However, this latter behavior doesn't work instead just returning the generator. You can just receive nothing from it:</p>\n\n<pre><code>In [3]: list(foo_gen(3, is_return=False))\n0\n1\n2\nOut[3]: []\n</code></pre>\n\n<p>But this isn't as nice and is confusing for users of an API who aren't expecting to have to iterate through anything to make the side-effects occur.</p>\n\n<p>Is there anyway to make the behavior of <code>In [2]</code> in a function?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7854098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRqZo.jpg?s=128&g=1", "display_name": "Nnedi Ugo", "link": "https://stackoverflow.com/users/7854098/nnedi-ugo"}, "edited": false, "score": 0, "creation_date": 1512839780, "post_id": 47683818, "comment_id": 82422675, "body": "I tried this and I get the error: TypeError: must be str, not list"}, {"owner": {"reputation": 53, "user_id": 7854098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRqZo.jpg?s=128&g=1", "display_name": "Nnedi Ugo", "link": "https://stackoverflow.com/users/7854098/nnedi-ugo"}, "edited": false, "score": 0, "creation_date": 1512840825, "post_id": 47683818, "comment_id": 82423076, "body": "I was able to obtain the info by adding csv.write(str(data)) but now the commas show up and I need to data listed in a way where each set is on a different line. I know I can use \\n but I am having some trouble with it."}, {"owner": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "reply_to_user": {"reputation": 53, "user_id": 7854098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRqZo.jpg?s=128&g=1", "display_name": "Nnedi Ugo", "link": "https://stackoverflow.com/users/7854098/nnedi-ugo"}, "edited": false, "score": 0, "creation_date": 1512939487, "post_id": 47683818, "comment_id": 82446840, "body": "Sorry, I forgot the interface to csv and didn&#39;t look it up. You want <code>writerow</code> with a list. <a href=\"https://docs.python.org/3.5/library/csv.html#csv.csvwriter.writerow\" rel=\"nofollow noreferrer\">docs.python.org/3.5/library/csv.html#csv.csvwriter.writerow</a> <code>csv.write</code> just writes to the underlying file like a plain file, and you&#39;re not using any of the features of csv."}], "tags": [], "owner": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "is_accepted": false, "score": 0, "last_activity_date": 1512939567, "last_edit_date": 1512939567, "creation_date": 1512596131, "answer_id": 47683818, "question_id": 47683744, "link": "https://stackoverflow.com/questions/47683744/pull-data-using-regex-and-insert-into-a-csv-file/47683818#47683818", "title": "Pull data using regex and insert into a .csv file", "body": "<blockquote>\n  <p>It looks like the best way to conquer this is to create a list, and somehow insert the data into the list and write the data into the csv file. But how can I do that with my current setup?</p>\n</blockquote>\n\n<p>Yes you're right. Replace your print statements with <code>append</code>s to a list:</p>\n\n<pre><code>data = []\nfor item in div:\n    title_pattern = '&lt;img alt=\"(.*?)\\\"'\n    comp = re.compile(title_pattern)\n    href = re.findall(comp, str(item))\n    for x in href:\n        data.append(x)\n\n    price_pattern = 'itemprop=\"price\"&gt;(.*?)&lt;'\n    comp = re.compile(price_pattern)\n    href = re.findall(comp, str(item))\n    for x in href:\n        data.append(x)\n</code></pre>\n\n<p>And then later</p>\n\n<pre><code>csv.writerow(data)\n</code></pre>\n\n<p>From what I remember, csv.write takes a list and not a rendered CSV string anyways. That's the whole point, it takes the raw data and escapes it properly and adds the commas for you.</p>\n\n<p>Edit: As explained in the comment, I misremembered the interface to csv writer. <code>writerow</code> takes a list, not <code>write</code>. Updated.</p>\n"}], "owner": {"reputation": 53, "user_id": 7854098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRqZo.jpg?s=128&g=1", "display_name": "Nnedi Ugo", "link": "https://stackoverflow.com/users/7854098/nnedi-ugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512939567, "creation_date": 1512595726, "question_id": 47683744, "link": "https://stackoverflow.com/questions/47683744/pull-data-using-regex-and-insert-into-a-csv-file", "title": "Pull data using regex and insert into a .csv file", "body": "<p>So I am using regex to pull data from a webpage. Done. </p>\n\n<p>Now I am trying to insert this data into a .csv file. No problem right? </p>\n\n<p>So I am having trouble pulling my data from the loops I created to insert into the .csv file. It looks like the best way to conquer this is to create a list, and somehow insert the data into the list and write the data into the csv file. But how can I do that with my current setup? </p>\n\n<pre><code>import re\nimport sqlite3 as lite\nimport mysql.connector\nimport urllib.request\nfrom bs4 import BeautifulSoup\nimport csv\n\n#We're pulling info on socks from e-commerce site Aliexpress\n\nurl=\"https://www.aliexpress.com/premium/socks.html?SearchText=socks&amp;ltype=wholesale&amp;d=y&amp;tc=ppc&amp;blanktest=0&amp;initiative_id=SB_20171202125044&amp;origin=y&amp;catId=0&amp;isViewCP=y\"\n\nreq = urllib.request.urlopen(url)\nsoup = BeautifulSoup(req, \"html.parser\")\ndiv = soup.find_all(\"div\", attrs={\"class\":\"item\"})\n\nfor item in div:\n    title_pattern = '&lt;img alt=\"(.*?)\\\"'\n    comp = re.compile(title_pattern)\n    href = re.findall(comp, str(item))\n    for x in href:\n        print(x)\n\n    price_pattern = 'itemprop=\"price\"&gt;(.*?)&lt;'\n    comp = re.compile(price_pattern)\n    href = re.findall(comp, str(item))\n    for x in href:\n        print(x)\n\n    seller_pattern = '&lt;a class=\"store j-p4plog\".*?&gt;(.*?)&lt;'\n    comp = re.compile(seller_pattern)\n    href = re.findall(comp, str(item))\n    for x in href:\n        print(x)\n\n    orders_pattern = '&lt;em title=\"Total Orders\"&gt;.*?&lt;'\n    comp = re.compile(orders_pattern)\n    href = re.findall(comp, str(item))\n    for x in href:\n        print(x[32:-1])\n\n    feedback_pattern = '&lt;a class=\"rate-num j-p4plog\".*?&gt;(.*)&lt;'\n    comp = re.compile(feedback_pattern)\n    href = re.findall(comp, str(item))\n    for x in href:\n        print(x)\n\n# Creation and insertion of CSV file\n\n# csvfile = \"aliexpress.csv\"\n# csv = open(csvfile, \"w\")\n# columnTitleRow = \"Title,Price,Seller,Orders,Feedback,Pair\"\n# csv.write(columnTitleRow)\n#\n# for stuff in div:\n#     title = \n#     price = \n#     seller = \n#     orders = \n#     feedback = \n#     row = title + \",\" + price + \",\" + seller + \",\" + orders + \",\" + feedback + \n\",\" + \"\\n\"\n#     csv.write(row)\n</code></pre>\n\n<p>I want to be able to print these lists by their row. </p>\n"}, {"tags": ["python", "python-2.7", "dataframe", "fillna"], "answers": [{"comments": [{"owner": {"reputation": 1957, "user_id": 719001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b1e8be0851df051f538c08ba23a0208?s=128&d=identicon&r=PG", "display_name": "Nir", "link": "https://stackoverflow.com/users/719001/nir"}, "edited": false, "score": 0, "creation_date": 1512668152, "post_id": 47684423, "comment_id": 82361347, "body": "Each column has data in the middle. But the begging and maybe some in the end are the problem. what do you mean do both one after the other? this is what i&#39;m doing.. no?"}], "tags": [], "owner": {"reputation": 896, "user_id": 9019560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7024d310c7521f85292ab4961accee31?s=128&d=identicon&r=PG&f=1", "display_name": "Turksarama", "link": "https://stackoverflow.com/users/9019560/turksarama"}, "is_accepted": false, "score": 0, "last_activity_date": 1512598863, "creation_date": 1512598863, "answer_id": 47684423, "question_id": 47683727, "link": "https://stackoverflow.com/questions/47683727/fillna-does-fill-the-dataframe-in-the-nan-cells/47684423#47684423", "title": "fillna does fill the dataframe in the NaN cells", "body": "<p>ffill fills rows with values from the previous row if they weren't NaN, bfill fills rows with the values from the NEXT row if they weren't NaN.  In both cases, if you have NaNs on the first and/or last row, they won't get filled.  Try doing both one after the other.  If any columns have <strong>entirely</strong> NaN values then you will need to fill again with axis=1, (although I get a NotImplementedError when I try to do this with inplace=True on python 3.6, which is super annoying, pandas!).</p>\n"}, {"tags": [], "owner": {"reputation": 1957, "user_id": 719001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b1e8be0851df051f538c08ba23a0208?s=128&d=identicon&r=PG", "display_name": "Nir", "link": "https://stackoverflow.com/users/719001/nir"}, "is_accepted": true, "score": 0, "last_activity_date": 1512944800, "creation_date": 1512944800, "answer_id": 47744134, "question_id": 47683727, "link": "https://stackoverflow.com/questions/47683727/fillna-does-fill-the-dataframe-in-the-nan-cells/47744134#47744134", "title": "fillna does fill the dataframe in the NaN cells", "body": "<p>So, I don't know why but taking the fillna outside the function fixed it..</p>\n\n<p>Origen:</p>\n\n<pre><code>def doWork(df):\n  ...\n  df = df.fillna(method='ffill')\n  df = df.fillna(method='bfill')\n\ndef main():\n  ..\n  doWork(df)\n  print df.head(5) #shows NaN\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>def doWork(df):\n  ...\n\ndef main():\n  ..\n  doWork(df)\n\n  df = df.fillna(method='ffill')\n  df = df.fillna(method='bfill')\n\n  print df.head(5) #no NaN\n</code></pre>\n"}], "owner": {"reputation": 1957, "user_id": 719001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b1e8be0851df051f538c08ba23a0208?s=128&d=identicon&r=PG", "display_name": "Nir", "link": "https://stackoverflow.com/users/719001/nir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 47744134, "answer_count": 2, "score": 0, "last_activity_date": 1512944800, "creation_date": 1512595633, "last_edit_date": 1512943648, "question_id": 47683727, "link": "https://stackoverflow.com/questions/47683727/fillna-does-fill-the-dataframe-in-the-nan-cells", "title": "fillna does fill the dataframe in the NaN cells", "body": "<p>What am I missing? fillna doesn't fill NaN values:</p>\n\n<pre><code>#filling multi columns df with values..\n\ndf.fillna(method='ffill', inplace=True)\ndf.fillna(method='bfill', inplace=True)\n\n#just for kicks\ndf = df.fillna(method='ffill')\ndf = df.fillna(method='bfill')\n\n#retun true\nprint df.isnull().values.any()\n</code></pre>\n\n<p>I verified it - I actually see NaN values in some first cells..</p>\n\n<p><strong>Edit</strong>\nSo I'm trying to write it myself:</p>\n\n<pre><code>def bfill(df):\n    for column in df:\n        for cell in df[column]:\n            if cell is not None:\n                tmpValue = cell\n                break\n\n        for cell in df[column]:\n            if cell is not None:\n                break\n            cell = tmpValue\n</code></pre>\n\n<p>However it doesn't work... Isn't the cell is by ref?</p>\n"}, {"tags": ["python", "pandas", "pickle"], "comments": [{"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1512601579, "post_id": 47683705, "comment_id": 82329546, "body": "Show some more code, you are probably not overwriting <code>df</code>"}], "answers": [{"tags": [], "owner": {"reputation": 678, "user_id": 8963981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGjL6.png?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8963981/manuel"}, "is_accepted": true, "score": 1, "last_activity_date": 1512597668, "creation_date": 1512597668, "answer_id": 47684167, "question_id": 47683705, "link": "https://stackoverflow.com/questions/47683705/how-to-read-pickle-files-without-taking-up-a-lot-of-memory/47684167#47684167", "title": "How to read pickle files without taking up a lot of memory", "body": "<pre><code>del df\ngc.collect()\n</code></pre>\n\n<p>Erase reference, and garbage colector.</p>\n\n<p>Edit, this erase your dataframe from memory, you can not close the file, take the info and dont use ram.</p>\n"}], "owner": {"reputation": 498, "user_id": 8396562, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wYKbnoTMUkA/AAAAAAAAAAI/AAAAAAAAG2Y/fUDsBs07yHQ/photo.jpg?sz=128", "display_name": "Samantha", "link": "https://stackoverflow.com/users/8396562/samantha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 47684167, "answer_count": 1, "score": 0, "last_activity_date": 1512597668, "creation_date": 1512595545, "question_id": 47683705, "link": "https://stackoverflow.com/questions/47683705/how-to-read-pickle-files-without-taking-up-a-lot-of-memory", "title": "How to read pickle files without taking up a lot of memory", "body": "<p>Currently I have a loop that contains:</p>\n\n<pre><code>df = pandas.read_pickle(filepath)\n</code></pre>\n\n<p>the files are ~ 100 mb. However since it is looping through these many times, it is taking up a lot of memory and then eventually I get a memory error. Is there a way to do this where I can close the file once I get the dataframe?</p>\n\n<p>My code is correct because I've tested it with less files. I just want an alternative to reading large pickle files without taking up too much memory after I read it. </p>\n"}, {"tags": ["python", "dictionary", "tree"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9058496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/336a9b7beac5d388fc6a100c532014d2?s=128&d=identicon&r=PG&f=1", "display_name": "SheepyBloke", "link": "https://stackoverflow.com/users/9058496/sheepybloke"}, "edited": false, "score": 0, "creation_date": 1512766730, "post_id": 47700079, "comment_id": 82404667, "body": "This is exactly what I&#39;m looking for! I had originally thought of using a recursive function for the web pages, but I had no idea how to do that and keep track of the URLs. I saw this <a href=\"https://stackoverflow.com/questions/19937210/dynamically-set-deep-python-dict\">post</a>, but wasn&#39;t sure about how to make the leap from that to my program. Thanks for your help!"}], "tags": [], "owner": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "is_accepted": true, "score": 0, "last_activity_date": 1512666331, "last_edit_date": 1512666331, "creation_date": 1512665921, "answer_id": 47700079, "question_id": 47683676, "link": "https://stackoverflow.com/questions/47683676/automatically-add-layers-to-a-dictionary-in-python/47700079#47700079", "title": "Automatically Add Layers to a Dictionary in Python", "body": "<p>This can be done using recursive functions.</p>\n\n<p>A basic example which will crawl all the urls found in a page one by one, then crawl all the urls found in that page one by one, and so on... It will also print out every url it finds.</p>\n\n<pre><code>def recursive_fetch(url_to_fetch):\n    # get page source from url_to_fetch\n    # make a new soup\n    for link in soup.find_all('a'):\n        url = link.get('href')\n        print url\n        # run the function recursively \n        # for the current url\n        recursive_fetch(url)\n\n\n# Usage\nrecursive_fetch(root_url)\n</code></pre>\n\n<hr>\n\n<p>Since you want to have a dict of tree of all the urls found, the above code isn't much helpful, but it's a start.</p>\n\n<p>This is where it gets really complex. Because now you'll also need to keep track of the parent of the current url being crawled, the parent of that url, parent of that url, parent of that url, parent of ...</p>\n\n<p>You see, what I mean? It gets very complex, very fast.</p>\n\n<p>Below is the code that does all that. I've written comments in the code to explain it as best as I can. But you'll need to actually understand how recursive functions work for a better understanding.</p>\n\n<p>First, let's look at another function which will be very helpful in getting the parent of a url from the tree:</p>\n\n<pre><code>def get_parent(tree, parent_list):\n    \"\"\"How it works:\n\n    Let's say the `tree` looks like this:\n\n        tree = {\n            'root-url': {\n                'link-1': {\n                    'link-1-a': {...}\n                }\n            }\n        }\n\n    and `parent_list` looks like this:\n\n        parent_list = ['root-url', 'link-1', 'link-1-a']\n\n    this function will chain the values in the list and \n    perform a dict lookup like this:\n\n        tree['root-url']['link-1']['link-1-a']\n    \"\"\"\n\n    first, rest = parent_list[0], parent_list[1:]\n    try:\n        if tree[first] and rest:\n            # if tree or rest aren't empty\n            # run the function recursively\n            return get_parent(tree[first], rest)\n        else:\n            return tree[first]\n    except KeyError:\n        # this is required for creating the \n        # root_url dict in the tree\n        # because it doesn't exist yet\n\n        tree[first] = {}\n        return tree[first]\n</code></pre>\n\n<p>And the <code>recursive_fetch</code> function will look like this:</p>\n\n<pre><code>url_tree = {} # dict to store the url tree\n\n\ndef recursive_fetch(fetch_url, parents=None):\n    \"\"\"\n    `parents` is a list of parents of the current url\n     Example:\n         parents = ['root-url', 'link-1', ... 'parent-link']\n    \"\"\"\n    parents = parents or []\n\n    parents.append(fetch_url)\n\n    # get page source from fetch_url\n    # make new soup object\n\n    for link in soup.find_all('a'):\n        url = link.get('href')\n\n        if parents:\n            parent = get_parent(url_tree, parents)\n        else:\n            parent = None\n\n        if parent is not None:\n            # this will run when parent is not None\n            # i.e. even if parent is empty dict {}\n\n            # create a new dict of the current url\n            # inside the parent dict\n            parent[url] = {}\n        else:\n            # this url has no parent, \n            # insert this directly in the url_tree\n            url_tree[url] = {}\n\n        # now crawl the current url\n        recursive_fetch(url, parents)\n\n    # Next is the most import block of code\n    # Whenever 1 recursion completes, \n    # it will pop the last parent from \n    # the `parents` list so that in the \n    # next recursion, the parents are correct.\n    # Whithout this block, the url_tree wouldn't \n    # look as expected.\n    # It took me many hours to figure this out\n\n    try:\n        parents.pop(-1)\n    except IndexError:\n        pass\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9058496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/336a9b7beac5d388fc6a100c532014d2?s=128&d=identicon&r=PG&f=1", "display_name": "SheepyBloke", "link": "https://stackoverflow.com/users/9058496/sheepybloke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 47700079, "answer_count": 1, "score": 1, "last_activity_date": 1512666331, "creation_date": 1512595446, "question_id": 47683676, "link": "https://stackoverflow.com/questions/47683676/automatically-add-layers-to-a-dictionary-in-python", "title": "Automatically Add Layers to a Dictionary in Python", "body": "<p>\nI'm creating a program that uses a dictionary to store large trees of web links in Python. Basically, you start with the root URL, and that creates a dictionary based on the URLs found from the HTML of the root. In the next step, I want to get the pages of each of those URLs and grab the links on those URLs. Eventually, I want to have a dictionary with all the links in it and their relation to each other. </p>\n\n<p>\nThis is what I have for the first two depths</p>\n\n<pre><code>for link in soup.find_all('a'):\n   url = link.get('href')\n   url_tree[siteurl][url]\n #Get page source\n   for link in soup.find_all('a'):\n     url = link.get('href')\n     url_tree[siteurl][secondurl][url]\n</code></pre>\n\n<p>This system works, but as you can tell, if I want a dictionary N layers deep, that gets to be a lot of blocks of code. Is there a way to automatically add more layers? Any help is appreciated! </p>\n"}, {"tags": ["python", "variables", "lazy-evaluation"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 1, "creation_date": 1512596293, "post_id": 47683660, "comment_id": 82327273, "body": "I am not sure if this fits your requirements, but take a look at <a href=\"https://docs.python.org/3/howto/descriptor.html#descriptor-example\" rel=\"nofollow noreferrer\"><code>descriptors</code></a>."}, {"owner": {"reputation": 143, "user_id": 2999865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00505874bb4c7f35ca4880c6a8d8b24b?s=128&d=identicon&r=PG&f=1", "display_name": "netanelrevah", "link": "https://stackoverflow.com/users/2999865/netanelrevah"}, "reply_to_user": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1512599974, "post_id": 47683660, "comment_id": 82328931, "body": "That&#39;s help, but when i tried to use classes for the solution it wasn&#39;t fast as the solution iv&#39;e found. class creation is slow and i need solution that&#39;s fits long for loops"}], "answers": [{"tags": [], "owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "is_accepted": false, "score": 1, "last_activity_date": 1512596514, "creation_date": 1512596514, "answer_id": 47683916, "question_id": 47683660, "link": "https://stackoverflow.com/questions/47683660/is-there-better-way-to-create-lazy-variable-initialization/47683916#47683916", "title": "Is there better way to create lazy variable initialization?", "body": "<p>A simple container (but which needs the parentheses nevertheless) can be done e.g. like this:</p>\n\n<pre><code>class Container:\n    UNDEF = object()\n\n    def __init__(self, factory):\n        self.data = Container.UNDEF\n        self.factory = factory\n\n    def __call__(self):\n        if self.data is Container.UNDEF:\n            self.data = self.factory()\n\n        return self.data\n\n# Test:\n\nvar = Container(lambda: 5)\n\nprint(var())\nprint(var())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 2, "last_activity_date": 1512597172, "creation_date": 1512597172, "answer_id": 47684050, "question_id": 47683660, "link": "https://stackoverflow.com/questions/47683660/is-there-better-way-to-create-lazy-variable-initialization/47684050#47684050", "title": "Is there better way to create lazy variable initialization?", "body": "<p>If we're talking about instance variables, then yes - you can write your own wrapper and have it behave the way you want:</p>\n\n<pre><code>class LazyVar(object):\n\n    def __init__(self, factory, *args, **kwargs):\n        self.id = \"__value_\" + str(id(self))  # internal store\n        self.factory = factory\n        self.args = args\n        self.kwargs = kwargs\n\n    def __get__(self, instance, owner):\n        if instance is None:\n            return self\n        else:\n            try:\n                return getattr(instance, self.id)\n            except AttributeError:\n                value = self.factory(*self.args, **self.kwargs)\n                setattr(instance, self.id, value)\n                return value\n\n\ndef factory(name):\n    print(\"Factory called, initializing: \" + name)\n    return name.upper()  # just for giggles\n\n\nclass TestClass(object):\n\n    foo = LazyVar(factory, \"foo\")\n    bar = LazyVar(factory, \"bar\")\n</code></pre>\n\n<p>You can test it as:</p>\n\n<pre><code>test = TestClass()\nprint(\"Foo will get initialized the moment we mention it\")\nprint(\"Foo's value is:\", test.foo)\nprint(\"It will also work for referencing, so even tho bar is not initialized...\")\nanother_bar = test.bar\nprint(\"It gets initialized the moment we set its value to some other variable\")\nprint(\"They, of course, have the same value: `{}` vs `{}`\".format(test.bar, another_bar))\n</code></pre>\n\n<p>Which will print:</p>\n\n<pre>Foo will get initialized the moment we mention it\nFactory called, initializing: foo\nFoo's value is: FOO\nIt will also work for referencing, so even tho bar is not initialized...\nFactory called, initializing: bar\nIt gets initialized the moment we set its value to some other variable\nThey, of course, have the same value: `BAR` vs `BAR`</pre>\n\n<p>Unfortunately, you cannot use the same trick for globally declared variables  as <code>__get__()</code> gets called only when accessed as instance vars.</p>\n"}, {"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1512597279, "creation_date": 1512597279, "answer_id": 47684074, "question_id": 47683660, "link": "https://stackoverflow.com/questions/47683660/is-there-better-way-to-create-lazy-variable-initialization/47684074#47684074", "title": "Is there better way to create lazy variable initialization?", "body": "<p>Well you <em>could</em> simply access <code>locals()</code> or <code>globals()</code> and type</p>\n\n<pre><code>var2 = locals().get('var', factory())\n</code></pre>\n\n<p>but I have never been in a situation where that would be useful, so you should probably evaluate why you want to do what you want to do.</p>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 2, "last_activity_date": 1512599729, "creation_date": 1512599729, "answer_id": 47684633, "question_id": 47683660, "link": "https://stackoverflow.com/questions/47683660/is-there-better-way-to-create-lazy-variable-initialization/47684633#47684633", "title": "Is there better way to create lazy variable initialization?", "body": "<p>If I understand you correctly then some of the functionality you are interested in is provided by <code>functools.lru_cache</code>:</p>\n\n<pre><code>import functools as ft\n\n@ft.lru_cache(None)\ndef lazy():\n    print(\"I'm working soo hard\")\n    return sum(range(1000))\n\nlazy() # 1st time factory is called\n# I'm working soo hard\n# 499500\nlazy() # afterwards cached result is used\n# 499500\n</code></pre>\n\n<p>The decorated factory may also take parameters:</p>\n\n<pre><code>@ft.lru_cache(None)\ndef lazy_with_args(x):\n    print(\"I'm working so hard\")\n    return sum((x+i)**2 for i in range(100))\n\nlazy_with_args(3.4)\n# I'm working so hard\n# 363165.99999999994\nlazy_with_args(3.4)\n# 363165.99999999994\n# new parametes, factory is used to compute new value\nlazy_with_args(-1.2)\n# I'm working so hard\n# 316614.00000000006\nlazy_with_args(-1.2)\n# 316614.00000000006\n# old value stays in cache\nlazy_with_args(3.4)\n# 363165.99999999994 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 2999865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00505874bb4c7f35ca4880c6a8d8b24b?s=128&d=identicon&r=PG&f=1", "display_name": "netanelrevah", "link": "https://stackoverflow.com/users/2999865/netanelrevah"}, "is_accepted": true, "score": 1, "last_activity_date": 1513116381, "creation_date": 1513116381, "answer_id": 47782305, "question_id": 47683660, "link": "https://stackoverflow.com/questions/47683660/is-there-better-way-to-create-lazy-variable-initialization/47782305#47782305", "title": "Is there better way to create lazy variable initialization?", "body": "<p>Ok, I think i found a nice and fast solution using generators:</p>\n\n<pre><code>def create_and_generate(creator):\n    value = creator()\n    while True:\n        yield value    \n\n\ndef lazy_variable(creator):\n    generator_instance = create_and_generate(creator)\n    return lambda: next(generator_instance)\n</code></pre>\n\n<p>another fast solution is:</p>\n\n<pre><code>def lazy_variable(factory):\n    data = []\n    def f():\n        if not data:\n            data.extend((factory(),))\n        return data[0]\n    return f\n</code></pre>\n\n<p>but I thing the generator is more clear.</p>\n"}], "owner": {"reputation": 143, "user_id": 2999865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00505874bb4c7f35ca4880c6a8d8b24b?s=128&d=identicon&r=PG&f=1", "display_name": "netanelrevah", "link": "https://stackoverflow.com/users/2999865/netanelrevah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1374, "favorite_count": 0, "accepted_answer_id": 47782305, "answer_count": 5, "score": 5, "last_activity_date": 1513116381, "creation_date": 1512595359, "last_edit_date": 1512601675, "question_id": 47683660, "link": "https://stackoverflow.com/questions/47683660/is-there-better-way-to-create-lazy-variable-initialization", "title": "Is there better way to create lazy variable initialization?", "body": "<p>I want to create code that initialize variable only when I really need it. But initializing in the regular way:</p>\n\n<pre><code>var = None\n\nif var is None:\n    var = factory()\nvar2 = var\n</code></pre>\n\n<p>Make too much noise in the code.</p>\n\n<p>I tried to create fast solution but I feel there is better option. This is my solution that is fast but can't get parameters and use defaultdict for this.</p>\n\n<pre><code>def lazy_variable(factory):\n    data = defaultdict(factory)\n    return lambda: data['']\n\nvar = lazy_variable(a_factory)\nvar2 = var()\n</code></pre>\n\n<p>More questions:</p>\n\n<ul>\n<li>is there fast python container that holds only one variable?</li>\n<li>is there a way to return value without calling the function with parenthesis?</li>\n</ul>\n\n<p>EDIT:</p>\n\n<p>Please consider performance. I know i can create a class that can have this behavior, but it slower then the simple solution and also the default dict solution.</p>\n\n<p>trying some of the solutions:</p>\n\n<p>define:</p>\n\n<pre><code>import cachetools.func\nimport random\n\n@cachetools.func.lru_cache(None)\ndef factory(i):\n    return random.random()\n</code></pre>\n\n<p>and run:</p>\n\n<pre><code>%%timeit\n\nfor i in xrange(100):\n    q = factory(i)\n    q = factory(i)\n</code></pre>\n\n<p>got:</p>\n\n<pre><code>100 loops, best of 3: 2.63 ms per loop\n</code></pre>\n\n<p>naive:</p>\n\n<pre><code>%%timeit\n\nfor i in xrange(100):\n    a = None\n    if a is None:\n        a = random.random()\n    q = a\n    q = a\n</code></pre>\n\n<p>got:</p>\n\n<pre><code>The slowest run took 4.71 times longer than the fastest. This could mean that an intermediate result is being cached.\n100000 loops, best of 3: 14.8 \u00b5s per loop\n</code></pre>\n\n<p>I'm not sure what was cached</p>\n\n<p>defaultdict solution:</p>\n\n<pre><code>%%timeit\n\nfor i in xrange(100):\n    a = lazy_variable(random.random)\n    q = a()\n    q = a()\n</code></pre>\n\n<p>got:</p>\n\n<pre><code>The slowest run took 4.11 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 76.3 \u00b5s per loop\n</code></pre>\n\n<p>Tnx!</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql"], "answers": [{"comments": [{"owner": {"reputation": 1619, "user_id": 2280020, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BdYnJ.jpg?s=128&g=1", "display_name": "MrCartoonology", "link": "https://stackoverflow.com/users/2280020/mrcartoonology"}, "edited": false, "score": 0, "creation_date": 1512758359, "post_id": 47683913, "comment_id": 82401158, "body": "Thanks! I got the struct to work, big help! I couldn&#39;t get <code>df.select(col(None).cast(type).alias(&#39;name&#39;)</code> to work, but did something more verbose using <code>withColumn and lit(None)</code>"}], "tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": true, "score": 0, "last_activity_date": 1512758653, "last_edit_date": 1512758653, "creation_date": 1512596491, "answer_id": 47683913, "question_id": 47683644, "link": "https://stackoverflow.com/questions/47683644/select-all-columns-of-a-dataframe-as-a-structtype/47683913#47683913", "title": "Select all columns of a dataframe as a StructType", "body": "<blockquote>\n  <p>Select all columns of a dataframe as a StructType</p>\n</blockquote>\n\n<pre><code>from pyspark.sql.functions import struct, lit\n\ncommonA = dfA.select(\"time\", struct(*[c for c in df.columns]).alias(\"dfA\"))\ncommonB = dfB.select(\"time\", struct(*[c for c in df.columns]).alias(\"dfB\"))\n</code></pre>\n\n<p>but this cannot be unioned as described. You could:</p>\n\n<pre><code>commonA_ = commonA.select(\"time\", \"dfA\", lit(None).cast(dfB.schema).alias(\"dfB\"))\ncommonB_ = commonB.select(\"time\", lit(None).cast(dfA.schema).alias(\"dfA\"), \"dfB\")\ncommonA_.union(commonB_)\n</code></pre>\n\n<p>but it sounds you are looking for something more like outer join</p>\n\n<pre><code>dfA.alias(\"A\").join(dfB.alias(\"B\"), [\"time\"], \"fullouter\")\n</code></pre>\n"}], "owner": {"reputation": 1619, "user_id": 2280020, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BdYnJ.jpg?s=128&g=1", "display_name": "MrCartoonology", "link": "https://stackoverflow.com/users/2280020/mrcartoonology"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1627, "favorite_count": 0, "accepted_answer_id": 47683913, "answer_count": 1, "score": 2, "last_activity_date": 1512758653, "creation_date": 1512595317, "last_edit_date": 1512596520, "question_id": 47683644, "link": "https://stackoverflow.com/questions/47683644/select-all-columns-of-a-dataframe-as-a-structtype", "title": "Select all columns of a dataframe as a StructType", "body": "<p>In pyspark, I have two dataframes, dfA and dfB, with complex schemas. A common column in the schemas is 'time'. I'd like to make a new dataframe that is the union of these two, so that I can sort on time, however I don't want to lose anything in the original dataframes. I can't figure out how to get everything from one of the original dataframes and group it together in a new structType of the union. </p>\n\n<p>That is, if I have</p>\n\n<pre><code># dfA\nroot\n |--time\n |--fieldA\n |--fieldB\n\n# dfB\nroot\n |--time\n |--fieldC\n |--fieldD\n</code></pre>\n\n<p>I'd like to create a union dataframe that has schema</p>\n\n<pre><code># root\n   |--time\n   |--dfA\n       |--time\n       |--fieldA\n       |--fieldB\n   |--dfB\n       |--time\n       |--fieldC\n       |--fieldD  \n</code></pre>\n\n<p>After the union, the fields dfA and dfB will null sometimes, depending on which of the original dataframes the row came from.</p>\n\n<p>I imagine I could define the common schema by doing</p>\n\n<pre><code>common_schema = T.StructType([T.StructField('time', T.TimestampType()),\n                              T.StructField('dfA', dfA.schema, True),\n                              T.StructField('dfB', dfB.schema, True)])\n</code></pre>\n\n<p>But then I get stuck on the syntax for how to select everything from a dataframe as a column. I'm looking for something like</p>\n\n<pre><code>commonA = dfA.select('time', \n                     F.col('*').alias('dfA'))\ncommonB = dfB.select('time',\n                     F.col('*').alias('dfB'))\ncommon_df = commonA.union(commonB)\n</code></pre>\n\n<p>But this is an illegal use of '*'</p>\n"}, {"tags": ["python", "pandas", "reformatting"], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 3954026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06afb95fb7b8ebe53c062e723cacff9e?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Ellen", "link": "https://stackoverflow.com/users/3954026/jeff-ellen"}, "edited": false, "score": 0, "creation_date": 1532656799, "post_id": 47683683, "comment_id": 90066969, "body": "Given the orignal DF, the answer could be confusing to those not yet comfortable with pandas syntax. The parameters given inside the df.pivot are the names of the original df columns, not the indicies. So be sure to read it as &quot;The column named &#39;0&#39; as the index&quot; and not &quot;The first (0th) column is the index&quot;"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 497, "user_id": 3954026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06afb95fb7b8ebe53c062e723cacff9e?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Ellen", "link": "https://stackoverflow.com/users/3954026/jeff-ellen"}, "edited": false, "score": 0, "creation_date": 1532658114, "post_id": 47683683, "comment_id": 90067257, "body": "@JeffEllen: Good point. I&#39;ve made an edit to hopefully make this clearer."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 17, "last_activity_date": 1532860221, "last_edit_date": 1532860221, "creation_date": 1512595459, "answer_id": 47683683, "question_id": 47683642, "link": "https://stackoverflow.com/questions/47683642/how-to-create-a-square-dataframe-matrix-given-3-columns-python/47683683#47683683", "title": "How to create a square dataframe/matrix given 3 columns - Python", "body": "<p>You could use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.pivot.html\" rel=\"noreferrer\"><code>df.pivot</code></a>:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame([['a', 'a', 0],\n                   ['a', 'b', 3],\n                   ['a', 'c', 4],\n                   ['a', 'd', 12],\n                   ['b', 'a', 3],\n                   ['b', 'b', 0],\n                   ['b', 'c', 2]], columns=['X','Y','Z'])\n\nprint(df.pivot(index='X', columns='Y', values='Z'))\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>Y    a    b    c     d\nX                     \na  0.0  3.0  4.0  12.0\nb  3.0  0.0  2.0   NaN\n</code></pre>\n\n<p>Here, <code>index='X'</code> tells <code>df.pivot</code> to use the column labeled <code>'X'</code> as the index, and <code>columns='Y'</code> tells it to use the column labeled <code>'Y'</code> as the column index. </p>\n\n<p>See <a href=\"https://pandas.pydata.org/pandas-docs/stable/reshaping.html\" rel=\"noreferrer\">the docs</a> for more on <code>pivot</code> and other reshaping methods.</p>\n\n<hr>\n\n<p>Alternatively, you could use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.crosstab.html\" rel=\"noreferrer\"><code>pd.crosstab</code></a>:</p>\n\n<pre><code>print(pd.crosstab(index=df.iloc[:,0], columns=df.iloc[:,1], \n                  values=df.iloc[:,2], aggfunc='sum'))\n</code></pre>\n\n<p>Unlike <code>df.pivot</code> which expects each <code>(a1, a2)</code> pair to be unique, <code>pd.crosstab</code>\n(with <code>agfunc='sum'</code>) will aggregate duplicate pairs by summing the associated\nvalues. Although there are no duplicate pairs in your posted example, specifying\nhow duplicates are supposed to be aggregated is required when the <code>values</code>\nparameter is used.</p>\n\n<p>Also, whereas <code>df.pivot</code> is passed column labels, <code>pd.crosstab</code> is passed\narray-likes (such as whole columns of <code>df</code>). <code>df.iloc[:, i]</code> is the <code>i</code>th column\nof <code>df</code>.</p>\n"}], "owner": {"reputation": 935, "user_id": 1302551, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a424f12a746bc7afd940cadad187370?s=128&d=identicon&r=PG", "display_name": "WolVes", "link": "https://stackoverflow.com/users/1302551/wolves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8700, "favorite_count": 3, "accepted_answer_id": 47683683, "answer_count": 1, "score": 10, "last_activity_date": 1532860221, "creation_date": 1512595289, "question_id": 47683642, "link": "https://stackoverflow.com/questions/47683642/how-to-create-a-square-dataframe-matrix-given-3-columns-python", "title": "How to create a square dataframe/matrix given 3 columns - Python", "body": "<p>I am struggling to figure out how to develop a square matrix given a format like </p>\n\n<pre><code>a a 0\na b 3\na c 4\na d 12\nb a 3 \nb b 0\nb c 2\n...\n</code></pre>\n\n<p>To something like:</p>\n\n<pre><code>  a b c d e\na 0 3 4 12 ... \nb 3 0 2 7 ... \nc 4 3 0 .. .\nd 12 ...  \ne . .. \n</code></pre>\n\n<p>in pandas. I developed a method which I thinks works but takes forever to run because it has to iterate through each column and row for every value starting from the beginning each time using for loops. I feel like I'm definitely reinventing the wheel here. This also isnt realistic for my dataset given how many columns and rows there are. Is there something similar to R's cast function in python which can do this significantly faster? </p>\n"}, {"tags": ["python", "constraint-programming"], "owner": {"reputation": 4282, "user_id": 290443, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f822f8f82def56dc3237cc4ff794e9e?s=128&d=identicon&r=PG", "display_name": "MikeRand", "link": "https://stackoverflow.com/users/290443/mikerand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1512598478, "creation_date": 1512595002, "last_edit_date": 1512598478, "question_id": 47683584, "link": "https://stackoverflow.com/questions/47683584/constraint-propagation-how-to-handle-ternary-constraints-going-in-the-one-to-m", "title": "Constraint Propagation - how to handle ternary constraints going in the one-to-many direction", "body": "<p>I've implemented a framework to work through <a href=\"https://mitpress.mit.edu/sicp/full-text/sicp/book/node65.html\" rel=\"nofollow noreferrer\">SICP's propagation of constraints Celcius/Fahrenheit calculator example</a> (section 3.3.5 in the second edition of the book) in the following code:</p>\n\n<pre><code>import abc\n\nimport numpy as np\n\n\nclass Connector:\n    \"\"\"An object to store observable values.\"\"\"\n\n    def __init__(self):\n        self._value = None\n        self._informant = None\n        self._constraints = []\n\n    def has_value(self,):\n        \"\"\"Return true if connector has a value.\"\"\"\n        return self._informant is not None\n\n    def get_value(self,):\n        \"\"\"Return connector value.\"\"\"\n        return self._value\n\n    def set_value(self, new_value, informant='-USER-'):\n        \"\"\"Set value if none exists and inform constraints.\"\"\"\n        if not self.has_value():\n            self._value = new_value\n            self._informant = informant\n            for constraint in reversed(self._constraints):\n                if constraint != self._informant:\n                    constraint.new_value()\n        elif not np.array_equal(new_value, self._value):\n            # Note: np needed as != is ambiguous on arrays.\n            raise Contradiction(\"{} vs. {}\".format(self._value, new_value))\n\n    def forget_value(self, retractor='-USER-'):\n        \"\"\"Forget value and inform constraints.\"\"\"\n        if retractor == self._informant:\n            self._informant = None\n            for constraint in reversed(self._constraints):\n                if constraint != retractor:\n                    constraint.forget_value()\n\n    def connect(self, new_constraint):\n        \"\"\"Add a new constraint.\"\"\"\n        if new_constraint not in self._constraints:\n            self._constraints.append(new_constraint)\n        if self.has_value():\n            new_constraint.new_value()\n\n\nclass Constraint(metaclass=abc.ABCMeta):\n    \"\"\"ABC for constraints among connectors.\"\"\"\n\n    @abc.abstractmethod\n    def new_value(self,):\n        \"\"\"Notify constraint of a new connector value.\"\"\"\n        pass\n\n    @abc.abstractmethod\n    def forget_value(self,):\n        \"\"\"Notify constraint to forget all observed connector values.\"\"\"\n        pass\n\n\nclass Adder(Constraint):\n    \"\"\"Defines the constraint x + y == z\"\"\"\n\n    def __init__(self, x, y, z):\n        self.x = x\n        self.y = y\n        self.z = z\n        self.x.connect(self)\n        self.y.connect(self)\n        self.z.connect(self)\n\n    def new_value(self,):\n        if self.x.has_value() and self.y.has_value():\n            self.z.set_value(self.x.get_value() + self.y.get_value(), self)\n        elif self.x.has_value() and self.z.has_value():\n            self.y.set_value(self.z.get_value() - self.x.get_value(), self)\n        elif self.y.has_value() and self.z.has_value():\n            self.x.set_value(self.z.get_value() - self.y.get_value(), self)\n\n    def forget_value(self,):\n        self.z.forget_value(self)\n        self.x.forget_value(self)\n        self.y.forget_value(self)\n        self.new_value()\n\n\nclass Multiplier(Constraint):\n    \"\"\"Defines the constraint x * y == z.\"\"\"\n\n    def __init__(self, x, y, z):\n        self.x = x\n        self.y = y\n        self.z = z\n        self.x.connect(self)\n        self.y.connect(self)\n        self.z.connect(self)\n\n    def new_value(self,):\n        if self.x.has_value() and self.y.has_value():\n            self.z.set_value(self.x.get_value() * self.y.get_value(), self)\n        elif self.x.has_value() and self.z.has_value():\n            self.y.set_value(self.z.get_value() / self.x.get_value(), self)\n        elif self.y.has_value() and self.z.has_value():\n            self.x.set_value(self.z.get_value() / self.y.get_value(), self)\n\n    def forget_value(self,):\n        self.z.forget_value(self)\n        self.x.forget_value(self)\n        self.y.forget_value(self)\n        self.new_value()\n\n\nclass Power(Constraint):\n    \"\"\"Defines the constraint x ** y == z.\"\"\"\n\n    def __init__(self, x, y, z):\n        self.x = x\n        self.y = y\n        self.z = z\n        self.x.connect(self)\n        self.y.connect(self)\n        self.z.connect(self)\n\n    def new_value(self,):\n        if self.x.has_value() and self.y.has_value():\n            self.z.set_value(self.x.get_value() ** self.y.get_value(), self)\n        elif self.x.has_value() and self.z.has_value():\n            self.y.set_value(np.log(self.z.get_value()) / np.log(self.x.get_value()), self)\n        elif self.y.has_value() and self.z.has_value():\n            self.x.set_value(self.z.get_value() ** (1.0 / self.y.get_value()), self)\n\n    def forget_value(self,):\n        self.z.forget_value(self)\n        self.x.forget_value(self)\n        self.y.forget_value(self)\n        self.new_value()\n\n\nclass Equality(Constraint):\n    \"\"\"Defines the constraint x == y.\"\"\"\n\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n        self.x.connect(self)\n        self.y.connect(self)\n\n    def new_value(self,):\n        if self.x.has_value():\n            self.y.set_value(self.x.get_value(), self)\n        elif self.y.has_value():\n            self.x.set_value(self.y.get_value(), self)\n\n    def forget_value(self,):\n        self.y.forget_value(self)\n        self.x.forget_value(self)\n        self.new_value()\n\n\nclass Constant(Constraint):\n    \"\"\"Defines the constraint x == value.\"\"\"\n\n    def __init__(self, x, value):\n        x.connect(self)\n        x.set_value(value, self)\n\n    def new_value(self):\n        raise Exception()\n\n    def forget_value(self):\n        raise Exception()\n\n\nclass Probe(Constraint):\n    \"\"\"Prints whenever connector has a new value.\"\"\"\n\n    def __init__(self, connector, name):\n        self.name = name\n        self.connector = connector\n        self.connector.connect(self)\n\n    def new_value(self,):\n        self._print_probe(self.connector.get_value())\n\n    def forget_value(self,):\n        self._print_probe(\"?\")\n\n    def _print_probe(self, value):\n        print(\"Probe: {} = {}\".format(self.name, value))\n\n\nclass Contradiction(Exception):\n    \"\"\"Raised whenever a connector has an existing value but\n    is asked to change a different value.\n\n    \"\"\"\n    pass \n</code></pre>\n\n<p>The framework works fine replicating the Celcius/Fahrenheit example presented in SICP in both directions, as demonstrated in the below doctest:</p>\n\n<pre><code>&gt;&gt;&gt; def celcius_fahrenheit_converter(c, f):\n...     u = Connector()\n...     v = Connector()\n...     w = Connector()\n...     x = Connector()\n...     y = Connector()\n...     Multiplier(c, w, u)\n...     Multiplier(v, x, u)\n...     Adder(v, y, f)\n...     Constant(w, 9)\n...     Constant(x, 5)\n...     Constant(y, 32)\n\n&gt;&gt;&gt; c = Connector()\n&gt;&gt;&gt; f = Connector()\n&gt;&gt;&gt; celcius_fahrenheit_converter(c, f)\n&gt;&gt;&gt; c_probe = Probe(c, \"Celcius temp\")\n&gt;&gt;&gt; f_probe = Probe(f, \"Fahrenheit temp\")\n&gt;&gt;&gt; c.set_value(25.0)\nProbe: Celcius temp = 25.0\nProbe: Fahrenheit temp = 77.0\n&gt;&gt;&gt; f.set_value(212.0)\nTraceback (most recent call last):\n...\nContradiction: 77.0 vs. 212.0\n&gt;&gt;&gt; c.forget_value()\nProbe: Celcius temp = ?\nProbe: Fahrenheit temp = ?\n&gt;&gt;&gt; f.set_value(212.0)\nProbe: Fahrenheit temp = 212.0\nProbe: Celcius temp = 100.0\n</code></pre>\n\n<p>When I attempted to use the framework to work through a physics problem (displacement vs. time given acceleration), I noticed that the \"reverse\" direction was not propagating in that network. I've determined that a simpler example (in this case, the quadratic equation y=ax**2+bx+c) exhibits the same behavior. It propagates fully if I try to solve for <code>y</code> given <code>x</code>, but not if I try to solve for <code>x</code> given <code>y</code>. See the below doctest (with internal connectors i1, i2 and i3 probed to illustrate the issue):</p>\n\n<pre><code>&gt;&gt;&gt; def quadratic(a, b, c, x, y):\n...     i0 = Connector()\n...     i1 = Connector()\n...     i2 = Connector()\n...     i3 = Connector()\n...     i4 = Connector()\n...     i5 = Connector()\n...     Equality(i0, y)\n...     Adder(c, i1, i0)\n...     Adder(i2, i3, i1)\n...     Multiplier(b, x, i2)\n...     Multiplier(a, i4, i3)\n...     Power(x, i5, i4)\n...     Constant(i5, 2.0)\n...     Probe(i1, \"i1\")\n...     Probe(i2, \"i2\")\n...     Probe(i3, \"i3\")\n\n&gt;&gt;&gt; a, b, c, x, y = (Connector() for _ in range(5))\n&gt;&gt;&gt; quadratic(a, b, c, x, y)\n&gt;&gt;&gt; probe_x = Probe(x, \"x\")\n&gt;&gt;&gt; probe_y = Probe(y, \"y\")\n&gt;&gt;&gt; a.set_value(2.0)\n&gt;&gt;&gt; b.set_value(10.0)\n&gt;&gt;&gt; c.set_value(1.0)\n&gt;&gt;&gt; x.set_value(10.0)\nProbe: x = 10.0\nProbe: i3 = 200.0\nProbe: i2 = 100.0\nProbe: i1 = 300.0\nProbe: y = 301.0\n&gt;&gt;&gt; y.get_value()\n301.0\n&gt;&gt;&gt; x.forget_value()\nProbe: x = ?\nProbe: i3 = ?\nProbe: i1 = ?\nProbe: y = ?\nProbe: i2 = ?\n&gt;&gt;&gt; y.set_value(301.0)\nProbe: y = 301.0\nProbe: i1 = 300.0\nProbe: i2 = 100.0\nProbe: i3 = 200.0\nProbe: x = 10.0\n</code></pre>\n\n<p>Running the above doctest produces the following error when trying to propagate the constraints from <code>y</code> to <code>x</code>:</p>\n\n<pre><code>Failed example:\n    y.set_value(301.0)\nExpected:\n    Probe: y = 301.0\n    Probe: i1 = 300.0\n    Probe: i2 = 100.0\n    Probe: i3 = 200.0\n    Probe: x = 10.0\nGot:\n    Probe: y = 301.0\n    Probe: i1 = 300.0\n**********************************************************************\n1 items had failures:\n   1 of  47 in __main__\n***Test Failed*** 1 failures.\n</code></pre>\n\n<p>What has happened is that when I told the network to forget the value of <code>x</code>, the <code>Adder</code> constraint that connects <code>i1</code>, <code>i2</code> and <code>i3</code> forgot all 3 values. So when the propagation returned in the <code>y</code> to <code>x</code> direction, the <code>Adder</code> found two unknowns (<code>i2</code> and <code>i3</code>, with <code>i1</code> following directly from <code>y</code> and <code>c</code>, which are known). This despite the fact that the equation only has one unknown (i.e. <code>x</code>), which unfortunately is influencing two of the three connectors found in the broken <code>Adder</code>.</p>\n\n<p><strong>Question</strong></p>\n\n<p>How do I repair either the design of the constraint network or the propagation algorithm to ensure that, in this simple quadratic example, I'm able to calculate both <code>y</code> given <code>x</code> <strong>and</strong> <code>x</code> given <code>y</code>?</p>\n\n<p><strong>What have I tried</strong></p>\n\n<p>I've attempted to research numeric constraint satisfaction algorithms but haven't found anything that seems applicable here.</p>\n\n<p>I've tried to reason through redesigns of the constraint network itself so that <code>x</code> only connects to one constraint (which in this specific case could be the quadratic equation itself), but a) I can't get that to work in this example and b that doesn't seem like a general solution.</p>\n\n<p>I've tried to reason through different constraint algorithms (e.g. search), but think that this may be overkill for a network defined completely with equality constraints.</p>\n"}, {"tags": ["python", "postgresql", "psycopg2"], "comments": [{"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1512605155, "post_id": 47683579, "comment_id": 82330827, "body": "<code>... if it matters.</code> No, that shouldn&#39;t matter. What <i>does</i> matter is: your table definitions, including keys&amp;indexes."}, {"owner": {"reputation": 33, "user_id": 5529340, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-vAxhpHaalks/AAAAAAAAAAI/AAAAAAAAAbI/O-qgypkLGD0/photo.jpg?sz=128", "display_name": "\u0417\u0443\u0444\u0430\u0440 \u041b\u0430\u0442\u044b\u043f\u043e\u0432", "link": "https://stackoverflow.com/users/5529340/%d0%97%d1%83%d1%84%d0%b0%d1%80-%d0%9b%d0%b0%d1%82%d1%8b%d0%bf%d0%be%d0%b2"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1512634073, "post_id": 47683579, "comment_id": 82339608, "body": "@wildplasser Ok, table1 has field &quot;fk&quot; that references primary key &quot;id&quot; from table2, and table2 also has index on &quot;id&quot; field."}], "answers": [{"tags": [], "owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "is_accepted": false, "score": 0, "last_activity_date": 1512648587, "creation_date": 1512648587, "answer_id": 47694851, "question_id": 47683579, "link": "https://stackoverflow.com/questions/47683579/fast-insert-into-table-with-foreign-key-constraints/47694851#47694851", "title": "Fast insert into table with Foreign Key constraints", "body": "<p>You do not need the <code>delete</code> step. <code>insert</code> directly in instead:</p>\n\n<pre><code>insert into table1\nselect t1.*\nfrom \n    temp_table1 t1\n    inner join\n    table2 t2 on t1.fk = t2.id\nwhere t1.id_d is not null\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5529340, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-vAxhpHaalks/AAAAAAAAAAI/AAAAAAAAAbI/O-qgypkLGD0/photo.jpg?sz=128", "display_name": "\u0417\u0443\u0444\u0430\u0440 \u041b\u0430\u0442\u044b\u043f\u043e\u0432", "link": "https://stackoverflow.com/users/5529340/%d0%97%d1%83%d1%84%d0%b0%d1%80-%d0%9b%d0%b0%d1%82%d1%8b%d0%bf%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512648587, "creation_date": 1512594992, "question_id": 47683579, "link": "https://stackoverflow.com/questions/47683579/fast-insert-into-table-with-foreign-key-constraints", "title": "Fast insert into table with Foreign Key constraints", "body": "<p>I have to periodically insert data into table #1 that contains foreign key reference to table #2. And table #2 is quite big - about 200.000 rows. I'm trying to check rows that must be inserted into table #1 for foreign key constraint by simply removing those rows that definitely can't be inserted, and my query looks like this:</p>\n\n<pre><code>DELETE FROM temp_table1\nWHERE temp_table1.fk NOT IN (SELECT id FROM table2) AND\ntemp_table1.id_d IS NOT NULL;\n</code></pre>\n\n<p>The problem is, this method is veeery slow :( So is there any \"right\" method to insert rows in such situation?</p>\n\n<p>I'm using Python3, Postgresql and Psycopg2, if it matters.</p>\n"}, {"tags": ["python", "excel", "pandas"], "comments": [{"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1512595234, "post_id": 47683571, "comment_id": 82326757, "body": "This question will be difficult to answer without some &quot;view&quot; of the data somehow. Can you provide a text sample of the Excel file by copy and pasting into your question. Be sure to format it with the <code>{}</code> in the question editor"}, {"owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1512595422, "post_id": 47683571, "comment_id": 82326852, "body": "<a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\" title=\"why is can someone help me not an actual question\">meta.stackoverflow.com/questions/284236/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7687877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SzMcm.jpg?s=128&g=1", "display_name": "Lakshman", "link": "https://stackoverflow.com/users/7687877/lakshman"}, "edited": false, "score": 0, "creation_date": 1512602581, "post_id": 47683993, "comment_id": 82329926, "body": "Thanks. ws.merged_cell_ranges does the trick using openpyxl. But I guess there is no such function in pandas??"}, {"owner": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "reply_to_user": {"reputation": 11, "user_id": 7687877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SzMcm.jpg?s=128&g=1", "display_name": "Lakshman", "link": "https://stackoverflow.com/users/7687877/lakshman"}, "edited": false, "score": 0, "creation_date": 1512643551, "post_id": 47683993, "comment_id": 82345524, "body": "Correct, you must write some code to create and initialize the DataFrame."}], "tags": [], "owner": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "is_accepted": false, "score": 0, "last_activity_date": 1512596903, "creation_date": 1512596903, "answer_id": 47683993, "question_id": 47683571, "link": "https://stackoverflow.com/questions/47683571/extracting-merged-cells-properties-when-reading-an-excel-file-into-pandas/47683993#47683993", "title": "Extracting merged cells properties when reading an excel file into pandas", "body": "<p>I guess you use <code>pandas.read_excel()</code> to get data from Excel into the data frame?</p>\n\n<p>Given the merged cells in the Excel sheet, I believe you will need to read the data yourself using one of the libraries listed on <a href=\"http://www.python-excel.org/\" rel=\"nofollow noreferrer\">http://www.python-excel.org/</a> (I recommend openpyxl).</p>\n\n<p>You can then control the excel-to-dataframe conversion yourself.</p>\n"}], "owner": {"reputation": 11, "user_id": 7687877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SzMcm.jpg?s=128&g=1", "display_name": "Lakshman", "link": "https://stackoverflow.com/users/7687877/lakshman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512596903, "creation_date": 1512594945, "last_edit_date": 1512596612, "question_id": 47683571, "link": "https://stackoverflow.com/questions/47683571/extracting-merged-cells-properties-when-reading-an-excel-file-into-pandas", "title": "Extracting merged cells properties when reading an excel file into pandas", "body": "<p>I am reading an unstructured excel file(with lot of merged cells of no particular size) into pandas data frame and the content in merged cells is getting read into top left cell position in pandas and it fills the other cells with null values. Now there are many null values already present in the excel file and i want to find a way to specifically track the locations of cells with null values that were created after unmerging when read into pandas. I don't find any way in python that could do this thing. Could anyone guide me how to approach this problem?</p>\n"}, {"tags": ["python", "arm", "cross-compiling"], "comments": [{"owner": {"reputation": 539, "user_id": 2805824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tBgwo.gif?s=128&g=1", "display_name": "Gaurav Pathak", "link": "https://stackoverflow.com/users/2805824/gaurav-pathak"}, "edited": false, "score": 0, "creation_date": 1512640854, "post_id": 47683541, "comment_id": 82343651, "body": "Have you tried setting the PYTHONPATH to wherever your <code>python2.7&#47;site-packages</code> is stored on target board?"}, {"owner": {"reputation": 1, "user_id": 9063083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0651169a03d7a149cb0a3b3c6b63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Buraczyk", "link": "https://stackoverflow.com/users/9063083/jakub-buraczyk"}, "reply_to_user": {"reputation": 539, "user_id": 2805824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tBgwo.gif?s=128&g=1", "display_name": "Gaurav Pathak", "link": "https://stackoverflow.com/users/2805824/gaurav-pathak"}, "edited": false, "score": 0, "creation_date": 1512816628, "post_id": 47683541, "comment_id": 82415994, "body": "Yes, but that directory is empty."}], "owner": {"reputation": 1, "user_id": 9063083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0651169a03d7a149cb0a3b3c6b63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Buraczyk", "link": "https://stackoverflow.com/users/9063083/jakub-buraczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 427, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512594794, "creation_date": 1512594794, "question_id": 47683541, "link": "https://stackoverflow.com/questions/47683541/python-cross-compilation-for-arm-cortex-a8", "title": "Python cross compilation for arm cortex A8", "body": "<p>I am having a problem with cross compiling Python using Code Sourcery toolchain:</p>\n\n<pre><code>./configure -host=arm-none-linux-gnueabi CC=arm-none-linux-gnueabi-gcc RANLIB=arm-none-linux-gnueabi-ranlib STRIP=arm-none-linux-gnueabi-strip --build=arm-none-linux --disable-ipv6 ac_cv_file__dev_ptmx=no ac_cv_file__dev_ptc=no ac_cv_have_long_long_format=yes\n\nmake CROSS_COMPILE=arm-none-linux-gnueabi- CROSS_COMPILE_TARGET=yes\n\nmake install CROSS_COMPILE=arm-none-linux-gnueabi- CROSS_COMPILE_TARGET=yes prefix=~/Python-2.7.2/_install\n</code></pre>\n\n<p>Make command finishes successfully with following warning:</p>\n\n<blockquote>\n  <p>Python build finished, but the necessary bits to build these modules\n  were not found:\n  _bsddb _curses _curses_panel \n  _sqlite3 _ssl _tkinter  bsddb185 bz2 dbm  dl gdbm imageop  linuxaudiodev ossaudiodev readline  sunaudiodev zlib</p>\n</blockquote>\n\n<p>It seems like Python has been compiled for target machine, it can be run on it but I cannot start desired program, it finishes with following errors:</p>\n\n<blockquote>\n  <p>root@dm814x-evm:~/nfs-share/opbasm# <strong>python opbasm.py meas_ctrl.hex</strong> \n  Traceback (most recent call last): File \"opbasm.py\", line 32, in\n   import subprocess File\n  \"/home/root/Python/lib/python2.7/subprocess.py\", line 72, in \n  import select ImportError: No module named select</p>\n</blockquote>\n\n<p>Could you help me find a solution for successful cross compilation Python on Arm cortex A8?</p>\n\n<p>Best regards,</p>\n\n<p>Jacob</p>\n"}, {"tags": ["python", "pandas", "dataframe", "matching"], "answers": [{"tags": [], "owner": {"reputation": 1444, "user_id": 5245032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38ff968d478fc79749ada034222566df?s=128&d=identicon&r=PG&f=1", "display_name": "Robert I", "link": "https://stackoverflow.com/users/5245032/robert-i"}, "is_accepted": false, "score": 0, "last_activity_date": 1512595070, "creation_date": 1512595070, "answer_id": 47683595, "question_id": 47683540, "link": "https://stackoverflow.com/questions/47683540/how-to-look-up-and-fill-in-data-in-dataframe-python/47683595#47683595", "title": "How to look up and fill in data in dataframe python?", "body": "<p>The <code>or</code> and <code>and</code> python statements require truth-values. For pandas these are considered ambiguous so you should use \"bitwise\" <code>|</code> (or) or <code>&amp;</code> (and) operations:</p>\n\n<pre><code>result = result[(result['var']&gt;0.25) | (result['var']&lt;-0.25)]\n</code></pre>\n\n<p>These are overloaded for these kind of datastructures to yield the element-wise <code>or</code> (or <code>and</code>).</p>\n\n<p>More Info Here : <a href=\"https://stackoverflow.com/questions/36921951/truth-value-of-a-series-is-ambiguous-use-a-empty-a-bool-a-item-a-any-o\">Truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all()</a></p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4254014, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002054700282/picture?type=large", "display_name": "Christian Van de Koppel", "link": "https://stackoverflow.com/users/4254014/christian-van-de-koppel"}, "edited": false, "score": 0, "creation_date": 1512597594, "post_id": 47683614, "comment_id": 82327897, "body": "Perfect! Thank you so much!"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 31, "user_id": 4254014, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002054700282/picture?type=large", "display_name": "Christian Van de Koppel", "link": "https://stackoverflow.com/users/4254014/christian-van-de-koppel"}, "edited": false, "score": 0, "creation_date": 1512597720, "post_id": 47683614, "comment_id": 82327957, "body": "@ChristianVandeKoppel, do consider accepting the answer, it helps in closing the issue."}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 1, "last_activity_date": 1512595652, "last_edit_date": 1512595652, "creation_date": 1512595153, "answer_id": 47683614, "question_id": 47683540, "link": "https://stackoverflow.com/questions/47683540/how-to-look-up-and-fill-in-data-in-dataframe-python/47683614#47683614", "title": "How to look up and fill in data in dataframe python?", "body": "<p>Try</p>\n\n<pre><code>df.loc[(df['column1'] == value1) &amp; (df['column2'] == value2), 'column_result'] = result\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4254014, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002054700282/picture?type=large", "display_name": "Christian Van de Koppel", "link": "https://stackoverflow.com/users/4254014/christian-van-de-koppel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512595652, "creation_date": 1512594782, "question_id": 47683540, "link": "https://stackoverflow.com/questions/47683540/how-to-look-up-and-fill-in-data-in-dataframe-python", "title": "How to look up and fill in data in dataframe python?", "body": "<pre><code>for i, row in lst.iterrows():\n     value1 = a\n     value2 = b\n     result = 12345\n\n     if df[(df['column1'] == value1) &amp; (df['column2'] == value2)]:\n          df['column_result'] == result \n\nprint df\n</code></pre>\n\n<p>I want to look up in a dataframe a row where column1 equals value1 and column2 equals value2 <strong>and</strong> fill in result in that row.</p>\n\n<p>I receive this error:\nValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "edited": false, "score": 4, "creation_date": 1512594884, "post_id": 47683536, "comment_id": 82326579, "body": "<code>sorted(my_list, key = lambda d: d[&#39;time&#39;], reverse = True)</code>"}, {"owner": {"reputation": 133, "user_id": 9064103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93601aada32ed9f96066bae919e1cdcd?s=128&d=identicon&r=PG&f=1", "display_name": "user9064103", "link": "https://stackoverflow.com/users/9064103/user9064103"}, "reply_to_user": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "edited": false, "score": 0, "creation_date": 1512660522, "post_id": 47683536, "comment_id": 82356694, "body": "Is there any chance this doesn&#39;t work for timestamp values?"}], "owner": {"reputation": 133, "user_id": 9064103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93601aada32ed9f96066bae919e1cdcd?s=128&d=identicon&r=PG&f=1", "display_name": "user9064103", "link": "https://stackoverflow.com/users/9064103/user9064103"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1512595298, "answer_count": 0, "score": 0, "last_activity_date": 1512594771, "creation_date": 1512594771, "question_id": 47683536, "link": "https://stackoverflow.com/questions/47683536/python-sort-a-list-of-dictionaries", "closed_reason": "Duplicate", "title": "Python - sort a list of dictionaries?", "body": "<p>i have the following list of dictionaries:</p>\n\n<pre><code>my_list = [ \n    {\n       \"field1\": value,\n       \"field2\": value,\n       \"time\": 2017-12-01 14:34:12,\n       \"field3\": value\n    },\n    {\n       \"field1\": value,\n       \"field2\": value,\n       \"time\": 2017-12-01 14:31:20,\n       \"field3\": value\n    },\n    {\n       \"field1\": value,\n       \"field2\": value,\n       \"time\": 2017-12-01 14:40:02,\n       \"field3\": value\n    }\n]\n</code></pre>\n\n<p>How can i sort this list by the <code>time</code> value of the dictionaries?\n(so the dictionary with the highest <code>time</code> value will be in the first index of the list and so on..)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1512594870, "post_id": 47683531, "comment_id": 82326574, "body": "If your function is a one-liner, this is what <code>lambda</code>s are for. If not, define it the normal way on one line, then assign it separately. (Needs to be <code>def  function_name():</code> if it takes no args, ofc -- leaving out the argument list will cause a syntax error no matter what)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1512594945, "post_id": 47683531, "comment_id": 82326620, "body": "That said, this question would be greatly improved by showing the code for your actual attempts that fail, and what errors they fail with. See the docs on building a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 1399, "user_id": 8721016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-2DZ0z14zb48/AAAAAAAAAAI/AAAAAAAAL_s/XbODVj_PmNw/photo.jpg=k-s128", "display_name": "Mercury Platinum", "link": "https://stackoverflow.com/users/8721016/mercury-platinum"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1512595009, "post_id": 47683531, "comment_id": 82326653, "body": "Alright, Ill make some edit"}], "answers": [{"comments": [{"owner": {"reputation": 1399, "user_id": 8721016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-2DZ0z14zb48/AAAAAAAAAAI/AAAAAAAAL_s/XbODVj_PmNw/photo.jpg=k-s128", "display_name": "Mercury Platinum", "link": "https://stackoverflow.com/users/8721016/mercury-platinum"}, "edited": false, "score": 0, "creation_date": 1512595125, "post_id": 47683596, "comment_id": 82326717, "body": "Let me try that"}, {"owner": {"reputation": 3343, "user_id": 3159059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l1PGj.jpg?s=128&g=1", "display_name": "Gary02127", "link": "https://stackoverflow.com/users/3159059/gary02127"}, "reply_to_user": {"reputation": 1399, "user_id": 8721016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-2DZ0z14zb48/AAAAAAAAAAI/AAAAAAAAL_s/XbODVj_PmNw/photo.jpg=k-s128", "display_name": "Mercury Platinum", "link": "https://stackoverflow.com/users/8721016/mercury-platinum"}, "edited": false, "score": 0, "creation_date": 1512595876, "post_id": 47683596, "comment_id": 82327058, "body": "@SnivyDroid   Sweet. Let me know if you&#39;ve got any other related questions. I&#39;m around for a little bit longer."}], "tags": [], "owner": {"reputation": 3343, "user_id": 3159059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l1PGj.jpg?s=128&g=1", "display_name": "Gary02127", "link": "https://stackoverflow.com/users/3159059/gary02127"}, "is_accepted": true, "score": 4, "last_activity_date": 1512599524, "last_edit_date": 1512599524, "creation_date": 1512595071, "answer_id": 47683596, "question_id": 47683531, "link": "https://stackoverflow.com/questions/47683531/how-to-save-a-function-to-a-dictionary-entry/47683596#47683596", "title": "How to save a function to a dictionary entry?", "body": "<p>You can store the name of the function in a dictionary without incident.</p>\n\n<p>If you have:</p>\n\n<pre><code>def myfunc(x):\n    return x * 2\n</code></pre>\n\n<p>You can also have:</p>\n\n<pre><code>d = {'funcname': myfunc}\n</code></pre>\n\n<p>You make a named function using the <code>def</code> statement.  You can also make a nameless function using the <code>lambda</code> statement.</p>\n\n<pre><code>d = {'funcname' : lambda x:x * 2}\n</code></pre>\n\n<p>Once you create a function, you can use the name or the lambda reference like any other variable. So...</p>\n\n<pre><code>f = d['funcname']\nprint('Double is ', f(2))\n</code></pre>\n"}], "owner": {"reputation": 1399, "user_id": 8721016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-2DZ0z14zb48/AAAAAAAAAAI/AAAAAAAAL_s/XbODVj_PmNw/photo.jpg=k-s128", "display_name": "Mercury Platinum", "link": "https://stackoverflow.com/users/8721016/mercury-platinum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 47683596, "answer_count": 1, "score": 0, "last_activity_date": 1512599524, "creation_date": 1512594747, "question_id": 47683531, "link": "https://stackoverflow.com/questions/47683531/how-to-save-a-function-to-a-dictionary-entry", "title": "How to save a function to a dictionary entry?", "body": "<p>I have this code, Its a slice of my main dictionary I use for my game</p>\n\n<pre><code>GAME_DICT = {\n    # Player Media, Colors, And Locations\n    'BLUE': {\n        'COLOR': g.BLUE,\n        'PLAYER_IMAGE': m.MEDIA['blue_face'],\n        'BULLET_IMAGE': m.MEDIA['blue_bullet'],\n        'LOCAL': 220,\n        'ABILITY':         # Issue\n        }\n</code></pre>\n\n<p>Currently, I want to add a function as a value into the dictionary.\nPython spits out a syntax error when I try to add a function using <code>def function_name:</code> and when I create a function from outside the dictionary and just save it to an entry it raises an error needing all the args to be filled, which I don't want as I need to fill in specific things as the args when I call this in another file. Any help?</p>\n"}, {"tags": ["python", "type-hinting", "static-typing"], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 9, "last_activity_date": 1606694101, "last_edit_date": 1606694101, "creation_date": 1512595928, "answer_id": 47683779, "question_id": 47683500, "link": "https://stackoverflow.com/questions/47683500/what-is-the-benefit-to-using-typing-library-classes-vs-types-in-python-type-hin/47683779#47683779", "title": "What is the benefit to using typing library classes vs. types in Python type hints?", "body": "<p>It's useful for writing annotations that can be legally evaluated; <code>list[int]</code> will explode if you try to actually run it, while <code>typing.List[int]</code> returns a new generic type that knows the type of both container and contents. This is particularly important in the case of <a href=\"https://docs.python.org/3/library/typing.html#type-aliases\" rel=\"nofollow noreferrer\">type aliases</a>, where a specialized version of a generic is defined at the top level, then reused as annotation further on:</p>\n<pre><code>Vector = List[float]\ndef scale(scalar: float, vector: Vector) -&gt; Vector:\n     ...\n</code></pre>\n<p>is legal, while:</p>\n<pre><code>Vector = list[float]\ndef scale(scalar: float, vector: Vector) -&gt; Vector:\n     ...\n</code></pre>\n<p>blows up in your face. You'll note that non-container/generic types typically don't have a <code>typing</code> type (exceptions like <code>Text</code> are for porting concerns), because type aliases would only use them as &quot;leaf&quot; type, not root or branch types.</p>\n<p><strong>Update:</strong> As of 3.9, <a href=\"https://docs.python.org/3.9/whatsnew/3.9.html#type-hinting-generics-in-standard-collections\" rel=\"nofollow noreferrer\">the standard collections can serve as type hints</a>, so the <code>typing</code> types aren't strictly necessary; you can continue to use them if you like (necessary for code that must run on pre-3.9 Python), but it's not necessary if you can rely on 3.9+.</p>\n"}], "owner": {"reputation": 563, "user_id": 8627575, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kk2ekuEY3lU/AAAAAAAAAAI/AAAAAAAADK8/dk70rb9SPIQ/photo.jpg?sz=128", "display_name": "Ian Kent", "link": "https://stackoverflow.com/users/8627575/ian-kent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 1, "accepted_answer_id": 47683779, "answer_count": 1, "score": 4, "last_activity_date": 1606694101, "creation_date": 1512594627, "question_id": 47683500, "link": "https://stackoverflow.com/questions/47683500/what-is-the-benefit-to-using-typing-library-classes-vs-types-in-python-type-hin", "title": "What is the benefit to using typing library classes vs. types in Python type hints?", "body": "<p>I'm starting to learn type hints in Python to ease the future porting of code from Python to C. I am wondering what the difference is, if any, between using types directly in type hints vs. using the classes defined in the <code>typing</code> module.</p>\n\n<p>For example, the difference between</p>\n\n<pre><code>def somefn(a: list[int]) -&gt; tuple[str, int]:\n    ...\n</code></pre>\n\n<p>and</p>\n\n<pre><code>from typing import List, Tuple\n\ndef somefn(a: List[int]) -&gt; Tuple[str, int]:\n    ...\n</code></pre>\n\n<p>It seems like some classes like <code>Union</code>, <code>Any</code>, <code>Callable</code>, and <code>Iterable</code> would be useful, but the utility of classes for data types that already exist as keywords in python is unclear to me.</p>\n"}, {"tags": ["python", "python-3.x", "list", "function", "iterable-unpacking"], "answers": [{"comments": [{"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1512595309, "post_id": 47683542, "comment_id": 82326796, "body": "This is the actual reason."}, {"owner": {"reputation": 43, "user_id": 8751259, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FBvI6MoJIFM/AAAAAAAAAAI/AAAAAAAAHrs/9hylQVjviKM/photo.jpg?sz=128", "display_name": "Oscar South", "link": "https://stackoverflow.com/users/8751259/oscar-south"}, "edited": false, "score": 0, "creation_date": 1512597012, "post_id": 47683542, "comment_id": 82327635, "body": "Makes logical sense now.  Thank you!"}], "tags": [], "owner": {"reputation": 852, "user_id": 3948711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d49fe703b55c3463b6015999e73d06b1?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Baranowski", "link": "https://stackoverflow.com/users/3948711/alex-baranowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1512594801, "creation_date": 1512594801, "answer_id": 47683542, "question_id": 47683498, "link": "https://stackoverflow.com/questions/47683498/python-function-returning-list-objects-out-of-order/47683542#47683542", "title": "Python Function Returning List Objects Out of Order", "body": "<p>After first iteration you list look like [4,4,6] so k.index(4) return 0 index and multiple it by 2. So final result is [8,4,12].</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 8751259, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FBvI6MoJIFM/AAAAAAAAAAI/AAAAAAAAHrs/9hylQVjviKM/photo.jpg?sz=128", "display_name": "Oscar South", "link": "https://stackoverflow.com/users/8751259/oscar-south"}, "edited": false, "score": 0, "creation_date": 1512597095, "post_id": 47683552, "comment_id": 82327668, "body": "This is exactly what I was trying to do, thanks for the clear explanation.  Thank you especially for sharing info on the list comprehension.  It&#39;s another thing I&#39;m working to get confident in at the moment so very useful to see that example."}], "tags": [], "owner": {"reputation": 214708, "user_id": 201359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7odj.jpg?s=128&g=1", "display_name": "&#211;scar L&#243;pez", "link": "https://stackoverflow.com/users/201359/%c3%93scar-l%c3%b3pez"}, "is_accepted": false, "score": 1, "last_activity_date": 1512594869, "creation_date": 1512594869, "answer_id": 47683552, "question_id": 47683498, "link": "https://stackoverflow.com/questions/47683498/python-function-returning-list-objects-out-of-order/47683552#47683552", "title": "Python Function Returning List Objects Out of Order", "body": "<p>I think you meant to do this:</p>\n\n<pre><code>test_list = [2, 4, 6]\ndef test_func(k):\n    global x, y, z\n    for i in range(len(k)):\n        k[i] = k[i] * 2\n    x, y, z = k\n    return k\n</code></pre>\n\n<p>You're mixing indexes with values, and using <code>index()</code> to find the position in an array is incorrect, most of all because you're modifying the list and you'll find the same elements again but in different positions, better use a <code>range</code> to iterate over the indexes and retrieve the values.</p>\n\n<p>Also, using globals is not cool. In fact, the whole procedure should be written like a list comprehension instead - simple and idiomatic:</p>\n\n<pre><code>[2 * x for x in test_list]\n=&gt; [4, 8, 12]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1512594993, "creation_date": 1512594993, "answer_id": 47683580, "question_id": 47683498, "link": "https://stackoverflow.com/questions/47683498/python-function-returning-list-objects-out-of-order/47683580#47683580", "title": "Python Function Returning List Objects Out of Order", "body": "<p>You can condense the code into a list comprehension and unpacking:</p>\n\n<pre><code>test_list = [2, 4, 6]\ndef test_func(k):\n   global x, y, z\n   x, y, z = [i*2 for i in k]\n   return [x, y, z]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 8751259, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FBvI6MoJIFM/AAAAAAAAAAI/AAAAAAAAHrs/9hylQVjviKM/photo.jpg?sz=128", "display_name": "Oscar South", "link": "https://stackoverflow.com/users/8751259/oscar-south"}, "edited": false, "score": 1, "creation_date": 1512596977, "post_id": 47683641, "comment_id": 82327623, "body": "Thanks very much!  After reading this it&#39;s obvious to me that the .index() method is RETURNING the index rather than iterating through and IDENTIFYING by index."}], "tags": [], "owner": {"reputation": 518, "user_id": 4817649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cnujY.jpg?s=128&g=1", "display_name": "Happy Ahmad", "link": "https://stackoverflow.com/users/4817649/happy-ahmad"}, "is_accepted": true, "score": 0, "last_activity_date": 1512595285, "creation_date": 1512595285, "answer_id": 47683641, "question_id": 47683498, "link": "https://stackoverflow.com/questions/47683498/python-function-returning-list-objects-out-of-order/47683641#47683641", "title": "Python Function Returning List Objects Out of Order", "body": "<p>In the first iteration the first element is changed to 4. In the second iteration the index of 4 is 0 not 1 as you expect.\nTry this:</p>\n\n<pre><code>test_list = [2, 4, 6]\ndef test_func(k):\n    global x, y, z\n    l = list()\n    for n in k:\n        print(n, k.index(n))\n        l.append(n * 2)\n    x, y, z = l\n    return l\ntest_func(test_list)\nprint(test_list)\nprint(x)\nprint(y)\nprint(z)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8751259, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FBvI6MoJIFM/AAAAAAAAAAI/AAAAAAAAHrs/9hylQVjviKM/photo.jpg?sz=128", "display_name": "Oscar South", "link": "https://stackoverflow.com/users/8751259/oscar-south"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 47683641, "answer_count": 4, "score": 2, "last_activity_date": 1512595687, "creation_date": 1512594618, "last_edit_date": 1512595687, "question_id": 47683498, "link": "https://stackoverflow.com/questions/47683498/python-function-returning-list-objects-out-of-order", "title": "Python Function Returning List Objects Out of Order", "body": "<p>I'm relatively new to the Python language.  I'm aware of most of the basic functionality &amp; theory, all the different classes of object and their behavior/properties etc.</p>\n\n<p>Anyway, I was writing basic functions to explore different concepts in practice and get to know the language more intuitively.  One in particular has left me vexed!  Can anyone share any insight into why this result is not as expected?</p>\n\n<p>Here is the code I ran:</p>\n\n<pre><code>test_list = [2, 4, 6]\ndef test_func(k):\n    global x, y, z\n    for n in k:\n        k[k.index(n)] = n * 2\n    x, y, z = k\n    return k\ntest_func(test_list)\nprint(test_list)\nprint(x)\nprint(y)\nprint(z)\n</code></pre>\n\n<p>I would have expected the result to be:</p>\n\n<pre><code>[4, 8, 12]\n4\n8\n12\n</code></pre>\n\n<p>However, the actual result is as follows:</p>\n\n<pre><code>[8, 4, 12]\n8\n4\n12\n</code></pre>\n\n<p>It seems that the first two items of the list have been swapped.</p>\n\n<p>I can't see what could be causing this?  If anyone can see what's happening here, please share the insight!</p>\n\n<p>Thanks,\nOscar South</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512595096, "post_id": 47683474, "comment_id": 82326692, "body": "A quick (and a bit slow) way is to just use <a href=\"https://docs.python.org/2/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\"><code>csv.DictReader</code></a> to load your CSVs as dictionaries, then you can merge them to produce a cumulative results."}, {"owner": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512596117, "post_id": 47683474, "comment_id": 82327177, "body": "Thanks! Im a little unsure about the format for this in python3 though, as it isn&#39;t working for what I&#39;m seeing online."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512596820, "post_id": 47683474, "comment_id": 82327540, "body": "Show us some sample data from 2 csv files and expected output"}, {"owner": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "edited": false, "score": 0, "creation_date": 1512597309, "post_id": 47683474, "comment_id": 82327768, "body": "I have included an example of a file, the rest of the files are the same but with different predators and prey, some include more than one prey."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "edited": false, "score": 0, "creation_date": 1512599331, "post_id": 47684260, "comment_id": 82328663, "body": "Thank you! However I am suppose to do it so that all of the data from the file is loaded into a dictionary that describes the prey relationship. The keys in the dictionary will by the names of the predators and the values in the dictionary will be lists of food."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "edited": false, "score": 0, "creation_date": 1512599686, "post_id": 47684260, "comment_id": 82328814, "body": "@DallaxT - well then just construct a dictionary instead of printing the elements, check the update."}, {"owner": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "edited": false, "score": 0, "creation_date": 1512600724, "post_id": 47684260, "comment_id": 82329207, "body": "Ohhh okay, thank you!! So rather than initializing each file dict I can use a default?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "edited": false, "score": 0, "creation_date": 1512601069, "post_id": 47684260, "comment_id": 82329357, "body": "@DallaxT - you can use the same <code>predators</code> dictionary to &#39;load&#39; all of your CSVs in, if you need a cumulative list of all of their prey over all of the CSVs. I&#39;ve updated the example to reflect that."}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 1, "last_activity_date": 1512601215, "last_edit_date": 1512601215, "creation_date": 1512598093, "answer_id": 47684260, "question_id": 47683474, "link": "https://stackoverflow.com/questions/47683474/load-csv-files-into-dictionary-and-print-keys-and-values-separately/47684260#47684260", "title": "Load .csv files into dictionary and print keys and values separately", "body": "<p>Well, there are no keys (header fields) or anything in your CSV, just simple value pairs and you just want to print separately the elements of each row which is quite simple:</p>\n\n<pre><code>import csv\n\nwith open(\"file1.csv\", \"r\") as f:\n    reader = csv.reader(f)\n    for row in reader:\n        print(row[0], \"eats\", row[1])\n</code></pre>\n\n<p>Which should produce:</p>\n\n<pre>Rabbit eats Grass\nSnake eats Mouse\nMouse eats Grass</pre>\n\n<p><strong>UPDATE</strong>: If you want to store the data into a dictionary, just use the first value as a key and the second value as one of the values, e.g.:</p>\n\n<pre><code>import collections\nimport csv\n\n# we'll use defaultdict to save us some trouble initializing for each predator\npredators = collections.defaultdict(set)  # our final dict, use set to filter out duplicates\n\nfiles = [\"file1.csv\", \"file2.csv\", \"file3.csv\"]  # all of your CSV files\n\nfor file in files:  # go through each CSV file...\n    with open(file, \"r\") as f:  # open it...\n        reader = csv.reader(f)  # make a CSV reader\n        for row in reader:  # go through it line by line\n            predators[row[0]].add(row[1])  # add it to the predators dict\n\nfor predator in predators:\n    print(predator, \"eats\", predators[predator])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "edited": false, "score": 0, "creation_date": 1512599376, "post_id": 47684383, "comment_id": 82328692, "body": "Thanks! I&#39;m not sure this format is allowed in python3 though, I get an error message with the =names[ ]."}], "tags": [], "owner": {"reputation": 1818, "user_id": 5767904, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/820dadd22cfbf7937f5825fbc867473e?s=128&d=identicon&r=PG&f=1", "display_name": "RSHAP", "link": "https://stackoverflow.com/users/5767904/rshap"}, "is_accepted": false, "score": 0, "last_activity_date": 1512598707, "creation_date": 1512598707, "answer_id": 47684383, "question_id": 47683474, "link": "https://stackoverflow.com/questions/47683474/load-csv-files-into-dictionary-and-print-keys-and-values-separately/47684383#47684383", "title": "Load .csv files into dictionary and print keys and values separately", "body": "<p>You should checkout <a href=\"https://pandas.pydata.org/pandas-docs/stable/\" rel=\"nofollow noreferrer\">pandas</a>. \nVery good for this sort of thing.</p>\n\n<pre><code>df = pd.read_csv('file1.csv', names=['Predator','Prey'])\ndf['statement'] = df.Predator + ' eats ' + df.Prey\n\nfor s in df.statement:\n    print(s)\n</code></pre>\n\n<p>If you want a dict of {'predator':'prey'} you could do</p>\n\n<pre><code>dic = {pred:prey for pred,prey in df[['Predator','Prey']].values}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9064015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7ca8cb8b79aa2b81e9b27e11314185?s=128&d=identicon&r=PG&f=1", "display_name": "DallaxT", "link": "https://stackoverflow.com/users/9064015/dallaxt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1730, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512601215, "creation_date": 1512594536, "last_edit_date": 1512597950, "question_id": 47683474, "link": "https://stackoverflow.com/questions/47683474/load-csv-files-into-dictionary-and-print-keys-and-values-separately", "title": "Load .csv files into dictionary and print keys and values separately", "body": "<p>I am having troubles figuring out how to store multiple .csv files into a dictionary and then print the keys and values separately. I have to take 6 .csv files all containing different information and load them into a dictionary(s) and then write a code so that I am able to isolate the key from the various values its associated with so that I can print ie. \"animal\" eats \"prey1, prey2, etc\". </p>\n\n<p>I think I have to do each file separately, so 6 different loops to get the right output for each list of key/values, but everything I've tried has given me an error message.\nHere is an examples of a csv file and the expected output:  </p>\n\n<p>file1.csv:  </p>\n\n<pre><code>Rabbit,Grass  \nSnake,Mouse  \nMouse,Grass  \n</code></pre>\n\n<p>Output:   </p>\n\n<pre><code>Predator and prey:   \n\"Rabbit eats grass\"    \n\"Snake eats mouse\"  \n\"Mouse eats grass\"  \n</code></pre>\n\n<p>this is the code I have so far for one file:  </p>\n\n<pre><code>import sys\nimport csv\n\ninf = open(\"file1.csv\", \"r\")\nreader = csv.reader(inf)\n\ndata = {}\nfor row in reader:\n    for i in data.keys():\n        print(data[i], \"eats\", i)\n</code></pre>\n\n<p>I know its not right but I'm not sure how to isolate a key in a dictionary when its a .csv file. I am new to coding so any help would be greatly appreciated! :)\nI am using <strong>python3</strong>.\nthanks!!</p>\n"}, {"tags": ["python", "tensorflow", "neural-network", "deep-learning"], "answers": [{"comments": [{"owner": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "edited": false, "score": 0, "creation_date": 1512675374, "post_id": 47692234, "comment_id": 82365030, "body": "Thank you. So does this mean each discriminator has their own graph? If it was one graph, I&#39;m assuming there would be no need for sharing?"}, {"owner": {"reputation": 2651, "user_id": 5361479, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/892356874144950/picture?type=large", "display_name": "Jai", "link": "https://stackoverflow.com/users/5361479/jai"}, "reply_to_user": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "edited": false, "score": 0, "creation_date": 1516050839, "post_id": 47692234, "comment_id": 83525071, "body": "@Moondra The Graph is one but the values needs to be same... Remember that even while implementing a normal feed-forward the graph remains the same ... Its the values in the graph that changes"}], "tags": [], "owner": {"reputation": 1267, "user_id": 4393970, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e67f1d75fef034baaa65abf60b6e5715?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Gupta", "link": "https://stackoverflow.com/users/4393970/tushar-gupta"}, "is_accepted": false, "score": 2, "last_activity_date": 1512640530, "creation_date": 1512640530, "answer_id": 47692234, "question_id": 47683440, "link": "https://stackoverflow.com/questions/47683440/what-is-the-purpose-of-the-reuse-flag-in-gan-implemented-in-tensorflow/47692234#47692234", "title": "What is the purpose of the &#39;reuse&#39; flag in GAN implemented in tensorflow?", "body": "<p>For the generator, we're going to train it, but also sample from it as we're training and after training. The discriminator will need to share variables between the fake and real input images. So, we can use the reuse keyword for tf.variable_scope to tell TensorFlow to reuse the variables instead of creating new ones if we build the graph again.</p>\n\n<p>Then the discriminators. We'll build two of them, one for real data and one for fake data. Since we want the weights to be the same for both real and fake data, we need to reuse the variables. For the fake data, we're getting it from the generator as g_model. So the real data discriminator is discriminator(input_real) while the fake discriminator is discriminator(g_model, reuse=True).</p>\n"}], "owner": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512640530, "creation_date": 1512594333, "question_id": 47683440, "link": "https://stackoverflow.com/questions/47683440/what-is-the-purpose-of-the-reuse-flag-in-gan-implemented-in-tensorflow", "title": "What is the purpose of the &#39;reuse&#39; flag in GAN implemented in tensorflow?", "body": "<p>I'm going through a GAN tutorial and I've noticed the use of 'reuse' flags and I don't quite get what they are doing or preventing. If you take a look at the code below you will see that <code>reuse</code> is used within each variable scope initialization.</p>\n\n<p>(I tried looking at the docs but still an not clear:\n<a href=\"https://www.tensorflow.org/versions/r0.12/how_tos/variable_scope/\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/versions/r0.12/how_tos/variable_scope/</a>)</p>\n\n<pre><code>def discriminator(images, reuse=False):\n    \"\"\"\n    Create the discriminator network\n    \"\"\"\n    alpha = 0.2\n\n    with tf.variable_scope('discriminator', reuse=reuse):\n        # using 4 layer network as in DCGAN Paper\n\n        # Conv 1\n        conv1 = tf.layers.conv2d(images, 64, 5, 2, 'SAME')\n        lrelu1 = tf.maximum(alpha * conv1, conv1)\n\n        # Conv 2\n        conv2 = tf.layers.conv2d(lrelu1, 128, 5, 2, 'SAME')\n        batch_norm2 = tf.layers.batch_normalization(conv2, training=True)\n        lrelu2 = tf.maximum(alpha * batch_norm2, batch_norm2)\n\n        # Conv 3\n        conv3 = tf.layers.conv2d(lrelu2, 256, 5, 1, 'SAME')\n        batch_norm3 = tf.layers.batch_normalization(conv3, training=True)\n        lrelu3 = tf.maximum(alpha * batch_norm3, batch_norm3)\n\n        # Flatten\n        flat = tf.reshape(lrelu3, (-1, 4*4*256))\n\n        # Logits\n        logits = tf.layers.dense(flat, 1)\n\n        # Output\n        out = tf.sigmoid(logits)\n\n        return out, logits\ndef generator(z, out_channel_dim, is_train=True):\n    \"\"\"\n    Create the generator network\n    \"\"\"\n    alpha = 0.2\n\n    with tf.variable_scope('generator', reuse=False if is_train==True else True):\n        # First fully connected layer\n        x_1 = tf.layers.dense(z, 2*2*512)\n\n        # Reshape it to start the convolutional stack\n        deconv_2 = tf.reshape(x_1, (-1, 2, 2, 512))\n        batch_norm2 = tf.layers.batch_normalization(deconv_2, training=is_train)\n        lrelu2 = tf.maximum(alpha * batch_norm2, batch_norm2)\n\n\n        # Deconv 1\n        deconv3 = tf.layers.conv2d_transpose(lrelu2, 256, 5, 2, padding='VALID')\n        batch_norm3 = tf.layers.batch_normalization(deconv3, training=is_train)\n        lrelu3 = tf.maximum(alpha * batch_norm3, batch_norm3)\n\n\n\n        # Deconv 2\n        deconv4 = tf.layers.conv2d_transpose(lrelu3, 128, 5, 2, padding='SAME')\n        batch_norm4 = tf.layers.batch_normalization(deconv4, training=is_train)\n        lrelu4 = tf.maximum(alpha * batch_norm4, batch_norm4)\n\n\n        #Deconv 3\n        deconv5 = tf.layers.conv2d_transpose(lrelu4, 64, 5, 2, padding='SAME')\n        batch_norm5 = tf.layers.batch_normalization(deconv5, training=is_train)\n        lrelu5 = tf.maximum(alpha * batch_norm5, batch_norm5)\n\n\n\n        # Output layer\n        logits = tf.layers.conv2d_transpose(lrelu5, out_channel_dim, 5, 2, padding='SAME')\n        out = tf.tanh(logits)\n\n        return out\n</code></pre>\n\n<p>Thank you. </p>\n"}, {"tags": ["python", "cython", "numba"], "answers": [{"comments": [{"owner": {"reputation": 1708, "user_id": 4122880, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EkZGq.png?s=128&g=1", "display_name": "jacg", "link": "https://stackoverflow.com/users/4122880/jacg"}, "edited": false, "score": 0, "creation_date": 1512605500, "post_id": 47683774, "comment_id": 82330946, "body": "Yes, godbolt makes absence/presence of the loop pretty clear. But I&#39;m confused by the use of registers starting with <code>e</code>, which I understand to be 32 bit. Numba definitely inferred <code>int64</code>. If I change the <code>int</code> to <code>long int</code> the clang output becomes very long and complicated, beyond my ability to decipher. It&#39;s interesting that on your machine <code>numba</code> is faster than <code>smart</code>: on mine it&#39;s 25% <b>slower</b>. Numba also slows down <code>smart</code> to match the speed of <code>numba</code> (which isn&#39;t surprising once you&#39;ve seen that <code>numba</code> is slower than <code>smart</code>)."}, {"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "reply_to_user": {"reputation": 1708, "user_id": 4122880, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EkZGq.png?s=128&g=1", "display_name": "jacg", "link": "https://stackoverflow.com/users/4122880/jacg"}, "edited": false, "score": 0, "creation_date": 1512656361, "post_id": 47683774, "comment_id": 82353827, "body": "Sorry misspoke, I meant not significantly <i>slower</i>.  See edit, it seems the type dispatch is actually what creates the overhead in the numba version."}], "tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": true, "score": 8, "last_activity_date": 1512656284, "last_edit_date": 1512656284, "creation_date": 1512595899, "answer_id": 47683774, "question_id": 47683436, "link": "https://stackoverflow.com/questions/47683436/numba-vs-cython-loop-optimization/47683774#47683774", "title": "Numba vs Cython loop optimization", "body": "<ol>\n<li><p>This appears to be a LLVM vs GCC thing - see example in compiler explorer <a href=\"https://godbolt.org/g/8oWJ2u\" rel=\"noreferrer\">here</a>, which is less noisy than what numba spits out.  I get a bit lost in the assembly, but fairly clear that the GCC output has a loop (the <code>jge</code> to <code>.L6</code>) and the clang output does not.  See also <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=46186\" rel=\"noreferrer\">this issue</a> on the GCC bugtracker.</p></li>\n<li><p>On my machine (Windows x64) <code>numba</code> is not significantly slower than <code>smart</code>, only about 9 ns.  This overhead appears to be due to the type dispatch mechanism of numba - if you elide it by picking a specific overload, the numba version is faster than the python one</p></li>\n</ol>\n\n<p>Here are my timings</p>\n\n<pre><code>In [73]: %timeit numba_sum(10000)\n182 ns \u00b1 1.69 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n\nIn [74]: %timeit smart(10000)\n171 ns \u00b1 2.26 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n\n# pick out int64 overload\ni64_numba_sum = numba_sum.get_overload((numba.int64,))\n\nIn [75]: %timeit i64_numba_sum(10000)\n94 ns \u00b1 1.41 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n</code></pre>\n"}], "owner": {"reputation": 1708, "user_id": 4122880, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EkZGq.png?s=128&g=1", "display_name": "jacg", "link": "https://stackoverflow.com/users/4122880/jacg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2573, "favorite_count": 0, "accepted_answer_id": 47683774, "answer_count": 1, "score": 8, "last_activity_date": 1512656411, "creation_date": 1512594321, "last_edit_date": 1512656411, "question_id": 47683436, "link": "https://stackoverflow.com/questions/47683436/numba-vs-cython-loop-optimization", "title": "Numba vs Cython loop optimization", "body": "<p>Consider the following four functions (<code>python</code>, <code>numba</code>, <code>cython</code> and <code>smart</code>), which calculate identical responses when given the same integer inputs</p>\n\n<pre><code>def python(n):\n    total = 0\n    for m in range(1,n+1):\n        total += m\n    return total\n\nfrom numba import jit\nnumba = jit(python)\n\ncpdef int cython(int n):\n    cdef int total = 0\n    cdef int m\n    for m in range(1, n+1):\n        total += m\n    return total\n\ndef smart(n):\n    return n * (n + 1) // 2\n</code></pre>\n\n<p>Timing their execution I was somewhat surprised to discover that</p>\n\n<ol>\n<li><code>numba</code>'s run-time is independent of <code>n</code> (while <code>cython</code>'s is linear in <code>n</code>)</li>\n<li><code>numba</code> is slower than <code>smart</code></li>\n</ol>\n\n<p>This immediately raises two questions:</p>\n\n<ol>\n<li>Why is Numba, but not Cython, able to turn it into a constant-time algorithm?</li>\n<li>Given that Numba <em>does</em> manage to turn it into a contstant-time algorithm, why is it slower than the pure Python constant-time function <code>smart</code>?</li>\n</ol>\n\n<p>As I am no assembler maven, looking at the generated code doesn't really give me much of a clue, beyond that the intermediate LLVM code generated by Numba still appears (I might have misunderstood, though) to contain a loop ... and I get hopelessly lost in the x64 that is eventually generated from that. (Unless someone asks, I won't post the generated codes, as they are rather long.)</p>\n\n<p>I am running this on a x64 Linux, in a Jupyter notebook, so I suspect that Cython is using the GCC 4.4.7 which was used to compile Python; and llvmlite 0.20.0, which would imply LLVM 4.0.x.</p>\n\n<h1>Edit:</h1>\n\n<p>I have also timed</p>\n\n<pre><code>smart_numba = jit(smart)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>cpdef int smart_cython(int n):\n    return n * (n + 1) // 2\n</code></pre>\n\n<p><code>smart_numba</code> and <code>numba</code> give identical timings, which are 25% <strong>slower</strong> than <code>smart</code> (pure-Python) and 175% slower than <code>smart_cython</code>.</p>\n\n<p>Does this indicate that Cython does a very good job of efficiently crossing the Python/low-level boundary, while Numba does a poor job? Or is there something else to it?</p>\n"}, {"tags": ["python", "arrays", "numpy", "numpy-random"], "comments": [{"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1512595266, "post_id": 47683415, "comment_id": 82326775, "body": "The output of a Gaussian function is real numbers, not booleans. Are you sure you want booleans? Are you trying to <i>window</i> the image with a Gaussian?"}, {"owner": {"reputation": 338, "user_id": 4418874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b8478947c8925f061cc28a622a07a5?s=128&d=identicon&r=PG&f=1", "display_name": "Omri Bahat Treidel", "link": "https://stackoverflow.com/users/4418874/omri-bahat-treidel"}, "edited": false, "score": 0, "creation_date": 1512595720, "post_id": 47683415, "comment_id": 82326981, "body": "<code>numpy.random.multivariate_normal</code> will give you a list of samples from a distribution which are not ordered on a grid like a matrix. Also, is the covariance is a &quot;scalar&quot; you can weite is as <code>sigma^2 * numpy.eye(D)</code> where D is the dimention."}, {"owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1512596091, "post_id": 47683415, "comment_id": 82327164, "body": "Yes... I need a binary matrix (mask) following a gaussian distribution. I&#39;m trying to compute M from equation (1) from <a href=\"https://arxiv.org/pdf/1711.00138.pdf\" rel=\"nofollow noreferrer\">this paper</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "edited": false, "score": 3, "creation_date": 1512596221, "post_id": 47683415, "comment_id": 82327231, "body": "You misunderstood their notation: (0,1) means the interval of real numbers between 0 and 1. Not {0, 1} which would be the two-element set with elements 0, 1. Their M is just the Gaussian pdf computed on a square grid."}, {"owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1512597241, "post_id": 47683415, "comment_id": 82327735, "body": "ok @CrazyIvan I got it... but I still don&#39;t know how to compute it with numpy :/"}], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1512598210, "post_id": 47684089, "comment_id": 82328163, "body": "I had the issue with  &quot;only keyword arguments after * expression&quot; with python 2, no problem with 3.  However pdf end up being an array of shape (10000,). Shouldn&#39;t it be a matrix of shape (m,n)? Or i need just to reshape pdf to get my M matrix?"}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "reply_to_user": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1512599461, "post_id": 47684089, "comment_id": 82328723, "body": "@RodrigoLaguna Did you use the edited version of my answer? <code>points</code> should have shape <code>(m, n, 2)</code>, which will give <code>pdf</code> a shape of <code>(m, n)</code>. No reshaping should be required."}, {"owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1512660686, "post_id": 47684089, "comment_id": 82356800, "body": "Thank you @bnaecker I tried it with ipython, on python 2.7 and worked perfectly. Some notes: I had to import scipy as follows <code>from scipy import stats</code> since importing directly <code>scipy</code> throws an error.  I would like to read more about this pdf to understand how does it work, end also understand what role does <code>lims</code> variable plays on your code.   Thank you again!"}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "reply_to_user": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1512662425, "post_id": 47684089, "comment_id": 82357934, "body": "@RodrigoLaguna Not sure why <code>import scipy</code> fails. Could you a problem with your installation. The PDF function is pretty straightforward: it just evaluates <a href=\"https://en.wikipedia.org/wiki/Multivariate_normal_distribution#Density_function\" rel=\"nofollow noreferrer\">this function</a> at the points you pass. That might look complicated, but it&#39;s just <code>exp((x-mean)**2) &#47; sqrt(2 * variance)</code>, extended to multiple dimensions."}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "reply_to_user": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 1, "creation_date": 1512664286, "post_id": 47684089, "comment_id": 82359154, "body": "@RodrigoLaguna It is the limits of the support of the PDF. The support is the range of values over which the PDF is computed. So the grid covers <code>[-3, 3]</code> in both x and y."}], "tags": [], "owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "is_accepted": true, "score": 2, "last_activity_date": 1512597878, "last_edit_date": 1512597878, "creation_date": 1512597353, "answer_id": 47684089, "question_id": 47683415, "link": "https://stackoverflow.com/questions/47683415/evaluate-the-probability-density-of-gaussian-distribution-on-a-square-grid/47684089#47684089", "title": "Evaluate the probability density of Gaussian distribution on a square grid", "body": "<p><code>numpy.random.multivariate_normal</code> will give you <em>samples</em> drawn from a multivariate Gaussian distribution with mean 0 and variance 1. You want to compute the <em>probability density function</em> (PDF) for this distribution, not draw samples from it.</p>\n\n<p>The easiest thing to do is use the <code>scipy.stats.multivariate_normal.pdf</code> function, as follows:</p>\n\n<pre><code>m, n = 100, 100\nlims = (-3, 3) # support of the PDF\nxx, yy = np.meshgrid(np.linspace(*lims, m), np.linspace(*lims, n))\npoints = np.stack((xx, yy), axis=-1)\nmean = (1, 2) # Whatever your (i, j) is\ncovariance = 25.0\npdf = scipy.stats.multivariate_normal.pdf(points, mean, covariance)\n</code></pre>\n\n<p><code>pdf</code> now gives the height of the Gaussian function at each of the points in the plane between -3 and 3 on both the x- and y-axes.</p>\n\n<p>You can apply this window to whatever images you want, by just doing <code>image * pdf</code>.</p>\n\n<p>EDITS:</p>\n\n<p>Thanks to CrazyIvan for pointing out the <code>pdf</code> function takes a grid of points directly. Also note that <code>np.linspace(*lims, m)</code> uses Python3-specific tuple-unpacking. If you have an older version, just do <code>np.linspace(lims[0], lims[1], m)</code>.</p>\n"}], "owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1760, "favorite_count": 0, "accepted_answer_id": 47684089, "answer_count": 1, "score": 0, "last_activity_date": 1512600058, "creation_date": 1512594227, "last_edit_date": 1512600058, "question_id": 47683415, "link": "https://stackoverflow.com/questions/47683415/evaluate-the-probability-density-of-gaussian-distribution-on-a-square-grid", "title": "Evaluate the probability density of Gaussian distribution on a square grid", "body": "<p>I need to generate an image mask of dimensions m \u00d7 n corresponding to a two-dimensional Gaussian with center at \u00b5 = (i, j) and \u03c3^2 = 25, using NumPy.</p>\n\n<p>After searching on the net, I found <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.multivariate_normal.html#numpy.random.multivariate_normal\" rel=\"nofollow noreferrer\">this documentation</a> which looks promising. However, there are a few problems:</p>\n\n<ul>\n<li>Generated matrix is not a mask (binary)</li>\n<li>Covariance (\u03c3^2) is given as a matrix and not as an integer</li>\n</ul>\n\n<p>Perhaps using some mathematical properties, this could be transformed into what I want, but I can't see it because I'm not really good at maths.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 1, "creation_date": 1512594172, "post_id": 47683359, "comment_id": 82326213, "body": "Use <a href=\"https://docs.python.org/2/library/os.path.html#os.path.realpath\" rel=\"nofollow noreferrer\"><code>os.path.realpath()</code></a> to unwrap your links and check against the actual path."}, {"owner": {"reputation": 107, "user_id": 6199827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10208927311157072/picture?type=large", "display_name": "Mehrdad ", "link": "https://stackoverflow.com/users/6199827/mehrdad"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1512668730, "post_id": 47683359, "comment_id": 82361605, "body": "does not work. I  have edited the question so that it is more clearly shown the problem.. thank you"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 6199827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10208927311157072/picture?type=large", "display_name": "Mehrdad ", "link": "https://stackoverflow.com/users/6199827/mehrdad"}, "edited": false, "score": 0, "creation_date": 1512668738, "post_id": 47683419, "comment_id": 82361612, "body": "does not work. I  have edited the question so that it is more clearly shown the problem"}], "tags": [], "owner": {"reputation": 3334, "user_id": 4765864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2M2eC.jpg?s=128&g=1", "display_name": "gonczor", "link": "https://stackoverflow.com/users/4765864/gonczor"}, "is_accepted": false, "score": 0, "last_activity_date": 1512672198, "last_edit_date": 1512672198, "creation_date": 1512594257, "answer_id": 47683419, "question_id": 47683359, "link": "https://stackoverflow.com/questions/47683359/copytree-with-loop-in-softlinks/47683419#47683419", "title": "copytree with loop in softlinks", "body": "<p>By using <code>realpath()</code> <a href=\"https://docs.python.org/2/library/os.path.html#os.path.realpath\" rel=\"nofollow noreferrer\">from docs</a>:</p>\n\n<blockquote>\n  <p>Return the canonical path of the specified filename, <strong>eliminating any symbolic links</strong> encountered in the path</p>\n</blockquote>\n\n<p><em>EDIT:</em></p>\n\n<p>I've done some more research and it seems this could be not solvable. All in all files are only sequences of bytes on your disk and what makes these bytes meaningful is your operating system. In particular symlinks are files with very arbitrary sequences of character which do not even need to be paths to existing files! When using methods like <code>read()</code> <code>open()</code> under your language layer it's your operating system that handles input/output operations on files. If it can't handle it, probably nothing won't and you'll have to make some workarounds like checking whether your symbolic link points to itself. I recommend <a href=\"https://lists.gnu.org/archive/html/coreutils/2011-02/msg00002.html\" rel=\"nofollow noreferrer\">this discussion</a>:</p>\n\n<blockquote>\n  <p>Creating a symlink that contains the name of the current file may have\n  a use.  I do not know.  But there isn't any content scanning of the\n  contents of the symlink file.  Almost certainly someone someplace is\n  using such a value as a flag of some sort.  If you try to open such a\n  symlink the kernel will redirect back to itself creating a loop that\n  will exceed the configured loop count and be detected.</p>\n</blockquote>\n"}], "owner": {"reputation": 107, "user_id": 6199827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10208927311157072/picture?type=large", "display_name": "Mehrdad ", "link": "https://stackoverflow.com/users/6199827/mehrdad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512672198, "creation_date": 1512593956, "last_edit_date": 1512668686, "question_id": 47683359, "link": "https://stackoverflow.com/questions/47683359/copytree-with-loop-in-softlinks", "title": "copytree with loop in softlinks", "body": "<p>Is there any way to detect softlink loops and omit copying them?</p>\n\n<p>I have a directory that contain the softlink to himself. and I want to copy the folder recursively (including the meta data for all softlinks) except the one who create loop. it there any way to do so?</p>\n\n<p>This is the structure of the director</p>\n\n<pre><code>makedir testdir\necho \"hello world\" &gt; removeme.txt \ncd testdir\nln TOPDIR ../testdir -s\nln -s ../removeme.txt slnk \n</code></pre>\n\n<p>so the directory would be:</p>\n\n<pre><code>ls test_dir/ -l \ntotal 64\nlrwxrwxrwx 1 root root 15 Dec  7 09:31 slnk -&gt; ../removeme.txt\nlrwxrwxrwx 1 root root 11 Dec  6 12:46 TOPDIR -&gt; ../test_dir\n</code></pre>\n\n<p>this is the python:</p>\n\n<pre><code>from os.path import realpath\nimport shutil\nshutil.copytree(realpath('testdir'),'removeme_softlink')\n</code></pre>\n\n<p>It copies the folder into itself recursively until it raises exception. The error would like:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./m.py\", line 10, in &lt;module&gt;\n   shutil.copytree(realpath(fileName),'removeme_softlink');\n  File \"/usr/lib64/python2.6/shutil.py\", line 173, in copytree\n   raise Error, errors\n  shutil.Erro:\n  /test_dir/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR', 'removeme_softlink/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR/TOPDIR', \"\n  [Errno 40] Too many levels of symbolic links: ....\n</code></pre>\n"}, {"tags": ["python", "dictionary", "for-loop"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1512594110, "post_id": 47683349, "comment_id": 82326189, "body": "The answer solves your problem, but you should also just use <code>well_runtime[well[&quot;name&quot;]] = well[&quot;efficiency&quot;]</code> instead of using <code>well_runtime.update(...)</code>"}, {"owner": {"reputation": 681, "user_id": 7579116, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZAT8sPIj4Qo/AAAAAAAAAAI/AAAAAAAAAbw/ksITS9vX5do/photo.jpg?sz=128", "display_name": "Shailyn Ortiz", "link": "https://stackoverflow.com/users/7579116/shailyn-ortiz"}, "edited": false, "score": 1, "creation_date": 1512594565, "post_id": 47683349, "comment_id": 82326410, "body": "also the return is not where it should be, the return should be outside the for, because this will cause it to return just the first and exit the function"}, {"owner": {"reputation": 81, "user_id": 8993122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cgFAl.png?s=128&g=1", "display_name": "Miguel Chavez", "link": "https://stackoverflow.com/users/8993122/miguel-chavez"}, "edited": false, "score": 0, "creation_date": 1512602802, "post_id": 47683349, "comment_id": 82329997, "body": "Thanks! moving the variable outside the loop and moving the return did it"}], "answers": [{"tags": [], "owner": {"reputation": 831, "user_id": 1898965, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/67cb42f480d0ca9df4edac4e8c99a88b?s=128&d=identicon&r=PG", "display_name": "Zack Tarr", "link": "https://stackoverflow.com/users/1898965/zack-tarr"}, "is_accepted": false, "score": 5, "last_activity_date": 1514395036, "last_edit_date": 1514395036, "creation_date": 1512594043, "answer_id": 47683378, "question_id": 47683349, "link": "https://stackoverflow.com/questions/47683349/adding-keyvalue-items-to-a-dictionay-in-python-with-a-for/47683378#47683378", "title": "Adding key:value items to a dictionay in python with a for", "body": "<p>Each time you go through the loop you are resetting the Dictionary to <code>{}</code> or empty thus it clears it out until the last time on exit. Move <code>well_runtime = {}</code> outside of the loop.</p>\n"}], "owner": {"reputation": 81, "user_id": 8993122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cgFAl.png?s=128&g=1", "display_name": "Miguel Chavez", "link": "https://stackoverflow.com/users/8993122/miguel-chavez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514395036, "creation_date": 1512593918, "question_id": 47683349, "link": "https://stackoverflow.com/questions/47683349/adding-keyvalue-items-to-a-dictionay-in-python-with-a-for", "title": "Adding key:value items to a dictionay in python with a for", "body": "<p>Hi i have this function:</p>\n\n<pre><code>     def company_runtime(company_name):\n        for well in all_wells:\n            well_runtime = {}\n            if well[\"groupName\"].lower() == company_name.lower():\n                well_runtime.update({well[\"name\"]: well[\"efficiency\"]})\n            return well_runtime\n</code></pre>\n\n<p>And i want to get a dictionary with \"names\" and \"efficiency\" from the loop, if i enter a compay name as a parameter.</p>\n\n<p>I am getting only the last element of the all_wells list that meet that condition.</p>\n\n<p>what i am doing wrong?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "django", "django-models", "django-forms", "django-views"], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1512593783, "creation_date": 1512593783, "answer_id": 47683323, "question_id": 47683278, "link": "https://stackoverflow.com/questions/47683278/automatically-set-the-primary-key-for-one-table-as-the-foreign-key-for-another/47683323#47683323", "title": "Automatically set the primary key for one table as the foreign key for another?", "body": "<p>You do it in exactly the same way you are already setting the user on the new_seller_event.</p>\n\n<p>The relationship between the event and the user is the same as the relationship between the item and the event.</p>\n"}, {"tags": [], "owner": {"reputation": 794, "user_id": 3717658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vtnZE.jpg?s=128&g=1", "display_name": "Naqib Hakimi", "link": "https://stackoverflow.com/users/3717658/naqib-hakimi"}, "is_accepted": false, "score": 3, "last_activity_date": 1512594935, "creation_date": 1512594935, "answer_id": 47683568, "question_id": 47683278, "link": "https://stackoverflow.com/questions/47683278/automatically-set-the-primary-key-for-one-table-as-the-foreign-key-for-another/47683568#47683568", "title": "Automatically set the primary key for one table as the foreign key for another?", "body": "<p>add this line before <code>seller_event_items_form.save()</code> when the model is saved \nyou can reference it as ForeignKey</p>\n\n<pre><code>seller_event_items.event_id = new_seller_event\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 3746247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab7b1270e1ca57353a6f575518350db3?s=128&d=identicon&r=PG&f=1", "display_name": "user241691", "link": "https://stackoverflow.com/users/3746247/user241691"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 47683323, "answer_count": 2, "score": 0, "last_activity_date": 1512594935, "creation_date": 1512593584, "question_id": 47683278, "link": "https://stackoverflow.com/questions/47683278/automatically-set-the-primary-key-for-one-table-as-the-foreign-key-for-another", "title": "Automatically set the primary key for one table as the foreign key for another?", "body": "<p><strong>I have two Django models:</strong></p>\n\n<pre><code>class seller_event(models.Model):\n    event_id = models.AutoField(primary_key=True)\n    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)\n    title = models.CharField(max_length = 300, default = 'Null')\n    description = models.CharField(max_length = 300, default = 'Null')\n    location = models.CharField(max_length= 300, default = 'Null')\n    cash_payment = models.BooleanField(default=True)\n    paytm_payment = models.BooleanField(default=False)\n\n    def __unicode__(self):\n        return str(self.event_id)\n\nclass seller_event_items(models.Model):\n    item_id = models.AutoField(primary_key=True)\n    event_id = models.ForeignKey(seller_event)\n    item_name = models.CharField(max_length = 300, default = 'Null')\n    item_price = models.CharField(max_length = 300, default = 'Null')\n    item_quant = models.CharField(max_length = 300, default = 'Null')\n\n    def __unicode__(self):\n        return str(self.item_id)\n</code></pre>\n\n<p>The foreign key for the second table is the primary key for the first table. Essentially, I am trying to associate items with a sale. I have a forms like such:</p>\n\n<p><strong>forms.py:</strong></p>\n\n<pre><code>class Seller_event(forms.ModelForm):\n\n    class Meta:\n        model = seller_event\n        exclude = {'user'}\n\nclass Seller_event_items(forms.ModelForm):\n\n    class Meta:\n        model = seller_event_items\n        exclude = {'event_id'}\n</code></pre>\n\n<p><strong>views.py:</strong></p>\n\n<pre><code>def newlist(request):\n    if request.user.is_authenticated():\n        user = request.user\n        print user\n        if request.method == 'POST':\n            seller_event_form = Seller_event(request.POST)\n            seller_event_items_form = Seller_event_items(request.POST)\n            if seller_event_form.is_valid() and seller_event_items_form.is_valid():\n                new_seller_event = seller_event_form.save(commit=False)\n                new_seller_event.user = user\n                new_seller_event.save()\n                seller_event_items_form.save()\n                return redirect('/home')\n\n        else:\n            seller_event_form = Seller_event()\n            seller_event_items_form = Seller_event_items()\n\n\n        return render(request, 'home/newlist.html', {'seller_event_form': seller_event_form, 'seller_event_items_form': seller_event_items_form})\n</code></pre>\n\n<p>The form here is helping a seller both create a sale and then populate the sale with items. </p>\n\n<p>How can I go about automatically setting the fk on the items table as the event_id (pk for seller_events table)? I have excluded it from the form, but I'm not sure what to do after this.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "python-3.x", "list", "for-loop", "average"], "comments": [{"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1512593730, "post_id": 47683265, "comment_id": 82325993, "body": "What does your data look like? What is the expected output, you can spare the explanation if you just present those simple facts <code>input</code>, <code>output</code>"}, {"owner": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "reply_to_user": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1512594088, "post_id": 47683265, "comment_id": 82326181, "body": "yes, i&#39;m sorry :("}, {"owner": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "reply_to_user": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1512594174, "post_id": 47683265, "comment_id": 82326215, "body": "expected output: 0 Euro, _ throws, 500 Euro _ throws, 1000 Euro _ throws, 1500 Euro _ throws, 2000 Euro _ throws, 2500 Euro _ throws"}, {"owner": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "reply_to_user": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1512594223, "post_id": 47683265, "comment_id": 82326238, "body": "im getting the amount of throws but thats for running my code once, i want to run my code like 2000 times and  get the average amount of throws for each of the euros"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "edited": false, "score": 0, "creation_date": 1512598223, "post_id": 47683652, "comment_id": 82328169, "body": "hey man, thank you so much, but would you know how i can print it seperately, like 0 Euro: x steps &#39;newline&#39; 500 Euro: x steps &#39;newline&#39; and so forth"}, {"owner": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "edited": false, "score": 0, "creation_date": 1512598410, "post_id": 47683652, "comment_id": 82328242, "body": "because i made a new main function right now and tried to print this function but it gave nothing"}, {"owner": {"reputation": 896, "user_id": 9019560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7024d310c7521f85292ab4961accee31?s=128&d=identicon&r=PG&f=1", "display_name": "Turksarama", "link": "https://stackoverflow.com/users/9019560/turksarama"}, "reply_to_user": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "edited": false, "score": 0, "creation_date": 1512598941, "post_id": 47683652, "comment_id": 82328477, "body": "Need to return throw_list instead of throws, I will fix it."}], "tags": [], "owner": {"reputation": 896, "user_id": 9019560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7024d310c7521f85292ab4961accee31?s=128&d=identicon&r=PG&f=1", "display_name": "Turksarama", "link": "https://stackoverflow.com/users/9019560/turksarama"}, "is_accepted": true, "score": 0, "last_activity_date": 1512598950, "last_edit_date": 1512598950, "creation_date": 1512595339, "answer_id": 47683652, "question_id": 47683265, "link": "https://stackoverflow.com/questions/47683265/how-can-i-average-multiple-outputs-independently-in-python/47683652#47683652", "title": "How can I average multiple outputs independently in python", "body": "<p>I'm going to assume this is in a function, due to the return statement.  You need to collect outputs into a list and then average that at the end.</p>\n\n<pre><code>def calc_throws(simulations):\n    throw_list = []\n    average = lambda x: sum(x)/len(x)\n    for i, money in enumerate(range(0, 2501, 500)):\n        print(\"{} Euro\".format(money), end='')\n        throw_list.append([money, []])\n        for _ in range(simulations):\n            throws = 0\n            d = trump.possession(board)\n            while False in d.values():\n                prevLoc = piece.location\n                piece.move(trump.throw())\n                throws += 1\n                if piece.location &lt; prevLoc:\n                    money += 200\n\n                if board.names[piece.location] in d and d[board.names[piece.location]] == False and money &gt;= board.values[piece.location]:\n                    money -= board.values[piece.location]\n                    d[board.names[piece.location]] = True\n            throw_list[i][1].append(throws)\n        throw_list[i][1] = average(throw_list[i][1])\n    return throw_list\n</code></pre>\n\n<p>Rather than a single number, this returns a list of lists like <code>#[[0,20],[500,15],...[2500,3]]</code> (or whatever reasonable numbers are) which gives you the average for each amount of starting money.</p>\n"}], "owner": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 47683652, "answer_count": 1, "score": 0, "last_activity_date": 1512598950, "creation_date": 1512593542, "question_id": 47683265, "link": "https://stackoverflow.com/questions/47683265/how-can-i-average-multiple-outputs-independently-in-python", "title": "How can I average multiple outputs independently in python", "body": "<p>PYTHON 3:    Hi, so I have this piece of code </p>\n\n<pre><code>for money in range(0, 2501, 500):\n    print(\"{} Euro\".format(money), end='')\n    throws = 0\n    d = trump.possession(board)\n\n    while False in d.values():\n        prevLoc = piece.location\n        piece.move(trump.throw())\n        throws += 1\n        if piece.location &lt; prevLoc:\n            money += 200\n\n        if board.names[piece.location] in d and d[board.names[piece.location]] == False and money &gt;= board.values[piece.location]:\n            money -= board.values[piece.location]\n            d[board.names[piece.location]] = True\n    return throws\n</code></pre>\n\n<p>and this code takes 0 money to start with, runs the code, looks for amount of throws required to buy the entire board, does the same with 500 starting money, 1000 and so forth</p>\n\n<p>my question is, how can i take the average of the throws to buy the entire board for each starting value? the way my code is now it returns the amount of throws for all the starting values, but simulated once, so it may not be accurate.\nI searched a lot, and tried some things but i had problems with this one because I want to like run it, say for example, 2000 times, and get the average for each starting value for the money.</p>\n\n<p>anyone got any tips for this? been struggling on it for a while..</p>\n\n<p>i tried making a for loop from 0 to 2000 and then inside of that another for loop that prints 0-2500 and then uses the code below in a function, appends the return value of throws into a list and sums it up and devides it by 2000, it did not turn out so good...</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 1, "creation_date": 1512593726, "post_id": 47683257, "comment_id": 82325990, "body": "Maybe you could plot all these points on a graph and see if some nice function emerge."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 1, "creation_date": 1512593752, "post_id": 47683257, "comment_id": 82326006, "body": "hehehehe there is a clear pattern already, but why does it start at 62?"}, {"owner": {"reputation": 23, "user_id": 8876076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badf5c5c104fd3041b4da44158a1a74e?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx598", "link": "https://stackoverflow.com/users/8876076/qazwsx598"}, "edited": false, "score": 0, "creation_date": 1512593915, "post_id": 47683257, "comment_id": 82326088, "body": "If you&#39;re suggesting that the exponent and level could both be variables because they change by one each line then I already thought of that but I don&#39;t know how to translate it to python. It starts at 62 because i was only calculating the chances for catching one type of fish which requires a level of 62"}], "answers": [{"tags": [], "owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "is_accepted": false, "score": 0, "last_activity_date": 1512594161, "creation_date": 1512594161, "answer_id": 47683403, "question_id": 47683257, "link": "https://stackoverflow.com/questions/47683257/how-can-i-determine-level-based-on-experience/47683403#47683403", "title": "How can I determine level based on experience?", "body": "<p>Well one bad way you can simplify this is this</p>\n\n<pre><code>def calculate_level(xp):\n    if xp &lt; 368599:\n        return 62\n    for i in reversed(range(63, 99)):\n        if xp &gt; 368599 * 1.101141**(i - 62):\n            return i\n</code></pre>\n\n<p>But the other better thing to do is to work out a more mathematical definition of this problem and just figure out the direct function.</p>\n\n<p>I think it would be something along the lines of </p>\n\n<pre><code>level = floor(log_1.101141(xp / 368599) +62)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": -1, "last_activity_date": 1512595934, "last_edit_date": 1512595934, "creation_date": 1512594291, "answer_id": 47683427, "question_id": 47683257, "link": "https://stackoverflow.com/questions/47683257/how-can-i-determine-level-based-on-experience/47683427#47683427", "title": "How can I determine level based on experience?", "body": "<p>This is one way to do it (not complete solution but an example)</p>\n\n<pre><code>from collections import OrderedDict\nimport io\n\n# Put your levels in a csvfile\n\ndata = '''\\\n62,144815767.41229948\n63,159462585.01260683\n64,175590796.3918269\n65,193350231.1981527\n66,212905873.000225\n67,234439391.96980074\n68,258150832.58147836\n69,284260472.00806165\n70,313010866.47588897\n71,344669104.59058684'''\n\nfile = io.StringIO(data)\n\n# Read file to dictionary\nL = OrderedDict((int(i.split(',')[0]),float(i.split(',')[1])) for i in file.read().split('\\n'))\n\nexperience = 450000\n\n# Now to the code\ncurrent_lvl = next(k for k,v in L.items() if v &gt; experience)\n</code></pre>\n\n<p>Returns <code>62</code>. Now that you have a dictionary you can do things like: </p>\n\n<p>Calculate the exp needed for next level like this:</p>\n\n<pre><code>L.get(current_lvl+1)-experience\n</code></pre>\n\n<p>Returns <code>159012585.01260683</code></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8876076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badf5c5c104fd3041b4da44158a1a74e?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx598", "link": "https://stackoverflow.com/users/8876076/qazwsx598"}, "edited": false, "score": 1, "creation_date": 1512594983, "post_id": 47683435, "comment_id": 82326640, "body": "Whoa that&#39;s smart.. Too bad logarithms were always my weakest area in math. so math.log(xp/368599, 1.101141) takes the log of base 1.101141 of xp/368599?"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 23, "user_id": 8876076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badf5c5c104fd3041b4da44158a1a74e?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx598", "link": "https://stackoverflow.com/users/8876076/qazwsx598"}, "edited": false, "score": 0, "creation_date": 1512595158, "post_id": 47683435, "comment_id": 82326727, "body": "@qazwsx598 Correct! Since the logarithm is the inverse of exponentiation, and you&#39;re essentially trying to &quot;undo&quot; an exponentiation."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512595240, "post_id": 47683435, "comment_id": 82326759, "body": "@AntonvBR How does your question differ in functionality (other than being an O(n) lookup instead of O(1))?"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512595818, "post_id": 47683435, "comment_id": 82327036, "body": "@AntonvBR I don&#39;t think they need a way to go from level to xp, and even then, the inverted formula is easier and asymptotically faster than using a file and an OrderedDict: <code>def level_to_xp(level): return 368599 * 1.101141**(level-61)</code>"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1512596045, "post_id": 47683435, "comment_id": 82327139, "body": "Nvm, As I put earlier I think you answered this perfectly."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 5, "last_activity_date": 1512594320, "creation_date": 1512594320, "answer_id": 47683435, "question_id": 47683257, "link": "https://stackoverflow.com/questions/47683257/how-can-i-determine-level-based-on-experience/47683435#47683435", "title": "How can I determine level based on experience?", "body": "<p>Smells like logarithm..</p>\n\n<pre><code>import math\n\ndef xp_to_level(xp):\n    return math.ceil(math.log(xp/368599, 1.101141)) + 61\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&gt;&gt;&gt; xp_to_level(123456)\n50\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8876076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badf5c5c104fd3041b4da44158a1a74e?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx598", "link": "https://stackoverflow.com/users/8876076/qazwsx598"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 1, "accepted_answer_id": 47683435, "answer_count": 3, "score": 1, "last_activity_date": 1512595934, "creation_date": 1512593512, "question_id": 47683257, "link": "https://stackoverflow.com/questions/47683257/how-can-i-determine-level-based-on-experience", "title": "How can I determine level based on experience?", "body": "<p>How can I simply calculate the level based on an input experience? \nI'm making a \"pet chance generator\" for a game called runescape. The program asks for your current experience and approximates the level based on the experience value input by the user. Below is the only method I could think of to do this but as you can see there is a wall of text basically copy pasted 40 times. Please help!</p>\n\n<p>I currently have:</p>\n\n<pre><code>def calculate_level(xp):\nif xp &lt; 368599:\n    level = 62\nelif xp &lt; 368599 * 1.101141**2:\n    level = 63\nelif xp &lt; 368599 * 1.101141**3:\n    level = 64\nelif xp &lt; 368599 * 1.101141**4:\n    level = 65\nelif xp &lt; 368599 * 1.101141**5:\n    level = 66\nelif xp &lt; 368599 * 1.101141**6:\n    level = 67\nelif xp &lt; 368599 * 1.101141**7:\n    level = 68\nelif xp &lt; 368599 * 1.101141**8:\n    level = 69\nelif xp &lt; 368599 * 1.101141**9:\n    level = 70\nelif xp &lt; 368599 * 1.101141**10:\n    level = 71\nelif xp &lt; 368599 * 1.101141**11:\n    level = 72\nelif xp &lt; 368599 * 1.101141**12:\n    level = 73\nelif xp &lt; 368599 * 1.101141**13:\n    level = 74\nelif xp &lt; 368599 * 1.101141**14:\n    level = 75\nelif xp &lt; 368599 * 1.101141**15:\n    level = 76\nelif xp &lt; 368599 * 1.101141**16:\n    level = 77\nelif xp &lt; 368599 * 1.101141**17:\n    level = 78\nelif xp &lt; 368599 * 1.101141**18:\n    level = 79\nelif xp &lt; 368599 * 1.101141**19:\n    level = 80\nelif xp &lt; 368599 * 1.101141**20:\n    level = 81\nelif xp &lt; 368599 * 1.101141**21:\n    level = 82\nelif xp &lt; 368599 * 1.101141**22:\n    level = 83\nelif xp &lt; 368599 * 1.101141**23:\n    level = 84\nelif xp &lt; 368599 * 1.101141**24:\n    level = 85\nelif xp &lt; 368599 * 1.101141**25:\n    level = 86\nelif xp &lt; 368599 * 1.101141**26:\n    level = 87\nelif xp &lt; 368599 * 1.101141**27:\n    level = 88\nelif xp &lt; 368599 * 1.101141**28:\n    level = 89\nelif xp &lt; 368599 * 1.101141**29:\n    level = 90\nelif xp &lt; 368599 * 1.101141**30:\n    level = 91\nelif xp &lt; 368599 * 1.101141**31:\n    level = 92\nelif xp &lt; 368599 * 1.101141**32:\n    level = 93\nelif xp &lt; 368599 * 1.101141**33:\n    level = 94\nelif xp &lt; 368599 * 1.101141**34:\n    level = 95\nelif xp &lt; 368599 * 1.101141**35:\n    level = 96\nelif xp &lt; 368599 * 1.101141**36:\n    level = 97\nelif xp &lt; 368599 * 1.101141**37:\n    level = 98\nelse:\n    level = 99\nreturn level\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "class"], "comments": [{"owner": {"reputation": 647, "user_id": 8026147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54MIQ.jpg?s=128&g=1", "display_name": "Nikhil Fadnis", "link": "https://stackoverflow.com/users/8026147/nikhil-fadnis"}, "edited": false, "score": 3, "creation_date": 1512594143, "post_id": 47683244, "comment_id": 82326200, "body": "can you post the code and the stack trace please !"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1512594567, "post_id": 47683244, "comment_id": 82326411, "body": "Does it work when you add <i>any</i> plain integer to an instance of your class?"}, {"owner": {"reputation": 13, "user_id": 9064017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ada7a96bbe0e793497d06cba04b012f?s=128&d=identicon&r=PG&f=1", "display_name": "yojo890", "link": "https://stackoverflow.com/users/9064017/yojo890"}, "edited": false, "score": 0, "creation_date": 1512595453, "post_id": 47683244, "comment_id": 82326871, "body": "It wont work with any integers"}, {"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1512596293, "post_id": 47683244, "comment_id": 82327274, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5082190/typeerror-after-overriding-the-add-method\">TypeError after overriding the __add__ method</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "is_accepted": false, "score": 0, "last_activity_date": 1512596110, "creation_date": 1512596110, "answer_id": 47683814, "question_id": 47683244, "link": "https://stackoverflow.com/questions/47683244/adding-zero-to-my-complex-number-class/47683814#47683814", "title": "Adding zero to my complex number class", "body": "<p><code>int</code> + <code>complex</code> will first try to use<code>int.__add__</code>. <code>complex</code> + <code>int</code> will first try to use <code>complex.__add__</code>. </p>\n\n<p>You need to implement <code>complex.__radd__</code>. See the related note in <a href=\"https://docs.python.org/2.5/ref/numeric-types.html\" rel=\"nofollow noreferrer\">Emulating numeric types</a>: </p>\n\n<blockquote>\n  <p>These functions are only called if the left operand does not support the corresponding operation and the operands are of different types.</p>\n</blockquote>\n\n<p>You will need to handle the case where <code>other</code> is <code>int</code> in both <code>complex.__add__</code> and <code>complex.__radd__</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": false, "score": 0, "last_activity_date": 1512596147, "creation_date": 1512596147, "answer_id": 47683823, "question_id": 47683244, "link": "https://stackoverflow.com/questions/47683244/adding-zero-to-my-complex-number-class/47683823#47683823", "title": "Adding zero to my complex number class", "body": "<p><code>__add__</code> is for addition when the left-hand-side operand is of the type you're writing. When Python fails to call the <code>int</code> <code>__add__</code> method, it tries <code>__radd__</code>. If you define <code>__radd__</code> (with the same behavior), you'll get the result you want.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9064017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ada7a96bbe0e793497d06cba04b012f?s=128&d=identicon&r=PG&f=1", "display_name": "yojo890", "link": "https://stackoverflow.com/users/9064017/yojo890"}, "edited": false, "score": 1, "creation_date": 1512596674, "post_id": 47683831, "comment_id": 82327474, "body": "Thanks! The complex class is just for practice :)"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 13, "user_id": 9064017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ada7a96bbe0e793497d06cba04b012f?s=128&d=identicon&r=PG&f=1", "display_name": "yojo890", "link": "https://stackoverflow.com/users/9064017/yojo890"}, "edited": false, "score": 0, "creation_date": 1512596819, "post_id": 47683831, "comment_id": 82327538, "body": "@yojo890 I&#39;m not suggesting you don&#39;t practice, I just suggest renaming it to <code>Complex</code> (with an upper-case c)."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 0, "last_activity_date": 1512596184, "creation_date": 1512596184, "answer_id": 47683831, "question_id": 47683244, "link": "https://stackoverflow.com/questions/47683244/adding-zero-to-my-complex-number-class/47683831#47683831", "title": "Adding zero to my complex number class", "body": "<p>Two problems:</p>\n\n<ol>\n<li><p>You are only handling addition of a <code>complex</code> object to a <code>complex</code> object, when you want to also be able to handle <code>complex</code> object + int.</p></li>\n<li><p>When adding in this order (int + custom type), you need to add a reflected addition method (<code>__radd__</code>)</p></li>\n</ol>\n\n<hr>\n\n<pre><code>class complex:\n    def __init__(self, a = 0, b = 0):\n        self.__real = float(a)\n        self.__imag = float(b)\n    def __add__(self, other):\n        if isinstance(other, complex):\n            return complex(self.__real + other.__real, self.__imag + other.__imag)\n        else:\n            return complex(self.__real + other, self.__imag)\n    def __radd__(self, other):\n        return self + other\n</code></pre>\n\n<p>N.B.: It is considered bad style to shadow built-in names (like <code>complex</code>).</p>\n"}], "owner": {"reputation": 13, "user_id": 9064017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ada7a96bbe0e793497d06cba04b012f?s=128&d=identicon&r=PG&f=1", "display_name": "yojo890", "link": "https://stackoverflow.com/users/9064017/yojo890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 47683831, "answer_count": 3, "score": 1, "last_activity_date": 1512596184, "creation_date": 1512593477, "last_edit_date": 1512595867, "question_id": 47683244, "link": "https://stackoverflow.com/questions/47683244/adding-zero-to-my-complex-number-class", "title": "Adding zero to my complex number class", "body": "<p>I'm creating my own complex number class (not using Python's built in one) and I'm running into a problem when I try to add zero to my complex number. For reference this is the error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nFile \"display.py\", line 25, in __init__\nt.color(mandelbrot(c).getColor())\nFile \"C:\\Users\\Joe\\Desktop\\Python\\mandelbrot.py\", line 10, in __init__\nz = z*z + self.__starting_value\nTypeError: unsupported operand type(s) for +: 'int' and 'complex'\n</code></pre>\n\n<p>Where self.__starting_value is the complex number.</p>\n\n<p>The addition definition goes as follows:</p>\n\n<pre><code>class complex:\n    def __init__(self, a = 0, b = 0):\n        self.__real = float(a)\n        self.__imag = float(b)\n    def __add__(self, other):\n        return complex(self.__real + other.__real, self.__imag + other.__imag)\n</code></pre>\n\n<p>The solution should be simple enough but I am still learning Python and could use the help.</p>\n"}]