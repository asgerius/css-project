[{"tags": ["python"], "comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537401402, "post_id": 52415663, "comment_id": 91774824, "body": "Do you want to prompt the user to try again if they give bad input?"}, {"owner": {"reputation": 3, "user_id": 10388427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072e06d0945c68c5b55f3097225cd7ab?s=128&d=identicon&r=PG", "display_name": "user10388427", "link": "https://stackoverflow.com/users/10388427/user10388427"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537401933, "post_id": 52415663, "comment_id": 91774909, "body": "Yes that would be great"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537402251, "post_id": 52415663, "comment_id": 91774969, "body": "Ok. Kevin&#39;s answer in the linked question shows you exactly how to do that. ;)"}, {"owner": {"reputation": 1350, "user_id": 777769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5172a06167da9e5aac8cde4b527100b2?s=128&d=identicon&r=PG", "display_name": "Hamid Rohani", "link": "https://stackoverflow.com/users/777769/hamid-rohani"}, "edited": false, "score": 0, "creation_date": 1537402740, "post_id": 52415663, "comment_id": 91775063, "body": "It would be great if you append a code stub of what you did for solving your question. With a sample code, your question will be viewed by more users."}], "answers": [{"tags": [], "owner": {"reputation": 251, "user_id": 10388369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgcLA.png?s=128&g=1", "display_name": "markb", "link": "https://stackoverflow.com/users/10388369/markb"}, "is_accepted": false, "score": 0, "last_activity_date": 1537401424, "creation_date": 1537401424, "answer_id": 52415682, "question_id": 52415663, "link": "https://stackoverflow.com/questions/52415663/python-how-to-add-an-input-error-message/52415682#52415682", "title": "Python - How to add an input error message", "body": "<p>You can have the input inside a while loop. In the loop you can check the type of the input (make sure to assign it to a variable). Have a condition that exits the loop when the input is a number and give an error message when it is not</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10030086"}, "reply_to_user": {"reputation": 3, "user_id": 10388427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072e06d0945c68c5b55f3097225cd7ab?s=128&d=identicon&r=PG", "display_name": "user10388427", "link": "https://stackoverflow.com/users/10388427/user10388427"}, "edited": false, "score": 0, "creation_date": 1537409059, "post_id": 52415695, "comment_id": 91776394, "body": "Accept the answer if you like it."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10030086"}, "is_accepted": true, "score": 1, "last_activity_date": 1537401546, "creation_date": 1537401546, "answer_id": 52415695, "question_id": 52415663, "link": "https://stackoverflow.com/questions/52415663/python-how-to-add-an-input-error-message/52415695#52415695", "title": "Python - How to add an input error message", "body": "<p>use try and except</p>\n\n<pre><code>userInp = input(\"YOUR QUESTIONS\")\ntry:\n    float(userInp)\nexcept ValueError:\n    print(\"YOUR ERROR\")\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10388427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072e06d0945c68c5b55f3097225cd7ab?s=128&d=identicon&r=PG", "display_name": "user10388427", "link": "https://stackoverflow.com/users/10388427/user10388427"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "closed_date": 1537401698, "accepted_answer_id": 52415695, "answer_count": 2, "score": -2, "last_activity_date": 1537401546, "creation_date": 1537401253, "question_id": 52415663, "link": "https://stackoverflow.com/questions/52415663/python-how-to-add-an-input-error-message", "closed_reason": "Duplicate", "title": "Python - How to add an input error message", "body": "<p>In Python, I have code where I only want the input to be a number and I want there to be an error message  if the user inputs a string(words). How do I do that?</p>\n"}, {"tags": ["python", "list"], "answers": [{"tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": false, "score": 0, "last_activity_date": 1537401224, "creation_date": 1537401224, "answer_id": 52415659, "question_id": 52415629, "link": "https://stackoverflow.com/questions/52415629/appending-to-one-nested-list-appends-to-all-nested-lists/52415659#52415659", "title": "Appending to one nested list appends to all nested lists", "body": "<p>Assign <code>3</code> a different way</p>\n\n<pre><code>l = [[]] * 4\nl[2] = [3]\nprint(l)\n</code></pre>\n\n<blockquote>\n<pre><code>(xenial)vash@localhost:~/python/stack_overflow$ python3.7 rows.py\n[[], [], [3], []]\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 933, "user_id": 1244167, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/76dbc4ff9b8c9e55cbf183473a9d6e85?s=128&d=identicon&r=PG", "display_name": "cbalawat", "link": "https://stackoverflow.com/users/1244167/cbalawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "closed_date": 1537401120, "answer_count": 1, "score": 0, "last_activity_date": 1537401224, "creation_date": 1537400875, "question_id": 52415629, "link": "https://stackoverflow.com/questions/52415629/appending-to-one-nested-list-appends-to-all-nested-lists", "closed_reason": "Duplicate", "title": "Appending to one nested list appends to all nested lists", "body": "<p>example code:</p>\n\n<pre><code>my_list = [[]] * 4\nmy_list[2].append(3)\nprint my_list\n</code></pre>\n\n<p>expected: <code>[[], [], [3], []]</code></p>\n\n<p>actual: <code>[[3], [3], [3], [3]]</code></p>\n\n<p>My inference is that the nested lists are copies of one another. Is there a way to achieve the <code>expected</code>?</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1537402170, "post_id": 52415689, "comment_id": 91774953, "body": "Not bad, but you can eliminate the multiplications by giving the <code>i</code> range a <code>step</code> arg of <code>columns</code>. That will make the inner loop easier to read, and more efficient (not that efficiency is an issue here)."}], "tags": [], "owner": {"reputation": 631, "user_id": 7350191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b5fe47d4e191763616772753e15adfc?s=128&d=identicon&r=PG&f=1", "display_name": "dennissv", "link": "https://stackoverflow.com/users/7350191/dennissv"}, "is_accepted": true, "score": 2, "last_activity_date": 1537401880, "last_edit_date": 1537401880, "creation_date": 1537401455, "answer_id": 52415689, "question_id": 52415623, "link": "https://stackoverflow.com/questions/52415623/output-in-a-table-python/52415689#52415689", "title": "Output in a Table python", "body": "<p>You can add a for loop before your print statement like this:</p>\n\n<pre><code>    def table(rows, columns):\n        for i in range(rows):\n            print(*range(1+i*columns, 1+(i+1)*columns))\n</code></pre>\n\n<p>This way you print a new line for each iteration of the loop and the range increases by the number of columns.</p>\n"}], "owner": {"reputation": 55, "user_id": 10382606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5kZqV9gBJ-g/AAAAAAAAAAI/AAAAAAAABBE/MMuetL7BiAU/photo.jpg?sz=128", "display_name": "coin1002", "link": "https://stackoverflow.com/users/10382606/coin1002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 52415689, "answer_count": 1, "score": 0, "last_activity_date": 1537401880, "creation_date": 1537400794, "question_id": 52415623, "link": "https://stackoverflow.com/questions/52415623/output-in-a-table-python", "title": "Output in a Table python", "body": "<p>I want my program to output rows*columns in that many rows and columns. For instance, table(2,3) would output </p>\n\n<pre><code>1 2 3\n4 5 6 \n</code></pre>\n\n<p>So far I have </p>\n\n<pre><code>    def table(rows, columns):\n         print(*range(1,rows*columns+1))\n</code></pre>\n\n<p>It prints rows*columns, but I don't know how to print it in a tabular format. Thank you for the help. </p>\n"}, {"tags": ["python", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 4501, "user_id": 5252492, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QYvFc.png?s=128&g=1", "display_name": "azazelspeaks", "link": "https://stackoverflow.com/users/5252492/azazelspeaks"}, "edited": false, "score": 0, "creation_date": 1537417105, "post_id": 52416676, "comment_id": 91778132, "body": "This works great with the checkboxes. For the dropdown I was thinking like an Option Menu where you select the plots in the list that you want."}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "reply_to_user": {"reputation": 4501, "user_id": 5252492, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QYvFc.png?s=128&g=1", "display_name": "azazelspeaks", "link": "https://stackoverflow.com/users/5252492/azazelspeaks"}, "edited": false, "score": 1, "creation_date": 1537463052, "post_id": 52416676, "comment_id": 91803521, "body": "Ah, you could do a similar thing with <a href=\"https://bokeh.pydata.org/en/latest/docs/user_guide/interaction/widgets.html#multiselect\" rel=\"nofollow noreferrer\"><code>MultiSelect</code></a>"}, {"owner": {"reputation": 4501, "user_id": 5252492, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QYvFc.png?s=128&g=1", "display_name": "azazelspeaks", "link": "https://stackoverflow.com/users/5252492/azazelspeaks"}, "edited": false, "score": 0, "creation_date": 1537470494, "post_id": 52416676, "comment_id": 91807032, "body": "You wouldn&#39;t happen to know of a tutorial with CustomJS and multiselect would you?"}, {"owner": {"reputation": 4501, "user_id": 5252492, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QYvFc.png?s=128&g=1", "display_name": "azazelspeaks", "link": "https://stackoverflow.com/users/5252492/azazelspeaks"}, "edited": false, "score": 0, "creation_date": 1537478470, "post_id": 52416676, "comment_id": 91810662, "body": "I can disable specific checkboxes using the active part of the checkboxes, Is there some way to call this callback at the start when loading the image so that only say image 1 and 3 show up at the start?"}, {"owner": {"reputation": 4501, "user_id": 5252492, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QYvFc.png?s=128&g=1", "display_name": "azazelspeaks", "link": "https://stackoverflow.com/users/5252492/azazelspeaks"}, "edited": false, "score": 0, "creation_date": 1537478600, "post_id": 52416676, "comment_id": 91810718, "body": "played around with it and figured out how to do ^. I&#39;ll update the answer."}], "tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": true, "score": 2, "last_activity_date": 1537478105, "last_edit_date": 1537478105, "creation_date": 1537410196, "answer_id": 52416676, "question_id": 52415577, "link": "https://stackoverflow.com/questions/52415577/bokeh-widget-to-show-hide-figures/52416676#52416676", "title": "Bokeh: Widget to Show/Hide Figures", "body": "<p>Plots don't have a <code>visible</code> toggle, at least as of version 0.13. So you will have to reset the <code>children</code> value of the layout widget. I'm not quite sure what interaction you intend with a dropdown. Here is a complete example with a checkbox:</p>\n\n<pre><code>from bokeh.io import output_file, show\nfrom bokeh.layouts import column, row\nfrom bokeh.plotting import figure\nfrom bokeh.models import CheckboxGroup, CustomJS\n\noutput_file(\"layout.html\")\n\nx = list(range(11))\ny0 = x\ny1 = [10 - i for i in x]\ny2 = [abs(i - 5) for i in x]\n\ns1 = figure(plot_width=250, plot_height=250, title=None)\ns1.circle(x, y0, size=10, color=\"navy\", alpha=0.5)\n\ns2 = figure(plot_width=250, plot_height=250, title=None)\ns2.triangle(x, y1, size=10, color=\"firebrick\", alpha=0.5)\n\ns3 = figure(plot_width=250, plot_height=250, title=None)\ns3.square(x, y2, size=10, color=\"olive\", alpha=0.5)\n\ncol = column(s1, s2, s3)\n\ncheckbox = CheckboxGroup(labels=[\"Plot 1\", \"Plot 2\", \"Plot 3\"],\n                         active=[0, 1, 2], width=100)\n\ncallback = CustomJS(args=dict(plots=[s1,s2, s3], col=col, checkbox=checkbox), code=\"\"\"\nconst children = []\nfor (const i of checkbox.active) {\n     children.push(plots[i])\n} \ncol.children = children\n\"\"\")\ncheckbox.js_on_change('active', callback)\n\nshow(row(checkbox, col))\n</code></pre>\n\n<p>You could do something similar with a <code>MultiSelect</code>:</p>\n\n<pre><code>select = MultiSelect(options=[(\"0\", \"Plot 1\"), (\"1\", \"Plot 2\"), (\"2\", \"Plot 3\")],\n                       value=[\"0\", \"1\", \"2\"], width=100)\n\ncallback = CustomJS(args=dict(plots=[s1,s2, s3], col=col, select=select), code=\"\"\"\nconst children = []\nfor (const i of select.value) {\n    children.push(plots[i])\n}\ncol.children = children\n\"\"\")\nselect.js_on_change('value', callback)\n</code></pre>\n\n<p>Small FYI that that code is a little sloppy\u2014it's relying on JS implicitly casting strings like \"0\" to numbers. </p>\n"}, {"tags": [], "owner": {"reputation": 2848, "user_id": 3508719, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f3e8c1f239c529bd9a1f3df867c1388a?s=128&d=identicon&r=PG&f=1", "display_name": "Voy", "link": "https://stackoverflow.com/users/3508719/voy"}, "is_accepted": false, "score": 0, "last_activity_date": 1585304035, "creation_date": 1585304035, "answer_id": 60883925, "question_id": 52415577, "link": "https://stackoverflow.com/questions/52415577/bokeh-widget-to-show-hide-figures/60883925#60883925", "title": "Bokeh: Widget to Show/Hide Figures", "body": "<pre class=\"lang-py prettyprint-override\"><code>s1.tags, s2.tags, s3.tags = ['Foo'], ['Bar'], ['Arr'] # name your plots\nplots = [s1, s2, s3]\nlabels = [(plots[i].tags[0]) for i in range(len(plots))]\nactive = list(range(0, len(plots)))\n\nchkbx = CheckboxButtonGroup(labels=labels, active=active)\n\ncallback = CustomJS(args=dict(plots=plots, chkbx=chkbx), code=\"\"\"\n    for (let i = 0; i &lt; plots.length; i++){\n        plots[i].visible = chkbx.active.includes(i)\n    }\n    \"\"\")\n\nchkbx.js_on_click(callback)\n\nshow(column([chkbx] + plots))\n</code></pre>\n\n<p>Thanks to @bigreddot and their <a href=\"https://stackoverflow.com/a/52416676/3508719\">answer</a> for laying foundation for this solution.</p>\n"}], "owner": {"reputation": 4501, "user_id": 5252492, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QYvFc.png?s=128&g=1", "display_name": "azazelspeaks", "link": "https://stackoverflow.com/users/5252492/azazelspeaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2825, "favorite_count": 2, "accepted_answer_id": 52416676, "answer_count": 2, "score": 2, "last_activity_date": 1585304035, "creation_date": 1537400458, "last_edit_date": 1537419210, "question_id": 52415577, "link": "https://stackoverflow.com/questions/52415577/bokeh-widget-to-show-hide-figures", "title": "Bokeh: Widget to Show/Hide Figures", "body": "<p>Looking to do something along the lines of a UI as here: <a href=\"https://stackoverflow.com/questions/44374307/bokeh-using-checkbox-widget-to-hide-and-show-plots\">Bokeh: Using Checkbox widget to hide and show plots</a> wherein I can selectively show/hide the whole figure in a column of figures. A drop down menu (OptionMenu with multiple selections) where I could select which plots showed up (assuming I could name the figures) would be preferable.</p>\n\n<p>I am not familiar with JS, any guidance? (Thanks in advance)</p>\n\n<p>I'd hope that the image wouldn't be visible anymore and the next figure would jump up like so:</p>\n\n<p>eg: <a href=\"https://i.stack.imgur.com/Ep9IB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ep9IB.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have multiple figures in a column generated as:</p>\n\n<pre><code>from bokeh.io import output_file, show\nfrom bokeh.layouts import column\nfrom bokeh.plotting import figure\n\noutput_file(\"layout.html\")\n\nx = list(range(11))\ny0 = x\ny1 = [10 - i for i in x]\ny2 = [abs(i - 5) for i in x]\n\n# create a new plot\ns1 = figure(plot_width=250, plot_height=250, title=None)\ns1.circle(x, y0, size=10, color=\"navy\", alpha=0.5)\n\n# create another one\ns2 = figure(plot_width=250, plot_height=250, title=None)\ns2.triangle(x, y1, size=10, color=\"firebrick\", alpha=0.5)\n\n# create and another\ns3 = figure(plot_width=250, plot_height=250, title=None)\ns3.square(x, y2, size=10, color=\"olive\", alpha=0.5)\n\n# put the results in a column and show\nshow(column(s1, s2, s3))\n</code></pre>\n"}, {"tags": ["python", "vim", "vim-plugin"], "comments": [{"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 0, "creation_date": 1537423028, "post_id": 52415540, "comment_id": 91780102, "body": "Where is that text printed?"}, {"owner": {"reputation": 3192, "user_id": 1195276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497dec1748b2912be9b7272c4a6ea496?s=128&d=identicon&r=PG", "display_name": "FelicianoTech", "link": "https://stackoverflow.com/users/1195276/felicianotech"}, "reply_to_user": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 0, "creation_date": 1537466635, "post_id": 52415540, "comment_id": 91805258, "body": "The very bottom of the terminal., Where you would otherwise type commands or see what mode you&#39;re in."}], "answers": [{"comments": [{"owner": {"reputation": 3192, "user_id": 1195276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497dec1748b2912be9b7272c4a6ea496?s=128&d=identicon&r=PG", "display_name": "FelicianoTech", "link": "https://stackoverflow.com/users/1195276/felicianotech"}, "edited": false, "score": 0, "creation_date": 1537916562, "post_id": 52419776, "comment_id": 91955844, "body": "This is a lot that I don&#39;t understand. :) Which is great, gives me a good starting point. I&#39;ll circle back to let you know if this is what I do."}], "tags": [], "owner": {"reputation": 153428, "user_id": 813602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e1844cebf36374d83a83c0e69003cd42?s=128&d=identicon&r=PG", "display_name": "Ingo Karkat", "link": "https://stackoverflow.com/users/813602/ingo-karkat"}, "is_accepted": false, "score": 1, "last_activity_date": 1537428369, "creation_date": 1537428369, "answer_id": 52419776, "question_id": 52415540, "link": "https://stackoverflow.com/questions/52415540/how-to-color-a-word-in-vim-plugin-output/52419776#52419776", "title": "How to color a word in Vim Plugin Output", "body": "<h3>Failed attempts</h3>\n\n<p>My experiments confirm that <em>ANSI escape codes</em> do not work from within the embedded Python interpreter. This isn't surprising, as Vim captures the output and uses its own routines for output. As you cannot use ANSI codes with <code>:echo</code>, it's consistent that this doesn't work with <code>:py print</code>, neither. Also, in GVIM, there's no terminal attached, and the embedded terminal emulator is rather dumb.</p>\n\n<pre><code>:py print(\"The ^[[01maction^[[0m has failed.\")\n</code></pre>\n\n<p>What does work (except for GVIM) is invoking an external command, because its output is directly sent to the terminal. This doesn't help you, though (unless you're willing to switch to invoking an external Python interpreter).</p>\n\n<pre><code>:!echo \"The ^[[41maction^[[0m has failed.\"\n</code></pre>\n\n<p>The way to influence output coloring is via Vim's <em>highlight groups</em>, namely the <code>:echohl</code> command. Unfortunately, this <strong>cannot</strong> be combined with <code>:py print</code>:</p>\n\n<pre><code>:py vim.command('echohl ErrorMsg'); print(\"foobar\")\n</code></pre>\n\n<h3>Solution</h3>\n\n<p>You have to switch to Vim's <code>:echo[msg]</code> to make the chosen highlight group apply to the output; now, everything cleanly goes through the same API. You can either concatenate and execute a single command sequence:</p>\n\n<pre><code>:py vim.command('echohl ErrorMsg | echo \"foobar\" | echohl None')\n</code></pre>\n\n<p>Or submit multiple <code>vim.command()</code> separately:</p>\n\n<pre><code>:execute \"py vim.command('echohl ErrorMsg')\" | py vim.command('echo \"foobar\"')\n</code></pre>\n"}], "owner": {"reputation": 3192, "user_id": 1195276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497dec1748b2912be9b7272c4a6ea496?s=128&d=identicon&r=PG", "display_name": "FelicianoTech", "link": "https://stackoverflow.com/users/1195276/felicianotech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537428369, "creation_date": 1537400238, "question_id": 52415540, "link": "https://stackoverflow.com/questions/52415540/how-to-color-a-word-in-vim-plugin-output", "title": "How to color a word in Vim Plugin Output", "body": "<p>I'm writing a Vim plugin. The main logic is written in Python (Python 3.6) with the required Vim Script wrapper code.</p>\n\n<p>The plugin outputs text to user using Python print functions. For example:</p>\n\n<pre><code>print( \"The action \" + action + \" has failed.\" )\n</code></pre>\n\n<p>How would I go about getting the word \"failed\" to show up in red?</p>\n\n<p>Everything I've tried searching for so far comes back with syntax highlighting in Vim and ANSI color escape code rendering in Vim. Both color text in the main Vim buffer for whatever file you're looking it.</p>\n\n<p>I want to color a word from the Python output from my plugin. Any thoughts?</p>\n"}, {"tags": ["python", "django", "heroku", "python-social-auth", "django-socialauth"], "comments": [{"owner": {"reputation": 3441, "user_id": 385822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5280f15cedf540b544eecc30fcf3027c?s=128&d=identicon&r=PG", "display_name": "omab", "link": "https://stackoverflow.com/users/385822/omab"}, "edited": false, "score": 0, "creation_date": 1537402044, "post_id": 52415499, "comment_id": 91774924, "body": "Is <code>social-auth-app-django</code> part of your requirements or setup.py? BTW the <code>social_auth.middleware</code> line is not correct, it should be <code>social_django.middleware</code>."}, {"owner": {"reputation": 1, "user_id": 2462385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPpLV.jpg?s=128&g=1", "display_name": "jose", "link": "https://stackoverflow.com/users/2462385/jose"}, "reply_to_user": {"reputation": 3441, "user_id": 385822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5280f15cedf540b544eecc30fcf3027c?s=128&d=identicon&r=PG", "display_name": "omab", "link": "https://stackoverflow.com/users/385822/omab"}, "edited": false, "score": 0, "creation_date": 1537403144, "post_id": 52415499, "comment_id": 91775147, "body": "@omab I have <code>social_django</code> in my  setup.py"}, {"owner": {"reputation": 3441, "user_id": 385822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5280f15cedf540b544eecc30fcf3027c?s=128&d=identicon&r=PG", "display_name": "omab", "link": "https://stackoverflow.com/users/385822/omab"}, "edited": false, "score": 0, "creation_date": 1537403455, "post_id": 52415499, "comment_id": 91775221, "body": "<code>social_django</code> is the module name, not the package name, it needs to be <code>social-auth-app-django</code>."}, {"owner": {"reputation": 1, "user_id": 2462385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPpLV.jpg?s=128&g=1", "display_name": "jose", "link": "https://stackoverflow.com/users/2462385/jose"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1537403587, "post_id": 52415499, "comment_id": 91775253, "body": "@Selcuk I do not have a requirements.txt but I have a setup.py, pipfile and pipfile.lock."}, {"owner": {"reputation": 1, "user_id": 2462385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPpLV.jpg?s=128&g=1", "display_name": "jose", "link": "https://stackoverflow.com/users/2462385/jose"}, "reply_to_user": {"reputation": 3441, "user_id": 385822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5280f15cedf540b544eecc30fcf3027c?s=128&d=identicon&r=PG", "display_name": "omab", "link": "https://stackoverflow.com/users/385822/omab"}, "edited": false, "score": 0, "creation_date": 1537404554, "post_id": 52415499, "comment_id": 91775446, "body": "@omab I changed it to social-auth-app-django under installed apps. It now gives the following error in the log <code>ModuleNotFoundError: No module named &#39;social-auth-app-django&#39;</code>"}, {"owner": {"reputation": 3441, "user_id": 385822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5280f15cedf540b544eecc30fcf3027c?s=128&d=identicon&r=PG", "display_name": "omab", "link": "https://stackoverflow.com/users/385822/omab"}, "edited": false, "score": 0, "creation_date": 1537404681, "post_id": 52415499, "comment_id": 91775466, "body": "<code>social_django</code> is the module name, that one is OK in <code>INSTALLED_APPS</code>. In your <code>setup.py</code> you must use the package name, <code>social-auth-app-django</code>."}, {"owner": {"reputation": 1, "user_id": 2462385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPpLV.jpg?s=128&g=1", "display_name": "jose", "link": "https://stackoverflow.com/users/2462385/jose"}, "reply_to_user": {"reputation": 3441, "user_id": 385822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5280f15cedf540b544eecc30fcf3027c?s=128&d=identicon&r=PG", "display_name": "omab", "link": "https://stackoverflow.com/users/385822/omab"}, "edited": false, "score": 0, "creation_date": 1537405269, "post_id": 52415499, "comment_id": 91775583, "body": "@omab I apologize but I read your comment originally as saying <code>settings.py</code> not as <code>setup.py</code>. I do not have a <code>setup.py</code> in my project."}, {"owner": {"reputation": 3441, "user_id": 385822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5280f15cedf540b544eecc30fcf3027c?s=128&d=identicon&r=PG", "display_name": "omab", "link": "https://stackoverflow.com/users/385822/omab"}, "edited": false, "score": 0, "creation_date": 1537405340, "post_id": 52415499, "comment_id": 91775603, "body": "@jose, where do you define your requirements? Is <code>social-auth-app-django</code> in that place?"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1537405424, "post_id": 52415499, "comment_id": 91775621, "body": "Why is there no <code>social-auth-app-django</code> in your <code>pipfile</code>?"}, {"owner": {"reputation": 1, "user_id": 2462385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPpLV.jpg?s=128&g=1", "display_name": "jose", "link": "https://stackoverflow.com/users/2462385/jose"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1537406913, "post_id": 52415499, "comment_id": 91775921, "body": "@Selcuk I just added it and it fixed my issue"}], "owner": {"reputation": 1, "user_id": 2462385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPpLV.jpg?s=128&g=1", "display_name": "jose", "link": "https://stackoverflow.com/users/2462385/jose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "closed_date": 1537408790, "answer_count": 0, "score": 0, "last_activity_date": 1537811818, "creation_date": 1537399936, "last_edit_date": 1537811818, "question_id": 52415499, "link": "https://stackoverflow.com/questions/52415499/how-to-solve-modulenotfounderror-no-module-named-social-django-when-deployi", "closed_reason": "Duplicate", "title": "How to solve &quot;ModuleNotFoundError: No module named &#39;social_django&#39;&quot; when deploying to Heroku?", "body": "<p>I have Django App that works on LocalHost but when I try to deploy Heroku, I get this error of ModuleNotFoundError: No module named 'social_django'. \nI have this for my settings.py, I have installed social-auth-app-django through pip3. I have run manage.py migrate as well with no issues.</p>\n\n<pre><code>INSTALLED_APPS = [\n'django.contrib.admin',  \n'django.contrib.auth',  \n'django.contrib.contenttypes',  \n'django.contrib.sessions',  \n'django.contrib.messages',  \n'django.contrib.staticfiles',  \n'whitenoise.runserver_nostatic',  \n'crispy_forms',  \n'social_django',  \n]  \nMIDDLEWARE = [\n'django.middleware.security.SecurityMiddleware',\n'django.contrib.sessions.middleware.SessionMiddleware',\n'whitenoise.middleware.WhiteNoiseMiddleware',\n'django.middleware.common.CommonMiddleware',\n'django.middleware.csrf.CsrfViewMiddleware',\n'django.contrib.auth.middleware.AuthenticationMiddleware',\n'django.contrib.messages.middleware.MessageMiddleware',\n'django.middleware.clickjacking.XFrameOptionsMiddleware',\n'social_auth.middleware.SocialAuthExceptionMiddleware',  \n]\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n                'social_django.context_processors.backends',\n                'social_django.context_processors.login_redirect',\n            ],\n        },\n    },\n]  \nAUTHENTICATION_BACKENDS = [\n    'social_core.backends.twitter.TwitterOAuth',\n    'social_core.backends.facebook.FacebookOAuth2',\n    'django.contrib.auth.backends.ModelBackend',\n]\nSTATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles') # new!\nSTATIC_URL = '/static/'\nSTATICFILES_DIRS = [os.path.join(BASE_DIR, 'static')]\nSTATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'  \n</code></pre>\n\n<p>pip freeze returns the following relevant material  </p>\n\n<pre><code>social-auth-app-django==2.1.0\nsocial-auth-core==1.7.0\n</code></pre>\n\n<p><code>heroku logs</code> returns  </p>\n\n<pre><code> app[web.1]: [2018-09-19 22:58:32 +0000] [10] [ERROR] Exception in worker process\n app[web.1]: Traceback (most recent call last):\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/arbiter.py\", line 583, in spawn_worker\n app[web.1]: self.load_wsgi()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/base.py\", line 129, in init_process\n app[web.1]: worker.init_process()\n app[web.1]: self.wsgi = self.app.wsgi()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/base.py\", line 138, in load_wsgi\n app[web.1]: self.callable = self.load()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/app/base.py\", line 67, in wsgi\n app[web.1]: return self.load_wsgiapp()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/app/wsgiapp.py\", line 52, in load\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/app/wsgiapp.py\", line 41, in load_wsgiapp\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/util.py\", line 350, in import_app\n app[web.1]: return util.import_app(self.app_uri)\n app[web.1]: __import__(module)\n app[web.1]: File \"/app/smash_feed_project/wsgi.py\", line 16, in &lt;module&gt;\n app[web.1]: application = get_wsgi_application()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-\n\npackages/django/core/wsgi.py\", line 12, in get_wsgi_application\nTraceback (most recent call last):\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/arbiter.py\", line 583, in spawn_worker\n app[web.1]: worker.init_process()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/base.py\", line 129, in init_process\n app[web.1]: self.load_wsgi()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/base.py\", line 138, in load_wsgi\n app[web.1]: self.wsgi = self.app.wsgi()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/app/base.py\", line 67, in wsgi\n app[web.1]: self.callable = self.load()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/app/wsgiapp.py\", line 52, in load\n app[web.1]: return self.load_wsgiapp()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/app/wsgiapp.py\", line 41, in load_wsgiapp\n app[web.1]: return util.import_app(self.app_uri)\n app[web.1]: __import__(module)\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/gunicorn/util.py\", line 350, in import_app\n\n app[web.1]: application = get_wsgi_application()\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/django/core/wsgi.py\", line 12, in get_wsgi_application\n app[web.1]: django.setup(set_prefix=False)\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/django/__init__.py\", line 24, in setup\n app[web.1]: apps.populate(settings.INSTALLED_APPS)\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/django/apps/registry.py\", line 89, in populate\n app[web.1]: app_config = AppConfig.create(entry)\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/site-packages/django/apps/config.py\", line 90, in create\n app[web.1]: module = import_module(entry)\n app[web.1]: File \"/app/.heroku/python/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n app[web.1]: return _bootstrap._gcd_import(name[level:], package, level)\n app[web.1]: ModuleNotFoundError: No module named 'social_django'\n app[web.1]: [2018-09-19 22:58:32 +0000] [11] [INFO] Worker exiting (pid: 11)\n app[web.1]: [2018-09-19 22:58:32 +0000] [4] [INFO] Shutting down: Master\n app[web.1]: [2018-09-19 22:58:32 +0000] [4] [INFO] Reason: Worker failed to boot.\n heroku[web.1]: Process exited with status 3\n heroku[web.1]: State changed from up to crashed\n app[api]: Build succeeded\n</code></pre>\n\n<p>I apologize for the length of the heroku logs. I have tried several different things I found on stackoverflow to no avail. I even tried undoing my commits and redoing my steps for deploying to Heroku. I still get the same error.</p>\n\n<p>EDIT: Added my pip file below</p>\n\n<pre><code>[[source]]\nurl = \"https://pypi.org/simple\"\nverify_ssl = true\nname = \"pypi\"\n\n[packages]\ndjango = \"*\"\ndjango-crispy-forms = \"*\"\ngunicorn = \"*\"\nwhitenoise = \"*\"\n\n\n[dev-packages]\npylint = \"*\"\n\n[requires]\npython_version = \"3.6\"\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 10388340, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LzA0k-bXvP0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNg8Vrhyc19G3Ic8EZUrHt_AVycoQ/mo/photo.jpg?sz=128", "display_name": "fra988", "link": "https://stackoverflow.com/users/10388340/fra988"}, "edited": false, "score": 1, "creation_date": 1537451795, "post_id": 52415622, "comment_id": 91796871, "body": "Thanks so much you wonderful man, that did the trick!  Really appreciate the further reading suggestion too, it&#39;s at the top of my to do list."}], "tags": [], "owner": {"reputation": 3401, "user_id": 408951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f82eda1711eeafd65c59205a5454458e?s=128&d=identicon&r=PG", "display_name": "Thiago Curvelo", "link": "https://stackoverflow.com/users/408951/thiago-curvelo"}, "is_accepted": true, "score": 0, "last_activity_date": 1537401318, "last_edit_date": 1537401318, "creation_date": 1537400785, "answer_id": 52415622, "question_id": 52415498, "link": "https://stackoverflow.com/questions/52415498/python-webscraper-missing-output-data/52415622#52415622", "title": "Python webscraper &amp; missing output data", "body": "<p>Maybe you mixed up <code>find()</code> and <code>findAll()</code>.</p>\n\n<p><code>find()</code> stops when finding the first element which matches the criteria, while <code>findAll()</code> brings all of them. </p>\n\n<p>By using <code>role_container[0]</code> you're getting the first character from that element text.</p>\n\n<p>You can try just:</p>\n\n<pre><code>reviewerrole = container.find(\"span\", attrs={\"class\":\"cmp-reviewer-job-title\"}).text\nreviewtext = container.find(\"span\", attrs={\"class\":\"cmp-review-text\"}).text\n</code></pre>\n\n<p>Besides that, consider using the <code>csv</code> module for reading/writing CSV files. More info:<a href=\"https://docs.python.org/3/library/csv.html#csv.writer\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/csv.html#csv.writer</a></p>\n"}], "owner": {"reputation": 26, "user_id": 10388340, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LzA0k-bXvP0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNg8Vrhyc19G3Ic8EZUrHt_AVycoQ/mo/photo.jpg?sz=128", "display_name": "fra988", "link": "https://stackoverflow.com/users/10388340/fra988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 52415622, "answer_count": 1, "score": 0, "last_activity_date": 1537401318, "creation_date": 1537399928, "question_id": 52415498, "link": "https://stackoverflow.com/questions/52415498/python-webscraper-missing-output-data", "title": "Python webscraper &amp; missing output data", "body": "<p>I'm trying to scrape reviews from a website and store them to a csv using Python (3.7) &amp; BeautifulSoup.  It seems the scrape is successful, but when I write to the file, only one column contains full data, and the rest just the first character.</p>\n\n<p>Any hints would be greatly appreciated, and sorry if it's glaringly obvious - it's a fresh hobby :)</p>\n\n<pre><code>from urllib.request import urlopen as uReq\nfrom bs4 import BeautifulSoup as soup\n\n#URL to scrape\nmy_url = \"https://www.indeed.com/cmp/Capital-One/reviews?fcountry=ALL&amp;lang=\"\n\n#open connection, grab page\nuClient = uReq(my_url)\npage_html = uClient\n\n#html parsing\npage_soup = soup(page_html, \"lxml\")\n\n#grab all reviews on page\ncontainers = page_soup.findAll(\"div\",{\"cmp-review-container\"})\nuClient.close()\n#write to csv\nfilename = \"indeedreviewtest.csv\"\nf=open(filename, \"w\")\n\nheaders = \"review_id, review_score, role, review_text\\n\"\n\nf.write(headers)\n\n#loop through each review, collect review ID, rating, role &amp; verbatum\nfor container in containers:\n    reviewid_container = container.div[\"data-tn-entityid\"]\n    reviewid = reviewid_container[0]\n    score_container = container.div.div.div.meta[\"content\"]\n    reviewscore = score_container[0]\n    role_container = container.find(\"span\", attrs={\"class\":\"cmp-reviewer- job-title\"}).text\n    reviewerrole = role_container[0]\n    reviewtext_container = container.find(\"span\", attrs={\"class\":\"cmp-review-text\"}).text\n    reviewtext = reviewtext_container\n\n    f.write(reviewid + \",\" + reviewscore + \",\" + reviewerrole.replace(\",\", \"|\") + \",\" + reviewtext.replace(\",\", \"|\") + \"\\n\")\n\nf.close()\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "string", "int", "extract"], "comments": [{"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 1, "creation_date": 1537400092, "post_id": 52415497, "comment_id": 91774566, "body": "Well, you&#39;re just reading from a query string in that case... parse it out and read the <code>page</code> parameter..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "edited": false, "score": 0, "creation_date": 1537400163, "post_id": 52415497, "comment_id": 91774579, "body": "<a href=\"https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse\" rel=\"nofollow noreferrer\">urlparse</a> documentation for parsing url"}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1537400261, "creation_date": 1537400261, "answer_id": 52415546, "question_id": 52415497, "link": "https://stackoverflow.com/questions/52415497/extract-number-from-string-in-python-without-re/52415546#52415546", "title": "Extract number from string in python without re", "body": "<p>It's a bit verbose, but I would use url parsing for this.  The advantage overy regex is that you would get some input validation for free, and more readable code.</p>\n\n<pre><code>&gt;&gt;&gt; from urllib.parse import urlparse, parse_qs\n&gt;&gt;&gt; url = 'https://www.investopedia.com/articles/retirement/?page=6'\n&gt;&gt;&gt; parsed = urlparse(url)\n&gt;&gt;&gt; query = parse_qs(parsed.query)\n&gt;&gt;&gt; [page] = query['page']\n&gt;&gt;&gt; int(page)\n6\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": false, "score": 1, "last_activity_date": 1537400363, "creation_date": 1537400363, "answer_id": 52415563, "question_id": 52415497, "link": "https://stackoverflow.com/questions/52415497/extract-number-from-string-in-python-without-re/52415563#52415563", "title": "Extract number from string in python without re", "body": "<p>If the <code>url</code> always has that format with only digits at the end you could do this: </p>\n\n<pre><code>s = 'https://www.investopedia.com/articles/retirement/?page=25'\nnew = []\nk = list(s)\n[new.append(i) for i in k if i.isdigit()]\nprint(''.join(new))\n</code></pre>\n\n<blockquote>\n<pre><code>(xenial)vash@localhost:~/python/stack_overflow$ python3.7 isdigit.py\n25\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": false, "score": 2, "last_activity_date": 1537400733, "creation_date": 1537400733, "answer_id": 52415613, "question_id": 52415497, "link": "https://stackoverflow.com/questions/52415497/extract-number-from-string-in-python-without-re/52415613#52415613", "title": "Extract number from string in python without re", "body": "<p>You can extract continuous groups of digits, anywhere on the string, using the following:</p>\n\n<pre><code>from itertools import groupby\n\nurl = 'https://www.investopedia.com/articles/retirement/?page=6&amp;limit=10&amp;offset=15'\nprint([int(''.join(group)) for key, group in groupby(iterable=url, key=lambda e: e.isdigit()) if key])\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[6, 10, 15]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 1, "creation_date": 1537402233, "post_id": 52415615, "comment_id": 91774964, "body": "what happens if that 6 is 12?"}, {"owner": {"reputation": 509, "user_id": 6656645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef0d5e31beea1b5975d5dcebc2feac7?s=128&d=identicon&r=PG&f=1", "display_name": "yvesva", "link": "https://stackoverflow.com/users/6656645/yvesva"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537402814, "post_id": 52415615, "comment_id": 91775088, "body": "digits would produce <code>[6,12]</code>. You could join the answer by using <code>number = &#39;&#39;.join(map(int, digits))</code>"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537402880, "post_id": 52415615, "comment_id": 91775104, "body": "I know, I&#39;m saying why not address that in your answer?"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537402946, "post_id": 52415615, "comment_id": 91775117, "body": "you could just <code>&#39;&#39;.join(digits)</code> since you already know whats in there"}, {"owner": {"reputation": 509, "user_id": 6656645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef0d5e31beea1b5975d5dcebc2feac7?s=128&d=identicon&r=PG&f=1", "display_name": "yvesva", "link": "https://stackoverflow.com/users/6656645/yvesva"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537403207, "post_id": 52415615, "comment_id": 91775158, "body": "running <code>&#39;&#39;.join(digits)</code> on a list containing integers throws an error."}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537403319, "post_id": 52415615, "comment_id": 91775188, "body": "yeah i didnt notice you brought them in as <code>int</code>"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537403461, "post_id": 52415615, "comment_id": 91775224, "body": "I like it now, looks like something I would do :)"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537403481, "post_id": 52415615, "comment_id": 91775228, "body": "i like it better than my own solution actually"}, {"owner": {"reputation": 509, "user_id": 6656645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef0d5e31beea1b5975d5dcebc2feac7?s=128&d=identicon&r=PG&f=1", "display_name": "yvesva", "link": "https://stackoverflow.com/users/6656645/yvesva"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537403759, "post_id": 52415615, "comment_id": 91775287, "body": "Please accept the answer if it has solved your query"}, {"owner": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 1, "creation_date": 1537406189, "post_id": 52415615, "comment_id": 91775782, "body": "@vash_the_stampede I\u2019m gonna have to agree with you. This is a pretty good bit of code."}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "edited": false, "score": 0, "creation_date": 1537406297, "post_id": 52415615, "comment_id": 91775802, "body": "@Kamikaze_goldfish yeah he skipped the appending processes, and got same result, very nice"}, {"owner": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537406351, "post_id": 52415615, "comment_id": 91775815, "body": "@vash_the_stampede you must live in here"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "edited": false, "score": 0, "creation_date": 1537406381, "post_id": 52415615, "comment_id": 91775825, "body": "@Kamikaze_goldfish ... ;)"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1537406454, "post_id": 52415615, "comment_id": 91775836, "body": "this assumes the entire url and querystring doesn&#39;t have any other digits in it.  that&#39;s a pretty gratuitous assumption."}, {"owner": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1537406668, "post_id": 52415615, "comment_id": 91775882, "body": "@wim it usually doesn\u2019t. If it does then I\u2019ll come back and try your code out. I\u2019m just out from my computer so I can\u2019t check it."}], "tags": [], "owner": {"reputation": 509, "user_id": 6656645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aef0d5e31beea1b5975d5dcebc2feac7?s=128&d=identicon&r=PG&f=1", "display_name": "yvesva", "link": "https://stackoverflow.com/users/6656645/yvesva"}, "is_accepted": true, "score": 1, "last_activity_date": 1537407616, "last_edit_date": 1537407616, "creation_date": 1537400754, "answer_id": 52415615, "question_id": 52415497, "link": "https://stackoverflow.com/questions/52415497/extract-number-from-string-in-python-without-re/52415615#52415615", "title": "Extract number from string in python without re", "body": "<p>This assumes that there isn't multiple blocks of integers (e.g. <code>www.something212.com/page=?13</code>)</p>\n\n<p>You could try using list comprehensions and <code>str.isdigit()</code></p>\n\n<pre><code>url = 'https://www.investopedia.com/articles/retirement/?page=6'\n\ndigits = [d for d in url if d.isdigit()]\n\ndigit = ''.join(digits)\n\ndigit\n&gt;&gt;&gt; 6\n</code></pre>\n\n<p>Edited: now works with digits above 9</p>\n"}, {"comments": [{"owner": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "edited": false, "score": 0, "creation_date": 1537419123, "post_id": 52417665, "comment_id": 91778680, "body": "I\u2019m gonna have to check that out! Thanks for the link. I really have wanted to learn regex for a while because of its power. \ud83d\udcaa"}], "tags": [], "owner": {"reputation": 2488, "user_id": 2745140, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/OGCDP.jpg?s=128&g=1", "display_name": "yoonghm", "link": "https://stackoverflow.com/users/2745140/yoonghm"}, "is_accepted": false, "score": 0, "last_activity_date": 1537418130, "creation_date": 1537418130, "answer_id": 52417665, "question_id": 52415497, "link": "https://stackoverflow.com/questions/52415497/extract-number-from-string-in-python-without-re/52417665#52417665", "title": "Extract number from string in python without re", "body": "<p>I know you do not need <code>re</code>, but it is actually very powerful.  Under the hood, most libraries make use of <code>re</code>. Here is my solution to handle this situation:</p>\n\n<pre><code>import re\n\nurl = \"www.fake888.com/article/?article=123&amp;page=9&amp;group=8\"\n\nnumbers = re.findall(r'(?&lt;==)(\\d+)', url)\nprint(f'Found: {\" \".join(numbers)}')\n\nvarval = re.findall(r'(\\w+)=(\\d+)', url)\nurldict = {}\nfor var in varval:\n  urldict[var[0]] = var[1]\n\nprint(urldict)\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>Found: 123 9 8\n{'article': '123', 'page': '9', 'group': '8'}\n</code></pre>\n"}], "owner": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "accepted_answer_id": 52415615, "answer_count": 5, "score": 1, "last_activity_date": 1537418130, "creation_date": 1537399924, "question_id": 52415497, "link": "https://stackoverflow.com/questions/52415497/extract-number-from-string-in-python-without-re", "title": "Extract number from string in python without re", "body": "<p>How can I extract a number from a string in python without having to use regex? I have seen <code>isinstance</code> but the number could change to almost anything. Any ideas?</p>\n\n<p><code>https://www.investopedia.com/articles/retirement/?page=6</code> </p>\n"}, {"tags": ["python", "python-3.x", "ternary", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "edited": false, "score": 1, "creation_date": 1537399619, "post_id": 52415446, "comment_id": 91774488, "body": "You cannot use assignment or increment operators in a dictionary comprehension"}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1537400418, "post_id": 52415556, "comment_id": 91774620, "body": "This is extremely inefficient (a property common to most attempts to use dict comprehensions to perform aggregation). Every <code>count</code> call requires a complete pass over <code>arr</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10030086"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1537400527, "post_id": 52415556, "comment_id": 91774636, "body": "I see, while it is inefficient it is doing what the op asked."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10030086"}, "is_accepted": false, "score": 2, "last_activity_date": 1537400328, "creation_date": 1537400328, "answer_id": 52415556, "question_id": 52415446, "link": "https://stackoverflow.com/questions/52415446/incrementing-dict-values-with-dict-comprehension/52415556#52415556", "title": "Incrementing dict values with dict comprehension", "body": "<p>Here, it was actually way simpler than I thought. Basically what you want is the amount of times something occurs in the list, which you can do by saying <code>ar.count(num)</code>. You can easily do this without ternary operators like so: </p>\n\n<pre><code>ar = [1,2,3,2]\nseen_dict = { num:ar.count(num) for num in ar}\nprint(seen_dict)# {1:1, 2:2, 3:1}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10030086"}, "edited": false, "score": 1, "creation_date": 1537400358, "post_id": 52415559, "comment_id": 91774603, "body": "Wow we got the same answer at the same time."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1537400405, "post_id": 52415559, "comment_id": 91774617, "body": "This is extremely inefficient (a property common to most attempts to use dict comprehensions to perform aggregation). Every <code>count</code> call requires a complete pass over <code>arr</code>."}, {"owner": {"reputation": 707, "user_id": 8673320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaTouByYlA/AAAAAAAAAAI/AAAAAAAAFz0/M4v8pi51Xbs/photo.jpg?sz=128", "display_name": "Aviv Shai", "link": "https://stackoverflow.com/users/8673320/aviv-shai"}, "edited": false, "score": 0, "creation_date": 1537400588, "post_id": 52415559, "comment_id": 91774648, "body": "Hmm, you&#39;re right. Is there another way to do it without so many passes over the original <code>arr</code>?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1537400655, "post_id": 52415559, "comment_id": 91774664, "body": "It turns out that using dict comprehensions for this is just a horrible trap. It seems like it should be a good idea at first, but a dict comprehension will never be as efficient as a normal loop for this."}, {"owner": {"reputation": 71, "user_id": 9070477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BVjRI.jpg?s=128&g=1", "display_name": "Josh Wood", "link": "https://stackoverflow.com/users/9070477/josh-wood"}, "edited": false, "score": 0, "creation_date": 1537401049, "post_id": 52415559, "comment_id": 91774759, "body": "Thank you for all the useful feedback! Both the .count method answer and the explanation of why that would be inefficient!"}], "tags": [], "owner": {"reputation": 707, "user_id": 8673320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaTouByYlA/AAAAAAAAAAI/AAAAAAAAFz0/M4v8pi51Xbs/photo.jpg?sz=128", "display_name": "Aviv Shai", "link": "https://stackoverflow.com/users/8673320/aviv-shai"}, "is_accepted": false, "score": -1, "last_activity_date": 1537400337, "creation_date": 1537400337, "answer_id": 52415559, "question_id": 52415446, "link": "https://stackoverflow.com/questions/52415446/incrementing-dict-values-with-dict-comprehension/52415559#52415559", "title": "Incrementing dict values with dict comprehension", "body": "<p>It seems like you're trying to get the appearances of all values in a list. (If it's not, please let me know.) Here's how I would approach that:</p>\n\n<pre><code>seen_dict = {num: arr.count(num) for num in list(set(arr))}\n</code></pre>\n\n<p>An explanation:</p>\n\n<ul>\n<li><code>arr.count(num)</code>: the <code>list.count(element)</code> method returns the number of appearances of <code>element</code> in <code>list</code></li>\n<li><code>set(arr)</code>: creates a <code>set</code> object, which when converted back to a list removes all duplicates, or in other words, gets all distinct values of a list</li>\n<li><code>list(set(arr))</code>: the distinct values in <code>arr</code></li>\n</ul>\n\n<p>The dictionary return would have key-value pairs of <code>number</code>-<code># of appearances of number in arr</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 9070477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BVjRI.jpg?s=128&g=1", "display_name": "Josh Wood", "link": "https://stackoverflow.com/users/9070477/josh-wood"}, "edited": false, "score": 0, "creation_date": 1537401777, "post_id": 52415653, "comment_id": 91774877, "body": "Calling it a horrible trap is hilarious.   Thank you for this answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10030086"}, "edited": false, "score": 0, "creation_date": 1537402403, "post_id": 52415653, "comment_id": 91774998, "body": "I&#39;m interested in why the set finished faster than the normal list, as <code>ar</code> has only distinct values."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1537402499, "post_id": 52415653, "comment_id": 91775018, "body": "@teclnol: Probably just unrelated timing variations. The <code>set</code> call is only a tiny fraction of the runtime for that input; almost all of the runtime is spent on <code>count</code> calls."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1537403215, "post_id": 52415653, "comment_id": 91775160, "body": "After some more testing, it looks too consistent to be random variation. It looks more like the one that goes first having to do more work somewhere."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1537403081, "last_edit_date": 1537403081, "creation_date": 1537401157, "answer_id": 52415653, "question_id": 52415446, "link": "https://stackoverflow.com/questions/52415446/incrementing-dict-values-with-dict-comprehension/52415653#52415653", "title": "Incrementing dict values with dict comprehension", "body": "<p>Don't. It <em>seems</em> like using dict comprehensions for this should be a good idea, but it's actually a horrible trap. Use <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>collections.Counter</code></a>:</p>\n\n<pre><code>import counts\n\nseen_dict = collections.Counter(ar)\n</code></pre>\n\n<p>or if you don't want to do that, then stick with the loop.</p>\n\n<p>The problem with trying to use a dict comprehension is that a dict comprehension has no good way to maintain state or interleave the computation of the values of each key. Each value must be computed in a single expression. In contrast, the best way to solve your counting problem is to make a single pass over <code>ar</code> and update each element's count as you go.</p>\n\n<p>The restrictions of a comprehension lead to horribly inefficient attempts like</p>\n\n<pre><code>seen_dict = {val: ar.count(val) for val in ar}\n</code></pre>\n\n<p>which makes a number of passes over <code>ar</code> equal to the length of <code>ar</code>, or the slightly more efficient but still horribly suboptimal</p>\n\n<pre><code>seen_dict = {val: ar.count(val) for val in set(ar)}\n</code></pre>\n\n<p>which only needs to make <code>len(set(ar))</code> passes, or for people <a href=\"https://docs.python.org/3/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\">a bit more familiar with the standard library</a>,</p>\n\n<pre><code>from itertools import groupby\nseen_dict = {val: sum(1 for _ in group) for val, group in groupby(sorted(ar))}\n</code></pre>\n\n<p>which at least isn't quadratic time, but is still O(nlogn) for a length-n <code>ar</code>.</p>\n\n<p>If we <a href=\"https://ideone.com/kjHBYJ\" rel=\"nofollow noreferrer\">run a timing</a> of these four snippets with input <code>list(range(10000))</code>:</p>\n\n<pre><code>from collections import Counter\nfrom itertools import groupby\nfrom timeit import timeit\n\nar = list(range(10000))\n\nprint(timeit('Counter(ar)', number=1, globals=globals()))\nprint(timeit('{val: ar.count(val) for val in ar}', number=1, globals=globals()))\nprint(timeit('{val: ar.count(val) for val in set(ar)}', number=1, globals=globals()))\nprint(timeit('{val: sum(1 for _ in group) for val, group in groupby(sorted(ar))}',\n             number=1, globals=globals()))\n</code></pre>\n\n<p>We get the following output:</p>\n\n<pre><code>0.0005530156195163727\n1.0503493696451187\n1.0463058911263943\n0.00422721728682518\n</code></pre>\n\n<p><code>Counter</code> finishes in half a millisecond, while the <code>count</code> snippets both take over a second. (The <code>set</code> version seems to have a lower runtime due to some sort of first-run effect slowing down the other version; swapping the order of the <code>set</code> and non-<code>set</code> version usually reverses the relative timing of those versions. The deduplication of <code>set</code> doesn't help in this test, since the input has no duplicates.)</p>\n\n<p>For a longer input, relying on <code>count</code> would be even more prohibitively expensive. Relying on <code>count</code> could easily take days for an input that <code>Counter</code> would still finish in under a second.</p>\n"}], "owner": {"reputation": 71, "user_id": 9070477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BVjRI.jpg?s=128&g=1", "display_name": "Josh Wood", "link": "https://stackoverflow.com/users/9070477/josh-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1370, "favorite_count": 0, "accepted_answer_id": 52415653, "answer_count": 3, "score": 0, "last_activity_date": 1537403081, "creation_date": 1537399512, "last_edit_date": 1537400827, "question_id": 52415446, "link": "https://stackoverflow.com/questions/52415446/incrementing-dict-values-with-dict-comprehension", "title": "Incrementing dict values with dict comprehension", "body": "<p>I'm trying to do the following expression with dict comprehension and a ternary operation in python:</p>\n\n<pre><code>for num in ar:\n     if num in seen_dict:\n         seen_dict[num] += 1\n     else:\n         seen_dict[num] = 1\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>seen_dict = { num: seen_dict[num] += 1 for num in ar if num in seen_dict else seen_dict[num] = 1}\n</code></pre>\n\n<p>and several permutations thereof, but I keep getting syntax errors. Is it possible to do what I want?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This is the correct syntax, but not my dict only comes back with 1's:\n<code>seen_dict = { num: (seen_dict[num] + 1) if num in seen_dict else 1 for num in ar }</code></p>\n\n<p>Can someone explain why this doesn't function the same way as the for loop? Thank you.</p>\n"}, {"tags": ["python", "django", "wagtail"], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 6907366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c70b871e457837f2d554b92bd290d2c9?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic M.", "link": "https://stackoverflow.com/users/6907366/dominic-m"}, "edited": false, "score": 0, "creation_date": 1537402381, "post_id": 52415736, "comment_id": 91774995, "body": "Oh awesome, I was forgetting the img tag in the styling element. Thank you again!"}, {"owner": {"reputation": 613, "user_id": 6907366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c70b871e457837f2d554b92bd290d2c9?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic M.", "link": "https://stackoverflow.com/users/6907366/dominic-m"}, "edited": false, "score": 0, "creation_date": 1537403131, "post_id": 52415736, "comment_id": 91775146, "body": "Is there a way to make a button and be able to change the href in wagtail admin? can&#39;t find any documentation."}], "tags": [], "owner": {"reputation": 18043, "user_id": 1853523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28a2b9c38cb684fb7983d4d3c55db90?s=128&d=identicon&r=PG&f=1", "display_name": "gasman", "link": "https://stackoverflow.com/users/1853523/gasman"}, "is_accepted": false, "score": 3, "last_activity_date": 1537401987, "creation_date": 1537401987, "answer_id": 52415736, "question_id": 52415442, "link": "https://stackoverflow.com/questions/52415442/django-wagtail-responsive-images/52415736#52415736", "title": "Django Wagtail responsive images", "body": "<p>This is outside of Wagtail's responsibility - responsive images are implemented in CSS, which is a detail Wagtail intentionally stays out of, to give you full flexibility to build and style your front-end pages however you like.</p>\n\n<p>The <code>{% image %}</code> template tag will give you an <code>&lt;img&gt;</code> element at a fixed resolution of your choice; as long as that resolution is greater than the maximum size you intend to display it at (which should certainly be the case if you use <code>{% image item.image original %}</code>, although you could also consider something like <code>{% image item.image width-1000 %}</code> so that you're not wasting bandwidth serving up an oversized image, if the original was uploaded at an extremely high resolution), you can apply CSS styles as per <a href=\"https://www.w3schools.com/howto/howto_css_image_responsive.asp\" rel=\"nofollow noreferrer\">a guide like this one</a> to provide responsive behaviour.</p>\n\n<p>With your HTML structure given above, this might look like:</p>\n\n<pre><code>.img-responsive img {\n    width: 100%;\n    max-width: 1000px;\n    height: auto;\n}\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 6907366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c70b871e457837f2d554b92bd290d2c9?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic M.", "link": "https://stackoverflow.com/users/6907366/dominic-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1491, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537401987, "creation_date": 1537399480, "question_id": 52415442, "link": "https://stackoverflow.com/questions/52415442/django-wagtail-responsive-images", "title": "Django Wagtail responsive images", "body": "<p>Is it possible to create responive images that resize with the page in Wagtail?</p>\n\n<p>Currently I have this:</p>\n\n<pre><code>{% for item in page.gallery_images.all %}\n     &lt;div class=\"pull-left img-responsive my-5\"&gt;\n         {% image item.image original %}\n         &lt;p&gt;{{ item.caption }}&lt;/p&gt;\n     &lt;/div&gt;\n{% endfor %}\n</code></pre>\n\n<p>but it does not become smaller in width and height when decrease the width of the page.</p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe", "styles"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10355900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448fe0318f33f8cd41814cb0282e6364?s=128&d=identicon&r=PG&f=1", "display_name": "premganesh", "link": "https://stackoverflow.com/users/10355900/premganesh"}, "edited": false, "score": 0, "creation_date": 1537418060, "post_id": 52415706, "comment_id": 91778373, "body": "Thanks for response!! Your code changes the font in C2 column also for 0 &gt; 1. I want only C1 to be updated. Also, your code fails when we have other columns like C3,C4 along with C1 and C2 in the same data frame."}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "reply_to_user": {"reputation": 35, "user_id": 10355900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448fe0318f33f8cd41814cb0282e6364?s=128&d=identicon&r=PG&f=1", "display_name": "premganesh", "link": "https://stackoverflow.com/users/10355900/premganesh"}, "edited": false, "score": 0, "creation_date": 1537437121, "post_id": 52415706, "comment_id": 91787549, "body": "@premganesh Well, you did not mention there may be other columns in the data frame. I modified my answer to consider this case. Also I fixed the issue of change in the second column."}], "tags": [], "owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "is_accepted": true, "score": 0, "last_activity_date": 1537437231, "last_edit_date": 1537437231, "creation_date": 1537401654, "answer_id": 52415706, "question_id": 52415392, "link": "https://stackoverflow.com/questions/52415392/python-pandas-style-function-to-highlight-specific-columns-under-specific-condit/52415706#52415706", "title": "Python Pandas style function to highlight specific columns under specific condition", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.formats.style.Styler.apply.html\" rel=\"nofollow noreferrer\"><code>apply()</code></a> method with <code>axis=1</code> argument to apply your style row-wise:</p>\n\n<pre><code>df = pd.DataFrame({'C1': [0,6,7], 'C2':[1,4,5]})\n\ndef color_red(s):\n    color = 'color: red' if s.iloc[0] &gt; s.iloc[1] else 'color: black'\n    colors = [color] + [''] * (s.size - 1)\n    return colors\n\ns = df.style.apply(color_red, axis=1)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10355900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448fe0318f33f8cd41814cb0282e6364?s=128&d=identicon&r=PG&f=1", "display_name": "premganesh", "link": "https://stackoverflow.com/users/10355900/premganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 1, "accepted_answer_id": 52415706, "answer_count": 1, "score": 0, "last_activity_date": 1537437231, "creation_date": 1537399078, "last_edit_date": 1537399167, "question_id": 52415392, "link": "https://stackoverflow.com/questions/52415392/python-pandas-style-function-to-highlight-specific-columns-under-specific-condit", "title": "Python Pandas style function to highlight specific columns under specific condition", "body": "<p>I am trying to write a function which compares two Data Frame column and highlight one column alone when the condition match.</p>\n\n<p>For example as below: I have two column in a Data Frame (\"C1\",\"C2\"). I want to iterate and compare each values in both the columns. If C1 > C2, highlight that value in C1. From below, (6 and 7) in C1 will be highlighted.</p>\n\n<p>I got the below code from different place but it will be helpful if i can get a better solution.</p>\n\n<pre><code>df = pd.DataFrame({'C1': [0,6,7], 'C2':[1,4,5]})\ni = 0\ndef color_red(val):\n    global i\n    if not i &gt; len(df['C1'])-1:\n        color = 'red' if df['C1'][i] &gt; df['C2'][i] else 'black'\n        i+=1\n    else:\n        i = 0\n        color = 'red' if df['C1'][i] &gt; df['C2'][i] else 'black'\n        i+=1\n    return 'color: %s' % color\ns = df.style.applymap(color_red,subset=['C1'])\ns\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "flask", "apscheduler"], "comments": [{"owner": {"reputation": 356, "user_id": 1305959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2W6en.jpg?s=128&g=1", "display_name": "Derek Chia", "link": "https://stackoverflow.com/users/1305959/derek-chia"}, "edited": false, "score": 0, "creation_date": 1537426400, "post_id": 52415384, "comment_id": 91781579, "body": "What kind of updates are you looking for? I assume you&#39;d want to read the content? Or just detect if the file has changed? Please elaborate."}, {"owner": {"reputation": 636, "user_id": 2525541, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/87QQf.png?s=128&g=1", "display_name": "Suicide Bunny", "link": "https://stackoverflow.com/users/2525541/suicide-bunny"}, "reply_to_user": {"reputation": 356, "user_id": 1305959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2W6en.jpg?s=128&g=1", "display_name": "Derek Chia", "link": "https://stackoverflow.com/users/1305959/derek-chia"}, "edited": false, "score": 0, "creation_date": 1537461426, "post_id": 52415384, "comment_id": 91802762, "body": "read the content, and then update the app global variable to the new content if there is a change"}, {"owner": {"reputation": 356, "user_id": 1305959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2W6en.jpg?s=128&g=1", "display_name": "Derek Chia", "link": "https://stackoverflow.com/users/1305959/derek-chia"}, "edited": false, "score": 0, "creation_date": 1537511465, "post_id": 52415384, "comment_id": 91818525, "body": "Best to check hash of the text file to detect changes as oppose to read the content just to find out."}, {"owner": {"reputation": 636, "user_id": 2525541, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/87QQf.png?s=128&g=1", "display_name": "Suicide Bunny", "link": "https://stackoverflow.com/users/2525541/suicide-bunny"}, "reply_to_user": {"reputation": 356, "user_id": 1305959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2W6en.jpg?s=128&g=1", "display_name": "Derek Chia", "link": "https://stackoverflow.com/users/1305959/derek-chia"}, "edited": false, "score": 0, "creation_date": 1537550637, "post_id": 52415384, "comment_id": 91839877, "body": "It would be nice if it could be kept in hash. Unfortunately the text file is updated from time to time by some upstream source."}], "answers": [{"tags": [], "owner": {"reputation": 4019, "user_id": 242021, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c0962616cb99f5c874a17440934191e9?s=128&d=identicon&r=PG", "display_name": "Alex Gr&#246;nholm", "link": "https://stackoverflow.com/users/242021/alex-gr%c3%b6nholm"}, "is_accepted": false, "score": 1, "last_activity_date": 1537425954, "creation_date": 1537425954, "answer_id": 52419167, "question_id": 52415384, "link": "https://stackoverflow.com/questions/52415384/how-to-run-periodic-task-in-high-frequency-in-flask/52419167#52419167", "title": "how to run periodic task in high frequency in flask?", "body": "<p>Couldn't you just start a loop in a thread that sleeps for 200 ms before the next iteration?</p>\n"}, {"tags": [], "owner": {"reputation": 1831, "user_id": 4160532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ey34JagqMzQ/AAAAAAAAAAI/AAAAAAAAABo/G70W8D2LXM4/photo.jpg?sz=128", "display_name": "Kedarnag Mukanahallipatna", "link": "https://stackoverflow.com/users/4160532/kedarnag-mukanahallipatna"}, "is_accepted": false, "score": 2, "last_activity_date": 1537426275, "creation_date": 1537426275, "answer_id": 52419243, "question_id": 52415384, "link": "https://stackoverflow.com/questions/52415384/how-to-run-periodic-task-in-high-frequency-in-flask/52419243#52419243", "title": "how to run periodic task in high frequency in flask?", "body": "<p>Whatever you put inside the function will be dealt for every 200ms.</p>\n\n<pre><code>import datetime, threading\n\ndef foo():\n    print datetime.datetime.now()\n    threading.Timer(0.2, foo).start()\n\nfoo()\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 2525541, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/87QQf.png?s=128&g=1", "display_name": "Suicide Bunny", "link": "https://stackoverflow.com/users/2525541/suicide-bunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537426275, "creation_date": 1537398995, "question_id": 52415384, "link": "https://stackoverflow.com/questions/52415384/how-to-run-periodic-task-in-high-frequency-in-flask", "title": "how to run periodic task in high frequency in flask?", "body": "<p>I want my flask APP to pull updates from a local txt file every 200ms, is it possible to do that?</p>\n\n<p>P.S. I've considered BackgroundScheduler() from apschedulerler, but the granularity of is 1s.</p>\n"}, {"tags": ["python", "string", "split", "python-import", "readlines"], "answers": [{"tags": [], "owner": {"reputation": 1130, "user_id": 5672459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153733019839707/picture?type=large", "display_name": "Danilo Souza Mor&#227;es", "link": "https://stackoverflow.com/users/5672459/danilo-souza-mor%c3%a3es"}, "is_accepted": false, "score": 1, "last_activity_date": 1537408615, "last_edit_date": 1537408615, "creation_date": 1537399328, "answer_id": 52415422, "question_id": 52415373, "link": "https://stackoverflow.com/questions/52415373/how-to-import-a-list-of-lists-of-integers-from-text-file-and-treat-them-mathem/52415422#52415422", "title": "How to import a list of lists (of integers) from text file and treat them mathematically?", "body": "<p>You can use the built in function <a href=\"https://docs.python.org/3/library/functions.html#eval\" rel=\"nofollow noreferrer\">eval()</a> to interpret python lists from files:</p>\n\n<pre><code>with open('file.txt') as fp:\n    for line in fp:\n        pylist = eval(line)\n        print(pylist)\n</code></pre>\n\n<p>If you are not 100% sure about the nature of this file or if it would contain data that another user manually generated, as pointed out by @G_M, you should use <a href=\"https://docs.python.org/3/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\">ast.literal_eval</a> that will only evaluate a python literal:</p>\n\n<pre><code>import ast\n\nwith open('file.txt') as fp:\n    for line in fp:\n        pylist = ast.literal_eval(line)\n        print(pylist)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7506219, "user_type": "registered", "profile_image": "https://graph.facebook.com/1544215125593410/picture?type=large", "display_name": "Vipul Tomar", "link": "https://stackoverflow.com/users/7506219/vipul-tomar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537408615, "creation_date": 1537398905, "question_id": 52415373, "link": "https://stackoverflow.com/questions/52415373/how-to-import-a-list-of-lists-of-integers-from-text-file-and-treat-them-mathem", "title": "How to import a list of lists (of integers) from text file and treat them mathematically?", "body": "<p>I have data in text.txt file</p>\n\n<pre><code>[[1, 2, 3], [4, 5, 6], [7, 8, 9]]\n[[10, 11, 12], [13, 14, 15], [16, 17, 18]]\n</code></pre>\n\n<p>and so on\nI want to read each line of the text file and treat them as integers e.g. plot these points in 3d space. When I import the file by</p>\n\n<pre><code>with open('text.txt') as f:\n    content = f.readlines()\n    for x in content:\n        print(x)\n</code></pre>\n\n<p>it takes it as:</p>\n\n<pre><code>'[','[','1' etc...\n</code></pre>\n\n<p>So I am confused what to use as separator for split() function. Will appreciate some suggestions.\nThanks in advance.</p>\n"}, {"tags": ["python", "regex", "pandas", "data-science", "data-cleaning"], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 7228335, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QsW2pjzag7o/AAAAAAAAAAI/AAAAAAAAvlU/Ag8VomKlMOk/photo.jpg?sz=128", "display_name": "Ishan Khatri", "link": "https://stackoverflow.com/users/7228335/ishan-khatri"}, "edited": false, "score": 0, "creation_date": 1537399296, "post_id": 52415385, "comment_id": 91774433, "body": "What if I want to group it by time?"}], "tags": [], "owner": {"reputation": 40, "user_id": 10079166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0QwW.jpg?s=128&g=1", "display_name": "AFewMistakesAgo", "link": "https://stackoverflow.com/users/10079166/afewmistakesago"}, "is_accepted": true, "score": 0, "last_activity_date": 1537399005, "creation_date": 1537399005, "answer_id": 52415385, "question_id": 52415351, "link": "https://stackoverflow.com/questions/52415351/search-or-group-time-series-data-by-time-in-pandas/52415385#52415385", "title": "Search or group time series data by time in pandas", "body": "<p>This doesn't appear to be a regex question as you are specifically setting the regex flag to 'False' in your code.</p>\n\n<p>However, you should be able to do a simple search for the value you want (based on the data sample you gave us) just by including a \" \" in front of your search value.</p>\n\n<pre><code>df = dataset[dataset.date.str.contains(\" 2:00:00\",regex=False)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1537399081, "creation_date": 1537399081, "answer_id": 52415393, "question_id": 52415351, "link": "https://stackoverflow.com/questions/52415351/search-or-group-time-series-data-by-time-in-pandas/52415393#52415393", "title": "Search or group time series data by time in pandas", "body": "<p>Once your <code>date</code> column contains pandas Timestamps, you can use the <a href=\"https://pandas.pydata.org/pandas-docs/stable/basics.html#dt-accessor\" rel=\"nofollow noreferrer\"><code>dt</code> accessor method</a> to get years, months, days, hours, etc.</p>\n\n<pre><code>df = df.assign(timestamp=pd.to_datetime(df['date'])\ndf[df['timestamp'].dt.hour == 2\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 7228335, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QsW2pjzag7o/AAAAAAAAAAI/AAAAAAAAvlU/Ag8VomKlMOk/photo.jpg?sz=128", "display_name": "Ishan Khatri", "link": "https://stackoverflow.com/users/7228335/ishan-khatri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 52415385, "answer_count": 2, "score": 0, "last_activity_date": 1537399255, "creation_date": 1537398734, "last_edit_date": 1537399255, "question_id": 52415351, "link": "https://stackoverflow.com/questions/52415351/search-or-group-time-series-data-by-time-in-pandas", "title": "Search or group time series data by time in pandas", "body": "<p>I have a dataset like this</p>\n\n<pre><code>dataset = pd.read_csv('1053.csv')\nprint dataset.head(25)\n\n                  date  power\n0    2009-7-14 0:30:00  0.039\n1    2009-7-14 1:00:00  0.147\n2    2009-7-14 1:30:00  0.134\n3    2009-7-14 2:00:00  0.131\n4    2009-7-14 2:30:00  0.076\n5    2009-7-14 3:00:00  0.039\n6    2009-7-14 3:30:00  0.039\n7    2009-7-14 4:00:00  0.052\n8    2009-7-14 4:30:00  0.148\n9    2009-7-14 5:00:00  0.136\n10   2009-7-14 5:30:00  0.132\n11   2009-7-14 6:00:00  0.060\n12   2009-7-14 6:30:00  0.034\n13   2009-7-14 7:00:00  0.034\n14   2009-7-14 7:30:00  0.033\n15   2009-7-14 8:00:00  0.326\n16   2009-7-14 8:30:00  0.140\n17   2009-7-14 9:00:00  0.133\n18   2009-7-14 9:30:00  0.107\n19  2009-7-14 10:00:00  0.161\n20  2009-7-14 10:30:00  0.042\n21  2009-7-14 11:00:00  1.259\n22  2009-7-14 11:30:00  1.227\n23  2009-7-14 12:00:00  0.167\n24  2009-7-14 12:30:00  0.518\n</code></pre>\n\n<p>How to extract rows containing exact time? for example.\nI tried to do like this</p>\n\n<pre><code>df = dataset[dataset.date.str.contains(\"2:00:00\",regex=False)]\ndf1 = df.reset_index()\ndel df1['index']\nprint df1.head(7)\n</code></pre>\n\n<p>But it is giving me this results.  </p>\n\n<pre><code>                  date  power\n0    2009-7-14 2:00:00  0.131\n1   2009-7-14 12:00:00  0.167\n2   2009-7-14 22:00:00  0.208\n3    2009-7-15 2:00:00  0.085\n4   2009-7-15 12:00:00  0.097\n5   2009-7-15 22:00:00  0.203\n6    2009-7-16 2:00:00  0.038\n</code></pre>\n\n<p>I want results to be like this</p>\n\n<pre><code>                  date  power\n0    2009-7-14 2:00:00  0.131\n1    2009-7-15 2:00:00  0.085\n2    2009-7-16 2:00:00  0.038\n3    2009-7-17 2:00:00  0.141\n4   2009-7-18 2:00:00  0.039\n5   2009-7-19 2:00:00  0.039\n6   2009-7-20 2:00:00  0.079\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 9305523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a315afaba42a12115595e1055e971970?s=128&d=identicon&r=PG&f=1", "display_name": "HowdyDude", "link": "https://stackoverflow.com/users/9305523/howdydude"}, "edited": false, "score": 0, "creation_date": 1537403303, "post_id": 52415335, "comment_id": 91775181, "body": "That did exactly as I requested.  Now if I were to convert the months to date.times would I get the functionality of a datetime.index with its resampling/sorting capabilities if the whole index wasn&#39;t datetime (i.e. I still have the dealer and product columns)?"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 453, "user_id": 9305523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a315afaba42a12115595e1055e971970?s=128&d=identicon&r=PG&f=1", "display_name": "HowdyDude", "link": "https://stackoverflow.com/users/9305523/howdydude"}, "edited": false, "score": 0, "creation_date": 1537403762, "post_id": 52415335, "comment_id": 91775290, "body": "I&#39;m not completely sure how you mean, but you can look into <code>pd.to_datetime</code>, which can convert to datetime, so you can use datetime functions (including resampling and sorting)"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 1, "last_activity_date": 1537398622, "creation_date": 1537398622, "answer_id": 52415335, "question_id": 52415271, "link": "https://stackoverflow.com/questions/52415271/multi-index-melt-pivot/52415335#52415335", "title": "Multi-Index Melt _ Pivot", "body": "<p>You can try:</p>\n\n<pre><code>df.set_index('dealer').stack(1).reset_index().rename(columns={'level_1':'product'})\n\n  dealer  product  Feb  Jan\n0  (SF,)    cars    3    1\n1  (SF,)  trucks    7    2\n2  (LA,)    cars    6    3\n3  (LA,)  trucks    2    4\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 9305523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a315afaba42a12115595e1055e971970?s=128&d=identicon&r=PG&f=1", "display_name": "HowdyDude", "link": "https://stackoverflow.com/users/9305523/howdydude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 52415335, "answer_count": 1, "score": 0, "last_activity_date": 1537398622, "creation_date": 1537398175, "question_id": 52415271, "link": "https://stackoverflow.com/questions/52415271/multi-index-melt-pivot", "title": "Multi-Index Melt _ Pivot", "body": "<p>I am having trouble finding a way to reshape a multi-index (columns) df two ways:\n (a) where both levels of multi-index are melted except for one column  AND</p>\n\n<p>(b) where the level 1 columns are melted per each level 0 column</p>\n\n<p>I may have found (a) albeit in maybe not the most programmatic way and can get close but no cigar on (b)</p>\n\n<p>For example, given DataFrame:</p>\n\n<pre><code>df = pd.DataFrame({'dealer': {0: 'SF', 1: 'LA'},\n                   'col2': {0: 1, 1: 3},\n                   'col3': {0: 2, 1: 4},\n                   'col4': {0: 3, 1: 6},\n                   'col5': {0: 7, 1: 2},\n                  })\ndf.columns = [['Jan','Jan','Feb','Feb','dealer'], ['cars','trucks','cars','trucks','dealer']]\n\nOut[209]: \n   Jan         Feb        dealer\n  cars trucks cars trucks dealer\n0    1      2    3      7     SF\n1    3      4    6      2     LA\n</code></pre>\n\n<p>I can get to (a) by:</p>\n\n<pre><code>melted = df.melt(id_vars = 'dealer',col_level=0, var_name='month')\nmelted['product']=df.melt(id_vars = 'dealer',col_level=1)['variable']\nmelted.sort_values('dealer', inplace=True)\n\nmelted\nOut[211]: \n  dealer month  value product\n1     LA   Jan      3    cars\n3     LA   Jan      4  trucks\n5     LA   Feb      6    cars\n7     LA   Feb      2  trucks\n0     SF   Jan      1    cars\n2     SF   Jan      2  trucks\n4     SF   Feb      3    cars\n6     SF   Feb      7  trucks\n</code></pre>\n\n<p>but can't seem to pivot right to get ['dealer','product','Jan','Feb'] as column labels with values in Jan and Feb cols</p>\n\n<pre><code>pivotedd =  pd.DataFrame({'dealer': {0: 'LA', 1: 'LA',2: 'SF', 3: 'SF'},\n                   'product': {0: 'cars', 1: 'trucks',2: 'cars', 3: 'trucks'},\n                   'Jan': {0: 3, 1: 4,2:1,3:2},\n                   'Feb': {0: 6, 1: 2,2:3,3:7},\n                  })\n\nOut[215]: \n   Feb  Jan dealer product\n0    6    3     LA    cars\n1    2    4     LA  trucks\n2    3    1     SF    cars\n3    7    2     SF  trucks\n</code></pre>\n\n<p>Obviously I would want the dealer and product as first columns and dates in chronological order (haven't read up on why pd.dataframe changes the order you put in the data), but that is essentially what I am after.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "amazon-rds", "aws-cli", "amazon-rds-aurora"], "answers": [{"tags": [], "owner": {"reputation": 2715, "user_id": 1723857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a484360304f8cd53cdffc60746038d98?s=128&d=identicon&r=PG", "display_name": "kenlukas", "link": "https://stackoverflow.com/users/1723857/kenlukas"}, "is_accepted": false, "score": 0, "last_activity_date": 1537454191, "creation_date": 1537454191, "answer_id": 52427627, "question_id": 52415197, "link": "https://stackoverflow.com/questions/52415197/create-aurora-db-instance-via-rds-in-python/52427627#52427627", "title": "Create aurora db instance via rds in python", "body": "<p>You pass in the cluster name using the <code>DBClusterIdentifier</code>.</p>\n\n<p>Here's a quick and dirty showing it's usage:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport boto3\n\nrds = boto3.client('rds')\n\ncpg = rds.create_db_cluster_parameter_group(\n    DBClusterParameterGroupName='blahpg',\n    DBParameterGroupFamily='aurora5.6',\n    Description='testing',\n    Tags=[\n        {\n            'Key': 'Name',\n            'Value': 'Testing'\n        },\n    ]\n)\n\ndb_cluster = rds.create_db_cluster(\n    AvailabilityZones=[\n        'us-east-1a',\n    ],\n    BackupRetentionPeriod=1,\n    DBClusterIdentifier='mydbcluster',\n    DBClusterParameterGroupName='blahpg',\n    DatabaseName='blah',\n    Engine='aurora',\n    EngineVersion='5.6.10a',\n    MasterUserPassword='mypassword',\n    MasterUsername='myuser',\n    Port=3306,\n    StorageEncrypted=True,\n)\n\ninstance = rds.create_db_instance(\n  DBInstanceIdentifier = 'moreblah',\n  DBInstanceClass = 'db.r4.large',\n  Engine='aurora',\n  DBClusterIdentifier='mydbcluster' # this is where you put the cluster name\n)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8950420, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tEHQFWq1wVY/AAAAAAAAAAI/AAAAAAAAAB8/bu8W6VJ2aWk/photo.jpg?sz=128", "display_name": "lomo", "link": "https://stackoverflow.com/users/8950420/lomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537456627, "creation_date": 1537397503, "last_edit_date": 1537456627, "question_id": 52415197, "link": "https://stackoverflow.com/questions/52415197/create-aurora-db-instance-via-rds-in-python", "title": "Create aurora db instance via rds in python", "body": "<p>I'm very confused as to how to create a new aurora db instance using the boto3 api. From what I understand, in order to make a new aurora db instance, i first need to create a cluster, then once i make a cluster I can make an instance. However, how does the instance know the cluster is already created? All in all I'm very lost, so any further clarification would be appreciated.</p>\n"}, {"tags": ["python", "matplotlib", "jupyter-notebook"], "comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1537398048, "post_id": 52415187, "comment_id": 91774186, "body": "Did you try defining the figure size? I tried your code and works fine for me. You can try using <code>fig = plt.figure(figsize=(10, 10))</code> outside for loop"}, {"owner": {"reputation": 1, "user_id": 10388278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b72b997d047cb455c0250a681638c4?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10388278/tim"}, "reply_to_user": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1537398904, "post_id": 52415187, "comment_id": 91774355, "body": "Yes, I did, figsize still leaves a lot of empty spaces. I forgot to mention that the error only occurs after running it twice."}, {"owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "edited": false, "score": 0, "creation_date": 1537401488, "post_id": 52415187, "comment_id": 91774835, "body": "i can&#39;t replicate the problem. Can you add to the question OS, python, jupyter  and matpltlib version?"}, {"owner": {"reputation": 1, "user_id": 10388278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b72b997d047cb455c0250a681638c4?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10388278/tim"}, "edited": false, "score": 0, "creation_date": 1537403956, "post_id": 52415187, "comment_id": 91775330, "body": "thx for investigating the problem, here are my versions: OSX 10.13.6 python 3.7 jupyter==1.0.0 jupyter-client==5.2.3 jupyter-console==5.2.0 jupyter-core==4.4.0 matplotlib==3.0.0"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10388278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b72b997d047cb455c0250a681638c4?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10388278/tim"}, "edited": false, "score": 0, "creation_date": 1537404140, "post_id": 52415713, "comment_id": 91775374, "body": "Thanks for the suggestions! Indeed I&#39;m now looking at ways to use FuncAnimation... I have a rather complicated for loop involving other custom objects and conditional statements that are not so easily incorporated into FuncAnimation but a workaround may be possible after some work."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 0, "last_activity_date": 1537401723, "creation_date": 1537401723, "answer_id": 52415713, "question_id": 52415187, "link": "https://stackoverflow.com/questions/52415187/jupyter-notebook-matplotlib-figureframe-changes-size-unexpectedly/52415713#52415713", "title": "jupyter notebook matplotlib figureframe changes size unexpectedly", "body": "<p>Here comes the advantage of <code>matplotlib.animation</code> into play. It'll make sure the figure is completely drawn before starting the animation. </p>\n\n<pre><code>%matplotlib notebook\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.animation import FuncAnimation\n\n\ndef animate(i):\n    plt.gca().scatter(np.random.rand(10),\n                      np.random.rand(10))\n\nani = FuncAnimation(plt.gcf(), animate, frames=10, interval=500)\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10388278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b72b997d047cb455c0250a681638c4?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10388278/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537401723, "creation_date": 1537397406, "last_edit_date": 1537399110, "question_id": 52415187, "link": "https://stackoverflow.com/questions/52415187/jupyter-notebook-matplotlib-figureframe-changes-size-unexpectedly", "title": "jupyter notebook matplotlib figureframe changes size unexpectedly", "body": "<p>I'm trying to have a jupyter notebook shows a progression of plots in a for loop. The code works, but for some reason the size of the figure changes after the for loop is done. Here's a set of minimal code to illustrate this (in jupyter notebook)</p>\n\n<pre><code>import numpy as np\nimport matplotlib\nimport matplotlib.pyplot as plt\n\n\n%matplotlib notebook\n\nfor i in range(10):\n    plt.gca().scatter(np.random.rand(10),\n                      np.random.rand(10))\n    plt.gcf().canvas.draw()\n    plt.gcf().canvas.flush_events()\n    plt.pause(0.5)\n</code></pre>\n\n<p>A gif illustrating the issue is attached. This problem has been driving me crazy and changing margins or using tight_layouts() do not help. It seems to be related to how FigureFrame object is rendered. <img src=\"https://i.stack.imgur.com/nVEr2.gif\" alt=\"gif\">Thanks for the help!</p>\n"}, {"tags": ["python", "pandas", "csv", "split", "itertools"], "comments": [{"owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "edited": false, "score": 1, "creation_date": 1537397718, "post_id": 52415167, "comment_id": 91774107, "body": "I think your code works. When I ran it I couldn&#39;t reproduce your issue. <code>output.csv</code> only contained the rows printed to stdout. Are you sure you aren&#39;t blasting over <code>output.csv</code> in some other part of your program?"}, {"owner": {"reputation": 11, "user_id": 10388224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239bd7e090ecb785ff05a7cb6f407793?s=128&d=identicon&r=PG&f=1", "display_name": "jcak.mbar", "link": "https://stackoverflow.com/users/10388224/jcak-mbar"}, "reply_to_user": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "edited": false, "score": 0, "creation_date": 1537408034, "post_id": 52415167, "comment_id": 91776150, "body": "@MattMessersmith You&#39;re right! Another part of my program was executing without me even realizing it. In hindsight, I probably should have ripped out my above code and tested it in isolation, but thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 5785, "user_id": 7306999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9dNzL.jpg?s=128&g=1", "display_name": "Xukrao", "link": "https://stackoverflow.com/users/7306999/xukrao"}, "is_accepted": false, "score": 1, "last_activity_date": 1537398388, "last_edit_date": 1537398388, "creation_date": 1537397763, "answer_id": 52415218, "question_id": 52415167, "link": "https://stackoverflow.com/questions/52415167/python-csv-write-only-specific-rows/52415218#52415218", "title": "Python CSV Write Only Specific Rows", "body": "<p>Reading out just the data lines and storing into a pandas dataframe should work with this:</p>\n\n<pre><code>import pandas as pd    \n\ndf = pd.read_csv('sample_file.csv', skiprows=5)\n</code></pre>\n\n<p>which can be followed by writing out to new csv file with:</p>\n\n<pre><code>df.to_csv('output.csv', index=False)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10388224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239bd7e090ecb785ff05a7cb6f407793?s=128&d=identicon&r=PG&f=1", "display_name": "jcak.mbar", "link": "https://stackoverflow.com/users/10388224/jcak-mbar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1537398388, "creation_date": 1537397282, "question_id": 52415167, "link": "https://stackoverflow.com/questions/52415167/python-csv-write-only-specific-rows", "title": "Python CSV Write Only Specific Rows", "body": "<p>I'm attempting to read a CSV file that has several lines of useless data at the start and extract only the lines that contain relevant data. I've tried tens of variations of my code and tried implementing it with libraries like Pandas, but haven't had any success. An example CSV reads as follows, with the first 5 lines containing data I don't need. The only lines I want to write to a new file being the lines after \"SOLUTION\".</p>\n\n<pre><code>MWU Checker - 09/12/2018\nServer v7.4,Admin,Product\nRECOMMEND\nUpdate,Issue Statement,Bypass,Resolution\nSOLUTION\nIP Address,DNS Name,OS,Status\n10.0.0.1,win08a,Windows Server 2008 R2,Up to date\n10.0.0.2,win08b,Windows Server 2008 R2,Up to date\n10.0.0.3,win08c,Windows Server 2008 R2,Out of date\n10.0.0.4,win08d,Windows Server 2008 R2,Up to date\n10.0.0.5,win08e,Windows Server 2008 R2,Up to date\n</code></pre>\n\n<p>Given that \"SOLUTION\" will always be on line 5, I've tried to write to a CSV with the following code:</p>\n\n<pre><code>import csv\nfrom itertools import islice\n\ndef checker():\n    with open('sample_file.csv', 'r') as csv_in, open('output.csv', 'w', newline='') as csv_out:\n    data = csv.reader(islice(csv_in, 5, None), delimiter=',')\n    writer = csv.writer(csv_out)\n    for row in data:\n        print (row)\n        writer.writerow(row)\n</code></pre>\n\n<p>What's so frustrating is that the console will print out the correct data, showing only lines 6 or greater, but the writer never updates the \"output.csv\" file, it simply writes the exact same data as what was in the original \"sample_file.csv\".</p>\n\n<p>I'm sure there's a simple solution to this, but I've tried countless variations of my code and attempted it in Pandas as well, but found that Pandas doesn't work as nicely when you have strangely formatted CSVs such as these.</p>\n"}, {"tags": ["python", "azure", "class", "flask"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 1, "creation_date": 1537397353, "post_id": 52415096, "comment_id": 91774027, "body": "what is the name of this class? If the name of this class is <code>ServicePrincipalCredentials</code>, you can&#39;t do this. You are telling a class to make itself make itself make itself make itself, etc."}, {"owner": {"reputation": 3035, "user_id": 4074838, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8gS08_lyG7s/AAAAAAAAAAI/AAAAAAAAHqA/rU0O1y51fto/photo.jpg?sz=128", "display_name": "Laurent Mazuel", "link": "https://stackoverflow.com/users/4074838/laurent-mazuel"}, "edited": false, "score": 0, "creation_date": 1537397435, "post_id": 52415096, "comment_id": 91774051, "body": "Please confirm with pip freeze what version of &quot;msrestazure&quot; is installed, and edit your post with that version. Also, do you an infinite stacktrace where you can put some sections to give an idea of where is the loop?"}, {"owner": {"reputation": 3035, "user_id": 4074838, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8gS08_lyG7s/AAAAAAAAAAI/AAAAAAAAHqA/rU0O1y51fto/photo.jpg?sz=128", "display_name": "Laurent Mazuel", "link": "https://stackoverflow.com/users/4074838/laurent-mazuel"}, "edited": false, "score": 0, "creation_date": 1537397529, "post_id": 52415096, "comment_id": 91774077, "body": "Indeed JacobIRR, I didn&#39;t think about this possibility :). Spydernaz, if you imported &quot;from azure.common.credentials import ServicePrincipalCredentials&quot; BUT you named your own class the same, that could create this kind of issue too."}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1537397767, "post_id": 52415096, "comment_id": 91774122, "body": "Let&#39;s see the full Traceback"}, {"owner": {"reputation": 429, "user_id": 6781059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0389463119cfdcfbd42199a5f9b6fd54?s=128&d=identicon&r=PG&f=1", "display_name": "Spydernaz", "link": "https://stackoverflow.com/users/6781059/spydernaz"}, "reply_to_user": {"reputation": 3035, "user_id": 4074838, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8gS08_lyG7s/AAAAAAAAAAI/AAAAAAAAHqA/rU0O1y51fto/photo.jpg?sz=128", "display_name": "Laurent Mazuel", "link": "https://stackoverflow.com/users/4074838/laurent-mazuel"}, "edited": false, "score": 0, "creation_date": 1537397911, "post_id": 52415096, "comment_id": 91774159, "body": "@LaurentMazuel: I am not using msrestazure. How should I get the full trace? I am just using comments and exception messages"}], "answers": [{"tags": [], "owner": {"reputation": 429, "user_id": 6781059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0389463119cfdcfbd42199a5f9b6fd54?s=128&d=identicon&r=PG&f=1", "display_name": "Spydernaz", "link": "https://stackoverflow.com/users/6781059/spydernaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1537419088, "creation_date": 1537419088, "answer_id": 52417826, "question_id": 52415096, "link": "https://stackoverflow.com/questions/52415096/maximum-recursion-depth-exceeded-python-azure-serviceprincipalcredentials/52417826#52417826", "title": "Maximum Recursion Depth Exceeded: Python Azure ServicePrincipalCredentials", "body": "<p>Thanks for the help above. The issue was with my gevent packages (not sure exactly what) however adding upgrading gevent and adding the following lines fixed it.</p>\n\n<pre><code>import gevent.monkey\ngevent.monkey.patch_all()\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 6781059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0389463119cfdcfbd42199a5f9b6fd54?s=128&d=identicon&r=PG&f=1", "display_name": "Spydernaz", "link": "https://stackoverflow.com/users/6781059/spydernaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 52417826, "answer_count": 1, "score": 0, "last_activity_date": 1537419088, "creation_date": 1537396766, "last_edit_date": 1537418194, "question_id": 52415096, "link": "https://stackoverflow.com/questions/52415096/maximum-recursion-depth-exceeded-python-azure-serviceprincipalcredentials", "title": "Maximum Recursion Depth Exceeded: Python Azure ServicePrincipalCredentials", "body": "<p>I am calling a new object to manage an Azure Resource and using the Azure python packages. While calling it, i get a maximum depth exceeded error however if I step through the code in a python shell I don't get this issue. Below is the <strong>init</strong> method</p>\n\n<pre><code>class WindowsDeployer(object):\n    def __init__(self, params):\n        try:\n             print(\"executes class init\")\n             self.subscription_id = '{SUBSCRIPTION-ID}'\n             self.vmName = params[\"vmName\"]\n             self.location = params[\"location\"]\n             self.resource_group = \"{}-rg\".format(self.vmName)\n             print(\"sets variables\")\n\n             # Error is in the below snippet, while calling ServicePrincipalCredentials\n            self.credentials = ServicePrincipalCredentials(\n                client_id='{CLIENT-ID}',\n                secret='{SECRET}',\n                tenant='{TENANT-ID}'\n            )\n\n            # Does not reach here...\n            print(\"creates a credential\")\n            self.client = ResourceManagementClient(self.credentials, self.subscription_id)\n</code></pre>\n\n<p>Instead, it exits with the following message:\n<code>maximum recursion depth exceeded</code></p>\n\n<p>I have tried to increase the recursion limit to 10000 and that has not solved the issue.</p>\n\n<p>Pip freeze: <code>azure==4.0.0 azure-common==1.1.4 azure-mgmt==4.0.0</code></p>\n\n<p>Traceback:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py\", line 1985, in wsgi_app\n    response = self.handle_exception(e)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py\", line 1540, in handle_exception\n    reraise(exc_type, exc_value, tb)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py\", line 33, in reraise\n    raise value\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py\", line 1982, in wsgi_app\n    response = self.full_dispatch_request()\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py\", line 1614, in full_dispatch_request\n    rv = self.handle_user_exception(e)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py\", line 1517, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py\", line 33, in reraise\n    raise value\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py\", line 1612, in full_dispatch_request\n    rv = self.dispatch_request()\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py\", line 1598, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\nFile \"/Users/valana/Projects/wolfinterface/Code/wolfinterface/app.py\", line 87, in wrap\n    return f(*args, **kwargs)\nFile \"/Users/valana/Projects/wolfinterface/Code/wolfinterface/app.py\", line 134, in provision\n    return provision_page(request, session)\nFile \"/Users/valana/Projects/wolfinterface/Code/wolfinterface/provision.py\", line 104, in provision_page\n    deployer = WindowsDeployer(json.loads(params))\nFile \"/Users/valana/Projects/wolfinterface/Code/wolfinterface/AzureProvision.py\", line 30, in __init__\n    tenant='{TENNANT-ID}'\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/msrestazure/azure_active_directory.py\", line 453, in __init__\n    self.set_token()\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/msrestazure/azure_active_directory.py\", line 478, in set_token\n    proxies=self.proxies)\nFile \"/Users/valana/Library/Python/3.6/lib/python/site-packages/requests_oauthlib/oauth2_session.py\", line 221, in fetch_token\n    verify=verify, proxies=proxies)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/sessions.py\", line 555, in post\n    return self.request('POST', url, data=data, json=json, **kwargs)\nFile \"/Users/valana/Library/Python/3.6/lib/python/site-packages/requests_oauthlib/oauth2_session.py\", line 360, in request\n    headers=headers, data=data, **kwargs)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/sessions.py\", line 508, in request\n    resp = self.send(prep, **send_kwargs)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/sessions.py\", line 618, in send\n    r = adapter.send(request, **kwargs)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/adapters.py\", line 440, in send\n    timeout=timeout\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 601, in urlopen\n    chunked=chunked)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 346, in _make_request\n    self._validate_conn(conn)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 850, in _validate_conn\n    conn.connect()\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/urllib3/connection.py\", line 314, in connect\n    cert_reqs=resolve_cert_reqs(self.cert_reqs),\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/urllib3/util/ssl_.py\", line 269, in create_urllib3_context\n    context.options |= options\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 465, in options\n    super(SSLContext, SSLContext).options.__set__(self, value)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 465, in options\n    super(SSLContext, SSLContext).options.__set__(self, value)\nFile \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 465, in options\n</code></pre>\n\n<p>The last line keeps going until it hits the recursion limit</p>\n"}, {"tags": ["python", "rabbitmq", "celery"], "answers": [{"tags": [], "owner": {"reputation": 1485, "user_id": 4244387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-2Xg7r8fPyps/AAAAAAAAAAI/AAAAAAAAADg/Z1b-FSMLHPk/photo.jpg?sz=128", "display_name": "shipperizer", "link": "https://stackoverflow.com/users/4244387/shipperizer"}, "is_accepted": false, "score": 0, "last_activity_date": 1537565008, "creation_date": 1537565008, "answer_id": 52451214, "question_id": 52415048, "link": "https://stackoverflow.com/questions/52415048/celery-how-to-stop-running-task-when-using-distributed-rabbitmq-backend/52451214#52451214", "title": "Celery - how to stop running task when using distributed RabbitMQ backend?", "body": "<p>I am not sure if you can actually do it, when you spawn a task you will have a worker, somewhere in you 50 boxes, that executes that and you technically have no control on it as it s a separate process and the only thing you can control is either the asyncResult or the amqp message on the queue.</p>\n"}], "owner": {"reputation": 846, "user_id": 446347, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3a968f8b8b63f8ba90cbd626135a9a3e?s=128&d=identicon&r=PG", "display_name": "LiteWait", "link": "https://stackoverflow.com/users/446347/litewait"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537565008, "creation_date": 1537396486, "question_id": 52415048, "link": "https://stackoverflow.com/questions/52415048/celery-how-to-stop-running-task-when-using-distributed-rabbitmq-backend", "title": "Celery - how to stop running task when using distributed RabbitMQ backend?", "body": "<p>If I am running Celery on (say) a bank of 50 machines all using a distributed RabbitMQ cluster.</p>\n\n<p>If I have a task that is running and I know the task id, how in the world can Celery figure out which machine its running on to terminate it?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1537396826, "post_id": 52415047, "comment_id": 91773882, "body": "&quot;Why Not? Is it something to do with the data type of the list items, which are tuples?&quot; No, not at all. <code>thing = &#39;-&#39;</code> simply assigns the value <code>&#39;-&#39;</code> to the local variable <code>thing</code>, and you shouldn&#39;t expect it to affect the list you are iterating over. There&#39;s definitely a duplicate somewhere, but I suggest your read <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/text/names.html</a>"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537397514, "post_id": 52415047, "comment_id": 91774069, "body": "Can you just post the original before you zipped and your goal and maybe there is a better way"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537397746, "post_id": 52415047, "comment_id": 91774117, "body": "The best way to do this is to use <code>fillvalue</code>. But you can do the conversion by rebuilding the output, eg <code>[[thing or &#39;-&#39; for thing in items] for items in zipped_up]</code>, or <code>[tuple(thing or &#39;-&#39; for thing in items) for items in zipped_up]</code> if you need the inner sequences to be tuples."}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537398242, "post_id": 52415047, "comment_id": 91774225, "body": "@PM2Ring aren&#39;t we only using <code>zip_longest</code> over <code>zip</code> to utilize <code>fillvalue</code> to begin with?"}, {"owner": {"reputation": 737, "user_id": 9305645, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/34rsJ.jpg?s=128&g=1", "display_name": "Erich Purpur", "link": "https://stackoverflow.com/users/9305645/erich-purpur"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537400352, "post_id": 52415047, "comment_id": 91774600, "body": "@vash_the_stampede names, locations, and confirmed are the original data"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 1, "creation_date": 1537400401, "post_id": 52415047, "comment_id": 91774615, "body": "@vash_the_stampede Kind of. It&#39;s main purpose is so the zipped-up list doesn&#39;t finish when the shortest source iterable is finished, but to do that we need some kind of fill value."}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537400524, "post_id": 52415047, "comment_id": 91774634, "body": "@PM2Ring that&#39;s what I&#39;m saying, the whole purpose of <code>zip_longest(*iterables, fillvalue=None)</code> is for when we have uneven and need to use a fill, if not we would have used zip, correct?"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1537397002, "post_id": 52415068, "comment_id": 91773937, "body": "The important aspect of this question is probably explaining <i>why the OP&#39;s attempt didn&#39;t work</i>"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1537398135, "post_id": 52415068, "comment_id": 91774199, "body": "@juanpa.arrivillaga but can we  say, why else would he use <code>zip_longest</code> over <code>zip</code> if not to use <code>fillvalue</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1537399435, "post_id": 52415068, "comment_id": 91774459, "body": "Sure, and I would definitely point that out, but you are simply leaving them with a fundamental misunderstanding of the semantics of the language, and simply giving them an alternative solution."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 5, "last_activity_date": 1537396580, "creation_date": 1537396580, "answer_id": 52415068, "question_id": 52415047, "link": "https://stackoverflow.com/questions/52415047/python-change-item-value-in-list/52415068#52415068", "title": "Python - Change item value in list", "body": "<p>Simply use the <code>fillvalue</code> argument:</p>\n\n<pre><code>zipped_up = list(itertools.zip_longest(names, locations, confirmed, fillvalue='-'))\n\n&gt;&gt;&gt; zipped_up\n[('Tim', 'DE', False), ('Bob', 'ES', True), ('Julian', 'AUS', True), ('Carmen', 'NL', False), ('Sofia', 'BR', True), ('Mike', 'US', '-'), ('Kim', '-', '-'), ('Andre', '-', '-')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": true, "score": 3, "last_activity_date": 1537400485, "last_edit_date": 1537400485, "creation_date": 1537399379, "answer_id": 52415429, "question_id": 52415047, "link": "https://stackoverflow.com/questions/52415047/python-change-item-value-in-list/52415429#52415429", "title": "Python - Change item value in list", "body": "<p>First, you are trying to change elements in <em>tuples</em>, but tuples are <em>immutable</em> objects.<br>\nThe only way to \"change\" them is to create <em>new</em> ones on the basis of <em>existing ones</em>.</p>\n\n<p>Second, this part of your code</p>\n\n<pre><code>for thing in items:\n    if thing == None:\n        thing = '-'\n</code></pre>\n\n<p>replaces only the content of the <em>variable</em> <code>thing</code>, so even if you would have <em>mutable</em> objects in your <code>zipped_up</code> list - such as (nested) lists - your code <em>would not change them anyway</em>.</p>\n\n<p>So, if your for whatever reason don't want to accept the <a href=\"https://stackoverflow.com/a/52415068/7023590\">solution of sacul</a> and instead edit your loop in loop approach, you may append <em>newly created tuples</em> to the new, empty list.</p>\n\n<p>As in this (not very nice) code:</p>\n\n<pre><code>result = []\nfor a, b, c in zipped_up:\n    a = '-' if a is None else a\n    b = '-' if b is None else b\n    c = '-' if c is None else c\n    result.append((a, b, c))\n\nprint(result)\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>[('Tim', 'DE', False), ('Bob', 'ES', True), ('Julian', 'AUS', True), ('Carmen', 'NL', False), ('Sofia', 'BR', True), ('Mike', 'US', '-'), ('Kim', '-', '-'), ('Andre', '-', '-')]</p>\n</blockquote>\n"}], "owner": {"reputation": 737, "user_id": 9305645, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/34rsJ.jpg?s=128&g=1", "display_name": "Erich Purpur", "link": "https://stackoverflow.com/users/9305645/erich-purpur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 1, "accepted_answer_id": 52415429, "answer_count": 2, "score": 1, "last_activity_date": 1537400485, "creation_date": 1537396485, "question_id": 52415047, "link": "https://stackoverflow.com/questions/52415047/python-change-item-value-in-list", "title": "Python - Change item value in list", "body": "<p>I have some data I have zipped together using itertools.zip_longest</p>\n\n<pre><code>import itertools\nnames = 'Tim Bob Julian Carmen Sofia Mike Kim Andre'.split()\nlocations = 'DE ES AUS NL BR US'.split()\nconfirmed = [False, True, True, False, True]\nzipped_up = list(itertools.zip_longest(names, locations, confirmed))\n</code></pre>\n\n<p>if I print zipped_up the way it is now I get the following:</p>\n\n<pre><code>[('Tim', 'DE', False), ('Bob', 'ES', True), \n('Julian','AUS', True), ('Carmen', 'NL', False), \n('Sofia', 'BR',True), ('Mike', 'US', None), \n('Kim',None, None),('Andre', None, None)]\n</code></pre>\n\n<p>This is fine, the missing values are given \"None\" as a default.  <strong>Now I want to change the \"None\" values to '-'</strong>.</p>\n\n<p>It seems like I should be able to do so in the following nested loops. If I include a print statement in the code below, it appears everything works the way I wanted:</p>\n\n<pre><code>for items in zipped_up:\n    for thing in items:\n        if thing == None:\n            thing = '-'\n        print(thing)\n</code></pre>\n\n<p>But if I print zipped_up again (outside the loops), the 'None' values have not changed. Why Not? Is it something to do with the data type of the list items, which are tuples?</p>\n\n<p>I have referenced some other stackoverflow threads including this one but have been unable to use it:\n<a href=\"https://stackoverflow.com/questions/2582138/finding-and-replacing-elements-in-a-list-python\">finding and replacing elements in a list (python)</a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "edited": false, "score": 4, "creation_date": 1537396958, "post_id": 52415034, "comment_id": 91773922, "body": "What is parser? And it does not make much sense for something to be string or boolean. Types are usually defined to be one type, so you could have the input be a string as empty or <code>None</code> to denote the variable as being &quot;False&quot; or filled with what the value should be if entered when &quot;True&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "edited": false, "score": 0, "creation_date": 1537397253, "post_id": 52415034, "comment_id": 91774003, "body": "How would you want to use it?"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1537431394, "post_id": 52415034, "comment_id": 91784185, "body": "If you are using argparse, you can pass a callable as the <code>type</code> argument, and convert the input however you like. The input type is always a string. <a href=\"https://docs.python.org/3/library/argparse.html#type\" rel=\"nofollow noreferrer\">docs.python.org/3/library/argparse.html#type</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "is_accepted": true, "score": 2, "last_activity_date": 1537429668, "creation_date": 1537429668, "answer_id": 52420118, "question_id": 52415034, "link": "https://stackoverflow.com/questions/52415034/python-take-single-argument-input-which-can-be-two-different-types/52420118#52420118", "title": "python take single argument input which can be two different types", "body": "<p>Technically, you can do this pretty easily.</p>\n\n<pre><code>value = arg == \"true\" if arg in (\"true\", \"false\") else arg\n</code></pre>\n\n<p>Assuming you want to accept true/false in arbitrary case, it's only marginally more complicated:</p>\n\n<pre><code>value = arg.lower() == \"true\" if arg.lower() in (\"true\", \"false\") else arg\n</code></pre>\n\n<p>This potentially runs <code>lower()</code> twice, so if that's a concern, you could cache that value first. Though in an argument parser I doubt it would be.</p>\n\n<p>Really, though, I think it's more likely you should be accepting two different arguments. Mixing types like this is a bad sign and makes it harder to end up with easily readable, debuggable code.</p>\n"}], "owner": {"reputation": 947, "user_id": 9738997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1836b7e3bfb1c08210a715cf12dd7c?s=128&d=identicon&r=PG&f=1", "display_name": "MaverickD", "link": "https://stackoverflow.com/users/9738997/maverickd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 52420118, "answer_count": 1, "score": -1, "last_activity_date": 1537429668, "creation_date": 1537396430, "question_id": 52415034, "link": "https://stackoverflow.com/questions/52415034/python-take-single-argument-input-which-can-be-two-different-types", "title": "python take single argument input which can be two different types", "body": "<p>I am in a situation where I am accepting a user input, that can either be <code>True</code> or <code>False</code> or a <code>string</code>.</p>\n\n<p>I know i can just take input as string then parse it to <code>boolean</code> if its either <code>true</code> or <code>false</code>, but is there a better way to parse input as either <code>string</code> or <code>boolean</code>?</p>\n\n<pre><code>parser.add_argument('--s', type=int, default=False)\n</code></pre>\n\n<p>thank you.</p>\n"}, {"tags": ["python", "django", "django-models", "django-templates"], "answers": [{"tags": [], "owner": {"reputation": 299, "user_id": 5261638, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-xwaVnHgmjvA/AAAAAAAAAAI/AAAAAAAAvWg/lO5k2k0mp5g/photo.jpg?sz=128", "display_name": "Federico Aguirre", "link": "https://stackoverflow.com/users/5261638/federico-aguirre"}, "is_accepted": true, "score": 1, "last_activity_date": 1537399579, "creation_date": 1537399579, "answer_id": 52415458, "question_id": 52414967, "link": "https://stackoverflow.com/questions/52414967/how-to-change-background-row-color-in-django-admin-not-duplicated/52415458#52415458", "title": "How to change background row color in Django Admin NOT DUPLICATED", "body": "<p>I've finally solve this using the same template with jinja and if statment, asking about my value and set in the TR the background color:</p>\n\n<p>change_list.html (part of, where I iterate over the result_list)</p>\n\n<pre><code>{% for row in cl.result_list %}\n&lt;tr class=\"{% cycle 'row1' 'row2' %}\" {% if row.etapa == 50 %} style='background-color:#ffcccc' {% endif %} in&gt;\n    &lt;td&gt; {{ row.fecha }} &lt;/td&gt;\n    &lt;td&gt; {{ row.etapa }} &lt;/td&gt;\n    &lt;td&gt; {{ row.presion }} &lt;/td&gt;\n    &lt;td&gt; {{ row.tempin }} &lt;/td&gt;\n    &lt;td&gt;\n&lt;/tr&gt;{% endfor %}\n</code></pre>\n\n<p>Thanks,\nFede</p>\n"}], "owner": {"reputation": 299, "user_id": 5261638, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-xwaVnHgmjvA/AAAAAAAAAAI/AAAAAAAAvWg/lO5k2k0mp5g/photo.jpg?sz=128", "display_name": "Federico Aguirre", "link": "https://stackoverflow.com/users/5261638/federico-aguirre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 52415458, "answer_count": 1, "score": 0, "last_activity_date": 1537399579, "creation_date": 1537395831, "last_edit_date": 1537396872, "question_id": 52414967, "link": "https://stackoverflow.com/questions/52414967/how-to-change-background-row-color-in-django-admin-not-duplicated", "title": "How to change background row color in Django Admin NOT DUPLICATED", "body": "<p>I have a simple model that I list in the admin, there is a field: etapa which takes a couple of values: <code>{1, 3, 4, 5, 50, 77}</code>.</p>\n\n<p>I want to mark all <code>etapa=50</code> rows in color RED.</p>\n\n<p>This is not duplicated because I don't want to remark the text like in the posible \"duplicated\". I just want to fill the row background color.</p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class Registro(models.Model):\n    ensayo = models.ForeignKey(Ensayo)\n    fecha = models.DateTimeField(blank=False)\n    fecha.date_fileter = True\n    presion = models.FloatField(blank=False, help_text=\"Presion\", verbose_name=\"PRESION (Bar)\", null=False)\n    etapa = models.IntegerField(blank=False, help_text=\"Etapa\", null=False)\n    tempin = models.FloatField(blank=False, help_text=\"Temp IN\", verbose_name=\"TEMP. IN (C)\", null=False)\n    libre1 = models.FloatField(blank=False, help_text=\"Libre 1\", null=False)\n    libre2 = models.FloatField(blank=False, help_text=\"libre 2\", null=False)\n    libre3 = models.FloatField(blank=False, help_text=\"libre 3\", null=False)\n\n    def __unicode__(self):\n        return \"%s\" % self.fecha\n\n    class Meta:\n        verbose_name_plural = \"Registros\"\n</code></pre>\n\n<p>I have a custom <strong>change_list.html</strong></p>\n\n<p>Any idea?</p>\n"}, {"tags": ["python", "loops", "if-statement"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1537395870, "post_id": 52414962, "comment_id": 91773653, "body": "Can you use <code>try</code>/<code>except</code>?"}, {"owner": {"reputation": 7, "user_id": 9477073, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YcnQxY3Ugo4/AAAAAAAAAAI/AAAAAAAAAHM/B0vX3NvCUWs/photo.jpg?sz=128", "display_name": "javax", "link": "https://stackoverflow.com/users/9477073/javax"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537395921, "post_id": 52414962, "comment_id": 91773667, "body": "Yes i think so."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537396015, "post_id": 52414962, "comment_id": 91773689, "body": "In that case, do that. <code>if</code> is a look-before-you-leap approach (can I do it before I try and do it?) whereas Python tends towards &quot;asking forgivenesss&quot; (let&#39;s try it and recover if I fail). Look up exception handling."}, {"owner": {"reputation": 7, "user_id": 9477073, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YcnQxY3Ugo4/AAAAAAAAAAI/AAAAAAAAAHM/B0vX3NvCUWs/photo.jpg?sz=128", "display_name": "javax", "link": "https://stackoverflow.com/users/9477073/javax"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537396204, "post_id": 52414962, "comment_id": 91773732, "body": "so i used try and except, but isn&#39;t except used for catching errors not used as an &quot;if-else&quot;?"}, {"owner": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 1, "creation_date": 1537396213, "post_id": 52414962, "comment_id": 91773735, "body": "Quick question, why are you converting it to a float to test if it is an integer or float?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1537396343, "post_id": 52414962, "comment_id": 91773756, "body": "@javax re-read my comment. In some languages this might be taboo, but in Python a try/except can be used to control flow in Python"}, {"owner": {"reputation": 7, "user_id": 9477073, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YcnQxY3Ugo4/AAAAAAAAAAI/AAAAAAAAAHM/B0vX3NvCUWs/photo.jpg?sz=128", "display_name": "javax", "link": "https://stackoverflow.com/users/9477073/javax"}, "reply_to_user": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 0, "creation_date": 1537396418, "post_id": 52414962, "comment_id": 91773781, "body": "@SShah Honestly, the point of this function is to put two numbers into an input and see whether or not the Pythagorean theorem result will be an integer or float, and my alternative method was weird because square root of 100 is 10, but since its math.sqrt() its 10.0, which is a float. Therefore it always returns a float value so no matter what its going to return False to the user. This method just worked for some reason."}, {"owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "edited": false, "score": 0, "creation_date": 1537396551, "post_id": 52414962, "comment_id": 91773810, "body": "it&#39;s not clear exactly what you&#39;re trying to do, but you can use a shortcut operator with a boolean result, without having to use an if statement, e.g. <code>gravity.is_integer() and do_stuff()</code> &lt;-- this will only evaluate <code>do_stuff()</code> if the first part is true."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1537396678, "post_id": 52414962, "comment_id": 91773840, "body": "My very wild guess is that <code>float(gravity).is_integer()</code> should <i>always</i> return <code>False</code>. Therefore you should <i>always</i> execute the code in the <code>if</code>-block. That is, just get rid of this <code>if</code> line altogether."}, {"owner": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 0, "creation_date": 1537396731, "post_id": 52414962, "comment_id": 91773854, "body": "@javax All I am trying to understand is, if your output is always a float e.g. 10.0, then why are you converting the value to a float again, <code>float(gravity)</code>?"}, {"owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "reply_to_user": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 0, "creation_date": 1537396779, "post_id": 52414962, "comment_id": 91773866, "body": "@SShah e.g. float(&quot;10.3&quot;)"}, {"owner": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 0, "creation_date": 1537396811, "post_id": 52414962, "comment_id": 91773879, "body": "oh okay so its to convert a string i see very well, makes sense"}, {"owner": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 1, "creation_date": 1537396895, "post_id": 52414962, "comment_id": 91773897, "body": "I was just asking, because if your outputs varied between a float and an int, then you could have used <code>isinstance(gravity, int)</code> and <code>isinstance(gravity, float)</code>, but this confirms it you definitely cant use them"}, {"owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "reply_to_user": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 0, "creation_date": 1537396945, "post_id": 52414962, "comment_id": 91773915, "body": "@SShah I don&#39;t know, I&#39;m not the OP. I&#39;m just guessing that it may be something like that; I agree, converting a float to a float is redundant, so presumably gravity is not necessarily a float to begin with."}, {"owner": {"reputation": 804, "user_id": 7705353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6200c325c24134a472bfdb69a94ce2e4?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/7705353/sshah"}, "edited": false, "score": 0, "creation_date": 1537397085, "post_id": 52414962, "comment_id": 91773961, "body": "I just tried the following on my idle <code>float(&quot;10.0&quot;).is_integer()</code> outputs <code>True</code> and <code>float(&quot;10.20&quot;).is_integer()</code> which outputs <code>False</code>, so maybe you can try store the statement <code>float(gravity).is_integer()</code> into a <code>variable</code> e.g. <code>x = float(gravity).is_integer()</code> and then try <code>if (not x)</code>"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537398009, "post_id": 52414962, "comment_id": 91774178, "body": "But how did <code>gravity</code> become a string if it&#39;s the result of a Pythagorean triple calculation?"}], "answers": [{"tags": [], "owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "is_accepted": false, "score": 1, "last_activity_date": 1537397798, "last_edit_date": 1537397798, "creation_date": 1537396884, "answer_id": 52415116, "question_id": 52414962, "link": "https://stackoverflow.com/questions/52414962/replacing-an-if-statement/52415116#52415116", "title": "Replacing an if-statement", "body": "<p>You can use shortcut operators to achieve logical flow without an if statement.\nE.g.</p>\n\n<pre><code>float(gravity).is_integer() and do_stuff()\n</code></pre>\n\n<p>The second part will only execute if the first part is true.</p>\n\n<p>Alternatively you can use</p>\n\n<pre><code>float(gravity).is_integer() or do_stuff()\n</code></pre>\n\n<p>where the second part will only execute if the first part is false.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I just read the comment about how the function is simply meant to evaluate if two sides yield an integer hypotenuse. So unless I misunderstood what you're after here, in that case, the whole point is that you don't need an if statement to decide whether you should then explicitly return True or False by yourself; you can simply return the output of the evaluation of <code>is_integer()</code> directly, since this will evaluate to either True or False anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1537397165, "creation_date": 1537397165, "answer_id": 52415154, "question_id": 52414962, "link": "https://stackoverflow.com/questions/52414962/replacing-an-if-statement/52415154#52415154", "title": "Replacing an if-statement", "body": "<p>My <em>guess</em> is that the assignment is trying to teach you a paradigm of <a href=\"https://stackoverflow.com/questions/12265451/ask-forgiveness-not-permission-explain\">\"Ask forgiveness not permission\"</a>.</p>\n\n<p>In that case:</p>\n\n<pre><code>try:\n    gravity = float(gravity)\n    # Do floaty gravity stuff\nexcept (TypeError, ValueError):\n    gravity = some_default_value_you_can_handle_some_other_way\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537398015, "post_id": 52415240, "comment_id": 91774179, "body": "Awesome; an unrecoverable position :P"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1537398161, "post_id": 52415240, "comment_id": 91774208, "body": "<code>assert</code> should not be used to check values like that. It&#39;s purpose is to check program logic. If AssertionError is raised that means the program logic is invalid and the program needs to be modified."}, {"owner": {"reputation": 45, "user_id": 7942185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ac38e732134524917f1d978b9c594b?s=128&d=identicon&r=PG&f=1", "display_name": "Flu", "link": "https://stackoverflow.com/users/7942185/flu"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537398920, "post_id": 52415240, "comment_id": 91774356, "body": "@PM 2Ring I agree, but here it&#39;s about a simple program where he just needs to replace the <code>if</code>s. I doubt the assignment is that complex for the asserts to actually reveal some faulty logic. For the time being, this is a clear solution. Although I see what you mean and how this might not be such a good idea. Thanks for the feedback"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 2, "creation_date": 1537400690, "post_id": 52415240, "comment_id": 91774673, "body": "Fair enough. I guess weird assignment specifications can justify weird code. ;) I just don&#39;t like people to see <code>assert</code> being used to validate data, since they may think that&#39;s what <code>assert</code> is for."}], "tags": [], "owner": {"reputation": 45, "user_id": 7942185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ac38e732134524917f1d978b9c594b?s=128&d=identicon&r=PG&f=1", "display_name": "Flu", "link": "https://stackoverflow.com/users/7942185/flu"}, "is_accepted": true, "score": 0, "last_activity_date": 1537397965, "creation_date": 1537397965, "answer_id": 52415240, "question_id": 52414962, "link": "https://stackoverflow.com/questions/52414962/replacing-an-if-statement/52415240#52415240", "title": "Replacing an if-statement", "body": "<p>You could use assert in combination with a try block:</p>\n\n<pre><code>try:\n    assert(not float(gravity).is_integer())\n    print(\"evaluated to true\")\nexcept:\n    print(\"evaluated to false\")\n</code></pre>\n\n<p>Replace the print statements with the code you want to execute in case it evaluates to true or false.</p>\n"}], "owner": {"reputation": 7, "user_id": 9477073, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YcnQxY3Ugo4/AAAAAAAAAAI/AAAAAAAAAHM/B0vX3NvCUWs/photo.jpg?sz=128", "display_name": "javax", "link": "https://stackoverflow.com/users/9477073/javax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 52415240, "answer_count": 3, "score": -4, "last_activity_date": 1537397965, "creation_date": 1537395805, "last_edit_date": 1537395907, "question_id": 52414962, "link": "https://stackoverflow.com/questions/52414962/replacing-an-if-statement", "title": "Replacing an if-statement", "body": "<p>I can't use if statements and loops in my assignment so I was wondering how I would rewrite this line:</p>\n\n<pre><code>  if (not float(gravity).is_integer()):\n</code></pre>\n\n<p>It's just checking to see whether or not gravity is a float or integer so it can pass more code.</p>\n"}, {"tags": ["python", "numpy", "cmd", "anaconda", "sublimetext3"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1537450387, "post_id": 52414943, "comment_id": 91795849, "body": "Please also do not post terminal/code output in images. Please see here for why: <a href=\"https://unix.meta.stackexchange.com/q/4086/40481\">unix.meta.stackexchange.com/q/4086/40481</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9335974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab244bf508cda08b12f7d79d1ac9bef6?s=128&d=identicon&r=PG&f=1", "display_name": "Mo Abdolhosseini Moghaddam", "link": "https://stackoverflow.com/users/9335974/mo-abdolhosseini-moghaddam"}, "edited": false, "score": 0, "creation_date": 1537397156, "post_id": 52415025, "comment_id": 91773979, "body": "is there anyway that I set it as a default because when I am using sublime, I cant load libraries?"}, {"owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "reply_to_user": {"reputation": 51, "user_id": 9335974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab244bf508cda08b12f7d79d1ac9bef6?s=128&d=identicon&r=PG&f=1", "display_name": "Mo Abdolhosseini Moghaddam", "link": "https://stackoverflow.com/users/9335974/mo-abdolhosseini-moghaddam"}, "edited": false, "score": 0, "creation_date": 1537397614, "post_id": 52415025, "comment_id": 91774091, "body": "I don&#39;t use sublime, so I&#39;m not able to answer you, sorry."}], "tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": false, "score": 0, "last_activity_date": 1537396343, "creation_date": 1537396343, "answer_id": 52415025, "question_id": 52414943, "link": "https://stackoverflow.com/questions/52414943/i-cant-load-python-libraries-in-cmd-but-they-work-in-anaconda-prompt/52415025#52415025", "title": "I cant load python libraries in cmd, but they work in Anaconda prompt", "body": "<p>In Anaconda you are working in the <code>base</code> environment.</p>\n\n<p>So in cmd use first</p>\n\n<pre><code>activate base\n</code></pre>\n\n<p>and only then launch Python:</p>\n\n<pre><code>python\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9335974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab244bf508cda08b12f7d79d1ac9bef6?s=128&d=identicon&r=PG&f=1", "display_name": "Mo Abdolhosseini Moghaddam", "link": "https://stackoverflow.com/users/9335974/mo-abdolhosseini-moghaddam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537396343, "creation_date": 1537395680, "question_id": 52414943, "link": "https://stackoverflow.com/questions/52414943/i-cant-load-python-libraries-in-cmd-but-they-work-in-anaconda-prompt", "title": "I cant load python libraries in cmd, but they work in Anaconda prompt", "body": "<p>I am trying to load some packages in cmd, but it seems something is wrong in the path. When I try to load it in Anaconda prompt it works fine. The path of python in both environment are same. Pip list shows that the libraries exist in the path. Any help is appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yd9Yl.png\" rel=\"nofollow noreferrer\">here is what happens in cmd</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/ixSrP.png\" rel=\"nofollow noreferrer\">the following is what happens in Anacoda prompt</a></p>\n\n<p>I would like to mention that I checked \nsys.path in both environment are same</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 1, "creation_date": 1537394521, "post_id": 52414766, "comment_id": 91773263, "body": "Lucky you, you get to build your own parser!"}, {"owner": {"reputation": 250, "user_id": 3603439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1534731667/picture?type=large", "display_name": "tink", "link": "https://stackoverflow.com/users/3603439/tink"}, "reply_to_user": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1537394813, "post_id": 52414766, "comment_id": 91773352, "body": "but is it really something? why would iOS generate something like that?  i gave it a NSDictionary and it sent me back this, why??"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1537395133, "post_id": 52414766, "comment_id": 91773442, "body": "That return format is a mess, I can&#39;t imagine it&#39;s some standard :/"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1537395202, "post_id": 52414766, "comment_id": 91773463, "body": "The value of the `&#39;body&#39; item is probably JavaScript or some similar scripting language."}], "answers": [{"comments": [{"owner": {"reputation": 250, "user_id": 3603439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1534731667/picture?type=large", "display_name": "tink", "link": "https://stackoverflow.com/users/3603439/tink"}, "edited": false, "score": 0, "creation_date": 1537397458, "post_id": 52414944, "comment_id": 91774055, "body": "Thanks! Worked like a charm.  Correct me if I am wrong miniRacer.eval takes javscript statements in a string format as a parameter, but how did it know there would be statements wrapped inside {}? I have JS experience and this is not how you define objects in js (this will give you shorthand error which is basically solved by changing &#39;=&#39; to &#39;:&#39;)"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "reply_to_user": {"reputation": 250, "user_id": 3603439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1534731667/picture?type=large", "display_name": "tink", "link": "https://stackoverflow.com/users/3603439/tink"}, "edited": false, "score": 1, "creation_date": 1537397843, "post_id": 52414944, "comment_id": 91774139, "body": "I believe in this case <code>{...}</code> defines not a map but a code block."}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 3, "last_activity_date": 1537395683, "creation_date": 1537395683, "answer_id": 52414944, "question_id": 52414766, "link": "https://stackoverflow.com/questions/52414766/python-parsing-unknown-format-string-to-json-or-dict/52414944#52414944", "title": "Python parsing *unknown format string to json or dict", "body": "<p>What you have in the dictionary looks like JavaScript. Fortunately, Python can interpret JS via <code>py_mini_racer</code>. Install the module (say, with <code>pip</code>), create an instance of the interpreter:</p>\n\n<pre><code>from py_mini_racer import py_mini_racer\njs = py_mini_racer.MiniRacer()\n\nd = {\n   \"body\": '{\\n  carrierName = \"AT&amp;T\";\\n dateRecieved = \"2018-08-07 20:29:56 +0000\";\\n \\n}'\n }\n</code></pre>\n\n<p>Evaluate the expression and the variables, as needed:</p>\n\n<pre><code>js.eval(d['body'])\njs.eval(\"carrierName\")\n#'AT&amp;T'\njs.eval(\"dateRecieved\")\n#'2018-08-07 20:29:56 +0000'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 250, "user_id": 3603439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1534731667/picture?type=large", "display_name": "tink", "link": "https://stackoverflow.com/users/3603439/tink"}, "edited": false, "score": 0, "creation_date": 1537466574, "post_id": 52415536, "comment_id": 91805237, "body": "It has one problem: parsing is better and might work for others, but I had an issue with parsing that if any fields consist &quot;&quot; or , inside the property it would split on that too."}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "reply_to_user": {"reputation": 250, "user_id": 3603439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1534731667/picture?type=large", "display_name": "tink", "link": "https://stackoverflow.com/users/3603439/tink"}, "edited": false, "score": 0, "creation_date": 1537467717, "post_id": 52415536, "comment_id": 91805760, "body": "@tink, if you can give me the example of the problem fields I&#39;ll try to fix the script accordingly ."}, {"owner": {"reputation": 250, "user_id": 3603439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1534731667/picture?type=large", "display_name": "tink", "link": "https://stackoverflow.com/users/3603439/tink"}, "edited": false, "score": 0, "creation_date": 1537470852, "post_id": 52415536, "comment_id": 91807214, "body": "my bad I just saw that you are using regex and that should work as well.."}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 2, "last_activity_date": 1537407646, "last_edit_date": 1537407646, "creation_date": 1537400213, "answer_id": 52415536, "question_id": 52414766, "link": "https://stackoverflow.com/questions/52414766/python-parsing-unknown-format-string-to-json-or-dict/52415536#52415536", "title": "Python parsing *unknown format string to json or dict", "body": "<p>parsing without the py_mini_racer. I could not install py_mini_racer on my<br>\npython 3.7</p>\n\n<pre><code>d = {\n   \"body\": '{\\n  carrierName = \"AT&amp;T\";\\n dateRecieved = \"2018-08-07 20:29:56 +0000\";\\n \\n}'\n }  \n\ndef parseD(d):\n    import re\n    def makeD(l): # make dict from 2 element list\n        return dict([[s.strip().replace('\"','') for s in l]])\n    finalD = {}\n    for di in [makeD(x) for x in [s.split('=') for s in re.findall(r'(\\w+\\s+=.*);', list(d.values())[0])]]:\n        finalD.update(di)\n    return finalD\n\nparseD(d)   \n\n{'carrierName': 'AT&amp;T', 'dateRecieved': '2018-08-07 20:29:56 +0000'}\n\nd = parseD(d)\n\nd['carrierName']  \n\n'AT&amp;T'\n\nd['dateRecieved']\n\n'2018-08-07 20:29:56 +0000'\n</code></pre>\n"}], "owner": {"reputation": 250, "user_id": 3603439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1534731667/picture?type=large", "display_name": "tink", "link": "https://stackoverflow.com/users/3603439/tink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 52414944, "answer_count": 2, "score": 2, "last_activity_date": 1537407646, "creation_date": 1537394471, "last_edit_date": 1537394669, "question_id": 52414766, "link": "https://stackoverflow.com/questions/52414766/python-parsing-unknown-format-string-to-json-or-dict", "title": "Python parsing *unknown format string to json or dict", "body": "<p>The reason I say unknown is because it is being sent from an IOS 12 extension, I have no-hand in creating this format but lets just suppose there is no way I can do any formatting over there. </p>\n\n<p>In Python what I receive is a string in the following format:</p>\n\n<pre><code> {\n   \"body\": '{\\n  carrierName = \"AT&amp;T\";\\n dateRecieved = \"2018-08-07 20:29:56 +0000\";\\n \\n}'\n }\n</code></pre>\n\n<p>I want to know what this format {foo=\"bar\"; top=\"long\";} is called? It is what gets returned from iOS native Libraries so it has to be something; And is there any built-in way to parse it as a json or a dict. I can write my own parser for sure, but im looking for something built-in or something that exist in some generic library.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1537394523, "post_id": 52414733, "comment_id": 91773264, "body": "You should start with the Python tutorial first before doing more complicated things: <a href=\"https://docs.python.org/2/tutorial/\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial</a>"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537394669, "post_id": 52414733, "comment_id": 91773300, "body": "define overlap more clearly, how about a desired output"}, {"owner": {"reputation": 3, "user_id": 10388127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10227b701c09da15a5db09557fa457c?s=128&d=identicon&r=PG&f=1", "display_name": "vv93", "link": "https://stackoverflow.com/users/10388127/vv93"}, "edited": false, "score": 0, "creation_date": 1537397063, "post_id": 52414733, "comment_id": 91773957, "body": "by overlap I mean, in the lists: there is a start and stop number given. i want to compare the overlap of those start and stops between file 1 and two. Like imagine, runner 1 ran from the  567 mile mark to  the 890 mile mark. runner 2 ran from the 456 mile mark to the  678 mile mark. I want the computer to spit out that the overlap that these runners ran was from the 579 mile mark to the 678 mile mark."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1537395371, "creation_date": 1537395371, "answer_id": 52414891, "question_id": 52414733, "link": "https://stackoverflow.com/questions/52414733/running-the-contents-of-a-file-through-a-function/52414891#52414891", "title": "Running the contents of a file through a function", "body": "<p>Most of all, you get only the file readout because you never call your function.</p>\n\n<p>After that, note that</p>\n\n<ol>\n<li>Your function never uses the files you try to pass it</li>\n<li>You can't read more from the files; your main program already read everything</li>\n<li>You haven't properly put your triples into <code>lst</code> -- your loops take only the first triple from each input line.</li>\n</ol>\n\n<p>I recommend that you work gradually -- use incremental programming.  Write a few lines, make sure that you have the progress you expect, and <em>then</em> go on to the next step.  As this stands, you wrote over 30 lines of active code, but your program fails to do what you want (I think) in the first few lines.</p>\n"}], "owner": {"reputation": 3, "user_id": 10388127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10227b701c09da15a5db09557fa457c?s=128&d=identicon&r=PG&f=1", "display_name": "vv93", "link": "https://stackoverflow.com/users/10388127/vv93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 52414891, "answer_count": 1, "score": -3, "last_activity_date": 1537395371, "creation_date": 1537394299, "last_edit_date": 1537395211, "question_id": 52414733, "link": "https://stackoverflow.com/questions/52414733/running-the-contents-of-a-file-through-a-function", "title": "Running the contents of a file through a function", "body": "<p>very new to coding here\nI'm trying to create a program that will run through two files containing data sets and look for over laps, and print out that range of over laps.\nthe 2 files I was given have a name start, stop\nfor example</p>\n\n<p>in file 1:</p>\n\n<pre><code>distance 567 890\ndistance 345 678\ndistance 123 347\ndistancex 56 201\n</code></pre>\n\n<p>in file 2</p>\n\n<pre><code>distance 456 678\ndistance 345 678\ndistance 1000 2000\ndistancex 1056 2030\n</code></pre>\n\n<p>so for the two files, i want test if there is overlab between the numbers.</p>\n\n<pre><code>file1=open('filea.file', 'r')\n\nfile2=open('fileb.file', 'r')\n\nlst=[]\n\nfor item in file1:\n    item = item.split()\n    column1 = item[0]\n    start1 = item[1]\n    stop1 = item[2]\n    lst.append(item)\n    print item\n\nfor item in file2:\n    item = item.split()\n    column2 = item[0]\n    start2 = item[1]\n    stop2 = item[2]\n    lst.append(item)\n    print item\n\n\n\ndef compare(file1, file2):\n    for items in lst:\n        if (column1==column2) and (start1&gt;start2) and (stop2&gt;start1) and (stop1&gt;stop2):\n            print start1 + \",\" + stop2\n        elif (column1==column2) and (stop2&gt;start1): \n            print \"none\"\n        elif (column1==column2) and (stop1&gt;start2):\n            print \"none\"\n        elif (column1==column2) and (start2&gt;start1) and (stop1&gt;start2) and (stop2&gt;stop1):\n            print start2 + \",\"+ stop1\n        elif (column1==column2) and (start1&gt;=start2) and (stop2&gt;=stop1):\n            print start1 + \",\" + stop1\n        elif (column1==column2) and (start2&gt;=start1) and (stop1&gt;=stop2):\n            print start2 + \",\" + stop2 \n</code></pre>\n\n<p>when i run this i just get a read out of the files and nothing with the if statements</p>\n\n<p>what am i missing??</p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5"], "answers": [{"tags": [], "owner": {"reputation": 10411, "user_id": 7767694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoPOp.png?s=128&g=1", "display_name": "S. Nick", "link": "https://stackoverflow.com/users/7767694/s-nick"}, "is_accepted": false, "score": 1, "last_activity_date": 1537398020, "last_edit_date": 1592644375, "creation_date": 1537398020, "answer_id": 52415249, "question_id": 52414654, "link": "https://stackoverflow.com/questions/52414654/run-method-when-qplaintextedit-at-a-certain-length/52415249#52415249", "title": "run method when QPlainTextEdit at a certain length", "body": "<blockquote>\n<p>void QPlainTextEdit::blockCountChanged(int newBlockCount)</p>\n<p>This signal is emitted whenever the block count changes. The new block count is passed in newBlockCount.</p>\n</blockquote>\n<pre><code>import sys\nfrom PyQt5.QtWidgets import *\nfrom PyQt5.QtGui     import *\nfrom PyQt5.QtCore    import *\n\nclass Status(QDialog):\n    def __init__(self, parent=None):\n        super(Status, self).__init__(parent)\n\n        self.label = QLabel()\n\n        self.btn = QPushButton(&quot;Input Data&quot;)\n        self.btn.clicked.connect(self.populate_row)\n\n        self.layout = QVBoxLayout()\n\n        self.layout.addWidget(self.btn)\n        self.layout.addWidget(self.label)\n\n        self.resize(660, 260)\n        self.setLayout(self.layout)\n\n    def populate_row(self, letter):\n        self.dialog = QDialog()\n\n        self.dialog.resize(660, 260)\n\n        self.textBox = QPlainTextEdit(self.dialog)\n        #\n        self.textBox.blockCountChanged[int].connect(self.blockCount)  # +++\n        \n        \n\n        Rbtn = QPushButton(&quot;Add Data&quot;)\n        Rbtn.clicked.connect(\n            lambda: self.enter_data(self.textBox.toPlainText()))\n\n        layout = QVBoxLayout(self.dialog)\n        layout.addWidget(self.textBox)\n        #layout.addWidget(Rbtn)                                       # ---\n\n        self.dialog.exec_()\n## +++\n    def blockCount(self, num):\n        if num &gt; 5:\n            self.enter_data(self.textBox.toPlainText())\n##\n\n    def enter_data(self, text):\n        self.label.setText(text)\n        lst = text.split(&quot;\\n&quot;)\n        try:\n            for  x in lst:\n                if x != &quot;&quot;:\n                    print(x)\n                    self.do_something_with_x()\n        except IndexError:\n            pass\n\n        self.update_data()\n\n        self.dialog.close()\n\n    def do_something_with_x(self):\n        print('Something done with x..')\n\n    def update_data(self):\n        print('Data updated..')\n\nif __name__ == &quot;__main__&quot;:\n    app = QApplication(sys.argv)\n    ex = Status()\n    ex.show()\n    sys.exit(app.exec_())\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6B4Vf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6B4Vf.jpg\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1537398679, "creation_date": 1537398679, "answer_id": 52415339, "question_id": 52414654, "link": "https://stackoverflow.com/questions/52414654/run-method-when-qplaintextedit-at-a-certain-length/52415339#52415339", "title": "run method when QPlainTextEdit at a certain length", "body": "<p>To count the line breaks use the <a href=\"http://doc.qt.io/qt-5/qplaintextedit.html#blockCountChanged\" rel=\"nofollow noreferrer\"><code>blockCountChanged()</code></a> signal, and if you want to click on the button you must use the <a href=\"http://doc.qt.io/qt-5/qabstractbutton.html#click\" rel=\"nofollow noreferrer\"><code>click()</code></a> method. Also to verify that a string is empty, it is enough with if x: since the strings are iterable and the if iterable returns False if it is empty, and True in other cases.</p>\n\n<pre><code>import sys\nfrom PyQt5 import QtCore, QtGui, QtWidgets\n\n\nclass Status(QtWidgets.QDialog):\n    def __init__(self, parent=None):\n        super(Status, self).__init__(parent)\n        self.label = QtWidgets.QLabel()\n        self.btn = QtWidgets.QPushButton(\"Input Data\")\n        self.btn.clicked.connect(self.populate_row)\n        layout = QtWidgets.QVBoxLayout(self)\n        layout.addWidget(self.btn)\n        layout.addWidget(self.label)\n        self.resize(660, 260)\n\n\n    def populate_row(self, letter):\n        self.dialog = QtWidgets.QDialog()\n        self.dialog.resize(660, 260)\n        self.textBox = QtWidgets.QPlainTextEdit()\n        self.textBox.blockCountChanged.connect(self.blockCount)\n        self.Rbtn = QtWidgets.QPushButton(\"Add Data\")\n        self.Rbtn.clicked.connect(self.runcode)\n        layout = QtWidgets.QVBoxLayout(self.dialog)\n        layout.addWidget(self.textBox)\n        layout.addWidget(self.Rbtn)\n        self.dialog.exec_()\n\n    @QtCore.pyqtSlot(int)\n    def blockCount(self, num):\n        if num &gt; 5: self.Rbtn.click()\n\n    def runcode(self):\n        self.enter_data(self.textBox.toPlainText())\n\n    def enter_data(self, text):\n        self.label.setText(text)\n        for  x in text.split(\"\\n\"):\n            if x:\n                print(x)\n                self.do_something_with_x()\n        self.update_data()\n        self.dialog.close()\n\n    def do_something_with_x(self):\n        print('Something done with x..')\n\n    def update_data(self):\n        print('Data updated..')\n\nif __name__ == \"__main__\":\n    app = QtWidgets.QApplication(sys.argv)\n    ex = Status()\n    ex.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 52415339, "answer_count": 2, "score": 0, "last_activity_date": 1537398679, "creation_date": 1537393859, "last_edit_date": 1537398022, "question_id": 52414654, "link": "https://stackoverflow.com/questions/52414654/run-method-when-qplaintextedit-at-a-certain-length", "title": "run method when QPlainTextEdit at a certain length", "body": "<p>I have a pyqt dialog that takes in a list of data that ends in a return (from a barcode scanner that has an auto return.)</p>\n\n<p>The list is 5 items in length and currently I have to click \"Add data\" to run the <code>populate_row</code> method when 5 items are entered.</p>\n\n<p>I split the string into a list using <code>\\n</code> and deal with each item as needed.</p>\n\n<p>Is there a way I can automate pressing the <code>add data</code> button when the number of lines or the number of <code>\\n</code> reaches 5 in the <code>QPlainTextEdit</code> box?</p>\n\n<pre><code>import sys\n\nfrom PyQt5.QtWidgets import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtCore import *\n\nclass Status(QDialog):\n    def __init__(self, parent=None):\n        super(Status, self).__init__(parent)\n\n        self.label = QLabel()\n\n        self.btn = QPushButton(\"Input Data\")\n        self.btn.clicked.connect(self.populate_row)\n\n        self.layout = QVBoxLayout()\n\n        self.layout.addWidget(self.btn)\n        self.layout.addWidget(self.label)\n\n        self.resize(660, 260)\n        self.setLayout(self.layout)\n\n    def populate_row(self, letter):\n        self.dialog = QDialog()\n\n        self.dialog.resize(660, 260)\n\n        self.textBox = QPlainTextEdit(self.dialog)\n\n        Rbtn = QPushButton(\"Add Data\")\n        Rbtn.clicked.connect(\n            lambda: self.enter_data(self.textBox.toPlainText()))\n\n        layout = QVBoxLayout(self.dialog)\n        layout.addWidget(self.textBox)\n        layout.addWidget(Rbtn)\n\n        self.dialog.exec_()\n\n    def enter_data(self, text):\n        self.label.setText(text)\n\n        lst = text.split(\"\\n\")\n        try:\n            for  x in lst:\n                if x != \"\":\n                    print(x)\n                    self.do_something_with_x()\n        except IndexError:\n            pass\n\n        self.update_data()\n\n        self.dialog.close()\n\n    def do_something_with_x(self):\n        print('Something done with x..')\n\n    def update_data(self):\n        print('Data updated..')\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    ex = Status()\n    ex.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "yaml", "pyyaml"], "comments": [{"owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "edited": false, "score": 3, "creation_date": 1537394822, "post_id": 52414636, "comment_id": 91773354, "body": "Check to make sure that all of the keys are exactly lined up in your file. This error can happen if you accidentally indented one line by an extra space."}], "answers": [{"tags": [], "owner": {"reputation": 746, "user_id": 4028566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5445bb86db4369b9fe53835bb3043a6?s=128&d=identicon&r=PG&f=1", "display_name": "chris.mclennon", "link": "https://stackoverflow.com/users/4028566/chris-mclennon"}, "is_accepted": false, "score": 1, "last_activity_date": 1537422329, "creation_date": 1537422329, "answer_id": 52418340, "question_id": 52414636, "link": "https://stackoverflow.com/questions/52414636/reading-yaml-file-with-python-results-in-yaml-scanner-scannererror-mapping-valu/52418340#52418340", "title": "Reading YAML file with Python results in yaml.scanner.ScannerError: mapping values are not allowed here", "body": "<p>I'm not able to replicate using nearly identical code in virtual environments running both Python 2 and 3 and PyYAML==3.13.</p>\n\n<pre><code>&gt;&gt;&gt; import yaml\n&gt;&gt;&gt; with open('sample.yaml', 'r') as infile:\n...   db_cfg = yaml.safe_load(infile)\n... \n&gt;&gt;&gt; db_cfg\n{'database_info': {'username': 'edamame', 'password': 'mypassword', 'host': '1.2.3.4', 'port': 3306, 'database': 'mydb'}}\n</code></pre>\n\n<p>Are you getting this error using the same exact input as the sample?</p>\n\n<p>Otherwise, make sure your inputs are properly formatted. Is there a space after each colon? Are things indented properly? </p>\n"}, {"tags": [], "owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "is_accepted": true, "score": 2, "last_activity_date": 1546370960, "last_edit_date": 1546370960, "creation_date": 1537423435, "answer_id": 52418581, "question_id": 52414636, "link": "https://stackoverflow.com/questions/52414636/reading-yaml-file-with-python-results-in-yaml-scanner-scannererror-mapping-valu/52418581#52418581", "title": "Reading YAML file with Python results in yaml.scanner.ScannerError: mapping values are not allowed here", "body": "<p>The input you show, doesn't generate that error. You can try that out <a href=\"http://yaml-online-parser.appspot.com/?yaml=database_info%3A%0A%20%20%20%20username%3A%20edamame%0A%20%20%20%20password%3A%20mypassword%0A%20%20%20%20host%3A%201.2.3.4%0A%20%20%20%20port%3A%203306%0A%20%20%20%20database%3A%20mydb&amp;type=json\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<p>You most likely have some whitespace difference, most likely in the <code>port: 3306</code> line.\nPlease note that because PyYAML pre-dates the latest YAML standard (1.2 from 2009) it \nstill considers some Unicode whitespace characters whitespace, although the standard doesn't.</p>\n\n<p>If you cannot find what causes this by looking at the file, these are two possible options:</p>\n\n<ul>\n<li>Try copy and pasting the file into an online parser a line at a time, until you see an error pop up. \nThat gives you an clear indication what line is wrong. </li>\n<li>Dump the datastructure that you need using a YAML dumper from data constructed in Python</li>\n</ul>\n\n<p>The latter cannot easily be done within PyYAML as it will sort the keys of a mapping on writing.</p>\n\n<pre><code>import sys\nimport ruamel.yaml\nfrom ruamel.yaml.comments import CommentedMap as cm\n\ndata = cm()\ndata['database_info'] = d = cm()\nd['username'] = 'edamame'\nd['password'] = 'mypassword'\nd['host'] = '1.2.3.4'\nd['port'] = 3306\nd['database'] = 'mydb'\n\n\nyaml = ruamel.yaml.YAML()\nyaml.indent(mapping=4)\n\nwith open('my_config.yaml', 'w') as ofp:\n    yaml.dump(data, ofp)\n</code></pre>\n\n<p>which generates the following content in <code>my_config.yaml</code>:</p>\n\n<pre><code>database_info:\n    username: edamame\n    password: mypassword\n    host: 1.2.3.4\n    port: 3306\n    database: mydb\n</code></pre>\n\n<p>A file which (even) PyYAML should be able to read.</p>\n"}], "owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 52418581, "answer_count": 2, "score": 2, "last_activity_date": 1546371106, "creation_date": 1537393753, "last_edit_date": 1546371106, "question_id": 52414636, "link": "https://stackoverflow.com/questions/52414636/reading-yaml-file-with-python-results-in-yaml-scanner-scannererror-mapping-valu", "title": "Reading YAML file with Python results in yaml.scanner.ScannerError: mapping values are not allowed here", "body": "<p>I am using the following code:</p>\n\n<pre><code>import yaml\nwith open('/Users/edamame/my_logins/my_config.yaml', 'r') as infile:\n    db_cfg = yaml.safe_load(infile)\n</code></pre>\n\n<p>which tries to read <code>my_config.yaml</code>:</p>\n\n<pre><code>database_info:\n    username: edamame\n    password: mypassword\n    host: 1.2.3.4\n    port: 3306\n    database: mydb\n</code></pre>\n\n<p>but got the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/edamame/my_project/extract_appointments.py\", line 16, in &lt;module&gt;\n    db_cfg = yaml.safe_load(infile)\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/__init__.py\", line 94, in safe_load\n    return load(stream, SafeLoader)\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/__init__.py\", line 72, in load\n    return loader.get_single_data()\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/constructor.py\", line 35, in get_single_data\n    node = self.get_single_node()\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/composer.py\", line 36, in get_single_node\n    document = self.compose_document()\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/composer.py\", line 55, in compose_document\n    node = self.compose_node(None, None)\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/composer.py\", line 84, in compose_node\n    node = self.compose_mapping_node(anchor)\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/composer.py\", line 127, in compose_mapping_node\n    while not self.check_event(MappingEndEvent):\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/parser.py\", line 98, in check_event\n    self.current_event = self.state()\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/parser.py\", line 428, in parse_block_mapping_key\n    if self.check_token(KeyToken):\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/scanner.py\", line 116, in check_token\n    self.fetch_more_tokens()\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/scanner.py\", line 220, in fetch_more_tokens\n    return self.fetch_value()\n  File \"/Users/edamame/my_project/venv/lib/python3.6/site-packages/yaml/scanner.py\", line 576, in fetch_value\n    self.get_mark())\nyaml.scanner.ScannerError: mapping values are not allowed here\n  in \"/Users/edamame/my_logins/my_config.yaml\", line 5, column 9\n</code></pre>\n\n<p>Here are my installations:\n<a href=\"https://i.stack.imgur.com/FhHTI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FhHTI.png\" alt=\"enter image description here\"></a>\nAny idea what I missed here? </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1537394377, "post_id": 52414628, "comment_id": 91773222, "body": "Does both list have the same number of elements (lists)?"}, {"owner": {"reputation": 1168, "user_id": 8593338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52b142a7c677195e5f55a06afbe4fd6?s=128&d=identicon&r=PG&f=1", "display_name": "abcdaire", "link": "https://stackoverflow.com/users/8593338/abcdaire"}, "edited": false, "score": 1, "creation_date": 1537394759, "post_id": 52414628, "comment_id": 91773331, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42012152/unstack-a-pandas-column-containing-lists-into-multiple-rows\">&quot;unstack&quot; a pandas column containing lists into multiple rows</a>"}], "answers": [{"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 1, "last_activity_date": 1537394632, "creation_date": 1537394632, "answer_id": 52414793, "question_id": 52414628, "link": "https://stackoverflow.com/questions/52414628/removing-lists-from-dataframes-while-adding-data/52414793#52414793", "title": "removing lists from dataframes while adding data", "body": "<p>Here is a solution with lots of stacking and unstacking:</p>\n\n<p>Starting with:</p>\n\n<pre><code>&gt;&gt;&gt; df\n                         fruits    users\n0                      [apples]   [john]\n1  [bananas, oranges, cinnamon]  [stacy]\n2                [pears, juice]    [ron]\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>final = (df.stack().apply(pd.Series)\n         .stack(0).unstack(1)\n         .ffill()\n         .reset_index(drop=True))\n\n&gt;&gt;&gt; final\n     fruits  users\n0    apples   john\n1   bananas  stacy\n2   oranges  stacy\n3  cinnamon  stacy\n4     pears    ron\n5     juice    ron\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1537395784, "last_edit_date": 1537395784, "creation_date": 1537394775, "answer_id": 52414814, "question_id": 52414628, "link": "https://stackoverflow.com/questions/52414628/removing-lists-from-dataframes-while-adding-data/52414814#52414814", "title": "removing lists from dataframes while adding data", "body": "<h3><code>itertools</code></h3>\n\n<pre><code>from itertools import chain, product, starmap\n\npd.DataFrame(\n    [*chain(*starmap(product, zip(df.fruits, df.users)))],\n    columns=df.columns\n)\n\n     fruits  users\n0    apples   john\n1   bananas  stacy\n2   oranges  stacy\n3  cinnamon  stacy\n4     pears    ron\n5     juice    ron\n</code></pre>\n\n<hr>\n\n<p>This also works if you have just 2 columns</p>\n\n<pre><code>pd.DataFrame(\n    [*chain(*starmap(product, zip(*map(df.get, df))))],\n    columns=df.columns\n)\n</code></pre>\n\n<hr>\n\n<h3><code>generator</code></h3>\n\n<pre><code>def f(z):\n  for A, B in z:\n    for a in A:\n      for b in B:\n        yield (a, b)\n\npd.DataFrame([*f(zip(df.fruits, df.users))], columns=df.columns)\n\n     fruits  users\n0    apples   john\n1   bananas  stacy\n2   oranges  stacy\n3  cinnamon  stacy\n4     pears    ron\n5     juice    ron\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 412, "user_id": 8697158, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b5cd617b842fef04d4702da2c28ef294?s=128&d=identicon&r=PG&f=1", "display_name": "D500", "link": "https://stackoverflow.com/users/8697158/d500"}, "edited": false, "score": 0, "creation_date": 1537395521, "post_id": 52414840, "comment_id": 91773557, "body": "This works only because I have access to lis1/lis2 in the example. For my dataset, I&#39;m given a dataframe with a column variable &quot;fruit&quot; and &quot;user&quot;. The rows are populated with lists like the above example. Would lis1 essentially be: df[&#39;fruit] ?  -- which makes it a series, do they work like a list?"}], "tags": [], "owner": {"reputation": 364, "user_id": 5557177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91be7b6b5a97f29470eabc7021c5536c?s=128&d=identicon&r=PG&f=1", "display_name": "cpander", "link": "https://stackoverflow.com/users/5557177/cpander"}, "is_accepted": true, "score": 2, "last_activity_date": 1537394899, "creation_date": 1537394899, "answer_id": 52414840, "question_id": 52414628, "link": "https://stackoverflow.com/questions/52414628/removing-lists-from-dataframes-while-adding-data/52414840#52414840", "title": "removing lists from dataframes while adding data", "body": "<p>Assuming that <code>lis1</code> and <code>lis2</code> have the same number of elements, you can do this with a list comprehension after zipping the lists.</p>\n\n<pre><code>pd.DataFrame(\n  [{'fruit':F, 'users':U} for (f, u) in zip(lis1, lis2) for F in f for U in u]\n)\n</code></pre>\n\n<p>The below code produces the following output:</p>\n\n<pre><code>      fruit    users\n0    apples     john\n1   bananas    stacy\n2   oranges    stacy\n3  cinnamon    stacy\n4     pears      ron\n5     juice      ron\n</code></pre>\n"}], "owner": {"reputation": 412, "user_id": 8697158, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b5cd617b842fef04d4702da2c28ef294?s=128&d=identicon&r=PG&f=1", "display_name": "D500", "link": "https://stackoverflow.com/users/8697158/d500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 52414840, "answer_count": 3, "score": 1, "last_activity_date": 1537395784, "creation_date": 1537393711, "last_edit_date": 1537395074, "question_id": 52414628, "link": "https://stackoverflow.com/questions/52414628/removing-lists-from-dataframes-while-adding-data", "title": "removing lists from dataframes while adding data", "body": "<p>Starting with: </p>\n\n<pre><code>import pandas as pd\n\nlis1= [['apples'],['bananas','oranges','cinnamon'],['pears','juice']]\nlis2= [['john'],['stacy'],['ron']]\n\npd.DataFrame({'fruits':lis1,'users':lis2})\n\n                         fruits    users\n0                      [apples]   [john]\n1  [bananas, oranges, cinnamon]  [stacy]\n2                [pears, juice]    [ron]\n</code></pre>\n\n<p>I'd like to end with: </p>\n\n<pre><code>lis3= ['apples','bananas','oranges','cinnamon','pears','juice']\nlis4= ['john','stacy','stacy','stacy','ron','ron']\n\npd.DataFrame({'fruits': lis3, 'users':lis4})\n\n     fruits  users\n0    apples   john\n1   bananas  stacy\n2   oranges  stacy\n3  cinnamon  stacy\n4     pears    ron\n5     juice    ron\n</code></pre>\n\n<p>First, I need to create a new dataframe with each item sitting in its own row. Second, the name variable needs to repeat itself depending on the number of \"fruits\". So looking at the example, John has one fruit while Stacy has 5 fruits-- so under usernames Stacy has to be repeated 5 times.</p>\n"}, {"tags": ["python", "dictionary", "thrift"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537393866, "post_id": 52414625, "comment_id": 91773050, "body": "Looks ilke <a href=\"https://issues.apache.org/jira/browse/THRIFT-162\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/THRIFT-162</a>"}], "answers": [{"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537393978, "post_id": 52414633, "comment_id": 91773087, "body": "This does then require that your code treats <code>Coordinate</code> instances as immutable. They also need to have a <code>__eq__</code> method that&#39;ll compare two instances on the same two attributes."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537394064, "post_id": 52414633, "comment_id": 91773117, "body": "And there are similar issues in Go: <a href=\"//stackoverflow.com/q/23180665\">Thrift go support of map with struct value as key</a>"}, {"owner": {"reputation": 3383, "user_id": 21435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/vl2cz.jpg?s=128&g=1", "display_name": "Bruno Rijsman", "link": "https://stackoverflow.com/users/21435/bruno-rijsman"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537394115, "post_id": 52414633, "comment_id": 91773127, "body": "Thanks! Just for my understanding: why do we need to treat them as immutable? And why is <code>__eq__</code> also needed (I did not add <code>__eq__</code> to my test program, and nothing appeared to be broken)."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537394538, "post_id": 52414633, "comment_id": 91773266, "body": "See <a href=\"//stackoverflow.com/q/23161035\">What happens if an object&#39;s __hash__ changes?</a> for what happens when an object stored in a dict is mutated. It could be that thrift does generate a suitable <code>__eq__</code> method already, but if not you can end up with two objects with the same attributes and the same hash, butt they both are stored in the hash as different keys because they don&#39;t test equal. By default equality between instances is determined by identity."}], "tags": [], "owner": {"reputation": 3383, "user_id": 21435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/vl2cz.jpg?s=128&g=1", "display_name": "Bruno Rijsman", "link": "https://stackoverflow.com/users/21435/bruno-rijsman"}, "is_accepted": true, "score": 0, "last_activity_date": 1537393748, "creation_date": 1537393748, "answer_id": 52414633, "question_id": 52414625, "link": "https://stackoverflow.com/questions/52414625/how-to-avoid-typeerror-unhashable-type-when-python-thrift-decodes-a-map-index/52414633#52414633", "title": "How to avoid &quot;TypeError: unhashable type&quot; when Python Thrift decodes a map indexed by a struct", "body": "<p>The problem is that the Thrift compiler cannot automatically generate the hash function for the Coordinate class.</p>\n\n<p>You must add the hash function manually as follows:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport sys\nsys.path.append('gen-py')\n\nimport thrift.protocol.TBinaryProtocol\nimport thrift.transport.TTransport\nimport model.ttypes\n\nmodel.ttypes.Coordinate.__hash__ = lambda self: hash((self.x, self.y))\n\ndef decode_terrain_from_file():\n    file = open(\"terrain.dat\", \"rb\")\n    transport = thrift.transport.TTransport.TFileObjectTransport(file)\n    protocol = thrift.protocol.TBinaryProtocol.TBinaryProtocol(transport)\n    terrain = model.ttypes.Terrain()\n    terrain.read(protocol)\n    print(terrain)\n\nif __name__ == \"__main__\":\n    decode_terrain_from_file()\n</code></pre>\n\n<p>Note that a similar problem occurs for C++ generated code. In the C++ case you need to manually add the Coordinate::operator&lt; to the program. Thrift does generate the declaration for the Coordinate::operator&lt; but does not generate the implementation of Coordinate::operator&lt;. Once again, the reason for this is that Thrift does not understand the semantics of the struct and hence cannot guess the correct implementation of the comparison operator. </p>\n\n<pre><code>bool Coordinate::operator&lt;(const Coordinate&amp; other) const\n{\n    if (x &lt; other.x) {\n        return true;\n    } else if (x &gt; other.x) {\n        return false;\n    } else if (y &lt; other.y) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3383, "user_id": 21435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/vl2cz.jpg?s=128&g=1", "display_name": "Bruno Rijsman", "link": "https://stackoverflow.com/users/21435/bruno-rijsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 825, "favorite_count": 0, "accepted_answer_id": 52414633, "answer_count": 1, "score": 0, "last_activity_date": 1537393748, "creation_date": 1537393693, "question_id": 52414625, "link": "https://stackoverflow.com/questions/52414625/how-to-avoid-typeerror-unhashable-type-when-python-thrift-decodes-a-map-index", "title": "How to avoid &quot;TypeError: unhashable type&quot; when Python Thrift decodes a map indexed by a struct", "body": "<p>The file model.thrift contains the following Thrift model:</p>\n\n<pre><code>struct Coordinate {\n    1: required i32 x;\n    2: required i32 y;\n}\n\nstruct Terrain {\n    1: required map&lt;Coordinate, i32&gt; altitude_samples;\n}\n</code></pre>\n\n<p>Note that we have a map (altitude_samples) indexed by a struct (Coordinate).</p>\n\n<p>I use the Thrift compiler to generate Python encoding and decoding classes:</p>\n\n<pre><code>thrift -gen py model.thrift\n</code></pre>\n\n<p>I use the following Python code to decode a Terrain object from a file:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport sys\nsys.path.append('gen-py')\n\nimport thrift.protocol.TBinaryProtocol\nimport thrift.transport.TTransport\nimport model.ttypes\n\ndef decode_terrain_from_file():\n    file = open(\"terrain.dat\", \"rb\")\n    transport = thrift.transport.TTransport.TFileObjectTransport(file)\n    protocol = thrift.protocol.TBinaryProtocol.TBinaryProtocol(transport)\n    terrain = model.ttypes.Terrain()\n    terrain.read(protocol)\n    print(terrain)\n\nif __name__ == \"__main__\":\n    decode_terrain_from_file()\n</code></pre>\n\n<p>When I run this program, I get the following error:</p>\n\n<pre><code>(env) $ python py_decode.py \nTraceback (most recent call last):\n  File \"py_decode.py\", line 19, in &lt;module&gt;\n    decode_terrain_from_file()\n  File \"py_decode.py\", line 15, in decode_terrain_from_file\n    terrain.read(protocol)\n  File \"gen-py/model/ttypes.py\", line 119, in read\n    self.altitude_samples[_key5] = _val6\nTypeError: unhashable type: 'Coordinate\n</code></pre>\n"}, {"tags": ["python", "pandas", "concatenation"], "comments": [{"owner": {"reputation": 552, "user_id": 6712861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee55debfe687ba3065901fdd7895a196?s=128&d=identicon&r=PG&f=1", "display_name": "9bO3av5fw5", "link": "https://stackoverflow.com/users/6712861/9bo3av5fw5"}, "edited": false, "score": 1, "creation_date": 1537396191, "post_id": 52414599, "comment_id": 91773729, "body": "Is that really the expected result? What happened to the <code>&#39;A&#39;: [&#39;A4&#39;]</code> from df2? Should df3 have <code>&#39;A&#39;: [&#39;E4&#39;]</code> or <code>&#39;E&#39;: [&#39;E4&#39;]</code>?"}, {"owner": {"reputation": 451, "user_id": 6693076, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7fb115b9c2f4b9d0803e29d22bbd10da?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/6693076/maxime"}, "reply_to_user": {"reputation": 552, "user_id": 6712861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee55debfe687ba3065901fdd7895a196?s=128&d=identicon&r=PG&f=1", "display_name": "9bO3av5fw5", "link": "https://stackoverflow.com/users/6712861/9bo3av5fw5"}, "edited": false, "score": 0, "creation_date": 1537425537, "post_id": 52414599, "comment_id": 91781159, "body": "Yes the problem is to have df3 with &#39;A&#39;: [&#39;E4&#39;]. Because when concatenating, you fill an existing cell &amp; a new one. Even doing this does not help:  <code>result = pd.concat([df1, df2])</code> <code>result = pd.concat([result, df3], axis=1)</code>"}, {"owner": {"reputation": 870, "user_id": 7747975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eEIrKsciIU0/AAAAAAAAAAI/AAAAAAAAADo/DH-g4rFPvOo/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7747975/andrew"}, "edited": false, "score": 0, "creation_date": 1537540167, "post_id": 52414599, "comment_id": 91834518, "body": "The question title is misleading. Your issue inst that you need to concat on two axes, the issue is that you are trying to assign two different values to [4, 0] in your final frame and you want Python/Pandas to retain one of them and discard the other. You need to provide criteria for how that decision should be made"}], "owner": {"reputation": 451, "user_id": 6693076, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7fb115b9c2f4b9d0803e29d22bbd10da?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/6693076/maxime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537393549, "creation_date": 1537393549, "question_id": 52414599, "link": "https://stackoverflow.com/questions/52414599/concatenate-dataframes-in-vertical-and-horizontal-at-the-same-time", "title": "Concatenate DataFrames in vertical and horizontal at the same time", "body": "<p>I would like to concatenate two df in both directions at the same time.\nIt means, if the index does not exist, it is created.\nAnd if the column does not exist, it is created also.</p>\n\n<pre><code>import pandas as pd\n\ndf1 = pd.DataFrame({'A': ['A0', 'A1', 'A2', 'A3'],\n                    'B': ['B0', 'B1', 'B2', 'B3'],\n                    'C': ['C0', 'C1', 'C2', 'C3'],\n                    'D': ['D0', 'D1', 'D2', 'D3']},\n                    index=[0, 1, 2, 3])\n\ndf2 = pd.DataFrame({'A': ['A4'],\n                    'D': ['D4']},\n                    index=[4])\n\ndf3 = pd.DataFrame({'A': ['E4'],\n                    'F': ['F4']},\n                    index=[4])\n\n\nresult = pd.concat([df1, df2, df3])\n</code></pre>\n\n<p>It gives : </p>\n\n<pre><code>    A    B    C    D    F\n0  A0   B0   C0   D0  NaN\n1  A1   B1   C1   D1  NaN\n2  A2   B2   C2   D2  NaN\n3  A3   B3   C3   D3  NaN\n4  A4  NaN  NaN   D4  NaN\n4  E4  NaN  NaN  NaN   F4\n</code></pre>\n\n<p>Instead of :</p>\n\n<pre><code>    A    B    C    D    F\n0  A0   B0   C0   D0  NaN\n1  A1   B1   C1   D1  NaN\n2  A2   B2   C2   D2  NaN\n3  A3   B3   C3   D3  NaN\n4  E4  NaN  NaN   D4   F4\n</code></pre>\n"}, {"tags": ["python", "string", "python-3.x"], "comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537393922, "post_id": 52414577, "comment_id": 91773068, "body": "Probably not. You might be able to speed things up slightly if your strings are simple &amp; uniform. Are they all the same length? Do you need to handle full Unicode, or can you restrict them to plain ASCII, or at least an 8 bit char set? Do they just need to <i>look</i> shuffled, or do the characters need to be shuffled by a proper unbiased process?"}, {"owner": {"reputation": 1769, "user_id": 8364914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c675c8b4c6b0d5356a5233a08d0a0230?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Arnestad", "link": "https://stackoverflow.com/users/8364914/jack-arnestad"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537394253, "post_id": 52414577, "comment_id": 91773177, "body": "@PM2Ring They are all capital letters in the English alphabet and needs to be shuffled by a proper unbiased process. Not same length :("}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1537395500, "post_id": 52414577, "comment_id": 91773551, "body": "Shuffling the strings is independent. One approach might be to chunk the list and use <code>multiprocessing</code>, sending each <code>Process</code> its own chunk to shuffle. Then you can re-combine the list at the end."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537395838, "post_id": 52414577, "comment_id": 91773644, "body": "I just ran some quick tests. If you store you letters in bytearrays, you can shuffle them in-place, and that runs in about half the time as your <code>&#39;&#39;.join(random.sample(string, k=len(string)))</code>. But then you have the overhead of encoding &amp; decoding the strings in &amp; out of the bytearrays, which kills the time difference. But if you need to shuffle each string many times, and only need to encode &amp; decode once on each string, then that might be ok."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1537396106, "post_id": 52414577, "comment_id": 91773706, "body": "How is the distribution of string lengths? More like 10 or 20 different lengths or thousands of different lengths?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537396140, "post_id": 52414577, "comment_id": 91773714, "body": "You mentioned vectorizing, which usually implies Numpy. Now Numpy <i>can</i> handle strings, but it&#39;s not designed to do fast stuff with them. You could convert the chars to 8 bit ints (similar to using bytearrays), but because the strings aren&#39;t of uniform length you won&#39;t get much benefit from Numpy, since you can&#39;t put your strings into a proper arrays, i.e., an array with each row having the same length. However, their <i>might</i> be some package that does what you want that I&#39;m simply ignorant of. ;)"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1537396259, "post_id": 52414577, "comment_id": 91773742, "body": "Good question, Michael Butscher. If the strings are approximately of uniform length we could break them up into groups of exactly uniform length. Or pad them with a dummy char to make them uniform, and discard the dummies after shuffling."}, {"owner": {"reputation": 1769, "user_id": 8364914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c675c8b4c6b0d5356a5233a08d0a0230?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Arnestad", "link": "https://stackoverflow.com/users/8364914/jack-arnestad"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537396925, "post_id": 52414577, "comment_id": 91773909, "body": "@PM2Ring They are mostly between 8 and 24 characters in length."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1537745024, "post_id": 52414577, "comment_id": 91884143, "body": "As a starting point I have created a <a href=\"https://gist.github.com/butscher/d8720666fa91861e57dffd00c761822b\" rel=\"nofollow noreferrer\">gist</a> to show how vectorized shuffling for fixed length byte sequences can be done."}], "owner": {"reputation": 1769, "user_id": 8364914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c675c8b4c6b0d5356a5233a08d0a0230?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Arnestad", "link": "https://stackoverflow.com/users/8364914/jack-arnestad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1537393418, "creation_date": 1537393418, "question_id": 52414577, "link": "https://stackoverflow.com/questions/52414577/vectorized-way-to-shuffle-characters-of-strings-in-a-list", "title": "Vectorized way to shuffle characters of strings in a list", "body": "<p>I am interested in shuffle all characters of the strings in a list, and to do this on a single string, there are two possibilities:</p>\n\n<pre><code>''.join(random.sample(string, k=len(string)))\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>string_utils.shuffle(string)\n</code></pre>\n\n<p>However, I need to shuffle around 10^8 strings I have in a list, and doing something like a list comprehension takes forever.</p>\n\n<p>Is there a vectorized or more efficient way to do this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "html", "python-2.7", "html-entities"], "comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537394576, "post_id": 52414568, "comment_id": 91773279, "body": "Take a look at <code>codepoint2name</code> in <a href=\"https://docs.python.org/2/library/htmllib.html?module-htmlentitydefs#module-htmlentitydefs\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 6312858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kgXO.jpg?s=128&g=1", "display_name": "DJSDev", "link": "https://stackoverflow.com/users/6312858/djsdev"}, "is_accepted": true, "score": 1, "last_activity_date": 1537401395, "creation_date": 1537401395, "answer_id": 52415676, "question_id": 52414568, "link": "https://stackoverflow.com/questions/52414568/is-there-a-standard-library-way-to-convert-text-to-html-entities-in-python-2-7/52415676#52415676", "title": "Is there a standard library way to convert text to HTML entities in Python 2.7?", "body": "<p>The library <a href=\"https://docs.python.org/2/library/xml.sax.utils.html\" rel=\"nofollow noreferrer\">xml.sax.saxutils</a> is standard and can escape and unescape xml in Python 2.7</p>\n\n<pre><code>from xml.sax.saxutils import escape, unescape\n\nmystr = escape('x &lt; 7 &amp;&amp; I like math &amp;&amp; y &gt; 7')\nprint(mystr)\n# x &amp;lt; 7 &amp;amp;&amp;amp; I like math &amp;amp;&amp;amp; y &amp;gt; 7\nprint(unescape(mystr))\n# x &lt; 7 &amp;&amp; I like math &amp;&amp; y &gt; 7\n</code></pre>\n"}], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 52415676, "answer_count": 1, "score": 0, "last_activity_date": 1537401395, "creation_date": 1537393352, "question_id": 52414568, "link": "https://stackoverflow.com/questions/52414568/is-there-a-standard-library-way-to-convert-text-to-html-entities-in-python-2-7", "title": "Is there a standard library way to convert text to HTML entities in Python 2.7?", "body": "<p>I would like to take input with text that needs to be converted to HTML entities and output the HTML entities.</p>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>x &lt; 7 &amp;&amp; I like math &amp;&amp; y &gt; 7\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>x &amp;lt; 7 &amp;amp;&amp;amp; I like math &amp;amp;&amp;amp; y &amp;gt; 7\n</code></pre>\n\n<p>I could do this substitution manually using string manipulation, but I want to know if there is a standard library way to do this before rolling my own.</p>\n"}, {"tags": ["python", "python-import"], "comments": [{"owner": {"reputation": 989, "user_id": 1781608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/899b35aaf405f2404cc2ae211916a360?s=128&d=identicon&r=PG", "display_name": "badger0053", "link": "https://stackoverflow.com/users/1781608/badger0053"}, "edited": false, "score": 0, "creation_date": 1537394683, "post_id": 52414566, "comment_id": 91773303, "body": "checkout <a href=\"https://docs.python.org/3/library/importlib.html\" rel=\"nofollow noreferrer\">importlib</a>"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1537395396, "post_id": 52414566, "comment_id": 91773526, "body": "You shouldn&#39;t be having this problem if you&#39;re using python 3"}, {"owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1537395765, "post_id": 52414566, "comment_id": 91773622, "body": "@MadPhysicist The OP would have the problem if it&#39;s not really a python package (.e. no <code>__init__.py</code>s) and it&#39;s just a bunch of directories with some python scripts. All bets are off in legacy"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9592741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JohnNil", "link": "https://stackoverflow.com/users/9592741/johnnil"}, "edited": false, "score": 0, "creation_date": 1537404420, "post_id": 52414939, "comment_id": 91775421, "body": "Hi Matt, thank you so much for your solution. As you said, this quick method does work. However, i do need the method to make the code deployable. The reason I mentioned legacy is that there are many people working on this repo and there&#39;re are reasons I cannot change the dir name with reasonable efforts. It would be great if you can share the method that can create deployable package. Thanks!!"}], "tags": [], "owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "is_accepted": false, "score": 1, "last_activity_date": 1537396928, "last_edit_date": 1537396928, "creation_date": 1537395660, "answer_id": 52414939, "question_id": 52414566, "link": "https://stackoverflow.com/questions/52414566/python-local-module-with-same/52414939#52414939", "title": "python local module with same", "body": "<p>There a couple ways you can do this. The quick and dirty is to just add it to your interpreter's path.</p>\n\n<p>Here's my setup:</p>\n\n<pre><code>Matthews-MacBook-Pro:test_project matt$ tree\n.\n\u251c\u2500\u2500 foo\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 bar\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 baz\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 target_module.py\n\u2514\u2500\u2500 python\n    \u2514\u2500\u2500 foo\n        \u2514\u2500\u2500 code.py\n\n5 directories, 2 files\n</code></pre>\n\n<p>Here's the contents of <code>target_module.py</code>:</p>\n\n<pre><code>def my_func():\n    print(\"my func called.\")\n</code></pre>\n\n<p>and how you can import this function into <code>code.py</code>:</p>\n\n<pre><code>import os\nimport sys\n\n# Cheat and just add it to python interpreter's path                                                                                                                                                        \nthis_dir = os.path.dirname(__file__)\nsys.path.append(os.path.join(this_dir, \"..\", \"..\", \"foo\", \"bar\", \"baz\"))\n\nimport target_module as tm\ntm.my_func()\n</code></pre>\n\n<p>this outputs:</p>\n\n<pre><code>Matthews-MacBook-Pro:test_project matt$ python python/foo/code.py \nmy func called.\n</code></pre>\n\n<p>or you can call it from the <code>foo</code> directory and it'll still work fine:</p>\n\n<pre><code>Matthews-MacBook-Pro:test_project matt$ cd python/foo/\nMatthews-MacBook-Pro:foo matt$ python code.py \nmy func called.\n</code></pre>\n\n<p>You can also just add the <code>foo/bar/baz</code> directory to your <code>PYTHONPATH</code> environment variable instead of calling <code>sys.path.append</code>. This syntax is shell dependent: so I'll let you google how to set environment variables for your particular shell.</p>\n\n<p><strong>Ideally you'd want to make your modules deployable</strong> (i.e. use <code>setup.py</code> and <code>distutils</code> or <code>setuptools</code> and put <code>__init__.py</code> in each module), and then you can import \"normally\" (kind of like you can \"just\" <code>import numpy</code> and it works). <strong>But since you claim it's legacy, maybe this might be hard for you to accomplish. I get it: in legacy systems all bets are off and sometimes the quick and dirty is fine (and maybe even ideal if you don't want to spend a lot of time fixing the issue).</strong></p>\n\n<p>I can expand this answer if you're interested in creating deployable python packages, and if not, the above should get the job done.</p>\n\n<p>HTH.</p>\n"}], "owner": {"reputation": 13, "user_id": 9592741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JohnNil", "link": "https://stackoverflow.com/users/9592741/johnnil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537396928, "creation_date": 1537393333, "last_edit_date": 1537395301, "question_id": 52414566, "link": "https://stackoverflow.com/questions/52414566/python-local-module-with-same", "title": "python local module with same", "body": "<p>I have a local python code repo like the following. \nIn <code>python/foo/code.py</code> I want to import <code>target_module</code> in <code>foo/bar/baz/target_module</code>. However, because <code>code.py</code> is under the <code>foo</code> module, I cannot import <code>target_module</code>. Since it's a largish repo with a great deal of legacy code, I cannot easily change any directory name. Is there any other workaround?</p>\n\n<p>Thanks in advance!</p>\n\n<pre>\n|\u2500\u2500foo\n|   \u251c\u2500\u2500bar\n|         \u251c\u2500\u2500baz\n|               \u251c\u2500\u2500 target_module\n\u251c\u2500\u2500 python\n|   \u251c\u2500\u2500 foo\n|   \u2502   \u251c\u2500\u2500 code.py      &lt;----from foo.bar.baz.target_module import *\n</pre>\n"}, {"tags": ["python", "google-app-engine"], "answers": [{"comments": [{"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 0, "creation_date": 1537823712, "post_id": 52423290, "comment_id": 91916193, "body": "This only happens when the app starts, then all the logs goes through. Weird."}], "tags": [], "owner": {"reputation": 7659, "user_id": 4926605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ed159f0e91d9ee0484cc64771993cb1?s=128&d=identicon&r=PG&f=1", "display_name": "LundinCast", "link": "https://stackoverflow.com/users/4926605/lundincast"}, "is_accepted": true, "score": 2, "last_activity_date": 1537440208, "creation_date": 1537440208, "answer_id": 52423290, "question_id": 52414555, "link": "https://stackoverflow.com/questions/52414555/google-app-engine-app-was-unable-to-send-logs/52423290#52423290", "title": "Google App Engine - App was unable to send logs", "body": "<p>You may want to check if the service account used by your deployed App Engine app holds the necessary permissions for logging. It's usually a service account like PROJECT_ID@appspot.gserviceaccount.com, unless you have changed it.</p>\n\n<p>You may add the logging > Logs writer role to that service account in the Developer Console > IAM &amp; Admin section.</p>\n"}], "owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 52423290, "answer_count": 1, "score": 2, "last_activity_date": 1584471926, "creation_date": 1537393239, "last_edit_date": 1584471926, "question_id": 52414555, "link": "https://stackoverflow.com/questions/52414555/google-app-engine-app-was-unable-to-send-logs", "title": "Google App Engine - App was unable to send logs", "body": "<p>My app started to create some strange errors with logging since the last deployment:</p>\n\n<pre><code>  File \"/env/lib/python3.6/site-packages/google/cloud/logging/handlers/transports/background_thread.py\", line 118, in _safely_commit_batch\n    batch.commit()\n  File \"/env/lib/python3.6/site-packages/google/cloud/logging/logger.py\", line 612, in commit\n    client.logging_api.write_entries(entries, **kwargs)\n  File \"/env/lib/python3.6/site-packages/google/cloud/logging/_gapic.py\", line 124, in write_entries\n    partial_success=partial_success)\n  File \"/env/lib/python3.6/site-packages/google/cloud/logging_v2/gapic/logging_service_v2_client.py\", line 341, in write_log_entries\n    request, retry=retry, timeout=timeout, metadata=metadata)\n  File \"/env/lib/python3.6/site-packages/google/api_core/gapic_v1/method.py\", line 139, in __call__\n    return wrapped_func(*args, **kwargs)\n  File \"/env/lib/python3.6/site-packages/google/api_core/retry.py\", line 260, in retry_wrapped_func\n    on_error=on_error,\n  File \"/env/lib/python3.6/site-packages/google/api_core/retry.py\", line 177, in retry_target\n    return target()\n  File \"/env/lib/python3.6/site-packages/google/api_core/timeout.py\", line 206, in func_with_timeout\n    return func(*args, **kwargs)\n  File \"/env/lib/python3.6/site-packages/google/api_core/grpc_helpers.py\", line 61, in error_remapped_callable\n    six.raise_from(exceptions.from_grpc_error(exc), exc)\n  File \"&lt;string&gt;\", line 3, in raise_from\ngoogle.api_core.exceptions.PermissionDenied: 403 The caller does not have permission\n\"  \n timestamp:  \"2018-09-19T21:35:58Z\"  \n</code></pre>\n\n<p>However, if I run a local server, everything works normally. </p>\n\n<p>I tried to install the newest log library locally, and tested that logs can be sent out in a local environment. Is there a way to debug this?</p>\n"}, {"tags": ["python", "django", "django-models", "django-rest-framework"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1537393329, "post_id": 52414550, "comment_id": 91772888, "body": "You write <code>self.save()</code> in the <code>if self.recurrent_type == &quot;WEEKLY&quot;</code> in the <code>.save()</code> function, hence you call the function in its definition. Since the <code>self.recurrent_type</code> is never changed (nor other parameters that determine the loop), this can indeed result in infinite recursion."}, {"owner": {"reputation": 851, "user_id": 8544781, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0BFme.jpg?s=128&g=1", "display_name": "aalberti333", "link": "https://stackoverflow.com/users/8544781/aalberti333"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1537393701, "post_id": 52414550, "comment_id": 91773007, "body": "I see, thanks for the input @WillemVanOnsem , do you happen to know what I&#39;m able to do to fix this? I&#39;m at a complete loss"}, {"owner": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 0, "creation_date": 1537394616, "post_id": 52414550, "comment_id": 91773290, "body": "Try to remove <code>self.save()</code>, you have that in <code>if self.recurrent_type == &quot;WEEKLY&quot;</code> and its <code>else</code>."}, {"owner": {"reputation": 111, "user_id": 6759844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c04d7372b5ae33027ce5ea15112a4fa3?s=128&d=identicon&r=PG&f=1", "display_name": "bdbd", "link": "https://stackoverflow.com/users/6759844/bdbd"}, "reply_to_user": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 1, "creation_date": 1537402746, "post_id": 52414550, "comment_id": 91775066, "body": "You should call <code>super(Bookings, self).save(*args, **kwargs)</code> instead of <code>self.save()</code>. The super save will call django&#39;s actual model save which is what you want. Calling <code>self.save()</code> will just call your overridden save which doesn&#39;t do anything in the database. But yeah what @AamirAdnan said should fix your problem."}, {"owner": {"reputation": 851, "user_id": 8544781, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0BFme.jpg?s=128&g=1", "display_name": "aalberti333", "link": "https://stackoverflow.com/users/8544781/aalberti333"}, "reply_to_user": {"reputation": 111, "user_id": 6759844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c04d7372b5ae33027ce5ea15112a4fa3?s=128&d=identicon&r=PG&f=1", "display_name": "bdbd", "link": "https://stackoverflow.com/users/6759844/bdbd"}, "edited": false, "score": 0, "creation_date": 1537447545, "post_id": 52414550, "comment_id": 91793795, "body": "Thanks for the help everybody! I ended up using the solution provided by @bdbd (Can you please post your solution as an answer so I can accept it?). In addition to avoiding the infinite recursion, I made the mistakes of: (1) saving the variables as <code>self.id</code> when they should have been <code>self.unique_id</code> (2) I wasn&#39;t incrementing my counter variable <code>RESET_COUNTER</code> (3) I should have been returning <code>None</code> at the bottom to avoid double-saving duplicate <code>unique_id</code>s. All is working as expected now."}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 6759844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c04d7372b5ae33027ce5ea15112a4fa3?s=128&d=identicon&r=PG&f=1", "display_name": "bdbd", "link": "https://stackoverflow.com/users/6759844/bdbd"}, "is_accepted": true, "score": 2, "last_activity_date": 1537490162, "creation_date": 1537490162, "answer_id": 52435055, "question_id": 52414550, "link": "https://stackoverflow.com/questions/52414550/override-save-in-django-causing-infinite-recursion-error/52435055#52435055", "title": "Override save in Django causing infinite recursion error", "body": "<p>You should call <code>super(Bookings, self).save(*args, **kwargs)</code> instead of <code>self.save()</code>. The super save will call django's actual model save which is what you want. Calling <code>self.save()</code> will just call your overridden save which doesn't do anything in the database. But yeah what @AamirAdnan said should fix your problem.</p>\n"}], "owner": {"reputation": 851, "user_id": 8544781, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0BFme.jpg?s=128&g=1", "display_name": "aalberti333", "link": "https://stackoverflow.com/users/8544781/aalberti333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 52435055, "answer_count": 1, "score": 1, "last_activity_date": 1537490162, "creation_date": 1537393191, "question_id": 52414550, "link": "https://stackoverflow.com/questions/52414550/override-save-in-django-causing-infinite-recursion-error", "title": "Override save in Django causing infinite recursion error", "body": "<p>(Django 2.0, Python 3.6, Django Rest Framework 3.8)</p>\n\n<p>I'm trying to override Django's <code>save()</code> method to post multiple instances when a single instance is created. I have a loop that changes the <code>unique_id</code> which I have saved as a randomly generated string, and the datetime value which is updated through another function called <code>onDay()</code>.</p>\n\n<p>My thinking was, that if I changed the <code>unique_id</code> each time I looped around, Django would save the instance as a new instance in the database. But, I keep getting back an infinite recursion error when I run it though. When I checked it with <code>pdb.set_trace()</code>, everything does what it's supposed to until I hit the <code>save()</code> value in the for loop. Once that happens, I just get taken back to the line <code>if self.recurrent_type == \"WEEKLY\":</code>.</p>\n\n<p>I've used <code>super()</code> in a similar way (without looping) to override the <code>save()</code> function for a separate model, and it worked as expected. I think there's just something I'm misunderstanding about the <code>super()</code> function.</p>\n\n<p>Here is what I have so far:</p>\n\n<p><strong>Overriding save()</strong></p>\n\n<pre><code>def save(self, *args, **kwargs):\n        if not self.pk:  # if there is not yet a pk for it\n            # import pdb; pdb.set_trace()\n            if self.recurrent_type == \"WEEKLY\":\n                LIST_OF_DAYS = self.days_if_recurring[\"days\"]\n                HOW_MANY_DAYS_FOR_ONE_WEEK = len(LIST_OF_DAYS)\n                REPEATS = HOW_MANY_DAYS_FOR_ONE_WEEK * self.number_of_times_recurring\n                RESET_COUNTER = 0\n                for i in range(REPEATS):\n                    self.id = ''.join(random.choices(string.ascii_letters, k=30))\n                    self.calendarydays = onDay(self.calendarydays, LIST_OF_DAYS[RESET_COUNTER])\n                    if RESET_COUNTER == HOW_MANY_DAYS_FOR_ONE_WEEK - 1:\n                        RESET_COUNTER = 0\n                    self.save()\n            else:\n                self.id = ''.join(random.choices(string.ascii_letters, k=30))\n                self.save()\n        return super(Bookings, self).save(*args, **kwargs)\n</code></pre>\n\n<p><strong>onDay()</strong></p>\n\n<pre><code>def onDay(date, day):  # this function finds next day of week, and skips ahead one week if today's time has already passed\n    utc = pytz.UTC\n    check_right_now = utc.localize(datetime.datetime.now())\n    if check_right_now &gt; date:\n        forward_day = date + datetime.timedelta(days=(day - date.weekday() + 7) % 7) + datetime.timedelta(days=7)\n    else:\n        forward_day = date + datetime.timedelta(days=(day - date.weekday() + 7) % 7)\n    return forward_day\n</code></pre>\n\n<p>As always, any help is greatly appreciated.</p>\n"}, {"tags": ["python", "tkinter", "python-3.7"], "answers": [{"tags": [], "owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "is_accepted": true, "score": 2, "last_activity_date": 1537393516, "creation_date": 1537393516, "answer_id": 52414596, "question_id": 52414546, "link": "https://stackoverflow.com/questions/52414546/problem-with-tkinter-and-urllib-for-checking-websites/52414596#52414596", "title": "Problem with tkinter and urllib for checking websites", "body": "<p>You haven't put <code>text_entry</code> on the <code>self</code> object and you can't access it in <code>search</code> function.</p>\n\n<pre><code>    #Text Box\n    self.text_entry = Entry(self, width=20, bg=\"white\")\n    self.text_entry.place(x=0, y=0)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10388055, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wwPqjSmlggg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPKdZiJCSpFExIlyGGg6ZhtHwWpzQ/mo/photo.jpg?sz=128", "display_name": "Brooking Henshaw", "link": "https://stackoverflow.com/users/10388055/brooking-henshaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 52414596, "answer_count": 1, "score": 0, "last_activity_date": 1537393516, "creation_date": 1537393161, "question_id": 52414546, "link": "https://stackoverflow.com/questions/52414546/problem-with-tkinter-and-urllib-for-checking-websites", "title": "Problem with tkinter and urllib for checking websites", "body": "<p>I am trying to create an application that will allow you to put in multiple websites and check if they are down. When I run the code the window opens and everything works fine until i click search. Then i get the following error \nAttributeError: 'Window' object has no attribute 'text_entry'\n Any help would be greatly appreciated </p>\n\n<pre><code>#Import everything from tkinter\nfrom tkinter import *\n\nimport urllib.request\n\n#Main window\nclass Window(Frame):\n\n    #Master Widget\n    def __init__(self, master = None):\n        Frame.__init__(self, master)\n        self.master = master\n        self.init_window()\n\n    #Creation of init_window\n    def init_window(self):\n        # changing the title of our master widget\n        self.master.title(\"GUI\")\n        # allowing the widget to take the full space of the root window\n        self.pack(fill=BOTH, expand=1)\n\n        #Menu\n        menu = Menu(self.master)\n        self.master.config(menu=menu)\n\n        #File Menu option\n        file = Menu(menu)\n        file.add_command(label=\"Exit\", command=self.client_exit)\n        menu.add_cascade(label=\"File\", menu=file)\n\n        #Text Box\n        text_entry = Entry(self, width=20, bg=\"white\")\n        text_entry.place(x=0, y=0)\n\n        #Submit button\n        searchButton = Button(self, text='SUBMIT', width=6, \ncommand=self.search)\n        searchButton.place(x=200, y=30)\n\n        #Output Box\n        output = Text(self, width=20, height=1, bg=\"white\")\n        output.place(x=0, y=50)\n\n    def search(self):\n        entered_text = self.text_entry.get()\n        output.delete(0.0, END)\n        definition=(int(urllib.request.urlopen(entered_text).getcode()))\n        output.insert(END, definition)\n\nroot = Tk()\n#Size of the window\nroot.geometry(\"400x300\")\n#Window instance\napp = Window(root)\n#Show and mainloop\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "excel", "openpyxl"], "answers": [{"comments": [{"owner": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "edited": false, "score": 0, "creation_date": 1537425399, "post_id": 52418829, "comment_id": 91781092, "body": "I am currently using version 2.4.0, one of the issues states that charts are handled correctly in 2.5.0."}, {"owner": {"reputation": 67, "user_id": 10018878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611ab8b1b440257c3670781b0ac892f0?s=128&d=identicon&r=PG&f=1", "display_name": "pybert", "link": "https://stackoverflow.com/users/10018878/pybert"}, "edited": false, "score": 0, "creation_date": 1537652480, "post_id": 52418829, "comment_id": 91864237, "body": "I just got the answer from the great Charlie Clark in <a href=\"https://groups.google.com/d/msg/openpyxl-users/0_q2T-icXPU/ZkEVe1rmCQAJ\" rel=\"nofollow noreferrer\">this link</a> that one needs version&gt;= 2.5.5 for preserving images during openPyxl modification."}], "tags": [], "owner": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "is_accepted": false, "score": 1, "last_activity_date": 1537763461, "last_edit_date": 1537763461, "creation_date": 1537424508, "answer_id": 52418829, "question_id": 52414544, "link": "https://stackoverflow.com/questions/52414544/inserting-multiple-images-in-excel-using-openpyxel-does-not-work/52418829#52418829", "title": "Inserting multiple images in Excel using OpenPyxel does not work", "body": "<p>Update:</p>\n\n<p>As stated in the comments this should work now:</p>\n\n<blockquote>\n  <p>Up until very recently images in existing files were not preserved.\n  You   need >= 2.5.5 for this.</p>\n</blockquote>\n\n<p>The doc states for older versions:</p>\n\n<blockquote>\n  <p>openpyxl does currently not read all possible items in an Excel file\n  so images and charts will be lost from existing files if they are\n  opened and saved with the same name.</p>\n</blockquote>\n\n<p>There are several bug issues about this (<a href=\"https://bitbucket.org/openpyxl/openpyxl/issues/189/image-insert-in-excel-erases-existing\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://bitbucket.org/openpyxl/openpyxl/issues/870/losing-images-after-loading-and-saving-a\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://bitbucket.org/openpyxl/openpyxl/issues/523/charts-in-existing-worksheets-lost\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>One <a href=\"https://bitbucket.org/openpyxl/openpyxl/issues/189/image-insert-in-excel-erases-existing#comment-23793200\" rel=\"nofollow noreferrer\">comment</a> in the issues is using <code>win32com</code> as a workaround to copy the sheet with the image to a different file.</p>\n"}], "owner": {"reputation": 67, "user_id": 10018878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611ab8b1b440257c3670781b0ac892f0?s=128&d=identicon&r=PG&f=1", "display_name": "pybert", "link": "https://stackoverflow.com/users/10018878/pybert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537763461, "creation_date": 1537393153, "question_id": 52414544, "link": "https://stackoverflow.com/questions/52414544/inserting-multiple-images-in-excel-using-openpyxel-does-not-work", "title": "Inserting multiple images in Excel using OpenPyxel does not work", "body": "<p>I'm trying to insert images with OpenPyxl to a Excel file that has already images in it (in different sheets in my case). If I do so, the existing images disappear.</p>\n\n<p>Sample code:</p>\n\n<pre><code>import openpyxl\nfrom openpyxl import load_workbook\n\nwb = openpyxl.Workbook()\n\nws1 = wb.create_sheet(\"MySheet1\")\nimg1 = openpyxl.drawing.image.Image('test1.png')\nimg1.anchor = ws1.cell(row=2, column=2).coordinate\nws1.add_image(img1)\nwb.save('test_output.xlsx')\n\nwb = load_workbook(filename='test_output.xlsx')\nws2 = wb.create_sheet(\"MySheet2\")\nimg2 = openpyxl.drawing.image.Image('test2.png')\nimg2.anchor = ws2.cell(row=2, column=2).coordinate\nws2.add_image(img2)\nwb.save('test_output.xlsx')\n</code></pre>\n\n<p>Is there anything I do wrong here?</p>\n\n<p>Thanks alot in advance.</p>\n"}, {"tags": ["python", "numpy", "opencv", "matplotlib", "image-processing"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1537404790, "post_id": 52414542, "comment_id": 91775497, "body": "If you create a mask where it&#39;s white inside each shape and black outside, then you can &quot;skeletonize&quot; the masks. OpenCV does not have a skeletonize function as far as I know, but scikit-image <a href=\"http://scikit-image.org/docs/dev/auto_examples/edges/plot_skeleton.html\" rel=\"nofollow noreferrer\">does</a>."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1537405047, "post_id": 52414542, "comment_id": 91775540, "body": "Actually, OpenCV <i>does</i> have a thinning algorithm, but it&#39;s in the contrib modules: <a href=\"https://docs.opencv.org/master/df/d2d/group__ximgproc.html#ga37002c6ca80c978edb6ead5d6b39740c\" rel=\"nofollow noreferrer\">docs.opencv.org/master/df/d2d/&hellip;</a>"}], "owner": {"reputation": 139, "user_id": 723242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5522cddfb086f72840bfc602f0ce1fa6?s=128&d=identicon&r=PG", "display_name": "Pinnacle", "link": "https://stackoverflow.com/users/723242/pinnacle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537393148, "creation_date": 1537393148, "last_edit_date": 1592644375, "question_id": 52414542, "link": "https://stackoverflow.com/questions/52414542/how-do-we-draw-a-curve-between-outlines-boundaries-in-python", "title": "How do we draw a curve between outlines / boundaries in Python?", "body": "<p>I want to draw dotted curve between the boundaries. For eg, consider the following image:</p>\n<p><a href=\"https://i.stack.imgur.com/viC19.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/viC19.jpg\" alt=\"Image\" /></a></p>\n<p>From the image, I have the dark outline - what I want is the dotted part through code. As of now, I have the following algorithm:</p>\n<ol>\n<li>For each point say A, find it's two nearest points</li>\n<li>Form these two points, find it's slope, and then the slope of the line perpendicular to it.</li>\n<li>The using the perpendicular slope and point A, determine the line and also where it intersects the parallel point, say B</li>\n<li>Draw a point half way between A and B on this perpendicular line.</li>\n</ol>\n<p>This method is like Brute force. I think using numpy, opencv or plotting libraries, this might be a trivial thing. Do you have any suggestions?</p>\n<p>Thank you</p>\n"}, {"tags": ["python", "list-comprehension"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1537393339, "post_id": 52414505, "comment_id": 91772894, "body": "Not every loop is amenable to replacement by a list comprehension."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 3, "creation_date": 1537393454, "post_id": 52414505, "comment_id": 91772938, "body": "Why don&#39;t you just search for the first <code>0</code>, slice your list and extend it with zeros to match the original size? Should be considerably faster, too."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537393476, "post_id": 52414505, "comment_id": 91772944, "body": "Why do you need this done with a list comprehension?"}, {"owner": {"reputation": 860, "user_id": 8749434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8fuC.jpg?s=128&g=1", "display_name": "Zoe L", "link": "https://stackoverflow.com/users/8749434/zoe-l"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1537393746, "post_id": 52414505, "comment_id": 91773021, "body": "Thanks for all the comments and solutions!! @chepner I found my original method unnecessarily lengthy for the simple(?) task... List comprehension or not, welcome any simpler methods~"}, {"owner": {"reputation": 860, "user_id": 8749434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8fuC.jpg?s=128&g=1", "display_name": "Zoe L", "link": "https://stackoverflow.com/users/8749434/zoe-l"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1537394054, "post_id": 52414505, "comment_id": 91773113, "body": "@zwer Nice! Thanks!"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1537394379, "post_id": 52414505, "comment_id": 91773223, "body": "@ZoeL your approach is perfectly fine."}, {"owner": {"reputation": 1168, "user_id": 8593338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52b142a7c677195e5f55a06afbe4fd6?s=128&d=identicon&r=PG&f=1", "display_name": "abcdaire", "link": "https://stackoverflow.com/users/8593338/abcdaire"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1537395145, "post_id": 52414505, "comment_id": 91773447, "body": "I&#39;ll go for @zwer approach (if you don&#39;t want to use numpy)"}], "answers": [{"comments": [{"owner": {"reputation": 6008, "user_id": 1983772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2f429722c8167802b89cbe4d324aa1e?s=128&d=identicon&r=PG", "display_name": "Norrius", "link": "https://stackoverflow.com/users/1983772/norrius"}, "edited": false, "score": 1, "creation_date": 1537393907, "post_id": 52414547, "comment_id": 91773065, "body": "That&#39;s cool! <code>enumerate</code> is probably an overkill though, <code>range</code> should suffice. For bonus golfiness, cast the if condition to int."}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "reply_to_user": {"reputation": 6008, "user_id": 1983772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2f429722c8167802b89cbe4d324aa1e?s=128&d=identicon&r=PG", "display_name": "Norrius", "link": "https://stackoverflow.com/users/1983772/norrius"}, "edited": false, "score": 0, "creation_date": 1537393986, "post_id": 52414547, "comment_id": 91773090, "body": "@Norrius yes, I first understood the question as wanting to keep the original values."}], "tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 3, "last_activity_date": 1537394112, "last_edit_date": 1537394112, "creation_date": 1537393164, "answer_id": 52414547, "question_id": 52414505, "link": "https://stackoverflow.com/questions/52414505/pythons-list-comprehension-modify-list-elements-if-a-certain-value-occurs/52414547#52414547", "title": "Python&#39;s list comprehension: Modify list elements if a certain value occurs", "body": "<p>For a list comprehension approach, you could use <code>index</code> with <code>enumerate</code>:</p>\n\n<pre><code>firstIndex = nums.index(0) if 0 in nums else -1\n[1 if i &lt; firstIndex else 0 for i, x in enumerate(nums)]\n</code></pre>\n\n<p>Another approach using <code>numpy</code>:</p>\n\n<pre><code>import numpy as np\nprint(np.cumprod(np.array(nums) != 0).tolist())\n#[1, 1, 0, 0, 0]\n</code></pre>\n\n<p>Here we take the convert <code>nums</code> to a numpy array and check to see if the values are not equal to 0. We then take the cumulative product of the array, knowing that once a 0 is found we will multiply by 0 from that point forward. </p>\n"}, {"comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1537394161, "post_id": 52414617, "comment_id": 91773142, "body": "I had the slicing idea too but then what if 0 is not in the list?"}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "edited": false, "score": 0, "creation_date": 1537394268, "post_id": 52414617, "comment_id": 91773182, "body": "You beat me to it. You even gave the O(n*n) warning. Nice."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 1, "creation_date": 1537394285, "post_id": 52414617, "comment_id": 91773189, "body": "@pault In that case, this dies with a ValueError.  Now fixed."}, {"owner": {"reputation": 860, "user_id": 8749434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8fuC.jpg?s=128&g=1", "display_name": "Zoe L", "link": "https://stackoverflow.com/users/8749434/zoe-l"}, "edited": false, "score": 0, "creation_date": 1537484091, "post_id": 52414617, "comment_id": 91812312, "body": "Thank you all for contributing! You guys are artists! I ended up applying the find&amp;padding method, though I found the slicing idea very smart (O aside)! \ud83d\udc4d\ud83d\udc4d\ud83d\udc4d"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 6, "last_activity_date": 1537394379, "last_edit_date": 1537394379, "creation_date": 1537393647, "answer_id": 52414617, "question_id": 52414505, "link": "https://stackoverflow.com/questions/52414505/pythons-list-comprehension-modify-list-elements-if-a-certain-value-occurs/52414617#52414617", "title": "Python&#39;s list comprehension: Modify list elements if a certain value occurs", "body": "<pre><code>nums = [1,1,0,1,1]\n[int(all(nums[:i+1])) for i in range(len(nums))]\n</code></pre>\n\n<p>This steps through the list, applying the <code>all</code> operator to the entire sub-list up to that point.</p>\n\n<p>Output:</p>\n\n<pre><code>[1, 1, 0, 0, 0]\n</code></pre>\n\n<p>Granted, this is <strong>O(n^2)</strong>, but it gets the job done.</p>\n\n<p>Even more effective is simply to find the index of the first 0.\nMake a new list made of that many <code>1</code>s, padded with the appropriate quantity of zeros.</p>\n\n<pre><code>if 0 in nums:\n    idx = nums.index(0)\n    new_list = [1] * idx + [0] * (len(nums) - idx)\n</code></pre>\n\n<p>... or if the original list can contain elements other than 0 and 1, copy the list that far rather than repeating <code>1</code>s:</p>\n\n<pre><code>    new_list = nums[:idx] + [0] * (len(nums) - idx)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "is_accepted": false, "score": 8, "last_activity_date": 1537423363, "last_edit_date": 1537423363, "creation_date": 1537394434, "answer_id": 52414754, "question_id": 52414505, "link": "https://stackoverflow.com/questions/52414505/pythons-list-comprehension-modify-list-elements-if-a-certain-value-occurs/52414754#52414754", "title": "Python&#39;s list comprehension: Modify list elements if a certain value occurs", "body": "<p>Some context, a list comprehension is a sort of \"imperative\" syntax for the <code>map</code> and <code>filter</code> functions that exist in many functional programing languages. What you're trying to do is usually referred to as an <code>accumulate</code>, which is a slightly different operation. You can't implement an <code>accumulate</code> in terms of a <code>map</code> and <code>filter</code> except by using side effects. Python allows you have side effects in a list comprehension so it's definitely possible but list comprehensions with side effects are a little wonky. Here's how you could implement this using accumulate:</p>\n\n<pre><code>nums = [1,1,0,1,1]\n\ndef accumulator(last, cur):\n    return 1 if (last == 1 and cur == 1) else 0\n\nlist(accumulate(nums, accumulator))\n</code></pre>\n\n<p>or in one line:</p>\n\n<pre><code>list(accumulate(nums, lambda last, cur: 1 if (last == 1 and cur == 1) else 0))\n</code></pre>\n\n<p>Of course there are several ways to do this using an external state and a list comprehension with side effects. Here's an example, it's a bit verbose but very explicit about how state is being manipulated:</p>\n\n<pre><code>class MyState:\n    def __init__(self, initial_state):\n        self.state = initial_state\n    def getNext(self, cur):\n        self.state = accumulator(self.state, cur)\n        return self.state\n\nmystate = MyState(1)\n[mystate.getNext(x) for x in nums]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "is_accepted": false, "score": 5, "last_activity_date": 1539805343, "last_edit_date": 1539805343, "creation_date": 1537394772, "answer_id": 52414812, "question_id": 52414505, "link": "https://stackoverflow.com/questions/52414505/pythons-list-comprehension-modify-list-elements-if-a-certain-value-occurs/52414812#52414812", "title": "Python&#39;s list comprehension: Modify list elements if a certain value occurs", "body": "<p>I had an answer using list comprehension, but @Prune beat me to it. It was really just a cautionary tail, showing how it would be done while making an argument against that approach.</p>\n\n<p>Here's an alternative approach that might fit your needs:</p>\n\n<pre><code>import itertools\nimport operator\n\nnums = [1,1,0,1,1]\nres = itertools.accumulate(nums, operator.and_)\n</code></pre>\n\n<p>In this case <code>res</code> is an iterable. If you need a list, then</p>\n\n<pre><code>res = list(itertools.accumulate(nums, operator.and_))\n</code></pre>\n\n<p>Let's break this down. The <code>accumulate()</code> function can be used to generate a running total, or 'accumulated sums'. If only one argument is passed the default function is addition. Here we pass in operator.and_. The <code>operator</code> module exports a set of efficient functions corresponding to the intrinsic operators of Python. When an accumulated <code>and</code> is run on a list of 0's and 1's the result is a list that has 1's up till the first 0 is found, then all 0's after.</p>\n\n<p>Of course we're not limited to using functions defined in the <code>operator</code> module. You can use any function that accepts 2 parameters of the type of the elements in the first parameter (and probably returns the same type). You can get creative, but here I'll keep it simple and just implement <code>and</code>:</p>\n\n<pre><code>import itertools\n\nnums = [1,1,0,1,1]\nres = itertools.accumulate(nums, lambda a, b: a and b)\n</code></pre>\n\n<p>Note: using operator.and_ probably runs faster. Here we're just providing an example using the lambda syntax.</p>\n\n<p>While a list comprehension is not used, to me it has a similar feel. It fits in one line and isn't too hard to read.</p>\n"}, {"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 1, "last_activity_date": 1537395158, "creation_date": 1537395158, "answer_id": 52414874, "question_id": 52414505, "link": "https://stackoverflow.com/questions/52414505/pythons-list-comprehension-modify-list-elements-if-a-certain-value-occurs/52414874#52414874", "title": "Python&#39;s list comprehension: Modify list elements if a certain value occurs", "body": "<p>Here is a linear-time solution that doesn't mutate global state, doesn't require any other iterators except the <code>nums</code>, and that does what you want, albeit requiring some auxiliary data-structures, and using a seriously hacky list-comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; nums = [1,1,0,1,1]\n&gt;&gt;&gt; [f for f, ns in [(1, nums)] for n in ns for f in [f &amp; (n==1)]]\n[1, 1, 0, 0, 0]\n</code></pre>\n\n<p>Don't use this. Use your original for-loop. It is more readable, and almost certainly faster. Don't strive to put everything in a list-comprehension. Strive to make your code simple, readable, and maintainable, which your code already was, and the above code is not.</p>\n"}], "owner": {"reputation": 860, "user_id": 8749434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8fuC.jpg?s=128&g=1", "display_name": "Zoe L", "link": "https://stackoverflow.com/users/8749434/zoe-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2885, "favorite_count": 0, "accepted_answer_id": 52414617, "answer_count": 5, "score": 9, "last_activity_date": 1539805343, "creation_date": 1537392894, "last_edit_date": 1537393717, "question_id": 52414505, "link": "https://stackoverflow.com/questions/52414505/pythons-list-comprehension-modify-list-elements-if-a-certain-value-occurs", "title": "Python&#39;s list comprehension: Modify list elements if a certain value occurs", "body": "<p>How can I do the following in Python's list comprehension?</p>\n\n<pre><code>nums = [1,1,0,1,1]\noFlag = 1\nres = []\nfor x in nums:\n    if x == 0:\n        oFlag = 0\n    res.append(oFlag)\nprint(res)\n\n# Output: [1,1,0,0,0]\n</code></pre>\n\n<p>Essentially in this example, zero out the rest of the list once a <code>0</code> occurs.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 317, "user_id": 8150006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GK9eo.jpg?s=128&g=1", "display_name": "toom501", "link": "https://stackoverflow.com/users/8150006/toom501"}, "edited": false, "score": 0, "creation_date": 1537394201, "post_id": 52414487, "comment_id": 91773152, "body": "What do you mean &quot;express my code using functions&quot;?  What&#39;s your goal and what have you tried so far?"}, {"owner": {"reputation": 1125, "user_id": 9127165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c587412f6474fb6e90ff67a8541a0223?s=128&d=identicon&r=PG&f=1", "display_name": "Sachihiro", "link": "https://stackoverflow.com/users/9127165/sachihiro"}, "reply_to_user": {"reputation": 317, "user_id": 8150006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GK9eo.jpg?s=128&g=1", "display_name": "toom501", "link": "https://stackoverflow.com/users/8150006/toom501"}, "edited": false, "score": 0, "creation_date": 1537395138, "post_id": 52414487, "comment_id": 91773445, "body": "created a function that validate the move or return &quot;not a valid move&quot;, the maze basically have a grid of 3x3 so for each direction i will increment or decrease x and y, but it cannot move everywhere so i have to make this checks for coordinate 1,1 for instance, or 2,3 etc, by function does not store the value and ir resets always to 1,1 and that is my first issue."}], "answers": [{"comments": [{"owner": {"reputation": 1125, "user_id": 9127165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c587412f6474fb6e90ff67a8541a0223?s=128&d=identicon&r=PG&f=1", "display_name": "Sachihiro", "link": "https://stackoverflow.com/users/9127165/sachihiro"}, "edited": false, "score": 0, "creation_date": 1537393900, "post_id": 52414612, "comment_id": 91773061, "body": "My desired parameters can&#39;s be assigned as x and y, the only parameter i can use to direct the x and y is choice input"}, {"owner": {"reputation": 51, "user_id": 10387830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BlWZp.jpg?s=128&g=1", "display_name": "vitoriahmc", "link": "https://stackoverflow.com/users/10387830/vitoriahmc"}, "reply_to_user": {"reputation": 1125, "user_id": 9127165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c587412f6474fb6e90ff67a8541a0223?s=128&d=identicon&r=PG&f=1", "display_name": "Sachihiro", "link": "https://stackoverflow.com/users/9127165/sachihiro"}, "edited": false, "score": 0, "creation_date": 1537394129, "post_id": 52414612, "comment_id": 91773130, "body": "Well, you&#39;re using x=1 and y=1 to initialize your game before any choice inputs are made, so MyFunc(1,1) would only do the same, redirect you to the same if (the first one). I guess I didn&#39;t get what you meant, then."}, {"owner": {"reputation": 1125, "user_id": 9127165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c587412f6474fb6e90ff67a8541a0223?s=128&d=identicon&r=PG&f=1", "display_name": "Sachihiro", "link": "https://stackoverflow.com/users/9127165/sachihiro"}, "edited": false, "score": 0, "creation_date": 1537394714, "post_id": 52414612, "comment_id": 91773318, "body": "you are correct, but i the while loop because the program have to prompt for another move until reaches the victory"}, {"owner": {"reputation": 51, "user_id": 10387830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BlWZp.jpg?s=128&g=1", "display_name": "vitoriahmc", "link": "https://stackoverflow.com/users/10387830/vitoriahmc"}, "reply_to_user": {"reputation": 1125, "user_id": 9127165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c587412f6474fb6e90ff67a8541a0223?s=128&d=identicon&r=PG&f=1", "display_name": "Sachihiro", "link": "https://stackoverflow.com/users/9127165/sachihiro"}, "edited": false, "score": 0, "creation_date": 1537395030, "post_id": 52414612, "comment_id": 91773413, "body": "You could create some other flag outside the ifs and set it  <code>True</code>, and then set it to <code>False</code> when it reaches victory. Something like <code>flag = True</code>, <code>while(flag):</code> and then <code>flag = False</code> after <code>print(&quot;Victory!&quot;)</code>"}], "tags": [], "owner": {"reputation": 51, "user_id": 10387830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BlWZp.jpg?s=128&g=1", "display_name": "vitoriahmc", "link": "https://stackoverflow.com/users/10387830/vitoriahmc"}, "is_accepted": false, "score": 0, "last_activity_date": 1537393603, "creation_date": 1537393603, "answer_id": 52414612, "question_id": 52414487, "link": "https://stackoverflow.com/questions/52414487/how-can-i-refactor-my-code-using-functions/52414612#52414612", "title": "How can I refactor my code using functions?", "body": "<p>You could have your function recieving <code>x</code> and <code>y</code> as parameters, removing the While True and replacing it with its creation, like <code>def MyFunc(x,y)</code>, putting the <code>valid_selection</code> variable inside it and removing <code>x</code> and <code>y</code> attributions. And then you call it in the end of the code passing <code>1</code> and <code>1</code> as your desired parameters, like <code>MyFunc(1,1)</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5119956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ivf3g.jpg?s=128&g=1", "display_name": "Daniel Magalh&#227;es Bicalho", "link": "https://stackoverflow.com/users/5119956/daniel-magalh%c3%a3es-bicalho"}, "is_accepted": false, "score": -1, "last_activity_date": 1537394149, "creation_date": 1537394149, "answer_id": 52414714, "question_id": 52414487, "link": "https://stackoverflow.com/questions/52414487/how-can-i-refactor-my-code-using-functions/52414714#52414714", "title": "How can I refactor my code using functions?", "body": "<p>There are many ways to create a function. \nFirst, you need to abstract what your program do. The name of the function have to express this. \nSecond, you need to know what are the inputs. In your case the input must be x and y, or the proper names to these input. </p>\n\n<p>The answer which your function will return is a important thing to know. The user will see a print or the user of the function will use a number, string or other object to feed other function. </p>\n\n<p>I hope this not confusing. </p>\n"}], "owner": {"reputation": 1125, "user_id": 9127165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c587412f6474fb6e90ff67a8541a0223?s=128&d=identicon&r=PG&f=1", "display_name": "Sachihiro", "link": "https://stackoverflow.com/users/9127165/sachihiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1539038001, "creation_date": 1537392802, "last_edit_date": 1539038001, "question_id": 52414487, "link": "https://stackoverflow.com/questions/52414487/how-can-i-refactor-my-code-using-functions", "title": "How can I refactor my code using functions?", "body": "<p>It is a simple maze game I did for school. I have tried different solutions but still cant figure out how. I don't necessarily need a full solution; any tips would help.</p>\n\n<pre><code>x = 1\ny = 1\nvalid_selection = True\n\nwhile True:\n    if x == 1 and y == 1:\n        if valid_selection == True:\n            print(\"You can travel: (N)orth.\")\n        valid_selection = True\n        choice = input(\"Direction: \")\n        if choice.lower() == \"n\":\n            y += 1\n        else:\n            print(\"Not a valid direction!\")\n            valid_selection = False\n    elif x == 1 and y == 2:\n        if valid_selection == True:\n            print(\"You can travel: (N)orth or (E)ast or (S)outh.\")\n        valid_selection = True\n        choice = input(\"Direction: \")\n        if choice.lower() == \"n\":\n            y += 1\n        elif choice.lower() == \"e\":\n            x += 1\n        elif choice.lower() == \"s\":\n            y -= 1\n        else:\n            print(\"Not a valid direction!\")\n            valid_selection = False\n    elif x == 3 and y == 1:\n        print(\"Victory!\")\n        break\n</code></pre>\n"}, {"tags": ["python", "image", "graphics", "pygame"], "comments": [{"owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "edited": false, "score": 0, "creation_date": 1537423641, "post_id": 52414478, "comment_id": 91780300, "body": "Try calling <code>convert()</code> on both surfaces after loading: <code>backgroundPicture = pygame.image.load(backgroundFile).convert()</code> and <code>picture = pygame.image.load(file).convert()</code>"}, {"owner": {"reputation": 134, "user_id": 7488558, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87d9ea504c9a227071d200b1ee61aaf8?s=128&d=identicon&r=PG&f=1", "display_name": "Voljega", "link": "https://stackoverflow.com/users/7488558/voljega"}, "reply_to_user": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "edited": false, "score": 0, "creation_date": 1537509271, "post_id": 52414478, "comment_id": 91817742, "body": "Hello sloth I&#39;ve tried it as I did see this in another question, but it didn&#39;t solve the problem"}], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 7488558, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87d9ea504c9a227071d200b1ee61aaf8?s=128&d=identicon&r=PG&f=1", "display_name": "Voljega", "link": "https://stackoverflow.com/users/7488558/voljega"}, "edited": false, "score": 0, "creation_date": 1537421903, "post_id": 52415053, "comment_id": 91779600, "body": "Hello, thank you  for your explanation.  Just one question : &quot;to go to a 16-bit setup instead of 8-bit, if pygame can do that&quot; how can I do that ?    Also according to this <a href=\"https://elinux.org/RPiconfig\" rel=\"nofollow noreferrer\">link</a> it seems the default for the Raspberry Pi framebuffer is already 16bit.    Is there anything I can do on the image side ?   Another funnny thing is in Gimp the histogram for the image says there are only 256 colors (maybe for each R G B though) ? so far less than 16bits ?"}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 134, "user_id": 7488558, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87d9ea504c9a227071d200b1ee61aaf8?s=128&d=identicon&r=PG&f=1", "display_name": "Voljega", "link": "https://stackoverflow.com/users/7488558/voljega"}, "edited": false, "score": 0, "creation_date": 1537425969, "post_id": 52415053, "comment_id": 91781364, "body": "I can&#39;t get the PNG file from <code>zippyfile</code> in order to look at it because it gives me a JPEG. Can you add the images into your question directly please - you should have a few more points now..."}, {"owner": {"reputation": 134, "user_id": 7488558, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87d9ea504c9a227071d200b1ee61aaf8?s=128&d=identicon&r=PG&f=1", "display_name": "Voljega", "link": "https://stackoverflow.com/users/7488558/voljega"}, "edited": false, "score": 0, "creation_date": 1537509399, "post_id": 52415053, "comment_id": 91817789, "body": "Added image in post, Mark"}], "tags": [], "owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1537396517, "creation_date": 1537396517, "answer_id": 52415053, "question_id": 52414478, "link": "https://stackoverflow.com/questions/52414478/pygame-getting-rid-of-strange-gradient-effect-on-displayed-image/52415053#52415053", "title": "Pygame : Getting rid of strange gradient effect on displayed image", "body": "<p>The effect you are seeing is called <em>\"banding\"</em>, see <a href=\"https://en.m.wikipedia.org/wiki/Colour_banding\" rel=\"nofollow noreferrer\">Wikipedia article</a>. It is caused by not having enough bit-depth to represent fine gradations of colour and is most noticeable in large, untextured areas.</p>\n\n<p>There are not many things you can do about it. Your options are basically:</p>\n\n<ul>\n<li>to go to a 16-bit setup instead of 8-bit, if <strong>pygame</strong> can do that, or</li>\n<li>add a small amount of random noise, or dithering to break it up.</li>\n</ul>\n"}], "owner": {"reputation": 134, "user_id": 7488558, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87d9ea504c9a227071d200b1ee61aaf8?s=128&d=identicon&r=PG&f=1", "display_name": "Voljega", "link": "https://stackoverflow.com/users/7488558/voljega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537509347, "creation_date": 1537392738, "last_edit_date": 1537509347, "question_id": 52414478, "link": "https://stackoverflow.com/questions/52414478/pygame-getting-rid-of-strange-gradient-effect-on-displayed-image", "title": "Pygame : Getting rid of strange gradient effect on displayed image", "body": "<p>Hello fellow programmers,</p>\n\n<p>I wrote a little python program which is use to launch random games on a retrograming distribution, and I use pygame to display the image of the game before launching it</p>\n\n<p>I use a background and my issue is that the background image is clean but when displaying it and the cover of the game over it, it appears with a strange ugly gradient effect as you can see there : <a href=\"https://imgur.com/a/BnNdoqn\" rel=\"nofollow noreferrer\">https://imgur.com/a/BnNdoqn</a></p>\n\n<p>It appears mostly in the corner and the cover itself is entirely unaffected.</p>\n\n<p>Here is my pygame code displaying both images :</p>\n\n<pre><code>    log('showPic %s' %file)\n    # INITS\n    pygame.init()\n    pygame.mouse.set_visible(0)\n    backgroundPicture = pygame.image.load(backgroundFile)\n    picture = pygame.image.load(file)\n    # # CREATE FULLSCREEN DISPLAY. X = 1920- Y = 1080\n    fullscreen = pygame.display.set_mode((1920,1080), FULLSCREEN)\n    fullscreen.blit(backgroundPicture, (0,0))\n    # # PASTE PICTURE ON FULLSCREEN\n    x = (1920 - picture.get_width()) /2\n    y = (1080 - picture.get_height()) /2\n    fullscreen.blit(picture, (x,y))\n    # # SHOW FULLSCREEN \n    pygame.display.flip()\n    # # WAIT 5 SECONDS (need import time)\n    time.sleep(5)\n    # # EXIT PYGAME (Not needed but recommanded)\n    pygame.display.quit()\n    pygame.quit()\n</code></pre>\n\n<p><code>backgroundPicture</code> is the background image and <code>picture</code> is the cover of the game, I combined the too like it appears in second capture.</p>\n\n<p>So mainly I don't know much at all about display, images, graphical libraries and all that.\nI think that this might be related to transparency or alpha layer or compression format of the image but I have no knowledge at all about that either.\nThe code is launched on a raspberry pi with a linux distribution, don't know much more about it.</p>\n\n<p>Also strangely, one of my users said the strange gradient effect seems to disappear after ten or so launches of the script, but I couldn't reproduce that.</p>\n\n<p>So what am I missing to get rid of that ugly effect ?</p>\n\n<p>Here is the background image here if its characteristic might be related to the problem : \n<a href=\"https://i.stack.imgur.com/YxbCV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YxbCV.png\" alt=\"background.png\"></a></p>\n\n<p>Thank you for your help !</p>\n"}, {"tags": ["python", "django", "django-rest-framework", "swagger", "swagger-ui"], "comments": [{"owner": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "edited": false, "score": 0, "creation_date": 1538495998, "post_id": 52414476, "comment_id": 92158694, "body": "Which version of Django are you using?"}, {"owner": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "edited": false, "score": 0, "creation_date": 1538497531, "post_id": 52414476, "comment_id": 92159525, "body": "Nevermind I managed to reproduce your problem"}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "reply_to_user": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "edited": false, "score": 0, "creation_date": 1538498646, "post_id": 52414476, "comment_id": 92160100, "body": "Thanks! I suspect it is a bug with Swagger UI."}], "answers": [{"comments": [{"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1538502424, "post_id": 52613267, "comment_id": 92161768, "body": "What file did you put your patch into?"}, {"owner": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "reply_to_user": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1538502513, "post_id": 52613267, "comment_id": 92161807, "body": "just above <code>class PendingRequestsFilter(BaseFilterBackend):</code>"}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1538502531, "post_id": 52613267, "comment_id": 92161813, "body": "ah you had a link to it: <a href=\"https://github.com/core-api/python-client/blob/d264fd277a878ea40f9f75755e461f8a9418671f/coreapi/document.py#L49\" rel=\"nofollow noreferrer\">github.com/core-api/python-client/blob/&hellip;</a>"}, {"owner": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "reply_to_user": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1538502814, "post_id": 52613267, "comment_id": 92161930, "body": "I&#39;ve forked the coreapi repo and modified Field. Still no success. Looks like allowMultiple is not passed as spec to swagger-ui"}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1538502968, "post_id": 52613267, "comment_id": 92161993, "body": "If I were to open an issue on github should I open on core-api/python-client or should I create an issue for Swagger UI&#39;s github?"}, {"owner": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "reply_to_user": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1538503292, "post_id": 52613267, "comment_id": 92162133, "body": "Looks like on both. Unfortunately"}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 1, "creation_date": 1538534002, "post_id": 52613267, "comment_id": 92171891, "body": "I have opened an issue against swagger UI on github: <a href=\"https://github.com/swagger-api/swagger-ui/issues/4918\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-ui/issues/4918</a>"}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1539537015, "post_id": 52613267, "comment_id": 92528599, "body": "They pointed me to Django-rest-swagger GitHub <a href=\"https://github.com/marcgibbons/django-rest-swagger/issues/779\" rel=\"nofollow noreferrer\">github.com/marcgibbons/django-rest-swagger/issues/779</a>"}, {"owner": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "reply_to_user": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1539537967, "post_id": 52613267, "comment_id": 92528877, "body": "Sadly looks like a problem that will not be solved anytime soon."}], "tags": [], "owner": {"reputation": 3501, "user_id": 9820085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10880816c54ece3ad214fec13ca7a495?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Niski", "link": "https://stackoverflow.com/users/9820085/kamil-niski"}, "is_accepted": true, "score": 1, "last_activity_date": 1538501720, "last_edit_date": 1538501720, "creation_date": 1538500672, "answer_id": 52613267, "question_id": 52414476, "link": "https://stackoverflow.com/questions/52414476/how-to-configure-swagger-ui-to-allow-user-to-entry-multiple-values-for-query-str/52613267#52613267", "title": "how to configure swagger UI to allow user to entry multiple values for query string parameter", "body": "<p>I have some insights that may help you.</p>\n\n<p><a href=\"http://docs.swagger.io/spec.html\" rel=\"nofollow noreferrer\">Swagger Spec</a> mentions <code>allowMultiple</code> setting in paragraph <code>5.2.4 Parameter Object</code></p>\n\n<blockquote>\n  <p><code>allowMultiple</code>   Another way to allow multiple values for a\n  \u201cquery\u201d parameter. If used, the query parameter may accept\n  comma-separated values. The field may be used only if paramType is\n  \"query\", \"header\" or \"path\".</p>\n</blockquote>\n\n<p>That might what you want</p>\n\n<p>I tried passing it to <code>coreapi.Field</code> as such:</p>\n\n<p><code>coreapi.Field(name=\"status\", description=\"Statuses of the Requests\", required=False, location='query', example='active', allowMultiple=True)</code></p>\n\n<p>but it doesn't work</p>\n\n<p>Next I searched through <code>swagger-ui.js</code> and discovered this line</p>\n\n<pre><code>var isArray = paramType.toLowerCase() === 'array' || param.allowMultiple;\n</code></pre>\n\n<p>Luckily for us <code>coreapi.Field</code> is just a <a href=\"https://github.com/core-api/python-client/blob/d264fd277a878ea40f9f75755e461f8a9418671f/coreapi/document.py#L49\" rel=\"nofollow noreferrer\">namedtuple</a>, which passes all necessary params to swagger up. It looks like this:</p>\n\n<pre><code>Field = namedtuple('Field', ['name', 'required', 'location', 'schema', 'description', 'type', 'example'])\nField.__new__.__defaults__ = (False, '', None, None, None, None)\n</code></pre>\n\n<p>My idea is to extend it and use it instead of <code>coreapi.Field</code>. I'm monkeypatching because some <code>coreapi.Document</code> and <code>coreapi.Link</code> logic forces us to.</p>\n\n<pre><code>coreapi.Field = namedtuple('Field', coreapi.Field._fields + ('allowMultiple',))\ncoreapi.Field.__new__.__defaults__ = (False, '', None, None, None, None, False)\n</code></pre>\n\n<p>and then use it like this:</p>\n\n<pre><code>coreapi.Field(name=\"status\", description=\"Statuses of the Requests\", required=False, location='query', example='active', allowMultiple=True)\n</code></pre>\n\n<p>Unfortuantely still there is an error, but I decided to post it anyway. Maybe together we can figure it out.\nI'm still working on it and feel that i'm almost there.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've tried to overcome the error but it slowly becomes apparent that if you really need that feature it would be easier to just fork <code>coreapi</code> library and edit <code>Field</code> as i showed above. </p>\n"}], "owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 0, "accepted_answer_id": 52613267, "answer_count": 1, "score": 0, "last_activity_date": 1538501720, "creation_date": 1537392733, "question_id": 52414476, "link": "https://stackoverflow.com/questions/52414476/how-to-configure-swagger-ui-to-allow-user-to-entry-multiple-values-for-query-str", "title": "how to configure swagger UI to allow user to entry multiple values for query string parameter", "body": "<p>I am using <code>django-rest-swagger==2.1.2</code> and <code>djangorestframework==3.7.7</code> and I have a view that looks like this:</p>\n\n<pre><code>class PendingRequests(generics.GenericAPIView):\n    ...\n    filter_backends = (PendingRequestsFilter,)\n\n    def get(self, request):\n        ...\n        request_status = request.GET.getlist('status')\n        request_start_date = request.GET.get('start_date')\n        request_end_date = request.GET.get('end_date')\n        ...\n</code></pre>\n\n<p>and I have defined a filter like so:</p>\n\n<pre><code>class PendingRequestsFilter(BaseFilterBackend):\n    def get_schema_fields(self, view):\n        fields = [\n            coreapi.Field(name=\"status\", description=\"Statuses of the Requests\", required=False, location='query', example='active'),\n            coreapi.Field(name=\"status\", description=\"Statuses of the Requests\", required=False, location='query', example='pending'),\n            coreapi.Field(name=\"status\", description=\"Statuses of the Requests\", required=False, location='query', example='inactive'),\n            coreapi.Field(name=\"start_date\", description=\"Start Date of the Request (YYYY-MM-DD)\", required=False, location='query', example='2525-12-25'),\n            coreapi.Field(name=\"end_date\", description=\"End Date of the Request (YYYY-MM-DD)\", required=False, location='query', example='2525-12-26'),\n        ]\n        return fields\n</code></pre>\n\n<p>This results in my swagger UI for this view looking like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ToEDm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ToEDm.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I enter different status like so ...</p>\n\n<p><a href=\"https://i.stack.imgur.com/X1sFD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1sFD.png\" alt=\"enter image description here\"></a></p>\n\n<p>... and click 'try it out' I get a Request URL that looks like this:</p>\n\n<pre><code>http://myserver:4800/api/v1/sudorequests/requests/?status=pending&amp;status=pending&amp;status=pending\n</code></pre>\n\n<p>Note that <code>status=pending</code> is repeated three times. I wanted to get a Request URL that looks more like this:</p>\n\n<pre><code>http://myserver:4800/api/v1/sudorequests/requests/?status=inactive&amp;status=active&amp;status=pending\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1537392850, "post_id": 52414440, "comment_id": 91772718, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14661701/how-to-drop-a-list-of-rows-from-pandas-dataframe\">How to drop a list of rows from Pandas dataframe?</a>"}, {"owner": {"reputation": 278, "user_id": 6516735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d0c0185695948dc5631da81a776df4?s=128&d=identicon&r=PG", "display_name": "schaefferda", "link": "https://stackoverflow.com/users/6516735/schaefferda"}, "edited": false, "score": 0, "creation_date": 1537393297, "post_id": 52414440, "comment_id": 91772871, "body": "This has already been answered here: <a href=\"https://stackoverflow.com/questions/14661701/how-to-drop-a-list-of-rows-from-pandas-dataframe\" title=\"how to drop a list of rows from pandas dataframe\">stackoverflow.com/questions/14661701/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 2, "last_activity_date": 1537392684, "creation_date": 1537392684, "answer_id": 52414469, "question_id": 52414440, "link": "https://stackoverflow.com/questions/52414440/call-multiple-rows-in-pandas/52414469#52414469", "title": "Call multiple Rows in Pandas", "body": "<p>You can use:</p>\n\n<pre><code>dt = dt.drop(range(40,46))\n</code></pre>\n\n<p>or </p>\n\n<pre><code>dt.drop(range(40,46), inplace=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1537392803, "creation_date": 1537392803, "answer_id": 52414488, "question_id": 52414440, "link": "https://stackoverflow.com/questions/52414440/call-multiple-rows-in-pandas/52414488#52414488", "title": "Call multiple Rows in Pandas", "body": "<p>I will recommend <code>np.r_</code></p>\n\n<pre><code>df.drop(np.r_[40:50+1])\n</code></pre>\n\n<p>In case you want to drop two range at the same time </p>\n\n<pre><code>np.r_[40:50+1,1:4+1]\nOut[719]: array([40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50,  1,  2,  3,  4])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 6480402, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154260091334458/picture?type=large", "display_name": "Caleb Courtney", "link": "https://stackoverflow.com/users/6480402/caleb-courtney"}, "is_accepted": false, "score": 0, "last_activity_date": 1537392853, "creation_date": 1537392853, "answer_id": 52414500, "question_id": 52414440, "link": "https://stackoverflow.com/questions/52414440/call-multiple-rows-in-pandas/52414500#52414500", "title": "Call multiple Rows in Pandas", "body": "<p>You could generate the list based on a range:</p>\n\n<pre><code>dt=dt.drop([x for x in range(40, 46)])\n</code></pre>\n\n<p>Or just:</p>\n\n<pre><code>dt=dt.drop(range(40, 46))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1537393093, "creation_date": 1537393093, "answer_id": 52414531, "question_id": 52414440, "link": "https://stackoverflow.com/questions/52414440/call-multiple-rows-in-pandas/52414531#52414531", "title": "Call multiple Rows in Pandas", "body": "<p>Assuming you want to drop a range of positions:</p>\n\n<pre><code>df.drop(df.index[40: 46])\n</code></pre>\n\n<p>This doesn't assume the indices are integers.</p>\n"}], "owner": {"reputation": 71, "user_id": 10084965, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gTp0V3znXlE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIDNNeZY_1zRfSyu14yIQLRQfhYg/mo/photo.jpg?sz=128", "display_name": "KonK3", "link": "https://stackoverflow.com/users/10084965/konk3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 52414488, "answer_count": 4, "score": 2, "last_activity_date": 1537393093, "creation_date": 1537392530, "question_id": 52414440, "link": "https://stackoverflow.com/questions/52414440/call-multiple-rows-in-pandas", "title": "Call multiple Rows in Pandas", "body": "<p>I am trying to drop multiple rows from my data.\nI can drop rows using:</p>\n\n<pre><code>dt=dt.drop([40,41,42,43,44,45])\n</code></pre>\n\n<p>But I was wondering if there is a simpler way. I tried:</p>\n\n<pre><code>dt=dt.drop([40:45])\n</code></pre>\n\n<p>But sadly it did not work.</p>\n"}, {"tags": ["python", "graph-tool"], "comments": [{"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1537393222, "post_id": 52414426, "comment_id": 91772839, "body": "can you check the docs?"}, {"owner": {"reputation": 103, "user_id": 8839623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e18257bae6945b9e60f2d450e30e644?s=128&d=identicon&r=PG&f=1", "display_name": "ofey", "link": "https://stackoverflow.com/users/8839623/ofey"}, "reply_to_user": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1537393408, "post_id": 52414426, "comment_id": 91772915, "body": "I did, but I couldn&#39;t find anything unfortunately."}], "answers": [{"tags": [], "owner": {"reputation": 4525, "user_id": 180962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa21ab3e7b0fdcc3058400a35aef75b?s=128&d=identicon&r=PG", "display_name": "Tiago Peixoto", "link": "https://stackoverflow.com/users/180962/tiago-peixoto"}, "is_accepted": true, "score": 1, "last_activity_date": 1537777986, "creation_date": 1537777986, "answer_id": 52475383, "question_id": 52414426, "link": "https://stackoverflow.com/questions/52414426/has-path-equivalent-in-graph-tool/52475383#52475383", "title": "has_path equivalent in Graph-Tool", "body": "<p>This is trivially achieved by checking if there is a finite distance between two vertices:</p>\n\n<pre><code>   has_path = shortest_distance(g, u, v) &lt; g.num_vertices()\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 8839623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e18257bae6945b9e60f2d450e30e644?s=128&d=identicon&r=PG&f=1", "display_name": "ofey", "link": "https://stackoverflow.com/users/8839623/ofey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 52475383, "answer_count": 1, "score": 0, "last_activity_date": 1537777986, "creation_date": 1537392451, "question_id": 52414426, "link": "https://stackoverflow.com/questions/52414426/has-path-equivalent-in-graph-tool", "title": "has_path equivalent in Graph-Tool", "body": "<p>Does graph-tool have any equivalent function to NetworkX's has_path? I'd like to return True if there's a valid path between any given nodes. </p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537392553, "post_id": 52414360, "comment_id": 91772610, "body": "Your problem isn&#39;t exactly the same as in the linked question, but the core issue is the same: you&#39;re discarding the result from the recursive call."}, {"owner": {"reputation": 349, "user_id": 7503046, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3d3b34e1b311b2634c3f2883ff913f50?s=128&d=identicon&r=PG&f=1", "display_name": "iammax", "link": "https://stackoverflow.com/users/7503046/iammax"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537392603, "post_id": 52414360, "comment_id": 91772630, "body": "@PM2Ring Thank you, I failed to find that thread when looking somehow. Closing here"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537392844, "post_id": 52414360, "comment_id": 91772715, "body": "No worries. There&#39;s no harm in asking a duplicate question (as long as you make some effort to check for dupes first). It&#39;s just the duplicate answers that can be a problem, since we want them all to be in one place so people can find them and compare them easily, and so they can be properly sorted by the voting process. And in this case, since your problem&#39;s slightly different it&#39;s fine that it has an answer explaining the difference."}], "answers": [{"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1537392628, "post_id": 52414395, "comment_id": 91772640, "body": "You could put a repaired version of the OP&#39;s code in your answer and show that it does the right thing... ;)"}], "tags": [], "owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "is_accepted": true, "score": 0, "last_activity_date": 1537396117, "last_edit_date": 1537396117, "creation_date": 1537392272, "answer_id": 52414395, "question_id": 52414360, "link": "https://stackoverflow.com/questions/52414360/recursive-function-not-returning-anything-even-though-it-seems-like-it-was-goin/52414395#52414395", "title": "Recursive function not returning anything, even though it seems like it was going to", "body": "<p>While your function works properly when building up a solution and going deeper into recursion, the problem is when you start to work your way back out after reaching the base case. So far your code will not pass the results of the recursive calls back up to the call above.</p>\n\n<p>You need to return the results of the recursive call. Putting <code>return</code> in front of the recursive call <code>swapper(digits[1:], beginning)</code> will do that in your case.</p>\n\n<p>Here's what it'll all look like:</p>\n\n<pre><code>def swapper(digits, beginning):\n    print 'running: digits, beginning: ', digits, beginning\n    if len(digits) &gt; 0: #If there is anything left in the number, continue checking if the first digit is the largest)\n        if digits.index(max(digits)) == 0:\n            beginning.append(digits[0])\n            print 'iterating: digits, beginning = ', digits[1:], beginning\n            # ADDED: return\n            return swapper(digits[1:], beginning) #recursively run the function with a smaller digit list\n        else:\n            digits[digits.index(max(digits))], digits[0] = digits[0], max(digits)\n            return beginning + digits\n    else: #If there is nothing left in the number, return the beginning list\n          #which is just all the digits at this point\n        print 'returning beginning'\n        print 'beginning: ', beginning\n        return beginning\n\n#pseudocode here: digits = digits(digits of the number) \nresults = swapper([9, 9, 7, 3],[])\nprint('results: ', results)\n</code></pre>\n\n<p>With the output:</p>\n\n<pre><code>running: digits, beginning:  [9, 9, 7, 3] []\niterating: digits, beginning =  [9, 7, 3] [9]\nrunning: digits, beginning:  [9, 7, 3] [9]\niterating: digits, beginning =  [7, 3] [9, 9]\nrunning: digits, beginning:  [7, 3] [9, 9]\niterating: digits, beginning =  [3] [9, 9, 7]\nrunning: digits, beginning:  [3] [9, 9, 7]\niterating: digits, beginning =  [] [9, 9, 7, 3]\nrunning: digits, beginning:  [] [9, 9, 7, 3]\nreturning beginning\nbeginning:  [9, 9, 7, 3]\nresults: [9, 9, 7, 3]\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 7503046, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3d3b34e1b311b2634c3f2883ff913f50?s=128&d=identicon&r=PG&f=1", "display_name": "iammax", "link": "https://stackoverflow.com/users/7503046/iammax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1537392357, "accepted_answer_id": 52414395, "answer_count": 1, "score": 0, "last_activity_date": 1537396117, "creation_date": 1537392043, "last_edit_date": 1537392111, "question_id": 52414360, "link": "https://stackoverflow.com/questions/52414360/recursive-function-not-returning-anything-even-though-it-seems-like-it-was-goin", "closed_reason": "Duplicate", "title": "Recursive function not returning anything, even though it seems like it was going to", "body": "<p>I am trying to do this problem:</p>\n\n<p><a href=\"https://leetcode.com/problems/maximum-swap/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/maximum-swap/description/</a></p>\n\n<p>My method is basically \"Check if the first digit in your number is the largest digit. If it is not, then swap it with the largest digit. If it is, then set aside the first digit in a list (called beginning), then do the same procedure on the new number (the one with the first digit chopped off).\"</p>\n\n<p>To do this I wrote a recursive function called swapper which I call elsewhere. I feed into it a list of the digits. It works correctly if </p>\n\n<pre><code>def swapper(digits, beginning):\n    print 'running: digits, beginning: ', digits, beginning\n    if len(digits) &gt; 0: #If there is anything left in the number, continue checking if the first digit is the largest)\n        if digits.index(max(digits)) == 0:\n            beginning.append(digits[0])\n            print 'iterating: digits, beginning = ', digits[1:], beginning\n            swapper(digits[1:], beginning) #recursively run the function with a smaller digit list\n        else:\n            digits[digits.index(max(digits))], digits[0] = digits[0], \nmax(digits)\n            return beginning + digits\n    else: #If there is nothing left in the number, return the beginning list\n          #which is just all the digits at this point\n        print 'returning beginning'\n        print 'beginning: ', beginning\n        return beginning\n\n#pseudocode here: digits = digits(digits of the number) \nresults = swapper(digits, [])\nprint 'results: ', results\n</code></pre>\n\n<p>It works if it never hits that commented \"else\" inside swapper, but if it does, it doesn't seem to return anything. Using the example number 9973, the stdout is:</p>\n\n<pre><code>running: digits, beginning:  [9, 9, 7, 3] []\niterating: digits, beginning =  [9, 7, 3] [9]\nrunning: digits, beginning:  [9, 7, 3] [9]\niterating: digits, beginning =  [7, 3] [9, 9]\nrunning: digits, beginning:  [7, 3] [9, 9]\niterating: digits, beginning =  [3] [9, 9, 7]\nrunning: digits, beginning:  [3] [9, 9, 7]\niterating: digits, beginning =  [] [9, 9, 7, 3]\nrunning: digits, beginning:  [] [9, 9, 7, 3]\nreturning beginning\nbeginning:  [9, 9, 7, 3]\nresults:  None\n</code></pre>\n\n<p>It looks like it correctly partitions the digits into the beginning list. It then properly prints \"beginning: \", beginning. The list exists and it's [9,9,7,3] like I expect. It's then supposed to return that. But when I print results outside the function it's just None. Why?</p>\n\n<p>It returns properly via the other return statement (the one that says \"return beginning + digits\"). </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1537392761, "post_id": 52414353, "comment_id": 91772686, "body": "but this formula is run 12 times in a loop. the new <code>balance</code> value is used at each iteration."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1537392817, "post_id": 52414353, "comment_id": 91772705, "body": "Okay, so reading your description on how you would calculate it: that is <i>literally</i> what the code is doing at each iteration, and it runs 12 times in a row. Where does what the code does, and how you compute things by hand, actually differ?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 10387830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BlWZp.jpg?s=128&g=1", "display_name": "vitoriahmc", "link": "https://stackoverflow.com/users/10387830/vitoriahmc"}, "is_accepted": false, "score": 1, "last_activity_date": 1537393115, "creation_date": 1537393115, "answer_id": 52414536, "question_id": 52414353, "link": "https://stackoverflow.com/questions/52414353/how-does-python-calculate-this-formula/52414536#52414536", "title": "How does Python calculate this formula?", "body": "<p>I would imagine it does it like this:</p>\n\n<pre><code>balance = 484 - (484 * 0.04) + ((484- (484 *0.04)) * (0.2/12))\n</code></pre>\n\n<p>that is basically what it's written there, and the result is 472.38.</p>\n\n<p>But then it substitutes 472.38 to the variable <code>balance</code> e does the calculation again, 12 times, always replacing the variable with the new result, returning <code>361.61</code> in the end.</p>\n\n<p>The calculations worked for me both in the software and by hand.</p>\n"}, {"tags": [], "owner": {"reputation": 552, "user_id": 6712861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee55debfe687ba3065901fdd7895a196?s=128&d=identicon&r=PG&f=1", "display_name": "9bO3av5fw5", "link": "https://stackoverflow.com/users/6712861/9bo3av5fw5"}, "is_accepted": false, "score": 0, "last_activity_date": 1537399500, "last_edit_date": 1537399500, "creation_date": 1537399147, "answer_id": 52415400, "question_id": 52414353, "link": "https://stackoverflow.com/questions/52414353/how-does-python-calculate-this-formula/52415400#52415400", "title": "How does Python calculate this formula?", "body": "<p>For clarity:</p>\n\n<pre><code>balance = 484\nmonthlyPaymentRate = 0.04\nannualInterestRate = .2\nfor i in range(12):\n    paidoff = balance * monthlyPaymentRate\n    newinterest = (balance - paidoff) * annualInterestRate/12\n    balance = balance - paidoff + newinterest\n    print(\"Balance after\", i+1, \"months\", round(balance,2));\n\nprint(\"Remaining balance:\", round(balance,2))\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>Balance after 1 months 472.38\nBalance after 2 months 461.05\nBalance after 3 months 449.98\nBalance after 4 months 439.18\nBalance after 5 months 428.64\nBalance after 6 months 418.35\nBalance after 7 months 408.31\nBalance after 8 months 398.51\nBalance after 9 months 388.95\nBalance after 10 months 379.62\nBalance after 11 months 370.5\nBalance after 12 months 361.61\n\nRemaining balance: 361.61\n</code></pre>\n\n<p>Splitting the calculation allows for this sort of thing:</p>\n\n<pre><code>&gt;&gt;&gt; balance = 484\n&gt;&gt;&gt; totalpaid=0\n&gt;&gt;&gt; totalinterest=0\n&gt;&gt;&gt; monthlyPaymentRate = 0.04\n&gt;&gt;&gt; annualInterestRate = .2\n&gt;&gt;&gt; for i in range(12):\n...     paidoff = balance * monthlyPaymentRate\n...     newinterest = (balance - paidoff) * annualInterestRate/12\n...     balance = balance - paidoff + newinterest\n...     totalpaid = totalpaid + paidoff\n...     totalinterest = totalinterest + newinterest\n...\n&gt;&gt;&gt; print(\"Remaining balance:\", round(balance,2))\nRemaining balance: 361.61\n&gt;&gt;&gt; print(\"Total amount paid off:\", round(totalpaid,2))\nTotal amount paid off: 203.98\n&gt;&gt;&gt; print(\"Total interest accrued:\", round(totalinterest,2))\nTotal interest accrued: 81.59\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9932378"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "closed_date": 1537399522, "answer_count": 2, "score": 0, "last_activity_date": 1537399500, "creation_date": 1537392013, "last_edit_date": 1537399435, "question_id": 52414353, "link": "https://stackoverflow.com/questions/52414353/how-does-python-calculate-this-formula", "closed_reason": "Needs details or clarity", "title": "How does Python calculate this formula?", "body": "<p>I am working on this problem and I know it is correct but I am not sure how the formula works.</p>\n\n<pre><code>    balance: int = 484\n    monthlyPayRate: float = 0.04\n    annualInterestRate: float = .2\n    for i in range(12):\n        balance = balance - (balance * monthlyPaymentRate) +\\\n        ((balance - (balance * monthlyPaymentRate)) * \\\n        (annualInterestRate/12))\n    print(\"Remaining balance:\", round(balance,2))\n</code></pre>\n\n<p>I am just trying to work through the range(1) and I know the correct answer is 472.38. </p>\n\n<p>This is how I would calculate it:\n484 \u2013 (484 * 0.04) = $464.64 (This is balance after payment but before interest)\n464 * (.2/12) = $7.42(We took our remaining balance of 464.64 x the interest rate of 0.016)\n464 .64 + 7.424 = $472 (We added our interest on our remaining balance to get our new balance)</p>\n\n<p>When I try to plug the numbers into the python formula and do it by hand I cannot figure out how Python is getting it to work. I was hoping someone would be so kind as to show me the steps Python takes using the formula? </p>\n"}, {"tags": ["python", "curses", "npyscreen"], "comments": [{"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1537396818, "post_id": 52414352, "comment_id": 91773880, "body": "That&#39;s discussed in <a href=\"https://npyscreen.readthedocs.io/form-objects.html\" rel=\"nofollow noreferrer\">Form Objects</a>; past that, you&#39;ll have to read the source code."}], "owner": {"reputation": 1116, "user_id": 7558518, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be20f42d5d1949818638c7370d5af667?s=128&d=identicon&r=PG&f=1", "display_name": "BlandCorporation", "link": "https://stackoverflow.com/users/7558518/blandcorporation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2108, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1537392003, "creation_date": 1537392003, "question_id": 52414352, "link": "https://stackoverflow.com/questions/52414352/how-should-widgets-be-resized-in-npyscreen-a-python-curses-wrapper", "title": "How should widgets be resized in npyscreen (a Python curses wrapper)?", "body": "<p>I want the height of some widgets in my npyscreen app to resize as the terminal is resized.</p>\n\n<p><img src=\"https://i.stack.imgur.com/rWXTA.png\" alt=\"\"></p>\n\n<p>Specifically I want those two column widgets to continue to take up about the same fraction of the height of the terminal when the terminal is resized, with the row widget at the bottom to stay at the bottom of the terminal when the terminal is resized.</p>\n\n<p>I've got something sorta working but when the terminal gets resized something is going wrong with the rendering overall, like the widgets don't know where I want them to be drawn. What might be going wrong? How should this be done properly?</p>\n\n<pre><code>import curses\nimport sys\n\nimport npyscreen\nnpyscreen.disableColor()\n\ndef main():\n    app = App()\n    app.run()\n\nclass App(npyscreen.NPSApp):\n    def main(self):\n        form = npyscreen.FormBaseNew(name = \"COMMUNICATIONS\")\n        column_height = terminal_dimensions()[0] - 9\n        widget_contacts = form.add(\n            Column,\n            name       = \"CONTACTS\",\n            relx       = 2,\n            rely       = 2,\n            max_width  = 20,\n            max_height = column_height\n        )\n        widget_messages = form.add(\n            Column,\n            name       = \"MESSAGES\",\n            relx       = 23,\n            rely       = 2,\n            max_height = column_height\n        )\n        widget_input = form.add(\n            npyscreen.BoxTitle,\n            name       = \"INPUT\",\n            max_height = 5\n        )\n        widget_input.resize\n        widget_contacts.values  = [\"alice\", \"bob\"]\n        widget_messages.values  = [\"2018-09-19T2001Z    a message\", \"2018-09-19T2002Z    another message\"]\n        widget_input.values     = [\"sup\"]\n        #exit_button = form.add(\n        #    ExitButton,\n        #    name       = \"EXIT\",\n        #    #relx       = 78,\n        #    rely       = 23\n        #)\n        widget_contacts.max_height = 5\n        form.edit()\n\nclass Column(npyscreen.BoxTitle):\n    def resize(self):\n        self.max_height = int(0.73 * terminal_dimensions()[0])\n\nclass ExitButton(npyscreen.ButtonPress):\n    def whenPressed(self):\n        sys.exit(0)\n\ndef terminal_dimensions():\n    return curses.initscr().getmaxyx()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "c++", "python-3.x", "numpy", "boost"], "comments": [{"owner": {"reputation": 640, "user_id": 3793674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a5746c9da4b2293984258875ce00e1?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisD", "link": "https://stackoverflow.com/users/3793674/chrisd"}, "edited": false, "score": 1, "creation_date": 1537394479, "post_id": 52414348, "comment_id": 91773252, "body": "Numpy routines are built into a separate library e.g. <code>libboost_numpy.so</code>. Check if that has actually been built, i believe it&#39;s built automatically if it (and the development headers etc) are installed in your python environment."}, {"owner": {"reputation": 643, "user_id": 6833140, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153860199292562/picture?type=large", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6833140/lucas"}, "reply_to_user": {"reputation": 640, "user_id": 3793674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a5746c9da4b2293984258875ce00e1?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisD", "link": "https://stackoverflow.com/users/3793674/chrisd"}, "edited": false, "score": 0, "creation_date": 1537396600, "post_id": 52414348, "comment_id": 91773826, "body": "Do you know what headers are supposed to be present? No libboost_numpy.so has been built in my case, and I didn\u2019t find any option or documentation in b2."}], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 6833140, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153860199292562/picture?type=large", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6833140/lucas"}, "is_accepted": true, "score": 2, "last_activity_date": 1537422757, "creation_date": 1537422757, "answer_id": 52418440, "question_id": 52414348, "link": "https://stackoverflow.com/questions/52414348/boost-python-numpy-undefined-reference-to-initialize/52418440#52418440", "title": "Boost Python Numpy - Undefined reference to initialize", "body": "<p>The solution was to install the <code>python3-numpy</code> package first,\notherwise <code>libboost_numpy.so</code> does not get generated.</p>\n\n<p>End of the story!</p>\n"}], "owner": {"reputation": 643, "user_id": 6833140, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153860199292562/picture?type=large", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6833140/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 52418440, "answer_count": 1, "score": 1, "last_activity_date": 1537422757, "creation_date": 1537391965, "last_edit_date": 1537392576, "question_id": 52414348, "link": "https://stackoverflow.com/questions/52414348/boost-python-numpy-undefined-reference-to-initialize", "title": "Boost Python Numpy - Undefined reference to initialize", "body": "<p>I am having problems when linking the following code:</p>\n\n<pre><code>#include &lt;boost/python.hpp&gt;\n#include &lt;boost/python/numpy.hpp&gt;\n\nBOOST_PYTHON_MODULE (MyLibrary)\n{\n\n    Py_Initialize() ;\n    boost::python::numpy::initialize() ;\n\n    ...\n\n}\n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>undefined reference to `boost::python::numpy::initialize(bool)'\n</code></pre>\n\n<p>I am using Boost 1.68 with Python 3.6, compiled as follows:</p>\n\n<pre><code>./bootstrap.sh --with-python=/usr/bin/python3 --with-python-version=3.6 --with-python-root=/usr/lib/python3.6\n./b2 --with-python link=shared install\n</code></pre>\n\n<p>And I am linking using:</p>\n\n<pre><code>/usr/bin/c++ -shared\n-o MyLibrary.so\nMyLibrary.cpp.o\n-L/usr/local/lib\n-lpython3.6m\n/usr/local/lib/libboost_python36.so\n</code></pre>\n\n<p>Any idea...?</p>\n"}, {"tags": ["python", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 4483746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4132a87ca910f30e48d53826c5bf15c8?s=128&d=identicon&r=PG&f=1", "display_name": "al_platonov", "link": "https://stackoverflow.com/users/4483746/al-platonov"}, "edited": false, "score": 0, "creation_date": 1537429405, "post_id": 52414412, "comment_id": 91783200, "body": "Operator not_ equal !=. Expression ~DeviceGroup.type produce error with sql WHERE (NOT device_group.type) = %(param_1)s&#39;  I think my problem in table naming. Thx for replay."}], "tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 0, "last_activity_date": 1537392375, "creation_date": 1537392375, "answer_id": 52414412, "question_id": 52414329, "link": "https://stackoverflow.com/questions/52414329/sqlalchemy-query-filter-by-field-value-in-related-table/52414412#52414412", "title": "SQLAlchemy query filter by field value in related table", "body": "<p>You need not_</p>\n\n<pre><code>from sqlalchemy import not_\nresult = Device.query.filter(not_(DeviceGroup.type == ModelType.TYPE_BLADE_SERVER)).all()\nor\nresult = Device.query.filter(~DeviceGroup.type == ModelType.TYPE_BLADE_SERVER)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 4483746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4132a87ca910f30e48d53826c5bf15c8?s=128&d=identicon&r=PG&f=1", "display_name": "al_platonov", "link": "https://stackoverflow.com/users/4483746/al-platonov"}, "is_accepted": false, "score": 0, "last_activity_date": 1537877641, "creation_date": 1537877641, "answer_id": 52497998, "question_id": 52414329, "link": "https://stackoverflow.com/questions/52414329/sqlalchemy-query-filter-by-field-value-in-related-table/52497998#52497998", "title": "SQLAlchemy query filter by field value in related table", "body": "<p>Copy answer link here:\n<a href=\"https://groups.google.com/forum/#!topic/sqlalchemy/8L1HWG7H27U|\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/sqlalchemy/8L1HWG7H27U|</a></p>\n\n<p>Docs:\n<a href=\"http://docs.sqlalchemy.org/en/latest/orm/loading_relationships.html#the-zen-of-joined-eager-loading\" rel=\"nofollow noreferrer\">http://docs.sqlalchemy.org/en/latest/orm/loading_relationships.html#the-zen-of-joined-eager-loading</a></p>\n"}], "owner": {"reputation": 81, "user_id": 4483746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4132a87ca910f30e48d53826c5bf15c8?s=128&d=identicon&r=PG&f=1", "display_name": "al_platonov", "link": "https://stackoverflow.com/users/4483746/al-platonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1352, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537877641, "creation_date": 1537391850, "question_id": 52414329, "link": "https://stackoverflow.com/questions/52414329/sqlalchemy-query-filter-by-field-value-in-related-table", "title": "SQLAlchemy query filter by field value in related table", "body": "<p>I try to get devices which type is not <code>'TYPE_BLADE_SERVER'</code>. Please help write a query. My solution which i try: </p>\n\n<pre><code>result = Device.query.filter(DeviceGroup.type != ModelType.TYPE_BLADE_SERVER).all()\n</code></pre>\n\n<p>Which doesnt filter <code>device_group</code> table becouse <code>device_group</code> renamed to <code>device_group_1</code>. Sql query from sqlalchemy:</p>\n\n<pre><code>SELECT * FROM device_group, device\nLEFT OUTER JOIN device_model AS device_model_1 ON device_model_1.id = device.model_id\nLEFT OUTER JOIN device_group AS device_group_1 ON device_group_1.id = device_model_1.group_id \nWHERE device_group.type != % (type_1)s ; {'type_1': 'TYPE_BLADE_SERVER'}\n</code></pre>\n\n<p>Working solution but like sql hardcode:</p>\n\n<pre><code>result = Device.query.filter(text(\"device_group_1.type &lt;&gt; 'TYPE_BLADE_SERVER'\")).all()\n</code></pre>\n\n<p>My models:</p>\n\n<pre><code>class Device(db.Model):\n    __tablename__ = 'device'\n\n    id = db.Column(db.Integer, primary_key=True)\n    hostname = db.Column(db.String, index=True)\n    model_id = db.Column(db.ForeignKey('device_model.id'), nullable=True)\n    model = db.relationship(\"DeviceModel\", backref='devices', lazy='joined')\n\nclass DeviceModel(db.Model):\n   __tablename__ = 'device_model'\n\n   id = db.Column(db.Integer, primary_key=True)\n   group_id = db.Column(db.ForeignKey('device_group.id', ondelete='SET NULL'), nullable=True)\n\nclass DeviceGroup(db.Model):\n    __tablename__ = 'device_group'\n\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String, nullable=False, unique=True)\n    height = db.Column(db.Integer, nullable=False)\n    models = db.relationship(\"DeviceModel\", backref=backref(\"group\", lazy=\"joined\"), lazy='joined')\n    type = db.Column(sa.Enum(ModelType), nullable=False)\n\nclass ModelType(enum.Enum):\n    TYPE_BLADE_SERVER = 'TYPE_BLADE_SERVER'\n    TYPE_ENGINEERING_DEVICES = 'TYPE_ENGINEERING_DEVICES'\n    TYPE_DATA_STORAGE = 'TYPE_DATA_STORAGE'\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2709610"}, "edited": false, "score": 1, "creation_date": 1537480139, "post_id": 52417672, "comment_id": 91811258, "body": "NameError: name &#39;User&#39; is not defined"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1537503167, "post_id": 52417672, "comment_id": 91816082, "body": "You forgot to make &#39;em strings, or callables. Also in the future, don&#39;t just paste the message of an error, but give some context."}], "tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 1, "last_activity_date": 1537525803, "last_edit_date": 1537525803, "creation_date": 1537418166, "answer_id": 52417672, "question_id": 52414291, "link": "https://stackoverflow.com/questions/52414291/accessing-a-mixin-member-variable-column-from-the-child/52417672#52417672", "title": "Accessing a mixin member variable (column) from the child", "body": "<p>A class definition's body is its own scope and the names introduced will form the class' namespace. The problem (in your <a href=\"https://stackoverflow.com/questions/52411968/accessing-base-class-variable\">original question</a>) with your model definition is that the name <code>id</code> has not been assigned to in the body of the class <code>User</code>, so the joins in the <code>relationship</code> definition refer to the builtin function <a href=\"https://docs.python.org/3/library/functions.html#id\" rel=\"nofollow noreferrer\"><code>id()</code></a>. You also cannot use <code>BaseModel.id</code> as shown in this question, because the Declarative metaclass will <a href=\"http://docs.sqlalchemy.org/en/latest/orm/extensions/declarative/mixins.html#mixing-in-columns\" rel=\"nofollow noreferrer\">create a <strong>copy</strong> of it to <code>User</code></a>, so it does not refer to the same column.</p>\n\n<p>The solution is to use lazy evaluation: either pass a callable, or a Python-evaluable string as the join:</p>\n\n<pre><code>followed = db.relationship(\n    'User',\n    secondary=followers,\n    primaryjoin='followers.c.follower_id == User.id',   # Note: the joins are\n    secondaryjoin='followers.c.followed_id == User.id', # passed as strings \n    backref=db.backref('followers', lazy='dynamic'),\n    lazy='dynamic')\n</code></pre>\n\n<p>This works because the inter-mapper relationships of mappers are configured after the mapped classes have been declared and are used for the first time, unless explicitly configured using <a href=\"http://docs.sqlalchemy.org/en/latest/orm/mapping_api.html#sqlalchemy.orm.configure_mappers\" rel=\"nofollow noreferrer\"><code>configure_mappers()</code></a>.</p>\n\n<p>Note that you cannot use plain <code>id</code> in the evaluable string either, but must instead refer to it using the <code>User</code> class, since it is evaluated later in a completely different scope from that of the class body, <a href=\"http://docs.sqlalchemy.org/en/latest/orm/extensions/declarative/relationships.html#configuring-relationships\" rel=\"nofollow noreferrer\">including names from the Declarative class registry, and metadata</a>.</p>\n\n<p>The last error is the result of code such as</p>\n\n<pre><code>User.query.get(some_id)\n</code></pre>\n\n<p>The assignment of <code>BaseModel.id</code> to another name \u2013 such as <code>testing</code> \u2013 in the class body results in your model having a composite primary key, formed from 2 integer columns, so <a href=\"http://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.query.Query.get\" rel=\"nofollow noreferrer\"><code>Query.get()</code></a> expected to receive a 2-tuple of integers, not just one integer.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2709610"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 52417672, "answer_count": 1, "score": 0, "last_activity_date": 1537525803, "creation_date": 1537391636, "last_edit_date": 1537420371, "question_id": 52414291, "link": "https://stackoverflow.com/questions/52414291/accessing-a-mixin-member-variable-column-from-the-child", "title": "Accessing a mixin member variable (column) from the child", "body": "<p>I'm having trouble accessing a parent class member variable <code>id</code> from the child class.</p>\n\n<pre><code>class BaseModel:\n    id = db.Column(db.Integer, primary_key=True)\n\nclass User(db.Model, BaseModel):\n    username = db.Column(db.String(35), nullable=False, unique=True)\n\n    followed = db.relationship(\n        'User',\n        secondary=followers,\n        primaryjoin=(followers.c.follower_id == BaseModel.id),\n        secondaryjoin=(followers.c.followed_id == BaseModel.id),\n        backref=db.backref('followers', lazy='dynamic'),\n        lazy='dynamic')\n</code></pre>\n\n<p>Gives me this error:</p>\n\n<pre><code>sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper|User|user'. Original exception was: Could not locate any simple equality expressions involving locally mapped foreign key columns for primary join condition 'followers.follower_id = \"&lt;name unknown&gt;\"' on relationship User.followed.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or are annotated in the join condition with the foreign() annotation. To allow comparison operators other than '==', the relationship can be marked as viewonly=True.\n</code></pre>\n\n<p>On the other hand</p>\n\n<pre><code>class BaseModel:\n    id = db.Column(db.Integer, primary_key=True)\n\nclass User(db.Model, BaseModel):\n    username = db.Column(db.String(35), nullable=False, unique=True)\n\n    testing = BaseModel.id\n</code></pre>\n\n<p>Gives me this error:</p>\n\n<pre><code>sqlalchemy.exc.InvalidRequestError: Incorrect number of values in identifier to formulate primary key for query.get(); primary key columns are 'user.testing','user.id\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "graph"], "owner": {"reputation": 11, "user_id": 10387997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n-o3xfgLNQE/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOfXB9kOu_u4yNgLoRtmrp3Ded-3w/mo/photo.jpg?sz=128", "display_name": "Srinivas s", "link": "https://stackoverflow.com/users/10387997/srinivas-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537391393, "creation_date": 1537391393, "question_id": 52414251, "link": "https://stackoverflow.com/questions/52414251/python-plotting-2-figures-using-pylab-in-realtime", "title": "Python plotting 2 figures using pylab in realtime", "body": "<p>I have the following code for plotting in a single figure</p>\n\n<pre><code>import pylab\nfrom pylab import *\nxAchse=pylab.arange(0,100,1)\nyAchse=pylab.array([0]*100)\n\nfig = pylab.figure(1)\nax = fig.add_subplot(111)\nax.grid(True)\nax.set_title(\"Realtime Waveform Plot\")\nax.set_xlabel(\"Time\")\nax.set_ylabel(\"Amplitude\")\nax.axis([0,100,-1.5,1.5])\nline1=ax.plot(xAchse,yAchse,'-')\nmanager = pylab.get_current_fig_manager()\nvalues=[]\nvalues = [0 for x in range(100)]\n\nTa=0.01\nfa=1.0/Ta\nfcos=3.5\n\nKonstant=cos(2*pi*fcos*Ta)\nT0=1.0\nT1=Konstant\n\ndef SinwaveformGenerator(arg):\n  global values,T1,Konstant,T0\n  #ohmegaCos=arccos(T1)/Ta\n  #print \"fcos=\", ohmegaCos/(2*pi), \"Hz\"\n\n  Tnext=((Konstant*T1)*2)-T0\n  if len(values)%100&gt;70:\n    values.append(random()*2-1)\n  else:\n    values.append(Tnext)\n  T0=T1\n  T1=Tnext\n\ndef RealtimePloter(arg):\n  global values\n  CurrentXAxis=pylab.arange(len(values)-100,len(values),1)\n  line1[0].set_data(CurrentXAxis,pylab.array(values[-100:]))\n  ax.axis([CurrentXAxis.min(),CurrentXAxis.max(),-1.5,1.5])\n  manager.canvas.draw()\n  #manager.show()\n\ntimer = fig.canvas.new_timer(interval=20)\ntimer.add_callback(RealtimePloter, ())\ntimer2 = fig.canvas.new_timer(interval=20)\ntimer2.add_callback(SinwaveformGenerator, ())\ntimer.start()\ntimer2.start()\n\npylab.show()\n</code></pre>\n\n<p>I would like to extend this to plot the same in a 2nd figure. Could someone please give me a tip ?\nI tried the following:</p>\n\n<pre><code>fig = pylab.figure(1)\nax = fig.add_subplot(111)\nline1=ax.plot(xAchse,yAchse,'-') \nfig2 = pylab.figure(2)\nax2 = fig2.add_subplot(111)\nline2=ax2.plot(xAchse,yAchse,'-')\nmanager = pylab.get_current_fig_manager()\nvalues=[]\nvalues = [0 for x in range(100)]\n\nTa=0.01\nfa=1.0/Ta\nfcos=3.5\n\nKonstant=cos(2*pi*fcos*Ta)\nT0=1.0\nT1=Konstant\n\ndef SinwaveformGenerator(arg):\n  global values,T1,Konstant,T0\n  #ohmegaCos=arccos(T1)/Ta\n  #print \"fcos=\", ohmegaCos/(2*pi), \"Hz\"\n\n  Tnext=((Konstant*T1)*2)-T0\n  if len(values)%100&gt;70:\n    values.append(random()*2-1)\n  else:\n    values.append(Tnext)\n  T0=T1\n  T1=Tnext\n\ndef RealtimePloter(arg):\n  global values\n  CurrentXAxis=pylab.arange(len(values)-100,len(values),1)\n  line1[0].set_data(CurrentXAxis,pylab.array(values[-100:]))\n  ax.axis([CurrentXAxis.min(),CurrentXAxis.max(),-1.5,1.5])\n  manager.canvas.draw()\n  #manager.show()\n\ntimer = fig.canvas.new_timer(interval=20)\ntimer.add_callback(RealtimePloter, ())\ntimer2 = fig.canvas.new_timer(interval=20)\ntimer2.add_callback(SinwaveformGenerator, ())\ntimer.start()\ntimer2.start()\n\npylab.show()\n</code></pre>\n\n<p>The code generates the second figure but fails to update the first figure. Anytips or ideas would be really helpful Thanks !</p>\n"}, {"tags": ["python", "google-cloud-platform", "jupyter-notebook", "google-compute-engine", "word2vec"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10360186"}, "is_accepted": true, "score": 6, "last_activity_date": 1537415667, "creation_date": 1537415667, "answer_id": 52417342, "question_id": 52414249, "link": "https://stackoverflow.com/questions/52414249/attributeerror-module-boto-has-no-attribute-plugin/52417342#52417342", "title": "AttributeError: module &#39;boto&#39; has no attribute &#39;plugin&#39;", "body": "<pre><code>pip install google-compute-engine\n</code></pre>\n\n<p>install google compute engine and restart your vm and it works fine.</p>\n"}], "owner": {"reputation": 1725, "user_id": 7160346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vz8Zz.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/7160346/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1777, "favorite_count": 1, "accepted_answer_id": 52417342, "answer_count": 1, "score": 2, "last_activity_date": 1543673419, "creation_date": 1537391388, "last_edit_date": 1543673419, "question_id": 52414249, "link": "https://stackoverflow.com/questions/52414249/attributeerror-module-boto-has-no-attribute-plugin", "title": "AttributeError: module &#39;boto&#39; has no attribute &#39;plugin&#39;", "body": "<p>I'm running a VM on Google Cloud Platform using Jupyter notebook with word2vec models. I have the following code snippet:</p>\n\n<pre><code>from gensim.models import Word2Vec\namazon_word2vec = Word2Vec(model, min_count=1, size=100)\n</code></pre>\n\n<p>And it results in the error:</p>\n\n<pre><code>AttributeError: module 'boto' has no attribute 'plugin'\n</code></pre>\n\n<p>What is the solution to the above problem?</p>\n"}, {"tags": ["python", "code-coverage", "travis-ci", "coverage.py", "test-coverage"], "answers": [{"tags": [], "owner": {"reputation": 561, "user_id": 9395299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-B5MuGVQu6tE/AAAAAAAAAAI/AAAAAAAAAbg/VEJFuu7MRAk/photo.jpg?sz=128", "display_name": "Ma&#235;l Pedretti", "link": "https://stackoverflow.com/users/9395299/ma%c3%abl-pedretti"}, "is_accepted": false, "score": 0, "last_activity_date": 1537422773, "creation_date": 1537422773, "answer_id": 52418445, "question_id": 52414225, "link": "https://stackoverflow.com/questions/52414225/how-to-run-a-coverage-report-only-on-the-functions-changed-in-a-pr/52418445#52418445", "title": "How to run a coverage report only on the functions changed in a PR?", "body": "<p>In one of my previous answers, I helped someone get their last modified php files inside a git folder (Not what you need but this might help you). </p>\n\n<p>Check the following:</p>\n\n<p><a href=\"https://stackoverflow.com/a/50128977/9395299\">https://stackoverflow.com/a/50128977/9395299</a></p>\n\n<p>Look at this question also:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7344577/is-there-a-way-to-ask-git-diff-to-show-the-method-name-instead-of-the-class-name?lq=1\">Is there a way to ask git diff to show the method name instead of the class name?</a></p>\n\n<p>It points to the following documentation:</p>\n\n<p><a href=\"https://git-scm.com/docs/gitattributes#_defining_a_custom_hunk_header\" rel=\"nofollow noreferrer\">https://git-scm.com/docs/gitattributes#_defining_a_custom_hunk_header</a></p>\n\n<p>This might help you a bit more.</p>\n\n<p>I have never done that before but apparently you can specify a git diff attribute to show you what you really need (in your case your python functions).</p>\n\n<p>From there you could get the list of your functions and pass them to your coverage reporter.</p>\n"}], "owner": {"reputation": 809, "user_id": 6253539, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9e83baa97db8b1798d55ba72d839cf01?s=128&d=identicon&r=PG&f=1", "display_name": "P.V.", "link": "https://stackoverflow.com/users/6253539/p-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1537422773, "creation_date": 1537391232, "question_id": 52414225, "link": "https://stackoverflow.com/questions/52414225/how-to-run-a-coverage-report-only-on-the-functions-changed-in-a-pr", "title": "How to run a coverage report only on the functions changed in a PR?", "body": "<p>I am working on an enormous django project that takes hours to generate a coverage report (using the coverage.py library). Instead, I want travis to generate a report on only the functions that have been changed in my PR. </p>\n\n<p>My current idea is to write something in <code>.travis.yml</code> to run a <code>git diff</code> between my branch and the branch it is being PR'd against, getting the function names from that output, and then running testing with coverage on those functions. </p>\n\n<p>This seems like a problem that other people must have run into, is there some cleaner way of doing this?</p>\n"}, {"tags": ["python", "fft"], "comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 2, "creation_date": 1537391253, "post_id": 52414219, "comment_id": 91772166, "body": "Sorry, what&#39;s your question? also as a note, next time post your code and highlight the code and hit <code>ctrl</code> + <code>k</code>"}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 1, "creation_date": 1537391366, "post_id": 52414219, "comment_id": 91772203, "body": "What are you trying to do in your code? What is <code>n</code>? Also you are computing <code>X</code> within a for loop. It will be returned for k = 0, 1, 2 but since you are overwriting variable <code>a</code>, <code>a</code> will only contain value for <code>k = 2</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10388024"}, "edited": false, "score": 0, "creation_date": 1537413755, "post_id": 52414219, "comment_id": 91777375, "body": "I have to do a function that solve the Fourier transform,  but python report me this problem &quot;x and y must have same first dimension, but have shapes (1000,) and (1,)&quot;. Thanks for help"}], "answers": [{"tags": [], "owner": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "is_accepted": false, "score": 3, "last_activity_date": 1537411499, "creation_date": 1537411499, "answer_id": 52416818, "question_id": 52414219, "link": "https://stackoverflow.com/questions/52414219/how-can-i-fix-dimension-error-while-trying-to-compute-and-plot-fourier-coefficie/52416818#52416818", "title": "How can I fix dimension error while trying to compute and plot Fourier coefficients", "body": "<p>The error</p>\n\n<blockquote>\n<pre><code>x and y must have same first dimension, but have shapes (1000,) and (1,)\n</code></pre>\n</blockquote>\n\n<p>arises as you are trying to plot the results with <code>plt.plot(x, a)</code>. In your specific case  <code>x</code> is an array of 1000 values, while <code>a</code> is a scalar. Your intention was probably to get array rather than a scalar, so let's dive into your <code>fourier</code> implementation.</p>\n\n<p>It looks like you are trying to compute the first few coefficients of a <a href=\"http://en.wikipedia.org/wiki/Discrete_Fourier_transform\" rel=\"nofollow noreferrer\">Discrete Fourier Transform</a>. To do so, you need to assign the different coefficients to different indices in the result array <code>X</code>. Also the sum should be carried out over the entire vector expression <code>y*np.exp(-2j*np.pi*t*(k/n))</code>. By running a loop over the different values of <code>t</code>, you would be computing the sum of the elements of <code>y</code> scaled by some factor (a different factor for each value of <code>t</code>, but the same factor applied to the entire array <code>y</code> for each different value of <code>t</code>).</p>\n\n<p>Putting this all together you should get the following implementation:</p>\n\n<pre><code>def fourier(y, kmax):\n    n = len(y)\n    X = np.zeros(kmax, dtype=np.complex)\n    for k in range (0,kmax):\n        t = np.arange(0, n)         \n        X[k] = np.sum(y*np.exp(-2j*np.pi*t*(k/n))) \n    return X\n\nkmax = 3\na=fourier(y,kmax)\n</code></pre>\n\n<p>To plot the results, you have to use the same number of points along the x-axis than along the y-axis. Since we computed <code>kmax</code> coefficients, we should also limit the number of x-axis point to <code>kmax</code>. Finally, since those coefficients are complex numbers you will have to reduce the results to a set a real-valued numbers before plotting. A common application is to get the magnitude of the coefficients with <code>np.abs</code>.</p>\n\n<pre><code>plt.plot(x[0:kmax],np.abs(a))\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3329, "user_id": 6814154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76e235219baaddb83f38d12e6665fbc?s=128&d=identicon&r=PG&f=1", "display_name": "Khalil Al Hooti", "link": "https://stackoverflow.com/users/6814154/khalil-al-hooti"}, "is_accepted": false, "score": 0, "last_activity_date": 1537413960, "creation_date": 1537413960, "answer_id": 52417139, "question_id": 52414219, "link": "https://stackoverflow.com/questions/52414219/how-can-i-fix-dimension-error-while-trying-to-compute-and-plot-fourier-coefficie/52417139#52417139", "title": "How can I fix dimension error while trying to compute and plot Fourier coefficients", "body": "<p>Why do not use scipy fft package? You can plot phase and amplitude spectrum separately. below is an example</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy import fftpack\n\nx=np.linspace(0,6, 1000)\ny=np.cos(x**2)\n\nbest_len = fftpack.helper.next_fast_len(len(y))\nyf = fftpack.fft(y, best_len)\nxf = fftpack.fftfreq(best_len, np.diff(x)[0])\n\nfig, ax = plt.subplots(1, 2, figsize=(12, 6))\n\nax[0].plot(xf[0:best_len//2], 2.0/best_len*np.abs(yf[0:best_len//2]))\nax[1].plot(xf[0:best_len//2], 2.0/best_len*np.angle(yf[0:best_len//2]))\n\n\nax[0].set_title('Amplitude spcetrum')\nax[1].set_title('Phase spcetrum')\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/30jVO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30jVO.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10388024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1537413960, "creation_date": 1537391198, "last_edit_date": 1537411967, "question_id": 52414219, "link": "https://stackoverflow.com/questions/52414219/how-can-i-fix-dimension-error-while-trying-to-compute-and-plot-fourier-coefficie", "title": "How can I fix dimension error while trying to compute and plot Fourier coefficients", "body": "<p>I am trying to compute and plot Fourier coefficients for some signal and I am getting the following error:</p>\n\n<blockquote>\n<pre><code>x and y must have same first dimension, but have shapes (1000,) and (1,)\n</code></pre>\n</blockquote>\n\n<p>using the following code:</p>\n\n<pre><code>x=np.linspace(0,6, 1000)\ny=np.cos(x**2)\n\n#Areglo de 0 a 2pi con la cantida p k=n\n\ndef fourier(y):\n    for k in range (0,3):\n        for t in range(0, n - 1):         \n            X = np.sum(y*np.exp(-2j*np.pi*t*(k/n))) \n        return X\n\na=fourier(y)\n\nplt.plot(x,a)\n</code></pre>\n\n<p>How can I fix that error?</p>\n"}, {"tags": ["python", "python-3.6"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 5, "creation_date": 1537391203, "post_id": 52414215, "comment_id": 91772144, "body": "It means what is says: when <i>any</i> argument is supplied with a keyword, <i>all subsequent arguments</i> must also use the keyword-argument syntax."}, {"owner": {"reputation": 37, "user_id": 9349819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7647e0944d2a0a3cf8d35066b9240d16?s=128&d=identicon&r=PG&f=1", "display_name": "S. Safinia", "link": "https://stackoverflow.com/users/9349819/s-safinia"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1537391403, "post_id": 52414215, "comment_id": 91772221, "body": "Would you please explain it a little more?! Then what should i do now??"}, {"owner": {"reputation": 37, "user_id": 9349819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7647e0944d2a0a3cf8d35066b9240d16?s=128&d=identicon&r=PG&f=1", "display_name": "S. Safinia", "link": "https://stackoverflow.com/users/9349819/s-safinia"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1537391495, "post_id": 52414215, "comment_id": 91772258, "body": "first I wrote gecode without any api_key argument, but after run it says neede an api key, so that&#39;s why i added..."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9349819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7647e0944d2a0a3cf8d35066b9240d16?s=128&d=identicon&r=PG&f=1", "display_name": "S. Safinia", "link": "https://stackoverflow.com/users/9349819/s-safinia"}, "edited": false, "score": 0, "creation_date": 1537391756, "post_id": 52414285, "comment_id": 91772340, "body": "thanks... I did it but i got a different error: TypeError: geocode() got an unexpected keyword argument &#39;api_key&#39;"}, {"owner": {"reputation": 1371, "user_id": 5103577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Okf5j.png?s=128&g=1", "display_name": "Luke Borowy", "link": "https://stackoverflow.com/users/5103577/luke-borowy"}, "reply_to_user": {"reputation": 37, "user_id": 9349819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7647e0944d2a0a3cf8d35066b9240d16?s=128&d=identicon&r=PG&f=1", "display_name": "S. Safinia", "link": "https://stackoverflow.com/users/9349819/s-safinia"}, "edited": false, "score": 0, "creation_date": 1537392151, "post_id": 52414285, "comment_id": 91772484, "body": "@S.Safinia see my edit"}], "tags": [], "owner": {"reputation": 1371, "user_id": 5103577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Okf5j.png?s=128&g=1", "display_name": "Luke Borowy", "link": "https://stackoverflow.com/users/5103577/luke-borowy"}, "is_accepted": false, "score": 1, "last_activity_date": 1537392128, "last_edit_date": 1537392128, "creation_date": 1537391605, "answer_id": 52414285, "question_id": 52414215, "link": "https://stackoverflow.com/questions/52414215/syntaxerror-positional-argument-follows-keyword-argument/52414285#52414285", "title": "SyntaxError: positional argument follows keyword argument", "body": "<p>This error is exactly what it says: a keyword argument (<code>api_key</code>) comes before the positional argument (the address). </p>\n\n<p>To fix this error, just flip the arguments around. It should be <code>result = Geocoder.geocode(\"551 Alvarado St, San Francisco, CA 94114, USA\",api_key = \"AIzaSyCQtCdmnvV9ilT-fVgloW8W5bBSIoQbdUI\")</code>.</p>\n\n<p>However, the function <code>geocode</code> does not take a <code>api_key</code> argument. That goes into the <code>Geocoder</code> constructor. </p>\n\n<p>You need to instantiate a <code>Geocoder</code> object using the api_key.</p>\n\n<pre><code>my_geocoder=Geocoder(api_key = \"AIzaSyCQtCdmnvV9ilT-fVgloW8W5bBSIoQbdUI\")\n</code></pre>\n\n<p>Then, use that geocoder's <code>geocode</code> function.</p>\n\n<pre><code>result=my_geocoder.geocode(\"551 Alvarado St, San Francisco, CA 94114, USA\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "is_accepted": false, "score": 0, "last_activity_date": 1537392154, "creation_date": 1537392154, "answer_id": 52414380, "question_id": 52414215, "link": "https://stackoverflow.com/questions/52414215/syntaxerror-positional-argument-follows-keyword-argument/52414380#52414380", "title": "SyntaxError: positional argument follows keyword argument", "body": "<p>From glancing at the documentation (<a href=\"https://bitbucket.org/xster/pygeocoder/wiki/Home\" rel=\"nofollow noreferrer\">https://bitbucket.org/xster/pygeocoder/wiki/Home</a>), it looks like you're trying to put the <code>api_key</code> keyword argument in the wrong place. Try this:</p>\n\n<pre><code>result = Geocoder(api_key = \"AIzaSyCQtCdmnvV9ilT-fVgloW8W5bBSIoQbdUI\").geocode(\"551 Alvarado St, San Francisco, CA 94114, USA\")\n</code></pre>\n\n<p>(As a side issue, I would suggest it isn't a great idea to give your API key out in a public forum. Consider changing it/getting a new one, if that's your real one.)</p>\n"}], "owner": {"reputation": 37, "user_id": 9349819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7647e0944d2a0a3cf8d35066b9240d16?s=128&d=identicon&r=PG&f=1", "display_name": "S. Safinia", "link": "https://stackoverflow.com/users/9349819/s-safinia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4606, "favorite_count": 1, "closed_date": 1537393891, "answer_count": 2, "score": -3, "last_activity_date": 1537392154, "creation_date": 1537391146, "last_edit_date": 1537391238, "question_id": 52414215, "link": "https://stackoverflow.com/questions/52414215/syntaxerror-positional-argument-follows-keyword-argument", "closed_reason": "Not suitable for this site", "title": "SyntaxError: positional argument follows keyword argument", "body": "<p>I run the following code in Jupyter Notebook:</p>\n\n<pre><code>from pygeocoder import Geocoder\nresult = Geocoder.geocode(api_key = \"AIzaSyCQtCdmnvV9ilT-fVgloW8W5bBSIoQbdUI\", \"551 Alvarado St, San Francisco, CA 94114, USA\")\nprint(result)\n</code></pre>\n\n<p>But I got this error:</p>\n\n<pre><code>SyntaxError: positional argument follows keyword argument\n</code></pre>\n\n<p>Would you please help me with it?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 3, "creation_date": 1537391099, "post_id": 52414197, "comment_id": 91772109, "body": "You forgot to ask a specific question, What went wrong with your code ?"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1537391255, "post_id": 52414197, "comment_id": 91772169, "body": "What is <code>score = sum(roll * 6)</code> supposed to be doing?"}, {"owner": {"reputation": 13530, "user_id": 593382, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f7326fd554e09edf21ca727d6854e22e?s=128&d=identicon&r=PG", "display_name": "Grady Player", "link": "https://stackoverflow.com/users/593382/grady-player"}, "edited": false, "score": 0, "creation_date": 1537391340, "post_id": 52414197, "comment_id": 91772199, "body": "if you are struggling with formatting your print statements, there are a couple of more or less equivalent ways. <code>print(&quot;score is {score}&quot;.format(score=score))</code> <code>print (&quot;score is %s&quot; % score)</code> <code>print(&quot;score is {}&quot;.format(score))</code>"}, {"owner": {"reputation": 1, "user_id": 10380273, "user_type": "registered", "profile_image": "https://graph.facebook.com/2376681919025040/picture?type=large", "display_name": "Andrew Tam", "link": "https://stackoverflow.com/users/10380273/andrew-tam"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1537404404, "post_id": 52414197, "comment_id": 91775419, "body": "@khelwood, I actually meant to put roll * 5 because I was trying to make the dice roll 5 times"}], "answers": [{"tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 1, "last_activity_date": 1537391919, "creation_date": 1537391919, "answer_id": 52414341, "question_id": 52414197, "link": "https://stackoverflow.com/questions/52414197/how-do-i-program-this-dice-roller/52414341#52414341", "title": "How do I program this dice roller?", "body": "<pre><code>def f():\n    l = [ random.randint(1,6) for i in range(6)]\n    print(l)\n    if (2 in l or 5 in l):\n        return 0\n    else:\n        return sum(l)\n\n\nf()\n[2, 1, 1, 4, 1, 1]\nOut[120]: \n0\n\ufffc\n\n\nf()\n[3, 3, 4, 4, 3, 3]\nOut[121]: \n20\n\ufffc\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10380273, "user_type": "registered", "profile_image": "https://graph.facebook.com/2376681919025040/picture?type=large", "display_name": "Andrew Tam", "link": "https://stackoverflow.com/users/10380273/andrew-tam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "closed_date": 1537391562, "answer_count": 1, "score": -2, "last_activity_date": 1537391919, "creation_date": 1537391002, "last_edit_date": 1537391164, "question_id": 52414197, "link": "https://stackoverflow.com/questions/52414197/how-do-i-program-this-dice-roller", "closed_reason": "Needs details or clarity", "title": "How do I program this dice roller?", "body": "<p>So I'm trying to create a dice that rolls 5 times and takes the sum of those 5 values from 1 to 6. HOWEVER, if any of the values Is 2 or 5, the whole sum turns to zero. This is what I have so far. </p>\n\n<pre><code>def score(hand):\n    roll = random.randint(1,6)\n    if roll == 2 or roll ==5:\n        score = sum(roll * 6)\n        print(\"(\"score\") is 0\")\n    else:\n        print(\"(\"sum\") is your total\")\n</code></pre>\n\n<p>Don't judge. Im trying :(</p>\n"}, {"tags": ["python", "python-3.x", "libtcod"], "owner": {"reputation": 112, "user_id": 7451758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vpuv3.jpg?s=128&g=1", "display_name": "keepitwiel", "link": "https://stackoverflow.com/users/7451758/keepitwiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537428081, "creation_date": 1537390789, "last_edit_date": 1537428081, "question_id": 52414153, "link": "https://stackoverflow.com/questions/52414153/libtcod-python-cpu-usage-through-the-roof-using-sys-check-for-event-instead-of", "title": "libtcod/Python: CPU usage through the roof using sys_check_for_event instead of sys_wait_for_event", "body": "<p>I'm building a game in Python 3 using the <a href=\"https://python-tdl.readthedocs.io/en/latest/readme.html\" rel=\"nofollow noreferrer\">CFFI port of libtcod</a>. </p>\n\n<p>Handling user input works very well with the <code>sys_wait_for_event</code> method (both keyboard and mouse events are immediately captured), however this prevents me from making the game realtime as the method only returns an event when the user does something, not when I want the game to (for example) move enemies around.</p>\n\n<p>I can switch to <code>sys_check_for_event</code> but somehow this sends CPU usage to 100% and seemingly doesn't capture mouse movements. It's almost as if it's checking for events too often. Trying to slow it down by calling <code>time.sleep</code> every loop doesn't work either.</p>\n\n<p>I use the following code:</p>\n\n<pre><code>import tcod\n\ntcod.console_set_custom_font('terminal16x16_gs_ro.png', \n                             tcod.FONT_TYPE_GREYSCALE | tcod.FONT_LAYOUT_ASCII_INROW)\ncod.console_init_root(40, 40, 'My game', False)\ntcod.sys_set_fps(60)\n\nkey = tcod.Key()\nmouse = tcod.Mouse()\n\nwhile not tcod.console_is_window_closed():\n    # listen for user input, which sends CPU usage to 100%\n    event = tcod.sys_check_for_event(tcod.EVENT_KEY_PRESS | tcod.EVENT_MOUSE, key, mouse)\n\n    # do stuff\n    some_handling_method(key, mouse)              \n\n    # flush consoles to the window\n    tcod.console_flush()\n</code></pre>\n\n<p>How can I fix this issue -</p>\n\n<ul>\n<li><p>is there a way to use <code>sys_wait_for_event</code> until some time has passed, after which I can let the game update its state without user input, </p></li>\n<li><p>is there something wrong with <code>sys_check_for_event</code> or </p></li>\n<li><p>am I using it wrong? </p></li>\n</ul>\n\n<p>Thanks!</p>\n\n<p><strong>Update</strong> I think there's a bug in <code>sys_check_for_event</code>: it returns all events except for mouse movements. I tested this by looking at the <code>(x, y)</code> coordinates in the <code>mouse</code> object - even when these numbers change, the output of the method remains <code>0</code> i.e. no events.</p>\n"}, {"tags": ["python", "linux", "python-3.x", "video", "debian"], "answers": [{"tags": [], "owner": {"reputation": 7116, "user_id": 5083516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2aeeefc1a95ddb2f19612150ccd7ba?s=128&d=identicon&r=PG&f=1", "display_name": "plugwash", "link": "https://stackoverflow.com/users/5083516/plugwash"}, "is_accepted": true, "score": 5, "last_activity_date": 1537390774, "creation_date": 1537390774, "answer_id": 52414149, "question_id": 52414148, "link": "https://stackoverflow.com/questions/52414148/turn-pil-images-into-video-on-linux/52414149#52414149", "title": "turn PIL images into video on Linux", "body": "<p>One soloution is to use opencv, data can be bridged from PIL to opencv via numpy. An outline of the code I used is. </p>\n\n<pre><code>import numpy as np\nfrom PIL import Image, ImageDraw\nimport cv2\n\nvideodims = (100,100)\nfourcc = cv2.VideoWriter_fourcc(*'avc1')    \nvideo = cv2.VideoWriter(\"test.mp4\",fourcc, 60,videodims)\nimg = Image.new('RGB', videodims, color = 'darkred')\n#draw stuff that goes on every frame here\nfor i in range(0,60*60):\n    imtemp = img.copy()\n    # draw frame specific stuff here.\n    video.write(cv2.cvtColor(np.array(imtemp), cv2.COLOR_RGB2BGR))\nvideo.release()\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>I got the basic technique from <a href=\"https://blog.extramaster.net/2015/07/python-pil-to-mp4.html\" rel=\"noreferrer\">https://blog.extramaster.net/2015/07/python-pil-to-mp4.html</a>)</li>\n<li>Extramaster claimed that passing -1 as codec parameter would pop up a codec selection list, that didn't work for me.</li>\n<li>I ended up having to use Debian buster (=testing at the time of writing) as earlier releases lacked the python3-opencv package.</li>\n<li>It seems if the dimensions of your frame do not match the dimensions of the video opencv will silently fail to add the frame.</li>\n</ul>\n"}], "owner": {"reputation": 7116, "user_id": 5083516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2aeeefc1a95ddb2f19612150ccd7ba?s=128&d=identicon&r=PG&f=1", "display_name": "plugwash", "link": "https://stackoverflow.com/users/5083516/plugwash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6132, "favorite_count": 1, "accepted_answer_id": 52414149, "answer_count": 1, "score": 3, "last_activity_date": 1537390910, "creation_date": 1537390774, "last_edit_date": 1537390910, "question_id": 52414148, "link": "https://stackoverflow.com/questions/52414148/turn-pil-images-into-video-on-linux", "title": "turn PIL images into video on Linux", "body": "<p>I am using python 3 on Debian Linux, I am using the python imaging library (pillow fork) to produce a sequence of images, I would like to output the images as a video in a widely supported format (don't care too much which one as long as it's sometthing I can view in VLC and import into video editing software).</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["python", "oop", "tkinter"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1537390845, "post_id": 52414135, "comment_id": 91772015, "body": "Huh? Why would a <i>mouse button</i> click event have a <code>char</code> or a <code>keysym</code> attribute? What would you expect those to be?"}], "answers": [{"tags": [], "owner": {"reputation": 5878, "user_id": 8172933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c23be88780bfccade78eb5ffb64ba9?s=128&d=identicon&r=PG", "display_name": "figbeam", "link": "https://stackoverflow.com/users/8172933/figbeam"}, "is_accepted": false, "score": 1, "last_activity_date": 1537430681, "creation_date": 1537430681, "answer_id": 52420380, "question_id": 52414135, "link": "https://stackoverflow.com/questions/52414135/not-able-to-get-button-click-value-into-event-in-tkinter/52420380#52420380", "title": "Not able to get button click value into event in Tkinter", "body": "<p>The easiest way to assign a button click to a function is to use the <code>command</code> parameter. As you want to have each button deliver a specific value (the number) you can use <code>lambda</code> for that. </p>\n\n<pre><code>button1= tk.Button(root, text =\"1\", height=7, width=20,\n               command=lambda:handle_pin_button(\"1\"))\n</code></pre>\n\n<p>Now you get the number delivered to the function and can write it without referring to the event.</p>\n\n<p>Examine the example below; is this what you are after?</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\n\npin_number = [] # Create a list to contain the pressed digits\n\ndef handle_pin_button(number):\n    '''Function to add the number of the button clicked to\n    the PIN number entry via its associated variable.'''\n    print(\"Pressed\", number)\n    pin_number.append(number)   # Add digit to pin_number\n\n    # Limit to 4 chars in length\n    if len(pin_number) == 4:\n        pin = \"\".join(pin_number)\n        for _ in range(4):\n            pin_number.pop()    # Clear the pin_number\n        print(\"Pin number is:\", pin)\n        return pin\n\nbutton1= tk.Button(root, text =\"1\", height=7, width=20,\n                   command=lambda:handle_pin_button(\"1\"))\nbutton1.grid(row=3,column=0)\nbutton2 = tk.Button(root, text=\"2\", height=7, width=20,\n                   command=lambda:handle_pin_button(\"2\"))\nbutton2.grid(row=3,column=1)\nbutton3 = tk.Button(root, text=\"3\", height=7, width=20,\n                   command=lambda:handle_pin_button(\"3\"))\nbutton3.grid(row=3,column=2)\n\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5405925, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O_9a5_97nrQ/AAAAAAAAAAI/AAAAAAAAAIE/Kz4hR1cNwEo/photo.jpg?sz=128", "display_name": "ashish kumar", "link": "https://stackoverflow.com/users/5405925/ashish-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537430681, "creation_date": 1537390723, "last_edit_date": 1537391403, "question_id": 52414135, "link": "https://stackoverflow.com/questions/52414135/not-able-to-get-button-click-value-into-event-in-tkinter", "title": "Not able to get button click value into event in Tkinter", "body": "<p>This are my code </p>\n\n<pre><code>button1= tk.Button(text =\"1\", height=7, width=20)\nbutton1.bind(\"&lt;Button-1&gt;\",handle_pin_button)\nbutton1.grid(row=3,column=0)\nbutton2 = tk.Button(text=\"2\", height=7, width=20)\nbutton2.bind(\"&lt;Button-1&gt;\", handle_pin_button)\nbutton2.grid(row=3,column=1)\nbutton3 = tk.Button(text=\"3\", height=7, width=20)\nbutton3.bind(\"&lt;Button-1&gt;\", handle_pin_button)\nbutton3.grid(row=3,column=2)\n</code></pre>\n\n<p>And my handle_pin_button is below </p>\n\n<pre><code>def handle_pin_button(event):\n       '''Function to add the number of the button clicked to the PIN number entry via its associated variable.'''\n       print(\"hello\")\n       values_for_pin = repr(event.char)\n       print(values_for_pin)\n       print(event.keysym)\n\n       pin_number_var.set(values_for_pin)\n       value = str(pin_number_var.get())\n       print(value)\n\n       # Limit to 4 chars in length\n       if(len(value)&gt;4):\n           pin_number_var.set(value[:4])\n</code></pre>\n\n<p>its coming like '??' in event.char</p>\n"}, {"tags": ["python", "python-3.x", "function", "for-loop"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 3, "creation_date": 1537390726, "post_id": 52414111, "comment_id": 91771970, "body": "Because you set <code>x=&quot;&quot;</code> in each loop iteration"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1537390808, "post_id": 52414111, "comment_id": 91772000, "body": "Have a look at the <code>reversed</code> builtin as well."}], "answers": [{"tags": [], "owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "is_accepted": false, "score": 2, "last_activity_date": 1537390719, "creation_date": 1537390719, "answer_id": 52414132, "question_id": 52414111, "link": "https://stackoverflow.com/questions/52414111/function-to-print-text-inverted-by-a-for-loop/52414132#52414132", "title": "function to print text inverted (by a for loop)", "body": "<p>Move <code>x</code> outside of the for loop, because currently you are resetting x each time the for loops iterates:</p>\n\n<pre><code>def text_inverted(w):\n    x = \"\" \n\n    for i in range(len(w)-1,-1,-1):\n        x+=w[i]\n    return x\n\nprint(text_inverted(\"hello\")) #prints olleh\n</code></pre>\n\n<p>Another way of solving this is using Python's slicing notion:</p>\n\n<pre><code>def text_inverted(w):\n    return w[::-1]\n\nprint(text_inverted(\"hello\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1537390920, "last_edit_date": 1537390920, "creation_date": 1537390738, "answer_id": 52414136, "question_id": 52414111, "link": "https://stackoverflow.com/questions/52414111/function-to-print-text-inverted-by-a-for-loop/52414136#52414136", "title": "function to print text inverted (by a for loop)", "body": "<p>The problem is that you reassign <code>x</code> to be the empty string in each iteration of the <code>for</code> loop. Move the statement <code>x = ''</code> above the loop and your function should work fine.</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; def text_inverted(w):\n...     x = ''\n...     for i in range(len(w)-1,-1,-1):\n...         x += w[i]\n...     return x\n... \n&gt;&gt;&gt; \n&gt;&gt;&gt; print(text_inverted(\"hello\"))\nolleh\n</code></pre>\n\n<p>By the way, the idiomatic way to reverse a string uses slice notation.</p>\n\n<pre><code>&gt;&gt;&gt; 'hello'[::-1]\n'olleh'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 562, "user_id": 9002568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21015a00f084d658638c454ce6cd1feb?s=128&d=identicon&r=PG&f=1", "display_name": "kur ag", "link": "https://stackoverflow.com/users/9002568/kur-ag"}, "is_accepted": false, "score": 2, "last_activity_date": 1537390802, "creation_date": 1537390802, "answer_id": 52414156, "question_id": 52414111, "link": "https://stackoverflow.com/questions/52414111/function-to-print-text-inverted-by-a-for-loop/52414156#52414156", "title": "function to print text inverted (by a for loop)", "body": "<p>There is easier way.</p>\n\n<pre><code>a=\"hello\"\nprint(a[::-1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7507866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a2affe56b1fc685507b149d532abbc?s=128&d=identicon&r=PG&f=1", "display_name": "chitra_usha", "link": "https://stackoverflow.com/users/7507866/chitra-usha"}, "is_accepted": false, "score": 1, "last_activity_date": 1537393355, "last_edit_date": 1537393355, "creation_date": 1537392807, "answer_id": 52414490, "question_id": 52414111, "link": "https://stackoverflow.com/questions/52414111/function-to-print-text-inverted-by-a-for-loop/52414490#52414490", "title": "function to print text inverted (by a for loop)", "body": "<p>The problem is that you are resetting the value of <code>x</code> altogether in every iteration of the loop.</p>\n\n<pre><code>def inverted(w):\n    i = 0;\n    x = '';\n    length = len(w);\n    while i &lt; length:\n         x += w[length - 1];\n         length = length - 1;\n    return x;\nprint(inverted('hello'));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 8150006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GK9eo.jpg?s=128&g=1", "display_name": "toom501", "link": "https://stackoverflow.com/users/8150006/toom501"}, "is_accepted": false, "score": 0, "last_activity_date": 1537393682, "creation_date": 1537393682, "answer_id": 52414623, "question_id": 52414111, "link": "https://stackoverflow.com/questions/52414111/function-to-print-text-inverted-by-a-for-loop/52414623#52414623", "title": "function to print text inverted (by a for loop)", "body": "<p>As mentioned in other answers, you're not suppose to set the variable <code>x</code> inside the for-loop; just initialize outside of it. </p>\n\n<p>A better and simple alternative is use the Python build-in solution:</p>\n\n<pre><code>w[::-1]\n</code></pre>\n\n<p>It will return the inverted <code>w</code> string.</p>\n"}], "owner": {"reputation": 35, "user_id": 10387897, "user_type": "registered", "profile_image": "https://graph.facebook.com/720394521629948/picture?type=large", "display_name": "Roberto Ch&#225;vez", "link": "https://stackoverflow.com/users/10387897/roberto-ch%c3%a1vez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1537393682, "creation_date": 1537390612, "question_id": 52414111, "link": "https://stackoverflow.com/questions/52414111/function-to-print-text-inverted-by-a-for-loop", "title": "function to print text inverted (by a for loop)", "body": "<p>I want to make a function that returns the text inverted.\nThe problem here is, 'x' doesn\u00b4t store the inverted text I don\u00b4t know why.</p>\n\n<p>THIS IS THE CODE</p>\n\n<pre><code>def text_inverted(w):\n\n    for i in range(len(w)-1,-1,-1):\n        x=\"\"\n        x+=w[i]\n    return x\n\nprint(text_inverted(\"hello\"))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "discord", "discord.py", "nonetype"], "comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 1, "creation_date": 1537390619, "post_id": 52414070, "comment_id": 91771930, "body": "you checked for <code>x</code> but you didn&#39;t check if <code>x</code> has a <code>user</code> or if it was None."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1537391210, "post_id": 52414070, "comment_id": 91772150, "body": "Is this happening when users react to the message, or when the bot reacts to the message?  You could make the check <code>check=lambda reaction, user: user and user != client.user</code>"}, {"owner": {"reputation": 294, "user_id": 10241025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e9a4125a80050495ad23afea3e1baa7?s=128&d=identicon&r=PG&f=1", "display_name": "hardestchat", "link": "https://stackoverflow.com/users/10241025/hardestchat"}, "edited": false, "score": 0, "creation_date": 1537391810, "post_id": 52414070, "comment_id": 91772357, "body": "It happens when users react to the message. i added user and user != client user and it gets rid of the error, but it doesn&#39;t delete the message and add the new message"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "edited": false, "score": 0, "creation_date": 1537391897, "post_id": 52414070, "comment_id": 91772402, "body": "Did you add Patrick&#39;s suggestion to the <code>wait_for_reaction</code> check lambda (it&#39;s different to my answer as it should stop it thinking it has a reaction until it&#39;s a valid user)."}, {"owner": {"reputation": 294, "user_id": 10241025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e9a4125a80050495ad23afea3e1baa7?s=128&d=identicon&r=PG&f=1", "display_name": "hardestchat", "link": "https://stackoverflow.com/users/10241025/hardestchat"}, "edited": false, "score": 0, "creation_date": 1537392459, "post_id": 52414070, "comment_id": 91772580, "body": "Hey, I tried both suggestions. Patrick has helped me before on this because it kept thinking the bot was reacting to the message so he suggested adding user != client.user, but when I add his new suggestion, it gets rid of the error, but it doesn&#39;t continue to delete the message and add the new message along with adding value to the json file."}], "answers": [{"comments": [{"owner": {"reputation": 294, "user_id": 10241025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e9a4125a80050495ad23afea3e1baa7?s=128&d=identicon&r=PG&f=1", "display_name": "hardestchat", "link": "https://stackoverflow.com/users/10241025/hardestchat"}, "edited": false, "score": 0, "creation_date": 1537391017, "post_id": 52414157, "comment_id": 91772078, "body": "Thank you for the response. I tried before posting this, but when the message is reacted to, it just spits out another &quot;emojimsg &quot; message with reaction."}], "tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": true, "score": 1, "last_activity_date": 1537390806, "creation_date": 1537390806, "answer_id": 52414157, "question_id": 52414070, "link": "https://stackoverflow.com/questions/52414070/attributeerror-nonetype-object-has-no-attribute-mention/52414157#52414157", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;mention&#39;", "body": "<p>You check if <code>x</code> is defined, but not it it has <code>x.user</code> and if that is a valid user object. The error you are getting you is telling you that <code>x.user</code> is currently <code>None</code>.</p>\n\n<p>You can ensure that user is not <code>None</code> by using:</p>\n\n<pre><code>if x and x.user is not None:  # or just: if x and x.user\n    await client.delete_message(emojimsg)\n    ...\n</code></pre>\n"}], "owner": {"reputation": 294, "user_id": 10241025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e9a4125a80050495ad23afea3e1baa7?s=128&d=identicon&r=PG&f=1", "display_name": "hardestchat", "link": "https://stackoverflow.com/users/10241025/hardestchat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1163, "favorite_count": 0, "accepted_answer_id": 52414157, "answer_count": 1, "score": 0, "last_activity_date": 1537391697, "creation_date": 1537390404, "question_id": 52414070, "link": "https://stackoverflow.com/questions/52414070/attributeerror-nonetype-object-has-no-attribute-mention", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;mention&#39;", "body": "<p>Getting a weird error. This code worked in 1 server I was in, but trying it in other servers gives me this error:</p>\n\n<p>Traceback (most recent call last):\n  File \"c:/Desktop/test bot/cash.py\", line 32, in background_loop\n    await client.send_message(channel, \"{} secures the bag. ${} found inside. \".format(x.user.mention, loot))\nAttributeError: 'NoneType' object has no attribute 'mention'</p>\n\n<pre><code>client = discord.Client()\n\nasync def background_loop():\n    await client.wait_until_ready()\n    channel = client.get_channel(\"479919577279758340\")\n    while not client.is_closed:\n        loot = random.randint(25,50)\n        emojigrab = '\ud83d\udcb0'\n        emojimsg = await client.send_message(channel, emojigrab)\n        await client.add_reaction(emojimsg, \"\ud83d\udc4d\")\n        x = await client.wait_for_reaction(emoji=\"\ud83d\udc4d\", message=emojimsg,\n                                             check=lambda reaction, user: user != client.user)\n        if x:\n            await client.delete_message(emojimsg)\n            await client.send_message(channel, \"{} secures the bag. {} found inside. \".format(x.user.mention, loot))\n            add_dollars(x.user, loot)\n            await asyncio.sleep(1800)\n\ntry:\n    with open(\"cash.json\") as fp:\n        cash = json.load(fp)\nexcept Exception:\n    cash = {}\n\ndef save_cash():\n    with open(\"cash.json\", \"w+\") as fp:\n        json.dump(cash, fp, sort_keys=True, indent=4)\n\ndef add_dollars(user: discord.User, dollars: int):\n    id = user.id\n    if id not in cash:\n        cash[id] = {}\n    cash[id][\"dollars\"] = cash[id].get(\"dollars\", 0) + dollars\n    print(\"{} now has {} dollars\".format(user.name, cash[id][\"dollars\"]))\n    save_cash()\n\ndef remove_dollars(user: discord.User, dollars: int):\n    id = user.id\n    if id not in cash:\n        cash[id] = {}\n    cash[id][\"dollars\"] = cash[id].get(\"dollars\", 0) - dollars\n    print(\"{} now has {} dollars\".format(user.name, cash[id][\"dollars\"]))\n    save_cash()\n\ndef add_dollars_stolen(user: discord.User, dollars_stolen: int):\n    id = user.id\n    if id not in cash:\n        cash[id] = {}\n    cash[id][\"dollars_stolen\"] = cash[id].get(\"dollars_stolen\", 0) + dollars_stolen\n    print(\"{} stole ${}\".format(user.name, cash[id][\"dollars_stolen\"]))\n    save_cash()\n\ndef get_dollars_stolen(user: discord.User):\n    id = user.id\n    if id in cash:\n        return cash[id].get(\"dollars_stolen\", 0)\n    return 0\n\ndef get_dollars(user: discord.User):\n    id = user.id\n    if id in cash:\n        return cash[id].get(\"dollars\", 0)\n    return 0\n\n@client.event\nasync def on_ready():\n    print('Bot Online.')\n\n@client.event\nasync def on_message(message):\n    if message.author == client.user:\n        return\n\n    if message.content.lower().startswith(\"?cash\"):\n            if message.content.lower() == \"?cash\":\n                if get_dollars(message.author) &lt; 0:\n                    await client.send_message(message.channel, \"You're ${} in the hole!\".format(get_dollars(message.author)))\n                else:\n                    await client.send_message(message.channel, \"You've acquired ${}! :dollar:\".format(get_dollars(message.author)))\n\n\nclient.loop.create_task(background_loop())\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1537390965, "post_id": 52414058, "comment_id": 91772052, "body": "Welcome to StackOverflow :) Please skim <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">this link</a> to understand which questions are best for this site"}], "answers": [{"tags": [], "owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "is_accepted": true, "score": 0, "last_activity_date": 1537391156, "last_edit_date": 1537391156, "creation_date": 1537390822, "answer_id": 52414162, "question_id": 52414058, "link": "https://stackoverflow.com/questions/52414058/identifying-and-connecting-continuous-x-y-trajectories-in-python/52414162#52414162", "title": "Identifying and connecting continuous x,y trajectories in Python", "body": "<p>You have the packages you want - numpy and pandas. I'd recommend going through a few tutorials, starting with a basics numpy one, but focusing on pandas. Doing work like this in python is best done in an interactive notebook editor, so if you can install Jupyter/IPython that'll make your life way easier in the future. Also, build out your test datasets first and drop them in a file, so every day when you start you can import 1 file and have small, usable datasets ready to go (you'll have to use the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\"><code>csv</code></a> package probably)!</p>\n"}], "owner": {"reputation": 3, "user_id": 10387945, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156858704653117/picture?type=large", "display_name": "Nicki Mandel", "link": "https://stackoverflow.com/users/10387945/nicki-mandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52414162, "answer_count": 1, "score": 0, "last_activity_date": 1537391156, "creation_date": 1537390341, "question_id": 52414058, "link": "https://stackoverflow.com/questions/52414058/identifying-and-connecting-continuous-x-y-trajectories-in-python", "title": "Identifying and connecting continuous x,y trajectories in Python", "body": "<p>I'm an inexperienced programmer trying to create a program to deal with some text files in Python. I'm currently working with single molecule trajectories, and the program that I use to track them spits out data that looks like <a href=\"https://i.stack.imgur.com/XNTTO.png\" rel=\"nofollow noreferrer\">this</a>. The first 3 columns are all that matters, and they are the frame number, x coordinate, and y coordinate. These are saved as a tab delimited text file, with a blank row between trajectories. </p>\n\n<p>The problem is that occasionally my molecule tracking program will lose track of a molecule then find it again later, for example from the attached image it may later find a molecule that starts with frame number 25, x around 199, y around 124. I want to create a program that will identify when a molecule was lost and re-found, and stitch those trajectories together. </p>\n\n<p>Does anyone have any advice on packages that may be useful, or even just a way to approach this that would be efficient in Python? I currently have numpy and pandas. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "matplotlib", "statsmodels", "tukey"], "comments": [{"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 2, "creation_date": 1537394138, "post_id": 52414040, "comment_id": 91773131, "body": "That&#39;s most likely an incompatibility with recent numpy and should be fixed in statsmodels master. A new release is planned for late Fall."}], "owner": {"reputation": 871, "user_id": 5683778, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/bXLFl.jpg?s=128&g=1", "display_name": "June Skeeter", "link": "https://stackoverflow.com/users/5683778/june-skeeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1607118470, "creation_date": 1537390232, "last_edit_date": 1607118470, "question_id": 52414040, "link": "https://stackoverflow.com/questions/52414040/statsmodels-plot-simultaneous-comparriosn-name-not-working", "title": "Statsmodels plot_simultaneous comparriosn_name not working", "body": "<p>I am using Tukeys pairwise comparison in statsmodels to visualize differences between groups.  The code works fine when I run it like this:</p>\n\n<pre><code>from statsmodels.stats.multicomp import pairwise_tukeyhsd\nfrom matplotlib import pyplot as plt \nimport numpy as np \nimport matplotlib\n\n%matplotlib notebook\nfig,ax = plt.subplots()\nT = np.asanyarray([1,2,0,1,2,3,4,5,10])\nN = np.asanyarray(['a','a','a','b','b','b','c','c','c'])\n\ntk = pairwise_tukeyhsd(T,N)\ntk.plot_simultaneous(ax=ax)\n</code></pre>\n\n<p>It outputs\n<a href=\"https://i.stack.imgur.com/dt0xu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dt0xu.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, when I try to use comparison_name ='c':</p>\n\n<pre><code>tk.plot_simultaneous(comparison_name ='c',ax=ax)\n</code></pre>\n\n<p>It fails and I get the following traceback:</p>\n\n<pre><code>TypeError                                 Traceback (most recent call last)\n&lt;ipython-input-10-9d84068180f9&gt; in &lt;module&gt;()\n     19 \n     20 tk = pairwise_tukeyhsd(T,N)\n---&gt; 21 tk.plot_simultaneous(comparison_name ='c',ax=ax)\n\nC:\\Anaconda3\\lib\\site-packages\\statsmodels\\sandbox\\stats\\multicomp.py in plot_simultaneous(self, comparison_name, ax, figsize, xlabel, ylabel)\n    733                 if self.groupsunique[i] == comparison_name:\n    734                     continue\n--&gt; 735                 if (min(maxrange[i], maxrange[midx]) -\n    736                                          max(minrange[i], minrange[midx]) &lt; 0):\n    737                     sigidx.append(i)\n\nTypeError: only integer scalar arrays can be converted to a scalar index\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "python-2.7", "pip", "pygame"], "comments": [{"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1537390620, "post_id": 52414003, "comment_id": 91771931, "body": "Perhaps you&#39;ve installed pygame for Python 2.7 and are trying to import it with Python 3.7. Check the Python version: <a href=\"https://stackoverflow.com/questions/1093322/how-do-i-check-what-version-of-python-is-running-my-script\" title=\"how do i check what version of python is running my script\">stackoverflow.com/questions/1093322/&hellip;</a>"}, {"owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "reply_to_user": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1537390887, "post_id": 52414003, "comment_id": 91772025, "body": "python runs python 2.7 and python3 runs python 3.7 :("}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1537391821, "post_id": 52414003, "comment_id": 91772362, "body": "try ignoring the cache directory <code>pip install --no-cache-dir --upgrade pygame</code>"}, {"owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537391937, "post_id": 52414003, "comment_id": 91772418, "body": "It says Requirement already up-to-date: pygame in /home/cesar/.local/lib/python3.7/site-packages (1.9.4)"}], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537392589, "post_id": 52414160, "comment_id": 91772624, "body": "Thanks but I&#39;m on Ubuntu"}], "tags": [], "owner": {"reputation": 11, "user_id": 9248187, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J8aTT2VNUN4/AAAAAAAAAAI/AAAAAAAAAF0/XbCVBvF9iac/photo.jpg?sz=128", "display_name": "Matin Hassan", "link": "https://stackoverflow.com/users/9248187/matin-hassan"}, "is_accepted": false, "score": 1, "last_activity_date": 1537390809, "creation_date": 1537390809, "answer_id": 52414160, "question_id": 52414003, "link": "https://stackoverflow.com/questions/52414003/pygame-installation-via-pip/52414160#52414160", "title": "pygame installation via pip", "body": "<p>Hmm.. My suggestion would be, </p>\n\n<p>Go on this website : <a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/#pygame\" rel=\"nofollow noreferrer\">https://www.lfd.uci.edu/~gohlke/pythonlibs/#pygame</a></p>\n\n<p>Delete the current vesion of PyGame (.9.4) and follow the instructions on this video that I found for you on YouTube: </p>\n\n<p><a href=\"https://www.youtube.com/watch?v=vGb5EX3XjdI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vGb5EX3XjdI</a></p>\n\n<p>This will give you a tutorial of how to install PyGame 1.9.3 a lower version.</p>\n\n<p>Good luck! </p>\n"}, {"comments": [{"owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537391079, "post_id": 52414163, "comment_id": 91772100, "body": "I tryed this one too"}, {"owner": {"reputation": 24, "user_id": 10380530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7uK1NTdEqXw/AAAAAAAAAAI/AAAAAAAAAIE/SI2Om64eaP4/photo.jpg?sz=128", "display_name": "Lucas Emanuel", "link": "https://stackoverflow.com/users/10380530/lucas-emanuel"}, "reply_to_user": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537391339, "post_id": 52414163, "comment_id": 91772198, "body": "try <code>pip3 uninstall pygame</code> and then <code>pip3 install pygame</code>"}, {"owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537392352, "post_id": 52414163, "comment_id": 91772545, "body": "It says &quot;Skipping pygame as it is not installed.&quot; In the second try of pip3 uninstall pygame but when I try: pip3 install pygame then says: Requirement already satisfied: pygame in /home/cesar/.local/lib/python3.7/site-packages (1.9.4)"}, {"owner": {"reputation": 24, "user_id": 10380530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7uK1NTdEqXw/AAAAAAAAAAI/AAAAAAAAAIE/SI2Om64eaP4/photo.jpg?sz=128", "display_name": "Lucas Emanuel", "link": "https://stackoverflow.com/users/10380530/lucas-emanuel"}, "reply_to_user": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537394616, "post_id": 52414163, "comment_id": 91773289, "body": "Try upgrade setuptools <code>pip (or pip3) install --upgrade setuptools</code>"}, {"owner": {"reputation": 24, "user_id": 10380530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7uK1NTdEqXw/AAAAAAAAAAI/AAAAAAAAAIE/SI2Om64eaP4/photo.jpg?sz=128", "display_name": "Lucas Emanuel", "link": "https://stackoverflow.com/users/10380530/lucas-emanuel"}, "reply_to_user": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537394678, "post_id": 52414163, "comment_id": 91773302, "body": "Try with <code>sudo</code> too"}], "tags": [], "owner": {"reputation": 24, "user_id": 10380530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7uK1NTdEqXw/AAAAAAAAAAI/AAAAAAAAAIE/SI2Om64eaP4/photo.jpg?sz=128", "display_name": "Lucas Emanuel", "link": "https://stackoverflow.com/users/10380530/lucas-emanuel"}, "is_accepted": false, "score": 1, "last_activity_date": 1537390828, "creation_date": 1537390828, "answer_id": 52414163, "question_id": 52414003, "link": "https://stackoverflow.com/questions/52414003/pygame-installation-via-pip/52414163#52414163", "title": "pygame installation via pip", "body": "<p>Try <code>python3 -m pip install -U pygame --user</code></p>\n\n<p>See <a href=\"https://www.pygame.org/wiki/GettingStarted\" rel=\"nofollow noreferrer\">Pygame GettingStarted</a></p>\n"}, {"comments": [{"owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 2, "creation_date": 1537390933, "post_id": 52414176, "comment_id": 91772039, "body": "If I try to install with pip3 says:  Requirement already satisfied: pygame in /home/cesar/.local/lib/python3.7/site-packages (1.9.4)  I tryed run the script with python3 (which it runs python3.7) and python (which it runs python 2.7)"}, {"owner": {"reputation": 307, "user_id": 9649669, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3TDu8S7YqFQ/AAAAAAAAAAI/AAAAAAAAANo/uNJehlBQxZI/photo.jpg?sz=128", "display_name": "Rasit aydin", "link": "https://stackoverflow.com/users/9649669/rasit-aydin"}, "reply_to_user": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537391290, "post_id": 52414176, "comment_id": 91772183, "body": "H\u0131ms, I tried in my system and worked perfectly.  Can you try,  pip3 uninstall pygame,  pip3 install pygame, python3 example.py,"}, {"owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "edited": false, "score": 0, "creation_date": 1537392329, "post_id": 52414176, "comment_id": 91772539, "body": "It says &quot;Skipping pygame as it is not installed.&quot; In the second try of   pip3 uninstall pygame  but when I try:  pip3 install pygame  then says:   Requirement already satisfied: pygame in /home/cesar/.local/lib/python3.7/site-packages (1.9.4)"}], "tags": [], "owner": {"reputation": 307, "user_id": 9649669, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3TDu8S7YqFQ/AAAAAAAAAAI/AAAAAAAAANo/uNJehlBQxZI/photo.jpg?sz=128", "display_name": "Rasit aydin", "link": "https://stackoverflow.com/users/9649669/rasit-aydin"}, "is_accepted": true, "score": 1, "last_activity_date": 1537390883, "creation_date": 1537390883, "answer_id": 52414176, "question_id": 52414003, "link": "https://stackoverflow.com/questions/52414003/pygame-installation-via-pip/52414176#52414176", "title": "pygame installation via pip", "body": "<p>Are u using python 2.7.x or 3.x when runing script ?</p>\n\n<p>Possibly, You run command like </p>\n\n<pre><code>python3 example.py\n</code></pre>\n\n<p>Or you run <code>python example.py</code> but <code>python --version</code> is outputting 3.x version if you are using Windows.</p>\n\n<p>Can you try install pygame with pip3 ?</p>\n\n<pre><code>pip3 install pygame\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 8889629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7419f421bfd61282726b0f3c69443e?s=128&d=identicon&r=PG&f=1", "display_name": "Cesar Augusto", "link": "https://stackoverflow.com/users/8889629/cesar-augusto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2162, "favorite_count": 1, "accepted_answer_id": 52414176, "answer_count": 3, "score": 1, "last_activity_date": 1537390883, "creation_date": 1537390067, "last_edit_date": 1537390326, "question_id": 52414003, "link": "https://stackoverflow.com/questions/52414003/pygame-installation-via-pip", "title": "pygame installation via pip", "body": "<p>I'm trying to install pygame in my python 2.7. I do it in this python because for some reason if I try to install pip in python 3.7 it won't work. From the terminal I entered:</p>\n\n<pre><code>sudo pip install pygame\n</code></pre>\n\n<p>And supposedly I installed it well, but when I try to do the import it tells me:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"example.py\", line 1, in &lt;module&gt;\n    import pygame\nImportError: No module named pygame\n</code></pre>\n\n<p>if i try to do again sudo <code>pip install pygame</code> :</p>\n\n<pre><code>Requirement already satisfied: pygame in /home/cesar/.local/lib/python2.7/site-packages (1.9.4)\n</code></pre>\n\n<p>Also, if I try to run <code>pip list</code> and look for pygame, it appears that the module is already installed:</p>\n\n<pre><code>pygame                        1.9.4   \n</code></pre>\n\n<p>What may be happening? Why does python say that the requirement is already met if it is not able to import the module?</p>\n"}, {"tags": ["python", "xml"], "comments": [{"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "edited": false, "score": 2, "creation_date": 1537389879, "post_id": 52413912, "comment_id": 91771622, "body": "It seems you correctly parsed the file. The return value you get is the root element from the xml, meaning everything is working fine. What is your problem again?"}, {"owner": {"reputation": 825, "user_id": 3719940, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bd2798bbb5bd797bd4eaafe8c1ea994c?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/3719940/rahul"}, "reply_to_user": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "edited": false, "score": 0, "creation_date": 1537390725, "post_id": 52413912, "comment_id": 91771968, "body": "@nosklo Sorry, i have updated the question. I actually want to extract all the child node values."}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 3719940, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bd2798bbb5bd797bd4eaafe8c1ea994c?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/3719940/rahul"}, "edited": false, "score": 0, "creation_date": 1537391245, "post_id": 52414113, "comment_id": 91772160, "body": "Hi, is there an easy way to just access the child nodes of another child nodes? Say the nodes under the node &#39;entry&#39;."}], "tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": true, "score": 0, "last_activity_date": 1537390616, "creation_date": 1537390616, "answer_id": 52414113, "question_id": 52413912, "link": "https://stackoverflow.com/questions/52413912/parsing-a-xml-file-derived-from-the-internet/52414113#52414113", "title": "Parsing a XML file derived from the internet", "body": "<p>What you're seeing is the string representation of the Element object returned by the builtin <strong>repr</strong> method, not the content of the root tree.</p>\n\n<p>To see the tags in the object try:</p>\n\n<pre><code>for child in root:\n    print child.tag, child.attrib\n</code></pre>\n\n<p>Check out the <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html\" rel=\"nofollow noreferrer\">docs</a> for more info on accessing specific tags.</p>\n"}], "owner": {"reputation": 825, "user_id": 3719940, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bd2798bbb5bd797bd4eaafe8c1ea994c?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/3719940/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 52414113, "answer_count": 1, "score": 0, "last_activity_date": 1537391099, "creation_date": 1537389694, "last_edit_date": 1537391099, "question_id": 52413912, "link": "https://stackoverflow.com/questions/52413912/parsing-a-xml-file-derived-from-the-internet", "title": "Parsing a XML file derived from the internet", "body": "<p>I am trying to parse a xml file that i extracted from the internet:</p>\n\n<pre><code>&lt;feed xmlns=\"http://www.w3.org/2005/Atom\" xmlns:m=\"http://schemas.microsoft.com/ado/2007/08/dataservices/metadata\" xmlns:d=\"http://schemas.microsoft.com/ado/2007/08/dataservices\" xml:base=\"https://my325415.crm.ondemand.com/sap/byd/odata/v1/c4c.svc/\"&gt;\n&lt;id&gt;\nhttps://xxxxx.xxxx.com/sap/byd/odata/v1/c4c.svc/https://xxxxxx.xxxx.com/sap/byd/odata/v1/c4c.svc/OpportunityCollection/?$format=xml\n&lt;/id&gt;\n&lt;title type=\"text\"&gt;OpportunityCollection&lt;/title&gt;\n&lt;updated&gt;2018-09-19T19:58:11Z&lt;/updated&gt;\n&lt;author&gt;\n&lt;name/&gt;\n&lt;/author&gt;\n&lt;link href=\"OpportunityCollection\" rel=\"self\" title=\"OpportunityCollection\"/&gt;\n&lt;entry&gt;\n&lt;id&gt;\nhttps://myxxxx.xxxx.ondemand.com/sap/byd/odata/v1/c4c.svc/OpportunityCollection('xxxxxxxx')\n&lt;/id&gt;\n&lt;title type=\"text\"&gt;Test Syracuse Zoo - Opp&lt;/title&gt;\n&lt;updated&gt;2018-09-19T19:58:11Z&lt;/updated&gt;\n&lt;category term=\"xxxxxx\" scheme=\"http://schemas.microsoft.com/ado/2007/08/dataservices/scheme\"/&gt;\n&lt;link href=\"OpportunityCollection('xxxxxxxxx')\" rel=\"edit\" title=\"Opportunity\"/&gt;\n&lt;link href=\"OpportunityCollection('xxxxxxxx')/OpportunityProduct\" rel=\"http://schemas.microsoft.com/ado/2007/08/dataservices/related/OpportunityProduct\" type=\"application/atom+xml;type=feed\" title=\"OpportunityProduct\"/&gt;\n&lt;link href=\"OpportunityCollection('xxxxxxxxx')/OpportunitySalesTeam\" rel=\"http://schemas.microsoft.com/ado/2007/08/dataservices/related/OpportunitySalesTeam\" type=\"application/atom+xml;type=feed\" title=\"OpportunitySalesTeam\"/&gt;\n&lt;link href=\"OpportunityCollection('xxxxxxxx')/OpportunityInvolvedParty\" rel=\"http://schemas.microsoft.com/ado/2007/08/dataservices/related/OpportunityInvolvedParty\" type=\"application/atom+xml;type=feed\" title=\"OpportunityInvolvedParty\"/&gt;\n&lt;link href=\"OpportunityCollection('xxxxxxxxxxx')/Task\" rel=\"http://schemas.microsoft.com/ado/2007/08/dataservices/related/Task\" type=\"application/atom+xml;type=feed\" title=\"Task\"/&gt;\n&lt;content type=\"application/xml\"&gt;\n&lt;m:properties&gt;\n&lt;d:ObjectID&gt;xxxxxxxxxxxxx&lt;/d:ObjectID&gt;\n&lt;d:ExpectedRevenueAmount m:type=\"c4c.Amount\"&gt;\n&lt;d:currencyCode&gt;USD&lt;/d:currencyCode&gt;\n&lt;d:content&gt;0.00&lt;/d:content&gt;\n&lt;/d:ExpectedRevenueAmount&gt;\n&lt;d:ProbabilityPercent&gt;25&lt;/d:ProbabilityPercent&gt;\n&lt;d:Name&gt;Test Syracuse Zoo - Opp&lt;/d:Name&gt;\n&lt;d:AccountName&gt;DO NOT USE 3 - DOMESTIC&lt;/d:AccountName&gt;\n&lt;d:StartDate&gt;2016-11-21T00:00:00&lt;/d:StartDate&gt;\n&lt;d:CloseDate&gt;2017-02-27T00:00:00&lt;/d:CloseDate&gt;\n&lt;d:SalesCycle&gt;Z1&lt;/d:SalesCycle&gt;\n&lt;d:SalesCycleText&gt;JMA - General Opportunity&lt;/d:SalesCycleText&gt;\n&lt;d:SalesPhase&gt;Z2&lt;/d:SalesPhase&gt;\n&lt;d:SalesPhaseText&gt;Budgetary Quote - 25%&lt;/d:SalesPhaseText&gt;\n&lt;d:ReasonForStatus&gt;Z24&lt;/d:ReasonForStatus&gt;\n&lt;d:ReasonForStatusText&gt;Active Opportunity&lt;/d:ReasonForStatusText&gt;\n&lt;d:Source&gt;Z9&lt;/d:Source&gt;\n&lt;d:SourceText&gt;Sales Referral - from Anixter&lt;/d:SourceText&gt;\n&lt;d:PrimaryContact&gt;Test First Name Test Last Name&lt;/d:PrimaryContact&gt;\n&lt;d:ID&gt;21&lt;/d:ID&gt;\n&lt;d:ChangedOn&gt;2017-03-31T02:10:29.3910740Z&lt;/d:ChangedOn&gt;\n&lt;d:Status&gt;2&lt;/d:Status&gt;\n&lt;d:StatusText&gt;In Process&lt;/d:StatusText&gt;\n&lt;d:AccountID&gt;100002150&lt;/d:AccountID&gt;\n&lt;d:OwnerID&gt;8000000011&lt;/d:OwnerID&gt;\n&lt;d:CRMUILink&gt;\nhttps://xxxxx.xxxx.xxxxx.com/sap/public/byd/runtime?bo=COD_OPPORTUNITY_THINGTYPE&amp;nav_mode=TI&amp;param.Key=00163E0813301ED6AC8355A5C1DA8831\n&lt;/d:CRMUILink&gt;\n&lt;d:ExternalID&gt;00000000000000000000000000000000001&lt;/d:ExternalID&gt;\n&lt;d:Owner&gt;Sandy Blau&lt;/d:Owner&gt;\n&lt;d:DaysUntilClosing&gt;-569&lt;/d:DaysUntilClosing&gt;\n&lt;/m:properties&gt;\n&lt;/content&gt;\n&lt;/entry&gt;\n&lt;link rel=\"next\" href=\"https://my325415.crm.ondemand.com/sap/byd/odata/v1/c4c.svc/OpportunityCollection/?$format=xml&amp;$skiptoken=101%20\"/&gt;\n&lt;/feed&gt;\n</code></pre>\n\n<p>Here is the code i am using to parse it: </p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\nxmlp = ET.XMLParser(encoding = \"utf-8\")\n\n\nxmldoc=ET.parse('foot.xml',parser=xmlp)\nroot = xmldoc.getroot()\nprint(root)\n</code></pre>\n\n<p>The issue with this code is that it only reads the feed tag and gives the following output:</p>\n\n<pre><code>&lt;Element '{http://www.w3.org/2005/Atom}feed' at 0x0000000002D7B0E8&gt;\n</code></pre>\n\n<p>I want to get the data between all the children nodes without hardcoding the element names. I am only concerned about <strong>the elements in the entry tag</strong>.</p>\n\n<p>Since this file is extracted from the internet, i have no way of changing how the input data is flowing in. </p>\n\n<p>Please help, this is my first time trying out xml parsing and i have looked at a lot of sources.</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "python-requests"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 2, "creation_date": 1537389762, "post_id": 52413906, "comment_id": 91771580, "body": "You can&#39;t multiply a string by a float.  What would <code>&quot;abc&quot; * 1.5</code> mean?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1537389796, "post_id": 52413906, "comment_id": 91771594, "body": "See how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1537389798, "post_id": 52413906, "comment_id": 91771596, "body": "One of them is a string. Try this: <code>&quot;hi&quot;*2</code> and then try <code>&quot;hi&quot;*2.2</code>"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 2, "creation_date": 1537390243, "post_id": 52413906, "comment_id": 91771776, "body": "@PatrickHaugh <code>&quot;abcal&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10387910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6af83e13110e1277a19881e2a905d79d?s=128&d=identicon&r=PG", "display_name": "hizirplay", "link": "https://stackoverflow.com/users/10387910/hizirplay"}, "edited": false, "score": 2, "creation_date": 1537390113, "post_id": 52413965, "comment_id": 91771721, "body": "Thank you very, very much"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "edited": false, "score": 1, "creation_date": 1537390242, "post_id": 52413965, "comment_id": 91771775, "body": "No problem :) No idea why the downvotes, I think I answered the question."}], "tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": false, "score": 0, "last_activity_date": 1537391056, "last_edit_date": 1537391056, "creation_date": 1537389890, "answer_id": 52413965, "question_id": 52413906, "link": "https://stackoverflow.com/questions/52413906/non-int-of-type-float/52413965#52413965", "title": "non-int of type &#39;float&#39;", "body": "<p>In Python you can multiply a sequence (e.g. a list <code>[]</code> or a <code>str</code>) by an integer (round number) to duplicate the elements in the sequence. For example:</p>\n\n<pre><code>&gt;&gt;&gt; l = 'abc'\n&gt;&gt;&gt; l * 3\n'abcabcabc'\n</code></pre>\n\n<p>You <em>can't</em> multiply a sequence by a non-round number, e.g. <code>1.5</code>:</p>\n\n<pre><code>&gt;&gt;&gt; l = 'abc'\n&gt;&gt;&gt; l * 1.5\nTypeError: can't multiply sequence by non-int of type 'float'\n</code></pre>\n\n<p>In your code you multiply your string <code>self.maas</code> by <code>self.zam_orani</code> which is 0.0, a <code>float</code>. To multiply by this number you would need to convert it to an <code>int</code></p>\n\n<pre><code>&gt;&gt;&gt; l = 'abc'\n&gt;&gt;&gt; l * int(1.5)  # int(1.5) = 1\n'abc'\n</code></pre>\n\n<p>Alternatively, if your inputs are intended to all be numeric (i.e. you want to enter two numbers and get the product) you can convert them to floats before calculating, e.g.</p>\n\n<pre><code>&gt;&gt;&gt; a = '0.5'\n&gt;&gt;&gt; b = '1.3'\n&gt;&gt;&gt; float(a) * float(b)\n0.65\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 10387910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6af83e13110e1277a19881e2a905d79d?s=128&d=identicon&r=PG", "display_name": "hizirplay", "link": "https://stackoverflow.com/users/10387910/hizirplay"}, "edited": false, "score": 1, "creation_date": 1537390088, "post_id": 52413980, "comment_id": 91771714, "body": "Thank you very, very much :)"}, {"owner": {"reputation": 562, "user_id": 9002568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21015a00f084d658638c454ce6cd1feb?s=128&d=identicon&r=PG&f=1", "display_name": "kur ag", "link": "https://stackoverflow.com/users/9002568/kur-ag"}, "reply_to_user": {"reputation": 9, "user_id": 10387910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6af83e13110e1277a19881e2a905d79d?s=128&d=identicon&r=PG", "display_name": "hizirplay", "link": "https://stackoverflow.com/users/10387910/hizirplay"}, "edited": false, "score": 1, "creation_date": 1537390246, "post_id": 52413980, "comment_id": 91771778, "body": "@hizirplay Please look here, <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 562, "user_id": 9002568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21015a00f084d658638c454ce6cd1feb?s=128&d=identicon&r=PG&f=1", "display_name": "kur ag", "link": "https://stackoverflow.com/users/9002568/kur-ag"}, "is_accepted": false, "score": 2, "last_activity_date": 1537389954, "creation_date": 1537389954, "answer_id": 52413980, "question_id": 52413906, "link": "https://stackoverflow.com/questions/52413906/non-int-of-type-float/52413980#52413980", "title": "non-int of type &#39;float&#39;", "body": "<p>All inputs are string in python, therefore you need to change it to float or integer. Change end of input line with float(input(\"Maas:\"))</p>\n"}], "owner": {"reputation": 9, "user_id": 10387910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6af83e13110e1277a19881e2a905d79d?s=128&d=identicon&r=PG", "display_name": "hizirplay", "link": "https://stackoverflow.com/users/10387910/hizirplay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1537391056, "creation_date": 1537389671, "last_edit_date": 1537389881, "question_id": 52413906, "link": "https://stackoverflow.com/questions/52413906/non-int-of-type-float", "title": "non-int of type &#39;float&#39;", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Calisan:\r\n    counter = 0\r\n    zam_orani = 0.0\r\n\r\n    def __init__(self, isim, soyisim, maas):  # constructor\r\n        self.isim = isim\r\n        self.soyisim = soyisim\r\n        self.maas = maas\r\n        self.email = isim + soyisim + \"@asd.com\"\r\n\r\n\r\n\r\n        Calisan.counter = Calisan.counter + 1\r\n\r\n    def giveNameSurname(self):\r\n        return self.isim + \" \" + self.soyisim\r\n\r\n    def zam_yap(self):\r\n        self.maas = self.maas + self.maas * self.zam_orani\r\nkisi = Calisan(input(\"\u0130sim:\"),input(\"Soyad:\"),input(\"Maa\u015f:\"))\r\nprint(\"CEO:\",kisi.isim,kisi.soyisim,\"\\nMail:\",kisi.email,\"\\nMaa\u015f:\",kisi.maas)\r\nHosgeldiniz = \"Sisteme Ho\u015fgeldiniz efendim,toplam \u00e7al\u0131\u015fan say\u0131n\u0131z {}'dir \".format(Calisan.counter)\r\nprint(Hosgeldiniz)\r\nCalisan.zam_orani = float(input(\"Zam oran\u0131n\u0131 giriniz:\"))\r\nkisi.zam_yap()\r\nprint(\"Zaml\u0131 Maa\u015f:\",kisi.maas)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Why am I getting this error?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/CaHeD/Desktop/Python/veriable/zamoran\u0131.py\", line 28, in &lt;module&gt;\n    kisi.zam_yap()\n  File \"C:/Users/CaHeD/Desktop/Python/veriable/zamoran\u0131.py\", line 22, in zam_yap\n    self.maas = self.maas + self.maas * self.zam_orani\nTypeError: can't multiply sequence by non-int of type 'float'\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 3, "creation_date": 1537389663, "post_id": 52413881, "comment_id": 91771532, "body": "yep the comprehension is an idomatic way"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 1, "creation_date": 1537389665, "post_id": 52413881, "comment_id": 91771533, "body": "Your list comprehension is how I would write it, too."}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 1, "creation_date": 1537389665, "post_id": 52413881, "comment_id": 91771534, "body": "I would have gave you the solution you posted"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1537390287, "post_id": 52413881, "comment_id": 91771800, "body": "You can pass a parameter to <a href=\"https://docs.python.org/3/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow noreferrer\"><b><code>list.index</code></b></a>, to say where to search from. By default it searches from the beginning."}], "owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1537389709, "answer_count": 0, "score": 0, "last_activity_date": 1537389596, "creation_date": 1537389596, "question_id": 52413881, "link": "https://stackoverflow.com/questions/52413881/how-to-get-index-of-multiple-elements-of-list-in-python", "closed_reason": "Duplicate", "title": "How to get index of multiple elements of list in python?", "body": "<p>Let me have a long list:</p>\n\n<pre><code>l = ['a', 'b', 'c', 'a', 'b', 'a', 'c', ...]\n</code></pre>\n\n<p>I want to get the indices of all <code>'a'</code>. Unfortunately, <code>l.index('a')</code> will only output the index of <code>'a'</code>'s first occurrence.</p>\n\n<p>I can get them by doing:</p>\n\n<pre><code>[idx for idx,i in enumerate(l) if i == 'a']\n</code></pre>\n\n<p>Is that the common way, or there is a built-in function?</p>\n\n<p><em>I am thinking when to use <code>.index</code> if it only outputs the index of the first occurrence.</em></p>\n"}, {"tags": ["python", "vtk"], "comments": [{"owner": {"reputation": 2561, "user_id": 6326565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945513be300b2b6f7e07df98b57e235a?s=128&d=identicon&r=PG", "display_name": "Artem", "link": "https://stackoverflow.com/users/6326565/artem"}, "edited": false, "score": 0, "creation_date": 1537389690, "post_id": 52413804, "comment_id": 91771547, "body": "Dear @Spencer, could you post some input data and expected output to illustrate what problems you are facing. It will increase the probability to get an answer."}], "answers": [{"tags": [], "owner": {"reputation": 2508, "user_id": 1416930, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/PPDmr.jpg?s=128&g=1", "display_name": "Mathieu Westphal", "link": "https://stackoverflow.com/users/1416930/mathieu-westphal"}, "is_accepted": false, "score": 1, "last_activity_date": 1537519183, "creation_date": 1537519183, "answer_id": 52439815, "question_id": 52413804, "link": "https://stackoverflow.com/questions/52413804/vtk-python-how-can-i-connect-vtkpoints-and-visualise-them-as-a-surface/52439815#52439815", "title": "VTK, Python: How can I connect vtkpoints and visualise them as a surface?", "body": "<p>This is usually done using a Delaunay filter.</p>\n\n<p><a href=\"https://www.vtk.org/doc/nightly/html/classvtkDelaunay3D.html\" rel=\"nofollow noreferrer\">https://www.vtk.org/doc/nightly/html/classvtkDelaunay3D.html</a>\n<a href=\"https://www.vtk.org/doc/nightly/html/classvtkDelaunay2D.html\" rel=\"nofollow noreferrer\">https://www.vtk.org/doc/nightly/html/classvtkDelaunay2D.html</a></p>\n\n<p>And it works quite well for most cases.</p>\n\n<p>You will need to share a dataset to get other kind of infos.</p>\n"}], "owner": {"reputation": 1, "user_id": 10331239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f7d0c4dfdf80ecc29f8dfd9e309dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Spencer", "link": "https://stackoverflow.com/users/10331239/spencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537519183, "creation_date": 1537389210, "question_id": 52413804, "link": "https://stackoverflow.com/questions/52413804/vtk-python-how-can-i-connect-vtkpoints-and-visualise-them-as-a-surface", "title": "VTK, Python: How can I connect vtkpoints and visualise them as a surface?", "body": "<p>I currently have a code that visualises vtkpoints that I take from an OBJ file:</p>\n\n<pre><code>poly = vtkPolyData()\npoly.SetPoints(points) //points from obj file\nsphere = vtkSphereSource()\nsphere.SetRadius(.7)\nsphere.SetThetaResolution(4)\nsphere.SetPhiResolution(4)\nglyph = vtkGlyph3D()\nglyph.SetSourceConnection(sphere.GetOutputPort())\nglyph.SetInputData(poly)\nmapper = vtkPolyDataMapper()\nmapper.SetInputConnection(glyph.GetOutputPort())\nself.actor = vtkActor()\nself.actor.SetMapper(mapper)\nself.ren.AddActor(self.actor)\nself.vtkWidget.Render()\n</code></pre>\n\n<p>so then each of my points on my OBJ file is visualised as a sphere. However, I was wondering if there is a way to just connect these points and visualise them as a surface? I've tried vtksurfacereconstruction filter and delaunay, but that produces horrific results, nothing even close to what I need.</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 2, "creation_date": 1537389409, "post_id": 52413802, "comment_id": 91771422, "body": "This is clearly a DRF problem, though I don&#39;t remember at the time what would be the correct code for this.  I guess you need to assign <code>assets = ...</code> in your AccountSerializer class, but instead of <code>...</code> there probably should be some magic polymorphic serializer which would apply the correct serializer for each element of the list."}, {"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1537389734, "post_id": 52413802, "comment_id": 91771574, "body": "Note that declaring <code>OneTypeSerializer</code> with <code>model = OneType</code> in its Meta does not automatically enable serialization of <code>OneType</code> with this serializer in all places."}, {"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 0, "creation_date": 1537389762, "post_id": 52413802, "comment_id": 91771579, "body": "Also take a look at <a href=\"http://www.django-rest-framework.org/api-guide/relations/#nested-relationships\" rel=\"nofollow noreferrer\">DRF docs on nested relationships</a>.  As you can see in the example, the serializer for a child field must be explicitly declared on the parent."}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 0, "creation_date": 1537416491, "post_id": 52413802, "comment_id": 91777989, "body": "@chris Frisina seems like you are trying to return a <b><code>OneType</code></b> instance from the view class/view function. So, check the view or add the corresponding view"}, {"owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "edited": false, "score": 1, "creation_date": 1537422215, "post_id": 52413802, "comment_id": 91779736, "body": "You&#39;ll need to provide your view code in order to get more helpful responses"}, {"owner": {"reputation": 17571, "user_id": 1234721, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cd7d518406352d89d5b5b5326daf7fdd?s=128&d=identicon&r=PG", "display_name": "chris Frisina", "link": "https://stackoverflow.com/users/1234721/chris-frisina"}, "reply_to_user": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 0, "creation_date": 1537892777, "post_id": 52413802, "comment_id": 91946133, "body": "@JPG, They are all basic class based."}, {"owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "edited": false, "score": 0, "creation_date": 1537949292, "post_id": 52413802, "comment_id": 91965479, "body": "The code snippets here don&#39;t show how the assets are supposed to be serialized. Not much we can do to help here."}, {"owner": {"reputation": 17571, "user_id": 1234721, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cd7d518406352d89d5b5b5326daf7fdd?s=128&d=identicon&r=PG", "display_name": "chris Frisina", "link": "https://stackoverflow.com/users/1234721/chris-frisina"}, "reply_to_user": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "edited": false, "score": 0, "creation_date": 1537975246, "post_id": 52413802, "comment_id": 91981886, "body": "@Linovia, actually I got it working by doing the following on the Account serializer assets = serializers.StringRelatedField(many=True)` hinted at from Mikhail&#39;s notes, but I think there might be other ways, maybe with different architectectures given different approaches to GFK like problems.   Stay positive!"}], "owner": {"reputation": 17571, "user_id": 1234721, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cd7d518406352d89d5b5b5326daf7fdd?s=128&d=identicon&r=PG", "display_name": "chris Frisina", "link": "https://stackoverflow.com/users/1234721/chris-frisina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1250, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537975105, "creation_date": 1537389207, "last_edit_date": 1537975105, "question_id": 52413802, "link": "https://stackoverflow.com/questions/52413802/object-of-type-model-is-not-json-serializable", "title": "Object of type &lt;Model&gt; is not JSON serializable", "body": "<p>If I have GFK like inheritance models of <code>Assets</code> (<code>Asset.model</code> having an asset_id, asset_name, and an <code>Account</code>, OneType.model, SecondType.model, all inheriting from the <code>Asset</code> model etc... based on <a href=\"https://lukeplant.me.uk/blog/posts/avoid-django-genericforeignkey/#alternative-2-intermediate-table-with-nullable-fields\" rel=\"nofollow noreferrer\">this</a>), and I want to provide an API endpoint for all assets in my <code>Account</code>, I could have (not sure if this is convention) a property on the <code>Account</code> model that is a list that extends the different asset types:</p>\n\n<pre><code>#Account model\n@property\ndef assets(self):\n    assets = []\n    assets.extend(self.onetype_set.all())\n    assets.extend(self.secondtype_set.all())\n    \u2026\n    return assets\n</code></pre>\n\n<p>I would need a serializer for the account</p>\n\n<pre><code>class AccountSerializer(serializers.ModelSerializer):\n\n    # filter to assets for the user\n    def get_queryset(self):\n        return Account.objects.filter(organization=self.request.user)\n\n    class Meta:\n        model = Account\n        fields = ('assets', )\n</code></pre>\n\n<p>and I assume for each of the asset types</p>\n\n<pre><code>class OneTypeSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = OneType\n        fields = ('asset_id', 'asset_name',)\nclass SecondTypeSerializer(serializers.ModelSerializer):\n    \u2026\n\u2026\n</code></pre>\n\n<p>but I keep getting an error: <code>Object of type 'OneType' is not JSON serializable</code> ( i understand the error means I need to get the model to be serialized into JSON, but I thought the model would call the model\u2019s serializer\u2026.)</p>\n\n<p>The stack trace doesn\u2019t seem to be helpful because of the internal workings of DRF\u2019s Viewsets, but here it is:</p>\n\n<pre><code>/usr/local/Cellar/python/3.6.5_1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/encoder.py in default\n            else:\n                return list(iterable)\n            # Let the base class default method raise the TypeError\n            return JSONEncoder.default(self, o)\n    \"\"\"\n    raise TypeError(\"Object of type '%s' is not JSON serializable\" %\n                    o.__class__.__name__) ...\ndef encode(self, o):\n    \"\"\"Return a JSON string representation of a Python data structure.\n    &gt;&gt;&gt; from json.encoder import JSONEncoder\n    &gt;&gt;&gt; JSONEncoder().encode({\"foo\": [\"bar\", \"baz\"]})\n\n\u25bc Local vars\nVariable    Value\no           &lt;OneType: AssetName - Type 1 : Account 2&gt;\nself        &lt;rest_framework.utils.encoders.JSONEncoder object at 0x11dce1668&gt;\n</code></pre>\n\n<p>Viewsets.py:</p>\n\n<pre><code>class AssetViewSet(viewsets.ModelViewSet):\n    \"\"\"\n    This viewset automatically provides `list`, `create`, `retrieve`, `update` and `destroy` actions.\n    \"\"\"\n    serializer_class = AssetSerializer\n    permission_classes = (permissions.IsAuthenticated, IsOrganizationMember,)\n\n    def get_queryset(self):\n        slug = self.kwargs['slug']\n        return Account.objects.filter(slug=slug)\n</code></pre>\n\n<p>Also, is this more of a DRF problem (I am not using a correct queryset) or a python problem (i am not providing a serializable method/class for the object/class)?</p>\n"}, {"tags": ["python", "mutable", "function-declaration", "default-arguments", "symbol-table"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1537389444, "post_id": 52413797, "comment_id": 91771431, "body": "Why do you want to know (because you generally shouldn&#39;t be doing this anyway)?"}, {"owner": {"reputation": 167, "user_id": 3325563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea484f0ea3c3b6c4a41cfecd92dd06d?s=128&d=identicon&r=PG&f=1", "display_name": "user3325563", "link": "https://stackoverflow.com/users/3325563/user3325563"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1537389600, "post_id": 52413797, "comment_id": 91771504, "body": "... it&#39;s in the <code>f.__defaults__</code>, just saw it"}, {"owner": {"reputation": 167, "user_id": 3325563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea484f0ea3c3b6c4a41cfecd92dd06d?s=128&d=identicon&r=PG&f=1", "display_name": "user3325563", "link": "https://stackoverflow.com/users/3325563/user3325563"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1537389691, "post_id": 52413797, "comment_id": 91771548, "body": "@martineau yeah, it&#39;s pure curiosity and looking to gain a bit of insight in the language internals"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1537390736, "post_id": 52413797, "comment_id": 91771974, "body": "Take note that <code>f.__defaults__</code> is only where defaults can be <i>accessed</i>. Various python implementations <i>store</i> function defaults in optimised data structures."}], "answers": [{"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1537389540, "post_id": 52413837, "comment_id": 91771475, "body": "Or <code>__kwdefaults__</code> if it&#39;s kw-only."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1537389579, "last_edit_date": 1537389579, "creation_date": 1537389450, "answer_id": 52413837, "question_id": 52413797, "link": "https://stackoverflow.com/questions/52413797/where-does-a-mutable-object-argument-of-a-function-lives-is-there-a-symbol-tabl/52413837#52413837", "title": "Where does a mutable object argument of a function lives? Is there a symbol table? (Python tutorial 4.7.1)", "body": "<p>It's in <code>f.__defaults__</code>:</p>\n\n<pre><code>&gt;&gt;&gt; def f(a, L=[]):\n...     L.append(a)\n...     return L\n...\n&gt;&gt;&gt; f.__defaults__\n([],)\n</code></pre>\n\n<p>You didn't find <code>__defaults__</code> in <code>__dict__</code> because it's not stored in the <code>__dict__</code>; it's stored in a <a href=\"https://github.com/python/cpython/blob/v3.7.0/Include/funcobject.h#L25\" rel=\"nofollow noreferrer\">dedicated C-level struct member</a>, which is mapped to the <code>__defaults__</code> attribute by a descriptor on the function type.</p>\n"}, {"tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1537389457, "creation_date": 1537389457, "answer_id": 52413840, "question_id": 52413797, "link": "https://stackoverflow.com/questions/52413797/where-does-a-mutable-object-argument-of-a-function-lives-is-there-a-symbol-tabl/52413840#52413840", "title": "Where does a mutable object argument of a function lives? Is there a symbol table? (Python tutorial 4.7.1)", "body": "<p>If you're using Spyder, when you type <code>f.</code>, autocomplete options should pop up. One of them is <code>__defaults__</code>, which holds the defaults.</p>\n"}, {"tags": [], "owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "is_accepted": true, "score": 3, "last_activity_date": 1537391017, "last_edit_date": 1537391017, "creation_date": 1537389471, "answer_id": 52413847, "question_id": 52413797, "link": "https://stackoverflow.com/questions/52413797/where-does-a-mutable-object-argument-of-a-function-lives-is-there-a-symbol-tabl/52413847#52413847", "title": "Where does a mutable object argument of a function lives? Is there a symbol table? (Python tutorial 4.7.1)", "body": "<p>As per the <a href=\"https://docs.python.org/3/reference/datamodel.html\" rel=\"nofollow noreferrer\">Python Data Model</a>:</p>\n\n<blockquote>\n  <p><code>__defaults__</code>  A tuple containing default argument values for those arguments that have defaults, or None if no arguments have a default value</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; def foo(a=[]):\n...    a.append(1)\n...\n... foo()\n... foo.__defaults__\n([1],)\n</code></pre>\n\n<p>There is also <code>__kwdefaults__</code> for keyword-only arguments.</p>\n\n<pre><code>&gt;&gt;&gt; def foo(a=1, *, b=2):\n...     pass\n...\n... foo.__defaults__, foo.__kwdefaults__\n((1,), {'b': 2})\n</code></pre>\n\n<hr>\n\n<p>Note that things in Python are not necessarily stored anywhere <em>accessible</em>. For example, the reference count of an object is not available as an attribute. It only exists in the C layer of the CPython <em>implementation</em> and requires <a href=\"https://docs.python.org/3/library/sys.html#sys.getrefcount\" rel=\"nofollow noreferrer\">builtin magic</a> to access.</p>\n\n<p>In fact, <code>__defaults__</code> is not a \"real\" attribute either. It is a builtin property fetching the defaults from wherever the implementation stores them.</p>\n\n<pre><code># python3\n&gt;&gt;&gt; type(foo).__defaults__\n&lt;attribute '__defaults__' of 'function' objects&gt;\n# pypy3\n&gt;&gt;&gt;&gt; type(foo).__defaults__\n&lt;getset_descriptor object at 0x00000001110adc98&gt;\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 3325563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea484f0ea3c3b6c4a41cfecd92dd06d?s=128&d=identicon&r=PG&f=1", "display_name": "user3325563", "link": "https://stackoverflow.com/users/3325563/user3325563"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 52413847, "answer_count": 3, "score": 2, "last_activity_date": 1537391017, "creation_date": 1537389190, "last_edit_date": 1537389518, "question_id": 52413797, "link": "https://stackoverflow.com/questions/52413797/where-does-a-mutable-object-argument-of-a-function-lives-is-there-a-symbol-tabl", "title": "Where does a mutable object argument of a function lives? Is there a symbol table? (Python tutorial 4.7.1)", "body": "<p>Going through the <a href=\"https://docs.python.org/3/tutorial/controlflow.html#default-argument-values\" rel=\"nofollow noreferrer\">python tutorial, in section 4.7.1</a>, a mutable default argument is stored somewhere but I can't seem to find it using <code>dir()</code>, <code>globals()</code>, <code>locals()</code> or <code>f.__dict__</code>. I'm referring to this code:</p>\n\n<pre><code>def f(a, L=[]):\n    L.append(a)\n    return L\n</code></pre>\n\n<p>behaves as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;&gt;&gt; print(f(1))\n[1]\n&gt;&gt;&gt; print(f(2))\n[1, 2]\n&gt;&gt;&gt; print(f(3))\n[1, 2, 3]\n</code></pre>\n\n<p>I would expect to see this in the namespace of the function, say when I do <code>dir(f)</code> but it is not there.</p>\n\n<p>I had a look at <a href=\"https://stackoverflow.com/questions/9085450/symbol-table-in-python#9085562\">this</a> but this is way more than I'm probably looking for.</p>\n"}, {"tags": ["python", "command-line", "scripting", "blender"], "comments": [{"owner": {"reputation": 15473, "user_id": 744720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65030f1bd22dbb4d1e6976cfac08a1c5?s=128&d=identicon&r=PG", "display_name": "keltar", "link": "https://stackoverflow.com/users/744720/keltar"}, "edited": false, "score": 0, "creation_date": 1537518652, "post_id": 52413773, "comment_id": 91822033, "body": "Blender will ignore all arguments after <code>--</code> so you can set your options here. But as you&#39;re doing something weird with environment variables - I suppose it is impossible to answer without your script&#39;s code."}], "answers": [{"comments": [{"owner": {"reputation": 5185, "user_id": 6202327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AFtrB.png?s=128&g=1", "display_name": "Makogan", "link": "https://stackoverflow.com/users/6202327/makogan"}, "edited": false, "score": 0, "creation_date": 1537471391, "post_id": 52414075, "comment_id": 91807472, "body": "In the script:  BLENDER_ENV = &#39;BLENDER_ARGS&#39;"}], "tags": [], "owner": {"reputation": 233, "user_id": 2817115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/566e25556dee204ed72da4dc5b3bcb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Ong", "link": "https://stackoverflow.com/users/2817115/daniel-ong"}, "is_accepted": false, "score": 2, "last_activity_date": 1537390440, "creation_date": 1537390440, "answer_id": 52414075, "question_id": 52413773, "link": "https://stackoverflow.com/questions/52413773/how-to-run-a-python-script-taking-arguments-with-blender/52414075#52414075", "title": "How to run a python script taking arguments with blender?", "body": "<p>You are seeing that error because your script is looking for the environment variable <code>BLENDER_ENV</code>, which is not on your system. I don't recognize <code>BLENDER_ENV</code> as a standard Blender related environment variable so it's probable that your friend added <code>BLENDER_ENV</code> to his or her environment. </p>\n"}, {"tags": [], "owner": {"reputation": 6139, "user_id": 2684771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2f487264833152bb7890a4b6292d65?s=128&d=identicon&r=PG&f=1", "display_name": "sambler", "link": "https://stackoverflow.com/users/2684771/sambler"}, "is_accepted": true, "score": 1, "last_activity_date": 1537509807, "last_edit_date": 1537509807, "creation_date": 1537509039, "answer_id": 52437378, "question_id": 52413773, "link": "https://stackoverflow.com/questions/52413773/how-to-run-a-python-script-taking-arguments-with-blender/52437378#52437378", "title": "How to run a python script taking arguments with blender?", "body": "<p>Firstly, blender processes its <a href=\"https://docs.blender.org/manual/en/dev/advanced/command_line/arguments.html\" rel=\"nofollow noreferrer\">cli args</a> in the order they are given, so your example will start in the background, run a script, then set the input_dir... This will most likely not have the result you are after.</p>\n\n<p>The problem with your script failing is that the arg passed to <code>os.getenv()</code> needs to be a string that is the name of a shell environment variable, if you are using bash you need to export the variable to put it into the environment before you start blender.</p>\n\n<pre><code>export BLENDER_ARGS=\"arg1 arg2\"\nblender -b myfile.blend --python myscript.py\n</code></pre>\n\n<p>If you are using a csh then use <code>setenv BLENDER_ARGS \"arg1 arg2\"</code></p>\n\n<p>Then in your py script, you use <code>os.getenv('BLENDER_ARGS').split(' ')</code></p>\n\n<p>Note that each shell instance is a separate environment, you need to set the variables in the same instance that starts blender.</p>\n\n<p>You may also be interested in passing cli arguments to the script as explained in response to <a href=\"https://blender.stackexchange.com/q/6817/935\">this question</a>.</p>\n"}], "owner": {"reputation": 5185, "user_id": 6202327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AFtrB.png?s=128&g=1", "display_name": "Makogan", "link": "https://stackoverflow.com/users/6202327/makogan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "accepted_answer_id": 52437378, "answer_count": 2, "score": 0, "last_activity_date": 1537509807, "creation_date": 1537389053, "question_id": 52413773, "link": "https://stackoverflow.com/questions/52413773/how-to-run-a-python-script-taking-arguments-with-blender", "title": "How to run a python script taking arguments with blender?", "body": "<p>I have a script I want to run within blender to generate AO maps (script was given to me and the source guarantees it works).</p>\n\n<p>I try to run the script as follows:</p>\n\n<pre><code>blender --background --python /opt/ff/product_builder/furniture_builder/generate_ao_maps.py --input_dir /tmp/test.obj --output_dir /tmp/test.png --mode ao\n</code></pre>\n\n<p>Which produces:</p>\n\n<pre><code>AL lib: (EE) UpdateDeviceParams: Failed to set 44100hz, got 48000hz instead\nfound bundled python: /usr/share/blender/2.79/python\nTraceback (most recent call last):\n  File \"/opt/ff/product_builder/furniture_builder/generate_ao_maps.py\", line 195, in &lt;module&gt;\n    main()\n  File \"/opt/ff/product_builder/furniture_builder/generate_ao_maps.py\", line 178, in main\n    args = parse_args()\n  File \"/opt/ff/product_builder/furniture_builder/generate_ao_maps.py\", line 21, in parse_args\n    return parser.parse_args(os.getenv(BLENDER_ENV).split(' '))\nAttributeError: 'NoneType' object has no attribute 'split'\nError: File format is not supported in file '/tmp/test.obj'\n\nBlender quit\n</code></pre>\n\n<p>If I run this same script without blender (but with the argument) it tells me:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/opt/ff/product_builder/furniture_builder/generate_ao_maps.py\", line 5, in &lt;module&gt;\n    import bpy\nImportError: No module named bpy\n</code></pre>\n\n<p>What do I need to do to pass the parameters to the script and get it working?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1537389369, "post_id": 52413789, "comment_id": 91771403, "body": "is it possible to use this approach for the expanding quantile instead of the full-sample quantile?"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1537389467, "post_id": 52413789, "comment_id": 91771443, "body": "I came up with same solution, only 4 mins late:)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1537390652, "post_id": 52413789, "comment_id": 91771944, "body": "@Yuca what you mean the expending quantile ? I think we can using lambda here"}, {"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1537390756, "post_id": 52413789, "comment_id": 91771982, "body": "i&#39;m sure you know about rolling vs expanding in pandas. The expanding quantile would be the quantile available at each rows. I was just curious because I do that with numba and assign"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1537391253, "post_id": 52413789, "comment_id": 91772165, "body": "@Yuca <code>df.groupby(&#39;Name&#39;).Marks.expanding().quantile(0.5) </code>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1537389126, "creation_date": 1537389126, "answer_id": 52413789, "question_id": 52413715, "link": "https://stackoverflow.com/questions/52413715/pandas-groupby-where-the-column-value-is-greater-than-the-groups-x-percentile/52413789#52413789", "title": "Pandas groupby where the column value is greater than the group&#39;s x percentile", "body": "<p>You can using <code>transform</code> </p>\n\n<pre><code>df[df.Marks&gt;df.groupby('Name').Marks.transform('quantile',0.4)]\nOut[712]: \n     Name  Marks\n0    Abby    100\n1    Abby     90\n2    Abby     76\n5  Daniel     50\n6  Daniel     45\n7  Daniel     38\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1537389515, "last_edit_date": 1537389515, "creation_date": 1537389132, "answer_id": 52413790, "question_id": 52413715, "link": "https://stackoverflow.com/questions/52413715/pandas-groupby-where-the-column-value-is-greater-than-the-groups-x-percentile/52413790#52413790", "title": "Pandas groupby where the column value is greater than the group&#39;s x percentile", "body": "<p>Using your code for percentiles, and <code>loc</code>, <code>ge</code> for <code>&gt;=</code> (or <code>gt</code>, for <code>&gt;</code>) and index matching:</p>\n\n<pre><code>df = df.set_index('Name')\ndf.loc[df.Marks.ge(df.groupby('Name').quantile(0.4).Marks)]\n\n    Name    Marks\n0   Abby    100\n1   Abby    90\n2   Abby    76\n5   Daniel  50\n6   Daniel  45\n7   Daniel  38\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 10374379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25681b41ef703124c14991b643e86866?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/10374379/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1861, "favorite_count": 0, "accepted_answer_id": 52413789, "answer_count": 2, "score": 2, "last_activity_date": 1537389515, "creation_date": 1537388769, "question_id": 52413715, "link": "https://stackoverflow.com/questions/52413715/pandas-groupby-where-the-column-value-is-greater-than-the-groups-x-percentile", "title": "Pandas groupby where the column value is greater than the group&#39;s x percentile", "body": "<p>I have a pandas dataframe as follows:</p>\n\n<pre><code>df = pd.DataFrame()\ndf['Name'] = ['Abby', 'Abby', 'Abby', 'Abby', 'Abby', 'Daniel', 'Daniel', 'Daniel', 'Daniel', 'Daniel']\ndf['Marks'] = [100, 90, 76, 50, 10, 50, 45, 38, 25, 5]\n</code></pre>\n\n<p>I want to:</p>\n\n<ol>\n<li>Find the 40th percentile for each group</li>\n<li>Filter the dataframe such that all the values above the 40th percentile for that group are shown. </li>\n</ol>\n\n<p>So, I have found the 40th percentile for each group using:</p>\n\n<pre><code>df.groupby('Name').quantile(0.4)\n</code></pre>\n\n<p>The Aim is to get to: </p>\n\n<p><a href=\"https://i.stack.imgur.com/NQ3R7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NQ3R7.png\" alt=\"enter image description here\"></a></p>\n\n<p>My main issue is that the values for each group are not standardized and so I cannot apply an overall percentile value for the entire dataset.</p>\n\n<p>But all the help I saw regarding filtering a dataframe with a certain value does not do it separately for each group. I have seen the following questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29632784/pandas-groupby-where-column-value-is-greater-than-x\">Pandas, groupby where column value is greater than x</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/22751498/pandas-groupby-apply-function-to-count-values-greater-than-zero\">Pandas Groupby apply function to count values greater than zero</a></p>\n\n<p>My question essentially builds on a variation of the following question:\n<a href=\"https://stackoverflow.com/questions/19894939/calculate-arbitrary-percentile-on-pandas-groupby\">Calculate Arbitrary Percentile on Pandas GroupBy</a></p>\n\n<p>Is there a way to do this in Pandas?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "hive", "pivot-table"], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 4826178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24111679a63dff19a98c4d7ea9a6d718?s=128&d=identicon&r=PG&f=1", "display_name": "rp1", "link": "https://stackoverflow.com/users/4826178/rp1"}, "is_accepted": false, "score": 0, "last_activity_date": 1537393933, "creation_date": 1537393933, "answer_id": 52414670, "question_id": 52413585, "link": "https://stackoverflow.com/questions/52413585/python-pandas-set-index-and-unstack-results-in-columns-with-underscores-in-hiv/52414670#52414670", "title": "python pandas set_index() and unstack results in columns with underscores in hive but pivot_table() works", "body": "<p>Answering my own question here. </p>\n\n<p>I can use <code>droplevel()</code> function to drop the top most level from the dataframe. </p>\n\n<p>Right after <code>set_index()</code> and <code>unstack()</code>, I can add following line to drop <code>answer</code> level from the dataframe. </p>\n\n<pre><code>df.columns = df.columns.droplevel(0)\n</code></pre>\n\n<p>After this, <code>reset_index()</code> can be called to preserve all columns in dataframe just like the code above. </p>\n\n<p>My dataframe columns and hive columns now don't contain level information with underscores. </p>\n\n<pre><code>|items_id|responseTime|category_1|category_2|category_3|category_8|\n</code></pre>\n\n<p>Additional reference to <code>droplevel()</code> is available on: </p>\n\n<p><strong>Stackoverlfow Question</strong>: <a href=\"https://stackoverflow.com/questions/22233488/pandas-drop-a-level-from-a-multi-level-column-index\">Pandas: drop a level from a multi-level column index?</a> </p>\n\n<p><strong>Pandas API</strong>: \n <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.MultiIndex.droplevel.html#pandas.MultiIndex.droplevel\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.MultiIndex.droplevel.html#pandas.MultiIndex.droplevel</a></p>\n"}], "owner": {"reputation": 129, "user_id": 4826178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24111679a63dff19a98c4d7ea9a6d718?s=128&d=identicon&r=PG&f=1", "display_name": "rp1", "link": "https://stackoverflow.com/users/4826178/rp1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 846, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537393933, "creation_date": 1537388150, "question_id": 52413585, "link": "https://stackoverflow.com/questions/52413585/python-pandas-set-index-and-unstack-results-in-columns-with-underscores-in-hiv", "title": "python pandas set_index() and unstack results in columns with underscores in hive but pivot_table() works", "body": "<p>Related to following question I asked earlier: <a href=\"https://stackoverflow.com/questions/52230219/python-pandas-dataframe-pivot-only-works-with-pivot-table-but-not-with-set-ind\">Python pandas dataframe pivot only works with pivot_table() but not with set_index() and unstack()</a></p>\n\n<p>I have been able to pivot the following sample data successfully, using both <code>set_index()</code> with <code>unstack()</code> and using <code>pivot_table()</code> with <code>aggfunc=first</code> parameter. </p>\n\n<p><strong>Sample Data</strong>: </p>\n\n<pre><code>id  responseTime    label   answers\nABC 2018-06-24  Category_1  [3]\nABC 2018-06-24  Category_2  [10]\nABC 2018-06-24  Category_3  [10]\nDEF 2018-06-25  Category_1  [7]\nDEF 2018-06-25  Category_8  [10]\nGHI 2018-06-28  Category_3  [7]\n</code></pre>\n\n<p><strong>Desired Output:</strong></p>\n\n<pre><code>id  responseTime    category_1  category_2 category_3 category_8\nABC  2018-06-24           [3]     [10]         [10]       NULL\nDEF  2018-06-25           [7]     NULL         NULL       [10]\nGHI  2018-06-28           NULL    NULL         [7]        NULL\n</code></pre>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>#this works but having issues with reset_index so leaving it here as comment. \n#df=pdDF.pivot_table(index=['items_id','responseTime'], columns='label', values='answers', aggfunc='first')\n\ndf=pdDF.set_index(['items_id','responseTime','label']).unstack('label')\n\n#reset the index so all columns can be preserved for table creation\ndf.reset_index(inplace=True)\n\n#create pyspark dataframe from pandas dataframe after pivoting is done.\npsDF=spark.createDataFrame(df)\n\n#create hive table\npsDF.write.mode('overwrite').saveAsTable('default.test_table')\n</code></pre>\n\n<p>When I use the second piece of code with <code>set_index()</code> and <code>unstack()</code>, the resulting output has additional header <code>answers</code> when printing the dataframe. This causes duplicate columns when I create a hive table out of this dataframe.</p>\n\n<p><strong>Dataframe header before reset_index():</strong></p>\n\n<pre><code>                                   answers\nid  responseTime    category_1  category_2 category_3 category_8\n</code></pre>\n\n<p><strong>Dataframe columns after reset_index:</strong></p>\n\n<pre><code>('items_id', '')|('responseTime', '')|('answers', u'category_1')|('answers', u'category_2')|('answers', u'cateogry_3')|('answers', u'category_8')\n</code></pre>\n\n<p><strong>Hive column names:</strong></p>\n\n<pre><code>_'items_id'_''_     \n_'responsetime'_''_\n_'answers'_u'category_1'_\n_'answers'_u'category_2'_\n_'answers'_u'category_3'_\n_'answers'_u'category_8'_\n</code></pre>\n\n<p>I believe this is happening because <code>unstack()</code> creates hierarchical columns with multiple levels. Is there a way to make <code>answer</code> level disappear and to drop these junk underscore characters and <code>answer</code> references in the dataframe itself so I can create <em>normal</em> hive columns? </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1537388384, "post_id": 52413581, "comment_id": 91770983, "body": "What is <code>RET</code> in your dataframes?"}, {"owner": {"reputation": 621, "user_id": 6935967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a490d0e6023edcfb16893165bc19ca8?s=128&d=identicon&r=PG&f=1", "display_name": "JesusMonroe", "link": "https://stackoverflow.com/users/6935967/jesusmonroe"}, "reply_to_user": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1537388466, "post_id": 52413581, "comment_id": 91771010, "body": "They&#39;re tennis matches that ended early, but you can assume the RET is removed if it makes solving the problem easier (since removing it is trivial)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537388977, "post_id": 52413581, "comment_id": 91771229, "body": "It looks like you want us to write some code for you. While many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem individually. A good way to show this effort is to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a>. Check the <a href=\"https://stackoverflow.com/tour\">intro tour</a> you finished before posting, especially <a href=\"http://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537389026, "post_id": 52413581, "comment_id": 91771248, "body": "In particular, you&#39;ll have to convert the string to a pair of integers.  I recommend using <code>split</code> and <code>int</code> methods.  From there, you should be able to construct a coding attempt."}, {"owner": {"reputation": 621, "user_id": 6935967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a490d0e6023edcfb16893165bc19ca8?s=128&d=identicon&r=PG&f=1", "display_name": "JesusMonroe", "link": "https://stackoverflow.com/users/6935967/jesusmonroe"}, "edited": false, "score": 0, "creation_date": 1537389056, "post_id": 52413581, "comment_id": 91771266, "body": "I tried using split, but it&#39;s difficult since it&#39;s not necessarily one pair."}], "answers": [{"comments": [{"owner": {"reputation": 621, "user_id": 6935967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a490d0e6023edcfb16893165bc19ca8?s=128&d=identicon&r=PG&f=1", "display_name": "JesusMonroe", "link": "https://stackoverflow.com/users/6935967/jesusmonroe"}, "edited": false, "score": 1, "creation_date": 1537389721, "post_id": 52413810, "comment_id": 91771566, "body": "It seems like when there&#39;s only one pair, the playerScore and opponentScore switch. (In my output using this code, the playerScore and opponentScore are correct for all rows except the first one). I can flip them with a simple np.where though"}, {"owner": {"reputation": 621, "user_id": 6935967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a490d0e6023edcfb16893165bc19ca8?s=128&d=identicon&r=PG&f=1", "display_name": "JesusMonroe", "link": "https://stackoverflow.com/users/6935967/jesusmonroe"}, "edited": false, "score": 1, "creation_date": 1537390095, "post_id": 52413810, "comment_id": 91771716, "body": "np.where worked (copied the eventScore column, reversed it if the len was 3, then dropped the copied column). This works."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 2, "last_activity_date": 1537389242, "creation_date": 1537389242, "answer_id": 52413810, "question_id": 52413581, "link": "https://stackoverflow.com/questions/52413581/pandas-sum-up-each-member-of-a-pair-in-a-column/52413810#52413810", "title": "Pandas - sum up each member of a pair in a column", "body": "<p>Not particularly elegant, but this works, using regex to find digits before and after <code>-</code>:</p>\n\n<pre><code>df['playerScore'] = df.eventScore.str.findall('(\\d+)-').apply(pd.Series, dtype=float).sum(1)\ndf['opponentScore'] = df.eventScore.str.findall('-(\\d+)').apply(pd.Series, dtype=float).sum(1)\n\n&gt;&gt;&gt; df\n  eventScore  playerScore  opponentScore\n0        5-4          5.0            4.0\n1    6-2 6-0         12.0            2.0\n2    6-2 6-3         12.0            5.0\n3    7-6 6-2         13.0            8.0\n4    2-6 4-6          6.0           12.0\n5    1-6 1-3          2.0            9.0\n</code></pre>\n"}], "owner": {"reputation": 621, "user_id": 6935967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a490d0e6023edcfb16893165bc19ca8?s=128&d=identicon&r=PG&f=1", "display_name": "JesusMonroe", "link": "https://stackoverflow.com/users/6935967/jesusmonroe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 52413810, "answer_count": 1, "score": -1, "last_activity_date": 1537389242, "creation_date": 1537388128, "last_edit_date": 1537388979, "question_id": 52413581, "link": "https://stackoverflow.com/questions/52413581/pandas-sum-up-each-member-of-a-pair-in-a-column", "title": "Pandas - sum up each member of a pair in a column", "body": "<p>I have a dataframe that looks like this:</p>\n\n<pre><code>eventScore\n5-4 \n6-2 6-0\n6-2 6-3\n7-6 6-2\n2-6 4-6\n1-6 1-3 \n</code></pre>\n\n<p>The left of each pair is the player score, the right of each pair is the opponentScore.</p>\n\n<p>So for each column, I need to add the left of the dash and the right of the dash. </p>\n\n<p>Final output:</p>\n\n<pre><code>eventScore     playerScore   opponentScore\n5-4            5             4\n6-2 6-0        12            2  \n6-2 6-3        12            5\n7-6 6-2        13            8\n2-6 4-6        6             12\n1-6 1-3        2             9\n</code></pre>\n\n<p>Data can be reformatted as necessary. </p>\n\n<p>Edit: Original question had unnecessary strings in the score, made it easier to read. </p>\n"}, {"tags": ["python", "google-sheets-api", "gspread"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1537388683, "post_id": 52413568, "comment_id": 91771099, "body": "the json file will be read as text, i don&#39;t think it inherently knows to translate the dictionary object to text"}, {"owner": {"reputation": 1442, "user_id": 4020610, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LdgzYsM5kJw/AAAAAAAAAAI/AAAAAAAAH4E/Qase_JE27jE/photo.jpg?sz=128", "display_name": "Lohmar ASHAR", "link": "https://stackoverflow.com/users/4020610/lohmar-ashar"}, "edited": false, "score": 0, "creation_date": 1537389162, "post_id": 52413568, "comment_id": 91771310, "body": "I think you should dig in the code of the <code>from_json_keyfile_name</code> method to see what it uses the parameter for/what it does, or look for alternative method, maybe <code>from_json_keyfile_dict</code>"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 10387837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TVm7h2McXYE/AAAAAAAAAAI/AAAAAAAAJzM/yi1Ofdam67s/photo.jpg?sz=128", "display_name": "aglamadrid19", "link": "https://stackoverflow.com/users/10387837/aglamadrid19"}, "edited": false, "score": 0, "creation_date": 1537490466, "post_id": 52414229, "comment_id": 91813640, "body": "Thank you everyone, like you said SignedJwtAssertionCredentials has been deprecated , and now we should be using ServiceAccountCredentials."}], "tags": [], "owner": {"reputation": 233, "user_id": 2817115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/566e25556dee204ed72da4dc5b3bcb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Ong", "link": "https://stackoverflow.com/users/2817115/daniel-ong"}, "is_accepted": false, "score": 0, "last_activity_date": 1537391729, "last_edit_date": 1537391729, "creation_date": 1537391238, "answer_id": 52414229, "question_id": 52413568, "link": "https://stackoverflow.com/questions/52413568/gspread-pass-credentials-from-python-not-json/52414229#52414229", "title": "GSpread pass credentials from Python not JSON", "body": "<p>Since you're using <code>ServiceAccountCredentials</code>, I'm assuming you're using OAuth2 for authorization. You can skip the json file by using <code>oauth2client.SignedJwtAssertionCredentials</code> to create the appropriate credentials object and pass that to <code>gspread.authorize</code>.</p>\n\n<pre><code>import gspread\nfrom oauth2client.client import SignedJwtAssertionCredentials\n\ncredentials = SignedJwtAssertionCredentials(service_account_name, private_key.encode(), \n                                            ['https://spreadsheets.google.com/feeds'])\ngclient = gspread.authorize(credentials)\n</code></pre>\n\n<p>UPDATE: It appears that <code>oauth2client.SignedJwtAssertionCredentials</code> has been deprecated in favor of <code>oauth2client.service_account.ServiceAccountCredentials</code>, which only supports json and p12 keyfiles. </p>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 10387837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TVm7h2McXYE/AAAAAAAAAAI/AAAAAAAAJzM/yi1Ofdam67s/photo.jpg?sz=128", "display_name": "aglamadrid19", "link": "https://stackoverflow.com/users/10387837/aglamadrid19"}, "is_accepted": true, "score": 2, "last_activity_date": 1537490899, "creation_date": 1537490899, "answer_id": 52435143, "question_id": 52413568, "link": "https://stackoverflow.com/questions/52413568/gspread-pass-credentials-from-python-not-json/52435143#52435143", "title": "GSpread pass credentials from Python not JSON", "body": "<p>Since I wanted to pass the credentials details from within my application , and not from a json file I couldn't use: </p>\n\n<p><code>ServiceAccountCredentials.from_json_keyfile_name()</code> </p>\n\n<p>from_json_keyfile_name() expects a json file. But looking into the docs I found the following:</p>\n\n<p><code>ServiceAccountCredentials.from_json_keyfile_dict()</code></p>\n\n<p>This will expect an dict object , this is all I needed.</p>\n\n<p>Link:</p>\n\n<p><a href=\"https://oauth2client.readthedocs.io/en/latest/source/oauth2client.service_account.html\" rel=\"nofollow noreferrer\">https://oauth2client.readthedocs.io/en/latest/source/oauth2client.service_account.html</a></p>\n\n<p>Thank you everyone again</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 10345434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c94f2b8a5442d764772dce3b51607480?s=128&d=identicon&r=PG&f=1", "display_name": "Bob McCormick", "link": "https://stackoverflow.com/users/10345434/bob-mccormick"}, "is_accepted": false, "score": 1, "last_activity_date": 1597453848, "creation_date": 1597453848, "answer_id": 63421687, "question_id": 52413568, "link": "https://stackoverflow.com/questions/52413568/gspread-pass-credentials-from-python-not-json/63421687#63421687", "title": "GSpread pass credentials from Python not JSON", "body": "<p>Additional tip:  I am using Google API to read Google Drive files, but also using AWS.  I stored the service account credentials in AWS Secrets Manager, so that I did not need a file.  I copy-pasted each key-value pair from the downloaded JSON file into AWS Secrets Manager.  But I kept getting the error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;./copy_from_google_drive_to_s3.py&quot;, line 301, in &lt;module&gt;\n    sys.exit(main())\n  File &quot;./copy_from_google_drive_to_s3.py&quot;, line 96, in main\n    keyfile_dict=keyDict, scopes=scopes,\n  File &quot;/usr/local/lib/python3.7/site-packages/oauth2client/service_account.py&quot;, line 253, in from_json_keyfile_dict\n    revoke_uri=revoke_uri)\n  File &quot;/usr/local/lib/python3.7/site-packages/oauth2client/service_account.py&quot;, line 185, in _from_parsed_json_keyfile\n    signer = crypt.Signer.from_string(private_key_pkcs8_pem)\n  File &quot;/usr/local/lib/python3.7/site-packages/oauth2client/_pure_python_crypt.py&quot;, line 182, in from_string\n    raise ValueError('No key could be detected.')\nValueError: No key could be detected.\n</code></pre>\n<p>I had to convert the string representation of newline back into newline:</p>\n<pre><code># Last part of using AWS Secrets Manager, returns json string.\nsa_creds = get_secret_value_response['SecretString']\n# Convert JSON string to dict.\nsa_creds = json.loads(sa_creds)\n# In the private key, 1-char newline got replaced with 2-char '\\n'\nsa_creds['private_key'] = sa_creds['private_key'].replace('\\\\n', '\\n')\ncredentials = ServiceAccountCredentials.from_json_keyfile_dict(\n    keyfile_dict=sa_creds,\n    scopes=['https://www.googleapis.com/auth/drive.readonly',]\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 201, "user_id": 2468182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wG4UG.png?s=128&g=1", "display_name": "Mitsjol", "link": "https://stackoverflow.com/users/2468182/mitsjol"}, "is_accepted": false, "score": 0, "last_activity_date": 1617265719, "creation_date": 1617265719, "answer_id": 66900991, "question_id": 52413568, "link": "https://stackoverflow.com/questions/52413568/gspread-pass-credentials-from-python-not-json/66900991#66900991", "title": "GSpread pass credentials from Python not JSON", "body": "<p>My solution is close to Bob McCormick. The difference is that it's using the credentials method for using service account info instead of JSON file.</p>\n<p>Here i'm using Googles Secret Manager to import service account information so that my code can connect to a different GCP project:</p>\n<pre><code>from google.cloud import secretmanager\nfrom google.oauth2 import service_account\n\n# Create the Secret Manager client.\nsecret_client = secretmanager.SecretManagerServiceClient()\n    \n# Build the resource name of the secret version.\nname = f&quot;projects/{project-id}/secrets/{very-secret-secret-name}/versions/latest&quot;\n    \n# Access the secret version.\nsecret_response = secret_client.access_secret_version(request={&quot;name&quot;: name})\n    \n# Getting the secret data                                                               \nsecret_payload = json.loads(secret_response.payload.data.decode(&quot;UTF-8&quot;))\n    \n# Applying the credentials as INFO instead of JSON\ncredentials = service_account.Credentials.from_service_account_info(\n                secret_payload,\n                scopes=[&quot;https://www.googleapis.com/auth/cloud-platform&quot;],\n               )\n\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 10387837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TVm7h2McXYE/AAAAAAAAAAI/AAAAAAAAJzM/yi1Ofdam67s/photo.jpg?sz=128", "display_name": "aglamadrid19", "link": "https://stackoverflow.com/users/10387837/aglamadrid19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2140, "favorite_count": 1, "accepted_answer_id": 52435143, "answer_count": 4, "score": 3, "last_activity_date": 1617265719, "creation_date": 1537388067, "question_id": 52413568, "link": "https://stackoverflow.com/questions/52413568/gspread-pass-credentials-from-python-not-json", "title": "GSpread pass credentials from Python not JSON", "body": "<p>Im using GSpread trying to pass the content on my JSON file (Google API Service Application credentials) as a python Dictionary on my script. Im trying to not to carry a json file wherever I take my script. </p>\n\n<p>I get the following error when I tried to pass a dictionary instead of a json file on the following line:</p>\n\n<pre><code>credentials = ServiceAccountCredentials.from_json_keyfile_name(auth_gdrive(), scope)\n</code></pre>\n\n<p>TypeError: expected str, bytes or os.PathLike object, not set</p>\n\n<pre><code>### auth_gdrive() returns a dictionary like this:\n\ndef auth_gdrive():\n    dic = {\n        \"type\": \"miauuuuuu\",\n        \"pass\": \"miauuuu\"\n    }\n</code></pre>\n\n<p>Im not allow to show whats really in the dic. </p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537388211, "post_id": 52413563, "comment_id": 91770913, "body": "Ultimately, I think this will be of little use. At some point you&#39;re going to have to examine the JSON yourself to understand what you want. If you get all of the keys and drop the values, you&#39;ll still need to maintain the nested structure in order to know how to actually get at them... which means reading it anyway"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1537388285, "post_id": 52413563, "comment_id": 91770944, "body": "What do you mean?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537388394, "post_id": 52413563, "comment_id": 91770989, "body": "Hmm ok, so you just want to know how to iterate the data? All you have is a list with nested dictionaries inside (as soon as you do <code>data = json.load(f)</code> it&#39;s not JSON anymore)."}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537388463, "post_id": 52413563, "comment_id": 91771008, "body": "Yes I know, and I&#39;m trying to get the keys from that list"}, {"owner": {"reputation": 1844, "user_id": 4844024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9de342e1ce408f4874eac3f019efb33?s=128&d=identicon&r=PG&f=1", "display_name": "mad.meesh", "link": "https://stackoverflow.com/users/4844024/mad-meesh"}, "edited": false, "score": 0, "creation_date": 1537388610, "post_id": 52413563, "comment_id": 91771068, "body": "it\u2019s just a regular dict once you load it as you do"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1537388652, "post_id": 52413563, "comment_id": 91771086, "body": "And then how can I load to avoid this?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537388845, "post_id": 52413563, "comment_id": 91771174, "body": "Read it in as a string. Then it would be almost completely impossible to work with. The fact that JSON translates to python lists and dicts so easily is a <i>blessing</i>"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537389648, "post_id": 52413563, "comment_id": 91771524, "body": "It is a list of dict. you can get keys of dict from <code>.keys()</code> and values from <code>.values()</code>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1537391703, "post_id": 52413563, "comment_id": 91772318, "body": "There are many objects in JSON format in the sample in your question. These will be treated as dictionaries in Python, so the question becomes from level do you want them\u2014or are you asking for <i>all</i> of them, at every level? If it&#39;s the latter, how do you expect to be able parse things with it?"}], "answers": [{"tags": [], "owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "is_accepted": false, "score": 5, "last_activity_date": 1537390579, "last_edit_date": 1537390579, "creation_date": 1537390180, "answer_id": 52414034, "question_id": 52413563, "link": "https://stackoverflow.com/questions/52413563/parse-json-without-knowing-the-key-value/52414034#52414034", "title": "parse JSON without knowing the key value", "body": "<p>Here's a recursive generator that will scan through a nested list / dictionary structure, like you get from loading JSON into Python. It shows you the sequence of dictionary keys and list indices associated with every value.</p>\n\n<p>I've modified your data slightly to illustrate how it handles lists nested inside dicts.</p>\n\n<pre><code>data = [\n  {\n    \"id\": 1,\n    \"name\": \"Leanne Graham\",\n    \"username\": \"Bret\",\n    \"email\": \"Sincere@april.biz\",\n    \"address\": {\n      \"street\": \"Kulas Light\",\n      \"suite\": \"Apt. 556\",\n      \"city\": \"Gwenborough\",\n      \"zipcode\": \"92998-3874\",\n      \"geo\": {\n        \"lat\": \"-37.3159\",\n        \"lng\": \"81.1496\"\n      }\n    },\n    \"phone\": \"1-770-736-8031 x56442\",\n    \"website\": \"hildegard.org\",\n    \"company\": {\n      \"name\": \"Romaguera-Crona\",\n      \"catchPhrase\": \"Multi-layered client-server neural-net\",\n      \"bs\": \"harness real-time e-markets\"\n    },\n    \"other\": [\"This\", \"is\", \"a list\"]\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Ervin Howell\",\n    \"username\": \"Antonette\",\n    \"email\": \"Shanna@melissa.tv\",\n    \"address\": {\n      \"street\": \"Victor Plains\",\n      \"suite\": \"Suite 879\",\n      \"city\": \"Wisokyburgh\",\n      \"zipcode\": \"90566-7771\",\n      \"geo\": {\n        \"lat\": \"-43.9509\",\n        \"lng\": \"-34.4618\"\n      }\n    },\n    \"phone\": \"010-692-6593 x09125\",\n    \"website\": \"anastasia.net\",\n    \"company\": {\n      \"name\": \"Deckow-Crist\",\n      \"catchPhrase\": \"Proactive didactic contingency\",\n      \"bs\": \"synergize scalable supply-chains\"\n    },\n    \"other\": [\"This\", \"is\", \"another list\"]\n  },\n]    \n\ndef show_indices(obj, indices):\n    for k, v in obj.items() if isinstance(obj, dict) else enumerate(obj):\n        if isinstance(v, (dict, list)):\n            yield from show_indices(v, indices + [k])\n        else:\n            yield indices + [k], v\n\nfor keys, v in show_indices(data, []):\n    print(keys, v)\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[0, 'id'] 1\n[0, 'name'] Leanne Graham\n[0, 'username'] Bret\n[0, 'email'] Sincere@april.biz\n[0, 'address', 'street'] Kulas Light\n[0, 'address', 'suite'] Apt. 556\n[0, 'address', 'city'] Gwenborough\n[0, 'address', 'zipcode'] 92998-3874\n[0, 'address', 'geo', 'lat'] -37.3159\n[0, 'address', 'geo', 'lng'] 81.1496\n[0, 'phone'] 1-770-736-8031 x56442\n[0, 'website'] hildegard.org\n[0, 'company', 'name'] Romaguera-Crona\n[0, 'company', 'catchPhrase'] Multi-layered client-server neural-net\n[0, 'company', 'bs'] harness real-time e-markets\n[0, 'other', 0] This\n[0, 'other', 1] is\n[0, 'other', 2] a list\n[1, 'id'] 2\n[1, 'name'] Ervin Howell\n[1, 'username'] Antonette\n[1, 'email'] Shanna@melissa.tv\n[1, 'address', 'street'] Victor Plains\n[1, 'address', 'suite'] Suite 879\n[1, 'address', 'city'] Wisokyburgh\n[1, 'address', 'zipcode'] 90566-7771\n[1, 'address', 'geo', 'lat'] -43.9509\n[1, 'address', 'geo', 'lng'] -34.4618\n[1, 'phone'] 010-692-6593 x09125\n[1, 'website'] anastasia.net\n[1, 'company', 'name'] Deckow-Crist\n[1, 'company', 'catchPhrase'] Proactive didactic contingency\n[1, 'company', 'bs'] synergize scalable supply-chains\n[1, 'other', 0] This\n[1, 'other', 1] is\n[1, 'other', 2] another list\n</code></pre>\n\n<hr>\n\n<p>You can use these lists to access any item, eg</p>\n\n<pre><code>keys = [1, 'company', 'catchPhrase']\nobj = data\nfor k in keys:\n    obj = obj[k]\nprint(obj)\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Proactive didactic contingency\n</code></pre>\n\n<p>Or if you want to modify an item:</p>\n\n<pre><code>keys = [1, 'company', 'catchPhrase']\nobj = data\nfor k in keys[:-1]:\n    obj = obj[k]\nobj[keys[-1]] = \"some new thing\"\nprint(data[1]['company'])\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{'name': 'Deckow-Crist', 'catchPhrase': 'some new thing', 'bs': 'synergize scalable supply-chains'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24, "user_id": 10380530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7uK1NTdEqXw/AAAAAAAAAAI/AAAAAAAAAIE/SI2Om64eaP4/photo.jpg?sz=128", "display_name": "Lucas Emanuel", "link": "https://stackoverflow.com/users/10380530/lucas-emanuel"}, "is_accepted": false, "score": -1, "last_activity_date": 1537390222, "creation_date": 1537390222, "answer_id": 52414037, "question_id": 52413563, "link": "https://stackoverflow.com/questions/52413563/parse-json-without-knowing-the-key-value/52414037#52414037", "title": "parse JSON without knowing the key value", "body": "<p>Try someting like this </p>\n\n<pre><code>for d in data:\n    for key in d.keys():\n        print(d[key])\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3182, "favorite_count": 1, "closed_date": 1537405954, "answer_count": 2, "score": -2, "last_activity_date": 1537390579, "creation_date": 1537388045, "question_id": 52413563, "link": "https://stackoverflow.com/questions/52413563/parse-json-without-knowing-the-key-value", "closed_reason": "Needs more focus", "title": "parse JSON without knowing the key value", "body": "<p>I know how to parse a JSON knowing the key value, but now I'd like to get the key values from a JSON that it's not mine, so I can know the key names, for instance I have this JSON</p>\n\n<pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Leanne Graham\",\n    \"username\": \"Bret\",\n    \"email\": \"Sincere@april.biz\",\n    \"address\": {\n      \"street\": \"Kulas Light\",\n      \"suite\": \"Apt. 556\",\n      \"city\": \"Gwenborough\",\n      \"zipcode\": \"92998-3874\",\n      \"geo\": {\n        \"lat\": \"-37.3159\",\n        \"lng\": \"81.1496\"\n      }\n    },\n    \"phone\": \"1-770-736-8031 x56442\",\n    \"website\": \"hildegard.org\",\n    \"company\": {\n      \"name\": \"Romaguera-Crona\",\n      \"catchPhrase\": \"Multi-layered client-server neural-net\",\n      \"bs\": \"harness real-time e-markets\"\n    }\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Ervin Howell\",\n    \"username\": \"Antonette\",\n    \"email\": \"Shanna@melissa.tv\",\n    \"address\": {\n      \"street\": \"Victor Plains\",\n      \"suite\": \"Suite 879\",\n      \"city\": \"Wisokyburgh\",\n      \"zipcode\": \"90566-7771\",\n      \"geo\": {\n        \"lat\": \"-43.9509\",\n        \"lng\": \"-34.4618\"\n      }\n    },\n    \"phone\": \"010-692-6593 x09125\",\n    \"website\": \"anastasia.net\",\n    \"company\": {\n      \"name\": \"Deckow-Crist\",\n      \"catchPhrase\": \"Proactive didactic contingency\",\n      \"bs\": \"synergize scalable supply-chains\"\n    }\n  },\n  ...\n ]\n</code></pre>\n\n<p>So from now I have this : </p>\n\n<pre><code>with open('users.json') as f:\n    data = json.load(f)\n</code></pre>\n\n<p>Where I can see all the JSON loaded if I print <code>data</code>, so my question is, how do I print all of the keys and nested objects without knowing the name?</p>\n\n<p>My goal is having something like\nid\nname\nusername\nemail\naddress that contains street, suite, city, zipcode, geo that contains lat, long, etc..</p>\n"}, {"tags": ["python", "sum"], "comments": [{"owner": {"reputation": 4348, "user_id": 3435610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IBOFX.jpg?s=128&g=1", "display_name": "Sara Tibbetts", "link": "https://stackoverflow.com/users/3435610/sara-tibbetts"}, "edited": false, "score": 0, "creation_date": 1537388610, "post_id": 52413535, "comment_id": 91771067, "body": "Please include a code snippet of what you&#39;ve tried."}, {"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 0, "creation_date": 1537389652, "post_id": 52413535, "comment_id": 91771526, "body": "You want to square the numbers of both columns, and find the sum all those numbers from both columns?"}, {"owner": {"reputation": 3415, "user_id": 6343617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8deb6024ddf09707f5b1ca4347a9654e?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Scott", "link": "https://stackoverflow.com/users/6343617/jon-scott"}, "edited": false, "score": 0, "creation_date": 1537462104, "post_id": 52413535, "comment_id": 91803096, "body": "Please update your question to include what you have tried so far and where that fell short."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10359181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0f56fed893d1b6e567dec408335218?s=128&d=identicon&r=PG&f=1", "display_name": "Physabz", "link": "https://stackoverflow.com/users/10359181/physabz"}, "edited": false, "score": 0, "creation_date": 1537461185, "post_id": 52414647, "comment_id": 91802639, "body": "My columns don&#39;t have header, So I need sth like: col[1:n]."}, {"owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "reply_to_user": {"reputation": 31, "user_id": 10359181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0f56fed893d1b6e567dec408335218?s=128&d=identicon&r=PG&f=1", "display_name": "Physabz", "link": "https://stackoverflow.com/users/10359181/physabz"}, "edited": false, "score": 0, "creation_date": 1537479870, "post_id": 52414647, "comment_id": 91811169, "body": "There might be many approaches. One that I can suggest is using python and to convert the file into pandas&#39; DataFrame, by doing <code>pd.read_table()</code>"}], "tags": [], "owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "is_accepted": false, "score": 0, "last_activity_date": 1537482911, "last_edit_date": 1537482911, "creation_date": 1537393811, "answer_id": 52414647, "question_id": 52413535, "link": "https://stackoverflow.com/questions/52413535/how-to-find-the-sum-of-the-two-selected-columns-from-a-big-data-file/52414647#52414647", "title": "how to find the sum of the two selected columns from a big data file?", "body": "<p>You are using python. Then you can make use of pandas package to process your data. </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n</code></pre>\n\n<p>Convert the file into pandas' dataframe.</p>\n\n<pre><code>df = pd.read_table('path_to_your_file', delimiter = \" \", header=None)\n</code></pre>\n\n<p>You will get something like:</p>\n\n<pre><code>  | 0  1  2  3\n--|------------\n0 | x  x  x  x\n1 | x  x  x  x\n2 | x  x  x  x\n</code></pre>\n\n<p>Create function</p>\n\n<pre><code>def create_new(df):\n    new_row = 0\n    mid = df.shape[1]//2\n    for i in range(0, mid):\n        new_row += np.sqrt(df[i]**2+df[i+mid]**2)\n    return new_row\n\ndf['n+1'] = df.apply(create_new, axis=1)\n</code></pre>\n\n<p>It will create a new column named <code>n+1</code> containing the calculation of each rows. </p>\n\n<pre><code>  | 0  1  2  3  n+1\n--|------------------\n0 | x  x  x  x   y\n1 | x  x  x  x   y\n2 | x  x  x  x   y\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10359181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0f56fed893d1b6e567dec408335218?s=128&d=identicon&r=PG&f=1", "display_name": "Physabz", "link": "https://stackoverflow.com/users/10359181/physabz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537482911, "creation_date": 1537387956, "last_edit_date": 1537462051, "question_id": 52413535, "link": "https://stackoverflow.com/questions/52413535/how-to-find-the-sum-of-the-two-selected-columns-from-a-big-data-file", "title": "how to find the sum of the two selected columns from a big data file?", "body": "<p>I have a text file with \"n\" columns and many rows.\nHow can I use a for loop to find the sum of the square roots of the sum of the squares, row by row, starting from 1st and \"n/2 th\" columns?\nFor example, lets say my text file has 4 columns and 3 rows and looks like this:</p>\n\n<pre><code>    x11 x12 x13 x14\n    x21 x22 x23 x24\n    x31 x32 x33 x34\n</code></pre>\n\n<p>I want to find:</p>\n\n<pre><code>    Sq( x11**2 + x13**2 )+Sq( x21**2 + x23**2 )+Sq( x31**2 + x33**2 )\n    Sq( x12**2 + x14**2 )+Sq( x22**2 + x24**2 )+Sq( x32**2 + x34**2 )\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1537388073, "post_id": 52413533, "comment_id": 91770870, "body": "possible duplicate of: <a href=\"https://stackoverflow.com/questions/3121979/how-to-sort-list-tuple-of-lists-tuples\" title=\"how to sort list tuple of lists tuples\">stackoverflow.com/questions/3121979/&hellip;</a>"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1537388144, "post_id": 52413533, "comment_id": 91770886, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3121979/how-to-sort-list-tuple-of-lists-tuples\">How to sort (list/tuple) of lists/tuples?</a>"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1537388237, "post_id": 52413533, "comment_id": 91770924, "body": "I don&#39;t agree with the proposed dupe target. I asks about sorting based on the second element of the sublists, and interpolating from the accepted answer might leave OP with the impression that they would have to use <code>lambda sub: sub[0]</code> as the key."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1537389024, "post_id": 52413533, "comment_id": 91771245, "body": "using <code>s = sorted([[&quot;c&quot;,2,5], [&quot;bb&quot;,6,2], [&quot;a&quot;,7,11],],key=lambda x:x[0])</code> according to the dupe works as well - it is just not needed here, as the default behaviour is sorting based in 0th index. Your answer is valid and valuable, the dupe is the &quot;more general&quot; answer to this question. I do not think we need 10 questions about how to sort by the 1st, 2nd, 3rd .... 10th element - nor do we need 10 canonical answers to that."}], "answers": [{"comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537388815, "post_id": 52413553, "comment_id": 91771158, "body": "Won&#39;t this sort by 1st value, then the 2nd, then the 3rd though?"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537388858, "post_id": 52413553, "comment_id": 91771177, "body": "@Chris_Rands yes, so?"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537389055, "post_id": 52413553, "comment_id": 91771263, "body": "Well that&#39;s not the same as sorting by only the 1st value, e.g. <code>sorted([[&quot;a&quot;,2], [&quot;a&quot;, 1]])</code> vs <code>sorted([[&quot;a&quot;,2], [&quot;a&quot;, 1]], key=lambda x: x[0])</code> (may not be relevant for the OP&#39;s example of course)"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537389187, "post_id": 52413553, "comment_id": 91771326, "body": "@Chris_Rands I don&#39;t see how that is relevant here. The sublists in both outputs are clearly sorted by their first value. For the first result, they also happen to be sorted by the second value, but that was not a constraint on the question."}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537389306, "post_id": 52413553, "comment_id": 91771377, "body": "well they say &quot;Sorting by each lists first value&quot;, there is no implied extra sorting, but I guess we do disagree"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537389320, "post_id": 52413553, "comment_id": 91771384, "body": "@Chris_Rands Now, an interesting question we could investigate is whether <code>key=lambda x: x[0]</code> is a performance optimization if you anticipate lots of lists that share their first value(s), or if the overhead of a function call makes the redundant comparisons faster in the end."}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537389375, "post_id": 52413553, "comment_id": 91771407, "body": "yes I don&#39;t know about performance but <code>operator.itemgetter(0)</code> would likely be faster than using <code>lambda</code> anyway"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1537389376, "post_id": 52413553, "comment_id": 91771408, "body": "@Chris_Rands they did not say <i>only</i> by the first value, in that case I think we would need the <code>key</code>. ;)"}], "tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": true, "score": 4, "last_activity_date": 1537388019, "creation_date": 1537388019, "answer_id": 52413553, "question_id": 52413533, "link": "https://stackoverflow.com/questions/52413533/how-to-sort-list-of-lists-by-first-value-in-inner-list/52413553#52413553", "title": "How to sort list of lists by first value in inner list", "body": "<p><code>list.sort</code> and <code>sorted</code> already sort lexicographically. Or in other words, all you have to do is issue <code>yourlist.sort()</code> or <code>result = sorted(yourlist)</code>.</p>\n"}], "owner": {"reputation": 451, "user_id": 10023380, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-me8mwLr8S7A/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq17_nauTJ0xzq6WXLcY5SAIVh7zag/mo/photo.jpg?sz=128", "display_name": "test acc", "link": "https://stackoverflow.com/users/10023380/test-acc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 52413553, "answer_count": 1, "score": -1, "last_activity_date": 1537388019, "creation_date": 1537387952, "question_id": 52413533, "link": "https://stackoverflow.com/questions/52413533/how-to-sort-list-of-lists-by-first-value-in-inner-list", "title": "How to sort list of lists by first value in inner list", "body": "<p>So I have a list of lists</p>\n\n<pre><code>[\n   [\"c\",2,5],\n   [\"bb\",6,2],\n   [\"a\",7,11],\n   ...\n]\n</code></pre>\n\n<p>I want it sorted like the following : </p>\n\n<pre><code>[\n   [\"a\",7,11],\n   [\"bb\",6,2],\n   [\"c\",2,5],       \n   ...\n]\n</code></pre>\n\n<p>Sorting by each lists first value.  How would this be done? (So it was sorted by <code>a &lt; bb &lt; c</code>)</p>\n"}, {"tags": ["python", "mocking", "pytest", "biopython", "monkeypatching"], "answers": [{"comments": [{"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "edited": false, "score": 0, "creation_date": 1537494966, "post_id": 52434267, "comment_id": 91814545, "body": "Shiny! That is exactly what I was looking for! I guess I should go digging around <code>sys</code> more."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "edited": false, "score": 0, "creation_date": 1537509794, "post_id": 52434267, "comment_id": 91817911, "body": "Glad I could help!"}], "tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 2, "last_activity_date": 1537528102, "last_edit_date": 1537528102, "creation_date": 1537483017, "answer_id": 52434267, "question_id": 52413528, "link": "https://stackoverflow.com/questions/52413528/monkeypatch-function-in-module-whose-namespace-was-overwritten/52434267#52434267", "title": "monkeypatch function in module whose namespace was overwritten", "body": "<p>You are right - since the <code>PDBList</code> class has the same name as the module <code>Bio.PDB.PDBList</code>, after <code>import Bio.PDB.PDBList</code> you won't be able to access the module by its name (shadowing problem). However, you can still grab the imported module object from the loaded modules cache and monkeypatch that:</p>\n\n<pre><code>import sys\nfrom unittest.mock import Mock\nimport Bio.PDB.PDBList\n\ndef test_spam(monkeypatch):\n    assert isinstance(Bio.PDB.PDBList, type)\n    with monkeypatch.context() as m:\n        m.setattr(sys.modules['Bio.PDB.PDBList'], '_urlretrieve', Mock())\n        ...\n</code></pre>\n"}], "owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 52434267, "answer_count": 1, "score": 1, "last_activity_date": 1537528102, "creation_date": 1537387937, "question_id": 52413528, "link": "https://stackoverflow.com/questions/52413528/monkeypatch-function-in-module-whose-namespace-was-overwritten", "title": "monkeypatch function in module whose namespace was overwritten", "body": "<p>I am trying to monkeypatch a function in an external module I use, but monkeypatch can't seem to access the function because the namespace of the module gets overwritten on import.</p>\n\n<p>Concretely, I use a <code>Bio.PDB.PDBList.PDBList</code> object (<code>biopython</code> module) in my code, and I am trying to patch <code>_urlretrieve</code> in <a href=\"https://github.com/biopython/biopython/blob/master/Bio/PDB/PDBList.py\" rel=\"nofollow noreferrer\"><code>Bio.PDB.PDBList</code></a> to prevent calls to the internet and instead get files from a local directory, without having to mock the instance methods of <code>PDBList</code> which would be substantially more work. But when I try the na\u00efve:</p>\n\n<pre><code>m.setattr(\"Bio.PDB.PDBList._urlretrieve\", mock_retrieve)\n</code></pre>\n\n<p>pytest complains:</p>\n\n<pre><code>AttributeError: 'type' object at Bio.PDB.PDBList has no attribute '_urlretrieve'\n</code></pre>\n\n<p>On further inspection of <a href=\"https://github.com/biopython/biopython/blob/master/Bio/PDB/__init__.py\" rel=\"nofollow noreferrer\"><code>Bio.PDB</code></a>, I can see that the module namespace <code>.PDBList</code> seems to be overwritten by the class <code>.PDBList.PDBList</code>:</p>\n\n<pre><code># Download from the PDB\nfrom .PDBList import PDBList\n</code></pre>\n\n<p>So that would explain why pytest sees <code>Bio.PDB.PDBList</code> as a <code>type</code> object with no attribute <code>_urlretrieve</code>. My question is, is there any way to get monkeypatch to patch this 'hidden' function?</p>\n\n<hr>\n\n<p>Concrete example of usage of <code>PDBList</code> class:</p>\n\n<pre><code>from Bio.PDB.PDBList import PDBList\n\n_pdblist = PDBList()\n\ndownloaded_file = _pdblist.retrieve_pdb_file('2O8B', pdir='./temp', file_format='pdb')\n</code></pre>\n"}, {"tags": ["python", "numpy", "bit-manipulation", "bitwise-operators"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 2, "creation_date": 1537388031, "post_id": 52413484, "comment_id": 91770845, "body": "These two operations are <i>not</i> equivalent, at least not the way you&#39;re calculating them.  They will produce two very different results"}, {"owner": {"reputation": 611, "user_id": 3832614, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dac6e266b2b916aad31f97d342a86235?s=128&d=identicon&r=PG&f=1", "display_name": "appsdownload", "link": "https://stackoverflow.com/users/3832614/appsdownload"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1537388271, "post_id": 52413484, "comment_id": 91770936, "body": "I used the numpy.random.randint(2, size=(2, 40)) because I thought it would take a lot of space to write down all the array elements"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1537388276, "post_id": 52413484, "comment_id": 91770939, "body": "<code>numpy.random.randint(2, size=(2, 40))</code> is not a binary number. It is a <code>numpy.ndarray</code> object with shape <code>(2,40)</code>, and calling <code>numpy.all</code> on it is not doing the same thing as bitwise <code>&amp;</code>"}, {"owner": {"reputation": 611, "user_id": 3832614, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dac6e266b2b916aad31f97d342a86235?s=128&d=identicon&r=PG&f=1", "display_name": "appsdownload", "link": "https://stackoverflow.com/users/3832614/appsdownload"}, "edited": false, "score": 0, "creation_date": 1537388744, "post_id": 52413484, "comment_id": 91771133, "body": "Hi All, I change my numpy array and initialized the values same as &#39;a&#39; and &#39;b&#39; in the second case. Still the timing is the same!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537391396, "post_id": 52413484, "comment_id": 91772219, "body": "In what form do you have these &quot;binary numbers&quot;?  If the source is a bit string, the solution is pretty simple; if the numbers are in decimal form, then you&#39;d have to convert them at some point."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537391429, "post_id": 52413484, "comment_id": 91772234, "body": "Also, please note that you&#39;ve edited this to be a question quite different from the original.  Please roll back your edit and post the new issue as a separate question."}, {"owner": {"reputation": 611, "user_id": 3832614, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dac6e266b2b916aad31f97d342a86235?s=128&d=identicon&r=PG&f=1", "display_name": "appsdownload", "link": "https://stackoverflow.com/users/3832614/appsdownload"}, "edited": false, "score": 0, "creation_date": 1537461452, "post_id": 52413484, "comment_id": 91802777, "body": "Hi Prune, I&#39;ve reverted back to the original question. And if I have bit strings, I assume that I have to convert it into decimal first, multiply them and convert back to string. That will also not work, since it will remove the leading zeros which are required for me. Please correct me if I&#39;m wrong."}], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 3832614, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dac6e266b2b916aad31f97d342a86235?s=128&d=identicon&r=PG&f=1", "display_name": "appsdownload", "link": "https://stackoverflow.com/users/3832614/appsdownload"}, "edited": false, "score": 0, "creation_date": 1537388701, "post_id": 52413671, "comment_id": 91771110, "body": "I initialized that with a constant array. Still the timings are the same. I have updated the variable in the question as well. Please let me know, if I need to change any other thing"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 611, "user_id": 3832614, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dac6e266b2b916aad31f97d342a86235?s=128&d=identicon&r=PG&f=1", "display_name": "appsdownload", "link": "https://stackoverflow.com/users/3832614/appsdownload"}, "edited": false, "score": 0, "creation_date": 1537388782, "post_id": 52413671, "comment_id": 91771142, "body": "The initialization method is not part of your timing, so that doesn&#39;t affect the question."}, {"owner": {"reputation": 611, "user_id": 3832614, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dac6e266b2b916aad31f97d342a86235?s=128&d=identicon&r=PG&f=1", "display_name": "appsdownload", "link": "https://stackoverflow.com/users/3832614/appsdownload"}, "edited": false, "score": 0, "creation_date": 1537388898, "post_id": 52413671, "comment_id": 91771197, "body": "Could you please suggest any better approach to mine?"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1537388483, "creation_date": 1537388483, "answer_id": 52413671, "question_id": 52413484, "link": "https://stackoverflow.com/questions/52413484/comparison-between-numpy-all-and-bitwise-for-binary-sequence/52413671#52413671", "title": "Comparison between numpy.all and bitwise &#39;&amp;&#39; for binary sequence", "body": "<pre><code>&gt;&gt;&gt; c = numpy.random.randint(2, size=(2, 40)) #initialize\n&gt;&gt;&gt; c\narray([[1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1,\n        0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0],\n       [1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1,\n        0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0, 1]])\n</code></pre>\n\n<p>Accessing this gives you two slow-downs:</p>\n\n<ul>\n<li>You have to access the two rows, whereas your bit-wise test has the constants readily available in registers.</li>\n<li>You are performing a series of 40 <code>and</code> operations, which <em>may</em> include casting from a full integer to a Boolean.</li>\n</ul>\n\n<p>You severely handicapped the <code>all</code> test; the result is not a surprise (any more).</p>\n"}, {"tags": [], "owner": {"reputation": 2332, "user_id": 7013419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RXUhu.png?s=128&g=1", "display_name": "PilouPili", "link": "https://stackoverflow.com/users/7013419/piloupili"}, "is_accepted": false, "score": 0, "last_activity_date": 1537395660, "creation_date": 1537395660, "answer_id": 52414940, "question_id": 52413484, "link": "https://stackoverflow.com/questions/52413484/comparison-between-numpy-all-and-bitwise-for-binary-sequence/52414940#52414940", "title": "Comparison between numpy.all and bitwise &#39;&amp;&#39; for binary sequence", "body": "<p>The factor you observe is a direct consequence of the fact that <code>c=numpy.array([[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1]])</code> is an array on <code>int</code> and an <code>int</code> is coded in 32bits</p>\n\n<p>therefore when you go c.all() you are doing an operation on 37*32 = 1184 bits</p>\n\n<p>However <code>a = 0b0000000001111111111100000001111111111</code> is composed of 37 bits so when you do <code>a&amp;b</code> the operation is on 37 bits.</p>\n\n<p>therefore you are doing something 32 times more costly with the numpy array.</p>\n\n<p>Let's test that</p>\n\n<pre><code>import timeit\nimport numpy as np\nprint(\"Time taken to perform bitwise &amp; :\",timeit.timeit('a=0b0000000001111111111100000001111111111; b = 0b0000000001111111111100000001111111111; c = a&amp;b',number=320000))\na = 0b0000000001111111111100000001111111111\nb = 0b0000000001111111111100000001111111111\nc=np.array([a,b])\nprint(\"Time taken to perform 'numpy.all' : \",timeit.timeit(lambda :c.all(axis=0),number=10000))\n</code></pre>\n\n<p>the <code>&amp;</code> operation I do 320000 times and the <code>all()</code> operation I do 10000 times.</p>\n\n<pre><code>Time taken to perform bitwise &amp; : 0.01527938833025152\nTime taken to perform 'numpy.all' :  0.01583387375572265\n</code></pre>\n\n<p>It's the same thing !</p>\n\n<p>Now back to your initial problem you want to know the indices where bits are 1 in a large binary number.</p>\n\n<p>Maybe you could try things provided by the bitarray module</p>\n\n<pre><code>a = bitarray.bitarray('0000000001111111111100000001111111111')\nb = bitarray.bitarray('0000000001111111111100000001111111111')\ni=0\ndata = list()\nfor c in a&amp;b:\n    if(c):\n        data.append(i)\n    i=i+1\nprint (data)\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>[9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1537395881, "creation_date": 1537395881, "answer_id": 52414973, "question_id": 52413484, "link": "https://stackoverflow.com/questions/52413484/comparison-between-numpy-all-and-bitwise-for-binary-sequence/52414973#52414973", "title": "Comparison between numpy.all and bitwise &#39;&amp;&#39; for binary sequence", "body": "<p>I don't think you can beat the speed of <code>a&amp;b</code> (the actual computation is just a bunch of elementary cpu ops, I'm pretty sure the result of your <code>timeit</code> is >99% overhead). For example:</p>\n\n<pre><code>&gt;&gt;&gt; from timeit import timeit\n&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import random\n&gt;&gt;&gt; \n&gt;&gt;&gt; k = 2**17-2\n&gt;&gt;&gt; a = random.randint(0, 2**k-1) + 2**k\n&gt;&gt;&gt; b = random.randint(0, 2**k-1) + 2**k\n&gt;&gt;&gt; timeit('a &amp; b', globals=globals())\n2.520026927930303\n</code></pre>\n\n<p>That's >100k bits and takes just ~2.5 us.</p>\n\n<p>In any case the cost of <code>&amp;</code> will be dwarfed by the cost of generating the list or array of indices.</p>\n\n<p><code>numpy</code> comes with significant overhead itself, so for a simple operation like yours one needs to check whether it is worth it. </p>\n\n<p>So let's try a pure python solution first:</p>\n\n<pre><code>&gt;&gt;&gt; c = a &amp; b\n&gt;&gt;&gt; timeit(\"[x for x, y in enumerate(bin(c), -2) if y=='1']\", globals=globals(), number=1000)\n7.905808186973445\n</code></pre>\n\n<p>That's ~8 ms and as anticipated several orders of magnitude more than the <code>&amp;</code> operation.</p>\n\n<p>How about numpy?</p>\n\n<p>Let's move the list comprehension first:</p>\n\n<pre><code>&gt;&gt;&gt; timeit(\"np.where(np.fromstring(bin(c), np.uint8)[2:] - ord('0'))[0]\", globals=globals(), number=1000)\n1.0363857130287215\n</code></pre>\n\n<p>So in this case we get a ~8-fold speedup. This shrinks to ~4-fold if we require the result to be a list:</p>\n\n<pre><code>&gt;&gt;&gt; timeit(\"np.where(np.fromstring(bin(c), np.uint8)[2:] - ord('0'))[0].tolist()\", globals=globals(), number=1000)\n1.9008758360287175\n</code></pre>\n\n<p>We can also let numpy do the binary conversion, which gives another small speedup:</p>\n\n<pre><code>&gt;&gt;&gt; timeit(\"np.where(np.unpackbits(np.frombuffer(c.to_bytes(k//8+1, 'big'), np.uint8))[1:])[0]\", globals=globals(), number=1000)\n0.869781385990791\n</code></pre>\n\n<p>In summary:</p>\n\n<ul>\n<li>numpy is not always faster, better leave the <code>&amp;</code> to pure Python</li>\n<li>locating nonzero bits seems fast enough in numpy to offset the cost of conversion between list and array</li>\n</ul>\n\n<p>Please note that all this comes with the caveat that my pure Python code is not necessarily optimal. For example using a lookup table we can get a bit faster:</p>\n\n<pre><code>&gt;&gt;&gt; lookup = [(np.where(i)[0]-1).tolist() for i in np.ndindex(*8*[2])]\n&gt;&gt;&gt; timeit(\"[(x&lt;&lt;3) + z for x, y in enumerate(c.to_bytes(k//8+1, 'big')) for z in lookup[y]]\", globals=globals(), number=1000)\n4.687953414046206\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 3832614, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dac6e266b2b916aad31f97d342a86235?s=128&d=identicon&r=PG&f=1", "display_name": "appsdownload", "link": "https://stackoverflow.com/users/3832614/appsdownload"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1548455363, "creation_date": 1537387726, "last_edit_date": 1548455363, "question_id": 52413484, "link": "https://stackoverflow.com/questions/52413484/comparison-between-numpy-all-and-bitwise-for-binary-sequence", "title": "Comparison between numpy.all and bitwise &#39;&amp;&#39; for binary sequence", "body": "<p>I have a problem to perform a bitwise '&amp;' between two large binary sequences of the same length and I need to find the indexes where the 1's appear.</p>\n\n<p>I used numpy to do it and here is my code:</p>\n\n<pre><code>&gt;&gt;&gt; c = numpy.array([[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1]]) #initialize 2d array\n&gt;&gt;&gt; c = c.all(axis=0)\n&gt;&gt;&gt; d = numpy.where(c)[False] #returns indices\n</code></pre>\n\n<p>I checked the timings for it.</p>\n\n<pre><code>&gt;&gt;&gt; print(\"Time taken to perform 'numpy.all' : \",timeit.timeit(lambda :c.all(axis=0),number=10000))\n&gt;&gt;&gt; Time taken to perform 'numpy.all' :  0.01454929300234653\n</code></pre>\n\n<p>This operation was slower than what I expected. </p>\n\n<p>Then, to compare, I performed a basic bitwise '&amp;' operation:</p>\n\n<pre><code>&gt;&gt;&gt; print(\"Time taken to perform bitwise &amp; :\",timeit.timeit('a = 0b0000000001111111111100000001111111111; b = 0b0000000001111111111100000001111111111; c = a&amp;b',number=10000))\n\n&gt;&gt;&gt; Time taken to perform bitwise &amp; : 0.0004252859980624635\n</code></pre>\n\n<p>This is much quicker than numpy </p>\n\n<p>I'm using numpy because it allows to find the indexes where it has 1's, but the numpy.all operator is much slower.</p>\n\n<p>My original data will be array list just like in first case. Will there be any repurcusion if I convert this list into a binary number and then perform the computation like in the second case?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 3, "creation_date": 1537387763, "post_id": 52413470, "comment_id": 91770743, "body": "<code>new_list = [item if not item.startswith(&#39;above&#39;) else &#39;above&#39; for item in listX]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1537387831, "post_id": 52413499, "comment_id": 91770769, "body": "I prefer my unnecessarily complicated logic :P"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537387888, "post_id": 52413499, "comment_id": 91770792, "body": "@roganjosh Sorry for collision: it&#39;s basically the same answer."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537387929, "post_id": 52413499, "comment_id": 91770800, "body": "No collision. If I wanted to answer, I would have. I was also being sarcastic, you have my upvote :) For some reason, my first thought was a backwards approach"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 3, "creation_date": 1537387968, "post_id": 52413499, "comment_id": 91770815, "body": "and the second part of the OP&#39;s Q would be then <code>[x for x in listX if not x.startswith(&#39;above&#39;)]</code> I guess"}, {"owner": {"reputation": 625, "user_id": 2648504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e9b0ecb553b0513c62340c8512ab0e8?s=128&d=identicon&r=PG", "display_name": "yodish", "link": "https://stackoverflow.com/users/2648504/yodish"}, "edited": false, "score": 0, "creation_date": 1537387998, "post_id": 52413499, "comment_id": 91770831, "body": "Thanks much, is removing it from the list a simple tweak of this?"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1537388042, "post_id": 52413499, "comment_id": 91770850, "body": "@JonClements Oh, I did not notice the last question after having to read the first part of the question."}], "tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": true, "score": 6, "last_activity_date": 1537388159, "last_edit_date": 1537388159, "creation_date": 1537387799, "answer_id": 52413499, "question_id": 52413470, "link": "https://stackoverflow.com/questions/52413470/find-a-piece-of-a-string-in-a-list-and-replace/52413499#52413499", "title": "find a piece of a string in a list and replace", "body": "<pre><code>['above' if x.startswith('above') else x for x in listX]\n</code></pre>\n\n<p>If you would like to remove all strings that start with <code>'above'</code> then you can do something like what @JonClements mentioned in comments:</p>\n\n<pre><code>[x for x in listX if not x.startswith('above')]\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>from itertools import filterfalse\nlist(filterfalse(lambda x: x.startswith('above'), listX))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1537388509, "post_id": 52413650, "comment_id": 91771028, "body": "<code>.startswith()</code> is a much cleaner approach IMO but yes, this would work"}, {"owner": {"reputation": 625, "user_id": 2648504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e9b0ecb553b0513c62340c8512ab0e8?s=128&d=identicon&r=PG", "display_name": "yodish", "link": "https://stackoverflow.com/users/2648504/yodish"}, "edited": false, "score": 0, "creation_date": 1537388569, "post_id": 52413650, "comment_id": 91771050, "body": "This could help me figure out something else i&#39;m working on. Would <code>splitting[1]</code> return &#39;t&#39;, in this case?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 625, "user_id": 2648504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e9b0ecb553b0513c62340c8512ab0e8?s=128&d=identicon&r=PG", "display_name": "yodish", "link": "https://stackoverflow.com/users/2648504/yodish"}, "edited": false, "score": 0, "creation_date": 1537388650, "post_id": 52413650, "comment_id": 91771081, "body": "@yodish yes, it splits on whitespace and gives a list"}], "tags": [], "owner": {"reputation": 51, "user_id": 10387830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BlWZp.jpg?s=128&g=1", "display_name": "vitoriahmc", "link": "https://stackoverflow.com/users/10387830/vitoriahmc"}, "is_accepted": false, "score": 3, "last_activity_date": 1537388386, "creation_date": 1537388386, "answer_id": 52413650, "question_id": 52413470, "link": "https://stackoverflow.com/questions/52413470/find-a-piece-of-a-string-in-a-list-and-replace/52413650#52413650", "title": "find a piece of a string in a list and replace", "body": "<p>I'm not sure if this is what you are looking for, but this worked for me, it printed:</p>\n\n<p>['color green', 'shape circle', 'whatever you want']</p>\n\n<pre><code>listX = ['color green', 'shape circle', 'above t']\n\nfor i in range(len(listX)):\n\n    splitting = listX[i].split(' ')\n    if splitting[0] == 'above':\n        listX[i] = 'whatever you want'\n\nprint(listX)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 1, "creation_date": 1537388996, "post_id": 52413692, "comment_id": 91771234, "body": "This is not bad for the first part of the question: modifying the list in place."}], "tags": [], "owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "is_accepted": false, "score": 1, "last_activity_date": 1537390543, "last_edit_date": 1537390543, "creation_date": 1537388631, "answer_id": 52413692, "question_id": 52413470, "link": "https://stackoverflow.com/questions/52413470/find-a-piece-of-a-string-in-a-list-and-replace/52413692#52413692", "title": "find a piece of a string in a list and replace", "body": "<p>Another alternative:</p>\n\n<pre><code>for idx, item in enumerate(listX):\n    if item.startswith('above'):\n        listX[idx] = 'above'\n</code></pre>\n\n<p>After that, we will have one or more <code>'above'</code>s, then we can remove them all.</p>\n\n<pre><code>while listX.count('above') &gt; 0:\n    listX.remove('above')\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 2648504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e9b0ecb553b0513c62340c8512ab0e8?s=128&d=identicon&r=PG", "display_name": "yodish", "link": "https://stackoverflow.com/users/2648504/yodish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 52413499, "answer_count": 3, "score": 1, "last_activity_date": 1537390543, "creation_date": 1537387636, "last_edit_date": 1537387776, "question_id": 52413470, "link": "https://stackoverflow.com/questions/52413470/find-a-piece-of-a-string-in-a-list-and-replace", "title": "find a piece of a string in a list and replace", "body": "<p>I've come across posts that demonstrate how to find a string in a list and replace, but i'm having difficulty generalizing the search to only a piece of a string.</p>\n\n<p>For example</p>\n\n<pre><code>listX = ['color green', 'shape circle', 'above t']\n</code></pre>\n\n<p>I'd like to find all strings that begin with 'above', i've been able to do some minimal searching of a list using <code>any</code> and leaving the following space <code>'above '</code> but I can't figure out how to replace what I find.</p>\n\n<p>Output i'm trying to create would be:</p>\n\n<pre><code>['color green', 'shape circle', 'above']\n</code></pre>\n\n<p>I'd also like to figure out how to remove a string that begins with 'above' from the list all together.</p>\n"}, {"tags": ["python", "discord.py"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1537387700, "post_id": 52413417, "comment_id": 91770723, "body": "How are you running your bot?  I don&#39;t see anything in your code that would cause that."}, {"owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1537388060, "post_id": 52413417, "comment_id": 91770862, "body": "I just run it normally, like with every other code I run. But it only appears when discord is imported. If I # the import or just simply delete it, it doesn&#39;t appear but rahter gives an error and saying that much of the code is not defined, which makes sense, of course, &#39;cause discord isn&#39;t imported."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1537388489, "post_id": 52413417, "comment_id": 91771021, "body": "If you open an interactive session and just <code>import discord</code>, do you see the prompt then?"}, {"owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1537388956, "post_id": 52413417, "comment_id": 91771221, "body": "I am not entirely sure what an interactive session means. Sorry, I&#39;m a little new."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1537389017, "post_id": 52413417, "comment_id": 91771242, "body": "The REPL you get when you run <code>python -i</code>"}, {"owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1537389247, "post_id": 52413417, "comment_id": 91771353, "body": "If I just write &#39;import discord&#39;, and press enter, it just moves on to the next line."}], "owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537387569, "creation_date": 1537387351, "last_edit_date": 1537387569, "question_id": 52413417, "link": "https://stackoverflow.com/questions/52413417/repl-asks-for-my-clipboard-when-running-discord-py-code", "title": "REPL asks for my clipboard when running discord.py code", "body": "<p>Whenever I try to run my script in which discord is imported, my REPL or any other interpreter asks me what I want on my clipboard.</p>\n\n<p>This is my code:</p>\n\n<pre><code>import discord\nfrom discord.ext import commands\nfrom discord.ext.commands import Bot\nimport asyncio\n\nClient = discord.Client()\nbot = commands.Bot(command_prefix=\"cazo.\")\n\n@bot.event\nasync def on_ready():\n        print(bot.user.name + \" er klar til at bolle jer allesammen!\")\n\n@bot.command()\nasync def hello():\n        await bot.say(\"Goddag, fede mongol.\")\n\n@bot.command(pass_context = True)\nasync def cazo(ctx):\n        await bot.say(\"Cazo er jo den m\u00e6gtigste person der findes.\")\n\n\n\nbot.run(\"TOKEN\")\n</code></pre>\n\n<p>When I run it, the REPL shows</p>\n\n<pre><code>What do you want on your clipboard? \n</code></pre>\n\n<p>However, whenever I press enter, then it continues and the bot works fine. How can I make it stop?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 897, "user_id": 7653274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea47e296dbaefc1a0ff7789d9170c028?s=128&d=identicon&r=PG&f=1", "display_name": "MCO", "link": "https://stackoverflow.com/users/7653274/mco"}, "edited": false, "score": 2, "creation_date": 1537389464, "post_id": 52413407, "comment_id": 91771442, "body": "as much of a meme as it is - in case you plan to do more than just that with regex (read: parse html with regex), DON&#39;T. use something like beautifulsoup instead."}, {"owner": {"reputation": 5119, "user_id": 4276647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a929f6537e73d7cc1ec7b533032350?s=128&d=identicon&r=PG&f=1", "display_name": "Kurtis Rader", "link": "https://stackoverflow.com/users/4276647/kurtis-rader"}, "edited": false, "score": 0, "creation_date": 1537422068, "post_id": 52413407, "comment_id": 91779680, "body": "Never, ever, use a regex to parse HTML. Unless you can guarantee the HTML is trivial it is essentially impossible to use a regex to reliably parse it. Like MCO said in their comment use package BeautifulSoup or equivalent."}, {"owner": {"reputation": 19, "user_id": 8011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1110225a5123f36147f3d07b5e147d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Erwemi", "link": "https://stackoverflow.com/users/8011382/a-erwemi"}, "edited": false, "score": 0, "creation_date": 1537445785, "post_id": 52413407, "comment_id": 91792658, "body": "Agree with you, BeautifulSoup is a good choice to do that, but for other reasons, I need to do that with regex -:). I am done with that and used only regex and worked well -"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 8011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1110225a5123f36147f3d07b5e147d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Erwemi", "link": "https://stackoverflow.com/users/8011382/a-erwemi"}, "edited": false, "score": 0, "creation_date": 1537389693, "post_id": 52413459, "comment_id": 91771549, "body": "this is not going to work because it will bring all the divs  we need one that just looks for div with a certain class &quot;media-story&quot;"}, {"owner": {"reputation": 1435, "user_id": 6123961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hvp2R.png?s=128&g=1", "display_name": "L&#233;opold Houdin", "link": "https://stackoverflow.com/users/6123961/l%c3%a9opold-houdin"}, "reply_to_user": {"reputation": 19, "user_id": 8011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1110225a5123f36147f3d07b5e147d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Erwemi", "link": "https://stackoverflow.com/users/8011382/a-erwemi"}, "edited": false, "score": 0, "creation_date": 1537390067, "post_id": 52413459, "comment_id": 91771708, "body": "That was not clear from the question. Then, you should change <code>&#39;&lt;div.*&gt;(.*)&lt;\\&#47;div&gt;&#39;</code> to <code>&#39;&lt;div class=\\&quot;media-story\\&quot;&gt;(.*)&lt;\\&#47;div&gt;&#39;</code> (assuming you don&#39;t have anything like <code>id</code>s or other stuff in your <code>div</code>s). Have you tried playing with the link I provided you?"}, {"owner": {"reputation": 19, "user_id": 8011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1110225a5123f36147f3d07b5e147d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Erwemi", "link": "https://stackoverflow.com/users/8011382/a-erwemi"}, "edited": false, "score": 0, "creation_date": 1537391059, "post_id": 52413459, "comment_id": 91772092, "body": "seems working on webpage tester - I will update you later -- thank you"}, {"owner": {"reputation": 19, "user_id": 8011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1110225a5123f36147f3d07b5e147d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Erwemi", "link": "https://stackoverflow.com/users/8011382/a-erwemi"}, "edited": false, "score": 0, "creation_date": 1537394172, "post_id": 52413459, "comment_id": 91773146, "body": "Hi Leopold  did not work for me when i do it for the full string  <a href=\"https://regex101.com/r/gcp2pG/1\" rel=\"nofollow noreferrer\">regex101.com/r/gcp2pG/1</a>"}, {"owner": {"reputation": 5119, "user_id": 4276647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a929f6537e73d7cc1ec7b533032350?s=128&d=identicon&r=PG&f=1", "display_name": "Kurtis Rader", "link": "https://stackoverflow.com/users/4276647/kurtis-rader"}, "edited": false, "score": 0, "creation_date": 1537422100, "post_id": 52413459, "comment_id": 91779688, "body": "As I wrote in my comment to the question you should never, ever,  use a regex to parse HTML."}], "tags": [], "owner": {"reputation": 1435, "user_id": 6123961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hvp2R.png?s=128&g=1", "display_name": "L&#233;opold Houdin", "link": "https://stackoverflow.com/users/6123961/l%c3%a9opold-houdin"}, "is_accepted": false, "score": 0, "last_activity_date": 1537388282, "last_edit_date": 1537388282, "creation_date": 1537387585, "answer_id": 52413459, "question_id": 52413407, "link": "https://stackoverflow.com/questions/52413407/python-regex-to-find-div-tag-content/52413459#52413459", "title": "Python regex to find div tag content", "body": "<p>The following should do the trick:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import re\n\ndata = '&lt;div class=\"media-story\"&gt;content and content&lt;/div&gt;'\nmatch = re.search(r'&lt;div.*&gt;(.*)&lt;\\/div&gt;', data)\nif match:\n    print match.group(1)\n</code></pre>\n\n<p>If you want to play around: <a href=\"https://regex101.com/r/wTosNH/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/wTosNH/1</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2151, "user_id": 5456522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bc4131ea322b924fe4edd271f572382?s=128&d=identicon&r=PG&f=1", "display_name": "The Scientific Method", "link": "https://stackoverflow.com/users/5456522/the-scientific-method"}, "is_accepted": false, "score": 0, "last_activity_date": 1537389337, "last_edit_date": 1537389337, "creation_date": 1537387938, "answer_id": 52413530, "question_id": 52413407, "link": "https://stackoverflow.com/questions/52413407/python-regex-to-find-div-tag-content/52413530#52413530", "title": "Python regex to find div tag content", "body": "<p>use non-capturing group to capture <code>&gt;</code> and <code>&lt;</code> and ignore in a match, \nmatch whatever between them.</p>\n\n<pre><code>regex = '(?:&gt;).*(?:&lt;)'\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/I4bIJb/1\" rel=\"nofollow noreferrer\">demo at regex101 </a></p>\n\n<p>or using look around</p>\n\n<pre><code>regex = (?&lt;=&gt;).*(?=&lt;)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1110225a5123f36147f3d07b5e147d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Erwemi", "link": "https://stackoverflow.com/users/8011382/a-erwemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1161, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1537407199, "creation_date": 1537387313, "last_edit_date": 1537407199, "question_id": 52413407, "link": "https://stackoverflow.com/questions/52413407/python-regex-to-find-div-tag-content", "title": "Python regex to find div tag content", "body": "<p>What pattern do you write to find the content between the tags?</p>\n\n<pre><code>inputData = '&lt;div class=\"media-story\"&gt;content and content&lt;/div&gt;'\npattern = '&lt;div ???&gt;(.*?)&lt;/div&gt;'\n\npattern_matcher = re.compile(pattern)\n</code></pre>\n"}, {"tags": ["python", "serialization", "keras", "constants"], "comments": [{"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1537391159, "post_id": 52413371, "comment_id": 91772130, "body": "Is it always a constant? For example is it always 5 for all the inputs of the model? Why don&#39;t you use a Lambda layer instead?"}, {"owner": {"reputation": 27413, "user_id": 345660, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5bc3aeec09464c41078ccafacfa7832b?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/345660/zach"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1537392005, "post_id": 52413371, "comment_id": 91772438, "body": "@today It is always a constant.  I want a model that always adds 5 to the prediction, no matter the input."}, {"owner": {"reputation": 27413, "user_id": 345660, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5bc3aeec09464c41078ccafacfa7832b?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/345660/zach"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1537392131, "post_id": 52413371, "comment_id": 91772479, "body": "Another approach I could take would be to add an input to the model that is always 5, but that means I have to allocate a pretty large numpy array.  The approach I used above seems a little more elegant, except for the save/load issue."}], "answers": [{"comments": [{"owner": {"reputation": 27413, "user_id": 345660, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5bc3aeec09464c41078ccafacfa7832b?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/345660/zach"}, "edited": false, "score": 0, "creation_date": 1537393023, "post_id": 52414413, "comment_id": 91772772, "body": "What if I want to add a different value to each input, e.g. 5 to the first, and 8 to the second?"}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "reply_to_user": {"reputation": 27413, "user_id": 345660, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5bc3aeec09464c41078ccafacfa7832b?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/345660/zach"}, "edited": false, "score": 0, "creation_date": 1537393647, "post_id": 52414413, "comment_id": 91772993, "body": "@Zach Note that the input shape of your model is <code>(1,)</code>, so it means that each training sample consists of one sample. Therefore there is no second element. However, I have added an update to my answer. Take a look at to see if it answers your question."}, {"owner": {"reputation": 27413, "user_id": 345660, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5bc3aeec09464c41078ccafacfa7832b?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/345660/zach"}, "edited": false, "score": 0, "creation_date": 1537393793, "post_id": 52414413, "comment_id": 91773031, "body": "that&#39;s very simple and elegant.  Thank you!"}], "tags": [], "owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "is_accepted": true, "score": 1, "last_activity_date": 1537393869, "last_edit_date": 1537393869, "creation_date": 1537392387, "answer_id": 52414413, "question_id": 52413371, "link": "https://stackoverflow.com/questions/52413371/save-load-a-keras-model-with-constants/52414413#52414413", "title": "Save/load a keras model with constants", "body": "<p>Since as you mentioned it is always a constant, it would not make sense to define a separate Input layer for it; specially considering that it is not an input of your model. I suggest you to use a <a href=\"https://keras.io/layers/core/#lambda\" rel=\"nofollow noreferrer\"><code>Lambda</code></a> layer instead:</p>\n\n<pre><code>import numpy as np\nfrom keras.layers import Input, Lambda\nfrom keras.models import Model, load_model\n\ndef add_five(a):\n    return a + 5\n\ninputs = Input(shape=(1,))\noutput = Lambda(add_five)(inputs)\n\nmodel = Model(inputs, output)\nmodel.compile(loss='mse', optimizer='adam')\n\nX = np.array([1,2,3,4,5,6,7,8,9,10])\nmodel.predict(X)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>array([[ 6.],\n       [ 7.],\n       [ 8.],\n       [ 9.],\n       [10.],\n       [11.],\n       [12.],\n       [13.],\n       [14.],\n       [15.]], dtype=float32)\n</code></pre>\n\n<p>And there would be no problem when you save and reload the model since the <code>add_five</code> function has been stored in the model file.</p>\n\n<p><strong>Update:</strong> you can extend this to the case where each input sample consists of more than one element. For example, if the input shape is <code>(2,)</code> and you want to add 5 to the first element and 10 to the second element of each sample, you can easily modify the <code>add_five</code> function and redefine it like this:</p>\n\n<pre><code>def add_constants(a):\n    return a + [5, 10]  \n\n# ... the same as above (just change the function name and input shape)\n\nX = np.array([1,2,3,4,5,6,7,8,9,10]).reshape(5, 2)\nmodel.predict(X)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code># X\narray([[ 1,  2],\n       [ 3,  4],\n       [ 5,  6],\n       [ 7,  8],\n       [ 9, 10]])\n\n# predictions\narray([[ 6., 12.],\n       [ 8., 14.],\n       [10., 16.],\n       [12., 18.],\n       [14., 20.]], dtype=float32)\n</code></pre>\n"}], "owner": {"reputation": 27413, "user_id": 345660, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5bc3aeec09464c41078ccafacfa7832b?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/345660/zach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 2, "accepted_answer_id": 52414413, "answer_count": 1, "score": 1, "last_activity_date": 1537394278, "creation_date": 1537387109, "last_edit_date": 1537394278, "question_id": 52413371, "link": "https://stackoverflow.com/questions/52413371/save-load-a-keras-model-with-constants", "title": "Save/load a keras model with constants", "body": "<p>I have a Keras model where I'd like to add a constant to the predictions.  After some googling, I've ended up with the following code, which does exactly what I want:</p>\n\n<pre><code>import numpy as np\nfrom keras.layers import Input, Add\nfrom keras.backend import variable\nfrom keras.models import Model, load_model\n\ninputs = Input(shape=(1,))\nadd_in = Input(tensor=variable([[5]]), name='add')\noutput = Add()([inputs, add_in])\n\nmodel = Model([inputs, add_in], output)\nmodel.compile(loss='mse', optimizer='adam')\n\nX = np.array([1,2,3,4,5,6,7,8,9,10])\nmodel.predict(X)\n</code></pre>\n\n<p>However, if I save and load this model, Keras seems to lose track of the constant:</p>\n\n<pre><code>p = 'k_model.hdf5'\nmodel.save(p)\ndel model\nmodel2 = load_model(p)\nmodel2.predict(X)\n</code></pre>\n\n<p>Which returns:</p>\n\n<blockquote>\n  <p>Error when checking model : the list of Numpy arrays that you are\n  passing to your model is not the size the model expected. Expected to\n  see 2 array(s), but instead got the following list of 1 arrays:</p>\n</blockquote>\n\n<p>How do I include the constants when saving/loading the Keras model?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1537387268, "post_id": 52413357, "comment_id": 91770546, "body": "the last digit in both of your examples is <code>8</code>, are you trying to sort them alphabetically or numerically?"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537387309, "post_id": 52413357, "comment_id": 91770565, "body": "I think he meant by the last number, comparing 1438 to 1218"}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "reply_to_user": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537387433, "post_id": 52413357, "comment_id": 91770617, "body": "@vash_the_stampede - Comparing how? alphabetically or numerically? What should come first with 107 and 11?"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 1, "creation_date": 1537387570, "post_id": 52413357, "comment_id": 91770678, "body": "@Sayse well his response has them 1408 first and is wrong so if you have 107 and 11, I would say he wants 11 first 107 second"}], "answers": [{"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 2, "last_activity_date": 1537387445, "last_edit_date": 1537387445, "creation_date": 1537387250, "answer_id": 52413397, "question_id": 52413357, "link": "https://stackoverflow.com/questions/52413357/sorting-a-list-of-string-based-on-digit/52413397#52413397", "title": "Sorting a list of string based on digit", "body": "<p>You can use a regex to find the last occurrence of digits surrounded by single quotes in the key argument of <code>sorted</code>:</p>\n\n<pre><code>import re\n\nsorted(line,key=lambda x: int(re.findall(\"'(\\d+)'\", x)[-1]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 2886057, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1c65bb3931b7c509992277b9afc30e1?s=128&d=identicon&r=PG&f=1", "display_name": "user2886057", "link": "https://stackoverflow.com/users/2886057/user2886057"}, "is_accepted": false, "score": 0, "last_activity_date": 1537387264, "creation_date": 1537387264, "answer_id": 52413399, "question_id": 52413357, "link": "https://stackoverflow.com/questions/52413357/sorting-a-list-of-string-based-on-digit/52413399#52413399", "title": "Sorting a list of string based on digit", "body": "<p>Use python regex (<a href=\"https://docs.python.org/3.6/library/re.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3.6/library/re.html</a>) to extract the integer value at the end of the strings, then you can create a function which takes your string as an argument, and returns the integer.</p>\n\n<p>Finally, used a lambda to the key argument to the sorted method to pass in the function. Python will used your function as the key to sort with. (like this: <a href=\"https://stackoverflow.com/questions/8966538/syntax-behind-sortedkey-lambda\">Syntax behind sorted(key=lambda: ...)</a> )</p>\n"}, {"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 1, "last_activity_date": 1537387378, "creation_date": 1537387378, "answer_id": 52413423, "question_id": 52413357, "link": "https://stackoverflow.com/questions/52413357/sorting-a-list-of-string-based-on-digit/52413423#52413423", "title": "Sorting a list of string based on digit", "body": "<p>You could extract the sub-string from the last comma onwards and then extract the digits from that string.</p>\n\n<pre><code>sorted(line, key=lambda s: int(''.join(c for c in s.split(',')[-1] if c.isdigit())))\n</code></pre>\n\n<hr>\n\n<p>giving</p>\n\n<pre><code>[\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','B10_Stat_TRXA_FCC'),'port', '1218');\", \n\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','Az_INS3_RawValidity'),'port', '1438');\"]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537387808, "post_id": 52413457, "comment_id": 91770764, "body": "This is what I was going for as well, but we would have to assume it will always be 4 digits correct?"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537387968, "post_id": 52413457, "comment_id": 91770816, "body": "Oh you are right, it will always have 3 characters at the end, I was thinking your index was based off the width of the numbers but yes it will always be that index"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "edited": false, "score": 0, "creation_date": 1537388070, "post_id": 52413457, "comment_id": 91770868, "body": "<code>new = sorted(line, key=lambda x: int((x.split()[-1]).split(&quot;&#39;&quot;)[1]))</code> I went similar route forgetting the index will always be <code>[1:-3]</code>"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1537388154, "last_edit_date": 1537388154, "creation_date": 1537387577, "answer_id": 52413457, "question_id": 52413357, "link": "https://stackoverflow.com/questions/52413357/sorting-a-list-of-string-based-on-digit/52413457#52413457", "title": "Sorting a list of string based on digit", "body": "<p>Assuming your data stays in that format:</p>\n\n<pre><code>&gt;&gt;&gt; sorted(line, key=lambda x: int(x.split()[-1][1:-3]))\n[\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','B10_Stat_TRXA_FCC'),'port', '1218');\",\n \"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','Az_INS3_RawValidity'),'port', '1438');\"]\n</code></pre>\n\n<p>I takes each line, splits it, and then takes the last item (e.g. <code>\"'1218');\"</code> for the first line).  It then strips the first character (<code>'</code>) and the last three (<code>');</code>) via slice notation.  Finally, it converts this text value to an integer and uses it as a key for sorting.</p>\n\n<p>A regex solution is more general.</p>\n\n<pre><code>sorted(line, key=lambda x: int(re.findall(r'(\\d+)', x.split()[-1])[0]))\n</code></pre>\n\n<p>This will fail if the last item in the split does not contain any digits.</p>\n"}, {"tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": false, "score": 0, "last_activity_date": 1537388026, "creation_date": 1537388026, "answer_id": 52413555, "question_id": 52413357, "link": "https://stackoverflow.com/questions/52413357/sorting-a-list-of-string-based-on-digit/52413555#52413555", "title": "Sorting a list of string based on digit", "body": "<p>Not as good as @Alexander response, same result but extra step</p>\n\n<pre><code>new = sorted(line, key=lambda x: int((x.split()[-1]).split(\"'\")[1]))\n</code></pre>\n\n<blockquote>\n<pre><code>(xenial)vash@localhost:~/python/stack_overflow$ python3.7 list.py\n\n[\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name'\n,'B10_Stat_TRXA_FCC'),'port', '1218');\", \n\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name',\n'Az_INS3_RawValidity'),'port', '1438');\"]\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 52413423, "answer_count": 5, "score": -2, "last_activity_date": 1537388154, "creation_date": 1537387048, "last_edit_date": 1537387648, "question_id": 52413357, "link": "https://stackoverflow.com/questions/52413357/sorting-a-list-of-string-based-on-digit", "title": "Sorting a list of string based on digit", "body": "<p>I have a list of string</p>\n\n<pre><code>line = [\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','B10_Stat_TRXA_FCC'),'port', '1218');\",\n\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','Az_INS3_RawValidity'),'port', '1438');\"]\n</code></pre>\n\n<p>I am trying to sort is based on last digit 1438 and 1218\nsorting numerically ..'1438' should be treated as number</p>\n\n<p>below lines doesn't give me expected result  </p>\n\n<pre><code>line = sorted(line)\n\n[\"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','Az_INS3_RawValidity'),'port', '1438');\",\n \"set_param(find_system('Fccroot_to_ICD','RegExp','on','FindAll','on','Name','B10_Stat_TRXA_FCC'),'port', '1218');\"]\n</code></pre>\n"}, {"tags": ["python", "variables"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 1, "creation_date": 1537387024, "post_id": 52413337, "comment_id": 91770442, "body": "Please add error as well by editing your original post"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2669997"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537387071, "post_id": 52413337, "comment_id": 91770467, "body": "Traceback (most recent call last):   File &quot;var.py&quot;, line 35, in &lt;module&gt;     NPy_status = roomControl(&#39;Niamh&#39;, NSW, Nthermostat, Ntemp)   File &quot;var.py&quot;, line 16, in roomControl     if (status == 1 and previousStatus == 0): UnboundLocalError: local variable &#39;status&#39; referenced before assignment"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1537387278, "post_id": 52413337, "comment_id": 91770551, "body": "Because you assign to <code>previousStatus</code> in the function, it is considered by Python to be a local variable. And you are trying to use it before you have assigned it a value. Presumably you want to use the global variable; in this case, add <code>global previousStatus</code> at the beginning of the function, just after the <code>def</code> line."}, {"owner": {"reputation": 5135, "user_id": 5506894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9jSK1.jpg?s=128&g=1", "display_name": "Denziloe", "link": "https://stackoverflow.com/users/5506894/denziloe"}, "edited": false, "score": 0, "creation_date": 1537387307, "post_id": 52413337, "comment_id": 91770564, "body": "What have you tried in order to narrow down the error? 95% of this code seems irrelevant, so why post it? You should learn how to cut down your code without losing the error. This will help you understand the error better."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1537387471, "post_id": 52413337, "comment_id": 91770638, "body": "What kindall said. And the same applies to <code>status</code>. So the names <code>previousStatus</code> &amp; <code>status</code> inside <code>roomControl</code> are local to <code>roomControl</code>, they do not refer to the objects with the same names outside the function."}], "answers": [{"tags": [], "owner": {"reputation": 562, "user_id": 9002568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21015a00f084d658638c454ce6cd1feb?s=128&d=identicon&r=PG&f=1", "display_name": "kur ag", "link": "https://stackoverflow.com/users/9002568/kur-ag"}, "is_accepted": false, "score": 2, "last_activity_date": 1537387467, "creation_date": 1537387467, "answer_id": 52413443, "question_id": 52413337, "link": "https://stackoverflow.com/questions/52413337/python-variable-not-defined-within-function/52413443#52413443", "title": "python variable not defined within function", "body": "<p>This is related global, local variable types. You can find here <a href=\"https://www.programiz.com/python-programming/global-keyword\" rel=\"nofollow noreferrer\">https://www.programiz.com/python-programming/global-keyword</a> explanation. </p>\n\n<p>You need only define \"status\" as a global. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2669997"}, "edited": false, "score": 0, "creation_date": 1537387807, "post_id": 52413463, "comment_id": 91770762, "body": "Great this works and is what I needed. I was trying global variable but was incorrectly setting it outside the function. Thank you for your help"}, {"owner": {"reputation": 5135, "user_id": 5506894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9jSK1.jpg?s=128&g=1", "display_name": "Denziloe", "link": "https://stackoverflow.com/users/5506894/denziloe"}, "edited": false, "score": 1, "creation_date": 1537388066, "post_id": 52413463, "comment_id": 91770865, "body": "What you &quot;need&quot; is to understand variable scope, otherwise you will experience hundreds more errors like these and not know why."}, {"owner": {"reputation": 127, "user_id": 9081715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d93ef3074ef2bc2320d65c74b3e2b67?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/9081715/william"}, "edited": false, "score": 0, "creation_date": 1537388144, "post_id": 52413463, "comment_id": 91770885, "body": "Glad I could help! I had this problem about a year ago, and setting the variable as global outside the function worked for me, but people all over SO said it was a bad idea:) It was a really short bit of code though, so it wasn&#39;t a big deal."}], "tags": [], "owner": {"reputation": 127, "user_id": 9081715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d93ef3074ef2bc2320d65c74b3e2b67?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/9081715/william"}, "is_accepted": true, "score": 1, "last_activity_date": 1537387608, "creation_date": 1537387608, "answer_id": 52413463, "question_id": 52413337, "link": "https://stackoverflow.com/questions/52413337/python-variable-not-defined-within-function/52413463#52413463", "title": "python variable not defined within function", "body": "<p>A solution is to bring in <code>status</code> as a global. </p>\n\n<pre><code>status = 0\npreviousStatus = 0\n# other code\ndef roomControl(name, demand, thermostat, roomTemp):\n    global status\n    global previousStatus\n    #  This will bring in both variables to be edited within the function\n</code></pre>\n\n<p>Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 5135, "user_id": 5506894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9jSK1.jpg?s=128&g=1", "display_name": "Denziloe", "link": "https://stackoverflow.com/users/5506894/denziloe"}, "is_accepted": false, "score": 1, "last_activity_date": 1537388032, "creation_date": 1537388032, "answer_id": 52413560, "question_id": 52413337, "link": "https://stackoverflow.com/questions/52413337/python-variable-not-defined-within-function/52413560#52413560", "title": "python variable not defined within function", "body": "<p>You should learn to cut out bits of your code and simplify it without losing the error. That way you will nail down the error.</p>\n\n<p>Ultimately you will end up with code like this:</p>\n\n<pre><code>status = 0\n\ndef f():\n    print(status)\n\nf()\nOut: 0\n</code></pre>\n\n<p>As expected, the function can't find <code>status</code>, so it looks in the global scope, finds it, and prints it.</p>\n\n<pre><code>status = 0\n\ndef f():\n    status = 1\n    print(status)\n\nf()\nOut: 1\n</code></pre>\n\n<p>Again as expected. We've defined a local variable <code>status</code> for <code>f</code>, so <code>f</code> just uses that when it prints.</p>\n\n<pre><code>status = 0\n\ndef f():\n    print(status)\n    status = 1\n\nf()\nUnboundLocalError: local variable 'status' referenced before assignment\n</code></pre>\n\n<p>Now it becomes clear why there is an error. The only difference from the second example is that we've swapped the order so that <code>status</code> is defined in <code>f</code> only after it is used in <code>print</code>, and the only difference from the first example is that we define <code>status</code> inside <code>f</code>. So this is the problem: when we define a variable inside a function -- anywhere inside a function -- Python decides that that variable must be local to the function. So when it hits the <code>print</code> function, it looks for a local variable <code>status</code>, but it hasn't been defined yet. Hence the error. Similar to if you ran this code:</p>\n\n<pre><code>print(status)\nstatus = 1\nNameError: name 'status' is not defined\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2669997"}, "edited": false, "score": 0, "creation_date": 1537388810, "post_id": 52413607, "comment_id": 91771156, "body": "Hi mad, yes this works as well and I understand what you are doing. This does seem more complex for what I am doing. The variables I am using will only be used in the roomControl function so why is using the global variable such a problem"}], "tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 1, "last_activity_date": 1537388220, "creation_date": 1537388220, "answer_id": 52413607, "question_id": 52413337, "link": "https://stackoverflow.com/questions/52413337/python-variable-not-defined-within-function/52413607#52413607", "title": "python variable not defined within function", "body": "<p>Avoid implementing a solution where you need to access the Global variables directly. One way is to change to a better data structure where possible.\nYou can define your statuses as a <code>list</code> or <code>dict</code> (I'd prefer dict) and you can access them directly inside the function without passing them. Here is the small example\nto make things bit more clear</p>\n\n<pre><code>d={'status':0, 'prev_status':0} # Intialize the dict\ndef myfunc():\n    d['status']=5 # make modifications\nmyfunc()\nprint(d) # {'status': 5, 'prev_status': 0}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2669997"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3315, "favorite_count": 0, "accepted_answer_id": 52413463, "answer_count": 4, "score": -3, "last_activity_date": 1537388220, "creation_date": 1537386951, "question_id": 52413337, "link": "https://stackoverflow.com/questions/52413337/python-variable-not-defined-within-function", "title": "python variable not defined within function", "body": "<p>I need some help with python variables. I have a sketch that sends variables to a function called roomControl. If during this function the status has changed from a previous time then I want it to do something. At present it should printout the variable values. </p>\n\n<p>I am getting the error that the status variable has not been assigned and I believe this is due to it being set outside the function. But if I set the variable within the function then this will override the functions control of these variables. (hope this makes sense)</p>\n\n<p>My script is below but basicly if status changes then print out something is what I am trying to achieve</p>\n\n<pre><code>import MySQLdb\n\nstatus = 0\npreviousStatus = 0\n\nconnSolar = MySQLdb.connect(\"localhost\", \"######\", \"#######\", \"######\") \ncursSolar = connSolar.cursor()\n\ndef roomControl(name, demand, thermostat, roomTemp):\n    if demand == 1 and thermostat &gt; roomTemp:\n        status = 1\n    if demand == 1 and thermostat &lt; roomTemp:\n        status = 0\n    if demand == 0:\n        status = 0\n    if (status == 1 and previousStatus == 0):\n        print(\"Room: %s, Heating demand = %s, Thermostate = %s, Room Temp = %s, Status = %s\") % (name, demand, thermostat, roomTemp, status)\n        print(\"\")\n    previousStatus = status\n    return (status)     \n\nwhile 1:\n    Ntemp = 25\n    try:\n        cursSolar.execute (\"SELECT * FROM roomHeatingControl\")\n        connSolar.commit()\n        for reading in cursSolar.fetchall():\n            Nthermostat = reading[6]\n            NSW = reading[7]\n    except (MySQLdb.Error, MySQLdb.Warning) as e:\n        print (e)   \n    NPy_status = roomControl('Niamh', NSW, Nthermostat, Ntemp)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 1, "creation_date": 1537387010, "post_id": 52413332, "comment_id": 91770435, "body": "it&#39;s a good idea to provide a sample data so it&#39;s easier for people to help you, can you do that?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1537387254, "post_id": 52413332, "comment_id": 91770539, "body": "Also note that chained assignment should be avoided.  Have a look at the first red box in the attached link. <a href=\"https://pandas.pydata.org/pandas-docs/stable/indexing.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/indexing.html</a>"}, {"owner": {"reputation": 8101, "user_id": 9199167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BqdLV.jpg?s=128&g=1", "display_name": "Max Vollmer", "link": "https://stackoverflow.com/users/9199167/max-vollmer"}, "edited": false, "score": 0, "creation_date": 1537387422, "post_id": 52413332, "comment_id": 91770612, "body": "Just letting you know that it&#39;s very welcome to add questions that are duplicates, but differently worded from questions we already have. If that is the case, we can close it as duplicate with a link to the appropriate question, which will point you and others who might use similar wording to a solution. (Not saying that this is a dupe, I actually don&#39;t know.)"}, {"owner": {"reputation": 492, "user_id": 8107620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9DqHA.jpg?s=128&g=1", "display_name": "AlCorreia", "link": "https://stackoverflow.com/users/8107620/alcorreia"}, "edited": false, "score": 0, "creation_date": 1537393442, "post_id": 52413332, "comment_id": 91772933, "body": "I am not entirely sure of what you are looking for but it seems that you could solve it with a groupby. Something on the lines of <code>df[df[&#39;accepted&#39;] == &#39;ACCEPTED&#39;].groupby([&#39;bid week&#39;])[&#39;Note_Weighted&#39;].mean()</code>"}], "owner": {"reputation": 19, "user_id": 10387753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfad650b68e7f6a28e5cf28b0b10d37c?s=128&d=identicon&r=PG&f=1", "display_name": "jojo.t.c", "link": "https://stackoverflow.com/users/10387753/jojo-t-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537386920, "creation_date": 1537386920, "question_id": 52413332, "link": "https://stackoverflow.com/questions/52413332/iterating-through-dataframes", "title": "Iterating Through DataFrames", "body": "<p>I was having a hard time with the technical verbiage to word the question, so it might be that it has already been asked, but I am building a DataFrame off my original database and having to manually come in many times to change the value I am pulling off the original. For example:</p>\n\n<pre><code>ref_data['Weighted_Note_Win'][0] = df['Note_Weighted'][df['accepted'] == 'ACCEPTED'][df['bid week'] == 14].mean()\nref_data['Weighted_Note_Win'][1] = df['Note_Weighted'][df['accepted'] == 'ACCEPTED'][df['bid week'] == 15].mean()\nref_data['Weighted_Note_Win'][2] = df['Note_Weighted'][df['accepted'] == 'ACCEPTED'][df['bid week'] == 16].mean()\nref_data['Weighted_Note_Win'][3] = df['Note_Weighted'][df['accepted'] == 'ACCEPTED'][df['bid week'] == 17].mean()\nref_data['Weighted_Note_Win'][4] = df['Note_Weighted'][df['accepted'] == 'ACCEPTED'][df['bid week'] == 18].mean()\n</code></pre>\n\n<p>For each, I am having to adjust the row by one and manually reenter that value pull. Is there a one line way to efficiently iterate through that to make it less time consuming? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 2886057, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1c65bb3931b7c509992277b9afc30e1?s=128&d=identicon&r=PG&f=1", "display_name": "user2886057", "link": "https://stackoverflow.com/users/2886057/user2886057"}, "is_accepted": true, "score": 2, "last_activity_date": 1543588268, "last_edit_date": 1543588268, "creation_date": 1537388327, "answer_id": 52413637, "question_id": 52413325, "link": "https://stackoverflow.com/questions/52413325/sklearn-sgdclassifier-can-not-make-it-train-or-predict-deterministically/52413637#52413637", "title": "sklearn SGDClassifier can not make it train or predict deterministically", "body": "<p>It appears that sklearn checks the state of the random_state variable only on instantiation. In this case, I was instantiating somewhere else, and then setting the state after, which was too late, as sklearn had already created its own RNG.</p>\n\n<p>Passing in random_state on instantiation caused deterministic results.</p>\n"}], "owner": {"reputation": 466, "user_id": 2886057, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1c65bb3931b7c509992277b9afc30e1?s=128&d=identicon&r=PG&f=1", "display_name": "user2886057", "link": "https://stackoverflow.com/users/2886057/user2886057"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 52413637, "answer_count": 1, "score": 1, "last_activity_date": 1543588268, "creation_date": 1537386878, "question_id": 52413325, "link": "https://stackoverflow.com/questions/52413325/sklearn-sgdclassifier-can-not-make-it-train-or-predict-deterministically", "title": "sklearn SGDClassifier can not make it train or predict deterministically", "body": "<p>I'm training a simple linear model with the sklearn.linear_model.SGDClassifier. I was seeing some results where training on the same exact training set would yield drastically different results occasionally. I am trying to run an experiment where I freeze everything about my feature construction pipeline and sample selection to see what kind of effect the initial random state has on classifier results. So here I'm trying to loop over the same fit and predict code multiple times, re-instantiating the classifier object every time and setting the seed to 123456.</p>\n\n<pre><code>    classif['classifier'].random_state = 123456\n    classif['classifier'].fit(LABELED, LABELS)   \n    y_test = classif['classifier'].predict(TEST_LABELED[:1000])                                                                                                                                                                              \n    classif['accuracy_over_iter'] = np.append(classif['accuracy_over_iter'], accuracy_score(TEST_LABELS[:1000], y_test))  \n    classif[\"score\"] = accuracy_score(TEST_LABELS[:1000], y_test)\n    print(f'{classif[\"description\"]} score {classif[\"score\"]}')    \n</code></pre>\n\n<p>Afterwards, every classifier I train ends up with a slightly different prediction. Am I not setting the seed properly somehow?</p>\n\n<pre><code>reflectance_standard_scaler__SGD score 0.642    \nreflectance_standard_scaler__SGD score 0.644  \nreflectance_standard_scaler__SGD score 0.632 \nreflectance_standard_scaler__SGD score 0.623 \nreflectance_standard_scaler__SGD score 0.66\nreflectance_standard_scaler__SGD score 0.601 \nreflectance_standard_scaler__SGD score 0.671\n</code></pre>\n"}, {"tags": ["python", "pyarrow"], "answers": [{"tags": [], "owner": {"reputation": 82394, "user_id": 776560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c08a3eed709a9d1a2654cea45aa466f?s=128&d=identicon&r=PG", "display_name": "Wes McKinney", "link": "https://stackoverflow.com/users/776560/wes-mckinney"}, "is_accepted": false, "score": 4, "last_activity_date": 1537392520, "creation_date": 1537392520, "answer_id": 52414437, "question_id": 52413318, "link": "https://stackoverflow.com/questions/52413318/read-csv-with-pyarrow/52414437#52414437", "title": "Read CSV with PyArrow", "body": "<p>We're working on this feature, there is a pull request up now: <a href=\"https://github.com/apache/arrow/pull/2576\" rel=\"nofollow noreferrer\">https://github.com/apache/arrow/pull/2576</a>. You can help by testing it out!</p>\n"}, {"tags": [], "owner": {"reputation": 4930, "user_id": 171236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3b966fda9859d4bcd97c46b6a851210?s=128&d=identicon&r=PG", "display_name": "Doctor J", "link": "https://stackoverflow.com/users/171236/doctor-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1547245547, "creation_date": 1547245547, "answer_id": 54154858, "question_id": 52413318, "link": "https://stackoverflow.com/questions/52413318/read-csv-with-pyarrow/54154858#54154858", "title": "Read CSV with PyArrow", "body": "<p>You can read the CSV in chunks with <code>pd.read_csv(chunksize=...)</code>, then write a chunk at a time with Pyarrow.  </p>\n\n<p>The one caveat is, as you mentioned, Pandas will give inconsistent dtypes if you have a column that is all nulls in one chunk, so you have to make sure the chunk size is larger than the longest run of nulls in your data.</p>\n\n<p>This reads CSV from stdin and writes Parquet to stdout (Python 3).</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\nimport sys\n\nimport pandas as pd\nimport pyarrow.parquet\n\n# This has to be big enough you don't get a chunk of all nulls: https://issues.apache.org/jira/browse/ARROW-2659\nSPLIT_ROWS = 2 ** 16\n\ndef main():\n    writer = None\n    for split in pd.read_csv(sys.stdin.buffer, chunksize=SPLIT_ROWS):\n        table = pyarrow.Table.from_pandas(split, preserve_index=False)\n        # Timestamps have issues if you don't convert to ms. https://github.com/dask/fastparquet/issues/82\n        writer = writer or pyarrow.parquet.ParquetWriter(sys.stdout.buffer, table.schema, coerce_timestamps='ms', compression='gzip')\n        writer.write_table(table)\n    writer.close()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 981, "user_id": 84720, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/H6WbZ.jpg?s=128&g=1", "display_name": "dudemonkey", "link": "https://stackoverflow.com/users/84720/dudemonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2989, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1547245547, "creation_date": 1537386824, "question_id": 52413318, "link": "https://stackoverflow.com/questions/52413318/read-csv-with-pyarrow", "title": "Read CSV with PyArrow", "body": "<p>I have large CSV files that I'd ultimately like to convert to parquet.  Pandas won't help because of memory constraints and its difficulty handling NULL values (which are common in my data).  I checked the PyArrow docs and there are tools for reading parquet files, but I didn't see anything about reading CSVs.  Did I miss something, or is this feature somehow incompatible with PyArrow?</p>\n"}, {"tags": ["python", "ssl", "ssl-certificate", "yahoo-finance", "mysqlconnection"], "answers": [{"tags": [], "owner": {"reputation": 295, "user_id": 5188353, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/92d26234000e1fb6b7af80569277ee02?s=128&d=identicon&r=PG&f=1", "display_name": "clex", "link": "https://stackoverflow.com/users/5188353/clex"}, "is_accepted": false, "score": 0, "last_activity_date": 1537438614, "creation_date": 1537438614, "answer_id": 52422758, "question_id": 52413285, "link": "https://stackoverflow.com/questions/52413285/python-yahoofinancials-in-combination-with-mysql-connector-lead-to-ssl-error/52422758#52422758", "title": "Python YahooFinancials in combination with mysql connector lead to SSL error", "body": "<p>For those who are facing the same problem I found a solution. Just change the order of the imports. First import YahooFinancials then MySQLConnection:</p>\n\n<pre><code>from yahoofinancials import YahooFinancials\nfrom mysql.connector import MySQLConnection, Error\n\nyahoo_financials = YahooFinancials('AAPL')\nhistorical_stock_prices = yahoo_financials.get_prev_close_price()\n</code></pre>\n\n<p>But unfortunately I don't know why it works this way.</p>\n"}], "owner": {"reputation": 295, "user_id": 5188353, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/92d26234000e1fb6b7af80569277ee02?s=128&d=identicon&r=PG&f=1", "display_name": "clex", "link": "https://stackoverflow.com/users/5188353/clex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537438614, "creation_date": 1537386671, "question_id": 52413285, "link": "https://stackoverflow.com/questions/52413285/python-yahoofinancials-in-combination-with-mysql-connector-lead-to-ssl-error", "title": "Python YahooFinancials in combination with mysql connector lead to SSL error", "body": "<p>I have the following code</p>\n\n<pre><code>from mysql.connector import MySQLConnection, Error\nfrom yahoofinancials import YahooFinancials\n\nyahoo_financials = YahooFinancials('AAPL')\nhistorical_stock_prices = yahoo_financials.get_prev_close_price()\n</code></pre>\n\n<p>This code causes the following error message:</p>\n\n<pre><code>OSError: [Errno socket error] [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:645)\n</code></pre>\n\n<p>The code does work very well without importing MySQLConnection but I need MySQLConnection later. Furthermore, on my machine MySQLConnection works in another python script without YahooFinancials. </p>\n"}, {"tags": ["python", "python-3.x", "amazon-web-services", "boto3", "amazon-route53"], "owner": {"reputation": 313, "user_id": 2143428, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/0e663bc7ac6013ac4ed78e390c282798?s=128&d=identicon&r=PG", "display_name": "moooni moon", "link": "https://stackoverflow.com/users/2143428/moooni-moon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1537387868, "creation_date": 1537386582, "last_edit_date": 1537387868, "question_id": 52413261, "link": "https://stackoverflow.com/questions/52413261/issue-updating-route53-record-set-using-boto3", "title": "Issue updating route53 record set using boto3", "body": "<p>I am trying to update existing record set with values modified being \"SetIdentifier\" and \"DNSName\" with the below command.</p>\n\n<pre><code>client = boto3.client('route53',\n                         aws_access_key_id=my_key_id,\n                         aws_secret_access_key=my_access_key,\n                         region_name='us-west-2'\n                         )\nresponse = client.change_resource_record_sets(\n        HostedZoneId=hosted_zoneId,\n        ChangeBatch={\n            'Comment': 'test-1.2',\n            'Changes': [\n                {\n                    'Action': 'UPSERT',\n                    'ResourceRecordSet': {\n                        'Name': record_name,\n                        'Type': record_type,\n                        'SetIdentifier': 'test-active12',\n                        'Region': 'us-west-2',\n                        'AliasTarget': {\n                            'HostedZoneId': hosted_zoneId,\n                            'DNSName': 'active12.server.net.',\n                            'EvaluateTargetHealth': False\n                        }\n                    }\n                },\n            ]\n        }\n    )\n</code></pre>\n\n<p>I get the following error when running the above command and above command works when the record set does not exist:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test-route53.py\", line 51, in &lt;module&gt;\n    'EvaluateTargetHealth': False\n  File \"C:\\Python27\\lib\\site-packages\\botocore-1.8.49-py2.7.egg\\botocore\\client.py\", line 324, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\botocore-1.8.49-py2.7.egg\\botocore\\client.py\", line 622, in _make_api_call\n    raise error_class(parsed_response, operation_name)\nbotocore.errorfactory.InvalidChangeBatch: An error occurred (InvalidChangeBatch) when calling the ChangeResourceRecordSets operation: RRSet with DNS name test.server.net., type A, SetIdentifier test-active12, and Region Name=us-west-2 cannot be created because a latency RRSet with the same name, type and region already exists.\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe", "jupyter-notebook"], "comments": [{"owner": {"reputation": 27334, "user_id": 7758804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBA7j.jpg?s=128&g=1", "display_name": "Trenton McKinney", "link": "https://stackoverflow.com/users/7758804/trenton-mckinney"}, "edited": false, "score": 1, "creation_date": 1600551909, "post_id": 52413246, "comment_id": 113125439, "body": "Do not add your data as an answer to this question. Return to your question, to add your data."}], "answers": [{"tags": [], "owner": {"reputation": 27334, "user_id": 7758804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBA7j.jpg?s=128&g=1", "display_name": "Trenton McKinney", "link": "https://stackoverflow.com/users/7758804/trenton-mckinney"}, "is_accepted": true, "score": 26, "last_activity_date": 1608723387, "last_edit_date": 1608723387, "creation_date": 1537386500, "answer_id": 52413247, "question_id": 52413246, "link": "https://stackoverflow.com/questions/52413246/how-to-provide-a-reproducible-copy-of-your-dataframe-with-to-clipboard/52413247#52413247", "title": "How to provide a reproducible copy of your DataFrame with to_clipboard()", "body": "<h1>First: Do not post images of data, text only please</h1>\n<h3>Second: Do not paste data in the comments section or as an answer, edit your question instead</h3>\n<hr />\n<h2>How to quickly provide sample data from a pandas DataFrame</h2>\n<ul>\n<li>There is more than one way to answer this question.  However, this answer isn't meant as an exhaustive solution.  It provides the simplest method possible.</li>\n<li>For the curious, there are other more verbose solutions provided on Stack Overflow.</li>\n</ul>\n<ol>\n<li>Provide a link to a shareable dataset (maybe on GitHub or a shared file on Google). This is particularly useful if it's a large dataset and the objective is to optimize some method.  The drawback is that the data may no longer be available in the future, which reduces the benefit of the post.\n<ul>\n<li>Data must be provided in the question, but can be accompanied by a link to a more extensive dataset.</li>\n<li>Do not post only a link or an image of the data.</li>\n</ul>\n</li>\n<li><strong>Provide the output of <code>df.head(10).to_clipboard(sep=',', index=True)</code></strong></li>\n</ol>\n<h2>Code:</h2>\n<p><strong>Provide the output of <code>pandas.DataFrame.to_clipboard</code></strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>df.head(10).to_clipboard(sep=',', index=True)\n</code></pre>\n<ul>\n<li>If you have a multi-index DataFrame add a note, telling which columns are the indices.</li>\n<li><strong>Note</strong>: when the previous line of code is executed, no output will appear.\n<ul>\n<li>The result of the code is now on the clipboard.</li>\n</ul>\n</li>\n<li>Paste the clipboard into a <code>code block</code> in your Stack Overflow question</li>\n</ul>\n<pre class=\"lang-py prettyprint-override\"><code>,a,b\n2020-07-30,2,4\n2020-07-31,1,5\n2020-08-01,2,2\n2020-08-02,9,8\n2020-08-03,4,0\n2020-08-04,3,3\n2020-08-05,7,7\n2020-08-06,7,0\n2020-08-07,8,4\n2020-08-08,3,2\n</code></pre>\n<ul>\n<li>This can be copied to the clipboard by someone trying to answer your question, and followed by:</li>\n</ul>\n<pre class=\"lang-py prettyprint-override\"><code>df = pd.read_clipboard(sep=',')\n</code></pre>\n<h2>Locations of the dataframe other the <code>.head(10)</code></h2>\n<ul>\n<li>Specify a section of the dataframe with the <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.iloc.html\" rel=\"noreferrer\"><code>.iloc</code></a> property</li>\n<li>The following example selects rows 3 - 11 and all the columns</li>\n</ul>\n<pre class=\"lang-py prettyprint-override\"><code>df.iloc[3:12, :].to_clipboard(sep=',')\n</code></pre>\n<h2>Additional References for <code>pd.read_clipboard</code></h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45800520\">Specify Multi-Level columns using pd.read_clipboard?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45528198\">How do you handle column names having spaces in them when using pd.read_clipboard?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45725500\">How to handle custom named index when copying a dataframe using pd.read_clipboard?</a></li>\n</ul>\n<h2>Google Colab Users</h2>\n<ul>\n<li><code>.to_clipboard()</code> won't work</li>\n<li>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_dict.html\" rel=\"noreferrer\"><code>.to_dict()</code></a> to copy your dataframe</li>\n</ul>\n<pre class=\"lang-py prettyprint-override\"><code># if you have a datetime column, convert it to a str\ndf['date'] = df['date'].astype('str')\n\n# if you have a datetime index, convert it to a str\ndf.index = df.index.astype('str')\n\n# output to a dict\ndf.head(10).to_dict(orient='index')\n\n# which will look like\n{'2020-07-30': {'a': 2, 'b': 4},\n '2020-07-31': {'a': 1, 'b': 5},\n '2020-08-01': {'a': 2, 'b': 2},\n '2020-08-02': {'a': 9, 'b': 8},\n '2020-08-03': {'a': 4, 'b': 0},\n '2020-08-04': {'a': 3, 'b': 3},\n '2020-08-05': {'a': 7, 'b': 7},\n '2020-08-06': {'a': 7, 'b': 0},\n '2020-08-07': {'a': 8, 'b': 4},\n '2020-08-08': {'a': 3, 'b': 2}}\n\n# copy the previous dict and paste into a code block on SO\n# the dict can be converted to a dataframe with \n# df = pd.DataFrame.from_dict(d, orient='index')  # d is the name of the dict\n# convert datatime column or index back to datetime\n</code></pre>\n<ul>\n<li>For a more thorough answer using <code>.to_dict()</code>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/63163254\">How to efficiently build and share a sample dataframe?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32536193\">How to make good reproducible pandas examples</a></li>\n</ul>\n</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "is_accepted": false, "score": 1, "last_activity_date": 1537388483, "last_edit_date": 1537388483, "creation_date": 1537386742, "answer_id": 52413302, "question_id": 52413246, "link": "https://stackoverflow.com/questions/52413246/how-to-provide-a-reproducible-copy-of-your-dataframe-with-to-clipboard/52413302#52413302", "title": "How to provide a reproducible copy of your DataFrame with to_clipboard()", "body": "<p>if you do something like <code>print(df.head(20))</code> and paste the output in code format, then we can use <code>pd.read_clipboard()</code> to load the data into a dataframe. This approach works for the vast majority of questions posted under the <code>pandas</code> tag but fails miserably for questions involving <code>multiindex</code></p>\n"}], "owner": {"reputation": 27334, "user_id": 7758804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBA7j.jpg?s=128&g=1", "display_name": "Trenton McKinney", "link": "https://stackoverflow.com/users/7758804/trenton-mckinney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2735, "favorite_count": 7, "accepted_answer_id": 52413247, "answer_count": 2, "score": 28, "last_activity_date": 1611441300, "creation_date": 1537386500, "last_edit_date": 1611441300, "question_id": 52413246, "link": "https://stackoverflow.com/questions/52413246/how-to-provide-a-reproducible-copy-of-your-dataframe-with-to-clipboard", "title": "How to provide a reproducible copy of your DataFrame with to_clipboard()", "body": "<h2><a href=\"https://github.com/trenton3983/stack_overflow/blob/master/complete_solutions/2018-09-18_reproducible_dataframe.ipynb\" rel=\"noreferrer\">2018-09-18_reproducible_dataframe.ipynb</a></h2>\n<ul>\n<li>This question was previously marked as a duplicate of <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">How to make good reproducible pandas examples</a>.\n<ul>\n<li>Go to that question if you need to make synthetic (fake) data to share.</li>\n<li>The other question and associated answers cover how to <strong>create</strong> a reproducible dataframe.</li>\n<li>They do not cover <strong>how to copy</strong> an existing dataframe with <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_clipboard.html\" rel=\"noreferrer\"><code>.to_clipboard</code></a>, while this question specifically covers <code>.to_clipboard</code>.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<ul>\n<li>This may seem like an obvious question.  However, many of the users asking questions about Pandas are new and inexperienced.</li>\n<li>A critical component of asking a question is <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>, which explains &quot;what&quot; and &quot;why&quot;, but not &quot;how&quot;.</li>\n</ul>\n<hr />\n<h3>For example, as the <a href=\"https://meta.stackoverflow.com/questions/253162/what-is-an-op-when-referring-to-stack-exchange\">OP</a>, I may have the following dataframe:</h3>\n<ul>\n<li>For this example, I've created synthetic data, which is an option for creating a reproducible dataset, but not within the scope of this question.</li>\n<li>Think of this, as if you've loaded a file, and only need to share a bit of it, to reproduce the error.</li>\n</ul>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport numpy as np\nfrom datetime import datetime\nfrom string import ascii_lowercase as al\n\nnp.random.seed(365)\nrows = 15\ncols = 2\ndata = np.random.randint(0, 10, size=(rows, cols))\nindex = pd.bdate_range(datetime.today(), freq='d', periods=rows)\n\ndf = pd.DataFrame(data=data, index=index, columns=list(al[:cols]))\n\n            a  b\n2020-07-30  2  4\n2020-07-31  1  5\n2020-08-01  2  2\n2020-08-02  9  8\n2020-08-03  4  0\n2020-08-04  3  3\n2020-08-05  7  7\n2020-08-06  7  0\n2020-08-07  8  4\n2020-08-08  3  2\n2020-08-09  6  2\n2020-08-10  6  8\n2020-08-11  9  6\n2020-08-12  1  6\n2020-08-13  5  7\n</code></pre>\n<ul>\n<li>The dataframe could be followed by some other code, that produces an error or doesn't produce the desired outcome</li>\n</ul>\n<h3>Things that should be provided when asking a question on Stack Overflow.</h3>\n<ul>\n<li>A well written coherent question - as <strong><a href=\"https://stackoverflow.com/help/formatting\">formatted text</a></strong></li>\n<li>The code that produces the error - as <strong><a href=\"https://stackoverflow.com/help/formatting\">formatted text</a></strong></li>\n<li>The entire error Traceback - as <strong><a href=\"https://stackoverflow.com/help/formatting\">formatted text</a></strong></li>\n<li>Potentially, the current &amp; expected outcome - as <strong><a href=\"https://stackoverflow.com/help/formatting\">formatted text</a></strong>, or image if it's a plot</li>\n<li><strong>The data, in an easily usable form</strong> - as <strong><a href=\"https://stackoverflow.com/help/formatting\">formatted text</a></strong></li>\n</ul>\n<h2>Do not add your data as an answer to this question.</h2>\n"}, {"tags": ["python", "python-3.x", "logging"], "comments": [{"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 4, "creation_date": 1537386477, "post_id": 52413215, "comment_id": 91770170, "body": "Is it the code that you consider too ugly, or the log message that&#39;s produced?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1537386605, "post_id": 52413215, "comment_id": 91770231, "body": "what about <code>log.info(&quot;element is {}&quot;.format(&quot;,&quot;.join(map(str,lst))))</code>"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1537386694, "post_id": 52413215, "comment_id": 91770283, "body": "The <code>print</code> example outputs the entire list, the <code>log</code> example outputs each element. Which do you need?"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 2, "creation_date": 1537386888, "post_id": 52413215, "comment_id": 91770374, "body": "What&#39;s wrong with <code>log.info(lst)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 5450745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cca829f872d49121e88eae52a639e8a?s=128&d=identicon&r=PG&f=1", "display_name": "Jacqueline P.", "link": "https://stackoverflow.com/users/5450745/jacqueline-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1537386993, "creation_date": 1537386993, "answer_id": 52413348, "question_id": 52413215, "link": "https://stackoverflow.com/questions/52413215/python3-use-logging-to-log-all-elements-in-a-containerlist-or-tuple/52413348#52413348", "title": "python3 use logging to log all elements in a container(list, or tuple)", "body": "<p>I have figured out. Yes, just like@Patrick Haugh said, we can just use <code>loog.info(lst)</code> to log all elements in the list, just works similarly to <code>print</code>.</p>\n\n<p>Thank you all!</p>\n"}], "owner": {"reputation": 394, "user_id": 5450745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cca829f872d49121e88eae52a639e8a?s=128&d=identicon&r=PG&f=1", "display_name": "Jacqueline P.", "link": "https://stackoverflow.com/users/5450745/jacqueline-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537386993, "creation_date": 1537386358, "last_edit_date": 1537386911, "question_id": 52413215, "link": "https://stackoverflow.com/questions/52413215/python3-use-logging-to-log-all-elements-in-a-containerlist-or-tuple", "title": "python3 use logging to log all elements in a container(list, or tuple)", "body": "<p>In Python3, if we want to print all elements in a list, we can simply do </p>\n\n<pre><code>lst = ['a','b', 'c']\nprint(lst)\n</code></pre>\n\n<p>In this way, we can print out all elements in a list. \nSuppose now I use logging to log everything, instead of print it out to the screen, for a debug purpose, how to log all elements in a container ( i.e list, or tuple) ?</p>\n\n<p>I can think of something like :</p>\n\n<pre><code>for it in lst:\n     log.info(\"element is {i}\".format(i = it))\n</code></pre>\n\n<p>but this is too ugly. Any suggestion?</p>\n\n<p>I also refer <a href=\"https://docs.python.org/3/howto/logging.html\" rel=\"nofollow noreferrer\">Howto</a> , but did not get much input.</p>\n"}, {"tags": ["python", "juniper", "junos-automation", "ciscoconfparse"], "answers": [{"comments": [{"owner": {"reputation": 1167, "user_id": 6470259, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/SFlys.jpg?s=128&g=1", "display_name": "ddevalco", "link": "https://stackoverflow.com/users/6470259/ddevalco"}, "edited": false, "score": 0, "creation_date": 1537546269, "post_id": 52422852, "comment_id": 91837930, "body": "How in the world did you accomplish all of that with that one line. I just don&#39;t even understand."}], "tags": [], "owner": {"reputation": 466, "user_id": 5723106, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ROQ9Q.jpg?s=128&g=1", "display_name": "Nitin Kr", "link": "https://stackoverflow.com/users/5723106/nitin-kr"}, "is_accepted": false, "score": 0, "last_activity_date": 1537438892, "creation_date": 1537438892, "answer_id": 52422852, "question_id": 52413186, "link": "https://stackoverflow.com/questions/52413186/need-help-figuring-out-how-to-parse-and-extract-port-mode-a-file/52422852#52422852", "title": "Need help figuring out how to parse and extract port-mode a file?", "body": "<p>check if this example works for you</p>\n\n<pre><code>import re\nfor i in re.findall('(ge-\\d/\\d/\\d).*\\n\\s+description\\s+(.*)(\\n\\s+.*){2}\\n\\s+port-mode\\s(.*);', x):\n    print 'interface: ', i[0]\n    print 'description: ', i[1]\n    print 'port mode: ', i[-1]\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>interface:  ge-2/0/0\ndescription:  \"site1;;hostname1;ge-16/0/9;;;TRUST;\";\nport mode:  trunk\ninterface:  ge-2/0/2\ndescription:  \"site2;;hostname2;ge-16/0/8;;;TRUST;\";\nport mode:  trunk\n</code></pre>\n"}], "owner": {"reputation": 1167, "user_id": 6470259, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/SFlys.jpg?s=128&g=1", "display_name": "ddevalco", "link": "https://stackoverflow.com/users/6470259/ddevalco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537438892, "creation_date": 1537386208, "question_id": 52413186, "link": "https://stackoverflow.com/questions/52413186/need-help-figuring-out-how-to-parse-and-extract-port-mode-a-file", "title": "Need help figuring out how to parse and extract port-mode a file?", "body": "<p>I have a text file that contains the following information:</p>\n\n<pre><code>interfaces {\nge-2/0/0 {\n    description \"site1;;hostname1;ge-16/0/9;;;TRUST;\";\n    unit 0 {\n        family ethernet-switching {\n            port-mode trunk;\n        }\n    }\n}\nge-2/0/2 {\n    description \"site2;;hostname2;ge-16/0/8;;;TRUST;\";\n    unit 0 {\n        family ethernet-switching {\n            port-mode trunk;\n        }\n    }\n}\n</code></pre>\n\n<p>With the help of others I've been able to extract the interface id (ge-2/0/0) as well as the description.</p>\n\n<p>The code for that is as follows:</p>\n\n<pre><code>from ciscoconfparse import CiscoConfParse\nparse = CiscoConfParse(\"testconfig.txt\", syntax=\"junos\")\n\nintfs = parse.find_objects_w_parents(r'^interfaces', r'^\\s+ge-')\nfor intfobj in intfs:\n    intf_name = intfobj.text.strip()\n    descr = intfobj.re_match_iter_typed(r'description\\s+\"(\\S.+?)\"$', group=1)\n    print ('Intf: {0}, {1}'.format(intf_name, descr))\n</code></pre>\n\n<p>This gives me a result of:</p>\n\n<pre><code>Intf: ge-2/0/0, site1;;hostname1;ge-16/0/9;;;TRUST;\nIntf: ge-2/0/2, site2;;hostname2;ge-16/0/8;;;TRUST;\n</code></pre>\n\n<p>So far that's been huge for me, and I really thought I was going to be able to figure out how to dig deeper into the interface to extract the \"port-mode\".</p>\n\n<p>My attempts so far are failing me.</p>\n\n<p>This is the general train of thought I had in trying to dig that info out but to no avail:</p>\n\n<pre><code>ltype = parse.find_objects_w_parents(r'^interfaces', r'^\\s+ge-', r'^unit\\s0', r'^family\\sethernet-switching')\nfor ltypeobj in ltype:\n    pmode = intfobj.re_match_iter_typed(r'port-mode\\s+\"(\\S.+?)\"$', group=1)\n    print ('Port Mode: {0}'.format(pmode))\n</code></pre>\n\n<p>I get the following and I'm just not able to figure it out.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"convert.py\", line 11, in &lt;module&gt;\n    ltype = parse.find_objects_w_parents(r'^interfaces', r'^\\s+ge-', r'^unit\\s0', r'^family\\sethernet-switching')\nTypeError: find_objects_w_parents() takes from 3 to 4 positional arguments but 5 were given\n</code></pre>\n\n<p>Any advice on accomplishing this would be appreciated.</p>\n"}, {"tags": ["python", "logging", "flask"], "comments": [{"owner": {"reputation": 1435, "user_id": 6123961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hvp2R.png?s=128&g=1", "display_name": "L&#233;opold Houdin", "link": "https://stackoverflow.com/users/6123961/l%c3%a9opold-houdin"}, "edited": false, "score": 1, "creation_date": 1537386748, "post_id": 52413158, "comment_id": 91770307, "body": "Well, it looks like that in your <code>other_file.py</code> you are not in a Flask&#39;s route. So you might not have a value for <code>request_body_id</code>. Check out: <a href=\"https://docs.python.org/2/library/logging.html\" rel=\"nofollow noreferrer\">logging</a>. No?"}, {"owner": {"reputation": 926, "user_id": 7008292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffa4924d93c324baadef1909e56e8a80?s=128&d=identicon&r=PG", "display_name": "jwebb", "link": "https://stackoverflow.com/users/7008292/jwebb"}, "edited": false, "score": 0, "creation_date": 1537390730, "post_id": 52413158, "comment_id": 91771973, "body": "What about passing request.body[&#39;id&#39;] as a parameter to the other_module() function?"}, {"owner": {"reputation": 594, "user_id": 4763016, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/22188044980475f778bab6c8424c62a5?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Melouah", "link": "https://stackoverflow.com/users/4763016/simon-melouah"}, "reply_to_user": {"reputation": 926, "user_id": 7008292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffa4924d93c324baadef1909e56e8a80?s=128&d=identicon&r=PG", "display_name": "jwebb", "link": "https://stackoverflow.com/users/7008292/jwebb"}, "edited": false, "score": 0, "creation_date": 1537391074, "post_id": 52413158, "comment_id": 91772098, "body": "@jwebb Not an option unfortunately"}], "answers": [{"tags": [], "owner": {"reputation": 7191, "user_id": 4929646, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/HWc5G.jpg?s=128&g=1", "display_name": "Danila Ganchar", "link": "https://stackoverflow.com/users/4929646/danila-ganchar"}, "is_accepted": false, "score": 1, "last_activity_date": 1538146204, "creation_date": 1538146204, "answer_id": 52557840, "question_id": 52413158, "link": "https://stackoverflow.com/questions/52413158/python-flask-log-request-body-through-all-modules/52557840#52557840", "title": "Python Flask log request body through all modules", "body": "<p>You can add any additional data into log using <a href=\"https://docs.python.org/2/library/formatter.html\" rel=\"nofollow noreferrer\">logging.Formatter</a>. Just an example:</p>\n\n<p><strong>log.py</strong></p>\n\n<pre><code>import logging\nfrom flask import request\n\n\nclass __RequestFormatter(logging.Formatter):\n\n    def format(self, record):\n        # you can set here everything what you need\n        # I just added url and id from GET parameter\n        record.id = request.args.get('id')\n        record.url = request.url\n        return super().format(record)\n\n# format of our log record.\n# print url and id of record which was set in format()\n__stream_handler = logging.StreamHandler()\n__stream_handler.setFormatter(__RequestFormatter(\n    '[%(asctime)s %(levelname)s] requested: %(url)s, id: %(id)s in %(module)s: %(message)s'\n))\n\nlogger = logging.getLogger('my_loger')\nlogger.setLevel(logging.INFO)\nlogger.addHandler(__stream_handler)\n</code></pre>\n\n<p><strong>app.py</strong></p>\n\n<pre><code>from flask import Flask\n\nfrom log import logger\nfrom other_file import other_module\n\napp = Flask(__name__)\n\n\n@app.route('/test')\ndef test():\n    logger.info('/test was called')\n    other_module()\n    return 'hi'\n</code></pre>\n\n<p><strong>other_file.py</strong></p>\n\n<pre><code>from log import logger\n\n\ndef other_module():\n   logger.info(\"My second message\")\n</code></pre>\n\n<p>Now let's call <code>/test?id=example_id</code>, <code>/test?id=example_id2</code> and check logs:</p>\n\n<pre><code>[2018-09-28 17:40:48,669 INFO] requested: http://127.0.0.1:5000/test?id=example_id, id: example_id in app: /test was called\n[2018-09-28 17:40:48,670 INFO] requested: http://127.0.0.1:5000/test?id=example_id, id: example_id in other_file: My second message\n\n[2018-09-28 17:40:51,475 INFO] requested: http://127.0.0.1:5000/test?id=example_id2, id: example_id2 in app: /test was called\n[2018-09-28 17:40:51,476 INFO] requested: http://127.0.0.1:5000/test?id=example_id2, id: example_id2 in other_file: My second message\n</code></pre>\n\n<p>As you can see all messages include <code>id</code> of request. So you can use <code>Formatter</code> to customize everything what you need. Also you can try to use <a href=\"https://github.com/Workable/flask-log-request-id\" rel=\"nofollow noreferrer\">flask-log-request-id</a>.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 594, "user_id": 4763016, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/22188044980475f778bab6c8424c62a5?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Melouah", "link": "https://stackoverflow.com/users/4763016/simon-melouah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1620, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538146204, "creation_date": 1537386093, "last_edit_date": 1537391211, "question_id": 52413158, "link": "https://stackoverflow.com/questions/52413158/python-flask-log-request-body-through-all-modules", "title": "Python Flask log request body through all modules", "body": "<p>I'm trying to log the request body of an incoming post request and persist it across all modules being called in the function thereafter.\nHere's an example of what I'm trying to achieve:</p>\n\n<p>main_app.py</p>\n\n<pre><code>from flask import Flask\nfrom other_file import other_module\nimport logging\n\nFORMAT = '%(request_body_id)s- %(message)s'\nlogging.basicConfig(format=FORMAT)\nlog = logging.getLogger('test_logger')\n@app.route('/', methods=['POST'])\ndef test_function():\n   log = logging.LoggerAdapter(log, {'request_body_id': request.body['id']})\n   log.info(\"My message\")\n   other_module()\n   return \"foo\"\n</code></pre>\n\n<p>other_file.py</p>\n\n<pre><code>log = logging.getLogger('test_logger')\ndef other_module():\n   log.info(\"My second message\")\n</code></pre>\n\n<p>What I'm looking for is:</p>\n\n<pre><code>&gt;&gt;&gt; INFO 123456- My message\n&gt;&gt;&gt; INFO 123456- My second message\n</code></pre>\n\n<p>What I get is:</p>\n\n<pre><code>&gt;&gt;&gt; INFO 123456- My message\n&gt;&gt;&gt; INFO - My second message\n</code></pre>\n\n<p>Update:\nPassing the request body as a parameter to other_module is not an option as there are tonnes of modules being called in the real case that need to output the request source.</p>\n"}, {"tags": ["python", "sql", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537386178, "post_id": 52413147, "comment_id": 91770018, "body": "So what&#39;s holding you back from implementing it?"}, {"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1537386363, "post_id": 52413147, "comment_id": 91770107, "body": "you can actually use <code>df.query</code> in case you didn&#39;t know <a href=\"http://pandas.pydata.org/pandas-docs/version/0.22.0/generated/pandas.DataFrame.query.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/version/0.22.0/generated/&hellip;</a>"}, {"owner": {"reputation": 69, "user_id": 10353700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e859d55bec7c12a9ac35e688e6a56bba?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Pernia", "link": "https://stackoverflow.com/users/10353700/jeff-pernia"}, "edited": false, "score": 0, "creation_date": 1537386938, "post_id": 52413147, "comment_id": 91770398, "body": "yes I&#39;ve looked into df.query() but the first parameter of the function ask for a string but im not sure of the syntax here since its not the regular SQL query. Im pretty new to pandas so im not sure how to do this statement"}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 8353573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QFCRn.jpg?s=128&g=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/8353573/krishna"}, "is_accepted": true, "score": 1, "last_activity_date": 1537389588, "last_edit_date": 1537389588, "creation_date": 1537389013, "answer_id": 52413761, "question_id": 52413147, "link": "https://stackoverflow.com/questions/52413147/select-rows-from-a-query-in-dataframe-in-pandas/52413761#52413761", "title": "select rows from a query in DataFrame in Pandas", "body": "<p>As mentioned in Documents <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<blockquote>\n  <p>The query() method uses a slightly modified Python syntax by default. It is used to apply condition like greater then less then. query method does not support group by itself instead data frame have method groupby which works the same way.</p>\n</blockquote>\n\n<p>I attempted to write code for your query take a look at it :</p>\n\n<pre><code>g= table.query('time&gt;=x and time&lt;y').groupby('C')\n\nfor name,group in g:\n    print(name , group[['a','b','c']])\n</code></pre>\n\n<p>Without using query() :</p>\n\n<pre><code>g = table[(table.time&gt;=x) &amp; (table.time &lt;= y)].groupby('C')\n\nfor name,group in g:\n        print(name , group[['a','b','c']])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 10353700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e859d55bec7c12a9ac35e688e6a56bba?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Pernia", "link": "https://stackoverflow.com/users/10353700/jeff-pernia"}, "is_accepted": false, "score": 0, "last_activity_date": 1537389571, "creation_date": 1537389571, "answer_id": 52413870, "question_id": 52413147, "link": "https://stackoverflow.com/questions/52413147/select-rows-from-a-query-in-dataframe-in-pandas/52413870#52413870", "title": "select rows from a query in DataFrame in Pandas", "body": "<p>So i'm sure this isn't the best work-around but it worked for me. </p>\n\n<pre><code>df = pd.read_excel(\"file.xlsx\", index_col= None, na_values=['NA'] , usecols=[18,4,5,21,0,1])\ndf2 = df[(df.TIME &gt;= x) , (df.TIME &lt;= y)]\ndf3 = df2[['a','b','c']]\n</code></pre>\n\n<p>That help me get the a,b,c within the time range I put </p>\n"}], "owner": {"reputation": 69, "user_id": 10353700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e859d55bec7c12a9ac35e688e6a56bba?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Pernia", "link": "https://stackoverflow.com/users/10353700/jeff-pernia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1005, "favorite_count": 1, "accepted_answer_id": 52413761, "answer_count": 2, "score": 1, "last_activity_date": 1537389588, "creation_date": 1537386042, "question_id": 52413147, "link": "https://stackoverflow.com/questions/52413147/select-rows-from-a-query-in-dataframe-in-pandas", "title": "select rows from a query in DataFrame in Pandas", "body": "<p>I'm sure what I'm asking is simple question but have yet to figure it out. I have a panda df and I want to run this basic query on it</p>\n\n<pre><code>Select a,b,c \nFROM TABLE\nWHERE (TABLE.time &gt;= x ) &amp;&amp; (TABLE.time &lt;= y)\nGROUP BY c\n</code></pre>\n\n<p>so if I have a table</p>\n\n<pre><code>A    B    time\n\na    b    time1\nc    d    time2\ne    f    time3\n</code></pre>\n\n<p>I would want only to return the a,b,c where the time is greater or less than the ones in the query. Also would this query on a Dataframe give me another df if I assign the query to a variable say something like</p>\n\n<pre><code>df2 = df.query()\n</code></pre>\n\n<p>I hope this makes sense</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "int", "ceil"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1537386070, "post_id": 52413123, "comment_id": 91769950, "body": "Think about what <code>ceil</code> is doing, it makes no sense to do it for <code>int</code>.  When you specify the <code>dtype</code>, you aren&#39;t just specifying the return type, but the dtype the calculation is done with as well.  Feel free to change the result to an integer after the calculation has been done, but what you are seeing currently is expected.  Some better discussion <a href=\"http://numpy-discussion.10968.n7.nabble.com/floor-with-dtype-td44734.html\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": true, "score": 2, "last_activity_date": 1537387229, "last_edit_date": 1537387229, "creation_date": 1537386602, "answer_id": 52413267, "question_id": 52413123, "link": "https://stackoverflow.com/questions/52413123/typeerror-numpy-dtype-int/52413267#52413267", "title": "TypeError numpy dtype int", "body": "<p>The reason this fails simply has to do with how <code>dtype</code> is treated by numpy ufuncs.  It does not only override the output dtype, but the <strong><em>dtype of the calculation</em></strong> as well.  The <code>ceil</code> ufunc doesn't support calculations involving integers, so it fails:</p>\n\n<p><a href=\"https://docs.scipy.org/doc/numpy-1.14.0/reference/ufuncs.html#ufuncs-kwargs\" rel=\"nofollow noreferrer\">From the docs</a> for ufunc <code>kwargs</code>:</p>\n\n<blockquote>\n  <p><strong><code>dtype</code></strong></p>\n  \n  <p>Overrides the dtype of the calculation and output arrays. Similar to signature.</p>\n</blockquote>\n"}], "owner": {"reputation": 735, "user_id": 3621065, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RPICW.png?s=128&g=1", "display_name": "Jan-Bert", "link": "https://stackoverflow.com/users/3621065/jan-bert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 52413267, "answer_count": 1, "score": 1, "last_activity_date": 1537387229, "creation_date": 1537385935, "last_edit_date": 1537386855, "question_id": 52413123, "link": "https://stackoverflow.com/questions/52413123/typeerror-numpy-dtype-int", "title": "TypeError numpy dtype int", "body": "<p>Hello i have a verry simple problem. but i don't understand what cause the problem.</p>\n\n<p>I have the following python(3) script. i have numpy 1.13.1(an old one but my problem with <code>dtype</code> should work).\naccording to <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/ufuncs.html#ufuncs-kwargs\" rel=\"nofollow noreferrer\">this</a> the dtype exist in <code>ufunc</code> since 1.6</p>\n\n<pre><code>import numpy as np\n\nM=1001\n\nN = 2 ** np.ceil(np.log2(M))\n\nN\nOut[252]: 1024.0\n\n2 ** np.ceil(np.log2(M),dtype=int)\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-253-4b982a04c884&gt;\", line 1, in &lt;module&gt;\n    2 ** np.ceil(np.log2(M),dtype=int)\n\nTypeError: No loop matching the specified signature and casting\nwas found for ufunc ceil\n\n\n\n\n2 ** np.ceil(np.log2(M),dtype=float)\nOut[254]: 1024.0\n\n\n\n\n2 ** np.ceil(np.log2(M),dtype=np.float64)\nOut[256]: 1024.0\n\n2 ** np.ceil(np.log2(M),dtype=np.float32)\nOut[257]: 1024.0\n\n2 ** np.ceil(np.log2(M),dtype=np.int64)\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-258-9902fa43f3ac&gt;\", line 1, in &lt;module&gt;\n    2 ** np.ceil(np.log2(M),dtype=np.int64)\n\nTypeError: No loop matching the specified signature and casting\nwas found for ufunc ceil\n\n\n\n\n2 ** np.ceil(np.log2(M),dtype=np.int32)\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-259-8a2f2834384f&gt;\", line 1, in &lt;module&gt;\n    2 ** np.ceil(np.log2(M),dtype=np.int32)\n\nTypeError: No loop matching the specified signature and casting\nwas found for ufunc ceil\n</code></pre>\n\n<p>As you can see when i change the <code>dtype</code> to <code>int</code>, <code>int32</code> or <code>int64</code> it fails. Probably anything other than <code>float</code> fails. I would guess this shouldn't do that!\nI can add a small fix so that <code>int(np.ceil(...))</code> the result is what i want.  </p>\n\n<ol>\n<li><p>I want to know what cause this problem? Since i don't read anything in the numpy reference manual about any issue with this(<a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ceil.html#numpy.ceil\" rel=\"nofollow noreferrer\">numpy reference ceil</a>).</p></li>\n<li><p>If Possible to do solve this problem that it works the way i started</p></li>\n</ol>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "json", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1537386080, "post_id": 52413106, "comment_id": 91769958, "body": "It looks like dict"}], "answers": [{"comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 2, "creation_date": 1537386289, "post_id": 52413178, "comment_id": 91770068, "body": "you can use set intersection here."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537386485, "post_id": 52413178, "comment_id": 91770174, "body": "@mad_ I added a way using <code>all()</code>."}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1537386471, "last_edit_date": 1537386471, "creation_date": 1537386169, "answer_id": 52413178, "question_id": 52413106, "link": "https://stackoverflow.com/questions/52413106/reading-a-json-and-writing-only-certain-json-objects-to-csv/52413178#52413178", "title": "Reading a json and writing only certain json objects to csv", "body": "<p>Test for all the values you want:</p>\n\n<pre><code>x = json.loads(json_string)\n\nif 'firstName' in x and 'lastName' in x and 'age' in x and 'email' in x:\n    print 'we got all the values'\n\nelse\n    print 'one or more values are missing'\n</code></pre>\n\n<p>Or, a prettier way to do it:</p>\n\n<pre><code>fields = ['firstName', 'lastName', 'age', 'email']\nif all(f in x for f in fields):\n    print 'we got all the fields'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 0, "last_activity_date": 1537386355, "creation_date": 1537386355, "answer_id": 52413213, "question_id": 52413106, "link": "https://stackoverflow.com/questions/52413106/reading-a-json-and-writing-only-certain-json-objects-to-csv/52413213#52413213", "title": "Reading a json and writing only certain json objects to csv", "body": "<p>Suppose you have</p>\n\n<pre><code>json_string ='[{ \"firstName\": \"foo\", \"lastName\": \"bar\", \"age\": 20, \"email\":\"email@example.com\"}, {\"firstName\": \"name\", \"age\": 40,\"email\":\"email@example.com\"}]'\n</code></pre>\n\n<p>Then you can</p>\n\n<pre><code>l = json.loads(json_string)\ndf = pd.DataFrame(l)\n</code></pre>\n\n<p>Which yields</p>\n\n<pre><code>    age email               firstName   lastName\n0   20  email@example.com   foo         bar\n1   40  email@example.com   name        NaN\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>&gt;&gt;&gt; df.to_dict('records')\n\n[{'age': 20,\n  'email': 'email@example.com',\n  'firstName': 'foo',\n  'lastName': 'bar'},\n {'age': 40,\n  'email': 'email@example.com',\n  'firstName': 'name',\n  'lastName': nan}]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&gt;&gt;&gt; df.to_json()\n\n'{\"age\":{\"0\":20,\"1\":40},\"email\":{\"0\":\"email@example.com\",\"1\":\"email@example.com\"},\"firstName\":{\"0\":\"foo\",\"1\":\"name\"},\"lastName\":{\"0\":\"bar\",\"1\":null}}'\n</code></pre>\n\n<p>The good thing about having a <code>data frame</code> is that you can parse/manipulate the data however you want before making it a dictionary/json again.</p>\n"}, {"comments": [{"owner": {"reputation": 784, "user_id": 6064179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5a75261a58000618815040627fab24c?s=128&d=identicon&r=PG&f=1", "display_name": "killian95", "link": "https://stackoverflow.com/users/6064179/killian95"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537386594, "post_id": 52413217, "comment_id": 91770225, "body": "The question specifically says that he doesn&#39;t want to write records that are missing any of the &quot;superset&quot; of strings"}, {"owner": {"reputation": 107, "user_id": 8581989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S7DTo.jpg?s=128&g=1", "display_name": "Steve Dallas", "link": "https://stackoverflow.com/users/8581989/steve-dallas"}, "edited": false, "score": 0, "creation_date": 1537391518, "post_id": 52413217, "comment_id": 91772263, "body": "That did it! Thank you! As a (possibly amusing) aside, I tried another way, which was less elegant: I put the json in a dataframe, wrote the dataframe to csv, put THAT csv into a dataframe, used .dropna, and wrote to a final csv."}], "tags": [], "owner": {"reputation": 784, "user_id": 6064179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5a75261a58000618815040627fab24c?s=128&d=identicon&r=PG&f=1", "display_name": "killian95", "link": "https://stackoverflow.com/users/6064179/killian95"}, "is_accepted": true, "score": 1, "last_activity_date": 1537386365, "creation_date": 1537386365, "answer_id": 52413217, "question_id": 52413106, "link": "https://stackoverflow.com/questions/52413106/reading-a-json-and-writing-only-certain-json-objects-to-csv/52413217#52413217", "title": "Reading a json and writing only certain json objects to csv", "body": "<p>As you suggested, reading into a pandas dataframe should do the trick. Using the pandas <code>df.read_json()</code> will leave a <code>NaN</code> for any value not contained in a given json record. So try:</p>\n\n<pre><code>a = pd.read_json(json_string, orient='records') \na.dropna(inplace=True)\na.to_csv(filename,index=False)\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8581989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S7DTo.jpg?s=128&g=1", "display_name": "Steve Dallas", "link": "https://stackoverflow.com/users/8581989/steve-dallas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 52413217, "answer_count": 3, "score": 2, "last_activity_date": 1537386471, "creation_date": 1537385856, "question_id": 52413106, "link": "https://stackoverflow.com/questions/52413106/reading-a-json-and-writing-only-certain-json-objects-to-csv", "title": "Reading a json and writing only certain json objects to csv", "body": "<p>I have a json where the objects contain some subset of a superset of strings, e.g. the 'ideal' case where all the strings of a superset are included in an object:</p>\n\n<pre><code>{\n\u2002\u2002\"firstName\": \"foo\",\n\u2002\u2002\"lastName\": \"bar\",\n\u2002\u2002\"age\": 20,\n\u2002\u2002\"email\":\"email@example.com\"\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002}\n</code></pre>\n\n<p>However, some objects are like this:</p>\n\n<pre><code>{\n\u2002\u2002\"firstName\": \"name\",\n\u2002\u2002\"age\": 40,\n\u2002\u2002\"email\":\"email@example.com\"\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002}\n</code></pre>\n\n<p>What's the optimal way to only write the objects with each string of the superset to a csv?</p>\n\n<p>If it were simply a case of a string having a null value, I think I'd just use .dropna with pandas and it'd omit that row from the csv.</p>\n\n<p>Should I impute the missing strings so that each object contains the superset, but with null values? If so, how?</p>\n"}]