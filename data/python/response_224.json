[{"tags": ["python", "machine-learning", "data-science"], "comments": [{"owner": {"reputation": 35, "user_id": 11407967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c06412ebddc5ec8220dd7c355485a75?s=128&d=identicon&r=PG&f=1", "display_name": "SRajput", "link": "https://stackoverflow.com/users/11407967/srajput"}, "edited": false, "score": 0, "creation_date": 1556220450, "post_id": 55840054, "comment_id": 98374095, "body": "Thanks Mr. Javed"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11407967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c06412ebddc5ec8220dd7c355485a75?s=128&d=identicon&r=PG&f=1", "display_name": "SRajput", "link": "https://stackoverflow.com/users/11407967/srajput"}, "edited": false, "score": 1, "creation_date": 1556208585, "post_id": 55840169, "comment_id": 98368716, "body": "thanks for replying Aditya. problem is that it is a text file that contains movies dialog. its not in CSV. Are you saying that i have to convert this text file to CSV before splitting it. i do not think that a good approach. please let me know what you think about it."}, {"owner": {"reputation": 991, "user_id": 7806576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d9ffb772748b6520e3a584ec3533c1?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Deshpande", "link": "https://stackoverflow.com/users/7806576/aditya-deshpande"}, "reply_to_user": {"reputation": 35, "user_id": 11407967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c06412ebddc5ec8220dd7c355485a75?s=128&d=identicon&r=PG&f=1", "display_name": "SRajput", "link": "https://stackoverflow.com/users/11407967/srajput"}, "edited": false, "score": 0, "creation_date": 1556246520, "post_id": 55840169, "comment_id": 98380987, "body": "No, in Pandas the <code>to_csv</code> method handles text data as well, you just don&#39;t have to specify anything for the parameter <code>\\sep=</code>"}], "tags": [], "owner": {"reputation": 991, "user_id": 7806576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d9ffb772748b6520e3a584ec3533c1?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Deshpande", "link": "https://stackoverflow.com/users/7806576/aditya-deshpande"}, "is_accepted": true, "score": 1, "last_activity_date": 1556151474, "creation_date": 1556151474, "answer_id": 55840169, "question_id": 55840054, "link": "https://stackoverflow.com/questions/55840054/can-not-split-large-txt-file-into-train-test-and-validation-parts-for-deep-tex/55840169#55840169", "title": "can not split large .txt file into train, test and validation parts for deep text corrector", "body": "<p>You can load the large file into a Pandas DataFrame(say, <em>df</em>) using <code>pd.from_csv()</code> method \nAfter this, you can split the dataframe into Train(<em>df_train</em>) and Test(<em>df_val</em>)</p>\n\n<p>Now, you can use the <code>pd.to_csv()</code> two times and pass the filenames as a function parameter to generate text files of <em>movie_dialog_train.txt</em> and <em>movie_dialog_val.txt</em></p>\n\n<p>You can create a small Python script just for this and run it, so that your train and validation files are present before you actually run the code.</p>\n"}], "owner": {"reputation": 35, "user_id": 11407967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c06412ebddc5ec8220dd7c355485a75?s=128&d=identicon&r=PG&f=1", "display_name": "SRajput", "link": "https://stackoverflow.com/users/11407967/srajput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 55840169, "answer_count": 1, "score": 2, "last_activity_date": 1556154844, "creation_date": 1556150393, "last_edit_date": 1556154844, "question_id": 55840054, "link": "https://stackoverflow.com/questions/55840054/can-not-split-large-txt-file-into-train-test-and-validation-parts-for-deep-tex", "title": "can not split large .txt file into train, test and validation parts for deep text corrector", "body": "<p>I have a single large .txt file and I want to split it into train, test and validation set. below are the lines of code where I want to use those flies. I am not getting any intuition about how to do it. </p>\n\n<pre><code>python correct_text.py --train_path \n                        /movie_dialog_train.txt \\\n                       --val_path /movie_dialog_val.txt \\\n                       --config DefaultMovieDialogConfig \\\n                       --data_reader_type MovieDialogReader \\\n                       --model_path /movie_dialog_model\n</code></pre>\n"}, {"tags": ["python", "string", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 3566, "user_id": 8089090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8fc31c29878a0b7a90c1174d366e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gagne", "link": "https://stackoverflow.com/users/8089090/jonathan-gagne"}, "is_accepted": false, "score": 2, "last_activity_date": 1556372642, "last_edit_date": 1556372642, "creation_date": 1556150255, "answer_id": 55840038, "question_id": 55839991, "link": "https://stackoverflow.com/questions/55839991/beginner-question-why-wont-my-formatted-string-work-properly/55840038#55840038", "title": "(Beginner question) Why wont my formatted string work properly?", "body": "<p>Oh I see, you have to convert it to <code>int</code> if you use <code>input</code>:</p>\n\n<pre><code>customer_income = input(\"Annual Salary: \")\ncustomer_credit = input(\"Credit Score?: \")\n\ngood_income = int(customer_income) &gt;= 100\ngood_credit = int(customer_credit) &gt;= 70\n\nmessage = \"Yes\" if good_income and good_credit else \"No\"\n\nprint(message)\n</code></pre>\n\n<blockquote>\n  <p>Output with <code>99</code> and <code>70</code> is <code>no</code>, and with <code>100</code> and <code>70</code> is <code>yes</code></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 11407872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UozuC.png?s=128&g=1", "display_name": "Dcode", "link": "https://stackoverflow.com/users/11407872/dcode"}, "edited": false, "score": 0, "creation_date": 1556152479, "post_id": 55840041, "comment_id": 98343945, "body": "Ahhh that makes sense thank you! Also thanks for the extra functions, I&#39;m assuming those will help with dealing with decimal inputs as well."}], "tags": [], "owner": {"reputation": 4510, "user_id": 2644759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291980e5706c49b03f3fa3d74951d02?s=128&d=identicon&r=PG", "display_name": "Philip Tzou", "link": "https://stackoverflow.com/users/2644759/philip-tzou"}, "is_accepted": false, "score": 0, "last_activity_date": 1556150292, "creation_date": 1556150292, "answer_id": 55840041, "question_id": 55839991, "link": "https://stackoverflow.com/questions/55839991/beginner-question-why-wont-my-formatted-string-work-properly/55840041#55840041", "title": "(Beginner question) Why wont my formatted string work properly?", "body": "<p>You are trying to compare strings but not integers. It will run but the comparison is based on ASCII order.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>while True:\n    customer_income = input(\"Annual Salary: \")\n    try:\n        good_income = int(customer_income) &gt;= 100\n        break\n    except ValueError:\n        print('Please type a number.')\n\nwhile True:\n    customer_credit = input(\"Credit Score?: \")\n    try:\n        good_credit = int(customer_credit) &gt;= 70\n        break\n    except ValueError:\n        print('Please type a number.')\n\nmessage = \"Yes\" if good_income and good_credit else \"No\"\n\nprint(message)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8803, "user_id": 3867406, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2953c91f637b80205241c00c3e215b9a?s=128&d=identicon&r=PG&f=1", "display_name": "ted", "link": "https://stackoverflow.com/users/3867406/ted"}, "is_accepted": false, "score": 0, "last_activity_date": 1556150300, "creation_date": 1556150300, "answer_id": 55840044, "question_id": 55839991, "link": "https://stackoverflow.com/questions/55839991/beginner-question-why-wont-my-formatted-string-work-properly/55840044#55840044", "title": "(Beginner question) Why wont my formatted string work properly?", "body": "<p>You are trying to compare strings, while what you actually expect is to compare the <code>int</code>s represented by these strings.</p>\n\n<p>Therefore, you need to parse these strings <strong>to</strong> an <code>int</code> with the <code>int()</code> function:</p>\n\n<pre><code>customer_income = input(\"Annual Salary: \")\ncustomer_credit = input(\"Credit Score?: \")\n\ngood_income = int(customer_income) &gt;= \"100\"\ngood_credit = int(customer_credit) &gt;= \"70\"\n\nmessage = \"Yes\" if good_income and good_credit else \"No\"\n\nprint(message)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11407872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UozuC.png?s=128&g=1", "display_name": "Dcode", "link": "https://stackoverflow.com/users/11407872/dcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1556372642, "creation_date": 1556149814, "last_edit_date": 1556149894, "question_id": 55839991, "link": "https://stackoverflow.com/questions/55839991/beginner-question-why-wont-my-formatted-string-work-properly", "title": "(Beginner question) Why wont my formatted string work properly?", "body": "<p>I am using the Vs Code software to practice my coding skills. I am trying to have the results come out 'Yes' if both inputs are above 100 (Income) and 70 (Credit Score). It seems to only worry about the range of the Credit Score and not the Income. So regardless of how high or how low the Income is, it gives results based off of the Credit Score input only. Can anyone point out any errors in my code? Also there are no Syntax Errors alerting me about anything wrong. Can anyone figure this out?</p>\n\n<p>P.s I understand I could write the code another way but I am trying to use formatted strings because I think it will be beneficial to use in the long run when I start more complex projects. I am new to coding so I am not sure if formatted strings are really necessary, but I prefer them.</p>\n\n<pre><code>customer_income = input(\"Annual Salary: \")\ncustomer_credit = input(\"Credit Score?: \")\n\ngood_income = customer_income &gt;= \"100\"\ngood_credit = customer_credit &gt;= \"70\"\n\nmessage = \"Yes\" if good_income and good_credit else \"No\"\n\nprint(message)\n</code></pre>\n\n<p>I am trying to have the results come out 'Yes' if both inputs are above 100 (Income) and 70 (Credit Score). Results ignore Income input and focuses on Credit Score only. But will also return 'No' if Credit Score is above 99.</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "azure-databricks"], "answers": [{"comments": [{"owner": {"reputation": 4676, "user_id": 193512, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba3b56de04d09bdb67c3f47f8491fd36?s=128&d=identicon&r=PG", "display_name": "Rodney", "link": "https://stackoverflow.com/users/193512/rodney"}, "edited": false, "score": 0, "creation_date": 1556153131, "post_id": 55840204, "comment_id": 98344074, "body": "Thanks, that&#39;s awesome! Now... how would I do the same thing but with Median? There does not seem to be a Median window function and a UDF with approxQuantile does not work"}, {"owner": {"reputation": 46235, "user_id": 3431869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b2315fa60f613de9565af031264f31?s=128&d=identicon&r=PG&f=1", "display_name": "Vamsi Prabhala", "link": "https://stackoverflow.com/users/3431869/vamsi-prabhala"}, "reply_to_user": {"reputation": 4676, "user_id": 193512, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba3b56de04d09bdb67c3f47f8491fd36?s=128&d=identicon&r=PG", "display_name": "Rodney", "link": "https://stackoverflow.com/users/193512/rodney"}, "edited": false, "score": 0, "creation_date": 1556153261, "post_id": 55840204, "comment_id": 98344102, "body": "you can probably use <code>percent_rank</code>?"}], "tags": [], "owner": {"reputation": 46235, "user_id": 3431869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b2315fa60f613de9565af031264f31?s=128&d=identicon&r=PG&f=1", "display_name": "Vamsi Prabhala", "link": "https://stackoverflow.com/users/3431869/vamsi-prabhala"}, "is_accepted": true, "score": 1, "last_activity_date": 1556151796, "creation_date": 1556151796, "answer_id": 55840204, "question_id": 55839959, "link": "https://stackoverflow.com/questions/55839959/how-to-fill-null-values-with-a-aggregate-of-a-group-using-pyspark/55840204#55840204", "title": "How to fill null values with a aggregate of a group using PySpark", "body": "<p>This can be done in one step using window function <code>avg</code>.</p>\n\n<pre><code>from pyspark.sql import Window\nfrom pyspark.sql import when,avg\nw = Window.partitionBy(df.title)\nres = df.withColumn(\"mean_col\",avg(df.age).over(w))\n</code></pre>\n"}], "owner": {"reputation": 4676, "user_id": 193512, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba3b56de04d09bdb67c3f47f8491fd36?s=128&d=identicon&r=PG", "display_name": "Rodney", "link": "https://stackoverflow.com/users/193512/rodney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1913, "favorite_count": 1, "accepted_answer_id": 55840204, "answer_count": 1, "score": 0, "last_activity_date": 1556151796, "creation_date": 1556149479, "last_edit_date": 1556149711, "question_id": 55839959, "link": "https://stackoverflow.com/questions/55839959/how-to-fill-null-values-with-a-aggregate-of-a-group-using-pyspark", "title": "How to fill null values with a aggregate of a group using PySpark", "body": "<p>I have a simple dataset with some null values:</p>\n\n<pre><code>Age,Title\n10,Mr\n20,Mr\nnull,Mr\n1, Miss\n2, Miss\nnull, Miss\n</code></pre>\n\n<p>I want to fill the nulls values with the aggregate of the grouping by a different column (in this case, Title). E.g. the Mean of the Title column is:</p>\n\n<pre><code>15, Mr\n1.5, Miss\n</code></pre>\n\n<p>So the final result should look like this:</p>\n\n<pre><code>Age,Title\n10,Mr\n20,Mr\n15,Mr\n1, Miss\n2, Miss\n1.5, Miss\n</code></pre>\n\n<p>I have seen a lot of examples using <strong>Pandas</strong> using <strong>Transform</strong>:</p>\n\n<pre><code>df[\"Age\"] = df.groupby(\"Title\").transform(lambda x: x.fillna(x.mean()))\n</code></pre>\n\n<p>I am trying not to use external libraries and do it natively in pyspark. The python dataframe does not have a transform method.</p>\n\n<p>I was thinking of storing the aggregates in a separate dataframe like this:</p>\n\n<pre><code>meanAgeDf = df.groupBy(\"Title\").mean(\"Age\").select(\"Title\", col(\"avg(Age)\").alias(\"AgeMean\"))\n</code></pre>\n\n<p>and then for each grouping lookup the Title and fill all those values with that mean value:</p>\n\n<pre><code>from pyspark.sql.functions import when, col\nx = df.join(meanAgeDf, \"Title\").withColumn(\"AgeMean\", when(col(\"Age\").isNull(), col(\"AgeMean\")).otherwise(col(\"Age\")))\n</code></pre>\n\n<p>Is this the most efficient way to do this?</p>\n"}, {"tags": ["python", "tensorflow", "tensorboard"], "comments": [{"owner": {"reputation": 758, "user_id": 1349516, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9393b8cafa7a00ac20b2efcabc1508ee?s=128&d=identicon&r=PG&f=1", "display_name": "spiralarchitect", "link": "https://stackoverflow.com/users/1349516/spiralarchitect"}, "edited": false, "score": 1, "creation_date": 1560346217, "post_id": 55839957, "comment_id": 99706335, "body": "Did u find solution for this?"}], "answers": [{"comments": [{"owner": {"reputation": 1764, "user_id": 360496, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eeb45ef5874acc0726f5ea9a9b9e18f9?s=128&d=identicon&r=PG", "display_name": "Yossi Farjoun", "link": "https://stackoverflow.com/users/360496/yossi-farjoun"}, "edited": false, "score": 0, "creation_date": 1564002419, "post_id": 57137517, "comment_id": 100892120, "body": "Thanks! Can you clarify on how to get a value for &quot;frame&quot; within the keras framework? (also array) I&#39;ve been having trouble with TF wanting a TF tensor, and I am only able to provide it with strings (names) or Keras layers...."}, {"owner": {"reputation": 10041, "user_id": 5140223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFV3f.jpg?s=128&g=1", "display_name": "rvinas", "link": "https://stackoverflow.com/users/5140223/rvinas"}, "reply_to_user": {"reputation": 1764, "user_id": 360496, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eeb45ef5874acc0726f5ea9a9b9e18f9?s=128&d=identicon&r=PG", "display_name": "Yossi Farjoun", "link": "https://stackoverflow.com/users/360496/yossi-farjoun"}, "edited": false, "score": 0, "creation_date": 1564088483, "post_id": 57137517, "comment_id": 100926503, "body": "You could probably get the value for &quot;frame&quot; by running <code>sess.run(your_tensor)</code>, where <code>your_tensor</code> is the TF tensor that you want to monitor. I have updated the code to show how this might look like"}], "tags": [], "owner": {"reputation": 10041, "user_id": 5140223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFV3f.jpg?s=128&g=1", "display_name": "rvinas", "link": "https://stackoverflow.com/users/5140223/rvinas"}, "is_accepted": false, "score": 1, "last_activity_date": 1564088411, "last_edit_date": 1564088411, "creation_date": 1563749251, "answer_id": 57137517, "question_id": 55839957, "link": "https://stackoverflow.com/questions/55839957/how-to-implement-beholder-tensorboard-plugin-for-keras/57137517#57137517", "title": "How to implement Beholder (Tensorboard plugin) for Keras?", "body": "<p>It would be appropriate to create a <a href=\"https://www.tensorflow.org/beta/guide/keras/custom_callback\" rel=\"nofollow noreferrer\">custom Keras callback</a>, so that you can call <code>visualizer.update(session=session)</code> at the end of each epoch (or whenever you want). Here is an example showing how such callback could look like:</p>\n\n<pre><code>from tensorboard.plugins.beholder import Beholder\nimport tensorflow as tf\nimport keras.backend as K\nimport keras\n\nLOG_DIRECTORY='/tmp/tensorflow_logs'\n\n\nclass BeholderCallback(keras.callbacks.Callback):\n    def __init__(self, tensor, logdir=LOG_DIRECTORY, sess=None):\n        self.visualizer = Beholder(logdir=logdir)\n        self.sess = sess\n        if sess is None:\n            self.sess = K.get_session()\n        self.tensor = tensor\n\n    def on_epoch_end(self, epoch, logs=None):\n        frame = self.sess.run(self.tensor)  # depending on the tensor, this might require a feed_dict\n        self.visualizer.update(\n            session=self.sess,\n            frame=frame\n        )\n</code></pre>\n\n<p>Then, after defining your model, instantiate the callback and pass it to <a href=\"https://keras.io/models/model/#fit\" rel=\"nofollow noreferrer\">model.fit</a>:</p>\n\n<pre><code># Define your Keras model\n# ...\n\n#\u00a0Prepare callback\nsess = K.get_session() \nbeholder_callback = BeholderCallback(your_tensor, sess=sess)\n\n# Fit data into model and pass callback to model.fit\nmodel.fit(x=x_train,\n          y=y_train,\n          callbacks=[beholder_callback])\n</code></pre>\n\n<p>You could also use the argument <code>arrays</code> of <code>visualizer.update</code> in a similar way.</p>\n"}], "owner": {"reputation": 71, "user_id": 11407941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad106f1bb9a96f649d2fc32df3df551?s=128&d=identicon&r=PG", "display_name": "Gica", "link": "https://stackoverflow.com/users/11407941/gica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1564088411, "creation_date": 1556149474, "question_id": 55839957, "link": "https://stackoverflow.com/questions/55839957/how-to-implement-beholder-tensorboard-plugin-for-keras", "title": "How to implement Beholder (Tensorboard plugin) for Keras?", "body": "<p>I am trying to implement the <a href=\"https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/beholder\" rel=\"noreferrer\">Beholder</a> plugin from Tensorboard into a simple CNN code (I am a beginner at Tensorflow), but I am not sure where to put the <code>visualizer.update(session=session)</code>.\nAt the beginning I have: </p>\n\n<pre><code>from tensorboard.plugins.beholder import Beholder\nLOG_DIRECTORY='/tmp/tensorflow_logs'\nvisualizer = Beholder(logdir=LOG_DIRECTORY)\n</code></pre>\n\n<p>I train my model like this:</p>\n\n<pre><code>model = Sequential()\nmodel.add(Conv2D(32, (3, 3), input_shape=(253,27,3))) \n.\n.\n.\nmodel.compile(loss='binary_crossentropy',\n                  optimizer='rmsprop',\n                  metrics=['accuracy'])\n</code></pre>\n\n<p>Where should I put the <code>visualizer.update(session=session)</code> and what else should I put in my code, as for now it says No Beholder data was found. Thank you!</p>\n"}, {"tags": ["python", "tar"], "comments": [{"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1556149691, "post_id": 55839947, "comment_id": 98343531, "body": "Is the tar file compressed?  If yes, then it&#39;s doubtful having the offset is helpful as it has to decompress enough to reach the desired location and then fetch the data.  Zip is a better format if you need quick, single file extraction."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 1, "creation_date": 1556149735, "post_id": 55839947, "comment_id": 98343539, "body": "This is a useful answer too: <a href=\"https://superuser.com/a/655802\">superuser.com/a/655802</a>"}, {"owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1556149899, "post_id": 55839947, "comment_id": 98343565, "body": "Yes, working with compressed archives, I&#39;ll take the zip suggestion under advisement, that might indeed be a better approach than fighting something that doesn&#39;t want to yield. I think that superuser question answers this well."}], "answers": [{"tags": [], "owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "is_accepted": true, "score": 0, "last_activity_date": 1556834132, "creation_date": 1556834132, "answer_id": 55960756, "question_id": 55839947, "link": "https://stackoverflow.com/questions/55839947/can-i-store-a-fast-lookup-index-to-a-tar-file-using-pythons-tarfile-package/55960756#55960756", "title": "Can I store a fast-lookup index to a tar file using python&#39;s tarfile package?", "body": "<p>This superuser.com question answers it, by John Szakmeister in comments, thanks!</p>\n\n<p><a href=\"https://superuser.com/questions/655739/extract-single-file-from-huge-tgz-file/655802#655802\">https://superuser.com/questions/655739/extract-single-file-from-huge-tgz-file/655802#655802</a></p>\n\n<p>Short answer: if you enable compression it's streamed across the tar archive, not per-file, so the answer is no.</p>\n"}], "owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "accepted_answer_id": 55960756, "answer_count": 1, "score": 0, "last_activity_date": 1556834132, "creation_date": 1556149372, "question_id": 55839947, "link": "https://stackoverflow.com/questions/55839947/can-i-store-a-fast-lookup-index-to-a-tar-file-using-pythons-tarfile-package", "title": "Can I store a fast-lookup index to a tar file using python&#39;s tarfile package?", "body": "<p>I have a large tar archive and am using python (3.6+) and the <code>tarfile</code> package.</p>\n\n<p>If I use <code>tar_info = tarfile.getmember(filename)</code> I can then call <code>tarfile.extract(tar_info)</code>, however the call to <code>extract</code> is slow, appearing to scan the file, taking many minutes on a large archive.</p>\n\n<p>I see that the <code>tar_info</code> object has an offset in it, so it seems like this should be a quick seek and read operation.</p>\n\n<p>I'm wondering if there is a way to store an index into the tar file such that <em>it is</em> a quick seek and read operation to extract any specific file, given that I have the necessary information indexed outside the tar file.</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "load", "pickle"], "comments": [{"owner": {"reputation": 112, "user_id": 10376812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrgrA.png?s=128&g=1", "display_name": "Mohammad Javad", "link": "https://stackoverflow.com/users/10376812/mohammad-javad"}, "reply_to_user": {"reputation": 1367, "user_id": 10930232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0472442ea6458a63dafac37cb0c4b087?s=128&d=identicon&r=PG&f=1", "display_name": "101arrowz", "link": "https://stackoverflow.com/users/10930232/101arrowz"}, "edited": false, "score": 0, "creation_date": 1556149369, "post_id": 55839910, "comment_id": 98343476, "body": "@101arrowz yes I have tried this and I got &gt;TypeError: a bytes-like object is required, not &#39;str&#39; error!"}, {"owner": {"reputation": 112, "user_id": 10376812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrgrA.png?s=128&g=1", "display_name": "Mohammad Javad", "link": "https://stackoverflow.com/users/10376812/mohammad-javad"}, "reply_to_user": {"reputation": 1367, "user_id": 10930232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0472442ea6458a63dafac37cb0c4b087?s=128&d=identicon&r=PG&f=1", "display_name": "101arrowz", "link": "https://stackoverflow.com/users/10930232/101arrowz"}, "edited": false, "score": 0, "creation_date": 1556149675, "post_id": 55839910, "comment_id": 98343528, "body": "@101arrowz Actually, I want to load a dataset and I don&#39;t have enough information about this! some descriptions are available in this link: (<a href=\"https://www.eecs.qmul.ac.uk/mmv/datasets/deap/readme.html#prep\" rel=\"nofollow noreferrer\">eecs.qmul.ac.uk/mmv/datasets/deap/readme.html#prep</a>)"}, {"owner": {"reputation": 112, "user_id": 10376812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrgrA.png?s=128&g=1", "display_name": "Mohammad Javad", "link": "https://stackoverflow.com/users/10376812/mohammad-javad"}, "reply_to_user": {"reputation": 1367, "user_id": 10930232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0472442ea6458a63dafac37cb0c4b087?s=128&d=identicon&r=PG&f=1", "display_name": "101arrowz", "link": "https://stackoverflow.com/users/10930232/101arrowz"}, "edited": false, "score": 0, "creation_date": 1556150564, "post_id": 55839910, "comment_id": 98343660, "body": "The files are pickled python/numpy  formats"}], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 1609219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8011f24239129b303034d5d6c6b5cb65?s=128&d=identicon&r=PG&f=1", "display_name": "Macattack", "link": "https://stackoverflow.com/users/1609219/macattack"}, "is_accepted": false, "score": 1, "last_activity_date": 1556151669, "creation_date": 1556151669, "answer_id": 55840191, "question_id": 55839910, "link": "https://stackoverflow.com/questions/55839910/how-could-i-solve-ascii-codec-cant-decode-byte-0x9a-in-position-8-ordinal-no/55840191#55840191", "title": "how could I solve &quot;ascii&#39; codec can&#39;t decode byte 0x9a in position 8: ordinal not in range(128)&quot;? ( A problem with cPickle in python 3)", "body": "<p>First, if you're trying to use <code>pickle</code> in python3, just do <code>import pickle</code> (it uses the compiled cPickle when available) or <code>from six.moves import cPickle</code> if you need compatibility with python2.</p>\n\n<p>Second, the encoding option you need is the one that gets sent to <code>pickle.load</code> not to <code>open</code>. Try:</p>\n\n<pre><code>x = cPickle.load(open('s07.dat', 'rb'), encoding='utf-8')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 10376812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrgrA.png?s=128&g=1", "display_name": "Mohammad Javad", "link": "https://stackoverflow.com/users/10376812/mohammad-javad"}, "is_accepted": true, "score": 2, "last_activity_date": 1556152392, "creation_date": 1556152392, "answer_id": 55840277, "question_id": 55839910, "link": "https://stackoverflow.com/questions/55839910/how-could-i-solve-ascii-codec-cant-decode-byte-0x9a-in-position-8-ordinal-no/55840277#55840277", "title": "how could I solve &quot;ascii&#39; codec can&#39;t decode byte 0x9a in position 8: ordinal not in range(128)&quot;? ( A problem with cPickle in python 3)", "body": "<p>My problem is solved by using @Macattack 's answer as below:</p>\n\n<pre><code>import pickle \nx = pickle.load(open('s07.dat', 'rb'),  encoding='iso-8859-1')\n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 10376812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrgrA.png?s=128&g=1", "display_name": "Mohammad Javad", "link": "https://stackoverflow.com/users/10376812/mohammad-javad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 1, "accepted_answer_id": 55840277, "answer_count": 2, "score": 0, "last_activity_date": 1556152392, "creation_date": 1556148939, "last_edit_date": 1556150993, "question_id": 55839910, "link": "https://stackoverflow.com/questions/55839910/how-could-i-solve-ascii-codec-cant-decode-byte-0x9a-in-position-8-ordinal-no", "title": "how could I solve &quot;ascii&#39; codec can&#39;t decode byte 0x9a in position 8: ordinal not in range(128)&quot;? ( A problem with cPickle in python 3)", "body": "<p>I'm using python 3.x and I want to run below code:</p>\n\n<pre><code>import cPickle\nx = cPickle.load(open('s01.dat', 'rb'))\n</code></pre>\n\n<p>It works very well in python 2.x but when I try in python 3 I get this error:</p>\n\n<blockquote>\n  <p>ModuleNotFoundError: No module named 'cPickle'</p>\n</blockquote>\n\n<p>I solved it by some other post in the StackOverflow and changed my code to :</p>\n\n<pre><code>import _pickle as cPickle\nx = cPickle.load(open('s07.dat', 'rb'))\n</code></pre>\n\n<p>And I get this error:</p>\n\n<blockquote>\n  <p>UnicodeDecodeError: 'ascii' codec can't decode byte 0x9a in position\n  8: ordinal not in range(128)</p>\n</blockquote>\n\n<p>I try to solve it by changing the encoding like:</p>\n\n<pre><code>import _pickle as cPickle\nx = cPickle.load(open('s07.dat', 'rb',encoding='iso-8859-1'))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import _pickle as cPickle\nx = cPickle.load(open('s07.dat', 'rb',encoding='utf-8'))\n</code></pre>\n\n<p>but still I get this error:</p>\n\n<blockquote>\n  <p>ValueError: binary mode doesn't take an encoding argument</p>\n</blockquote>\n\n<p>My *.dat file contains two arrays, and I expect to import them!\nHow could I overcome these problems?</p>\n"}, {"tags": ["python", "for-loop", "nested-loops"], "comments": [{"owner": {"reputation": 744, "user_id": 908152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/059ad47dc4597b367bde76dd81a5afb5?s=128&d=identicon&r=PG", "display_name": "David Lai", "link": "https://stackoverflow.com/users/908152/david-lai"}, "edited": false, "score": 0, "creation_date": 1556150136, "post_id": 55839896, "comment_id": 98343599, "body": "I&#39;d probably use a dictionary/hashmap object."}, {"owner": {"reputation": 744, "user_id": 908152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/059ad47dc4597b367bde76dd81a5afb5?s=128&d=identicon&r=PG", "display_name": "David Lai", "link": "https://stackoverflow.com/users/908152/david-lai"}, "edited": false, "score": 0, "creation_date": 1556150468, "post_id": 55839896, "comment_id": 98343649, "body": "``` map = {} for list_item in lists:   if(map[list[0]]):     map[list[0]].add(list)   else:     map[list[0] = [list]  indicies_or_repeats = filter(lambda x: len(map[x]) &gt; 1, map.keys()) ```"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11407910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33413871498f995a8ae03b710dae254?s=128&d=identicon&r=PG&f=1", "display_name": "ftr17", "link": "https://stackoverflow.com/users/11407910/ftr17"}, "edited": false, "score": 0, "creation_date": 1556152776, "post_id": 55840001, "comment_id": 98344001, "body": "Thanks for your reply. I realise I&#39;ve been a bit unclear in how i&#39;ve named my variables. I really just want to return the lists with common first elements i.e. [[4,5], [4,6], [4,7]].  Following your advice, my output reads [[4, 5], [4, 5], [4, 6]]. Whereas I want [[4, 5], [4, 6], [4, 7]]. What do you suggest?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 1, "user_id": 11407910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33413871498f995a8ae03b710dae254?s=128&d=identicon&r=PG&f=1", "display_name": "ftr17", "link": "https://stackoverflow.com/users/11407910/ftr17"}, "edited": false, "score": 0, "creation_date": 1556232222, "post_id": 55840001, "comment_id": 98378260, "body": "If you want all of the common elements, then you need to add them to the list.  You&#39;ve added only the first element of each matching pair, which <i>guarantees</i> that you&#39;ll miss the last element in each such group.  Instead, add <i>both</i> elements, provided they&#39;re not already in the list.  Alternately, add them both as pairs (2-tuples) and use a set to remove duplicates."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1556150863, "last_edit_date": 1556150863, "creation_date": 1556149921, "answer_id": 55840001, "question_id": 55839896, "link": "https://stackoverflow.com/questions/55839896/how-to-restrict-the-number-of-iterations-of-a-nested-for-loop-to-only-cases-wher/55840001#55840001", "title": "How to restrict the number of iterations of a nested for loop to only cases where the loop counters are different?", "body": "<p>This one is simple, since you want only one instance of each combination.  Simply start your inner loop counter <em>above</em> the outer one:</p>\n\n<pre><code>for i in range(0, len(list)):\n    for j in range(i+1, len(list)):\n        if list[i][0] == list[j][0]:\n            indices_of_repeats.append(list[i])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[(2, 3), (2, 4), (3, 4)]\n</code></pre>\n\n<p>These are the indices of pairs with matching first elements.\n    [[4, 5], [4, 5], [4, 6]]</p>\n\n<p>This isn't particularly descriptive: you print the first element of the matching pair in each case.  I suspect you need something better, such as pairs of indices:</p>\n\n<pre><code>            indices_of_repeats.append( (i, j) )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2646, "user_id": 9282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Djkuj.png?s=128&g=1", "display_name": "Guimoute", "link": "https://stackoverflow.com/users/9282844/guimoute"}, "is_accepted": false, "score": 0, "last_activity_date": 1556150929, "last_edit_date": 1556150929, "creation_date": 1556150198, "answer_id": 55840029, "question_id": 55839896, "link": "https://stackoverflow.com/questions/55839896/how-to-restrict-the-number-of-iterations-of-a-nested-for-loop-to-only-cases-wher/55840029#55840029", "title": "How to restrict the number of iterations of a nested for loop to only cases where the loop counters are different?", "body": "<p>Here is a simple solution with just an extra condition in the <code>if</code>. It's not efficient, but it does not seem like you have thousands of items to process.</p>\n\n<pre><code>list = [[1,2], [2,3], [4,5], [4,6],[4,7]]\n\nindices_of_repeats = []\nfor i in range(0,len(list)):\n    for j in range(0,len(list)):\n        if list[i][0] == list[j][0] and i !=j and list[i] not in indices_of_repeats:\n            indices_of_repeats.append(list[i])\nprint (indices_of_repeats)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11407910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33413871498f995a8ae03b710dae254?s=128&d=identicon&r=PG&f=1", "display_name": "ftr17", "link": "https://stackoverflow.com/users/11407910/ftr17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556153621, "creation_date": 1556148821, "last_edit_date": 1556153621, "question_id": 55839896, "link": "https://stackoverflow.com/questions/55839896/how-to-restrict-the-number-of-iterations-of-a-nested-for-loop-to-only-cases-wher", "title": "How to restrict the number of iterations of a nested for loop to only cases where the loop counters are different?", "body": "<p>I am trying to write a simple program that can identify lists within a 'list of lists' that have the same 'zeroth' element.</p>\n\n<p>My attempt is below.</p>\n\n<p>Since my construction considers cases where the e.g. i= 0, j=1 and i=1,j=0 to be different, I end up printing out twice as many lists as I need.</p>\n\n<p>I know that I can use list(set(indices_of_repeats)) to remove the duplicates but this doesn't really directly address the underlying issue, which is that I want to understand how to place a condition on the values that my loop counters (is that the correct terminology?) take relative to each other, and not bother to iterate over cases where that condition is not met.</p>\n\n<p>Also, I invite any suggestions for faster/more elegant/more pythonic ways to write this program.</p>\n\n<pre><code>list = [[1,2], [2,3], [4,5], [4,6],[4,7]]\n\nindices_of_repeats = []\nfor i in range(0,len(list)):\n    for j in range(0,len(list)):\n        if list[i][0] == list[j][0] and i !=j:\n            indices_of_repeats.append(list[i])\nprint (indices_of_repeats)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I've come up with the following - this works but any better suggestions are welcome.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>list = [[4,5],[1,2], [2,3], [4,6],[4,7]]\nrepeats = []\n  for i in range(len(list)):\n      for j in range(len(list)):\n          if list[i][0] == list[j][0] and i!=j:\n              repeats.append(list[i])\n              break\nprint (repeats)\n</code></pre>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 2360, "user_id": 9041710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9wtH.jpg?s=128&g=1", "display_name": "vlizana", "link": "https://stackoverflow.com/users/9041710/vlizana"}, "edited": false, "score": 0, "creation_date": 1556149051, "post_id": 55839874, "comment_id": 98343429, "body": "also a little more context would be useful."}, {"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 0, "creation_date": 1556149282, "post_id": 55839874, "comment_id": 98343460, "body": "why cant you use a set?"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1556808455, "post_id": 55839874, "comment_id": 98561786, "body": "Please use the <a href=\"https://stackoverflow.com/posts/55839874/edit\">edit</a> button to add additional information to your question. This is better than trying to add it as a comment. A worked example showing a short sample input CSV file and your expected output CSV would be good."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1556970437, "post_id": 55839874, "comment_id": 98613750, "body": "What is <code>clean_text</code>? Can you either supply a CSV file that actually works with your code or trim your code down to work with the provided CSV? The latter option is very much preferred."}, {"owner": {"reputation": 21, "user_id": 2779874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf561c78669c008b7b380eaaecfb8671?s=128&d=identicon&r=PG&f=1", "display_name": "user2779874", "link": "https://stackoverflow.com/users/2779874/user2779874"}, "edited": false, "score": 0, "creation_date": 1556975698, "post_id": 55839874, "comment_id": 98615025, "body": "clean_text is a function to remove unwanted charactors from CSV file data I have uploaded my CSV file: <a href=\"https://mobile-auto-services.com/feeds/LawnMowersUK.csv\" rel=\"nofollow noreferrer\">mobile-auto-services.com/feeds/LawnMowersUK.csv</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 0, "last_activity_date": 1556987474, "last_edit_date": 1592644375, "creation_date": 1556987474, "answer_id": 55984598, "question_id": 55839874, "link": "https://stackoverflow.com/questions/55839874/regex-for-matching-repetitive-strings/55984598#55984598", "title": "RegEx for matching repetitive strings", "body": "<h3>RegEx</h3>\n<p><a href=\"https://regex101.com/r/5jPEnf/1\" rel=\"nofollow noreferrer\">This expression</a> might help you to remove your repeated inputs in your CSV file using a string replace:</p>\n<pre><code>([\\s\\S]+)\\1{1,} \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Nut99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nut99.png\" alt=\"enter image description here\" /></a></p>\n<h3>Graph</h3>\n<p>This graph shows that how it would work by back-referencing:</p>\n<p><a href=\"https://i.stack.imgur.com/OWUqx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OWUqx.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 21, "user_id": 2779874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf561c78669c008b7b380eaaecfb8671?s=128&d=identicon&r=PG&f=1", "display_name": "user2779874", "link": "https://stackoverflow.com/users/2779874/user2779874"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1556987597, "creation_date": 1556148633, "last_edit_date": 1556987597, "question_id": 55839874, "link": "https://stackoverflow.com/questions/55839874/regex-for-matching-repetitive-strings", "title": "RegEx for matching repetitive strings", "body": "<p>Searching product names &amp; product description crom CSV for filter volts with regex what im trying to do is remove duplicate values from my search.\nI have tried set list etc Im struggling to understand why I can not remove duplicate words from my search. not understanding how set works it seems to split all values into charactors 1,2, , v,o,l,t can one not just remove whole duplicate word in found? when I run the code I get:</p>\n\n<pre><code>12 Volt\n12 Volt\n40 Volt\n2 Volt\n18 Volt\n18 Volt\n240 Volt\n240 Volt\n110 Volt\n110 Volt\n110 Volt\n36 Volt\n</code></pre>\n\n<p>What I need and struggling to achieive is unique list of values  I.E 12 Volt, 40 Volt, 18 Volt, 240 Volt etc etc</p>\n\n<pre><code>def volts_search():\n    with open('filters/volts_filter.csv', 'w') as headerOut:\n        headerOut.write(\"name\" + \",\" + \"sort_order\" + \",\" + \"status\" + \",\" + \"image\" + \",\" + \"regex\" + \",\" + \"value\" + \"\\n\")\n\n    with open(merchant_feed, 'r') as csv_filein, open('filters/volts_filter.csv', 'a') as fileOut:\n        reader = csv.DictReader(csv_filein, delimiter=',', quotechar='\"')\n        for row in reader:\n            program_name = clean_text(row['program_name'])\n            product_name = clean_text(row['product_name'])\n            product_description = clean_text(row['description'])\n            merchant_category = clean_text(row['merchant_category'])\n            product_id = row['product_id']\n            product_brand = clean_text(row['brand'])\n\n            filter_name = \"Filter By Volts:\"\n            v = re.findall(r\"((?i)(?:)\\d+\\.\\d+v|\\d+\\.\\d+ v|\\d+ v|\\d+v)\", product_name + product_description)\n\n            volt = re.findall(r\"((?i)(?:)\\d+volt|\\d+ volt)\", product_name + product_description)\n\n            volts = re.findall(r\"((?i)(?:)\\d+\\.\\d+volts|\\d+volts)\", product_name + product_description)\n\n            seen = set()\n            for filter_search in volt:\n                if filter_search in product_name + product_description:\n                    if filter_search in seen: continue\n                    seen.add(filter_search)\n\n                    print(filter_search)\n</code></pre>\n"}, {"tags": ["python", "annotate", "waterfall"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 4633862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f0ae02f13832847f047a2fe907f27b3?s=128&d=identicon&r=PG", "display_name": "user1047", "link": "https://stackoverflow.com/users/4633862/user1047"}, "edited": false, "score": 0, "creation_date": 1556203923, "post_id": 55839961, "comment_id": 98366022, "body": "Awesome! It solves the problem after tab loop+=1 into the for loop! Thank you!"}], "tags": [], "owner": {"reputation": 798, "user_id": 10307576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ulRB.gif?s=128&g=1", "display_name": "Bugbeeb", "link": "https://stackoverflow.com/users/10307576/bugbeeb"}, "is_accepted": true, "score": 0, "last_activity_date": 1556149502, "creation_date": 1556149502, "answer_id": 55839961, "question_id": 55839852, "link": "https://stackoverflow.com/questions/55839852/wrong-annotate-in-python-waterfall-plot/55839961#55839961", "title": "Wrong annotate in python waterfall plot", "body": "<p>you need to tab your <code>loop+=1</code> because its not in the for loop. Cool graph btw.</p>\n\n<pre><code>        loop = 0\n        for index, row in trans.iterrows():\n            if row['amount'] == total:\n                y = y_height[loop]\n            else:\n                y = y_height[loop] + row['amount']\n                    # Determine if we want a neg or pos offset\n            if row['amount'] &gt; 0:\n                y += (pos_offset*2)\n                plt.annotate(self.config['formatting'].format(row['amount']),(loop,y),ha=\"center\", color = 'g', fontsize=9)\n            else:\n                y -= (pos_offset*4)\n                plt.annotate(self.config['formatting'].format(row['amount']),(loop,y),ha=\"center\", color = 'r', fontsize=9)\n            loop+=1\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4633862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f0ae02f13832847f047a2fe907f27b3?s=128&d=identicon&r=PG", "display_name": "user1047", "link": "https://stackoverflow.com/users/4633862/user1047"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 55839961, "answer_count": 1, "score": 0, "last_activity_date": 1556149502, "creation_date": 1556148389, "question_id": 55839852, "link": "https://stackoverflow.com/questions/55839852/wrong-annotate-in-python-waterfall-plot", "title": "Wrong annotate in python waterfall plot", "body": "<p>I modified a waterfall python code but it gave wrong/missing annotate. I suspect it' something wrong with plt.annotate and formatting I passed to the function, but can't find exactly what's wrong in the code after many attempts. The code I have is as follows:</p>\n\n<pre><code>class Waterfall_plot(object):\n    def __init__(self, category, data, config=None):\n        self.category = category\n        self.data = data\n        self.set_config()\n        if config != None:\n            self.config.update(config)\n\n    def set_config(self):\n        self.config = {\n                \"figsize\" : (10,10),\n                \"x_lab\" : \"\",\n                \"y_lab\" : \"Revenue\",\n                \"formatting\" : \"{:,.0f}\",\n                \"rotation_value\" : 90,\n                \"sorted_value\" : False,\n                \"threshold\" : None,\n                \"net_label\" : \"Net\",\n                \"other_label\" : \"Other\",\n                \"Title\" : \"Revenue waterfall\",\n                \"blue_color\" : \"blue\",\n                \"green_color\" : \"#95FF24\", \n                \"red_color\" : \"r\",\n                \"blank_color\" : (0,0,0,0)\n                }\n\n    def run(self):\n\n        #convert category and data to np.array\n        category=np.array(self.category)\n        data=np.array(self.data)\n\n        #If sort by loss\n        if self.config['sorted_value']: \n            abs_data = abs(data)\n            data_order = np.argsort(abs_data)[::-1]\n            data = data[data_order]\n            category = category[data_order]\n\n        #If group by threshold, group small loss less than the threshold into 'other' \n        if self.config['threshold']:\n            abs_data = abs(data)\n            threshold_v = abs_data.max()*self.config['threshold']\n            if threshold_v &gt; abs_data.min():\n                category = np.append(category[abs_data&gt;=threshold_v],self.config['other_label'])\n                data = np.append(data[abs_data&gt;=threshold_v],sum(data[abs_data&lt;threshold_v]))\n\n        changes = {'amount' : data}\n\n        fig, ax = plt.subplots(figsize = self.config['figsize'])\n        ax.yaxis.set_major_formatter(StrMethodFormatter('{x:,.0f}'))\n\n        #Store data and create a blank series to use for the waterfall\n        trans = pd.DataFrame(changes,category)\n        blank = trans.amount.cumsum().shift(1).fillna(0)\n\n        trans['positive'] = trans['amount'] &gt; 0\n\n        #Get the net total number for the final element in the waterfall\n        total = trans.sum().amount\n        trans.loc[self.config['net_label']]= total\n        blank.loc[self.config['net_label']] = total\n\n        #The steps graphically show the levels as well as used for label placement\n        step = blank.reset_index(drop=True).repeat(3).shift(-1)\n        step[1::3] = np.nan\n\n        #When plotting the last element, we want to show the full bar,\n        #Set the blank to 0\n        blank.loc[self.config['net_label']] = 0\n\n        #define bar colors for net bar\n        trans.loc[trans['positive'] &gt; 1, 'positive'] = 99\n        trans.loc[trans['positive'] &lt; 0, 'positive'] = 99\n        trans.loc[(trans['positive'] &gt; 0) &amp; (trans['positive'] &lt; 1), 'positive'] = 99\n\n        trans['color'] = trans['positive']\n\n        trans.loc[trans['positive'] == 1, 'color'] = self.config['green_color']\n        trans.loc[trans['positive'] == 0, 'color'] = self.config['red_color']\n        trans.loc[trans['positive'] == 99, 'color'] = self.config['blue_color']\n\n        my_colors = list(trans.color)\n\n        #Plot and label\n        my_plot = plt.bar(range(0,len(trans.index)), blank, width = 0.5, color = self.config['blank_color'])\n        plt.bar(range(0,len(trans.index)), trans.amount, width=0.6,\n             bottom=blank, color=my_colors)       \n\n\n        #axis labels\n        plt.xlabel(\"\\n\" + self.config['x_lab'])\n        plt.ylabel(self.config['y_lab'] + \"\\n\")\n\n        #Get the y-axis position for the labels\n        y_height = trans.amount.cumsum().shift(1).fillna(0)\n\n        temp = list(trans.amount)\n\n        # create dynamic chart range\n        for i in range(len(temp)):\n            if (i &gt; 0) &amp; (i &lt; (len(temp) - 1)):\n                temp[i] = temp[i] + temp[i-1]\n\n        trans['temp'] = temp\n\n        plot_max = trans['temp'].max()\n        plot_min = trans['temp'].min()\n\n        #Make sure the plot doesn't accidentally focus only on the changes in the data\n        if all(i &gt;= 0 for i in temp):\n            plot_min = 0\n            if all(i &lt; 0 for i in temp):\n                plot_max = 0\n\n        if abs(plot_max) &gt;= abs(plot_min):\n            maxmax = abs(plot_max)   \n        else:\n            maxmax = abs(plot_min)\n\n        pos_offset = maxmax / 40\n\n        plot_offset = maxmax / 15 \n        print(pos_offset,plot_offset)\n\n        #Start label loop\n        loop = 0\n        for index, row in trans.iterrows():\n            if row['amount'] == total:\n                y = y_height[loop]\n            else:\n                y = y_height[loop] + row['amount']\n                    # Determine if we want a neg or pos offset\n            if row['amount'] &gt; 0:\n                y += (pos_offset*2)\n                plt.annotate(self.config['formatting'].format(row['amount']),(loop,y),ha=\"center\", color = 'g', fontsize=9)\n            else:\n                y -= (pos_offset*4)\n                plt.annotate(self.config['formatting'].format(row['amount']),(loop,y),ha=\"center\", color = 'r', fontsize=9)\n        loop+=1\n\n        #Scale up the y axis so there is room for the labels\n        plt.ylim(0,plot_max+round(3.6*plot_offset, 7))\n\n        #Rotate the labels\n        plt.xticks(range(0,len(trans)), trans.index, rotation = self.config['rotation_value'])\n\n        #add zero line and title\n        plt.axhline(0, color='black', linewidth = 0.6, linestyle=\"dashed\")\n        plt.title(self.config['Title'])\n        plt.tight_layout()\n\n        return fig, ax\n</code></pre>\n\n<p>When I run the example below, it shows as the top image, however it should show something like the bottom one.</p>\n\n<pre><code>category = ['a','b','c','d','e','Other']\ndata = [350000,-30000,-7500,-25000,-95000,-7000]\nmy_plot = Waterfall_plot(category,data).run()\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/vO8rFPn.jpg\" alt=\"wrong\">!\n<img src=\"https://i.imgur.com/qCHPKNy.jpg\" alt=\"a busy cat\">!</p>\n"}, {"tags": ["python", "django", "pyopenssl"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 10726989, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69aHPrPnnTw/AAAAAAAAAAI/AAAAAAAAEM8/Q91v5FacHco/photo.jpg?sz=128", "display_name": "Mazen Ahmed", "link": "https://stackoverflow.com/users/10726989/mazen-ahmed"}, "edited": false, "score": 0, "creation_date": 1556148715, "post_id": 55839838, "comment_id": 98343375, "body": "i need this certificate only for facbook login in my web app because it requires https instead of http so i followed a tutorial but  unfortunately and i cant find the certificates path,thanks for your help"}], "tags": [], "owner": {"reputation": 1367, "user_id": 10930232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0472442ea6458a63dafac37cb0c4b087?s=128&d=identicon&r=PG&f=1", "display_name": "101arrowz", "link": "https://stackoverflow.com/users/10930232/101arrowz"}, "is_accepted": true, "score": 2, "last_activity_date": 1556148276, "creation_date": 1556148276, "answer_id": 55839838, "question_id": 55839792, "link": "https://stackoverflow.com/questions/55839792/i-cant-find-my-certificate-when-i-am-running-python-manage-py-runserver-plus/55839838#55839838", "title": "I cant find my certificate when i am running &#39; python manage.py runserver_plus --cert /etc/ssl/cert &#39;", "body": "<blockquote>\n  <p><code>python manage.py runserver_plus --cert /etc/ssl/cert</code></p>\n</blockquote>\n\n<p>but then</p>\n\n<blockquote>\n  <p><code>FileNotFoundError: [Errno 2] No such file or directory: '/etc/ssl\\cert.</code></p>\n</blockquote>\n\n<p>I see from your paths that you're on Windows. <code>/etc/</code> is a *nix/Linux-only directory, so you shouldn't be trying to place your SSL certificate there.</p>\n\n<p>Try <code>python manage.py runserver_plus --cert E:\\final3\\ssl</code> after creating an <code>ssl</code> directory in the <code>final3</code> folder.</p>\n\n<p>Finally, why on earth do you want an SSL certificate to access your <strong>local computer?</strong> Nobody can access your information but people on your network.</p>\n"}], "owner": {"reputation": 27, "user_id": 10726989, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69aHPrPnnTw/AAAAAAAAAAI/AAAAAAAAEM8/Q91v5FacHco/photo.jpg?sz=128", "display_name": "Mazen Ahmed", "link": "https://stackoverflow.com/users/10726989/mazen-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 55839838, "answer_count": 1, "score": 0, "last_activity_date": 1575519381, "creation_date": 1556147928, "last_edit_date": 1575519381, "question_id": 55839792, "link": "https://stackoverflow.com/questions/55839792/i-cant-find-my-certificate-when-i-am-running-python-manage-py-runserver-plus", "title": "I cant find my certificate when i am running &#39; python manage.py runserver_plus --cert /etc/ssl/cert &#39;", "body": "<p>i am getting filenotfound error when i am trying to access my ssl certificate because i want my local host run on https </p>\n\n<p>python manage.py runserver_plus --cert /etc/ssl/cert</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"manage.py\", line 15, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"E:\\final3\\venv\\lib\\site-packages\\django\\core\\management\\__init__.py\", line 381, in execute_from_command_line\n    utility.execute()\n  File \"E:\\final3\\venv\\lib\\site-packages\\django\\core\\management\\__init__.py\", line 375, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"E:\\final3\\venv\\lib\\site-packages\\django\\core\\management\\base.py\", line 323, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"E:\\final3\\venv\\lib\\site-packages\\django\\core\\management\\base.py\", line 364, in execute\n    output = self.handle(*args, **options)\n  File \"E:\\final3\\venv\\lib\\site-packages\\django_extensions\\management\\utils.py\", line 59, in inner\n    ret = func(self, *args, **kwargs)\n  File \"E:\\final3\\venv\\lib\\site-packages\\django_extensions\\management\\commands\\runserver_plus.py\", line 260, in handle\n    self.inner_run(options)\n  File \"E:\\final3\\venv\\lib\\site-packages\\django_extensions\\management\\commands\\runserver_plus.py\", line 337, in inner_run\n    ssl_context = make_ssl_devcert(os.path.join(dir_path, root), host='localhost')\n  File \"E:\\final3\\venv\\lib\\site-packages\\werkzeug\\serving.py\", line 524, in make_ssl_devcert\n    with open(cert_file, \"wb\") as f:\nFileNotFoundError: [Errno 2] No such file or directory: '/etc/ssl\\\\cert.\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11408025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jFTiJ.jpg?s=128&g=1", "display_name": "miked", "link": "https://stackoverflow.com/users/11408025/miked"}, "is_accepted": false, "score": 1, "last_activity_date": 1556154241, "creation_date": 1556154241, "answer_id": 55840453, "question_id": 55839791, "link": "https://stackoverflow.com/questions/55839791/error-while-running-django-server-the-empty-path-didnt-match-any-of-these/55840453#55840453", "title": "Error while running Django Server -The empty path didn&#39;t match any of these", "body": "<p>Django is trying to route a path request to a defined URL in one of your urls.py files.</p>\n\n<p>So far you only have two possible options set up with your urls.py files it seems:</p>\n\n<ul>\n<li>the Admin pages at: yoururl.com/admin/</li>\n<li>the Index page at: yoururl.com/</li>\n</ul>\n\n<p>The URL that you tried to go to does not fall into either of those categories. Out in the wild this would result in a 404 Page Not Found Error.</p>\n"}], "owner": {"reputation": 53, "user_id": 10431232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77b903c8b51fa75dca1c90e7df3f15e1?s=128&d=identicon&r=PG&f=1", "display_name": "dinku33", "link": "https://stackoverflow.com/users/10431232/dinku33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556154241, "creation_date": 1556147927, "question_id": 55839791, "link": "https://stackoverflow.com/questions/55839791/error-while-running-django-server-the-empty-path-didnt-match-any-of-these", "title": "Error while running Django Server -The empty path didn&#39;t match any of these", "body": "<p>I am using Django to develop a web app. When I run server, I get the below error message. </p>\n\n<p>Error: Page not found (404)\nUsing the URLconf defined in Mywebsite_Website.urls, Django tried these URL patterns, in this order:</p>\n\n<p>^$ [name='index']\n^admin/\nThe empty path didn't match any of these.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "python-3.x", "dataframe", "group-by", "calculation"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 0, "creation_date": 1556299733, "post_id": 55843271, "comment_id": 98404779, "body": "This is exactly what I was looking for.  Thanks @run-out! One follow up:  how do I convert the new columns to %?"}, {"owner": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 0, "creation_date": 1556300861, "post_id": 55843271, "comment_id": 98405176, "body": "One additional follow up-- The goal of this is for me to take this data frame and create a new data frame only including the ProdCode and all Reviews for that Prod Code, only selecting ProdCode&#39;s where my new &#39;0&#39; column &gt; .50, for example, how would I go about creating that?  I am trying to get a list of Prods and Reviews in a dataframe that had the lowest sentiment ratio."}, {"owner": {"reputation": 2751, "user_id": 10888655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQFKi.png?s=128&g=1", "display_name": "run-out", "link": "https://stackoverflow.com/users/10888655/run-out"}, "reply_to_user": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 1, "creation_date": 1556301809, "post_id": 55843271, "comment_id": 98405551, "body": "Not sure what you mean by convert to percentages, but maybe you mean to make it look like 66%? In this case just df1 = df * 100, then df1.astype(&#39;int&#39;), make a new dataframe if you wish to preserve the values in the first df"}, {"owner": {"reputation": 2751, "user_id": 10888655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQFKi.png?s=128&g=1", "display_name": "run-out", "link": "https://stackoverflow.com/users/10888655/run-out"}, "reply_to_user": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 0, "creation_date": 1556301984, "post_id": 55843271, "comment_id": 98405643, "body": "I&#39;m not sure i understand your second question, but in any event, sounds like it should be new question. Cheers,"}, {"owner": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 0, "creation_date": 1556305394, "post_id": 55843271, "comment_id": 98407029, "body": "Thanks @run-out!  I have posted another question if you would like to look at it! &quot;Filter one DataFrame by unique values in another DataFrame&quot;"}, {"owner": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 0, "creation_date": 1556552425, "post_id": 55843271, "comment_id": 98468796, "body": "When I display columns on the new data frame, it only shows &#39;0&#39;,&#39;1&#39;,&#39;2&#39;.  Why is ProdCode not included in the columns?  I need it so that I can use it to join on a new dataframe."}, {"owner": {"reputation": 2751, "user_id": 10888655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQFKi.png?s=128&g=1", "display_name": "run-out", "link": "https://stackoverflow.com/users/10888655/run-out"}, "reply_to_user": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 1, "creation_date": 1556552713, "post_id": 55843271, "comment_id": 98468939, "body": "You have to reset the origianl df everytime you run it. Try running it from the original definition of the first dataframe. Maybe also clear your kernals if you are on Jupyter."}, {"owner": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "edited": false, "score": 0, "creation_date": 1556553483, "post_id": 55843271, "comment_id": 98469332, "body": "Thanks. Do you mind looking at my other question?  The only response thus far seems to not be working."}], "tags": [], "owner": {"reputation": 2751, "user_id": 10888655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQFKi.png?s=128&g=1", "display_name": "run-out", "link": "https://stackoverflow.com/users/10888655/run-out"}, "is_accepted": true, "score": 1, "last_activity_date": 1556174513, "creation_date": 1556174513, "answer_id": 55843271, "question_id": 55839771, "link": "https://stackoverflow.com/questions/55839771/build-new-dataframe-with-grouped-ratios-from-existing-dataframe/55843271#55843271", "title": "Build New Dataframe with Grouped Ratios from Existing Dataframe", "body": "<p>Make a new dataframe by joining two separate dataframe group results. The first will groupby \"ProdCode\" and \"Sentiment\", the second will group by \"ProdCode\" to get the total count per \"ProdCode\". Join on \"ProdCode\" and limit columns to \"Review\" and Review_r\"</p>\n\n<pre><code>df1 = (\n    df.groupby([\"ProdCode\", \"Sentiment\"])\n    .count()\n    .join(df.groupby(\"ProdCode\").count(), \"ProdCode\", rsuffix=\"_r\")\n)[['Review', 'Review_r']]\n\ndf1\n\n                    Review  Review_r\nProdCode Sentiment                  \nX1       0               2         3\n         2               1         3\nX2       1               2         3\n         2               1         3\nX3       2               2         2\n</code></pre>\n\n<p>Calculate the \"Review\"/\"Review_r\", reset the index to columns, and pivot for final result. </p>\n\n<pre><code>df1['result'] = df1['Review']/df1['Review_r']\ndf1 = df1.reset_index()\ndf1 = df1.pivot(\"ProdCode\", 'Sentiment','result').fillna(0)\n</code></pre>\n\n<p>Final DataFrame: </p>\n\n<pre><code>Sentiment         0         1         2\nProdCode                               \nX1         0.666667  0.000000  0.333333\nX2         0.000000  0.666667  0.333333\nX3         0.000000  0.000000  1.000000\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 2856143, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/758bb6e286632a12d2245abcd3d44b73?s=128&d=identicon&r=PG&f=1", "display_name": "Sinister Swan", "link": "https://stackoverflow.com/users/2856143/sinister-swan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 55843271, "answer_count": 1, "score": 1, "last_activity_date": 1556174513, "creation_date": 1556147715, "question_id": 55839771, "link": "https://stackoverflow.com/questions/55839771/build-new-dataframe-with-grouped-ratios-from-existing-dataframe", "title": "Build New Dataframe with Grouped Ratios from Existing Dataframe", "body": "<p>I have a Dataframe with the following columns (\"User\", \"ProdCode\",\"Sentiment\", \"Review\") where the \"ProdCode\" contains Product codes, and the \"Sentiment\" contains values of 0, 1, 2, and the \"Review\" contains a string text review.  See example below:</p>\n\n<pre><code>User    ProdCode  Sentiment  Review\nUser1   X1        0          [string]\nUser2   X1        0          [string]\nUser3   X1        2          [string]\nUser4   X2        1          [string]\nUser5   X2        2          [string]\nUser6   X2        1          [string]\nUser7   X3        2          [string]\nUser8   X3        2          [string]\n</code></pre>\n\n<p>I'm trying to create a DataFrame that groups the \"ProdCode\" and shows 3 ratios: </p>\n\n<p>1) Number of rows where Sentiment = 0 / Total Num of Reviews for the Prod Code </p>\n\n<p>2) Number of rows where Sentiment = 1 / Total Num of Reviews for the Prod Code</p>\n\n<p>3) Number of rows where Sentiment = 2 / Total Num of Reviews for the Prod Code</p>\n\n<p>Looking something like this:</p>\n\n<pre><code>ProdCode  SentimentRatio0  SentimentRatio1  SentimentRatio2\nX1        .67              0                .33                \nX2        0                .33              .67\nX3        0                0                1.00 \n</code></pre>\n\n<p>I have tried many unsuccessful creations of the new fields in the Dataframe, code below. </p>\n\n<pre><code>DFF['sent0_ratio'] = [(count(DFF[sentiment])) if x == \"0\" else \"0\" for x in DFF.sentiment]\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>DFF['sent0_ratio'] = sum(DFF['sentiment' if x == 0 for x in DFF.sentiment].groupby(DFF['ProdCode']).mean(), 2)\n</code></pre>\n\n<p>Neither of these are working as expected.  I don't even think I'm close.</p>\n"}, {"tags": ["python", "csv", "flask", "web-applications"], "comments": [{"owner": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556148131, "post_id": 55839760, "comment_id": 98343278, "body": "Your code works for me. Can you add the error message you&#39;re getting? I suspect the file is called <code>movie_metadata.csv</code> (singular movie) and it&#39;s just a typo leading to FileNotFoundError."}, {"owner": {"reputation": 21, "user_id": 9484665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-07msC7nLpBs/AAAAAAAAAAI/AAAAAAAAlXI/KVhxjVA6lak/photo.jpg?sz=128", "display_name": "shiva prasad reddy", "link": "https://stackoverflow.com/users/9484665/shiva-prasad-reddy"}, "reply_to_user": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556148266, "post_id": 55839760, "comment_id": 98343301, "body": "The error is &quot;The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.&quot; Also, the CSV file name is correct its plural. Thanks for the reply"}, {"owner": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556148361, "post_id": 55839760, "comment_id": 98343316, "body": "Are you sure you didn&#39;t forget adding <code>example</code>? <code>http:&#47;&#47;localhost:5000&#47;example</code> or <code>http:&#47;&#47;127.0.0.1:5000&#47;example</code> should work. Flask outputs the base URL on startup, such as <code>Running on http:&#47;&#47;127.0.0.1:5000&#47; (Press CTRL+C to quit)</code>"}, {"owner": {"reputation": 21, "user_id": 9484665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-07msC7nLpBs/AAAAAAAAAAI/AAAAAAAAlXI/KVhxjVA6lak/photo.jpg?sz=128", "display_name": "shiva prasad reddy", "link": "https://stackoverflow.com/users/9484665/shiva-prasad-reddy"}, "reply_to_user": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556148840, "post_id": 55839760, "comment_id": 98343392, "body": "I double checked that I have added the example.html file in the &#39;templates&#39; folder. Also, &#39;<a href=\"http://127.0.0.1:5000/example\" rel=\"nofollow noreferrer\">127.0.0.1:5000/example</a>&#39; this link is not working. It says &#39;This site can&#39;t be reached&#39;. Sorry for bothering you!"}, {"owner": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556148881, "post_id": 55839760, "comment_id": 98343395, "body": "How do you start the Flask app? Do you get the <code>Running on...</code> message ?"}, {"owner": {"reputation": 21, "user_id": 9484665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-07msC7nLpBs/AAAAAAAAAAI/AAAAAAAAlXI/KVhxjVA6lak/photo.jpg?sz=128", "display_name": "shiva prasad reddy", "link": "https://stackoverflow.com/users/9484665/shiva-prasad-reddy"}, "reply_to_user": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556149097, "post_id": 55839760, "comment_id": 98343438, "body": "I headed to the &#39;Web&#39; menu in the pythonanywhere.com and clicked on myname.pythonanywhere.com. Before this I tried a simple flask app which displays &#39;hello world&#39; and it worked."}, {"owner": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556149279, "post_id": 55839760, "comment_id": 98343459, "body": "Ah, I missed you were using this service. Have you read their <a href=\"https://help.pythonanywhere.com/pages/Flask/\" rel=\"nofollow noreferrer\">docs about Flask</a> ?"}, {"owner": {"reputation": 21, "user_id": 9484665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-07msC7nLpBs/AAAAAAAAAAI/AAAAAAAAlXI/KVhxjVA6lak/photo.jpg?sz=128", "display_name": "shiva prasad reddy", "link": "https://stackoverflow.com/users/9484665/shiva-prasad-reddy"}, "reply_to_user": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 0, "creation_date": 1556149907, "post_id": 55839760, "comment_id": 98343566, "body": "Thank you so much for your help. I will look into the documentation and update the comment if it works."}], "owner": {"reputation": 21, "user_id": 9484665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-07msC7nLpBs/AAAAAAAAAAI/AAAAAAAAlXI/KVhxjVA6lak/photo.jpg?sz=128", "display_name": "shiva prasad reddy", "link": "https://stackoverflow.com/users/9484665/shiva-prasad-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1601876971, "creation_date": 1556147645, "last_edit_date": 1601876971, "question_id": 55839760, "link": "https://stackoverflow.com/questions/55839760/unable-to-read-csv-file-via-pandas-in-flask-app-in-python-anywhere", "title": "Unable to read CSV file via Pandas in Flask app in Python Anywhere", "body": "<p>I'm trying to display the first five rows of a <code>CSV</code> file in an HTML page using flask app in python anywhere. I'm new to coding and I can't figure out what's the mistake. I have uploaded the <code>CSV</code> file in the working directory, created a 'templates' folder in &quot;my site&quot; directory and uploaded the example.html file in it.</p>\n<p>This is the code in flask_app.py</p>\n<pre><code>from flask import Flask,render_template, request\nimport pandas as pd\nimport numpy as np\napp = Flask(__name__)\n\n@app.route('/example')\ndef dataframe():\n    df = pd.read_csv(&quot;movies_metadata.csv&quot;)\n    return render_template(&quot;example.html&quot;,  data=df.head(5).to_html())\n\nif __name__ == &quot;__main__&quot;:\n    app.run()\n</code></pre>\n<p>This is the html code</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;DataFrame Data&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Titanic DataFrame&lt;/h1&gt; \n \n{{data | safe}}\n \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I want the first five rows of the <code>CSV</code> file to be displayed in the HTML page.</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 2424, "user_id": 10286422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8eee83d47bbcbfaf55bb18f7077890?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Pap", "link": "https://stackoverflow.com/users/10286422/ben-pap"}, "edited": false, "score": 0, "creation_date": 1556147506, "post_id": 55839683, "comment_id": 98343153, "body": "is there a specific reason not to just drop the duplicates since your machine has only a 1 millisecond precision anyway?"}, {"owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 0, "creation_date": 1556150038, "post_id": 55839683, "comment_id": 98343580, "body": "does the <code>Actual output:</code> you pasted above come from the last line says: <code>print(c) # see if it worked</code>?  if so, <code>c</code> still has old values from <code>c = c.iloc[::-1]</code>."}, {"owner": {"reputation": 143, "user_id": 3911990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5c46d8f5b105ebc2bc802c6bd33576?s=128&d=identicon&r=PG", "display_name": "aguazul", "link": "https://stackoverflow.com/users/3911990/aguazul"}, "reply_to_user": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 0, "creation_date": 1556215603, "post_id": 55839683, "comment_id": 98371881, "body": "@AndyL. Why do you say that?  The index values are increasing whereas prior to the <code>c = c.iloc[::-1]</code> code they values were decreasing, so I think it did work."}, {"owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 1, "creation_date": 1556216776, "post_id": 55839683, "comment_id": 98372424, "body": "@aguazul: oh, you misunderstood me. Yes, <code>c = c.iloc[::-1]</code> works fine. I mean different thing. In your code snippet, the last line is <code>print(c)</code>. Lines between <code>c = c.iloc[::-1]</code> and <code>print(c)</code> don&#39;t modify <code>c</code>. So, <code>print(c)</code> won&#39;t reflect changing by lines in between. I am asking to verify just in case of typo. I stumbled myself on this kind of typo in testing once ;)"}, {"owner": {"reputation": 143, "user_id": 3911990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5c46d8f5b105ebc2bc802c6bd33576?s=128&d=identicon&r=PG", "display_name": "aguazul", "link": "https://stackoverflow.com/users/3911990/aguazul"}, "reply_to_user": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 0, "creation_date": 1556218992, "post_id": 55839683, "comment_id": 98373468, "body": "@AndyL.  ooh, I see your point now - well I was trying to use the <code>set_index</code> attribute to change the index of <code>c</code>, so I thought that line was modifying <code>c</code>.  But I think I was using it wrong.  At any rate, Wen-Ben&#39;s answer worked for me, so problem solved.  Thanks :)"}], "answers": [{"tags": [], "owner": {"reputation": 461, "user_id": 4919575, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e7ed2995045899d43c1294b0d9fed328?s=128&d=identicon&r=PG&f=1", "display_name": "Rebin", "link": "https://stackoverflow.com/users/4919575/rebin"}, "is_accepted": false, "score": 1, "last_activity_date": 1556148314, "last_edit_date": 1556148314, "creation_date": 1556147371, "answer_id": 55839732, "question_id": 55839683, "link": "https://stackoverflow.com/questions/55839683/how-do-you-add-a-value-to-a-float-index-of-a-dataframe-for-every-other-row/55839732#55839732", "title": "How do you add a value to a float index of a dataframe for every other row?", "body": "<p>I dont have your dataframe, but you may think of creating a loop over even/odd indexes like. are you able to show us the original DF?</p>\n\n<pre><code>data = pd.read_csv('C:/random/d2', sep=',', header=None,names=['W1','W2'])\ndf=pd.DataFrame(data)\ndfNew=pd.DataFrame(columns=['W1','W2'])\nrows,clumns=df.shape\nfor index in range(rows):\n    if(index %2==0):\n        tempRow=['{0:.6f}'.format(df.iat[index,0]), df.iat[index,1]]\n    else:\n        tempRow=['{0:.6f}'.format(df.iat[index,0]+0.0005), df.iat[index,1]]\n    dfNew.loc[len(dfNew)]=tempRow\n\nprint(df)\nprint('#############')\nprint(dfNew)\n</code></pre>\n\n<h1>data</h1>\n\n<pre><code>1555677243.401000,4.569000\n1555677243.401000,4.569000\n1555677243.402000,4.571000\n1555677243.402000,4.574000\n1555677243.403000,4.574000\n1555677243.403000,4.576000\n1555677243.404000,4.577000\n1555677243.404000,4.577000\n1555677243.405000,4.577000\n1555677243.405000,4.581000\n1555677243.406000,4.581000\n1555677243.406000,4.582000\n1555677243.407000,4.581000\n1555677243.407000,4.582000\n1555677243.408000,4.580000\n1555677243.408000,4.580000\n1555677243.409000,4.582000\n1555677243.409000,4.585000\n1555677243.410000,4.585000\n1555677243.410000,4.585000\n</code></pre>\n\n<h1>RESULT</h1>\n\n<pre><code>                   W1     W2\n0   1555677243.401000  4.569\n1   1555677243.401500  4.569\n2   1555677243.402000  4.571\n3   1555677243.402500  4.574\n4   1555677243.403000  4.574\n5   1555677243.403500  4.576\n6   1555677243.404000  4.577\n7   1555677243.404500  4.577\n8   1555677243.405000  4.577\n9   1555677243.405500  4.581\n10  1555677243.406000  4.581\n11  1555677243.406500  4.582\n12  1555677243.407000  4.581\n13  1555677243.407500  4.582\n14  1555677243.408000  4.580\n15  1555677243.408500  4.580\n16  1555677243.409000  4.582\n17  1555677243.409500  4.585\n18  1555677243.410000  4.585\n19  1555677243.410500  4.585\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16300, "user_id": 11015427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JsY7F.jpg?s=128&g=1", "display_name": "gmds", "link": "https://stackoverflow.com/users/11015427/gmds"}, "is_accepted": false, "score": 1, "last_activity_date": 1556148077, "last_edit_date": 1556148077, "creation_date": 1556147619, "answer_id": 55839757, "question_id": 55839683, "link": "https://stackoverflow.com/questions/55839683/how-do-you-add-a-value-to-a-float-index-of-a-dataframe-for-every-other-row/55839757#55839757", "title": "How do you add a value to a float index of a dataframe for every other row?", "body": "<p>You can pull the index out, convert it to a <code>Series</code>, modify it, and put it back in (<code>Indexes</code> are immutable):</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame(list(range(10)), index=[x/ 1000 for x in range(10)])\n\nnew_index = df.index.to_series()\nnew_index[::2] += 0.0005\nresult = df.set_index(new_index)\nprint(result)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>        0\n0.0005  0\n0.0010  1\n0.0025  2\n0.0030  3\n0.0045  4\n0.0050  5\n0.0065  6\n0.0070  7\n0.0085  8\n0.0090  9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2424, "user_id": 10286422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8eee83d47bbcbfaf55bb18f7077890?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Pap", "link": "https://stackoverflow.com/users/10286422/ben-pap"}, "is_accepted": false, "score": 2, "last_activity_date": 1556149174, "last_edit_date": 1556149174, "creation_date": 1556148586, "answer_id": 55839870, "question_id": 55839683, "link": "https://stackoverflow.com/questions/55839683/how-do-you-add-a-value-to-a-float-index-of-a-dataframe-for-every-other-row/55839870#55839870", "title": "How do you add a value to a float index of a dataframe for every other row?", "body": "<pre><code>df = pd.DataFrame({'A': [1,2,3,4,5,6,7,8,9],\n                   'B': [1,2,3,4,5,6,7,8,9]})\n\ndf.iloc[1::2, 1] = df.iloc[1::2, :].eval('B + 0.005')\n\n    A     B\n0   1   1.000\n1   2   2.005\n2   3   3.000\n3   4   4.005\n4   5   5.000\n5   6   6.005\n6   7   7.000\n7   8   8.005\n8   9   9.000\n</code></pre>\n\n<p>Just have to make sure that your picking the correct column with the initial iloc. [1::2] is every other starting from index 1 (so 1,3 ect). You need to select all the columns in the second iloc due to eval only working with df's and not series. Then you can set that column to index as you did in your code.</p>\n"}, {"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 143, "user_id": 3911990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5c46d8f5b105ebc2bc802c6bd33576?s=128&d=identicon&r=PG", "display_name": "aguazul", "link": "https://stackoverflow.com/users/3911990/aguazul"}, "edited": false, "score": 0, "creation_date": 1556215481, "post_id": 55840106, "comment_id": 98371803, "body": "@aguazul yw :-) happy coding"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1556150941, "creation_date": 1556150941, "answer_id": 55840106, "question_id": 55839683, "link": "https://stackoverflow.com/questions/55839683/how-do-you-add-a-value-to-a-float-index-of-a-dataframe-for-every-other-row/55840106#55840106", "title": "How do you add a value to a float index of a dataframe for every other row?", "body": "<p>IIUC Data from gmds</p>\n\n<pre><code>df.index+=np.arange(len(df))%2*0.0005\ndf\n        0\n0.0000  0\n0.0015  1\n0.0020  2\n0.0035  3\n0.0040  4\n0.0055  5\n0.0060  6\n0.0075  7\n0.0080  8\n0.0095  9\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 3911990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5c46d8f5b105ebc2bc802c6bd33576?s=128&d=identicon&r=PG", "display_name": "aguazul", "link": "https://stackoverflow.com/users/3911990/aguazul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 1, "accepted_answer_id": 55840106, "answer_count": 4, "score": 6, "last_activity_date": 1556214849, "creation_date": 1556146931, "last_edit_date": 1556214849, "question_id": 55839683, "link": "https://stackoverflow.com/questions/55839683/how-do-you-add-a-value-to-a-float-index-of-a-dataframe-for-every-other-row", "title": "How do you add a value to a float index of a dataframe for every other row?", "body": "<p>I'm recording data at 2000 Hz, which means every 0.5 milliseconds I have another data point.  But my recording software only records with 1 millisecond precision, so that means I have duplicate values in my dataframe index which uses type float.</p>\n\n<p>So in order to fix the duplicates I want to add 0.005 to every other row of the index.  I tried this, but so far it doesn't work:</p>\n\n<pre><code>c = df.iloc[:,0] # select the first column of the dataframe\nc = c.iloc[::-1]  # reverse order so that time is increasing not decreasing\npd.set_option('float_format', '{:f}'.format) # change the print output to show the decimals (instead of 15.55567E9)\ni = c.index # get the index of c - the length is 20000\nrp = np.matlib.repmat([0, 0.0005], 1, 10000) # create an array to repeat .0005 0 so that we can add 0.005 to every other row\ndf.set_index(c, i+rp).astype(float).applymap('{:,.4f}'.format) # set the index of c to i+rp - attempt to format to 4 decimals\nprint(c) # see if it worked\n</code></pre>\n\n<p>Expected output: (trimmed to save space - not showing all 20,000 rows)</p>\n\n<pre><code>1555677243.401000   4.569000\n1555677243.401500   4.569000\n1555677243.402000   4.571000\n1555677243.402500   4.574000\n1555677243.403000   4.574000\n1555677243.403500   4.576000\n1555677243.404000   4.577000\n1555677243.404500   4.577000\n1555677243.405000   4.577000\n1555677243.405500   4.581000\n1555677243.406000   4.581000\n1555677243.406500   4.582000\n1555677243.407000   4.581000\n1555677243.407500   4.582000\n1555677243.408000   4.580000\n1555677243.408500   4.580000\n1555677243.409000   4.582000\n1555677243.409500   4.585000\n1555677243.410000   4.585000\n1555677243.410500   4.585000\n</code></pre>\n\n<p>Actual output: (notice duplicates in the index)</p>\n\n<pre><code>1555677243.401000   4.569000\n1555677243.401000   4.569000\n1555677243.402000   4.571000\n1555677243.402000   4.574000\n1555677243.403000   4.574000\n1555677243.403000   4.576000\n1555677243.404000   4.577000\n1555677243.404000   4.577000\n1555677243.405000   4.577000\n1555677243.405000   4.581000\n1555677243.406000   4.581000\n1555677243.406000   4.582000\n1555677243.407000   4.581000\n1555677243.407000   4.582000\n1555677243.408000   4.580000\n1555677243.408000   4.580000\n1555677243.409000   4.582000\n1555677243.409000   4.585000\n1555677243.410000   4.585000\n1555677243.410000   4.585000\n</code></pre>\n"}, {"tags": ["python", "docker", "microphone"], "owner": {"reputation": 31, "user_id": 11407847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eW-zTAwB2H8/AAAAAAAAAAI/AAAAAAAAAww/qZT67RoBaIs/photo.jpg?sz=128", "display_name": "Nariman Firoozy", "link": "https://stackoverflow.com/users/11407847/nariman-firoozy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1556146746, "creation_date": 1556146746, "question_id": 55839659, "link": "https://stackoverflow.com/questions/55839659/error-recording-voice-using-docker-image-that-runs-ubuntu-server-but-from-window", "title": "Error Recording Voice Using Docker Image That Runs Ubuntu Server but from Windows Platform", "body": "<p>My OS is windows and I have a docker image as follows:</p>\n\n<pre><code>FROM python:3.6\n\n# Set the working directory to /app\n\nWORKDIR /app\n\n# Copy the current directory contents into the container at /app\n\nCOPY . /app\n\n\n\n# Install any needed packages specified in requirements.txt\nRUN apt-get update &amp;&amp; apt-get install -y python-pip libasound-dev libasound2-dev portaudio19-dev libportaudio2 libportaudiocpp0 ffmpeg pulseaudio\n#libav-tools\n\nRUN pip install --upgrade pip &amp;&amp; pip install --trusted-host pypi.python.org -r requirements.txt\n\n# Define environment variable\n\nENV NAME nlpText\n</code></pre>\n\n<p>Also my requirement file is:</p>\n\n<pre><code>deepspeech==0.4.1\npyspellchecker\nscipy\npynput\npyaudio\npyalsaaudio\nffmpeg-python\n</code></pre>\n\n<p>When I want to run a python code that simply records my voice by:</p>\n\n<pre><code>docker run -it --rm --name NLPTEST -v D:\\nariman\\NLP\\NLP_docker_voice_recorder:/app --privileged --device /dev/snd nlp_base bash\npython recorder.py\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>ALSA lib confmisc.c:767:(parse_card) cannot find card '0'\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory\nALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory\nALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM sysdefault\nALSA lib confmisc.c:767:(parse_card) cannot find card '0'\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory\nALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory\nALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM sysdefault\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.front\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.surround21\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.surround21\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.surround40\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.surround41\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.surround50\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.surround51\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.surround71\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.iec958\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.iec958\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.iec958\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.hdmi\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.hdmi\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.modem\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.modem\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.phoneline\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.phoneline\nALSA lib confmisc.c:767:(parse_card) cannot find card '0'\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory\nALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory\nALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default\nALSA lib confmisc.c:767:(parse_card) cannot find card '0'\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory\nALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory\nALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default\nALSA lib confmisc.c:767:(parse_card) cannot find card '0'\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory\nALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory\nALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM dmix\nTraceback (most recent call last):\n  File \"recorder.py\", line 30, in &lt;module&gt;\n    frames_per_buffer=CHUNK)\n  File \"/usr/local/lib/python3.6/site-packages/pyaudio.py\", line 750, in open\n    stream = Stream(self, *args, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/pyaudio.py\", line 441, in __init__\n    self._stream = pa.open(**arguments)\nOSError: [Errno -9996] Invalid input device (no default output device)\n</code></pre>\n\n<p>I have tried --privileged --device /dev/snd:/dev/snd but still no luck. I am assuming since I am using the docker from windows, the first part of the /dev/snd should be something else but don't know.</p>\n\n<p>So the image should ideally run and record my voice through the laptop microphone but gives the error above! Please help!</p>\n"}, {"tags": ["python", "multithreading", "dictionary", "multiprocessing"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1556147339, "post_id": 55839622, "comment_id": 98343126, "body": "Are you getting valid results? You might want to try the <a href=\"https://docs.python.org/3/library/concurrent.futures.html\" rel=\"nofollow noreferrer\">concurrent.futures</a> module - it has a nice api.  ... Why do your functions have <code>self</code> parameters?"}, {"owner": {"reputation": 119, "user_id": 6854118, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e575f5da8c07adb7b01b9dea828a9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk Pitt", "link": "https://stackoverflow.com/users/6854118/dirk-pitt"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1556148009, "post_id": 55839622, "comment_id": 98343249, "body": "Those 2 functions are part of  a class, and the whole program does give me accurate results but it just takes waaay too long.  All the simple examples I&#39;ve seen seem to have lists that they go through..."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1556148021, "post_id": 55839622, "comment_id": 98343253, "body": "Can you get the <code>sysinfo</code> from the api AND extract the data you want in a single function? so that you can call/map that single function on each of the hostnames? Or do you know if the bottleneck is the api call only and <code>sysinfo.get(&quot;data&quot;, {}).get(&quot;hostname&quot;)</code> is a fairly quick process?"}, {"owner": {"reputation": 119, "user_id": 6854118, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e575f5da8c07adb7b01b9dea828a9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk Pitt", "link": "https://stackoverflow.com/users/6854118/dirk-pitt"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1556148491, "post_id": 55839622, "comment_id": 98343345, "body": "Yeah... we did think about that, there were future projects we were going to grab other information from the sysinfo, BUT I&#39;m going to try that when I get home tonight."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1556150634, "post_id": 55839622, "comment_id": 98343670, "body": "Your outer loop (over <code>ids</code>, whatever those are) is serial, so unless very little time is spent in <code>get_sys_info</code> you can\u2019t speed anything up."}], "answers": [{"tags": [], "owner": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "is_accepted": false, "score": 2, "last_activity_date": 1556152585, "creation_date": 1556152585, "answer_id": 55840302, "question_id": 55839622, "link": "https://stackoverflow.com/questions/55839622/how-to-fix-multithreading-multiprocessing-with-dictionaries/55840302#55840302", "title": "How to fix multithreading/multiprocessing with dictionaries?", "body": "<p>you can use threads and queue to communicate, first you will start <code>get_ips_from_sysinfo</code> as a single thread to monitor and process any finished <code>sysinfo</code> which will store output in <code>output_list</code> then fire all <code>get_sys_info</code> threads, be careful not to run out of memory with 100k threads</p>\n\n<pre><code>from threading import Thread\nfrom queue import Queue\n\njobs = Queue()  # buffer for sysinfo\noutput_list = []  # store ips\n\ndef get_sys_info(self, host_id, appliance):\n    sysinfo = self.hx_request(\"https://{}:3000//hx/api/v3/hosts/{}/sysinfo\"\n    jobs.put(sysinfo)  # add sysinfo to jobs queue\n    return sysinfo  # comment if you don't need it\n\ndef get_ips_from_sysinfo(self):\n    \"\"\"it will run contineously untill finish all jobd\"\"\"\n    while True:\n        # get sysinfo from jobs queue\n        sysinfo = jobs.get()  # it will wait here for new entry\n        if sysinfo == 'exit':\n            print('we are done here')\n            break\n\n        sysinfo = sysinfo[\"data\"]\n        network_array = sysinfo.get(\"networkArray\", {})\n        network_info = network_array.get(\"networkInfo\", [])\n        ips = []\n        for ni in network_info:\n            ip_array = ni.get(\"ipArray\", {})\n            ip_info = ip_array.get(\"ipInfo\", [])\n            for i in ip_info:\n                ips.append(i)\n        output_list.append(ips)\n\n\nif __name__ == \"__main__\":\n    # start our listner thread\n    Thread(target=rr.get_ips_from_sysinfo)\n\n    threads = []\n    for i in ids:\n        t = Thread(target=rr.get_sys_info, args=(i, appliance))\n        threads.append(t)\n        t.start()\n\n    # wait for threads to finish then terminate get_ips_from_sysinfo() by send 'exit' flag\n    for t in threads:\n        t.join()\n\n    jobs.put('exit')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 7725670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vQ2Rl.jpg?s=128&g=1", "display_name": "ralex", "link": "https://stackoverflow.com/users/7725670/ralex"}, "is_accepted": false, "score": 1, "last_activity_date": 1556173496, "creation_date": 1556173496, "answer_id": 55843018, "question_id": 55839622, "link": "https://stackoverflow.com/questions/55839622/how-to-fix-multithreading-multiprocessing-with-dictionaries/55843018#55843018", "title": "How to fix multithreading/multiprocessing with dictionaries?", "body": "<p>As @wwii commented, <code>concurrent.futures</code> offer some conveniences that you may help you, particularly since this looks like a batch job.</p>\n\n<p>It appears that your performance hit is most likely to come from the network calls so multithreading is probably more suitable for your use case (<a href=\"https://stackoverflow.com/a/18114882/7725670\">here</a> is a comparison with multiprocessing). If not, you can switch the pool from threads to processes while using the same APIs.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from concurrent.futures import ThreadPoolExecutor, as_completed\n# You can import ProcessPoolExecutor instead and use the same APIs\n\ndef thread_worker(instance, host_id, appliance):\n    \"\"\"Wrapper for your class's `get_sys_info` method\"\"\"\n    sysinfo = instance.get_sys_info(host_id, appliance)\n    return sysinfo, instance\n\n# instantiate the class that contains the methods in your example code\n# I will call it `RR`\ninstances = (RR(*your_args, **your_kwds) for your_args, your_kwds \n    in zip(iterable_of_args, iterable_of_kwds))\nall_host_ids = another_iterable\nall_appliances = still_another_iterable\n\nif __name__ == \"__main__\":\n   with ThreadPoolExecutor(max_workers=50) as executor:  # assuming 10 threads per core; your example uses 5 processes\n        pool = {executor.submit(thread_worker, instance, _id, _app): (_id, _app)\n            for _id, _app in zip(instances, all_host_ids, all_appliances)}\n\n        # handle the `sysinfo` dicts as they arrive\n        for future in as_completed(pool):\n            _result = future.result()\n            if isinstance(_sysinfo, Exception):  # just one way of handling exceptions\n                # do something\n                print(f\"{pool[future]} raised {future.result()}\")\n            else:\n                # enqueue results for parallel processing in a separate stage, or\n                # process the results serially\n                _sysinfo, _instance = _result\n                ips = _instance.get_ips_from_sysinfo(_sysinfo)\n                # do something with `ips`\n</code></pre>\n\n<p>You can streamline this example by refactoring your methods into functions, if indeed they don't make use of state as seems to be the case in your code.</p>\n\n<p>If extracting the <code>sysinfo</code> data is expensive, you can enqueue the results and in turn feed those to a <code>ProcessPoolExecutor</code> that calls <code>get_ips_from_sysinfo</code> on the queued dicts.</p>\n"}, {"tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": false, "score": 1, "last_activity_date": 1556212941, "creation_date": 1556212941, "answer_id": 55854628, "question_id": 55839622, "link": "https://stackoverflow.com/questions/55839622/how-to-fix-multithreading-multiprocessing-with-dictionaries/55854628#55854628", "title": "How to fix multithreading/multiprocessing with dictionaries?", "body": "<p>For whatever reason I was a little leary about calling an instance method in numerous threads - but it seems to work. I made this toy example using <a href=\"https://docs.python.org/3/library/concurrent.futures.html\" rel=\"nofollow noreferrer\">concurrent.futures</a> - hopefully it mimics your actual situation well enough. This submits 4000 instance method calls to a <em>thread pool</em> of (at max) 500 workers. Playing around with the <code>max_workers</code> value I found that execution time improvements were pretty linear up to about a 1000 workers then the improvement <em>ratio</em> started tailing off.</p>\n\n<pre><code>import concurrent.futures, time, random\n\na = [.001*n for n in range(1,4001)]\n\nclass F:\n    def __init__(self, name):\n        self.name = f'{name}:{self.__class__.__name__}'\n    def apicall(self,n):\n        wait = random.choice(a)\n        time.sleep(wait)\n        return (n,wait, self.name)\n\nf = F('foo')\n\nif __name__ == '__main__':\n    nworkers = 500\n    with concurrent.futures.ThreadPoolExecutor(nworkers) as executor:\n#        t = time.time()\n        futures = [executor.submit(f.apicall, n) for n in range(4000)]\n        results = [future.result() for future in concurrent.futures.as_completed(futures)]\n#        t = time.time() - t\n#    q = sum(r[1] for r in results)\n#    print(f'# workers:{nworkers} - ratio:{q/t}')\n</code></pre>\n\n<hr>\n\n<p>I didn't account for possible Exceptions being thrown during the method call but the example in the docs is pretty clear how to handle that.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 6854118, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e575f5da8c07adb7b01b9dea828a9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk Pitt", "link": "https://stackoverflow.com/users/6854118/dirk-pitt"}, "is_accepted": false, "score": 0, "last_activity_date": 1556939098, "last_edit_date": 1556939098, "creation_date": 1556662863, "answer_id": 55929381, "question_id": 55839622, "link": "https://stackoverflow.com/questions/55839622/how-to-fix-multithreading-multiprocessing-with-dictionaries/55929381#55929381", "title": "How to fix multithreading/multiprocessing with dictionaries?", "body": "<p>So... after days of looking at the suggestions on here(thank you so much!!!) And a couple outside reading (Fluent Python Ch 17 and Effective Python 59 Specific Ways..)</p>\n\n<pre><code>def get_ips_from_sysinfo(urls):\n    sysinfo = lx_request(urls)\n    ip_dict =[]\n    sysinfo = sysinfo[\"data\"]\n    hostname = sysinfo.get(\"hostname\")\n    network_array = sysinfo.get(\"networkArray\", {})\n    network_info = network_array.get(\"networkInfo\", [])\n    ips = []\n    entry = {}\n    entry[\"hostname\"] = hostname\n    entry[\"ip_addrs\"] = []\n    for ni in network_info:\n        ip_array = ni.get(\"ipArray\", {})\n        ip_info = ip_array.get(\"ipInfo\", [])\n        for ip in ip_info:\n            ip_addr = ip.get(\"ipAddress\", None)\n            if not ip_addr:\n                ip_addr = ip.get(\"ipv6Address\", None)\n            if ip is None:\n                continue\n            if not is_ip_private(ip_addr):\n                entry[\"ip_addrs\"].append(ip_addr)\n        if len(entry[\"ip_addrs\"]) == 0:\n            continue\n        else:\n            ip_dict.append(entry)\n        return ip_dict\n\nurls = get_sys_info(appliance, ids)\n\ndef main():\n    pool = ThreadPoolExecutor(max_workers = 15)\n    results = list(tqdm(pool.map(get_ips_from_sysinfo, urls), total=len(urls)))\n    with open(\"ip_array.json\", \"w+\") as f:\n        json.dump(results, f,  indent=2, sort_keys=True)\n\nmain()\n</code></pre>\n\n<p>*Modified this works now, hope it helps someone else</p>\n"}], "owner": {"reputation": 119, "user_id": 6854118, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e575f5da8c07adb7b01b9dea828a9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk Pitt", "link": "https://stackoverflow.com/users/6854118/dirk-pitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1556939098, "creation_date": 1556146475, "question_id": 55839622, "link": "https://stackoverflow.com/questions/55839622/how-to-fix-multithreading-multiprocessing-with-dictionaries", "title": "How to fix multithreading/multiprocessing with dictionaries?", "body": "<p>I'm making over 100K calls to an api, using 2 functions I reach out to the api with the first function and grab the sysinfo(a dict) for each host, then with the second function I go through sysinfo and grab the IP addresses.  I'm looking for a way to speed this up but never used multiprocessing/threading before(currently takes about 3 hours). </p>\n\n<pre><code>from multiprocessing import Pool\nfrom multiprocessing.dummy import Pool as ThreadPool\n\n#pool = ThreadPool(4)\np = Pool(5)\n\n#obviously I removed a lot of the code that generates some of these\n#variables, but this is the part that slooooows everything down. \n\ndef get_sys_info(self, host_id, appliance):\n    sysinfo = self.hx_request(\"https://{}:3000//hx/api/v3/hosts/{}/sysinfo\"\n    return sysinfo\n\ndef get_ips_from_sysinfo(self, sysinfo):\n    sysinfo = sysinfo[\"data\"]\n    network_array = sysinfo.get(\"networkArray\", {})\n    network_info = network_array.get(\"networkInfo\", [])\n    ips = []\n    for ni in network_info:\n        ip_array = ni.get(\"ipArray\", {})\n        ip_info = ip_array.get(\"ipInfo\", [])\n        for i in ip_info:\n            ips.append(i)\n    return ips\n\nif __name__ == \"__main__\":\n    for i in ids:\n        sysinfo = rr.get_sys_info(i, appliance)\n        hostname = sysinfo.get(\"data\", {}).get(\"hostname\")\n        try:\n            ips = p.map(rr.get_ips_from_sysinfo(sysinfo))\n        except Exception as e:\n            rr.logger.error(\"Exception on {} -- {}\".format(hostname, e))\n            continue\n\n#Tried calling it here\nips = p.map(rr.get_ips_from_sysinfo(sysinfo))\n</code></pre>\n\n<p>I have to go through over 100,000 of these api calls, and this is really the part that slows everything down.</p>\n\n<p>I think I've tried everything and gotten every possible iterable, missing argument error.</p>\n\n<p>I'd just really appreciate any type of help. Thank you!</p>\n"}, {"tags": ["python", "list", "loops", "add", "prefix"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1556146302, "post_id": 55839568, "comment_id": 98342897, "body": "@Pine-Nuts[0] - interested in pandas?"}], "answers": [{"tags": [], "owner": {"reputation": 8941, "user_id": 179057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9b94d4c76a86a818ccf34e7519e9f90?s=128&d=identicon&r=PG", "display_name": "David Robles", "link": "https://stackoverflow.com/users/179057/david-robles"}, "is_accepted": false, "score": 0, "last_activity_date": 1556146614, "last_edit_date": 1556146614, "creation_date": 1556146288, "answer_id": 55839588, "question_id": 55839568, "link": "https://stackoverflow.com/questions/55839568/python-add-same-prefix-to-all-elements-in-list/55839588#55839588", "title": "Python: Add Same Prefix to All Elements in List", "body": "<pre><code>your_list = ['7831-0', float('nan'), '3165-0', '7831-0', '7831-1']\nprint(your_list)  # ['7831-0', nan, '3165-0', '7831-0', '7831-1']\nprefix_ADD = 'ADD_'\nnew_list = [prefix_ADD + x for x in your_list if isinstance(x, str)]\nprint(new_list)  # ['ADD_7831-0', 'ADD_3165-0', 'ADD_7831-0', 'ADD_7831-1']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1556146358, "creation_date": 1556146358, "answer_id": 55839598, "question_id": 55839568, "link": "https://stackoverflow.com/questions/55839568/python-add-same-prefix-to-all-elements-in-list/55839598#55839598", "title": "Python: Add Same Prefix to All Elements in List", "body": "<p><code>[prefix_ADD + x for x in list if not str(x) == \"nan\"]</code></p>\n\n<p>Is one way you could filter out nan</p>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 10213506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6864b90887eb6f1190eda117c20494e8?s=128&d=identicon&r=PG&f=1", "display_name": "vendrediSurMer", "link": "https://stackoverflow.com/users/10213506/vendredisurmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1556149236, "creation_date": 1556149236, "answer_id": 55839936, "question_id": 55839568, "link": "https://stackoverflow.com/questions/55839568/python-add-same-prefix-to-all-elements-in-list/55839936#55839936", "title": "Python: Add Same Prefix to All Elements in List", "body": "<p>Maybe a less elegant solution but how about this:</p>\n\n<pre><code>new_list=[]\nold_list = ['7831-0', nan, '3165-0', '7831-0', '7831-1']\n\nprefix_ADD = 'ADD_'\n\nfor x in old_list:\n    if x != nan:\n        new_list.append(prefix_ADD + x)\n\nprint(new_list)\n# ['ADD_7831-0', 'ADD_3165-0', 'ADD_7831-0', 'ADD_7831-1']\n</code></pre>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3363, "favorite_count": 0, "accepted_answer_id": 55839598, "answer_count": 3, "score": 0, "last_activity_date": 1556149236, "creation_date": 1556146178, "last_edit_date": 1556146362, "question_id": 55839568, "link": "https://stackoverflow.com/questions/55839568/python-add-same-prefix-to-all-elements-in-list", "title": "Python: Add Same Prefix to All Elements in List", "body": "<p>Let's say I have the following Python List: </p>\n\n<pre><code>['7831-0', nan, '3165-0', '7831-0', '7831-1'] \n</code></pre>\n\n<p>I want to add the same prefix ('ADD_' to each element in the above list.  I also want to remove the nan from my list.  My desired output list is as follows: </p>\n\n<pre><code>list = ['ADD_7831-0', 'ADD_3165-0', 'ADD_7831-0', 'ADD_7831-1']\n</code></pre>\n\n<p>I tried the following code: </p>\n\n<pre><code>prefix_ADD = 'ADD_'\n\nnew_list = [prefix_ADD + x for x in list]\n</code></pre>\n\n<p>But I get the following error: </p>\n\n<pre><code>TypeError: must be str, not float\n</code></pre>\n"}, {"tags": ["python", "numpy", "tensorflow", "keras"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9982463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7m2l11iT2oo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Oz9MvTQV5xvhcncrjGtk0eY1oPA/mo/photo.jpg?sz=128", "display_name": "Castro Pablo", "link": "https://stackoverflow.com/users/9982463/castro-pablo"}, "edited": false, "score": 0, "creation_date": 1556176771, "post_id": 55839888, "comment_id": 98350031, "body": "Is there a way to know those range though? Because when I plot the output with the real price of BTC during the training and test I get a decent approximation, but as graph. Or should I try to plot tomorrow&#39;s prediction into a graph and then use a specific library to read the last data of the graph as a real number?"}, {"owner": {"reputation": 2360, "user_id": 9041710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9wtH.jpg?s=128&g=1", "display_name": "vlizana", "link": "https://stackoverflow.com/users/9041710/vlizana"}, "reply_to_user": {"reputation": 1, "user_id": 9982463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7m2l11iT2oo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Oz9MvTQV5xvhcncrjGtk0eY1oPA/mo/photo.jpg?sz=128", "display_name": "Castro Pablo", "link": "https://stackoverflow.com/users/9982463/castro-pablo"}, "edited": false, "score": 0, "creation_date": 1556193585, "post_id": 55839888, "comment_id": 98359337, "body": "Well this is all speculation, you should check on the source of the dataset if it&#39;s the case and what the ranges are."}], "tags": [], "owner": {"reputation": 2360, "user_id": 9041710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9wtH.jpg?s=128&g=1", "display_name": "vlizana", "link": "https://stackoverflow.com/users/9041710/vlizana"}, "is_accepted": false, "score": 0, "last_activity_date": 1556148773, "creation_date": 1556148773, "answer_id": 55839888, "question_id": 55839567, "link": "https://stackoverflow.com/questions/55839567/how-to-output-a-value-of-a-cnn-for-stock-prediction/55839888#55839888", "title": "How to output a value of a CNN for Stock Prediction", "body": "<p>Sounds like you are trying to get results without knowing your data. Don't ever do that, you are likely to end up with useless results.</p>\n\n<p>I don't know where you got the data from, but that place should describe what the target is. In this case it is probably a categorical target because of the multi-dimensional output (it is if you're using categorical crossentropy loss for example but it is also not stated in the code). If that is the case and the output you expect is a real number, the categories are probably ranges of this number, and each value in the output array would be the probability that this number belongs to each of these ranges.</p>\n"}], "owner": {"reputation": 1, "user_id": 9982463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7m2l11iT2oo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Oz9MvTQV5xvhcncrjGtk0eY1oPA/mo/photo.jpg?sz=128", "display_name": "Castro Pablo", "link": "https://stackoverflow.com/users/9982463/castro-pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556175067, "creation_date": 1556146177, "last_edit_date": 1556175067, "question_id": 55839567, "link": "https://stackoverflow.com/questions/55839567/how-to-output-a-value-of-a-cnn-for-stock-prediction", "title": "How to output a value of a CNN for Stock Prediction", "body": "<p>I built an <code>LSTM</code> based Neural Network to predict the price of BTC. Its training is decent I'd say, but I'm not sure about how to make it predict tomorrow's price for example.</p>\n\n<p>I tried Keras' method <code>predict</code> for my trained model with today's price as argument and then tensorflow's \"tf.argmax\" to pick the highest certainty in the array outputed. Now I know that it refers to the class predicted in the case of computer vision but I really have no clue about what those probabilities refer to in that case.</p>\n\n<p><strong>Model built:</strong></p>\n\n<pre><code>\n  model = Sequential()\n  model.add(LSTM(neurons, return_sequences=True, input_shape=(inputs.shape[1], inputs.shape[2]), activation=activ_func))\n  model.add(Dropout(dropout))\n  model.add(LSTM(neurons, return_sequences=True, activation=activ_func))\n  model.add(Dropout(dropout))\n  model.add(LSTM(neurons, activation=activ_func))\n  model.add(Dropout(dropout))\n  model.add(Dense(units=output_size))\n  model.add(Activation(activ_func))\n  model.compile(loss=loss, optimizer=optimizer, metrics=['mae'])\n  model.summary()\n  plot_keras_model(model, show_shapes=True, show_layer_names=False)\n</code></pre>\n\n<p><strong>Training and prediction:</strong></p>\n\n<pre><code>\nprediction_data = get_today_price4prediction('bitcoin', tag=\"BTC\")\nX_prediction = create_inputs(prediction_data)\nX_prediction = to_array(X_prediction)\nbtc_history = btc_model.fit(X_train, Y_train_btc, epochs=epochs, batch_size=batch_size, verbose=1, validation_data=(X_test, Y_test_btc), shuffle=False)\npredictions = btc_model.predict(X_prediction, verbose=1, steps=None)\nplot_results(btc_history, btc_model, Y_train_btc, coin='BTC')\npredictions = tf.math.argmax(predictions)\nprint(predictions)\n</code></pre>\n\n<p>The expected output is a <code>7D</code> numpy array with values from <code>1</code> to <code>1e-7</code>. But I dont know what those values refers to. Any suggestion?</p>\n"}, {"tags": ["python", "string", "format"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1556147754, "post_id": 55839552, "comment_id": 98343205, "body": "Questions about why particular features aren&#39;t implemented in Python are not really in the scope of a good Stack Overflow question. &quot;Because that&#39;s how it&#39;s designed to work&quot; is not necessarily a satisfying answer. All we have are opinions, unless one of the Python developers happens by. However, I will note that f-strings do support slicing."}], "answers": [{"tags": [], "owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "is_accepted": true, "score": 1, "last_activity_date": 1556152998, "creation_date": 1556152998, "answer_id": 55840335, "question_id": 55839552, "link": "https://stackoverflow.com/questions/55839552/slicing-a-string-from-inside-a-formatted-string-gives-typeerror-string-indices/55840335#55840335", "title": "Slicing a string from inside a formatted string gives &#39;TypeError: string indices must be integers&#39;", "body": "<p>The <code>str.format</code> syntax is handled by the library and supports only a few \u201cexpression\u201d syntaxes that are not the same as regular Python syntax.  For example,</p>\n\n<pre><code>\"{0[foo]}\".format(dict(foo=2))  # \"2\"\n</code></pre>\n\n<p>works without quotes around the dictionary key.  Of course, there are <strong>limitations</strong> from this simplicity, like not being able to refer to a key with a <code>]</code> in it, or interpreting a slice, as in your example.</p>\n\n<p>Note that the f-strings mentioned by kendall are handled by the <em>compiler</em> and (fittingly) use <a href=\"https://docs.python.org/3/reference/lexical_analysis.html#f-strings\" rel=\"nofollow noreferrer\">(almost) unrestricted expression syntax</a>.  They <strong>need</strong> that power since they lack the obvious alternative of placing those expressions in the argument list to <code>format</code>.</p>\n"}], "owner": {"reputation": 59, "user_id": 5627573, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5JrAcv7FKU/AAAAAAAAAAI/AAAAAAAAATE/6QRs3Z3I6q8/photo.jpg?sz=128", "display_name": "Graic", "link": "https://stackoverflow.com/users/5627573/graic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 55840335, "answer_count": 1, "score": 3, "last_activity_date": 1556152998, "creation_date": 1556146035, "question_id": 55839552, "link": "https://stackoverflow.com/questions/55839552/slicing-a-string-from-inside-a-formatted-string-gives-typeerror-string-indices", "title": "Slicing a string from inside a formatted string gives &#39;TypeError: string indices must be integers&#39;", "body": "<p>Shouldn't both these commands do the same thing?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; \"{0[0:5]}\".format(\"lorem ipsum\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: string indices must be integers\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; \"{0}\".format(\"lorem ipsum\"[0:5])\n'lorem'\n</code></pre>\n\n<p>The commands </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; \"{0[0]}\".format(\"lorem ipsum\")\n'l'\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; \"{0}\".format(\"lorem ipsum\"[0])\n'l'\n</code></pre>\n\n<p>evaluate the same. (I know that I can use other methods to do this, I am mainly just curious as to why it dosen't work)</p>\n"}, {"tags": ["python", "vps"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1556145951, "post_id": 55839518, "comment_id": 98342819, "body": "The output of a Web program has to begin with a <code>Content-type</code> line.  If it doesn&#39;t, you get a 500 server error.  Try adding <code>print(&quot;Content-type: text&#47;plain&quot;)</code> as the first line."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 1, "creation_date": 1556145978, "post_id": 55839518, "comment_id": 98342830, "body": "Can you look at the server side logs?  Maybe that has more information about the issue.  Plus, it&#39;s not clear how the above script and what you&#39;re doing on the server are related since the script above has nothing to do with serving web data."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1556146073, "post_id": 55839518, "comment_id": 98342853, "body": "If you&#39;re using CGI @JohnGordon has a great point."}, {"owner": {"reputation": 467, "user_id": 1844222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3423e4317faeef516f152094773abbbd?s=128&d=identicon&r=PG", "display_name": "j_allen_morris", "link": "https://stackoverflow.com/users/1844222/j-allen-morris"}, "edited": false, "score": 0, "creation_date": 1556146075, "post_id": 55839518, "comment_id": 98342856, "body": "John - it doesn&#39;t have to begin with that as the script at www.dockethound.com/bernard.py works just fine.  The exact same script at www.dockethound.com/hello.py doesn&#39;t work at all."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1556146230, "post_id": 55839518, "comment_id": 98342879, "body": "And <code>bernard.py</code> has the same contents as <code>hello.py</code>?  Perhaps it&#39;s a web server configuration issue then."}, {"owner": {"reputation": 467, "user_id": 1844222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3423e4317faeef516f152094773abbbd?s=128&d=identicon&r=PG", "display_name": "j_allen_morris", "link": "https://stackoverflow.com/users/1844222/j-allen-morris"}, "edited": false, "score": 0, "creation_date": 1556146294, "post_id": 55839518, "comment_id": 98342894, "body": "Yes, exactly the same, copied and pasted.  The only difference (that I see) is that bernard.py has been on the server for awhile and obviously the new script hasn&#39;t. To answer the question about the error_log....the error_log text file doesn&#39;t show anything about the error being thrown here. I&#39;m not sure why."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1556191501, "post_id": 55839518, "comment_id": 98358229, "body": "Just an FYI, when responding to comments on your question, make sure to reference the person via @username, otherwise they don&#39;t get notification of the comment."}], "answers": [{"comments": [{"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1556149293, "post_id": 55839754, "comment_id": 98343462, "body": "So it sounds like this is not actually the problem, but your end of line characters are the issue.  If you change the file to use &quot;LF&quot; endings, I bet your problem goes away even in BINARY mode."}, {"owner": {"reputation": 467, "user_id": 1844222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3423e4317faeef516f152094773abbbd?s=128&d=identicon&r=PG", "display_name": "j_allen_morris", "link": "https://stackoverflow.com/users/1844222/j-allen-morris"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1556665809, "post_id": 55839754, "comment_id": 98512948, "body": "@John Szakmeister - Thanks. I&#39;ll be searching now how to change to use LF endings in Visual Studio Code."}], "tags": [], "owner": {"reputation": 467, "user_id": 1844222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3423e4317faeef516f152094773abbbd?s=128&d=identicon&r=PG", "display_name": "j_allen_morris", "link": "https://stackoverflow.com/users/1844222/j-allen-morris"}, "is_accepted": true, "score": 0, "last_activity_date": 1556147598, "creation_date": 1556147598, "answer_id": 55839754, "question_id": 55839518, "link": "https://stackoverflow.com/questions/55839518/python-script-generates-500-internal-server-error-but-code-in-different-file-wor/55839754#55839754", "title": "Python Script generates 500 Internal Server Error but code in different file works fine", "body": "<p>In my situation, using the Auto setting in CuteFTP 9 allowed CuteFTP to determine that the file types with .py were binary files so the files were transferred via binary and not ASCII.  Forcing ASCII fixed the problem, then going into TOOLS->Global Options->ASCII types and adding PY to the list fixed the problem.</p>\n"}], "owner": {"reputation": 467, "user_id": 1844222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3423e4317faeef516f152094773abbbd?s=128&d=identicon&r=PG", "display_name": "j_allen_morris", "link": "https://stackoverflow.com/users/1844222/j-allen-morris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 55839754, "answer_count": 1, "score": 0, "last_activity_date": 1556147598, "creation_date": 1556145718, "last_edit_date": 1556147303, "question_id": 55839518, "link": "https://stackoverflow.com/questions/55839518/python-script-generates-500-internal-server-error-but-code-in-different-file-wor", "title": "Python Script generates 500 Internal Server Error but code in different file works fine", "body": "<p>I have a Python script with the following code:</p>\n\n<pre><code>#! /home/flohosting/PythonTest/PythonTest/bin/python\n\nprint()\nprint(\"hello world!\")\n</code></pre>\n\n<p>I'm running Python 3.6 on a GoDaddy VPS.  The Python 3.6 is a virtual environment.  This script works just fine.  The problem arises when in Virtual Studio Code I open a new document, copy the code above from the working .py script and then paste it into the new .py script, upload the script, CHMOD to 755, and try to execute.  Then I get a 500 Internal Server Error.  It makes no sense to me.</p>\n\n<p>I've logged into my SSH with PuTTY and tried to CHMOD a+x file_name.py  where \"file_name\" is the exact filename and it still doesn't work.  I can't think of anything else to even check to see why the script works in a file that's been on the server for 2+ months and not in a new script I upload and CHMOD to 755.  Thanks for any suggestions.</p>\n\n<p>EDIT:  the link to the script working is <a href=\"http://www.dockethound.com/bernard.py\" rel=\"nofollow noreferrer\">http://www.dockethound.com/bernard.py</a></p>\n\n<p>The link to the non-working script is <a href=\"http://www.dockethound.com/hello.py\" rel=\"nofollow noreferrer\">http://www.dockethound.com/hello.py</a></p>\n\n<p>EDIT 2:  I figured something out and it is working though I have no idea why.</p>\n\n<p>When using CuteFTP 9, I upload on \"AUTO\".  I decided to select ASCII and then try uploading again.  When I uploaded I got an error that said \"This appears to be a binary file you want to upload with ASCII.  Are you sure?\" So for some reason the file is being saved in a binary format or something that CuteFTP recognizes as a binary format and is uploading it in binary which causes Apache issues when trying to run it.  BUT if it's uploaded in forced ASCII mode, the problems are solved.</p>\n\n<p>Jarod</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 1, "creation_date": 1556156959, "post_id": 55839503, "comment_id": 98344739, "body": "The top example is code where I was able to easily collect the output and store it in proc_output because it is not routed to the xterm window. From my understanding, xterm doesn&#39;t actualy run commands, it just shows the output of <code>subprocess.Popen(f&#39;{cmd_entry.get()} &lt;{tty} &gt;{tty} 2&gt; {tty}&#39;...</code>"}, {"owner": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1556157350, "post_id": 55839503, "comment_id": 98344813, "body": "The goal is for the application to run commands using subprocess and send the output to the terminal and store the output. For simplicity, the &quot;application&quot; is replaced with the command entry and Send button."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1556158800, "post_id": 55839503, "comment_id": 98345071, "body": "Oh, sorry\u2014I misread and thought you were writing commands to the terminal established by <code>xterm</code> (which may not be possible anyway)."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "edited": false, "score": 0, "creation_date": 1556163834, "post_id": 55841166, "comment_id": 98346019, "body": "Shouldn&#39;t tty be f for <code>stdin=tty stdout=tty stderr=tty</code> and <code>tty.write(l)</code> with or without these changes I get the error: <i>with open(tty, &#39;r+b&#39;) as f: io.UnsupportedOperation: File or stream is not seekable</i> It could be my implementation."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "edited": false, "score": 0, "creation_date": 1556165702, "post_id": 55841166, "comment_id": 98346370, "body": "@epic.jordan: Sorry, yes, of course <code>f</code>; edited.  The <code>r+b</code> failure seems to be a Python 3 bug: there\u2019s no reason it should do a seek.  I put in a workaround that shouldn\u2019t cause too much trouble, but you could also just open the terminal twice, once for reading and once for writing."}, {"owner": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "edited": false, "score": 0, "creation_date": 1556167694, "post_id": 55841166, "comment_id": 98346763, "body": "I did a little research and found by changing the mode to <code>wb+</code> and adding <code>buffering=0</code> then there is no more error. Also <code>.join()</code> needs a string. I opted to use <code>out = &#39;&#39; out += str(l)</code> I tried to edit the answer, but I think maybe I&#39;m not supposed to do that... :-) Thanks a lot for the solution!"}, {"owner": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "edited": false, "score": 0, "creation_date": 1556168056, "post_id": 55841166, "comment_id": 98346858, "body": "ok, one last comment / question. I guess the <code>open</code> mode makes no difference. <code>r+b</code> and <code>wb+</code> have identical results. Do you know why this is?"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "edited": false, "score": 0, "creation_date": 1556173488, "post_id": 55841166, "comment_id": 98348528, "body": "@epic.jordan: <code>join</code> does work with <a href=\"https://docs.python.org/3/library/stdtypes.html#bytes.join\" rel=\"nofollow noreferrer\">byte strings</a> and can be much more efficient than <code>+=</code> (although CPython sometimes is clever with the latter).  Calling <code>str(bytes)</code> in Python 3 will add garbage delimiters.  <code>w+b</code> means create/truncate and allow reading, but truncation only affects regular files."}, {"owner": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "edited": false, "score": 0, "creation_date": 1556324577, "post_id": 55841166, "comment_id": 98412205, "body": "ahh, I see you added the &#39;b&#39; in the <code>out=b&quot;&quot;.join(out)</code>. In this case I am passing a command to sprocess that executes quickly, but in the real use case I am using it to run other programs that can take hours to days. How can I output to the terminal while it is running instead of after it completes?"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "edited": false, "score": 0, "creation_date": 1556324954, "post_id": 55841166, "comment_id": 98412262, "body": "@epic.jordan: The code above does write each line immediately, and <code>f</code> is unbuffered.  But the subprocess is writing to a pipe and will thus be fully buffered by default.  Opening your own pseudoterminal is <a href=\"https://stackoverflow.com/q/3465619/8586227\">one way to fix that</a>."}], "tags": [], "owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "is_accepted": true, "score": 1, "last_activity_date": 1556165851, "last_edit_date": 1556165851, "creation_date": 1556161048, "answer_id": 55841166, "question_id": 55839503, "link": "https://stackoverflow.com/questions/55839503/capture-standard-output-for-command-passed-to-an-embedded-terminal/55841166#55841166", "title": "Capture standard output for command passed to an embedded terminal", "body": "<p>Start by converting the shell redirections into native <code>Popen</code> capabilities:</p>\n\n<pre><code>with open(tty,'r+b',0) as f:\n  proc=subprocess.Popen(cmd_entry.get(),shell=True,\n                        stdin=f,stdout=f,stderr=f)\nif proc.wait(): warn_user(\u2026)\n</code></pre>\n\n<p>Then it should be fairly obvious how to retain a copy of the output:</p>\n\n<pre><code>with open(tty,'r+b',0) as f:\n  proc=subprocess.Popen(cmd_entry.get(),shell=True,\n                        stdin=f,stdout=subprocess.PIPE,stderr=subprocess.STDOUT)\n  out=[]\n  for l in proc.stdout:\n    f.write(l)\n    out.append(l)\n  out=b\"\".join(out)\n  if proc.wait(): warn_user(\u2026)\n</code></pre>\n\n<p>Note that the process will then have a pipe rather than a (pseudo)terminal for its output, which may change its behavior (<em>e.g.</em>, <code>ls</code> prints in a single column, and <code>git</code> doesn\u2019t use a pager).  If you want to preserve the terminal behavior, you have to <a href=\"https://docs.python.org/3/library/pty.html#pty.openpty\" rel=\"nofollow noreferrer\">open your own pseudoterminal</a> and relay output written to it (which may then include various control sequences) to the one created by <code>xterm</code>.</p>\n\n<p>You might also want to make the process be the foreground process group of the (<code>xterm</code>) terminal so that it can receive keyboard signals; this involves <code>tcsetpgrp</code> and is somewhat complicated.</p>\n"}], "owner": {"reputation": 43, "user_id": 9143296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10928d3a3891f7628a856c7f4c08f390?s=128&d=identicon&r=PG&f=1", "display_name": "epic.jordan", "link": "https://stackoverflow.com/users/9143296/epic-jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 55841166, "answer_count": 1, "score": 3, "last_activity_date": 1556165851, "creation_date": 1556145604, "last_edit_date": 1556161206, "question_id": 55839503, "link": "https://stackoverflow.com/questions/55839503/capture-standard-output-for-command-passed-to-an-embedded-terminal", "title": "Capture standard output for command passed to an embedded terminal", "body": "<p>I am trying to capture the output of a command that I am running with <code>subprocess.Popen</code> and outputting to an xterm terminal that is embedded in a tkinter built application. I want the output of the command to go to the terminal and be captured so I can analyze the information.</p>\n\n<p>In another case where I just run the command with <code>subprocess.Popen</code> and don't pass the output to the terminal. I can get the output by including <code>stdout=subprocess.PIPE, stderr=subprocess.STDOUT</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>proc_output = subprocess.Popen('ls', stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\nprint(str(proc_output.stdout.read()))\n</code></pre>\n\n<p>I am guessing that the way I have it coded I can send the output to the terminal or to a variable, but not both.</p>\n\n<p>For my code example, once the terminal opens I have to manually type <code>tty</code> in the terminal and then put the output in the <code>tty</code> entry field. After that I can run commands from the <code>cmd_entry</code> and send the output to the terminal .</p>\n\n<p>This code is a slightly modified version of the answer from <a href=\"https://stackoverflow.com/questions/10239965/giving-a-command-in-a-embedded-terminal\">here</a>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from tkinter import *\nimport subprocess\n\nroot = Tk()\ntermf = Frame(root, height=360, width=625)\ntermf.pack(fill=BOTH, expand=YES)\nwid = termf.winfo_id()\n\nf=Frame(root)\nLabel(f,text=\"/dev/pts/\").pack(side=LEFT)\ntty_index = Entry(f, width=3)\ntty_index.insert(0, \"1\")\ntty_index.pack(side=LEFT)\nLabel(f,text=\"Command:\").pack(side=LEFT)\ncmd_entry = Entry(f)\ncmd_entry.insert(0, \"ls -l\")\ncmd_entry.pack(side=LEFT, fill=X, expand=1)\n\ndef send_entry_to_terminal(*args):\n    tty=\"/dev/pts/%s\" % tty_index.get()\n    proc = subprocess.Popen(f'{cmd_entry.get()} &lt;{tty} &gt;{tty} 2&gt; {tty}',\n                            shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n    print(str(proc.stdout.read())\n    # cmd(f'{e.get()} &lt;{tty} &gt;{tty} 2&gt; {tty}')\n\ncmd_entry.bind(\"&lt;Return&gt;\", send_entry_to_terminal)\nb = Button(f,text=\"Send\", command=send_entry_to_terminal)\nb.pack(side=LEFT)\nf.pack(fill=X, expand=1)\n\n# cmd(f'xterm -into {wid} -geometry 100x27 -sb -e \"tty; sh\" &amp;')\nsubprocess.Popen(f'xterm -into {wid} -geometry 100x27 -sb &amp;', shell=True)\n\nroot.mainloop()\n</code></pre>\n\n<p>What I want to do is have the output of any command ran with subprocess to print to the terminal and be saved in a variable for later processing. Yet right now I can only get one or the other.</p>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1556145739, "post_id": 55839492, "comment_id": 98342770, "body": "Also, take a look at <a href=\"https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackexchange.com/questions/22186/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1556145805, "post_id": 55839492, "comment_id": 98342785, "body": "Anyway, here you could just keep a <i>count</i> fo the number of five&#39;s you&#39;ve seen, and then break on the condition <code>list[i] == 5 and count == 2</code>. Note, that means you are seeing the 3rd 5, since you&#39;ve already counted 2"}, {"owner": {"reputation": 1533, "user_id": 7332065, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/2ae4265336276a4d47e0962e47d3d37f?s=128&d=identicon&r=PG&f=1", "display_name": "Conner M.", "link": "https://stackoverflow.com/users/7332065/conner-m"}, "edited": false, "score": 0, "creation_date": 1556145933, "post_id": 55839492, "comment_id": 98342812, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/22267241/how-to-find-the-index-of-the-nth-time-an-item-appears-in-a-list\" title=\"how to find the index of the nth time an item appears in a list\">stackoverflow.com/questions/22267241/&hellip;</a>"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 2, "creation_date": 1556146042, "post_id": 55839492, "comment_id": 98342843, "body": "If I told you the list of numbers one at a time, how would you solve this problem by hand? You should describe these steps <b>in words</b> using whatever written language you know best. Once you have a good understanding of how to solve the problem yourself, it will be easier to tell the computer how to do it."}], "answers": [{"tags": [], "owner": {"reputation": 480, "user_id": 11402024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kwozw.jpg?s=128&g=1", "display_name": "Roqux", "link": "https://stackoverflow.com/users/11402024/roqux"}, "is_accepted": false, "score": 0, "last_activity_date": 1556145931, "creation_date": 1556145931, "answer_id": 55839539, "question_id": 55839492, "link": "https://stackoverflow.com/questions/55839492/if-statement-for-repeating-elements/55839539#55839539", "title": "IF statement for repeating elements", "body": "<p>This should fit your needs</p>\n\n<pre><code>counter = 0\nfor item in lst:\n    if item == 5:\n        counter += 1\n    if counter &gt;= 3:\n        break\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2225, "user_id": 807495, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3007e8970142abae5d63ad8cce9a65a4?s=128&d=identicon&r=PG", "display_name": "Sameh Kamal", "link": "https://stackoverflow.com/users/807495/sameh-kamal"}, "is_accepted": false, "score": 0, "last_activity_date": 1556146655, "creation_date": 1556146655, "answer_id": 55839642, "question_id": 55839492, "link": "https://stackoverflow.com/questions/55839492/if-statement-for-repeating-elements/55839642#55839642", "title": "IF statement for repeating elements", "body": "<p>You can use enumerate on the list and get all the indices of the required element then you get whatever index you want</p>\n\n<pre><code>lst = [1,2,3,4,5,5,5,5,5,6,7,8]\noccurances = [idx for idx, val in lst if val == 5]\noccurances[0] # first occurance\noccurances[1] # second occurance\noccurances[2] # third occurance \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "is_accepted": false, "score": 0, "last_activity_date": 1556147501, "last_edit_date": 1556147501, "creation_date": 1556147123, "answer_id": 55839701, "question_id": 55839492, "link": "https://stackoverflow.com/questions/55839492/if-statement-for-repeating-elements/55839701#55839701", "title": "IF statement for repeating elements", "body": "<p>juanpa.arrivillaga already pointed the usual solution out.<br>\nHowever, with e.g. numpy you could do also another way:</p>\n\n<pre><code>import numpy as np\nlst = np.array([1,2,3,4,5,5,5,5,5,6,7,8])\n\ncnt5 = (lst==5).cumsum()\nnp.arange(len(lst))[cnt5==3][0]\n\n# 6\n</code></pre>\n\n<p>cnt5 is the cumulative sum of the boolean array, which is True only at indices where lst has a <code>5</code>, i.e.: it's an array of the counters of lst's 5's.<br>\nThen you only need the index where this array is <code>3</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 10829831, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h4lA99cbl90/AAAAAAAAAAI/AAAAAAAAAFM/JlO8W6UYzGU/photo.jpg?sz=128", "display_name": "FrankNaive", "link": "https://stackoverflow.com/users/10829831/franknaive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1556147818, "creation_date": 1556145522, "last_edit_date": 1556147185, "question_id": 55839492, "link": "https://stackoverflow.com/questions/55839492/if-statement-for-repeating-elements", "title": "IF statement for repeating elements", "body": "<p>I have interesting question:\nLet's assume that we have <code>lst = [1,2,3,4,5,5,5,5,5,6,7,8]</code>\nI am interested on saying to if statement only return \nresult of 3rd 5.<br>\nfor example:</p>\n\n<pre><code>for i in range(0,lent(lst)):\n   if lst[i]==5:\n      print(i,\"is index of 1st 5\")\n      break\n</code></pre>\n\n<p>but how to say ask if to show 3rd 5's index without additional parameter or listing? </p>\n"}, {"tags": ["python", "class", "object", "tkinter"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556146465, "post_id": 55839483, "comment_id": 98342939, "body": "Change the command to <code>m=Button(frame, text=&#39;obj.method&#39;, command=lambda: obj.method())</code> which will create a <code>lambda</code> function that uses the current value of <code>obj</code> when it&#39;s called. The way you have it, the value when the <code>Button</code> is created is always being used."}, {"owner": {"reputation": 34, "user_id": 11407768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02d28a3462e00d494934e38c310bbbdb?s=128&d=identicon&r=PG&f=1", "display_name": "offhmax", "link": "https://stackoverflow.com/users/11407768/offhmax"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556148051, "post_id": 55839483, "comment_id": 98343261, "body": "Perfectly works, thanks."}], "owner": {"reputation": 34, "user_id": 11407768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02d28a3462e00d494934e38c310bbbdb?s=128&d=identicon&r=PG&f=1", "display_name": "offhmax", "link": "https://stackoverflow.com/users/11407768/offhmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556145952, "creation_date": 1556145432, "last_edit_date": 1556145952, "question_id": 55839483, "link": "https://stackoverflow.com/questions/55839483/how-to-take-in-consideration-object-re-creation-when-mainlooping-on-tkinter", "title": "How to take in consideration object re-creation when mainlooping on Tkinter?", "body": "<p>When assigning a variable to an object of any class and launching Tkinter mainloop(), my button which use a method of this object seems to always use the first object created even after successfully replacing the variable with a new object of this class.</p>\n\n<p>The same functions called without buttons on a tkinter interface but in the shell perfectly works as well, but it just seems that the button which executes the method on the variable doesn't take in consideration the new object assigned to the variable.</p>\n\n<pre><code>from tkinter import *\n\nclass test():\n    def __init__(self):\n        print('Object id in init is: ', id(self))\n    def method(self):\n        print('Object id in his method is: ',id(self))\n\nprint('We start with a new object defined in main')     \nobj=test()\n\ndef new():\n    print('Replacing the object with a new object')\n    global obj\n    obj=test()\n    return\n\ndef display():\n    print('Object id in main is: ',id(obj))\n    return\n\nroot=Tk()\nframe=Frame(root)\nframe.pack()\nn=Button(frame, text='new obj', command=new)\nn.pack()\np=Button(frame, text='print_id_obj', command = display)\np.pack()\nm=Button(frame, text='obj.method', command = obj.method)\nm.pack()\nroot.mainloop()\n</code></pre>\n\n<p>When clicking on the button <code>p</code> then <code>m</code>, I have the good id for my object at first (which is perfectly normal), but when clicking on <code>n</code> to create a new object, first a new id is displayed thanks to the <code>__init__</code> function, then when clicking on <code>p</code> I have also the good new id, but when clicking on <code>m</code>, the id displayed is the one of the first object which should have been erased by this time, as if the button method definition stored the first object assigned to <code>var</code> and keeps using it when clicked as long as <code>mainloop()</code> runs. </p>\n\n<p>When closing the <code>tkinter</code> window and typing <code>var.method()</code> in the shell, I have again the good new id, and as well when performing manually this sequence of actions directly in the shell without using <code>tkinter</code>, I have 3 times my first id then 3 times my new id which is what I would expect when clicking my buttons. Try my code to see what I mean if you didn't understand.</p>\n"}, {"tags": ["python", "python-2.7", "unicode"], "answers": [{"tags": [], "owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "is_accepted": true, "score": 1, "last_activity_date": 1556145771, "creation_date": 1556145771, "answer_id": 55839526, "question_id": 55839476, "link": "https://stackoverflow.com/questions/55839476/fixing-unicode-error-on-checksum-creation/55839526#55839526", "title": "Fixing Unicode error on checksum creation", "body": "<p>You need to encode it into a bytes object first:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>hashlib.md5(string_for_checksum.encode('utf-8')).hexdigest()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1556146041, "creation_date": 1556146041, "answer_id": 55839554, "question_id": 55839476, "link": "https://stackoverflow.com/questions/55839476/fixing-unicode-error-on-checksum-creation/55839554#55839554", "title": "Fixing Unicode error on checksum creation", "body": "<p>When you \"copy and paste in the string\" it probably isn't a unicode literal unless you explicitly prefix it with <code>u</code>.</p>\n\n<p>In order to md5 something you need some actual bytes of data to hash. A unicode string is an abstraction representing specific sequences of characters without necessarily having one explicit numerical value expressed as bytes. </p>\n\n<p>Thus you need to specify an explicit string encoding like <code>utf8</code> to convert the unicode string to a byte sequence that an algorithm like md5 can meaningfully operate on.</p>\n\n<p>In particular, on Python 2 (which you appear to be using) the Python interpreter tries to automatically convert unicode strings to some byte encoding when an encoding is required. However, by default, it (usually) tries to encode to ASCII, so if the string contains any characters outside the plain ASCII range you'll get a <code>UnicodeEncodeError</code>.</p>\n\n<p>Incidentally, if you paste non-ASCII characters into your terminal and try to make a plain string literal (without <code>u</code> it will often work because in this case Python will again automatically byte-encode your string, but using an encoding determined by your locale and other environmental sources.</p>\n\n<p>In general, just convert the string to some specific encoding like <code>mystring.encode('utf8')</code>. Just make sure first it's an actual <code>unicode</code> type string before calling <code>encode()</code> and not a bytes <code>str</code> containing characters in some arbitrary encoding, or else you can get either <code>UnicodeDecodeError</code>s or <a href=\"https://en.m.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">mojibake</a> depending on the case. </p>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 55839526, "answer_count": 2, "score": -1, "last_activity_date": 1556146041, "creation_date": 1556145402, "last_edit_date": 1556145582, "question_id": 55839476, "link": "https://stackoverflow.com/questions/55839476/fixing-unicode-error-on-checksum-creation", "title": "Fixing Unicode error on checksum creation", "body": "<p>I am trying to debug the following issue I have in generating an md5 checksum for a string.</p>\n\n<p>I have a unicode literal as follows:</p>\n\n<pre><code>&gt;&gt;&gt;&gt;&gt; 129165Warner Bros.MovieESEn la Arena (Gira 30 A\u00f1os y Un D\u00eda / Las Ventas 26 de Junio de 2015)2015SDBUYEn la Arena (Gira 30 A\u00f1os y Un D\u00eda / Las Ventas 26 de Junio de 2015)1065227811https://itunes.apple.com/es/movie/id1065227811Live Not Avail'dOffer missing in availOpenLiveNo avail found-2TrueiTunes47160835 \n&lt;type 'unicode'&gt;\n</code></pre>\n\n<p>However, when I try and do a checksum with the following:</p>\n\n<pre><code>hashlib.md5(string_for_checksum).hexdigest()\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>UnicodeEncodeError: 'ascii' codec can't encode character u'\\xf1' in position 47: ordinal not in range(128)</p>\n</blockquote>\n\n<p>The odd thing is, when I copy and paste in the string it works fine, but when running \"within the program\", it always gives me the unicode errors. What may be causing this? Could it be perhaps a file encoding issue?</p>\n"}, {"tags": ["python", "flask", "socket.io"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 1123578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e9df4981f63ca3f86699ec48e15d8fa?s=128&d=identicon&r=PG", "display_name": "alsuhr", "link": "https://stackoverflow.com/users/1123578/alsuhr"}, "edited": false, "score": 1, "creation_date": 1556225372, "post_id": 55842605, "comment_id": 98376111, "body": "Thanks, but I would need my client to be implemented in python. I found a few python packages/projects which seem to implement the client-side in python (e.g., <a href=\"https://github.com/miguelgrinberg/python-socketio\" rel=\"nofollow noreferrer\">github.com/miguelgrinberg/python-socketio</a>) -- I think this is the right direction?"}, {"owner": {"reputation": 1002, "user_id": 432519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hz8cD.jpg?s=128&g=1", "display_name": "Andrew Yochum", "link": "https://stackoverflow.com/users/432519/andrew-yochum"}, "reply_to_user": {"reputation": 119, "user_id": 1123578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e9df4981f63ca3f86699ec48e15d8fa?s=128&d=identicon&r=PG", "display_name": "alsuhr", "link": "https://stackoverflow.com/users/1123578/alsuhr"}, "edited": false, "score": 0, "creation_date": 1556225859, "post_id": 55842605, "comment_id": 98376292, "body": "Yes, if you must use python, that&#39;s a good option. I&#39;ll adjust my answer accordingly."}, {"owner": {"reputation": 119, "user_id": 1123578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e9df4981f63ca3f86699ec48e15d8fa?s=128&d=identicon&r=PG", "display_name": "alsuhr", "link": "https://stackoverflow.com/users/1123578/alsuhr"}, "edited": false, "score": 0, "creation_date": 1556227038, "post_id": 55842605, "comment_id": 98376741, "body": "Thank you! My client will be stateful, and I will spawn it (e.g., as a subprocess) when a remote client connects. So, to make it stateful, I&#39;m assuming I can have either [1] some global variable(s) in this code which contain the state, or [2] wrap the event listeners in a class?"}, {"owner": {"reputation": 1002, "user_id": 432519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hz8cD.jpg?s=128&g=1", "display_name": "Andrew Yochum", "link": "https://stackoverflow.com/users/432519/andrew-yochum"}, "reply_to_user": {"reputation": 119, "user_id": 1123578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e9df4981f63ca3f86699ec48e15d8fa?s=128&d=identicon&r=PG", "display_name": "alsuhr", "link": "https://stackoverflow.com/users/1123578/alsuhr"}, "edited": false, "score": 0, "creation_date": 1556228402, "post_id": 55842605, "comment_id": 98377197, "body": "Absolutely @alsuhr"}, {"owner": {"reputation": 119, "user_id": 1123578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e9df4981f63ca3f86699ec48e15d8fa?s=128&d=identicon&r=PG", "display_name": "alsuhr", "link": "https://stackoverflow.com/users/1123578/alsuhr"}, "edited": false, "score": 0, "creation_date": 1556636767, "post_id": 55842605, "comment_id": 98501255, "body": "Yes thank you (using python-socketio to connect works, but I haven&#39;t gotten around to implementing the whole dummy client yet), I&#39;ll accept this answer."}], "tags": [], "owner": {"reputation": 1002, "user_id": 432519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hz8cD.jpg?s=128&g=1", "display_name": "Andrew Yochum", "link": "https://stackoverflow.com/users/432519/andrew-yochum"}, "is_accepted": true, "score": 1, "last_activity_date": 1556226107, "last_edit_date": 1556226107, "creation_date": 1556171527, "answer_id": 55842605, "question_id": 55839402, "link": "https://stackoverflow.com/questions/55839402/how-to-spawn-dummy-clients-on-the-server-side-which-use-the-servers-interface/55842605#55842605", "title": "How to spawn &#39;dummy clients&#39; on the server-side which use the server&#39;s interface in Flask/Socketio", "body": "<p>You can use the <a href=\"https://python-socketio.readthedocs.io/en/latest/intro.html#client-examples\" rel=\"nofollow noreferrer\">python-socketio</a> package server-side using python. Here's an example of the client usage:</p>\n\n<pre><code>import socketio\n\nsio = socketio.Client()\n\n@sio.on('connect')\ndef on_connect():\n    print('connected')\n    sio.emit('Hello')\n\n@sio.on('event')\ndef on_message(data):\n    print('Received ', data)\n\n@sio.on('disconnect')\ndef on_disconnect():\n    print('disconnected')\n\nsio.connect('http://localhost:5000')\nsio.wait()\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 1123578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e9df4981f63ca3f86699ec48e15d8fa?s=128&d=identicon&r=PG", "display_name": "alsuhr", "link": "https://stackoverflow.com/users/1123578/alsuhr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 55842605, "answer_count": 1, "score": 1, "last_activity_date": 1556226107, "creation_date": 1556144969, "question_id": 55839402, "link": "https://stackoverflow.com/questions/55839402/how-to-spawn-dummy-clients-on-the-server-side-which-use-the-servers-interface", "title": "How to spawn &#39;dummy clients&#39; on the server-side which use the server&#39;s interface in Flask/Socketio", "body": "<p>I have a Flask/SocketIO application which currently pairs two clients together to play a game together. Right now the clients are interacting with the server through some compiled client-side Javascript, and I am using socketio to define the sockets which the clients call, e.g., <code>movedForward</code> when that client moved forward. The client-side JS similarly defines websockets which the server will emit to, e.g., <code>partnerTurnedRight</code> when the server is passing the partner's movement to the other player.</p>\n\n<p>I would like to create 'dummy' clients on the server side which can interact with a normal, remote client -- basically, a python implementation of the Javascript which is spawned every time a remote client connects. The idea is to have a server-side \"player\" play the game with a remote, human client.</p>\n\n<p>I'm not sure how to go about implementing something like this. My intuition is that I should create a separate Flask/SocketIO app (somehow), which has sockets on for the messages the server sends (e.g., <code>partnerTurnedRight</code>) and emits messages the server expects (e.g., <code>movedForward</code>). Then, when a remote client connects, spawn a stateful subprocess which has its own unique sid and is able to interact with the server with the exact same interface as the remote client. However, I'm really not sure how to put everything together or how to actually spawn a server-side client like that.</p>\n\n<p>An example project which does something like this, some pseudocode, or a general structure of how to set something like this up would be greatly appreciated!</p>\n\n<p>(Part of the problem is that I don't know what search terms to use, so it's been hard finding examples.)</p>\n"}, {"tags": ["python", "anaconda", "command-line-interface", "python-click"], "answers": [{"tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 1, "last_activity_date": 1556246446, "last_edit_date": 1592644375, "creation_date": 1556246446, "answer_id": 55860087, "question_id": 55839399, "link": "https://stackoverflow.com/questions/55839399/no-output-from-the-python-click-module/55860087#55860087", "title": "No output from the Python click module?", "body": "<p>You need to call <code>main()</code>:</p>\n<pre><code>if __name__ == '__main__':\n    main()\n</code></pre>\n<h3>Full example:</h3>\n<pre><code>import click\n\n@click.command()\n@click.argument('location')\ndef main(location):\n    weather = current_weather(location)\n    print(f&quot;The weather in {location} right now: {weather}.&quot;)\n\n\ndef current_weather(location):\n    return &quot;Sunny&quot;\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n<h3>Using setup tools</h3>\n<p>Alternatively you can use <a href=\"https://click.palletsprojects.com/en/7.x/setuptools/\" rel=\"nofollow noreferrer\">setup tools</a>, and then invoke <code>main</code> that way:</p>\n<h3>Debugging:</h3>\n<p>I highly recommend <a href=\"https://www.jetbrains.com/pycharm/\" rel=\"nofollow noreferrer\">PyCharm</a> as a Python IDE.  It can make doing this sort of work much easier.</p>\n"}], "owner": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 55860087, "answer_count": 1, "score": 1, "last_activity_date": 1556246446, "creation_date": 1556144961, "last_edit_date": 1556246441, "question_id": 55839399, "link": "https://stackoverflow.com/questions/55839399/no-output-from-the-python-click-module", "title": "No output from the Python click module?", "body": "<p>I tried to follow <a href=\"https://dbader.org/blog/python-commandline-tools-with-click\" rel=\"nofollow noreferrer\">this tutorial from Dan Bader</a> on <code>click</code> but for some reason the code there doesn't work in the command line with <code>$ python cli.py 'London'</code> and unfortunately it returns no error so it's difficult to investigate what is going on here. </p>\n\n<p>However, the function <code>current_weather()</code> works like a charm in Spyder IDE so first I suspected a compatibility issue between Python Anaconda version and the <code>click</code> module so I completely uninstalled Anaconda and I'm now running on Python 3.6.7 for Ubuntu.</p>\n\n<p>But still I'm unable to make it work in the CLI and it returns no error. What am I doing wrong here?</p>\n\n<pre><code>import click\nimport requests\n\nSAMPLE_API_KEY = 'b1b15e88fa797225412429c1c50c122a1'\n\n@click.command()\n@click.argument('location')\ndef main(location, api_key):\n    weather = current_weather(location)\n    print(f\"The weather in {location} right now: {weather}.\")\n\n\ndef current_weather(location, api_key=SAMPLE_API_KEY):\n    url = 'http://samples.openweathermap.org/data/2.5/weather'\n\n    query_params = {\n        'q': location,\n        'appid': api_key,\n    }\n\n    response = requests.get(url, params=query_params)\n\n    return response.json()['weather'][0]['description']\n</code></pre>\n\n<p>In CLI:</p>\n\n<pre><code>$ python cli.py\n$\n$ python cli.py 'London'\n$\n</code></pre>\n\n<p>In Spyder IDE:</p>\n\n<pre><code>In [1109]: location = 'London'\n\nIn [1110]: current_weather(location)\nOut[1110]: 'light intensity drizzle'\n</code></pre>\n\n<p>When using with <code>pdb</code> source code debugger, pdb automatically enter post-mortem debugging which means the program being exits abnormally. But there is no error...</p>\n\n<pre><code>$ python -m pdb cli.py 'London'\n&gt; /home/project/cli.py(2)&lt;module&gt;()\n-&gt; import click\n(Pdb) \n</code></pre>\n\n<p>I have <code>click-7.0</code> installed and <code>Python 3.6.7 (default, Oct 22 2018, 11:32:17)</code></p>\n"}, {"tags": ["python", "tensorflow", "keras", "tensorboard"], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 7126023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e2add037b5642aef940f8315de7e71?s=128&d=identicon&r=PG&f=1", "display_name": "kruxx", "link": "https://stackoverflow.com/users/7126023/kruxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1556174530, "creation_date": 1556174530, "answer_id": 55843276, "question_id": 55839380, "link": "https://stackoverflow.com/questions/55839380/tensorboard-log-dir-problem-in-windows-and-semicolon/55843276#55843276", "title": "TensorBoard log dir problem in Windows and semicolon", "body": "<p>If you are using Windows OS, <code>/ \\ : * ? \" &lt; &gt; |</code> this are the characters which are not allowed to create file name. Because of the colon (<code>:</code>) you are not able to create a folder. </p>\n"}], "owner": {"reputation": 91, "user_id": 5615115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c77a6f6faae704fe0febfb26d15cc04?s=128&d=identicon&r=PG&f=1", "display_name": "Soutuyo", "link": "https://stackoverflow.com/users/5615115/soutuyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 55843276, "answer_count": 1, "score": 0, "last_activity_date": 1556174530, "creation_date": 1556144768, "last_edit_date": 1556145137, "question_id": 55839380, "link": "https://stackoverflow.com/questions/55839380/tensorboard-log-dir-problem-in-windows-and-semicolon", "title": "TensorBoard log dir problem in Windows and semicolon", "body": "<p>I dont know if it is a problem with TensorBoard itself or I am doing something wrong here...\nWhen I provide a path with log_dir, it looks like a semicolon is added at the end, and it is using forward slash when I am on Windows.</p>\n\n<p>Here is my code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\ntimestamp = datetime.datetime.now().strftime('%Y-%m-%d-%H:%M:%S')\ncallbacks = keras.callbacks.TensorBoard(log_dir='log\\\\' + timestamp,\n                                            histogram_freq=0, write_graph=True, write_images=False)\n</code></pre>\n\n<p>I tried to use Path from pathlib, but it does not work either.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>timestamp = Path(datetime.datetime.now().strftime('%Y-%m-%d--%H:%M:%S'))\nlog_dir = 'Graph' / timestamp\n</code></pre>\n\n<p>The error looks like:</p>\n\n<pre><code>tensorflow.python.framework.errors_impl.InvalidArgumentError: Failed to create a directory: log/2019-04-25-00:15:25; Invalid argument\n</code></pre>\n\n<p>Any ideas...?</p>\n\n<p>Edit:</p>\n\n<p>Yes, if I print my timestamp it has no semicolon at the end.</p>\n\n<p><strong>Versions</strong>:\nPython: 3.6.7\nKeras: 2.2.4\nTensorflow: 1.13.1</p>\n"}, {"tags": ["python", "pandas", "plotly-dash"], "comments": [{"owner": {"reputation": 4170, "user_id": 5094044, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Xr8RF.gif?s=128&g=1", "display_name": "coralvanda", "link": "https://stackoverflow.com/users/5094044/coralvanda"}, "edited": false, "score": 0, "creation_date": 1556145986, "post_id": 55839364, "comment_id": 98342833, "body": "Same question exactly has already been asked <a href=\"https://stackoverflow.com/questions/55801796/how-can-we-create-data-columns-in-dash-table-dynamically-using-callback-with-a-f/55801875?noredirect=1#comment98272527_55801875\">here</a>."}, {"owner": {"reputation": 11, "user_id": 11407781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b08305fd7eafbdf05d6ed6a685ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Ellise", "link": "https://stackoverflow.com/users/11407781/ellise"}, "reply_to_user": {"reputation": 4170, "user_id": 5094044, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Xr8RF.gif?s=128&g=1", "display_name": "coralvanda", "link": "https://stackoverflow.com/users/5094044/coralvanda"}, "edited": false, "score": 0, "creation_date": 1556147355, "post_id": 55839364, "comment_id": 98343128, "body": "Thanks. But still did not get any appropriate answer. Looking to get the code working."}], "answers": [{"comments": [{"owner": {"reputation": 12120, "user_id": 72668, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/9b1a2.jpg?s=128&g=1", "display_name": "Martlark", "link": "https://stackoverflow.com/users/72668/martlark"}, "edited": false, "score": 0, "creation_date": 1570744832, "post_id": 58161342, "comment_id": 103021013, "body": "When returning properties Dash expects the return value to always be a tuple, even if there is only one property."}], "tags": [], "owner": {"reputation": 1589, "user_id": 5380414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/FGXKX.jpg?s=128&g=1", "display_name": "Yixing Liu", "link": "https://stackoverflow.com/users/5380414/yixing-liu"}, "is_accepted": false, "score": 2, "last_activity_date": 1569815806, "creation_date": 1569815806, "answer_id": 58161342, "question_id": 55839364, "link": "https://stackoverflow.com/questions/55839364/dash-errors-while-trying-to-create-a-table-using-multiple-output-options/58161342#58161342", "title": "Dash Errors while trying to create a table using Multiple Output Options", "body": "<p>The error message is fairly straightforward. The decorator <code>@app.callback([Output('table', 'data'),Output('table', 'columns')], ...)</code> specifies 2 outputs so the function should return a tuple <code>(data, columns)</code> rather than a <code>html.Div(...)</code> value.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6085250, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a3-1UFVA-EI/AAAAAAAAAAI/AAAAAAAAAMI/nrLKjNB48xM/photo.jpg?sz=128", "display_name": "Gabriel Centeno", "link": "https://stackoverflow.com/users/6085250/gabriel-centeno"}, "is_accepted": false, "score": 0, "last_activity_date": 1581366572, "creation_date": 1581366572, "answer_id": 60157940, "question_id": 55839364, "link": "https://stackoverflow.com/questions/55839364/dash-errors-while-trying-to-create-a-table-using-multiple-output-options/60157940#60157940", "title": "Dash Errors while trying to create a table using Multiple Output Options", "body": "<p>What Yixing said above is correct - so if you want to just return the data and columns to the <code>table</code> Datatable your return statement should just be <code>df.to_dict(\"rows\"), mycolumns</code>.\nIf you want to keep the return statement the way you have it now, then change your decorator to be </p>\n\n<pre><code>`@app.callback(Output('tableDiv', 'children'),\n          [Input('submit', 'n_clicks')],\n          [State('ID', 'value'),\n           State('pattern_desc', 'value'), \n           State('file_path', 'value')])`\n</code></pre>\n\n<p>I would say the first option is preferable.</p>\n"}], "owner": {"reputation": 11, "user_id": 11407781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b08305fd7eafbdf05d6ed6a685ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Ellise", "link": "https://stackoverflow.com/users/11407781/ellise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3082, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1581366572, "creation_date": 1556144622, "question_id": 55839364, "link": "https://stackoverflow.com/questions/55839364/dash-errors-while-trying-to-create-a-table-using-multiple-output-options", "title": "Dash Errors while trying to create a table using Multiple Output Options", "body": "<p>I am trying to create dash table on Web using Inputs. However the issue is that the data is created from database from the callback and a priori, \nI do not know the names of the columns unless the pandas dataframeis created using the callback function. \nI have checked that I getting correct data. However not able to display it. I have used multiple output options (using Dash 0.41)</p>\n\n<p>My code looks as follows: ( I have not provided the details of the function which generates the pandas dataframe in the callback <strong>someFunc</strong>, \nas that was not important for the purpose of this Dash code TroubleShooting.</p>\n\n<pre><code> import dash_table as dt\n\n def someFunc(ID, pattern_desc, file_path):\n\n       ## do something \n      return df # pandas dataframe\n</code></pre>\n\n#\n\n<pre><code> external_stylesheets = ['https://codepen.io/chriddyp/pen/bWLwgP.css']\n\n app = dash.Dash(__name__, external_stylesheets=external_stylesheets)\n\n server = app.server\n\n app = dash.Dash(__name__)\n\n app.config.suppress_callback_exceptions = True\n app.css.config.serve_locally = True\n app.scripts.config.serve_locally = True\n\n\n app.layout = html.Div(\n      children = [\n      html.Div(\n      id = 'title',\n      children = appTitle,\n      className = 'titleDiv'  \n   ),\n html.Div(\n    children = [\n        html.Div(\n            children = \"Enter ID:\",\n            className = 'textDiv'\n        ),\n        dcc.Input(\n            id = 'ID',\n            type = 'text',\n            value = 'ABCER1',\n            size = 8),\n\n        html.Div(\n            children = \"Enter Test Pattern\",\n            className = 'textDiv'\n        ),\n        dcc.Input(\n            id = 'pattern_desc',\n            type = 'text',\n            value = 'Sample',\n            size = 20),\n\n         html.Div(\n            children = \"Enter File OutPut Path:\",\n            className = 'textDiv'\n        ),\n        dcc.Input(\n            id = 'file_path',\n            type = 'text',\n            value = '',\n            size = 30),\n\n        html.Button(\n            id = 'submit',\n            n_clicks = 0,\n            children = 'Search'\n        )\n    ]\n),\n\n    html.Div(\n        id = 'tableDiv',\n        children = dash_table.DataTable(\n        id = 'table',\n        style_table={'overflowX': 'scroll'},\n        style_as_list_view=True,\n        style_header={'backgroundColor': 'white','fontWeight': \n            'bold'},\n         ),\n        className = 'tableDiv'\n    )\n  ]\n)\n\n  # callback to update the table\n  @app.callback([Output('table', 'data'),Output('table', 'columns')]\n          [Input('submit', 'n_clicks')],\n          [State('ID', 'value'),  State('pattern_desc', 'value'), \n        State('file_path', 'value')])\n   def update_table(n_clicks, ID, pattern_desc, file_path):\n\n         df = someFunc(ID, pattern_desc, file_path)\n    mycolumns = [{'name': i, 'id': i} for i in df.columns]\n        return html.Div([\n                dt.DataTable(\n            id='table',\n            columns=mycolumns,\n            data=df.to_dict(\"rows\")\n         )\n        ])\n</code></pre>\n\n<p>So in this case the function <strong>someFunc</strong> which takes the 3 input arguments returns a pandas dataframe which can have different columns based on the inputs. Thus the app layout should display\nthose columns as given by the output of the callback function dynamically based on the inputs.\nI should be getting the webpage populated with table and columns, But instead getting an error.   When I run this, I am getting the data generated through the function to the file, but dash is not able to \ngenerated the table on webpage. I get the following error:</p>\n\n<p><strong>dash.exceptions.InvalidCallbackReturnValue: The callback ..table.data...table.columns.. is a multi-output.\nExpected the output type to be a list or tuple but got Div([DataTable(columns=[{'name': 'pattern_desc', 'id': 'pattern_desc'}, ......</strong></p>\n\n<p>Not Sure How I can achieve that. Any help will be appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "edited": false, "score": 2, "creation_date": 1556144941, "post_id": 55839357, "comment_id": 98342578, "body": "what do you mean about <code>back transformation</code>?"}, {"owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "edited": false, "score": 0, "creation_date": 1556146315, "post_id": 55839357, "comment_id": 98342901, "body": "Do you just need the inverse function of log10 (i.e., exponentiation)? If so, this is is simply <code>10**y</code>"}], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 10307576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ulRB.gif?s=128&g=1", "display_name": "Bugbeeb", "link": "https://stackoverflow.com/users/10307576/bugbeeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1556146452, "creation_date": 1556146452, "answer_id": 55839612, "question_id": 55839357, "link": "https://stackoverflow.com/questions/55839357/back-transformation-with-python/55839612#55839612", "title": "Back Transformation With Python", "body": "<pre><code>x\nx2=log10(x)\nx3= 10**x2\n</code></pre>\n\n<p>I believe this is what you're looking for</p>\n"}], "owner": {"reputation": 35, "user_id": 11109745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eyiT7OIdwVk/AAAAAAAAAAI/AAAAAAAAAG0/2VlY5mczats/photo.jpg?sz=128", "display_name": "K&#252;r\u015fat KILI&#199;", "link": "https://stackoverflow.com/users/11109745/k%c3%bcr%c5%9fat-kili%c3%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556146452, "creation_date": 1556144578, "question_id": 55839357, "link": "https://stackoverflow.com/questions/55839357/back-transformation-with-python", "title": "Back Transformation With Python", "body": "<p>How can I code back transformation with Python? As I showed my code so how could I back transform it? I have used OLS Model and Least Square Method</p>\n\n<p><code>y=np.log10(y)</code></p>\n"}, {"tags": ["python", "python-tesseract"], "comments": [{"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1556153383, "post_id": 55839356, "comment_id": 98344123, "body": "The idea is to apply an orange filter prior to passing the image to tesseract... What did you try?"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 2388448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/64034cf70d32a6c848e41a6496bf41b6?s=128&d=identicon&r=PG", "display_name": "Amit1", "link": "https://stackoverflow.com/users/2388448/amit1"}, "edited": false, "score": 0, "creation_date": 1556207542, "post_id": 55840463, "comment_id": 98368180, "body": "thanks Ziptron, I tried with multiple shades of Yellow but every time it converted image to black, I used below commands.     <code>convert original.png -fill black +opaque &#39;#c0861e&#39; onlyTime2.png</code>     <code>convert original.png -fill black +opaque &#39;#617614&#39; onlyTime3.png</code>     <code>convert original.png -fill black +opaque &#39;#c19d65&#39; onlyTime4.png</code>"}, {"owner": {"reputation": 111, "user_id": 11370188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba5b64ed049a4a69858195c0bab08c7?s=128&d=identicon&r=PG&f=1", "display_name": "ziptron", "link": "https://stackoverflow.com/users/11370188/ziptron"}, "reply_to_user": {"reputation": 55, "user_id": 2388448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/64034cf70d32a6c848e41a6496bf41b6?s=128&d=identicon&r=PG", "display_name": "Amit1", "link": "https://stackoverflow.com/users/2388448/amit1"}, "edited": false, "score": 0, "creation_date": 1556208966, "post_id": 55840463, "comment_id": 98368919, "body": "Try including the fuzz parameter (That second link I posted). Its probably hard to get the exact value of yellow, but fuzz will let you choose colours a certain specified distance away from the colour that you think best matches."}, {"owner": {"reputation": 55, "user_id": 2388448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/64034cf70d32a6c848e41a6496bf41b6?s=128&d=identicon&r=PG", "display_name": "Amit1", "link": "https://stackoverflow.com/users/2388448/amit1"}, "edited": false, "score": 0, "creation_date": 1556209307, "post_id": 55840463, "comment_id": 98369072, "body": "is there anything I can do with testract"}, {"owner": {"reputation": 111, "user_id": 11370188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba5b64ed049a4a69858195c0bab08c7?s=128&d=identicon&r=PG&f=1", "display_name": "ziptron", "link": "https://stackoverflow.com/users/11370188/ziptron"}, "reply_to_user": {"reputation": 55, "user_id": 2388448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/64034cf70d32a6c848e41a6496bf41b6?s=128&d=identicon&r=PG", "display_name": "Amit1", "link": "https://stackoverflow.com/users/2388448/amit1"}, "edited": false, "score": 0, "creation_date": 1556209502, "post_id": 55840463, "comment_id": 98369172, "body": "I just tried <code>.\\convert.exe C:\\YLD2g.png -fill black -fuzz 20% +opaque &#39;#c0861e&#39; c:\\onlyTime2.png </code> and it worked for me."}], "tags": [], "owner": {"reputation": 111, "user_id": 11370188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba5b64ed049a4a69858195c0bab08c7?s=128&d=identicon&r=PG&f=1", "display_name": "ziptron", "link": "https://stackoverflow.com/users/11370188/ziptron"}, "is_accepted": false, "score": 0, "last_activity_date": 1556212061, "last_edit_date": 1556212061, "creation_date": 1556154356, "answer_id": 55840463, "question_id": 55839356, "link": "https://stackoverflow.com/questions/55839356/extract-text-of-a-certain-color-ignoring-the-rest/55840463#55840463", "title": "Extract text of a certain color ignoring the rest", "body": "<p>You may be able to do this with the ImageMagick library in python. </p>\n\n<p>If your yellow text will always be the exact same yellow, perhaps you could do something like this. </p>\n\n<p>First, get the hex value of the yellow colour you want to keep. (lets say its #ffff00). </p>\n\n<p>Then, use image magic to fill any colour EXCEPT that #ffff00 colour with black. That should leave you with an image that only shows your time. </p>\n\n<p><code>convert original.png -fill black +opaque '#ffff00' onlyTime.png</code></p>\n\n<p><a href=\"https://www.imagemagick.org/script/command-line-options.php#opaque\" rel=\"nofollow noreferrer\">https://www.imagemagick.org/script/command-line-options.php#opaque</a></p>\n\n<p>In case the yellow colour is not always exactly the same, you can try to play around with the <code>-fuzz</code> option. </p>\n\n<p><a href=\"https://www.imagemagick.org/script/command-line-options.php#fuzz\" rel=\"nofollow noreferrer\">https://www.imagemagick.org/script/command-line-options.php#fuzz</a></p>\n\n<hr>\n\n<p>Using the image you provided, I tried the following: </p>\n\n<p><code>.\\convert.exe C:\\YLD2g.png -fill black -fuzz 20% +opaque '#c0861e' c:\\onlyTime2.png</code></p>\n\n<p>and the result was: </p>\n\n<p><a href=\"https://i.stack.imgur.com/i5L5h.png\" rel=\"nofollow noreferrer\">onlyTime2</a></p>\n\n<p>That should be good enough for tesseract</p>\n"}], "owner": {"reputation": 55, "user_id": 2388448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/64034cf70d32a6c848e41a6496bf41b6?s=128&d=identicon&r=PG", "display_name": "Amit1", "link": "https://stackoverflow.com/users/2388448/amit1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 751, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1556212061, "creation_date": 1556144562, "last_edit_date": 1556153466, "question_id": 55839356, "link": "https://stackoverflow.com/questions/55839356/extract-text-of-a-certain-color-ignoring-the-rest", "title": "Extract text of a certain color ignoring the rest", "body": "<p><a href=\"https://i.stack.imgur.com/YLD2g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YLD2g.png\" alt=\"enter image description here\"></a>I have image and need text from that image. Only need to convert  time that is in yellow color and need to ignore the background text.\nI am using textract with Python</p>\n\n<p>I tried to convert rgb to grey but still getting the garbage result. Its reading data rom the background</p>\n\n<pre><code>from PIL import Image\nimport pytesseract\n\nimage_file = Image.open('timeline_with_background_text.png')\n\nimage_file = image_file.convert('L') # convert image to black and white\nimage_file.save('question.png')\ntext = pytesseract.image_to_string(image_file, lang = 'eng',config='-psm 6')\nprint(text)\n</code></pre>\n\n<p>From the image just need to convert time that is displays in Yellow color like \"34:53\"</p>\n"}, {"tags": ["python", "seaborn"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1556146791, "post_id": 55839345, "comment_id": 98343021, "body": "Some relevant links  * <a href=\"https://github.com/mwaskom/seaborn/issues/365\" rel=\"nofollow noreferrer\">github.com/mwaskom/seaborn/issues/365</a>,   * <a href=\"https://stackoverflow.com/questions/51210955/seaborn-jointplot-add-colors-for-each-class\" title=\"seaborn jointplot add colors for each class\">stackoverflow.com/questions/51210955/&hellip;</a>,  * <a href=\"https://stackoverflow.com/questions/31539815/plotting-two-distributions-in-seaborn-jointplot?noredirect=1&amp;lq=1\" title=\"plotting two distributions in seaborn jointplot\">stackoverflow.com/questions/31539815/&hellip;</a>"}, {"owner": {"reputation": 700, "user_id": 1442363, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/15fad9235d6edaaee6ee86d9e0a3318e?s=128&d=identicon&r=PG", "display_name": "user1442363", "link": "https://stackoverflow.com/users/1442363/user1442363"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1556181660, "post_id": 55839345, "comment_id": 98352555, "body": "thank you. I&#39;ve seen the first and the last questions but the second didn&#39;t come up in my search."}], "answers": [{"tags": [], "owner": {"reputation": 16300, "user_id": 11015427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JsY7F.jpg?s=128&g=1", "display_name": "gmds", "link": "https://stackoverflow.com/users/11015427/gmds"}, "is_accepted": true, "score": 12, "last_activity_date": 1556147187, "last_edit_date": 1556147187, "creation_date": 1556146013, "answer_id": 55839547, "question_id": 55839345, "link": "https://stackoverflow.com/questions/55839345/seaborn-jointplot-group-colour-coding-for-both-scatter-and-density-plots/55839547#55839547", "title": "Seaborn jointplot group colour coding (for both scatter and density plots)", "body": "<p><code>jointplot</code> is a simple wrapper around <code>sns.JointGrid</code>. If you create a <code>JointGrid</code> object and add plots to it manually, you will have much more control over the individual plots. </p>\n\n<p>In this case, your desired <code>jointplot</code> is simply a <code>scatterplot</code> combined with a <code>kdeplot</code>, and what you want to do is pass <code>hue='smoker'</code> (for example) to <code>scatterplot</code>. </p>\n\n<p>The <code>kdeplot</code> is more complex; <code>seaborn</code> doesn't really support one KDE for each class, AFAIK, so I was forced to plot them individually (you could use a <code>for</code> loop with more classes).</p>\n\n<p>Accordingly, you can do this:</p>\n\n<pre><code>import seaborn as sns\n\ntips = sns.load_dataset('tips')\ngrid = sns.JointGrid(x='total_bill', y='tip', data=tips)\n\ng = grid.plot_joint(sns.scatterplot, hue='smoker', data=tips)\nsns.kdeplot(tips.loc[tips['smoker']=='Yes', 'total_bill'], ax=g.ax_marg_x, legend=False)\nsns.kdeplot(tips.loc[tips['smoker']=='No', 'total_bill'], ax=g.ax_marg_x, legend=False)\nsns.kdeplot(tips.loc[tips['smoker']=='Yes', 'tip'], ax=g.ax_marg_y, vertical=True, legend=False)\nsns.kdeplot(tips.loc[tips['smoker']=='No', 'tip'], ax=g.ax_marg_y, vertical=True, legend=False)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/r1ErC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/r1ErC.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 700, "user_id": 1442363, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/15fad9235d6edaaee6ee86d9e0a3318e?s=128&d=identicon&r=PG", "display_name": "user1442363", "link": "https://stackoverflow.com/users/1442363/user1442363"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3583, "favorite_count": 3, "accepted_answer_id": 55839547, "answer_count": 1, "score": 7, "last_activity_date": 1556147187, "creation_date": 1556144491, "question_id": 55839345, "link": "https://stackoverflow.com/questions/55839345/seaborn-jointplot-group-colour-coding-for-both-scatter-and-density-plots", "title": "Seaborn jointplot group colour coding (for both scatter and density plots)", "body": "<p>I would like to use sns.jointplot to visualise the association between X and Y in the presence of two groups. However, in </p>\n\n<pre><code>tips = sns.load_dataset(\"tips\")\nsns.jointplot(\"total_bill\", \"tip\", data=tips) \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3YOnz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3YOnz.png\" alt=\"enter image description here\"></a></p>\n\n<p>there is no \"hue\" option as in other sns plots such as sns.scatterplot. How could one assign different colours for different groups (e.g. hue=\"smoker\") in both the scatter plot, as well as the two overlapping density plots.</p>\n\n<p>In R this could be done by creating a scatter plot with two marginal density plots as shown in <a href=\"http://www.sthda.com/english/articles/24-ggpubr-publication-ready-plots/81-ggplot2-easy-way-to-mix-multiple-graphs-on-the-same-page/#scatter-plot-with-marginal-density-plots\" rel=\"noreferrer\">here</a>. <a href=\"https://i.stack.imgur.com/h1uPy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/h1uPy.png\" alt=\"enter image description here\"></a> </p>\n\n<p>What is the equivalent in sns? If this is not possible in sns, is there another python package that can be used for this?</p>\n"}, {"tags": ["python", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1556157686, "post_id": 55839317, "comment_id": 98344877, "body": "Did you look at the <a href=\"https://stackoverflow.com/questions/16249466/dynamically-updating-a-bar-plot-in-matplotlib\">two</a> <a href=\"https://stackoverflow.com/questions/42056347/animated-barplot-in-python\">links</a> I provided you with in <a href=\"https://stackoverflow.com/questions/55838095/can-matplotlib-be-used-to-create-a-live-updating-bar-graph-animation-that-both-i\">your last question</a>? Neither of them uses <code>win.after</code>, <code>time.sleep</code> or a double loop."}, {"owner": {"reputation": 1, "user_id": 11407246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8005fecce3306b45f83bd4f794b1bc0c?s=128&d=identicon&r=PG&f=1", "display_name": "John Dwyer", "link": "https://stackoverflow.com/users/11407246/john-dwyer"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1556204001, "post_id": 55839317, "comment_id": 98366078, "body": "I&#39;ve tried both of these, and neither of them works to the fullest effect that I need. The farthest I could get is it does increment/decrement without freezing, but for some reason a Figure 2 appears that takes the limits I gave, and as a result half of the Figure I need is cut off."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1556205666, "post_id": 55839317, "comment_id": 98367151, "body": "One cannot know what&#39;s happening. Just ask a new question with a full <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the problem."}], "owner": {"reputation": 1, "user_id": 11407246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8005fecce3306b45f83bd4f794b1bc0c?s=128&d=identicon&r=PG&f=1", "display_name": "John Dwyer", "link": "https://stackoverflow.com/users/11407246/john-dwyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1556189977, "answer_count": 0, "score": 0, "last_activity_date": 1556145001, "creation_date": 1556144249, "last_edit_date": 1556145001, "question_id": 55839317, "link": "https://stackoverflow.com/questions/55839317/fig-canvas-draw-freezes-up-when-plotting-multiple-bar-graphs", "closed_reason": "Duplicate", "title": "Fig.canvas.draw freezes up when plotting multiple bar graphs?", "body": "<p>I'm trying to write a program that animates multiple bar graphs over a certain range. I've set up data that I want it to use, and it starts off running smoothly when it begins to plot. Then, just when the data starts to decrease, the plotting window gets stuck and freezes for a few seconds until it eventually shows the final values.</p>\n\n<pre><code>import matplotlib\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport time\nmatplotlib.use('TKAgg')\n\n\ndef animated_barplot():\n    # http://www.scipy.org/Cookbook/Matplotlib/Animations\n    x = [np.linspace(0, 1, num=500).tolist(), np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                                                                 np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist(),\n         np.concatenate([np.linspace(0, 0.5, num=100, endpoint=False),\n                          np.linspace(0.5, 0, num=400)], axis=0).tolist()]\n    N = 11\n    y = [x[0][0], x[1][0], x[2][0], x[3][0], x[4][0], x[5][0], x[6][0], x[7][0], x[8][0], x[9][0], x[10][0]]\n    rects = plt.bar(range(N), y[0],  align='center')\n    for i in range(500):\n        y = np.random.rand(11)\n        y = [x[0][i], x[1][i], x[2][i], x[3][i], x[4][i], x[5][i], x[6][i], x[7][i], x[8][i], x[9][i], x[10][i]]\n        for rect, h in zip(rects, y):\n            rect.set_height(h)\n        fig.canvas.draw()\n        time.sleep(512/22050)\n\nfig = plt.figure()\nplt.xlim([-1,11])\nplt.ylim([0,1])\nwin = fig.canvas.manager.window\nwin.after(100, animated_barplot)\n\nplt.show()\n</code></pre>\n\n<p>I know it's a lot of code and I apologize, it's mostly the data but I felt it was necessary because I believe that is the problem. Ideally, the code is supposed to run smoothly through the plotting and end with the first bar at 1 and the others at 0. I'll then be using a screen capture software to make this into a video because I can't find a way to save it as anything other than an image of the final drawing.</p>\n"}, {"tags": ["python", "raspberry-pi3", "readline", "led"], "comments": [{"owner": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "edited": false, "score": 1, "creation_date": 1556144427, "post_id": 55839301, "comment_id": 98342463, "body": "it might be a new line at the end try to change <code>myfile = (file.readline())</code> to <code>myfile = (file.readline()).strip()</code>"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556145322, "post_id": 55839301, "comment_id": 98342676, "body": "Have you gotten Python to turn on the lights at all? Do you know that part works?"}, {"owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "reply_to_user": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "edited": false, "score": 0, "creation_date": 1556145796, "post_id": 55839301, "comment_id": 98342781, "body": "In a similar thought like @MahmoudElshahat (and proposing the question of GiraffeMan is answered yes) I would alternatively recommend the check <code>if &quot;Button is pressed&quot; in myfile:</code>. That said - why do you (and Mahmoud) use all those parantheses...?"}, {"owner": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "reply_to_user": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "edited": false, "score": 1, "creation_date": 1556146275, "post_id": 55839301, "comment_id": 98342889, "body": "@SpghttCd  i didn&#39;t want to confuse him, i just put extra .strip() so he can get the idea"}, {"owner": {"reputation": 1, "user_id": 11407725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee35b871393f391efbd7838fce0627b4?s=128&d=identicon&r=PG&f=1", "display_name": "Buffalo B", "link": "https://stackoverflow.com/users/11407725/buffalo-b"}, "edited": false, "score": 0, "creation_date": 1556206852, "post_id": 55839301, "comment_id": 98367794, "body": "So doesn&#39;t the .strip() just take the txt file and take out any spaces or line breaks? How would that help the information be read as individual statements that can turn on and off and LED if it is all put into one string?... Also, I am a woman, just so you know."}, {"owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "edited": false, "score": 0, "creation_date": 1556224233, "post_id": 55839301, "comment_id": 98375652, "body": "No strip removes <i>leading and trailing white spaces</i> - and in your case, not of the whole text file but of the current line, because you named each next read line <code>myfile</code>. Perhaps you should change this as well..."}, {"owner": {"reputation": 1, "user_id": 11407725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee35b871393f391efbd7838fce0627b4?s=128&d=identicon&r=PG&f=1", "display_name": "Buffalo B", "link": "https://stackoverflow.com/users/11407725/buffalo-b"}, "reply_to_user": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "edited": false, "score": 0, "creation_date": 1556230142, "post_id": 55839301, "comment_id": 98377747, "body": "Thank you @MahmoudElshahat. That .strip() did the trick!"}, {"owner": {"reputation": 1, "user_id": 11407725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee35b871393f391efbd7838fce0627b4?s=128&d=identicon&r=PG&f=1", "display_name": "Buffalo B", "link": "https://stackoverflow.com/users/11407725/buffalo-b"}, "reply_to_user": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "edited": false, "score": 0, "creation_date": 1556230151, "post_id": 55839301, "comment_id": 98377751, "body": "And thank you @SpghttCd for explaining that in more detail!"}], "owner": {"reputation": 1, "user_id": 11407725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee35b871393f391efbd7838fce0627b4?s=128&d=identicon&r=PG&f=1", "display_name": "Buffalo B", "link": "https://stackoverflow.com/users/11407725/buffalo-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565954034, "creation_date": 1556144143, "last_edit_date": 1565954034, "question_id": 55839301, "link": "https://stackoverflow.com/questions/55839301/how-to-get-txt-file-to-be-read-and-then-blink-an-led-depending-on-the-text-in-t", "title": "How to get .txt file to be read and then blink an LED depending on the text in the file", "body": "<p>My partner and I were able to write a txt file that recorded when we were and were not pushing a button down. We now want to read this file and make an LED blink when the txt file is read for \"Button is pressed\" and we want to make the LED turn off when the txt file is read for \"Button is not pressed\". We can get the txt file to print with all the correct information in it, but we cannot get the LED to turn on after everything we have tried.</p>\n\n<p>We have tried using all the suggestions on the Python for Beginners page (<a href=\"https://www.pythonforbeginners.com/files/reading-and-writing-files-in-python\" rel=\"nofollow noreferrer\">https://www.pythonforbeginners.com/files/reading-and-writing-files-in-python</a>) and String Comparison (<a href=\"https://stackoverflow.com/questions/2988017/string-comparison-in-python-is-vs\">String comparison in Python: is vs. ==</a>). We have also tried using a string but we don't know if we implemented it the correct way. We also tried using this problem for guidance (Python Read file to turn on LED: <a href=\"https://stackoverflow.com/questions/2988017/string-comparison-in-python-is-vs\">String comparison in Python: is vs. ==</a>). This is the code we have mainly been coming back to:</p>\n\n<pre><code>from gpiozero import LED\n\nfrom time import sleep\n\nblue = LED(17)\n\nfile = open(\"/home/pi/Documents/buttonfile.txt\",\"r\")\n\nwhile True:\n\n    myfile = (file.readline())\n    sleep(1)\n    print (myfile)\n    if myfile == (\"Button is pressed\"):\n        print (myfile)\n        blue.on()\n        sleep (1)\n    else:\n        blue.off()\n\nfile.close()\n</code></pre>\n\n<p>From this, we are getting the Raspberry Pi to print the correct information that is in the .txt file, but the LED is doing nothing.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 69, "user_id": 10385711, "user_type": "registered", "profile_image": "https://graph.facebook.com/1913462582026240/picture?type=large", "display_name": "Juan Carlos Jchr", "link": "https://stackoverflow.com/users/10385711/juan-carlos-jchr"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1556144575, "post_id": 55839269, "comment_id": 98342497, "body": "I edit the question"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1556144637, "post_id": 55839269, "comment_id": 98342514, "body": "Your pattern matches parentheses containing <i>only</i> digits, which isn&#39;t what you&#39;ve shown."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1556144929, "post_id": 55839269, "comment_id": 98342574, "body": "@jonrsharpe is trying to point out the fact that there are commas and whitespace inside the parenthesis as well...you need to account for these"}], "answers": [{"tags": [], "owner": {"reputation": 2646, "user_id": 9282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Djkuj.png?s=128&g=1", "display_name": "Guimoute", "link": "https://stackoverflow.com/users/9282844/guimoute"}, "is_accepted": false, "score": 1, "last_activity_date": 1556144656, "last_edit_date": 1556144656, "creation_date": 1556144196, "answer_id": 55839307, "question_id": 55839269, "link": "https://stackoverflow.com/questions/55839269/how-to-compile-a-list-of-numbers-in-parentheses-with-regex-with-python/55839307#55839307", "title": "How to compile a list of numbers in parentheses with Regex with Python", "body": "<p>I do not know about regex, but you can do without it:</p>\n\n<pre><code>string = \"PO = 19 AND TR = 12 AND CD NOT IN (23, 45, 98, 34, 18)\"\nnumbers = []\n\nfor s in string.split(\"(\")[1].split(\",\"):\n    numbers.append(int(s.rstrip(\")\")))\n\nprint(numbers) # [23, 45, 98, 34, 18]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 1, "last_activity_date": 1556145009, "creation_date": 1556145009, "answer_id": 55839415, "question_id": 55839269, "link": "https://stackoverflow.com/questions/55839269/how-to-compile-a-list-of-numbers-in-parentheses-with-regex-with-python/55839415#55839415", "title": "How to compile a list of numbers in parentheses with Regex with Python", "body": "<p>You could do the following:</p>\n\n<pre><code>my_list = list(map(int, re.findall(r'\\((.*?)\\)', s)[0].split(',')))\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>[23, 45, 98, 34, 18]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 336, "user_id": 6565343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81af81f95fd7958e184d657d95fc3f8?s=128&d=identicon&r=PG&f=1", "display_name": "bleand", "link": "https://stackoverflow.com/users/6565343/bleand"}, "is_accepted": false, "score": 1, "last_activity_date": 1556145214, "creation_date": 1556145214, "answer_id": 55839455, "question_id": 55839269, "link": "https://stackoverflow.com/questions/55839269/how-to-compile-a-list-of-numbers-in-parentheses-with-regex-with-python/55839455#55839455", "title": "How to compile a list of numbers in parentheses with Regex with Python", "body": "<p>If you need to use RegEx, this is one solution:</p>\n\n<pre><code>import re\nimport ast\nregex = r\" \\(( *\\d+,*)+\\)\"\n\ntest_str = \"PO = 19 AND TR = 12 AND CD NOT IN (23, 45, 98, 34, 18)\"\n\nmatches = re.finditer(regex, test_str, re.MULTILINE)\nfor matchNum, match in enumerate(matches, start=1):\n\n    print(list(ast.literal_eval(match.group().strip())))\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>[23, 45, 98, 34, 18]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 482, "user_id": 7623020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64bb4158592e9cb4a35375d9d90d6e?s=128&d=identicon&r=PG&f=1", "display_name": "FailSafe", "link": "https://stackoverflow.com/users/7623020/failsafe"}, "edited": false, "score": 2, "creation_date": 1556145708, "post_id": 55839457, "comment_id": 98342761, "body": "What the living hell? How does that regex work? Where have you been when this question was asked before? I&#39;m trying to translate it for myself and am struggling but this is AWESOME!! I&#39;m wondering why 19 and 20 aren&#39;t captured and if they&#39;d be captured if the were immediately followed by a comma (<code>,</code>)"}, {"owner": {"reputation": 482, "user_id": 7623020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64bb4158592e9cb4a35375d9d90d6e?s=128&d=identicon&r=PG&f=1", "display_name": "FailSafe", "link": "https://stackoverflow.com/users/7623020/failsafe"}, "edited": false, "score": 2, "creation_date": 1556145978, "post_id": 55839457, "comment_id": 98342829, "body": "Oh wow. Just figured it out. Woahh, that is a whole new level of regex wonkiness. This is great."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 3, "last_activity_date": 1556145231, "creation_date": 1556145231, "answer_id": 55839457, "question_id": 55839269, "link": "https://stackoverflow.com/questions/55839269/how-to-compile-a-list-of-numbers-in-parentheses-with-regex-with-python/55839457#55839457", "title": "How to compile a list of numbers in parentheses with Regex with Python", "body": "<p>You can use a positive lookahead pattern:</p>\n\n<pre><code>re.findall(r'\\d+(?=[^(]*\\))', s)\n</code></pre>\n\n<p>so that given <code>s = \"PO = 19 AND TR = 12 AND CD NOT IN (23, 45, 98, 34, 18)\"</code>, this returns:</p>\n\n<pre><code>['23', '45', '98', '34', '18']\n</code></pre>\n\n<p>or if you prefer the list items to be integers, you can map them to <code>int</code>:</p>\n\n<pre><code>list(map(int, re.findall(r'\\d+(?=[^(]*\\))', s)))\n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>[23, 45, 98, 34, 18]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "is_accepted": false, "score": 1, "last_activity_date": 1556145288, "creation_date": 1556145288, "answer_id": 55839462, "question_id": 55839269, "link": "https://stackoverflow.com/questions/55839269/how-to-compile-a-list-of-numbers-in-parentheses-with-regex-with-python/55839462#55839462", "title": "How to compile a list of numbers in parentheses with Regex with Python", "body": "<p>you may use this code, it is not the shortest way but it is readable:</p>\n\n<pre><code>import re\ntext = \"PO = 19 AND TR = 12 AND CD NOT IN (23, 45, 98, 34, 18)\"\na = re.search(r'\\(.+\\)', text).group()\nb = re.findall(r'\\d+', a)\nprint(b)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>['23', '45', '98', '34', '18']\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 10385711, "user_type": "registered", "profile_image": "https://graph.facebook.com/1913462582026240/picture?type=large", "display_name": "Juan Carlos Jchr", "link": "https://stackoverflow.com/users/10385711/juan-carlos-jchr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 55839457, "answer_count": 5, "score": 0, "last_activity_date": 1556145288, "creation_date": 1556143931, "last_edit_date": 1556144515, "question_id": 55839269, "link": "https://stackoverflow.com/questions/55839269/how-to-compile-a-list-of-numbers-in-parentheses-with-regex-with-python", "title": "How to compile a list of numbers in parentheses with Regex with Python", "body": "<p>I'm trying to use Regex to find all the numbers in parentheses, for example, with this input:</p>\n\n<pre><code>\"PO = 19 AND TR = 12 AND CD NOT IN (23, 45, 98, 34, 18)\"\n</code></pre>\n\n<p>I want this:</p>\n\n<pre><code>[23, 45, 98, 34, 18]\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>pattern = re.compile(r\"\\((\\d+)\\)\")\nfinal = list(pattern.findall(\"PO = 19 AND TR = 12 AND CD NOT IN (23, 45, 98, 34, 18)\"))\n</code></pre>\n\n<p>And it's only returning empty lists</p>\n"}, {"tags": ["python", "python-3.x", "pyqt5"], "answers": [{"comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 1, "user_id": 11399166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef09fd374889fd290482537393d52173?s=128&d=identicon&r=PG&f=1", "display_name": "Octarock", "link": "https://stackoverflow.com/users/11399166/octarock"}, "edited": false, "score": 0, "creation_date": 1556398739, "post_id": 55839752, "comment_id": 98427800, "body": "@Octarock If my answer will help you do not forget to mark it as correct, if you do not know how to do it then check the <a href=\"https://stackoverflow.com/tour\">tour</a> :-)"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 1, "user_id": 11399166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef09fd374889fd290482537393d52173?s=128&d=identicon&r=PG&f=1", "display_name": "Octarock", "link": "https://stackoverflow.com/users/11399166/octarock"}, "edited": false, "score": 0, "creation_date": 1558902973, "post_id": 55839752, "comment_id": 99243385, "body": "@Octarock mmmm,,"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": false, "score": 0, "last_activity_date": 1556147593, "creation_date": 1556147593, "answer_id": 55839752, "question_id": 55839205, "link": "https://stackoverflow.com/questions/55839205/no-element-is-shown-until-sys-exitapp-exec/55839752#55839752", "title": "No element is shown until sys.exit(app.exec_())", "body": "<p>The problem does not have to do with app.exec_(), the problem is that you have a task that blocks the GUI preventing it from displaying correctly, so in this case you must run that task in another thread and notify the GUI through signals:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport time\nfrom PyQt5 import QtCore, QtGui, QtWidgets\n\n\npath = \"C:/Users/benni/Desktop/\"  # given from the first Window\nfolder_name = \"exit_folder_test\"  # given from the first Window\nsource = \"test\"\nextension = \"jpg\"\n\nif not os.path.isdir(os.path.join(path, folder_name)):\n    os.makedirs(os.path.join(path, folder_name))\n\n\nclass PictureWorker(QtCore.QObject):\n    updateSignal = QtCore.pyqtSignal()\n\n    @QtCore.pyqtSlot()\n    def search(self):\n        recording = True\n        number = 0\n        amount = 0\n        while recording:\n            pictures = []\n            for file in os.listdir(os.path.join(path, source)):\n                if file.endswith(\".{}\".format(extension)):\n                    pictures.append(file)\n            amount_update = len(pictures)\n            if (\n                amount != amount_update\n            ):  # checks if the amount of files in the folder has changed\n                amount = amount_update\n                for picture_name in pictures:\n                    number += 1\n                    time.sleep(1)  # wait until the picture is transferred\n                    picture_new_name = \"image{}.{}\".format(number, extension)\n                    os.rename(\n                        os.path.join(path, source, picture_name),\n                        os.path.join(path, folder_name, picture_new_name),\n                    )  # renames all the given pictures and transfer them in a new folder\n                    if 0 &lt; number &lt; 7:\n                        print(number)\n                        self.updateSignal.emit()\n                    else:\n                        recording = False\n                recording = False\n\n\nclass MainWindow(QtWidgets.QMainWindow):\n    def __init__(self, parent=None):\n        super(MainWindow, self).__init__(parent)\n        widget = QtWidgets.QWidget()\n        self.setCentralWidget(widget)\n        grid_layout = QtWidgets.QGridLayout(widget)\n        rows, cols = 2, 3\n        self._labels = []\n        image_width, image_height = 600, 400\n\n        for row in range(rows):\n            for col in range(cols):\n                label = QtWidgets.QLabel(alignment=QtCore.Qt.AlignCenter)\n                label.setFixedSize(image_width, image_height)\n                grid_layout.addWidget(label, row, col)\n                self._labels.append(label)\n\n        self.print_button = QtWidgets.QPushButton(\"print\")\n        grid_layout.addWidget(self.print_button, 3, 3)\n        self.resize(1920, 1080)\n\n    def update_image(self):\n        for i, label in enumerate(self._labels):\n            pixmap = QtGui.QPixmap(\n                os.path.join(\n                    path, folder_name, \"image{}.{}\".format(i + 1, extension)\n                )\n            )\n            label.setPixmap(pixmap)\n\n\nif __name__ == \"__main__\":\n    import sys\n\n    app = QtWidgets.QApplication(sys.argv)\n    w = MainWindow()\n    w.show()\n    worker = PictureWorker()\n    worker.updateSignal.connect(w.update_image)\n    thread = QtCore.QThread()\n    thread.start()\n    worker.moveToThread(thread)\n    QtCore.QTimer.singleShot(0, worker.search)\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11399166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef09fd374889fd290482537393d52173?s=128&d=identicon&r=PG&f=1", "display_name": "Octarock", "link": "https://stackoverflow.com/users/11399166/octarock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556147593, "creation_date": 1556143429, "question_id": 55839205, "link": "https://stackoverflow.com/questions/55839205/no-element-is-shown-until-sys-exitapp-exec", "title": "No element is shown until sys.exit(app.exec_())", "body": "<p>I try to show pictures (max.6) on a window. Before that you have to enter a name in the first Window (not given in the following code).\nThe pictures are automatically transferred from my camera to the computer so at the beginning no picture will be in the folder but after some time maybe until 6.\nBy running the code no error appears but the window olny loads completly when all 6 images are in the correct folder. So nothing is shown until <code>sys.exit(app.exec_())</code> has run.</p>\n\n<p>I tried to call <code>sys.exit(app.exec_())</code> after <code>ui.update_picture(MainWindow)</code> but then the skript stops at this point.</p>\n\n<pre><code>from PyQt5 import QtCore, QtGui, QtWidgets\nfrom PyQt5.QtGui import QIcon, QPixmap\nimport sys\nimport os\nimport time\n\n\npath = \"C:/Users/benni/Desktop/\"                   # given from the first Window\nfolder_name = \"exit_folder_test\"                   # given from the first Window\nsource = \"test\"                                    # given\nos.makedirs(path + folder_name)\n\n\n\nclass Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.resize(1920, 1080)\n        self.frame = QtWidgets.QWidget(MainWindow)\n        start_x = 20                                # origin from the grid\n        start_y = 80                                \n        distance = 40                               # distance between the pictures\n        global image_width\n        image_width = 600                                                       \n        global image_height\n        image_height = 400\n\n        self.picture1 = QtWidgets.QLabel(self.frame)                                         # all the different fields for the pictures, grid-layout\n        self.picture1.setGeometry(QtCore.QRect(start_x, start_y, image_width, image_height))\n\n        self.picture2 = QtWidgets.QLabel(self.frame)\n        self.picture2.setGeometry(QtCore.QRect((start_x + image_width + distance), start_y, image_width, image_height))\n\n        self.picture3 = QtWidgets.QLabel(self.frame)\n        self.picture3.setGeometry(QtCore.QRect((start_x + 2*image_width + 2*distance), start_y, image_width, image_height))\n\n        self.picture4 = QtWidgets.QLabel(self.frame)\n        self.picture4.setGeometry(QtCore.QRect((start_x), (start_y + image_height + distance), image_width, image_height))\n\n        self.picture5 = QtWidgets.QLabel(self.frame)\n        self.picture5.setGeometry(QtCore.QRect((start_x + image_width + distance), (start_y + image_height + distance), image_width, image_height))\n\n        self.picture6 = QtWidgets.QLabel(self.frame)\n        self.picture6.setGeometry(QtCore.QRect((start_x + 2*image_width + 2*distance), (start_y + image_height + distance), image_width, image_height))\n\n        self.print_button = QtWidgets.QPushButton(self.frame)       \n        self.print_button.setGeometry(QtCore.QRect((start_x + 3*image_width + 2*distance) - 74, (start_y + 2*image_height + 2*distance), 75, 24)) \n        MainWindow.setCentralWidget(self.frame)\n\n        self.retranslateUi(MainWindow)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def update_picture(self, MainWindow):                               # funktions to add pictures to the fields in setupUi\n        pixmap1 = QPixmap(path + folder_name + \"/image1.jpg\").scaled(image_width, image_height)\n        self.picture1.setPixmap(pixmap1)\n        pixmap2 = QPixmap(path + folder_name + \"/image2.jpg\").scaled(image_width, image_height)\n        self.picture2.setPixmap(pixmap2)\n        pixmap3 = QPixmap(path + folder_name + \"/image3.jpg\").scaled(image_width, image_height)\n        self.picture3.setPixmap(pixmap3)\n        pixmap4 = QPixmap(path + folder_name + \"/image4.jpg\").scaled(image_width, image_height)\n        self.picture4.setPixmap(pixmap4)\n        pixmap5 = QPixmap(path + folder_name + \"/image5.jpg\").scaled(image_width, image_height)\n        self.picture5.setPixmap(pixmap5)\n        pixmap6 = QPixmap(path + folder_name + \"/image6.jpg\").scaled(image_width, image_height)\n        self.picture6.setPixmap(pixmap6)\n\n    def retranslateUi(self, MainWindow):\n        _translate = QtCore.QCoreApplication.translate\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"Fotobox\"))\n        self.print_button.setText(_translate(\"MainWindow\", \"print\"))\n\n\n\nif __name__ == \"__main__\":\n\n    app = QtWidgets.QApplication(sys.argv)\n    MainWindow = QtWidgets.QMainWindow()\n    ui = Ui_MainWindow()\n    ui.setupUi(MainWindow)\n    MainWindow.show()\n\n    recording = True\n    amount = 0\n    number = 0\n    while recording == True:\n        pictures = os.listdir(path + source)         # reads the content of the given folder\n        amount_update = len(pictures)         \n        if amount != amount_update:                  # checks if the amount of files in the folder has changed\n            amount = amount_update \n            for picture_name in pictures:                 \n                number += 1\n                time.sleep(1)                                   # wait until the picture is transferred\n                picture_new_name = \"image\" + str(number) + \".jpg\"\n                os.rename(path + source + \"/\" + picture_name, path + folder_name + \"/\" + picture_new_name)   # renames all the given pictures and transfer them in a new folder\n                if number &gt; 0 and number &lt; 7:           \n                    ui.update_picture(MainWindow)\n                    print(number)\n                else:\n                    recording = False\n            recording = False\n\n\n\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "filepath"], "comments": [{"owner": {"reputation": 379, "user_id": 5871675, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NhTJa.png?s=128&g=1", "display_name": "Milos Grujic", "link": "https://stackoverflow.com/users/5871675/milos-grujic"}, "edited": false, "score": 0, "creation_date": 1556144541, "post_id": 55839194, "comment_id": 98342484, "body": "Yep, use the <code>logging</code> library <a href=\"https://stackoverflow.com/a/20667049/5871675\">stackoverflow.com/a/20667049/5871675</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556143852, "post_id": 55839233, "comment_id": 98342312, "body": "Thanks for the answer, but I am still getting this: <code>log = open(os.path.join(os.pardir, os.pardir, &quot;output&quot;, &quot;logs&quot;, &quot;{}_logs&quot;).format(smell), &quot;w&quot;) FileNotFoundError: [Errno 2] No such file or directory: &#39;..\\\\..\\\\output\\\\logs\\\\long_method_logs&#39; </code>"}, {"owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "reply_to_user": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144019, "post_id": 55839233, "comment_id": 98342367, "body": "@Dawn17 may be there are not such directories at paths that you showed us"}, {"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144076, "post_id": 55839233, "comment_id": 98342381, "body": "I was expecting the directory to be generated when we run that. Are we supposed to make it beforehand?"}, {"owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "reply_to_user": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144120, "post_id": 55839233, "comment_id": 98342387, "body": "@Dawn17 also you should <i>not</i> to upvote the answer until you had enough help. Also I want to add that you should create these paths. may be manually may be via <code>os.mkdir</code>"}, {"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144154, "post_id": 55839233, "comment_id": 98342396, "body": "I did not upvote it. So, we are expected to create those folders programmatically before creating the log files?"}, {"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144242, "post_id": 55839233, "comment_id": 98342422, "body": "I manually created the directories but I am still getting the same error."}, {"owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "reply_to_user": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144418, "post_id": 55839233, "comment_id": 98342459, "body": "@Dawn17 may be you should to set the absolute path, because I bet you made the wrong directories due to not obvious CWD. Try to set the absolute path or to get the info about CWD via <code>print(os.getcwd())</code> and correct the paths due to that output"}, {"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144545, "post_id": 55839233, "comment_id": 98342485, "body": "is the <code>cwd</code> the directory that I am calling the <code>open</code>? Does the path have to be based on <code>cwd</code>?"}, {"owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "reply_to_user": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556144564, "post_id": 55839233, "comment_id": 98342493, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/192335/discussion-between-mr-morgan-and-dawn17\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "is_accepted": false, "score": 2, "last_activity_date": 1556143671, "creation_date": 1556143671, "answer_id": 55839233, "question_id": 55839194, "link": "https://stackoverflow.com/questions/55839194/opening-a-relative-path-and-writing/55839233#55839233", "title": "Opening a relative path and writing", "body": "<p>You should use the <a href=\"https://docs.python.org/3/library/os.html\" rel=\"nofollow noreferrer\">os</a> module with its submodule <a href=\"https://docs.python.org/3/library/os.path.html#module-os.path\" rel=\"nofollow noreferrer\">os.path</a></p>\n\n<p>For joining a paths you should do <code>os.path.join(path1, path2)</code></p>\n\n<p>In your case you should do something like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>log = open(os.path.join(os.pardir, os.pardir, \"output\", \"logs\", \"{}_logs\").format(smell), \"w\")\n</code></pre>\n\n<p>Also you should <code>close</code> this file via <code>log.close()</code> before exit</p>\n\n<p>And for this purposes there is a <a href=\"https://docs.python.org/3/library/logging.html\" rel=\"nofollow noreferrer\">logging</a> module</p>\n"}], "owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556145424, "creation_date": 1556143344, "last_edit_date": 1556145424, "question_id": 55839194, "link": "https://stackoverflow.com/questions/55839194/opening-a-relative-path-and-writing", "title": "Opening a relative path and writing", "body": "<pre><code>def generate_log(dirname, log_object):\n    print(os.path.dirname(__file__),'dfsdfds')\n    print(os.listdir())\n    for smell in log_object:  \n        log = open(\"../../output/logs/{}_logs\".format(smell), \"w\")\n        for elem in log_object[smell]:\n            log.write('filename: {}, smelly_lines: {}, metric: {}\\n'.format(elem['filename'], str(elem['lineno']), str(elem['metric'])))\n</code></pre>\n\n<p>My function tries to write some logs in to the directory <code>output/logs/</code>\nThe directory that I am calling this function is <code>C:\\Users\\user\\Desktop\\proj\\src\\Detector</code>. Since I want the <code>output</code> directory to be generated in <code>/proj</code> which is my project root, I thought doing <code>../../</code> would work, but it gives me </p>\n\n<p><code>log = open(\"../../output/logs/{}_logs\".format(smell), \"w\")\nFileNotFoundError: [Errno 2] No such file or directory: '../../output/logs/long_method_logs'\n</code></p>\n\n<p>Is there anything I can do to fix this?</p>\n"}, {"tags": ["python", "stdout", "stderr", "file-writing"], "answers": [{"tags": [], "owner": {"reputation": 508, "user_id": 7483073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3deafe1fb032d5ad9bc859ebae598?s=128&d=identicon&r=PG&f=1", "display_name": "Hatatister", "link": "https://stackoverflow.com/users/7483073/hatatister"}, "is_accepted": true, "score": 1, "last_activity_date": 1556147510, "creation_date": 1556147510, "answer_id": 55839741, "question_id": 55839189, "link": "https://stackoverflow.com/questions/55839189/python-auto-flush-stdout-and-stderr-to-local-text-file-at-runtime/55839741#55839741", "title": "Python auto-flush stdout and stderr to local text file at runtime", "body": "<p>Setting the buffersize of the file to 1 worked for me</p>\n\n<pre><code>from contextlib import redirect_stdout\nimport time\nimport sys\n\nwith open(\"foo.txt\", \"w\", buffering=1) as handle:\n    with redirect_stdout(handle):\n        print(\"foo\")\n        time.sleep(30)\n        print(\"bar\")\n</code></pre>\n\n<p>what also worked is using print with flush keyword</p>\n\n<pre><code>print(\"foobar\", flush=True)\n</code></pre>\n\n<p>but the latter may not be used if you cannot modify the print-statements</p>\n"}], "owner": {"reputation": 750, "user_id": 11163122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq3vi.png?s=128&g=1", "display_name": "Intrastellar Explorer", "link": "https://stackoverflow.com/users/11163122/intrastellar-explorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 55839741, "answer_count": 1, "score": 0, "last_activity_date": 1556147510, "creation_date": 1556143316, "question_id": 55839189, "link": "https://stackoverflow.com/questions/55839189/python-auto-flush-stdout-and-stderr-to-local-text-file-at-runtime", "title": "Python auto-flush stdout and stderr to local text file at runtime", "body": "<p>I have a Python script to continuously monitor various sensors.  Periodically, my Python script uses print() statements.</p>\n\n<p>My goal is to have my Python script send <code>stdout</code> and <code>stderr</code> sent to a file, in real-time.</p>\n\n<p>My current solution is based off of the following two answers:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4110891/how-to-redirect-the-output-of-print-to-a-txt-file/4111084#4111084\">How to redirect the output of print to a TXT file</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4675728/redirect-stdout-to-a-file-in-python/22434262#22434262\">Redirect stdout to a file in Python?</a></li>\n</ul>\n\n<p>Here is my current code:</p>\n\n<pre><code>from contextlib import redirect_stdout, redirect_stderr\nfrom os.path import join\nfrom some_other_package import get_base_logging_path  # returns filepath (str)\n\ndef main():\n    stdout_log_path = join(get_base_logging_path(), \"stdout.txt\")\n    stderr_log_path = join(get_base_logging_path(), \"stderr.txt\")\n    with open(stdout_log_path, 'w') as f1, redirect_stdout(f1), \\\n        open(stderr_log_path, 'w') as f2, redirect_stderr(f2):\n            do_stuff()\n</code></pre>\n\n<p>Here is where I come to Stack Overflow: the files <code>stdout.txt</code> and <code>stderr.txt</code> are only modified when the script either errors out or I safely close it with <code>control-C</code>.</p>\n\n<p>I would like (particularly <code>stdout.txt</code>) to be updated every time a new <code>print()</code> statement is executed in my Python code.  How can I have my program auto-flush <code>stdout</code> and <code>stderr</code> to the text file?</p>\n\n<p>Note: I tried <code>python -u</code> and it doesn't seem to work.</p>\n"}, {"tags": ["python", "docker", "grpc-python"], "comments": [{"owner": {"reputation": 4624, "user_id": 1873758, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d7a34bb736e9c2143c1d4a9c7f141dad?s=128&d=identicon&r=PG&f=1", "display_name": "ipinak", "link": "https://stackoverflow.com/users/1873758/ipinak"}, "edited": false, "score": 0, "creation_date": 1556143897, "post_id": 55839181, "comment_id": 98342330, "body": "What\u2019s in  hello/gen-py/"}, {"owner": {"reputation": 2513, "user_id": 2753629, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e162c6c2ad0c8c707dd7ca428207c6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2753629/mike"}, "reply_to_user": {"reputation": 4624, "user_id": 1873758, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d7a34bb736e9c2143c1d4a9c7f141dad?s=128&d=identicon&r=PG&f=1", "display_name": "ipinak", "link": "https://stackoverflow.com/users/1873758/ipinak"}, "edited": false, "score": 0, "creation_date": 1556172694, "post_id": 55839181, "comment_id": 98348224, "body": "hello_pb2.py hello_pb2_grpc.py"}, {"owner": {"reputation": 4624, "user_id": 1873758, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d7a34bb736e9c2143c1d4a9c7f141dad?s=128&d=identicon&r=PG&f=1", "display_name": "ipinak", "link": "https://stackoverflow.com/users/1873758/ipinak"}, "edited": false, "score": 0, "creation_date": 1556185512, "post_id": 55839181, "comment_id": 98354759, "body": "Run <code>docker history &lt;your_image_id_or_name&gt;</code> and you will see exactly where everything comes from. For further information check: <a href=\"https://docs.docker.com/engine/reference/commandline/history/\" rel=\"nofollow noreferrer\">docs.docker.com/engine/reference/commandline/history</a>"}, {"owner": {"reputation": 2513, "user_id": 2753629, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e162c6c2ad0c8c707dd7ca428207c6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2753629/mike"}, "reply_to_user": {"reputation": 4624, "user_id": 1873758, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d7a34bb736e9c2143c1d4a9c7f141dad?s=128&d=identicon&r=PG&f=1", "display_name": "ipinak", "link": "https://stackoverflow.com/users/1873758/ipinak"}, "edited": false, "score": 0, "creation_date": 1556191806, "post_id": 55839181, "comment_id": 98358383, "body": "yes, the docker history is very useful for this!"}], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 10208166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99b79ed44d4c8adc94f854d99396d136?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/10208166/marc"}, "is_accepted": true, "score": 5, "last_activity_date": 1556185663, "creation_date": 1556185663, "answer_id": 55846378, "question_id": 55839181, "link": "https://stackoverflow.com/questions/55839181/creating-small-size-docker-grpc-services-with-python/55846378#55846378", "title": "Creating small size docker grpc services with python", "body": "<p>I can tell you where the additional 50MB come from. If you call <code>docker image history hello_app:latest</code> you will see that the <code>chown</code> call creates a layer consuming about 50 MB. Apparently docker can't save the changed owner in a compact way.</p>\n\n<p>Use the <code>--chown</code> flag for <code>COPY</code> instead. E.g.:<br>\n<code>COPY --chown=webuser:webuser --from=builder /home/webuser/env/ env/</code>.<br>\nThis way the files are created with the correct owner and you can remove the <code>RUN chown \u2026</code>.</p>\n"}], "owner": {"reputation": 2513, "user_id": 2753629, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e162c6c2ad0c8c707dd7ca428207c6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2753629/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 55846378, "answer_count": 1, "score": 0, "last_activity_date": 1575304926, "creation_date": 1556143271, "question_id": 55839181, "link": "https://stackoverflow.com/questions/55839181/creating-small-size-docker-grpc-services-with-python", "title": "Creating small size docker grpc services with python", "body": "<p>I am trying to create small docker images with grpc services in Python. To get an idea of the size, I have built a basic hello-world Python grpc service. In order to keep it \"small\" I have used a multi-stage build, where I start from a python:3.7-alpine and then</p>\n\n<p>1) create a virtualenv for the final python installation</p>\n\n<p>2) add necessary building packages for grpc and protobuf</p>\n\n<p>3) copy the virtualenv to the base installation</p>\n\n<p>4) copy the app files</p>\n\n<p>The docker file is as follows:</p>\n\n<pre><code>FROM python:3.7-alpine as base\n\nFROM base as builder\n\nRUN adduser -D webuser\nWORKDIR /home/webuser\n\nRUN apk add --update \\\n    gcc \\\n    g++ \\\n    make \\\n    musl-dev \\\n    python3-dev \\\n    libc6-compat \\  \n    &amp;&amp; rm -rf /var/cache/apk/*\n\n# create a virtual env\nRUN python -m venv env\n\n# install all requirements\nRUN env/bin/pip install protobuf grpcio\n\nFROM base\n\nRUN adduser -D webuser\nWORKDIR /home/webuser\n\nCOPY --from=builder /home/webuser/env/ env/ \n\n# copy the app files\nCOPY hello/gen-py/ ./\nCOPY hello/hello.py ./\nCOPY boot.sh ./\n\n# make webuser the owner of the main folder\nRUN chown -R webuser:webuser ./\n\n# activate webuser\nUSER webuser\n\n# boot.sh is the executable script that basically runs python\n# from the env with the grpc server hello.py\nRUN chmod +x boot.sh\n\nEXPOSE 50051\n\nENTRYPOINT [\"./boot.sh\"]\n</code></pre>\n\n<p>In terms of sizes I have:</p>\n\n<pre><code>python:3.7-alpine  87MB\n\"builder\"         396MB\nhello_app:latest  188MB\n</code></pre>\n\n<p>That is still a very large hello world app. I have built a similar one in C++ which is only 12.4MB. I don't understand a few things in terms of size</p>\n\n<p>My env comes to 51.1 MB, the base python to 93.5MB (based on du -sh in / on the python:3.7-alpine. It is not clear to me why this is larger than the 87MB reported in docker image ls). In total that is 144.6MB, but still it is reported as 188MB.</p>\n\n<p>My main question: How can I create Python GRPC services with as little overhead as possible?\nOther questions: Can anyone explain the docker sizes? Why does docker report + 100MB to the base image when only a 50MB virtual env is added.       </p>\n"}, {"tags": ["python", "json", "class", "parsing", "object"], "comments": [{"owner": {"reputation": 1229, "user_id": 3916223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae66ded0b6a3f8ec8522661af9d964f0?s=128&d=identicon&r=PG&f=1", "display_name": "csunday95", "link": "https://stackoverflow.com/users/3916223/csunday95"}, "edited": false, "score": 0, "creation_date": 1556143554, "post_id": 55839179, "comment_id": 98342225, "body": "any particular reason you&#39;re using jsonstruct? it seems to be a less than complete project that is a fork of <a href=\"http://jsonpickle.github.io/\" rel=\"nofollow noreferrer\">jsonpickle</a>"}, {"owner": {"reputation": 971, "user_id": 3368154, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce9b75789308102d0b8490798e1d8c10?s=128&d=identicon&r=PG&f=1", "display_name": "Shweta", "link": "https://stackoverflow.com/users/3368154/shweta"}, "reply_to_user": {"reputation": 1229, "user_id": 3916223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae66ded0b6a3f8ec8522661af9d964f0?s=128&d=identicon&r=PG&f=1", "display_name": "csunday95", "link": "https://stackoverflow.com/users/3916223/csunday95"}, "edited": false, "score": 0, "creation_date": 1556144781, "post_id": 55839179, "comment_id": 98342544, "body": "@csunday95, umm.. no particular reason, found this as first thing. So how to do it in jsonpickle ?"}], "owner": {"reputation": 971, "user_id": 3368154, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce9b75789308102d0b8490798e1d8c10?s=128&d=identicon&r=PG&f=1", "display_name": "Shweta", "link": "https://stackoverflow.com/users/3368154/shweta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556143243, "creation_date": 1556143243, "question_id": 55839179, "link": "https://stackoverflow.com/questions/55839179/python-define-class-structure-for-given-input-json", "title": "python - define class structure for given input json", "body": "<p>I have a json which has 2 different type of sub-structure depending on the value of field \"source\". The sample json is as follows:</p>\n\n<pre><code>{\n  \"abc\": \"abc1\",\n  \"value\": [\n    {\n      \"source\": \"s1\",\n      \"value\": [\n        {\n          \"name\": \"n1\",\n          \"value\": [\n            {\n              \"value\": \"v1\"\n            },\n            {\n              \"value\": \"v2\"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"source\": \"s2\",\n      \"value\": [\n        {\n          \"h1\": \"...\",\n          \"h2\": [\n            {\n              \"h3\": \"...\"\n            },\n            {\n              \"h3\": \"...\"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<p>I have written partial/incomplete code to parse it with jsonstruct:</p>\n\n<pre><code>import json\n\nimport jsonstruct\n\ndef parse_json_obj(json_obj):\n    json_str = json.dumps(json_obj)\n    return jsonstruct.decode(json_str, ABCData)\n\nclass Entry(object):\n    name = \"\"\n    value = \"\"\n\nclass NameData(object):\n    name = \"\"\n    value = [Entry()]\n\nclass SourceData(object):\n    source = \"\"\n    value = [NameData()]\n\nclass ABCData(object):\n    abc = \"\"\n    value = [SourceData()]\n\n\na = parse_json_obj(&lt;json_data_above&gt;)\nprint a.value[0].source                # prints s1\nprint a.value[0].value[0].value[0].value       # prints v1\n</code></pre>\n\n<p>Now I am stuck to how to extend it to incorporate another source type (s2) sub-structure. Any help in any direction would be super useful. Thanks !</p>\n"}, {"tags": ["python", "python-3.x", "matrix", "distance", "adjacency-matrix"], "comments": [{"owner": {"reputation": 1614, "user_id": 10852841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7a38cc20a4dc6159ee347bf6c19fdf?s=128&d=identicon&r=PG&f=1", "display_name": "HS-nebula", "link": "https://stackoverflow.com/users/10852841/hs-nebula"}, "edited": false, "score": 0, "creation_date": 1556303215, "post_id": 55839170, "comment_id": 98406154, "body": "What kind of distance matrix? Euclidean? Is this for all types of graphs or just DAGs?"}], "answers": [{"comments": [{"owner": {"reputation": 16, "user_id": 12637374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d578569f337a7e22d6e6f27359b1ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Feel_FM", "link": "https://stackoverflow.com/users/12637374/feel-fm"}, "edited": false, "score": 0, "creation_date": 1596195884, "post_id": 60710925, "comment_id": 111741714, "body": "nfmcclure, thank you for the revision but the edges are dictionaries and sometimes the key is not the string &#39;weight&#39;. Thats why is default but it can be different. That&#39;s why i&#39;ll undo your revision, please correct me if that&#39;s a mistake."}], "tags": [], "owner": {"reputation": 16, "user_id": 12637374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d578569f337a7e22d6e6f27359b1ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Feel_FM", "link": "https://stackoverflow.com/users/12637374/feel-fm"}, "is_accepted": false, "score": 0, "last_activity_date": 1596196266, "last_edit_date": 1596196266, "creation_date": 1584381322, "answer_id": 60710925, "question_id": 55839170, "link": "https://stackoverflow.com/questions/55839170/how-to-write-a-function-distance-matrix-which-computes-the-distance-matrix-of-a/60710925#60710925", "title": "How to write a function distance_matrix which computes the distance matrix of a graph without using NetworkX functions in Python?", "body": "<p>Changing a bit the floyd_warshall_predecessor_and_distance function from networkx source code is posible to calculate de distance matrix :</p>\n<pre><code>def distance_matrix(G, weight='weight'):\n    from collections import defaultdict\n    #G is a graph from networkx package.\n    dist = defaultdict(lambda : defaultdict(lambda: float('inf')))\n    for u in G:\n        dist[u][u] = 0\n\n    undirected = not G.is_directed()\n    for u,v,d in G.edges(data=True):\n        e_weight = d.get(weight, 1.0)\n        dist[u][v] = min(e_weight, dist[u][v])\n\n        if undirected:\n            dist[v][u] = min(e_weight, dist[v][u])\n\n    for w in G:\n        for u in G:\n            for v in G:\n                if dist[u][v] &gt; dist[u][w] + dist[w][v]:\n                    dist[u][v] = dist[u][w] + dist[w][v]\n\n    return dict(dist)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11405662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edb9ea22c3170929f60f02120a87d901?s=128&d=identicon&r=PG&f=1", "display_name": "Barbara", "link": "https://stackoverflow.com/users/11405662/barbara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1596196266, "creation_date": 1556143201, "last_edit_date": 1556143295, "question_id": 55839170, "link": "https://stackoverflow.com/questions/55839170/how-to-write-a-function-distance-matrix-which-computes-the-distance-matrix-of-a", "title": "How to write a function distance_matrix which computes the distance matrix of a graph without using NetworkX functions in Python?", "body": "<p>I have to write a write a function distance matrix in python which computes the distance matrix of a graph. I can use the NetworkX function adjacency_matrix to compute the adjacency matrix of the input graph, but I cannot use any other NetworkX functions. </p>\n\n<p>I know that the function has to computes the distance matrix of a graph. It needs to a matrix, represented as an array of type numpy.ndarray, of the same shape as the adjacency matrix of the graph. </p>\n\n<pre><code>Am = np.eye(48)\nA = nx.adjacency_matrix(G).toarray()\nA1 = np.eye(48)\ndef distance_matrix(G):\n    for m in range(1,49,1):\n        Am=np.linalg.matrix_power(A,m)\n        for i in range(48):\n            for j in range(48):\n                if Am[i,j]&gt;0 and A1[i, j] == 0 :\n                    A1[i, j] = m and np.diagonal(B)==0 \n        return A1\nprint(distance_matrix(G))\n</code></pre>\n\n<p>I know that the diagonal has to be equal to 0 and the rest of the entries have to be shortest path from one node to the other. I think...</p>\n"}, {"tags": ["python", "c", "python-c-api"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1556144592, "post_id": 55839131, "comment_id": 98342501, "body": "Where&#39;s the Python code showing how you want to call it? Have you been through any tutorials, such as this one: <a href=\"https://www.tutorialspoint.com/python/python_further_extensions.htm\" rel=\"nofollow noreferrer\">Python - Extension Programming With C</a>?"}, {"owner": {"reputation": 441, "user_id": 7032246, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7aa264c13fb5bdf1acd0a1e5033ba043?s=128&d=identicon&r=PG&f=1", "display_name": "c00der", "link": "https://stackoverflow.com/users/7032246/c00der"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1556164418, "post_id": 55839131, "comment_id": 98346139, "body": "Yes I did. I have done extensions that return simple values, like ints or floats, but couldn&#39;t find a way to return an array"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1556185169, "post_id": 55839131, "comment_id": 98354555, "body": "I think you need to show the C function you want to call (to show how the return type is allocated, etc). At the moment you just have a nonsensical recursive call to <code>_get_array</code>. It&#39;s basically pretty easy - you create a Python list and iterate through it to fill it with Python strings - but the details do depend on code you don&#39;t show"}, {"owner": {"reputation": 441, "user_id": 7032246, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7aa264c13fb5bdf1acd0a1e5033ba043?s=128&d=identicon&r=PG&f=1", "display_name": "c00der", "link": "https://stackoverflow.com/users/7032246/c00der"}, "reply_to_user": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1556203749, "post_id": 55839131, "comment_id": 98365903, "body": "@DavidW, sorry for the delay. Just added. My concern is, there can be a lot of items in the array that is returned and don&#39;t want to use a Python list because of the overhead. I would much prefer using a pure C array instead. Somewhere I read you can use Numpy arrays but I am confused whether I can return a pure C array or need to use Python or Numpy specfic array implementation"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 1, "creation_date": 1556205533, "post_id": 55839131, "comment_id": 98367064, "body": "You definitely can&#39;t return a pure C array. Numpy string arrays would work fine, but the strings must be of fixed length (which it looks like these are). Python lists are better than you think. I&#39;ll post a proper answer if/when I can (and if no one else does it first)"}, {"owner": {"reputation": 441, "user_id": 7032246, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7aa264c13fb5bdf1acd0a1e5033ba043?s=128&d=identicon&r=PG&f=1", "display_name": "c00der", "link": "https://stackoverflow.com/users/7032246/c00der"}, "edited": false, "score": 0, "creation_date": 1556212460, "post_id": 55839131, "comment_id": 98370474, "body": "Thanks, since I don&#39;t know, why can&#39;t a pure C array be returned? Is it because Python can&#39;t interpret what that is? Also, when you use a Python list, can C long long still be used or should they be Python_ints?"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1556224781, "post_id": 55839131, "comment_id": 98375867, "body": "Yes - it&#39;s that Python doesn&#39;t know what it is. If I understand what you want correctly, the Python list would be of strings rather than ints, but you could definitely make the string from a C long long like you do here."}], "answers": [{"tags": [], "owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "is_accepted": true, "score": 1, "last_activity_date": 1556266026, "creation_date": 1556266026, "answer_id": 55863354, "question_id": 55839131, "link": "https://stackoverflow.com/questions/55839131/return-a-c-string-array-from-a-c-extension/55863354#55863354", "title": "Return a C String Array from a C Extension", "body": "<p>You can't return your <code>char**</code> directly Python since Python only understands objects of type <code>PyObject*</code> (since this contains the information needed to handle reference counting and identifying the type). You therefore have to create a suitable Python object. The simplest option would be a list of strings. The next simplest you be a numpy array using the string type (you can do this easily because all your strings are the same length). Neither of these have a direct <code>Py_BuildValue</code> conversion so you have to write loops yourself.</p>\n\n<hr>\n\n<p>For a list of strings you simply create the list with <code>PyList_New</code> then go through element by element with <code>PyList_SetItem</code>:</p>\n\n<pre><code>char** array = get_array(value, init_level, final_level);\nPyObject* list = PyList_New(1 &lt;&lt; (4* (final_level - init_level)));\nif (!list) return NULL;\n\nfor (int i=0; i&lt;(1 &lt;&lt; (4* (final_level - init_level))); ++i) {\n    PyObject* item = PyBytes_FromStringAndSize(array[i],(4+final_level));\n    if (!item) goto failed;\n\n    if (PyList_SetItem(list,i,item) != 0) {\n        Py_DECREF(item);\n        goto failed;\n    }\n\n    free(array[i]); // deallocate array as we go\n}\nfree(array);\n\n// returning the array as a Python object by o\nreturn list;\n\nfailed:\nPy_DECREF(list);\n// also deallocate the rest of array?\nreturn NULL;\n</code></pre>\n\n<p>Note that I haven't finalised memory management of failure so you'll leak <code>array</code>.</p>\n\n<hr>\n\n<p>For the numpy array you allocate an array with the correct string type, and then copy the data into it</p>\n\n<pre><code>char** array = get_array(value, init_level, final_level);\n\n// create an \"Sx\" dtype, where x is a suitable number\nPyArray_Descr *desc = PyArray_DescrNewFromType(NPY_STRING);\ndesc-&gt;elsize = (4+final_level);\n\nnpy_intp array_length[] = {1 &lt;&lt; (4* (final_level - init_level))};\nPyObject* nparray = PyArray_SimpleNewFromDescr(1,array_length,desc);\nif (!nparray) return NULL; // clean up array too\n\nfor (int i=0; i&lt;(1 &lt;&lt; (4* (final_level - init_level))); ++i) {\n    char* data = PyArray_GETPTR1((PyArrayObject*)nparray,i);\n\n    // copy data\n    for (int j=0; j&lt;(4+final_level); ++j) {\n        data[j] = array[i][j];\n    }\n\n    free(array[i]); // deallocate array as we go\n}\nfree(array);\n\n// returning the array as a Python object by o\nreturn nparray;\n</code></pre>\n\n<p>Again, not all the error handling is perfect. For this example to work you <em>must</em> call  <code>import_array()</code> in your module init function.</p>\n\n<hr>\n\n<p>In both cases you might be better not allocating memory in <code>get_array</code> but instead writing directly into your Python objects.</p>\n"}], "owner": {"reputation": 441, "user_id": 7032246, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7aa264c13fb5bdf1acd0a1e5033ba043?s=128&d=identicon&r=PG&f=1", "display_name": "c00der", "link": "https://stackoverflow.com/users/7032246/c00der"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 55863354, "answer_count": 1, "score": 0, "last_activity_date": 1556266026, "creation_date": 1556142979, "last_edit_date": 1556203612, "question_id": 55839131, "link": "https://stackoverflow.com/questions/55839131/return-a-c-string-array-from-a-c-extension", "title": "Return a C String Array from a C Extension", "body": "<p>I have a C function that returns an array of strings. How can I call it in the form of a Python C extension which will return the array back to a calling Python function? (I am new to Python C extensions and have minimal experience with the extensions)</p>\n\n<p>This is the definition I tried:</p>\n\n<pre><code>static PyObject* _get_array(PyObject* self, PyObject* args)\n{\n    int64_t value;\n    int init_level;\n    int final_level;\n\n    if(!PyArg_ParseTuple(args, \"Lii\", &amp;value, &amp;init_level, &amp;final_level))\n        return NULL;\n\n    // returning the array as a Python object by o\n    return Py_BuildValue(\"o\", _get_array(value, init_level, final_level));\n}\n</code></pre>\n\n<p>and the method def:</p>\n\n<pre><code>static PyMethodDef array_methods[] = {\n    { \"get_array\", _get_array, METH_VARARGS, \"Returns a string array\"},\n    { NULL, NULL, 0, NULL }\n};\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>get_array function:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdint.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;Python.h&gt;\n\nchar **get_array(int64_t value, int init_level, int final_level) {\n\n  int SHIFTS []= {44, 40, 36, 32, 28, 24, 20, 16, 12, 8, 4, 0};\n\n  long count =  1 &lt;&lt; (4* (final_level - init_level));\n  char** t_array;\n  t_array = malloc(sizeof(char*)*count);\n\n  int shift_coff = 11 -(final_level-init_level);\n  int64_t base = (value &lt;&lt; SHIFTS[shift_coff]);\n\n  for (long i=0; i &lt; count; i++){\n    t_array[i] = malloc((4+final_level)*sizeof(char));\n    sprintf(t_array[i], \"%llX\", (base + i));\n  }\n\n  return t_array;\n}\n</code></pre>\n"}, {"tags": ["python", "python-3.6", "python-3.2"], "comments": [{"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1556148400, "post_id": 55839114, "comment_id": 98343329, "body": "Why are you writing to the readable process.stdout rather than the writable process.stdin?"}, {"owner": {"reputation": 229, "user_id": 1435998, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a2f2fad3eda2a3bfbb48ba3ec22cfdc?s=128&d=identicon&r=PG", "display_name": "Belos", "link": "https://stackoverflow.com/users/1435998/belos"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1556151047, "post_id": 55839114, "comment_id": 98343719, "body": "That was a typo"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1556151785, "post_id": 55839114, "comment_id": 98343835, "body": "There seems to be some code missing\u2014you never set anything non-blocking, for instance.  Is your \u201cservice 4\u201d actually started?"}], "answers": [{"tags": [], "owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "is_accepted": true, "score": 2, "last_activity_date": 1556152134, "creation_date": 1556152134, "answer_id": 55840245, "question_id": 55839114, "link": "https://stackoverflow.com/questions/55839114/popen-stdout-readline-works-in-python-3-2-but-returns-empty-string-in-python-3/55840245#55840245", "title": "Popen.stdout.readline() works in Python 3.2 but returns empty string in Python 3.6", "body": "<p>Buffering was turned on by default in <a href=\"https://docs.python.org/3/library/subprocess.html#popen-constructor\" rel=\"nofollow noreferrer\">3.2.4 and 3.3.1</a>, having been turned off inadvertently in Python&nbsp;3.  You need to <code>flush</code> your <strong><code>write</code></strong> to <code>process.stdin</code> for the other side to see anything.</p>\n"}], "owner": {"reputation": 229, "user_id": 1435998, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a2f2fad3eda2a3bfbb48ba3ec22cfdc?s=128&d=identicon&r=PG", "display_name": "Belos", "link": "https://stackoverflow.com/users/1435998/belos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 55840245, "answer_count": 1, "score": 5, "last_activity_date": 1556152134, "creation_date": 1556142895, "last_edit_date": 1556151064, "question_id": 55839114, "link": "https://stackoverflow.com/questions/55839114/popen-stdout-readline-works-in-python-3-2-but-returns-empty-string-in-python-3", "title": "Popen.stdout.readline() works in Python 3.2 but returns empty string in Python 3.6", "body": "<p>I am using Popen to start a telnet process over ssh, send commands through the telnet and check the process for output to monitor the state of the telnet. The weird thing I encountered is that the code works fine with Python 3.2.3 but when I run it in Python 3.6.5 with no code changes, it fails to get the output.</p>\n\n<p>I have tried</p>\n\n<ul>\n<li><p>flushing the stdout</p></li>\n<li><p>waiting up to 10s after stdout.write</p></li>\n<li><p>checked stderr</p></li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code>def nonblockingread(sout):\n   fd = output.fileno()\n   fl = fcntl.fcntl(fd, fcntl.F_GETFL)\n   try:\n       return sout.read()\n   except:\n       return \"\"\n\nprocess = Popen(shlex.split(\"ssh anon@server \\\"telnet 0 2323\\\"\"), stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\nprint(nonblockingread(process.stdout)) # works for both versions\nprocess.stdin.write(b\"start service 4\\n\")\nprint(nonblockingread(process.stdout)) # works in 3.2 but not 3.6 (prints empty line)\nprint(process.stdout.readline()) # also prints empty line in 3.6\n</code></pre>\n"}, {"tags": ["python", "json", "unicode", "python-unicode", "try-except"], "comments": [{"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556143683, "post_id": 55839108, "comment_id": 98342252, "body": "Possibly use the encoder function of the json.load <a href=\"https://docs.python.org/2/library/json.html#json.load\" rel=\"nofollow noreferrer\">docs.python.org/2/library/json.html#json.load</a>"}, {"owner": {"reputation": 125, "user_id": 11396265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0i0DirQYCs/AAAAAAAAAAI/AAAAAAAAACo/SbdGPKBmhxQ/photo.jpg?sz=128", "display_name": "Stramzik", "link": "https://stackoverflow.com/users/11396265/stramzik"}, "reply_to_user": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556144692, "post_id": 55839108, "comment_id": 98342530, "body": "@GiraffeMan91 I tried this``` y = json.loads(data,encoding=&#39;UTF-8&#39;)``` but it again gives me TypeError and you please share an example?"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556145173, "post_id": 55839108, "comment_id": 98342637, "body": "Can you give an example of your original error and the tweet that went with it? And also what you are expecting as the output?"}, {"owner": {"reputation": 125, "user_id": 11396265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0i0DirQYCs/AAAAAAAAAAI/AAAAAAAAACo/SbdGPKBmhxQ/photo.jpg?sz=128", "display_name": "Stramzik", "link": "https://stackoverflow.com/users/11396265/stramzik"}, "reply_to_user": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556146068, "post_id": 55839108, "comment_id": 98342850, "body": "@GiraffeMan91 Please go to my github - <a href=\"https://github.com/stramzik/Twitter-Sentiment-analyzer\" rel=\"nofollow noreferrer\">github.com/stramzik/Twitter-Sentiment-analyzer</a> The Senti.py has the complete code Tweet.txt has few example tweet json&#39;s. I get the &quot;TypeError: can&#39;t use a string pattern on a bytes-like object&quot;  on all tweets because of cleaning which I am performing."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556146209, "post_id": 55839108, "comment_id": 98342875, "body": "I&#39;ll take a look later and see if I can replicate."}, {"owner": {"reputation": 125, "user_id": 11396265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0i0DirQYCs/AAAAAAAAAAI/AAAAAAAAACo/SbdGPKBmhxQ/photo.jpg?sz=128", "display_name": "Stramzik", "link": "https://stackoverflow.com/users/11396265/stramzik"}, "reply_to_user": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556146795, "post_id": 55839108, "comment_id": 98343023, "body": "@GiraffeMan91 Thank you. Let me know if you need anything."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556157133, "post_id": 55839108, "comment_id": 98344779, "body": "Sorry I couldn&#39;t replicate it with the text file tweets or the one here."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 1, "creation_date": 1556198800, "post_id": 55839108, "comment_id": 98362671, "body": "You shouldn&#39;t call <code>.encode()</code> on a string here, and it&#39;s very rarely necessary actually. If you get a UnicodeEncodeError on <code>print()</code>, you should reconfigure your IDE/terminal to support UTF-8 and tell the Python interpreter about it (eg. throuh the <code>PYTHONIOENCODING</code> environment variable)."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "reply_to_user": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556198906, "post_id": 55839108, "comment_id": 98362736, "body": "@GiraffeMan91 You might unable to reproduce the problem because OP seems to be using Python 3, while you are apparently still working with Python 2."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556199108, "post_id": 55839108, "comment_id": 98362866, "body": "I am <i>apparently</i> on <b>3.7</b> but I did not get the same errors as op using their text file they provided so couldn\u2019t help with the original error they were getting."}, {"owner": {"reputation": 125, "user_id": 11396265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0i0DirQYCs/AAAAAAAAAAI/AAAAAAAAACo/SbdGPKBmhxQ/photo.jpg?sz=128", "display_name": "Stramzik", "link": "https://stackoverflow.com/users/11396265/stramzik"}, "reply_to_user": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1556227333, "post_id": 55839108, "comment_id": 98376835, "body": "@lenz could you please guide me how to do that? I am currently using ATOM to run the script."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1556230708, "post_id": 55839108, "comment_id": 98377887, "body": "I don&#39;t use Atom. The <a href=\"https://www.xkcd.com/627/\" rel=\"nofollow noreferrer\">Tech Support Cheat Sheet</a> applies (I don&#39;t want to call you a not-computer person though). If you&#39;re sure the problem is caused by <code>print()</code>, and if you can&#39;t figure out how to make it work in Atom, you should post a new question."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "reply_to_user": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556230760, "post_id": 55839108, "comment_id": 98377899, "body": "@GiraffeMan91 sorry for assuming wrong. My assumption was based on the fact that you linked to the Python-2 docs in your first comment."}], "owner": {"reputation": 125, "user_id": 11396265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0i0DirQYCs/AAAAAAAAAAI/AAAAAAAAACo/SbdGPKBmhxQ/photo.jpg?sz=128", "display_name": "Stramzik", "link": "https://stackoverflow.com/users/11396265/stramzik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556142873, "creation_date": 1556142873, "question_id": 55839108, "link": "https://stackoverflow.com/questions/55839108/how-to-handle-unicode-error-on-json-objects-in-python", "title": "How to handle Unicode error on JSON objects in python?", "body": "<p>When I call twitter API it gives me a JSON string of tweets</p>\n\n<p>for example Example </p>\n\n<hr>\n\n<p>data = {\"created_at\":\"Mon Apr 22 22:45:05 +0000 2019\",\"text\":\"Just confirmed! Mark Derdzinski, Data Scientist @dexcom is joining our Data Science panel! An alum of UCSD, Mark st\\u2026 https://t.co/sPNgvMvx9t\",\"extended_tweet\":{\"full_text\":\"Just confirmed! Mark Derdzinski, Data Scientist @dexcom is joining our Data Science panel! An alum of UCSD, Mark studies patient, commercial, &amp; device data to generate actionable business insights &amp; improve patient outcomes. #dexcom #datascienceday #techsandiego #ucsd https://t.co/89ktI7jKI3\",\"display_text_range\":[0,276]}</p>\n\n<hr>\n\n<p>when I check the type it says str.\nto parse i converted to dict using </p>\n\n<pre><code>a = json.loads(data)\n</code></pre>\n\n<p>From that I am trying to parse the [\"extended_text\"][\"full_text\"] to get the full tweet</p>\n\n<p>but I got UnicodeError hence after looking at few threads i found out that I had to encode the string and used the below code</p>\n\n<pre><code>y = y['extended_tweet']['full_text'].encode(encoding='UTF-8')\n</code></pre>\n\n<p>But when I try to print(y) if the full_tweet contains links it is not clean and it displays as is. </p>\n\n<p>So I planned on cleaning the tweet with the below code(found online as well #begineerlife)</p>\n\n<pre><code>URLless_string = re.sub(r'\\w+:\\/{2}[\\d\\w-]+(\\.[\\d\\w-]+)*(?:(?:\\/[^\\s/]*))*', '', y)\n</code></pre>\n\n<p>I get Type error </p>\n\n<pre><code>TypeError: can't use a string pattern on a bytes-like object\n</code></pre>\n\n<p>Please help me on fixing the issue I am not sure how I can parse a clean tweet.</p>\n\n<p>FULL CODE is as below</p>\n\n<pre><code>def on_data(self, data):\n        y = json.loads(data)\n\n        try:\n            y = y['extended_tweet']['full_text'].encode(encoding='UTF-8')\n            print(type(y))\n            URLless_string = re.sub(r'\\w+:\\/{2}[\\d\\w-]+(\\.[\\d\\w-]+)*(?:(?:\\/[^\\s/]*))*', '', y)\n            print(URLless_string)\n        except KeyError:\n            y = y['text'].encode(encoding='UTF-8')\n            print(type(y))\n            URLless_string = re.sub(r'\\w+:\\/{2}[\\d\\w-]+(\\.[\\d\\w-]+)*(?:(?:\\/[^\\s/]*))*', '', y)\n            print(URLless_string)\n</code></pre>\n\n<p>The try and expect method is used because \nSome tweets does not have Full_tweets so I just have to rely on [\"text\"] key on the dict object.</p>\n\n<p>If you could help me in refining the code that would help a lot too.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 3566, "user_id": 8089090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8fc31c29878a0b7a90c1174d366e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gagne", "link": "https://stackoverflow.com/users/8089090/jonathan-gagne"}, "edited": false, "score": 0, "creation_date": 1556143187, "post_id": 55839135, "comment_id": 98342119, "body": "Hey @Erfan I have to make a test speed on these two ^^"}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "reply_to_user": {"reputation": 3566, "user_id": 8089090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8fc31c29878a0b7a90c1174d366e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gagne", "link": "https://stackoverflow.com/users/8089090/jonathan-gagne"}, "edited": false, "score": 0, "creation_date": 1556143296, "post_id": 55839135, "comment_id": 98342142, "body": "Sure, go ahead. Quite curious as well :)"}, {"owner": {"reputation": 3566, "user_id": 8089090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8fc31c29878a0b7a90c1174d366e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gagne", "link": "https://stackoverflow.com/users/8089090/jonathan-gagne"}, "edited": false, "score": 1, "creation_date": 1556143406, "post_id": 55839135, "comment_id": 98342181, "body": "Same stuff 831ms against 823ms with +/- 30ms so it can be a CPU performance, can&#39;t tell, but this is pretty much the same speed, I will upvote yours ;)"}], "tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": false, "score": 7, "last_activity_date": 1556143012, "creation_date": 1556143012, "answer_id": 55839135, "question_id": 55839104, "link": "https://stackoverflow.com/questions/55839104/convert-dataframe-column-to-list-of-string/55839135#55839135", "title": "convert dataframe column to list of string", "body": "<p>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.tolist.html\" rel=\"noreferrer\"><code>Series.tolist</code></a>:</p>\n\n<pre><code>list_text = df.text.tolist()\n\nprint(list_text)\n\n['Hello', 'How are you', 'From', 'Liban']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2817, "user_id": 1786137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OWMpl.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/1786137/anthony"}, "edited": false, "score": 1, "creation_date": 1556151179, "post_id": 55839188, "comment_id": 98343737, "body": "While this command may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value. <a href=\"https://stackoverflow.com/help/how-to-answer\">How to Answer</a>"}, {"owner": {"reputation": 461, "user_id": 4919575, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e7ed2995045899d43c1294b0d9fed328?s=128&d=identicon&r=PG&f=1", "display_name": "Rebin", "link": "https://stackoverflow.com/users/4919575/rebin"}, "reply_to_user": {"reputation": 2817, "user_id": 1786137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OWMpl.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/1786137/anthony"}, "edited": false, "score": 0, "creation_date": 1556204878, "post_id": 55839188, "comment_id": 98366668, "body": "I will add description"}], "tags": [], "owner": {"reputation": 461, "user_id": 4919575, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e7ed2995045899d43c1294b0d9fed328?s=128&d=identicon&r=PG&f=1", "display_name": "Rebin", "link": "https://stackoverflow.com/users/4919575/rebin"}, "is_accepted": false, "score": 0, "last_activity_date": 1556204971, "last_edit_date": 1556204971, "creation_date": 1556143308, "answer_id": 55839188, "question_id": 55839104, "link": "https://stackoverflow.com/questions/55839104/convert-dataframe-column-to-list-of-string/55839188#55839188", "title": "convert dataframe column to list of string", "body": "<p>you can iterate over elements in the target column and add the elements you want to an empty list. </p>\n\n<pre><code>d = {'text': [\"Hello\", \"How are you\",\"From\",\"Liban\"]}\ndf = pd.DataFrame(d)\nrows,columns=df.shape\n\nlist_text=[] #your empty list \nfor index in range(rows): #iteration over the dataframe\n    list_text.append(df.iat[index,0])\n\nprint(list_text)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 11256222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780aa53959e5c1b7f2e1ab059a2ed99f?s=128&d=identicon&r=PG&f=1", "display_name": "This", "link": "https://stackoverflow.com/users/11256222/this"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8035, "favorite_count": 0, "closed_date": 1556143367, "answer_count": 2, "score": 3, "last_activity_date": 1556204971, "creation_date": 1556142857, "question_id": 55839104, "link": "https://stackoverflow.com/questions/55839104/convert-dataframe-column-to-list-of-string", "closed_reason": "Duplicate", "title": "convert dataframe column to list of string", "body": "<p>bust a list of string from a dataframe column like shown with my code:</p>\n\n<pre><code>d = {'text': [\"Hello\", \"How are you\",\"From\",\"Liban\"]}\ndf = pd.DataFrame(data=d)\ndf\n</code></pre>\n\n<p>My list will have </p>\n\n<pre><code>    List_text = [\"Hello\",\"How are you\",\"From\",\"Liban\"].\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "python-3.x", "sockets", "zeromq", "pyzmq"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1556143111, "post_id": 55839089, "comment_id": 98342087, "body": "This is a bit broad. There are myriad ways to do this, so you&#39;re going to receive widely variant and speculative answers. Please narrow down the scope of the question and, preferably, include some code as an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. See <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> for more guidance."}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 9812860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YsOTS.png?s=128&g=1", "display_name": "Dimitris", "link": "https://stackoverflow.com/users/9812860/dimitris"}, "is_accepted": true, "score": 0, "last_activity_date": 1556568250, "creation_date": 1556568250, "answer_id": 55910086, "question_id": 55839089, "link": "https://stackoverflow.com/questions/55839089/how-to-send-data-to-one-script-for-as-long-as-correct-data-from-another-script-i/55910086#55910086", "title": "How to send data to one script for as long as correct data from another script is being received using zmq", "body": "<p>I actually ended using multiprocessing. It does what I want, closing the question. Probably was broad indeed.</p>\n"}], "owner": {"reputation": 83, "user_id": 9812860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YsOTS.png?s=128&g=1", "display_name": "Dimitris", "link": "https://stackoverflow.com/users/9812860/dimitris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 55910086, "answer_count": 1, "score": 0, "last_activity_date": 1556568250, "creation_date": 1556142793, "last_edit_date": 1556146317, "question_id": 55839089, "link": "https://stackoverflow.com/questions/55839089/how-to-send-data-to-one-script-for-as-long-as-correct-data-from-another-script-i", "title": "How to send data to one script for as long as correct data from another script is being received using zmq", "body": "<p>Hello guys and girls I could really use your help or guidance on this problem.</p>\n\n<p>Given I have 3 python scripts</p>\n\n<p><strong>script1.py</strong></p>\n\n<p><strong>script2.py</strong></p>\n\n<p><strong>script3.py</strong></p>\n\n<p>What I need is for script1.py to send let's say a string 'True' to script2.py.</p>\n\n<p>Then script2.py must send a string to script3.py.</p>\n\n<p>In the same time script2.py must check wether script1.py sends him a string 'False'. </p>\n\n<p>If that happens, script2.py must stop sending any data to script3.py</p>\n\n<p>I am using pyzmq, as I think it is going to fit my needs. I don't want to use Flask or socketsio.</p>\n\n<p>I have looked at multiprocessing and multithreading, but I am not sure if that is the direction I should move to. I have tried using while loops to check constantly the values send from one script to the other, but this does not work very well.</p>\n\n<p>Is there a way to do this using only pyzmq or should I use something like multiprocessing or multithreading indeed?</p>\n\n<p>Thanks in advance</p>\n\n<p>EDIT: <strong>Trying to give a better explanation.</strong></p>\n\n<p>This is the script2.py. It gets the data through port 5555 from script1.py and publishes other data through port 5556 to script3.py by running the function get(). At this point I thought data1 to be the input from script1.py. I want to check all the time if script1.py sends me a signal to stop publishing the data to script3.py.</p>\n\n<p>Is there a way to do this using pyzmq without using parallel computing?</p>\n\n<pre><code>#script2.py\nfrom time import sleep\nimport random\nimport zmq\n\ndef get():\n    estimated = ()\n    on = ()\n\n    i = 0   \n    while i&lt;10:\n        now = random.uniform(10, 15)\n        estimated += (now,)\n        on += (0.85 * now,)\n        sleep(1)\n        i += 1\n\n    data_package = {'Estimated ': estimated, 'Actual': on}\n    return data_package\n\ncontext = zmq.Context()\n\nsocket_1 = context.socket(zmq.SUB)\nsocket_1.setsockopt(zmq.SUBSCRIBE, b'status')\nsocket_1.connect(\"tcp://localhost:5555\")\nprint('Connected to port 5555')\ntopic1 = socket1.recv_string()\ndata1 = socket1.recv_string() # may be a pyobj as well\n\nsocket2 = context.socket(zmq.PUB)\nsocket2.bind(\"tcp://*:5556\")\nprint('Connected to port 5556')\n\nwhile True:\n    socket_2.send_string('topic2', zmq.SNDMORE)\n    socket_2.send_pyobj(get())\n    print(\"dictionary sent\")\n</code></pre>\n\n<p>Right now it just runs the while loop endlessly. Putting the received string as a condition does not really do anything.</p>\n"}, {"tags": ["python", "python-3.x", "postgresql", "python-2.7", "psycopg2"], "answers": [{"tags": [], "owner": {"reputation": 531, "user_id": 11145822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daa3f395c266eef64a37689f10f8345?s=128&d=identicon&r=PG&f=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/11145822/sandeep"}, "is_accepted": true, "score": 1, "last_activity_date": 1556485834, "creation_date": 1556485834, "answer_id": 55894606, "question_id": 55839085, "link": "https://stackoverflow.com/questions/55839085/selecting-data-from-schema-based-table-in-postgresql-using-psycopg2/55894606#55894606", "title": "Selecting data from schema based table in Postgresql using psycopg2", "body": "<p>Please try the below code,</p>\n\n<pre><code>  Query = \"\"\"select * from dl.\"products\";\"\"\"\n   cursor.execute(Query)\n   print(\"Selecting rows from test table using cursor.fetchall\")\n   row = cursor.fetchone()\n   while row is not None:\n        print(row)\n        row = cursor.fetchone()\n   print(\"Print each row and it's columns values\")\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 11156319, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k5i_FkZ6y4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcHNKmqUDsgzzrwFj0vdKPMLZNCew/mo/photo.jpg?sz=128", "display_name": "Linu", "link": "https://stackoverflow.com/users/11156319/linu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "accepted_answer_id": 55894606, "answer_count": 1, "score": 2, "last_activity_date": 1556485834, "creation_date": 1556142791, "last_edit_date": 1556282433, "question_id": 55839085, "link": "https://stackoverflow.com/questions/55839085/selecting-data-from-schema-based-table-in-postgresql-using-psycopg2", "title": "Selecting data from schema based table in Postgresql using psycopg2", "body": "<p>I'm a newbie in Python and would like to select some data from postgreSQL database using python psycopg2 API.</p>\n\n<p>The table I'm selecting is inside a schema dl(dl.products),so when I write the code </p>\n\n<pre><code>Conn=   psycopg2.connect(host=\"localhost\",database=\"postgres\",user=\"postgres\", password=\"postgres\")\n  Cur=conn.cursor()\n  Cur.execute(\"select * from dl.products\")\n</code></pre>\n\n<p>It's showing the error <strong>relation dl.products  doesn't exists</strong>.</p>\n\n<p>Can anyone show me an example on how to do this?</p>\n"}, {"tags": ["python", "encryption", "configuration-files"], "answers": [{"comments": [{"owner": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "edited": false, "score": 0, "creation_date": 1556147150, "post_id": 55839268, "comment_id": 98343094, "body": "I\u2019m ok with my code to contain the decryption key, assuming that what\u2019s the options?"}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "reply_to_user": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "edited": false, "score": 0, "creation_date": 1557467483, "post_id": 55839268, "comment_id": 98781734, "body": "@H.Z. I think I outlined the options. What else do you want to hear?"}], "tags": [], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "is_accepted": false, "score": 1, "last_activity_date": 1556145228, "last_edit_date": 1556145228, "creation_date": 1556143924, "answer_id": 55839268, "question_id": 55839060, "link": "https://stackoverflow.com/questions/55839060/how-to-encrypt-decrypt-a-configuration-file-in-python/55839268#55839268", "title": "How to encrypt/decrypt a configuration file in python", "body": "<p>Since your program will have to contain the decryption key, you won't be able to protect the data from a determined user, only make decrypting it somewhat harder.</p>\n\n<p>As per <a href=\"https://docs.python.org/3/library/crypto.html\" rel=\"nofollow noreferrer\">Cryptographic Services \u2014 Python 3.7.3 documentation</a>, Python doesn't include any true ciphers out of the box. Only <code>codecs</code> have <a href=\"https://docs.python.org/3/library/codecs.html?highlight=codecs#text-transforms\" rel=\"nofollow noreferrer\">Caesar's cipher</a> and standard encodings that mangle the data recoverably like UUEncode and Base64.</p>\n\n<p>So if the above isn't good enough for you, you need to either implement a symmetric cipher yourself or use a library. See e.g. <a href=\"https://stackoverflow.com/questions/25261647/python-aes-encryption-without-extra-module\">Python AES encryption without extra module</a>.</p>\n\n<p>Since true security is not possible here, the way to go depending on how hard you want to make it for a hacking user would be <a href=\"https://en.wikipedia.org/wiki/Security_through_obscurity\" rel=\"nofollow noreferrer\">security through obscurity</a>: use nonstandard ciphers, don't decrypt all the file at once, make many different place where the encryption/decryption takes place, use obfuscated code, add hidden checksums to protect from tampering, use bits of data outside the file stored in other, unexpected places etc.</p>\n\n<p>If you are just interested in making the file unintelligible for a casual user, something like Base64 combined with <a href=\"https://en.wikipedia.org/wiki/XOR_cipher\" rel=\"nofollow noreferrer\">XOR cipher</a> will already make the data completely unintelligible when viewed with a text editor.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11449787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4vI4.jpg?s=128&g=1", "display_name": "Mike Heitz", "link": "https://stackoverflow.com/users/11449787/mike-heitz"}, "is_accepted": false, "score": 0, "last_activity_date": 1561126608, "creation_date": 1561126608, "answer_id": 56705172, "question_id": 55839060, "link": "https://stackoverflow.com/questions/55839060/how-to-encrypt-decrypt-a-configuration-file-in-python/56705172#56705172", "title": "How to encrypt/decrypt a configuration file in python", "body": "<p>@H.Z. - as Ivan pointed out, there are a number of options depending on the level of security you want.</p>\n\n<p>I am working on a similar project to what you are describing and I am using the cryptogrophay library (<a href=\"https://cryptography.io/en/latest/\" rel=\"nofollow noreferrer\">https://cryptography.io/en/latest/</a>)</p>\n\n<p>You can install this using pip easily.</p>\n\n<p>I am using this in a one step process to encrypt my config file - then have a separate script to decrypt in my main Python file. The decrypt script will have the key generated from the encryption script in it.</p>\n\n<p>Hope this info helps if you haven't solved this already. </p>\n"}], "owner": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3143, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1561126608, "creation_date": 1556142646, "question_id": 55839060, "link": "https://stackoverflow.com/questions/55839060/how-to-encrypt-decrypt-a-configuration-file-in-python", "title": "How to encrypt/decrypt a configuration file in python", "body": "<p>I have a python application which read a configuration file. I need to encrypt the configuration file so it's not plain on disk. Then I need to decrypt it in my app and read the values. I see there is one library <a href=\"https://bitbucket.org/nthmost/python-secureconfig\" rel=\"nofollow noreferrer\">Secureconfig</a> but it's only for python 2. Is there a similar lib in python that can help me do that?</p>\n"}, {"tags": ["python", "neupy"], "comments": [{"owner": {"reputation": 539, "user_id": 2608528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J5n8z.png?s=128&g=1", "display_name": "garglblarg", "link": "https://stackoverflow.com/users/2608528/garglblarg"}, "edited": false, "score": 1, "creation_date": 1556142575, "post_id": 55839015, "comment_id": 98341928, "body": "Please remember to post the actual error message and stack trace when asking about a specific error."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 3, "creation_date": 1556142666, "post_id": 55839015, "comment_id": 98341956, "body": "If you look at an index which doesn&#39;t exist, that&#39;s an index error. You can 1) don&#39;t do that, or 2) try catch IndexError and handle or skip it."}, {"owner": {"reputation": 1, "user_id": 11403341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tcqdTLSzslM/AAAAAAAAAAI/AAAAAAAAACw/r_EkcEQRmTA/photo.jpg?sz=128", "display_name": "ApriNL", "link": "https://stackoverflow.com/users/11403341/aprinl"}, "edited": false, "score": 0, "creation_date": 1556200222, "post_id": 55839015, "comment_id": 98363601, "body": "I added the error message. thank you in advance"}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 11395634, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k8i4hvgdzW4/AAAAAAAAAAI/AAAAAAAAACA/kaJBqp5mHDc/photo.jpg?sz=128", "display_name": "George Yu", "link": "https://stackoverflow.com/users/11395634/george-yu"}, "is_accepted": false, "score": 0, "last_activity_date": 1556208255, "creation_date": 1556208255, "answer_id": 55853452, "question_id": 55839015, "link": "https://stackoverflow.com/questions/55839015/how-to-fix-indexerror-on-python/55853452#55853452", "title": "How to fix &quot;IndexError&quot; on python?", "body": "<p>I'm not 100% sure which library you are using. But why are you putting testing set in the training? Testing set is for some sort of validate or evaluate function. Try to remove x_test and y_test in the training function. \ni.e. optimizer.train(X_train, y_train,epochs=100)</p>\n"}], "owner": {"reputation": 1, "user_id": 11403341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tcqdTLSzslM/AAAAAAAAAAI/AAAAAAAAACw/r_EkcEQRmTA/photo.jpg?sz=128", "display_name": "ApriNL", "link": "https://stackoverflow.com/users/11403341/aprinl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1556208255, "creation_date": 1556142403, "last_edit_date": 1556200131, "question_id": 55839015, "link": "https://stackoverflow.com/questions/55839015/how-to-fix-indexerror-on-python", "title": "How to fix &quot;IndexError&quot; on python?", "body": "<p>I am a beginner who studies machine learning and tries to train neural networks. but there is a problem when I run my code. error saying \"\nIndexError: index 114 outside the limit for 0 axis with size 93 \". how this can happen dan how to fix it? thank you in advance if you can help me</p>\n\n<p>this is the code that i used neupy library</p>\n\n<pre><code>optimizer = algorithms.LevenbergMarquardt(\n    [\n       layers.Input(6),\n       layers.Sigmoid(12),\n       layers.Relu(6),\n    ],\n    shuffle_data=True,\n    verbose=True,\n\n)\n\nprint(\"Training...\")\noptimizer.train(X_train, X_test, y_train, y_test,epochs=100)\n</code></pre>\n\n<p>the input is 6 features of glcm with 6 label output. I have split the data into testing and training data using <code>train_test_split</code>.\nthis is data that I have split</p>\n\n<pre><code>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)\nprint(\"Jumlah data latih   : \", len(X_train))\nprint(\"Jumlah data uji     : \", len(y_train))\nprint(\"Jumlah data latih   : \", len(X_test))\nprint(\"Jumlah data uji     : \", len(y_test))\n</code></pre>\n\n<p>Jumlah data latih   :  372\nJumlah data uji     :  372\nJumlah data latih   :  93\nJumlah data uji     :  93</p>\n\n<p>And this is the error message</p>\n\n<pre><code>IndexError                                Traceback (most recent call last)\n\n&lt;ipython-input-8-8e9b3836f4ce&gt; in &lt;module&gt;()\n     16 \n     17 print(\"Training...\")\n---&gt; 18 optimizer.train(X_train, X_test, y_train, y_test,epochs=100)\n     19 \n     20 p = optimizer.predict(testdata)\n\n5 frames\n\n/usr/local/lib/python3.6/dist-packages/neupy/algorithms/gd/base.py in train(self, X_train, y_train, X_test, y_test, *args, **kwargs)\n    299             X_train=X_train, y_train=y_train,\n    300             X_test=X_test, y_test=y_test,\n--&gt; 301             *args, **kwargs)\n    302 \n    303     def one_training_update(self, X_train, y_train):\n\n/usr/local/lib/python3.6/dist-packages/neupy/algorithms/base.py in train(self, X_train, y_train, X_test, y_test, epochs, batch_size)\n    264                 )\n    265 \n--&gt; 266                 for X_batch, y_batch in iterator:\n    267                     self.events.trigger('update_start')\n    268                     update_start_time = time.time()\n\n/usr/local/lib/python3.6/dist-packages/neupy/utils/iters.py in minibatches(inputs, batch_size, shuffle)\n     64         for index in range(n_batches):\n     65             batch_slice = slice(index * batch_size, (index + 1) * batch_size)\n---&gt; 66             yield apply_slices(inputs, indices[batch_slice])\n     67 \n     68     elif n_batches != 1:\n\n/usr/local/lib/python3.6/dist-packages/neupy/utils/iters.py in apply_slices(inputs, indices)\n     30 \n     31     if isinstance(inputs, (list, tuple)):\n---&gt; 32         return [apply_slices(input_, indices) for input_ in inputs]\n     33 \n     34     return inputs[indices]\n\n/usr/local/lib/python3.6/dist-packages/neupy/utils/iters.py in &lt;listcomp&gt;(.0)\n     30 \n     31     if isinstance(inputs, (list, tuple)):\n---&gt; 32         return [apply_slices(input_, indices) for input_ in inputs]\n     33 \n     34     return inputs[indices]\n\n/usr/local/lib/python3.6/dist-packages/neupy/utils/iters.py in apply_slices(inputs, indices)\n     32         return [apply_slices(input_, indices) for input_ in inputs]\n     33 \n---&gt; 34     return inputs[indices]\n     35 \n     36 \n\nIndexError: index 114 is out of bounds for axis 0 with size 93\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "generator", "next", "biopython"], "comments": [{"owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1556142644, "post_id": 55838992, "comment_id": 98341947, "body": "<code>(decision == &#39;Y&#39; or &#39;y&#39;)</code> -&gt; <code>decision in &#39;Yy&#39;</code>"}, {"owner": {"reputation": 83, "user_id": 11047777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AyA3.jpg?s=128&g=1", "display_name": "Ludolph314", "link": "https://stackoverflow.com/users/11047777/ludolph314"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1556142901, "post_id": 55838992, "comment_id": 98342035, "body": "Thanks for the input, I didn&#39;t know it&#39;s possible to write it this way. It still doesn&#39;t solve the problem, though."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1556144341, "post_id": 55838992, "comment_id": 98342437, "body": "I don&#39;t see anything immediately wrong with the batch portion.  Can you confirm <code>record_iter</code> does have values?"}, {"owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "edited": false, "score": 0, "creation_date": 1556144644, "post_id": 55838992, "comment_id": 98342516, "body": "Perhaps it makes sense to open an issue on <a href=\"https://github.com/biopython/biopython\" rel=\"nofollow noreferrer\">biopython&#39;s github page</a>, at least regarding the out-of-date documentation"}, {"owner": {"reputation": 83, "user_id": 11047777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AyA3.jpg?s=128&g=1", "display_name": "Ludolph314", "link": "https://stackoverflow.com/users/11047777/ludolph314"}, "edited": false, "score": 0, "creation_date": 1556144797, "post_id": 55838992, "comment_id": 98342548, "body": "I can confirm, adding the following code after <code>record_iter = SeqIO.parse(fastafile,&quot;fasta&quot;)</code> produces a list of IDs that seems to be in order.   &gt;for record in record_iter: &gt;&gt;    print(record.id)"}, {"owner": {"reputation": 83, "user_id": 11047777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AyA3.jpg?s=128&g=1", "display_name": "Ludolph314", "link": "https://stackoverflow.com/users/11047777/ludolph314"}, "reply_to_user": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "edited": false, "score": 0, "creation_date": 1556145270, "post_id": 55838992, "comment_id": 98342666, "body": "@Asmus I didn&#39;t have enough time to do that yet, and I suspect this is a problem with either my code or some Py-2.x code that slipped through rather than the Biopython package itself. I will open an issue regarding the outdated manual, hopefully once I can also suggest the proper way it should be written in 3.x. Thanks for your suggestion!"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 11047777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AyA3.jpg?s=128&g=1", "display_name": "Ludolph314", "link": "https://stackoverflow.com/users/11047777/ludolph314"}, "edited": false, "score": 0, "creation_date": 1556145964, "post_id": 55839370, "comment_id": 98342826, "body": "Thanks! Changing the if statements didn&#39;t do anything as far as I could notice, but removing the counter for the number of entries did indeed solve the issue. I&#39;m still struggling with the concept of generators a bit, could you please suggest a way to count the entries in such a manner that I could avoid parsing the file twice (if that&#39;s possible at all)?  //EDIT: Now I also see why changing the if statements didn&#39;t seem to do much - it was because even though it was always True just as you wrote, it still skipped the batch file generation due to the issue no. 1"}, {"owner": {"reputation": 4720, "user_id": 11161432, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4cKoHz-Lo7M/AAAAAAAAAAI/AAAAAAAAED0/rHw3utFgrqc/photo.jpg?sz=128", "display_name": "jfaccioni", "link": "https://stackoverflow.com/users/11161432/jfaccioni"}, "reply_to_user": {"reputation": 83, "user_id": 11047777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AyA3.jpg?s=128&g=1", "display_name": "Ludolph314", "link": "https://stackoverflow.com/users/11047777/ludolph314"}, "edited": false, "score": 1, "creation_date": 1556147924, "post_id": 55839370, "comment_id": 98343237, "body": "Glad I could help! Unfortunately if you want to count the number of sequences (thats is, <code>&gt;</code> occurrences) you will have to go through the file two times - once to count the numbers of <code>&gt;</code> and another to parse the actual sequences (although the first loop will be much faster than the second, depending on what you&#39;ll do with each sequence). To loop over the file a second time, you&#39;ll need to move back to its start, either by explicitly closing and reopening it or by using the <a href=\"https://www.tutorialspoint.com/python/file_seek.htm\" rel=\"nofollow noreferrer\"><code>seek</code> method</a> on the file object."}, {"owner": {"reputation": 83, "user_id": 11047777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AyA3.jpg?s=128&g=1", "display_name": "Ludolph314", "link": "https://stackoverflow.com/users/11047777/ludolph314"}, "edited": false, "score": 0, "creation_date": 1556149017, "post_id": 55839370, "comment_id": 98343423, "body": "Thank you for your reply. I was afraid of that, and so I checked Biopython manual entry for SeqIO. Turns out it should allow you to index the entries while parsing like this:   <code>for index, record in enumerate(SeqIO.parse(&quot;ls_orchid.fasta&quot;, &quot;fasta&quot;)): print(&quot;index %i, ID = %s, length %i&quot;           % (index, record.id, len(record.seq)))</code>"}], "tags": [], "owner": {"reputation": 4720, "user_id": 11161432, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4cKoHz-Lo7M/AAAAAAAAAAI/AAAAAAAAED0/rHw3utFgrqc/photo.jpg?sz=128", "display_name": "jfaccioni", "link": "https://stackoverflow.com/users/11161432/jfaccioni"}, "is_accepted": true, "score": 2, "last_activity_date": 1556145562, "last_edit_date": 1592644375, "creation_date": 1556144650, "answer_id": 55839370, "question_id": 55838992, "link": "https://stackoverflow.com/questions/55838992/python-3-x-how-to-efficiently-split-an-array-of-objects-into-smaller-batch-fil/55839370#55839370", "title": "Python 3.x - How to efficiently split an array of objects into smaller batch files?", "body": "<p>I can't check your whole code since you've ommited part of it, but I can see two wrong things here:</p>\n<pre><code>num = 0\nfor line in fastafile:\n    if line.startswith(&quot;&gt;&quot;):\n        num += 1\n</code></pre>\n<p>These lines are exhausting your file object <code>fastafile</code>. Remove these lines entirely (and remember to fix the indentation below, remove the <code>if num &gt; 400:</code> check, etc).</p>\n<pre><code>if (decision == 'Y' or 'y'):\n</code></pre>\n<p>This does not do what you think it does. Change it to <code>if decision in ('Y', 'y'):</code> or <code>if decision.lower() == 'y':</code>. You repeat this pattern below in the line <code>if (decision == 'N' or 'n'):</code>, so change that, too.</p>\n<p>Make the changes and try to run the code again.</p>\n<h2><strong>Explanation</strong></h2>\n<p><strong>1st issue</strong>: in Python, a file object (i.e. what <code>open('filename.txt', 'r')</code> returns) is a generator, which means that it can only be iterated over once. This may seem a bit weird at first, but that's the whole point of using generators. A generator as a file object allows the file to be looped over line by line, without ever having to load the whole file content at once - the generator just keeps track of which line comes next.</p>\n<p>The flipside is that they can't go backwards, so when you write your <code>for line in fastafile</code> block, you exhaust the generator. When you later try to call <code>batch_iterator(record_iter, 400)</code>, the generator in <code>record_iter</code> is already exhausted, which is why you'll encounter an error later on - the <code>batch_iterator</code> cannot parse the fasta sequences if there's nothing left there to parse.</p>\n<p><strong>2nd issue</strong>: for conditionals with boolean operators such as <code>if (decision == 'Y' or 'y'):</code>, Python will always evaluate both sides individually. So Python actually sees <code>if (bool(decision == 'Y') or bool('y')):</code>.</p>\n<p>Since <code>bool('y')</code> evaluates to <code>True</code> (just like any non-empty string), your expression becomes  <code>if (bool(decision == 'Y') or True):</code>, which is obviously always true.</p>\n<p>Use one of the methods I suggested in order to compare a variable to more than one value in a conditional.</p>\n"}], "owner": {"reputation": 83, "user_id": 11047777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AyA3.jpg?s=128&g=1", "display_name": "Ludolph314", "link": "https://stackoverflow.com/users/11047777/ludolph314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 55839370, "answer_count": 1, "score": 3, "last_activity_date": 1556145562, "creation_date": 1556142242, "question_id": 55838992, "link": "https://stackoverflow.com/questions/55838992/python-3-x-how-to-efficiently-split-an-array-of-objects-into-smaller-batch-fil", "title": "Python 3.x - How to efficiently split an array of objects into smaller batch files?", "body": "<p>I'm fairly new to Python and I'm attempting to split a textfile where entries consists of two lines into batches of max. 400 objects.</p>\n\n<p>The data I'm working with are thousands of sequences in FASTA format (plain text with a header, used in bioinformatics) where entries look like this:</p>\n\n<blockquote>\n  <p>>HORVU6Hr1G000325.5</p>\n  \n  <p>PIPPPASHFHPHHQNPSAATQPLCAAMAPAAKKPPLKSSSSHNSAAGDAA</p>\n  \n  <p>>HORVU6Hr1G000326.1</p>\n  \n  <p>MVKFTAEELRGIMDKKNNIRNMSVIAHVD</p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>In Biopython, there is a parser SeqIO.parse which allows to access these as an array of objects consisting of IDs and strings, which I need to use in later parts of my code, and since I need to be memory efficient, I'd like to avoid reading/parsing the source file more times than necessary. </p>\n\n<p>In Biopython manual, there's a recommended way to do this via a generator, which I'm using: <a href=\"https://biopython.org/wiki/Split_large_file\" rel=\"nofollow noreferrer\">https://biopython.org/wiki/Split_large_file</a></p>\n\n<p>However, I'm using Python 3.7 whilst the code there is in Python 2.x, so there are definitely some changes necessary. I've changed the </p>\n\n<blockquote>\n  <p>entry = iterator.next()</p>\n</blockquote>\n\n<p>into</p>\n\n<blockquote>\n  <p>entry = next(iterator)</p>\n</blockquote>\n\n<p>but I'm not sure if that's all I need to change.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>def batch_iterator(iterator, batch_size=400):\n    \"\"\"Returns lists of length batch_size.\"\"\"\n    entry = True  # Make sure we loop once\n    while entry:\n        batch = []\n        while len(batch) &lt; batch_size:\n            try:\n                entry = next(iterator)\n            except StopIteration:\n                entry = None\n\n            if entry is None:\n                # End of file\n                break\n            batch.append(entry)\n        if batch:\n            yield batch\n\nwhile True:\n    bsequence = input(\"Please enter the full path to your FASTA file(e.g. c:\\\\folder1\\\\folder2\\\\protein.fasta):\\n\")\n    try:\n        fastafile = open(bsequence)\n        break\n    except:\n        print(\"File not found!\\n\")            \n\n\nrecord_iter = SeqIO.parse(fastafile,\"fasta\")\nnum = 0\nfor line in fastafile:\n    if line.startswith(\"&gt;\"):\n        num += 1\n\nprint(\"num=%i\" % (num,))\nif num &gt; 400:\n    print(\"The specified file contains %i sequences. It's recommended to split the FASTA file into batches of max. 400 sequences.\\n\" % (num,))\n    while True:\n        decision = input(\"Do you wish to create batch files? (Original file will not be overwritten)\\n(Y/N):\")\n        if (decision == 'Y' or 'y'):\n            for i, batch in enumerate(batch_iterator(record_iter, 400), 1):\n                filename = \"group_%i.fasta\" % (i + 1)\n                with open(filename, \"w\") as handle:\n                    count = SeqIO.write(batch, handle, \"fasta\")\n                print(\"Wrote %i records to %s\" % (count, filename))\n            break\n        elif (decision == 'N' or 'n'):\n            break\n        else:\n            print('Invalid input\\n')\n\n...next part of the code\n\n</code></pre>\n\n<p>When I run this, after the Y/N prompt, even if I type Y, the program just skips over to the next part of my code without creating any new file. Debugger shows the following:</p>\n\n<pre><code>Do you wish to create batch files? (Original file will not be overwritten)\n(Y/N):Y\nTraceback (most recent call last):\n  File \"\\Biopython\\mainscript.py\", line 32, in batch_iterator\n    entry = next(iterator)\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Thonny\\lib\\site-packages\\thonny\\backend.py\", line 1569, in _trace\n    return self._trace_and_catch(frame, event, arg)\n\n  File \"C:\\Program Files (x86)\\Thonny\\lib\\site-packages\\thonny\\backend.py\", line 1611, in _trace_and_catch\n    frame.f_back, event, marker_function_args, node\n\n  File \"C:\\Program Files (x86)\\Thonny\\lib\\site-packages\\thonny\\backend.py\", line 1656, in _handle_progress_event\n    self._save_current_state(frame, event, args, node)\n\n  File \"C:\\Program Files (x86)\\Thonny\\lib\\site-packages\\thonny\\backend.py\", line 1738, in _save_current_state\n    exception_info = self._export_exception_info()\n\n  File \"C:\\Program Files (x86)\\Thonny\\lib\\site-packages\\thonny\\backend.py\", line 1371, in _export_exception_info\n    \"affected_frame_ids\": exc[1]._affected_frame_ids_,\n\nAttributeError: 'StopIteration' object has no attribute '_affected_frame_ids_'\n</code></pre>\n\n<p>Is there some difference between Python 2.x and 3.x that I'm overlooking? Is the problem somewhere else? Is this approach completely wrong? Thanks in advance!</p>\n"}, {"tags": ["python", "python-2.7", "selenium"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1556143729, "post_id": 55838967, "comment_id": 98342273, "body": "Why can&#39;t you just put emojis directly in the string? <code>text = &quot;I would like a \u2764&quot;</code> ?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1556143939, "post_id": 55838967, "comment_id": 98342341, "body": "Your question is not clear. What&#39;s wrong with the code in the second snippet? Why doesn&#39;t that work?"}, {"owner": {"reputation": 11, "user_id": 11407660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428059b5fd36fd48363901ecfa6c0f32?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyAsker", "link": "https://stackoverflow.com/users/11407660/crazyasker"}, "edited": false, "score": 0, "creation_date": 1556143982, "post_id": 55838967, "comment_id": 98342352, "body": "Because it&#39;s not supported. Using Python and selenium with the chrome driver after 2 hours of research You must inject a script which does a += and the unicode into the innerHtml."}, {"owner": {"reputation": 11, "user_id": 11407660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428059b5fd36fd48363901ecfa6c0f32?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyAsker", "link": "https://stackoverflow.com/users/11407660/crazyasker"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1556144036, "post_id": 55838967, "comment_id": 98342372, "body": "@DanielRoseman Because the function would get called when the variable is declared, not when it&#39;s used. it should write the initial string, THEN call the function which injects javascript which replaces (with a +=) the already written text and injects an emoji and then continue with the other text, and when reaching again another function should evaluate the function which will inject another emoji with the previous text before (+=)."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1556144532, "post_id": 55838967, "comment_id": 98342481, "body": "Can you add the code where you pass the string to selenium?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1556144615, "post_id": 55838967, "comment_id": 98342510, "body": "Ah, you&#39;re talking about <a href=\"https://stackoverflow.com/questions/45330640/python-selenium-send-keys-emoji-support\">this problem</a>?"}, {"owner": {"reputation": 11, "user_id": 11407660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428059b5fd36fd48363901ecfa6c0f32?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyAsker", "link": "https://stackoverflow.com/users/11407660/crazyasker"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1556145084, "post_id": 55838967, "comment_id": 98342611, "body": "@Blorgbeard Yes. Due to the fact I&#39;m not able to pass the emoji directly, I would like to specify a set of phrases where there is catch like a function call, once the characters before the trigger gets written, had it got to the trigger it will call a function which will += the inner html with the past written characters, injecting the emoji. I&#39;m failing to find a way to add a &quot;trigger&quot; directly in the string variable which once processed by the character writer in that moment it queries the function which injects the emoji"}, {"owner": {"reputation": 11, "user_id": 11407660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428059b5fd36fd48363901ecfa6c0f32?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyAsker", "link": "https://stackoverflow.com/users/11407660/crazyasker"}, "edited": false, "score": 0, "creation_date": 1556145803, "post_id": 55838967, "comment_id": 98342784, "body": "I solved the issue, I was maybe just too lazy"}, {"owner": {"reputation": 11, "user_id": 11407660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428059b5fd36fd48363901ecfa6c0f32?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyAsker", "link": "https://stackoverflow.com/users/11407660/crazyasker"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1556146070, "post_id": 55838967, "comment_id": 98342852, "body": "@Blorgbeard , Could I ask You if there is a way to write AFTER the entered text when a the javascript had been Injected? I fixed the issue up, but when the function gets executed and the javascript injected with the driver.execute_script, when it gets back to writing character by character it starts from the beginning of the input, not from where it was, like it lost focus and starts writing again in the box (while the previous text is in front where it&#39;s writing)"}], "owner": {"reputation": 11, "user_id": 11407660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428059b5fd36fd48363901ecfa6c0f32?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyAsker", "link": "https://stackoverflow.com/users/11407660/crazyasker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1556144502, "creation_date": 1556142055, "last_edit_date": 1556144502, "question_id": 55838967, "link": "https://stackoverflow.com/questions/55838967/query-function-when-variable-is-invoked", "title": "Query function when variable is invoked", "body": "<p>I would like to know if I could call a function or an action, when a variable is utilized.</p>\n\n<p>I have the text variable:</p>\n\n<pre><code>text = \"This is My text, and I would like HERE a Smiley, but i'm not satisfied, so I want here a smiley with sunglasses, and right after HERE I would like an emoji with a heart.\"\n</code></pre>\n\n<p>Now, due to the fact with selenium I have to use javascript inject in order to put an emoji, and due to the fact it could not be done when the variable is initialized because the input does still not exist, is there a way to call a function which +='s the already inputted text with the unicode text?\nThere are too many strings to be able to write a function for each, and too many sentences with emoji to write them down one by one.</p>\n\n<p>what I would like to accomplish is something like this:</p>\n\n<pre><code>text = \"I would like a \" + emoji('heart') + \" And that was great, but here I would like a \" + emoji('sunglasses') + \" And a magnificient\" + emoji(unicorn)\n</code></pre>\n\n<p>this is the function which writes letter per letter the string:\n(where text is keys)</p>\n\n<pre><code>for key in keys:\n print(key)\n</code></pre>\n\n<p>and in which, reached the emoji() calls the function which inject's a += emoji in the innerHTML.</p>\n\n<p>I already have the emoji's unicode and everything, I'm missing the dynamic string function call that gets called once for example \"I would like a\" had already been written char by char, function gets called, emoji injected and it continues to write the string.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 6783, "user_id": 3064538, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b644a108ae9ae0ec2f7402dd235d155c?s=128&d=identicon&r=PG&f=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/3064538/boris"}, "edited": false, "score": 0, "creation_date": 1556142502, "post_id": 55838896, "comment_id": 98341908, "body": "You should read <a href=\"https://docs.python.org/3/tutorial/\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial</a>, specifically the <a href=\"https://docs.python.org/3/tutorial/introduction.html#strings\" rel=\"nofollow noreferrer\">part about slicing strings</a>. But you should read all of it."}], "answers": [{"tags": [], "owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142288, "last_edit_date": 1556142288, "creation_date": 1556141898, "answer_id": 55838936, "question_id": 55838896, "link": "https://stackoverflow.com/questions/55838896/i-am-having-a-problem-printing-off-the-content-of-a-column-that-in-a-file/55838936#55838936", "title": "I am having a problem printing off the content of a column that in a file", "body": "<p>You can remove a character from a string using the <code>str.replace</code> method.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import csv\n\nwith open('Data.csv', 'r') as csv_file:\n    csv_reader = csv.reader(csv_file)\n\n    next(csv_reader)\n    for line in csv_reader:\n        print(line[1].replace(\"C\", \"\"))  # Replaces \"C\" with \"\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10597055, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3-0P1A-cwu4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB7fn-jGx2zUb9cl2Yx-j3NxKE15w/mo/photo.jpg?sz=128", "display_name": "Conor Quirke", "link": "https://stackoverflow.com/users/10597055/conor-quirke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556155289, "creation_date": 1556141682, "last_edit_date": 1556155289, "question_id": 55838896, "link": "https://stackoverflow.com/questions/55838896/i-am-having-a-problem-printing-off-the-content-of-a-column-that-in-a-file", "title": "I am having a problem printing off the content of a column that in a file", "body": "<p>I have read a column from a CSV file that contains temperatures. They print off fine but there is the letter C after each number. I want to print off only the numbers from the column. I would appreciate any help I can get with that.</p>\n\n<pre><code>import csv\n\n\nwith open('Data.csv', 'r') as csv_file:\n    csv_reader = csv.reader(csv_file)\n\n    next(csv_reader)\n    for line in csv_reader:\n\n        print(line[1])\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11407634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7C5OfohUlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSFTF0Mmycbjj_XadZlTe-C9CWmg/mo/photo.jpg?sz=128", "display_name": "Brandon Cavinee", "link": "https://stackoverflow.com/users/11407634/brandon-cavinee"}, "edited": false, "score": 0, "creation_date": 1556237367, "post_id": 55839473, "comment_id": 98379306, "body": "Thank you so much for your response.  I was able to add the custom row attribute and the subtract button but now I am running into issues with a AJAX POST request.  Would you be able to point me in the right direction to call the RemoveReagentView in the AJAX POST request.  Thanks again."}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 11, "user_id": 11407634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7C5OfohUlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSFTF0Mmycbjj_XadZlTe-C9CWmg/mo/photo.jpg?sz=128", "display_name": "Brandon Cavinee", "link": "https://stackoverflow.com/users/11407634/brandon-cavinee"}, "edited": false, "score": 0, "creation_date": 1556238055, "post_id": 55839473, "comment_id": 98379424, "body": "I updated my post to show you an example. Please note that I changed the view to use <code>POST</code> instead of <code>GET</code> now as well."}, {"owner": {"reputation": 11, "user_id": 11407634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7C5OfohUlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSFTF0Mmycbjj_XadZlTe-C9CWmg/mo/photo.jpg?sz=128", "display_name": "Brandon Cavinee", "link": "https://stackoverflow.com/users/11407634/brandon-cavinee"}, "edited": false, "score": 0, "creation_date": 1556243778, "post_id": 55839473, "comment_id": 98380521, "body": "I will try this tomorrow thank you.  Also I should have mentioned this before.  I am generating my table from a SQlite database.  Will this effect that AJAX request?"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 11, "user_id": 11407634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7C5OfohUlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSFTF0Mmycbjj_XadZlTe-C9CWmg/mo/photo.jpg?sz=128", "display_name": "Brandon Cavinee", "link": "https://stackoverflow.com/users/11407634/brandon-cavinee"}, "edited": false, "score": 0, "creation_date": 1556244637, "post_id": 55839473, "comment_id": 98380670, "body": "Probably not, but you will know for sure by testing"}, {"owner": {"reputation": 11, "user_id": 11407634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7C5OfohUlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSFTF0Mmycbjj_XadZlTe-C9CWmg/mo/photo.jpg?sz=128", "display_name": "Brandon Cavinee", "link": "https://stackoverflow.com/users/11407634/brandon-cavinee"}, "edited": false, "score": 0, "creation_date": 1556314628, "post_id": 55839473, "comment_id": 98410210, "body": "I am still not getting a response when I click the &quot;-&quot; button.  I edited my original post with all the updates I have made with your help so far.  I also included a snippet of the page source of my current table.  Any suggestions would be greatly appreciated."}], "tags": [], "owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "is_accepted": false, "score": 0, "last_activity_date": 1556237872, "last_edit_date": 1592644375, "creation_date": 1556145386, "answer_id": 55839473, "question_id": 55838880, "link": "https://stackoverflow.com/questions/55838880/how-to-add-a-subtract-option-to-a-table-in-django/55839473#55839473", "title": "How to add a subtract option to a table in Django", "body": "<p>To update the quantity, you could do something like this:</p>\n<pre><code>class RemoveReagentView(View):\n    def post(self, request, *args, **kwargs):\n        reagent_id = request.POST['reagent_id']\n        reagent = Reagentquant.objects.filter(id=reagent_id)\n\n        reagent.update(Reagent_Quantity=F('Reagent_Quantity')-1)\n        data = {&quot;count&quot;: reagent.Reagent_Quantity}\n        return JsonResponse(data)\n</code></pre>\n<p>The next step would be hooking it into the <code>django_tables2</code> rendering. Your best bet would be to add a custom <a href=\"https://django-tables2.readthedocs.io/en/latest/pages/column-attributes.html#row-attributes\" rel=\"nofollow noreferrer\">row attribute</a> of the <code>reagent.id</code> value, capture it via Javascript, and then use an AJAX POST request to call the <code>RemoveReagentView()</code> view I specified above. You would obviously need a <code>+/-</code> button as well, which it seems you can add using something along the lines of <a href=\"https://stackoverflow.com/a/35921926/3345051\">this answer.</a></p>\n<p>Overall it will take a bit of clever hacking around, but it seems very doable.</p>\n<h1>edit</h1>\n<p>Here is an example AJAX request:</p>\n<pre><code>$(document).on('click', '.element_with_reagentID_class', function (e) {  // Where `element_with_reagentID_class` is the common classname of ALL elements that have your `reagent_id` inserted into them \n    e.preventDefault();\n    \n    var $this = $(this);\n    var reagent_id = $this.attr('reagent_id')  // Where `reagent_id` is whatever the attribute is that you added\n\n    $.ajax({\n        type: &quot;POST&quot;,\n        url: &quot;{% url 'reagent_urlname' %}&quot;,  // Where `reagent_urlname` is the name of your URL specified in urls.py\n        data: {reagent_id: reagent_id, csrfmiddlewaretoken: &quot;{{ csrf_token }}&quot;} \n    })\n    .done(function (response){\n        console.log(response)\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11407634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7C5OfohUlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSFTF0Mmycbjj_XadZlTe-C9CWmg/mo/photo.jpg?sz=128", "display_name": "Brandon Cavinee", "link": "https://stackoverflow.com/users/11407634/brandon-cavinee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556314442, "creation_date": 1556141593, "last_edit_date": 1556314442, "question_id": 55838880, "link": "https://stackoverflow.com/questions/55838880/how-to-add-a-subtract-option-to-a-table-in-django", "title": "How to add a subtract option to a table in Django", "body": "<p>I am making my first application with Django.  The goal is to have a table that displays the current inventory of laboratory reagents.  Once a reagent is taken out of storage a user will be able to hit a subtract button to subtract from the current inventory.  Currently I have a table that displays the reagent name and quantity.  I would like to add a column to the table that has a subtract button that will subtract one from the corresponding reagents current inventory.</p>\n\n<p>Can anyone please give me some suggestions on how to implement a subtract button?  Any help would be much appreciated. </p>\n\n<pre><code>models.py\nclass Reagentquant(models.Model):\n\n    Name_Of_Reagent= models.TextField()\n    Reagent_Quantity= models.TextField()\n</code></pre>\n\n<pre><code>tables.py\n\nclass ReagentquantTable(tables.Table):\n    class Meta:\n        model = Reagentquant\n        template_name = 'django_tables2/bootstrap4.html'\n        row_attrs = {'reagent_id': 'reagent'}\n    edit= TemplateColumn(template_name='inventory/update_column.html')\n</code></pre>\n\n<pre><code>views.py\n\ndef reagentquant(request):\n    table = ReagentquantTable(Reagentquant.objects.all())\n    RequestConfig(request).configure(table)\n    return render(request, 'inventory/quant.html', {'table': table})\n\n\nclass RemoveReagentView:\n    def post(self, request, *args, **kwargs):\n        reagent_id = request.POST['reagent_id']\n        reagent = Reagentquant.objects.filter(id=reagent_id)\n\n        reagent.update(Reagent_Quantity=F('Reagent_Quantity')-1)\n        data = {\"count\": reagent.Reagent_Quantity}\n        return JsonResponse(data)\n</code></pre>\n\n<pre><code>template \n\n&lt;a class=\"btn btn-info btn-sm\"&gt;-&lt;/a&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n  $(document).on('click', 'odd', function (e) {  // Where `element_with_reagentID_class` is the common classname of ALL elements that have your `reagent_id` inserted into them\n      e.preventDefault();\n\n      var $this = $(this);\n      var reagent_id = $this.attr('reagent')  // Where `reagent_id` is whatever the attribute is that you added\n\n      $.ajax({\n          type: \"POST\",\n          url: \"{% url 'inventory-quant' %}\",  // Where `reagent_urlname` is the name of your URL specified in urls.py\n          data: {reagent_id: reagent_id, csrfmiddlewaretoken: \"{{ csrf_token }}\"}\n      })\n      .done(function (response){\n          console.log(response)\n      })\n  })}\n\n\n&lt;/script&gt;\n\n</code></pre>\n\n<pre><code>/script&gt;\n&lt;/td&gt;\n\n                    &lt;/tr&gt;\n\n\n\n                    &lt;tr scope=\"row\" reagent_id=\"reagent\" class=\"odd\"&gt;\n\n                            &lt;td &gt;17&lt;/td&gt;\n\n                            &lt;td &gt;CRP&lt;/td&gt;\n\n                            &lt;td &gt;22&lt;/td&gt;\n\n                            &lt;td &gt;\n\n&lt;a class=\"btn btn-info btn-sm\" onClick=\"testMe()\"&gt;-&lt;/a&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n  $(document).on('click', 'reagent', function (e) {  // Where `element_with_reagentID_class` is the common classname of ALL elements that have your `reagent_id` inserted into them\n      e.preventDefault();\n\n      var $this = $(this);\n      var reagent_id = $this.attr('reagent')  // Where `reagent_id` is whatever the attribute is that you added\n\n      $.ajax({\n          type: \"POST\",\n          url: \"/quant\",  // Where `reagent_urlname` is the name of your URL specified in urls.py\n          data: {reagent_id: reagent_id, csrfmiddlewaretoken: \"NjfgIlWzzSBwq8EJh5jsdIqns4tK6tMFLH4vEkUSWAHW5VCHigpVpmzkDPBwbyL3\"}\n      })\n      .done(function (response){\n          console.log(response)\n      })\n  })}\n\n\n&lt;/script&gt;\n&lt;/td&gt;\n\n                    &lt;/tr&gt;\n\n\n\n                    &lt;tr scope=\"row\" reagent_id=\"reagent\" class=\"even\"&gt;\n\n                            &lt;td &gt;20&lt;/td&gt;\n\n                            &lt;td &gt;MTX&lt;/td&gt;\n\n                            &lt;td &gt;22&lt;/td&gt;\n\n                            &lt;td &gt;\n</code></pre>\n"}, {"tags": ["python", "gekko"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1556142072, "post_id": 55838875, "comment_id": 98341790, "body": "Remember to show your code, if you have questions about code not doing what you thought it would do."}, {"owner": {"reputation": 5870, "user_id": 2366941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DyN2Q.jpg?s=128&g=1", "display_name": "John Hedengren", "link": "https://stackoverflow.com/users/2366941/john-hedengren"}, "edited": false, "score": 0, "creation_date": 1556161752, "post_id": 55838875, "comment_id": 98345635, "body": "Added a code example and figure to show the multiple roots."}], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 5157420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2801c46f23ee02cb325f96edc050a5e9?s=128&d=identicon&r=PG&f=1", "display_name": "Janus Yang", "link": "https://stackoverflow.com/users/5157420/janus-yang"}, "is_accepted": false, "score": 3, "last_activity_date": 1556166408, "last_edit_date": 1556166408, "creation_date": 1556141931, "answer_id": 55838947, "question_id": 55838875, "link": "https://stackoverflow.com/questions/55838875/get-all-roots-of-nonlinear-equations-by-using-gekko/55838947#55838947", "title": "Get all roots of nonlinear equations by using GEKKO", "body": "<p>Gekko has solvers that find local minima. The solution that it finds depends on where you start. This is also the case for fsolve or other equation solvers. One exception is symbolic solutions available with SymPy, however, this requires that the equations are simple enough to generate a closed-form and analytic solution. Here are some examples:</p>\n\n<p><a href=\"http://apmonitor.com/che263/index.php/Main/PythonSolveEquations\" rel=\"nofollow noreferrer\">http://apmonitor.com/che263/index.php/Main/PythonSolveEquations</a></p>\n\n<p>Single Root (Numeric solution):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from gekko import GEKKO\nm = GEKKO()\nx,y,w = [m.Var(1) for i in range(3)]\nm.Equations([x**2+y**2==20,y-x**2==0,w+5-x*y==0])\nm.solve(disp=False)\nprint(x.value,y.value,w.value)\n</code></pre>\n\n<p>Multiple Roots (Analytic solution):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sympy as sym\nsym.init_printing()\nx,y,z = sym.symbols('x,y,z')\nc1 = sym.Symbol('c1')\nf = sym.Eq(2*x**2+y+z,1)\ng = sym.Eq(x+2*y+z,c1)\nh = sym.Eq(-2*x+y,-z)\nsym.solve([f,g,h],(x,y,z))\n</code></pre>\n\n<p><em>An answer by Professor Hedengren from BYU from the e-mail discussion group.</em></p>\n"}], "owner": {"reputation": 360, "user_id": 5157420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2801c46f23ee02cb325f96edc050a5e9?s=128&d=identicon&r=PG&f=1", "display_name": "Janus Yang", "link": "https://stackoverflow.com/users/5157420/janus-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1583348681, "creation_date": 1556141559, "last_edit_date": 1556163174, "question_id": 55838875, "link": "https://stackoverflow.com/questions/55838875/get-all-roots-of-nonlinear-equations-by-using-gekko", "title": "Get all roots of nonlinear equations by using GEKKO", "body": "<p>With an example of nonlinear equations below:</p>\n\n<pre><code>x+2y=0\nx^2+y^2=1\n</code></pre>\n\n<p>it's pretty obvious the equation has 2 roots.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3AkYi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AkYi.png\" alt=\"Roots of the equations\"></a></p>\n\n<p>However, I can only get 1 root by using GEKKO, changing the initial value of <code>x,y</code> can get another one.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from gekko import GEKKO\nm = GEKKO()\n\n# first solution\nx,y = [m.Var(1) for i in range(2)]\nm.Equations([x+2*y==0,x**2+y**2==1])\nm.solve(disp=False)\nprint(x.value,y.value)\n\n# second solution\nx.value=-1\ny.value=-1\nm.solve(disp=False)\nprint(x.value,y.value)\n</code></pre>\n\n<pre><code>Solutions:\n[0.894427191] [-0.4472135955]\n[-0.894427191] [0.4472135955]\n</code></pre>\n\n<p>How can get all roots at the same time?</p>\n"}, {"tags": ["python", "string", "math"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1556141504, "post_id": 55838852, "comment_id": 98341610, "body": "What do you <i>expect</i> <code>sbase(str)</code> to do?? <code>sbase</code> is a <i>string</i>, you are <i>calling</i> it by using parentheses, i.e. <code>some_object()</code> is &quot;calling some_object&quot;, but strings are not callable. In any case, you probably just wanted to convert to integers, i.e. <code>sbase = int(input(...))</code> and <code>sheight = int(input(...))</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1556141571, "post_id": 55838852, "comment_id": 98341629, "body": "It should be <code>int(sbase) * int(sheight)</code>"}, {"owner": {"reputation": 4159, "user_id": 8212173, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ApXfoDEeNA/AAAAAAAAAAI/AAAAAAAAADc/9wpTVfHMarU/photo.jpg?sz=128", "display_name": "amanb", "link": "https://stackoverflow.com/users/8212173/amanb"}, "edited": false, "score": 0, "creation_date": 1556141804, "post_id": 55838852, "comment_id": 98341709, "body": "You should read what <a href=\"https://docs.python.org/3.7/library/stdtypes.html#str\" rel=\"nofollow noreferrer\">str</a> is."}, {"owner": {"reputation": 43, "user_id": 11360802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VAzGq.png?s=128&g=1", "display_name": "TheFriendlyCheese", "link": "https://stackoverflow.com/users/11360802/thefriendlycheese"}, "edited": false, "score": 0, "creation_date": 1556141816, "post_id": 55838852, "comment_id": 98341713, "body": "Thank you Barmar and juapa!"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1556141918, "post_id": 55838852, "comment_id": 98341744, "body": "See how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 338, "user_id": 7748192, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5tXp6euQ3vM/AAAAAAAAAAI/AAAAAAAAAAs/ilWDxxs5W0A/photo.jpg=k-s128", "display_name": "Arnav Poddar", "link": "https://stackoverflow.com/users/7748192/arnav-poddar"}, "is_accepted": true, "score": 0, "last_activity_date": 1556142047, "creation_date": 1556142047, "answer_id": 55838966, "question_id": 55838852, "link": "https://stackoverflow.com/questions/55838852/python-cant-describe-two-varibles/55838966#55838966", "title": "Python can&#39;t describe two varibles", "body": "<p>Here is an answer, all credit goes to Barmar, who first made a comment containing the answer. TheFriendlyPythonGuy, please accept this answer to close the question. Here is what your code should look like:</p>\n\n<pre><code>promt = input (\"Type square or quadrilateral : \")\nif promt == \"square\" :\n  print (\"Square has been chosen\")\n  #s stands for square and t stands for triangle\n  sbase = input (\"Type the base : \")\n  sheight = input (\"Type the height : \")\n  sfinal = int(sbase)*int(sheight)\n  print (sfinal)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11360802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VAzGq.png?s=128&g=1", "display_name": "TheFriendlyCheese", "link": "https://stackoverflow.com/users/11360802/thefriendlycheese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 55838966, "answer_count": 1, "score": 0, "last_activity_date": 1556142047, "creation_date": 1556141428, "question_id": 55838852, "link": "https://stackoverflow.com/questions/55838852/python-cant-describe-two-varibles", "title": "Python can&#39;t describe two varibles", "body": "<p>I am trying to make a simple program to calculate the area of a triangle.\nBut at the end, python does not recognize the str function I am using. I have little to no experience on Python so if this is a stupid question, then that is why. </p>\n\n<p>I have tried renaming the variables and looking at other questions on Stack Overflow. None really helped</p>\n\n<pre><code>promt = input (\"Type square or quadrilateral : \")\nif promt == \"square\" :\n  print (\"Square has been chosen\")\n  #s stands for square and t stands for triangle\n  sbase = input (\"Type the base : \")\n  sheight = input (\"Type the height : \")\n  sfinal = sbase(str)*sheight(str)\n  print (sfinal)\n</code></pre>\n\n<p>But the Python terminal (repl) brings back</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"main.py\", line 7, in &lt;module&gt;\n    sfinal = sbase(str)*sheight(str)\nTypeError: 'str' object is not callable\n</code></pre>\n"}, {"tags": ["python", "sql-server", "pyodbc"], "comments": [{"owner": {"reputation": 461, "user_id": 6352735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f86af23beeb0b4bcb98dc138f03a461e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/6352735/michael"}, "edited": false, "score": 0, "creation_date": 1556208655, "post_id": 55838830, "comment_id": 98368757, "body": "Your solution seem legit to me. For Postgres you might want to look at connection pooling. <a href=\"https://pynative.com/psycopg2-python-postgresql-connection-pooling/\" rel=\"nofollow noreferrer\">pynative.com/psycopg2-python-postgresql-connection-pooling</a>. I&#39;ve never used this with SQL Server though. You could look into using SSIS, but I went from using SSIS for a lot of tasks with SQL Server to Python just because SSIS seems really touchy and prone to failure."}], "owner": {"reputation": 21, "user_id": 11407489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/139d514c2c600d46b7bf96fae5d1890b?s=128&d=identicon&r=PG&f=1", "display_name": "WishIKnewMore", "link": "https://stackoverflow.com/users/11407489/wishiknewmore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1487, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1556141562, "creation_date": 1556141343, "last_edit_date": 1556141562, "question_id": 55838830, "link": "https://stackoverflow.com/questions/55838830/fast-connection-to-a-sql-server-with-pyodbc", "title": "Fast Connection to a SQL Server with pyodbc", "body": "<p>I am grabbing json data from a messaging bus and dumping that json into a database. I've had this working pretty well with psycopg2 doing ~3000 entries/sec into postgres. For a number of reason we've since moved to SQL Server 2016, and my entries dropped to around 100 per second. </p>\n\n<p>I've got a functioned called insert_into() that inserts the json to the database. All I've really done to my insert_into() function is change the library to pyodbc and the connection string. It seems that my slow down is coming from setting up then tearing down my connection each time my function is called ('conn' in the code below). If I move the line that setup the connection outside of my insert_into function, my speed comes back. I was just wondering two things:</p>\n\n<ol>\n<li>Whats the proper way to setup connections like this from a SQL Server perspective?</li>\n<li>Is this even the best way to do this in postrgres? </li>\n</ol>\n\n<p>For SQL Server, the server is 2016, using ODBC driver 17, SQL authentication. </p>\n\n<p>Slow for SQL Server:</p>\n\n<pre><code>def insert_into():\n    conn = None\n    try:\n        conn = pyodbc.connect('DRIVER={ODBC Driver 17 for SQL Server};SERVER=server1;DATABASE=json;UID=user;PWD=pass')\n        cur = conn.cursor()\n        for i in buffer_list:\n            command = 'INSERT INTO jsonTable (data) VALUES (%s)' % (\"'\" + i + \"'\")\n            cur.execute(command)\n        cur.close()\n        conn.commit()\n    except (Exception, pyodbc.DatabaseError) as error:\n        print(error)\n    finally:\n        if conn is not None:\n            conn.close()\n</code></pre>\n\n<p>Fast for SQL Server:</p>\n\n<pre><code>conn = pyodbc.connect('DRIVER={ODBC Driver 17 for SQL Server};SERVER=server1;DATABASE=json;UID=user;PWD=pass')\n\ndef insert_into():\n    #conn = None\n    try:\n        cur = conn.cursor()\n        for i in buffer_list:\n            command = 'INSERT INTO jsonTable (data) VALUES (%s)' % (\"'\" + i + \"'\")\n            cur.execute(command)\n        cur.close()\n        conn.commit()\n    except (Exception, pyodbc.DatabaseError) as error:\n        print(error)\n\nThis daemon runs 24/7 and any advice on setting up a fast connection to MSSQL will be greatly appreciated.\n</code></pre>\n"}, {"tags": ["python", "celery"], "answers": [{"tags": [], "owner": {"reputation": 8101, "user_id": 5832540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sy8es.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/5832540/tom%c3%a1%c5%a1-linhart"}, "is_accepted": true, "score": 1, "last_activity_date": 1556168995, "creation_date": 1556168995, "answer_id": 55842179, "question_id": 55838825, "link": "https://stackoverflow.com/questions/55838825/temporarily-disable-distributed-processing-in-celery/55842179#55842179", "title": "Temporarily disable distributed processing in celery", "body": "<p>I think you mean eager mode which can be turned on with <a href=\"https://docs.celeryproject.org/en/latest/userguide/configuration.html#task-always-eager\" rel=\"nofollow noreferrer\"><code>task_always_eager</code></a> setting. With that turned on, all tasks will be executed locally instead of being sent to the queue.</p>\n"}], "owner": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 55842179, "answer_count": 1, "score": 2, "last_activity_date": 1556168995, "creation_date": 1556141327, "question_id": 55838825, "link": "https://stackoverflow.com/questions/55838825/temporarily-disable-distributed-processing-in-celery", "title": "Temporarily disable distributed processing in celery", "body": "<p>I want to temporarily convert the distributed behavior of a celery <code>task</code> to serial behavior. That is to say, I want the process to run the task code as if the <code>task</code> decorator were not present. I need this for debugging purposes. </p>\n\n<p>I could swear there was an env var which handles this but I can't seem to find it in the documentation?</p>\n\n<p>For example:</p>\n\n<pre><code>@celery.task()\ndef add_together(a, b):\n    return a + b\n</code></pre>\n\n<p>When the <code>add_together</code> method is called I do not want it sent to a celery worker.</p>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "edited": false, "score": 0, "creation_date": 1556141699, "post_id": 55838787, "comment_id": 98341669, "body": "should be <code>page.select()</code> not <code>soup.select()</code> since you&#39;ve named your Soup object <code>page</code>"}, {"owner": {"reputation": 308, "user_id": 11370181, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-83a5dhiW8ho/AAAAAAAAAAI/AAAAAAAAAfc/ldhwWpx-neQ/photo.jpg?sz=128", "display_name": "John Allison", "link": "https://stackoverflow.com/users/11370181/john-allison"}, "reply_to_user": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "edited": false, "score": 0, "creation_date": 1556142205, "post_id": 55838787, "comment_id": 98341832, "body": "Okay, I fixed that. Now, when I print, it&#39;s just giving me an empty list."}], "answers": [{"tags": [], "owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "is_accepted": false, "score": 2, "last_activity_date": 1556142082, "creation_date": 1556142082, "answer_id": 55838969, "question_id": 55838787, "link": "https://stackoverflow.com/questions/55838787/how-do-i-properly-use-the-select-function-in-beautifulsoup4/55838969#55838969", "title": "How do I properly use the select function in BeautifulSoup4?", "body": "<p>Two problems here:</p>\n\n<ul>\n<li>you've defined your soup object as <code>page</code>, but then try to refer to it as <code>soup</code>. You should be doing <code>page.select('...')</code></li>\n<li>you're trying to select a specific class in CSS, so your selection should be <code>\".Table2__th\"</code> (in CSS, the class name is preceded by a period). See <a href=\"https://facelessuser.github.io/soupsieve/\" rel=\"nofollow noreferrer\">https://facelessuser.github.io/soupsieve/</a> for more information about CSS selectors.</li>\n</ul>\n\n<p>Here's a working version of your code:</p>\n\n<pre><code>import bs4\nimport requests\n\ntable = []\nurl = 'http://espn.com/mlb/team/stats/_/name/wsh'\nr = requests.get(url)\npage = bs4.BeautifulSoup(r.text)\ntable = page.select(\".Table2__th\")\nprint(str(table))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 308, "user_id": 11370181, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-83a5dhiW8ho/AAAAAAAAAAI/AAAAAAAAAfc/ldhwWpx-neQ/photo.jpg?sz=128", "display_name": "John Allison", "link": "https://stackoverflow.com/users/11370181/john-allison"}, "edited": false, "score": 0, "creation_date": 1556151683, "post_id": 55839574, "comment_id": 98343822, "body": "Thanks a ton! Do you know of any good resources for learning how to work with JS in Python when scraping for data?"}, {"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 1, "creation_date": 1556167906, "post_id": 55839574, "comment_id": 98346818, "body": "I&#39;m in awe of this technique meant to extract content from script tags."}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "reply_to_user": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1556177110, "post_id": 55839574, "comment_id": 98350208, "body": "@SIM It is so handy. Lucky to have better regex support in python  for sure."}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 0, "creation_date": 1556177522, "post_id": 55839574, "comment_id": 98350415, "body": "john - you don&#39;t really need to know much js (if any) for this particular approach. Knowing some basic  regex to define the pattern, and json to handle the json object (after parsing from js with json library) are more useful. More generally, knowing some js is very handy for writing your own functionality when web-scraping and needing something not available in python libraries. I&#39;ve had to do that in other languages but not yet in python as there is so much functionality available for python."}], "tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": true, "score": 2, "last_activity_date": 1556178118, "last_edit_date": 1556178118, "creation_date": 1556146204, "answer_id": 55839574, "question_id": 55838787, "link": "https://stackoverflow.com/questions/55838787/how-do-i-properly-use-the-select-function-in-beautifulsoup4/55839574#55839574", "title": "How do I properly use the select function in BeautifulSoup4?", "body": "<p>I am assuming you actually want data in the table? That content is rendered using javascript so requests alone won't help if you target the table itself. </p>\n\n<p>Better yet would be to grab from script tag then you get all the actual stats. Below I grab that info and put into a tidy dataframe for viewing. </p>\n\n<pre><code>import bs4\nimport requests\nimport re\nimport json\nimport pandas as pd\n\nurl = 'http://espn.com/mlb/team/stats/_/name/wsh'\nr = requests.get(url)\npage = bs4.BeautifulSoup(r.text, 'lxml')\nr = re.compile(r'playerStats\":(.*),\"teamLeaders\"' , re.DOTALL)\ndata = page.find('script', text=r).text\nscript = r.findall(data)[0]    \nplayers_info = json.loads(script)\nplayer_batting_stats = players_info[0]\nexpanded_player_batting_stats = players_info[1]\n\ntable1 = []\ntable2 = []\nheaders = ['Name', 'GP', 'AB', 'R', 'H', '2B', '3B', 'HR', 'RBI', 'TB', 'BB', 'K', 'SB', 'BA', 'OBP', 'SLG', 'OPS', 'WAR']\n\nfor player in player_batting_stats:\n    name = player['athlete']['name']\n    row = [stat['value'] for stat in player['statGroups']['stats']]\n    row.insert(0, name)\n    table1.append(row)\n\ndf1 = pd.DataFrame(table1, columns = headers)\nprint(df1.head())\n\n# repeat for table2 using expanded_player_batting_stats\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 11370181, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-83a5dhiW8ho/AAAAAAAAAAI/AAAAAAAAAfc/ldhwWpx-neQ/photo.jpg?sz=128", "display_name": "John Allison", "link": "https://stackoverflow.com/users/11370181/john-allison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 55839574, "answer_count": 2, "score": 2, "last_activity_date": 1556178118, "creation_date": 1556141124, "last_edit_date": 1556142415, "question_id": 55838787, "link": "https://stackoverflow.com/questions/55838787/how-do-i-properly-use-the-select-function-in-beautifulsoup4", "title": "How do I properly use the select function in BeautifulSoup4?", "body": "<p>I'm writing my first script using BS4 as my intro to web scraping, and I'm having trouble. I'm following along with Automate The Boring Stuff with Python's tutorial where he uses <code>soup.select('insert class here')</code> to select classes. When I run the code shown below, it tells me soup is not a proper command <code>AttributeError: 'Response' object has no attribute 'select'</code></p>\n\n<pre><code>import webbrowser\nimport selenium\nimport bs4\nimport requests\n\ntable = []\n\nurl = 'http://espn.com/mlb/team/stats/_/name/wsh'\nr = requests.get(url)\npage = bs4.BeautifulSoup(r.text)\ntable = soup.select(\"Table2__th\")\nprint(str(table))\n</code></pre>\n"}, {"tags": ["python", "class", "module", "directory-structure"], "comments": [{"owner": {"reputation": 1930, "user_id": 9537244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUrDo.png?s=128&g=1", "display_name": "ilja", "link": "https://stackoverflow.com/users/9537244/ilja"}, "edited": false, "score": 0, "creation_date": 1556632137, "post_id": 55838782, "comment_id": 98498432, "body": "have you already tried <code>importlib</code>? :-) (see my answer below)"}], "answers": [{"tags": [], "owner": {"reputation": 1930, "user_id": 9537244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUrDo.png?s=128&g=1", "display_name": "ilja", "link": "https://stackoverflow.com/users/9537244/ilja"}, "is_accepted": false, "score": 0, "last_activity_date": 1556142557, "creation_date": 1556142557, "answer_id": 55839042, "question_id": 55838782, "link": "https://stackoverflow.com/questions/55838782/python-directory-structure-for-modules/55839042#55839042", "title": "Python directory structure for modules", "body": "<p>depens what you are trying to do with the objects, one possible solution could be:</p>\n\n<pre><code>import importlib\nimport os\n\nfor file in os.listdir(\"alpha\"):\n    if file.endswith(\".py\") and not file.startswith(\"_\") and not file.startswith(\"Base\"):\n         class_name = os.path.splitext(file)[0] \n         module_name = \"alpha\" + '.' + class_name\n         loaded_module = importlib.import_module(module_name)\n         loaded_class = getattr(loaded_module, class_name)\n         class_instance = loaded_class()\n</code></pre>\n\n<p>Importing everything with <code>*</code> is not a good practice, so if your files have only one class, importing this class is \"cleaner\" ( <code>class_name</code> is in your case)</p>\n"}], "owner": {"reputation": 187, "user_id": 2857013, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f60db9a90977790db23ec39804df9dfa?s=128&d=identicon&r=PG&f=1", "display_name": "pnus", "link": "https://stackoverflow.com/users/2857013/pnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1556142557, "creation_date": 1556141108, "question_id": 55838782, "link": "https://stackoverflow.com/questions/55838782/python-directory-structure-for-modules", "title": "Python directory structure for modules", "body": "<p>I have the following directory and file structure in my current directory:</p>\n\n<pre><code>\u251c\u2500\u2500 alpha\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 A.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 B.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Base.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 C.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\n\u2514\u2500\u2500 main.py\n</code></pre>\n\n<p>Each file under the alpha/ directory is it's own class and each of those classes inheirts the Base class in Base.py. Right now, I can do something like this in main.py:</p>\n\n<pre><code>from alpha.A import *\nfrom alpha.B import *\nfrom alpha.C import *\n\nA()\nB()\nC()\n</code></pre>\n\n<p>And it works fine. However, if I wanted to add a file and class \"D\" and then use D() in main.py, I'd have to go into my main.py and do \"from alpha.D import *\". Is there anyway to do an import in my main file so that it imports EVERYTHING under the alpha directory? </p>\n"}, {"tags": ["python", "python-dataclasses"], "comments": [{"owner": {"reputation": 508, "user_id": 7483073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3deafe1fb032d5ad9bc859ebae598?s=128&d=identicon&r=PG&f=1", "display_name": "Hatatister", "link": "https://stackoverflow.com/users/7483073/hatatister"}, "edited": false, "score": 0, "creation_date": 1556142115, "post_id": 55838700, "comment_id": 98341804, "body": "Do you want the following behaviour: a = A(None) then a.l == [ ] ? Or a=A() then a.l == [ ]?"}, {"owner": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "reply_to_user": {"reputation": 508, "user_id": 7483073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3deafe1fb032d5ad9bc859ebae598?s=128&d=identicon&r=PG&f=1", "display_name": "Hatatister", "link": "https://stackoverflow.com/users/7483073/hatatister"}, "edited": false, "score": 0, "creation_date": 1556142385, "post_id": 55838700, "comment_id": 98341874, "body": "The former, the latter is what the <code>default_factory</code> is intended for."}], "answers": [{"comments": [{"owner": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "edited": false, "score": 0, "creation_date": 1556143371, "post_id": 55839150, "comment_id": 98342169, "body": "Yep, I&#39;ve just had this idea myself and am currently trying to set up a mixin that does this automatically."}, {"owner": {"reputation": 6802, "user_id": 9609843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ceb913f05e91861333b367e0379a8e?s=128&d=identicon&r=PG&f=1", "display_name": "sanyassh", "link": "https://stackoverflow.com/users/9609843/sanyassh"}, "reply_to_user": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "edited": false, "score": 0, "creation_date": 1556143552, "post_id": 55839150, "comment_id": 98342224, "body": "&quot;Mixin that does this automatically&quot; - sounds interesting."}, {"owner": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "edited": false, "score": 0, "creation_date": 1556143905, "post_id": 55839150, "comment_id": 98342332, "body": "Why, shouldn&#39;t I be able to simply inherit a __post_init__ that does this for every class where it is needed?"}, {"owner": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "edited": false, "score": 0, "creation_date": 1556146119, "post_id": 55839150, "comment_id": 98342861, "body": "Works just fine."}], "tags": [], "owner": {"reputation": 6802, "user_id": 9609843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ceb913f05e91861333b367e0379a8e?s=128&d=identicon&r=PG&f=1", "display_name": "sanyassh", "link": "https://stackoverflow.com/users/9609843/sanyassh"}, "is_accepted": false, "score": 1, "last_activity_date": 1556143069, "creation_date": 1556143069, "answer_id": 55839150, "question_id": 55838700, "link": "https://stackoverflow.com/questions/55838700/is-it-possible-to-force-a-dataclass-field-to-call-its-default-factory-when-the-s/55839150#55839150", "title": "Is it possible to force a dataclass field to call its default_factory when the supplied argument is None?", "body": "<p>You can achieve desired result with <code>__post_init__</code> method which will set <code>self.l</code> to empty list even if it is <code>None</code>:</p>\n\n<pre><code>@dataclass\nclass A:\n    l: Optional[List[int]]\n\n    def __post_init__(self):\n        self.l = self.l or []\n\n\na = A(None)\nprint(a.l)  # []\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "edited": false, "score": 0, "creation_date": 1556143772, "post_id": 55839223, "comment_id": 98342283, "body": "Roughly so, but the factory should only be called when <code>self.__dict__[field.name] is None</code>. I would also be careful with using <code>MISSING</code> directly, the docs advise against this. One could simply do <code>if callable(field.default_factory)</code>."}, {"owner": {"reputation": 508, "user_id": 7483073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3deafe1fb032d5ad9bc859ebae598?s=128&d=identicon&r=PG&f=1", "display_name": "Hatatister", "link": "https://stackoverflow.com/users/7483073/hatatister"}, "reply_to_user": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "edited": false, "score": 0, "creation_date": 1556144000, "post_id": 55839223, "comment_id": 98342360, "body": "I forgot checking for none in the first version. I updated my answer to check for None values."}, {"owner": {"reputation": 508, "user_id": 7483073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3deafe1fb032d5ad9bc859ebae598?s=128&d=identicon&r=PG&f=1", "display_name": "Hatatister", "link": "https://stackoverflow.com/users/7483073/hatatister"}, "reply_to_user": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "edited": false, "score": 0, "creation_date": 1556144651, "post_id": 55839223, "comment_id": 98342522, "body": "I am not shure about MISSING. The docs also say that it is a sentinel value to indicate if a default_factory was provided. Since missing is encapsulated by the defined dataclass or Mixin, this might be ok to use in this case. callable(field.default_factory) relies on the fact, that callable(MISSING) == False but since field.default_factory is MISSING is true in case it default_factory was not provided, I am not shure if it is better than directly comparing against MISSING"}, {"owner": {"reputation": 10166, "user_id": 962190, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sxvRS.png?s=128&g=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/962190/arne"}, "edited": false, "score": 0, "creation_date": 1556519746, "post_id": 55839223, "comment_id": 98452264, "body": "@Hatatister I&#39;d say that this case right here is actually a great use-case for <code>MISSING</code>. See also <a href=\"https://stackoverflow.com/questions/53589794/pythonic-way-to-check-if-a-dataclass-field-has-a-default-value\" title=\"pythonic way to check if a dataclass field has a default value\">stackoverflow.com/questions/53589794/&hellip;</a>"}, {"owner": {"reputation": 10166, "user_id": 962190, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sxvRS.png?s=128&g=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/962190/arne"}, "edited": false, "score": 0, "creation_date": 1556520042, "post_id": 55839223, "comment_id": 98452389, "body": "For what it&#39;s worth, the same can be achieved without checking for <code>MISSING</code> and just <code>try</code>ing settattr and excepting a <code>TypeError</code>, and is arguably more pythonic."}, {"owner": {"reputation": 508, "user_id": 7483073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3deafe1fb032d5ad9bc859ebae598?s=128&d=identicon&r=PG&f=1", "display_name": "Hatatister", "link": "https://stackoverflow.com/users/7483073/hatatister"}, "edited": false, "score": 0, "creation_date": 1556561724, "post_id": 55839223, "comment_id": 98472823, "body": "Using <code>try</code> <code>except TypeError</code> would also catch the unlikely case of raising a <code>TypeError</code> in <code>default_factory</code>.  I think of the case of raising a typeerror in <code>default_factory</code> which is caused by a bug in the code. In this case you would supress the bug and it would be very hard to detect. So checking explicit for MISSING could be the better way."}], "tags": [], "owner": {"reputation": 508, "user_id": 7483073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3deafe1fb032d5ad9bc859ebae598?s=128&d=identicon&r=PG&f=1", "display_name": "Hatatister", "link": "https://stackoverflow.com/users/7483073/hatatister"}, "is_accepted": true, "score": 4, "last_activity_date": 1556519573, "last_edit_date": 1556519573, "creation_date": 1556143577, "answer_id": 55839223, "question_id": 55838700, "link": "https://stackoverflow.com/questions/55838700/is-it-possible-to-force-a-dataclass-field-to-call-its-default-factory-when-the-s/55839223#55839223", "title": "Is it possible to force a dataclass field to call its default_factory when the supplied argument is None?", "body": "<p>I don't think, that it is possible to directly force the default_factory to be called on explicit provied None values. But you can use the <code>__post_init__</code> method to explicitly check for None and provide a default_value, in particular if you have to check many attributes.</p>\n\n<p>You can use the <code>fields</code> function to scan your dataclass' automatically for <code>None</code> values and invoke default_factory for those attributes, if it was provided:</p>\n\n<pre><code>from dataclasses import dataclass, field, fields, MISSING\nfrom typing import List\n\n@dataclass\nclass A:\n    l: List[int] = field(default_factory=list)\n\n    def __post_init__(self):\n        for f in fields(self):\n            value = getattr(self, f.name)   \n            if value is None and not f.default_factory is MISSING:\n                setattr(self, f.name, f.default_factory())\n\ns = A([1,2])\nprint(s.l)  # [1,2]\n\nt = A(None)\nprint(t.l)  # []\n</code></pre>\n"}], "owner": {"reputation": 2153, "user_id": 6330511, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/SEM44.jpg?s=128&g=1", "display_name": "gmolau", "link": "https://stackoverflow.com/users/6330511/gmolau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 1, "accepted_answer_id": 55839223, "answer_count": 2, "score": 2, "last_activity_date": 1556519573, "creation_date": 1556140715, "question_id": 55838700, "link": "https://stackoverflow.com/questions/55838700/is-it-possible-to-force-a-dataclass-field-to-call-its-default-factory-when-the-s", "title": "Is it possible to force a dataclass field to call its default_factory when the supplied argument is None?", "body": "<p>I have a dataclass with a mutable field (a list). What I'm hoping to achieve is that this field will never be None, even when explicitly set to None in the __init__ call. In a normal class this would be trivial to implement:</p>\n\n<pre><code>class A:\n    def __init__(self, l: Optional[List[int]] = None):\n        if l is None:\n            l = []\n        self.l = l\n</code></pre>\n\n<p>Is there a way to achieve the same result with just the <a href=\"https://docs.python.org/3/library/dataclasses.html#dataclasses.field\" rel=\"nofollow noreferrer\">dataclasses.field</a> function, i.e. without explicitly implementing an __init__ method (which would be cumbersome when the class has a lot of attributes)? Can I force dataclasses.field to call its <code>default_factory</code> when the supplied init argument is None?</p>\n"}, {"tags": ["python", "pandas", "altair"], "answers": [{"comments": [{"owner": {"reputation": 731, "user_id": 3502023, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3bcda559e6b63e518c4e6e1c292bf7?s=128&d=identicon&r=PG&f=1", "display_name": "nahata5", "link": "https://stackoverflow.com/users/3502023/nahata5"}, "edited": false, "score": 0, "creation_date": 1556155834, "post_id": 55839500, "comment_id": 98344524, "body": "I changed the column to strings via <code>max_2007_df = loc[:,&#39;zipcode&#39;] = max_2007_df.zipcode.apply(lambda x: str(x).zfill(5))</code> which resulted the strings for that column but it appears I still have the same error unfortunately"}, {"owner": {"reputation": 731, "user_id": 3502023, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3bcda559e6b63e518c4e6e1c292bf7?s=128&d=identicon&r=PG&f=1", "display_name": "nahata5", "link": "https://stackoverflow.com/users/3502023/nahata5"}, "edited": false, "score": 0, "creation_date": 1556157450, "post_id": 55839500, "comment_id": 98344835, "body": "if I take out the &quot;Q&quot; so it reads <code>color=&#39;temp&#39;).</code> I get the error: <code>ValueError: temp encoding field is specified without a type; the type cannot be automatically inferred because the data is not specified as a pandas.DataFrame.</code> which doesn&#39;t seem to fit with the fact it is a Dataframe, unclear if this helps"}], "tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": true, "score": 0, "last_activity_date": 1556158439, "last_edit_date": 1556158439, "creation_date": 1556145583, "answer_id": 55839500, "question_id": 55838695, "link": "https://stackoverflow.com/questions/55838695/altair-choropleth-map-encoding-dataframe-color-issue/55839500#55839500", "title": "Altair Choropleth Map Encoding Dataframe Color Issue", "body": "<p>The map data you reference, <code>data.us_10m</code>, does not have any zipcode information, so it will not work to join this data on zipcode.</p>\n\n<p>If you would like to make the chart you have in mind, you'll need to find a source of geographic data indexed by zipcode rather than by county.</p>\n"}], "owner": {"reputation": 731, "user_id": 3502023, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3bcda559e6b63e518c4e6e1c292bf7?s=128&d=identicon&r=PG&f=1", "display_name": "nahata5", "link": "https://stackoverflow.com/users/3502023/nahata5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 55839500, "answer_count": 1, "score": 1, "last_activity_date": 1556158439, "creation_date": 1556140691, "question_id": 55838695, "link": "https://stackoverflow.com/questions/55838695/altair-choropleth-map-encoding-dataframe-color-issue", "title": "Altair Choropleth Map Encoding Dataframe Color Issue", "body": "<p>I'm trying to create a choropleth map with zipcode and temperature data to overly the counties, however I continue to have a Javascript error when trying to encode my data. I've looked at the github support and found that this was an issue with sometimes pulling in dataframes, but I also tried using a csv file as the datatype. It seems that the Q is not recognizing the temp column as a number?</p>\n\n<pre><code>import altair as alt\nfrom vega_datasets import data\n\ncounties = alt.topo_feature(data.us_10m.url, 'counties')\nsource = max_2007_df\n\n\nalt.Chart(counties).mark_geoshape().encode(\n    color='temp:Q').transform_lookup(\n    lookup='zipcode',\n    from_=alt.LookupData(source, 'zipcode', ['temp'])\n).project(\n    type='albersUsa'\n).properties(\n    width=500,\n    height=300\n)\n</code></pre>\n\n<p>Javascript Error: Failed to execute 'addColorStop' on 'CanvasGradient': The provided float value is non-finite.. This usually means there's a typo in your chart specification. See the JavaScript console for the full traceback.</p>\n\n<p>This is part of the max_2007_temp df</p>\n\n<pre><code>    zipcode temp\n0   1002    33.6\n1   1011    31.8\n2   1013    34.1\n3   1098    31.9\n4   1108    34.3\n5   1129    34.1\n6   1453    33.3\n7   1545    33.5\n8   1568    33.4\n9   1571    32.8\n10  1603    33.5\n11  1604    33.8\n12  1702    35.5\n13  1721    35.5\n14  1746    35.5\n15  1752    35.5\n16  1760    35.5\n17  1772    34.4\n18  1773    35.5\n19  1776    35.5\n</code></pre>\n"}, {"tags": ["python", "stdin"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1556140854, "post_id": 55838686, "comment_id": 98341382, "body": "<code>15</code> is a command line argument, not something on standard input."}, {"owner": {"reputation": 2376, "user_id": 5343439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c855ea8e4c6ce40243ca96f30e893d18?s=128&d=identicon&r=PG&f=1", "display_name": "Kit.", "link": "https://stackoverflow.com/users/5343439/kit"}, "edited": false, "score": 2, "creation_date": 1556140861, "post_id": 55838686, "comment_id": 98341384, "body": "<code>15</code> in your case is not in <code>stdin</code>, but in <code>argv</code>. That &quot;nothing happens&quot; is probably a program waiting for your input."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1556140967, "post_id": 55838686, "comment_id": 98341422, "body": "You haven&#39;t provided anything to the standard input of the process, so <code>sys.stdin.read()</code> is going to hang, waiting for an EOF from stdin"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1556141490, "post_id": 55838686, "comment_id": 98341608, "body": "Related - <a href=\"https://stackoverflow.com/questions/17658512/how-to-pipe-input-to-python-line-by-line-from-linux-program\" title=\"how to pipe input to python line by line from linux program\">stackoverflow.com/questions/17658512/&hellip;</a>"}, {"owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556147457, "post_id": 55838686, "comment_id": 98343144, "body": "So what\u2019s the point of stdin if I can\u2019t use terminal input? How would I provide data to stdin?"}, {"owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556147788, "post_id": 55838686, "comment_id": 98343210, "body": "I also ran python optimal_summands.py, pressed enter, and then typed in 15 (that should have been processed as stdin). Nothing happened still."}, {"owner": {"reputation": 2376, "user_id": 5343439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c855ea8e4c6ce40243ca96f30e893d18?s=128&d=identicon&r=PG&f=1", "display_name": "Kit.", "link": "https://stackoverflow.com/users/5343439/kit"}, "edited": false, "score": 0, "creation_date": 1556151647, "post_id": 55838686, "comment_id": 98343816, "body": "See <a href=\"https://en.wikibooks.org/wiki/Python_Programming/Input_and_Output\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556199129, "post_id": 55838686, "comment_id": 98362881, "body": "Thanks but this doesn&#39;t help. I need an example of how I use terminal with sys.stdin.read()."}, {"owner": {"reputation": 2376, "user_id": 5343439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c855ea8e4c6ce40243ca96f30e893d18?s=128&d=identicon&r=PG&f=1", "display_name": "Kit.", "link": "https://stackoverflow.com/users/5343439/kit"}, "edited": false, "score": 0, "creation_date": 1556299516, "post_id": 55838686, "comment_id": 98404690, "body": "It is written there (<code>Note that sys.stdin.read() will read from standard input till EOF. (which is usually Ctrl+D.) </code>). If it doesn&#39;t help you, i am sorry."}, {"owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556321031, "post_id": 55838686, "comment_id": 98411664, "body": "Oh I see -- yes it helps now. I didn&#39;t know terminal input was considered standard input. Sorry I&#39;m just very new to this stuff."}], "answers": [{"comments": [{"owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556197641, "post_id": 55838720, "comment_id": 98361845, "body": "Thank you. So is there a way for me to do anything similar using <code>sys.stdin.read()</code>? Or no."}, {"owner": {"reputation": 2246, "user_id": 3451555, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/n34Rw.png?s=128&g=1", "display_name": "Julian Camilleri", "link": "https://stackoverflow.com/users/3451555/julian-camilleri"}, "reply_to_user": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556205926, "post_id": 55838720, "comment_id": 98367269, "body": "No. - <a href=\"https://stackoverflow.com/questions/29454365/what-does-sys-stdin-read\" title=\"what does sys stdin read\">stackoverflow.com/questions/29454365/what-does-sys-stdin-rea&zwnj;&#8203;d</a> give this a read my friend."}, {"owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556223288, "post_id": 55838720, "comment_id": 98375332, "body": "So it seems like to use sys.stdin.read(), I have to enter in my arguments after I run <code>python optimal_summands.py</code> and then do CTRL+D (in Linux) for EOF."}, {"owner": {"reputation": 2246, "user_id": 3451555, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/n34Rw.png?s=128&g=1", "display_name": "Julian Camilleri", "link": "https://stackoverflow.com/users/3451555/julian-camilleri"}, "reply_to_user": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 1, "creation_date": 1556282423, "post_id": 55838720, "comment_id": 98395527, "body": "Usually <code>sys.stdin.read</code> is used to read data from a file using something like <code>python3 script.py &lt; textfile.txt</code> - that&#39;s the only use case I&#39;ve come up with needing in the past.  Although you might possibly want to use something like: <code>input(&#39;Number of summands you&#39;d like to choose.&#39;)</code> which will ask the user to enter the number in the CLI."}, {"owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 1, "creation_date": 1556289612, "post_id": 55838720, "comment_id": 98399783, "body": "Awesome -- this is extremely helpful. I couldn&#39;t find this explanation anywhere else online, which is shocking to me."}, {"owner": {"reputation": 2246, "user_id": 3451555, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/n34Rw.png?s=128&g=1", "display_name": "Julian Camilleri", "link": "https://stackoverflow.com/users/3451555/julian-camilleri"}, "reply_to_user": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "edited": false, "score": 0, "creation_date": 1556372629, "post_id": 55838720, "comment_id": 98421047, "body": "You&#39;re welcome, maybe you looked at the wrong places. - if it answers your question @Glassjawed don&#39;t forget to mark it as the correct answer. Good luck with your learnings (;"}], "tags": [], "owner": {"reputation": 2246, "user_id": 3451555, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/n34Rw.png?s=128&g=1", "display_name": "Julian Camilleri", "link": "https://stackoverflow.com/users/3451555/julian-camilleri"}, "is_accepted": false, "score": 3, "last_activity_date": 1556372787, "last_edit_date": 1556372787, "creation_date": 1556140809, "answer_id": 55838720, "question_id": 55838686, "link": "https://stackoverflow.com/questions/55838686/how-to-read-stdin-in-a-script/55838720#55838720", "title": "How to read stdin in a script?", "body": "<p>I believe you might be after <a href=\"https://docs.python.org/3.7/library/sys.html#sys.argv\" rel=\"nofollow noreferrer\">sys.argv</a> or for more features you can opt for <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow noreferrer\">argparse</a>.</p>\n\n<p><strong>Example using <code>sys.argv</code></strong></p>\n\n<pre><code>if __name__ == '__main__':\n    filename = sys.argv[0]\n    passed_args = map(int, sys.argv[1:]) # if you're expecting all args to be int.\n    # python3 module.py 1 2 3\n    # passed_args = [1, 2, 3]\n</code></pre>\n\n<p><strong>Example using <code>argparse</code></strong></p>\n\n<pre><code>if __name__ == '__main__':\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\"n\", type=int, help=\"Example help text here.\")\n\n    args = parser.parse_args()\n    n = args.n\n    print(isinstance(n, int)) # true\n</code></pre>\n\n<p><strong>You can use <code>argparse</code> to supply your user with help too, as shown below:</strong></p>\n\n<pre><code>scratch.py$ python3 scratch.py -h\nusage: scratch.py [-h] n\n\npositional arguments:\n  n           Example help text here.\n\noptional arguments:\n  -h, --help  show this help message and exit\n</code></pre>\n\n<p>The above doesn't include the import statements <code>import sys</code> and <code>import argparse</code>. <em>Optional arguments</em> in <code>argparse</code> are prefixed by a double hyphen, an example shown below as shown in the <code>python</code> documentation.</p>\n\n<pre><code>import argparse\nparser = argparse.ArgumentParser()\nparser.add_argument(\"square\", type=int,\n                    help=\"display a square of a given number\")\nparser.add_argument(\"-v\", \"--verbose\", action=\"store_true\",\n                    help=\"increase output verbosity\")\nargs = parser.parse_args()\nanswer = args.square**2\nif args.verbose:\n    print(\"the square of {} equals {}\".format(args.square, answer))\nelse:\n    print(answer)\n</code></pre>\n\n<p><em>If you're simply looking to expect input through CLI; you could opt to use <code>input_val = input('Question here')</code>.</em></p>\n"}], "owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1556372787, "creation_date": 1556140641, "last_edit_date": 1556141154, "question_id": 55838686, "link": "https://stackoverflow.com/questions/55838686/how-to-read-stdin-in-a-script", "title": "How to read stdin in a script?", "body": "<pre><code>import sys\n\ndef optimal_summands(n):\n    summands = []\n    sum = n\n    i = 0\n    while (sum &gt; 0):\n        if 2*(i+1) &lt; sum:\n            i+=1\n            summands.append(i)\n            sum-=i\n        else:\n            summands.append(sum)\n            sum=0\n    return summands\n\nif __name__ == '__main__':\n    input = sys.stdin.read()\n    n = int(input)\n    summands = optimal_summands(n)\n    print(len(summands))\n    for x in summands:\n        print(x, end=' ')\n</code></pre>\n\n<p>I am having an issue running this with my own input. I go to my terminal and type</p>\n\n<pre><code>(ykp) y9@Y9Acer:~/practice$ python optimal_summands.py 15\n</code></pre>\n\n<p>and nothing happens.</p>\n\n<p>How am I supposed to run my own code on custom inputs? This seems like something that should be simple but I have not seen an example of how to do this anywhere in the documentation.</p>\n"}, {"tags": ["python", "jupyter-notebook", "dask"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11407559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b1dbfe561727f1fe12ae5c55aab704?s=128&d=identicon&r=PG&f=1", "display_name": "sgr", "link": "https://stackoverflow.com/users/11407559/sgr"}, "edited": false, "score": 0, "creation_date": 1556261353, "post_id": 55839917, "comment_id": 98384704, "body": "Thank you very much for your Answer. That was it!"}], "tags": [], "owner": {"reputation": 21140, "user_id": 3821154, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RYr9X.jpg?s=128&g=1", "display_name": "mdurant", "link": "https://stackoverflow.com/users/3821154/mdurant"}, "is_accepted": true, "score": 1, "last_activity_date": 1556149036, "creation_date": 1556149036, "answer_id": 55839917, "question_id": 55838685, "link": "https://stackoverflow.com/questions/55838685/dask-delayed-defined-variable-in-one-cell-of-jupyter-notebook-not-working-in-an/55839917#55839917", "title": "dask.delayed. defined variable in one cell of Jupyter notebook not working in any other", "body": "<p>There is currently a bug in jupyter (or ipykernel) which means that variables defined in a cell with <code>%%time</code> do not survive the cell. Either downgrade, or re-run the code without timing.</p>\n\n<p>ref <a href=\"https://github.com/dask/dask-tutorial/issues/85\" rel=\"nofollow noreferrer\">https://github.com/dask/dask-tutorial/issues/85</a></p>\n"}], "owner": {"reputation": 3, "user_id": 11407559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b1dbfe561727f1fe12ae5c55aab704?s=128&d=identicon&r=PG&f=1", "display_name": "sgr", "link": "https://stackoverflow.com/users/11407559/sgr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 55839917, "answer_count": 1, "score": 0, "last_activity_date": 1556149036, "creation_date": 1556140629, "question_id": 55838685, "link": "https://stackoverflow.com/questions/55838685/dask-delayed-defined-variable-in-one-cell-of-jupyter-notebook-not-working-in-an", "title": "dask.delayed. defined variable in one cell of Jupyter notebook not working in any other", "body": "<p>this is my first post on stackoverflow and I hope to have chosen the right category. So here is my problem:</p>\n\n<p>In order to get to know <a href=\"https://docs.dask.org/en/latest/\" rel=\"nofollow noreferrer\">Dask</a> I decided to get started with this <a href=\"https://github.com/dask/dask-tutorial\" rel=\"nofollow noreferrer\">tutorial</a>!</p>\n\n<p>After creating the conda environment and running the python script like it was suggested in README.md, I tried the following lines:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from time import sleep\nfrom dask import delayed\n\ndef inc(x):\n    sleep(1)\n    return x + 1\n\ndef add(x, y):\n    sleep(1)\n    return x + y\n</code></pre>\n\n<p>I used another cell in the Jupyter notebook to do </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>x = delayed(inc)(1)\ny = delayed(inc)(2)\nz = delayed(add)(x, y)\n</code></pre>\n\n<p>If I now use the same cell for </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>z.compute()\n</code></pre>\n\n<p>I get the correct result. But if I do this in yet another cell, I get a</p>\n\n<blockquote>\n  <p>NameError: name 'z' is not defined</p>\n</blockquote>\n\n<p>I have no idea why this happens and did not find any clue elsewhere. Can you please help me. </p>\n\n<p>Thanks in advance.\nsgr</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556141403, "post_id": 55838753, "comment_id": 98341569, "body": "using the relative import <code>.Detector...</code> fixed that issue, but now i am getting this error: <code>ModuleNotFoundError: No module named &#39;__main__.src&#39;; &#39;__main__&#39; is not a package</code>"}, {"owner": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 0, "creation_date": 1556141551, "post_id": 55838753, "comment_id": 98341624, "body": "You must add a <code>__init__.py</code> (possibly empty) at the root of each package, here in <code>src&#47;</code> and probably in <code>Detector&#47;</code>"}, {"owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "reply_to_user": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556142338, "post_id": 55838753, "comment_id": 98341859, "body": "@Dawn17 you should add a <code>__init__.py</code> file to the root package(the directory above src). It can be empty"}], "tags": [], "owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "is_accepted": true, "score": 2, "last_activity_date": 1556140955, "creation_date": 1556140955, "answer_id": 55838753, "question_id": 55838675, "link": "https://stackoverflow.com/questions/55838675/importing-the-right-module-but-getting-an-error-in-python/55838753#55838753", "title": "importing the right module but getting an error in python", "body": "<p>In your example you import the <code>Detector.class_coupling_detector</code> module in file that is in the same directory as <em>Detector</em> but your cwd <strong>is not</strong> the <em>src</em> directory.</p>\n\n<p>Due to this you should either use absolute import <code>from src.Detector...</code> or relative import <code>from .Detector...</code></p>\n\n<p><a href=\"https://realpython.com/absolute-vs-relative-python-imports/\" rel=\"nofollow noreferrer\">Here</a> is some information about difference between this two ways to import </p>\n"}], "owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55838753, "answer_count": 1, "score": 1, "last_activity_date": 1556140955, "creation_date": 1556140600, "question_id": 55838675, "link": "https://stackoverflow.com/questions/55838675/importing-the-right-module-but-getting-an-error-in-python", "title": "importing the right module but getting an error in python", "body": "<pre><code>import sys\nfrom subprocess import run, PIPE\nimport shlex\nfrom src.detector_main import detect_main\n\ndef main():\n    # print command line arguments\n    for arg in sys.argv[1:]:\n        print(arg)\n\nif __name__ == \"__main__\":\n    # main()\n    print(sys.argv)\n</code></pre>\n\n<p>This is my main module. If you see the <code>from src.detector_main import detect_main</code>, it is supposed to import <code>detect_main</code> from <code>src/detector_main.py</code>.</p>\n\n<p>In my <code>detector_main.py</code>, I have a bunch of imports,</p>\n\n<pre><code>import ast\nimport os\nimport fpdf\nimport sys\nfrom Detector.class_coupling_detector import detect_class_cohesion\nfrom Detector.cyclomatic_complexity_detector import detect_cyclomatic_complexity\nfrom Detector.long_lambda_detector import detect_long_lambda\nfrom Detector.long_list_comp_detector import detect_long_list_comp\nfrom Detector.pylint_output_detector import detect_pylint_output\nfrom Detector.shotgun_surgery_detector import detect_shotgun_surgery\nfrom Detector.useless_exception_detector import detect_useless_exception\n# from tools.viz_generator import add_viz\n\ndef detect_main(directory):\n    # Get stats for files in directory\n    stats_dict = get_stats(directory)\n    ....\n</code></pre>\n\n<p>Running my main module gives me this error:</p>\n\n<pre><code>File \"pyscent.py\", line 5, in &lt;module&gt;\n    from src.detector_main import detect_main\n  File \"C:\\Users\\user\\Desktop\\proj\\src\\detector_main.py\", line 5, in &lt;module&gt;\n    from Detector.class_coupling_detector import detect_class_cohesion\nModuleNotFoundError: No module named 'Detector'\n</code></pre>\n\n<p>I don't get this because I am following the exact path.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ds1Z4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ds1Z4.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't get this because I am following the right path.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 1930, "user_id": 9537244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUrDo.png?s=128&g=1", "display_name": "ilja", "link": "https://stackoverflow.com/users/9537244/ilja"}, "edited": false, "score": 1, "creation_date": 1556141134, "post_id": 55838593, "comment_id": 98341465, "body": "what do you have so far?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556141364, "post_id": 55838593, "comment_id": 98341552, "body": "stackoverflow isn&#39;t a code-writing service, but we may be able to help you get your own code working (if you <a href=\"https://stackoverflow.com/posts/55838593/edit\">edit</a> your question and add it)."}], "answers": [{"comments": [{"owner": {"reputation": 2646, "user_id": 9282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Djkuj.png?s=128&g=1", "display_name": "Guimoute", "link": "https://stackoverflow.com/users/9282844/guimoute"}, "edited": false, "score": 0, "creation_date": 1556142457, "post_id": 55838981, "comment_id": 98341899, "body": "This is solid. I did not know pandas could simply things <i>that</i> much."}, {"owner": {"reputation": 1, "user_id": 4349380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37fea187c7f912b0ffff892047ecb554?s=128&d=identicon&r=PG&f=1", "display_name": "s1109", "link": "https://stackoverflow.com/users/4349380/s1109"}, "edited": false, "score": 0, "creation_date": 1557521340, "post_id": 55838981, "comment_id": 98807575, "body": "This solution works for two files. What if I&#39;ve n number of .csv files in a directory that I wanna do this too?"}, {"owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "reply_to_user": {"reputation": 1, "user_id": 4349380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37fea187c7f912b0ffff892047ecb554?s=128&d=identicon&r=PG&f=1", "display_name": "s1109", "link": "https://stackoverflow.com/users/4349380/s1109"}, "edited": false, "score": 0, "creation_date": 1557523975, "post_id": 55838981, "comment_id": 98808380, "body": "@s1109 just iterate over them"}], "tags": [], "owner": {"reputation": 315, "user_id": 8506506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTMWP.jpg?s=128&g=1", "display_name": "Mr Morgan", "link": "https://stackoverflow.com/users/8506506/mr-morgan"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142900, "last_edit_date": 1556142900, "creation_date": 1556142188, "answer_id": 55838981, "question_id": 55838593, "link": "https://stackoverflow.com/questions/55838593/how-to-find-the-average-of-values-of-all-columns-of-various-csv-files-keeping-o/55838981#55838981", "title": "How to find the average of values of all columns of various .csv files keeping only single header and the first label column the same using python?", "body": "<p>If you want to use only the standart libraries, here the example is:</p>\n\n<p>import csv\n    from statistics import mean</p>\n\n<pre><code>filename1 = 'f1.csv'\nfilename2 = 'f2.csv'\noutput = 'output.csv'\n\nwith open(filename1, 'r') as f1, open(filename2, 'r') as f2, open(output, 'r') as out:\n    r1 = csv.reader(f1)\n    r2 = csv.reader(f2)\n    w = csv.writer(out)\n    w.writerows(next(r1))\n    next(r2)\n\n    for line1, line2 in zip(r1, r2):\n        w.writerows([line1[0]] + list(map(lambda a: (a[0]+a[1])//2, zip(line1[1:], line2[1:]))))\n</code></pre>\n\n<p>If you want to use <a href=\"https://pandas.pydata.org/\" rel=\"nofollow noreferrer\">pandas</a>, here it is:</p>\n\n<p>import pandas as pd</p>\n\n<pre><code>df1 = pd.read_csv('filename1.csv', index_col=0, header=0)\ndf2 = pd.read_csv('filename2.csv', index_col=0, header=0)\n\nout = (df1 + df2) // 2\n\nout.to_csv('output.csv')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142390, "creation_date": 1556142390, "answer_id": 55839012, "question_id": 55838593, "link": "https://stackoverflow.com/questions/55838593/how-to-find-the-average-of-values-of-all-columns-of-various-csv-files-keeping-o/55839012#55839012", "title": "How to find the average of values of all columns of various .csv files keeping only single header and the first label column the same using python?", "body": "<p>Expanding on the <code>pandas</code> option that was <a href=\"https://stackoverflow.com/a/55838981/565489\">posted by Mr Morgan</a>, you could also use:</p>\n\n<pre><code>filename_list=['csv1.csv','csv2.csv']\ndfs=[]\nfor fname in filename_list:\n    dfs.append(pd.read_csv(fname,index_col=0))\n\naverages = pd.concat([each.stack() for each in dfs],axis=1)\\\n             .apply(lambda x:x.mean(),axis=1)\\\n             .unstack()\n\naverages.to_csv(\"csvAvg.csv\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4349380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37fea187c7f912b0ffff892047ecb554?s=128&d=identicon&r=PG&f=1", "display_name": "s1109", "link": "https://stackoverflow.com/users/4349380/s1109"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1557523617, "creation_date": 1556140187, "last_edit_date": 1557523617, "question_id": 55838593, "link": "https://stackoverflow.com/questions/55838593/how-to-find-the-average-of-values-of-all-columns-of-various-csv-files-keeping-o", "title": "How to find the average of values of all columns of various .csv files keeping only single header and the first label column the same using python?", "body": "<p>So I have various .csv files in a directory of the same structure with first row as the header and first column as labels.  Say file 1 is as below:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>name,value1,value2,value3,value4,......\nname1,10,20,0,0,...\nname2,20,30,0,0,...\nname3,30,40,0,0,...\nname4,40,50,0,0,...\n....\n</code></pre>\n\n<p>File2:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>name,value1,value2,value3,value4,......\nname1,20,30,0,0,...\nname2,30,40,0,0,...\nname3,40,50,0,0,...\nname4,50,60,0,0,...\n....\n</code></pre>\n\n<p>All the .csv files have the same structure with the same number of rows and columns.</p>\n\n<p>What I want is something that looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>name,value1,value2,value3,value4,......\nname1,15,25,0,0,...\nname2,25,35,0,0,...\nname3,35,45,0,0,...\nname4,45,55,0,0,...\n....\n</code></pre>\n\n<p>Where the all the value columns in the last file will be the average of corresponding values in those columns of all the .csv files. So under value1 in the resulting file I should have (10+20+...+...)/n and so on.</p>\n\n<p>The number of .csv files isn't fixed, so I think I'll need a loop.</p>\n\n<p>How do I achieve this with a python script on a Linux machine.</p>\n\n<p>With awk I'm doing this:</p>\n\n<pre><code>awk '\n    BEGIN {FS=OFS=\",\"}\n    FNR==1 {header=$0}      # header line\n    FNR&gt;1 {\n        sum[FNR,1] = $1     # names column\n        for (j=2; j&lt;=NF; j++) {\n            sum[FNR,j] += $j\n        }\n    }\n    END {\n        print header\n        files = ARGC - 1    # number of csv files\n        for (i=2; i&lt;=FNR; i++) {\n            $1 = sum[i,1]   # another treatment for the 1st column\n            for (j=2; j&lt;=NF; j++) {\n                $j = sum[i,j] / files\n            }\n            print\n        }\n    }' *.csv\n</code></pre>\n\n<p>But I realized that the column names may not be the same in every file. So say if name1 is present only in first two files &amp; not in the third file then I've to display a message saying it is missing in the third file but still calculate the average from the other two files. \nI think using a dictionary and a counter will do it but I am not sure how to do it.</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1556140255, "post_id": 55838586, "comment_id": 98341191, "body": "remove zero ? then you will not have the same shape of your table"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1556140268, "post_id": 55838586, "comment_id": 98341201, "body": "What do you mean by remove? This seems more of an issue caused by your buckets being 0.1 large. Why not define bigger buckets then pd.crosstab on those?"}, {"owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "edited": false, "score": 0, "creation_date": 1556140307, "post_id": 55838586, "comment_id": 98341217, "body": "Have clarified in edits"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1556140415, "post_id": 55838586, "comment_id": 98341254, "body": "<code>df.where(df==1,&#39;&#39;)</code>?"}, {"owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1556141189, "post_id": 55838586, "comment_id": 98341493, "body": "@Wen-Ben where would that be added into the crosstab command?"}, {"owner": {"reputation": 2168, "user_id": 10005592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tw8_hRzXCT8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq244BuID1nKg_D8eCRDXVVZgv4eBg/mo/photo.jpg?sz=128", "display_name": "Stephen Meschke", "link": "https://stackoverflow.com/users/10005592/stephen-meschke"}, "edited": false, "score": 0, "creation_date": 1556141357, "post_id": 55838586, "comment_id": 98341548, "body": "Have you considered displaying this as an image where 0=black, 1=gray, and 2=white?"}, {"owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "reply_to_user": {"reputation": 2168, "user_id": 10005592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tw8_hRzXCT8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq244BuID1nKg_D8eCRDXVVZgv4eBg/mo/photo.jpg?sz=128", "display_name": "Stephen Meschke", "link": "https://stackoverflow.com/users/10005592/stephen-meschke"}, "edited": false, "score": 0, "creation_date": 1556141524, "post_id": 55838586, "comment_id": 98341618, "body": "@StephenMeschke not sure how I&#39;d achieve that"}, {"owner": {"reputation": 2168, "user_id": 10005592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tw8_hRzXCT8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq244BuID1nKg_D8eCRDXVVZgv4eBg/mo/photo.jpg?sz=128", "display_name": "Stephen Meschke", "link": "https://stackoverflow.com/users/10005592/stephen-meschke"}, "edited": false, "score": 1, "creation_date": 1556143154, "post_id": 55838586, "comment_id": 98342103, "body": "@Clauric I wrote an answer that explains how to visualize a Pandas DataFrame as an image."}], "answers": [{"tags": [], "owner": {"reputation": 2168, "user_id": 10005592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tw8_hRzXCT8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq244BuID1nKg_D8eCRDXVVZgv4eBg/mo/photo.jpg?sz=128", "display_name": "Stephen Meschke", "link": "https://stackoverflow.com/users/10005592/stephen-meschke"}, "is_accepted": true, "score": 1, "last_activity_date": 1556143062, "creation_date": 1556143062, "answer_id": 55839147, "question_id": 55838586, "link": "https://stackoverflow.com/questions/55838586/removing-zeros-from-table/55839147#55839147", "title": "Removing zeros from table", "body": "<p>Visualize the array as an image.</p>\n\n<pre><code>import cv2\nimport numpy as np\nimport pandas as pd\n# Read data from .csv file\ndf = pd.read_csv('/home/stephen/Desktop/data.csv')\n# Convert image to an array\nimg = np.array(df, np.float32)\n# Scale image so values are from 0 to 1\nimg = img/np.amax(img)\n# Resize so it's easier to see\nimg = cv2.resize(img, (420,420))\ncv2.imshow('img', img)\ncv2.waitKey()\ncv2.destroyAllWindows()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vKHLw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKHLw.png\" alt=\"image\"></a><a href=\"https://i.stack.imgur.com/oouqN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oouqN.png\" alt=\"numbers\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 2053, "user_id": 6047722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETe3a.jpg?s=128&g=1", "display_name": "Jorge", "link": "https://stackoverflow.com/users/6047722/jorge"}, "is_accepted": false, "score": 1, "last_activity_date": 1556153945, "creation_date": 1556153945, "answer_id": 55840422, "question_id": 55838586, "link": "https://stackoverflow.com/questions/55838586/removing-zeros-from-table/55840422#55840422", "title": "Removing zeros from table", "body": "<p>I am not sure this will help, but you can try:</p>\n\n<pre><code>df.replace(0, np.nan)\n</code></pre>\n\n<p>I will give you a bunch on nan, but you will not lose the data type, just in case you want to perform any math. If this is not a problem, you can replace with the np.nan with 0. You need to import numpy as np. </p>\n"}], "owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 55839147, "answer_count": 2, "score": 1, "last_activity_date": 1556153945, "creation_date": 1556140157, "last_edit_date": 1556140369, "question_id": 55838586, "link": "https://stackoverflow.com/questions/55838586/removing-zeros-from-table", "title": "Removing zeros from table", "body": "<p>I'm trying to create a table in Python using Pandas crosstab function. I've managed to get the data to produce a table, however, it is not very readable. What I am trying to do is remove the 0s from the table.</p>\n\n<p>The table looks like this at the moment:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SSQZx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSQZx.png\" alt=\"Pandas crosstab table\"></a></p>\n\n<p>I'm wondering if it possible to remove the 0s, or if there is a better way to produce this table.</p>\n\n<p>Edit: by remove, I mean remove/don't display, in the table. Need to keep the data in the original data source.</p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 9278814, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JzFJLd3HOUk/AAAAAAAAAAI/AAAAAAAAAAc/ftD58TVgkws/photo.jpg?sz=128", "display_name": "Kyle McComb", "link": "https://stackoverflow.com/users/9278814/kyle-mccomb"}, "edited": false, "score": 0, "creation_date": 1556218377, "post_id": 55848249, "comment_id": 98373165, "body": "Thank you, a much more logical option! I do get an error when trying to add the argument <code>height=1.5</code> however. Is that argument a new one?"}, {"owner": {"reputation": 3564, "user_id": 3284713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f96b0e18df436dfccd3a204868942a0?s=128&d=identicon&r=PG&f=1", "display_name": "Gio", "link": "https://stackoverflow.com/users/3284713/gio"}, "reply_to_user": {"reputation": 223, "user_id": 9278814, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JzFJLd3HOUk/AAAAAAAAAAI/AAAAAAAAAAc/ftD58TVgkws/photo.jpg?sz=128", "display_name": "Kyle McComb", "link": "https://stackoverflow.com/users/9278814/kyle-mccomb"}, "edited": false, "score": 0, "creation_date": 1556264943, "post_id": 55848249, "comment_id": 98386418, "body": "@KyleMcComb nope, it&#39;s one of the argument to set the dimension of each facet. from the documentation: <i>height : scalar, optional  Height (in inches) of each facet. See also: aspect.  aspect : scalar, optional  Aspect ratio of each facet, so that aspect * height gives the width of each facet in inches</i>"}, {"owner": {"reputation": 223, "user_id": 9278814, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JzFJLd3HOUk/AAAAAAAAAAI/AAAAAAAAAAc/ftD58TVgkws/photo.jpg?sz=128", "display_name": "Kyle McComb", "link": "https://stackoverflow.com/users/9278814/kyle-mccomb"}, "edited": false, "score": 0, "creation_date": 1556308346, "post_id": 55848249, "comment_id": 98408056, "body": "Well it looks good without the argument, so no worries if i can&#39;t get it working. Thank you @gio"}], "tags": [], "owner": {"reputation": 3564, "user_id": 3284713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f96b0e18df436dfccd3a204868942a0?s=128&d=identicon&r=PG&f=1", "display_name": "Gio", "link": "https://stackoverflow.com/users/3284713/gio"}, "is_accepted": true, "score": 1, "last_activity_date": 1556191774, "creation_date": 1556191774, "answer_id": 55848249, "question_id": 55838571, "link": "https://stackoverflow.com/questions/55838571/plotting-different-lines-for-different-states-on-the-same-chart/55848249#55848249", "title": "Plotting different lines for different states on the same chart", "body": "<p>Assuming that you have 50+ states, I wouldn't plot the distribution for each on the same plot as it would get really messy and hard to read. Instead, I would suggest to use a <code>FacetGrid</code> (read more about it <a href=\"https://seaborn.pydata.org/generated/seaborn.FacetGrid.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>Something like this should do.</p>\n\n<pre><code>import seaborn as sns\nimport matplotlib.pyplot as plt\ng = sns.FacetGrid(df, col=\"State\", col_wrap=5, height=1.5)\ng = g.map(plt.hist, \"num_of_reviews\")\n</code></pre>\n\n<p>You can find other possible solutions and ideas on how to visualize your data <a href=\"https://stackoverflow.com/questions/55581469/comapring-compressed-distribution-per-cohort/55592709#55592709\">here</a>.  </p>\n\n<p>If none of these work for you then it might be helpful if you explain a bit better your problem and provide a desired output and a minimal, complete, and verifiable example.</p>\n"}], "owner": {"reputation": 223, "user_id": 9278814, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JzFJLd3HOUk/AAAAAAAAAAI/AAAAAAAAAAc/ftD58TVgkws/photo.jpg?sz=128", "display_name": "Kyle McComb", "link": "https://stackoverflow.com/users/9278814/kyle-mccomb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 55848249, "answer_count": 1, "score": 0, "last_activity_date": 1556191774, "creation_date": 1556140102, "question_id": 55838571, "link": "https://stackoverflow.com/questions/55838571/plotting-different-lines-for-different-states-on-the-same-chart", "title": "Plotting different lines for different states on the same chart", "body": "<p>I am trying to create a distribution for the number of ___ across a few states.</p>\n\n<p>I want to get all of the states on the same graph, represented by different lines.</p>\n\n<p>Here is an example what my data looks like: you have the state ('which I want to filter lines by), the number of reviews (x axis), and the frequency of restaurants that have that many reviews (y axis)</p>\n\n<pre><code>State | num_of_reviews | Count_id\nalaska        1              400\nalaska        2              388\nalaska        3              344\n...\nWyoming      57              13\n</code></pre>\n\n<p>Whenever I try doing a simple line plot in seaborn or matplotlib, it just returns a messy graph.</p>\n\n<p>Does anyone know a string of code where I easily can filter df['State']?</p>\n"}, {"tags": ["python", "html", "python-3.x", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "is_accepted": false, "score": 8, "last_activity_date": 1556140780, "creation_date": 1556140780, "answer_id": 55838716, "question_id": 55838535, "link": "https://stackoverflow.com/questions/55838535/how-to-add-border-in-pandas-dataframe-to-html-table-row-header/55838716#55838716", "title": "How to add border in pandas dataframe to html table row header?", "body": "<p>Inside your (admittedly very long) line of code, you already have:</p>\n\n<pre><code>.set_table_styles([{'selector': 'th', 'props': [('font-size', '12pt')]}])\n</code></pre>\n\n<p>which you can expand by common CSS attributes, e.g.:</p>\n\n<pre><code>.set_table_styles([{'selector': 'th', 'props': [('font-size', '12pt'),('border-style','solid'),('border-width','1px')]}])\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 5610840, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UfVo_k3vjMk/AAAAAAAAAAI/AAAAAAAAAfY/0JB1cruV-pg/photo.jpg?sz=128", "display_name": "Abhinav Kumar", "link": "https://stackoverflow.com/users/5610840/abhinav-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6912, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1556140780, "creation_date": 1556139945, "question_id": 55838535, "link": "https://stackoverflow.com/questions/55838535/how-to-add-border-in-pandas-dataframe-to-html-table-row-header", "title": "How to add border in pandas dataframe to html table row header?", "body": "<p>Pandas style options let me format the data but i want to add border to the column headers, that is row 0. </p>\n\n<pre><code>htmlFooterOutdatedList = dfServerOutdated[['System Name','IP Address','Last Communication','DAT (VSE)','OS Type','Status']].style.hide_index().set_properties(**{'font-size': '10pt','background-color': '#edeeef','border-color': 'black','border-style' :'solid' ,'border-width': '1px','border-collapse':'collapse', 'padding': '5px'}).applymap(datversion,subset = 'DAT (VSE)').applymap(LTSCDate,subset = 'Last Communication').background_gradient(cmap='PuBu', low=0, high=0, axis=0, subset='DAT (VSE)', text_color_threshold=0.458).set_table_styles([{'selector': 'th', 'props': [('font-size', '12pt')]}]).set_properties(subset=['Last Communication'], **{'width': '180px'}).set_properties(subset=['System Name'], **{'width': '30px'}).set_properties(subset=['Status'], **{'width': '90px'}).render()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DByem.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DByem.png\" alt=\"Whi the rows are formatted, the column header border is missing which I want to add.\"></a></p>\n\n<p>Can I add borders to column headers ?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11380755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db885f3e9dfc7fe595b02617dd530a00?s=128&d=identicon&r=PG&f=1", "display_name": "Dylaloo", "link": "https://stackoverflow.com/users/11380755/dylaloo"}, "edited": false, "score": 0, "creation_date": 1556215253, "post_id": 55838589, "comment_id": 98371706, "body": "Hello, so that works for changing it to integer type, but when I try to plot it now it gives the error: ``` TypeError: ufunc &#39;isnan&#39; not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule &#39;&#39;safe&#39;&#39; ```"}], "tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": false, "score": 2, "last_activity_date": 1556140169, "creation_date": 1556140169, "answer_id": 55838589, "question_id": 55838529, "link": "https://stackoverflow.com/questions/55838529/is-it-possible-to-fix-valueerror-cannot-convert-float-nan-to-integer-error-wi/55838589#55838589", "title": "Is it possible to fix &#39;ValueError: cannot convert float NaN to integer&#39; error without removing the NaN values?", "body": "<p>Since pandas version 0.24.0 we have <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/integer_na.html\" rel=\"nofollow noreferrer\"><code>nullable integer</code></a> data type:</p>\n\n<pre><code>df = pd.DataFrame({'Col':[1.0, 2.0, 3.0, np.NaN]})\nprint(df)\n\n   Col\n0  1.0\n1  2.0\n2  3.0\n3  NaN \n\nprint(df.Col.astype('Int64'))\n\n0      1\n1      2\n2      3\n3    NaN\nName: Col, dtype: Int64\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11380755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db885f3e9dfc7fe595b02617dd530a00?s=128&d=identicon&r=PG&f=1", "display_name": "Dylaloo", "link": "https://stackoverflow.com/users/11380755/dylaloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556140169, "creation_date": 1556139910, "question_id": 55838529, "link": "https://stackoverflow.com/questions/55838529/is-it-possible-to-fix-valueerror-cannot-convert-float-nan-to-integer-error-wi", "title": "Is it possible to fix &#39;ValueError: cannot convert float NaN to integer&#39; error without removing the NaN values?", "body": "<p>so my problem lies in preparing a DataFrame for creating a heatmap using pandas and seaborn. My question is if there is to keep the NaN values as NaN while converting everything from an object to an integer so I can plot it doing something like sns.heatmap(df, mask = df.isnull())</p>\n\n<p>What I am doing so far is entering data into a new DataFrame that I created that looks like this (<a href=\"https://imgur.com/a/fEDcnoi\" rel=\"nofollow noreferrer\">https://imgur.com/a/fEDcnoi</a>) upon creation.</p>\n\n<p>From there I insert the values into the new DataFrame using code that looks like:</p>\n\n<pre><code>start = 16\nend = start + 10\ndates = range(start,end)\nfor d in dates:\n    str(d)\n    for i, row in jfk10day.iterrows():\n        row[f'Apr/{d}/2019'] = jfk[jfk['Pick-up Date'] == f'Apr/{d}/2019'][jfk['Supplier']==i][jfk['Car Type'] == 'Compact']['Total Price'].min()\n</code></pre>\n\n<p>Which enters the data into the dataframe as type object. This completed dataframe looks like <a href=\"https://imgur.com/3m41KtL\" rel=\"nofollow noreferrer\">https://imgur.com/3m41KtL</a>.</p>\n\n<p>Now from here I know that I need to change the datatype to int/float in order to plot it using sns.heatmap(), but when I try something like:</p>\n\n<pre><code>jfk10day = jfk10day.astype(int)\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-76-45dab2567d52&gt; in &lt;module&gt;\n----&gt; 1 jfk10day.astype(int)\n\n/anaconda3/lib/python3.7/site-packages/pandas/util/_decorators.py in wrapper(*args, **kwargs)\n    176                 else:\n    177                     kwargs[new_arg_name] = new_arg_value\n--&gt; 178             return func(*args, **kwargs)\n    179         return wrapper\n    180     return _deprecate_kwarg\n\n/anaconda3/lib/python3.7/site-packages/pandas/core/generic.py in astype(self, dtype, copy, errors, **kwargs)\n   4999             # else, only a single dtype is given\n   5000             new_data = self._data.astype(dtype=dtype, copy=copy, errors=errors,\n-&gt; 5001                                          **kwargs)\n   5002             return self._constructor(new_data).__finalize__(self)\n   5003 \n\n/anaconda3/lib/python3.7/site-packages/pandas/core/internals.py in astype(self, dtype, **kwargs)\n   3712 \n   3713     def astype(self, dtype, **kwargs):\n-&gt; 3714         return self.apply('astype', dtype=dtype, **kwargs)\n   3715 \n   3716     def convert(self, **kwargs):\n\n/anaconda3/lib/python3.7/site-packages/pandas/core/internals.py in apply(self, f, axes, filter, do_integrity_check, consolidate, **kwargs)\n   3579 \n   3580             kwargs['mgr'] = self\n-&gt; 3581             applied = getattr(b, f)(**kwargs)\n   3582             result_blocks = _extend_blocks(applied, result_blocks)\n   3583 \n\n/anaconda3/lib/python3.7/site-packages/pandas/core/internals.py in astype(self, dtype, copy, errors, values, **kwargs)\n    573     def astype(self, dtype, copy=False, errors='raise', values=None, **kwargs):\n    574         return self._astype(dtype, copy=copy, errors=errors, values=values,\n--&gt; 575                             **kwargs)\n    576 \n    577     def _astype(self, dtype, copy=False, errors='raise', values=None,\n\n/anaconda3/lib/python3.7/site-packages/pandas/core/internals.py in _astype(self, dtype, copy, errors, values, klass, mgr, **kwargs)\n    662 \n    663                 # _astype_nansafe works fine with 1-d only\n--&gt; 664                 values = astype_nansafe(values.ravel(), dtype, copy=True)\n    665                 values = values.reshape(self.shape)\n    666 \n\n/anaconda3/lib/python3.7/site-packages/pandas/core/dtypes/cast.py in astype_nansafe(arr, dtype, copy)\n    707         # work around NumPy brokenness, #1987\n    708         if np.issubdtype(dtype.type, np.integer):\n--&gt; 709             return lib.astype_intsafe(arr.ravel(), dtype).reshape(arr.shape)\n    710 \n    711         # if we have a datetime/timedelta array of objects\n\npandas/_libs/lib.pyx in pandas._libs.lib.astype_intsafe()\n\npandas/_libs/src/util.pxd in util.set_value_at_unsafe()\n\nValueError: cannot convert float NaN to integer\n</code></pre>\n\n<p>So I am wondering if there is a way to edit my for loop so that every entry is entered as an int (the original dataframe 'Total Price' is already int), or if there is a way to convert the new dataframe to type int while skipping over the NaN values. I need the NaN values in the heatmap to show that the supplier is not offering anything on that specific date. </p>\n\n<p>Thanks in advance for the help guys, and if there is any more information needed from me please let me know!</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 6155, "user_id": 6817245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc5e8c2d05056411966127e92c337fbd?s=128&d=identicon&r=PG&f=1", "display_name": "warped", "link": "https://stackoverflow.com/users/6817245/warped"}, "edited": false, "score": 0, "creation_date": 1556139910, "post_id": 55838452, "comment_id": 98341067, "body": "what does you errorDict look like?"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 3687197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a17f0eeea8623895a656d97d97dc497?s=128&d=identicon&r=PG&f=1", "display_name": "user3687197", "link": "https://stackoverflow.com/users/3687197/user3687197"}, "is_accepted": false, "score": 0, "last_activity_date": 1556139766, "creation_date": 1556139766, "answer_id": 55838507, "question_id": 55838452, "link": "https://stackoverflow.com/questions/55838452/how-to-print-dictionary-by-key-when-some-keys-have-multiple-values/55838507#55838507", "title": "How to print dictionary by key when some keys have multiple values", "body": "<pre><code>for i, n in errorDict.items():\n    if len(n) &gt; 1:\n        print (i)\n        for val in n:\n            print(val)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "is_accepted": true, "score": 0, "last_activity_date": 1556140006, "creation_date": 1556140006, "answer_id": 55838547, "question_id": 55838452, "link": "https://stackoverflow.com/questions/55838452/how-to-print-dictionary-by-key-when-some-keys-have-multiple-values/55838547#55838547", "title": "How to print dictionary by key when some keys have multiple values", "body": "<p>You can simplify/correct your code to this:</p>\n\n<pre><code>for key, values in errorDict.items():\n  if len(values) &gt; 1:\n    print(key)\n    for v in values:\n      print(v)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 8028344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8PNfoKY6EB0/AAAAAAAAAAI/AAAAAAAAAJc/J8RcUNy-1lc/photo.jpg?sz=128", "display_name": "Vijay Karthik", "link": "https://stackoverflow.com/users/8028344/vijay-karthik"}, "is_accepted": false, "score": 0, "last_activity_date": 1556141922, "last_edit_date": 1556141922, "creation_date": 1556140162, "answer_id": 55838588, "question_id": 55838452, "link": "https://stackoverflow.com/questions/55838452/how-to-print-dictionary-by-key-when-some-keys-have-multiple-values/55838588#55838588", "title": "How to print dictionary by key when some keys have multiple values", "body": "<pre><code>for item in errorDict.keys():\n    if len(errorDict.get(item)) &gt; 1:\n        print(item)\n        for item2 in dict.get(item):\n            print(item2)    \n</code></pre>\n\n<p>You need to use the <code>keys()</code> method to get the keys and then iterate over it to get the item corresponding to the key and check for your necessary condition. </p>\n"}], "owner": {"reputation": 3, "user_id": 11401548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9d20f4f779a1b3467b8f4cfe9943f7?s=128&d=identicon&r=PG&f=1", "display_name": "jkim", "link": "https://stackoverflow.com/users/11401548/jkim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 55838547, "answer_count": 3, "score": 0, "last_activity_date": 1556141922, "creation_date": 1556139497, "question_id": 55838452, "link": "https://stackoverflow.com/questions/55838452/how-to-print-dictionary-by-key-when-some-keys-have-multiple-values", "title": "How to print dictionary by key when some keys have multiple values", "body": "<p>I have a large dictionary and am only trying to print the keys that have multiple values. For each value, I would like to print on a new line.</p>\n\n<p>I tried iterating through the dictionary, but I'm not sure how to go through the individual values when you get to a certain key.</p>\n\n<pre><code>for i, n in errorDict.items():\n    if len(errorDict[i]) &gt; 1:\n        print (i)\n        n=0\n        while n &lt; len(errorDict[i]):\n            print (errorDict[i](n))\n            n += 1\n</code></pre>\n\n<p>I would like the end result to look like this.</p>\n\n<pre><code>Model1\nErrorCode1\nErrorCode2\nErrorCode3\n\nModel2\nErrorCode1\nErrorCode2\n\nModel3\nErrorCode1\nErrorCode2\nErrorCode3\nErrorCode4\nErrorCode5\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 1898, "user_id": 11286588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481401ed4b60fbd46601275743949c5b?s=128&d=identicon&r=PG&f=1", "display_name": "thePurplePython", "link": "https://stackoverflow.com/users/11286588/thepurplepython"}, "edited": false, "score": 0, "creation_date": 1556142077, "post_id": 55838449, "comment_id": 98341791, "body": "what version of python are you using?  if it is 3.7 then I believe it is not compatible with spark 2.3.x and maybe it was a typo but the local[2] means you are only using 2 cores aka slots from your local machine not launching &quot;clusters&quot; because spark is meant to be used in a distributed fashion"}, {"owner": {"reputation": 1395, "user_id": 6535324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3837dd4200fe39645f6bc53380269220?s=128&d=identicon&r=PG&f=1", "display_name": "SAFEX", "link": "https://stackoverflow.com/users/6535324/safex"}, "reply_to_user": {"reputation": 1898, "user_id": 11286588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481401ed4b60fbd46601275743949c5b?s=128&d=identicon&r=PG&f=1", "display_name": "thePurplePython", "link": "https://stackoverflow.com/users/11286588/thepurplepython"}, "edited": false, "score": 0, "creation_date": 1556175384, "post_id": 55838449, "comment_id": 98349360, "body": "@thePurplePython thanks, I also tried 2.4.2 i.e. the newest release available. same problem =/"}, {"owner": {"reputation": 1898, "user_id": 11286588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481401ed4b60fbd46601275743949c5b?s=128&d=identicon&r=PG&f=1", "display_name": "thePurplePython", "link": "https://stackoverflow.com/users/11286588/thepurplepython"}, "edited": false, "score": 0, "creation_date": 1556199758, "post_id": 55838449, "comment_id": 98363302, "body": "i think 2.4 is bugged with python 3.7 too ... but to clarify what version of python are you using / have pointed to pyspark env?"}, {"owner": {"reputation": 1395, "user_id": 6535324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3837dd4200fe39645f6bc53380269220?s=128&d=identicon&r=PG&f=1", "display_name": "SAFEX", "link": "https://stackoverflow.com/users/6535324/safex"}, "reply_to_user": {"reputation": 1898, "user_id": 11286588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481401ed4b60fbd46601275743949c5b?s=128&d=identicon&r=PG&f=1", "display_name": "thePurplePython", "link": "https://stackoverflow.com/users/11286588/thepurplepython"}, "edited": false, "score": 0, "creation_date": 1556278521, "post_id": 55838449, "comment_id": 98393369, "body": "I am using the latest anaconda python distribution. <code>import sys</code> followed by <code>print(sys.executable)</code> returns <code>C:\\Users\\malcolm\\Anaconda3\\python.exe</code>"}, {"owner": {"reputation": 1395, "user_id": 6535324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3837dd4200fe39645f6bc53380269220?s=128&d=identicon&r=PG&f=1", "display_name": "SAFEX", "link": "https://stackoverflow.com/users/6535324/safex"}, "reply_to_user": {"reputation": 1898, "user_id": 11286588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481401ed4b60fbd46601275743949c5b?s=128&d=identicon&r=PG&f=1", "display_name": "thePurplePython", "link": "https://stackoverflow.com/users/11286588/thepurplepython"}, "edited": false, "score": 0, "creation_date": 1556279134, "post_id": 55838449, "comment_id": 98393702, "body": "<code>con info</code> returns <code>conda version : 4.6.14   conda-build version : 3.17.8         python version : 3.7.3.final.0</code>"}], "owner": {"reputation": 1395, "user_id": 6535324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3837dd4200fe39645f6bc53380269220?s=128&d=identicon&r=PG&f=1", "display_name": "SAFEX", "link": "https://stackoverflow.com/users/6535324/safex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556139478, "creation_date": 1556139478, "question_id": 55838449, "link": "https://stackoverflow.com/questions/55838449/pyspark-on-local-cluster-cannot-call-any-command", "title": "pyspark on local cluster cannot call any command", "body": "<p>I followed this <a href=\"https://medium.com/@GalarnykMichael/install-spark-on-windows-pyspark-4498a5d8d66c\" rel=\"nofollow noreferrer\">tutorial</a>  to install pyspark on my windows machine such that I can practice with it. I run <code>pyspark --master local[2]</code> to start a Juypter notebook where I can run pyspark using 2 clusters on my local machine. In the Jupyter I use the code provided in the tutorial. </p>\n\n<p><strong>initialize spark in Jupyter notebook:</strong></p>\n\n<pre><code>sc = SparkContext.getOrCreate()\nsc.version\n&gt;&gt; '2.3.3' \n## I conclude from this that PySpark 2.3.3. \"works\"\n</code></pre>\n\n<p><strong>Create some sample data:</strong></p>\n\n<pre><code>import numpy as np\ndots = sc.parallelize([2.0 * np.random.random(2) - 1.0 for i in range(1000000)]).cache()\ndots.count()\n</code></pre>\n\n<p>I get the following error</p>\n\n<pre><code>---------------------------------------------------------------------------\nPy4JJavaError                             Traceback (most recent call last)\n&lt;ipython-input-4-0be12b3b7770&gt; in &lt;module&gt;\n      4 dots = sc.parallelize([2.0 * np.random.random(2) - 1.0 for i in range(TOTAL)]).cache()\n      5 \n----&gt; 6 dots.count()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1556139602, "post_id": 55838440, "comment_id": 98340933, "body": "You could do <code>result = [f() for f in [obj.append, obj.attrs]]</code> or <code>result = [getattr(obj, f)() for f in [&quot;append&quot;, &quot;attrs&quot;]]</code>"}, {"owner": {"reputation": 131, "user_id": 10448918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3CGVJyHq6g/AAAAAAAAAAI/AAAAAAAAAAs/vuqnI9fg910/photo.jpg?sz=128", "display_name": "Alekssandro Assis Barbosa", "link": "https://stackoverflow.com/users/10448918/alekssandro-assis-barbosa"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1556150481, "post_id": 55838440, "comment_id": 98343651, "body": "I&#39;ve tried it, and I updated as a result. It seems that I missed attributes, which I am not figured out yet."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 10448918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3CGVJyHq6g/AAAAAAAAAAI/AAAAAAAAAAs/vuqnI9fg910/photo.jpg?sz=128", "display_name": "Alekssandro Assis Barbosa", "link": "https://stackoverflow.com/users/10448918/alekssandro-assis-barbosa"}, "edited": false, "score": 0, "creation_date": 1556150800, "post_id": 55838501, "comment_id": 98343687, "body": "I wrote a methodcaller like these, but getattr expects strings, and not an &#39;undefined function name&#39; as I pointed. When I use those functions, the object returns Dict sometimes. &#39;Object&#39; is a parsed HTML from BeautifulSoup&#39;s call of html.parser."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 1, "last_activity_date": 1556139741, "creation_date": 1556139741, "answer_id": 55838501, "question_id": 55838440, "link": "https://stackoverflow.com/questions/55838440/apply-multiple-methods-to-a-single-object/55838501#55838501", "title": "Apply multiple methods to a single object?", "body": "<p>You want either bound methods:</p>\n\n<pre><code>result = [f() for f in [obj.append, obj.attrs]]\n</code></pre>\n\n<p>or dynamic attribute lookup via either <code>getattr</code>:</p>\n\n<pre><code>result = [getattr(obj, m)() for m in [\"append\", \"attrs\"]]\n</code></pre>\n\n<p>If you plan to do this for a lot of objects, you might want to use <code>operator.methodcaller</code>:</p>\n\n<pre><code>methods = [methodcaller(m) for m in [\"append\", \"attrs\"]]\nresults_for_obj_a = [f(obj_a) for f in methods]\nresults_for_obj_b = [f(obj_b) for f in methods]\n# etc.\n</code></pre>\n\n<p><code>methodcaller</code> is a way of abstracting the idea of calling a method away from any particular object.</p>\n\n<pre><code>methodcaller(method_name)(obj) == getattr(obj, method_name)()\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 10448918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3CGVJyHq6g/AAAAAAAAAAI/AAAAAAAAAAs/vuqnI9fg910/photo.jpg?sz=128", "display_name": "Alekssandro Assis Barbosa", "link": "https://stackoverflow.com/users/10448918/alekssandro-assis-barbosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556150352, "creation_date": 1556139431, "last_edit_date": 1556150352, "question_id": 55838440, "link": "https://stackoverflow.com/questions/55838440/apply-multiple-methods-to-a-single-object", "title": "Apply multiple methods to a single object?", "body": "<p>While saving outputs in a data structure to check posteriorly. The methods return strings (parsing or selecting HTML, they don't modify the object).</p>\n\n<p>I've found a \"hard-coded\" solution by creating a class which is not very motivating for now: <a href=\"https://stackoverflow.com/questions/5461571/call-list-of-function-using-list-comprehension\">call list of function using list comprehension</a>. </p>\n\n<p>[Maybe another Library for checking libraries would be an extreme. I tried to put a few print in Python source but it didn't obey me. It seems that another instance is running]</p>\n\n<p>I've tried this syntax (not possible):</p>\n\n<pre><code>result = [obj.f() for f in [append, attrs]] \n</code></pre>\n\n<p>because <code>append</code> and <code>attrs</code> aren't static functions by default but 'dotted' as showed above.</p>\n\n<p>The goal is just a simple check of all obj methods. </p>\n\n<p>[edits are highly recommended]</p>\n\n<p><strong>Update</strong></p>\n\n<blockquote>\n  <p>In [122]: getattr? Docstring: getattr(object, name[, default]) ->\n  value</p>\n  \n  <p>Get a named attribute from an object; getattr(x, 'y') is equivalent to\n  x.y. When a default argument is given, it is returned when the\n  attribute doesn't exist; without it, an exception is raised in that\n  case. Type:      builtin_function_or_method\n  <a href=\"https://i.stack.imgur.com/YR6N6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YR6N6.png\" alt=\"enter image description here\"></a>\n  getattr(): attribute name must be string\n  <a href=\"https://i.stack.imgur.com/LWk5Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWk5Y.png\" alt=\"enter image description here\"></a>\n  Only <code>2</code> works. It is the \"result\" to get (not hard-coding it)\n  <a href=\"https://i.stack.imgur.com/SEAML.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SEAML.png\" alt=\"enter image description here\"></a>\n  More information for 'model' as an object.</p>\n</blockquote>\n"}, {"tags": ["python", "amazon-web-services", "encryption", "aws-lambda"], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 2071008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bf2al.jpg?s=128&g=1", "display_name": "Aran Dekar", "link": "https://stackoverflow.com/users/2071008/aran-dekar"}, "edited": false, "score": 0, "creation_date": 1570407003, "post_id": 55925550, "comment_id": 102892791, "body": "is there an equivalent version of nodeJs I can use, I spent hours and no luck?"}], "tags": [], "owner": {"reputation": 19, "user_id": 7638393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c9dbfb4aeac619630bbdcb236a067c?s=128&d=identicon&r=PG&f=1", "display_name": "Chamakov", "link": "https://stackoverflow.com/users/7638393/chamakov"}, "is_accepted": true, "score": 0, "last_activity_date": 1556643197, "creation_date": 1556643197, "answer_id": 55925550, "question_id": 55838427, "link": "https://stackoverflow.com/questions/55838427/how-to-decrypt-string-from-aws-connect-in-python/55925550#55925550", "title": "How to decrypt string from AWS Connect in Python", "body": "<p>From the <a href=\"https://github.com/aws/aws-encryption-sdk-python/issues/149\" rel=\"nofollow noreferrer\">github answer</a> AWS team answer the question with the next snippet:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from aws_encryption_sdk.key_providers.raw import RawMasterKeyProvider, WrappingKey\nfrom aws_encryption_sdk.identifiers import EncryptionKeyType, WrappingAlgorithm\n\nclass AmazonConnectRawMasterKeyProvider(RawMasterKeyProvider):\n    provider_id = \"AmazonConnect\"\n\n    def _get_raw_key(self, key_id):\n        # NOTE: key_id will be your contact flow ID\n        static_key = load_my_key_from_wherever()\n        return WrappingKey(\n            wrapping_algorithm=WrappingAlgorithm.RSA_OAEP_SHA512_MGF1,\n            wrapping_key=static_key,\n            wrapping_key_type=EncryptionKeyType.PRIVATE,\n        )\n</code></pre>\n\n<p>They are using a RSA_OAEP_SHA512_MGF1 as wrapping algorithm, so I need to declare it when returning the raw key (Using a private key).</p>\n"}], "owner": {"reputation": 19, "user_id": 7638393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c9dbfb4aeac619630bbdcb236a067c?s=128&d=identicon&r=PG&f=1", "display_name": "Chamakov", "link": "https://stackoverflow.com/users/7638393/chamakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 55925550, "answer_count": 1, "score": 0, "last_activity_date": 1556643197, "creation_date": 1556139371, "question_id": 55838427, "link": "https://stackoverflow.com/questions/55838427/how-to-decrypt-string-from-aws-connect-in-python", "title": "How to decrypt string from AWS Connect in Python", "body": "<p>I'm working on a contact flow in Amazon Connect that encrypts the customer's dialed information, actually I'm not able to decrypt the result string on a Python based Lambda</p>\n\n<p>I already follow some available documentation on the AWS Developer Forum, also tried to change the certificates on my lambda and on Connect</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import base64\nimport boto3\nimport aws_encryption_sdk\nfrom aws_encryption_sdk.internal.crypto import WrappingKey\nfrom aws_encryption_sdk.key_providers.raw import RawMasterKeyProvider\nfrom aws_encryption_sdk.identifiers import WrappingAlgorithm, EncryptionKeyType\nimport logging\n\nclass StaticMasterKeyProvider(RawMasterKeyProvider):\n    provider_id = 'AmazonConnect'\n\n    def __init__(self, **kwargs):\n        self._static_keys = {}\n\n    def _get_raw_key(self, key_id):\n        try:\n           static_key = self._static_keys[key_id]\n        except KeyError:\n            # X.509 private key file\n            static_key = open('blog.connect.private.key', 'rb').read()\n            self._static_keys[key_id] = static_key\n        return WrappingKey(\n            wrapping_algorithm=WrappingAlgorithm.RSA_OAEP_SHA256_MGF1,\n            wrapping_key=static_key,\n            wrapping_key_type=EncryptionKeyType.PRIVATE\n        )\n\ndef decrypt_string(encrypted_text):\n    encrypted_text = base64.b64decode(encrypted_text)\n\n    # key id specified in amazon connect\n    static_key_id = 'KEY Provided By AWS Connect after upload the Public Key'\n    static_master_key_provider = StaticMasterKeyProvider()\n    static_master_key_provider.add_master_key(static_key_id)\n\n    plaintext, decrypted_header = aws_encryption_sdk.decrypt(\n        source=encrypted_text,\n        key_provider=static_master_key_provider\n    )\n\nlog = logging.getLogger('test')\nlogging.basicConfig(level=logging.DEBUG)\nlog.setLevel(logging.DEBUG)\nlog.root.setLevel(logging.DEBUG)\nencrypted_text = 'Encrypted Text'\nprint(decrypt_string(encrypted_text))\n</code></pre>\n\n<p>When I try to execute this code i get the next error: ValueError: Decryption failed instead the unencrypted value</p>\n\n<p>Could someone help me with this? I Already spend about 5 Hours checking the Python SDK documentation and I'm not able to decrypt the information correctly.</p>\n"}, {"tags": ["python", "pandas", "parallel-processing", "bigdata", "vectorization"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1556139951, "post_id": 55838406, "comment_id": 98341084, "body": "How much memory does your machine have?"}, {"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1556140651, "post_id": 55838406, "comment_id": 98341314, "body": "16GB. The dfr dataframe would be around 600MB though."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1556141722, "post_id": 55838406, "comment_id": 98341681, "body": "Can you provide a sample output?"}, {"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556142407, "post_id": 55838406, "comment_id": 98341885, "body": "you can run the last snippet of code to get the output."}], "answers": [{"comments": [{"owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1556142554, "post_id": 55839019, "comment_id": 98341924, "body": "see the note about assuming no duplicates. the random numbers may make duplicates. I am assuming the target input is not random..."}, {"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556142927, "post_id": 55839019, "comment_id": 98342041, "body": "In the real problem, there won&#39;t be duplicates. Anyways, I edited my code in the question to remove duplicates"}, {"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556143363, "post_id": 55839019, "comment_id": 98342167, "body": "I will spend some time to understand but it works!. Not sure how much time it will take for real data set."}, {"owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "reply_to_user": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556143594, "post_id": 55839019, "comment_id": 98342233, "body": "@Vinay That last line is just multiplying a matrix by its transpose. In this case, since the matrix is 1s and 0s, its giving a count of the number of times 2 sku_codes appear in the same ctn_id."}, {"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556145882, "post_id": 55839019, "comment_id": 98342801, "body": "Got it. But it&#39;s blowing up my memory. I will try @user3483203&#39;s answer, which he deleted now(luckily I saved it) but claims will address the memory issue."}, {"owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "reply_to_user": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556147011, "post_id": 55839019, "comment_id": 98343069, "body": "@Vinay yeah, this one will create a 2.5m X 400 matrix in your case. Their answer appears to be more memory efficient."}, {"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556202781, "post_id": 55839019, "comment_id": 98365284, "body": "your answer is the only one which is working on real data. My memory was full but it completed in 4min."}], "tags": [], "owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "is_accepted": false, "score": 2, "last_activity_date": 1556142786, "last_edit_date": 1556142786, "creation_date": 1556142425, "answer_id": 55839019, "question_id": 55838406, "link": "https://stackoverflow.com/questions/55838406/how-to-vectorize-pandas-operation-to-improve-speed/55839019#55839019", "title": "How to vectorize pandas operation to improve speed?", "body": "<p><strong>Updated to handle duplicates from random input</strong></p>\n\n<p>This answer assumes there are no duplicate rows (rows with the same ctn_id and sku_code). You can easily extend this answer for that use case though. </p>\n\n<p>Yes, you can pivot the data frame so that the ctn_ids are the rows and the sku_codes are the columns. To do this, you can add a dummy column that is all 1s, then use </p>\n\n<pre><code>dfr['Dummy'] = 1\npiv = dfr.drop_duplicates().pivot('ctn_id', 'sku_code', 'Dummy').fillna(0.0)\n</code></pre>\n\n<p>Now you have essentially a sparse matrix with a 1 wherever there is a ctn_id/sku_code relationship and a 0 otherwise. From here you can just use matrix algebra. </p>\n\n<pre><code>mat = piv.values\ncounts = mat.T.dot(mat)\n</code></pre>\n\n<p>The variable <code>counts</code> has what you are looking for (it will be symmetric and values will be the number of times the sku_codes are seen together in a ctn_id, which is what I believe you are looking for. </p>\n"}, {"comments": [{"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556143412, "post_id": 55839037, "comment_id": 98342186, "body": "Tried your solution. But getting an error <code>data argument can&#39;t be an iterator</code>"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556152611, "post_id": 55839037, "comment_id": 98343968, "body": "@vinay just wrap the maps with lists"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142528, "creation_date": 1556142528, "answer_id": 55839037, "question_id": 55838406, "link": "https://stackoverflow.com/questions/55838406/how-to-vectorize-pandas-operation-to-improve-speed/55839037#55839037", "title": "How to vectorize pandas operation to improve speed?", "body": "<p>Well, I will give it a shot.</p>\n\n<p>Not sure if this is going to be <em>fast enough</em> but I'd say it is already way faster than your chained for loops. </p>\n\n<p>It uses a <em>hacky</em> way to perform <em>\"vectorized\"</em> set difference.</p>\n\n<pre><code>s = df.groupby(['sku_code']).ctn_id.agg(set)\npd.DataFrame(map(lambda s: list(map(len,s)), np.array(s) &amp; np.array(s).reshape([-1,1])))\n\n    0   1   2   3\n0   18  17  18  16\n1   17  19  19  17\n2   18  19  20  17\n3   16  17  17  17\n</code></pre>\n\n<p>With the sample you provided, there is a ~100x performance gain.</p>\n\n<pre><code># your method\n79.4 ms \u00b1 3.3 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n# my try\n668 \u00b5s \u00b1 30.1 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556146045, "post_id": 55839432, "comment_id": 98342844, "body": "It works!. I will accept the answer which gives better performance on real data."}, {"owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "edited": false, "score": 0, "creation_date": 1556202659, "post_id": 55839432, "comment_id": 98365214, "body": "I am getting <code>MemoryError:</code> on real data."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1556203506, "last_edit_date": 1556203506, "creation_date": 1556145096, "answer_id": 55839432, "question_id": 55838406, "link": "https://stackoverflow.com/questions/55838406/how-to-vectorize-pandas-operation-to-improve-speed/55839432#55839432", "title": "How to vectorize pandas operation to improve speed?", "body": "<p>For <code>ctn_id</code> having <code>integers,</code> we can use an <strong>array-assignment</strong> based method to get all the mappings on a <code>2D</code> grid and then use matrix-multiplication to get <em>binned-summations</em>, similar to shown in <a href=\"https://stackoverflow.com/a/55839019/\"><code>@scomes's post</code></a> -</p>\n\n<pre><code>Ie = dfr.ctn_id.values\nJ = dfr.sku_code.values\n\nI = pd.factorize(Ie,sort=False)[0]\ncol2IDs,col2L = pd.factorize(J,sort=True) #use sort=False if order is irrelevant\na = np.zeros((I.max()+1,col2IDs.max()+1),dtype=int)\na[I,col2IDs] = 1\ndf_out = pd.DataFrame(a.T.dot(a), columns=col2L, index=col2L)\n</code></pre>\n\n<p><strong>Alternative #1</strong></p>\n\n<p>For a better performance, we can use <code>float</code> values for matrix-multiplication. For that, use <code>float</code> dtype to get <code>a</code>. Hence, setup <code>a</code>, like so -</p>\n\n<pre><code>a = np.zeros((I.max()+1,col2IDs.max()+1),dtype=float)\n</code></pre>\n\n<p><strong>Alternative #2</strong></p>\n\n<p>Or use a boolean array to store <code>1s</code> and then convert dtype :</p>\n\n<pre><code>a = np.zeros((I.max()+1,col2IDs.max()+1),dtype=bool)\na[I,col2IDs] = 1\na = a.astype(float)\n</code></pre>\n"}], "owner": {"reputation": 731, "user_id": 4670408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c16454540ac9d57ae95a6aab0e650?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/4670408/vinay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 55839432, "answer_count": 3, "score": 1, "last_activity_date": 1556203506, "creation_date": 1556139276, "last_edit_date": 1556142839, "question_id": 55838406, "link": "https://stackoverflow.com/questions/55838406/how-to-vectorize-pandas-operation-to-improve-speed", "title": "How to vectorize pandas operation to improve speed?", "body": "<p>This is a SKU affinity problem. I have a dataframe like this. Each ctn_id has multiple sku_codes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EJzFc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJzFc.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>dfr = pd.DataFrame(columns=['ctn_id','sku_code'])\ndfr['ctn_id'] = np.random.randint(low=1,high=21,size=200)\ndfr['sku_code'] = np.random.choice(['a','b','c','d'],size=200)\ndfr.drop_duplicates(['ctn_id','sku_code'], inplace=True)\n</code></pre>\n\n<p>I want to fill the following dataframe.</p>\n\n<p><a href=\"https://i.stack.imgur.com/c2Bpj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2Bpj.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>dfx = pd.DataFrame(columns=['sku_code','a','b','c','d'])\ndfx['sku_code'] = ['a','b','c','d']\ndfx = dfx.fillna(0)\ndfx.set_index('sku_code',inplace=True)\n</code></pre>\n\n<p>using the logic below</p>\n\n<pre><code>for idx in dfr['ctn_id'].unique():\n    x = list(dfr[dfr['ctn_id'] == idx]['sku_code'].unique())\n    for skui in dfx.index:\n        if skui in x:\n            for skuj in x:\n                dfx.loc[skui, skuj] = dfx.loc[skui, skuj] + 1\n</code></pre>\n\n<p>I have 2.5M ctn_ids and 400 sk_codes, making it a total of billion assignment operations. Is there a better way to do this using pandas or any other package?</p>\n"}, {"tags": ["python", "flask", "while-loop"], "comments": [{"owner": {"reputation": 4510, "user_id": 2644759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291980e5706c49b03f3fa3d74951d02?s=128&d=identicon&r=PG", "display_name": "Philip Tzou", "link": "https://stackoverflow.com/users/2644759/philip-tzou"}, "edited": false, "score": 0, "creation_date": 1556139700, "post_id": 55838385, "comment_id": 98340978, "body": "The global variable <code>job_timer</code> can not be shared between the subprocess and your main process. If you want to share the data between the <code>run_schedule</code> and <code>run_job</code>, consider storing the output from run_schedule in an instance of <code>multiprocess.Queue</code>. Check this answer for details: <a href=\"https://stackoverflow.com/a/11056415/2644759\">stackoverflow.com/a/11056415/2644759</a>."}, {"owner": {"reputation": 982, "user_id": 9473052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebeb6545d601766b0ed4bcc50d9d2a98?s=128&d=identicon&r=PG&f=1", "display_name": "gittert", "link": "https://stackoverflow.com/users/9473052/gittert"}, "edited": false, "score": 0, "creation_date": 1556185116, "post_id": 55838385, "comment_id": 98354520, "body": "would a cron job be possible here?"}], "owner": {"reputation": 63, "user_id": 3167002, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a504b1012936ab4f7fd1e72bb5497bdf?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/3167002/roman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556139152, "creation_date": 1556139152, "question_id": 55838385, "link": "https://stackoverflow.com/questions/55838385/i-need-loop-or-schedule-task-with-flask-in-one-script-or-create-some-communicati", "title": "I need loop or schedule task with flask in one script or create some communication between flask script and loop script", "body": "<p>I want make irrigation app on raspberry pi but i have problem with some how make communication between loop or schedule task </p>\n\n<p>i try use something like this</p>\n\n<pre><code>import schedule\nimport time\nimport datetime\nimport uuid\n\nfrom flask import Flask, request\nfrom multiprocessing import Process\n\napp = Flask(__name__)\nt = None\njob_timer = None\n\ndef run_job(id):\n    \"\"\" sample job with parameter \"\"\"\n    global job_timer\n    print(\"timer job id={}\".format(id))\n    print(\"timer: {:.4f}sec\".format(time.time() - job_timer))\n    job_timer = time.time()\n\ndef run_schedule():\n    \"\"\" infinite loop for schedule \"\"\"\n    global job_timer\n    job_timer = time.time()\n    while 1:\n        schedule.run_pending()\n        time.sleep(1)\n\n@app.route('/timer/&lt;string:status&gt;')\ndef mytimer(status, nsec=10):\n    global t, job_timer\n    if status=='on' and not t:\n        schedule.every(nsec).seconds.do(run_job, str(uuid.uuid4()))\n        t = Process(target=run_schedule)\n        t.start()\n        return \"timer on with interval:{}sec\\n\".format(nsec)\n    elif status=='off' and t:\n        if t:\n            t.terminate()\n            t = None\n            schedule.clear()\n        return \"timer off\\n\"\n    return \"timer status not changed\\n\"\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000)\n</code></pre>\n\n<p>but is it problem to control schedule task because can't get some list of active schedule and separate stop each.</p>\n\n<p>I thing best way make separate script with flask and loop but i don't know how make communication between script?</p>\n\n<p>If is possible to provide some example communication between 2 script i would like to.</p>\n"}, {"tags": ["python", "ibm-cloud", "encryption-symmetric"], "answers": [{"tags": [], "owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "is_accepted": false, "score": 0, "last_activity_date": 1556140738, "creation_date": 1556140738, "answer_id": 55838704, "question_id": 55838341, "link": "https://stackoverflow.com/questions/55838341/how-to-secure-a-configuration-file-in-ibm-cloud/55838704#55838704", "title": "How to secure a configuration file in IBM Cloud", "body": "<p>12 Factor question. Embed it in the app's deployment environment variables and read the value at runtime. </p>\n"}], "owner": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556140738, "creation_date": 1556138915, "question_id": 55838341, "link": "https://stackoverflow.com/questions/55838341/how-to-secure-a-configuration-file-in-ibm-cloud", "title": "How to secure a configuration file in IBM Cloud", "body": "<p>I have a Flask python app running on IBM cloud. The app needs some configuration parameter which it gets from a configuration file. I need to encrypt the configuration file using a symmetric key. How can I do that and where I can store my decrypt key? Ideally I don't want to hard code it into my code.</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 12, "last_activity_date": 1556140295, "creation_date": 1556140295, "answer_id": 55838620, "question_id": 55838302, "link": "https://stackoverflow.com/questions/55838302/pass-cookie-header-with-flask-test-client-request/55838620#55838620", "title": "Pass cookie header with Flask test client request", "body": "<p>The <code>Client</code> manages cookies, you should not pass them manually in <code>headers={}</code>. Due to changes in Werkzeug 0.15, passing a <code>Cookie</code> header manually, which was not intended, no longer works. Use <code>client.set_cookie</code> to set a cookie, or set the cookie in a response and it will be sent with the next request.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>c = app.test_client()\nc.set_cookie('localhost', 'abc', '123')\nc.set_cookie('localhost', 'def', '456')\nc.get('/cookie_echo')\n</code></pre>\n"}], "owner": {"reputation": 12790, "user_id": 1767106, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0065eca502a4a798607e38cefc1ca2ed?s=128&d=identicon&r=PG", "display_name": "clay", "link": "https://stackoverflow.com/users/1767106/clay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1582, "favorite_count": 2, "accepted_answer_id": 55838620, "answer_count": 1, "score": 8, "last_activity_date": 1556141279, "creation_date": 1556138715, "last_edit_date": 1556141279, "question_id": 55838302, "link": "https://stackoverflow.com/questions/55838302/pass-cookie-header-with-flask-test-client-request", "title": "Pass cookie header with Flask test client request", "body": "<p>I am having trouble getting the Flask test client to pass cookies. This code used to work and I presume something in my environment changed, which breaks this. I recently created a new Python 3.7 virtualenv and installed Flask 1.0.2.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from flask import Flask, jsonify, request\n\napp = Flask(__name__)\n\n\n@app.route('/cookie_echo')\ndef cookie_echo():\n    return jsonify(request.cookies)\n\n\nwith app.test_client() as client:\n    response = client.get(\"/cookie_echo\", headers={\"Cookie\": \"abc=123; def=456\"})\n    print(response.get_data(as_text=True))\n</code></pre>\n\n<p>Running the example prints <code>{}</code>, but I expect it to print <code>{\"abc\":\"123\",\"def\":\"456\"}</code>.</p>\n\n<p>If I run my app via <code>flask run</code>, sending headers with curl works:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ curl -H \"Cookie: abc=123; def=456\" http://localhost:5000/cookie_echo\n{\"abc\":\"123\",\"def\":\"456\"}\n</code></pre>\n"}, {"tags": ["python", "linux", "raspberry-pi"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1556139927, "post_id": 55838279, "comment_id": 98341074, "body": "between <code>wait_for_motion</code> and <code>wait_for_no_motion</code> you create only one image so you can&#39;t get more images. You would have to create different loop - probably without <code>wait_for_no_motion</code> which stops your current loop."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11383817"}, "edited": false, "score": 0, "creation_date": 1556139051, "post_id": 55838312, "comment_id": 98340722, "body": "That won&#39;t solve the problem it&#39;s still only taking one still image each time its activated, I want it to take multiple images each time its activated."}], "tags": [], "owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "is_accepted": false, "score": 0, "last_activity_date": 1556138769, "creation_date": 1556138769, "answer_id": 55838312, "question_id": 55838279, "link": "https://stackoverflow.com/questions/55838279/multiple-instances-of-images-when-pi-camera-is-triggered/55838312#55838312", "title": "Multiple instances of Images when Pi Camera is triggered", "body": "<p>The images are saved to files named with a timestamp to the nearest second. If the images are taken in the same second, the filenames will be the same and there will be only one result file. You need to make the filenames different - e.g. use the nearest millisecond.</p>\n"}, {"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1556140234, "creation_date": 1556140234, "answer_id": 55838604, "question_id": 55838279, "link": "https://stackoverflow.com/questions/55838279/multiple-instances-of-images-when-pi-camera-is-triggered/55838604#55838604", "title": "Multiple instances of Images when Pi Camera is triggered", "body": "<p>I can't test it but <code>pir.wait_for_no_motion()</code> stops your loop after first image so you can't get more images. You would have to use <code>pir.motion_detected</code> to test if you have to take picture</p>\n\n<pre><code>while True:\n  if pir.motion_detected:\n      filename = \"pircam-\" +  datetime.now().strftime(\"%Y-%m-%d_%H.%M.%S.%s.jpg\")\n      camera.capture(filename)\n      block_blob_service.create_blob_from_path(...)\n</code></pre>\n\n<p>I wrote this based on <a href=\"https://static.raspberrypi.org/files/education/posters/GPIO_Zero_Cheatsheet.pdf\" rel=\"nofollow noreferrer\">GPIO_Zero_Cheatsheet.pdf</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11383817"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556140234, "creation_date": 1556138604, "last_edit_date": 1556139958, "question_id": 55838279, "link": "https://stackoverflow.com/questions/55838279/multiple-instances-of-images-when-pi-camera-is-triggered", "title": "Multiple instances of Images when Pi Camera is triggered", "body": "<p>I have some code that when the PIR Sensor is triggered the camera takes one single images and uploads it to Azure blob storage, taking one single photo is not sufficient but I can't get the Program to take multiple images when the camera is triggered.</p>\n\n<pre><code>from gpiozero import MotionSensor\nfrom picamera import PiCamera\nfrom datetime import datetime\nfrom azure.storage.blob import BlockBlobService\nfrom azure.storage.blob import ContentSettings\n\ncamera = PiCamera()\npir = MotionSensor()\nblock_blob_service = BlockBlobService(account_name='YOURACCOUNT', account_key='YOURKEY')\n\nwhile True:\n  pir.wait_for_motion()\n  filename = \"pircam-\" +  datetime.now().strftime(\"%Y-%m-%d_%H.%M.%S.jpg\")\n  camera.capture(filename)\n  pir.wait_for_no_motion()\n  block_blob_service.create_blob_from_path(\n  'YOURCONTAINER',\n  filename,\n  filename,\n  content_settings=ContentSettings(content_type='image/jpeg'))\n</code></pre>\n\n<p>The Expected results should be the camera taking multiple still images instead of one single still image.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1556138924, "post_id": 55838245, "comment_id": 98340663, "body": "What is the logic for your first transformation from 6 row to two rows?  Why are some data in text not in text but are in value column?"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 7701165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48afa55faa163f2b8affba59d1f8b19d?s=128&d=identicon&r=PG&f=1", "display_name": "nightfury", "link": "https://stackoverflow.com/users/7701165/nightfury"}, "edited": false, "score": 0, "creation_date": 1556208611, "post_id": 55838378, "comment_id": 98368729, "body": "Wahh this is beautiful! A lot to unpack here. Going to dig in slowly. Thanks for all your help!"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 2, "last_activity_date": 1556139116, "creation_date": 1556139116, "answer_id": 55838378, "question_id": 55838245, "link": "https://stackoverflow.com/questions/55838245/pandas-consolidating-rows-based-on-unique-values-in-column-of-lists/55838378#55838378", "title": "Pandas - consolidating rows based on unique values in column of lists", "body": "<p>I am using <code>agg</code> and <code>first</code> with <code>list</code> combination for your df, then doing <a href=\"https://stackoverflow.com/questions/53218931/how-to-unnest-explode-a-column-in-a-pandas-dataframe/53218939#53218939\"><code>unnesting</code></a> , then merge </p>\n\n<pre><code>s=df.groupby('id').agg({'text':'first','value': lambda x : list(set(x.sum()))})\nunnesting(s.reset_index(),['value']).merge(df1,on='value')\nOut[307]: \n  value id           text   info\n0   abc  a  text 123 text  info3\n1   foo  a  text 123 text  info4\n2   123  a  text 123 text  info1\n3   bar  a  text 123 text  info5\n4   456  b  text xyz text  info2\n5   xyz  b  text xyz text  info6\n</code></pre>\n\n<hr>\n\n<pre><code>def unnesting(df, explode):\n    idx = df.index.repeat(df[explode[0]].str.len())\n    df1 = pd.concat([\n        pd.DataFrame({x: np.concatenate(df[x].values)}) for x in explode], axis=1)\n    df1.index = idx\n\n    return df1.join(df.drop(explode, 1), how='left')\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 7701165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48afa55faa163f2b8affba59d1f8b19d?s=128&d=identicon&r=PG&f=1", "display_name": "nightfury", "link": "https://stackoverflow.com/users/7701165/nightfury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 55838378, "answer_count": 1, "score": 0, "last_activity_date": 1556139116, "creation_date": 1556138421, "question_id": 55838245, "link": "https://stackoverflow.com/questions/55838245/pandas-consolidating-rows-based-on-unique-values-in-column-of-lists", "title": "Pandas - consolidating rows based on unique values in column of lists", "body": "<p>I want to transform a dataframe with repeated values in a column into a consolidated dataframe by collapsing the values in the 'value' column into a single list of unique values for each id. The values from the 'value' column have been extracted from the 'text' column and the text is separated out into multiple rows per id where words in one text element could also appear in another text element. So the values might appear in more than one text element and thus get recorded more than once.</p>\n\n<p>This is a subset of the starting dataframe (~2 million rows):</p>\n\n<pre><code>  id                   text            value\n0  a          text 123 text            [123]\n1  a  text abc text foo bar  [abc, foo, bar]\n2  a      text foo bar text       [foo, bar]\n3  b          text xyz text            [xyz]\n4  b                   text               []\n5  b          text 456 text            [456]\n</code></pre>\n\n<p>I would like to transform the above dataframe into the one below and would be okay with losing information from the text field.  </p>\n\n<pre><code>  id           text                 value\n0  a  text 123 text  [123, abc, foo, bar]\n1  b  text xyz text            [xyz, 456]\n</code></pre>\n\n<p>I'm looking into a process that splits the lists into rows, merges the separated out columns with the starter dataframe, and then uses <code>pd.melt</code>. This last step is taking really long but might be necessary because I have another dataframe that contains info on each value and I would like to merge these two dataframes using the 'value' column as the key. But I don't think that can be done with multiple ids in a list?</p>\n\n<pre><code>  value   info\n0   123  info1\n1   456  info2\n2   abc  info3\n3   foo  info4\n4   bar  info5\n5   xyz  info6\n</code></pre>\n\n<p>Intermediary goal:</p>\n\n<pre><code>  id           text value\n0  a  text 123 text   123\n1  b  text xyz text   xyz\n2  a  text 123 text   abc\n3  b  text xyz text   456\n4  a  text 123 text   foo\n6  a  text 123 text   bar\n</code></pre>\n\n<p>End goal:</p>\n\n<pre><code>  id           text value   info\n0  a  text 123 text   123  info1\n1  a  text 123 text   456  info2\n2  a  text 123 text   abc  info3\n3  a  text 123 text   foo  info4\n4  b  text xyz text   bar  info5\n5  b  text xyz text   xyz  info6\n</code></pre>\n"}, {"tags": ["python", "string", "list", "startswith"], "answers": [{"tags": [], "owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "is_accepted": false, "score": 0, "last_activity_date": 1556139267, "creation_date": 1556139267, "answer_id": 55838405, "question_id": 55838228, "link": "https://stackoverflow.com/questions/55838228/how-to-select-elements-of-lists-in-a-list-group-if-the-elementsstring-startsw/55838405#55838405", "title": "How to select elements of lists in a list group, if the elements(string) startswith a letter/number?", "body": "<p>Try this:</p>\n\n<pre><code>flatten = lambda l: [[item] for sublist in l for item in sublist]\nprint( flatten([ df[col][df[col].str.startswith(\"6\") ].tolist() for col in df]))\n</code></pre>\n\n<p>Here, I used a list generator that collects all matching cells in a list, while iterating over the columns; this yields <code>[['64774', '60240', '60500'], ['60271', '60502'], ['60500']]</code>. To get to your desired output, I defined a function <code>flatten</code> which (somewhat) flattens that list to <code>[['64774'], ['60240'], ['60500'], ['60271'], ['60502'], ['60500']]</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "edited": false, "score": 0, "creation_date": 1556139945, "post_id": 55838478, "comment_id": 98341081, "body": "No need to convert array to list, you could just do <code>[[a] for arr in df.to_numpy() for a in arr if a.startswith(&#39;6&#39;)]</code> (using preferred <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_numpy.html\" rel=\"nofollow noreferrer\"><code>to_numpy()</code></a> rather than <code>values</code>)."}], "tags": [], "owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "is_accepted": false, "score": 1, "last_activity_date": 1556139588, "creation_date": 1556139588, "answer_id": 55838478, "question_id": 55838228, "link": "https://stackoverflow.com/questions/55838228/how-to-select-elements-of-lists-in-a-list-group-if-the-elementsstring-startsw/55838478#55838478", "title": "How to select elements of lists in a list group, if the elements(string) startswith a letter/number?", "body": "<p>You don't need to convert your list into str(list) since it is already string type.</p>\n\n<pre><code>lst = df.values.tolist()\nlst = [[i] for l in lst for i in l if i.startswith('6') ]\nprint(lst)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[['64774'], ['60240'], ['60500'], ['60271'], ['60502'], ['60500']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11257075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0944c908f3d88a8bf457a792e1126e?s=128&d=identicon&r=PG&f=1", "display_name": "Winnie", "link": "https://stackoverflow.com/users/11257075/winnie"}, "edited": false, "score": 0, "creation_date": 1556200863, "post_id": 55838851, "comment_id": 98364045, "body": "Thanks for all the notes!!"}, {"owner": {"reputation": 305, "user_id": 11191031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9c0e7c65bca07bb7082e8083f6d493?s=128&d=identicon&r=PG&f=1", "display_name": "tfw", "link": "https://stackoverflow.com/users/11191031/tfw"}, "reply_to_user": {"reputation": 23, "user_id": 11257075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0944c908f3d88a8bf457a792e1126e?s=128&d=identicon&r=PG&f=1", "display_name": "Winnie", "link": "https://stackoverflow.com/users/11257075/winnie"}, "edited": false, "score": 0, "creation_date": 1556208827, "post_id": 55838851, "comment_id": 98368854, "body": "You&#39;re welcome. If one of the answers here solved your problem, please mark it as the answer by clicking the grey checkmark next to it."}], "tags": [], "owner": {"reputation": 305, "user_id": 11191031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9c0e7c65bca07bb7082e8083f6d493?s=128&d=identicon&r=PG&f=1", "display_name": "tfw", "link": "https://stackoverflow.com/users/11191031/tfw"}, "is_accepted": true, "score": 2, "last_activity_date": 1556141428, "creation_date": 1556141428, "answer_id": 55838851, "question_id": 55838228, "link": "https://stackoverflow.com/questions/55838228/how-to-select-elements-of-lists-in-a-list-group-if-the-elementsstring-startsw/55838851#55838851", "title": "How to select elements of lists in a list group, if the elements(string) startswith a letter/number?", "body": "<p>When you do <code>list = str(list)</code> you're converting your list to a string representation, i.e. <code>list</code> becomes</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\"[['64774', '', ''], ['60240', '95868', ''], ['60500', '95867', ''], ['19303', '60271', ''], ['38724', '60502', '95867'], ['11402', '19125', '60500']]\"\n</code></pre>\n\n<p>You then loop through the string with the list comprehension</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>[x for x in list if x.startswith('6')]\n</code></pre>\n\n<p>Which produces each individual character in the string which means you just find all occurrences of <code>6</code> in the string, hence your result of </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>['6', '6', '6', '6', '6', '6', '6', '6', '6']\n</code></pre>\n\n<p>Sidenote: Don't use variable names that shadow builtin functions, like <code>list</code>, <code>dict</code> and so on, it will almost definitely cause issues down the line.</p>\n\n<p>I'm not sure if there is any specific reason to use a dataframe/pandas for your question. If not, you could simply use a list comprehension</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>d = {\n  'c1': ['64774', '60240', '60500', '19303', '38724', '11402'], \n  'c2': ['', '95868', '95867', '60271', '60502', '19125'],\n  'c3':['','','','','95867','60500']\n}\n\nd2 = [[x] for v in d.values() for x in v if x.startswith('6')]\n# d2: [['64774'], ['60240'], ['60500'], ['60271'], ['60502'], ['60500']]\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11257075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0944c908f3d88a8bf457a792e1126e?s=128&d=identicon&r=PG&f=1", "display_name": "Winnie", "link": "https://stackoverflow.com/users/11257075/winnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 55838851, "answer_count": 3, "score": 1, "last_activity_date": 1556141428, "creation_date": 1556138349, "last_edit_date": 1556139679, "question_id": 55838228, "link": "https://stackoverflow.com/questions/55838228/how-to-select-elements-of-lists-in-a-list-group-if-the-elementsstring-startsw", "title": "How to select elements of lists in a list group, if the elements(string) startswith a letter/number?", "body": "<p>Here I want to select the elements in each list which meet the condition that they starts with '6'. However I didn't find the way to achieve it.</p>\n\n<p>The lists are converted from a dataframe:</p>\n\n<pre><code>d = {'c1': ['64774', '60240', '60500', '19303', '38724', '11402'], \n     'c2': ['', '95868', '95867', '60271', '60502', '19125'],\n     'c3':['','','','','95867','60500']} \ndf= pd.DataFrame(data=d)\ndf\n</code></pre>\n\n<pre><code>  c1     c2     c3\n64774   \n60240   95868\n60500   95867\n19303   60271\n38724   60502   95867\n11402   19125   60500\n</code></pre>\n\n<pre><code>list = df.values.tolist()\nlist = str(list)\nlist\n\n[['64774', '', ''],\n ['60240', '95868', ''],\n ['60500', '95867', ''],\n ['19303', '60271', ''],\n ['38724', '60502', '95867'],\n ['11402', '19125', '60500']]\n</code></pre>\n\n<p><strong>I tried the code like:</strong></p>\n\n<pre><code>[x for x in list if x.startswith('6')]\n</code></pre>\n\n<p>However it only returned '6' for elements meet the condition</p>\n\n<pre><code>['6', '6', '6', '6', '6', '6', '6', '6', '6']\n</code></pre>\n\n<p><strong>What I'm looking for is a group of lists like:</strong></p>\n\n<pre><code>\"[['64774'], ['60240'], ['60500'], ['60271'], ['60502'], ['60500']]\"\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "performance", "dictionary"], "comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 1, "creation_date": 1556138436, "post_id": 55838216, "comment_id": 98340480, "body": "How are you searching for a key? If you are searching a nest for a key then a flat will be significantly faster."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 2, "creation_date": 1556138468, "post_id": 55838216, "comment_id": 98340498, "body": "What dictionary operations are you doing a lot of?  Adding new keys, looking up keys, etc.  How big are your dictionaries getting? Hundreds, thousands, millions of items?"}, {"owner": {"reputation": 31, "user_id": 11407296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f08916051c637a0d342af70f7ff4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Nem", "link": "https://stackoverflow.com/users/11407296/nem"}, "edited": false, "score": 0, "creation_date": 1556138741, "post_id": 55838216, "comment_id": 98340607, "body": "I&#39;m searching keys using the following syntax: dictionary[&#39;key_1&#39;]. I&#39;ve about 70 keys in the biggest dict."}, {"owner": {"reputation": 884, "user_id": 1209155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e85768284c21d8beaa706d077bdd0d72?s=128&d=identicon&r=PG", "display_name": "Verma", "link": "https://stackoverflow.com/users/1209155/verma"}, "edited": false, "score": 0, "creation_date": 1556138993, "post_id": 55838216, "comment_id": 98340695, "body": "Note that in case of nested dictionaries you&#39;ll have to search using <code>dictionary[&#39;dictA&#39;][&#39;key1&#39;]</code> format. how will you keep track of with keys are in which parent dicts? The overhead of maintaining nested structure may not be worth it. Your data structure will be based on how you use it, in some cases it will make sense to have hierarchical dict, in some cases flattened."}, {"owner": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "edited": false, "score": 3, "creation_date": 1556139679, "post_id": 55838216, "comment_id": 98340967, "body": "70 keys is large for a human to conceptualize about, but tiny for a computer to process. If you are encountering any performance woes, it is not due to the size of that dict. In your case, nested vs flat should make no difference whatsoever."}, {"owner": {"reputation": 31, "user_id": 11407296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f08916051c637a0d342af70f7ff4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Nem", "link": "https://stackoverflow.com/users/11407296/nem"}, "edited": false, "score": 0, "creation_date": 1556139898, "post_id": 55838216, "comment_id": 98341062, "body": "Having a nested dict for me is fine, I feel more comfortable with hierarchical structure than a flattened one. My flattened dict has heterogeneous data and organize them with sub-dicts probably will helps code readability."}, {"owner": {"reputation": 31, "user_id": 11407296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f08916051c637a0d342af70f7ff4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Nem", "link": "https://stackoverflow.com/users/11407296/nem"}, "reply_to_user": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "edited": false, "score": 0, "creation_date": 1556140345, "post_id": 55838216, "comment_id": 98341227, "body": "@Tom Lubenow, the issue is not the size of the dict, are the number of the access to the keys. Beside this, I&#39;d like to understand if I&#39;ve to change my approach, and for this your answer is quite clear."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1556140720, "post_id": 55838216, "comment_id": 98341337, "body": "70 keys is not big at all. The speed of accessing items in a dictionary is not dependent on the size of the dict.  Theoretically, it should take the same amount of time to access an item in a 2 elements dictionary and a thousand element dictionary (the reality is a little more complicated, but not much.).  It&#39;s likely that the actual slowness is caused by something else."}, {"owner": {"reputation": 6783, "user_id": 3064538, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b644a108ae9ae0ec2f7402dd235d155c?s=128&d=identicon&r=PG&f=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/3064538/boris"}, "edited": false, "score": 0, "creation_date": 1556142019, "post_id": 55838216, "comment_id": 98341773, "body": "You should see this talk about how dictionaries are implemented <a href=\"https://www.youtube.com/watch?v=p33CVV29OG8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=p33CVV29OG8</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556142418, "post_id": 55838216, "comment_id": 98341889, "body": "The code in your conditional statement isn&#39;t doing searches. It does 3 dictionary look-ups which are all relatively fast. If things slow noticeably when size of the dict increases, it&#39;s like due to something else...and we&#39;ll need to see more code to really be able to make any suggestions. Consider supplying a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that that illustrates and reproduces the issue."}, {"owner": {"reputation": 31, "user_id": 11407296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f08916051c637a0d342af70f7ff4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Nem", "link": "https://stackoverflow.com/users/11407296/nem"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556143818, "post_id": 55838216, "comment_id": 98342300, "body": "@martineau. There isn&#39;t very much more to see in my code. I&#39;ve a main cycle with hundreds of assignments and IF statements (there are more py files involved). The main cycle is called for 20 to 30 thousands times. What I saw is that, increasing the dictionary to have more code maintainability and organization, the elapsed time increase more than expected."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556144925, "post_id": 55838216, "comment_id": 98342571, "body": "Hmm, in that case you might be trying to optimize the wrong part of your code. I suggest you profile it and see where it&#39;s spending most of its execution time. See [How can you profile a Python script?(<a href=\"https://stackoverflow.com/questions/582336/how-can-you-profile-a-python-script\" title=\"how can you profile a python script\">stackoverflow.com/questions/582336/&hellip;</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "is_accepted": false, "score": 2, "last_activity_date": 1556167482, "last_edit_date": 1556167482, "creation_date": 1556167128, "answer_id": 55841878, "question_id": 55838216, "link": "https://stackoverflow.com/questions/55838216/speed-performance-difference-between-flattened-dictionary-and-nested-dictionary/55841878#55841878", "title": "Speed performance difference between flattened dictionary and nested dictionary", "body": "<blockquote>\n  <p>Looking at nested dictionaries structure, seems to me that a\n  \"hierarchical\" approach may speed up the search of the keys. Am I\n  wrong?</p>\n</blockquote>\n\n<p>Yes :-)</p>\n\n<p>The flat dict space has O(1) lookup irrespective of size.  That is what makes hash tables so attractive as a data structure.</p>\n\n<p>Adding hierarchy just adds extra hashing steps and lookup steps.</p>\n\n<p>In some contexts, containers do get some cache locality benefits by being small, but in Python the containers have references to objects that are scattered all over memory, so compactness doesn't help much.</p>\n\n<p>In addition, Python is an interpreted language, so adding a extra layer of lookups also entails more opcode evaluations.  This would swamp any possible benefits for compactness. </p>\n"}], "owner": {"reputation": 31, "user_id": 11407296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f08916051c637a0d342af70f7ff4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Nem", "link": "https://stackoverflow.com/users/11407296/nem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1557109260, "creation_date": 1556138320, "last_edit_date": 1556141767, "question_id": 55838216, "link": "https://stackoverflow.com/questions/55838216/speed-performance-difference-between-flattened-dictionary-and-nested-dictionary", "title": "Speed performance difference between flattened dictionary and nested dictionary", "body": "<p>I've developed a program in python, organizing data in flattened dictionaries.\nAs the size of the dict increases, the program becomes slower due to a intensive keys search.\nLooking at nested dictionaries structure, seems to me that a \"hierarchical\" approach may speed up the search of the keys.\nAm I wrong?</p>\n\n<p>Is the nested dict:</p>\n\n<pre><code>nested_dict = { 'dictA': {'key_1': 'value_1', 'key_2': 'value_2'},\n                'dictB': {'key_3': 'value_3', 'key_4': 'value_4', 'key_5': 'value_5'},\n                ...\n                'dictZ': {'key_m': 'value_m', 'key_n': 'value_n'}}\n</code></pre>\n\n<p>faster than the flattened dict:</p>\n\n<pre><code>dictionary = {'key_1': 'value_1',\n              'key_2': 'value_2',\n              ...\n              'key_n': 'value_n'}\n</code></pre>\n\n<p>Edit: Added few code examples</p>\n\n<p>Below a piece of the code generally I use. The Program is quite big, so there isn't a specific code to be evaluated</p>\n\n<p>Assignment:</p>\n\n<pre><code>dictionary['key_1'] = dictionary2['key_a']\ndictionary['key_3'] = dictionary2['key_a']*dictionary['key_4']\n</code></pre>\n\n<p>Conditional statement:</p>\n\n<pre><code>if( (0 == dictionary['key_1']) and\n    (dictionary2['key_b'] &gt;= dictionary['key_3']) ):\n</code></pre>\n"}, {"tags": ["python", "macos", "pip", "pycharm"], "comments": [{"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "edited": false, "score": 0, "creation_date": 1556141457, "post_id": 55838202, "comment_id": 98341589, "body": "Do you use a specific distribution like Anaconda? If not, have you downloaded a version of Python?"}], "answers": [{"tags": [], "owner": {"reputation": 3429, "user_id": 11332370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6dff2145c158175c200ae87e88fbc1?s=128&d=identicon&r=PG&f=1", "display_name": "Alassane Ndiaye", "link": "https://stackoverflow.com/users/11332370/alassane-ndiaye"}, "is_accepted": true, "score": 2, "last_activity_date": 1556146376, "creation_date": 1556146376, "answer_id": 55839600, "question_id": 55838202, "link": "https://stackoverflow.com/questions/55838202/how-do-i-use-a-python-package-from-python-package-exchange-in-pycharm-mac/55839600#55839600", "title": "How do I use a Python package from Python package exchange in Pycharm Mac?", "body": "<p>You can use the Pycharm UI to handle packages as mentioned in their <a href=\"https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 39, "user_id": 8325911, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5QXePXdDv58/AAAAAAAAAAI/AAAAAAAAABI/zjNiYPIYG7k/photo.jpg?sz=128", "display_name": "Gammaslash 132", "link": "https://stackoverflow.com/users/8325911/gammaslash-132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 55839600, "answer_count": 1, "score": 1, "last_activity_date": 1556146376, "creation_date": 1556138280, "question_id": 55838202, "link": "https://stackoverflow.com/questions/55838202/how-do-i-use-a-python-package-from-python-package-exchange-in-pycharm-mac", "title": "How do I use a Python package from Python package exchange in Pycharm Mac?", "body": "<h1>Note</h1>\n\n<p>I am a beginner in Python and using Pycharm. </p>\n\n<h1>The Problem</h1>\n\n<p>I am trying to use a project from pypi.org/. I noticed it said pip install \"name of project\". I did some looking around on the internet and it seems like in order to do that in Pycharm I need to create a Pipenv environment. However, I don't understand how to set this up and how to use it. If I don't need a Pipenv environment what do I need to do instead? </p>\n\n<h1>What I've tried</h1>\n\n<p>I went to <a href=\"https://www.jetbrains.com/help/pycharm/pipenv.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/pycharm/pipenv.html</a> to try to figure out how to create the Pipenv environment but it wasn't working for me and was also confusing for me.</p>\n"}, {"tags": ["python", "lambda"], "comments": [{"owner": {"reputation": 8864, "user_id": 243925, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/94b734ac6e85d9f279ee7286f28d6145?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/243925/tony"}, "edited": false, "score": 4, "creation_date": 1556138277, "post_id": 55838180, "comment_id": 98340420, "body": "Why do you need to condense the code any further? I know people like to use the shortest code possible, but for something like this use your time to solve more meaningful problems."}, {"owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "edited": false, "score": 1, "creation_date": 1556138962, "post_id": 55838180, "comment_id": 98340681, "body": "Almost all editors have a code-collapsing feature that allows you to hide blocks of code like functions, loops, classes, etc. That may be of use to you as well!"}, {"owner": {"reputation": 4056, "user_id": 10521959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DymiN.png?s=128&g=1", "display_name": "Yaakov Bressler", "link": "https://stackoverflow.com/users/10521959/yaakov-bressler"}, "reply_to_user": {"reputation": 8864, "user_id": 243925, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/94b734ac6e85d9f279ee7286f28d6145?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/243925/tony"}, "edited": false, "score": 0, "creation_date": 1556138967, "post_id": 55838180, "comment_id": 98340685, "body": "Edited the Q to answer that @Tony"}, {"owner": {"reputation": 8864, "user_id": 243925, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/94b734ac6e85d9f279ee7286f28d6145?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/243925/tony"}, "edited": false, "score": 0, "creation_date": 1556141725, "post_id": 55838180, "comment_id": 98341684, "body": "@YaakovBressler - the additional reasons for condensing your code are still not valid reasons for this optimisation. Do you not have windows which scroll in your notebook? Or, as SyntaxVoid said, an IDE with code collapsing? And I completely disagree with your third point &quot;With condensed code, readability on the output is increased.&quot; - readability of <i>code</i> is more important! But even more so, a developer&#39;s time is <i>expensive</i>, why are you bothering with this!?"}], "answers": [{"comments": [{"owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "edited": false, "score": 1, "creation_date": 1556138808, "post_id": 55838242, "comment_id": 98340626, "body": "No need to specify <code>sep</code> here."}, {"owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "reply_to_user": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "edited": false, "score": 0, "creation_date": 1556138868, "post_id": 55838242, "comment_id": 98340646, "body": "I thought <code>sep</code> was a space by default? But you&#39;re right it has the same output either way. Interesting."}, {"owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "edited": false, "score": 2, "creation_date": 1556139148, "post_id": 55838242, "comment_id": 98340757, "body": "A few extra spaces won&#39;t affect tabular width. It&#39;s the same output even with <code>sep = &#39;    &#39;</code> (4 spaces)"}], "tags": [], "owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1556139536, "last_edit_date": 1556139536, "creation_date": 1556138414, "answer_id": 55838242, "question_id": 55838180, "link": "https://stackoverflow.com/questions/55838180/how-to-condense-a-for-loop-with-a-print-function/55838242#55838242", "title": "How to condense a for loop with a print function?", "body": "<p>Readable code > short code but if you insist</p>\n\n<p>Creates a generator, unpacks it, and prints elements </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>data = [\"1\", \"2\", \"3\"]\nprint(*[f'\\t{x}' for x in data])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "edited": false, "score": 0, "creation_date": 1556138738, "post_id": 55838265, "comment_id": 98340606, "body": "What do you need the <code>f</code> for on the first tab?"}, {"owner": {"reputation": 165, "user_id": 2145834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e8f55b0e98b6f78d16131d8bfab7d1?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2145834/david"}, "reply_to_user": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "edited": false, "score": 0, "creation_date": 1556138851, "post_id": 55838265, "comment_id": 98340639, "body": "It could be in the first or second tab it just needs to be somewhere so that the string is formatted"}, {"owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "edited": false, "score": 1, "creation_date": 1556138960, "post_id": 55838265, "comment_id": 98340678, "body": "Why not simply <code>print(&quot;\\t&quot; + &quot;\\t&quot;.join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]))</code>  ?"}, {"owner": {"reputation": 165, "user_id": 2145834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e8f55b0e98b6f78d16131d8bfab7d1?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2145834/david"}, "edited": false, "score": 0, "creation_date": 1556144215, "post_id": 55838265, "comment_id": 98342415, "body": "Without it the \\t won&#39;t read as a tab it&#39;ll just print the string &quot;\\t&quot;"}], "tags": [], "owner": {"reputation": 165, "user_id": 2145834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e8f55b0e98b6f78d16131d8bfab7d1?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2145834/david"}, "is_accepted": true, "score": 0, "last_activity_date": 1556138532, "creation_date": 1556138532, "answer_id": 55838265, "question_id": 55838180, "link": "https://stackoverflow.com/questions/55838180/how-to-condense-a-for-loop-with-a-print-function/55838265#55838265", "title": "How to condense a for loop with a print function?", "body": "<pre><code>print(f\"\\t\" + (\"\\t\").join([\"a\",\"b\",\"c\"]))\n</code></pre>\n"}], "owner": {"reputation": 4056, "user_id": 10521959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DymiN.png?s=128&g=1", "display_name": "Yaakov Bressler", "link": "https://stackoverflow.com/users/10521959/yaakov-bressler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 55838265, "answer_count": 2, "score": -1, "last_activity_date": 1556169854, "creation_date": 1556138160, "last_edit_date": 1556140424, "question_id": 55838180, "link": "https://stackoverflow.com/questions/55838180/how-to-condense-a-for-loop-with-a-print-function", "title": "How to condense a for loop with a print function?", "body": "<p>I'm printing the columns of a dataset with specific formatting. I'm not satisfied with code I currently have and was hoping someone could suggest a way of condensing this to a single line.</p>\n\n<p>Here's the code I'm trying to simplify:</p>\n\n<pre><code># What columns are in this dataset\nprint('\\nColumns are:')\nfor x in ['a','b','c']: # some list, could be df.columns\n    print(f'\\t{x}')\n</code></pre>\n\n<p><strong>Reason for condensing:</strong></p>\n\n<ol>\n<li>I'm developing in a notebook, thus have my output below my code.</li>\n<li>When the code is long (as in the case of many columns/lists), the code looks important. It's not so it's distracting.</li>\n<li>With condensed code, <strong><em>readability on the output</em></strong> is increased. </li>\n</ol>\n"}, {"tags": ["python", "directory", "subprocess", "7zip"], "comments": [{"owner": {"reputation": 336, "user_id": 6565343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81af81f95fd7958e184d657d95fc3f8?s=128&d=identicon&r=PG&f=1", "display_name": "bleand", "link": "https://stackoverflow.com/users/6565343/bleand"}, "edited": false, "score": 0, "creation_date": 1556138179, "post_id": 55838168, "comment_id": 98340379, "body": "try with <code>&#39;.&#47;device teams.txt&#39;</code> and check that <code>&quot;C:\\\\Users\\\\Desktop&quot;</code> is right. For Windows it&#39;s usually <code>&quot;C:\\\\Users\\\\&lt;username&gt;\\\\Desktop&quot;</code>"}, {"owner": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "reply_to_user": {"reputation": 336, "user_id": 6565343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81af81f95fd7958e184d657d95fc3f8?s=128&d=identicon&r=PG&f=1", "display_name": "bleand", "link": "https://stackoverflow.com/users/6565343/bleand"}, "edited": false, "score": 1, "creation_date": 1556138395, "post_id": 55838168, "comment_id": 98340459, "body": "@bleand Does not work. I edited the path for this purpose to hide any sensitive info. The path is indeed correct and has the username after users. the file is in the correct directory"}, {"owner": {"reputation": 336, "user_id": 6565343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81af81f95fd7958e184d657d95fc3f8?s=128&d=identicon&r=PG&f=1", "display_name": "bleand", "link": "https://stackoverflow.com/users/6565343/bleand"}, "edited": false, "score": 0, "creation_date": 1556138466, "post_id": 55838168, "comment_id": 98340495, "body": "I&#39;ve edited the comment, please check that"}, {"owner": {"reputation": 453, "user_id": 3471409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c6efe2fa5c6fceed5476f685f76d89?s=128&d=identicon&r=PG&f=1", "display_name": "nachiappanpl", "link": "https://stackoverflow.com/users/3471409/nachiappanpl"}, "edited": false, "score": 0, "creation_date": 1556138467, "post_id": 55838168, "comment_id": 98340496, "body": "I think the path to desktop skips username, could you pls check that?; Usual path would be C://Users//&lt;username&gt;//Desktop"}, {"owner": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "edited": false, "score": 0, "creation_date": 1556138587, "post_id": 55838168, "comment_id": 98340552, "body": "I have edited my comment stating the path is correct"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1556138858, "post_id": 55838168, "comment_id": 98340641, "body": "That filename has an embedded space, which often requires careful handling.  Does the error message refer to the full filename, or just to <code>device</code>?"}, {"owner": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1556138957, "post_id": 55838168, "comment_id": 98340677, "body": "@JohnGordon only refers to this: [&#39;./device teams.txt&#39;]). I&#39;ve also tested with files that have no spaces and it is the same error"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1556139044, "post_id": 55838168, "comment_id": 98340720, "body": "Is that a normal ASCII space in the filename?  Or is it a special unicode space character?"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1556139131, "post_id": 55838168, "comment_id": 98340747, "body": "What are the permissions on the file?  Is it publicly readable?"}, {"owner": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1556139450, "post_id": 55838168, "comment_id": 98340876, "body": "@JohnGordon Full read permissions and yes it is a normal ASCII space. I&#39;ve tested on files with normal characters and the same error appears so I don&#39;t think it has anything to do with the naming."}, {"owner": {"reputation": 336, "user_id": 6565343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81af81f95fd7958e184d657d95fc3f8?s=128&d=identicon&r=PG&f=1", "display_name": "bleand", "link": "https://stackoverflow.com/users/6565343/bleand"}, "edited": false, "score": 0, "creation_date": 1556140223, "post_id": 55838168, "comment_id": 98341180, "body": "@AfsheenTaheri can you do <code>print(os.listdir(&#39;.&#39;))</code> to check if <code>os.chdir(&quot;C:\\\\Users\\\\Desktop&quot;) </code>is working? Your file should be printed with all the other files in the directory"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "edited": false, "score": 0, "creation_date": 1556140495, "post_id": 55838627, "comment_id": 98341272, "body": "Thanks a lot! Just one problem, I need it to be password protected. Any thoughts on how to add that?"}, {"owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "reply_to_user": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "edited": false, "score": 0, "creation_date": 1556140672, "post_id": 55838627, "comment_id": 98341320, "body": "With PowerShell specifically? That&#39;s a different question altogether, which you should create a new post for. Any command-line zip utility that supports password protection would work here."}, {"owner": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "edited": false, "score": 0, "creation_date": 1556140743, "post_id": 55838627, "comment_id": 98341345, "body": "Preferablly I&#39;d like to keep it in python. I changed 7z to C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\7-Zip.  Now the error changes to access is denied. I can open 7zip manually with no problems so I&#39;m not sure why I&#39;m receiving the error"}, {"owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "reply_to_user": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "edited": false, "score": 0, "creation_date": 1556140829, "post_id": 55838627, "comment_id": 98341372, "body": "This is a completely separate issue from this post. The issue from this post is resolved. I suggest you create a new post about this."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1556143471, "post_id": 55838627, "comment_id": 98342204, "body": "I&#39;m confused -- the question clearly said <i>It gives me an error pointing to r&#39;device teams.txt&#39;</i>"}], "tags": [], "owner": {"reputation": 3942, "user_id": 3115244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY0OU.png?s=128&g=1", "display_name": "glhr", "link": "https://stackoverflow.com/users/3115244/glhr"}, "is_accepted": true, "score": 1, "last_activity_date": 1556140340, "creation_date": 1556140340, "answer_id": 55838627, "question_id": 55838168, "link": "https://stackoverflow.com/questions/55838168/python-error-cannot-find-the-file-specified/55838627#55838627", "title": "Python error: Cannot find the file specified", "body": "<p>Based on your comments, the problem isn't the <code>txt</code> file path, it's that the command <code>7z</code> cannot be found. You can check this by just calling <code>rc = subprocess.call(['7z'])</code>: the error <code>The system cannot find the file specified</code> persists.</p>\n\n<p>Here's how you can achieve the same thing using PowerShell for example:</p>\n\n<pre><code>import os\nimport subprocess\nos.chdir(\"C:\\\\Users\\\\Username\\\\Desktop\")\nrc = subprocess.call(\"powershell Compress-Archive -Path 'device teams.txt' -DestinationPath archive.zip\")\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 1151058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d46e228e38f0b0f68e5e6a9c595ef38?s=128&d=identicon&r=PG", "display_name": "Afsheen Taheri", "link": "https://stackoverflow.com/users/1151058/afsheen-taheri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 55838627, "answer_count": 1, "score": 1, "last_activity_date": 1556140340, "creation_date": 1556138105, "question_id": 55838168, "link": "https://stackoverflow.com/questions/55838168/python-error-cannot-find-the-file-specified", "title": "Python error: Cannot find the file specified", "body": "<p>This is my body of code:</p>\n\n<pre><code>os.chdir(\"C:\\\\Users\\\\Desktop\")\n\nrc = subprocess.call(['7z', 'a', 'test', '-y', 'myarchive.zip'] +\n                     [r'device teams.txt'])\n</code></pre>\n\n<p>It gives me an error pointing to r'device teams.txt' saying the specified file does not exist. </p>\n\n<p>I checked the directory and it is in the desktop directory so I am not sure why it is giving me this error</p>\n"}, {"tags": ["python", "class"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11255337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rinL.png?s=128&g=1", "display_name": "aozzya1", "link": "https://stackoverflow.com/users/11255337/aozzya1"}, "edited": false, "score": 0, "creation_date": 1556149394, "post_id": 55838177, "comment_id": 98343482, "body": "thanks so much it worked i spent hours working on it and didn&#39;t notice.                              i took a break for a few weeks then posted this                                                                  again thanks"}], "tags": [], "owner": {"reputation": 2282, "user_id": 1073696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02b2184590d81d2280d2c9802b05fe83?s=128&d=identicon&r=PG", "display_name": "brunns", "link": "https://stackoverflow.com/users/1073696/brunns"}, "is_accepted": true, "score": 1, "last_activity_date": 1556138150, "creation_date": 1556138150, "answer_id": 55838177, "question_id": 55838145, "link": "https://stackoverflow.com/questions/55838145/how-to-access-a-class-in-a-class/55838177#55838177", "title": "How to access a class in a class?", "body": "<p>Try:</p>\n\n<pre><code>PS('your sword strength is ' + player.getSwordStreangth())\n</code></pre>\n\n<p>You missed the <code>+</code>.</p>\n"}], "owner": {"reputation": 15, "user_id": 11255337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rinL.png?s=128&g=1", "display_name": "aozzya1", "link": "https://stackoverflow.com/users/11255337/aozzya1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 55838177, "answer_count": 1, "score": 0, "last_activity_date": 1556140902, "creation_date": 1556138007, "last_edit_date": 1556140902, "question_id": 55838145, "link": "https://stackoverflow.com/questions/55838145/how-to-access-a-class-in-a-class", "title": "How to access a class in a class?", "body": "<p>I'm trying to make a chose your own adventure game that has various \"monsters\" that are classes and I'm having trouble accessing the player class in the battle class.</p>\n\n<p>I have tried to make the battle class a method but that didn't work.</p>\n\n<pre><code>def PS(Input):\n    for x in Input:\n        sys.stdout.write(x)\n        sys.stdout.flush()\n        time.sleep(.05)\n        sys.stdout.write('\\n')\n        #this is just making one letter appear at a time\n\nclass Battle:\n  def __init__(self, HP, S, player):\n    #making the giant for the battle\n    giant = Giant(HP, S)\n    gh = giant.getGiantHealth()\n    #keeping the battle from stoping after one round\n    while int(gh) &gt; 0:\n      #allowing the player to chose if they want to battle\n      PS('do you fight: ')\n      F1=input()\n      if F1 == 'yes':\n        time.sleep(.5)\n        #telling the player how strong the giant is\n        PS('the monster has ' + giant.getGiantHealth() + ' health and ' + giant.getGiantStreangth() + ' strength')\n        time.sleep(.5)\n        #the code that doesn't work and is supposed to tell the player how strong there sword is\n        PS('your sword strength is ' player.getSwordStreangth())\n      else:\n        x = ('x')\n\nclass Player:\n    def __init__(self, surviveChance, health, bowPower, swordStrength, bowUnlock):\n      self.surviveChance = surviveChance\n      self.health = health\n      self.bowPower = bowPower\n      self.swordStrength = swordStrength\n      self.bowUnlock = bowUnlock\n\n    def getSurviveChance(self):\n        return str(self.surviveChance)\n\n    def setSurviveChance(self,x):\n        self.surviveChance = x\n\n    def getBowPower(self):\n      return str(self.bowPower)\n\n    def setBowPower(self, y):\n      self.BowPower = y\n\n    def getSwordStrength(self):\n      return str(self.swordStrength)\n\n    def setSwordStrength(self, z):\n      self.swordStrength = z\n\n    def getBowUnlock(self):\n      return (self.bowUnlock)\n\n    def setBowUnlock(self, a):\n      self.bowUnlock = a\nplayer = Player(50, 100, 10, 10, 'true')\n\nclass Giant:\n  def __init__(self, giantHealth, giantStreangth):\n        self.giantHealth = giantHealth\n        self.giantStreangth = giantStreangth\n\n    def getGiantHealth(self):\n        return str(self.giantHealth)\n\n    def removeGiantHealth(self, x):\n        self.giantHealth = self.giantHealth - x\n        print('giant health lowered')\n\n    def getGiantStreangth(self):\n        return str(self.giantStreangth)\n\n    def setGiantStreangth(self, y):\n        self.giantStreangth = y\n        print('giant streangth altered')\n</code></pre>\n\n<p>It's supposed to access the player that I made at the beginning\nbut it says:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>player.getSwordStreangth())\n    ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>The <code>player.getSwordStreangth</code> that fails is in the battle class.</p>\n"}, {"tags": ["python", "list", "loops"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1556138050, "post_id": 55838134, "comment_id": 98340311, "body": "And what are these empty lists supposed to do? Just creating lists can be achieved via <code>[]</code> or <code>list()</code>"}, {"owner": {"reputation": 17, "user_id": 11098801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/110e949194d8c61bc7c5ffc04c3341cd?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11098801/alex"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1556139333, "post_id": 55838134, "comment_id": 98340828, "body": "The lists would be used as groups. If there are more people than I need more groups."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1556146583, "post_id": 55838134, "comment_id": 98342963, "body": "In python, you shouldn&#39;t create variables at run time. Instead you should use an appropriate data structure. For example, you can create a list of empty lists. Or you can create a dictionary of lists if there is a natural key to assign to each list."}], "owner": {"reputation": 17, "user_id": 11098801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/110e949194d8c61bc7c5ffc04c3341cd?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11098801/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1556138119, "answer_count": 0, "score": 0, "last_activity_date": 1556146439, "creation_date": 1556137964, "last_edit_date": 1556146439, "question_id": 55838134, "link": "https://stackoverflow.com/questions/55838134/how-to-make-lists-in-a-loop", "closed_reason": "Duplicate", "title": "How to make lists in a loop?", "body": "<p>I want to make x number of empty lists. This would be determined by user input. Ex: </p>\n\n<pre><code>number = input(\"number of lists: \")\nfor i in range(number):\n    make_list()\n</code></pre>\n\n<p>I've tried using format(). So instead of make_list() I have:</p>\n\n<pre><code>    group{}.format(i) = []\n    # hoping for group1, group2, group3 ... All being empty lists\n</code></pre>\n\n<p>But it gives me a syntax error. Can someone show how this would be done?</p>\n\n<p>EDIT: The question that is suggested as a duplicate does not answer my question. I want to be able to make a number of empty lists based on the user's input. Another way to think of it is the user chooses how many lists the program makes.</p>\n"}, {"tags": ["python", "opencv", "image-processing", "object-detection"], "answers": [{"tags": [], "owner": {"reputation": 3803, "user_id": 10699171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0279e27531fe2baa3d7b5896c536c188?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.", "link": "https://stackoverflow.com/users/10699171/j-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142923, "creation_date": 1556142923, "answer_id": 55839121, "question_id": 55838127, "link": "https://stackoverflow.com/questions/55838127/how-to-store-list-of-center-points-from-last-frame-for-comparing-current-frames/55839121#55839121", "title": "How to store list of center points from last frame for comparing current frame&#39;s list of center points", "body": "<p><code>whiteCoordinates2 = whiteCoordinates</code> doesn't copy the list, it copies the reference to the list in memory. Therefor any change to either will also appear in the other.</p>\n\n<p>To make a proper copy of the list you can use <code>whiteCoordinates2 = whiteCoordinates.copy()</code></p>\n"}], "owner": {"reputation": 1, "user_id": 11407267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d3af80edb7deca21e318e671bfd1ef?s=128&d=identicon&r=PG&f=1", "display_name": "matimati", "link": "https://stackoverflow.com/users/11407267/matimati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556142923, "creation_date": 1556137937, "last_edit_date": 1556138306, "question_id": 55838127, "link": "https://stackoverflow.com/questions/55838127/how-to-store-list-of-center-points-from-last-frame-for-comparing-current-frames", "title": "How to store list of center points from last frame for comparing current frame&#39;s list of center points", "body": "<p>I need to compare previous frame's lists with current frame's lists. I'm able to store and print the current frame's lists from get_contours function. It appends center points of detected objects from video to empty lists called whiteCoordinates and otherCoordinates. </p>\n\n<p>Problem is, I don't know how to store previous frame's whiteCoordinates and otherCoordinates lists. I have tried different loops and such but always get current frame's center points for both lists. Next iteration always wipes the previous frame's lists to same as current. </p>\n\n<p>So how it could be done? How could I store previous lists to whiteCoordinates2 and otherCoordinates2 and use them to compare with current frame's lists whiteCoordinates and otherCoordinates. </p>\n\n<pre><code># returns every center point from video's objects to a list.\nwhiteCoordinates = []   #empty lists\notherCoordinates = []\ndef get_contours(hsv, target, mask):\n    cnts = cv2.findContours(mask.copy(), cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\n    cnts = imutils.grab_contours(cnts)\n\n    for contour in cnts:\n        if filter_contours(contour):\n            try:\n                M = cv2.moments(contour)\n                cX = int(M[\"m10\"] / M[\"m00\"])   #returns center points\n                cY = int(M[\"m01\"] / M[\"m00\"])\n                cv2.circle(target, (cX,cY), 5, (0, 0, 255), -1)\n                mcolor = mean_color(hsv, contour)\n                if colour_filter(mcolor):\n                    cv2.putText(target,\"White %s\" % mcolor.astype(np.int), (cX, cY), font, 0.5, fontColor, lineType=lineType)\n                    whiteCoordinates.append((cX, cY))   #appends center points to list\n                else:\n                    cv2.putText(target,\"Other %s\" % mcolor.astype(np.int), (cX, cY), font, 0.5, fontColor, lineType=lineType)\n                    otherCoordinates.append((cX, cY))   #appends center points to list\n            except:\n                pass\n\n    return target\n</code></pre>\n\n<pre><code>while True:\n    #how to store previous lists to otherCoordinates2, whiteCoordinates2\n    whiteCoordinates2, otherCoordinates2 = whiteCoordinates, otherCoordinates\n    #convert to tuples\n    firstOther = set(map(tuple, otherCoordinates))\n    secOther = set(map(tuple, otherCoordinates2))\n    firstWhite = set(map(tuple, whiteCoordinates))\n    secWhite = set(map(tuple, whiteCoordinates2))\n#check lenght of diffecences, if 0 nothing have moved  \n    other = len(firstOther.symmetric_difference(secOther))\n    white = len(firstWhite.symmetric_difference(secWhite))\n    hits = 0\n    miss = 0\n#calculates is others have moved\n    if other != 0:\n        hits += 1\n    else:\n        miss += 1\n    print(miss, hits)\n    print(firstOther, secOther)\n</code></pre>\n\n<p>Desired outcome is to compare previous and current lists for detecting if there have been movement between frames. Does this make any sense to anyone? Thank you for even reading this, special thanks if someone has any tips! </p>\n\n<p>Link for full code: <a href=\"https://github.com/kristiansyrjanen/billystat/blob/master/matias/circles/palloframe.py\" rel=\"nofollow noreferrer\">https://github.com/kristiansyrjanen/billystat/blob/master/matias/circles/palloframe.py</a></p>\n"}, {"tags": ["python", "macos", "terminal", "environment-variables"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1556138072, "post_id": 55838096, "comment_id": 98340326, "body": "That command (capitalization of <code>EXPORT</code> aside) will not create an environment variable with a value of 10. The correct form would be <code>export NUM_SAS_WORKERS=1</code> (lowercase <code>export</code>, no spaces around the <code>=</code>)."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1556138081, "post_id": 55838096, "comment_id": 98340327, "body": "How are you running the code?  Are you typing <code>python myscript.py</code> in a command prompt, or are you running a GUI, or something else?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 2, "creation_date": 1556138131, "post_id": 55838096, "comment_id": 98340357, "body": "Environment variables you set in one shell session apply only in that shell session and in processes launched from it. So you need to start your Python script from that same session, if you&#39;re not."}, {"owner": {"reputation": 967, "user_id": 3703783, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cbf5a55e88966831c475f36203581c21?s=128&d=identicon&r=PG&f=1", "display_name": "Kid_Learning_C", "link": "https://stackoverflow.com/users/3703783/kid-learning-c"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1556138458, "post_id": 55838096, "comment_id": 98340488, "body": "@chepner thanks. it was a typo in my question. I just re-editted it. I used &#39;export&#39; instead of &#39;EXPORT&#39;"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1556138545, "post_id": 55838096, "comment_id": 98340533, "body": "It <i>still</i> won&#39;t initialize <code>NUM_SAS_WORKERS</code> to 10 if you include the spaces. In fact, the variable won&#39;t even be <i>defined</i>; <code>export</code> simply marks a <i>name</i> to be added to the environment, should a variable by that name exist."}, {"owner": {"reputation": 967, "user_id": 3703783, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cbf5a55e88966831c475f36203581c21?s=128&d=identicon&r=PG&f=1", "display_name": "Kid_Learning_C", "link": "https://stackoverflow.com/users/3703783/kid-learning-c"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1556201433, "post_id": 55838096, "comment_id": 98364419, "body": "@chepner my bad. I did <code>export NUM_SAS_WORKERS=1</code> in my terminal and were able to see <code>NUM_SAS_WORKERS=1</code> in the printed list when I execute <code>printenv</code> . Sorry for all the typos in the question edit."}], "answers": [{"tags": [], "owner": {"reputation": 8941, "user_id": 179057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9b94d4c76a86a818ccf34e7519e9f90?s=128&d=identicon&r=PG", "display_name": "David Robles", "link": "https://stackoverflow.com/users/179057/david-robles"}, "is_accepted": false, "score": 3, "last_activity_date": 1556138286, "last_edit_date": 1556138286, "creation_date": 1556137919, "answer_id": 55838120, "question_id": 55838096, "link": "https://stackoverflow.com/questions/55838096/how-to-set-up-environment-variables-in-mac-terminal-and-have-python-scripts-pick/55838120#55838120", "title": "how to set up environment variables in mac terminal and have python scripts pick the variable up effectively?", "body": "<p>If you want to access the <code>NUM_SAS_WORKERS</code> environment variable in the Python shell, run this command from your terminal:</p>\n\n<pre><code>NUM_SAS_WORKERS=10 python\n</code></pre>\n\n<p>And once in the Python shell:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; int(os.environ.get('NUM_SAS_WORKERS', 1))\n10\n</code></pre>\n\n<p>If you want to access it in a file, very similar:</p>\n\n<pre><code>NUM_SAS_WORKERS=10 python yourfile.py\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 7025538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nw4Lz.jpg?s=128&g=1", "display_name": "Sudhakar Chintapalli", "link": "https://stackoverflow.com/users/7025538/sudhakar-chintapalli"}, "is_accepted": false, "score": 0, "last_activity_date": 1599858328, "last_edit_date": 1599858328, "creation_date": 1598879259, "answer_id": 63671435, "question_id": 55838096, "link": "https://stackoverflow.com/questions/55838096/how-to-set-up-environment-variables-in-mac-terminal-and-have-python-scripts-pick/63671435#63671435", "title": "how to set up environment variables in mac terminal and have python scripts pick the variable up effectively?", "body": "<p>If you set up environment variables from the terminal command it gets erased as soon as you close that terminal. To set up and keep them you have to update them in <code>.bash_profile</code> file which resides in the home directory as a hidden file. Follow the below commands to update it.</p>\n<p>Open terminal</p>\n<pre><code>cd ~  \n</code></pre>\n<p>(To take you to the home directory of the mac)</p>\n<pre><code>open -a &quot;Visual Studio Code&quot; .bash_profile \n</code></pre>\n<p>( To open <code>.bash_profile</code> file, in the place of &quot;Visual Studio Code&quot; you can use any text editor name)</p>\n<p>Now, <code>.bash_profile</code> will be opened and there you can set your environment variables and save it.</p>\n<p>Example:</p>\n<pre><code>NUM_SAS_WORKERS=10\n</code></pre>\n<p>Now run <code>echo $[NUM_SAS_WORKERS]</code> in terminal to read that</p>\n<p>After performing the above steps some times still environment variables not available to read in your python project/file. In such cases, you have to restart or log off and log in to your machine that can fix the issue.</p>\n<p>To check whether the environment variable is available to your python code run the below script in your python console. This should print all your environment variables.</p>\n<pre><code>import os \nprint(os.eviron) \n</code></pre>\n"}], "owner": {"reputation": 967, "user_id": 3703783, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cbf5a55e88966831c475f36203581c21?s=128&d=identicon&r=PG&f=1", "display_name": "Kid_Learning_C", "link": "https://stackoverflow.com/users/3703783/kid-learning-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3042, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1599858328, "creation_date": 1556137802, "last_edit_date": 1556201318, "question_id": 55838096, "link": "https://stackoverflow.com/questions/55838096/how-to-set-up-environment-variables-in-mac-terminal-and-have-python-scripts-pick", "title": "how to set up environment variables in mac terminal and have python scripts pick the variable up effectively?", "body": "<p>I'm using MacOS and working on a python project. \nIn my project there is a line: </p>\n\n<pre><code>num_workers = int(os.environ.get('NUM_SAS_WORKERS', 1))\n</code></pre>\n\n<p>I want to add <code>NUM_SAS_WORKERS</code> in my environment variables and set it to 10 so that my python project can load the value 10 into <code>num_workers</code></p>\n\n<p>I've tried executing this in my terminal:</p>\n\n<pre><code>export NUM_SAS_WORKERS=10\n</code></pre>\n\n<p>and I was able to verify that <code>NUM_SAS_WORKERS = 10</code> exists by running <code>printenv</code> in terminal</p>\n\n<p>But it doesn't work. In my python script <code>num_workers</code> is still loaded with 1</p>\n\n<p>How to do it correctly? </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "edited": false, "score": 0, "creation_date": 1556138229, "post_id": 55838081, "comment_id": 98340399, "body": "pls give us sample data and your expected result. thanks."}], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 3471409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c6efe2fa5c6fceed5476f685f76d89?s=128&d=identicon&r=PG&f=1", "display_name": "nachiappanpl", "link": "https://stackoverflow.com/users/3471409/nachiappanpl"}, "edited": false, "score": 1, "creation_date": 1556140676, "post_id": 55838258, "comment_id": 98341322, "body": "Could you please correct the typo in the last snippet from df.largest to df.nlargest"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1556200035, "last_edit_date": 1556200035, "creation_date": 1556138484, "answer_id": 55838258, "question_id": 55838081, "link": "https://stackoverflow.com/questions/55838081/divide-top-3-numbers-and-leave-the-rest-unchanged/55838258#55838258", "title": "Divide top 3 numbers and leave the rest unchanged", "body": "<p><code>pandas.DataFrame.nlargest</code> requires you to pass a list of columns that will determine \"Large-ness\"</p>\n\n<p>This should return the top three rows as determined by columns <code>['col1']</code></p>\n\n<pre><code>df.nlargest(3, columns=['col1'])\n</code></pre>\n\n<p>You can then use <code>pandas.DataFrame.update</code> all in one line</p>\n\n<pre><code>df.update(df.nlargest(3, columns=['col1']) / 2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "is_accepted": false, "score": 0, "last_activity_date": 1556138816, "creation_date": 1556138816, "answer_id": 55838321, "question_id": 55838081, "link": "https://stackoverflow.com/questions/55838081/divide-top-3-numbers-and-leave-the-rest-unchanged/55838321#55838321", "title": "Divide top 3 numbers and leave the rest unchanged", "body": "<p>I would replace the original dataframe (df) with new values from df2.</p>\n\n<pre><code>    df=pd.DataFrame([1,2,3,4,5,6,7,8,9,10, 12, 14, 18])\n    df2 = df.apply(lambda x: x.nlargest(3)/2)\n    df.loc[df.index.isin(df2.index)] = df2\n    print(df)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>       0\n0    1.0\n1    2.0\n2    3.0\n3    4.0\n4    5.0\n5    6.0\n6    7.0\n7    8.0\n8    9.0\n9   10.0\n10   6.0\n11   7.0\n12   9.0\n</code></pre>\n"}], "owner": {"reputation": 1604, "user_id": 7158458, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209106524837718/picture?type=large", "display_name": "Emm", "link": "https://stackoverflow.com/users/7158458/emm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55838258, "answer_count": 2, "score": 0, "last_activity_date": 1556200035, "creation_date": 1556137724, "question_id": 55838081, "link": "https://stackoverflow.com/questions/55838081/divide-top-3-numbers-and-leave-the-rest-unchanged", "title": "Divide top 3 numbers and leave the rest unchanged", "body": "<p>Trying to divide the top 3 numbers in my dataframe and leave the rest untouched.</p>\n\n<p>I have divided the top 3 values but want to return my dataframe along with the other values that have not been divided</p>\n\n<pre><code>df.apply(lambda x: x.nlargest(3)/2)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "http-headers", "python-requests"], "owner": {"reputation": 327, "user_id": 5388960, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/97731c21c105bd144fa050f09100522b?s=128&d=identicon&r=PG&f=1", "display_name": "GiveItAwayNow", "link": "https://stackoverflow.com/users/5388960/giveitawaynow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1556137651, "creation_date": 1556137651, "question_id": 55838067, "link": "https://stackoverflow.com/questions/55838067/scraping-of-low-fare-calendar-from-airline-site-problem-with-unusual-headers", "title": "Scraping of low fare calendar from airline site. Problem with unusual headers", "body": "<p>I'm using Python to collect prices data from southwest.com. \nTrying to collect their Low Fare Calendar prices.\nExample page: <a href=\"https://www.southwest.com/air/low-fare-calendar/select-dates.html?adultPassengersCount=1&amp;currencyCode=USD&amp;departureDate=2019-04-25&amp;destinationAirportCode=MCO&amp;originationAirportCode=MDW&amp;passengerType=ADULT&amp;returnAirportCode=&amp;returnDate=&amp;tripType=oneway\" rel=\"nofollow noreferrer\">https://www.southwest.com/air/low-fare-calendar/select-dates.html?adultPassengersCount=1&amp;currencyCode=USD&amp;departureDate=2019-04-25&amp;destinationAirportCode=MCO&amp;originationAirportCode=MDW&amp;passengerType=ADULT&amp;returnAirportCode=&amp;returnDate=&amp;tripType=oneway</a></p>\n\n<p>The needed data comes out from post request  to <a href=\"https://www.southwest.com/api/air-booking/v1/air-booking/page/air/low-fare-calendar/select-dates\" rel=\"nofollow noreferrer\">https://www.southwest.com/api/air-booking/v1/air-booking/page/air/low-fare-calendar/select-dates</a>.</p>\n\n<p>The problem is in headers which starts with x-:</p>\n\n<pre><code>x-5ku220jw-a: I_ftfpDjDyifDufjizDcDs7teKDhlBY7UN6xgaX7hf8wp7=ZfV=ZiagmgMX1lgT1Yf8tIziO2PrYhLk6DprKAQChh-kEK2=QDyutU3E-gz6wgBpYQrUf8KlMjN6c0aP_95jAIV9BYr35sb66QM06CZP3IZrgF1XwfgNR0akQIc5tIaOIYagjTf1yAyP3louw57s3iZ_m07huHuaxFJI7lU_IFSvNg91IMb8riZ_RIcUrp7rNlpUffIUfqa8aIrEPkaSxiI=wPSP3k9=c1yvM8ikxhZ6h9t1kjSgmibYJInPU8hPfp-3uezOfeKLZIiQypKSQl14WSN_BPJURUaP1qa9R87EBFb8AqSv-ia7IiB0jlzSZ5IktfFfu2asJBII5lh5ss-XagNiZflSxYf8ZPVCljvSzl36bldUMFhj18zkI07=tgkXuU0UcZ7BPpb8tI3=3jr8-I-5QpfLBKWk3iq0bpK7KIsh7C3Ke1cB7t_S32kXhi_fBYN6VpIfu0-kyi753uzv0I-Q5=UsBYNP3DskijalfqWYP2kf5ly6mDILRqLimi7=AE3=tDcsM8-06fr7zDaLcc9I72zBRfIrLqN6Ch-b8D_f7fNuM__MCgaJLDkfhOBSwk-8yI-lusLPFvrN4fejQR79fsLmxFhrRS7jeEbItf_gBPKYS93w6YNimDrfaXR4uICfPKNP6fZP6ldEpciwKqNu7qMBRm3=mDavQ2szxqr=Cf9Yti-YuEU9c3I7t5WkQDs=LlDID2zSMp-gZI-BSf-0bkfURp3Y5fiRuirrB0aFBqf=SNVjLmBY5jakHlzURuu8cTM5wXKv3gaitlD8M3-vMIcYufiDrE4_fi-RhivW51bi7hY7jkhrhfbUBFh=6IaUbXhWTiu8R0Z_T37SQqW=jMLfA5sEBqrDARzQTqU=Nfkqyia7RTLrMUUgCFJbR2TIhl80I9BSLfaijYM6M5XYrCzvjIN6mU_j3jM-sRNiufLPTjUPm8K16Ua5tfr=b3=pfBacjF46fX7uMCujTsW=j0LS4lK8yWTIKlzQMYNhjfqF8WaPcIbIOsSIyp=8cqy6fvKS5de_Bg7v_IzhtYMf7FI8bluf7kJkZ8UFfqifSiSXBlc7ukXDkFJ=LiKs5pZP_f7jBFzvy5y_rRJ6_qM6Nd7PnL46xItbRu3PMUOEjIbSwgKtsHc9MFz9RI-BepBaLqi7A5zqZFapf0N6PYSiuFtj6iZ6LTsX3pbNSWL=w2USZpbPM3a=RI77fI-DnwiUMeSEcDjm0dyfZPb8Mi6jbE1folpkyf-vNMbUcUV9WfoXu5zEMrrj-pur7jr=MprvMYfjZdp5yqapmYrP3D4lteJ8ZphgMI9Y5W2WhjahM5rPRF-RfIILB2zXrDejnFzStjScMY7RurgpMIbsHDU=CIbYjI9ifsSxFfakif-9RU7sMgrmZ9XihWzkZPA8MI-9cR7sB8bPZYfY90asf5ch0davzIB7ulqrKu-8_PZubgL-ApbujDBfZjf8QDUrRjbfhpbThpJ=3iZ6_lkI1DUPsib8NR2pSfasVDw3uvLTqFBiuFbU7WU=jlD8Blbi7hu7MFq8hj30MmDR1jN6VDyStD4Q1jSP-FpMfgr7k2IjM0f83lkzklKhtFw7qlz=nI=ISqrS1g37flKPAizmAfS4ffvrqehI5fTD3fi=sI_YjtZ6Y2eVtj7=t0SNM9KURiakypa0_ib6-sKOcONujgKQ_dejhi7=4IcPQ5chjiNj3IXIrpbIhUjcZDrBfpas74JiuFV=rjf8UUH=3DsPckzkQIkgMuavhIZrZ21ycDpOag7vNLKXhq7PfDNPQCKuilKRulhSy3ij9DDIZI99cqi9fp7OcFJiB2zfjFAenj_PBq78MMI0ZDLSQ29mmDfrzhZPNFK1t93w3i9WZgIjQDeQBUq80qavQDevID-s7iy6Aj7STFJ63FsY5qTmUPO6MiVjsXBjMPfSmaLlbjaSnp7khFBYSg46ZqrbBT78tf1vmQa5yUyPwE-UR4S4=zN6_TZ669KB4fL=6iy6ZEBSmIa5miefM27LBqNPMDzSQqfS3UAUQhip7gs=322kt2ZPm8XPmixikacSCYMMxpBPQiZitiMjIfcEsp-9Rrz833LYus7k9IakRiVfYiQ0epu7ufLi9DaX5pa0UYiLRDd8jp-9SPsaUDIUR37Sm9ccrDd8_IrPV0JIZImiuTbsagaujULPs9hIjphgjYLi7eUSBezQb2zvjU3=mkzu1Ec=TqfI1m7s3gakhDz5AkUf7I-3BXL0hzKIupak_ffY5qSNfii0t3fj9kbUBL4uwF7kUi_8AjaXhiSgEFurL5svxI3_BF7v1dzPMDfjtTNujFq8Ty37tDc=MlU5Al-N6h7E883SM2I86Cc=r0AUR3I7ug7yRF1kygdzvP1XhgejrdL8Ah7=Ki-hujfirP_7tfuU=oWYfgaYIiaIMfJkifzszkU8PPMjADgpZpc9micIWp46BFM0flQ4Rse0tirZBU-lCWLm3YifrUJshfkXjY7P10_MjkaQMU4cukM_RI-S0lIyBXK5VEKchkZZRFd8TFQXuDZ_rezP3k_ZRlJEfT4utq7XBgf7jUfYmDSy-pabrIz9cFAFRFujhQSNR2ffjjNN=j3EBFBYZq7gwj7j0fL=MII=yhw6BkLY5gs=pgq8Z4mkmtevIjJUBIzk3qM6Q9trSY7uSF7=tIrEBUa8yhIrVYakAOQXSihj5DaR4FJEfU-7sDxg_rKpW9K0rlzvthSi7ptRRULj8WIjj8qURdPIRPT8losP3sLIfhLujp-bjb16bgWYS=A8mDbItmu8kjTISpuL7fqi55ZNcqrjwgavmq=gklkXuDsjti9lZ94D9I-hf9h8Qh3kQJasYqrQaqryRp373iZu7O-khX3YufUjQezmm3L9cFJs7gasuz9YjIZ_jisYugs6cf9kNUMr-DpjNqfjAfssuFAIAIcj3qMctFc7EqLNojTIhCxufBQEfSevQXhTxIz4RgL=eM_1Bh_8tiVM1Uhl7DIIJicELfILfdSXCjB8epcrIjr6mjPFDIsRZpbrBXKS68I7hkMfu3ejsq7kjIdTsCAe9i-vhscEToKJcfII7DdrTFzQL_4Tf8yf75J83JLDjEh8Qp3YjWpsA5zkoic=QFLIjq7E7Spjh8zSZXfEfTIYhjrjtgViKdLiu8swwq7SsNZ6P2Z6ZU3Yfkq8MPbrts9kRlpjLDI5AgUky4KPmfJk2q7=UCAm3DNgEFZ66I-==sqw18pkMfsbjp1zx8BjAMZ6iipfpDyvrJcsLjNNRh1vyi_rRqjkmfS4WSSPf3uaxFyPcjfsjiui3bhXjQWUID9uM61=Ajtjt2aDxFBPMta379s=iqLN=XKSMfushq75Ppu9t0aveDN6MFr1jlbUBqaOcIQkjIchhqf9RuVftLbDcYSptj4QLXh=ti6gA9bYhhauA9KQ382=UizLRIZNf8zRgiuncgLjyFX=iuNZ38s=tFZY7Ib8_DzS-DFDBpcvmSfI7iICaI_fhDsjU2y_LF38mInRKFuf7gIjcfbbBf7gQfBS_gMHvKuLRq9sujUD6lsPzF3SwI3YLh9IjIVj1fz6NFBDiFuI1iL=3qf4jleRtIN6yIN6j83BcIpj9IchAX1uu24XSsM=QiumNsJ-RfQkyI-7jCZu75kqxlhNzKcfhHs7ffN6MM9=jia5wu7pAi-FrIbFfgfgAWaQJfrI4gLrRpZfh6Z6ZgSv3iVFBWrlJIijRg=ZcFKkyYMvyoYFu24iuU15ME3EfY7Yr8z0QF-9D5VQbpKS6pNkpfa0QDrP0hfdx9tv0sKY75z06fLPiFJ8oYf5AIbsPU77ut7zuSa7t=3gEF3=qT7=61P=yrhsBFISmM-8xXKSpD1g6dMlff-RbDz_l2aI7I_9_XKvbi-1NfxjjWsrEfTPtL7LzjMffg1ufdrkEIb69FifjPh8AiwvMWsPc0agrDbbRoU7MhLksDy6x5N_fqLPhUu731_WLdrWdpK0aqaVhpruxlI83FcYYiIBEhP8SvUPmF-_Riue4t-ijSsv3qMfMiN_StL8m2aR5qrYtIx013a=tki83iIf57-kNI3SyYj6VXqLcFhS3jbFR3LjSiTUM3_S=Exj6f4u5FQP0kPky2LyRf98y3s0mvaNBPT8j5JEfeasjjrYujakb9BYwDdeujPfwFAmefIUM=3yIF-JRYaaxp_SL21vBF74BpMjrFh1tUS=z0T8bPQgtls=NDsa4l46N5Q86qfL_FLeVEQXrIXutRz1MphpAFTURUaTJg_gQpakcIuEAF1yBqa7f8yiticYuqNjSh7NBX46EE_lbgsER9JYt=hLRYNuWEJUR0auhjilth9ERU3=SX01w2_yRI6mMi_=QEp=ADzvLhq80gLWxidptsB96p-QVlIrokg1mI3tLEKkRfy6NIFpjDev3Y7rZlk=t2z9fsZ_lU3Yupxf5Hk8sl-g6YLItIaX7jSjtUt0niU=LjBEBBb030ujMsa9Rtr=o9XS3FXwwkL=mpx0yeJkjoJ=je-0csLfgFLgCIch58IfhiuaSfUrR9hDQFhS3Io3uYLy8Nyurp-Xm8Bf1fSvfpLEcDUfRldL3gSgcZyNzIqPZpHWf9JPygaS3IUPZ4Jcfx_fjfIjtIiYtaNP35u=wRJ=hWBYfRB=jiU8hvLFUOsj9Pzp9DIDTMa98YNPVDk8eiKeJlzSDs-w32UL-iz1Q59kQDBYMf4NVXv00jsB0iBjHWKh3ix66D-5AR9zbpJeJOvgtkZ_rDz=UtJ-sgaPSCQrfg9URf-srhNi7E3gQIuCjp7Px4K9Rf7YKq7LRFBSQ3gjSDz=3pZvQlXkZkq53jKupjWYtjaOBFZuBqakbDzPfpJI7UbrBlII7PQUZ93jyhf8tq39jXqIfP46LUBYjqifAXJsMfavTpKkVFtjMU-5zEaHxK6jVI-kCFJk6XMrMoSvm5hP9Qf=jPqj3ichIar=ZI-BYUMrM0a3tFxrbi-ktuh8QYa5Rg_bRpKQB2zXlhSjyFM6hIejYR3pMFK6mqim-DUNRYLFUi377pWIuIzkQkqYJXqrBhumME-v1=ZijCcst2JERieyJiaS_iIDVqSXjrKLoFZ696Mjmg2=_ib8rptj9LejZiI8bkMRtKK3rYf=wXJ=Bl4uJFsQRpK_cgLQ6kxffqzERD_D3qLItfKSAlU=V2ITxUK1k5IwiscpJfkp7qUERIL_cFXrRq7XBkz0siuMbhkvQUJixisEajISkp-OYjL_VdLIjq=IjhffA298jnqejsPhf27o4fLQk8RsuD9QQizpMHc=3iBY7pbEcIzDxMyu=p3j9FR1rgNFWqYcOlK66XWjii9EpI9s4lkIHpaX5Fq5Bk4PmqN65R4N4KN6Ak34fpcEM9tfugzPAI3Y7jTUoYTuht7zsIcLcdxf7F3BBXJ=6kIaNp_fJq7XKUSv3DMjmgNPZEhSTiLULgav=XKvjj7jZDzOI0NutX1uuhT8-D1ge8UD70LIDFa4fgSvyF986fA67H-ORiuDCMakQXq8bqffViUjQ94PxpN6t0akQkaJBi7P9kxru3=VaUzS39tjBKeft3a0SqLPjizRh91vQpZ_Ohb8tfhPfF9=3RaSefilRzaEhYavwkrjJYacjqffIqa9rpZNBDsSQqL8LwpjcDIjQiaPTif8tqaOMkXfu8K6329IBFX8BpAUBXKVufU=tFh8Mf3jcIyP4grS6FKiZIV81UbiWyz=3l9IficLjC16MFZNR93WsfzSjf7=fkSX3rK6Zf2=QUBE7RlgVh_=tkiWjYrPZFNih2e5tiLPKXJPMWsvykfiI3SvMiSjTe_Yjlpshgs7Bib=ZlUPtUKXIF-=_6vySKFwLIuj1s4fjiN6HDf8DeXpt9J1bIoW9KIzLt_E7MJIuIr=8qaFcV-kL2zQ6FzCKhLctgbP6q98tUrSQF-1VlKXrDLMfhasCXhS9WzOR63=VFzvxg7v1UL6Vf_PLqfjZdurTFt6fDzRhlcLLrcRrkFvZ\nx-5ku220jw-b: 3k9rur\nx-5ku220jw-c: A__57lBqAQAACgDSJrJqFbzAqmJVRyggwSLzliwMgtTT0dRA3TtiKWkLmSk8AawUHfD6K-8VrJMAAOfvAAAAAA==\nx-5ku220jw-d: 0\nx-5ku220jw-uniquestatekey: A-gE71BqAQAAbcLSHXYa-TmPShEFZzL7WRKJL2s2ZrEiksXMK8pm-YimkgmLAawUHfGuclcCwH8AABszAAAAAA==\n</code></pre>\n\n<p>I don't know from where they come and how can I get them but the code doesn't work without them(or one of them). I'm sure about that because I can get response when send requests to another URLs from the site where it doesn't need to use these headers.</p>\n\n<p>So, the question is: \n1. What these headers are?\n2. What's the way(if it's possible) to get values for these headers?</p>\n\n<p>My code:</p>\n\n<pre><code>\nimport requests\n\n\ndata_url = 'https://www.southwest.com/api/air-booking/v1/air-booking/page/air/low-fare-calendar/select-dates'\npayload = {\n            \"adultPassengersCount\": \"1\",\n            \"currencyCode\": \"USD\",\n            \"departureDate\": \"2019-04-25\",\n            \"destinationAirportCode\": \"MCO\",\n            \"originationAirportCode\": \"MDW\",\n            \"passengerType\": \"ADULT\",\n            \"returnAirportCode\": \"\",\n            \"returnDate\": \"\",\n            \"tripType\": \"oneway\",\n            \"application\": \"air-low-fare-calendar\",\n            \"site\": \"southwest\"\n            }\nheaders = {\n            'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36',\n            'x-api-key': 'l7xx944d175ea25f4b9c903a583ea82a1c4c'\n            }\n\n\nr = requests.post(data_url, json=payload, headers=headers)\nprint(r.text)\n</code></pre>\n"}, {"tags": ["python", "comtypes"], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 5323284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3602250af18bb575cf72f5b29c1fb7ae?s=128&d=identicon&r=PG&f=1", "display_name": "Rex D", "link": "https://stackoverflow.com/users/5323284/rex-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1556206466, "creation_date": 1556206466, "answer_id": 55852946, "question_id": 55838052, "link": "https://stackoverflow.com/questions/55838052/com-cant-use-python-comtypes-bindings-to-thermo-fisher-msfilereader/55852946#55852946", "title": "COM: Can&#39;t use python comtypes bindings to Thermo Fisher MSFileReader", "body": "<p>Got it to work, but had to back up to installer for this version:</p>\n\n<pre><code>MSFileReader_3.0SP3_x86_x64.exe\n</code></pre>\n\n<p>from Francois Allain's github repo.\n<a href=\"https://github.com/frallain/MSFileReader-Python-bindings\" rel=\"nofollow noreferrer\">https://github.com/frallain/MSFileReader-Python-bindings</a></p>\n\n<p>So, it's apparently a problem with the installer for 3.1SP4.</p>\n\n<p>Hoping to get the most up-to-date version soon directly from Thermo...</p>\n"}], "owner": {"reputation": 381, "user_id": 5323284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3602250af18bb575cf72f5b29c1fb7ae?s=128&d=identicon&r=PG&f=1", "display_name": "Rex D", "link": "https://stackoverflow.com/users/5323284/rex-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556206466, "creation_date": 1556137585, "last_edit_date": 1556203968, "question_id": 55838052, "link": "https://stackoverflow.com/questions/55838052/com-cant-use-python-comtypes-bindings-to-thermo-fisher-msfilereader", "title": "COM: Can&#39;t use python comtypes bindings to Thermo Fisher MSFileReader", "body": "<p>I'm new to COM.  I'm trying to user this python package to read from Thermo Fisher mass spec files.</p>\n\n<p><a href=\"https://github.com/frallain/MSFileReader-Python-bindings\" rel=\"nofollow noreferrer\">https://github.com/frallain/MSFileReader-Python-bindings</a></p>\n\n<p>So I installed Thermo's MSFileReader as instructed:</p>\n\n<pre><code>C:\\Program Files\\Thermo\\MSFileReader&gt; ls\nFileio_x64.dll  MSFileReader_Reference.pdf  XRawfile2_x64.dll\n</code></pre>\n\n<p>When I try to use the package, it fails to initialize.  The line that fails is:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import comtypes.client\ncomtypes.client.CreateObject('MSFileReader.XRawfile')\n</code></pre>\n\n<p>with error</p>\n\n<pre><code>OSError: [WinError -2147221005] Invalid class string\n</code></pre>\n\n<p>I think something needs to go into the registry, but I have no idea how to proceed.  Can someone enlighten me?</p>\n\n<p>Addendum:  Python version</p>\n\n<pre><code>3.7.1 (default, Dec 10 2018, 22:54:23) [MSC v.1915 64 bit (AMD64)]```\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-3.x"], "comments": [{"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1556137762, "post_id": 55838034, "comment_id": 98340162, "body": "I&#39;m guessing you&#39;re getting lots of other errors (i.e with imports) before even looking at why the pickup function isn&#39;t referencing items at all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11319005"}, "reply_to_user": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1556137843, "post_id": 55838034, "comment_id": 98340206, "body": "imports are fine, everything else is functional except for this."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 4, "creation_date": 1556137881, "post_id": 55838034, "comment_id": 98340233, "body": "None of this code actually calls <code>pickup().</code>  Show us an actual call to <code>pickup()</code>, explain what you want it to do, and explain why the results aren&#39;t what you want."}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1556138588, "post_id": 55838034, "comment_id": 98340554, "body": "the <code>npc</code> calls <code>pickup</code> but nothing calls the <code>npc</code>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11319005"}, "edited": false, "score": 0, "creation_date": 1556145158, "post_id": 55838336, "comment_id": 98342634, "body": "Works good, what is a more efficient way of accomplishing this? I don&#39;t need a full answer, just point me in the right direction."}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1556179367, "post_id": 55838336, "comment_id": 98351359, "body": "@MaximilianPatterson - Classes"}], "tags": [], "owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "is_accepted": true, "score": 0, "last_activity_date": 1556138898, "creation_date": 1556138898, "answer_id": 55838336, "question_id": 55838034, "link": "https://stackoverflow.com/questions/55838034/passing-array-contents-into-function-not-working-correctly/55838336#55838336", "title": "Passing array contents into function not working correctly", "body": "<p>Whilst avoiding the unnecessary complexity of this code..</p>\n\n<p>Your items are within another array so <code>item[0]</code> will never equal <code>pickup/battle</code> and equally, <code>item[1]</code> will never be the item, it will be an array with an item.</p>\n\n<p>So first fix the missing brackets of your functions part of <code>test_guy</code>, and then reference the functions inner array first</p>\n\n<p><code>item[0][0]</code> and <code>item[0][1]</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11319005"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 55838336, "answer_count": 1, "score": 0, "last_activity_date": 1556145074, "creation_date": 1556137521, "last_edit_date": 1556145074, "question_id": 55838034, "link": "https://stackoverflow.com/questions/55838034/passing-array-contents-into-function-not-working-correctly", "title": "Passing array contents into function not working correctly", "body": "<p>When trying to pass an array into a function it doesn't do anything at all. My code is below</p>\n\n<p>main.py</p>\n\n<pre><code>import items\nimport npcs.py\n\ndef pickup(item):\n    global player_weight_max,player_weight,player_inv\n    #Calculates if item's weight will make player_weight go over player_weight_max\n    if player_weight + item[5] &lt;= player_weight_max:\n        player_inv.append(item)\n        player_weight = player_weight + item[5]\n    else:\n        print(\"You're not able to carry this item.\")\n\ndef npc(npc):\n    #Prints NPC speech\n    if npc[2] != None:\n        print(\"\".join(npc[1]) + \": \" + \"\".join(npc[2]))\n    else:\n        pass\n    for function in npc[3]:\n        if function[0] == 'pickup':\n            pickup(function[1])\n        if function[0] == 'battle':\n            battle(function[1])\n\n</code></pre>\n\n<p>npcs.py</p>\n\n<pre><code>import items\n\n#art,name,speech,functions\ntest_guy = [[\"art\"],[\"name\"],[\"speech\"],[\n        [['pickup'],[items.armour[0]],\n        [['pickup'],[items.armour[1]],\n    ]\n]\n</code></pre>\n\n<p>items.py</p>\n\n<pre><code>armour = [\n    [str(\"\"),str(\"Tin Helmet\"),int(1),int(20),str(\"head\"),int(2),int(0),int(2)],\n    [str(\"\"),str(\"Tin Chestplate\"),int(1),int(20),str(\"torso\"),int(0),int(1),int(2)],\n    [str(\"\"),str(\"Tin Pants\"),int(1),int(20),str(\"legs\"),int(3),int(0),int(2)],\n    [str(\"\"),str(\"Tin Boots\"),int(1),int(20),str(\"feet\"),int(2),int(0),int(2)],\n]\n</code></pre>\n\n<p>Why is pickup() not appending the information obtained from items.py</p>\n\n<p>I have already verified pickup() works when doing pickup(items.armour[0]) which should just be passing the array at that location into pickup(), why can the same not be done with the information contained in test_guy[3][0] and test_guy[3][1]?</p>\n\n<p>updated the code as follows:</p>\n\n<pre><code>def npc(npc):\n    #Prints NPC speech\n    if npc[2] != None:\n        print(\"\".join(npc[1]) + \": \" + \"\".join(npc[2]))\n    else:\n        pass\n    for function in npc[3]:\n        print(function[1][0])\n        if function[0][0] == 'pickup':\n            pickup(function[1][0])\n        if function[0][0] == 'battle':\n            battle(function[1][0])\n</code></pre>\n\n<p>upon running:</p>\n\n<pre><code>npc(npcs.test_guy)\nprint(player_inv)\n</code></pre>\n\n<p>the output is now correct:</p>\n\n<pre><code>name: speech\n['', 'Tin Helmet', 1, 20, 'head', 2, 0, 2]\n['', 'Tin Chestplate', 1, 20, 'torso', 0, 1, 2]\n[['', 'Tin Helmet', 1, 20, 'head', 2, 0, 2], ['', 'Tin Chestplate', 1, 20, 'torso', 0, 1, 2]]\n</code></pre>\n\n<p>Thank you!</p>\n\n<p>(Yes I know this is not the most efficient way to do things, I'm still learning and just trying to get things working for now)</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1556137600, "post_id": 55838007, "comment_id": 98340096, "body": "It&#39;s not clear what you mean by &quot;its not running&quot;.  Do you get an error?  Do you get unexpected output?"}], "answers": [{"tags": [], "owner": {"reputation": 455, "user_id": 3738751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IWssd.png?s=128&g=1", "display_name": "Pankaj Singh", "link": "https://stackoverflow.com/users/3738751/pankaj-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1556139462, "creation_date": 1556139462, "answer_id": 55838445, "question_id": 55838007, "link": "https://stackoverflow.com/questions/55838007/greedy-coloring-code-not-working-please-show-me-why/55838445#55838445", "title": "greedy_coloring code not working. Please show me why", "body": "<p>1st issue: you are importing functions as a package so, please create an empty <code>__init__.py</code> file inside folder functions.</p>\n\n<p>2nd issue: rename test_graphs folder to graph_library</p>\n"}], "owner": {"reputation": 1, "user_id": 9393973, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Martin", "link": "https://stackoverflow.com/users/9393973/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1556139462, "creation_date": 1556137424, "last_edit_date": 1556137832, "question_id": 55838007, "link": "https://stackoverflow.com/questions/55838007/greedy-coloring-code-not-working-please-show-me-why", "title": "greedy_coloring code not working. Please show me why", "body": "<p>My project have one file I cannot figure it out why its not running. It is greedy_coloring.py</p>\n\n<p>Code:</p>\n\n<pre><code>import networkx as nx\n\nfrom functions.global_properties import *\nfrom functions.local_properties import *\n\nG = nx.read_edgelist('test_graphs/G1.txt')\n\ndef greedy_proper_coloring(G):\n    colored_verticies = {v: None for v in V(G)}\n    colored_verticies[V(G)[0]] = 1\n    for v in V(G):\n        if colored_verticies[v] == None:\n            N = neigbors(G, v)\n            avoid_colors = [colored_verticies[w] for w in N]\n            i = 1\n            while colored_verticies[v] == None:\n                if i not in avoid_colors:\n                    colored_verticies[v] = i\n                else:\n                    i += 1\n    return colored_verticies\n\nprint(greedy_proper_coloring(G))\n</code></pre>\n\n<p>This is the <a href=\"https://github.com/garciachavezj/nxGraphAlgorithms\" rel=\"nofollow noreferrer\">link to my project</a></p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556138464, "post_id": 55838174, "comment_id": 98340492, "body": "what is I don&#39;t have classes and I just import a bunch of scripts? (only has <code>def</code>s)"}, {"owner": {"reputation": 83, "user_id": 9329341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DZsc6f9rozg/AAAAAAAAAAI/AAAAAAAAAb4/C8iXuNTIEM4/photo.jpg?sz=128", "display_name": "Heavenly Raven", "link": "https://stackoverflow.com/users/9329341/heavenly-raven"}, "edited": false, "score": 0, "creation_date": 1556138612, "post_id": 55838174, "comment_id": 98340566, "body": "Doesn&#39;t matter. A package is just a bunch of modules, which are actually any .py files."}, {"owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "edited": false, "score": 0, "creation_date": 1556138671, "post_id": 55838174, "comment_id": 98340580, "body": "When you say <code>Create a directory and give it your package&#39;s name. Put your classes in it</code> does that mean just put all other scripts in that folder? Or will directories be also fine?"}, {"owner": {"reputation": 815, "user_id": 3806464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a5a9cde04aba20047a9f508a530c28?s=128&d=identicon&r=PG&f=1", "display_name": "krflol", "link": "https://stackoverflow.com/users/3806464/krflol"}, "edited": false, "score": 0, "creation_date": 1556207073, "post_id": 55838174, "comment_id": 98367917, "body": "Updated with more instruction"}], "tags": [], "owner": {"reputation": 815, "user_id": 3806464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a5a9cde04aba20047a9f508a530c28?s=128&d=identicon&r=PG&f=1", "display_name": "krflol", "link": "https://stackoverflow.com/users/3806464/krflol"}, "is_accepted": false, "score": 0, "last_activity_date": 1556207062, "last_edit_date": 1556207062, "creation_date": 1556138138, "answer_id": 55838174, "question_id": 55838004, "link": "https://stackoverflow.com/questions/55838004/getting-python-import-error-although-the-path-is-correct/55838174#55838174", "title": "Getting Python import error although the path is correct", "body": "<p>It sounds like what you're looking for is a Python Package.</p>\n\n<p><a href=\"https://www.pythoncentral.io/how-to-create-a-python-package/\" rel=\"nofollow noreferrer\">https://www.pythoncentral.io/how-to-create-a-python-package/</a></p>\n\n<blockquote>\n  <p>Working with Python packages is really simple. All you need to do is:</p>\n  \n  <p>Create a directory and give it your package's name. Put your classes\n  in it. Create a <strong>init</strong>.py file in the directory That's all! In order\n  to create a Python package, it is very easy. The <strong>init</strong>.py file is\n  necessary because with this file, Python will know that this directory\n  is a Python package directory other than an ordinary directory (or\n  folder \u2013 whatever you want to call it). Anyway, it is in this file\n  where we'll write some import statements to import classes from our\n  brand new package.</p>\n</blockquote>\n\n<p>What I do is put my packages in </p>\n\n<blockquote>\n  <p>PYTHON_PATH\\Lib\\site-packages\\MYPACKAGE</p>\n</blockquote>\n\n<p>then in the <code>__init__.py</code></p>\n\n<pre><code>from .function_scripts import *\n</code></pre>\n"}], "owner": {"reputation": 5029, "user_id": 8836582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f737b956bfd27d77d622fb17290f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn17", "link": "https://stackoverflow.com/users/8836582/dawn17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556207062, "creation_date": 1556137394, "question_id": 55838004, "link": "https://stackoverflow.com/questions/55838004/getting-python-import-error-although-the-path-is-correct", "title": "Getting Python import error although the path is correct", "body": "<p><strong>detector_main.py</strong></p>\n\n<pre><code>import ast\nimport os\nimport fpdf\n\nfrom Detector.class_coupling_detector import detect_class_cohesion\nfrom Detector.cyclomatic_complexity_detector import detect_cyclomatic_complexity\nfrom Detector.long_lambda_detector import detect_long_lambda\nfrom Detector.long_list_comp_detector import detect_long_list_comp\nfrom Detector.pylint_output_detector import detect_pylint_output\nfrom Detector.shotgun_surgery_detector import detect_shotgun_surgery\nfrom Detector.useless_exception_detector import detect_useless_exception\nfrom tools.viz_generator import add_viz\n\nimport sys\n\ndef main(directory):\n    # Get stats for files in directory\n    stats_dict = get_stats(directory)\n    ...\n</code></pre>\n\n<p>I have a bunch of imports in this file. When I run this file, (the parameter is a string path to the directory), I get the following error</p>\n\n<pre><code>  File \"C:\\Users\\user\\Anaconda3\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 110, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n\n  File \"C:/Users/user/Desktop/project/src/detector_main.py\", line 12\n    from ../tools.viz_generator import add_viz\n</code></pre>\n\n<p>and my project structure looks like below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UQ9we.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UQ9we.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/K7qNO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K7qNO.png\" alt=\"enter image description here\"></a></p>\n\n<p>I feel like these inputs are not consistent and could be more organized. I just wrote a bunch of scripts and important that way but I feel like there is a way to make this into a more consistent package where users can run it anywhere with import issues.</p>\n\n<p>Any help?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 0, "creation_date": 1556138057, "post_id": 55838002, "comment_id": 98340317, "body": "You want to bind a text bracket in the text widget or the bracket key to the text widget?"}, {"owner": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "reply_to_user": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 0, "creation_date": 1556138220, "post_id": 55838002, "comment_id": 98340392, "body": "I want to bind the bracket key to the text widget. So that when I press the [, I want my command to be activated."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1556144346, "post_id": 55838002, "comment_id": 98342440, "body": "Please show what you&#39;ve tried by creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1556199602, "post_id": 55838002, "comment_id": 98363198, "body": "Do you have a keyboard configured for a language other than english? Without your binding, when you press <code>[</code> in a text widget, does it insert <code>[</code>?"}, {"owner": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556289401, "post_id": 55838002, "comment_id": 98399683, "body": "I do have my keyboard in another language yes, Swedish, however, when I press then [ button, I do get the symbol in the text widget. I am able to bind to pretty much every character except the square brackets."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556139374, "post_id": 55838298, "comment_id": 98340841, "body": "Thank you for quick response, but that actually doesn&#39;t work for me. Neither with root.bind nor text.bind. The ( symbol works fine but not the square brackets."}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "reply_to_user": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556139461, "post_id": 55838298, "comment_id": 98340880, "body": "Can you please share some code so we can see exactly where is the problem. You can edit your post and add more to it."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556144434, "post_id": 55838298, "comment_id": 98342466, "body": "@VictorKrook: just to be clear, are you saying that <i>this exact code</i> doesn&#39;t work for you?"}, {"owner": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556186269, "post_id": 55838298, "comment_id": 98355236, "body": "Yes, I&#39;ve literally copied the exact code from above and tried it. All other combinations work, except the [, it&#39;s very weird."}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "reply_to_user": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556188674, "post_id": 55838298, "comment_id": 98356657, "body": "@VictorKrook in order it to work you have to have your text widget in focus as text widget loses it focus when clicked somewhere else , try type &quot;[&quot; in the text widget and see your console. Do you see anything like <i>You pressed &quot;[&quot;</i> ?"}, {"owner": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556289450, "post_id": 55838298, "comment_id": 98399710, "body": "The text widget has focus when I press &quot;[&quot; and it&#39;s inserted in the text widget."}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 0, "creation_date": 1556290383, "post_id": 55838298, "comment_id": 98400237, "body": "I just ran the exact code and it is working fine. I really don&#39;t understand why it&#39;s not working for you."}, {"owner": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556368864, "post_id": 55838298, "comment_id": 98419973, "body": "Okay, I don&#39;t know neither, it&#39;s very weird, still not working."}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "reply_to_user": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "edited": false, "score": 0, "creation_date": 1556369092, "post_id": 55838298, "comment_id": 98420035, "body": "@VictorKrook Now I&#39;m very curious to know how this is not working for you. Please <a href=\"https://stackoverflow.com/posts/55838002/edit\">edit</a> your post and add more details like the exact code you are trying and a screenshot of something relevant."}], "tags": [], "owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "is_accepted": false, "score": 1, "last_activity_date": 1556144327, "last_edit_date": 1556144327, "creation_date": 1556138708, "answer_id": 55838298, "question_id": 55838002, "link": "https://stackoverflow.com/questions/55838002/binding-square-bracket-with-tkinter/55838298#55838298", "title": "Binding Square bracket [ with tkinter", "body": "<p>That is very simple just use <code>text.bind('[', lambda evt: func)</code>. <a href=\"https://effbot.org/tkinterbook/tkinter-events-and-bindings.htm\" rel=\"nofollow noreferrer\">See this site for more details</a></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>from tkinter import *\n\nroot = Tk()\n\ntext = Text(root)\ntext.pack()\n\ndef complete_it(evt=None):\n    print('You pressed \"[\" ')\n\ntext.bind('[', complete_it)\n\nmainloop()\n</code></pre>\n\n<p>This bind will work only when the text widget is in focus. If you want the bind to work always use <code>root.bind()</code> instead.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1, "user_id": 11132728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzM9j_qSqYM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redVT78wLUEsV6ptF_54-rjllXcSg/mo/photo.jpg?sz=128", "display_name": "Victor Krook", "link": "https://stackoverflow.com/users/11132728/victor-krook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556186903, "creation_date": 1556137391, "last_edit_date": 1556186903, "question_id": 55838002, "link": "https://stackoverflow.com/questions/55838002/binding-square-bracket-with-tkinter", "title": "Binding Square bracket [ with tkinter", "body": "<p>I'm trying to bind the left square bracket [, to my tkinter text widget.\nI've looked through the docs and forums several times and tried all combinations I could think of. Control-Alt-Key-8, Key-bracketleft, Key-topleftsqbracket, etc.\nDoes anyone know?</p>\n\n<p>I've tried the following:\nI've also tried binding it with the root.</p>\n\n<pre><code>root = Tk()\n\ntext = Text(root)\n\ntext.pack()\n\ndef complete_it(evt=None):\n    print('You pressed \"[\" ')\n\ntext.bind('[', complete_it)\ntext.bind(\"[\", complete_it)\ntext.bind('&lt;[&gt;', complete_it)\ntext.bind(\"&lt;[&gt;\", complete_it)\ntext.bind(\"&lt;Control-Alt-8&gt;\", complete_it)\ntext.bind(\"&lt;Control-Alt-Key-8&gt;\", complete_it)\ntext.bind(\"&lt;bracketleft&gt;\", complete_it)\ntext.bind('&lt;Control-Alt-8&gt;', complete_it)\ntext.bind('&lt;Control-Alt-Key-8&gt;', complete_it)\ntext.bind(\"&lt;Key-[&gt;\", complete_it)\ntext.bind(\"&lt;topleftsqbracket&gt;\", complete_it)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "windows", "security", "content-security-policy"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556141024, "post_id": 55837999, "comment_id": 98341443, "body": "stackoverflow doesn&#39;t have pages &quot;dedicated&quot; to specific applications or libraries."}, {"owner": {"reputation": 441, "user_id": 3279899, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/cb89733ee4f3dda4f13415380f54ccec?s=128&d=identicon&r=PG&f=1", "display_name": "user3279899", "link": "https://stackoverflow.com/users/3279899/user3279899"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556206767, "post_id": 55837999, "comment_id": 98367741, "body": "I can appreciate that. Edited to add the security and Content security Tags. Maybe that will help."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556207797, "post_id": 55837999, "comment_id": 98368316, "body": "Unfortunately I think that&#39;s very doubtful...at best, you can create a new &quot;hubblestack&quot; tag, and use on specific questions you have."}, {"owner": {"reputation": 441, "user_id": 3279899, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/cb89733ee4f3dda4f13415380f54ccec?s=128&d=identicon&r=PG&f=1", "display_name": "user3279899", "link": "https://stackoverflow.com/users/3279899/user3279899"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556297126, "post_id": 55837999, "comment_id": 98403695, "body": "When I get the &quot;reputation&quot; level..."}], "owner": {"reputation": 441, "user_id": 3279899, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/cb89733ee4f3dda4f13415380f54ccec?s=128&d=identicon&r=PG&f=1", "display_name": "user3279899", "link": "https://stackoverflow.com/users/3279899/user3279899"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556206836, "creation_date": 1556137376, "last_edit_date": 1556206836, "question_id": 55837999, "link": "https://stackoverflow.com/questions/55837999/hubblestack-on-windows-10-top-nova-file-needed-for-windows-10", "title": "HubbleStack on Windows 10 top.nova file needed for Windows 10", "body": "<p>ADMINS: Can we please start a HubbleStack page?</p>\n\n<p>We are trying to get HubbleStack 2.4.7 to run on Windows 10.\nAre there any users on board who are familiar enough to help a person get it running?</p>\n\n<p>Basically, we (think) apparently do not have a top.nova with a Windows 10 section in it.</p>\n\n<p>test.ping runs hubble.audit and hubble.top return {} </p>\n\n<p>We can get it to run (apparently) incorrect Windows with errors.</p>\n\n<p>Is there documentation on how to create a match field for Windows 10 Enterprise? (Not sure how to use the osquery information to build the string Nova expects to see from the OS.)</p>\n\n<p>Is there documentation as to how to build a CIS profile for Windows 10?</p>\n\n<p>I have no experience in translating Linux speak into Windows, and my Python experience isn't helping with this very advanced code.</p>\n"}, {"tags": ["python", "python-3.x", "matplotlib", "scikit-learn", "plotly"], "comments": [{"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 1, "creation_date": 1556140316, "post_id": 55837982, "comment_id": 98341218, "body": "The graph and the code don&#39;t seem to match. The graph looks like sentiment analysis but the code shows unsupervised clustering. Can you explain your desired outcome in more detail?"}, {"owner": {"reputation": 83, "user_id": 11283001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327824f36825a5202cd804b29480b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "anayisse2", "link": "https://stackoverflow.com/users/11283001/anayisse2"}, "reply_to_user": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1556140817, "post_id": 55837982, "comment_id": 98341366, "body": "I have text of feedback of clients in one firm .. I want to do such this graph with doing clustering .. AM i clear now?"}, {"owner": {"reputation": 83, "user_id": 11283001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327824f36825a5202cd804b29480b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "anayisse2", "link": "https://stackoverflow.com/users/11283001/anayisse2"}, "reply_to_user": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1556140878, "post_id": 55837982, "comment_id": 98341389, "body": "@MaximilianPeters Via words employed in the feedbacks of my clients i want to have this analysis."}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "edited": false, "score": 0, "creation_date": 1556141935, "post_id": 55837982, "comment_id": 98341749, "body": "You want a pie chart of the proportions of samples in each of the 3 partitions that k-means returns? Just note that as the partitioning is unsupervised, you won&#39;t be able to know with cluster corresponds to which type of feedback."}, {"owner": {"reputation": 83, "user_id": 11283001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327824f36825a5202cd804b29480b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "anayisse2", "link": "https://stackoverflow.com/users/11283001/anayisse2"}, "reply_to_user": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "edited": false, "score": 0, "creation_date": 1556142199, "post_id": 55837982, "comment_id": 98341831, "body": "@Eskapp for example if we have feedbacks like :&#39;good, enjoyabe, funny, rich, satitisfull ... &#39; we can say that the most of clients are satistied"}, {"owner": {"reputation": 83, "user_id": 11283001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327824f36825a5202cd804b29480b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "anayisse2", "link": "https://stackoverflow.com/users/11283001/anayisse2"}, "reply_to_user": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "edited": false, "score": 0, "creation_date": 1556142246, "post_id": 55837982, "comment_id": 98341841, "body": "@Eskapp do you propose something? in this case please"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 11283001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327824f36825a5202cd804b29480b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "anayisse2", "link": "https://stackoverflow.com/users/11283001/anayisse2"}, "edited": false, "score": 0, "creation_date": 1556145488, "post_id": 55839240, "comment_id": 98342714, "body": "@EskappThank you for your response .. Im new with text mining, If i understant your remark .. Positive a negative in this case are just labels.. And we don&#39;t know if the feedback is really positive or negative?"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 83, "user_id": 11283001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327824f36825a5202cd804b29480b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "anayisse2", "link": "https://stackoverflow.com/users/11283001/anayisse2"}, "edited": false, "score": 0, "creation_date": 1557323793, "post_id": 55839240, "comment_id": 98726892, "body": "@anayisse2 As you use unsupervised clustering, you cannot know which cluster/partition corresponds to which class of feedback except if you go see yourself the sentences that belong to that cluster/partition. This is out of the scope of programming and I suggest you to read about the differences between supervised and unsupervised approaches as it is a core concept of machine learning. You can start here: <a href=\"https://cs.stackexchange.com/questions/2907/what-exactly-is-the-difference-between-supervised-and-unsupervised-learning\" title=\"what exactly is the difference between supervised and unsupervised learning\">cs.stackexchange.com/questions/2907/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "is_accepted": false, "score": 0, "last_activity_date": 1556143713, "creation_date": 1556143713, "answer_id": 55839240, "question_id": 55837982, "link": "https://stackoverflow.com/questions/55837982/visualisation-of-clusters-returned-by-kmeans/55839240#55839240", "title": "Visualisation of clusters returned by Kmeans", "body": "<p>Let's imagine that you have a way to know which partition of k-means represents which sentiment, you can plot a pie chart as follows:</p>\n\n<pre><code>print(model.labels_)  # For illustration, you can see which sentence is in which cluster\n# Here we get the proportions\nnb_samples = [sum(model.labels_ == j) for j in range(true_k)]\n\n# On the next line the order is RANDOM. I do NOT know which cluster represents what.\n# The first label should represent samples in cluster 0, and so on\nlabels = 'positive', 'neutral', 'negative'\ncolors = ['gold', 'red', 'lightblue']  # Same size as labels\n\n# Pie chart\nplt.pie(nb_samples, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.axis('equal')\nplt.show()\n</code></pre>\n\n<p>Also not, that several runs will give you different results in terms of which cluster represents which category.</p>\n\n<p>This can be avoided by setting the numpy random seed.</p>\n\n<pre><code>import numpy as np\nnp.random.seed(42)  # Or any other integer\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 11283001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327824f36825a5202cd804b29480b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "anayisse2", "link": "https://stackoverflow.com/users/11283001/anayisse2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1556149187, "creation_date": 1556137307, "last_edit_date": 1556149187, "question_id": 55837982, "link": "https://stackoverflow.com/questions/55837982/visualisation-of-clusters-returned-by-kmeans", "title": "Visualisation of clusters returned by Kmeans", "body": "<p>I used KMeans for clustering as shown below, but I don't know to visualize  clusters like shown in the figure below to see the satisfaction of the customer. \n<a href=\"https://i.stack.imgur.com/tn0zu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tn0zu.png\" alt=\"example\"></a></p>\n\n<p>code:</p>\n\n<pre><code>from sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.cluster import KMeans\nfrom sklearn.metrics import adjusted_rand_score\n\ndocuments = [\"This little kitty came to play when I was eating at a          restaurant.\",\n         \"Merley has the best squooshy kitten belly.\",\n         \"Google Translate app is incredible.\",\n         \"If you open 100 tab in google you get a smileyface.\",\n         \"Best cat photo I've ever taken.\",\n         \"Climbing ninja cat.\",\n         \"Impressed with google map feedback.\",\n         \"Key promoter extension for Google Chrome.\"]\n\n  vectorizer = TfidfVectorizer(stop_words='english')\n  X = vectorizer.fit_transform(documents)\n\n true_k = 3\n model = KMeans(n_clusters=true_k, init='k-means++',  max_iter=100,n_init=1)\n model.fit(X)\n</code></pre>\n"}, {"tags": ["python", "html", "django"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1556137556, "post_id": 55837955, "comment_id": 98340076, "body": "You need to post your models and the view that renders this template. What are <code>all_students</code> and <code>class_dates</code>?"}, {"owner": {"reputation": 61, "user_id": 7659822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68cf3abf399865fc9e79d42eb70d4063?s=128&d=identicon&r=PG&f=1", "display_name": "muayad925", "link": "https://stackoverflow.com/users/7659822/muayad925"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1556137802, "post_id": 55837955, "comment_id": 98340181, "body": "@DanielRoseman I just updated the post with them, but all students is what lists the students, and all  class_dates is what lists the dates. Status is what is supposed be filled into the table."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1556138422, "post_id": 55837955, "comment_id": 98340474, "body": "You need to show the Class and Student model definitions, plus the rest of that view. Where is <code>status</code> used? What is <code>attendance</code> in the template? And why are you using raw queries?"}], "owner": {"reputation": 61, "user_id": 7659822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68cf3abf399865fc9e79d42eb70d4063?s=128&d=identicon&r=PG&f=1", "display_name": "muayad925", "link": "https://stackoverflow.com/users/7659822/muayad925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574315451, "creation_date": 1556137182, "last_edit_date": 1574315451, "question_id": 55837955, "link": "https://stackoverflow.com/questions/55837955/how-to-loop-through-rows-and-populate-columns-using-data-from-database-in-html-a", "title": "How to loop through rows and populate columns using data from database in HTML and Django", "body": "<p>I am having a problem where the data I am trying to input into a table is not showing properly. I believe my queries are correct since they return the right information when I test them but when I try to print them to the table they print out wrong.</p>\n\n<p><a href=\"https://imgur.com/a/5u9jQW2\" rel=\"nofollow noreferrer\">https://imgur.com/a/5u9jQW2</a></p>\n\n<p>I tried messing around with different for loops, different types of html tags with no luck.</p>\n\n<pre><code>&lt;div class=\"table-responsive\"&gt;\n          &lt;table class=\"table align-items-center table-flush\"&gt;\n             &lt;thead class=\"thead-light\"&gt;\n                &lt;tr&gt;\n                   &lt;th scope=\"col\"&gt; Student&lt;/th&gt;\n                   {%  for Date in class_dates %}\n\n                   &lt;th scope=\"col\"&gt;{{Date.date}}&lt;/th&gt;\n\n                   {% endfor %}\n                   &lt;/thead&gt;\n                  &lt;/tr&gt;\n\n\n\n        &lt;tbody&gt;\n          {% for students in all_students %} \n          &lt;tr&gt;\n\n              &lt;th scope=\"row\"&gt;\n                &lt;div class=\"media-body\"&gt;\n\n                  &lt;a href=\"/student/\" class=\"mb-0 text-sm\"&gt;{{students.student_name}} &lt;/a&gt;\n\n\n                &lt;/div&gt;\n            &lt;/th&gt;\n            &lt;td&gt;\n           {%  for date in class_dates %}\n\n\n              {% ifequal date.dates attendance.date %}\n\n              {{students.status}}\n            {% endifequal %}\n           &lt;/td&gt;\n           {% endfor %}  \n           {% endfor %}\n\n\n\n          &lt;/tr&gt;\n        &lt;/tbody&gt;\n\n\n\n        &lt;/table&gt; \n</code></pre>\n\n<p>It is only printing the dates for april 7th over and over again for all the other dates. Since there is only two students, it seems like its only grabbing one date for each student. Each other date should have their own status. The content the queries print is correct.</p>\n\n<p>Update: heres the queries</p>\n\n<pre><code>class_dates = Class.objects.filter(course=301)\n\nall_students = Student.objects.select_related().raw('SELECT * '\n                                                        'FROM students as S, classes as CL, attendances as A '\n                                                        'WHERE CL.course_id = 301 AND S.student_id = A.students '\n                                                        'AND CL.course_id = A.classes AND CL.date = A.date '\n                                                        'GROUP BY student_name'\n                                                         )\nstatus = Student.objects.select_related().raw('SELECT   A.*'\n                                                        'FROM students as S, classes as CL, attendances as A '\n                                                        'WHERE CL.course_id = 301 AND CL.course_id = A.classes '\n                                                        'AND CL.date = A.date '\n                                                        'GROUP BY A.id'\n                                                        'ORDER BY A.students'\n                                                        )   \n</code></pre>\n\n<p>all_students is what lists the students, and all class_dates is what lists the dates in header. Status is what is supposed be filled into the table.</p>\n"}, {"tags": ["python", "html", "django"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "edited": false, "score": 0, "creation_date": 1556137919, "post_id": 55837995, "comment_id": 98340247, "body": "I changed as you said but from there I get a new error. MultiValueDictKeyError at /contact/ ..(&#39;f-name&#39;, &#39;s-name&#39;, &#39;email&#39;, &#39;e-message&#39;)"}, {"owner": {"reputation": 5190, "user_id": 4547481, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/Xw8Bx.jpg?s=128&g=1", "display_name": "Nafees Anwar", "link": "https://stackoverflow.com/users/4547481/nafees-anwar"}, "reply_to_user": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "edited": false, "score": 0, "creation_date": 1556138111, "post_id": 55837995, "comment_id": 98340345, "body": "Okay I just copied code from question. See my edit."}, {"owner": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "edited": false, "score": 0, "creation_date": 1556138761, "post_id": 55837995, "comment_id": 98340611, "body": "Okay I think we&#39;re close I removed all the other items from the list so I just have the [&#39;e-message&#39;] now i&#39;m getting &quot;SMTPAuthenticationError at /contact/&quot; &quot;Application-specific password required.&quot; I have put my correct password in my settings.py file im using my regular gmail address as my EMAIL_HOST_USER, TLS = True ans SSL = False. Should I use a different EMAIL_HOST instead of the using the same as Im sending too?"}, {"owner": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "edited": false, "score": 1, "creation_date": 1556139585, "post_id": 55837995, "comment_id": 98340929, "body": "I has 2 factor authentication on, I created an app password on my Gmail account and all is working good now! Thanks so much!"}], "tags": [], "owner": {"reputation": 5190, "user_id": 4547481, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/Xw8Bx.jpg?s=128&g=1", "display_name": "Nafees Anwar", "link": "https://stackoverflow.com/users/4547481/nafees-anwar"}, "is_accepted": true, "score": 0, "last_activity_date": 1556138076, "last_edit_date": 1556138076, "creation_date": 1556137365, "answer_id": 55837995, "question_id": 55837926, "link": "https://stackoverflow.com/questions/55837926/email-from-contact-form-error-method-not-allowed-post-405/55837995#55837995", "title": "Email from contact form error: Method Not Allowed (POST) 405", "body": "<p>Django does not support post method on template view implicitly. You have to define post method yourself in template view like this</p>\n\n<pre><code>class ContactView(TemplateView):\n     template_name = 'contact.html'\n\n     def post(self, request, *args, **kwargs):\n        message = request.POST['e-message']\n        send_mail('Contact Form', message,['email@gmail.com'], fail_silently=False)\n\n        return render(request, 'thanks.html')\n</code></pre>\n\n<p>The rest will be handled automatically</p>\n"}], "owner": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 55837995, "answer_count": 1, "score": 0, "last_activity_date": 1556138076, "creation_date": 1556137052, "question_id": 55837926, "link": "https://stackoverflow.com/questions/55837926/email-from-contact-form-error-method-not-allowed-post-405", "title": "Email from contact form error: Method Not Allowed (POST) 405", "body": "<p>I'm creating a Contact page on my portfolio site which when the user fills out and submits will automatically send it as an email to my personal email account. But when I hit Submit I get \"Method Not Allowed (POST):/contact/\" in my terminal, \"HTTP ERROR 405\" in my browser and no email in my account.</p>\n\n<p>My HTML:</p>\n\n<pre><code> &lt;form action=\"\" method=\"POST\"&gt;\n\n  {% csrf_token %}\n\n  &lt;div class=\"row form-group\"&gt;\n    &lt;div class=\"col\"&gt;\n      &lt;input name=\"f-name\" type=\"text\" class=\"form-control\" placeholder=\"First name\" required&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col\"&gt;\n      &lt;input name=\"s-name\" type=\"text\" class=\"form-control\" placeholder=\"Last name\" required&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form-group\"&gt;\n    &lt;input name=\"email\" type=\"email\" class=\"form-control\" id=\"email-input\" aria-describedby=\"emailHelp\" placeholder=\"name@mail.com\" required&gt;\n    &lt;small id=\"emailHelp\" class=\"form-text text-muted\"&gt;I Wont Share Your Email!&lt;/small&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form-group text-center\"&gt;\n    &lt;textarea name=\"e-message\" class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" placeholder=\"your message...\" required&gt;&lt;/textarea&gt;\n  &lt;/div&gt;\n\n  &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Send&lt;/button&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>My views.py:</p>\n\n<pre><code>class ContactView(TemplateView):\n     template_name = 'contact.html'\n\n     def send_message(self, request):\n        if request.method == 'POST':\n            message = request.POST['f-name', 's-name', 'email', 'e-message']\n            send_mail('Contact Form', message,['email@gmail.com'],\n            fail_silently=False)\n\n            return render(request, 'thanks.html')\n</code></pre>\n\n<p>My project urls.py</p>\n\n<pre><code> from django.contrib import admin\n from django.urls import path, include\n from django.contrib.auth import views\n from blog import views\n\n urlpatterns = [\n    path('admin/', admin.site.urls),\n    path('', include('blog.urls')),\n    path('projects/', views.ProjectView.as_view(), name='projects'),\n    path('blog/', views.BlogView.as_view(), name='blog'),\n    path('contact/', views.ContactView.as_view(), name='contact'),\n    path('thanks/', views.ThanksView.as_view(), name='thanks'),\n</code></pre>\n\n<p>My application urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom blog import views\n\n\napp_name = 'blog'\n\nurlpatterns = [\n    url(r'^$', views.AboutView.as_view(), name='about'),\n    url(r'^projects/$', views.ProjectView.as_view(), name='projects'),\n    url(r'^blog/$', views.BlogView.as_view(), name='blog'),\n    url(r'^contact/$', views.ContactView.as_view(), name='contact'),\n    url(r'^thanks/$', views.ThanksView.as_view(), name='thanks'),\n</code></pre>\n\n<p>Iv been searching for similar answers for a few hours and anything similar  hasnt helped so far Maybe I should re build my form in Django forms? I dont want to risk going too far changing too much and breaking my site!</p>\n"}, {"tags": ["python", "tkinter", "python-imaging-library", "python-2.x", "tkinter-canvas"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1556137347, "post_id": 55837924, "comment_id": 98339983, "body": "you would have to use <code>create_image(... image=tkimage)</code> instead of <code>label.pack()</code> to put image on canvas - and then canvas can delete it. In current code you could use <code>label.pack_forget()</code> or <code>label.destroy()</code>. Or replace image in label."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1556137369, "post_id": 55837924, "comment_id": 98339993, "body": "Is there a reason you&#39;re packing a label into the canvas rather than creating an image item on the canvas (eg: <code>canvas.create_image(..)</code>)"}, {"owner": {"reputation": 1, "user_id": 11407363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c288ca739de7dce8181c207fa1bcabcc?s=128&d=identicon&r=PG&f=1", "display_name": "ejn", "link": "https://stackoverflow.com/users/11407363/ejn"}, "edited": false, "score": 0, "creation_date": 1556138474, "post_id": 55837924, "comment_id": 98340501, "body": "Thank you! replacing <code>label.pack()</code> with <code>canvas.create_image(..)</code> solved the issue."}], "owner": {"reputation": 1, "user_id": 11407363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c288ca739de7dce8181c207fa1bcabcc?s=128&d=identicon&r=PG&f=1", "display_name": "ejn", "link": "https://stackoverflow.com/users/11407363/ejn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556137258, "creation_date": 1556137042, "last_edit_date": 1556137258, "question_id": 55837924, "link": "https://stackoverflow.com/questions/55837924/how-to-clear-tkinter-canvas-on-button-press", "title": "How to clear Tkinter canvas on button press", "body": "<p>I am trying to create a button that will clear a canvas and then put an image in the canvas selected from a Tkinter file dialog. I am using the <code>canvas.delete(\"all\")</code> method <a href=\"https://stackoverflow.com/posts/15840231/edit\">shared here</a> to try clearing the canvas before selecting a new image, but the new image is appearing above the existing image rather than replacing it.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from Tkinter import *\nimport Tkinter, Tkconstants, tkFileDialog\nfrom PIL import Image, ImageTk\n\nroot = Tk()\n\ncanvas1 = Canvas(root, width=500, height=500)\ncanvas1.pack()\n\nclass widgets:\n\n    def __init__(self, parent):\n        self.myParent = parent\n        self.myContainer1 = Frame(parent)\n        self.myContainer1.pack()\n\n        self.button1 = Button(self.myContainer1, command=self.button1click)\n        self.button1.config(text=\"Select Image\")\n        self.button1.pack(side=TOP)\n\n    def button1click(self):\n        canvas1.delete(\"all\")\n        path = tkFileDialog.askopenfilename(filetypes=[(\"Image File\", '.png')])\n        im = Image.open(path)\n        tkimage = ImageTk.PhotoImage(im)\n        imglabel = Label(canvas1, image=tkimage)\n        imglabel.image = tkimage\n        imglabel.pack()\n\nwidgets = widgets(root)\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "visual-studio-code", "pytest", "vscode-settings"], "comments": [{"owner": {"reputation": 9571, "user_id": 236574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8600d16ba667cc8d7f00ddc9f254340?s=128&d=identicon&r=PG", "display_name": "Brett Cannon", "link": "https://stackoverflow.com/users/236574/brett-cannon"}, "edited": false, "score": 0, "creation_date": 1556142591, "post_id": 55837922, "comment_id": 98341932, "body": "How are you running pytest from the command-line? Are you using pytest from your virtual environment with the same args as specified in your settings.json?"}, {"owner": {"reputation": 13177, "user_id": 206463, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bdf7932718a694e96858f8aa0c4fcf09?s=128&d=identicon&r=PG", "display_name": "devlife", "link": "https://stackoverflow.com/users/206463/devlife"}, "reply_to_user": {"reputation": 9571, "user_id": 236574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8600d16ba667cc8d7f00ddc9f254340?s=128&d=identicon&r=PG", "display_name": "Brett Cannon", "link": "https://stackoverflow.com/users/236574/brett-cannon"}, "edited": false, "score": 1, "creation_date": 1556215535, "post_id": 55837922, "comment_id": 98371838, "body": "From the command line I&#39;m just doing <code>pytest tests</code> from within the same virtual env that VS Code is using."}, {"owner": {"reputation": 766, "user_id": 4366229, "user_type": "registered", "profile_image": "https://graph.facebook.com/721337061/picture?type=large", "display_name": "Martin Alexandersson", "link": "https://stackoverflow.com/users/4366229/martin-alexandersson"}, "edited": false, "score": 0, "creation_date": 1606311665, "post_id": 55837922, "comment_id": 114925856, "body": "yea I also run pytest from the terminal within VSCode and than it was discovered, so that I could run it from the GUI afterwards."}], "answers": [{"tags": [], "owner": {"reputation": 9571, "user_id": 236574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8600d16ba667cc8d7f00ddc9f254340?s=128&d=identicon&r=PG", "display_name": "Brett Cannon", "link": "https://stackoverflow.com/users/236574/brett-cannon"}, "is_accepted": false, "score": 0, "last_activity_date": 1556142593, "creation_date": 1556142593, "answer_id": 55839047, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/55839047#55839047", "title": "VSCode pytest test discovery fails", "body": "<p>Looking at <a href=\"https://docs.pytest.org/en/latest/usage.html#possible-exit-codes\" rel=\"nofollow noreferrer\">https://docs.pytest.org/en/latest/usage.html#possible-exit-codes</a> it seems pytest itself is falling over do to some internal error.</p>\n"}, {"comments": [{"owner": {"reputation": 13177, "user_id": 206463, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bdf7932718a694e96858f8aa0c4fcf09?s=128&d=identicon&r=PG", "display_name": "devlife", "link": "https://stackoverflow.com/users/206463/devlife"}, "edited": false, "score": 0, "creation_date": 1556215484, "post_id": 55839418, "comment_id": 98371805, "body": "I have <code>__init__.py</code> in my <code>tests</code> dir."}, {"owner": {"reputation": 216, "user_id": 9532163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed9868ad54f726b2b62590be78f2677d?s=128&d=identicon&r=PG&f=1", "display_name": "WildStriker", "link": "https://stackoverflow.com/users/9532163/wildstriker"}, "reply_to_user": {"reputation": 13177, "user_id": 206463, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bdf7932718a694e96858f8aa0c4fcf09?s=128&d=identicon&r=PG", "display_name": "devlife", "link": "https://stackoverflow.com/users/206463/devlife"}, "edited": false, "score": 1, "creation_date": 1556232068, "post_id": 55839418, "comment_id": 98378230, "body": "@devlife does helgso solution apply to you? <a href=\"https://stackoverflow.com/a/55856949/9532163\">link</a> I can confirm when I downgraded I get the same issue with exit code 3."}], "tags": [], "owner": {"reputation": 216, "user_id": 9532163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed9868ad54f726b2b62590be78f2677d?s=128&d=identicon&r=PG&f=1", "display_name": "WildStriker", "link": "https://stackoverflow.com/users/9532163/wildstriker"}, "is_accepted": false, "score": 18, "last_activity_date": 1556145016, "creation_date": 1556145016, "answer_id": 55839418, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/55839418#55839418", "title": "VSCode pytest test discovery fails", "body": "<p>This is not a complete answer as I do not know why this is happening and may not relate to your problem, depending how you have your tests structured.</p>\n\n<p>I resolved this issue by putting an <code>__init__.py</code> file in my tests folder</p>\n\n<p>E.G.:</p>\n\n<pre><code>\n\u251c\u2500\u2500\u2500.vscode\n\u2502       settings.json\n\u2502\n\u251c\u2500\u2500\u2500app\n\u2502       myapp.py\n\u2502\n\u2514\u2500\u2500\u2500tests\n        test_myapp.py\n        __init__.py\n</code></pre>\n\n<p>this was working a few days ago without this but the python extension was recently updated.  I am not sure if this is the intended behavior or a side effect of how discoveries are now being made</p>\n\n<p><a href=\"https://github.com/Microsoft/vscode-python/blob/master/CHANGELOG.md\" rel=\"noreferrer\">https://github.com/Microsoft/vscode-python/blob/master/CHANGELOG.md</a><br>\n<code>Use Python code for discovery of tests when using pytest. (#4795)</code></p>\n"}, {"comments": [{"owner": {"reputation": 462, "user_id": 3191035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sqUZV.jpg?s=128&g=1", "display_name": "Frederick Ollinger", "link": "https://stackoverflow.com/users/3191035/frederick-ollinger"}, "edited": false, "score": 0, "creation_date": 1616346895, "post_id": 55856949, "comment_id": 117967464, "body": "A better answer would: 1. Tell why the older version was causing the problem, specifically. 2. Tell how the new version solved the problem. Randomly upgrading is an obvious solution, and most don&#39;t need to go to stackoverflow to learn this."}], "tags": [], "owner": {"reputation": 138, "user_id": 3093258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0ee0d4dc2699fffbba854457d6d235?s=128&d=identicon&r=PG&f=1", "display_name": "helgso", "link": "https://stackoverflow.com/users/3093258/helgso"}, "is_accepted": true, "score": 8, "last_activity_date": 1556223174, "creation_date": 1556223174, "answer_id": 55856949, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/55856949#55856949", "title": "VSCode pytest test discovery fails", "body": "<p>I resolved the issue by upgrading pytest to the latest version: 4.4.1 with \"pip install --upgrade pytest\". I was apparently running an old version 3.4.2</p>\n"}, {"comments": [{"owner": {"reputation": 396, "user_id": 1063732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275c6b4bf2f3a89d6c893c30fa81cb61?s=128&d=identicon&r=PG", "display_name": "nico", "link": "https://stackoverflow.com/users/1063732/nico"}, "edited": false, "score": 1, "creation_date": 1579621539, "post_id": 55865046, "comment_id": 105823276, "body": "Many thanks ! downgrading from 2020.1.58038 to 2019.3.6558, my tests are discovered now. Before I had ModuleNotFoundError: No module named &#39;tests.conftest&#39;"}], "tags": [], "owner": {"reputation": 22041, "user_id": 108207, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dd8608b8b423bdcbda3fe5c0cf8b6230?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas R.", "link": "https://stackoverflow.com/users/108207/niklas-r"}, "is_accepted": false, "score": 8, "last_activity_date": 1556272287, "creation_date": 1556272287, "answer_id": 55865046, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/55865046#55865046", "title": "VSCode pytest test discovery fails", "body": "<p>Seems like a bug in the latest version of VS Code Python extension. I had the same issue, then I downgraded the Python extension to <strong>2019.3.6558</strong> and then it works again. So we should go to our VS Code extensions list, select the Python extension and \"Install another version...\" from the setting of that extension. </p>\n\n<p>I hope this works for you too. </p>\n"}, {"comments": [{"owner": {"reputation": 276, "user_id": 1263884, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e2b26b5267c7911da67d2dbb6fc0e546?s=128&d=identicon&r=PG", "display_name": "WiseStrawberry", "link": "https://stackoverflow.com/users/1263884/wisestrawberry"}, "edited": false, "score": 2, "creation_date": 1601396835, "post_id": 57963397, "comment_id": 113392664, "body": "you are a god amongst men"}, {"owner": {"reputation": 3674, "user_id": 4049396, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HFySR.jpg?s=128&g=1", "display_name": "Little Bobby Tables", "link": "https://stackoverflow.com/users/4049396/little-bobby-tables"}, "edited": false, "score": 0, "creation_date": 1616688616, "post_id": 57963397, "comment_id": 118087507, "body": "What should the output be?"}], "tags": [], "owner": {"reputation": 1650, "user_id": 5368599, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c3a6c9c2224587981da836e469379e9d?s=128&d=identicon&r=PG&f=1", "display_name": "Autumn", "link": "https://stackoverflow.com/users/5368599/autumn"}, "is_accepted": false, "score": 41, "last_activity_date": 1568662705, "creation_date": 1568662705, "answer_id": 57963397, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/57963397#57963397", "title": "VSCode pytest test discovery fails", "body": "<p>I spent ages trying to decipher this unhelpful error after creating a test that had import errors.   Verify that your test suite can actually be executed before doing any deeper troubleshooting.</p>\n\n<p><code>pytest --collect-only</code> is your friend. </p>\n"}, {"tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1570142422, "creation_date": 1570142422, "answer_id": 58227758, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/58227758#58227758", "title": "VSCode pytest test discovery fails", "body": "<p>I had this same issue and tracked it down to my <code>pytest.ini</code> file.  Removing most of the <code>addopts</code> from that file fixed the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 464, "user_id": 4315310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/22xLS.jpg?s=128&g=1", "display_name": "cpinamtz", "link": "https://stackoverflow.com/users/4315310/cpinamtz"}, "is_accepted": false, "score": 3, "last_activity_date": 1584443092, "creation_date": 1584443092, "answer_id": 60721082, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/60721082#60721082", "title": "VSCode pytest test discovery fails", "body": "<p>Before begin the tests discovery, check that <code>python.testing.cwd</code> points correctly to your tests dir and your <code>python.testing.pytestEnabled</code> is set to <code>true</code>.</p>\n\n<p>Once those requirements are set correctly, run tests discovery and its output (see <em>OUTPUT</em> window). You should see something like this:</p>\n\n<pre><code>python $HOME/.vscode/extensions/ms-python.python-$VERSION/pythonFiles/testing_tools/run_adapter.py discover pytest -- --rootdir $ROOT_DIR_OF_YOUR_PROJECT -s --cache-clear\nTest Discovery failed: \nError: ============================= test session starts ==============================\n&lt;SETTINGS RELATED TO YOUR MACHINE, PYTHON VERSION, PYTEST VERSION,...&gt;\ncollected N items / M errors\n...\n</code></pre>\n\n<p>It's important to highlight here the last line: <code>collected N items / M errors</code>. The following lines will contain info about the tests discovered by <code>pytest</code>. So your tests <strong>are discoverable</strong> but there are errors related to their correct execution. </p>\n\n<p>The following lines will contain the errors which in <strong>most of the cases will be related to an incorrect import</strong>. </p>\n\n<p>Check that all your dependencies have been downloaded previously. If you are working with specific versions of dependencies (on the<code>requirements.txt</code> file you have something like <code>your_package == X.Y.Z</code>) be sure that it's the right version that you need to.</p>\n"}, {"comments": [{"owner": {"reputation": 120, "user_id": 9360161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKZ0h.jpg?s=128&g=1", "display_name": "E. K&#246;rner", "link": "https://stackoverflow.com/users/9360161/e-k%c3%b6rner"}, "edited": false, "score": 0, "creation_date": 1608219423, "post_id": 61127700, "comment_id": 115521481, "body": "Thanks, the env file setting worked in my case, too. I required either CLI options or alternatively environment variables to set critical values for my tests. And specifying them in the tox.ini etc. was not possible as they were private in nature."}, {"owner": {"reputation": 67, "user_id": 9917403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hfRdA.png?s=128&g=1", "display_name": "paradox", "link": "https://stackoverflow.com/users/9917403/paradox"}, "edited": false, "score": 0, "creation_date": 1618822633, "post_id": 61127700, "comment_id": 118709466, "body": "For me it was <code>&quot;python.testing.pytestPath&quot;: &quot;{$workspaceFolder}\\\\Lib\\\\pytest&quot;,</code>"}], "tags": [], "owner": {"reputation": 418, "user_id": 11211077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f7a903f05e2c4da9ec40b1ca70e8bd?s=128&d=identicon&r=PG", "display_name": "Wayne Lambert", "link": "https://stackoverflow.com/users/11211077/wayne-lambert"}, "is_accepted": false, "score": 11, "last_activity_date": 1586456446, "creation_date": 1586456446, "answer_id": 61127700, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/61127700#61127700", "title": "VSCode pytest test discovery fails", "body": "<p>I just thought I would add my answer here as this might well affect someone who uses a <code>.env</code> file for their project's environment settings since it is such a common configuration for 12 factor apps.</p>\n\n<p>My example assumes that you're using <code>pipenv</code> for your virtual environment management and that you have a <code>.env</code> file at the project's root directory.</p>\n\n<p>My vscode workspace settings json file looks like below. The crucial line for me here was <code>\"python.envFile\": \"${workspaceFolder}/.env\",</code></p>\n\n<pre><code>{\n    \"python.pythonPath\": \".venv/bin/python\",\n    \"python.linting.enabled\": true,\n    \"python.linting.pylintEnabled\": true,\n    \"python.linting.pycodestyleEnabled\": false,\n    \"python.linting.flake8Enabled\": false,\n    \"python.linting.pylintPath\": \".venv/bin/pylint\",\n    \"python.linting.pylintArgs\": [\n        \"--load-plugins=pylint_django\",\n    ],\n    \"python.formatting.provider\": \"black\",\n    \"python.formatting.blackArgs\": [\n        \"--line-length\",\n        \"100\"\n    ],\n    \"python.testing.unittestEnabled\": false,\n    \"python.testing.nosetestsEnabled\": false,\n    \"python.testing.pytestEnabled\": true,\n    \"python.testing.pytestPath\": \".venv/bin/pytest\",\n    \"python.envFile\": \"${workspaceFolder}/.env\",\n    \"python.testing.pytestArgs\": [\n        \"--no-cov\"\n    ],\n}\n</code></pre>\n\n<p>I hope this saves someone the time I spent figuring this out.</p>\n"}, {"tags": [], "owner": {"reputation": 5031, "user_id": 8741356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W1hSm.jpg?s=128&g=1", "display_name": "Tomasz Bartkowiak", "link": "https://stackoverflow.com/users/8741356/tomasz-bartkowiak"}, "is_accepted": false, "score": 4, "last_activity_date": 1618590891, "last_edit_date": 1618590891, "creation_date": 1591280818, "answer_id": 62197127, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/62197127#62197127", "title": "VSCode pytest test discovery fails", "body": "<p>In my case the problem with vscode being unable to discover tests was the <a href=\"https://coverage.readthedocs.io/en/coverage-5.1/\" rel=\"nofollow noreferrer\">coverage</a> module being enabled in the <code>setup.cfg</code> (alternatively this could be a <code>pytest.ini</code>), i.e.</p>\n<pre><code>addopts= --cov &lt;path&gt; -ra\n</code></pre>\n<p>which caused the test discovery to fail due to low coverage. The solution was to remove that line from the config file.</p>\n<p>Also, as suggested in the <a href=\"https://code.visualstudio.com/docs/python/testing#_enable-a-test-framework\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>You can also configure testing manually <strong>by setting one and only one</strong> of the following settings to true: <code>python.testing.unittestEnabled</code>, <code>python.testing.pytestEnabled</code>, and <code>python.testing.nosetestsEnabled</code>.</p>\n</blockquote>\n<p>EDIT:</p>\n<p>Slightly related - in case of more complex projects it might be also necessary to change the <code>rootdir</code> parameter (inside your <code>settings.json</code>) when running tests with <a href=\"https://docs.pytest.org/en/6.2.x/\" rel=\"nofollow noreferrer\">pytest</a> (in case of <code>ModuleNotFoundError</code>):</p>\n<pre><code>    &quot;python.testing.pytestArgs&quot;: [\n        &quot;--rootdir&quot;,&quot;${workspaceFolder}/&lt;path-to-directory-with-tests&gt;&quot;\n    ],\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1786, "user_id": 5318634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-WLoDLz8e0ag/AAAAAAAAAAI/AAAAAAAABFE/hE7C6EgHNhI/photo.jpg?sz=128", "display_name": "Pablo", "link": "https://stackoverflow.com/users/5318634/pablo"}, "is_accepted": false, "score": 1, "last_activity_date": 1600527341, "creation_date": 1600527341, "answer_id": 63970086, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/63970086#63970086", "title": "VSCode pytest test discovery fails", "body": "<p>If you are having trouble with <code>pytest</code> I was struggling with the discovery test part.</p>\n<p>Reading some <a href=\"https://github.com/microsoft/vscode-python/issues/11513\" rel=\"nofollow noreferrer\">open issue</a> <a href=\"https://github.com/microsoft/vscode-python/issues/6594\" rel=\"nofollow noreferrer\">(other)</a> in vscode I found a workaround using <code>the test-adapter</code> extension</p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=LittleFoxTeam.vscode-python-test-adapter\" rel=\"nofollow noreferrer\">market_place_link</a></p>\n<p>The extention works like a charm. (and solve my discovery problem)</p>\n"}, {"tags": [], "owner": {"reputation": 6784, "user_id": 1011253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NAA1r.jpg?s=128&g=1", "display_name": "ItayB", "link": "https://stackoverflow.com/users/1011253/itayb"}, "is_accepted": false, "score": 0, "last_activity_date": 1610188698, "creation_date": 1610188698, "answer_id": 65641663, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/65641663#65641663", "title": "VSCode pytest test discovery fails", "body": "<p>I searched in the settings for &quot;python&quot; and found this:</p>\n<p><a href=\"https://i.stack.imgur.com/FJ5QT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJ5QT.png\" alt=\"enter image description here\" /></a></p>\n<p>Switching to <code>pytest</code> automatically detect my tests:</p>\n<p><a href=\"https://i.stack.imgur.com/JSrLX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JSrLX.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 2280641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRNIG.png?s=128&g=1", "display_name": "DPalharini", "link": "https://stackoverflow.com/users/2280641/dpalharini"}, "is_accepted": false, "score": 0, "last_activity_date": 1618152275, "creation_date": 1618152275, "answer_id": 67046326, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails/67046326#67046326", "title": "VSCode pytest test discovery fails", "body": "<p>I had this problem and struggle with it for hours. I think that there is a special resolution for every other platform configuration. My platform is:</p>\n<ul>\n<li>VSCode: 1.55.0 (Ubuntu)</li>\n<li>Pytest: 6.2.3</li>\n<li>MS Python extension (ms-python.python 2021.3.680753044)</li>\n<li>Python Test Explorer for Visual Studio Code (littlefoxteam.vscode-python-test-adapter - 0.6.7)</li>\n</ul>\n<p>The worst thing has that the tool itself does not have a standard output (at least that I know of or could find easily on the internet).</p>\n<p>In the end, the problem was</p>\n<pre><code>--no-cov\n</code></pre>\n<p>parameters that was not recognized by the VSCode testing explorer tool (that I copied from some page on the internet) and the error was showed by the extension <em>littlefoxteam.vscode-python-test-adapter</em> and it may help you to find where things are broken.</p>\n"}], "owner": {"reputation": 13177, "user_id": 206463, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bdf7932718a694e96858f8aa0c4fcf09?s=128&d=identicon&r=PG", "display_name": "devlife", "link": "https://stackoverflow.com/users/206463/devlife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26951, "favorite_count": 4, "accepted_answer_id": 55856949, "answer_count": 12, "score": 33, "last_activity_date": 1618590891, "creation_date": 1556137034, "question_id": 55837922, "link": "https://stackoverflow.com/questions/55837922/vscode-pytest-test-discovery-fails", "title": "VSCode pytest test discovery fails", "body": "<p>Pytest test discovery is failing. The UI states:</p>\n\n<p><code>Test discovery error, please check the configuration settings for the tests</code></p>\n\n<p>The output window states:</p>\n\n<pre><code>Test Discovery failed: \nError: Traceback (most recent call last):\n  File \"C:\\Users\\mikep\\.vscode\\extensions\\ms-python.python-2019.4.11987\\pythonFiles\\testing_tools\\run_adapter.py\", line 16, in &lt;module&gt;\n    main(tool, cmd, subargs, toolargs)\n  File \"C:\\Users\\mikep\\.vscode\\extensions\\ms-python.python-2019.4.11987\\pythonFiles\\testing_tools\\adapter\\__main__.py\", line 90, in main\n    parents, result = run(toolargs, **subargs)\n  File \"C:\\Users\\mikep\\.vscode\\extensions\\ms-python.python-2019.4.11987\\pythonFiles\\testing_tools\\adapter\\pytest.py\", line 43, in discover\n    raise Exception('pytest discovery failed (exit code {})'.format(ec))\nException: pytest discovery failed (exit code 3)\n</code></pre>\n\n<p>Here are my settings:</p>\n\n<pre><code>{\n    \"python.pythonPath\": \".venv\\\\Scripts\\\\python.exe\",\n    \"python.testing.pyTestArgs\": [\n        \"tests\"\n    ],\n    \"python.testing.unittestEnabled\": false,\n    \"python.testing.nosetestsEnabled\": false,\n    \"python.testing.pyTestEnabled\": true\n}\n</code></pre>\n\n<p>I can run pytest from the command line successfully FWIW.</p>\n"}]