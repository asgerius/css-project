[{"tags": ["python", "python-2.7", "python-3.x", "curl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6697039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8027b61da3ba46bf2b02daac8751737c?s=128&d=identicon&r=PG&f=1", "display_name": "Subash Sharma", "link": "https://stackoverflow.com/users/6697039/subash-sharma"}, "edited": false, "score": 0, "creation_date": 1487967350, "post_id": 42404934, "comment_id": 72038627, "body": "Issue was with the single quotes, Thank you for highlighting it."}], "tags": [], "owner": {"reputation": 2000, "user_id": 6818280, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/1EFD8.jpg?s=128&g=1", "display_name": "Hou Lu", "link": "https://stackoverflow.com/users/6818280/hou-lu"}, "is_accepted": true, "score": 0, "last_activity_date": 1487810039, "creation_date": 1487810039, "answer_id": 42404934, "question_id": 42404598, "link": "https://stackoverflow.com/questions/42404598/i-am-calling-a-rest-api-curl-command-using-python-but-the-post-request-is-not-w/42404934#42404934", "title": "I am calling a Rest API Curl command using python, But the post request is not working", "body": "<p>At first, the 'url' parameter in <code>requests.post</code> should be an complete url including the 'http://' or 'https://'.<br>\nSecondly, if you need to post some data in form of <code>application/json</code>, using Python protogenic <code>dict</code> will be fine. like this<br>\n<code>data = {\"key1\":\"value1\",\"key2\":\"value2\"}</code></p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 3954361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f5bafadded3e0015ef33b9243204e12?s=128&d=identicon&r=PG", "display_name": "3xt", "link": "https://stackoverflow.com/users/3954361/3xt"}, "is_accepted": false, "score": 0, "last_activity_date": 1489698494, "last_edit_date": 1489698494, "creation_date": 1487818301, "answer_id": 42406128, "question_id": 42404598, "link": "https://stackoverflow.com/questions/42404598/i-am-calling-a-rest-api-curl-command-using-python-but-the-post-request-is-not-w/42406128#42406128", "title": "I am calling a Rest API Curl command using python, But the post request is not working", "body": "<p>you might be looking at something like this?</p>\n\n<pre><code>r = requests.post(\"http://{}/Command?\".format(web_addr), params=dict)\nprint r.text\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 6636061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3812061e13a80f5e5f624964cb2aef?s=128&d=identicon&r=PG&f=1", "display_name": "R. Ilma", "link": "https://stackoverflow.com/users/6636061/r-ilma"}, "is_accepted": false, "score": 0, "last_activity_date": 1494843057, "last_edit_date": 1494843057, "creation_date": 1493840352, "answer_id": 43768617, "question_id": 42404598, "link": "https://stackoverflow.com/questions/42404598/i-am-calling-a-rest-api-curl-command-using-python-but-the-post-request-is-not-w/43768617#43768617", "title": "I am calling a Rest API Curl command using python, But the post request is not working", "body": "<p>In Python 3.6.1, you should get the response 200 message if the following code gets executed, with a existing 'URL':</p>\n\n<pre><code>from requests import post\ndata = {\"key1\":\"value1\",\"key2\":\"value2\"}\nprint(post('URL', json=data))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6697039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8027b61da3ba46bf2b02daac8751737c?s=128&d=identicon&r=PG&f=1", "display_name": "Subash Sharma", "link": "https://stackoverflow.com/users/6697039/subash-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 42404934, "answer_count": 3, "score": 0, "last_activity_date": 1498048100, "creation_date": 1487807887, "last_edit_date": 1498048100, "question_id": 42404598, "link": "https://stackoverflow.com/questions/42404598/i-am-calling-a-rest-api-curl-command-using-python-but-the-post-request-is-not-w", "title": "I am calling a Rest API Curl command using python, But the post request is not working", "body": "<p>So here is my curl command, In command line, curl script is working fine</p>\n\n<pre><code>curl -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -u user:password URL -d '{\"key1\":\"value1\",\"key2\":\"value2\"}'\n</code></pre>\n\n<p>Now I have converted my code to python and the code look like this :</p>\n\n<pre><code>import requests\nimport json\n\nheaders = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n}\n\ndata = '{\"key1\":\"value1\",\"key2\":\"value2\"}'\n\nrequests.post('URL', headers=headers, data=data, auth=('user', 'password'))\n</code></pre>\n\n<p>When I ran this code, I am not getting any output.\nPlease let me know what I am doing wrong in here.</p>\n"}, {"tags": ["python", "graph", "path", "traversal", "edge-list"], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1487807871, "creation_date": 1487807871, "answer_id": 42404595, "question_id": 42404491, "link": "https://stackoverflow.com/questions/42404491/why-graph-doesnt-find-correct-path/42404595#42404595", "title": "Why graph doesn&#39;t find correct path?", "body": "<p>You programmed this to find <em>any</em> acyclic path, and return the first one it finds.  The path it found is perfectly reasonable; it's simply not the least number of steps.</p>\n\n<p>To find the shortest path, you need to implement either a breadth-first search, or a depth-first search with memoization (keep track of the best known path to each node).  Dijkstra's algorithm is good for the shortest path.</p>\n"}, {"tags": [], "owner": {"reputation": 416, "user_id": 5633320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6832ff88ef1c94efc0dadf17b7827263?s=128&d=identicon&r=PG&f=1", "display_name": "Chirag", "link": "https://stackoverflow.com/users/5633320/chirag"}, "is_accepted": true, "score": 2, "last_activity_date": 1487808045, "creation_date": 1487808045, "answer_id": 42404622, "question_id": 42404491, "link": "https://stackoverflow.com/questions/42404491/why-graph-doesnt-find-correct-path/42404622#42404622", "title": "Why graph doesn&#39;t find correct path?", "body": "<p>Your code is finding the path by following the first node in each node's adjacency list that does not already belong in the graph. It starts at <code>'b'</code> and then goes to the first node in the adjacency list (<code>['a', 'c']</code>) node <code>'a'</code>. Then it goes from <code>'a'</code> to <code>'c'</code>. Once it is at <code>'c'</code>, it sees that <code>'a'</code>, <code>'b'</code>, and <code>'c'</code> are already in the path so it goes to <code>'d'</code>. If you changed the order of your adjacency list in the graph to this, it will print out the order your looking for:</p>\n\n<pre><code>g = {\"a\": [\"d\", \"c\"],\n     \"b\": [\"a\", \"c\"],\n     \"c\": [\"a\", \"b\", \"c\", \"d\", \"e\"],\n     \"d\": [\"e\", \"c\"],\n     \"e\": [\"f\", \"c\"],\n     \"f\": [\"c\"]\n     }\n</code></pre>\n\n<p>Alternatively, you can implement a shortest path algorithm such as <a href=\"https://en.wikipedia.org/wiki/Dijkstra&#39;s_algorithm\" rel=\"nofollow noreferrer\">Djikstra's</a> to find the shortest path through a graph.</p>\n"}], "owner": {"reputation": 177, "user_id": 7030456, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d001e09cf92754d7e65091cacf8a2b2b?s=128&d=identicon&r=PG&f=1", "display_name": "Hsin", "link": "https://stackoverflow.com/users/7030456/hsin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 42404622, "answer_count": 2, "score": 0, "last_activity_date": 1566394678, "creation_date": 1487807309, "last_edit_date": 1566394678, "question_id": 42404491, "link": "https://stackoverflow.com/questions/42404491/why-graph-doesnt-find-correct-path", "title": "Why graph doesn&#39;t find correct path?", "body": "<p>I've tried to create graph with the help of the following link but when I used find_path method I got incorrect path returned. Link:</p>\n\n<p><a href=\"http://www.python-course.eu/graphs_python.php\" rel=\"nofollow noreferrer\">http://www.python-course.eu/graphs_python.php</a></p>\n\n<p>Code:</p>\n\n<pre><code>class Graph(object):\n    def __init__(self, graph_dict=None):\n        \"\"\" initializes a graph object\n            If no dictionary or None is given, an empty dictionary will be used\n        \"\"\"\n        if graph_dict is None:\n            graph_dict = {}\n        self.__graph_dict = graph_dict\n\n    def find_path(self, start_vertex, end_vertex, path=[]):\n        \"\"\" find a path from start_vertex to end_vertex\n            in graph \"\"\"\n        graph = self.__graph_dict\n        path = path + [start_vertex]\n        if start_vertex == end_vertex:\n            return path\n        if start_vertex not in graph:\n            return None\n        for vertex in graph[start_vertex]:\n            if vertex not in path:\n                extended_path = self.find_path(vertex,\n                                               end_vertex,\n                                               path)\n                if extended_path:\n                    return extended_path\n        return None\n\ng = {\"a\": [\"c\", \"d\"],\n     \"b\": [\"a\", \"c\"],\n     \"c\": [\"a\", \"b\", \"c\", \"d\", \"e\"],\n     \"d\": [\"c\", \"e\"],\n     \"e\": [\"c\", \"f\"],\n     \"f\": [\"c\"]\n     }\n\ngraph = Graph(g)\n\n\"\"\"\ngraph:\n\na&lt;----b         &lt;-- one way\n|\\   /          --- two way\n| \\ /\n|  c &lt;-- f\n| / \\    ^\nv/   \\   |\nd----&gt;e--/\n\n\"\"\"\nprint graph.find_path(\"b\", \"f\")\n\nOutput: ['b', 'a', 'c', 'd', 'e', 'f']\nShould be: ['b', 'a', 'd', 'e', 'f']\n</code></pre>\n\n<p>What is wrong with find_path method in Graph class?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 1, "last_activity_date": 1487807433, "creation_date": 1487807433, "answer_id": 42404505, "question_id": 42404444, "link": "https://stackoverflow.com/questions/42404444/how-to-set-the-regex-to-extract-strings-in-python/42404505#42404505", "title": "How to set the regex to extract strings in python", "body": "<p>You don't need regex for this.</p>\n\n<pre><code>university = 'Tuskegee (Tuskegee University)[5]'\nprint(university.split(\"(\", 1)[0].strip())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 0, "last_activity_date": 1487807568, "creation_date": 1487807568, "answer_id": 42404525, "question_id": 42404444, "link": "https://stackoverflow.com/questions/42404444/how-to-set-the-regex-to-extract-strings-in-python/42404525#42404525", "title": "How to set the regex to extract strings in python", "body": "<p>Use <code>re.sub</code> to remove everything after <code>(</code> if you want to use regex:</p>\n\n<pre><code>import re\nre.sub(r' \\(.*', '', 'Tuskegee (Tuskegee University)[5]')\n# 'Tuskegee'\n\nre.sub(r' \\(.*', '', 'The Five College Region of Western Massachusetts:')\n# 'The Five College Region of Western Massachusetts:'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1124, "user_id": 2030972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/274ef3714152a0d29bbffbffdfa704cd?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2030972/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1487807803, "creation_date": 1487807803, "answer_id": 42404576, "question_id": 42404444, "link": "https://stackoverflow.com/questions/42404444/how-to-set-the-regex-to-extract-strings-in-python/42404576#42404576", "title": "How to set the regex to extract strings in python", "body": "<p>You can use a regex <code>re.sub('\\s*\\(.*',..)</code> to match whitespace plus a \"(\". \nIf this matches, it will replace this with the empty string. If not, nothing is replaced. </p>\n\n<pre><code>import re\nre.sub('\\s*\\(.*', '', 'The Five College Region of Western Massachusetts:')\n#'The Five College Region of Western Massachusetts:'\nre.sub('\\s*\\(.*', '', 'Tuskegee (Tuskegee University)[5]')\n#'Tuskegee'\n</code></pre>\n"}], "owner": {"reputation": 1496, "user_id": 7584138, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fV1F6.png?s=128&g=1", "display_name": "Frank Zhang", "link": "https://stackoverflow.com/users/7584138/frank-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1487807803, "creation_date": 1487807076, "question_id": 42404444, "link": "https://stackoverflow.com/questions/42404444/how-to-set-the-regex-to-extract-strings-in-python", "title": "How to set the regex to extract strings in python", "body": "<p>The strings have two types.\nThe first type:</p>\n\n<pre><code>'The Five College Region of Western Massachusetts:'\n#Doesn't contain \"(\"\n</code></pre>\n\n<p>The second type:</p>\n\n<pre><code>'Tuskegee (Tuskegee University)[5]'\n#Containing \"(\"\n</code></pre>\n\n<p>If the string contains \"(\", remove all characters after\"(\" and the white space before\"(\".\nIf not, extract all characters.</p>\n\n<p>I have firgured out how to extract second type of strings .</p>\n\n<pre><code>r'(.+) \\('\n</code></pre>\n"}, {"tags": ["python", "ubuntu", "pyaudio"], "comments": [{"owner": {"reputation": 3727, "user_id": 500098, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d0f6607a133fa379486fca179ec92c27?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/500098/matthias"}, "edited": false, "score": 2, "creation_date": 1487852344, "post_id": 42404408, "comment_id": 71976399, "body": "This is probably similar to <a href=\"https://github.com/spatialaudio/python-sounddevice/issues/74\" rel=\"nofollow noreferrer\">github.com/spatialaudio/python-sounddevice/issues/74</a>?"}, {"owner": {"reputation": 449, "user_id": 2133679, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a21z8.png?s=128&g=1", "display_name": "Andrew of Scappoose", "link": "https://stackoverflow.com/users/2133679/andrew-of-scappoose"}, "edited": false, "score": 0, "creation_date": 1517638618, "post_id": 42404408, "comment_id": 84186133, "body": "Which version of pyaudio are you using?  I&#39;m familiar with the audio system, and can probably help you troubleshoot the source code; but to find the problem, people need to be able to replicate your software setup."}, {"owner": {"reputation": 328, "user_id": 9201313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cBb0j.jpg?s=128&g=1", "display_name": "ds_secret", "link": "https://stackoverflow.com/users/9201313/ds-secret"}, "edited": false, "score": 0, "creation_date": 1517711227, "post_id": 42404408, "comment_id": 84204853, "body": "@NullSalad What speaker do you have?"}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1518169762, "post_id": 42404408, "comment_id": 84404232, "body": "@Null Salad.. Offering a bounty a week ago, not answering question that was posted in comments by user2133679, not answering during bounty time if an answer is posted... really, why at all offering a bounty? All to get your &quot;promotor&quot; badge... I guess....."}, {"owner": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "edited": false, "score": 0, "creation_date": 1518171220, "post_id": 42404408, "comment_id": 84405233, "body": "lol no, I just forgot about this. I&#39;m using pyaudio 0.2.11, and I have onboard laptop speakers, card: HDA Indetl PCH, Chip Realtek ALC270. Also running python 2.7.12"}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "edited": false, "score": 0, "creation_date": 1518172370, "post_id": 48640271, "comment_id": 84405968, "body": "In step 1, I have lib installed in many locations relative to /usr/ :   <code>&#47;usr&#47;lib&#47;i386-linux-gnu&#47;libstdc++.so.6 &#47;usr&#47;lib&#47;i386-linux-gnu&#47;libstdc++.so.6.0.22 &#47;usr&#47;lib&#47;x86_64-linux-gnu&#47;libstdc++.so.6 &#47;usr&#47;lib&#47;x86_64-linux-gnu&#47;libstdc++.so.6.0.22 &#47;usr&#47;lib32&#47;libstdc++.so.6 &#47;usr&#47;lib32&#47;libstdc++.so.6.0.22 &#47;usr&#47;libx32&#47;libstdc++.so.6 &#47;usr&#47;libx32&#47;libstdc++.so.6.0.22 &#47;usr&#47;local&#47;MATLAB&#47;R2016a&#47;sys&#47;os&#47;glnxa64&#47;libstdc++.so.6.0.17 &#47;usr&#47;local&#47;MATLAB&#47;R2016a&#47;sys&#47;os&#47;glnxa64&#47;libstdc++.so.6.old  &#47;usr&#47;share&#47;gdb&#47;auto-load&#47;usr&#47;lib&#47;i386-linux-gnu&#47;libstdc++.so&zwnj;&#8203;.6.0.22-gdb.py </code> Which should I choose?"}, {"owner": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "edited": false, "score": 0, "creation_date": 1518172645, "post_id": 48640271, "comment_id": 84406126, "body": "(Sorry for the ugly formatting above, I also had to remove a few under usr/share/.. for space requirements that I considered may have been irrelevant :P)"}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "reply_to_user": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "edited": false, "score": 0, "creation_date": 1518350809, "post_id": 48640271, "comment_id": 84461654, "body": "Its indeed a lot. However, I use values 1-11 to name each individual path in this stack mentioned. Rename them with &quot;old&quot; when replacing. Replace 1, 5, 7, 10 with 3. and 2, 6, 8, 9 with 4. &quot;11&quot; seems a python file or is that a typo? If that still doesn&#39;t work try to replace all accordingly with 1 and 2 or with 5, 6 or 7, 8. Alternatively you can replace them all with just 3 if all previous options don&#39;t work.. Time consuming it is this type of debugging ;-("}, {"owner": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "edited": false, "score": 0, "creation_date": 1518427703, "post_id": 48640271, "comment_id": 84485935, "body": "OMG. I did this, AND also re-installed portaudio manually (with tarballs, not apt-get) and it WORKS!!!!!!!!! THANK-YOU!"}, {"owner": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "edited": false, "score": 1, "creation_date": 1518428075, "post_id": 48640271, "comment_id": 84486195, "body": "Although when I run it I get a bunch of errors, I don&#39;t know what they mean, but it still works so I&#39;m not complaining: <code>ALSA lib pcm.c:2266:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear  ALSA lib pcm.c:2266:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe ... ALSA lib pcm_route.c:867:(find_matching_chmap) Found no matching channel map ... Cannot connect to server socket err = No such file or directory ... jack server is not running or cannot be started JackShmReadWritePtr::~JackShmReadWritePtr - Init not done for 4294967295, skipping unlock ...</code> (shortened to fit)"}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "reply_to_user": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "edited": false, "score": 0, "creation_date": 1518430514, "post_id": 48640271, "comment_id": 84487812, "body": "Good to hear it now works. U17 is coming... the pre-release is just up on the website. Depending on how much software you&#39;ve got installed on U16,  I have migrated every now and then to newer U-versions with fresh install, rather than updating from withing a current U-version. This approach requires just one extra HDD or SDD and an extra selection boot-option in the bootloader. This approach makes it less painful &quot;upgrading&quot;. its a kind of hard-wired fail-safe. Also, very useful when MS comes with a complete SP (a.k.a ignores the default restore-point software, which imo is for minor changes.)"}, {"owner": {"reputation": 171, "user_id": 6668743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e37ab0542960c7db9de3e96745916f8?s=128&d=identicon&r=PG&f=1", "display_name": "Lyn", "link": "https://stackoverflow.com/users/6668743/lyn"}, "edited": false, "score": 0, "creation_date": 1563530577, "post_id": 48640271, "comment_id": 100739584, "body": "Mine is still not OK. I just make installed PortAudio and run the test file &#39;pa_devs&#39; within its dir. But the output is always &quot;Number of devices = 0&quot;. Help!!"}], "tags": [], "owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "is_accepted": true, "score": 6, "last_activity_date": 1517911925, "last_edit_date": 1517911925, "creation_date": 1517911380, "answer_id": 48640271, "question_id": 42404408, "link": "https://stackoverflow.com/questions/42404408/pyaudio-cannot-find-any-output-devices/48640271#48640271", "title": "PyAudio cannot find any output devices", "body": "<p>Its likely a broken file that needs replacement. </p>\n\n<ol>\n<li><p>Search for \"/usr/./libstdc++.so.6\" where pip installed it.</p></li>\n<li><p>Search for \"/usr/lib/x86_64-linux-gnu/libstdc++.so.6\" and copy to location at (1). This should fix it.</p></li>\n<li><p>If you have Anaconda version 3 - 4.3.0 or 4.4.0 or earlier installed then check at \"anaconda3/lib/libstdc++.so.6\" and replance with (2).</p></li>\n</ol>\n\n<p>Alternatively <strong>A)</strong> rename the file and place the file from (2) where you renamed the old libstdc++.so.6 file or <strong>B)</strong> upgrade to Anaconda to 5.0.1 version and run <code>conda update --all</code>. And if you do <strong>\"B\"</strong> don't forget to remove the eggs or whls manually first to be sure there is no chance installing old software from there again.</p>\n\n<p>This should fix it for you.</p>\n\n<p>Enjoy ;-)</p>\n"}, {"comments": [{"owner": {"reputation": 2292, "user_id": 6051596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CDh6.jpg?s=128&g=1", "display_name": "Atmanirbhar Bharat", "link": "https://stackoverflow.com/users/6051596/atmanirbhar-bharat"}, "edited": false, "score": 2, "creation_date": 1551001229, "post_id": 54651367, "comment_id": 96473319, "body": "Please can you elaborate on your answers , please see this section on how to best put forward your answer <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}], "tags": [], "owner": {"reputation": 21, "user_id": 1479290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb8e82779e06ca68622f29c48c647bf?s=128&d=identicon&r=PG", "display_name": "emmanuel", "link": "https://stackoverflow.com/users/1479290/emmanuel"}, "is_accepted": false, "score": -2, "last_activity_date": 1551091973, "last_edit_date": 1551091973, "creation_date": 1549978662, "answer_id": 54651367, "question_id": 42404408, "link": "https://stackoverflow.com/questions/42404408/pyaudio-cannot-find-any-output-devices/54651367#54651367", "title": "PyAudio cannot find any output devices", "body": "<p>Install with apt-get; and run with python2. Or install with conda and run with python3.</p>\n"}, {"tags": [], "owner": {"reputation": 1792, "user_id": 10368811, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I-BvG9MaBhM/AAAAAAAAAAI/AAAAAAAANFs/-34xNagYPgQ/photo.jpg?sz=128", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/10368811/rahul-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1561454955, "last_edit_date": 1561454955, "creation_date": 1561451991, "answer_id": 56749998, "question_id": 42404408, "link": "https://stackoverflow.com/questions/42404408/pyaudio-cannot-find-any-output-devices/56749998#56749998", "title": "PyAudio cannot find any output devices", "body": "<p>It looks like you're missing the package <code>portaudio19-dev</code>. Use the following command to install that package using the terminal:</p>\n\n<pre><code>sudo apt-get install portaudio19-dev\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 4382391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/gMRgs.png?s=128&g=1", "display_name": "Null Salad", "link": "https://stackoverflow.com/users/4382391/null-salad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13057, "favorite_count": 4, "accepted_answer_id": 48640271, "answer_count": 3, "score": 6, "last_activity_date": 1561454955, "creation_date": 1487806864, "last_edit_date": 1548502634, "question_id": 42404408, "link": "https://stackoverflow.com/questions/42404408/pyaudio-cannot-find-any-output-devices", "title": "PyAudio cannot find any output devices", "body": "<p>When I run:</p>\n\n<pre><code>import pyaudio\npa = pyaudio.PyAudio()\npa.get_default_output_device_info()\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>IOError: No Default Output Device Available\n</code></pre>\n\n<p>When I say:</p>\n\n<pre><code>pa.get_device_count()\n</code></pre>\n\n<p>It returns <code>0L</code>.</p>\n\n<p>And of course if I list devices</p>\n\n<pre><code>for i in range(0, device_count):\n        print(\"Name: \" + pa.get_device_info_by_index(i)[\"name\"])\n        print(\"Index: \" + pa.get_device_info_by_index(i)[\"index\"])\n        print(\"\\n\")\n</code></pre>\n\n<p>It will not print anything.</p>\n\n<p>I'm running Ubuntu 16.04 and have set my default sink by going:</p>\n\n<pre><code>pacmd list-sinks\npacmd set-default-sink 0\n</code></pre>\n\n<p>I have the latest versions of PulseAudio, ALSA, and PortAudio. Any suggestions?</p>\n\n<p>Update: I also can't view any sound devices on Audacity, despite the fact that they appear under System Settings>Sound. In Audacity I get the error:</p>\n\n<blockquote>\n  <p>Error while opening sound device. Please check the recording device\n  settings and the project sample rate.</p>\n</blockquote>\n\n<p>I think that this is almost certainly a PortAudio issue since the settings page looks like:\n<a href=\"https://i.stack.imgur.com/X2VMs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X2VMs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "file", "unicode", "utf-8", "byte"], "answers": [{"tags": [], "owner": {"reputation": 14732, "user_id": 1026572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a74388494ea3475fe5a99a04d6120bcc?s=128&d=identicon&r=PG", "display_name": "dragonx", "link": "https://stackoverflow.com/users/1026572/dragonx"}, "is_accepted": false, "score": 0, "last_activity_date": 1582233712, "last_edit_date": 1582233712, "creation_date": 1487807622, "answer_id": 42404535, "question_id": 42404380, "link": "https://stackoverflow.com/questions/42404380/python-0xff-byte/42404535#42404535", "title": "Python 0xff byte", "body": "<p>The easiest way is to use <code>try/except</code> to catch the <code>UnicodeDecodeError</code>, then you know that's the file where you have the error.</p>\n\n<p>Most likely that file was not encoded in UTF-8.  In this case you might want to read the file in as either binary:</p>\n\n<pre><code>with open('thirdfile', 'rb') as f:\n    g = f.readlines()\n</code></pre>\n\n<p>How to figure out the file's encoding is a different problem.</p>\n"}, {"comments": [{"owner": {"reputation": 1331, "user_id": 2354685, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/00d76750e1dceb7aae4c77125ddd6791?s=128&d=identicon&r=PG", "display_name": "Malik A. Rumi", "link": "https://stackoverflow.com/users/2354685/malik-a-rumi"}, "edited": false, "score": 0, "creation_date": 1487989610, "post_id": 42405513, "comment_id": 72046205, "body": "I&#39;d give 1+ for chardet. This post <a href=\"http://stackoverflow.com/questions/1461907/html-encoding-issues-%C3%82-character-showing-up-instead-of-nbsp\" title=\"html encoding issues %25C3%2582 character showing up instead of nbsp\">stackoverflow.com/questions/1461907/&hellip;</a> was also very helpful."}], "tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": true, "score": 2, "last_activity_date": 1487832485, "last_edit_date": 1487832485, "creation_date": 1487813904, "answer_id": 42405513, "question_id": 42404380, "link": "https://stackoverflow.com/questions/42404380/python-0xff-byte/42405513#42405513", "title": "Python 0xff byte", "body": "<p>You have a number of problems:</p>\n\n<ul>\n<li><p><code>i = \"b'0xff'\"</code> Creates a string of 7 bytes, not a single 0xFF byte.  <code>i = b'\\xff'</code> or <code>i = bytes([0xff])</code> is the correct method.</p></li>\n<li><p><code>open</code> defaults to decoding files using the encoding returned by <code>local.getpreferredencoding(False)</code>.  Open in binary mode to get raw un-decoded bytes: <code>open('firstfile','rb')</code>.</p></li>\n<li><p><code>g=f.readlines()</code> returns a list of lines.  <code>i in g</code> checks for an <em>exact match</em> of the content of i to the content of a line in the line list.</p></li>\n<li>Use meaningful variable names!</li>\n</ul>\n\n<p>Instead:</p>\n\n<pre><code>byte = b'\\xff'\nwith open('firstfile','rb') as f:\n    file_content = f.read()\nif byte in file_content:\n   ...\n</code></pre>\n\n<p>To decode a file, you need to know it's correct encoding and provide it when you open the file:</p>\n\n<pre><code>with open('firstfile',encoding='utf8') as f:\n    file_content = f.read()\n</code></pre>\n\n<p>If you don't know the encoding, the 3rd party <code>chardet</code> module can help you guess.</p>\n"}, {"tags": [], "owner": {"reputation": 664, "user_id": 8950300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCsBIK54_EA/AAAAAAAAAAI/AAAAAAAAAyw/eFgytMPuY_I/photo.jpg?sz=128", "display_name": "Priyansh gupta", "link": "https://stackoverflow.com/users/8950300/priyansh-gupta"}, "is_accepted": false, "score": 2, "last_activity_date": 1614777148, "last_edit_date": 1614777148, "creation_date": 1571199656, "answer_id": 58405718, "question_id": 42404380, "link": "https://stackoverflow.com/questions/42404380/python-0xff-byte/58405718#58405718", "title": "Python 0xff byte", "body": "<pre><code>#how to decode byte 0xff in python\n</code></pre>\n<p>As we know this is hexadecimal encoding so , utf-8 , codec and other decoders are not able to decode this byte into string.  Here we will use 'UTF-16'  or 'utf-16' encoding to decode the 0xff byte array into string or ASCII character.</p>\n<p>Let me help you understand this:</p>\n<pre><code>st = &quot;this world is very beautiful&quot;\nprint(st.encode('utf-16'))\n&gt;&gt;&gt;b'\\xff\\xfet\\x00h\\x00i\\x00s\\x00 \\x00w\\x00o\\x00r\\x00l\\x00d\\x00 \\x00i\\x00s\\x00 \\x00v\\x00e\\x00r\\x00y\\x00 \\x00b\\x00e\\x00a\\x00u\\x00t\\x00i\\x00f\\x00u\\x00l\\x00'\n</code></pre>\n<p>Again we want to convert it into simple ASCII characters.\nThere are two method by which we can decode a 0xff code to simple string.</p>\n<pre><code>st = b'\\xff\\xfet\\x00h\\x00i\\x00s\\x00 \\x00w\\x00o\\x00r\\x00l\\x00d\\x00 \\x00i\\x00s\\x00 \\x00v\\x00e\\x00r\\x00y\\x00 \\x00b\\x00e\\x00a\\x00u\\x00t\\x00i\\x00f\\x00u\\x00l\\x00'  \n</code></pre>\n<p><strong>First is:</strong></p>\n<pre><code>print(str(st, &quot;utf-16&quot;))\n</code></pre>\n<p><strong>Second is:</strong></p>\n<pre><code>print(st.decode('UTF-16'))   \n</code></pre>\n<p>We will get the string as output:</p>\n<pre><code>&gt;&gt;&gt;'this world is very beautiful'\n</code></pre>\n"}], "owner": {"reputation": 1331, "user_id": 2354685, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/00d76750e1dceb7aae4c77125ddd6791?s=128&d=identicon&r=PG", "display_name": "Malik A. Rumi", "link": "https://stackoverflow.com/users/2354685/malik-a-rumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8622, "favorite_count": 0, "accepted_answer_id": 42405513, "answer_count": 3, "score": 3, "last_activity_date": 1614777148, "creation_date": 1487806713, "last_edit_date": 1495540409, "question_id": 42404380, "link": "https://stackoverflow.com/questions/42404380/python-0xff-byte", "title": "Python 0xff byte", "body": "<p>I got this error:</p>\n\n<pre><code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position: 0, invalid start byte\n</code></pre>\n\n<p>I found this solution: </p>\n\n<pre><code>&gt;&gt;&gt; b\"abcde\".decode(\"utf-8\")\n</code></pre>\n\n<p>from here: \n<a href=\"https://stackoverflow.com/questions/606191/convert-bytes-to-a-python-string\">Convert bytes to a Python string</a></p>\n\n<p>But how do you use it if a) you don\u2019t know where the 0xff is and/or b) you need to decode a file object? What is the correct syntax / format?</p>\n\n<p>I am parsing through a directory, so I tried going through the files one at a time. (NOTE: This won't work when the project gets larger!!!)</p>\n\n<pre><code>&gt;&gt;&gt; i = \"b'0xff'\"\n&gt;&gt;&gt; with open('firstfile') as f:\n...     g=f.readlines()\n... \n&gt;&gt;&gt; i in g\nFalse\n&gt;&gt;&gt; 0xff in g\nFalse\n&gt;&gt;&gt; '0xff' in g\nFalse\n&gt;&gt;&gt; b'0xff' in g\nFalse\n\n&gt;&gt;&gt; with open('secondfile') as f:\n&lt;snip - same process&gt;\n\n&gt;&gt;&gt; with open('thirdfile') as f:\n...     g = f.readlines()\n... \nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 2, in &lt;module&gt;\nFile \"/usr/local/lib/python3.4/codecs.py\", line 313, in decode\n(result, consumed) = self._buffer_decode(data, self.errors, final)\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte\n</code></pre>\n\n<p>So if this is the right file, and if I can't open it with Python (I put it in sublime text, found nothing) how do I decode, or encode, this?\nThanks.</p>\n"}, {"tags": ["javascript", "python", "web2py"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 7632514, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RlgrSx9rsMs/AAAAAAAAAAI/AAAAAAAAAYQ/Lptv3gq05_U/photo.jpg?sz=128", "display_name": "Leonel C&#226;mara", "link": "https://stackoverflow.com/users/7632514/leonel-c%c3%a2mara"}, "is_accepted": false, "score": 1, "last_activity_date": 1488241311, "creation_date": 1488241311, "answer_id": 42498202, "question_id": 42404351, "link": "https://stackoverflow.com/questions/42404351/process-web2py-results-in-javascript/42498202#42498202", "title": "process web2py results in javascript", "body": "<p>You are mixing HTML generated by web2py with javascript in a way that will not work. Remember that javascript is executed client side and python is server side.</p>\n\n<p>In this case I suggest you start with trapped links:\n<a href=\"http://www.web2py.com/books/default/chapter/29/12/components-and-plugins#Trapped-Ajax-links-and-the-A-Helper\" rel=\"nofollow noreferrer\">http://www.web2py.com/books/default/chapter/29/12/components-and-plugins#Trapped-Ajax-links-and-the-A-Helper</a></p>\n\n<p>Which will work well for your usage of either browsing or creating. Later you can revisit this page and make it better. </p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 3908932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CrMsu.jpg?s=128&g=1", "display_name": "Marlysson", "link": "https://stackoverflow.com/users/3908932/marlysson"}, "is_accepted": false, "score": 1, "last_activity_date": 1488320238, "creation_date": 1488320238, "answer_id": 42519762, "question_id": 42404351, "link": "https://stackoverflow.com/questions/42404351/process-web2py-results-in-javascript/42519762#42519762", "title": "process web2py results in javascript", "body": "<p>Use ajax function, the ajax function will be executed in some event ( this case <code>onclick</code> of the select item , then will run some method in your controller, this method in controller will return the data from db and the ajax function have parameter that means the target that result will be appended .</p>\n\n<p>1.Use the ajax function on option element indicating that will executed on onclick event.\n2. In method in your controller make the search on database and return the result.\n3. Set the target of ajax function to some element in your html ( table , li's ...)</p>\n\n<p>1.</p>\n\n<pre><code>&lt;select id=\"ReportSelect\" name=\"myoption\"&gt;\n    &lt;option disabled selected value=\"0\"&gt;&lt;/option&gt;\n    &lt;option value=\"1\" onclick=\"ajax('{{=URL('controller', 'method')}}', ['myoption'], 'your_target')\" /&gt;option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;option 2&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>def method():\n    data = request.vars.myoption\n    your_result_query = db(your_query)\n\n    elements = UL(LI(content) for i in your_result_query)\n    return dict(result=elements)\n</code></pre>\n\n<ol start=\"3\">\n<li>In your view put a element with id with same name of target of <code>ajax_function</code> .</li>\n</ol>\n"}], "owner": {"reputation": 2053, "user_id": 703176, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f0adc3846c8a33b659e6b2053579d2a8?s=128&d=identicon&r=PG", "display_name": "fifamaniac04", "link": "https://stackoverflow.com/users/703176/fifamaniac04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1488320238, "creation_date": 1487806540, "question_id": 42404351, "link": "https://stackoverflow.com/questions/42404351/process-web2py-results-in-javascript", "title": "process web2py results in javascript", "body": "<p>Complete newbie to web2Py.... I have a web page that has a dropdown menu and I want to perform certain queries based on the value selected. </p>\n\n<p><strong>Reports.html</strong></p>\n\n<pre><code>&lt;h2&gt;Reports&lt;/h2&gt;\n\n&lt;p&gt;Please select a report template or choose to write your own.&lt;/p&gt;\n\n&lt;select id=\"ReportSelect\" onchange=\"ReportSelectionChange()\"&gt;\n    &lt;option disabled selected value=\"0\"&gt;&lt;/option&gt;\n    &lt;option value=\"1\"&gt;option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;option 2&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nfunction ReportSelectionChange()\n{\n    var menuItem = document.getElementById(\"ReportSelect\").value;\n\n    switch(menuItem)\n    {\n        case \"1\":\n                {{=myform}}\n                break;\n        case \"2\":\n        default:\n                alert(menuItem);\n                break;\n    }\n}\n</code></pre>\n\n<p></p>\n\n<p><strong>controller python file</strong></p>\n\n<pre><code>def reports():\nuser_id = request.args(0)\ntuple = db(/*My query here*/).select()\n\nmyform = FORM('/*not sure what goes here*/')\n\nreturn dict(tuple=tuple, myform=myform)\n</code></pre>\n\n<p>I want to pass back all the results from the query to the calling page and have the results appear in a table.</p>\n\n<p>Q: How can I do this? what needs to get passed back? can this even be accomplished with javascript?</p>\n"}, {"tags": ["python", "scipy", "ode"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 4735406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551f76d34958bbb7d4ceb77068a752f6?s=128&d=identicon&r=PG&f=1", "display_name": "Grim Reaper", "link": "https://stackoverflow.com/users/4735406/grim-reaper"}, "edited": false, "score": 0, "creation_date": 1487852348, "post_id": 42404584, "comment_id": 71976400, "body": "Thank you for replying! That&#39;s great, my code works now! Do you have any idea why it only works for integer values of n?"}, {"owner": {"reputation": 3480, "user_id": 1764129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b842351820ae0b23c96d398ddff1f0e?s=128&d=identicon&r=PG", "display_name": "p-robot", "link": "https://stackoverflow.com/users/1764129/p-robot"}, "reply_to_user": {"reputation": 69, "user_id": 4735406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551f76d34958bbb7d4ceb77068a752f6?s=128&d=identicon&r=PG&f=1", "display_name": "Grim Reaper", "link": "https://stackoverflow.com/users/4735406/grim-reaper"}, "edited": false, "score": 2, "creation_date": 1487853787, "post_id": 42404584, "comment_id": 71977404, "body": "I think it doesn&#39;t like it when <code>theta</code> is less than or equal to zero.  If you look at the solution output it stops at <code>theta=0</code>."}, {"owner": {"reputation": 69, "user_id": 4735406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551f76d34958bbb7d4ceb77068a752f6?s=128&d=identicon&r=PG&f=1", "display_name": "Grim Reaper", "link": "https://stackoverflow.com/users/4735406/grim-reaper"}, "edited": false, "score": 1, "creation_date": 1487853929, "post_id": 42404584, "comment_id": 71977503, "body": "That makes sense, because that would lead to complex solutions. Is there a way to use ODEint up until the point where theta&lt;0?"}, {"owner": {"reputation": 3480, "user_id": 1764129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b842351820ae0b23c96d398ddff1f0e?s=128&d=identicon&r=PG", "display_name": "p-robot", "link": "https://stackoverflow.com/users/1764129/p-robot"}, "reply_to_user": {"reputation": 69, "user_id": 4735406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551f76d34958bbb7d4ceb77068a752f6?s=128&d=identicon&r=PG&f=1", "display_name": "Grim Reaper", "link": "https://stackoverflow.com/users/4735406/grim-reaper"}, "edited": false, "score": 1, "creation_date": 1487853958, "post_id": 42404584, "comment_id": 71977523, "body": "Interesting.  I&#39;ve edited my answer to plot the solution up until that point."}, {"owner": {"reputation": 69, "user_id": 4735406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551f76d34958bbb7d4ceb77068a752f6?s=128&d=identicon&r=PG&f=1", "display_name": "Grim Reaper", "link": "https://stackoverflow.com/users/4735406/grim-reaper"}, "edited": false, "score": 1, "creation_date": 1487854043, "post_id": 42404584, "comment_id": 71977596, "body": "Fantastic! Thank you so much for all your useful ( and extremely quick) replies!!"}], "tags": [], "owner": {"reputation": 3480, "user_id": 1764129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b842351820ae0b23c96d398ddff1f0e?s=128&d=identicon&r=PG", "display_name": "p-robot", "link": "https://stackoverflow.com/users/1764129/p-robot"}, "is_accepted": true, "score": 1, "last_activity_date": 1487853938, "last_edit_date": 1487853938, "creation_date": 1487807842, "answer_id": 42404584, "question_id": 42404333, "link": "https://stackoverflow.com/questions/42404333/solving-ode-with-scipy-gives-invalid-value-encountered-in-double-scalars-error/42404584#42404584", "title": "Solving ODE with SciPy gives invalid value encountered in double_scalars error", "body": "<p>The following works for me (which looks similar to the <a href=\"https://en.wikipedia.org/wiki/Lane%E2%80%93Emden_equation\" rel=\"nofollow noreferrer\">Wikipedia entry</a>).  The derivative was written incorrectly (negative on the wrong element) and input to the derivative is changed simply to <code>n</code>.  </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nfrom scipy.integrate import odeint\n\ndef poly(y,xi,n):  \n    theta, phi = y  \n    dydxi = [-phi/(xi**2), (xi**2)*theta**n]  \n    return dydxi\n\nfig, ax = plt.subplots()\n\ny0 = [1.,0.]  \nxi = np.linspace(10e-4, 16., 201)\n\nfor n in range(6):\n    sol = odeint(poly, y0, xi, args=(n,))\n    ax.plot(xi, sol[:, 0])\n\nax.axhline(y = 0.0, linestyle = '--', color = 'k')\nax.set_xlim([0, 10])\nax.set_ylim([-0.5, 1.0])\nax.set_xlabel(r\"$\\xi$\")\nax.set_ylabel(r\"$\\theta$\")\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SIQa1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SIQa1.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>The original question used fractional values of the polytropic index, so something like follow could be used to investigate those values ... </p>\n\n<pre><code>for n in range(12):\n    sol = odeint(poly, y0, xi, args=(n/2.,))\n\n    if np.isnan(sol[:,1]).any():\n        stopper = np.where(np.isnan(sol[:,1]))[0][0]\n        ax.plot(xi[:stopper], sol[:stopper, 0])\n    else:\n        ax.plot(xi, sol[:, 0])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EepMc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EepMc.png\" alt=\"fractional polytropic index values\"></a></p>\n"}], "owner": {"reputation": 69, "user_id": 4735406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551f76d34958bbb7d4ceb77068a752f6?s=128&d=identicon&r=PG&f=1", "display_name": "Grim Reaper", "link": "https://stackoverflow.com/users/4735406/grim-reaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 42404584, "answer_count": 1, "score": 2, "last_activity_date": 1487853938, "creation_date": 1487806422, "question_id": 42404333, "link": "https://stackoverflow.com/questions/42404333/solving-ode-with-scipy-gives-invalid-value-encountered-in-double-scalars-error", "title": "Solving ODE with SciPy gives invalid value encountered in double_scalars error", "body": "<p>I'm trying to solve the Lane-Emden equation for arbitrary values of n (polytropic index). In order to use SciPy, I have represented the second-order ODE as a set of two coupled first-order ODEs. I have the following code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nfrom scipy.integrate import odeint\n\ndef poly(y,xi,n):  \n    theta, phi = y  \n    dydt = [phi/(xi**2), -(xi**2)*theta**n]  \n    return dydt\n</code></pre>\n\n<p>Here, I defined phi = theta' </p>\n\n<pre><code>y0 = [1.,0.]  \nxi = np.linspace(0., 16., 201)    \nfor n in range(0,11):  \n    sol = odeint(poly, y0, xi, args=(n/2.,))  \n    plt.plot(xi, sol[:, 0], label=str(n/2.))  \nplt.legend(loc='best')  \nplt.xlabel('xi')  \nplt.grid()  \nplt.show()\n</code></pre>\n\n<p>However, running this code results in the following error:</p>\n\n<blockquote>\n  <p>RuntimeWarning: invalid value encountered in double_scalars<br>\n  app.launch_new_instance()</p>\n</blockquote>\n\n<p>At first, I thought this was a result of the singularity of the equation at xi = 0, so I changed my integration interval:</p>\n\n<pre><code>xi = np.linspace(1e-10, 16., 201)\n</code></pre>\n\n<p>This fixes the problem at n = 0., but not at other values of n. The plots I get don't make any sense and are just plain wrong.</p>\n\n<p>Why do I get this error message, and how can I fix my code?</p>\n"}, {"tags": ["python", "multiprocessing"], "comments": [{"owner": {"reputation": 500, "user_id": 5800952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/162124b3c0b78ad6e3c947e7bbaa001c?s=128&d=identicon&r=PG&f=1", "display_name": "patito", "link": "https://stackoverflow.com/users/5800952/patito"}, "edited": false, "score": 4, "creation_date": 1487806424, "post_id": 42404292, "comment_id": 71955445, "body": "why not read the file at the beggining of the script, and the use dictionaries or list. Every time you call getForwardIP you read the file from scratch. I don&#39;t see the point in doing that"}, {"owner": {"reputation": 25901, "user_id": 493928, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ce109c88210d5c36c957082ddfe92d16?s=128&d=identicon&r=PG", "display_name": "khachik", "link": "https://stackoverflow.com/users/493928/khachik"}, "edited": false, "score": 0, "creation_date": 1487812624, "post_id": 42404292, "comment_id": 71957427, "body": "if the the file is really large and cannot fit request_id -&gt; ip map in memory, you can the technic described here <a href=\"http://stackoverflow.com/a/620492/493928\">stackoverflow.com/a/620492/493928</a> and run each process on a set of offsets you collect"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487808052, "post_id": 42404441, "comment_id": 71956065, "body": "Thanks! Since the file size is huge, isn&#39;t it possible that we won&#39;t be able to store the entire content in the memory/list?"}, {"owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "reply_to_user": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487810547, "post_id": 42404441, "comment_id": 71956788, "body": "If that&#39;s the case, you&#39;ll have a rough time. You&#39;d have a couple of options. You could use something like AWS/Spark to get more memory for a one-off job, or you could buy a bigger machine. Alternatively, you could use a generator instead of returning a list if the <code>request_id_list</code> is in the same order as how they appear in the file (using the <code>yield</code> keyword). Is this the actual case? Does it not fit in memory? Not much use theorizing if it doesn&#39;t matter ;)"}, {"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487881105, "post_id": 42404441, "comment_id": 71996069, "body": "It does fit in the memory, but in this case. My concern was if I have to work on even larger file (which I will definitely have to), what&#39;s the other option. For this one, your solution worked. Thanks!"}], "tags": [], "owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "is_accepted": true, "score": 1, "last_activity_date": 1487807898, "last_edit_date": 1487807898, "creation_date": 1487807062, "answer_id": 42404441, "question_id": 42404292, "link": "https://stackoverflow.com/questions/42404292/best-way-to-perform-multiprocessing-on-a-large-file-python/42404441#42404441", "title": "Best way to perform multiprocessing on a large file Python", "body": "<p>There is indeed a faster way. Don't read and parse the file in 1000 times. Instead, read it in once, parse it once, and store it. File I/O is one of the slowest things you can do (in any language). In memory processing is much faster!</p>\n\n<p>Something like this (obviously untested since I don't have <code>\"xyz.log\"</code> accessible to me. And for the hawks: obviously I didn't profile it either, but I have a sneaky suspicion reading a file once is faster than reading it 1000 times):</p>\n\n<pre><code>import gzip\n\ndef readFile():\n  my_lines = []\n  with gzip.open(\"xyz.log\") as infile:\n     for lines in infile:\n        line = lines.split(\" \")\n        my_lines.append(line)\n\n  return my_lines\n\ndef getForwardIp(lines, requestID): #Doesn't look like you need client IP (yet), so I nuked it\n  myRequestID= line[0]\n  forwardIP= line[1]\n  if myRequestID==requestID:\n     print forwardIP\n\nif __name__ == \"__main__\":\n  parsed_lines = readFile()\n  request_id_list= list()\n  #request_id_list contains &gt;1000 elements\n  for id in request_id_list:\n    getForwardIp(parsed_lines, requestID)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487881242, "post_id": 42405134, "comment_id": 71996147, "body": "This is what I trying to do now. Invoking gerForwardIP() in different processes. Thanks!"}], "tags": [], "owner": {"reputation": 276, "user_id": 6002700, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a19e1f2f3bef0884aee1f284668fdb45?s=128&d=identicon&r=PG&f=1", "display_name": "FluxIX", "link": "https://stackoverflow.com/users/6002700/fluxix"}, "is_accepted": false, "score": 1, "last_activity_date": 1487811236, "creation_date": 1487811236, "answer_id": 42405134, "question_id": 42404292, "link": "https://stackoverflow.com/questions/42404292/best-way-to-perform-multiprocessing-on-a-large-file-python/42405134#42405134", "title": "Best way to perform multiprocessing on a large file Python", "body": "<p>I would probably scan through the single large file for all of the requested IDs, then fully utilize the <code>ThreadPool</code> for invoking <code>getForwardIP()</code>.</p>\n\n<p>You could partition the single large file into multiple regions and have multiple workers process different partitions of the file, but this approach has some challenges and might not work on all file systems.</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487880981, "post_id": 42405248, "comment_id": 71996012, "body": "Yes! This is not the entire code. Turning list to set helped. Will calling each element of the list in different processes optimize it further?"}, {"owner": {"reputation": 152, "user_id": 5481276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9138b5d852374a60aa6ff69ef7825?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence", "link": "https://stackoverflow.com/users/5481276/terrence"}, "reply_to_user": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487883717, "post_id": 42405248, "comment_id": 71997651, "body": "You mean run <code>if found_request_id in request_ids:</code> inside a thread pool? You could try! Since non-write operations on sets are thread-safe, I don&#39;t think it could cause any harm."}, {"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487885498, "post_id": 42405248, "comment_id": 71998594, "body": "Yes! Please refer to the edit. I have posted the entire code."}, {"owner": {"reputation": 152, "user_id": 5481276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9138b5d852374a60aa6ff69ef7825?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence", "link": "https://stackoverflow.com/users/5481276/terrence"}, "reply_to_user": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487889130, "post_id": 42405248, "comment_id": 72000419, "body": "In your new code, I have a hunch the bottleneck is now stdout. If you&#39;re on a Unix system, try running your script in a shell/Terminal with <code>python yourscript.py &gt; output_file.txt</code>"}, {"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487890562, "post_id": 42405248, "comment_id": 72000990, "body": "I am using the same method to run the script."}, {"owner": {"reputation": 152, "user_id": 5481276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9138b5d852374a60aa6ff69ef7825?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence", "link": "https://stackoverflow.com/users/5481276/terrence"}, "reply_to_user": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487891162, "post_id": 42405248, "comment_id": 72001225, "body": "So what do you mean by &quot;I tried to multi-process the for loop, but it didn&#39;t work&quot;? It still slow? Are you not getting your expected output?"}, {"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487892046, "post_id": 42405248, "comment_id": 72001582, "body": "Shouldn&#39;t forwardIP() be spawned in multiple processes? I cannot see that happening."}, {"owner": {"reputation": 152, "user_id": 5481276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9138b5d852374a60aa6ff69ef7825?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence", "link": "https://stackoverflow.com/users/5481276/terrence"}, "reply_to_user": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487892913, "post_id": 42405248, "comment_id": 72001916, "body": "I noticed that in your new code, you removed the argument when instantiating <code>pool</code>. What does <code>multiprocessing.cpu_count()</code> return? <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool\" rel=\"nofollow noreferrer\">The docs say</a> that the default number of worker processes is the number returned by <code>cpu_count()</code>."}, {"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487893013, "post_id": 42405248, "comment_id": 72001954, "body": "That&#39;s 8. I believe pool= Pool() is equivalent to pool= Pool(multiprocessing.cpu_count)."}, {"owner": {"reputation": 152, "user_id": 5481276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9138b5d852374a60aa6ff69ef7825?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence", "link": "https://stackoverflow.com/users/5481276/terrence"}, "reply_to_user": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487893108, "post_id": 42405248, "comment_id": 72001990, "body": "Yes, I just wanted to make sure you weren&#39;t running in a VM or something that would limit it. How are you verifying that <code>forwardIP</code> isn&#39;t being spawned in multiple processes?"}, {"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487893976, "post_id": 42405248, "comment_id": 72002273, "body": "I am not much aware of how multi-processing works. I was just comparing the time it takes the script to display results with and without multi- processing."}, {"owner": {"reputation": 152, "user_id": 5481276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9138b5d852374a60aa6ff69ef7825?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence", "link": "https://stackoverflow.com/users/5481276/terrence"}, "reply_to_user": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487898627, "post_id": 42405248, "comment_id": 72003587, "body": "What happens when you use my <code>found_request_id in request_ids</code> optimization instead of using a for loop in the <code>if __name__ == &quot;__main__&quot;</code> block? There&#39;s an overhead with multiprocessing and what might be happening is that you&#39;re creating too many tasks such that the overhead is greater than the multiprocessing benefits."}, {"owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "edited": false, "score": 0, "creation_date": 1487970377, "post_id": 42405248, "comment_id": 72040141, "body": "Might be a possibility. Thanks for the help."}], "tags": [], "owner": {"reputation": 152, "user_id": 5481276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9138b5d852374a60aa6ff69ef7825?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence", "link": "https://stackoverflow.com/users/5481276/terrence"}, "is_accepted": false, "score": 2, "last_activity_date": 1487811985, "creation_date": 1487811985, "answer_id": 42405248, "question_id": 42404292, "link": "https://stackoverflow.com/questions/42404292/best-way-to-perform-multiprocessing-on-a-large-file-python/42405248#42405248", "title": "Best way to perform multiprocessing on a large file Python", "body": "<p>I agree with mwm314 that you shouldn't be reading the file 1000 times.</p>\n\n<p>I'm assuming you haven't given us the complete code because the <code>client_ip</code> parameter seems to be unused, but here I have rewritten it to only open the file once and to only iterate through each line in the file once. I've also modified <code>getForwardIP</code> to take a list of request ids and immediately turn it into a set for optimal lookup performance.</p>\n\n<pre><code>import gzip\n\n\ndef getForwardIP(client_ip, request_ids):\n    request_ids = set(request_ids)  # to get O(1) lookup\n    with gzip.open(\"xyz.log\") as infile:\n        for lines in infile:\n            line = lines.split(\" \")\n            found_request_id = line[0]\n            found_forward_ip = line[1]\n            if found_request_id in request_ids:\n                print found_forward_ip\n\n\nif __name__ == \"__main__\":\n    request_id_list = list()\n    # request_id_list contains &gt;1000 elements\n    getForwardIP(\"1.2.3.4.\", request_id_list)\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 7564940, "user_type": "registered", "profile_image": "https://graph.facebook.com/1392068957499637/picture?type=large", "display_name": "Praniti Gupta", "link": "https://stackoverflow.com/users/7564940/praniti-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1926, "favorite_count": 0, "accepted_answer_id": 42404441, "answer_count": 3, "score": 1, "last_activity_date": 1487885449, "creation_date": 1487806210, "last_edit_date": 1487885449, "question_id": 42404292, "link": "https://stackoverflow.com/questions/42404292/best-way-to-perform-multiprocessing-on-a-large-file-python", "title": "Best way to perform multiprocessing on a large file Python", "body": "<p>I have a python script that would traverse a list(>1000 elements), find the variable in a large file and then output the result. I am reading the entire file >1000 times. I tried using multiprocessing, but not of much help. \nHere's what I am trying to do:</p>\n\n<pre><code>import gzip\nfrom multiprocessing.pool import ThreadPool as Pool\n\ndef getForwardIP(clientIP, requestID):\n   with gzip.open(\"xyz.log\") as infile:\n     for lines in infile:\n        line= lines.split(\" \")\n        myRequestID= line[0]\n        forwardIP= line[1]\n        if myRequestID==requestID:\n           print forwardIP\nif __name__== \"__main__\":\n    pool_size=8\n    pool= Pool(pool_size)\n    request_id_list= list()\n    #request_id_list contains &gt;1000 elements\n    for id in request_id_list:\n      pool.apply_async(getForwardIP, (\"1.2.3.4.\", id, ))\n   pool.close()\n   pool.join()\n</code></pre>\n\n<p>Is there a faster way? Any help will be appreciated. Thanks!</p>\n\n<p>EDIT</p>\n\n<p>(I AM WRITING MY ENTIRE CODE HERE)\nThanks everyone for the suggestions. Now I am writing the file into a list rather than reading 1000 times. I tried to multi-process the for loop, but it didn't work. Below is the code:</p>\n\n<pre><code>import gzip\nimport datetime\nfrom multiprocessing.pool import ThreadPool as Pool\n\ndef getRequestID(r_line_filename):\n  requestIDList= list()\n  with gzip.open(r_line_filename) as infile:\n  #r_line_filename is a file with request_id and client_ip\n    for lines in infile:\n        line= lines.split(\" \")\n        requestID= line[1].strip(\"\\n\")\n        myclientIP= line[0]\n        if myclientIP==clientIP:\n            requestIDList.append(requestID)  \n   print \"R line List Ready!\"\n   return(requestIDList)  \n\n\n\ndef getFLineList(fFilename):\n   fLineList= list()\n   with gzip.open(fFilename) as infile:\n   #fFilename is a file with format request_id, forward_ip, epoch time\n     for lines in infile:\n        fLineList.append(lines.split())\n  print \"F line list ready!\"\n  return(fLineList)\n\ndef forwardIP(lines, requestID):\n myrequestID= lines[0]\n forwardIP= lines[1]\n epoch= int(lines[2].split(\".\")[0])\n timex= datetime.datetime.fromtimestamp(epoch).strftime('%Y-%m-%d %H:%M:%S')\n if myrequestID==requestID:\n    print \"%s %s %s\"%(clientIP, timex, forwardIP)\n\nif __name__== \"__main__\":\n pool= Pool()\n clientIP= \"x.y.z.a\"\n rLineList= getRequestID(\"rLine_subset.log.gz\")\n fLineList= getFLineList(\"fLine_subset.log.gz\")\n for RID in rLineList:\n    for lines in fLineList:\n        pool.apply_async(forwardIP, (lines, RID,))\n    pool.close()\n    pool.join()\n</code></pre>\n\n<p>The multi-processing part is not working. Actually, this one is much slower. If I don't do multi-processing and simply traverse the list, it is faster. Thanks for your help in advance!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1487806054, "post_id": 42404244, "comment_id": 71955279, "body": "Why are you still using <code>except Exception, e:</code> syntax? The new syntax is supported <a href=\"https://docs.python.org/2/whatsnew/2.6.html#pep-3110-exception-handling-changes\" rel=\"nofollow noreferrer\">from 2.6</a>, which is now over 8 years old."}, {"owner": {"reputation": 1594, "user_id": 1049833, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8fc4322844d5d660cce31637cbbae9c6?s=128&d=identicon&r=PG", "display_name": "tyteen4a03", "link": "https://stackoverflow.com/users/1049833/tyteen4a03"}, "edited": false, "score": 1, "creation_date": 1487806073, "post_id": 42404244, "comment_id": 71955292, "body": "Why is <code>LoadFiles</code> a class? It looks like a function to me."}, {"owner": {"reputation": 403, "user_id": 2055968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00084f86bd691857b690f24eb4133405?s=128&d=identicon&r=PG", "display_name": "ryanskeith", "link": "https://stackoverflow.com/users/2055968/ryanskeith"}, "edited": false, "score": 0, "creation_date": 1487807662, "post_id": 42404244, "comment_id": 71955946, "body": "I know this is an aside but if you haven&#39;t, give a look over the standard suite of Exceptions and Warnings that are given.  There may be one that fits your use case."}], "answers": [{"tags": [], "owner": {"reputation": 1796, "user_id": 6628583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99cac2056788a52e8babbddf2da842a?s=128&d=identicon&r=PG&f=1", "display_name": "Yann", "link": "https://stackoverflow.com/users/6628583/yann"}, "is_accepted": false, "score": 1, "last_activity_date": 1487807413, "last_edit_date": 1487807413, "creation_date": 1487806983, "answer_id": 42404425, "question_id": 42404244, "link": "https://stackoverflow.com/questions/42404244/python-custom-error-class-to-handle-exceptions/42404425#42404425", "title": "Python custom error class to handle Exceptions", "body": "<p>If you just need to exit script on this error, do not raise an exception, just print your error and exit. And it's even easier if you don't need your exception to be reusable:</p>\n\n<pre><code>try:\n    something-bad-causes-error\nexcept Exception as e:\n    print(\"scriptname.py, LoadFiles, error={0}\".format(e))\n    sys.exit(1)\n</code></pre>\n\n<p>Also it would be better to use <code>logging</code> module to print errors.</p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 5800952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/162124b3c0b78ad6e3c947e7bbaa001c?s=128&d=identicon&r=PG&f=1", "display_name": "patito", "link": "https://stackoverflow.com/users/5800952/patito"}, "is_accepted": false, "score": 1, "last_activity_date": 1487807133, "creation_date": 1487807133, "answer_id": 42404456, "question_id": 42404244, "link": "https://stackoverflow.com/questions/42404244/python-custom-error-class-to-handle-exceptions/42404456#42404456", "title": "Python custom error class to handle Exceptions", "body": "<p>I think you are missing the point of custom Exceptions, to create an exception class means that some function or logic of your program will throw that custom exception and you would be able to catch it and handle it. If you are looking only to parse the output, there is no need to create a custom class:</p>\n\n<pre><code>try:\n  something_bad # will raise maybe IndexError or something\nexcept Exception as e:\n  print e.message\n</code></pre>\n\n<p>While with custom classes:</p>\n\n<pre><code>class DidNotHappen(Exception):\n  def __init__(*args, **kwargs):\n    # do something here\n\ndef my_function(something_happens):\n  if somehting_happens:\n    cool\n  else:\n    raise DidNotHappen\n\nmy_function(True) # cool\nmy_function(False) # Raises DidNotHappen exception\n</code></pre>\n\n<p>The point is what exception you want to raise </p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 457, "user_id": 4489733, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/10714df646d369c5a41225156d051cac?s=128&d=identicon&r=PG&f=1", "display_name": "mbudge", "link": "https://stackoverflow.com/users/4489733/mbudge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1568, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487807413, "creation_date": 1487805974, "last_edit_date": 1487806208, "question_id": 42404244, "link": "https://stackoverflow.com/questions/42404244/python-custom-error-class-to-handle-exceptions", "title": "Python custom error class to handle Exceptions", "body": "<p>I'm trying to write a class which can handle errors raised throughout my application. This is so I can change the format of the error messages in one class. </p>\n\n<pre><code>class ErrorMessage(Exception):\n    def __init__(self, error, classname):\n        self.error = error\n        self.classname = classname\n        self.errormsg = \"scriptname.py, {0}, error={1}\".format(self.classname, self.error)\n        print self.errormsg\n\nclass LoadFiles():\n    try:\n        something-bad-causes-error\n    except Exception,e:\n        raise ErrorMessage(e, \"LoadFiles\")\n</code></pre>\n\n<p>At the moment my script printers the custom error, however it continues to print the complete traceback before exiting on this line \"raise ErrorMessage(e, \"LoadFiles\")\"</p>\n\n<pre><code>scriptname.py, LoadFiles, error= LoadFiles instance has no attribute 'config'\nTraceback (most recent call last):\nFile \"run.py\", line 95, in &lt;module&gt;\n  scriptname().main()\nFile \"run.py\", line 54, in main\n  self.loadfiles()\nFile \"run.py\", line 45, in loadfiles\n  \"removed\" = LoadFiles(self.commands).load_files()\nFile \"dir/core/loadfiles.py\", line 55, in load_files\n  raise ErrorMessage(e, \"LoadFiles\")\nscriptname.core.errormessage.ErrorMessage\n</code></pre>\n\n<p>Any ideas how the fix this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487805985, "post_id": 42404161, "comment_id": 71955252, "body": "Accidentally hit delete whoops.  Treat your string as just a list of characters.  Use that in a for loop.  That should give you a push in the right direction without us doing your homework"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487807184, "post_id": 42404161, "comment_id": 71955753, "body": "This isn&#39;t typical Pig Latin.  In general, you remove the letters before the first vowel, tack them to the end of the word, and add &quot;ay&quot;, but that&#39;s not what you&#39;re doing.  Clarify, please?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487807269, "post_id": 42404161, "comment_id": 71955780, "body": "Please clarify your need for a <b>for</b> loop.  For what you&#39;ve shown us, a <b>for</b> loop would be silly: you are correct to use the <b>in</b> operator.  What do you mean by the &quot;convention part&quot;?  This isn&#39;t a typical programming concept."}, {"owner": {"reputation": 3, "user_id": 7607794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8c7b73e2b33679ef74931b1d57a2b8?s=128&d=identicon&r=PG&f=1", "display_name": "user7607794", "link": "https://stackoverflow.com/users/7607794/user7607794"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487808952, "post_id": 42404161, "comment_id": 71956342, "body": "@Prune sry for the typo, the list of VOWELS need to be used in the conversion process."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487809580, "post_id": 42404161, "comment_id": 71956526, "body": "You still haven&#39;t clarified the need for the <b>for</b> loop, or why you&#39;re using this strange conversion.  For instance, this would change the input &quot;trash&quot; into &quot;trashay&quot; (should be &quot;ashtray&quot;), and &quot;easy&quot; would turn into &quot;asyeay&quot;.  I sthis really what you&#39;re trying to do?  A conventional conversion <i>would</i> use a for loop, but to iterate through the letters of the word, not the vowels."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1487807133, "creation_date": 1487807133, "answer_id": 42404455, "question_id": 42404161, "link": "https://stackoverflow.com/questions/42404161/for-loop-in-pig-latin/42404455#42404455", "title": "for loop in Pig Latin", "body": "<p>To change the <strong>while</strong> loop into an infinite loop, perhaps you're supposed to use the following?</p>\n\n<pre><code>while True:\n    text = input(\"Enter something\")\n    if text == \"exit\":\n        break\n</code></pre>\n\n<p>Note that both iteration and <strong>in</strong> work just as well on a string as on a list:</p>\n\n<pre><code>vowel = \"aeiou\"\n...\nif first_letter in vowel:\n    ...\n</code></pre>\n\n<p>I'll update this concerning that <strong>for</strong> loop when you explain the need more clearly.</p>\n"}, {"comments": [{"owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1488133804, "post_id": 42404458, "comment_id": 72085308, "body": "@user7607794 did my answer help you? if yes, you can accept it as the answer!"}], "tags": [], "owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1487808284, "last_edit_date": 1487808284, "creation_date": 1487807165, "answer_id": 42404458, "question_id": 42404161, "link": "https://stackoverflow.com/questions/42404161/for-loop-in-pig-latin/42404458#42404458", "title": "for loop in Pig Latin", "body": "<blockquote>\n  <p>How do I use a for loop to compare the <code>first_letter</code> in vowel?</p>\n</blockquote>\n\n<p>For loops are used to iterate over a sequence, for example a word which is a sequence of characters. So, if you want to iterate over a word say, you can do something like this.</p>\n\n<pre><code>word = \"stackoverflow\"\nfor charcter in word:\n    print(charcter)\n</code></pre>\n\n<p>If you want to iterate over all the words of a sentence, you can do something like this.</p>\n\n<pre><code>sentence = \"Welcome to stackoverflow, my friend\"\nfor word in sentence.split():\n    print(word)\n</code></pre>\n\n<p><a href=\"https://www.tutorialspoint.com/python/string_split.htm\" rel=\"nofollow noreferrer\">sentence.split()</a> - splits the sentence into words based on whitespaces.</p>\n\n<hr>\n\n<p>For <a href=\"https://en.wikipedia.org/wiki/Pig_Latin\" rel=\"nofollow noreferrer\">Pig Latin</a>, I believe you need something like this.</p>\n\n<pre><code>vowel = ['a','e','i','o','u']\nwhile True: # infinite loop\n    text = input(\"Give your input text: \")\n    if text == \"exit\":\n        break  # stops the loop\n    else:\n        if text[0].lower() in vowel:\n            text = text + 'ay'\n        else:\n            if text[0].isupper():\n                text = text[1].upper() + text[2:] + text[0].lower() + 'ay'\n            else:\n                text = text[1:] + text[0] + 'ay'\n        print(text)\n</code></pre>\n\n<p>Sample I/O:</p>\n\n<pre><code>Give your input text: pig\nigpay\nGive your input text: Latin\nAtinlay\nGive your input text: exit\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7607794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8c7b73e2b33679ef74931b1d57a2b8?s=128&d=identicon&r=PG&f=1", "display_name": "user7607794", "link": "https://stackoverflow.com/users/7607794/user7607794"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1487809234, "creation_date": 1487805551, "last_edit_date": 1487809234, "question_id": 42404161, "link": "https://stackoverflow.com/questions/42404161/for-loop-in-pig-latin", "title": "for loop in Pig Latin", "body": "<p>I'm building a Pig Latin programme.\nFirst, I need define VOWELS in a list which is:</p>\n\n<pre><code>vowel = ['a','e','i','o','u']\n</code></pre>\n\n<p>However the requirement for my homework says I need a infinite loop ). and when type 'exit', the programme stops.</p>\n\n<p>Also, I need to use the list when in the conversion part(Hint: <code>for x in VOWELS</code>)</p>\n\n<p>So, how do I use this for loop?</p>\n\n<p>If I use <code>if</code> statement, it works fine. </p>\n\n<pre><code>while text!=('exit'):\n    ltext = text.lower()\n    first_letter = word[0]\n    if first_letter in vowel:\n        new_word=ltext+'ay'\n    else:\n        new_word=ltext[1:]+first_letter+'ay'\n    print(new_word)\n</code></pre>\n\n<p>But I don't know how to use a <code>for</code> loop. So how do I use a <code>for</code> loop to compare the <code>first_letter in vowel</code>?</p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "answers": [{"tags": [], "owner": {"reputation": 3480, "user_id": 1764129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b842351820ae0b23c96d398ddff1f0e?s=128&d=identicon&r=PG", "display_name": "p-robot", "link": "https://stackoverflow.com/users/1764129/p-robot"}, "is_accepted": true, "score": 35, "last_activity_date": 1487806356, "last_edit_date": 1495535384, "creation_date": 1487806356, "answer_id": 42404320, "question_id": 42404154, "link": "https://stackoverflow.com/questions/42404154/increase-tick-label-font-size-in-seaborn/42404320#42404320", "title": "Increase tick label font size in seaborn", "body": "<p>The answer from <a href=\"https://stackoverflow.com/questions/25328003/how-can-i-change-the-font-size-using-seaborn-facetgrid\">here</a> makes fonts larger in <code>seaborn</code> ... </p>\n\n<pre><code>import pandas as pd, numpy as np, seaborn as sns\nfrom matplotlib import pyplot as plt\n\n# Generate data\ndf = pd.DataFrame({\"Draughts\": np.random.randn(100)})\n\n# Plot using seaborn\nsns.set(font_scale = 2)\nb = sns.violinplot(y = \"Draughts\", data = df)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/25328003/how-can-i-change-the-font-size-using-seaborn-facetgrid\"><img src=\"https://i.stack.imgur.com/BXZy4.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 388, "user_id": 9408126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90773eb3e7098620a0bb98af2ab918a?s=128&d=identicon&r=PG", "display_name": "Levi Baguley", "link": "https://stackoverflow.com/users/9408126/levi-baguley"}, "edited": false, "score": 0, "creation_date": 1614810375, "post_id": 60890839, "comment_id": 117502224, "body": "If your plot is a <code>FacetGrid</code> you can just do <code>g.set_yticklabels(size = 15)</code>"}], "tags": [], "owner": {"reputation": 141, "user_id": 8491889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8a449d347d86f7441a2f30997754f7?s=128&d=identicon&r=PG&f=1", "display_name": "Kabir Ahuja", "link": "https://stackoverflow.com/users/8491889/kabir-ahuja"}, "is_accepted": false, "score": 14, "last_activity_date": 1585332222, "last_edit_date": 1585332222, "creation_date": 1585328982, "answer_id": 60890839, "question_id": 42404154, "link": "https://stackoverflow.com/questions/42404154/increase-tick-label-font-size-in-seaborn/60890839#60890839", "title": "Increase tick label font size in seaborn", "body": "<p>Expanding on the accepted answer, if you want to just rescale the font size of the tick labels without scaling other labels by the same amount, you can try this:</p>\n\n<pre><code>import pandas as pd, numpy as np, seaborn as sns\nfrom matplotlib import pyplot as plt\n\n# Generate data\ndf = pd.DataFrame({\"Draughts\": np.random.randn(100)})\n\n# Plot using seaborn\nb = sns.violinplot(y = \"Draughts\", data = df)\nb.set_yticklabels(b.get_yticks(), size = 15)\n\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/cfFU6.png\" alt=\"Plot link\"></p>\n"}, {"tags": [], "owner": {"reputation": 27334, "user_id": 7758804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBA7j.jpg?s=128&g=1", "display_name": "Trenton McKinney", "link": "https://stackoverflow.com/users/7758804/trenton-mckinney"}, "is_accepted": false, "score": 5, "last_activity_date": 1590024624, "last_edit_date": 1590024624, "creation_date": 1590023647, "answer_id": 61925542, "question_id": 42404154, "link": "https://stackoverflow.com/questions/42404154/increase-tick-label-font-size-in-seaborn/61925542#61925542", "title": "Increase tick label font size in seaborn", "body": "<ul>\n<li>This answer will address setting x or y ticklabel size independently.</li>\n<li><code>sns.set(font_scale=2)</code> from <a href=\"https://stackoverflow.com/users/1764129/p-robot\">p-robot</a> will set <strong>all the figure fonts</strong>.</li>\n<li>The answer from <a href=\"https://stackoverflow.com/users/8491889/kabir-ahuja\">Kabir Ahuja</a> works because y-labels position is being used as the text.\n\n<ul>\n<li>If there are y-labels text, that solution will not work.</li>\n</ul></li>\n</ul>\n\n<h2>Given the following plot</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib.pyplot as plt\nimport seaborn as sns\n\n# data\ntips = sns.load_dataset(\"tips\")\n\n# plot figure\nplt.figure(figsize=(8, 6))\np = sns.violinplot(x=\"day\", y=\"total_bill\", data=tips)\n\n# get label text\n_, ylabels = plt.yticks()\n_, xlabels = plt.xticks()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dYXvk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dYXvk.png\" alt=\"place graph here\"></a></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>yl = list(ylabels)\nprint(yl)\n&gt;&gt;&gt;[Text(0, -10.0, ''),\nText(0, 0.0, ''),\nText(0, 10.0, ''),\nText(0, 20.0, ''),\nText(0, 30.0, ''),\nText(0, 40.0, ''),\nText(0, 50.0, ''),\nText(0, 60.0, ''),\nText(0, 70.0, '')]\n\n# see that there are no text labels\nprint(yl[0].get_text())\n&gt;&gt;&gt; ''\n\n# see that there are text labels on the x-axis\nprint(list(xlabels))\n&gt;&gt;&gt; [Text(0, 0, 'Thur'), Text(1, 0, 'Fri'), Text(2, 0, 'Sat'), Text(3, 0, 'Sun')]\n\n# the answer from Kabir Ahuja works because of this\nprint(p.get_yticks())\n&gt;&gt;&gt; array([-10.,   0.,  10.,  20.,  30.,  40.,  50.,  60.,  70.])\n\n# in this case, the following won't work because the text is ''\n# this is what to do if the there are text labels\np.set_yticklabels(ylabels, size=15)\n\n# set the x-axis ticklabel size\np.set_xticklabels(xlabels, size=5)\n</code></pre>\n\n<ul>\n<li>There are no ytick labels because\n\n<ul>\n<li><code>y_text = [x.get_text() for x in ylabels] = ['', '', '', '', '', '', '', '', '']</code></li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/MIXnK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MIXnK.png\" alt=\"enter image description here\"></a></p>\n\n<h2>To set yticklabel size</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code># use\np.set_yticklabels(p.get_yticks(), size=15)\n\n# or\n_, ylabels = plt.yticks()\np.set_yticklabels(ylabels, size=15)\n</code></pre>\n\n<h2>To set xticklable size</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code># use\np.set_xticklabels(p.get_xticks(), size=15)\n\n# or\n_, xlabels = plt.xticks()\np.set_xticklabels(xlabels, size=15)\n</code></pre>\n\n<h2>With the given plot</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code># set the y-labels with\np.set_yticklabels(p.get_yticks(), size=5)\n\n# set the x-labels with\n_, xlabels = plt.xticks()\np.set_xticklabels(xlabels, size=5)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/N2BiX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/N2BiX.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41092, "favorite_count": 5, "protected_date": 1604345705, "accepted_answer_id": 42404320, "answer_count": 3, "score": 22, "last_activity_date": 1619103376, "creation_date": 1487805535, "last_edit_date": 1619103376, "question_id": 42404154, "link": "https://stackoverflow.com/questions/42404154/increase-tick-label-font-size-in-seaborn", "title": "Increase tick label font size in seaborn", "body": "<p>I have a huge problem with my seaborn plots. For some reason, the numbers along the axis are printed with a really small font, which makes them unreadable. I've tried to scale them with </p>\n\n<pre><code>with plt.rc_context(dict(sns.axes_style(\"whitegrid\"),\n                     **sns.plotting_context(font_scale=5))):\n    b = sns.violinplot(y=\"Draughts\", data=dr)\n</code></pre>\n\n<p>To no help, this only makes the axis text larger, but not the number along the axis. <a href=\"https://i.stack.imgur.com/c6myr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c6myr.png\" alt=\"See image\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487806091, "post_id": 42404100, "comment_id": 71955298, "body": "Possible duplicate <a href=\"http://stackoverflow.com/questions/2479558/controlling-the-fan-speed-and-detecting-the-inside-temperature-of-the-pc-with-py\" title=\"controlling the fan speed and detecting the inside temperature of the pc with py\">stackoverflow.com/questions/2479558/&hellip;</a>  TL;DR: don&#39;t do it unless you know what you&#39;re doing: you could fry your computer."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1487812872, "post_id": 42404100, "comment_id": 71957502, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2479558/controlling-the-fan-speed-and-detecting-the-inside-temperature-of-the-pc-with-py\">Controlling the fan speed and detecting the inside temperature of the pc with python?</a>"}], "owner": {"reputation": 31, "user_id": 7419434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8e61f92b7b1d966a602a62258ee107?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonbites Programming", "link": "https://stackoverflow.com/users/7419434/pythonbites-programming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487805306, "creation_date": 1487805306, "question_id": 42404100, "link": "https://stackoverflow.com/questions/42404100/how-to-spin-the-fans-such-as-your-cpu-cooler-with-a-python-script", "title": "How to spin the fans such as your cpu cooler with a python script?", "body": "<p>So, i have basic knowledge of python, and i'd like to know how to spin fans such as the case fans or the cpu cooling fans or even the Power supply fans. i have looked up on this, but haven't really found anything helpful, thank you everyone. PS,i already know about pypi but i can't install it, im thinking of using the info i find out to make a program that detects if your cpu is getting too hot or your fans are spinning too fast.</p>\n"}, {"tags": ["python", "plot", "seaborn"], "comments": [{"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1487854050, "post_id": 42404074, "comment_id": 71977604, "body": "I&#39;d consider <code>array([ 10.37823942])</code> to be a single element series. Further, <code>tmp = np.random.normal(10, 1, 1); assert tmp is np.atleast_1d(tmp)</code> runs without error, indicating that that <code>np.atleast_1d</code> returns the same object back."}, {"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1487854537, "post_id": 42404074, "comment_id": 71977973, "body": "Also, on the topic of scalars in numpy, note that <code>tmp</code> has <code>shape</code> of <code>(1,)</code> and a <code>len</code> of <code>1</code>. I can convert to a real scalar -- to demonstrate that numpy makes this distinction -- with <code>np.asscalar</code>, which no longer has shape or length."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1487857528, "post_id": 42404074, "comment_id": 71980243, "body": "Yep you&#39;re right."}], "answers": [{"comments": [{"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "edited": false, "score": 0, "creation_date": 1487889762, "post_id": 42423898, "comment_id": 72000691, "body": "Nice workaround. Unfortunately this means I&#39;ve got to normalize, or accept a doubled count. A related workaround that works in my case involves  restricting the range of bars (e.g. <code>bars=range(0, max_value, bin_size)</code>) and then adding an element to the dataset at, say <code>max_value+1</code>. I&#39;d still love to find a direct solution, though."}, {"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "edited": false, "score": 0, "creation_date": 1487889930, "post_id": 42423898, "comment_id": 72000740, "body": "Note that I&#39;m making several calls to <code>distplot</code> in a loop, to plot an overlapping set of histograms in the same axis covering a variety of conditions. I&#39;m using seaborn&#39;s features in these plots, but need to be able to plot a single element series because, in some figures, one of the conditions will have only a single element. Also, this use case precludes normalization."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1487901969, "post_id": 42423898, "comment_id": 72004441, "body": "If you&#39;re not drawing the KDE (and hence not using normalization) and specifying the bin size (and hence not using the reference rule default) then there is no functional difference between <code>sns.distplot</code> and <code>ax.hist</code>."}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "reply_to_user": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "edited": false, "score": 1, "creation_date": 1487922846, "post_id": 42423898, "comment_id": 72011310, "body": "@ohruunuruus I don&#39;t understand the problem. You posted a bit of code that didn&#39;t work. If it worked I would expect it to create a plot like my first one (modulo style). I that&#39;s not what you expected please clarify. The other two are alternatives that may or may not work for you depending on your actual needs, which are unknown to me. Based on the information you provided that&#39;s as far as I can go."}, {"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 1, "creation_date": 1487965920, "post_id": 42423898, "comment_id": 72037863, "body": "@Goyo and @mwaskom you&#39;re right that <code>plt.hist()</code> will actually suffice in this case. My issue with your <code>sns.distplot()</code> solution is that it involves normalization of the data, which isn&#39;t acceptable in my use case. But <code>plt.hist()</code> works with my inputs out of the box. Still, it&#39;s very unsatisfying that <code>sns.distplot()</code> can&#39;t operate with a single-element series -- a bug IMHO."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1487966490, "post_id": 42423898, "comment_id": 72038216, "body": "Sorry you&#39;re so unsatisfied with the software and technical support you&#39;re getting for free."}, {"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1487970286, "post_id": 42423898, "comment_id": 72040089, "body": "@mwaskom sorry... didn&#39;t mean to offend, and not really sure where the hostility is coming from. If you&#39;re a seaborn developer then thanks for your work; you&#39;ve done a great job producing something that dramatically improves upon previous visualization capabilities in python. I don&#39;t think it&#39;s unreasonable to expect modules to work robustly under a broad set of circumstances -- not because I think I&#39;m entitled to anything for free, but because I think the open-source movement is important and the code it produces must meet the highest of standards. If I can create a fix, I&#39;ll offer it freely."}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "reply_to_user": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "edited": false, "score": 0, "creation_date": 1488105634, "post_id": 42423898, "comment_id": 72076049, "body": "@ohruunuruus My answer deals with the problem as explained in the question --arrays of shape (1,) and I think it leads to a correct plot in that case. It&#39;s not meant to be applied to other data because that&#39;s not what you asked and it didn&#39;t look like you needed help with that. The fact that seaborn does not work with this kind of data out of the box might be a bug but fixing it is out of the scope of SO, there are other means to file and discuss bug reports and patches."}, {"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "edited": false, "score": 0, "creation_date": 1488117775, "post_id": 42423898, "comment_id": 72079590, "body": "@Goyo yes, as I said above using <code>plt.hist</code> does work for me, which is why I accepted. The <code>distplot</code> solution does not work because I can&#39;t normalize the plot (I acknowledge this is not in the original question, but I have been quite explicit about it in the comments). So let&#39;s review: you answered, we discussed, I accepted, and made a note that I think this is a bug. Why am I getting a hard time because I think it&#39;s a bug? I know SO is not going to fix the bug. Did I indicate that I thought otherwise? Honestly, I&#39;m astonished that this conversation is continuing. Am I being trolled here??"}], "tags": [], "owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1487876843, "last_edit_date": 1487876843, "creation_date": 1487875964, "answer_id": 42423898, "question_id": 42404074, "link": "https://stackoverflow.com/questions/42404074/seaborn-distplot-errors-when-generating-histograms-for-single-element-series/42423898#42423898", "title": "Seaborn distplot errors when generating histograms for single-element series", "body": "<p>You can trick <code>seaborn</code> when the array length is 1 by duplicating the value:</p>\n\n<pre><code>rs = np.random.RandomState(0)\nnum_elements = 1\nx = rs.normal(10, 1, num_elements)\nsns.distplot(np.r_[x, x], kde=False, norm_hist=True)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/asUL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/asUL7.png\" alt=\"seaborn histogram\"></a></p>\n\n<p>Or if you don't need the goodies provided by seaborn (most of them doesn't make sense for a single element) just use matplotlib or pandas:</p>\n\n<pre><code>plt.hist(x, bins=1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/etzPd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/etzPd.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>pd.Series(x).hist(bins=1);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/V6hG3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V6hG3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2734, "favorite_count": 1, "accepted_answer_id": 42423898, "answer_count": 1, "score": 3, "last_activity_date": 1487876843, "creation_date": 1487805207, "last_edit_date": 1487808785, "question_id": 42404074, "link": "https://stackoverflow.com/questions/42404074/seaborn-distplot-errors-when-generating-histograms-for-single-element-series", "title": "Seaborn distplot errors when generating histograms for single-element series", "body": "<p>When I use seaborn's <a href=\"http://seaborn.pydata.org/generated/seaborn.distplot.html\" rel=\"nofollow noreferrer\">distplot</a> (in 0.7.1) to visualize a histogram, I get an error if the input series contains only a single element. In other words, something like</p>\n\n<pre><code>import numpy as np\nimport seaborn as sns\n\nnum_elements = 1000\nsns.distplot(np.random.normal(10, 1, num_elements))\n</code></pre>\n\n<p>works beautifully but if I set <code>num_elements</code> to 1 I get the following error:</p>\n\n<pre><code>In [8]: num_elements = 1\n\nIn [9]: sns.distplot(np.random.normal(10, 1, num_elements))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-9-35e3f8293582&gt; in &lt;module&gt;()\n----&gt; 1 sns.distplot(np.random.normal(10, 1, num_elements))\n\n/usr/local/lib/python2.7/site-packages/seaborn/distributions.pyc in distplot(a, bins, hist, kde, rug, fit, hist_kws, kde_kws, rug_kws, fit_kws, color, vertical, norm_hist, axlabel, label, ax)\n    207     if hist:\n    208         if bins is None:\n--&gt; 209             bins = min(_freedman_diaconis_bins(a), 50)\n    210         hist_kws.setdefault(\"alpha\", 0.4)\n    211         hist_kws.setdefault(\"normed\", norm_hist)\n\n/usr/local/lib/python2.7/site-packages/seaborn/distributions.pyc in _freedman_diaconis_bins(a)\n     28     # From http://stats.stackexchange.com/questions/798/\n     29     a = np.asarray(a)\n---&gt; 30     h = 2 * iqr(a) / (len(a) ** (1 / 3))\n     31     # fall back to sqrt(a) bins if iqr is 0\n     32     if h == 0:\n\nTypeError: len() of unsized object\n</code></pre>\n\n<p>After poking around the source a bit, I found that I could avoid this error by specifying the number of bins. But that opens me up to another one: </p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-10-6e6569de737a&gt; in &lt;module&gt;()\n----&gt; 1 sns.distplot(np.random.normal(10, 1, num_elements), bins=10)\n\n/usr/local/lib/python2.7/site-packages/seaborn/distributions.pyc in distplot(a, bins, hist, kde, rug, fit, hist_kws, kde_kws, rug_kws, fit_kws, c\\olor, vertical, norm_hist, axlabel, label, ax)\n    213         hist_color = hist_kws.pop(\"color\", color)\n    214         ax.hist(a, bins, orientation=orientation,\n--&gt; 215                 color=hist_color, **hist_kws)\n    216         if hist_color != color:\n    217             hist_kws[\"color\"] = hist_color\n\n/usr/local/lib/python2.7/site-packages/matplotlib/__init__.pyc in inner(ax, *args, **kwargs)\n   1817                     warnings.warn(msg % (label_namer, func.__name__),\n   1818                                   RuntimeWarning, stacklevel=2)\n-&gt; 1819             return func(ax, *args, **kwargs)\n   1820         pre_doc = inner.__doc__\n   1821         if pre_doc is None:\n\n/usr/local/lib/python2.7/site-packages/matplotlib/axes/_axes.pyc in hist(self, x, bins, range, normed, weights, cumulative, bottom, histtype, align, orientation, rwidth, log, color, label, stacked, **kwargs)\n   5933             x = np.array([[]])\n   5934         else:\n-&gt; 5935             x = _normalize_input(x, 'x')\n   5936         nx = len(x)  # number of datasets\n   5937\n\n/usr/local/lib/python2.7/site-packages/matplotlib/axes/_axes.pyc in _normalize_input(inp, ename)\n   5875                 else:\n   5876                     raise ValueError(\n-&gt; 5877                         \"{ename} must be 1D or 2D\".format(ename=ename))\n   5878                 if inp.shape[1] &lt; inp.shape[0]:\n   5879                     warnings.warn(\n\nValueError: x must be 1D or 2D\n</code></pre>\n\n<p>What's going on here? Is there some workaround I can use to force seaborn to plot a histogram for this single element series? For context, I need this because I'm plotting multiple histograms, describing different conditions, on a shared axis. In some cases, there might be only a single element in that condition, yet I ought to be able to plot just the one bar!</p>\n"}, {"tags": ["python", "string", "performance"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487805454, "post_id": 42404062, "comment_id": 71955052, "body": "This isn&#39;t related, but when will <code>idx == int(space)</code> be True and <code>idx + 1 == int(space) + 1</code> NOT be True? am I missing something? And what&#39;s with the naked <code>except</code>? Those are not good. Are you trying to catch an <code>IndexError</code>? Usually, you should try to deal with those explicitly, or correct your code so that won&#39;t happen... Honestly, I&#39;m having a hard time grokking your code vis a vis your description of what it does... You aren&#39;t <i>inserting</i>, so to speak, but rather, replacing. And 3 nested loops seems totally unnecessary."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487805949, "post_id": 42404062, "comment_id": 71955236, "body": "But, to answer your question, your algorithm here is going to be at <i>least</i> quadratic in terms of length of <code>XML_FIELD_ONE</code>, and actually, it is O(m*n^2) as far as I can tell, where <code>n = len(XML_FIELD_ONE)</code> and <code>m = len(XML_FIELD_TWO)</code>... doesn&#39;t seem like the right approach at all, given your description of what you are trying to accomplish."}, {"owner": {"reputation": 27, "user_id": 2719118, "user_type": "registered", "profile_image": "https://graph.facebook.com/791455626/picture?type=large", "display_name": "Alex Kliorin", "link": "https://stackoverflow.com/users/2719118/alex-kliorin"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487805980, "post_id": 42404062, "comment_id": 71955250, "body": "The space is only 7, 8, 24, meaning it wouldn&#39;t be true unless you&#39;re at index 7. Meaning index 7 and 8 are replaced by 7, and 8.   The naked except is to catch the last idx error, yes. When you&#39;re at MAX index, you cannot look at MAX index + 1."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487806099, "post_id": 42404062, "comment_id": 71955302, "body": "You are confused. <code>int(space) + 1</code> will not give you the <i>next item in the list</i>. It is <i>always going to be True</i> if the left side of the <code>and</code> is  True."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487806232, "post_id": 42404062, "comment_id": 71955348, "body": "Also, are for example at <code>7</code>, are you trying to insert <code>\\r\\n</code> at <code>7</code> and then <code>\\n</code> at <code>8</code>? What is the output you are expecting for the example input here?"}, {"owner": {"reputation": 27, "user_id": 2719118, "user_type": "registered", "profile_image": "https://graph.facebook.com/791455626/picture?type=large", "display_name": "Alex Kliorin", "link": "https://stackoverflow.com/users/2719118/alex-kliorin"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487806344, "post_id": 42404062, "comment_id": 71955406, "body": "Perhaps, but as for idx+1 == int(space)+1, in this example, idx could be any of len(XML_LIST_ONE) values (33) while int(space) can only be 7, 8, or 24."}, {"owner": {"reputation": 27, "user_id": 2719118, "user_type": "registered", "profile_image": "https://graph.facebook.com/791455626/picture?type=large", "display_name": "Alex Kliorin", "link": "https://stackoverflow.com/users/2719118/alex-kliorin"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487806455, "post_id": 42404062, "comment_id": 71955462, "body": "I need to insert a space character at every &quot;index&quot; in XML_TWO (7,8,24) The rule is &quot;If XML_TWO has a pair of numbers right next to one another (7,8) then 7 is \\r and 8 is \\n. If you have a solo index (24) then its just \\n.  I am open to any more sanemethod you know of please :)"}, {"owner": {"reputation": 27, "user_id": 2719118, "user_type": "registered", "profile_image": "https://graph.facebook.com/791455626/picture?type=large", "display_name": "Alex Kliorin", "link": "https://stackoverflow.com/users/2719118/alex-kliorin"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487806703, "post_id": 42404062, "comment_id": 71955560, "body": "@juanpa.arrivillaga  Added a simple example of what I&#39;m trying to do:  The simple way of doing this is:      for offset in XML_FILED_TWO:         XML_FILED_ONE[offset] = \\n   But this violates the &quot;if two offsets are together, first one is \\r, next one is \\n&quot;"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1487806861, "post_id": 42404062, "comment_id": 71955623, "body": "Yes, I understand that, but if <code>idx == int(space)</code> is True, then <code>idx + 1 == int(space) + 1</code> <b>will always be True</b>"}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "edited": false, "score": 0, "creation_date": 1487808432, "post_id": 42404062, "comment_id": 71956194, "body": "The offset numbers in XML_FIELD_TWO are wrong, in that they do not account for the insertion of the newlines. Is this simply because of how you constructed the example, or is this reflective of how the input really appears?"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487808324, "post_id": 42404376, "comment_id": 71956160, "body": "Yeah, I used a for-loop and kept track of the number of insertions, but inserting in reverse works great too!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1487806699, "creation_date": 1487806699, "answer_id": 42404376, "question_id": 42404062, "link": "https://stackoverflow.com/questions/42404062/index-offset-performance-is-terrible-what-am-i-doing-wrong-python/42404376#42404376", "title": "Index/Offset performance is terrible - what am I doing wrong? Python", "body": "<p>You wrote a triple loop when you need only one; this is horridly inefficient.  You know exactly where to insert the new items: go directly there, instead of incrementing two counters to find the place.</p>\n\n<p>I'm not sure exactly where you need the insertions, but this should be close.  To keep the original indices correct, you need to insert from the right end and work to the left; that's why I reverse XML_FIELD_TWO.</p>\n\n<p>I left in my debugging print statements.</p>\n\n<pre><code>XML_FIELD_ONE = list(\"Iamacatthatisoddlyimmunetocatnip\")\nXML_FIELD_TWO = [7,8,24]\n\nprint XML_FIELD_ONE\nXML_FIELD_TWO = XML_FIELD_TWO[::-1]\nprint XML_FIELD_TWO\ni = 0\nwhile i &lt; len(XML_FIELD_TWO):\n    print i, XML_FIELD_TWO[i]\n    if XML_FIELD_TWO[i] - XML_FIELD_TWO[i+1] == 1:\n        XML_FIELD_ONE.insert(XML_FIELD_TWO[i], '\\r\\n')\n        i += 2\n    else:\n        XML_FIELD_ONE.insert(XML_FIELD_TWO[i], '\\n')\n        i += 1\n\n    print \"\\n\", ''.join(XML_FIELD_ONE)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['I', 'a', 'm', 'a', 'c', 'a', 't', 't', 'h', 'a', 't', 'i', 's', 'o', 'd', 'd', 'l', 'y', 'i', 'm', 'm', 'u', 'n', 'e', 't', 'o', 'c', 'a', 't', 'n', 'i', 'p']\n[24, 8, 7]\n0 24\n\nIamacatthatisoddlyimmune\ntocatnip\n1 8\n\nIamacatt\nhatisoddlyimmune\ntocatnip\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487811609, "post_id": 42404624, "comment_id": 71957092, "body": "Nicely shorter than my &quot;level-appropriate&quot; solution.  I hope others learn from this."}], "tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 1, "last_activity_date": 1487808055, "creation_date": 1487808055, "answer_id": 42404624, "question_id": 42404062, "link": "https://stackoverflow.com/questions/42404062/index-offset-performance-is-terrible-what-am-i-doing-wrong-python/42404624#42404624", "title": "Index/Offset performance is terrible - what am I doing wrong? Python", "body": "<p>You can use the python <a href=\"https://docs.python.org/3/library/functions.html?highlight=enumerate#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate()</code></a> function to produce a sequence of index/value pairs in a single loop. You can then use the <a href=\"https://docs.python.org/3/library/stdtypes.html?highlight=list#typesseq-mutable\" rel=\"nofollow noreferrer\"><code>list.insert(pos, val)</code></a> method to insert the character you want.</p>\n\n<pre><code>XML_FIELD_ONE = list(\"Iamacatthatisoddlyimmunetocatnip\")\nXML_FIELD_TWO = [7,8,24]\n\nlast_i = len(XML_FIELD_TWO) - 1\n\nfor i,p in enumerate(XML_FIELD_TWO):\n    ch = '\\r' if i &lt; last_i and XML_FIELD_TWO[i+1] == p+1 else '\\n'\n    XML_FIELD_ONE.insert(p, ch)\n\nprint(XML_FIELD_ONE)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 2719118, "user_type": "registered", "profile_image": "https://graph.facebook.com/791455626/picture?type=large", "display_name": "Alex Kliorin", "link": "https://stackoverflow.com/users/2719118/alex-kliorin"}, "edited": false, "score": 0, "creation_date": 1487811390, "post_id": 42404631, "comment_id": 71957028, "body": "Much thanks for taking the time and helping me think through this!"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1487808685, "last_edit_date": 1487808685, "creation_date": 1487808091, "answer_id": 42404631, "question_id": 42404062, "link": "https://stackoverflow.com/questions/42404062/index-offset-performance-is-terrible-what-am-i-doing-wrong-python/42404631#42404631", "title": "Index/Offset performance is terrible - what am I doing wrong? Python", "body": "<p>Here is a linear algorithm to achieve what you are trying to do. Actually, using <code>try-except</code> is perfectly appropriate here, but you should <em>never have a naked except</em>:</p>\n\n<pre><code>&gt;&gt;&gt; XML_FIELD_ONE = list(\"Iamacatthatisoddlyimmunetocatnip\")\n&gt;&gt;&gt; XML_FIELD_TWO = [7,8,24]\n&gt;&gt;&gt; insertions = 0\n&gt;&gt;&gt; for i, e in enumerate(XML_FIELD_TWO):\n...     try:\n...         cont = e + 1 == XML_FILED_TWO[i+1]\n...     except IndexError:\n...         cont = False\n...     if cont:\n...         XML_FI.insert(e+1+insertions, '\\r\\n')\n...         XML_FIELD_ONE.insert(e+1+insertions, '\\r\\n')\n...     else:\n...         XML_FIELD_ONE.insert(e + insertions, '\\n')\n...     insertions += 1\n...\n&gt;&gt;&gt; print(\"\".join(XML_FIELD_ONE))\nIamacatt\n\nhatisoddlyimmune\ntocatnip\n&gt;&gt;&gt;\n</code></pre>\n\n<p>I keep track of the number of insertions which offsets the index used in <code>.insert</code> to keep the original indices correct.</p>\n"}], "owner": {"reputation": 27, "user_id": 2719118, "user_type": "registered", "profile_image": "https://graph.facebook.com/791455626/picture?type=large", "display_name": "Alex Kliorin", "link": "https://stackoverflow.com/users/2719118/alex-kliorin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 42404376, "answer_count": 3, "score": 0, "last_activity_date": 1487808685, "creation_date": 1487805150, "last_edit_date": 1487806668, "question_id": 42404062, "link": "https://stackoverflow.com/questions/42404062/index-offset-performance-is-terrible-what-am-i-doing-wrong-python", "title": "Index/Offset performance is terrible - what am I doing wrong? Python", "body": "<p>I need to assemble a long text string from xml fields.</p>\n\n<p>XML_FIELD_ONE = \"Iamacatthatisoddlyimmunetocatnip\"</p>\n\n<p>XML_FILED_TWO = [7,8,24]</p>\n\n<p>FILED_TWO contains the index at which to insert either \\n or \\r.\nIf two indexes are 1 apart (like 7, 8), then I need to insert \\r\\n. If the index is solo (like 24) I need to insert \\n.</p>\n\n<p>It takes about 2 minutes to process a 25K line file with this code.\nWhat am I doing wrong?</p>\n\n<pre><code>XML_FIELD_ONE = list(\"Iamacatthatisoddlyimmunetocatnip\")\nXML_FILED_TWO = [7,8,24]\n\nidx = 0\nwhile idx &lt;= len(XML_FIELD_ONE):\n   for position in XML_FIELD_ONE:\n       for space in XML_FIELD_TWO:\n\n             if idx == int(space) and idx+1 == int(space)+1:\n               XML_FIELD_ONE[idx] = \"\\r\"\n\n                        try:\n                            XML_FIELD_ONE[idx+1] = \"\\n\"\n                        except:\n                            pass\n\n              elif idx == int(space):\n                 XML_FIELD_ONE[idx] = \"\\n\"\n\n    idx += 1\n\n\nnew_text = \"\".join(XML_FIELD_ONE)\nreturn new_text\n</code></pre>\n\n<p>The simple way of doing this is:</p>\n\n<pre><code>for offset in XML_FILED_TWO:\n    XML_FILED_ONE[offset] = \\n\n</code></pre>\n\n<p>But this violates the \"if two offsets are together, first one is \\r, next one is \\n\"</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "autoencoder"], "answers": [{"tags": [], "owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "is_accepted": false, "score": 1, "last_activity_date": 1496966784, "creation_date": 1496966784, "answer_id": 44447362, "question_id": 42404040, "link": "https://stackoverflow.com/questions/42404040/sparse-autoencoder-cost-function-in-tensorflow/44447362#44447362", "title": "sparse autoencoder cost function in tensorflow", "body": "<p>I don't know that this will work for you, but I have seen it promote some sparsity in my own networks. I would recommend modifying your loss to use a combination of softmax cross entropy (or KL divergence if you wish) and l2 regularization loss on the weights. I calculate the l2 loss with:</p>\n\n<pre><code>l2 = sum(tf.nn.l2_loss(var) for var in tf.trainable_variables() if not 'biases' in var.name)\n</code></pre>\n\n<p>This makes me regularize only on the weights, not biases, assuming that you have \"biases\" in the name of your bias tensors (lots of the tf.contrib.rnn library names bias tensors so that this works). The overall cost function I use is then:</p>\n\n<pre><code>cost = tf.nn.softmax_or_kl_divergence_or_whatever(labels=labels, logits=logits)\ncost = tf.reduce_mean(cost)\ncost = cost + beta * l2\n</code></pre>\n\n<p>where <code>beta</code> is a hyperparameter of the network that I then vary when exploring my hyperparameter space.</p>\n\n<p>Another option, very similar to this, is to use l1 regularization instead. <a href=\"http://cs231n.github.io/neural-networks-2/#reg\" rel=\"nofollow noreferrer\">This is supposed to promote sparsity more than l2 regularization</a>. In my own examples I was not explicitly trying to promote sparsity, but saw it as a consequence of l2 regularization, but maybe l1 will give you more luck. You can implement l1 regularization with something like:</p>\n\n<pre><code>l1 = sum(tf.reduce_sum(tf.abs(var)) for var in tf.trainable_variables() if not 'biases' in var.name)\n</code></pre>\n\n<p>followed by the cost definition above, substituting <code>l1</code> for <code>l2</code>.</p>\n"}], "owner": {"reputation": 4752, "user_id": 1226676, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/81a8c25931e45888eec1b07e094add07?s=128&d=identicon&r=PG", "display_name": "nathan lachenmyer", "link": "https://stackoverflow.com/users/1226676/nathan-lachenmyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2394, "favorite_count": 3, "answer_count": 1, "score": 10, "last_activity_date": 1496966784, "creation_date": 1487805002, "last_edit_date": 1488236237, "question_id": 42404040, "link": "https://stackoverflow.com/questions/42404040/sparse-autoencoder-cost-function-in-tensorflow", "title": "sparse autoencoder cost function in tensorflow", "body": "<p>I've been going through a variety of TensorFlow tutorials to try to familiarize myself with how it works; and I've become interested in utilizing autoencoders.</p>\n\n<p>I started by using the model autoencoder in Tensorflow's models repository:</p>\n\n<p><a href=\"https://github.com/tensorflow/models/tree/master/autoencoder\" rel=\"noreferrer\">https://github.com/tensorflow/models/tree/master/autoencoder</a></p>\n\n<p>I got it working, and while visualizing the weights, expected to see something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/F33rU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F33rU.png\" alt=\"enter image description here\"></a></p>\n\n<p>however, my autoencoder gives me garbage-looking weights (despite accurately recreating the input image).</p>\n\n<p><a href=\"https://i.stack.imgur.com/tkOvj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tkOvj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Further reading suggests that what I'm missing is that my autoencoder is not sparse, so I need to enforce a sparsity cost to the weights.</p>\n\n<p>I've tried to add a sparsity cost to the original code (based off of this example<a href=\"https://github.com/georgeiswang/Sparse-Autoencoder-Tensorflow/blob/master/sparse_autoencoder.py/06_autoencoder.py\" rel=\"noreferrer\">3</a>), but it doesn't seem to change the weights to looking like the model ones.</p>\n\n<p>How can I properly change the cost to get features that look like the ones that a typically found in the autoencoded MNIST dataset?  My modified model is here:</p>\n\n<pre><code>import numpy as np\nimport random\nimport math\nimport tensorflow as tf\nfrom tensorflow.examples.tutorials.mnist import input_data\nimport matplotlib.pyplot as plt\n\ndef xavier_init(fan_in, fan_out, constant = 1):\n    low = -constant * np.sqrt(6.0 / (fan_in + fan_out))\n    high = constant * np.sqrt(6.0 / (fan_in + fan_out))\n    return tf.random_uniform((fan_in, fan_out), minval = low, maxval = high, dtype = tf.float32)\n\nclass AdditiveGaussianNoiseAutoencoder(object):\n    def __init__(self, n_input, n_hidden, transfer_function = tf.nn.sigmoid, optimizer = tf.train.AdamOptimizer(),\n                 scale = 0.1):\n        self.n_input = n_input\n        self.n_hidden = n_hidden\n        self.transfer = transfer_function\n        self.scale = tf.placeholder(tf.float32)\n        self.training_scale = scale\n        network_weights = self._initialize_weights()\n        self.weights = network_weights\n        self.sparsity_level= 0.1#np.repeat([0.05], self.n_hidden).astype(np.float32)\n        self.sparse_reg = 10\n\n        # model\n        self.x = tf.placeholder(tf.float32, [None, self.n_input])\n        self.hidden = self.transfer(tf.add(tf.matmul(self.x + scale * tf.random_normal((n_input,)),\n                self.weights['w1']),\n                self.weights['b1']))\n        self.reconstruction = tf.add(tf.matmul(self.hidden, self.weights['w2']), self.weights['b2'])\n\n        # cost\n        self.cost = 0.5 * tf.reduce_sum(tf.pow(tf.subtract(self.reconstruction, self.x), 2.0)) + self.sparse_reg \\\n                        * self.kl_divergence(self.sparsity_level, self.hidden)\n\n        self.optimizer = optimizer.minimize(self.cost)\n\n        init = tf.global_variables_initializer()\n        self.sess = tf.Session()\n        self.sess.run(init)\n\n    def _initialize_weights(self):\n        all_weights = dict()\n        all_weights['w1'] = tf.Variable(xavier_init(self.n_input, self.n_hidden))\n        all_weights['b1'] = tf.Variable(tf.zeros([self.n_hidden], dtype = tf.float32))\n        all_weights['w2'] = tf.Variable(tf.zeros([self.n_hidden, self.n_input], dtype = tf.float32))\n        all_weights['b2'] = tf.Variable(tf.zeros([self.n_input], dtype = tf.float32))\n        return all_weights\n\n    def partial_fit(self, X):\n        cost, opt = self.sess.run((self.cost, self.optimizer), feed_dict = {self.x: X,\n                                                                            self.scale: self.training_scale\n                                                                            })\n        return cost\n\n    def kl_divergence(self, p, p_hat):\n        return tf.reduce_mean(p * tf.log(p) - p * tf.log(p_hat) + (1 - p) * tf.log(1 - p) - (1 - p) * tf.log(1 - p_hat))\n\n    def calc_total_cost(self, X):\n        return self.sess.run(self.cost, feed_dict = {self.x: X,\n                                                     self.scale: self.training_scale\n                                                     })\n\n    def transform(self, X):\n        return self.sess.run(self.hidden, feed_dict = {self.x: X,\n                                                       self.scale: self.training_scale\n                                                       })\n\n    def generate(self, hidden = None):\n        if hidden is None:\n            hidden = np.random.normal(size = self.weights[\"b1\"])\n        return self.sess.run(self.reconstruction, feed_dict = {self.hidden: hidden})\n\n    def reconstruct(self, X):\n        return self.sess.run(self.reconstruction, feed_dict = {self.x: X,\n                                                               self.scale: self.training_scale\n                                                               })\n\n    def getWeights(self):\n        return self.sess.run(self.weights['w1'])\n\n    def getBiases(self):\n        return self.sess.run(self.weights['b1'])\n\n\nmnist = input_data.read_data_sets('MNIST_data', one_hot = True)\n\ndef get_random_block_from_data(data, batch_size):\n    start_index = np.random.randint(0, len(data) - batch_size)\n    return data[start_index:(start_index + batch_size)]\n\nX_train = mnist.train.images\nX_test = mnist.test.images\n\nn_samples = int(mnist.train.num_examples)\ntraining_epochs = 50\nbatch_size = 128\ndisplay_step = 1\n\nautoencoder = AdditiveGaussianNoiseAutoencoder(n_input = 784,\n                                               n_hidden = 200,\n                                               transfer_function = tf.nn.sigmoid,\n                                               optimizer = tf.train.GradientDescentOptimizer(learning_rate = 0.01),\n                                               scale = 0.01)\n\nfor epoch in range(training_epochs):\n    avg_cost = 0.\n    total_batch = int(n_samples / batch_size)\n    # Loop over all batches\n    for i in range(total_batch):\n        batch_xs = get_random_block_from_data(X_train, batch_size)\n\n        # Fit training using batch data\n        cost = autoencoder.partial_fit(batch_xs)\n        # Compute average loss\n        avg_cost += cost / n_samples * batch_size\n\n    # Display logs per epoch step\n    if epoch % display_step == 0:\n        print(\"Epoch:\", '%04d' % (epoch + 1), \"cost=\", avg_cost)\n\nprint(\"Total cost: \" + str(autoencoder.calc_total_cost(X_test)))\n\nimageToUse = random.choice(mnist.test.images)\n\nplt.imshow(np.reshape(imageToUse,[28,28]), interpolation=\"nearest\", cmap=\"gray\", clim=(0, 1.0))\nplt.show()\n\n# input weights\nwts = autoencoder.getWeights()\ndim = math.ceil(math.sqrt(autoencoder.n_hidden))\nplt.figure(1, figsize=(dim, dim))\nfor i in range(0,autoencoder.n_hidden):\n    im = wts.flatten()[i::autoencoder.n_hidden].reshape((28,28))\n    plt.subplot(dim, dim, i+1)\n    #plt.title('Feature Weights ' + str(i))\n    plt.imshow(im, cmap=\"gray\", clim=(-1.0, 1.0))\n    plt.colorbar()\nplt.show()\n\npredicted_imgs = autoencoder.reconstruct(X_test[:100])\n\n# plot the reconstructed images\nplt.figure(1, figsize=(10, 10))\nplt.title('Autoencoded Images')\nfor i in range(0,100):\n    im = predicted_imgs[i].reshape((28,28))\n    plt.subplot(10, 10, i+1)\n    plt.imshow(im, cmap=\"gray\", clim=(0.0, 1.0))\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "class", "core"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 5, "creation_date": 1487804786, "post_id": 42403973, "comment_id": 71954812, "body": "What do you mean by &quot;duct type&quot;? Do you mean &quot;monkey-patch&quot;? If so, no, you can&#39;t do that."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1487804892, "post_id": 42403973, "comment_id": 71954843, "body": "@kindall: I think that was a mixup between <i>duck-type</i> and <i>duct tape</i>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487804899, "post_id": 42403973, "comment_id": 71954848, "body": "If you <i>do mean monkey-patch</i>, it&#39;s possible, but you&#39;ve got to understand the CPython internals pretty well: <a href=\"https://gist.github.com/mahmoudimus/295200\" rel=\"nofollow noreferrer\">gist.github.com/mahmoudimus/295200</a>"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1487804919, "post_id": 42403973, "comment_id": 71954860, "body": "@KenWhite You mean duck tape? :)"}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1487805135, "post_id": 42403973, "comment_id": 71954931, "body": "Workaround: <code>def is_empty(lst): if len(lst) == 0: return True</code>"}, {"owner": {"reputation": 15014, "user_id": 2505645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lgpuB.jpg?s=128&g=1", "display_name": "Markus Meskanen", "link": "https://stackoverflow.com/users/2505645/markus-meskanen"}, "edited": false, "score": 0, "creation_date": 1493798950, "post_id": 42403973, "comment_id": 74550472, "body": "@user1019129 mind accepting my answer, or ask for improvements if there&#39;s somthing wrong with it? :)"}], "answers": [{"tags": [], "owner": {"reputation": 15014, "user_id": 2505645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lgpuB.jpg?s=128&g=1", "display_name": "Markus Meskanen", "link": "https://stackoverflow.com/users/2505645/markus-meskanen"}, "is_accepted": false, "score": 3, "last_activity_date": 1487805299, "last_edit_date": 1495542363, "creation_date": 1487805299, "answer_id": 42404096, "question_id": 42403973, "link": "https://stackoverflow.com/questions/42403973/is-there-a-way-to-monkey-patch-core-python-class/42404096#42404096", "title": "Is there a way to monkey-patch core python class?", "body": "<p>If you mean <a href=\"https://stackoverflow.com/questions/5626193/what-is-a-monkey-patch\"><em>monkey patching</em></a> instead of <a href=\"https://stackoverflow.com/questions/4205130/what-is-duck-typing\">duck typing</a>, then yes, you can do it with <code>ctypes</code> as @juanpa.arrivillaga suggested in the comments: <a href=\"https://gist.github.com/mahmoudimus/295200\" rel=\"nofollow noreferrer\">https://gist.github.com/mahmoudimus/295200</a></p>\n\n<p>But even then I'd highly advice against it, since it can break everyone else's code if they import your module. Imagine what would happen if <em>everyone</em> started messing with the internals, you couldn't safely import anything anymore!</p>\n\n<p>What you should do instead is subclass the Python classes:</p>\n\n<pre><code>class Boo(list):\n    def is_empty(self):\n        return not self\n\n&gt;&gt;&gt; my_list = Boo([1, 2, 3, 4, 5])\n&gt;&gt;&gt; my_list2 = Boo([])\n&gt;&gt;&gt; my_list.is_empty()\nFalse\n&gt;&gt;&gt; my_list2.is_empty()\nTrue\n&gt;&gt;&gt; my_list2.append(5)\n&gt;&gt;&gt; my_list2.is_empty()\nFalse\n&gt;&gt;&gt; my_list2\n[5]\n</code></pre>\n"}], "owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1487808867, "creation_date": 1487804694, "last_edit_date": 1487808867, "question_id": 42403973, "link": "https://stackoverflow.com/questions/42403973/is-there-a-way-to-monkey-patch-core-python-class", "title": "Is there a way to monkey-patch core python class?", "body": "<p>Is there a way to monkey-patch core python class ?\nSomething along the lines  :</p>\n\n<pre><code>class Boo:\n    def is_empty(self) : return not self\n\nlist.is_empty = Boo.is_empty\n</code></pre>\n\n<blockquote>\n  <p>TypeError: can't set attributes of built-in/extension type 'list'</p>\n</blockquote>\n\n<p>I don't want to extend it , I want to monkey-patch it.</p>\n\n<hr>\n\n<p>Sorry I meant \"monkey-patch\".</p>\n"}, {"tags": ["python", "google-apps-script", "google-drive-api", "virus"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 7607340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5knA.png?s=128&g=1", "display_name": "x0100", "link": "https://stackoverflow.com/users/7607340/x0100"}, "edited": false, "score": 1, "creation_date": 1490727823, "post_id": 42417418, "comment_id": 73238957, "body": "I enabled both &quot;Google Admin SDK&quot; and &quot;Google Drive API&quot; but still same error message. Is it possible that the error is related to the credentials (json file)? I placed the json file on C: root, also in a folder &quot;.credentials&quot; on C: and the same steps in my user folder. No change. Any idea?"}], "tags": [], "owner": {"reputation": 1295, "user_id": 3460432, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/9VqwC.jpg?s=128&g=1", "display_name": "OblongMedulla", "link": "https://stackoverflow.com/users/3460432/oblongmedulla"}, "is_accepted": false, "score": 0, "last_activity_date": 1487857277, "creation_date": 1487857277, "answer_id": 42417418, "question_id": 42403970, "link": "https://stackoverflow.com/questions/42403970/cryptolocker-restore-drive-file-version-with-python-script/42417418#42417418", "title": "CryptoLocker - restore Drive file version with Python script", "body": "<p>Take a look at this page? <a href=\"http://Https://github.com/hut6/google-drive-restore\" rel=\"nofollow noreferrer\">Https://github.com/hut6/google-drive-restore</a></p>\n\n<p>Did you check out step 1.?</p>\n\n<blockquote>\n  <p>You must add the Google Admin SDK and Google Drive APIs to a client in\n  the Google Developers Console. Download the JSON credentials file, and\n  add it to the root directory as credentials.json.</p>\n</blockquote>\n"}], "owner": {"reputation": 49, "user_id": 7607340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5knA.png?s=128&g=1", "display_name": "x0100", "link": "https://stackoverflow.com/users/7607340/x0100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487857277, "creation_date": 1487804686, "last_edit_date": 1487847989, "question_id": 42403970, "link": "https://stackoverflow.com/questions/42403970/cryptolocker-restore-drive-file-version-with-python-script", "title": "CryptoLocker - restore Drive file version with Python script", "body": "<p>Long story short, I got infected by the CryptoLocker Virus. My \u201cnormal\u201d local files are not the problem because these files I backup. But I was using the Google Drive Sync client and all my Drive files got encrypted. I didn\u2019t back them up because I thought Google Drive is save and my data is stored all over the world (my fault I know).</p>\n\n<p>Now I can see that Google Drive provides versioning. This means my old uploads are still on the server. I can restore the previous version file by file but by several thousand files, good luck.\nI contacted the Google G Suite support team (I\u2019m using Google G Suite for my business) and asked them if they can restore the latest version in one bulk action. The answer was \u201cno you have to do it file by file\u201d. Therefore I was checking the internet for scripts, tools etc.</p>\n\n<p>I found a Python script \u201cbitbucket.org/snippets/cyclick/EBbEG\u201d which should allow me to restore the preview working version.</p>\n\n<ol>\n<li><p>Install python \"python.org/ftp/python/2.7.12/python-2.7.12.msi\".</p></li>\n<li><p>Run \"CMD\".</p></li>\n<li><p>Download the pip modul \"bootstrap.pypa.io/get-pip.py\".</p></li>\n<li><p>Copy it to the \"Scripts\" folder.</p></li>\n<li><p>Run the script via CMD \"python get-pip.py\".</p></li>\n<li><p>Turn on the Drive API and generate a OAuth client ID: developers.google.com/drive/v3/web/quickstart/python</p></li>\n<li><p>Downloaded the json file, placed it in the \u201c.credentials\u201d folder and renamed it to \u201cclient_secret.json\u201d. (like mentioned in line 28)</p></li>\n<li><p>Install Google library under CMD \"pip install --upgrade google-api-python-client\".</p></li>\n<li><p>Afterwards I copied the script and saved it as \u201ccleanup.py\u201d.</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code># This script removes the file revision created by the Zepto Ransomware and \r\n# renames the file back to what it was before infection.\r\n# This file CHANGES the drive. USE IT AT YOUR OWN RISK. I'M NOT RESPONSIBLE FOR ANY LOSE.\r\n# \r\n# Requirements : \r\n#  * Avoid encoding problem by setting the python encoding before running the script\r\n#   $ export PYTHONIOENCODING=utf8\r\n#  * Turn on the Drive API and generate a OAuth client ID : https://developers.google.com/drive/v3/web/quickstart/python\r\n\r\nfrom __future__ import print_function\r\nimport httplib2\r\nimport os\r\nimport json\r\n\r\nfrom apiclient import discovery\r\nimport oauth2client\r\nfrom oauth2client import client\r\nfrom oauth2client import tools\r\n\r\ntry:\r\n    import argparse\r\n    flags = argparse.ArgumentParser(parents=[tools.argparser]).parse_args()\r\nexcept ImportError:\r\n    flags = None\r\n\r\n# If modifying these scopes, delete your previously saved credentials at ~/.credentials/drive-python-quickstart.json\r\nSCOPES = 'https://www.googleapis.com/auth/drive'\r\nCLIENT_SECRET_FILE = 'client_secret.json'\r\nAPPLICATION_NAME = 'Drive API Python Quickstart'\r\n\r\ndef get_credentials():\r\n    \"\"\"\r\n    Gets valid user credentials from storage.\r\n\r\n    If nothing has been stored, or if the stored credentials are invalid,\r\n    the OAuth2 flow is completed to obtain the new credentials.\r\n\r\n    Returns:\r\n        Credentials, the obtained credential.\r\n    \"\"\"\r\n    home_dir = os.path.expanduser('~')\r\n    credential_dir = os.path.join(home_dir, '.credentials')\r\n    if not os.path.exists(credential_dir):\r\n      os.makedirs(credential_dir)\r\n    credential_path = os.path.join(credential_dir, 'drive-python-quickstart.json')\r\n\r\n    store = oauth2client.file.Storage(credential_path)\r\n    credentials = store.get()\r\n    if not credentials or credentials.invalid:\r\n      flow = client.flow_from_clientsecrets(CLIENT_SECRET_FILE, SCOPES)\r\n      flow.user_agent = APPLICATION_NAME\r\n      if flags:\r\n        credentials = tools.run_flow(flow, store, flags)\r\n      else: \r\n        # Needed only for compatibility with Python 2.6\r\n        credentials = tools.run(flow, store)\r\n      print('Storing credentials to ' + credential_path)\r\n    return credentials\r\n\r\ndef deleteFilesWithSuffix(suffix, service):\r\n  results = service.files().list(\r\n      corpus=\"domain\",\r\n      spaces=\"drive\",\r\n      pageSize=1000,\r\n      orderBy=\"folder,modifiedTime desc,name\",\r\n      q=\"name contains '\" + suffix + \"'\",\r\n      fields=\"nextPageToken, files(id, name)\"   \r\n        ).execute()\r\n  items = results.get('files', [])\r\n  if not items:\r\n    print('No files found.')\r\n  else:\r\n    for item in items:\r\n      if item['name'].endswith(suffix):\r\n        try:\r\n          deleteFile = service.files().delete(fileId=item['id']).execute()\r\n          print(\"Deleted file : \" + item['name'])\r\n        except Exception as e:\r\n          print(\"Could not delete file : \" + item['name'] + \". Details : \" + str(e))\r\n\r\ndef renameFile(fileId, originalFilename, service):\r\n  try:\r\n    print(\"Renaming file \" + fileId + \" to \" + originalFilename)\r\n    service.files().update(fileId=fileId, body={'name': originalFilename}, fields='name').execute()\r\n  except Exception as e:\r\n    print(\"Could not rename file \" + fileId + \" / Details : \" + str(e))\r\n\r\ndef revertFiles(suffix, service):\r\n  results = service.files().list(\r\n      corpus=\"domain\",\r\n      spaces=\"drive\",\r\n      pageSize=1000,\r\n      orderBy=\"folder,modifiedTime desc,name\",\r\n      #q=\"modifiedTime &gt; '2016-09-04T12:00:00'\",\r\n      q= \"name contains '\" + suffix + \"'\",\r\n      fields=\"nextPageToken, files(id, name)\"   \r\n      ).execute()\r\n  items = results.get('files', [])\r\n  if not items:\r\n    print('No files found.')\r\n  else:\r\n      for item in items:\r\n        details = service.files().get(fileId=item['id'], fields=\"lastModifyingUser,name\").execute()\r\n        if details['name'].endswith(suffix):\r\n            print(\"About to handle file \" + details['name'] + \" having id \" + item['id'])\r\n            revs = service.revisions().list(fileId=item['id'], fields=\"kind,revisions\").execute()\r\n            allrev = revs['revisions']\r\n            lastRev = allrev[-1]\r\n            if not lastRev['originalFilename'].endswith(suffix):\r\n              # there was a rename problem during previous run -&gt; fix it \r\n              originalFilename = lastRev['originalFilename']\r\n              renameFile(item['id'], originalFilename, service)\r\n            elif len(allrev) &gt; 1:\r\n                origRev = allrev[-2]\r\n                if lastRev['originalFilename'].endswith(suffix):\r\n                  try:\r\n                    print(\"Removing last revision of file \" + details['name']) \r\n                    revDel = service.revisions().delete(fileId=item['id'], revisionId=lastRev['id']).execute()\r\n                    originalFilename = origRev['originalFilename']\r\n                    renameFile(item['id'], originalFilename, service)\r\n                  except Exception as e:\r\n                    print(\"Could not process file : \" + details['name'] + \" / Details : \" + str(e))\r\n\r\ndef main():\r\n    credentials = get_credentials()\r\n    http = credentials.authorize(httplib2.Http())\r\n    service = discovery.build('drive', 'v3', http=http)\r\n\r\n    deleteFilesWithSuffix('_HELP_instructions.html', service)\r\n    revertFiles('zepto', service)\r\n\r\nif __name__ == '__main__':\r\n    main()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"10\">\n<li>I ran the script via CMD \u201cpython cleanup.py\u201d.</li>\n</ol>\n\n<p>I receive an error message:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>C:\\Python27\\Scripts&gt;python cleanup.py\r\nTraceback (most recent call last):\r\n  File \"cleanup.py\", line 133, in &lt;module&gt;\r\n    main()\r\n  File \"cleanup.py\", line 125, in main\r\n    credentials = get_credentials()\r\n  File \"cleanup.py\", line 48, in get_credentials\r\n    credentials = store.get()\r\n  File \"C:\\Python27\\lib\\site-packages\\oauth2client\\client.py\", line 407, in get\r\n    return self.locked_get()\r\n  File \"C:\\Python27\\lib\\site-packages\\oauth2client\\file.py\", line 54, in locked_get\r\n    credentials = client.Credentials.new_from_json(content)\r\n  File \"C:\\Python27\\lib\\site-packages\\oauth2client\\client.py\", line 302, in new_from_json\r\n    module_name = data['_module']\r\nKeyError: '_module'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What did I do wrong? Is it possible that there is something wrong with the credentials/jason file?</p>\n\n<p>Now I\u2019m here guys and asking you for help. Maybe we can get this script running so that I can restore the latest working version of my files.</p>\n\n<p>I really appreciate any help you can provide.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "edited": false, "score": 1, "creation_date": 1487808588, "post_id": 42403984, "comment_id": 71956234, "body": "I tried to do that but I get an error =&gt; <code>*** TypeError: to_numeric() got an unexpected keyword argument &#39;downcast&#39;</code>.  Here is my code <code>pd.to_numeric(data.phone, errors=&#39;ignore&#39;, downcast=&#39;integer&#39;)</code>"}, {"owner": {"reputation": 1270, "user_id": 7605829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5e02fe54f3e3dfc03ca4e6d216816c9?s=128&d=identicon&r=PG&f=1", "display_name": "\u041d\u0435\u043a\u0442\u043e", "link": "https://stackoverflow.com/users/7605829/%d0%9d%d0%b5%d0%ba%d1%82%d0%be"}, "reply_to_user": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "edited": false, "score": 1, "creation_date": 1487809199, "post_id": 42403984, "comment_id": 71956414, "body": "What version of pandas do you have?"}, {"owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "edited": false, "score": 1, "creation_date": 1487809245, "post_id": 42403984, "comment_id": 71956428, "body": "pandas version is &quot;0.18.1&quot;"}, {"owner": {"reputation": 3515, "user_id": 141947, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/yQTK4.jpg?s=128&g=1", "display_name": "pashute", "link": "https://stackoverflow.com/users/141947/pashute"}, "edited": false, "score": 1, "creation_date": 1511913549, "post_id": 42403984, "comment_id": 82042934, "body": "What if I have several columns, how do I do that in one command?  Besides the fact that it did not work. (Don&#39;t know why)"}, {"owner": {"reputation": 161, "user_id": 4743783, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/o5BUA.jpg?s=128&g=1", "display_name": "BarryMahnly", "link": "https://stackoverflow.com/users/4743783/barrymahnly"}, "edited": false, "score": 2, "creation_date": 1529949313, "post_id": 42403984, "comment_id": 89050930, "body": "I had to specify the optional parameter regex=False in the str.replace function.  the default true value was replacing all 1s and 0s."}], "tags": [], "owner": {"reputation": 1270, "user_id": 7605829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5e02fe54f3e3dfc03ca4e6d216816c9?s=128&d=identicon&r=PG&f=1", "display_name": "\u041d\u0435\u043a\u0442\u043e", "link": "https://stackoverflow.com/users/7605829/%d0%9d%d0%b5%d0%ba%d1%82%d0%be"}, "is_accepted": false, "score": 6, "last_activity_date": 1550165020, "last_edit_date": 1550165020, "creation_date": 1487804761, "answer_id": 42403984, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/42403984#42403984", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>Just do</p>\n\n<pre><code>data['phone'] = data['phone'].astype(str)          \ndata['phone'] = data['phone'].str.replace('.0', ' ')\n</code></pre>\n\n<p>which uses a <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.replace.html\" rel=\"noreferrer\">regex style lookup</a> on all entries in the column and replaces any '.0' matches with blank space. For example</p>\n\n<pre><code>data = pd.DataFrame(\n    data = [['bob','39384954.0'],['Lina','23827484.0']], \n    columns = ['user','phone'], index = [1,2]\n)\n\ndata['phone'] = data['phone'].astype(str)\ndata['phone'] = data['phone'].str.replace('.0', ' ')\nprint data\n\n   user     phone\n1   bob  39384954\n2  Lina  23827484\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "edited": false, "score": 1, "creation_date": 1487805554, "post_id": 42403995, "comment_id": 71955088, "body": "this is not working because of that empty data in the first row, <code>*** ValueError: invalid literal for long() with base 10: &#39;&#39;</code>.  I am not familiar with dtype object, but it looks this is being a treated as string.  Correct me if I&#39;m wrong."}, {"owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "edited": false, "score": 0, "creation_date": 1487806412, "post_id": 42403995, "comment_id": 71955438, "body": "I noticed, since the first row is an empty data, it&#39;s considered as a string, which throws that error.  Is there a way to bypass it?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "edited": false, "score": 0, "creation_date": 1487806601, "post_id": 42403995, "comment_id": 71955519, "body": "What do you want the result to be for that row."}, {"owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "edited": false, "score": 0, "creation_date": 1487807167, "post_id": 42403995, "comment_id": 71955747, "body": "for that row it should be empty, so I&#39;m ok with the empty string ( &#39;&#39; ), the rest I want the trailing zeroes removed."}, {"owner": {"reputation": 754, "user_id": 5533078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e32da90b285acdc7556fd3d99d709e0?s=128&d=identicon&r=PG&f=1", "display_name": "jjrr", "link": "https://stackoverflow.com/users/5533078/jjrr"}, "edited": false, "score": 0, "creation_date": 1530380364, "post_id": 42403995, "comment_id": 89220403, "body": "it seems the wright way...but still, I have no idea why this is not working in my case :( -- I have <code>df.loc[df.my_var.notnull(),&#39;my_var&#39;].astype(np.int64)</code>"}, {"owner": {"reputation": 1245, "user_id": 8462962, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/78712f98200d7713ac696675bbb57d59?s=128&d=identicon&r=PG&f=1", "display_name": "excelguy", "link": "https://stackoverflow.com/users/8462962/excelguy"}, "edited": false, "score": 0, "creation_date": 1576262086, "post_id": 42403995, "comment_id": 104855564, "body": "Was there any definitive answer for this? I have the same kind of question, cant get it to work. i&#39;ve tried this approach and the below."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1576263019, "post_id": 42403995, "comment_id": 104855962, "body": "There are many nuances specific to the context of the actual problem.  OP never got back with answers that would have clarified the context.  Feel free to ask a new question."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 12, "last_activity_date": 1487807477, "last_edit_date": 1487807477, "creation_date": 1487804818, "answer_id": 42403995, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/42403995#42403995", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>use <code>astype(np.int64)</code></p>\n\n<pre><code>s = pd.Series(['', 8.00735e+09, 4.35789e+09, 6.10644e+09])\nmask = pd.to_numeric(s).notnull()\ns.loc[mask] = s.loc[mask].astype(np.int64)\ns\n\n0              \n1    8007350000\n2    4357890000\n3    6106440000\ndtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 5816681, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ek3RUMXGNL8/AAAAAAAAAAI/AAAAAAAACB0/adLpR66qDvo/photo.jpg?sz=128", "display_name": "Marcel Flygare", "link": "https://stackoverflow.com/users/5816681/marcel-flygare"}, "is_accepted": false, "score": 1, "last_activity_date": 1487805735, "creation_date": 1487805735, "answer_id": 42404202, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/42404202#42404202", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>It depends on the data format the telephone number is stored. </p>\n\n<p>If it is in an numberic format changing to an integer might solve the problem</p>\n\n<pre><code>df = pd.DataFrame({'TelephoneNumber': [123.0, 234]})\ndf['TelephoneNumber'] =  df['TelephoneNumber'].astype('int32')\n</code></pre>\n\n<p>If it is really a string you can replace and re-assign the column.</p>\n\n<pre><code>df2 = pd.DataFrame({'TelephoneNumber': ['123.0', '234']})\ndf2['TelephoneNumber'] = df2['TelephoneNumber'].str.replace('.0', '')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2555, "user_id": 4955404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace589e56bdab52f070948d1dc5bb832?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Wei", "link": "https://stackoverflow.com/users/4955404/ken-wei"}, "is_accepted": false, "score": 9, "last_activity_date": 1487837423, "last_edit_date": 1487837423, "creation_date": 1487819697, "answer_id": 42406321, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/42406321#42406321", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>In Pandas/NumPy, integers are not allowed to take NaN values, and arrays/series (including dataframe columns) are homogeneous in their datatype --- so having a column of integers where some entries are <code>None</code>/<code>np.nan</code> is downright <a href=\"http://pandas.pydata.org/pandas-docs/stable/gotchas.html#support-for-integer-na\" rel=\"noreferrer\">impossible</a>.</p>\n\n<p>EDIT:<code>data.phone.astype('object')</code>\nshould do the trick; in this case, Pandas treats your column as a series of generic Python objects, rather than a specific datatype (e.g. <code>str</code>/<code>float</code>/<code>int</code>), at the cost of performance if you intend to run any heavy computations with this data (probably not in your case).</p>\n\n<p>Assuming you want to keep those NaN entries, your approach of converting to strings is a valid possibility:</p>\n\n<p><code>data.phone.astype(str).str.split('.', expand = True)[0]</code></p>\n\n<p>should give you what you're looking for (there are alternative string methods you can use, such as <code>.replace</code> or <code>.extract</code>, but <code>.split</code> seems the most straightforward in this case).</p>\n\n<p>Alternatively, if you are only interested in the display of floats (unlikely I'd suppose), you can do <code>pd.set_option('display.float_format','{:.0f}'.format)</code>, which doesn't actually affect your data.</p>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1576363394, "post_id": 59053357, "comment_id": 104877125, "body": "Pretty sure <a href=\"https://stackoverflow.com/questions/47542657/round-pandas-column-with-precision-but-no-trailing-0/47542713?noredirect=1#comment104856358_47542713\">I offered OP this solution</a> (happened under the answer you linked, too), apparently no bueno. No idea what OP wants ;-)"}], "tags": [], "owner": {"reputation": 73, "user_id": 10750106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1ae70af4b96612472912d7212e9aef?s=128&d=identicon&r=PG&f=1", "display_name": "Brohm", "link": "https://stackoverflow.com/users/10750106/brohm"}, "is_accepted": false, "score": 4, "last_activity_date": 1576363419, "last_edit_date": 1576363419, "creation_date": 1574779195, "answer_id": 59053357, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/59053357#59053357", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p><a href=\"https://stackoverflow.com/a/47542713/10750106\">This answer</a> by cs95 removes trailing \u201c.0\u201d in one row. </p>\n\n<pre><code>df = df.round(decimals=0).astype(object)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1245, "user_id": 8462962, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/78712f98200d7713ac696675bbb57d59?s=128&d=identicon&r=PG&f=1", "display_name": "excelguy", "link": "https://stackoverflow.com/users/8462962/excelguy"}, "edited": false, "score": 1, "creation_date": 1576431216, "post_id": 59334568, "comment_id": 104888927, "body": "Seems like I cannot get it to work. I am making c my dataframe column like so , <code>c=df[&#39;id&#39;].str.isnumeric().astype(bool)</code>  . then doing <code>df[&#39;id&#39;].loc[c] =  df[&#39;id&#39;].loc(c).astype(np.int64)</code>  . Any ideas on this?"}, {"owner": {"reputation": 1245, "user_id": 8462962, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/78712f98200d7713ac696675bbb57d59?s=128&d=identicon&r=PG&f=1", "display_name": "excelguy", "link": "https://stackoverflow.com/users/8462962/excelguy"}, "edited": false, "score": 1, "creation_date": 1576517984, "post_id": 59334568, "comment_id": 104917340, "body": "any ideas Monica?"}, {"owner": {"reputation": 41564, "user_id": 8708364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMdFT.jpg?s=128&g=1", "display_name": "U11-Forward", "link": "https://stackoverflow.com/users/8708364/u11-forward"}, "reply_to_user": {"reputation": 1245, "user_id": 8462962, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/78712f98200d7713ac696675bbb57d59?s=128&d=identicon&r=PG&f=1", "display_name": "excelguy", "link": "https://stackoverflow.com/users/8462962/excelguy"}, "edited": false, "score": 1, "creation_date": 1576552780, "post_id": 59334568, "comment_id": 104927931, "body": "@excelguy Change: <code>df[&#39;id&#39;].loc[c] = df[&#39;id&#39;].loc(c).astype(np.int64)</code> to <code>df[&#39;id&#39;].loc[c] = df[&#39;id&#39;].loc[c].astype(np.int64)</code>"}], "tags": [], "owner": {"reputation": 41564, "user_id": 8708364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMdFT.jpg?s=128&g=1", "display_name": "U11-Forward", "link": "https://stackoverflow.com/users/8708364/u11-forward"}, "is_accepted": false, "score": 3, "last_activity_date": 1576321834, "creation_date": 1576321834, "answer_id": 59334568, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/59334568#59334568", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>Try <code>str.isnumeric</code> with <code>astype</code> and <code>loc</code>:</p>\n\n<pre><code>s = pd.Series(['', 8.00735e+09, 4.35789e+09, 6.10644e+09])\nc = s.str.isnumeric().astype(bool)\ns.loc[c] = s.loc[c].astype(np.int64)\nprint(s)\n</code></pre>\n\n<p>And now:</p>\n\n<pre><code>print(s)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>0              \n1    8007350000\n2    4357890000\n3    6106440000\ndtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1116, "user_id": 4703367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc209ff341d38c7d9fbc2eec295d8cc?s=128&d=identicon&r=PG&f=1", "display_name": "erncyp", "link": "https://stackoverflow.com/users/4703367/erncyp"}, "is_accepted": false, "score": 2, "last_activity_date": 1576622213, "creation_date": 1576622213, "answer_id": 59383097, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/59383097#59383097", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nimport pandas as pd\n\ns = pd.Series([ None, np.nan, '',8.00735e+09,  4.35789e+09, 6.10644e+09])\n\ns_new = s.fillna('').astype(str).str.replace(\".0\",\"\",regex=False)\ns_new\n</code></pre>\n\n<p>Here I filled null values with empty string, converted series to string type, replaced <code>.0</code> with empty string.<br>\nThis outputs:</p>\n\n<pre><code>0              \n1              \n2              \n3    8007350000\n4    4357890000\n5    6106440000\ndtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 993, "user_id": 8560382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpJqa.jpg?s=128&g=1", "display_name": "chrisckwong821", "link": "https://stackoverflow.com/users/8560382/chrisckwong821"}, "is_accepted": false, "score": 1, "last_activity_date": 1576741549, "creation_date": 1576741549, "answer_id": 59405287, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/59405287#59405287", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<pre><code>import numpy as np\ntt = 8.00735e+09\ntime = int(np.format_float_positional(tt)[:-1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 966, "user_id": 6461882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7e7e6a07dc8000552a767fc93756ebbe?s=128&d=identicon&r=PG&f=1", "display_name": "S.V", "link": "https://stackoverflow.com/users/6461882/s-v"}, "is_accepted": false, "score": 3, "last_activity_date": 1576853083, "last_edit_date": 1576853083, "creation_date": 1576782038, "answer_id": 59415522, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/59415522#59415522", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>Here is a solution using <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/integer_na.html\" rel=\"nofollow noreferrer\">pandas nullable integers</a> (the solution assumes that input Series values are either empty strings or floating point numbers):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd, numpy as np\ns = pd.Series(['', 8.00735e+09, 4.35789e+09, 6.10644e+09])\ns.replace('', np.nan).astype('Int64')\n</code></pre>\n\n<p>Output (pandas-0.25.1):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0           NaN\n1    8007350000\n2    4357890000\n3    6106440000\ndtype: Int64\n</code></pre>\n\n<p>Advantages of the solution:</p>\n\n<ul>\n<li>The output values are either integers or missing values (not 'object' data type)</li>\n<li>Efficient</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 427, "user_id": 5527401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qsZmR.jpg?s=128&g=1", "display_name": "Brendan Metcalfe", "link": "https://stackoverflow.com/users/5527401/brendan-metcalfe"}, "edited": false, "score": 1, "creation_date": 1608757850, "post_id": 59760080, "comment_id": 115679240, "body": ".astype(int).astype(str) worked for me"}], "tags": [], "owner": {"reputation": 1189, "user_id": 6030977, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6UMfc.jpg?s=128&g=1", "display_name": "Shyam Bhimani", "link": "https://stackoverflow.com/users/6030977/shyam-bhimani"}, "is_accepted": false, "score": 1, "last_activity_date": 1579125090, "creation_date": 1579125090, "answer_id": 59760080, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/59760080#59760080", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>So Pandas automatically assign data type by looking at type of data in the event when you have mix type of data like some rows are NaN and some has int value there is huge possibilities it would assign <code>dtype: object</code> or <code>float64</code></p>\n\n<p><strong>EX 1:</strong></p>\n\n<pre><code>import pandas as pd\n\ndata = [['tom', 10934000000], ['nick', 1534000000], ['juli', 1412000000]]\ndf = pd.DataFrame(data, columns = ['Name', 'Phone'])\n\n&gt;&gt;&gt; df\n   Name        Phone\n0   tom  10934000000\n1  nick   1534000000\n2  juli   1412000000\n\n&gt;&gt;&gt; df.dtypes\nName     object\nPhone     int64\ndtype: object\n</code></pre>\n\n<p>In above example pandas assume data type int64 reason being neither of row has NaN and all the rows in Phone column has integer value. </p>\n\n<p><strong>EX 2:</strong></p>\n\n<pre><code> &gt;&gt;&gt; data = [['tom'], ['nick', 1534000000], ['juli', 1412000000]]\n &gt;&gt;&gt; df = pd.DataFrame(data, columns = ['Name', 'Phone'])\n &gt;&gt;&gt; df\n\n Name         Phone\n0   tom           NaN\n1  nick  1.534000e+09\n2  juli  1.412000e+09\n\n&gt;&gt;&gt; df.dtypes\nName      object\nPhone    float64\ndtype: object\n</code></pre>\n\n<p>To answer to your actual question, to get rid of .0 at the end you can do something like this </p>\n\n<p><strong>Solution 1:</strong></p>\n\n<pre><code>&gt;&gt;&gt; data = [['tom', 9785000000.0], ['nick', 1534000000.0], ['juli', 1412000000]]\n&gt;&gt;&gt; df = pd.DataFrame(data, columns = ['Name', 'Phone'])\n&gt;&gt;&gt; df\n   Name         Phone\n0   tom  9.785000e+09\n1  nick  1.534000e+09\n2  juli  1.412000e+09\n\n&gt;&gt;&gt; df['Phone'] = df['Phone'].astype(int).astype(str)\n&gt;&gt;&gt; df\n   Name       Phone\n0   tom  9785000000\n1  nick  1534000000\n2  juli  1412000000\n</code></pre>\n\n<p><strong>Solution 2:</strong></p>\n\n<pre><code>&gt;&gt;&gt; df['Phone'] = df['Phone'].astype(str).str.replace('.0', '', regex=False)\n&gt;&gt;&gt; df\n   Name       Phone\n0   tom  9785000000\n1  nick  1534000000\n2  juli  1412000000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 4451200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c310395270d7f744b3488ff15570a52?s=128&d=identicon&r=PG&f=1", "display_name": "ahmadi", "link": "https://stackoverflow.com/users/4451200/ahmadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1584441623, "last_edit_date": 1584441623, "creation_date": 1584439898, "answer_id": 60720172, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column/60720172#60720172", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>If somebody is still interesting:\nI had the problem that I round the df and get the trailing zeros.\nHere is what I did.</p>\n\n<pre><code>new_df = np.round(old_df,3).astype(str)\n</code></pre>\n\n<p>Then all trailing zeros were gone in the new_df.</p>\n"}], "owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35811, "favorite_count": 2, "answer_count": 11, "score": 20, "last_activity_date": 1584441623, "creation_date": 1487804354, "last_edit_date": 1487806491, "question_id": 42403907, "link": "https://stackoverflow.com/questions/42403907/how-to-round-remove-traling-0-zeros-in-pandas-column", "title": "how to round/remove traling &quot;.0&quot; zeros in pandas column?", "body": "<p>I'm trying to see if I can remove the trailing zeros from this phone number column.</p>\n\n<p>Example:</p>\n\n<pre><code>0\n1      8.00735e+09\n2      4.35789e+09\n3      6.10644e+09\n</code></pre>\n\n<p>The type in this column is an object, and I tried to round it but I am getting an error.  I checked a couple of them I know they are in this format \"8007354384.0\", and want to get rid of the trailing zeros with the decimal point.  </p>\n\n<p>Sometimes I received in this format and sometimes I don't, they will be integer numbers.  I would like to check if the phone column has a trailing zero, then remove it.</p>\n\n<p>I have this code but I'm stuck on how to check for trailing zeros for each row.</p>\n\n<pre><code>data.ix[data.phone.str.contains('.0'), 'phone']\n</code></pre>\n\n<p>I get an error => <code>*** ValueError: cannot index with vector containing NA / NaN values</code>.  I believe the issue is because some rows have empty data, which sometime I do receive.  The code above should be able to skip an empty row.</p>\n\n<p>Does anybody have any suggestions? I'm new to pandas but so far it's an useful library.  Your help will be appreciated.</p>\n\n<p><strong>Note</strong>\nThe provided example above, the first row has an empty data, which I do sometimes I get.  Just to make sure this is not represented as 0 for phone number.</p>\n\n<p>Also empty data is considered a string, so it's a mix of floats and string, if rows are empty.</p>\n"}, {"tags": ["python", "flask", "flask-restful"], "answers": [{"tags": [], "owner": {"reputation": 623, "user_id": 1011716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b88a69c80e1ab3a3900111b33fcfa5e8?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1011716/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1487904343, "creation_date": 1487904343, "answer_id": 42429873, "question_id": 42403899, "link": "https://stackoverflow.com/questions/42403899/flask-restful-error-handling-when-catch-all-exists/42429873#42429873", "title": "Flask RESTful error handling when catch all exists", "body": "<p>It seems like simply overriding the <code>dispatch_request</code> method is suffice.</p>\n\n<pre><code>@api.resource('/&lt;path:path&gt;')\nclass Endpoint(Resource):\n    def dispatch_request(self, *args, **kwargs):\n        raise NotFound()\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 1011716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b88a69c80e1ab3a3900111b33fcfa5e8?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1011716/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487904343, "creation_date": 1487804327, "last_edit_date": 1487869850, "question_id": 42403899, "link": "https://stackoverflow.com/questions/42403899/flask-restful-error-handling-when-catch-all-exists", "title": "Flask RESTful error handling when catch all exists", "body": "<p>We're using Flask-RESTful to define an API of the form,</p>\n\n<pre><code>bp = Blueprint('api', __name__, url_prefix='/api')\napi = Api(bp)\n\n@api.resource('/users/&lt;int:user&gt;')\nclass User(Resource):\n    def get(self, user):\n        ...\n</code></pre>\n\n<p>in conjunction with a <a href=\"http://flask.pocoo.org/snippets/57/\" rel=\"nofollow noreferrer\">Catch-All</a> to render all the pages using React. </p>\n\n<pre><code>bp = Blueprint('index', __name__)\n\n@bp.route('/', defaults={'path': ''})\n@bp.route('/&lt;path:path&gt;')\ndef index(path):\n    return render_template('index.html')\n</code></pre>\n\n<p>The issue is requests which don't match a valid API endpoint are supposed to return a <a href=\"http://flask-restful.readthedocs.io/en/0.3.5/quickstart.html#endpoints\" rel=\"nofollow noreferrer\">404</a>, however given the Catch-All logic all unregistered API routes simply route to rendering the template. </p>\n\n<p>Is there a good way to ensure that invalid API requests return a 404? There doesn't seem to be a way to exclude routes from the Catch-All so my current workaround is to define something like, </p>\n\n<pre><code>from werkzeug.routing import NotFound\n\n@api.resource('/&lt;path:path&gt;')\nclass Endpoint(Resource):\n    def get(self, path):\n        raise NotFound()\n\n    def put(self, path):\n        raise NotFound()\n\n    def post(self, path):\n        ...\n</code></pre>\n\n<p>which seems a little verbose.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487804799, "post_id": 42403869, "comment_id": 71954816, "body": "Yes, because <code>dt.keys</code> <b>returns a list</b>."}], "answers": [{"tags": [], "owner": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "is_accepted": false, "score": 0, "last_activity_date": 1487804447, "creation_date": 1487804447, "answer_id": 42403919, "question_id": 42403869, "link": "https://stackoverflow.com/questions/42403869/printing-the-keys-on-separate-lines-while-removing-the-unicode-u/42403919#42403919", "title": "Printing the keys on separate lines while removing the unicode u", "body": "<pre><code>def print_keys(dt):\n    print \"Keys:\"\n    for key in dt:\n        print key\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7607748"}, "edited": false, "score": 0, "creation_date": 1487809085, "post_id": 42403928, "comment_id": 71956384, "body": "If I want instead to print the objects that are contained in the keys, should I proceed the same way or should I add several print statements?"}, {"owner": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "edited": false, "score": 0, "creation_date": 1487821314, "post_id": 42403928, "comment_id": 71959895, "body": "use built in <code>iteritems()</code>. for loop the key, value pair in <code>dt.iteritems</code> then <code>print key, value</code>. see this answer <a href=\"http://stackoverflow.com/questions/26660654/how-do-i-print-the-key-value-pairs-of-a-dictionary-in-python\">here</a>"}], "tags": [], "owner": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "is_accepted": false, "score": 0, "last_activity_date": 1487823593, "last_edit_date": 1487823593, "creation_date": 1487804489, "answer_id": 42403928, "question_id": 42403869, "link": "https://stackoverflow.com/questions/42403869/printing-the-keys-on-separate-lines-while-removing-the-unicode-u/42403928#42403928", "title": "Printing the keys on separate lines while removing the unicode u", "body": "<p>If you just want to print the keys</p>\n\n<pre><code>for key in dt:\n    print \"keys: \", key\n</code></pre>\n\n<p>of course it will not be sorted</p>\n\n<p>If you want to print the keys and the values</p>\n\n<pre><code>for key, value in dt.iteritems():\n    print key, value\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7607748"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487823593, "creation_date": 1487804204, "last_edit_date": 1487804743, "question_id": 42403869, "link": "https://stackoverflow.com/questions/42403869/printing-the-keys-on-separate-lines-while-removing-the-unicode-u", "title": "Printing the keys on separate lines while removing the unicode u", "body": "<pre><code>import json\n\ndef read_json(filename):\n\n    dt = {}\n\n    fh = open(filename, \"r\")\n    dt = json.load(fh)\n\n    return dt\n\n\ndef print_keys(dt):\n\n    print \"Keys: \", dt.keys()\n    # print \"[%s]\" % (', ' .join(dt.keys),)\n\n\nfilename = raw_input(\"Enter the JSON file: \")\n\n\nr = read_json(filename)\nprint_keys(r)\n</code></pre>\n\n<p>I'm trying to print the keys (1 per line) and without the unicode before it. However, I keep getting all the keys in a list in a single line. Please help</p>\n"}, {"tags": ["python", "json", "api", "parsing"], "comments": [{"owner": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "reply_to_user": {"reputation": 579, "user_id": 5593631, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd12224f5e48ad3011d820a87ff442b?s=128&d=identicon&r=PG&f=1", "display_name": "Luminous_Dev", "link": "https://stackoverflow.com/users/5593631/luminous-dev"}, "edited": false, "score": 0, "creation_date": 1487804742, "post_id": 42403860, "comment_id": 71954792, "body": "I have tried to iterate over it using loop but I am not getting the desired output. I am getting a output similar to this : Europe, Rebecca Asia, Kim Asia, Jen I dont want the output to be repeated (As i have used loops to iterate so it is like this) Also i am not able to store this values into a variable."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487805548, "post_id": 42403860, "comment_id": 71955086, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. StackOverflow is not a coding or tutorial service."}, {"owner": {"reputation": 2946, "user_id": 2913306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9TWX.jpg?s=128&g=1", "display_name": "wahwahwah", "link": "https://stackoverflow.com/users/2913306/wahwahwah"}, "edited": false, "score": 0, "creation_date": 1487805714, "post_id": 42403860, "comment_id": 71955162, "body": "@jamesorc - please post the code that is <i>not working</i> to expectations as well as a description (like your comment)"}, {"owner": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "edited": false, "score": 0, "creation_date": 1487806493, "post_id": 42403860, "comment_id": 71955479, "body": "Apologies for the incomplete part, updated the section above."}, {"owner": {"reputation": 579, "user_id": 5593631, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd12224f5e48ad3011d820a87ff442b?s=128&d=identicon&r=PG&f=1", "display_name": "Luminous_Dev", "link": "https://stackoverflow.com/users/5593631/luminous-dev"}, "edited": false, "score": 0, "creation_date": 1487806766, "post_id": 42403860, "comment_id": 71955583, "body": "<a href=\"https://jsfiddle.net/thefto_dev/sge3mkLg/3/\" rel=\"nofollow noreferrer\">made in javascript</a> you can look at the logic and convert to python"}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "edited": false, "score": 0, "creation_date": 1487876442, "post_id": 42405785, "comment_id": 71993486, "body": "Thanks for the response. But the code above does not fix the issue it just returns me all the (values) of key (&quot;name&quot;) . Also the problem statement requires to hold the output in a variable."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "edited": false, "score": 0, "creation_date": 1487877809, "post_id": 42405785, "comment_id": 71994254, "body": "The above code returns you <i>all</i> the values key (&quot;name&quot;) -&gt; &quot;john&quot;, &quot;Rebecca&quot;, &quot;kim&quot;, <i>and</i> &quot;jen&quot;? Using the <code>list</code> <code>data</code> from the question the above code (when I run the script using the data list), produces the stated desired output, namely &quot;Rebecca&quot;, &quot;kim&quot;, and &quot;jen&quot;. Which names do you <i>not</i> want in the output? What type is the output to be stored in the variable, a <code>str</code>, <code>list</code>, <code>dict</code>, or is not important, just store it in a variable? The variable <code>res</code> is a <code>defaultdict(&lt;type &#39;list&#39;&gt;)</code> which holds the output -&gt; <code>{&#39;Europe&#39;: [&#39;Rebecca&#39;], &#39;Asia&#39;: [&#39;kim&#39;, &#39;jen&#39;]}</code>"}, {"owner": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "edited": false, "score": 0, "creation_date": 1487890535, "post_id": 42405785, "comment_id": 72000980, "body": "Thanks for the solution. After executing : <code>for k, v in res.iteritems(): if len(v) == 1: print&#39;{}, {}&#39;.format(k, v[0]) else: print &#39;{}, ({})&#39;.format(k, &#39;, &#39;.join(map(str, v)))&#39; # the output which I gain#  ``Europe, Rebecca  Asia,  (&#39;kim, jen)</code> should be stored in a variable (preferably string) the rationale behind this is I need to again filter in this output for few names <i>Ex</i> <code>if  in &#39;jen&#39; in output: # return Asia , kim</code>. Also a question here , In the above json data I have 2 region (list) what if I encounter with 3 or more region(list) -&gt;&gt; will this work out?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "edited": false, "score": 0, "creation_date": 1487892530, "post_id": 42405785, "comment_id": 72001787, "body": "@jamesorc please see updated answer. I&#39;ve tested the code with 3 regions and I&#39;ve included that output for your review &amp; consideration."}, {"owner": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "edited": false, "score": 0, "creation_date": 1487942244, "post_id": 42405785, "comment_id": 72023094, "body": "Great, thanks a lot for the help.@downshift"}], "tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": true, "score": 0, "last_activity_date": 1487892397, "last_edit_date": 1487892397, "creation_date": 1487815724, "answer_id": 42405785, "question_id": 42403860, "link": "https://stackoverflow.com/questions/42403860/python2-7-iteratiing-over-list-of-dicts-and-evaluating-the-required-value/42405785#42405785", "title": "python2.7 : iteratiing over list of dicts and evaluating the required value", "body": "<p>This is pretty ugly, but may do want you're asking:</p>\n\n<pre><code>matches = []\nfor i in data:  #\n                # no changes here\n                if isinstance(k, dict) and k['status']=='None':\n                    # print (i[0]['Region'], k['name'])\n                    matches.append(([i[0]['Region'], k['name']]))\nfrom collections import defaultdict\nres = defaultdict(list)\n\nfor k, v in matches:\n    res[k].append(v)\n\nfor k, v in res.iteritems():\n    if len(v) == 1:\n        print'{}, {}'.format(k, v[0])\n    else:\n        print '{}, ({})'.format(k, ', '.join(map(str, v)))\n</code></pre>\n\n<p><strong>Edit #1:</strong></p>\n\n<pre><code>...\nfor k, v in matches:\n    result[k].append(v)\n\nmystr = ''\n\nfor k, v in result.iteritems():\n    if len(v) == 1:\n        mystr += '{}, {}'.format(k, v[0])\n    else:\n        mystr += ' {}, ({})'.format(k, ', '.join(map(str, v)))\n\nprint type(mystr)\nprint mystr\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>&lt;type 'str'&gt;\nEurope, Rebecca Asia, (kim, jen)\n</code></pre>\n\n<p>An example with 3 regions:</p>\n\n<pre><code>&lt;type 'str'&gt;\nEurope, Rebecca America, (David, Ricardo) Asia, (kim, jen)\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 7519421, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6e6be1384aeacb8f83b992b651ab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7519421/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1487824014, "accepted_answer_id": 42405785, "answer_count": 1, "score": -3, "last_activity_date": 1546361957, "creation_date": 1487804136, "last_edit_date": 1546361957, "question_id": 42403860, "link": "https://stackoverflow.com/questions/42403860/python2-7-iteratiing-over-list-of-dicts-and-evaluating-the-required-value", "closed_reason": "Needs details or clarity", "title": "python2.7 : iteratiing over list of dicts and evaluating the required value", "body": "<p>Code :</p>\n\n<pre><code>import json\nimport urllib\nURL = 'www.xyz.com'\ndata = json.load(urllib.urlopen(url)\nprint data   \n[[{\"Region\":\"Europe\", \"Details\":[{\"gender\":\"male\", \"name\":\"john\", \"age\":\"24\", \"status\":\"Ok\"}, {\"gender\":\"female\", \"name\":\"Rebecca\", \"age\":\"22\", \"status\":\"None\"}], \"country\":\"Germany\"}], [{\"Region\":\"Asia\", \"Details\":[{\"gender\":\"male\", \"name\":\"kim\", \"age\":\"27\", \"status\":\"None\"}, {\"gender\":\"male\", \"name\":\"jen\", \"age\":\"22\", \"status\":\"None\"}], \"country\":\"China\"}]]\n# here is what I have tried\nfor i in data:\n     for j in i:\n          for key in j.keys():\n               dicx = j[key]\n               for k in dicx:\n                 if isinstance(k, dict) and k['status']=='None':\n                 print (i['region'], k['name'])) #I wnant to store this value in a variable rather than printing.\n#this is giving me the following output.  \n\nEurope, Rebecca\nAsia, kim\nAsia, jen\n</code></pre>\n\n<p>Scenario : From the data above I want to check if in all \"Region\"(key) if \"status\"(key) is \"Ok\"(value) or \"None\"(value), if the \"status\"(key) is \"None\"(value) then it should return me the details(value) of that particular \"Region\"(key) along with the \"name\"(key).</p>\n\n<p>ex:- \ndesired output (referenced from above data)</p>\n\n<pre><code>Europe, Rebecca\n\nAsia, (kim, jen)\n</code></pre>\n\n<p>Any Help will be appreciated.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 1842, "user_id": 6939109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwfCA.jpg?s=128&g=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/6939109/coder"}, "edited": false, "score": 0, "creation_date": 1487807320, "post_id": 42403854, "comment_id": 71955803, "body": "have you tried anything? what error are you facing?"}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 5931873, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/074663c7d7c71e2d421f35727d5b4b48?s=128&d=identicon&r=PG&f=1", "display_name": "bodhi", "link": "https://stackoverflow.com/users/5931873/bodhi"}, "edited": false, "score": 0, "creation_date": 1487887772, "post_id": 42404215, "comment_id": 71999791, "body": "@Coder - I wanted a single line JSON path expression if I can to evaluate the object keys.  I did try with for..in loop and it worked."}], "tags": [], "owner": {"reputation": 684, "user_id": 4500078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFF1g.jpg?s=128&g=1", "display_name": "Joshua Howard", "link": "https://stackoverflow.com/users/4500078/joshua-howard"}, "is_accepted": true, "score": 0, "last_activity_date": 1487805798, "creation_date": 1487805798, "answer_id": 42404215, "question_id": 42403854, "link": "https://stackoverflow.com/questions/42403854/json-path-expression-to-fetch-keys-of-nested-objects/42404215#42404215", "title": "JSON path expression to fetch keys of nested objects", "body": "<p>You probably want <code>dict[\"items\"].items()</code>. It will return a list of key/value tuples. For an example iterating over the keys:</p>\n\n<pre><code>for key, _ in dict[\"items\"].items():\n    pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 5931873, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/074663c7d7c71e2d421f35727d5b4b48?s=128&d=identicon&r=PG&f=1", "display_name": "bodhi", "link": "https://stackoverflow.com/users/5931873/bodhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1487887881, "creation_date": 1487887881, "answer_id": 42427168, "question_id": 42403854, "link": "https://stackoverflow.com/questions/42403854/json-path-expression-to-fetch-keys-of-nested-objects/42427168#42427168", "title": "JSON path expression to fetch keys of nested objects", "body": "<p>for..in loop worked!</p>\n\n<pre><code>for(var prop in obj) {\n   console.log(\"Key_Name: \" + prop);\n}\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 5931873, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/074663c7d7c71e2d421f35727d5b4b48?s=128&d=identicon&r=PG&f=1", "display_name": "bodhi", "link": "https://stackoverflow.com/users/5931873/bodhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 42404215, "answer_count": 2, "score": 1, "last_activity_date": 1606749885, "creation_date": 1487804096, "last_edit_date": 1606749885, "question_id": 42403854, "link": "https://stackoverflow.com/questions/42403854/json-path-expression-to-fetch-keys-of-nested-objects", "title": "JSON path expression to fetch keys of nested objects", "body": "<p>what is the JSON path expression to fetch \"item1\" , \"item2\" without knowing in advance the names of these keys.</p>\n\n<pre><code>{\n\"item_group\" : \"This is item group\",\n\"items\": {\n\"item1\": {\n  \"name1\": \"value1\",\n  \"name2\": {\n    \"value2\": \"value2\"\n  },\n  \"name3\": {\n    \"param1\": \"This is param1\"\n  }\n},\n\"item2\": {\n  \"name11\": \"value11\",\n  \"name22\": {\n    \"value22\": \"value22\"\n  },\n  \"name33\": {\n    \"param2\": \"This is param2\"\n  }\n}\n}\n}\n</code></pre>\n"}, {"tags": ["python", "animation", "matplotlib", "matplotlib-basemap"], "comments": [{"owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "edited": false, "score": 0, "creation_date": 1487805665, "post_id": 42403844, "comment_id": 71955141, "body": "if you don&#39;t care too much about math niceties then just linear interpolation in lat, lon should look OK if you avoid the poles"}, {"owner": {"reputation": 161, "user_id": 6093507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-W2YRWRtiGfE/AAAAAAAAAAI/AAAAAAAAAC4/_DlCLOtJNog/photo.jpg?sz=128", "display_name": "Bryan Stafford", "link": "https://stackoverflow.com/users/6093507/bryan-stafford"}, "reply_to_user": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "edited": false, "score": 0, "creation_date": 1487818782, "post_id": 42403844, "comment_id": 71959196, "body": "What is linear interpolation?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1487836316, "post_id": 42403844, "comment_id": 71965958, "body": "What is an NHL city?"}, {"owner": {"reputation": 161, "user_id": 6093507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-W2YRWRtiGfE/AAAAAAAAAAI/AAAAAAAAAC4/_DlCLOtJNog/photo.jpg?sz=128", "display_name": "Bryan Stafford", "link": "https://stackoverflow.com/users/6093507/bryan-stafford"}, "edited": false, "score": 0, "creation_date": 1487854713, "post_id": 42403844, "comment_id": 71978088, "body": "A city that has an National Hockey League team."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 6093507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-W2YRWRtiGfE/AAAAAAAAAAI/AAAAAAAAAC4/_DlCLOtJNog/photo.jpg?sz=128", "display_name": "Bryan Stafford", "link": "https://stackoverflow.com/users/6093507/bryan-stafford"}, "edited": false, "score": 0, "creation_date": 1487855429, "post_id": 42410295, "comment_id": 71978629, "body": "When I copied this code into Spyder, I got this error, &quot;TypeError: &#39;Path&#39; object is not iterable&quot;. It happened on line, = m.drawgreatcircle(lon1,lat1,lon2,lat2). If I remove the comma on &quot;line,&quot; I get back a Path object which I see is an array but I can&#39;t index or access the values."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 161, "user_id": 6093507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-W2YRWRtiGfE/AAAAAAAAAAI/AAAAAAAAAC4/_DlCLOtJNog/photo.jpg?sz=128", "display_name": "Bryan Stafford", "link": "https://stackoverflow.com/users/6093507/bryan-stafford"}, "edited": false, "score": 0, "creation_date": 1487862886, "post_id": 42410295, "comment_id": 71984504, "body": "Well, according to <a href=\"http://matplotlib.org/basemap/api/basemap_api.html#mpl_toolkits.basemap.Basemap.drawgreatcircle\" rel=\"nofollow noreferrer\">the documentation</a> <code>drawgreatcircle</code> returns a <code>matplotlib.lines.Line2D</code> object. The solution above uses this fact and it works for me on basemap version 1.0.7 which was released in 2013 and which is still the latest official release as I see it. The issue was introduced  in 2014 and <a href=\"https://github.com/matplotlib/basemap/issues/322\" rel=\"nofollow noreferrer\">got fixed</a> late 2016, so the current development version should also return a line2D."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 161, "user_id": 6093507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-W2YRWRtiGfE/AAAAAAAAAAI/AAAAAAAAAC4/_DlCLOtJNog/photo.jpg?sz=128", "display_name": "Bryan Stafford", "link": "https://stackoverflow.com/users/6093507/bryan-stafford"}, "edited": false, "score": 0, "creation_date": 1487863186, "post_id": 42410295, "comment_id": 71984713, "body": "If you don&#39;t want to up- or downgrade your basemap installation, it should be possible to obtain the points from the path. If <code>p</code> is a path, <code>points = p.vertices</code> gives the points in a 2D array, such that <code>x = points[:,0]</code> and  <code>y = points[:,1]</code> should give you the coordinates. Unfortunately I cannot test it at the moment."}, {"owner": {"reputation": 161, "user_id": 6093507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-W2YRWRtiGfE/AAAAAAAAAAI/AAAAAAAAAC4/_DlCLOtJNog/photo.jpg?sz=128", "display_name": "Bryan Stafford", "link": "https://stackoverflow.com/users/6093507/bryan-stafford"}, "edited": false, "score": 0, "creation_date": 1487972874, "post_id": 42410295, "comment_id": 72041450, "body": "Thanks a ton. I had a great battle with trying to upgrade Basemap (I use Windows) and then trying to get ImageMagick or FFMpeg but I finally got your code running on my machine. It&#39;s very much appreciated!"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 3, "last_activity_date": 1487837717, "creation_date": 1487837717, "answer_id": 42410295, "question_id": 42403844, "link": "https://stackoverflow.com/questions/42403844/how-to-animate-matplotlibs-drawgreatcircle-function/42410295#42410295", "title": "How to animate matplotlib&#39;s drawgreatcircle function?", "body": "<p><code>drawgreatcicle</code> returns matplotlib <code>line2D</code> from which one can obtain the data using <code>get_data</code>. So the idea would be to draw the great circle, get the data and afterwards delete it. Using the data, one can perform an animation, iterating over the array.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom mpl_toolkits.basemap import Basemap\nimport matplotlib.animation\n\nfig = plt.figure(figsize=(6, 4))\nm = Basemap(projection='merc', resolution=None,\n                    llcrnrlon=-125, llcrnrlat=25, # LL = lower left\n                    urcrnrlon=-60, urcrnrlat=55) #UR = upper right \nm.etopo(scale=0.5, alpha=0.5)\n\n# Ottawa to Anaheim\n# Ottawa\nlat1 = 45.4215\nlon1 = -75.6972\n\n# Anaheim\nlat2 = 33.8353\nlon2 = -117.9145\n\nline, = m.drawgreatcircle(lon1,lat1,lon2,lat2)\nx,y = line.get_data()\n\nline.remove()\ndel line\n\nline, = plt.plot([],[])\n\ndef update(i):\n    line.set_data(x[:i], y[:i])\n\nani = matplotlib.animation.FuncAnimation(fig, update, frames=len(x), interval=100)\nani.save(__file__+\".gif\", writer=\"imagemagick\", fps=10)\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qLkoP.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLkoP.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 161, "user_id": 6093507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-W2YRWRtiGfE/AAAAAAAAAAI/AAAAAAAAAC4/_DlCLOtJNog/photo.jpg?sz=128", "display_name": "Bryan Stafford", "link": "https://stackoverflow.com/users/6093507/bryan-stafford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 3, "accepted_answer_id": 42410295, "answer_count": 1, "score": 7, "last_activity_date": 1487837717, "creation_date": 1487804038, "last_edit_date": 1487812517, "question_id": 42403844, "link": "https://stackoverflow.com/questions/42403844/how-to-animate-matplotlibs-drawgreatcircle-function", "title": "How to animate matplotlib&#39;s drawgreatcircle function?", "body": "<p>I have created a small program which takes an NHL city and then draws the path the team travels throughout their season.   </p>\n\n<p>The resulting graphic is messy:</p>\n\n<p><a href=\"https://i.imgur.com/AdCiJ8f.png\" rel=\"noreferrer\"><img src=\"https://i.imgur.com/AdCiJ8f.png\" alt=\"Messy Graphic\"></a> </p>\n\n<p>So I got the idea that it would be interesting if I animated the flight paths, sort of like watching an Indiana Jones movie, where the line grows from one point to another.</p>\n\n<p>My understanding from looking at other matplotlib samples is that the animation function takes in a function, calculates it's output, and then updates the graphic. I don't see how this would be possible with <code>drawgreatcircle</code> since whenever I call it I am given a completed line.</p>\n\n<p>Any idea on how I can approach this?</p>\n\n<p>Here's a sample image from the sample code below</p>\n\n<p><a href=\"https://i.stack.imgur.com/smnH4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/smnH4.png\" alt=\"Sample Image\"></a></p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom mpl_toolkits.basemap import Basemap\n\nfig = plt.figure(figsize=(10, 10))\nm = Basemap(projection='merc', resolution=None,\n                    llcrnrlon=-125, llcrnrlat=25, # LL = lower left\n                    urcrnrlon=-60, urcrnrlat=55) #UR = upper right \nm.etopo(scale=0.5, alpha=0.5)\n\n\n# Ottawa to Anaheim\n# Ottawa\nlat1 = 45.4215\nlon1 = -75.6972\n\n# Anaheim\nlat2 = 33.8353\nlon2 = -117.9145\n\nm.drawgreatcircle(lon1,lat1,lon2,lat2)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1487804313, "creation_date": 1487804313, "answer_id": 42403893, "question_id": 42403765, "link": "https://stackoverflow.com/questions/42403765/multiply-filtered-rows-by-constant-in-pandas/42403893#42403893", "title": "Multiply filtered rows by constant in pandas", "body": "<p>Use <code>loc</code> and <code>map</code></p>\n\n<pre><code>d = {2018: 100, 2019: 1000, 2020: 10000}\n\ndf.loc[\n    (df.Name == 'aaaa') &amp; (df.Dt.dt.year == 2018), 'Value'\n] *= df.Dt.dt.year.map(d)\n\nprint(df)\n\n   Name         Dt    Value\n0  aaaa 2018-01-01  10000.0\n1  bbbb 2018-07-02    200.0\n2  aaaa 2019-01-01    300.0\n3  aaaa 2020-01-04    500.0\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2992991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9VAG1.jpg?s=128&g=1", "display_name": "Hkk", "link": "https://stackoverflow.com/users/2992991/hkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2119, "favorite_count": 1, "accepted_answer_id": 42403893, "answer_count": 1, "score": 1, "last_activity_date": 1487804313, "creation_date": 1487803715, "last_edit_date": 1495541373, "question_id": 42403765, "link": "https://stackoverflow.com/questions/42403765/multiply-filtered-rows-by-constant-in-pandas", "title": "Multiply filtered rows by constant in pandas", "body": "<p>I checked <a href=\"https://stackoverflow.com/questions/33768122/python-pandas-dataframe-how-to-multiply-entire-column-with-a-scalar\">this answer</a> but it only applies to entire columns.</p>\n\n<p>I have a dataframe with 3 columns (name, date, value)</p>\n\n<pre><code>     Name         Dt    Value\n0    aaaa 2018-01-01      100\n1    bbbb 2018-07-02      200\n2    aaaa 2019-01-01      300\n3    aaaa 2020-01-04      500\n</code></pre>\n\n<p>I also have a dictionary of yearly scale factors. what i want to do is to multiply all value in a year by the corresponding scale factor.</p>\n\n<p>I tried doing something like this</p>\n\n<pre><code>df[df['Name'] == a &amp; df['Dt'].dt.year == i]['Value'] *= dictionary[i]\n</code></pre>\n\n<p>this doesn't seem to be working. is there a way to do this without looping through every row?</p>\n"}, {"tags": ["python", "airflow"], "comments": [{"owner": {"reputation": 1236, "user_id": 2507010, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/1749123b303c2aa92523a3b9462238a6?s=128&d=identicon&r=PG", "display_name": "Larissa Leite", "link": "https://stackoverflow.com/users/2507010/larissa-leite"}, "edited": false, "score": 0, "creation_date": 1493922620, "post_id": 42403755, "comment_id": 74621168, "body": "Hi! What was your solution for this after all? I am kind of facing the same problem"}, {"owner": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "reply_to_user": {"reputation": 1236, "user_id": 2507010, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/1749123b303c2aa92523a3b9462238a6?s=128&d=identicon&r=PG", "display_name": "Larissa Leite", "link": "https://stackoverflow.com/users/2507010/larissa-leite"}, "edited": false, "score": 0, "creation_date": 1494012801, "post_id": 42403755, "comment_id": 74664348, "body": "I did not use AirFlow in the end since I couldn&#39;t figure out the solution. I ended up using Celery instead."}, {"owner": {"reputation": 149, "user_id": 4794538, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-HSmPOv7K5DQ/AAAAAAAAAAI/AAAAAAAACgM/a3Z1JOffxDY/photo.jpg?sz=128", "display_name": "Yu QIAN", "link": "https://stackoverflow.com/users/4794538/yu-qian"}, "edited": false, "score": 0, "creation_date": 1528903884, "post_id": 42403755, "comment_id": 88685732, "body": "this is interesting, how many calls do you have in each hour? I think if the number is high, maybe it&#39;s not good to use airflow"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 8052957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rV9tC.png?s=128&g=1", "display_name": "DNick", "link": "https://stackoverflow.com/users/8052957/dnick"}, "edited": false, "score": 0, "creation_date": 1595597451, "post_id": 42428125, "comment_id": 111538320, "body": "The link response of github informed: 404 Not Found"}], "tags": [], "owner": {"reputation": 554, "user_id": 971856, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7e96067ec286bc1665a4985fb52fdead?s=128&d=identicon&r=PG", "display_name": "nehiljain", "link": "https://stackoverflow.com/users/971856/nehiljain"}, "is_accepted": false, "score": 6, "last_activity_date": 1487892559, "creation_date": 1487892559, "answer_id": 42428125, "question_id": 42403755, "link": "https://stackoverflow.com/questions/42403755/running-job-on-airflow-based-on-webrequest/42428125#42428125", "title": "Running Job On Airflow Based On Webrequest", "body": "<p>You should look at <a href=\"https://github.com/apache/incubator-airflow/blob/master/airflow/example_dags/example_http_operator.py\" rel=\"noreferrer\">Airflow HTTP Sensor</a> for your needs. You can use this to trigger a dag.</p>\n"}, {"comments": [{"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1547603551, "post_id": 42512686, "comment_id": 95245028, "body": "That&#39;s awesome, and exactly what I needed! I&#39;m looking forward to jumping into this framework!"}], "tags": [], "owner": {"reputation": 1372, "user_id": 2109767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41a18d3c3113816fd6c2c4bbb858316c?s=128&d=identicon&r=PG", "display_name": "Jeremy Farrell", "link": "https://stackoverflow.com/users/2109767/jeremy-farrell"}, "is_accepted": true, "score": 21, "last_activity_date": 1488295613, "creation_date": 1488295613, "answer_id": 42512686, "question_id": 42403755, "link": "https://stackoverflow.com/questions/42403755/running-job-on-airflow-based-on-webrequest/42512686#42512686", "title": "Running Job On Airflow Based On Webrequest", "body": "<p>The <a href=\"https://github.com/teamclairvoyant/airflow-rest-api-plugin\" rel=\"noreferrer\">Airflow REST API Plugin</a> would help you out here. Once you have followed the instructions for installing the plugin you would just need to hit the following url: <code>http://{HOST}:{PORT}/admin/rest_api/api/v1.0/trigger_dag?dag_id={dag_id}&amp;run_id={run_id}&amp;conf={url_encoded_json_parameters}</code>, replacing dag_id with the id of your dag, either omitting run_id or specify a unique id, and passing a url encoded json for conf (with any of the parameters you need in the triggered dag).  </p>\n\n<p>Here is an example JavaScript function that uses jQuery to call the Airflow api: </p>\n\n<pre><code>function triggerDag(dagId, dagParameters){\n    var urlEncodedParameters = encodeURIComponent(dagParameters);\n    var dagRunUrl = \"http://airflow:8080/admin/rest_api/api/v1.0/trigger_dag?dag_id=\"+dagId+\"&amp;conf=\"+urlEncodedParameters;\n    $.ajax({\n        url: dagRunUrl,\n        dataType: \"json\",\n        success: function(msg) {\n            console.log('Successfully started the dag');\n        },\n        error: function(e){\n           console.log('Failed to start the dag');\n        }\n    });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 530, "user_id": 6377569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154191330382866/picture?type=large", "display_name": "Jeff", "link": "https://stackoverflow.com/users/6377569/jeff"}, "edited": false, "score": 0, "creation_date": 1603459175, "post_id": 43900353, "comment_id": 114051868, "body": "In the latest version they changed the auth_backend variable from default to deny_all in the airflow.cfg. Change it to default for testing purposes."}], "tags": [], "owner": {"reputation": 851, "user_id": 7864773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfedce2447b785370bb135fcd3cc7701?s=128&d=identicon&r=PG&f=1", "display_name": "apathyman", "link": "https://stackoverflow.com/users/7864773/apathyman"}, "is_accepted": false, "score": 17, "last_activity_date": 1494441519, "creation_date": 1494441519, "answer_id": 43900353, "question_id": 42403755, "link": "https://stackoverflow.com/questions/42403755/running-job-on-airflow-based-on-webrequest/43900353#43900353", "title": "Running Job On Airflow Based On Webrequest", "body": "<p>A new option in airflow is the <em>experimental</em>, but built-in, API endpoint in the more recent builds of 1.7 and 1.8. This allows you to run a REST service on your airflow server to listen to a port and accept cli jobs.</p>\n\n<p>I only have limited experience myself, but I have run test dags with success. Per the docs:</p>\n\n<p><code>/api/experimental/dags/&lt;DAG_ID&gt;/dag_runs</code> creates a dag_run for a given dag id (POST).</p>\n\n<p>That will schedule an immediate run of whatever dag you want to run. It does still use the scheduler, though, waiting for a heartbeat to see that dag is running and pass tasks to the worker. This is exactly the same behavior as the CLI, though, so I still believe it fits your use-case.</p>\n\n<p>Documentation on how to configure it is available here: <a href=\"https://airflow.apache.org/api.html\" rel=\"noreferrer\">https://airflow.apache.org/api.html</a></p>\n\n<p>There are some simple example clients in the github, too, under airflow/api/clients</p>\n"}, {"tags": [], "owner": {"reputation": 3647, "user_id": 406896, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b0b3e99d2a134b1f5410b779d95b476?s=128&d=identicon&r=PG", "display_name": "Arnab Biswas", "link": "https://stackoverflow.com/users/406896/arnab-biswas"}, "is_accepted": false, "score": 3, "last_activity_date": 1547028205, "creation_date": 1547028205, "answer_id": 54107520, "question_id": 42403755, "link": "https://stackoverflow.com/questions/42403755/running-job-on-airflow-based-on-webrequest/54107520#54107520", "title": "Running Job On Airflow Based On Webrequest", "body": "<p>Airflow's experimental REST API interface can be used for this purpose. </p>\n\n<p>Following request will trigger a DAG:</p>\n\n<pre><code>curl -X POST \\\n    http://&lt;HOST&gt;:8080/api/experimental/dags/process_data/dag_runs \\\n    -H 'Cache-Control: no-cache' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\"conf\":\"{\\\"START_DATE\\\":\\\"2018-06-01 03:00:00\\\", \\\"STOP_DATE\\\":\\\"2018-06-01 23:00:00\\\"}'\n</code></pre>\n\n<p>Following request retrieves a list of Dag Runs for a specific DAG ID:</p>\n\n<pre><code>curl -i -H \"Accept: application/json\" -H \"Content-Type: application/json\" -X GET http://&lt;HOST&gt;:8080/api/experimental/dags/process_data/dag_runs\n</code></pre>\n\n<p>For the GET API to work set <code>rbac</code> flag to <code>True</code> at <code>airflow.cfg</code>.</p>\n\n<p>Following are the list of APIs available: <a href=\"https://github.com/apache/airflow/blob/master/airflow/www/api/experimental/endpoints.py\" rel=\"nofollow noreferrer\">here</a> &amp; <a href=\"https://github.com/apache/airflow/blob/master/airflow/www_rbac/api/experimental/endpoints.py\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 218, "user_id": 9583820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBV6R.jpg?s=128&g=1", "display_name": "Anton Kumpan", "link": "https://stackoverflow.com/users/9583820/anton-kumpan"}, "is_accepted": false, "score": 3, "last_activity_date": 1570128212, "creation_date": 1570128212, "answer_id": 58225151, "question_id": 42403755, "link": "https://stackoverflow.com/questions/42403755/running-job-on-airflow-based-on-webrequest/58225151#58225151", "title": "Running Job On Airflow Based On Webrequest", "body": "<p>Airflow has REST API (currently experimental) - available here:\n<a href=\"https://airflow.apache.org/api.html#endpoints\" rel=\"nofollow noreferrer\">https://airflow.apache.org/api.html#endpoints</a></p>\n\n<p>If you do not want to install plugins as suggested in other answers - here is code how you can do it directly with the API:</p>\n\n<pre><code>def trigger_dag(self, dag_id, run_id=None, conf=None, execution_date=None):\n    endpoint = '/api/experimental/dags/{}/dag_runs'.format(dag_id)\n    url = urljoin(self._api_base_url, endpoint)\n    data = self._request(url, method='POST',\n                         json={\n                             \"run_id\": run_id,\n                             \"conf\": conf,\n                             \"execution_date\": execution_date,\n                         })\n    return data['message']\n</code></pre>\n\n<p>More examples working with airflow API in python are available here:\n<a href=\"https://github.com/apache/airflow/blob/master/airflow/api/client/json_client.py\" rel=\"nofollow noreferrer\">https://github.com/apache/airflow/blob/master/airflow/api/client/json_client.py</a></p>\n"}, {"comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 1, "creation_date": 1604923972, "post_id": 64751036, "comment_id": 114486197, "body": "Your answer reads as advertisement and not solving the problem stated by OP. &quot;more suitable&quot; doesn&#39;t cover the payload of information in your answer so please elaborate on e.g. differences or shortcuts.. what ever comes to mind that comes close in answering the question raised. Otherwise its merely a comment if not advertisement. End of Review. Finish the SO tour! Welcome and enjoy SO ;-)"}], "tags": [], "owner": {"reputation": 53, "user_id": 14498402, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgYtc2TvzYtMG-QLRWKMOA5vq_9DQ_f5QARsKVmgg=k-s128", "display_name": "OrFeldman", "link": "https://stackoverflow.com/users/14498402/orfeldman"}, "is_accepted": false, "score": 0, "last_activity_date": 1604922355, "creation_date": 1604922355, "answer_id": 64751036, "question_id": 42403755, "link": "https://stackoverflow.com/questions/42403755/running-job-on-airflow-based-on-webrequest/64751036#64751036", "title": "Running Job On Airflow Based On Webrequest", "body": "<p>I found this post while trying to do the same, after further investigation, I switch to ArgoEvents. It is basically the same but based on event-driven flows so it is much more suitable for this use case.\nLink:\n<a href=\"https://argoproj.github.io/argo\" rel=\"nofollow noreferrer\">https://argoproj.github.io/argo</a></p>\n"}], "owner": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24226, "favorite_count": 5, "accepted_answer_id": 42512686, "answer_count": 6, "score": 25, "last_activity_date": 1604922355, "creation_date": 1487803646, "question_id": 42403755, "link": "https://stackoverflow.com/questions/42403755/running-job-on-airflow-based-on-webrequest", "title": "Running Job On Airflow Based On Webrequest", "body": "<p>I wanted to know if airflow tasks can be executed upon getting a request over HTTP. I am not interested in the scheduling part of Airflow. I just want to use it as a substitute for Celery.</p>\n\n<p>So an example operation would be something like this.</p>\n\n<ol>\n<li>User submits a form requesting for some report.</li>\n<li>Backend receives the request and sends the user a notification that the request has been received.</li>\n<li>The backend then schedules a job using Airflow to run immediately.</li>\n<li>Airflow then executes a series of tasks associated with a DAG. For example, pull data from redshift first, pull data from MySQL, make some operations on the two result sets, combine them and then upload the results to Amazon S3, send an email.</li>\n</ol>\n\n<p>From whatever I read online, you can run airflow jobs by executing <code>airflow ...</code> on the command line. I was wondering if there is a python api which can execute the same thing.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1487804107, "post_id": 42403746, "comment_id": 71954577, "body": "Please post code that reproduces the problem. For example, what is <code>li</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487804691, "post_id": 42403746, "comment_id": 71954773, "body": "try printing the representation, jsut to rule out any weird funny characters: <code>print(repr(x))</code>"}, {"owner": {"reputation": 24467, "user_id": 6207849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9d1a7dcb20c04510d19271281354b1?s=128&d=identicon&r=PG", "display_name": "Nickil Maveli", "link": "https://stackoverflow.com/users/6207849/nickil-maveli"}, "edited": false, "score": 0, "creation_date": 1487832858, "post_id": 42403746, "comment_id": 71964188, "body": "@T_J_P : In the <code>loc</code> selection when you include <code>[&#39;Spend&#39;,&#39;Date&#39;]</code>, only those columns get returned when the condition gets satisifed. Later, you are reusing <code>&#39;Advertiser&#39;</code> column to set it as the index axis which doesn&#39;t really exist. Inorder to accommodate that, you need to append this column to the returned list of columns during <code>loc</code> selection, like - <code>[&#39;Spend&#39;,&#39;Date&#39;,&#39;Advertiser&#39;]</code>."}, {"owner": {"reputation": 31, "user_id": 7607575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cc031895482ce6e072bc894bc254a1d?s=128&d=identicon&r=PG&f=1", "display_name": "T_J_P", "link": "https://stackoverflow.com/users/7607575/t-j-p"}, "reply_to_user": {"reputation": 24467, "user_id": 6207849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9d1a7dcb20c04510d19271281354b1?s=128&d=identicon&r=PG", "display_name": "Nickil Maveli", "link": "https://stackoverflow.com/users/6207849/nickil-maveli"}, "edited": false, "score": 0, "creation_date": 1487865703, "post_id": 42403746, "comment_id": 71986650, "body": "@NickilMaveli I tried to implement your change, my <code>loc</code> statement now reads like this  <code>df = df.loc[(df.Advertiser == x) , [&#39;Advertiser&#39;,&#39;Date&#39;,&#39;Spend&#39;]}</code>  but I am still having the same issue where it returns an empty dataframe. Any other suggestions?"}, {"owner": {"reputation": 31, "user_id": 7607575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cc031895482ce6e072bc894bc254a1d?s=128&d=identicon&r=PG&f=1", "display_name": "T_J_P", "link": "https://stackoverflow.com/users/7607575/t-j-p"}, "reply_to_user": {"reputation": 24467, "user_id": 6207849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9d1a7dcb20c04510d19271281354b1?s=128&d=identicon&r=PG", "display_name": "Nickil Maveli", "link": "https://stackoverflow.com/users/6207849/nickil-maveli"}, "edited": false, "score": 0, "creation_date": 1487865991, "post_id": 42403746, "comment_id": 71986861, "body": "@NickilMaveli I also tried <code>df = df[df[&#39;Advertiser&#39;] == x]</code> which should do a similar function but still empty df&#39;s are returned.  I think the issue has to do with the <code>x</code> variable not storing the value correctly."}], "owner": {"reputation": 31, "user_id": 7607575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cc031895482ce6e072bc894bc254a1d?s=128&d=identicon&r=PG&f=1", "display_name": "T_J_P", "link": "https://stackoverflow.com/users/7607575/t-j-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1487804049, "creation_date": 1487803625, "last_edit_date": 1487804049, "question_id": 42403746, "link": "https://stackoverflow.com/questions/42403746/my-python-function-is-not-recognizing-my-dynamic-variable", "title": "my python function is not recognizing my dynamic variable", "body": "<p>I am trying to run a df.loc() function passing in a dynamic variable.  I have managed to isolate my 5 different dynamic variables and split them. I am trying to use a for loop to run my function on each of the 5 variables. </p>\n\n<p>All 5 of my dynamic variables are stored in <code>li</code>, below is the for loop I am using to call my function on all 5 variables.</p>\n\n<pre><code>for i in li:\n    dataframe(i)\n</code></pre>\n\n<p>and here is the function I am passing it too </p>\n\n<pre><code>def dataframe(x):\n    df = pd.read_pickle('url_cpa') \n    print(x) \n    df = df.loc[(df.Advertiser == x) , ['Spend','Date'])\n    df = df.set_index('Advertiser')\n    print(df)\n    return df\n</code></pre>\n\n<p>If I hardcode one of my variables into the function it runs and returns the dataframe I want </p>\n\n<pre><code> in: df = df.loc[(df.Advertiser == 'Advertiser 1') , ['Spend','Date'])\nout: \n  'Advertiser 1' \n      Advertiser               Spend             Date\n      Advertiser 1             101.3              10/12/16\n      Advertiser 1             54.2               10/5/16\n</code></pre>\n\n<p>however when I subsitute in my variable x like it is below, it returns a blank dataframe </p>\n\n<pre><code> in: df = df.loc[(df.Advertiser == x ) , ['Spend','Date'])\nout: \n 'Advertiser 1'\nEmpty DataFrame\nColumns: [Spend, Date]\nIndex: []\n</code></pre>\n\n<p>when I simply print out my variable x in the function it returns the correctly formatted variable </p>\n\n<pre><code> in: print(x) \nout: 'Advertiser 1'\n</code></pre>\n\n<p>I can't figure out why the <code>df.loc()</code> command returns an empty dataframe when called on my variable x, but returns a populated dataframe when I hard code the variable.  </p>\n"}, {"tags": ["python", "string", "pandas", "dataframe", "count"], "answers": [{"comments": [{"owner": {"reputation": 4137, "user_id": 6346698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c20ab6d6a6597a7be342a662a0d42e6b?s=128&d=identicon&r=PG&f=1", "display_name": "everestial007", "link": "https://stackoverflow.com/users/6346698/everestial007"}, "edited": false, "score": 0, "creation_date": 1487814152, "post_id": 42404749, "comment_id": 71957923, "body": "thanks for the answer. If you have sometime, can you please add some explanation. I am trying to read pandas doc and your script to find what each piece of code is doing. Any info would be helpful."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1487809723, "last_edit_date": 1487809723, "creation_date": 1487808852, "answer_id": 42404749, "question_id": 42403738, "link": "https://stackoverflow.com/questions/42403738/how-to-count-the-number-of-times-a-item-value-from-a-particular-column-is-repeat/42404749#42404749", "title": "How to count the number of times a item/value from a particular column is repeated in another/other column of a pandas dataframe?", "body": "<p>consider the <code>numpy</code> based helper function <code>count_in</code></p>\n\n<pre><code>def count_in(clst, cols):\n    cols = np.asarray(cols)\n    c1 = np.core.defchararray.split(np.asarray(clst).astype(str), ',')\n    l = np.array([len(i) for i in c1])\n    s = np.concatenate(c1)\n    r = np.arange(len(cols))\n    c = (s[:, None] == cols[r.repeat(l)]).cumsum(0)\n\n    z = np.zeros(cols.shape[1], dtype=int)\n    counts = np.diff(np.vstack([z, c[l.cumsum() - 1]]), axis=0).astype(str)\n    return pd.Series(counts.tolist(), clst.index).str.join('|')\n</code></pre>\n\n<p>then <code>apply</code></p>\n\n<pre><code>cols = ['F1_x', 'F1_y']\nd1 = df.drop(cols, 1).apply(count_in, cols=df[cols])\nd1.join(df[cols])\n\n   MA1  MA2  MA3  Sp3  Sp4  Sp6 F1_x F1_y\n0  0|2  0|2  0|3  0|1  1|1  1|1  CgC  TgT\n1  0|1  0|3  0|2  1|1  1|1  1|1  GgC  CgT\n2  0|1  0|1  0|1  1|1  2|0  0|1  CgG  TgC\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>d2 = d1.stack().str.split('|', expand=True).astype(int)\nd3 = d2.groupby(\n    [d2.index.get_level_values(0), d2.index.get_level_values(1).str[0]]\n).sum()\npd.Series(\n    d3.astype(str).values.tolist(), d3.index\n).str.join('|').unstack().rename(columns='like_{}'.format).join(df[cols])\n\n  like_M like_S F1_x F1_y\n0    0|7    2|3  CgC  TgT\n1    0|6    3|3  GgC  CgT\n2    0|3    3|2  CgG  TgC\n</code></pre>\n"}], "owner": {"reputation": 4137, "user_id": 6346698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c20ab6d6a6597a7be342a662a0d42e6b?s=128&d=identicon&r=PG&f=1", "display_name": "everestial007", "link": "https://stackoverflow.com/users/6346698/everestial007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 42404749, "answer_count": 1, "score": 1, "last_activity_date": 1487809723, "creation_date": 1487803581, "last_edit_date": 1495541372, "question_id": 42403738, "link": "https://stackoverflow.com/questions/42403738/how-to-count-the-number-of-times-a-item-value-from-a-particular-column-is-repeat", "title": "How to count the number of times a item/value from a particular column is repeated in another/other column of a pandas dataframe?", "body": "<p><strong>I have a pandas data like following:</strong></p>\n\n<pre><code>MA1     MA2     MA3        Sp3              Sp4     Sp6            F1_x     F1_y\nTgT,TgT   TgT,TgT       TgT,TgT,TgT   TgT,TgC           TgT,CgC    TgT,TgC,CgT,CgC     CgC     TgT\nCgT       CgT,CgT,CgT   CgT,CgT       CgT,CgC,GgT,GgC   CgT,GgC    GgT,GgC,CgT         GgC      CgT\nTgC       TgG,TgC       TgC           TgC,CgG           CgG,CgG    TgG,TgC             CgG      TgC\n</code></pre>\n\n<p><strong>Problem 01:</strong></p>\n\n<ul>\n<li>I will read the string values in <strong>F1_x and F1_y</strong> and want to count <strong>how many of F1_x vs y are in other columns?</strong></li>\n<li>the counts of F1_x will be written first separated by pipe (|).</li>\n</ul>\n\n<p><strong>Output: For the first line would be</strong></p>\n\n<pre><code>MA1  MA2     MA3      Sp3   Sp4   Sp6      F1_x    F1_y\n0|2      0|2      0|3     0|1    1|1       1|1     CgC     TgT\n</code></pre>\n\n<p><strong>Problem 02:</strong> Additionally, I want to create another dataframe where the counts are done for <strong>M-type vs. S-type column</strong>.</p>\n\n<p><strong>Output: for the first line would be</strong></p>\n\n<pre><code>        like_M      like_S\n        x   y       x   y\n         0|7         1|3\n</code></pre>\n\n<p>or, </p>\n\n<pre><code>    like_M      like_S     F1_x    F1_y\n    0|7         1|3        CgC     TgT\n</code></pre>\n\n<p>I tried a method using for-loop which was quite extensive because my data are huge. I tried to take this method given by @piRSquared in this question: <a href=\"https://stackoverflow.com/questions/41929351/how-to-read-two-lines-from-a-file-and-create-dynamics-keys-in-a-for-loop-using-p\">How to read two lines from a file and create dynamics keys in a for-loop using python?</a>\nbut, couldn't work it out.</p>\n"}, {"tags": ["python", "axis", "labels"], "comments": [{"owner": {"reputation": 1444, "user_id": 6888191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/882ac7ceca6fcf2791985e837e1e12a2?s=128&d=identicon&r=PG&f=1", "display_name": "B. Eckles", "link": "https://stackoverflow.com/users/6888191/b-eckles"}, "edited": false, "score": 0, "creation_date": 1487803637, "post_id": 42403712, "comment_id": 71954415, "body": "I don&#39;t understand what it is you&#39;re trying to achieve. Can you put your description of what you want it to look like, another way?"}, {"owner": {"reputation": 350, "user_id": 4734969, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/fb6fd1c8b4a3f496903ff27383bfcd07?s=128&d=identicon&r=PG&f=1", "display_name": "Erincon", "link": "https://stackoverflow.com/users/4734969/erincon"}, "reply_to_user": {"reputation": 1444, "user_id": 6888191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/882ac7ceca6fcf2791985e837e1e12a2?s=128&d=identicon&r=PG&f=1", "display_name": "B. Eckles", "link": "https://stackoverflow.com/users/6888191/b-eckles"}, "edited": false, "score": 0, "creation_date": 1487804129, "post_id": 42403712, "comment_id": 71954589, "body": "See my edit... that&#39;s what I want"}], "answers": [{"tags": [], "owner": {"reputation": 1444, "user_id": 6888191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/882ac7ceca6fcf2791985e837e1e12a2?s=128&d=identicon&r=PG&f=1", "display_name": "B. Eckles", "link": "https://stackoverflow.com/users/6888191/b-eckles"}, "is_accepted": false, "score": 0, "last_activity_date": 1487868711, "creation_date": 1487868711, "answer_id": 42421735, "question_id": 42403712, "link": "https://stackoverflow.com/questions/42403712/invert-axis-ticks-direction-in-python/42421735#42421735", "title": "Invert axis ticks direction in Python", "body": "<p>I don't have a way of testing this myself at the moment, but based off of <a href=\"http://matplotlib.org/mpl_toolkits/axes_grid/users/axisartist.html#rotation-and-alignment-of-ticklabels\" rel=\"nofollow noreferrer\">this link</a>, it seem the following --or some variation thereof-- might work:</p>\n\n<p>Inside <code>TaylorDiagram.__init__</code>:</p>\n\n<pre><code>        ax.axis[\"right\"].major_ticklabels.set_axis_direction(\"right\")\n</code></pre>\n\n<p>This line (or maybe a similar one) should change to this:</p>\n\n<pre><code>        ax.axis[\"right\"].major_ticklabels.set_axis_direction(\"bottom\")\n</code></pre>\n\n<p>As for the number of ticks and stuff, it's hard for me to figure out just by perusing the documentation right now, but try doing a <code>help(ax.axis[\"right\"].major_ticklabels)</code> and seeing what there is about tick labels. There's likely a list somewhere you can edit or set by hand, at the very least.</p>\n"}], "owner": {"reputation": 350, "user_id": 4734969, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/fb6fd1c8b4a3f496903ff27383bfcd07?s=128&d=identicon&r=PG&f=1", "display_name": "Erincon", "link": "https://stackoverflow.com/users/4734969/erincon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 998, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1487868711, "creation_date": 1487803498, "last_edit_date": 1487804087, "question_id": 42403712, "link": "https://stackoverflow.com/questions/42403712/invert-axis-ticks-direction-in-python", "title": "Invert axis ticks direction in Python", "body": "<p>I have this function, modified from <a href=\"https://gist.github.com/ycopin/3342888\" rel=\"nofollow noreferrer\">ycopin - GitHub</a>.</p>\n\n<pre><code>#!/usr/bin/env python\n# Copyright: This document has been placed in the public domain.\n\n\"\"\"\nTaylor diagram (Taylor, 2001) test implementation.\nhttp://www-pcmdi.llnl.gov/about/staff/Taylor/CV/Taylor_diagram_primer.htm\n\"\"\"\n\n__version__ = \"Time-stamp: &lt;2012-02-17 20:59:35 ycopin&gt;\"\n__author__ = \"Yannick Copin &lt;yannick.copin@laposte.net&gt;\"\n\nimport numpy as NP\nimport matplotlib.pyplot as PLT\n\nclass TaylorDiagram(object):\n    \"\"\"Taylor diagram: plot model standard deviation and correlation\n    to reference (data) sample in a single-quadrant polar plot, with\n    r=stddev and theta=arccos(correlation).\n    \"\"\"\n\n    def __init__(self, refstd, fig=None, rect=111, label='_'):\n        \"\"\"Set up Taylor diagram axes, i.e. single quadrant polar\n        plot, using mpl_toolkits.axisartist.floating_axes. refstd is\n        the reference standard deviation to be compared to.\n        \"\"\"\n\n        from matplotlib.projections import PolarAxes\n        import mpl_toolkits.axisartist.floating_axes as FA\n        import mpl_toolkits.axisartist.grid_finder as GF\n\n        self.refstd = refstd            # Reference standard deviation\n\n        tr = PolarAxes.PolarTransform()\n\n        # Correlation positive labels\n        rlocs = NP.concatenate(([-0.99,-0.9],NP.arange(-0.8,0,0.2),\n                                NP.arange(0,0.9,0.2),[0.9,0.99]))\n        tlocs = NP.arccos(rlocs)        # Conversion to polar angles\n        gl1 = GF.FixedLocator(tlocs)    # Positions\n        tf1 = GF.DictFormatter(dict(zip(tlocs, map(str,rlocs))))\n\n        # Standard deviation axis extent\n        self.smin = 0\n        self.smax = 2*self.refstd/self.refstd\n\n        ghelper = FA.GridHelperCurveLinear(tr,\n                                           extremes=(0,NP.pi, # 1st quadrant\n                                                     self.smin,self.smax),\n                                           grid_locator1=gl1,\n                                           tick_formatter1=tf1,\n                                           )                          \n\n\n        if fig is None:\n            fig = PLT.figure()\n\n        ax = FA.FloatingSubplot(fig, rect, grid_helper=ghelper)\n        fig.add_subplot(ax)\n\n        # Adjust axes\n        ax.axis[\"top\"].set_axis_direction(\"bottom\")  # \"Angle axis\"\n        ax.axis[\"top\"].toggle(ticklabels=True, label=True)\n        ax.axis[\"top\"].major_ticklabels.set_axis_direction(\"top\")\n        ax.axis[\"top\"].label.set_axis_direction(\"top\")\n        ax.axis[\"top\"].label.set_text(\"Correlation\")\n\n\n        ax.axis[\"left\"].set_axis_direction(\"right\") # \"X axis\"\n        ax.axis[\"right\"].toggle(ticklabels=True)\n        ax.axis[\"right\"].major_ticklabels.set_axis_direction(\"bottom\")\n\n        #ax.axis[\"bottom\"].label.set_text(\"Standard deviation\")\n\n        ax.axis[\"right\"].set_axis_direction(\"left\")   # \"Y axis\"\n        #ax.axis[\"right\"].toggle(ticklabels=True)\n        ax.axis[\"right\"].major_ticklabels.set_axis_direction(\"right\")\n\n        ax.axis[\"bottom\"].set_visible(False)         # Useless\n\n        # Contours along standard deviations\n        ax.grid(False)\n\n        self._ax = ax                   # Graphical axes\n        self.ax = ax.get_aux_axes(tr)   # Polar coordinates\n\n        # Add reference point and stddev contour\n        print \"Reference std:\", self.refstd/self.refstd\n        l, = self.ax.plot([0], self.refstd/self.refstd, 'k*',\n                          ls='', ms=10, label=label)\n        t = NP.linspace(0, NP.pi)\n        r = NP.zeros_like(t) + self.refstd/self.refstd\n        self.ax.plot(t,r, 'k--', label='_')\n\n        # Collect sample points for latter use (e.g. legend)\n        self.samplePoints = [l]\n\n    def add_sample(self, stddev, corrcoef, *args, **kwargs):\n        \"\"\"Add sample (stddev,corrcoeff) to the Taylor diagram. args\n        and kwargs are directly propagated to the Figure.plot\n        command.\"\"\"\n\n        l, = self.ax.plot(NP.arccos(corrcoef), stddev/self.refstd,\n                          *args, **kwargs) # (theta,radius)\n        self.samplePoints.append(l)\n\n        return l\n\n    def add_contours(self, levels=5, **kwargs):\n        \"\"\"Add constant centered RMS difference contours.\"\"\"\n\n        rs,ts = NP.meshgrid(NP.linspace(self.smin,self.smax),\n                            NP.linspace(0,NP.pi))\n        # Compute centered RMS difference\n        rms = NP.sqrt((self.refstd/self.refstd)**2 + rs**2 - 2*(self.refstd/self.refstd)*rs*NP.cos(ts))\n\n        contours = self.ax.contour(ts, rs, rms, levels, **kwargs)\n\n        return contours\n\n\nif __name__=='__main__':\n\n    # Reference dataset\n    x = NP.linspace(0,4*NP.pi,100)\n    data = NP.sin(x)\n    refstd = data.std(ddof=1)           # Reference standard deviation\n\n    # Models\n    m1 = data + 0.2*NP.random.randn(len(x))    # Model 1\n    m2 = 0.8*data + .1*NP.random.randn(len(x)) # Model 2\n    m3 = NP.sin(x-NP.pi/10)                    # Model 3\n\n    # Compute stddev and correlation coefficient of models\n    samples = NP.array([ [m.std(ddof=1), NP.corrcoef(data, m)[0,1]]\n                         for m in (m1,m2,m3)])\n\n    fig = PLT.figure(figsize=(10,4))\n\n    ax1 = fig.add_subplot(1,2,1, xlabel='X', ylabel='Y')\n    # Taylor diagram\n    dia = TaylorDiagram(refstd, fig=fig, rect=122, label=\"Reference\")\n\n    colors = PLT.matplotlib.cm.jet(NP.linspace(0,1,len(samples)))\n\n    ax1.plot(x,data,'ko', label='Data')\n    for i,m in enumerate([m1,m2,m3]):\n        ax1.plot(x,m, c=colors[i], label='Model %d' % (i+1))\n    ax1.legend(numpoints=1, prop=dict(size='small'), loc='best')\n\n    # Add samples to Taylor diagram\n    for i,(stddev,corrcoef) in enumerate(samples):\n        dia.add_sample(stddev, corrcoef, marker='s', ls='', c=colors[i],\n                       label=\"Model %d\" % (i+1))\n\n    # Add RMS contours, and label them\n    contours = dia.add_contours(colors='0.5')\n    PLT.clabel(contours, inline=1, fontsize=10)\n\n    # Add a figure legend\n    fig.legend(dia.samplePoints,\n               [ p.get_label() for p in dia.samplePoints ],\n               numpoints=1, prop=dict(size='small'), loc='upper right')\n\n\n    PLT.show()\n</code></pre>\n\n<p>When it runs, it shows this fig1</p>\n\n<p><a href=\"https://i.stack.imgur.com/vYZRq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vYZRq.png\" alt=\"fig1\"></a></p>\n\n<p>What I want is to reduce the number x,y (polar axis) ticks... maybe five (5, including the ref data) in each standard deviation axis and put them aligned horizontally. Any idea?</p>\n\n<p>EDIT:</p>\n\n<p>Pass from the figure above to this:\n<a href=\"https://i.stack.imgur.com/BWVjh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BWVjh.png\" alt=\"fig2\"></a></p>\n\n<p>Reducing the number of ticks</p>\n"}, {"tags": ["python", "ubuntu"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 3, "creation_date": 1487803459, "post_id": 42403657, "comment_id": 71954334, "body": "Did you add anything to your <code>~&#47;.profile</code>, <code>~&#47;.bash_profile</code>, and/or <code>~&#47;.bashrc</code> file?"}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1487803502, "post_id": 42403657, "comment_id": 71954354, "body": "Try deleting the file <code>.virtualenvs</code>? I&#39;m not sure how you installed it but <code>virtualenv</code> is supposed to be in your Python directory like <code>pip</code>. Bottom line: I don&#39;t know the solution, this is just a suggestion"}, {"owner": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "edited": false, "score": 0, "creation_date": 1487803774, "post_id": 42403657, "comment_id": 71954461, "body": "removing the .virtualenv file fixed the problem. I&#39;m not sure why it was their in the first place. I did not intentionally create it. And no, there is nothing new in my <code>$PATH</code> files. Thanks for the help"}], "owner": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487803282, "creation_date": 1487803282, "question_id": 42403657, "link": "https://stackoverflow.com/questions/42403657/error-upon-opening-terminal-in-ubuntu-in-relation-to-pythons-vitualenv", "title": "Error upon opening terminal in Ubuntu in relation to pythons vitualenv", "body": "<p>Yesterday I installed pythons Virtualenv. Now every time I open a terminal I receive this error. </p>\n\n<p><code>mkdir: cannot create directory \u2018/home/riley/.virtualenvs\u2019: File exists</code></p>\n\n<p>Why Is it trying to create this directory every time I open a terminal?</p>\n"}, {"tags": ["python", "opencv", "emacs"], "comments": [{"owner": {"reputation": 5839, "user_id": 6454584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YR4dt.png?s=128&g=1", "display_name": "Zroq", "link": "https://stackoverflow.com/users/6454584/zroq"}, "edited": false, "score": 0, "creation_date": 1487802946, "post_id": 42403551, "comment_id": 71954155, "body": "Your <code>img</code> needs to be casted as an <code>uint8. CV_8U</code>. Import numpy and add the following line after you load your image <code>img= np.uint8(img)</code>. Use <code>cv2.Canny</code> after."}, {"owner": {"reputation": 7557, "user_id": 1341455, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce6790bda8ac812b2c2c2b29e28ef412?s=128&d=identicon&r=PG", "display_name": "shelper", "link": "https://stackoverflow.com/users/1341455/shelper"}, "reply_to_user": {"reputation": 5839, "user_id": 6454584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YR4dt.png?s=128&g=1", "display_name": "Zroq", "link": "https://stackoverflow.com/users/6454584/zroq"}, "edited": false, "score": 0, "creation_date": 1487814101, "post_id": 42403551, "comment_id": 71957905, "body": "but why no error when i am using system python shell?"}], "answers": [{"tags": [], "owner": {"reputation": 295, "user_id": 9319024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u1xs1zstPVQ/AAAAAAAAAAI/AAAAAAAABWg/v7NeXq346c8/photo.jpg?sz=128", "display_name": "Megan Hardy", "link": "https://stackoverflow.com/users/9319024/megan-hardy"}, "is_accepted": false, "score": 8, "last_activity_date": 1587572032, "last_edit_date": 1587572032, "creation_date": 1521666558, "answer_id": 49416559, "question_id": 42403551, "link": "https://stackoverflow.com/questions/42403551/python-opencv-error-in-emacs-when-running-cv2-canny/49416559#49416559", "title": "python opencv error in Emacs when running cv2.Canny()", "body": "<p>The issue is that your image (or one of your images) is not in 8 bit format (8 bit format means each of three channels is in <code>[0,255]</code>).</p>\n\n<p>You can change this by adding:</p>\n\n<pre><code>img = img.astype(np.uint8)\n</code></pre>\n\n<p>before you call <code>cv2.Canny</code>.</p>\n"}], "owner": {"reputation": 7557, "user_id": 1341455, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce6790bda8ac812b2c2c2b29e28ef412?s=128&d=identicon&r=PG", "display_name": "shelper", "link": "https://stackoverflow.com/users/1341455/shelper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5781, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1587572032, "creation_date": 1487802750, "question_id": 42403551, "link": "https://stackoverflow.com/questions/42403551/python-opencv-error-in-emacs-when-running-cv2-canny", "title": "python opencv error in Emacs when running cv2.Canny()", "body": "<p>I encountered a very strange issue when using OpenCV's cv2.Canny() function in the python shell in Emacs. When I run <code>cv2.Canny(img, thresh1, thresh2)</code>, I got error message</p>\n\n<blockquote>\n  <p>OpenCV Error: Assertion failed (depth == CV_8U) in cv::Canny, file D:\\Build\\OpenCV\\opencv-3.2.0\\modules\\imgproc\\src\\canny.cpp, line 845\n  Traceback (most recent call last):   File \"\", line 1, in\n     File \"../myscript.py\",\n  line 34, in \n      lines = cv2.HoughLines(edges,1,np.pi/180,200) cv2.error: D:\\Build\\OpenCV\\opencv-3.2.0\\modules\\imgproc\\src\\canny.cpp:845: error:\n  (-215) depth == CV_8U in function cv::Canny</p>\n</blockquote>\n\n<p>I don't even have a D drive on my computer, and why the source code has issue with this? it should already been compiled..</p>\n\n<p>I haven't observe any other functions in python-opencv cause this issue. I also tried to install different versions, and same error for this particular function call, but the line number varies because the <code>canny.cpp</code> file is of different versions.</p>\n\n<p>However, everything is fine, when I run the same line in System Python Shell...</p>\n\n<p>my system environment:</p>\n\n<pre><code>windows7 64bit\npython 3.5\npython-opencv: 3.1, or 3.2\nemacs 25.1.1\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "bayesian"], "comments": [{"owner": {"reputation": 3185, "user_id": 4118756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X01CE.png?s=128&g=1", "display_name": "Vlas Sokolov", "link": "https://stackoverflow.com/users/4118756/vlas-sokolov"}, "edited": false, "score": 0, "creation_date": 1487807219, "post_id": 42403484, "comment_id": 71955759, "body": "You can run a KDE on your sample (e.g. with <code>scipy.stats.gaussian_kde</code>) and plot the contours with matplotlib."}, {"owner": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 1, "creation_date": 1487838824, "post_id": 42403484, "comment_id": 71967319, "body": "@scootie you have standard deviation on length but min/max on time?"}, {"owner": {"reputation": 43, "user_id": 5537204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97e09584ca9a40a4bbced4b20a58a3bd?s=128&d=identicon&r=PG&f=1", "display_name": "scootie", "link": "https://stackoverflow.com/users/5537204/scootie"}, "reply_to_user": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 0, "creation_date": 1487883914, "post_id": 42403484, "comment_id": 71997763, "body": "@kazemakase that&#39;s correct. The time model is single input/single output. I apply a range of inputs (the length + standard deviation) to return single values of time. In this case the &quot;effective&quot; standard deviation on time comes directly from the standard deviation of length, but the time model does not supply its own errors."}, {"owner": {"reputation": 43, "user_id": 5537204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97e09584ca9a40a4bbced4b20a58a3bd?s=128&d=identicon&r=PG&f=1", "display_name": "scootie", "link": "https://stackoverflow.com/users/5537204/scootie"}, "reply_to_user": {"reputation": 3185, "user_id": 4118756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X01CE.png?s=128&g=1", "display_name": "Vlas Sokolov", "link": "https://stackoverflow.com/users/4118756/vlas-sokolov"}, "edited": false, "score": 0, "creation_date": 1487884292, "post_id": 42403484, "comment_id": 71997973, "body": "@VlasSokolov can you elaborate a little more? In particular, what the contours would represent?"}, {"owner": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 0, "creation_date": 1487920039, "post_id": 42403484, "comment_id": 72010136, "body": "@scootie if i understood your last comment correctly you have standard deviations on both axes? In general, you can say that each scatter point represents a 2D distribution in length and time. However, if your time model (can you show it?) is deterministic (does not add noise, 1 to 1 mapping of length to time) this distribution follows a curve. The way you plot both standard deviations makes it look like there is not a 1 on 1 mapping of length and time."}, {"owner": {"reputation": 43, "user_id": 5537204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97e09584ca9a40a4bbced4b20a58a3bd?s=128&d=identicon&r=PG&f=1", "display_name": "scootie", "link": "https://stackoverflow.com/users/5537204/scootie"}, "reply_to_user": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 0, "creation_date": 1487959709, "post_id": 42403484, "comment_id": 72034460, "body": "@kazemakase The time model is given as t = -log(length) + constant and the original (prior) length distribution is length^2. I obtain the errors on time as t_up = -log(err_len_upper) and t_low = -log(err_len_lower), so it&#39;s this somewhat artificial standard deviation in time however, time is the quantity that I ultimately use. I was originally plotting it as only y-errors, however, it didn&#39;t make sense to disregard the length errors. I was thinking instead it should be some sort of density representation, but I wasn&#39;t sure how to appropriately bin the errors."}], "owner": {"reputation": 43, "user_id": 5537204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97e09584ca9a40a4bbced4b20a58a3bd?s=128&d=identicon&r=PG&f=1", "display_name": "scootie", "link": "https://stackoverflow.com/users/5537204/scootie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487802491, "creation_date": 1487802491, "question_id": 42403484, "link": "https://stackoverflow.com/questions/42403484/python-plotting-bayesian-posterior-offset-from-prior-with-x-y-error-bars", "title": "Python plotting Bayesian posterior offset from prior with x-y error bars", "body": "<p>I am running a Bayesian analysis where I assume (based on the figure below) a set length as a prior. My model then outputs a posterior estimate for the length. I then input my posterior length +/- 1-sigma into a time model to recover the y-axis error bars.</p>\n\n<p>From the figure below the scatter points are my initial chosen lengths and the posterior recovers length offsets differing by a large margin (but within 1-sigma of the PDF-- the x-axis error bars). The y-axis error bars represent min and max error of a time model which is dependent on input min and max error of the posterior length.</p>\n\n<p>I can't touch the Bayesian model as the process should be considered a black box (i.e. I can't rerun the data locally). </p>\n\n<p>Is there a better way to represent this result? Perhaps as a 2D density? Is there a way to implement this within the standard matplotlib library?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ekSa0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ekSa0.png\" alt=\"Scatter point= initial guess for length, 2D error bars = posterior length and error of specific time model\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487802602, "post_id": 42403455, "comment_id": 71954012, "body": "I can&#39;t think of a way to do it."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487802952, "post_id": 42403455, "comment_id": 71954158, "body": "Yeah, this is the straightforward way, and unless there is some bottleneck, I wouldn&#39;t mess with it."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487803241, "post_id": 42403455, "comment_id": 71954259, "body": "Please provide full sample code.  How does <b>calculate_score</b> have access to the scores of the other players?  It doesn&#39;t receive a player list, and it&#39;s not even a method of the class."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487803266, "post_id": 42403455, "comment_id": 71954264, "body": "I have an idea, dependent on the data structures in use.  I&#39;m not sure whether it works the way I want."}, {"owner": {"reputation": 61, "user_id": 6126714, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7a3cd8f13948d06ba2772e6cbc3f3815?s=128&d=identicon&r=PG&f=1", "display_name": "hey012983", "link": "https://stackoverflow.com/users/6126714/hey012983"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487803645, "post_id": 42403455, "comment_id": 71954421, "body": "@Prune sorry, I forgot to add the extra parameter for calculate_scores."}, {"owner": {"reputation": 61, "user_id": 6126714, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7a3cd8f13948d06ba2772e6cbc3f3815?s=128&d=identicon&r=PG&f=1", "display_name": "hey012983", "link": "https://stackoverflow.com/users/6126714/hey012983"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487803669, "post_id": 42403455, "comment_id": 71954430, "body": "@Prune care to elaborate?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1487805331, "post_id": 42403455, "comment_id": 71955007, "body": "I&#39;m thinking of a compound assignment, with a list of players on the left and a comprehension or generator on the right.  Perhaps a <b>map</b> to apply the update, but I think this would require a <b>set_score</b> method for the player class."}], "owner": {"reputation": 61, "user_id": 6126714, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7a3cd8f13948d06ba2772e6cbc3f3815?s=128&d=identicon&r=PG&f=1", "display_name": "hey012983", "link": "https://stackoverflow.com/users/6126714/hey012983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487803620, "creation_date": 1487802355, "last_edit_date": 1487803620, "question_id": 42403455, "link": "https://stackoverflow.com/questions/42403455/update-old-scores-without-another-iteration", "title": "Update old scores without another iteration", "body": "<p>I have a list of people that have an old and new score for a video game. The new scores of each player depend on the old scores of the other players. I could easily do this:</p>\n\n<pre><code>while not done calculating scores:\n    for each player:\n        player.new_score = calculate_score(player, players_scores) # this fn uses players' old scores\n\n    for each player:\n        player.old_score = player.new_score\n</code></pre>\n\n<p>but I'd rather not have another layer of complexity.\nSince the new scores depend on old scores, I DON'T want to update the old scores in the same loop that I update new scores like this:</p>\n\n<pre><code>while not done calculating scores:\n    for each player:\n        player.new_score = calculate_score(player, players_scores) # this fn uses players' old scores\n        player.old_score = player.new_score\n</code></pre>\n\n<p>I was wondering if there's a way to execute the same set of instructions as the first block of code without having to iterate through the list of players again.</p>\n"}, {"tags": ["python", "django", "database"], "answers": [{"tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": false, "score": 0, "last_activity_date": 1487803389, "creation_date": 1487803389, "answer_id": 42403681, "question_id": 42403451, "link": "https://stackoverflow.com/questions/42403451/how-can-i-get-data-from-a-form-model-into-a-database-in-django/42403681#42403681", "title": "How can I get data from a form model into a database in Django", "body": "<p>It looks like your form's <code>action</code> is set to <code>/sxsw/formSubmitted/</code> that always simply return the submitted page, instead of the url that will call the <code>sxsw</code> view where the form's save method is called.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 7607632, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/557a44926ea65480469ef2bbaa5c02bf?s=128&d=identicon&r=PG&f=1", "display_name": "karllawson", "link": "https://stackoverflow.com/users/7607632/karllawson"}, "edited": false, "score": 1, "creation_date": 1487996416, "post_id": 42403686, "comment_id": 72047381, "body": "Thank you this fixed it!"}], "tags": [], "owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "is_accepted": true, "score": 2, "last_activity_date": 1487803398, "creation_date": 1487803398, "answer_id": 42403686, "question_id": 42403451, "link": "https://stackoverflow.com/questions/42403451/how-can-i-get-data-from-a-form-model-into-a-database-in-django/42403686#42403686", "title": "How can I get data from a form model into a database in Django", "body": "<p>Your form is posting to what I presume is the wrong url</p>\n\n<pre><code> &lt;form role='form' action=\"/sxsw/formSubmitted/\" method=\"post\"&gt;\n</code></pre>\n\n<p>should use the url for the sxsw view</p>\n\n<pre><code> &lt;form role='form' action=\"/sxsw/\" method=\"post\"&gt;\n</code></pre>\n\n<p>Once submitted, you'll likely want to redirect to the submitted view</p>\n\n<pre><code> return redirect('/sxsw/formSubmitted/')  # Preferably use the url pattern name here\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 7607632, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/557a44926ea65480469ef2bbaa5c02bf?s=128&d=identicon&r=PG&f=1", "display_name": "karllawson", "link": "https://stackoverflow.com/users/7607632/karllawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 42403686, "answer_count": 2, "score": -1, "last_activity_date": 1487803398, "creation_date": 1487802344, "question_id": 42403451, "link": "https://stackoverflow.com/questions/42403451/how-can-i-get-data-from-a-form-model-into-a-database-in-django", "title": "How can I get data from a form model into a database in Django", "body": "<p>I am trying to get data from a model form and then put it into a database. I have figured out how to make the form, but when clicking the submit button it doesn't seem to be put anywhere in my database. Am I doing anything wrong or am I not looking in the correct place in the database.</p>\n\n<p>forms.py</p>\n\n<pre><code>from django import forms\nfrom sxsw.models import Account\n\nclass AccountForm(forms.ModelForm):\n    class Meta:\n        model = Account\n        fields = ['firstName', 'lastName', 'email']\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.shortcuts import redirect\nfrom .forms import AccountForm\nfrom .models import Account \n\ndef sxsw(request):\n    if request.method == 'POST':\n        form = AccountForm(request.POST)\n        if form.is_valid():\n            form.save()\n        else:\n            print form.errors\n    else:\n        form = AccountForm()\n\n    return render(request, 'sxsw/sxsw.html', {'form': form})\n\ndef formSubmitted(request):\n    return render(request, 'sxsw/formSubmitted.html',{})\n</code></pre>\n\n<p>models.py</p>\n\n<pre><code>from __future__ import unicode_literals\n\nfrom django.db import models\n\n# Create your models here.\n\nclass Account(models.Model):\n    firstName = models.CharField(max_length = 50)\n    lastName = models.CharField(max_length = 50)\n    email = models.EmailField()\n\n    def __unicode__(self):\n        return self.firstName\n\nclass Module(models.Model):\n    author = models.ForeignKey(Account, on_delete = models.CASCADE)\n    nameOfModule = models.CharField(max_length = 150) #arbitrary number\n    moduleFile = models.FileField(upload_to = 'uploads/')#Not exactly sure about the upload_to thing\n    public = models.BooleanField()\n\n    def __unicode__(self):\n        return self.nameOfModule\n</code></pre>\n\n<p>sxsw.html</p>\n\n<pre><code>{% extends \"base.html\" %}\n\n{% block content %}\n    &lt;div class=\"container-fluid\"&gt;\n        &lt;div class=\"jumbotron text-center\"&gt;\n          &lt;h3&gt;SXSW Form&lt;/h3&gt; \n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n    &lt;div align=\"center\"&gt;\n        &lt;h1&gt;New Form&lt;/h1&gt;\n        &lt;form role='form' action=\"/sxsw/formSubmitted/\" method=\"post\"&gt;\n            {% csrf_token %}\n            {{ form.as_p }}\n            &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n\n  &lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>formSubmitted.html</p>\n\n<pre><code>{% extends \"base.html\" %}\n\n{% block content %}\n    &lt;div class=\"container-fluid\"&gt;\n        &lt;div class=\"jumbotron text-center\"&gt;\n          &lt;h3&gt;Form Successfully submitted&lt;/h3&gt; \n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n    &lt;div align=\"center\"&gt;\n        &lt;a href=\"{% url 'sxsw' %}\" class=\"btn\"&gt;Submit Another Response&lt;/a&gt;\n    &lt;/div&gt;\n\n\n  &lt;/div&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-templates", "django-views"], "answers": [{"comments": [{"owner": {"reputation": 2525, "user_id": 3200391, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/dc8c798b0aaf54577e388f7bc177093c?s=128&d=identicon&r=PG", "display_name": "Charles Smith", "link": "https://stackoverflow.com/users/3200391/charles-smith"}, "edited": false, "score": 0, "creation_date": 1487804831, "post_id": 42403707, "comment_id": 71954821, "body": "This is brilliant!!"}], "tags": [], "owner": {"reputation": 1152, "user_id": 4006592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a445ca1b321af3daf6f5ff0adee5c7e?s=128&d=identicon&r=PG&f=1", "display_name": "SMX", "link": "https://stackoverflow.com/users/4006592/smx"}, "is_accepted": true, "score": 1, "last_activity_date": 1487803489, "creation_date": 1487803489, "answer_id": 42403707, "question_id": 42403375, "link": "https://stackoverflow.com/questions/42403375/query-django-object-lists-of-foreignkey/42403707#42403707", "title": "Query Django Object Lists of ForeignKey", "body": "<p>Instead of querying <code>Product</code> in your tag, return</p>\n\n<pre><code>return {\n    'menu_sections': MenuSection.objects.all()\n}\n</code></pre>\n\n<p>Then, in your template, </p>\n\n<pre><code>{% for menu_section in menu_sections %}\n    {{ menu_section.name }}\n    {% for product in menu_section.product_set.all %}\n        {{ product.name }}\n    {% endfor %}\n{% endfor %}\n</code></pre>\n"}], "owner": {"reputation": 2525, "user_id": 3200391, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/dc8c798b0aaf54577e388f7bc177093c?s=128&d=identicon&r=PG", "display_name": "Charles Smith", "link": "https://stackoverflow.com/users/3200391/charles-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 42403707, "answer_count": 1, "score": 0, "last_activity_date": 1487803489, "creation_date": 1487801986, "question_id": 42403375, "link": "https://stackoverflow.com/questions/42403375/query-django-object-lists-of-foreignkey", "title": "Query Django Object Lists of ForeignKey", "body": "<p>I have a <code>MenuSection</code> model and a <code>Product</code> model. The Product model has MenuSection set as a ForeignKey.  Everything works fine, except I am having difficulty figuring out how to query the Product model and listing out a list of objects unique to the ForeignKey, but print the ForeignKey value once at the top of the template.</p>\n\n<p><strong>Example of how I would like the Products printing to the template:</strong></p>\n\n<pre><code>Salads (FK) &lt;= Only printed once \n   Cobb (product.name)\n   Ceasar (product.name)\nPizza (FK)\n   Supreme (product.name)\n   Veggie (product.name)\n...\n</code></pre>\n\n<p><strong>Tag</strong></p>\n\n<pre><code>@register.inclusion_tag('tags/_starters.html', takes_context=True)\ndef products(context):\n    product = Product.objects.all()\n    return {\n        'product': product,\n        'request': context['request'],\n    }\n</code></pre>\n\n<p><strong>Tag Template</strong></p>\n\n<pre><code>{% for p in product %}\n  &lt;div class=\"menu-wrapper\"&gt;\n    &lt;div class=\"menu-description\"&gt;\n    &lt;h1&gt;{{ p.section.name }}&lt;/h1&gt; &lt;======= This is the (FK) that I need to print once.\n      &lt;div class=\"menu-list\"&gt;\n        &lt;h5&gt;{{ p.name }}&lt;/h5&gt;\n\n        &lt;p class=\"price\"&gt;\n          {% if p.price_b %}\n            {{ p.price_a }}/\n            {{ p.price_b }}\n          {% else %}\n            {{ p.price_a }}\n          {% endif %}\n        &lt;/p&gt;\n\n        &lt;span class=\"menu-dot-line\"&gt;&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;p class=\"menu-ingredients\"&gt;{{ p.description }}&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n{% endfor %}\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>@register_snippet\nclass Product(ClusterableModel):\n    section = models.ForeignKey(MenuSection, verbose_name='Menu Section')\n    name = models.CharField(max_length=255, verbose_name='Menu Item Name')\n...\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1487802036, "post_id": 42403372, "comment_id": 71953757, "body": "<code>s</code> is already encoded, and <code>x</code> is already decoded. You shouldn&#39;t try to re-encode/decode them."}, {"owner": {"reputation": 4713, "user_id": 1187968, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/55c10b3b35dba52324314052e9cf84dc?s=128&d=identicon&r=PG", "display_name": "user1187968", "link": "https://stackoverflow.com/users/1187968/user1187968"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1487802118, "post_id": 42403372, "comment_id": 71953791, "body": "why x is already decoded?"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 1, "creation_date": 1487802396, "post_id": 42403372, "comment_id": 71953915, "body": "<code>encode</code> is a method that converts a <code>unicode</code> to a <code>bytes</code> object. It takes a sequence of unicode codepoints and transforms it into a sequence of bytes that you can store in a file (by using a certain encoding). <code>decode</code> is an operation that you can apply to a <code>bytes</code> object to convert it into a <code>unicode</code>. So it does not make sense to call <code>decode</code> on a unicode object, nor <code>encode</code> on a <code>bytes</code> object."}], "owner": {"reputation": 4713, "user_id": 1187968, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/55c10b3b35dba52324314052e9cf84dc?s=128&d=identicon&r=PG", "display_name": "user1187968", "link": "https://stackoverflow.com/users/1187968/user1187968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "closed_date": 1487802617, "answer_count": 0, "score": 1, "last_activity_date": 1487802369, "creation_date": 1487801975, "last_edit_date": 1487802369, "question_id": 42403372, "link": "https://stackoverflow.com/questions/42403372/why-python-2-7-encode-and-decode-functions-failed", "closed_reason": "Duplicate", "title": "Why Python (2.7) encode and decode functions failed", "body": "<p>In the following code, can you explain in detail why <strong><code>print s.encode('cp437')</code></strong> failed, and why it's an <code>UnicodeDecodeError</code> error? Can you also explain why <strong><code>print x.decode('cp437')</code></strong> failed, and why it's <code>UnicodeEncodeError</code>? </p>\n\n<pre><code># -*- coding: cp437 -*-\nimport sys\n\nprint sys.stdout.encoding       # cp437\nprint sys.stdin.encoding        # cp437\nprint \"\"\n\ns = \"Fl\u00fcgel\"\nprint(s)                        # Fl\u00fcgel\n#print s.encode('cp437')        # UnicodeDecodeError: 'ascii' codec can't decode byte 0x81\n                                #   in position 2: ordinal not in range(128)\nprint s.decode('cp437')         # Fl\u00fcgel\n\nx = u\"Fl\u00fcgel\"\nprint(x)                        # Fl\u00fcgel\n#print x.decode('cp437')        # UnicodeEncodeError: 'ascii' codec can't encode character\n                                #   u'\\xfc' in position 2: ordinal not in range(128)\nprint x.encode('cp437')         # Fl\u00fcgel\n</code></pre>\n"}, {"tags": ["python", "html", "json", "flask"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7607595"}, "edited": false, "score": 0, "creation_date": 1487803314, "post_id": 42403631, "comment_id": 71954284, "body": "Yes actuallly more more than. And I am stuck now. ). Thank you so much for share."}, {"owner": {"reputation": 566, "user_id": 192759, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/71d2f460f070cfdd2458f246237261e5?s=128&d=identicon&r=PG", "display_name": "Edward Williams", "link": "https://stackoverflow.com/users/192759/edward-williams"}, "edited": false, "score": 0, "creation_date": 1487803469, "post_id": 42403631, "comment_id": 71954342, "body": "Up-vote if I helped, if you are stuck, please say what you are stuck on so I can help you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7607595"}, "edited": false, "score": 0, "creation_date": 1487803571, "post_id": 42403631, "comment_id": 71954386, "body": "My porblem is here I used json format which I shared as example. How can  I extend all html elements as json. this is like let&#39;s say &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; placeholder=&quot;your name&quot; required&gt; will be like json object text and everything inside of the tag will as elements."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7607595"}, "edited": false, "score": 0, "creation_date": 1487803813, "post_id": 42403631, "comment_id": 71954477, "body": "I am so sorry @Edward, my brain totally freeze. If I didn&#39;t explain correctly can rewrite that."}], "tags": [], "owner": {"reputation": 566, "user_id": 192759, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/71d2f460f070cfdd2458f246237261e5?s=128&d=identicon&r=PG", "display_name": "Edward Williams", "link": "https://stackoverflow.com/users/192759/edward-williams"}, "is_accepted": true, "score": 1, "last_activity_date": 1487805313, "last_edit_date": 1495541436, "creation_date": 1487803144, "answer_id": 42403631, "question_id": 42403367, "link": "https://stackoverflow.com/questions/42403367/python-flask-html-parse-to-json/42403631#42403631", "title": "Python flask html parse to json", "body": "<p>It seems like you have more than one problem here. Let me answer the JSON question though. You need to import json from the flask library and use the json.dumps() method to encode the dictionary object into a JSON string suitable for returning in a response. Please check the sample code below.</p>\n\n<pre><code>from flask import Flask, json\n\napp = Flask('0.0.0.0', port=8080, debug=True)\n\n@app.route('/url', methods=['POST'])\ndef html_json():\n    data = {\"a\": [\"https://www.google.hu/\",\n                  \"https://www.facebook.com/\"\n                 ]\n    }\n    return json.dumps(data), 200\n</code></pre>\n\n<p><a href=\"http://flask.pocoo.org/docs/0.12/patterns/fileuploads/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/docs/0.12/patterns/fileuploads/</a>  should help with file upload tasks.</p>\n\n<p><strong>Beautiful Soup</strong></p>\n\n<p>BeautifulSoup is a Python library that can be used to parse HTML. This will give you a structured set of elements that you can iterate over and convert into JSON.</p>\n\n<pre><code>from BeautifulSoup import BeautifulSoup\nhtml = \"html file as string here\"\nsoup = BeautifulSoup(html)\n</code></pre>\n\n<p>You can then iterate through each tag in the HTML. </p>\n\n<pre><code>links = soup.find_all('a',href=True)\n</code></pre>\n\n<p>Here is a question where someone converts a HTML table to JSON (far easier than a whole page): <a href=\"https://stackoverflow.com/questions/18544634/convert-a-html-table-to-json\">Convert a HTML Table to JSON</a></p>\n\n<p>I found a blog post which could help. The author created a HTML to JSON Parser: <a href=\"http://www.xavierdupre.fr/blog/2013-10-27_nojs.html\" rel=\"nofollow noreferrer\">http://www.xavierdupre.fr/blog/2013-10-27_nojs.html</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7607595"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2433, "favorite_count": 1, "accepted_answer_id": 42403631, "answer_count": 1, "score": -2, "last_activity_date": 1487815960, "creation_date": 1487801956, "last_edit_date": 1487802380, "question_id": 42403367, "link": "https://stackoverflow.com/questions/42403367/python-flask-html-parse-to-json", "title": "Python flask html parse to json", "body": "<p>I want to parse html file as json object in flask. Let's say I have form where I want to import files with extension html. output must be as json file which is contain will be as in below:</p>\n\n<pre><code>{  \n   \"a\":[  \n      \"https://www.google.hu/\",\n      \"https://www.facebook.com/\"\n   ]\n}\n</code></pre>\n\n<p>Can someone please share any guide or anyting or advice for this. Thank you for reading.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 1270, "user_id": 7605829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5e02fe54f3e3dfc03ca4e6d216816c9?s=128&d=identicon&r=PG&f=1", "display_name": "\u041d\u0435\u043a\u0442\u043e", "link": "https://stackoverflow.com/users/7605829/%d0%9d%d0%b5%d0%ba%d1%82%d0%be"}, "is_accepted": false, "score": 0, "last_activity_date": 1487803927, "creation_date": 1487803927, "answer_id": 42403817, "question_id": 42403248, "link": "https://stackoverflow.com/questions/42403248/pandas-evaluate-a-condition-for-each-row-of-a-series/42403817#42403817", "title": "Pandas - Evaluate a condition for each row of a series", "body": "<p><code>check.str.contains('?')</code> would return a boolean array showing which entries had a '?' in them. Otherwise you might consider just iterating through i.e </p>\n\n<pre><code>check=wd['LapseDate'].astype(str)\nfor row in check:\n    if row == '?':\n        print(check)\n</code></pre>\n\n<p>but there's really no difference between checking for any match and returning if there's a match and iterating through all and returning if there's a match.</p>\n"}], "owner": {"reputation": 11, "user_id": 4389168, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7a1e31359f97f8fdd9c821a9c7d912b?s=128&d=identicon&r=PG&f=1", "display_name": "funkadellicdan", "link": "https://stackoverflow.com/users/4389168/funkadellicdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 946, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1487803927, "creation_date": 1487801409, "question_id": 42403248, "link": "https://stackoverflow.com/questions/42403248/pandas-evaluate-a-condition-for-each-row-of-a-series", "title": "Pandas - Evaluate a condition for each row of a series", "body": "<p>I have a dataset like this:</p>\n\n<pre><code>Policy | Customer | Employee | CoveragDate | LapseDate\n123    | 1234     | 1234     | 2011-06-01  | 2015-12-31\n124    | 1234     | 1234     | 2016-01-01  | ?\n125    | 1234     | 1234     | 2011-06-01  | 2012-01-01\n124    | 5678     | 5555     | 2014-01-01  | ?\n</code></pre>\n\n<p>I'm trying to iterate through each policy for each employee of each customer (a customer can have many employees, an employee can have multiple policies) and compare the covered date against the lapse date for a particular employee. If the covered date and lapse date are within 5 days, I'd like to add that policy to a results list.</p>\n\n<p>So, expected output would be:</p>\n\n<pre><code>Policy | Customer | Employee\n123    | 1234     | 1234\n</code></pre>\n\n<p>because policy 123's lapse date was within 5 days of policy 124's covered date.</p>\n\n<p>So far, I've used this code:</p>\n\n<pre><code>import pandas\nimport datetime\n#Pull in data from query\n\nwd = pandas.read_csv('DATA')\nwd=wd.set_index('Policy#')\nwd = wd.rename(columns={'Policy#':'Policy'})\n\n\nResultlist=[]\nfor EMPID in wd.groupby(['EMPID', 'Customer']):\n    for Policy in wd.groupby(['EMPID','Customer']):\n        EffDate = pandas.to_datetime(wd['CoverageEffDate'])\n        for Policy in wd.groupby(['EMPID','Customer']):\n            check=wd['LapseDate'].astype(str)\n            if check.any() =='?': #here lies the problem - it's evaluating if ANY of the items ='?'\n                print(check)\n                continue\n            else:\n                LapseDate = pandas.to_datetime(wd['LapseDate']) + datetime.timedelta(days=5)\n                if EffDate &lt; LapseDate:\n                    Resultlist.append(wd['Policy','Customer'])\n\n\nprint(Resultlist)\n</code></pre>\n\n<p>I'm trying to use the pandas .any() function to evaluate if the current row is a '?' (which means null data, i.e. the policy hasn't lapsed). However, it appears that this statement just evaluates if there is a '?' row in the entire column, not the current row. I need to determine this because if I compare the '?' value against a date I get an error.</p>\n\n<p>Is there a way to reference just the row I'm iterating on for a conditional check? To my knowledge, I can't use the pandas apply function technique because I need each employee's policy data compared against any other policies they hold.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1487801584, "post_id": 42403209, "comment_id": 71953553, "body": "First bit of help I&#39;ll offer is to suggest you read <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>.  It helps you lay out your question in a way that the people who answer questions are willing to respond favorably to."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1487801648, "post_id": 42403209, "comment_id": 71953581, "body": "@piRSquared agreed. And in this case, it&#39;s important you actually give use your function, not <code>return something</code>"}, {"owner": {"reputation": 141, "user_id": 324329, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d614dcf7e5da331a246705dc5f444fb7?s=128&d=identicon&r=PG", "display_name": "Bikswan", "link": "https://stackoverflow.com/users/324329/bikswan"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1487802143, "post_id": 42403209, "comment_id": 71953805, "body": "@piRSquared thanks for the suggestion. The function is not that important here, you can just return 0 and you will still get the issue. However instead of returning &#39;something&#39; I am returning some real value now. My problem is when I call the method, the whole series is being passed to the function. I am sorry if my question is not complete or understandable."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487802199, "post_id": 42403209, "comment_id": 71953826, "body": "@Bikswan actually, the function <i>and the dataframe</i> are of <i>critical importance</i>. Using random data with a dataframe with the same column names and the same function returns what you would expect without an error. Are you, by chance, using the <code>float()</code> function in your <code>Dist</code> function?"}, {"owner": {"reputation": 1057, "user_id": 4023420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/drrqn.jpg?s=128&g=1", "display_name": "Leo Skhrnkv", "link": "https://stackoverflow.com/users/4023420/leo-skhrnkv"}, "edited": false, "score": 0, "creation_date": 1487802270, "post_id": 42403209, "comment_id": 71953851, "body": "You can also read/try this: <a href=\"http://stackoverflow.com/questions/29832455/merging-and-subtracting-dataframe-columns-in-pandas\" title=\"merging and subtracting dataframe columns in pandas\">stackoverflow.com/questions/29832455/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487802355, "post_id": 42403209, "comment_id": 71953898, "body": "If you are using <code>float()</code> you should use something like <code>lat.astype(float)</code> instead"}, {"owner": {"reputation": 141, "user_id": 324329, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d614dcf7e5da331a246705dc5f444fb7?s=128&d=identicon&r=PG", "display_name": "Bikswan", "link": "https://stackoverflow.com/users/324329/bikswan"}, "edited": false, "score": 0, "creation_date": 1487802560, "post_id": 42403209, "comment_id": 71953988, "body": "type error is because my function is expecting the float and I am passing the dataframe series. But how to call the function for each row while adding the column is my real question."}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 324329, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d614dcf7e5da331a246705dc5f444fb7?s=128&d=identicon&r=PG", "display_name": "Bikswan", "link": "https://stackoverflow.com/users/324329/bikswan"}, "is_accepted": true, "score": 0, "last_activity_date": 1487879902, "creation_date": 1487879902, "answer_id": 42425030, "question_id": 42403209, "link": "https://stackoverflow.com/questions/42403209/add-calculated-column-to-the-dataframe/42425030#42425030", "title": "Add calculated column to the dataframe", "body": "<p>I figured out the way. May not be efficient though.</p>\n\n<pre><code>for index, row in df.iterrows():\n    df.loc[index, 'dist_1'] =  Dist(row['lat'], row['lon'], row['lat1'], row['lon1'])\n    df.loc[index, 'dist_2'] =  Dist(row['lat'], row['lon'], row['lat2'], row['lon2'])\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 324329, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d614dcf7e5da331a246705dc5f444fb7?s=128&d=identicon&r=PG", "display_name": "Bikswan", "link": "https://stackoverflow.com/users/324329/bikswan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 42425030, "answer_count": 1, "score": -1, "last_activity_date": 1487879902, "creation_date": 1487801244, "last_edit_date": 1487801967, "question_id": 42403209, "link": "https://stackoverflow.com/questions/42403209/add-calculated-column-to-the-dataframe", "title": "Add calculated column to the dataframe", "body": "<p>Guys I just started using python and having issue using the pandas dataframe.</p>\n\n<p><a href=\"https://i.stack.imgur.com/I9FAv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I9FAv.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have dataframe in the above format. I have function to calculate distance between the locations.</p>\n\n<pre><code>def Dist(lat1, lon1, lat2, lon2): \ndlat = lat2 - lat1   \ndlon = lon2 - lon1\nreturn dlat + dlon\n</code></pre>\n\n<p>I want to create a new column on the dataframe for each distance from lat1/lon1 to lat/lon and lat2/lon2 to lat/lon. I tried with the following code but getting the error.</p>\n\n<pre><code>df['dist1'] = Dist(df['lat'], df['lon'], df['lat1'], df['lon1'] )\ndf['dist2'] = Dist(df['lat'], df['lon'], df['lat2'], df['lon2'] )\n\nTypeError: cannot convert the series to &lt;class 'float'&gt;\n</code></pre>\n\n<p>What am I missing here? what would be the way to call the function for each row and add that as the value for each cell in the new column?</p>\n\n<p>I will appreciate any help.</p>\n"}, {"tags": ["python", "mysql", "web-services", "simplehttpserver"], "comments": [{"owner": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "edited": false, "score": 0, "creation_date": 1487801936, "post_id": 42403206, "comment_id": 71953711, "body": "Uh, <code>python name_of_script.py</code> in the terminal? Or are you asking something else?"}, {"owner": {"reputation": 445, "user_id": 2848005, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f7cb35725be4209bcdd3c806f3bfe4a?s=128&d=identicon&r=PG&f=1", "display_name": "py_ios_dev", "link": "https://stackoverflow.com/users/2848005/py-ios-dev"}, "reply_to_user": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "edited": false, "score": 0, "creation_date": 1487802031, "post_id": 42403206, "comment_id": 71953754, "body": "@heyiamt I know how to run it in the terminal. I would like to invoke the  URL like <a href=\"http://localhost:1222/a.py\" rel=\"nofollow noreferrer\">localhost:1222/a.py</a> from an IOS app and insert the data into the table. Is that possible?"}, {"owner": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "edited": false, "score": 0, "creation_date": 1487802545, "post_id": 42403206, "comment_id": 71953979, "body": "gotcha. sorry for the misunderstanding. i think you would need to do something <a href=\"https://gist.github.com/bradmontgomery/2219997\" rel=\"nofollow noreferrer\">like this</a>, where the server acts as a web API. The IOS app would then send a request to the server with instructions to fire a function with the code from your script in it."}, {"owner": {"reputation": 445, "user_id": 2848005, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f7cb35725be4209bcdd3c806f3bfe4a?s=128&d=identicon&r=PG&f=1", "display_name": "py_ios_dev", "link": "https://stackoverflow.com/users/2848005/py-ios-dev"}, "reply_to_user": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "edited": false, "score": 0, "creation_date": 1487878376, "post_id": 42403206, "comment_id": 71994542, "body": "I didn&#39;t quite understand what you meant. After starting the minimal http server, what do i do?"}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 2848005, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f7cb35725be4209bcdd3c806f3bfe4a?s=128&d=identicon&r=PG&f=1", "display_name": "py_ios_dev", "link": "https://stackoverflow.com/users/2848005/py-ios-dev"}, "edited": false, "score": 0, "creation_date": 1488226023, "post_id": 42448342, "comment_id": 72128788, "body": "It&#39;s working, although it&#39;s inserting an additional row with value favicon.ico in the table. Any idea what is causing this?"}, {"owner": {"reputation": 445, "user_id": 2848005, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f7cb35725be4209bcdd3c806f3bfe4a?s=128&d=identicon&r=PG&f=1", "display_name": "py_ios_dev", "link": "https://stackoverflow.com/users/2848005/py-ios-dev"}, "edited": false, "score": 0, "creation_date": 1488230804, "post_id": 42448342, "comment_id": 72131379, "body": "Is it a best practice to have the values that we are inserting into database as parameters passed through the URL? What other alternatives do I have?"}, {"owner": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "reply_to_user": {"reputation": 445, "user_id": 2848005, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f7cb35725be4209bcdd3c806f3bfe4a?s=128&d=identicon&r=PG&f=1", "display_name": "py_ios_dev", "link": "https://stackoverflow.com/users/2848005/py-ios-dev"}, "edited": false, "score": 0, "creation_date": 1488248935, "post_id": 42448342, "comment_id": 72137111, "body": "@adf_mobile_devoper re: favicon.ico - that string must somehow be coming in though the sting sent in the request. Maybe try grabbing the get request string to find out?"}, {"owner": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "reply_to_user": {"reputation": 445, "user_id": 2848005, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f7cb35725be4209bcdd3c806f3bfe4a?s=128&d=identicon&r=PG&f=1", "display_name": "py_ios_dev", "link": "https://stackoverflow.com/users/2848005/py-ios-dev"}, "edited": false, "score": 0, "creation_date": 1488249069, "post_id": 42448342, "comment_id": 72137142, "body": "@adf_mobile_developer re: https message based DB insertions - I agree that that might not be a fantastic solution, particularly if i there is sensitive or PII date being inserted. The thing to do there would be to wrap some encryption around the message being passed, but that&#39;s not something I&#39;ve done before."}], "tags": [], "owner": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "is_accepted": false, "score": 1, "last_activity_date": 1487970658, "creation_date": 1487970658, "answer_id": 42448342, "question_id": 42403206, "link": "https://stackoverflow.com/questions/42403206/insert-data-into-mysql-database-by-invoking-python-script-through-simplehttpserv/42448342#42448342", "title": "Insert data into MYSQL Database by invoking python script through SimpleHTTPServer", "body": "<p>Pulling from <a href=\"https://gist.github.com/bradmontgomery/2219997\" rel=\"nofollow noreferrer\">this example</a> as inspiration, run a server on some machine by executing the python script [disclaimer: untested]</p>\n\n<pre><code>from BaseHTTPServer import BaseHTTPRequestHandler, HTTPServer\n\ncnx = mysql.connector.connect(user='root', password = 'signal', host = '127.0.0.1', port = '1928'\n                              ,\n                              database = 's_events')\ncursor = cnx.cursor()\n\nclass S(BaseHTTPRequestHandler):\n    def _set_headers(self):\n        self.send_response(200)\n        self.send_header('Content-type', 'text/html')\n        self.end_headers()\n\n    def do_GET(self):\n        self._set_headers()\n\n        # Assuming the value to insert is just provided in the URL\n        # path. e.g., \"http://127.0.0.1/&lt;val&gt;\"\n        i_slash = self.path.index('/')\n        val = self.path[(i_slash + 1):]\n        insert(val)\n\n\ndef run(server_class=HTTPServer, handler_class=S, port=80):\n    server_address = ('', port)\n    httpd = server_class(server_address, handler_class)\n    print 'Starting httpd...'\n    httpd.serve_forever()\n\ndef insert(val):\n    cursor.execute(\"INSERT INTO t_events (eid) VALUES ('%s');\" % val)\n\nif __name__ == \"__main__\":\n    from sys import argv\n\n    if len(argv) == 2:\n        run(port=int(argv[1]))\n    else:\n        run()\n</code></pre>\n\n<p>Once that's running, \"simply\" send a get request from the IOS app to the server you started. (I quoted \"simply\" because I have not worked with IOS, but would imagine that pinging APIs is commonplace.)</p>\n"}], "owner": {"reputation": 445, "user_id": 2848005, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f7cb35725be4209bcdd3c806f3bfe4a?s=128&d=identicon&r=PG&f=1", "display_name": "py_ios_dev", "link": "https://stackoverflow.com/users/2848005/py-ios-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487970658, "creation_date": 1487801224, "question_id": 42403206, "link": "https://stackoverflow.com/questions/42403206/insert-data-into-mysql-database-by-invoking-python-script-through-simplehttpserv", "title": "Insert data into MYSQL Database by invoking python script through SimpleHTTPServer", "body": "<p>I have the following python script. </p>\n\n<pre><code>import  mysql.connector\n\ncnx = mysql.connector.connect(user='root', password = 'signal', host = '127.0.0.1', port = '1928'\n                              ,\n                              database = 's_events')\ncursor = cnx.cursor()\n\ninsert_stmt =   \"INSERT INTO t_events (eid)   VALUES ('iosevent123')\"\n\n\ndata = 'iosevent123'\ncursor.execute(insert_stmt)\n\ncnx.commit()\n\ncnx.close()\n</code></pre>\n\n<p>I also started a simplehttpserver provided by python.</p>\n\n<p>How do I invoke the above script so that the data is inserted into the table?</p>\n"}, {"tags": ["python", "windows"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1487807039, "post_id": 42403171, "comment_id": 71955695, "body": "As you can see from the output, there&#39;s a trailing newline character in <code>sunrise_time</code>. Try <code>get_secs_to_hour(sunrise_time.strip())</code>."}, {"owner": {"reputation": 21, "user_id": 7607543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f665266653297e7260fcaa0ad133f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sandown", "link": "https://stackoverflow.com/users/7607543/sandown"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1487842336, "post_id": 42403171, "comment_id": 71969544, "body": "That&#39;s fixed it cheers!!"}], "owner": {"reputation": 21, "user_id": 7607543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f665266653297e7260fcaa0ad133f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sandown", "link": "https://stackoverflow.com/users/7607543/sandown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487801102, "creation_date": 1487801102, "question_id": 42403171, "link": "https://stackoverflow.com/questions/42403171/python-3-valueerror-unconverted-data-remains", "title": "Python 3 - ValueError: unconverted data remains:", "body": "<p>This ones really baffling me. I'm trying to edit a python script (hue-flux.py) that originally called another python script (sun.py) to return a value as part of its process. The objective is that sun.py runs independently, creates a txt file with two values on two lines (two values total) that master.py reads instead of calling sun.py for it. Essentially they are sunrise and sunset times. I've succeeded in getting sun.py to write the values, but when trying to get hue-flux.py to read the txt file for the values instead of calling sun.py I'm getting errors. </p>\n\n<p>Here was the original code before I edited:</p>\n\n<pre><code>sunrise_time = sun.get_sun(location)[0]\nprint (sunrise_time)\nsunset_time = sun.get_sun(location)[1]  # Sunset time in 24hr format\nprint (sunset_time)\nfadetime = get_secs_to_hour(sunset_time)\n</code></pre>\n\n<p>and the code after edit:</p>\n\n<pre><code>with open(\"c:\\\\users\\\\snipped\\\\suntimes.txt\", mode='r') as f:\n    lines = f.readlines()\n    sunrise_time = lines[0]\n    sunset_time = lines[1]  # Sunset time in 24hr format\n    print ((sunrise_time),end = '')\n    print ((sunset_time),end = '')\nsunrisefadetime = get_secs_to_hour(sunrise_time)\nprint (sunrisefadetime)\nsunsetfadetime = get_secs_to_hour(sunset_time)\n</code></pre>\n\n<p>and here's what I get when I try and run the edited code:</p>\n\n<pre><code>====================== RESTART: C:\\Python36\\hue-flux.py ======================\nDiscovering Hue bridges...\nFound previously connected bridge\n7:13\n17:34Traceback (most recent call last):\n  File \"C:\\Python36\\hue-flux.py\", line 290, in &lt;module&gt;\n    sunrisefadetime = get_secs_to_hour(sunrise_time)\n  File \"C:\\Python36\\hue-flux.py\", line 254, in get_secs_to_hour\n    return time.mktime(time.strptime(today + hour, \"%x%H:%M\")) - time.time()\n  File \"C:\\Python36\\lib\\_strptime.py\", line 559, in _strptime_time\n    tt = _strptime(data_string, format)[0]\n  File \"C:\\Python36\\lib\\_strptime.py\", line 365, in _strptime\n    data_string[found.end():])\nValueError: unconverted data remains: \n\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Can anyone offer any help? OS is Windows Server 2012 R2. The original script is at <a href=\"https://github.com/KpaBap/hue-flux\" rel=\"nofollow noreferrer\">https://github.com/KpaBap/hue-flux</a> though the original author doesn't seem to be responding.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7607536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058382e29d20a8371eb8e6270d9fcd56?s=128&d=identicon&r=PG&f=1", "display_name": "A guy who studies logistics", "link": "https://stackoverflow.com/users/7607536/a-guy-who-studies-logistics"}, "edited": false, "score": 0, "creation_date": 1487840264, "post_id": 42403931, "comment_id": 71968155, "body": "Hi Paul, thanks for your anwser.   I tried putting this code in:   df_freg_road\t\t= df_flow_road.groupby([&#39;To&#39;,&#39;From&#39;][&#39;Volume_ton&#39;] \t\t\t\t\t\t.sum() \t\t\t\t\t\t.unstack(level=&#39;From&#39;) \t\t\t\t\t\t)  But it gave me the following error: TypeError: list indices must be integers or slices, not str  Any idea how this can be fixed?"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 13, "user_id": 7607536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058382e29d20a8371eb8e6270d9fcd56?s=128&d=identicon&r=PG&f=1", "display_name": "A guy who studies logistics", "link": "https://stackoverflow.com/users/7607536/a-guy-who-studies-logistics"}, "edited": false, "score": 0, "creation_date": 1487865474, "post_id": 42403931, "comment_id": 71986483, "body": "@Aguywhostudieslogistics &quot;Hard to say for sure without a more reproducible example dataframe&quot;"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 13, "user_id": 7607536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058382e29d20a8371eb8e6270d9fcd56?s=128&d=identicon&r=PG&f=1", "display_name": "A guy who studies logistics", "link": "https://stackoverflow.com/users/7607536/a-guy-who-studies-logistics"}, "edited": false, "score": 0, "creation_date": 1487865587, "post_id": 42403931, "comment_id": 71986565, "body": "@Aguywhostudieslogistics see the &quot;Asking Questions&quot; section in the pandas wiki <a href=\"http://stackoverflow.com/tags/pandas/info\">stackoverflow.com/tags/pandas/info</a>"}], "tags": [], "owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "is_accepted": true, "score": 0, "last_activity_date": 1487865457, "last_edit_date": 1487865457, "creation_date": 1487804497, "answer_id": 42403931, "question_id": 42403168, "link": "https://stackoverflow.com/questions/42403168/aggregating-trips-into-a-flow-network-dataframe/42403931#42403931", "title": "Aggregating trips into a flow network dataframe", "body": "<p>Hard to say for sure without a more reproducible example dataframe. But I would do this:</p>\n\n<pre><code>totals = (\n    pandas.groupby(by=['To', 'From'])['Volume_ton']\n        .sum()\n        .unstack(level='From')\n)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7607536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058382e29d20a8371eb8e6270d9fcd56?s=128&d=identicon&r=PG&f=1", "display_name": "A guy who studies logistics", "link": "https://stackoverflow.com/users/7607536/a-guy-who-studies-logistics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 42403931, "answer_count": 1, "score": 1, "last_activity_date": 1487865597, "creation_date": 1487801095, "last_edit_date": 1487865597, "question_id": 42403168, "link": "https://stackoverflow.com/questions/42403168/aggregating-trips-into-a-flow-network-dataframe", "title": "Aggregating trips into a flow network dataframe", "body": "<p>So, I'm just learning Python and I've run into a little snag,\nI'm working on a dataset containing 447 regions within Europe and (after cleaning data) around 200,000 freight trips between these regions with differing amounts of freight.</p>\n\n<p>I need to construct two matrices from this data;</p>\n\n<p>1) Aggregated trips between regions (possibly per mode)</p>\n\n<p>2) Aggregated trips between countries (thus without transport within the country)</p>\n\n<p>example of trip data:</p>\n\n<pre><code> From   To  Mode    Volume_ton\n     1      2     1      371246\n     7      423   2      10587\n     245   123    1      6841\n</code></pre>\n\n<p>(so to and from: 447 regions, mode: road=1 rail=2, </p>\n\n<p>How do I use the From and To \"coordinates\" to construct a new dataframe that adds up all trips over the same combination in the following form:</p>\n\n<pre><code>#   0   1    2    3    4    5    6    ...\n0\n1\n2\n3\n4\n...\n</code></pre>\n\n<p>Where the rows are Origin and columns are the destinations</p>\n\n<p>The next question would be how to then aggregate this into a country to country matrix.\nThe numbers do have codes attached to them and i have constructed a dictionary.</p>\n"}, {"tags": ["python", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7607511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aaae85f66a2cc93ea50ee7e34bf7020?s=128&d=identicon&r=PG&f=1", "display_name": "Isha Arora", "link": "https://stackoverflow.com/users/7607511/isha-arora"}, "edited": false, "score": 0, "creation_date": 1489693279, "post_id": 42406171, "comment_id": 72795618, "body": "For your reference i have added the code i have written and hope that will clarify where i m stuck.Thanks."}, {"owner": {"reputation": 872, "user_id": 7192772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae28eec3222b415bbadcc7b98a3742b5?s=128&d=identicon&r=PG&f=1", "display_name": "Mahipal", "link": "https://stackoverflow.com/users/7192772/mahipal"}, "reply_to_user": {"reputation": 1, "user_id": 7607511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aaae85f66a2cc93ea50ee7e34bf7020?s=128&d=identicon&r=PG&f=1", "display_name": "Isha Arora", "link": "https://stackoverflow.com/users/7607511/isha-arora"}, "edited": false, "score": 0, "creation_date": 1489729928, "post_id": 42406171, "comment_id": 72807853, "body": "Refer to &#39;UPDATE 1:&#39; in my answer and let me know, if it works for you."}, {"owner": {"reputation": 1, "user_id": 7607511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aaae85f66a2cc93ea50ee7e34bf7020?s=128&d=identicon&r=PG&f=1", "display_name": "Isha Arora", "link": "https://stackoverflow.com/users/7607511/isha-arora"}, "edited": false, "score": 0, "creation_date": 1489781310, "post_id": 42406171, "comment_id": 72838874, "body": "I tried this, it adds to the cart. Its not proceeding to checkout. Its opening a popup window which shows the product has been added to the cart and has two options continue shopping and proceed to checkout. But it gets stuck that popup and doesn&#39;t select proceed to checkout button. So nothing changed after replacing the last line. thanks once again."}], "tags": [], "owner": {"reputation": 872, "user_id": 7192772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae28eec3222b415bbadcc7b98a3742b5?s=128&d=identicon&r=PG&f=1", "display_name": "Mahipal", "link": "https://stackoverflow.com/users/7192772/mahipal"}, "is_accepted": false, "score": 0, "last_activity_date": 1489729872, "last_edit_date": 1489729872, "creation_date": 1487818618, "answer_id": 42406171, "question_id": 42403100, "link": "https://stackoverflow.com/questions/42403100/unable-to-automate-and-click-on-cart-to-goto-checkout-page/42406171#42406171", "title": "Unable to automate and click on cart to goto checkout page", "body": "<p>You can use <strong>text</strong> property of <strong>span</strong> element for locating <strong>Proceed to checkout</strong> link. Hence, using following <strong>xpath</strong>, you should be able to click on <strong>Proceed to checkout</strong> link:</p>\n\n<pre><code>//span[normalize-space(text())='Proceed to checkout']\n</code></pre>\n\n<p>Let me know, if you have any further queries.</p>\n\n<p><strong>UPDATE 1:</strong> Replace last line of the code you shared (i.e. <code>driver.find_element_by_xpath(\"//span\").click()</code>) with following and let me know, if it works for you.</p>\n\n<pre><code>driver.find_element_by_xpath(\"//span[normalize-space(text())='Proceed to checkout']\").click()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7607511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aaae85f66a2cc93ea50ee7e34bf7020?s=128&d=identicon&r=PG&f=1", "display_name": "Isha Arora", "link": "https://stackoverflow.com/users/7607511/isha-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1490874380, "creation_date": 1487800849, "last_edit_date": 1490874380, "question_id": 42403100, "link": "https://stackoverflow.com/questions/42403100/unable-to-automate-and-click-on-cart-to-goto-checkout-page", "title": "Unable to automate and click on cart to goto checkout page", "body": "<p>I am trying to automate the below exercise using Selenium web driver with Python. I got stuck at the fourth point using <a href=\"http://automationpractice.com/index.php\" rel=\"nofollow noreferrer\">this demo</a>.</p>\n\n<p>How do I locate which element to be used to go to checkout page when there are complex class names and no locators are visible clearly?</p>\n\n<ol>\n<li><p>Login to the application</p></li>\n<li><p>Selecting a product category from Top Menu</p></li>\n<li><p>Selecting a product and adding it to the cart</p></li>\n<li><p>Go to checkout page to provide personal details and complete the order</p></li>\n<li><p>Verify details from final Confirmation page.</p>\n\n<pre><code>from selenium import webdriver\n\nfrom selenium.webdriver.common.by import By\n\nfrom selenium.webdriver.common.keys import Keys\n\nfrom selenium.webdriver.support.ui import WebDriverWait\n\nfrom selenium.webdriver.support import expected_conditions as EC\n\n\ndriver = webdriver.Chrome()\n\ndriver.get(\"Http://automationpractice.com/\")\n\ndriver.find_element_by_class_name('login').click()\n\nelement = driver.find_element_by_id('email')\n\nusername = \"**PUT UR EMAIL ID HERE**\"\n\nelement.send_keys(username)\n\nelement.send_keys(Keys.ENTER)\n\nelement = driver.find_element_by_name('passwd')\n\npassword = \"**ANY PW**\"\n\nelement.send_keys(password)\n\nelement.send_keys(Keys.ENTER)\n\ndriver.find_element_by_class_name('sf-with-ul').click()\n\ndriver.find_element_by_class_name('img').click()\n\ndriver.find_element_by_class_name('color_pick').click()\n\ndriver.implicitly_wait(5)\n\ndriver.find_element_by_id('add_to_cart').click()\n\ndriver.find_element_by_xpath(\"//span\").click()\n</code></pre></li>\n</ol>\n\n<p>This is the code I have written for the exercise, but I cannot go to the checkout page.</p>\n"}, {"tags": ["python", "mysql", "sql", "pysqlite"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 3, "creation_date": 1487800243, "post_id": 42402924, "comment_id": 71952917, "body": "You are mistaken. <code>cursor.fetchone()</code> isn&#39;t return a tuple, but a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\"><i>dictionary</i></a>. As to why this is, I&#39;m not exactly sure."}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 7297767, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bNll74bG8Bg/AAAAAAAAAAI/AAAAAAAABJE/evVLgCHuGbg/photo.jpg?sz=128", "display_name": "Salah Assana", "link": "https://stackoverflow.com/users/7297767/salah-assana"}, "is_accepted": true, "score": 1, "last_activity_date": 1487801026, "creation_date": 1487801026, "answer_id": 42403144, "question_id": 42402924, "link": "https://stackoverflow.com/questions/42402924/how-can-i-return-a-single-element-in-a-tuple-returned-by-fetchone/42403144#42403144", "title": "How can I return a single element in a tuple returned by .fetchone()?", "body": "<p>When you using <code>.fetchone()</code> it returns a single dictionary with each value mapped to a specific key which will usually be the name of the column in your SQL database. So your code should look something like this:</p>\n\n<pre><code> cursor.execute(/*SQL Statement*/)\n result = cursor.fetchone()\n print (result[key])\n</code></pre>\n\n<p>If you don't know what the key is then just <code>print (results)</code> and it will print out the whole dictionary with all the keys and their corresponding values.</p>\n\n<p>Also, note that if your query returns more than one row you should be using <code>.fetchall()</code> which returns a list of dictionaries so you will first need to select a tuple and then give it a key.</p>\n\n<pre><code> cursor.execute(/*SQL Statement*/)\n result = cursor.fetchone()\n print (result[index][key])\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 5455543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a55fa79eb2426f7f82fa5280ea10c849?s=128&d=identicon&r=PG&f=1", "display_name": "Isabel Alphonse", "link": "https://stackoverflow.com/users/5455543/isabel-alphonse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6402, "favorite_count": 0, "accepted_answer_id": 42403144, "answer_count": 1, "score": 1, "last_activity_date": 1487801026, "creation_date": 1487800086, "last_edit_date": 1487800838, "question_id": 42402924, "link": "https://stackoverflow.com/questions/42402924/how-can-i-return-a-single-element-in-a-tuple-returned-by-fetchone", "title": "How can I return a single element in a tuple returned by .fetchone()?", "body": "<p>I'm using PyMySQL to ping a Database and get the values back. I am doing that like so:</p>\n\n<pre><code>   cursor.execute(/*SQL Statement*/)\n   result = cursor.fetchone()\n   print (result)\n</code></pre>\n\n<p>I tested this and it works fine. Now the problem is I'm trying to get just the first element in the tuple <code>result</code> and I tried doing this like so:</p>\n\n<pre><code>   cursor.execute(/*SQL Statement*/)\n   result = cursor.fetchone()[0]\n   print (result)\n</code></pre>\n\n<p>However that just give me the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"myFile.py\", line 20, in &lt;module&gt;\n    result = cursor.fetchone()[0]\nKeyError: 0\n</code></pre>\n\n<p>I can't find much documentation on PyMySQL but that look right to me and it also makes sense so I'm not sure why it's not working. Here is the <a href=\"https://github.com/PyMySQL/PyMySQL/blob/40f6a706144a9b65baa123e6d5d89d23558646ac/pymysql/tests/test_issues.py\" rel=\"nofollow noreferrer\">example</a> I was following.</p>\n"}, {"tags": ["python", "scrapy", "scrapy-splash"], "answers": [{"tags": [], "owner": {"reputation": 19943, "user_id": 114795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75cc8b57acc4841f83c3f5ccea0091f?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Korobov", "link": "https://stackoverflow.com/users/114795/mikhail-korobov"}, "is_accepted": false, "score": 0, "last_activity_date": 1500584548, "creation_date": 1500584548, "answer_id": 45225120, "question_id": 42402897, "link": "https://stackoverflow.com/questions/42402897/set-geolocation-for-splash-browser-scrapy-python/45225120#45225120", "title": "Set Geolocation for Splash browser (Scrapy/Python)", "body": "<p>Currently Splash doesn't support geolocation; there is an open issue (<a href=\"https://github.com/scrapinghub/splash/issues/499\" rel=\"nofollow noreferrer\">https://github.com/scrapinghub/splash/issues/499</a>), but not any progress (as of July 2017).</p>\n"}], "owner": {"reputation": 5, "user_id": 6932692, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ce209c0d2ff752cb3abd5c7be54420ea?s=128&d=identicon&r=PG&f=1", "display_name": "NewbAndroider", "link": "https://stackoverflow.com/users/6932692/newbandroider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500584548, "creation_date": 1487800006, "question_id": 42402897, "link": "https://stackoverflow.com/questions/42402897/set-geolocation-for-splash-browser-scrapy-python", "title": "Set Geolocation for Splash browser (Scrapy/Python)", "body": "<p>I'm trying to set the geolocation of the browser so that when i go to a website, it recognizes my location since the page won't load unless i have the geolocation set. Does anyone know how to set it in the splash-scrapy? I looked around online, but it seems no one has asked this before.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "awk", "sed"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1487814749, "post_id": 42402877, "comment_id": 71958125, "body": "<a href=\"https://stackoverflow.com/posts/42402877/edit\">edit</a> your question to include the expected output given your posted sample input."}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1489097204, "post_id": 42402877, "comment_id": 72534609, "body": "If my answer was helpful, please see <a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "is_accepted": false, "score": 2, "last_activity_date": 1505328460, "last_edit_date": 1505328460, "creation_date": 1487800377, "answer_id": 42402992, "question_id": 42402877, "link": "https://stackoverflow.com/questions/42402877/awk-or-sed-python-skipping-rows-to-renumber-a-column/42402992#42402992", "title": "awk (or sed/python) skipping rows to renumber a column", "body": "<p>You can use an <a href=\"https://adayinthelifeof.nl/2010/12/06/sed-simple-pattern-address-usage/\" rel=\"nofollow noreferrer\">address range</a> in <code>sed</code> to do this:</p>\n\n<pre><code>sed '/ELEMENT/,$s/^   \\([0-9]\\)/   1\\1/' test.msh\n</code></pre>\n\n<p>The range <code>/ELEMENT/,$</code> means to search from the first occurrence of \"ELEMENT\" until the end of the file. The rest is just a simple <a href=\"http://www.grymoire.com/Unix/Sed.html#uh-1\" rel=\"nofollow noreferrer\">substitution</a> with <a href=\"http://www.grymoire.com/Unix/Sed.html#uh-8\" rel=\"nofollow noreferrer\">back reference</a> that assumes your whitespace is consistent.</p>\n\n<p>Re-reading your question, you aren't clear if you want to change all the numbers, or just the first one on each line. If you want to replace all of them, this should work:</p>\n\n<pre><code>sed '/ELEMENT/,$s/ \\([0-9]\\)/ 1\\1/g' test.msh\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6544, "user_id": 451601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/164602d512ce01f188e5a50593b46c5f?s=128&d=identicon&r=PG", "display_name": "James K. Lowden", "link": "https://stackoverflow.com/users/451601/james-k-lowden"}, "is_accepted": false, "score": 1, "last_activity_date": 1487809000, "creation_date": 1487809000, "answer_id": 42404770, "question_id": 42402877, "link": "https://stackoverflow.com/questions/42402877/awk-or-sed-python-skipping-rows-to-renumber-a-column/42404770#42404770", "title": "awk (or sed/python) skipping rows to renumber a column", "body": "<pre><code>awk digit=1 \\\n    'adjust    { $1 = digit $1 } \\\n     /ELEMENT/ { adjust = 1 } \\\n               { print }'\n</code></pre>\n\n<p>If adjusting, concatenate <code>digit</code> to the first element.  Turn on adjusting when <code>ELEMENT</code> appears on a line.  Print everything. </p>\n"}], "owner": {"reputation": 21, "user_id": 7607441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e15a5f0df7333ae99a6c4b706bc215?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/7607441/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1505328460, "creation_date": 1487799899, "last_edit_date": 1487800745, "question_id": 42402877, "link": "https://stackoverflow.com/questions/42402877/awk-or-sed-python-skipping-rows-to-renumber-a-column", "title": "awk (or sed/python) skipping rows to renumber a column", "body": "<p>I need help renumbering elements. I have an input file like the small sample below (nodes and elements could be in the 1000's).  I need a code that skips down past all the nodes and starts with the first element, and at that point I need to add an integer to all the elements. IE: element 658 = 1658, 659=1659, etc.... \nEverything needs to be outputted into a new file, the only differences is the renumbering of the elements. \nI tried doing this with the awk command, code below, cannot quite get it. Can someone help? Is python or sed better? Thanks</p>\n\n<pre><code>*NODE, NSET=Nvolc\n   1,6.106226635438e-16,0.000000000000e+00,1.000000000000e+01\n   2,6.106226635438e-16,0.000000000000e+00,-1.000000000000e+01\n   3,5.481726184087e-16,0.000000000000e+00,9.000000000000e+00\n*ELEMENT, TYPE=C3D4, ELSET=Evolc\n   658,    58,   193,   148,   113 \n   659,   154,    81,   215,   119 \n   660,   228,    58,   148,    36 \n   661,     7,   131,   146,   302 \n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>    awk 'NR==1{print}' test.msh &gt; test2.msh | nawk -v number=500 'NR &lt;= 2 { next } BEGIN{FS=OFS=\",\"} {$1=number;print;number++;print}' test.msh &gt; test2.msh\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1487799693, "post_id": 42402819, "comment_id": 71952652, "body": "Why not use <code>pickle</code> to store an object binary into a file?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1487800104, "post_id": 42402819, "comment_id": 71952841, "body": "What you&#39;re looking at is called serialization. You&#39;re trying to find the right way to serialize some data. An array is not a list, but since arrays are the most commonly-used collection in many languages and lists are the most commonly-used collection in Python, people know what you mean when you say array (even if they also know you&#39;re wrong). The objects you&#39;ve written there would be better-off as tuples though <code>(1, &quot;Nissan&quot;, &quot;Red&quot;, 2017)</code>, since they&#39;re heterogeneous (<code>int</code>, <code>str</code>, <code>str</code>, <code>int</code>, <code>int</code>)"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1487800321, "post_id": 42402819, "comment_id": 71952953, "body": "If you&#39;ve got a ton of these and you&#39;re using them for a non-toy project, now would be the correct time to learn to do serialization correctly. Look at the <code>sqlite3</code> stdlib module. Look up how to create a strong database structure and maintain it correctly."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1487800407, "post_id": 42402819, "comment_id": 71952990, "body": "If you&#39;ve only got a few, or if this is a toy project, look at storing state as a pickled object. the <code>pickle</code> stdlib module does serialization and deserialization, as do other modules such as the more standard <code>json</code>."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1487800524, "post_id": 42402819, "comment_id": 71953053, "body": "If you&#39;re doing this as an exercise to better-understand the language, know that This Will Be Hard. Sanitizing input and getting helpful well-formed data out of arbitrary input is one of the hardest parts of programming (aside from naming things and off by one errors ;-) so be prepared to beat your head against the wall for a while. If those were well-formed lines (<code>[1, &quot;Nissan&quot;, &quot;Red&quot;, 5, 2017]</code>) you could use <code>ast.literal_eval(line)</code>, but since they&#39;re not (no quotes around your strings) you&#39;ve got to write something yourself."}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 1, "creation_date": 1487800527, "post_id": 42402819, "comment_id": 71953056, "body": "If you have <code>[1,Nissan, Red, 5, 2017]</code> in a text file you can call it a list if you want, but it is just text not a python <code>list</code>."}], "answers": [{"comments": [{"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1487801788, "post_id": 42403052, "comment_id": 71953643, "body": "Character delimited text is just <i>one</i> way to store data in files. There&#39;s literally infinitely many other possibilities. (Not all of them practical, of course.)"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1487801919, "post_id": 42403052, "comment_id": 71953702, "body": "Lists and arrays are not synonymous. Note that we do have <a href=\"https://docs.python.org/3/library/array.html\" rel=\"nofollow noreferrer\">proper arrays in Python</a> and that they&#39;re not lists."}], "tags": [], "owner": {"reputation": 684, "user_id": 4500078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFF1g.jpg?s=128&g=1", "display_name": "Joshua Howard", "link": "https://stackoverflow.com/users/4500078/joshua-howard"}, "is_accepted": true, "score": 1, "last_activity_date": 1487801041, "last_edit_date": 1487801041, "creation_date": 1487800629, "answer_id": 42403052, "question_id": 42402819, "link": "https://stackoverflow.com/questions/42402819/python-read-and-edit-a-list-in-a-text-file/42403052#42403052", "title": "Python: Read and edit a list in a text file", "body": "<p>Lists and arrays are synonymous.</p>\n\n<p><strong>Question 1</strong></p>\n\n<p>Generally when data is stored, it is stored as a delimited text file. That is where the data entries are separated by some special character. For example, if a file contained</p>\n\n<pre><code>1,Nissan,Red,5,2017\n</code></pre>\n\n<p>Then this would be a comma delimited text file (csv). You don't normally want to store data as it would be formatted by a particular language as in your example. </p>\n\n<p><strong>Question 2</strong></p>\n\n<p>Dictionaries in Python are probably needed so that your data would be indexed by names rather than positions. If you were to store your data as:</p>\n\n<pre><code>cars = [\n  {\n    \"index\":1,\n    \"brand\":\"Nissan\",\n    \"color\":\"Red\",\n    \"year\": 2017\n  },{\n    \"index\":2,\n    \"brand\":\"Ford\",\n    \"color\":\"Blue\",\n    \"year\": 2012\n  }\n]\n</code></pre>\n\n<p>Then you could set <code>cars[1][\"year\"] = 2016</code> </p>\n\n<p>This format will also allow you to use json formatting when writing to a text file. You could also serialize/pickle your data or use a database as other commenters have said.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7251496, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gr0kuIc2vJk/AAAAAAAAAAI/AAAAAAAAB5E/mfGw26VSdL4/photo.jpg?sz=128", "display_name": "Alex C.", "link": "https://stackoverflow.com/users/7251496/alex-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1487800726, "creation_date": 1487800726, "answer_id": 42403076, "question_id": 42402819, "link": "https://stackoverflow.com/questions/42402819/python-read-and-edit-a-list-in-a-text-file/42403076#42403076", "title": "Python: Read and edit a list in a text file", "body": "<p>I would personally chose <a href=\"https://docs.python.org/3/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\" title=\"Data Structures - Dictionaries\">dictionaries</a> in this case. You could easily define each one of them as simple as:</p>\n\n<pre><code>{\"no\": 1, \"maker\": \"Ford\", \"doors\": \"4\", \"year\": 2016}\n</code></pre>\n\n<p>Storing and reading dicts from a file is fairly easy with <code>pickle</code> or the built-in <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\" title=\"json module\">json library</a></p>\n"}], "owner": {"reputation": 43, "user_id": 7607436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6d556b0bb85f342732c8e044e94bc596?s=128&d=identicon&r=PG&f=1", "display_name": "Atmosworld", "link": "https://stackoverflow.com/users/7607436/atmosworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 42403052, "answer_count": 2, "score": -1, "last_activity_date": 1487805205, "creation_date": 1487799646, "last_edit_date": 1487805205, "question_id": 42402819, "link": "https://stackoverflow.com/questions/42402819/python-read-and-edit-a-list-in-a-text-file", "title": "Python: Read and edit a list in a text file", "body": "<p>I am really new to Python (only started coding 2 weeks ago and still getting use to the terminology) and would love some help understanding lists and text files. </p>\n\n<p>I have a text file that stores a list (I have also read it is called an array - is that correct?) of car details e.g.</p>\n\n<pre><code>[1,Nissan, Red, 5, 2017]  \n[2,Ford, Blue, 8, 2012]  \n[3,Nissan, Yellow, 9, 2001]\n</code></pre>\n\n<p>My first question relates to \"Are these lists?\". Are they the same thing as coding:</p>\n\n<pre><code>Car1 = [1,Nissan,Red, 2017]\nCar2 = [2,Ford, Blue, 2012]\n</code></pre>\n\n<p>If the text file is the same as above - How do I call the data into <code>Car1</code>, <code>Car2</code> etc.?</p>\n\n<p>My second question would be how would I say search for car '2' and then change the year, say from 2012 to 2016?</p>\n\n<p>Any help would be very much appreciated.</p>\n"}, {"tags": ["python", "pandas", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1487802365, "post_id": 42403280, "comment_id": 71953907, "body": "Thank you for the kind words."}], "tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": true, "score": 1, "last_activity_date": 1487804448, "last_edit_date": 1487804448, "creation_date": 1487801583, "answer_id": 42403280, "question_id": 42402762, "link": "https://stackoverflow.com/questions/42402762/filtering-pandas-dataframe-based-on-groupby-only-top-3/42403280#42403280", "title": "Filtering pandas dataframe based on groupby (only top 3)", "body": "<p>You can just use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\"><code>groupby</code></a> combined with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.nlargest.html\" rel=\"nofollow noreferrer\"><code>nlargest</code></a> to accomplish this. </p>\n\n<pre><code>&gt;&gt;&gt; data.groupby([data.index, data.Stock]).Sales.nlargest(3)\n\n          Stock               \n1/1/2012  Apple       1/1/2012     340\n                      1/1/2012     230\n                      1/1/2012     120\n          Berry       1/1/2012     340\n                      1/1/2012     230\n          Cat         1/1/2012    1250\n                      1/1/2012     850\n                      1/1/2012     650\n1/2/2012  Apple       1/2/2012    1065\n                      1/2/2012     200\n          BlackBerry  1/2/2012    2000\n                      1/2/2012    1465\n                      1/2/2012    1465\n          Carrot      1/2/2012     500\n          Tomato      1/2/2012     700\n                      1/2/2012     235\nName: Sales, dtype: int64\n</code></pre>\n\n<p>And of course if you wanted to output the full subset of your DataFrame as opposed to only the relevant info, we can use <code>iloc</code>. </p>\n\n<pre><code>&gt;&gt;&gt; data.iloc[data.reset_index().groupby(['index', 'Stock'])\n                                .Sales.nlargest(3).index.levels[2]]\n\n               Stock  Sales     Data1     Data2\n1/1/2012       Apple    120  0.996692  0.376607\n1/1/2012       Apple    230  0.084699  0.564337\n1/1/2012       Apple    340  0.141253  0.319522\n1/1/2012       Berry    230  0.506264  0.123658\n1/1/2012       Berry    340  0.646634  0.635842\n1/1/2012         Cat   1250  0.204031  0.928828\n1/1/2012         Cat    850  0.556935  0.810340\n1/1/2012         Cat    650  0.771751  0.988848\n1/2/2012       Apple   1065  0.504411  0.402553\n1/2/2012       Apple    200  0.752335  0.487557\n1/2/2012  BlackBerry   1465  0.693018  0.925737\n1/2/2012  BlackBerry   2000  0.262392  0.076543\n1/2/2012  BlackBerry   1465  0.851842  0.345078\n1/2/2012      Tomato    700  0.911297  0.155700\n1/2/2012      Tomato    235  0.118844  0.662083\n1/2/2012      Carrot    500  0.072553  0.585774\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6257832, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p-ASyVAALRk/AAAAAAAAAAI/AAAAAAAAD2A/wWc7w6pTWoE/photo.jpg?sz=128", "display_name": "jspring", "link": "https://stackoverflow.com/users/6257832/jspring"}, "is_accepted": false, "score": 0, "last_activity_date": 1487803156, "creation_date": 1487803156, "answer_id": 42403635, "question_id": 42402762, "link": "https://stackoverflow.com/questions/42402762/filtering-pandas-dataframe-based-on-groupby-only-top-3/42403635#42403635", "title": "Filtering pandas dataframe based on groupby (only top 3)", "body": "<p>Using sort_values(), groupby(), and head() seems to yield the results you are looking for.  </p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_table('fruit', sep='\\s+')\ndf.Date = pd.to_datetime(df.Date)\n\ndf.sort_values(by=['Date', 'Stock', 'Sales'], \n               ascending=[True, True, False], \n               inplace=True)\n\n#             Date       Stock  Sales     Data1     Data2\n#    2  2012-01-01       Apple    340  0.141253  0.319522\n#    1  2012-01-01       Apple    230  0.084699  0.564337\n#    0  2012-01-01       Apple    120  0.996692  0.376607\n#    4  2012-01-01       Berry    340  0.646634  0.635842\n#    3  2012-01-01       Berry    230  0.506264  0.123658\n#    5  2012-01-01         Cat   1250  0.204031  0.928828\n#    6  2012-01-01         Cat    850  0.556935  0.810340\n#    7  2012-01-01         Cat    650  0.771751  0.988848\n#    8  2012-01-01         Cat    650  0.615223  0.468556\n#    9  2012-01-02       Apple   1065  0.504411  0.402553\n#    10 2012-01-02       Apple    200  0.752335  0.487557\n#    12 2012-01-02  BlackBerry   2000  0.262392  0.076543\n#    11 2012-01-02  BlackBerry   1465  0.693018  0.925737\n#    13 2012-01-02  BlackBerry   1465  0.851842  0.345078\n#    14 2012-01-02  BlackBerry   1465  0.706356  0.718341\n#    17 2012-01-02      Carrot    500  0.072553  0.585774\n#    15 2012-01-02      Tomato    700  0.911297  0.155700\n#    16 2012-01-02      Tomato    235  0.118844  0.662083\n\n\n\ndf.groupby(by=['Date','Stock'], as_index=False, sort=False).head(3)\n\nprint df\n\n#             Date       Stock  Sales     Data1     Data2\n#    2  2012-01-01       Apple    340  0.141253  0.319522\n#    1  2012-01-01       Apple    230  0.084699  0.564337\n#    0  2012-01-01       Apple    120  0.996692  0.376607\n#    4  2012-01-01       Berry    340  0.646634  0.635842\n#    3  2012-01-01       Berry    230  0.506264  0.123658\n#    5  2012-01-01         Cat   1250  0.204031  0.928828\n#    6  2012-01-01         Cat    850  0.556935  0.810340\n#    7  2012-01-01         Cat    650  0.771751  0.988848\n#    9  2012-01-02       Apple   1065  0.504411  0.402553\n#    10 2012-01-02       Apple    200  0.752335  0.487557\n#    12 2012-01-02  BlackBerry   2000  0.262392  0.076543\n#    11 2012-01-02  BlackBerry   1465  0.693018  0.925737\n#    13 2012-01-02  BlackBerry   1465  0.851842  0.345078\n#    17 2012-01-02      Carrot    500  0.072553  0.585774\n#    15 2012-01-02      Tomato    700  0.911297  0.155700\n#    16 2012-01-02      Tomato    235  0.118844  0.662083\n</code></pre>\n"}], "owner": {"reputation": 549, "user_id": 7390912, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3eb330777ef0544fd6b328f6550eb66c?s=128&d=identicon&r=PG&f=1", "display_name": "MysterioProgrammer91", "link": "https://stackoverflow.com/users/7390912/mysterioprogrammer91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "accepted_answer_id": 42403280, "answer_count": 2, "score": 1, "last_activity_date": 1487804603, "creation_date": 1487799461, "last_edit_date": 1487804603, "question_id": 42402762, "link": "https://stackoverflow.com/questions/42402762/filtering-pandas-dataframe-based-on-groupby-only-top-3", "title": "Filtering pandas dataframe based on groupby (only top 3)", "body": "<p>I have a DataFrame with thousands of rows and 20 columns. The date is the index and there are many same dates. Example df:</p>\n\n<pre><code>           Stock    Sales   Data 1        Data 2\n1/1/2012    Apple   120     0.996691907    0.376607328\n1/1/2012    Apple   230     0.084699221    0.56433743\n1/1/2012    Apple   340     0.141253424    0.319522467\n1/1/2012    Berry   230     0.506264018     0.123657902\n1/1/2012    Berry   340     0.646633737     0.635841995\n1/1/2012    Cat     1250    0.204030887    0.928827628\n1/1/2012    Cat     850     0.556935133    0.81033956\n1/1/2012    Cat     650     0.771751177    0.988848472\n1/1/2012    Cat     650     0.615222763    0.468555772\n1/2/2012    Apple   1065    0.504410742    0.402553442\n1/2/2012    Apple   200     0.752335341    0.487556857\n1/2/2012    BlackBerry  1465    0.693017964 0.925737402\n1/2/2012    BlackBerry  2000    0.262392424 0.076542936\n1/2/2012    BlackBerry  1465    0.851841806 0.345077839\n1/2/2012    BlackBerry  1465    0.70635569  0.718340524\n1/2/2012    Tomato  700     0.911297224    0.155699549\n1/2/2012    Tomato  235     0.118843588    0.662083069\n1/2/2012    Carrot  500 0.07255267  0.585773563\n</code></pre>\n\n<p>I want to filter the data such that for each date and for each stock I only show a maximum of 3 rows, and I choose these 3 based on the ones which have the maximum Sales. </p>\n\n<p>If there are instances when there are only 1 or 2 within each date and stock, then naturally it would maintain all the rows.</p>\n\n<p>If there are 3 or more rows for a date and stock group then I only want 3 rows for the 3 max sales. If there is a joint 3rd position (With same sales numbers), I still only want MAXIMUM 3 rows for that date and stock, so either by random selection or any other suitable method, I would still spit out 3 rows for that stock for a particular date.</p>\n\n<p>Example output could be something like this:</p>\n\n<pre><code>       Stock    Sales   Data 1        Data 2\n1/1/2012    Apple   120     0.996691907    0.376607328\n1/1/2012    Apple   230     0.084699221    0.56433743\n1/1/2012    Apple   340     0.141253424    0.319522467\n1/1/2012    Berry   230     0.506264018     0.123657902\n1/1/2012    Berry   340     0.646633737     0.635841995\n1/1/2012    Cat     1250    0.204030887    0.928827628\n1/1/2012    Cat     850     0.556935133    0.81033956\n1/1/2012    Cat     650     0.771751177    0.988848472\n1/2/2012    Apple   1065    0.504410742    0.402553442\n1/2/2012    Apple   200     0.752335341    0.487556857\n1/2/2012    BlackBerry  2000    0.262392424 0.076542936\n1/2/2012    BlackBerry  1465    0.851841806 0.345077839\n1/2/2012    BlackBerry  1465    0.70635569  0.718340524\n1/2/2012    Tomato  700     0.911297224    0.155699549\n1/2/2012    Tomato  235     0.118843588    0.662083069\n1/2/2012    Carrot  500 0.07255267  0.585773563\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "decision-tree"], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 657576, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/92969d00242985c52908f190c0bfb4f3?s=128&d=identicon&r=PG", "display_name": "Jack Stevens", "link": "https://stackoverflow.com/users/657576/jack-stevens"}, "edited": false, "score": 0, "creation_date": 1487800940, "post_id": 42402928, "comment_id": 71953256, "body": "You are right, I will change the example accordingly"}], "tags": [], "owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "is_accepted": false, "score": 0, "last_activity_date": 1487800442, "last_edit_date": 1495541354, "creation_date": 1487800094, "answer_id": 42402928, "question_id": 42402752, "link": "https://stackoverflow.com/questions/42402752/is-the-cart-algorithm-used-by-scikit-learn-deterministic/42402928#42402928", "title": "Is the CART algorithm used by scikit-learn deterministic?", "body": "<p>Decision trees ARE deterministic, they calculate the leaves/probabilities on the same raw dataset. If you were to use something like a random forest, then that would not be deterministic because it is randomly selecting variables. The problem is in your test for equality. You are testing using </p>\n\n<p><code>object1 == object2</code></p>\n\n<p>Python does not natively know how to compare the type of DecisionTreeClassifier. Are you asking if has the same values assigned to its properties? Do you want to know if the memory size is the same? Are dt and dt2 pointers that reference the same object? There isn't a way to know from what you have written. A better test would be to train the models and use the .predict() method on the same data. Are all the results the same every time? Then you probably have a deterministic classifier.</p>\n\n<p>The \"pythonic\" way is to define an __ eq __ method in the class file. If you look <a href=\"https://stackoverflow.com/questions/390250/elegant-ways-to-support-equivalence-equality-in-python-classes\">here</a> you'll see that there isn't one in the tree class - I haven't looked further, but I doubt that they've define that method. (Checking whether two classifier models are equivalent is not a common thing to do ).</p>\n"}, {"comments": [{"owner": {"reputation": 3051, "user_id": 1430829, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ea83bfdd65dd51af719ed212887b25e3?s=128&d=identicon&r=PG", "display_name": "Matt Hancock", "link": "https://stackoverflow.com/users/1430829/matt-hancock"}, "edited": false, "score": 1, "creation_date": 1487851114, "post_id": 42403215, "comment_id": 71975537, "body": "Jack, I&#39;m glad you found the <code>random_state</code> parameter, but as far as I&#39;m aware there is no randomness in the method if <code>max_features == None</code> and <code>splitter != &#39;random&#39;</code>. Since this is the case by default, I&#39;m confused as to where the randomness is coming from since the default CART should be deterministic. I think an issue should be opened on the <code>sklearn</code> github pages to resolve this."}, {"owner": {"reputation": 3051, "user_id": 1430829, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ea83bfdd65dd51af719ed212887b25e3?s=128&d=identicon&r=PG", "display_name": "Matt Hancock", "link": "https://stackoverflow.com/users/1430829/matt-hancock"}, "edited": false, "score": 1, "creation_date": 1487935839, "post_id": 42403215, "comment_id": 72019082, "body": "I opened the issue here: <a href=\"https://github.com/scikit-learn/scikit-learn/issues/8443\" rel=\"nofollow noreferrer\">github.com/scikit-learn/scikit-learn/issues/8443</a>"}], "tags": [], "owner": {"reputation": 637, "user_id": 657576, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/92969d00242985c52908f190c0bfb4f3?s=128&d=identicon&r=PG", "display_name": "Jack Stevens", "link": "https://stackoverflow.com/users/657576/jack-stevens"}, "is_accepted": false, "score": 1, "last_activity_date": 1487801257, "creation_date": 1487801257, "answer_id": 42403215, "question_id": 42402752, "link": "https://stackoverflow.com/questions/42402752/is-the-cart-algorithm-used-by-scikit-learn-deterministic/42403215#42403215", "title": "Is the CART algorithm used by scikit-learn deterministic?", "body": "<p>Ok, I have found that the <code>DecisionTreeClassifier</code> uses a random seed if <code>random_state</code> parameter isn't specified, as noted <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html#sklearn.tree.DecisionTreeClassifier\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>random_state : int, RandomState instance or None, optional\n  (default=None) If int, random_state is the seed used by the random\n  number generator; If RandomState instance, random_state is the random\n  number generator; If None, the random number generator is the\n  RandomState instance used by np.random.</p>\n</blockquote>\n\n<p>fixed code: (I have added <code>random_state=0</code> to <code>DecisionTreeClassifier</code> constructor)</p>\n\n<pre><code>import numpy as np\nfrom sklearn.datasets import load_iris\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.tree import DecisionTreeClassifier\niris = load_iris()\nfor i in range(10):\n    clf = DecisionTreeClassifier(random_state=0)    \n    a = cross_val_score(clf, iris.data, iris.target, cv=10)\n    clf2 = DecisionTreeClassifier(random_state=0)    \n    b = cross_val_score(clf2, iris.data, iris.target, cv=10)\n    if not np.array_equal(a,b):\n        print 'diff'\n        print a\n        print b\n        break\n</code></pre>\n\n<p>This works as expected and the <code>np.array_equal(a,b)==True</code> always.</p>\n"}], "owner": {"reputation": 637, "user_id": 657576, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/92969d00242985c52908f190c0bfb4f3?s=128&d=identicon&r=PG", "display_name": "Jack Stevens", "link": "https://stackoverflow.com/users/657576/jack-stevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3357, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487801348, "creation_date": 1487799412, "last_edit_date": 1487801348, "question_id": 42402752, "link": "https://stackoverflow.com/questions/42402752/is-the-cart-algorithm-used-by-scikit-learn-deterministic", "title": "Is the CART algorithm used by scikit-learn deterministic?", "body": "<p>I have the following code from scikit-learn website:</p>\n\n<pre><code>import numpy as np\nfrom sklearn.datasets import load_iris\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.tree import DecisionTreeClassifier\niris = load_iris()\nfor i in range(10):\n    clf = DecisionTreeClassifier()    \n    a = cross_val_score(clf, iris.data, iris.target, cv=10)\n    clf2 = DecisionTreeClassifier()    \n    b = cross_val_score(clf2, iris.data, iris.target, cv=10)\n    if not np.array_equal(a,b):\n        print 'diff'\n        print a\n        print b\n        break\n</code></pre>\n\n<p>it sometimes prints the difference, so I guess its not deterministic which is very strange.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 2, "creation_date": 1487799438, "post_id": 42402742, "comment_id": 71952488, "body": "You would return a new instance of <code>Dividend</code> from <code>__add__</code> to do this, normally."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1487799454, "post_id": 42402742, "comment_id": 71952500, "body": "Afaik you can not do it that way: <code>investmentA + investmentB + investmentC</code> is interpreted as <code>(investmentA + investmentB) + investmentC</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "is_accepted": false, "score": 3, "last_activity_date": 1487799476, "creation_date": 1487799476, "answer_id": 42402768, "question_id": 42402742, "link": "https://stackoverflow.com/questions/42402742/python-how-to-accept-multiple-arguments-on-add-magic-method/42402768#42402768", "title": "Python how to accept multiple arguments on add magic method", "body": "<p>The problem is not that your <code>__add__</code> method doesn't accept multiple arguments, the problem is that it does not return a <code>Dividend</code>. The addition operator is always a binary operator, but after the first addition you end up trying to add a numeric type to a <code>Dividend</code> rather than adding two dividends. You should have your <code>__add__</code> method return the appropriate type, for example:</p>\n\n<pre><code>def __add__(self, other_investment):\n    return Dividend(self.amount + other_investment.amount)\n</code></pre>\n"}], "owner": {"reputation": 1814, "user_id": 4971053, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ac0ab017afbb53c5fbacfe695b30c6eb?s=128&d=identicon&r=PG&f=1", "display_name": "teddybear123", "link": "https://stackoverflow.com/users/4971053/teddybear123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487799680, "creation_date": 1487799371, "question_id": 42402742, "link": "https://stackoverflow.com/questions/42402742/python-how-to-accept-multiple-arguments-on-add-magic-method", "title": "Python how to accept multiple arguments on add magic method", "body": "<p>I'm trying to play around with operator overloading, and i found myself trying more than 2 arguments. How would I implement this to accept any number of arguments.  </p>\n\n<pre><code>class Dividend:\n\n    def __init__(self, amount):\n        self.amount = amount\n\n    def __add__(self, other_investment):\n        return self.amount + other_investment.amount\n\ninvestmentA = Dividend(150)\ninvestmentB = Dividend(50)\ninvestmentC = Dividend(25)\n\nprint(investmentA + investmentB) #200\nprint(investmentA + investmentB + investmentC) #error\n</code></pre>\n"}, {"tags": ["python", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1509965701, "post_id": 42472833, "comment_id": 81219895, "body": "This may not work anymore (as of 0.12.10). I am getting a bokeh error: <code>Supplying a user-defined data source AND iterable values to glyph methods is not possibe</code>"}, {"owner": {"reputation": 315, "user_id": 5831345, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2abc627c9ad03807e138b7166b53e6ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kora K", "link": "https://stackoverflow.com/users/5831345/kora-k"}, "reply_to_user": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 2, "creation_date": 1510861056, "post_id": 42472833, "comment_id": 81627586, "body": "Yes, the new Bokeh version changed a lot... This solution may be out of date. If someone else has a working solution, please update! I&#39;m not really into Bokeh anymore."}], "tags": [], "owner": {"reputation": 315, "user_id": 5831345, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2abc627c9ad03807e138b7166b53e6ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kora K", "link": "https://stackoverflow.com/users/5831345/kora-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1488135768, "creation_date": 1488135768, "answer_id": 42472833, "question_id": 42402718, "link": "https://stackoverflow.com/questions/42402718/display-height-in-bokeh-vbar-tooltip/42472833#42472833", "title": "Display height in bokeh vbar tooltip", "body": "<p>I figured it out. I could make an extra ColumnDataSource like this:</p>\n\n<pre><code>hover_help = ColumnDataSource(dict(\n    count=[value for value in animals[\"No\"]]\n))\n</code></pre>\n\n<p>which yields a list of values for animals. This can then be used for the vbar like this:</p>\n\n<pre><code>p.vbar(source=hover_help, bottom=0, x=animal_names, top=animals['No'], color='#18286b', legend=False, **bar_opts)\n</code></pre>\n\n<p>Even if the source is not used as a data source, it can now be used for the tooltip:</p>\n\n<pre><code>hover.tooltips = [\n    ('Name', ' $x'),\n    ('Count', ' @count'),\n]\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 5831345, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2abc627c9ad03807e138b7166b53e6ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kora K", "link": "https://stackoverflow.com/users/5831345/kora-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 42472833, "answer_count": 1, "score": 3, "last_activity_date": 1488135768, "creation_date": 1487799291, "question_id": 42402718, "link": "https://stackoverflow.com/questions/42402718/display-height-in-bokeh-vbar-tooltip", "title": "Display height in bokeh vbar tooltip", "body": "<p>I want to make a bar chart of some simple data, e.g. a pandas dataframe like this.</p>\n\n<pre><code>Cats 4\nDogs 3\nMice 27\n</code></pre>\n\n<p>I would like a tooltip which displays something like this when hovering over a bar:</p>\n\n<pre><code>Name: Cats\nCount: 4\n</code></pre>\n\n<p>With a bar chart, this worked with</p>\n\n<pre><code>hover.tooltips = [\n('Name', ' $x'),\n('Count', ' @height'),\n]\n</code></pre>\n\n<p>I since switched to vbars. What would be the corresponding keyword for @height? Or does it generally not work this way with vbars/hbars?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1487799583, "post_id": 42402680, "comment_id": 71952587, "body": "try <code>print(repr(s))</code>"}, {"owner": {"reputation": 346, "user_id": 1972972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ca46ed50c2812240359a4abc8a0f0b?s=128&d=identicon&r=PG", "display_name": "Pearley", "link": "https://stackoverflow.com/users/1972972/pearley"}, "edited": false, "score": 0, "creation_date": 1487800131, "post_id": 42402680, "comment_id": 71952857, "body": "Most likely it&#39;s the terminal&#39;s encoding that is influencing the encoding here. Try mangling with locales on your system - maybe run <code>LC_ALL=de_DE.cp437 python</code>"}], "answers": [{"comments": [{"owner": {"reputation": 346, "user_id": 1972972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ca46ed50c2812240359a4abc8a0f0b?s=128&d=identicon&r=PG", "display_name": "Pearley", "link": "https://stackoverflow.com/users/1972972/pearley"}, "edited": false, "score": 0, "creation_date": 1487799448, "post_id": 42402746, "comment_id": 71952497, "body": "This is irrelevant - at least for the <code>s</code> and <code>s.decode(&#39;cp437&#39;)</code> commands - their output differ"}, {"owner": {"reputation": 13641, "user_id": 163024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9dec2f8ed018ccdfd74f506656a9e530?s=128&d=identicon&r=PG", "display_name": "Matt S", "link": "https://stackoverflow.com/users/163024/matt-s"}, "reply_to_user": {"reputation": 346, "user_id": 1972972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ca46ed50c2812240359a4abc8a0f0b?s=128&d=identicon&r=PG", "display_name": "Pearley", "link": "https://stackoverflow.com/users/1972972/pearley"}, "edited": false, "score": 0, "creation_date": 1487799551, "post_id": 42402746, "comment_id": 71952563, "body": "The question is why <code>print(s)</code> and <code>decode</code> give different results."}], "tags": [], "owner": {"reputation": 13641, "user_id": 163024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9dec2f8ed018ccdfd74f506656a9e530?s=128&d=identicon&r=PG", "display_name": "Matt S", "link": "https://stackoverflow.com/users/163024/matt-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1487799560, "last_edit_date": 1487799560, "creation_date": 1487799393, "answer_id": 42402746, "question_id": 42402680, "link": "https://stackoverflow.com/questions/42402680/python-2-7-string-decode/42402746#42402746", "title": "Python 2.7 string decode.", "body": "<p><code>decode</code> will <em>return</em> the decoded value, not replace <code>s</code>.</p>\n\n<p>If you want to alter your variable, </p>\n\n<pre><code>s = s.decode('cp437')\n</code></pre>\n\n<p><em>(Interesting that the <a href=\"https://docs.python.org/2/library/stdtypes.html#str.decode\" rel=\"nofollow noreferrer\">documentation</a> simply says it decodes the string, while the <a href=\"https://docs.python.org/2/library/stdtypes.html#str.encode\" rel=\"nofollow noreferrer\">encode documentation</a> states it returns an encoded string)</em></p>\n"}, {"tags": [], "owner": {"reputation": 517, "user_id": 728054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3ea5e518183e5d39da6f9bf5ce04c84?s=128&d=identicon&r=PG", "display_name": "Jared", "link": "https://stackoverflow.com/users/728054/jared"}, "is_accepted": true, "score": 1, "last_activity_date": 1487803756, "last_edit_date": 1487803756, "creation_date": 1487803420, "answer_id": 42403691, "question_id": 42402680, "link": "https://stackoverflow.com/questions/42402680/python-2-7-string-decode/42403691#42403691", "title": "Python 2.7 string decode.", "body": "<p>This isn't caused by <code>str.decode</code>.  When you enter an object in the interactive shell, it prints the <em>representation</em> of that object, not the object itself.  For some types, like integers, these display the same thing:</p>\n\n<pre><code>&gt;&gt;&gt; i = 42\n&gt;&gt;&gt; i\n42\n&gt;&gt;&gt; print(repr(i))\n42\n&gt;&gt;&gt; print(i)\n42\n</code></pre>\n\n<p>For other types, like strings, they display two different things:</p>\n\n<pre><code>&gt;&gt;&gt; s = 'Fl\u00fcgel'\n&gt;&gt;&gt; s\n'Fl\\x81gel'\n&gt;&gt;&gt; print(repr(s))\n'Fl\\x81gel'\n&gt;&gt;&gt; print(s)\nFl\u00fcgel\n</code></pre>\n\n<p>Similarly with a Unicode object:</p>\n\n<pre><code>&gt;&gt;&gt; u = s.decode('cp437')\n&gt;&gt;&gt; u\nu'Fl\\xfcgel'\n&gt;&gt;&gt; print(repr(u))\nu'Fl\\xfcgel'\n&gt;&gt;&gt; print(u)\nFl\u00fcgel\n</code></pre>\n\n<p>It may be helpful (or confusing) to note that in the case of strings and Unicode objects, the object's representation is the Python code to instantiate it.  This may be clearer with a demonstration using <code>datetime.datetime</code>, which adopts the same paradigm:</p>\n\n<pre><code>&gt;&gt;&gt; d = datetime.datetime(2012, 12, 20, 23, 59, 59)\n&gt;&gt;&gt; d\ndatetime.datetime(2012, 12, 20, 23, 59, 59)\n&gt;&gt;&gt; print(repr(d))\ndatetime.datetime(2012, 12, 20, 23, 59, 59)\n&gt;&gt;&gt; print(d)\n2012-12-20 23:59:59\n</code></pre>\n"}], "owner": {"reputation": 4713, "user_id": 1187968, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/55c10b3b35dba52324314052e9cf84dc?s=128&d=identicon&r=PG", "display_name": "user1187968", "link": "https://stackoverflow.com/users/1187968/user1187968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "accepted_answer_id": 42403691, "answer_count": 2, "score": 1, "last_activity_date": 1487803756, "creation_date": 1487799161, "question_id": 42402680, "link": "https://stackoverflow.com/questions/42402680/python-2-7-string-decode", "title": "Python 2.7 string decode.", "body": "<p>In the following Python 2.7 shell, I was expecting \"s.decode('cp437')\", and print(s) give me the same outputs, but they are not, what's reason here? </p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.stdout.encoding\n'cp437'\n&gt;&gt;&gt; sys.stdin.encoding\n'cp437'\n&gt;&gt;&gt;\n&gt;&gt;&gt; s = \"Fl\u00fcgel\"\n&gt;&gt;&gt; s\n'Fl\\x81gel'\n&gt;&gt;&gt; s.decode('cp437')\nu'Fl\\xfcgel'\n&gt;&gt;&gt;\n&gt;&gt;&gt; print(s)\nFl\u00fcgel\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 0, "creation_date": 1487799028, "post_id": 42402589, "comment_id": 71952305, "body": "<code>np.apply_along_axis</code> or <code>np.apply_over_axes</code>?"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1487799200, "post_id": 42402589, "comment_id": 71952391, "body": "Shapes of <code>filtered</code>, <code>M</code>, <code>mat</code>?"}, {"owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487799417, "post_id": 42402589, "comment_id": 71952481, "body": "The shape of mat is 792x792, M is 194x792 and filtered is Nx792 depending on what is being filtered"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1487799594, "post_id": 42402589, "comment_id": 71952593, "body": "But you are using <code>weights=filtered</code>, so are you actually using a 2D array for the weights there?"}, {"owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487799879, "post_id": 42402589, "comment_id": 71952739, "body": "Sorry, m is just N, depending on what&#39;s been filtered"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1487802613, "post_id": 42402589, "comment_id": 71954015, "body": "Well your <code>filtered</code> is of different shape than M because of the masking. Could you verify that the sample inputs work with the code?"}, {"owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487802805, "post_id": 42402589, "comment_id": 71954103, "body": "Yes, the 3x3 matrix is the output from my loop approach (though i changed two nan&#39;s to 0.). With a bigger dataset the -1 values range from -1 to 1."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1487803049, "post_id": 42402589, "comment_id": 71954204, "body": "I tried with a random (3,3) shaped array for <code>mat</code> and didn&#39;t work : <code>1D weights expected when shapes of a and weights differ.</code> at that line : <code>m = np.average(M, a...</code>, as I stated earlier."}, {"owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487803734, "post_id": 42402589, "comment_id": 71954449, "body": "I mixed some of my code up when I wrote the original post, but I&#39;ve edited it and the code there should now work!"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1487804090, "post_id": 42402589, "comment_id": 71954570, "body": "Are you actually testing it out before posting? :) Doesn&#39;t work yet."}, {"owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487804702, "post_id": 42402589, "comment_id": 71954778, "body": "Sorry! It definitely works now! I appreciate you taking the time to help :)"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487800552, "post_id": 42402884, "comment_id": 71953065, "body": "Actually I got confused in my previous response, filtered is of size N*792 and m is of size N. filtered is M[(M[:, x] &gt; 0) &amp; (M[:, y] &gt; 0)]"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487800755, "post_id": 42402884, "comment_id": 71953166, "body": "@Roadhouse I think it would make sense if you could add sample arrays for those three arrays. So, I guess you could use minimal arrays of say <code>mat</code> as <code>(4,4)</code>, <code>M</code> as <code>(3,4)</code> and similarly for <code>filtered</code>. Idea is to show us a minimal working sample that works with your listed codes and thus avoid all of those confusions from both sides."}, {"owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "edited": false, "score": 0, "creation_date": 1487801963, "post_id": 42402884, "comment_id": 71953725, "body": "Yeah that&#39;s true, I&#39;ve updated the original post, hope that clarifies it a bit."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1487809275, "last_edit_date": 1487809275, "creation_date": 1487799934, "answer_id": 42402884, "question_id": 42402589, "link": "https://stackoverflow.com/questions/42402589/applying-a-function-to-every-element-in-a-numpy-matrix/42402884#42402884", "title": "Applying a function to every element in a numpy matrix", "body": "<p>Well, let's have it finally, as it turned out to be much more complicated than anticipated! So, here's a vectorized approach making use of <a href=\"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow noreferrer\"><code>broadcasting</code></a> at various places -</p>\n\n<pre><code>avg = M.sum(1)/((M&gt;0).sum(1))\nmask = M&gt;0\nsubs = M - avg[:,None]\n\nmasked_subs = mask*subs\nsums = np.dot(masked_subs.T,masked_subs)\n\ncomb_mask = mask[:,None,:] &amp; mask[:,:,None] \nnorm_i = np.linalg.norm(subs[:,:,None]*comb_mask, axis=0)\nnorm_j = np.linalg.norm(subs[:,None,:]*comb_mask, axis=0)\nout = sums/(norm_i*norm_j)\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 2261815, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e5635ca7e463c7a8d891b6609fe084b3?s=128&d=identicon&r=PG", "display_name": "Roadhouse", "link": "https://stackoverflow.com/users/2261815/roadhouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487809275, "creation_date": 1487798807, "last_edit_date": 1487804662, "question_id": 42402589, "link": "https://stackoverflow.com/questions/42402589/applying-a-function-to-every-element-in-a-numpy-matrix", "title": "Applying a function to every element in a numpy matrix", "body": "<p>I have a function which calculates an adjusted cosine similarity between two elements, sort of like:</p>\n\n<pre><code>def sim(x,y,M):\n    filtered = M[(M[:, x] &gt; 0) &amp; (M[:, y] &gt; 0)]\n    m = np.average(filtered, axis=1, weights=filtered.astype(bool))\n    i = filtered[:, x] - m\n    j = filtered[:, y] - m\n    return np.sum(i * j) / (np.linalg.norm(i) * np.linalg.norm(j))\n</code></pre>\n\n<p>I also have a n*n matrix for which i want to get sim() for every pair, i.e. 0,0-n,n.\nCurrently I'm doing this using two for-loops which works well but it's pretty slow: </p>\n\n<pre><code>def get_matrix(M):\n    new_mat = []\n    for x in range(3):\n        for y in range(3):\n            new_mat.append(sim(x,y,M))\n    return np.reshape(new_mat, (3,3))\n</code></pre>\n\n<p>Is there a more efficient way to do this? M (<em>mn</em>) and mat (<em>nn</em>) don't have the same dimensions..</p>\n\n<p>Edit:</p>\n\n<p>My M looks like this:</p>\n\n<pre><code>[[   0.  100.  300.]\n [ 100.  200.    0.]\n [ 250.  150.    0.]\n [ 250.  200.    0.]]\n</code></pre>\n\n<p>And as output i want a matrix (new_mat) of size 3x3 in this case, which contains the similarities between each item, simplified:</p>\n\n<pre><code>[[  1.  -1.  -1.]\n [ -1.   1.  -1.]\n [ -1.  -1.   1.]]\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 1, "creation_date": 1487799228, "post_id": 42402509, "comment_id": 71952404, "body": "For your case <code>new_df = df**2</code> would be probably more efficient and for sure much more readable."}], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 5479704, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-hjpSYH_37i4/AAAAAAAAAAI/AAAAAAAAAFc/SP4HPI--B0k/photo.jpg?sz=128", "display_name": "Liam Hanninen", "link": "https://stackoverflow.com/users/5479704/liam-hanninen"}, "edited": false, "score": 0, "creation_date": 1609907457, "post_id": 65572431, "comment_id": 115965862, "body": "Thanks! Gave this a +1 but not the correct answer for the question. You solve the specific example more efficiently but your answer could not be generalized if I wanted to do other operations or modify columns or values."}, {"owner": {"reputation": 7651, "user_id": 13873980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd88c24d8aa58415d21a1158ff8e374f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Ferndz", "link": "https://stackoverflow.com/users/13873980/joe-ferndz"}, "reply_to_user": {"reputation": 1091, "user_id": 5479704, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-hjpSYH_37i4/AAAAAAAAAAI/AAAAAAAAAFc/SP4HPI--B0k/photo.jpg?sz=128", "display_name": "Liam Hanninen", "link": "https://stackoverflow.com/users/5479704/liam-hanninen"}, "edited": false, "score": 0, "creation_date": 1609913692, "post_id": 65572431, "comment_id": 115967025, "body": "If you have additional things you need to add, let me know and the solution can be expanded. The question I saw was to find an efficient way to repeat rows. If you want to modify columns or do other things, it can be done with np.repeat."}], "tags": [], "owner": {"reputation": 7651, "user_id": 13873980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd88c24d8aa58415d21a1158ff8e374f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Ferndz", "link": "https://stackoverflow.com/users/13873980/joe-ferndz"}, "is_accepted": false, "score": 1, "last_activity_date": 1609813891, "creation_date": 1609813891, "answer_id": 65572431, "question_id": 42402509, "link": "https://stackoverflow.com/questions/42402509/efficiently-building-a-pandas-dataframe-row-by-row/65572431#65572431", "title": "Efficiently building a pandas dataframe row by row", "body": "<p>Instead of using the for loop and repeating the rows, you can use numpy.</p>\n<pre><code>import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'Location':['New York','Florida','California', 'Nevada','Georgia'],\n                   'Owner':['John','Gary','Mike','Kate','Lucy'],\n                   'Score':[50,80,70,90,80]})\n\nprint (df)\nnew_df = pd.DataFrame(np.repeat(df.values,2,axis=0))\nprint (new_df)\n</code></pre>\n<p>Original dataframe:</p>\n<pre><code>     Location Owner  Score\n0    New York  John     50\n1     Florida  Gary     80\n2  California  Mike     70\n3      Nevada  Kate     90\n4     Georgia  Lucy     80\n</code></pre>\n<p>New Dataframe with repeated rows:</p>\n<pre><code>            0     1   2\n0    New York  John  50\n1    New York  John  50\n2     Florida  Gary  80\n3     Florida  Gary  80\n4  California  Mike  70\n5  California  Mike  70\n6      Nevada  Kate  90\n7      Nevada  Kate  90\n8     Georgia  Lucy  80\n9     Georgia  Lucy  80\n</code></pre>\n"}], "owner": {"reputation": 1091, "user_id": 5479704, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-hjpSYH_37i4/AAAAAAAAAAI/AAAAAAAAAFc/SP4HPI--B0k/photo.jpg?sz=128", "display_name": "Liam Hanninen", "link": "https://stackoverflow.com/users/5479704/liam-hanninen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1609813891, "creation_date": 1487798487, "question_id": 42402509, "link": "https://stackoverflow.com/questions/42402509/efficiently-building-a-pandas-dataframe-row-by-row", "title": "Efficiently building a pandas dataframe row by row", "body": "<p>I've been building pandas dataframes recently by iterating through multiple files, rows, etc. I've been building them by appending items in a dictionary and then converting to a dataframe:</p>\n\n<p>I understand there are other tools such as apply() and interrows() to step through rows and apply or screen data by row. That is not the topic of this question.</p>\n\n<pre><code>new_data_dict = {}\nfor r in df.index:\n    new_data = df.loc[r] **2\n    new_data_dict[r] = new_data\n\nnew_df = pd.DataFrame.from_dict(new_data_dict, orient = 'index')\n</code></pre>\n\n<p>Is this the most efficient way to build a pandas df? I haven't compared it to pandas.DataFrame.append. I've had two thoughts about append. On one hand seems unnecessarily heavy to create a dataframe or series (of a single row) only to append it. On the otherhand everything built into pandas is super fast such as the above methods apply() and iterrows() as well as groupby() etc.</p>\n\n<p>What is the 'pandamic' way to build a dataframe row by row?</p>\n"}, {"tags": ["python", "mysql", "multithreading", "python-3.x", "pymysql"], "comments": [{"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487800192, "post_id": 42402491, "comment_id": 71952891, "body": "Do you have a <code>t1.join()</code> and <code>t2.join()</code> later on in the script?  What&#39;s your full stack trace on the error?  What version of PyMySql are you using? Looking at the github issues on PyMySql, this is a common issue when using pyMySql with multithreading. Source: <a href=\"https://github.com/PyMySQL/PyMySQL/issues/511\" rel=\"nofollow noreferrer\">github.com/PyMySQL/PyMySQL/issues/511</a>"}, {"owner": {"reputation": 2085, "user_id": 1092632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c690fdeefbe626c49bdd3f00f8e59acc?s=128&d=identicon&r=PG", "display_name": "PrimuS", "link": "https://stackoverflow.com/users/1092632/primus"}, "reply_to_user": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487801458, "post_id": 42402491, "comment_id": 71953491, "body": "From what I understand t1.join makes it wait for t1? I throw an exception: <code>EXCEPTION IN (C:&#47;Projects&#47;PyCharm&#47;ls&#47;crawl.py, LINE 151 &quot;datetime.now()&quot;): Packet sequence number wrong - got 101 expected 1</code> Line 151 is <code>cursor.execute(&quot;MY MYSQL QUERY&quot;)</code>. PyMySQL is 0.7.9 so supposedly the issue should be resolved?"}, {"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487801936, "post_id": 42402491, "comment_id": 71953712, "body": "Yes, <code>.join()</code> makes it wait for that thread.  You can add the <code>.join()</code> after you call <code>t2</code> so that both threads run.  You want both threads to join before running <code>updateOnline()</code> otherwise it&#39;ll try to update before the information comes back.  Try adding the <code>.join()</code> statements for both threads before <code>updateOnline()</code> and see if that fixes anything, if you haven&#39;t already."}], "owner": {"reputation": 2085, "user_id": 1092632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c690fdeefbe626c49bdd3f00f8e59acc?s=128&d=identicon&r=PG", "display_name": "PrimuS", "link": "https://stackoverflow.com/users/1092632/primus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 634, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487798417, "creation_date": 1487798417, "question_id": 42402491, "link": "https://stackoverflow.com/questions/42402491/threading-and-paralell-mysql-access-pymysql", "title": "Threading and paralell MySQL access (pyMySQL)", "body": "<p>I try to understand how threading works.</p>\n\n<p>Here is my code that runs infinitely:</p>\n\n<pre><code>while(True):\n    # Check All Streams if they are online AND with which Summoner #\n    checkStreams()\n\n    # Check if we have new finished games #\n    if newGames:\n         getMatchHistory()\n         updateSummonerStats()\n\n    # Update Online Stats #\n    updateOnline()\n</code></pre>\n\n<p><code>checkStreams()</code> is a rather small function, but <code>getMatchHistory()</code> and <code>updateSummonerStats()</code> take quite some time and they don't run very often.\nSo the idea is to run those 2 functions in 2 seperate threads.</p>\n\n<p>From what I read here <a href=\"http://softwareramblings.com/2008/06/running-functions-as-threads-in-python.html\" rel=\"nofollow noreferrer\">http://softwareramblings.com/2008/06/running-functions-as-threads-in-python.html</a> my approach was this:</p>\n\n<p>These Functions should run is seperate threads but the functions after should continue immediately</p>\n\n<pre><code>if newGames:   \n     t1 = threading.Thread(target=getMatchHistory)\n     t1.start()\n     t2 = threading.Thread(target=updateSummonerStats)\n     t2.start()\n</code></pre>\n\n<p>Now I have this issues: Both threaded functions access my MySQL Database and that causes this error: <code>Packet sequence number wrong - got 0 expected 2</code> and many similar.</p>\n\n<p>Is this even the right approach for paralell function or is there a better solution?</p>\n"}, {"tags": ["python", "django", "file-upload", "django-models", "django-views"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1487798739, "post_id": 42402454, "comment_id": 71952136, "body": "Is checking by extension enough, or do you want to check the file itself?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1487798849, "post_id": 42402454, "comment_id": 71952201, "body": "If extension is enough to determine if it&#39;s a video or image then that&#39;s fine"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1487799319, "post_id": 42402454, "comment_id": 71952435, "body": "people can put whatever they want as the extension, although most will be labelled appropriately. The other way is via file inspection."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1487799344, "post_id": 42402454, "comment_id": 71952449, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10937350/how-to-check-type-of-files-without-extensions-in-python\">How to check type of files without extensions in python?</a>"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1487801091, "post_id": 42402454, "comment_id": 71953327, "body": "How would that look in my code? As i&#39;m checking the filetype in my view as it&#39;s being posted uploaded"}], "answers": [{"tags": [], "owner": {"reputation": 372, "user_id": 4308849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/17lXa.jpg?s=128&g=1", "display_name": "turbotux", "link": "https://stackoverflow.com/users/4308849/turbotux"}, "is_accepted": false, "score": 1, "last_activity_date": 1487807447, "creation_date": 1487807447, "answer_id": 42404509, "question_id": 42402454, "link": "https://stackoverflow.com/questions/42402454/how-to-detect-if-a-fileupload-is-an-image-or-video/42404509#42404509", "title": "How to detect if a FileUpload is an image or video", "body": "<p>You can check the mime type of the file by accessing the content_type attribute of the file in your view.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487807447, "creation_date": 1487798257, "question_id": 42402454, "link": "https://stackoverflow.com/questions/42402454/how-to-detect-if-a-fileupload-is-an-image-or-video", "title": "How to detect if a FileUpload is an image or video", "body": "<p>I have a FileField like this:</p>\n\n<pre><code>class Post(models.Model):\n    file = models.FileField(null=True, blank=True)\n    video = models.BooleanField(default=False)\n</code></pre>\n\n<p>I'm then able to look at the object when it goes past my <code>views</code>:</p>\n\n<pre><code>def post(request):\n    if request.user.is_authenticated():\n        form_post = FileForm(request.POST or None, request.FILES or None)\n        if form_post.is_valid():\n            instance = form_post.save(commit=False)\n            if ?something?:\n                instance.video = True\n            instance.save()\n</code></pre>\n\n<p>So in my view is it possible to check whether the Post.file is a video or image?</p>\n"}, {"tags": ["python", "function", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 1, "creation_date": 1487798360, "post_id": 42402403, "comment_id": 71951902, "body": "Not sure what you mean. How would you call <code>bianco2</code>? Try posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6094872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59484e4755d83ca94e140533fc577bfd?s=128&d=identicon&r=PG&f=1", "display_name": "dbianco", "link": "https://stackoverflow.com/users/6094872/dbianco"}, "edited": false, "score": 0, "creation_date": 1487802799, "post_id": 42402497, "comment_id": 71954097, "body": "Thanks Shijo! That should simplify my issue."}], "tags": [], "owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "is_accepted": true, "score": 3, "last_activity_date": 1487798434, "creation_date": 1487798434, "answer_id": 42402497, "question_id": 42402403, "link": "https://stackoverflow.com/questions/42402403/how-to-pass-pandas-dataframe-and-column-to-a-function/42402497#42402497", "title": "How to Pass Pandas Dataframe and Column to a Function", "body": "<p>You may want to try this ?</p>\n\n<pre><code>def bianco2(df, varX, varT):\n    stdX = np.std(df[varX])\n    stdT = np.std(df[varT])\n    newVar = stdX + stdT\n    return newVar\n\nprint bianco2(df,'Customer','Policy')\n</code></pre>\n\n<p>input </p>\n\n<pre><code>   Policy  Customer  Employee CoveredDate   LapseDate\n0     123      1234      1234  2011-06-01  2013-01-01\n1     124      1234      1234  2016-01-01  2013-01-01\n2     124      5678      5555  2014-01-01  2013-01-01\n</code></pre>\n\n<p>output </p>\n\n<pre><code>  2095.39309492\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6094872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59484e4755d83ca94e140533fc577bfd?s=128&d=identicon&r=PG&f=1", "display_name": "dbianco", "link": "https://stackoverflow.com/users/6094872/dbianco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6403, "favorite_count": 1, "accepted_answer_id": 42402497, "answer_count": 1, "score": 0, "last_activity_date": 1487798434, "creation_date": 1487798037, "question_id": 42402403, "link": "https://stackoverflow.com/questions/42402403/how-to-pass-pandas-dataframe-and-column-to-a-function", "title": "How to Pass Pandas Dataframe and Column to a Function", "body": "<p>So I have a large amount of columns within a pandas dataframe and I need to pass groups of them through a function. The function is large but I'll create an example below. I am not sure how to pass the reference of df.varName to the function without getting the issue of the variable not being defined. When I try a function such as:</p>\n\n<pre><code>def bianco2(df, varX, varT):\n    stdX = np.std(df.varX)\n    stdT = np.std(df.varT)\n    newVar = stdX + stdT\n    return newVar\n</code></pre>\n\n<p>I get the error that varX isn't defined. So I wrote the function where I would pass the whole phrase:</p>\n\n<pre><code>def bianco3(varX, varT):\n    stdX = np.std(varX)\n    stdT = np.(varT)\n    newVar = stdX + stdT\n    return newVar\n</code></pre>\n\n<p>Where \"varX = df.varX\".</p>\n\n<p>This worked but isn't practical for a large number of variables because I would still have to manually update each varX and varT. So I tried creating a list of variables in the format df.varX and then using a for loop to pass the list of variables. The issue is python sees it as a string and not a reference. I looked at using functools.partial but was unsuccessful.</p>\n\n<p>Any ideas on how to write this in a simple format and be able to pass panda columns to a function?</p>\n"}, {"tags": ["python", "django", "google-app-engine"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487829865, "post_id": 42402363, "comment_id": 71962953, "body": "You haven&#39;t passed the actual Key object. Create a Key object from the passed string and then do delete operation."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1487837278, "post_id": 42402363, "comment_id": 71966471, "body": "And once you have a key object, you don&#39;t need to get the actual model instance; just call delete directly on the key."}, {"owner": {"reputation": 1, "user_id": 7607286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71fc463ea25e941d4460ea593345f86?s=128&d=identicon&r=PG&f=1", "display_name": "quest2graduate18", "link": "https://stackoverflow.com/users/7607286/quest2graduate18"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487872631, "post_id": 42402363, "comment_id": 71991399, "body": "@AvinashRaj I tried to get it, couldnt make it work. I added what I tried into an edit"}, {"owner": {"reputation": 1, "user_id": 7607286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71fc463ea25e941d4460ea593345f86?s=128&d=identicon&r=PG&f=1", "display_name": "quest2graduate18", "link": "https://stackoverflow.com/users/7607286/quest2graduate18"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1487872681, "post_id": 42402363, "comment_id": 71991425, "body": "@DanielRoseman I also tried delete on the key directly. prob_key.delete() and that didn&#39;t work either. I imagine I&#39;m doing this wrong.."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487873140, "post_id": 42402363, "comment_id": 71991679, "body": "@quest2graduate18 1. pass <code>problem.id</code> as submit value, 2. query for this id 3. do delete\\"}, {"owner": {"reputation": 1, "user_id": 7607286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71fc463ea25e941d4460ea593345f86?s=128&d=identicon&r=PG&f=1", "display_name": "quest2graduate18", "link": "https://stackoverflow.com/users/7607286/quest2graduate18"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487873923, "post_id": 42402363, "comment_id": 71992170, "body": "@AvinashRaj I am using the &#39;get_by_id()&#39; function but I think I&#39;m performing wrong syntactically. I am still getting &#39;AttributeError: NoneType has no attribute key &#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7607286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71fc463ea25e941d4460ea593345f86?s=128&d=identicon&r=PG&f=1", "display_name": "quest2graduate18", "link": "https://stackoverflow.com/users/7607286/quest2graduate18"}, "edited": false, "score": 0, "creation_date": 1487877229, "post_id": 42423466, "comment_id": 71993936, "body": "I&#39;m now getting a template syntax error. I don&#39;t know if this has anything to do with it, but I&#39;m using webapp2. The admin who edited my question tagged it with Django."}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "reply_to_user": {"reputation": 1, "user_id": 7607286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71fc463ea25e941d4460ea593345f86?s=128&d=identicon&r=PG&f=1", "display_name": "quest2graduate18", "link": "https://stackoverflow.com/users/7607286/quest2graduate18"}, "edited": false, "score": 0, "creation_date": 1487879029, "post_id": 42423466, "comment_id": 71994908, "body": "Probably because of attempting to call <code>urlsafe()</code> in the template itself, I just assumed it&#39;d work like this, based on <a href=\"http://stackoverflow.com/questions/5190204/is-it-possible-to-access-the-key-name-of-an-object-from-inside-a-jinja2-template\" title=\"is it possible to access the key name of an object from inside a jinja2 template\">stackoverflow.com/questions/5190204/&hellip;</a>. Try <code>problem.key.urlsafe</code> as well (in case that&#39;s indeed a django template). Personally I don&#39;t invoke object methods in the template, I do that in the handler code where I can sanitize the result before passing it to the template. You could do the same, say by adding an <code>@property</code> to the <code>problem</code>&#39;s class, returning <code>self.key.urlsafe()</code>."}], "tags": [], "owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1487874463, "creation_date": 1487874463, "answer_id": 42423466, "question_id": 42402363, "link": "https://stackoverflow.com/questions/42402363/gae-trouble-deleting-entity-from-key/42423466#42423466", "title": "GAE - Trouble Deleting Entity from key", "body": "<p>You can't pass the key object itself through the HTML page, but you can pass its <code>.urlsafe()</code> string representation.</p>\n\n<p>So in your HTML display the string representation, like this:</p>\n\n<pre><code>value=\"{{ problem.key.urlsafe() }}\"\n</code></pre>\n\n<p>And in your handler code restore the key from its string representation:</p>\n\n<pre><code>prob_key = ndb.Key(urlsafe=self.request.get('problem_key'))\n</code></pre>\n\n<p>From <a href=\"https://cloud.google.com/appengine/docs/standard/python/ndb/creating-entities#Python_retrieving_entities\" rel=\"nofollow noreferrer\">Retrieving Entities from Keys</a>:</p>\n\n<blockquote>\n  <p>You can also use an entity's key to obtain an encoded string suitable\n  for embedding in a URL:</p>\n\n<pre><code>url_string = sandy_key.urlsafe()\n</code></pre>\n  \n  <p>This produces a result like <code>agVoZWxsb3IPCxIHQWNjb3VudBiZiwIM</code> which\n  can later be used to reconstruct the key and retrieve the original\n  entity:</p>\n\n<pre><code>sandy_key = ndb.Key(urlsafe=url_string)\nsandy = sandy_key.get()\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 7607286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71fc463ea25e941d4460ea593345f86?s=128&d=identicon&r=PG&f=1", "display_name": "quest2graduate18", "link": "https://stackoverflow.com/users/7607286/quest2graduate18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487874463, "creation_date": 1487797889, "last_edit_date": 1487872447, "question_id": 42402363, "link": "https://stackoverflow.com/questions/42402363/gae-trouble-deleting-entity-from-key", "title": "GAE - Trouble Deleting Entity from key", "body": "<p>I am having trouble deleting entities from keys in the GAE using python/ndb. I am able to retrieve the entity (problem) key from the page, but cannot figure out how to get it to delete. The GAE support page says it's as simple as retrieving the key and then deleting it, as seen below. </p>\n\n<pre><code>problem = problem_key.get()\nproblem.key.delete()\n</code></pre>\n\n<p>But this is not working. I'm pretty sure the key is being obtained correctly. The HTML looks like </p>\n\n<pre><code>{%for problem in problems %}\n    &lt;tr&gt;\n        &lt;td&gt;{{ problem.tags }}&lt;/td&gt;\n        &lt;td&gt;&lt;script type=\"math/tex\"&gt;{{ problem.content }}&lt;/script&gt;&lt;/td&gt;\n        &lt;td&gt;{{ problem.answer }}&lt;/td&gt;\n        &lt;td&gt;{{ problem.quiz }}&lt;/td&gt;\n        &lt;td&gt;{{ problem.id }}&lt;/td&gt;\n        &lt;td&gt;{{ problem.date }}&lt;/td&gt;\n        &lt;form action=\"/deleteProblem\" method=\"POST\"&gt;\n            &lt;td&gt;&lt;button type=\"submit\" name=\"problem_key\" value=\"{{ problem.key }}\"&gt;Delete Problem&lt;/button&gt;&lt;/td&gt; \n        &lt;/form&gt;\n    &lt;/tr&gt;\n{% endfor %}    \n</code></pre>\n\n<p>And my python code looks like:</p>\n\n<pre><code>class deleteHandler(BaseHandler):\n    def post(self):\n        prob_key = self.request.get('problem_key')\n        problem = prob_key.get()\n        problem.key.delete()\n        self.redirect(\"/\")\n</code></pre>\n\n<p>I'm getting:    </p>\n\n<pre><code>problem = prob_key.get()     \nAttributeError: 'unicode' object has no attribute 'get'\n</code></pre>\n\n<p>My best guess is that prob_key is getting assigned the actual unicode and so of course there is no <code>get()</code> method for it but I don't understand how to fix the problem based on Google's explanation of how it should function.</p>\n\n<p>EDIT: Okay, been scouting around for a while and I've changed this line: </p>\n\n<pre><code>prob_key = self.request.get('problem_key')\n</code></pre>\n\n<p>to    </p>\n\n<pre><code>prob_key = ndb.Key('Problem', int(self.request.get('problem_id')\n</code></pre>\n\n<p>because as far as I understand it, a key can be constructed in the following manner     </p>\n\n<pre><code>ndb.Key('kind', 'id')\n</code></pre>\n\n<p>Unfortunately, I still cannot get it to work. I am now getting</p>\n\n<pre><code>   problem.key.delete()\nAttributeError: NoneType has no attribute 'key'\n</code></pre>\n"}, {"tags": ["python", "random", "raspberry-pi", "raspbian", "shuffle"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4644892, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-p9OEU0QnURg/AAAAAAAAAAI/AAAAAAAAAIE/uSdLS1b8EGk/photo.jpg?sz=128", "display_name": "greatgamer34", "link": "https://stackoverflow.com/users/4644892/greatgamer34"}, "edited": false, "score": 0, "creation_date": 1488161656, "post_id": 42402815, "comment_id": 72094027, "body": "That does not seem to work for me. The     print(keys)    command is showing me that it is shuffling the list, but the GUI isnt updating."}, {"owner": {"reputation": 33, "user_id": 4644892, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-p9OEU0QnURg/AAAAAAAAAAI/AAAAAAAAAIE/uSdLS1b8EGk/photo.jpg?sz=128", "display_name": "greatgamer34", "link": "https://stackoverflow.com/users/4644892/greatgamer34"}, "edited": false, "score": 0, "creation_date": 1488165053, "post_id": 42402815, "comment_id": 72094774, "body": "I believe i need to configure a text variable but im not sure how to do that."}], "tags": [], "owner": {"reputation": 31, "user_id": 7251496, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gr0kuIc2vJk/AAAAAAAAAAI/AAAAAAAAB5E/mfGw26VSdL4/photo.jpg?sz=128", "display_name": "Alex C.", "link": "https://stackoverflow.com/users/7251496/alex-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1487803409, "last_edit_date": 1487803409, "creation_date": 1487799637, "answer_id": 42402815, "question_id": 42402349, "link": "https://stackoverflow.com/questions/42402349/shuffling-a-touchscreen-keypads-buttons-python/42402815#42402815", "title": "Shuffling a touchscreen keypads buttons [PYTHON]", "body": "<p>Using the same code as from the link you posted to generate the buttons matrix:</p>\n\n<pre><code>import random\n\nkeys = [\n    ['1', '2', '3'],    \n    ['4', '5', '6'],    \n    ['7', '8', '9'],    \n    ['*', '9', '#'],    \n]\n\nfor key in keys:\n    random.shuffle(key)\n    #optionally we can also shuffle the keys list\n    random.shuffle(keys)\n</code></pre>\n\n<p>You can use  <code>print(keys)</code> to check for the choices on multiple runs. I'm sure there's even easier ways of doing it but this is pretty simple.</p>\n\n<p>Edit:\nI wasn't checking for the answer of that thread initially. You can use <code>random.shuffle(key)</code> to partially shuffle the order of the 3 keys displayed on the keypad and an extra <code>random.shuffle(keys)</code> to shuffle up the list again.</p>\n"}], "owner": {"reputation": 33, "user_id": 4644892, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-p9OEU0QnURg/AAAAAAAAAAI/AAAAAAAAAIE/uSdLS1b8EGk/photo.jpg?sz=128", "display_name": "greatgamer34", "link": "https://stackoverflow.com/users/4644892/greatgamer34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1487803409, "creation_date": 1487797842, "question_id": 42402349, "link": "https://stackoverflow.com/questions/42402349/shuffling-a-touchscreen-keypads-buttons-python", "title": "Shuffling a touchscreen keypads buttons [PYTHON]", "body": "<p>Bank vault systems that have a tactile number pad for pin entry are vulnerable to misuse by a thief. Thieves can use cameras, themselves, or even other people to view the pattern that a 4 digit pin makes when entered; therefore they do not need to know the actual value of your pin, just the sequence of button presses that will allow for entry into the system. To overcome this fatal flaw, a touchscreen display that has a number pad GUI may be used, with the keys being shuffled every time the pin is entered whether it is correct or not.</p>\n\n<p>Someone has posted an answer to a similar question, but with-out the shuffle function. <a href=\"https://stackoverflow.com/questions/41519425/need-a-gui-keypad-for-a-touchscreen-that-outputs-a-pin-when-code-is-correct\">Need a Gui Keypad for a touchscreen that outputs a pin when code is correct</a></p>\n\n<p>I have been playing around with the code in the answer to the question posted in the link above by trying to shuffle the list 'keys' whenever a '#' is entered but it does not work. Do you guys have any idea how to make a touchscreen GUI keypad with numbers that shuffle everyime a '#' is received?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487798172, "post_id": 42402342, "comment_id": 71951792, "body": "You want Diracx[i] = 1 (square brackets) -- it&#39;s an array."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1487798759, "post_id": 42402342, "comment_id": 71952154, "body": "This question isn&#39;t really about Dirac functions. It&#39;s about <code>SyntaxError</code>."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7607396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e694ba2cb88e87d08c73ad0f5d3ff38?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeMusterFrau", "link": "https://stackoverflow.com/users/7607396/maximemusterfrau"}, "edited": false, "score": 0, "creation_date": 1487799024, "post_id": 42402572, "comment_id": 71952303, "body": "hum.. It is actually easier ! Thank you Sir. I have a question though, when I do so, or like my example I don&#39;t really get an impulse at one value and 0 at others but I get o sort of interpolation. How can I turn off this interpolation ? I used plt.plot(x,a) to plot"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 59, "user_id": 7607396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e694ba2cb88e87d08c73ad0f5d3ff38?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeMusterFrau", "link": "https://stackoverflow.com/users/7607396/maximemusterfrau"}, "edited": false, "score": 0, "creation_date": 1487799801, "post_id": 42402572, "comment_id": 71952703, "body": "Then I think you need to (a) approximate the Dirac function by one that is mid-way close to the Dirac and far away from a triangle, and (b) plot more points so that the pulse is displayed more clearly."}, {"owner": {"reputation": 59, "user_id": 7607396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e694ba2cb88e87d08c73ad0f5d3ff38?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeMusterFrau", "link": "https://stackoverflow.com/users/7607396/maximemusterfrau"}, "edited": false, "score": 0, "creation_date": 1487800787, "post_id": 42402572, "comment_id": 71953185, "body": "Thank you, I will try to !"}], "tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1487798740, "creation_date": 1487798740, "answer_id": 42402572, "question_id": 42402342, "link": "https://stackoverflow.com/questions/42402342/syntaxerror-cant-assign-to-function-call-dirac-function-for-an-intervall-of-v/42402572#42402572", "title": "SyntaxError: can&#39;t assign to function call, Dirac function for an intervall of values Python", "body": "<p>Alternatively, if only to spur someone else to offer a better answer.</p>\n\n<pre><code>&gt;&gt;&gt; x = np.array([-2,-1,0,1,2])\n&gt;&gt;&gt; a = np.zeros(np.size(x))\n&gt;&gt;&gt; a[x!=0]=1\n&gt;&gt;&gt; a\narray([ 1.,  1.,  0.,  1.,  1.])\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7607396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e694ba2cb88e87d08c73ad0f5d3ff38?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeMusterFrau", "link": "https://stackoverflow.com/users/7607396/maximemusterfrau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1488014100, "creation_date": 1487797820, "last_edit_date": 1488014100, "question_id": 42402342, "link": "https://stackoverflow.com/questions/42402342/syntaxerror-cant-assign-to-function-call-dirac-function-for-an-intervall-of-v", "title": "SyntaxError: can&#39;t assign to function call, Dirac function for an intervall of values Python", "body": "<p>I'm trying to implement a simple function that returns 1 for a certain value, here 0. </p>\n\n<p>But I keep getting this error:</p>\n\n<pre><code>Diracx(i) = 1\nSyntaxError: can't assign to function call\n</code></pre>\n\n<p>Can you please help?</p>\n\n<pre><code>def Dirac(x):\n    Diracx = np.zeros(size(x))\n    for i in range(size(x)):\n        if (x(i) == 0):\n            Diracx(i) = 1    \n\n    return Diracx \n\n\nplt.plot(x,DiracDelta(x))\n</code></pre>\n"}, {"tags": ["python", "opencv", "blending"], "answers": [{"comments": [{"owner": {"reputation": 702, "user_id": 5956151, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36cbd9873a8a5ca327f20f95974e5f75?s=128&d=identicon&r=PG&f=1", "display_name": "C.Radford", "link": "https://stackoverflow.com/users/5956151/c-radford"}, "edited": false, "score": 0, "creation_date": 1487798988, "post_id": 42402441, "comment_id": 71952284, "body": "Thanks mate that makes a lot of sense. I understand the concept but how does one norm an image area? My issue is the result layered/stitched image is a single image not an image with multiple layers."}, {"owner": {"reputation": 684, "user_id": 7394828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eaca6fb3cd0c1699ba850e7df21e504?s=128&d=identicon&r=PG&f=1", "display_name": "RuDevel", "link": "https://stackoverflow.com/users/7394828/rudevel"}, "reply_to_user": {"reputation": 702, "user_id": 5956151, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36cbd9873a8a5ca327f20f95974e5f75?s=128&d=identicon&r=PG&f=1", "display_name": "C.Radford", "link": "https://stackoverflow.com/users/5956151/c-radford"}, "edited": false, "score": 0, "creation_date": 1487799314, "post_id": 42402441, "comment_id": 71952431, "body": "Sorry, norming is the wrong name here- just settin all pixel values to 1 should do the trick as well. I am expanding my answert right now.."}, {"owner": {"reputation": 702, "user_id": 5956151, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36cbd9873a8a5ca327f20f95974e5f75?s=128&d=identicon&r=PG&f=1", "display_name": "C.Radford", "link": "https://stackoverflow.com/users/5956151/c-radford"}, "edited": false, "score": 0, "creation_date": 1488553137, "post_id": 42402441, "comment_id": 72296519, "body": "Thanks mate this works great with the exception of one small thing in your code.  dst = np.zeros((100,100),dtype=np.int) should be dst = np.zeros((100,100),np.uint8). This really helped thanks"}, {"owner": {"reputation": 702, "user_id": 5956151, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36cbd9873a8a5ca327f20f95974e5f75?s=128&d=identicon&r=PG&f=1", "display_name": "C.Radford", "link": "https://stackoverflow.com/users/5956151/c-radford"}, "edited": false, "score": 0, "creation_date": 1488916127, "post_id": 42402441, "comment_id": 72439892, "body": "So I have been fiddling with this but my issues is I am not working with square boundaries. Do you know how I can do this exact process but setting the inside of a contour to 1"}], "tags": [], "owner": {"reputation": 684, "user_id": 7394828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eaca6fb3cd0c1699ba850e7df21e504?s=128&d=identicon&r=PG&f=1", "display_name": "RuDevel", "link": "https://stackoverflow.com/users/7394828/rudevel"}, "is_accepted": true, "score": 7, "last_activity_date": 1487804873, "last_edit_date": 1487804873, "creation_date": 1487798196, "answer_id": 42402441, "question_id": 42402303, "link": "https://stackoverflow.com/questions/42402303/opencv-determine-area-of-intersect-overlap/42402441#42402441", "title": "OpenCV determine area of intersect/overlap", "body": "<p>How about creating a mask/binary image of both and use logical AND?</p>\n\n<p>You could also translate a gray valued copy of each of your images (image content all ones) to a fresh copy of the destination (initialized with zeros) for each.</p>\n\n<p>Then you add all of those destination images up.\nAreas with <code>0</code> would then be uncovered, <code>1</code> covered and <code>2 to n</code> would mean covered by <code>2 to n</code> images.</p>\n\n<p>This is very easy and efficient when using numpy's broadcasting tools.</p>\n\n<pre><code>import cv2\nimport numpy as np\n\n#our target area (the black background)\ndst = np.zeros((100,100),dtype=np.int)\nsrc1 = dst.copy() \nsrc2 = dst.copy()\nsrc1[50:,50:] = 1 #fake of first translated image (row/col 50-end)\nsrc2[:70,:70] = 1 #fake of second translated image (row/col 0-70)\n\noverlap = src1+src2 #sum of both *element-wise*\n\ncv2.imwrite('a.png', src1*255) #opencv likes it's grey images span from 0-255\ncv2.imwrite('b.png', src2*255) #...\ncv2.imwrite('c.png', overlap*127) #here vals 0-2, *127 gives (almost) 255 again\n\nnp.where(overlap==2) #gives you a mask with all pixels that have value 2\n</code></pre>\n\n<p><strong>src2 (b)</strong>\n<a href=\"https://i.stack.imgur.com/zJFBE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zJFBE.png\" alt=\"enter image description here\"></a>\n<strong><code>+</code> src1 (a)</strong>\n<a href=\"https://i.stack.imgur.com/jcC4F.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jcC4F.png\" alt=\"enter image description here\"></a>\n<strong><code>=</code> overlap (c)</strong>\n<a href=\"https://i.stack.imgur.com/1Y0KH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1Y0KH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 702, "user_id": 5956151, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36cbd9873a8a5ca327f20f95974e5f75?s=128&d=identicon&r=PG&f=1", "display_name": "C.Radford", "link": "https://stackoverflow.com/users/5956151/c-radford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10621, "favorite_count": 4, "accepted_answer_id": 42402441, "answer_count": 1, "score": 8, "last_activity_date": 1487804873, "creation_date": 1487797655, "question_id": 42402303, "link": "https://stackoverflow.com/questions/42402303/opencv-determine-area-of-intersect-overlap", "title": "OpenCV determine area of intersect/overlap", "body": "<p>I am creating a stitching program using OpenCV and python and currently am stitching the images well and am now trying to blend them together. The ultimate goal will be to use a graph cut to better stitch them but for now I am just overlapping the images based on their found homography. </p>\n\n<p>Here is a photo of my current result when stitching two images.\n<a href=\"https://i.stack.imgur.com/snq4h.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/snq4h.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>My goal is to determine the area of overlap and put it into a mask that I can apply to the top right image (that is the one on top in terms of layers) so I can blend it based on the distance using any of there blender opencv uses or another algorithm.</p>\n\n<p>Here is a visual of what I am looking for.\n<a href=\"https://i.stack.imgur.com/4bPPq.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4bPPq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "matplotlib", "matplotlib-basemap"], "comments": [{"owner": {"reputation": 2024, "user_id": 2005415, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35f51ec5260767c6e82ae50d07dcae7a?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/2005415/jason"}, "edited": false, "score": 0, "creation_date": 1528008106, "post_id": 42402179, "comment_id": 88337928, "body": "The polygons in a windowed basemap are closed and <code>contains_points()</code> works as expected."}], "owner": {"reputation": 177, "user_id": 1764258, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cnP6N.jpg?s=128&g=1", "display_name": "Sia", "link": "https://stackoverflow.com/users/1764258/sia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487797552, "creation_date": 1487797162, "last_edit_date": 1495542296, "question_id": 42402179, "link": "https://stackoverflow.com/questions/42402179/need-to-detect-maps-land-ocean-points-with-higher-accuracy-than-maskoceansgrid", "title": "Need to detect map&#39;s land/ocean points with higher accuracy than maskoceans(grid=1.25,resolution=&#39;f&#39;)", "body": "<p>I have a grid of points on the map and I want to detect which point is in land or ocean. I have tried to do this in 3 ways but non are satisfactory.</p>\n\n<ol>\n<li><p>Using <code>maskoceans</code>, a simple example is:</p>\n\n<pre><code>from mpl_toolkits.basemap import maskoceans\nimport numpy\n# my grid is given by lons and lats 1D arrays.\nArray = numpy.ma.zeros((lats.size,lons,size))\nLons,Lats = numpy.meshgrid(lons,lats)\nMaskedArray = maskoceans(Lons,Lats,Array,resolution='f',grid=1.25)\n</code></pre></li>\n</ol>\n\n<p>Now I have <code>MaskedArray</code> where locations on ocean are masked. This method is <em>really</em> fast compared to others, but <em>inaccurate</em> near the coast for small scales. In the following plot, red dots are identified as land, black points are identified as ocean. As you see even if I have used the <code>resolution='f'</code> (the full reslution) and smallest masked grid (<code>grid=1.25</code>) there are erounous points in ocean that are marked as land in red. It seems that the <code>f</code> resolution of <code>maskoceans</code> is not in the same order of the <code>f</code> resolution of <code>Basemap</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nmV5S.png\" rel=\"nofollow noreferrer\">Image of points detected with maskoceans</a></p>\n\n<ol start=\"2\">\n<li><p>Use <code>basemap.is_land()</code>. Example is:</p>\n\n<pre><code># Create a basemap object, this takes a while!\nMinLat = numpy.min(lats) - 0.01\nMinLon = numpy.min(lons) - 0.01\nMaxLat = numpy.max(lats) + 0.01\nMaxLon = numpy.max(lons) + 0.01\nMidLat = numpy.mean(lats)\nMidLon = numpy.mean(lons)\nfrom mpl_tookits.basemap import Basemap\nmap = Basemap(projection='aeqd',llcrnrlat=MinLat,llcrnrlon=MinLon,urcrnrlat=MaxLat,urcrnrlon=MaxLon,area_thresh=0.01,lon_0=MidLon,lat_0=MidLat,resolution='f')\nArray = numpy.zeros((lats.size,lons.size),dtype=bool)\nfor j in range(lats.size):\n    for i in range(lons.size):\n        x,y = map(lon[i],lat[j])\n        if map.is_land(x,y):\n            Array[j,i] = True\n</code></pre></li>\n</ol>\n\n<p>This is the most accurate method. As you see in the figure below, all points are detected correctly. The big issue with <code>is_land()</code> is that it is <em>very slow</em>. For large grids this method takes minutes (in order of an hour for very large grids), which <code>maskoceans</code> take less than a second.</p>\n\n<p><a href=\"https://i.stack.imgur.com/T63Z2.png\" rel=\"nofollow noreferrer\">Image of points detected with Basemap.is_land</a></p>\n\n<ol start=\"3\">\n<li><p>Using <code>Polygon.contains_point</code>. See an example <a href=\"https://stackoverflow.com/a/13811775/1764258\">here</a>. This does not work for me, since the polygons of the coastlines should be <em>closed</em> in order to use <code>conians_point</code>. Hence the <code>map</code> object should be defined on the the full globe with</p>\n\n<pre><code> map = Basemap(projection='aeqd',lon_0=0,resolution='f')\n</code></pre></li>\n</ol>\n\n<p>If the map is defined on a window of lon and lat, the coastline polygon is not closed. But the loading the full map with the full resolution takes a very long time and memory, and detecting even one point takes forever.</p>\n\n<p>Is there an alternative method to identify land/ocean points on a given grid? It would prefer to use <code>maskoceans</code> if the resolution issue is fixed. It is possible to increase the resolution of <code>maskoceans()</code> up to the resolution of <code>Basemap</code>?</p>\n"}, {"tags": ["python", "r", "machine-learning", "scikit-learn"], "comments": [{"owner": {"reputation": 17690, "user_id": 3204250, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9bff153828ae0d1323d2aa5d6ab70ae?s=128&d=identicon&r=PG&f=1", "display_name": "cdeterman", "link": "https://stackoverflow.com/users/3204250/cdeterman"}, "edited": false, "score": 1, "creation_date": 1487797212, "post_id": 42402141, "comment_id": 71951254, "body": "I don&#39;t believe so, here is an example with sklearn <a href=\"http://scikit-learn.org/stable/auto_examples/linear_model/plot_ols.html#sphx-glr-auto-examples-linear-model-plot-ols-py\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 846, "user_id": 2551655, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98da58fe7b513d8b450a38598826aa31?s=128&d=identicon&r=PG", "display_name": "114", "link": "https://stackoverflow.com/users/2551655/114"}, "reply_to_user": {"reputation": 35644, "user_id": 4895725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4e5cb5b1f211efd656044dfb0174f7?s=128&d=identicon&r=PG&f=1", "display_name": "lmo", "link": "https://stackoverflow.com/users/4895725/lmo"}, "edited": false, "score": 0, "creation_date": 1487797284, "post_id": 42402141, "comment_id": 71951293, "body": "@lmo I tagged it with both as I figured there&#39;s likely to be overlap between R users and Scikit users."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487799281, "post_id": 42402141, "comment_id": 71952423, "body": "@114 what exactly are you working with? Can you give a toy example?"}, {"owner": {"reputation": 846, "user_id": 2551655, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98da58fe7b513d8b450a38598826aa31?s=128&d=identicon&r=PG", "display_name": "114", "link": "https://stackoverflow.com/users/2551655/114"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487799667, "post_id": 42402141, "comment_id": 71952640, "body": "@juanpa.arrivillaga I don&#39;t actually have a data set that runs into the problem above right now but I could easily imagine a csv with 20000 rows and 200 features where inputting each variable name would be very tedious. I guess the way to do this in Python is to use pandas to get a list using something like <code>list(my_dataframe.columns.values)</code> and feeding that into the model somehow?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487799708, "post_id": 42402141, "comment_id": 71952658, "body": "NO. You use <code>my_dataframe.values</code> Sklearn usually expects some sort of <code>numpy</code> matrix. Again, give me an example of what you are doing, because  I&#39;ve used R and <code>sklearn</code> and i&#39;ve never really missed the &quot;formulas&quot; from R. I think <code>statsmodels. If you like formulas, for regression, you can use [</code>statsmodels`](<a href=\"http://statsmodels.sourceforge.net/0.6.0/examples/notebooks/generated/formulas.html\" rel=\"nofollow noreferrer\">statsmodels.sourceforge.net/0.6.0/examples/no&zwnj;&#8203;tebooks/generated/&hellip;</a>)"}, {"owner": {"reputation": 846, "user_id": 2551655, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98da58fe7b513d8b450a38598826aa31?s=128&d=identicon&r=PG", "display_name": "114", "link": "https://stackoverflow.com/users/2551655/114"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487799799, "post_id": 42402141, "comment_id": 71952701, "body": "@juanpa.arrivillaga My mistake. But so I guess my updated question would be, what&#39;s the best way to feed that list into a Scikit model as a list of dependent variables?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487799909, "post_id": 42402141, "comment_id": 71952760, "body": "@114 You don&#39;t feed sklearn models a list of dependent variables, you pass it some sort of matrix, usually. See my previous comment, though, if you really want to work with formulas. But in <code>sklearn</code> you usually have some <code>numpy</code> data structure, and <code>X</code>, and some sort of lable <code>y</code>, and you use <code>model.fit(X,y)</code> So give an example or else I&#39;m confused exactly about what you are referring to."}, {"owner": {"reputation": 846, "user_id": 2551655, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98da58fe7b513d8b450a38598826aa31?s=128&d=identicon&r=PG", "display_name": "114", "link": "https://stackoverflow.com/users/2551655/114"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1487800588, "post_id": 42402141, "comment_id": 71953083, "body": "@juanpa.arrivillaga I think that actually answers my question, I was approaching this the wrong way."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1487800994, "post_id": 42403066, "comment_id": 71953290, "body": "<code>statsmodels</code> supports <code>patsy</code> forumals natively... might be worth mentioning... <a href=\"http://statsmodels.sourceforge.net/0.6.0/examples/notebooks/generated/formulas.html\" rel=\"nofollow noreferrer\">statsmodels.sourceforge.net/0.6.0/examples/notebooks/generat&zwnj;&#8203;ed/&hellip;</a>"}], "tags": [], "owner": {"reputation": 17668, "user_id": 4706171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zWK2h.png?s=128&g=1", "display_name": "Sandipan Dey", "link": "https://stackoverflow.com/users/4706171/sandipan-dey"}, "is_accepted": true, "score": 0, "last_activity_date": 1487801093, "last_edit_date": 1487801093, "creation_date": 1487800693, "answer_id": 42403066, "question_id": 42402141, "link": "https://stackoverflow.com/questions/42402141/fit-model-to-all-variables-in-python-scikit-learn/42403066#42403066", "title": "Fit model to all variables in Python (Scikit Learn)", "body": "<p>We may try the following workaround (let's use <code>iris</code> dataset and the label <code>species</code> as numeric and fit a linear regression model to see how to use all the independent predictors both in <code>R</code> and <code>python sklearn</code>):</p>\n\n<p><strong>In R</strong></p>\n\n<pre><code>summary(lm(as.numeric(Species)~., iris))[c('coefficients', 'r.squared')]\n\n$coefficients\n                Estimate Std. Error   t value     Pr(&gt;|t|)\n(Intercept)   1.18649525 0.20484104  5.792273 4.150495e-08\nSepal.Length -0.11190585 0.05764674 -1.941235 5.416918e-02\nSepal.Width  -0.04007949 0.05968881 -0.671474 5.029869e-01\nPetal.Length  0.22864503 0.05685036  4.021874 9.255215e-05\nPetal.Width   0.60925205 0.09445750  6.450013 1.564180e-09\n\n$r.squared\n[1] 0.9303939\n</code></pre>\n\n<p><strong>In Python (sklearn with pasty)</strong></p>\n\n<pre><code>from sklearn.datasets import load_iris\nimport pandas as pd\nfrom patsy import dmatrices\n\niris = load_iris()\nnames = [f_name.replace(\" \", \"_\").strip(\"_(cm)\") for f_name in iris.feature_names]\niris_df = pd.DataFrame(iris.data, columns=names)\niris_df['species'] = iris.target\n\n# pasty does not support '.' at least in windows python 2.7, so here is the workaround \ny, X = dmatrices('species ~ ' + '+'.join(iris_df.columns - ['species']),\n                  iris_df, return_type=\"dataframe\")\n\nfrom sklearn.linear_model import LinearRegression\nmodel = LinearRegression()\nmodel.fit(X, y)\n\nprint model.score(X,y)\n# 0.930422367533\n\nprint model.intercept_, model.coef_\n# [ 0.19208399] [[0.22700138  0.60989412 -0.10974146 -0.04424045]]\n</code></pre>\n\n<p>As we can see the models learnt in <code>R</code> and <code>Python</code> with <code>pasty</code> are similar (the order of the coefficients are different).</p>\n"}, {"tags": [], "owner": {"reputation": 922, "user_id": 5541673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e52518ec3aeff56819a1c264792904f?s=128&d=identicon&r=PG&f=1", "display_name": "JARS", "link": "https://stackoverflow.com/users/5541673/jars"}, "is_accepted": false, "score": 1, "last_activity_date": 1487853420, "creation_date": 1487853420, "answer_id": 42415967, "question_id": 42402141, "link": "https://stackoverflow.com/questions/42402141/fit-model-to-all-variables-in-python-scikit-learn/42415967#42415967", "title": "Fit model to all variables in Python (Scikit Learn)", "body": "<blockquote>\n  <p>is there a way in Scikit Learn to include all variables or all variables minus some specified number?</p>\n</blockquote>\n\n<p>Yes, with sklearn + pandas, to fit using all variables except one, and use that one as the label, you can do simply</p>\n\n<pre><code>model.fit(df.drop('y', axis=1), df['y'])\n</code></pre>\n\n<p>And this would work for most <code>sklearn</code> models.</p>\n\n<p>This would be the <code>pandas</code>+<code>sklearn</code> equivalent of R's <code>~</code>and <code>-</code> notation, if not using <code>pasty</code>. </p>\n\n<p>To exclude multiple variables, you can do </p>\n\n<pre><code>df.drop(['v1', 'v2'], axis=1)\n</code></pre>\n"}], "owner": {"reputation": 846, "user_id": 2551655, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/98da58fe7b513d8b450a38598826aa31?s=128&d=identicon&r=PG", "display_name": "114", "link": "https://stackoverflow.com/users/2551655/114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1983, "favorite_count": 0, "accepted_answer_id": 42403066, "answer_count": 2, "score": 4, "last_activity_date": 1487853420, "creation_date": 1487797028, "last_edit_date": 1487801159, "question_id": 42402141, "link": "https://stackoverflow.com/questions/42402141/fit-model-to-all-variables-in-python-scikit-learn", "title": "Fit model to all variables in Python (Scikit Learn)", "body": "<p>This was asked about a different package elsewhere, but is there a way in Scikit Learn to include all variables or all variables minus some specified number like in R? </p>\n\n<p>To give an example of what I mean, say I have a regression y = x1 + x2 + x3 + x4. In R I can evaluate this regression by running:</p>\n\n<pre><code>result = lm(y ~ ., data=DF)\nsummary(result)\n</code></pre>\n\n<p>I would have to imagine there's a similar way to condense formulas in Python since writing out all the variables for larger data sets would be kind of silly.</p>\n"}, {"tags": ["javascript", "python"], "answers": [{"tags": [], "owner": {"reputation": 1412, "user_id": 4824627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c43ce1a15309bda1658eda7117a2f7c3?s=128&d=identicon&r=PG", "display_name": "Matheus Avellar", "link": "https://stackoverflow.com/users/4824627/matheus-avellar"}, "is_accepted": false, "score": 0, "last_activity_date": 1487797793, "creation_date": 1487797793, "answer_id": 42402332, "question_id": 42402134, "link": "https://stackoverflow.com/questions/42402134/changing-images-with-a-button/42402332#42402332", "title": "Changing images with a button", "body": "<p>Here's a JavaScript code derived from yours:</p>\n\n<pre><code>var images = [ \"i1.gif\", \"i2.gif\", \"i3.gif\", \"i4.gif\" ];\nvar position = 0;\n\nfunction changeImage() {\n    position = position + 1;  // or position++; or position += 1;\n\n    // Array indexes are counted starting from 0.\n    // That means 'position' can only go up to 3\n    // in a length 4 array.\n    if (position &gt;= images.length) {\n        position = 0;\n    }\n\n    // This doesn't actually display the images,\n    // it just prints out their names.\n    console.log(images[position]);\n}\n</code></pre>\n\n<p>I removed the for loop because it would run from start to finish, and would only ever return you the last image of the array. Also, as I commented on the code, a <code>print</code> (or in this case, <code>console.log</code>) won't actually display the image, it will just return its name (<code>\"i1.gif\"</code>, <code>\"i2.gif\"</code>, etc).</p>\n"}, {"tags": [], "owner": {"reputation": 8268, "user_id": 7602518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddcddc4afafdfc5603b2473b191c74f?s=128&d=identicon&r=PG", "display_name": "Pedro Castilho", "link": "https://stackoverflow.com/users/7602518/pedro-castilho"}, "is_accepted": false, "score": 0, "last_activity_date": 1487804517, "last_edit_date": 1487804517, "creation_date": 1487803806, "answer_id": 42403788, "question_id": 42402134, "link": "https://stackoverflow.com/questions/42402134/changing-images-with-a-button/42403788#42403788", "title": "Changing images with a button", "body": "<p>First off, there is no equivalent for Python's ranges in JavaScript as far as I know of. Instead, you can iterate over the image array. The idea is the same as</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for x in array:\n  do_something(x)\n</code></pre>\n\n<p>The thing is... This is a <em>little bit</em> more cumbersome in JavaScript than in Python. </p>\n\n<p>You see, in JavaScript arrays are actually <em>objects</em>. But a JavaScript object isn't the same as a Python object. JavaScript objects are actually quite similar to Python <em>dictionaries</em>. They store a key-value pair association. An array is just an object whose keys are <code>0, 1, 2...</code>. It also has a few magical fields so that the JavaScript VM knows how to treat it efficiently.</p>\n\n<p>Now, why is this important? Well, the thing is that, in a quite bad (in my opinion) design decision, instead of the <code>for ... in</code> operator in JavaScript working the same as in Python, it actually iterates over object <em>keys</em>, and not object <em>values</em>!</p>\n\n<p>So you actually need to do this to iterate over an object's values:</p>\n\n<pre><code>for(var x in array) {\n  do_something(array[x]);\n}\n</code></pre>\n\n<p>So a complete solution for what you are trying to do would be:</p>\n\n<pre><code>var images = [ \"i1.gif\", \"i2.gif\", \"i3.gif\", \"i4.gif\" ];\nvar position = 0;\n\nfunction changeImage() {\n  for(var position in images) {\n    console.log(images[position]);\n  }\n}\n</code></pre>\n\n<p>Now, this will obviously only print the name of each image, but by replacing <code>console.log</code> with any other function you can iterate over your images doing anything with them.</p>\n\n<p>The whole <code>for ... in</code> loop is a bit cumbersome to use, so ES6 (the latest stable revision of JavaScript) added the <code>for ... of</code> loop, which works exactly like Python's <code>for ... in</code>. For example, you could rewrite the <code>changeImage()</code> function as:</p>\n\n<pre><code>function changeImage() { \n  for(const img of images) {\n    console.log(img);\n  }\n}\n</code></pre>\n\n<p>But you seem to be trying to make this work in a browser, and <a href=\"https://babeljs.io/\" rel=\"nofollow noreferrer\">getting ES6 to work consistently in a browser requires compiling</a>, so I would stick to <code>for ... in</code> loops for now, even if they are more annoying to work with.</p>\n\n<p>Good luck!</p>\n\n<p>EDIT: Right after finishing answering, I remembered one other thing:</p>\n\n<p>In JavaScript, the <code>for ... in</code> loop is <em>not guaranteed</em> to go over the array keys <em>in key order</em>. So if processing the images in a specific order is important to you, you should instead use:</p>\n\n<pre><code>function changeImages() {\n  images.forEach(function(image) {\n    console.log(image);\n  }\n}\n</code></pre>\n\n<p>This uses the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">Array.prototype.forEach()</a> method, which <em>is</em> guaranteed to traverse array keys in numeric order.</p>\n"}], "owner": {"reputation": 1, "user_id": 7370088, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BEbY9mwVh_Y/AAAAAAAAAAI/AAAAAAAAAD0/Bzee52Fpigs/photo.jpg?sz=128", "display_name": "Gareth", "link": "https://stackoverflow.com/users/7370088/gareth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487804517, "creation_date": 1487797017, "last_edit_date": 1487797266, "question_id": 42402134, "link": "https://stackoverflow.com/questions/42402134/changing-images-with-a-button", "title": "Changing images with a button", "body": "<p>I would like to know how to change between 4 images in JavaScript. I have come from Python, and I would like to find a short solution. I'm using code that would be used in Python, but I want a JavaScript code with the same principle. Made and array, and when the button is clicked, if it is on one, display the next image in the array.</p>\n\n<p>This is the structure so far:</p>\n\n<pre><code>&lt;script&gt;   \n    var images = [\"i1.gif\",\"i2.gif\",\"i3.gif\",\"i4.gif\"]\n    position=0;\n\n    function changeImage() {\n        for position in range(4):\n            if position==4:\n                position=0\n            print(images[position])\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>This is the command called when the button is clicked, but I'm not sure not to trigger it. Any help with an explanation will be greatly appreciated, thanks!    </p>\n"}, {"tags": ["python", "pip", "jython", "robotframework"], "answers": [{"tags": [], "owner": {"reputation": 6256, "user_id": 6152737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33da1278c7af36224a140b18695ade6d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Kootstra", "link": "https://stackoverflow.com/users/6152737/a-kootstra"}, "is_accepted": true, "score": 0, "last_activity_date": 1487918828, "creation_date": 1487918828, "answer_id": 42432425, "question_id": 42402076, "link": "https://stackoverflow.com/questions/42402076/not-able-to-install-pip-install-robotframework-on-jython-2-7-0-and-2-7-1b3-getti/42432425#42432425", "title": "not able to install pip install robotframework on jython 2.7.0 and 2.7.1b3.Getting error as &quot;jython.exe: No module named pip.&quot;", "body": "<p>In Jython PIP is not a module you install separately, but an already included executable in c:\\Jython\\bin\\pip.exe.</p>\n"}, {"tags": [], "owner": {"reputation": 2206, "user_id": 5889853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YchtutzLM8c/AAAAAAAAAAI/AAAAAAAAAG0/CWPL0ucZfOc/photo.jpg?sz=128", "display_name": "Helio", "link": "https://stackoverflow.com/users/5889853/helio"}, "is_accepted": false, "score": 2, "last_activity_date": 1487986070, "creation_date": 1487986070, "answer_id": 42450887, "question_id": 42402076, "link": "https://stackoverflow.com/questions/42402076/not-able-to-install-pip-install-robotframework-on-jython-2-7-0-and-2-7-1b3-getti/42450887#42450887", "title": "not able to install pip install robotframework on jython 2.7.0 and 2.7.1b3.Getting error as &quot;jython.exe: No module named pip.&quot;", "body": "<p>You could try (and then use pip with jython):</p>\n\n<pre><code>jython -m ensurepip\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7607333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8806ea46ba1013704b1037c412b870b7?s=128&d=identicon&r=PG&f=1", "display_name": "Muddesir", "link": "https://stackoverflow.com/users/7607333/muddesir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 42432425, "answer_count": 2, "score": 2, "last_activity_date": 1487986070, "creation_date": 1487796832, "question_id": 42402076, "link": "https://stackoverflow.com/questions/42402076/not-able-to-install-pip-install-robotframework-on-jython-2-7-0-and-2-7-1b3-getti", "title": "not able to install pip install robotframework on jython 2.7.0 and 2.7.1b3.Getting error as &quot;jython.exe: No module named pip.&quot;", "body": "<p>Could any please tell me which Jython package you are using where you are getting all the pip package too.\nOr could anyone please share me the folder location.\nBecause whatever version of Jython I am using getting an error while running the command : \u201cjython \u2013m pip install robotframework\u201d \n    Error: Jython.exe: No module named pip.</p>\n\n<p>N.B: I have both Jython 2.7.0  and jython-installer-2.7.1b3.</p>\n"}, {"tags": ["python", "root-framework", "pyroot"], "comments": [{"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487797436, "post_id": 42401998, "comment_id": 71951379, "body": "Does <code>print(tfile.ls())</code> after you initialize the tfile show that <code>MuIndNeuSpallPlugin</code> is a key?  <code>Get()</code> returns None if the key is not valid"}, {"owner": {"reputation": 3, "user_id": 7607207, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154625614133449/picture?type=large", "display_name": "Mage Davee", "link": "https://stackoverflow.com/users/7607207/mage-davee"}, "reply_to_user": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487800063, "post_id": 42401998, "comment_id": 71952819, "body": "So MuIndNeuSpallPlugin is definitely a key. In fact the my original code didn&#39;t use a function works fine. It&#39;s like when python leaves the scope of the function it just forgets what plugin is, and returns a NoneType instead."}, {"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487800676, "post_id": 42401998, "comment_id": 71953119, "body": "Do you by chance have that original code you could add to the question for comparison?  If not, could you run <code>tfile.ls()</code> just for kicks and giggles and see what it spits out?  Everything else seems to be in order that I can see, besides not using the variables <code>fName</code> and <code>pName</code>."}, {"owner": {"reputation": 3, "user_id": 7607207, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154625614133449/picture?type=large", "display_name": "Mage Davee", "link": "https://stackoverflow.com/users/7607207/mage-davee"}, "reply_to_user": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487806445, "post_id": 42401998, "comment_id": 71955456, "body": "So on my post on root talk a poster explained why this happening(also a more complete version of my code is posted there which addresses your concerns.).<a href=\"https://root.cern.ch/phpBB3/posting.php?mode=reply&amp;f=14&amp;t=23242\" rel=\"nofollow noreferrer\">root.cern.ch/phpBB3/posting.php?mode=reply&amp;f=14&amp;t&zwnj;&#8203;=23242</a> . But basically tfile is defined in the function, and when it descopes c++ deletes tfile, which contains my plugin TDirectoryFile. So basically pyroot breaks python.  Also I didn&#39;t notice I didn&#39;t reinsert pName in fName back in, my bad. I replaced them to debug."}, {"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487806674, "post_id": 42401998, "comment_id": 71955551, "body": "Looks like I have to have a login to read that post, but that&#39;s okay.  So did they help you fix your code?  Or is it still broken?"}, {"owner": {"reputation": 3, "user_id": 7607207, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154625614133449/picture?type=large", "display_name": "Mage Davee", "link": "https://stackoverflow.com/users/7607207/mage-davee"}, "reply_to_user": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "edited": false, "score": 0, "creation_date": 1487807331, "post_id": 42401998, "comment_id": 71955809, "body": "Sorry wrong link((<a href=\"https://root.cern.ch/phpBB3/viewtopic.php?f=14&amp;t=23242\" rel=\"nofollow noreferrer\">root.cern.ch/phpBB3/viewtopic.php?f=14&amp;t=23242</a>)) this one should be public. I found a work around, but basically pyroot breaks python a bit."}], "answers": [{"comments": [{"owner": {"reputation": 4837, "user_id": 6791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64abd0ee599a9f701add1abe4e2d6124?s=128&d=identicon&r=PG&f=1", "display_name": "cco", "link": "https://stackoverflow.com/users/6791802/cco"}, "edited": false, "score": 0, "creation_date": 1487814513, "post_id": 42404470, "comment_id": 71958041, "body": "Why define <code>getPluginData</code> at all?  Why not just use <code>MuIndNeuSpallPlugin=tfile.Get(&quot;MuIndNeuSpallPlugin&quot;)</code>?  That seems simpler to me."}, {"owner": {"reputation": 3, "user_id": 7607207, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154625614133449/picture?type=large", "display_name": "Mage Davee", "link": "https://stackoverflow.com/users/7607207/mage-davee"}, "reply_to_user": {"reputation": 4837, "user_id": 6791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64abd0ee599a9f701add1abe4e2d6124?s=128&d=identicon&r=PG&f=1", "display_name": "cco", "link": "https://stackoverflow.com/users/6791802/cco"}, "edited": false, "score": 0, "creation_date": 1487955592, "post_id": 42404470, "comment_id": 72032152, "body": "Because I have a lot root files,  and each root file has many plugins, I only posted strip down version of code for readability."}], "tags": [], "owner": {"reputation": 3, "user_id": 7607207, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154625614133449/picture?type=large", "display_name": "Mage Davee", "link": "https://stackoverflow.com/users/7607207/mage-davee"}, "is_accepted": false, "score": 0, "last_activity_date": 1487807205, "creation_date": 1487807205, "answer_id": 42404470, "question_id": 42401998, "link": "https://stackoverflow.com/questions/42401998/python-not-return-noneobject-when-it-should-be-returning-tdirectoryfile-root-ob/42404470#42404470", "title": "python not return Noneobject, when it should be returning TDirectoryFile root object", "body": "<p>So on my post on root talk(<a href=\"https://root.cern.ch/phpBB3/viewtopic.php?f=14&amp;t=23242)a\" rel=\"nofollow noreferrer\">https://root.cern.ch/phpBB3/viewtopic.php?f=14&amp;t=23242)a</a> poster explained why this happens. Basically tfile is defined in the function and when the function descopes, its usage count is reduced to 0 and its c++ version is deleted. The plugin, which is TDirectoryFile, is contained in the tfile, so when tfile gets deleted it goes with it. The solution is define tfile in global scope, pass it instead of a string of it's file name.</p>\n\n<p>ROOT import *</p>\n\n<pre><code>def getPluginData(tfile,pName):\n    plugin= tfile.Get(pName)\n    print type(MuIndNeuSpallPlugin)\n    return plugin\ntfile=TFile(\"Analyzer.root\")\nMuIndNeuSpallPlugin=getPluginData(tfile,\"MuIndNeuSpallPlugin\")\n</code></pre>\n\n<p>This works, but I feel this counter intuitive or at least not very pythonic, and kind of breaks python.</p>\n"}], "owner": {"reputation": 3, "user_id": 7607207, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154625614133449/picture?type=large", "display_name": "Mage Davee", "link": "https://stackoverflow.com/users/7607207/mage-davee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511445215, "creation_date": 1487796589, "last_edit_date": 1511445215, "question_id": 42401998, "link": "https://stackoverflow.com/questions/42401998/python-not-return-noneobject-when-it-should-be-returning-tdirectoryfile-root-ob", "title": "python not return Noneobject, when it should be returning TDirectoryFile root object", "body": "<p>So I am using pyroot to do data analysis. The analysis code chain runs different plugins on the data and outputs them to a root file, storing the output of each plugin in to their own TDirectoryFile within the root file. I wrote a function that takes the name of the root file and the name of the plugin and should return the plugins TDirectoryFile. However it returns instead a NoneType, and then crashes as soon I try to do anything with the object.</p>\n\n<pre><code>from ROOT import *\n\ndef getPluginData(fName,pName):\n    tfile=TFile(\"Analyzer.root\")\n    plugin= tfile.Get(\"MuIndNeuSpallPlugin\")\n    #outputs &lt;class 'ROOT.TDirectoryFile'&gt;\n    print type(MuIndNeuSpallPlugin)\n    return plugin\n\n\n#This should be a  &lt;class 'ROOTTDirectoryFile'.&gt;, but is a NoneType instead\nMuIndNeuSpallPlugin=getPluginData(\"Analyzer.root\",\"MuIndNeuSpallPlugin\")\n</code></pre>\n"}, {"tags": ["python", "html", "csv", "beautifulsoup"], "comments": [{"owner": {"reputation": 25, "user_id": 7607224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a1246c9f5cd92d54518c1b636fe03e9?s=128&d=identicon&r=PG&f=1", "display_name": "katerinaD", "link": "https://stackoverflow.com/users/7607224/katerinad"}, "edited": false, "score": 0, "creation_date": 1487796708, "post_id": 42401994, "comment_id": 71950933, "body": "I wondering what the unique value that separates one file from another should be?"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487797311, "post_id": 42401994, "comment_id": 71951306, "body": "Clarification, please: Give us the URL you want to read from and describe the tables you want to obtain from that URL."}, {"owner": {"reputation": 25, "user_id": 7607224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a1246c9f5cd92d54518c1b636fe03e9?s=128&d=identicon&r=PG&f=1", "display_name": "katerinaD", "link": "https://stackoverflow.com/users/7607224/katerinad"}, "reply_to_user": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487798320, "post_id": 42401994, "comment_id": 71951880, "body": "The tables are volume counts, per hour (or 15&#39;) of a day. The url is <a href=\"http://mhd.ms2soft.com/tcds/tsearch.asp?loc=Mhd&amp;mod=\" rel=\"nofollow noreferrer\">mhd.ms2soft.com/tcds/tsearch.asp?loc=Mhd&amp;mod=</a>"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487799508, "post_id": 42401994, "comment_id": 71952541, "body": "How do you make the page give you the individual tables?"}, {"owner": {"reputation": 25, "user_id": 7607224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a1246c9f5cd92d54518c1b636fe03e9?s=128&d=identicon&r=PG&f=1", "display_name": "katerinaD", "link": "https://stackoverflow.com/users/7607224/katerinad"}, "reply_to_user": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487819224, "post_id": 42401994, "comment_id": 71959329, "body": "I did not write a script for it, I get the tables ready. But I know that the script used the id (=1569.....) you can see in this line of the html file: &lt;form method=&quot;post&quot; action=&quot;rpt_volume_count.aspx?a=96&amp;amp;id=156981555&amp;amp;part&zwnj;&#8203;ial=&quot; id=&quot;form1&quot;&gt; &lt;div class=&quot;aspNetHidden&quot;&gt;"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487864653, "post_id": 42401994, "comment_id": 71985826, "body": "Do you mean that you want to open that page every 15 minutes and then capture the contents of the table whose title is &#39;Station Data&#39;? I&#39;m asking because I haven&#39;t been able to get the HTML source code for the page easily."}], "owner": {"reputation": 25, "user_id": 7607224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a1246c9f5cd92d54518c1b636fe03e9?s=128&d=identicon&r=PG&f=1", "display_name": "katerinaD", "link": "https://stackoverflow.com/users/7607224/katerinad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487796583, "creation_date": 1487796583, "question_id": 42401994, "link": "https://stackoverflow.com/questions/42401994/html-to-csv-what-does-it-work-for-files-from-the-same-address", "title": "&quot;html to csv: what does it work for files from the same address?&quot;", "body": "<p>I am trying to convert HTML files to CSV. I have seen several posts on the page but I cannot successfully use them. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n&lt;head&gt;&lt;title&gt;\r\n\tExcel Volume Count Export\r\n&lt;/title&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form method=\"post\" action=\"rpt_volume_count.aspx?a=96&amp;amp;id=156981555&amp;amp;partial=\" id=\"form1\"&gt;\r\n&lt;div class=\"aspNetHidden\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>url = \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"\nhtml = urlopen(url).read()\nsoup = BeautifulSoup(html, \"lxml\")\ntable = soup.select_one(\"table.rpt\")\n</code></pre>\n\n<p>This is one of the suggested codes, but in my case that I have thousands of files from the same address, naming as url the \"http:...etc\" path will not work of all the files since it is the same. I was wondering what that unique value that separates on </p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1487797647, "post_id": 42401974, "comment_id": 71951493, "body": "You&#39;re printing both above the if-block, what&#39;s in them; is it always failing the conditional or something? Your question is unclear."}, {"owner": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1487797682, "post_id": 42401974, "comment_id": 71951515, "body": "What is <code>foodtypesmain</code>? It looks like when you say &quot;type&quot; you don&#39;t mean it in the same sense that <a href=\"https://docs.python.org/3/library/stdtypes.html\" rel=\"nofollow noreferrer\">Python does</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1518, "user_id": 4426017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bd19e224cb209fdff9679db95d16e92?s=128&d=identicon&r=PG&f=1", "display_name": "user4426017", "link": "https://stackoverflow.com/users/4426017/user4426017"}, "is_accepted": true, "score": -1, "last_activity_date": 1487798779, "last_edit_date": 1487798779, "creation_date": 1487797930, "answer_id": 42402379, "question_id": 42401974, "link": "https://stackoverflow.com/questions/42401974/how-compare-type-in-template-django/42402379#42402379", "title": "how compare type in template django", "body": "<p>It seems that <code>type.id</code> is an <em>int</em> whereas <code>type_id</code> may be a string. You may want to either convert the <em>int</em> into a <em>str</em> by using the <code>slugify</code> filter or convert <em>str</em> into an int by using the <code>|add:\"0\"</code>. Below are the complete versions:</p>\n\n<pre><code>{% if type.id|slugify == type_id %}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>{% if type.id == type_id|add:\"0\" %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 1015085, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/9ptQT.jpg?s=128&g=1", "display_name": "\u0421\u0435\u0440\u0433\u0435\u0439 \u041f\u043e\u0442\u0430\u043f\u043e\u0432", "link": "https://stackoverflow.com/users/1015085/%d0%a1%d0%b5%d1%80%d0%b3%d0%b5%d0%b9-%d0%9f%d0%be%d1%82%d0%b0%d0%bf%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1487798520, "creation_date": 1487798520, "answer_id": 42402514, "question_id": 42401974, "link": "https://stackoverflow.com/questions/42401974/how-compare-type-in-template-django/42402514#42402514", "title": "how compare type in template django", "body": "<p>problem was in types.... try check long with in int + html if was attr checked he is will checked your input ty for the all answers!</p>\n"}], "owner": {"reputation": 317, "user_id": 1015085, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/9ptQT.jpg?s=128&g=1", "display_name": "\u0421\u0435\u0440\u0433\u0435\u0439 \u041f\u043e\u0442\u0430\u043f\u043e\u0432", "link": "https://stackoverflow.com/users/1015085/%d0%a1%d0%b5%d1%80%d0%b3%d0%b5%d0%b9-%d0%9f%d0%be%d1%82%d0%b0%d0%bf%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 42402379, "answer_count": 2, "score": -2, "last_activity_date": 1487798779, "creation_date": 1487796541, "question_id": 42401974, "link": "https://stackoverflow.com/questions/42401974/how-compare-type-in-template-django", "title": "how compare type in template django", "body": "<p>Got code:</p>\n\n<pre><code>{% for type in foodtypesmain %}\n    {{ type_id }}\n    {{ type.id }}\n    {% if type.id == type_id %}\n         ...........\n    {% else %}\n        ...........\n    {% endif %}\n.........\n</code></pre>\n\n<p>answer in template:</p>\n\n<pre><code>1 1\n1 2\n1 3\n1 4\n</code></pre>\n\n<p>But! 1 not = 1 WTF?</p>\n\n<p>I think that problem in anoter types str and ind how i can compare type.id with type_id</p>\n"}, {"tags": ["python", "html", "csv", "chart.js"], "answers": [{"tags": [], "owner": {"reputation": 228, "user_id": 822269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d657ece0f9eb1858ec441d2f7fce48d9?s=128&d=identicon&r=PG", "display_name": "rhill", "link": "https://stackoverflow.com/users/822269/rhill"}, "is_accepted": true, "score": 0, "last_activity_date": 1487823381, "creation_date": 1487823381, "answer_id": 42406929, "question_id": 42401963, "link": "https://stackoverflow.com/questions/42401963/diplay-multiple-chart-js-diagrams-on-one-page/42406929#42406929", "title": "Diplay multiple chart js Diagrams on one page", "body": "<p>Chart.js uses the HTML5 <code>&lt;canvas&gt;</code> element to contain the charts - as in the line.html sample:</p>\n\n<pre><code>&lt;body&gt;\n&lt;div style=\"width:75%;\"&gt;\n    &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I don't see a <code>&lt;canvas&gt;</code> element in your <code>&lt;body&gt;</code> code.\nThat element is then used in the JavaScript to create the chart element:</p>\n\n<pre><code>    window.onload = function() {\n    var ctx = document.getElementById(\"canvas\").getContext(\"2d\");\n    window.myLine = new Chart(ctx, config);\n};\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 7360831, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0c59129884ff090898a6cbdf00b2c5a7?s=128&d=identicon&r=PG&f=1", "display_name": "D.J.A.", "link": "https://stackoverflow.com/users/7360831/d-j-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 42406929, "answer_count": 1, "score": 0, "last_activity_date": 1487823381, "creation_date": 1487796499, "last_edit_date": 1487798825, "question_id": 42401963, "link": "https://stackoverflow.com/questions/42401963/diplay-multiple-chart-js-diagrams-on-one-page", "title": "Diplay multiple chart js Diagrams on one page", "body": "<p>My code is supposed to read out date from three csv Sheets. Next, I want to display the read values with chartjs  in a html file. But the created html file shows the charts overlayed and the titles not at all. Is someone able to tell me the mistake?\nThanks for your help!</p>\n\n<p>head: </p>\n\n<pre><code>   window.onload = function () {\n   var chartGarage = new CanvasJS.Chart(\"chartContainerGarage\",\n   {\n        axisX:{      \n            valueFormatString: \"H:m\" ,\n            labelAngle: -50\n        },\n        axisY:{\n            minimum: 40,\n            maximum: 95\n        },\n        data:[\n        {\n            type: \"line\",\n            dataPoints: [   \n    ''') \n\nr = 0\nfor row in csvDataGarage:\n    if r &lt; 30:\n        html.write('{ x: new Date('+ row[0] + '), y:' + row[2] + '},')\n    r += 1\n\nhtml.write('''\n                        ]\n        }\n            ]\n    });\n    chartGarage.render();\n    var chartWerkstatt = new CanvasJS.Chart(\"chartContainerWerkstatt\",\n   {\n        axisX:{      \n            valueFormatString: \"H:m\" ,\n            labelAngle: -50\n        },\n        axisY:{\n            minimum: 40,\n            maximum: 95\n        },\n        data:[\n        {\n            type: \"line\",\n            dataPoints: [   \n    ''') \n\nr = 0\nfor row in csvDataWerkstatt:\n    if r &lt; 30:\n        html.write('{ x: new Date('+ row[0] + '), y:' + row[2] + '},')\n    r += 1\n\nhtml.write('''\n                        ]\n        }\n            ]\n    });\n    chartWerkstatt.render();\n    var chartWaschhalle = new CanvasJS.Chart(\"chartContainerWaschhalle\",\n   {\n        axisX:{      \n            valueFormatString: \"H:m\" ,\n            labelAngle: -50\n        },\n        axisY:{\n            minimum: 40,\n            maximum: 95\n        },\n        data:[\n        {\n            type: \"line\",\n            dataPoints: [   \n    ''') \n\nr = 0\nfor row in csvDataWaschhalle:\n    if r &lt; 30:\n        html.write('{ x: new Date('+ row[0] + '), y:' + row[2] + '},')\n    r += 1\n\nhtml.write('''\n                        ]\n        }\n            ]\n    });\n    chartWaschhalle.render();\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>body:</p>\n\n<pre><code>&lt;section&gt;\n    &lt;div class=\"section-contentGarage\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"row text-center\"  id=\"headerTextGarage\"&gt;\n                &lt;h1&gt;Luftfeuchtigkeit&lt;/h1&gt;\n                &lt;h3&gt;Garage&lt;/h3&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div id=\"chartContainerGarage\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n    &lt;div class=\"section-contentWerkstatt\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"row text-center\"  id=\"headerTextWerkstatt\"&gt;\n                &lt;h3&gt;Werkstatt&lt;/h3&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div id=\"chartContainerWerkstatt\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n    &lt;div class=\"section-contentWaschhalle\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"row text-center\"  id=\"headerTextWaschhalle\"&gt;\n                 &lt;h3&gt;Garage&lt;/h3&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div id=\"chartContainerWaschhalle\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n\n\n\n &lt;footer&gt;\n    &lt;div class=\"container-fluid text-center\"&gt;\n        &lt;div class=\"row\"&gt;\n\n            &lt;div class=\"col-sm-4\"&gt;\n            Rindfleisch Reisen &lt;br&gt;\n            Zeughausgasse 3, 6020 Innsbruck&lt;br&gt;\n                info@rindfleisch.reisen&lt;br&gt;\n                +43512585966\n            &lt;/div&gt;\n            &lt;div class=\"col-sm-4\"&gt;\n                &lt;img class=\"img-responsive img-centered\" src=\"img/logo.png\" alt=\"\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-sm-4\"&gt;\n\n                Gewerberechtliche Gesch\u00e4ftsf\u00fchrung: Franz Rindfleisch&lt;br&gt;\n                Handelsrechtliche Gesch\u00e4ftsf\u00fchrung: Franz Rindfleisch&lt;br&gt;\n                Firmenbuchnummer: 141843&lt;br&gt;\n                Firmenbuchgericht: Landesgericht Innsbruck&lt;br&gt;\n                UID Nr.: ATU40307707&lt;br&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/footer&gt;\n\n&lt;script type=\"text/javascript\" src=\"js/calibration.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/statusanzeige.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/logfile.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/temperatur.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/luftfeuchtigkeit.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Could someone tell me what I should change? </p>\n"}, {"tags": ["python", "tweepy"], "comments": [{"owner": {"reputation": 440, "user_id": 7406574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-HCDi5HoXGR0/AAAAAAAAAAI/AAAAAAAAAPc/2zCs49q5XfI/photo.jpg?sz=128", "display_name": "Max Paymar", "link": "https://stackoverflow.com/users/7406574/max-paymar"}, "edited": false, "score": 0, "creation_date": 1487796694, "post_id": 42401931, "comment_id": 71950928, "body": "First of all, never share your private keys on the internet. Your authorization credentials are now compromised and you should regenerate your keys. As for your question, it&#39;s hard to know how to fix your problem since I don&#39;t know what the &#39;decoded&#39; object looks like. You should print the first item of decoded and stop your script. <code>print(decoded[0])</code> Inspect the object - is there an entities property?"}, {"owner": {"reputation": 1, "user_id": 7537523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb99bd35d1533e82b24b851c9386eb?s=128&d=identicon&r=PG&f=1", "display_name": "Blips-n-Chitz", "link": "https://stackoverflow.com/users/7537523/blips-n-chitz"}, "reply_to_user": {"reputation": 440, "user_id": 7406574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-HCDi5HoXGR0/AAAAAAAAAAI/AAAAAAAAAPc/2zCs49q5XfI/photo.jpg?sz=128", "display_name": "Max Paymar", "link": "https://stackoverflow.com/users/7406574/max-paymar"}, "edited": false, "score": 0, "creation_date": 1487804964, "post_id": 42401931, "comment_id": 71954877, "body": "Whoops! Didn&#39;t mean to do that. Thank you! What do you mean by what it looks like?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7537523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb99bd35d1533e82b24b851c9386eb?s=128&d=identicon&r=PG&f=1", "display_name": "Blips-n-Chitz", "link": "https://stackoverflow.com/users/7537523/blips-n-chitz"}, "edited": false, "score": 0, "creation_date": 1487819745, "post_id": 42406245, "comment_id": 71959444, "body": "Oh wow! Thank you so much. I didn&#39;t know moving that out of the class def would make such a difference."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 1, "user_id": 7537523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb99bd35d1533e82b24b851c9386eb?s=128&d=identicon&r=PG&f=1", "display_name": "Blips-n-Chitz", "link": "https://stackoverflow.com/users/7537523/blips-n-chitz"}, "edited": false, "score": 0, "creation_date": 1487819984, "post_id": 42406245, "comment_id": 71959522, "body": "Very welcome. Did you test it? I hope it helps. I only moved it out of the class def because I noticed it was getting reset to <code>1000</code> each time the class got instantiated. After that it seemed to count correctly :)"}, {"owner": {"reputation": 1, "user_id": 7537523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb99bd35d1533e82b24b851c9386eb?s=128&d=identicon&r=PG&f=1", "display_name": "Blips-n-Chitz", "link": "https://stackoverflow.com/users/7537523/blips-n-chitz"}, "edited": false, "score": 0, "creation_date": 1487820980, "post_id": 42406245, "comment_id": 71959809, "body": "It definitely gets 1000 now! I tried fiddling with that for so long trying to get it to work! You are awesome! Now I just have to figure out if these urls are fully extended."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 1, "user_id": 7537523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb99bd35d1533e82b24b851c9386eb?s=128&d=identicon&r=PG&f=1", "display_name": "Blips-n-Chitz", "link": "https://stackoverflow.com/users/7537523/blips-n-chitz"}, "edited": false, "score": 0, "creation_date": 1487821379, "post_id": 42406245, "comment_id": 71959914, "body": "Great, glad to hear it. They appear to be, and should be since you are using the <code>url[&quot;expanded_url&quot;]</code>"}, {"owner": {"reputation": 1, "user_id": 7537523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb99bd35d1533e82b24b851c9386eb?s=128&d=identicon&r=PG&f=1", "display_name": "Blips-n-Chitz", "link": "https://stackoverflow.com/users/7537523/blips-n-chitz"}, "edited": false, "score": 0, "creation_date": 1487822870, "post_id": 42406245, "comment_id": 71960277, "body": "Ahh. It is still only giving me shortened urls for some reason."}], "tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1487819172, "creation_date": 1487819172, "answer_id": 42406245, "question_id": 42401931, "link": "https://stackoverflow.com/questions/42401931/extract-1000-uris-from-twitter-using-tweepy-and-python/42406245#42406245", "title": "Extract 1000 URI&#39;s from Twitter using Tweepy and Python", "body": "<p>It seems like the API is hitting a rate limit, so one option is to include an Exception when it gets a <code>KeyError</code>, I then see <code>[u'limit']</code>. I added a count display to verify it does get to <code>1000</code>:</p>\n\n<pre><code>count = 1000 # moved outside of class definition to avoid getting reset\n\nclass StdOutListener(StreamListener):\n    def on_data(self, data):\n\n        decoded = json.loads(data)\n\n        global count # get the count\n        if count &lt;= 0:\n            import sys\n            sys.exit()\n        else:\n            try:\n                for url in decoded[\"entities\"][\"urls\"]:\n                    count -= 1\n                    print count,':', \"%s\" % url[\"expanded_url\"] + \"\\r\\n\\n\"\n\n            except KeyError:\n                print decoded.keys()\n\n    def on_error(self, status):\n        print status\n\n\nif __name__ == '__main__':\n\n    l = StdOutListener()\n    auth = OAuthHandler(consumer_key, consumer_secret)\n    auth.set_access_token(access_token, access_token_secret)\n    stream = Stream(auth, l)\n\n    stream.filter(track=['YouTube'])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7537523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb99bd35d1533e82b24b851c9386eb?s=128&d=identicon&r=PG&f=1", "display_name": "Blips-n-Chitz", "link": "https://stackoverflow.com/users/7537523/blips-n-chitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1059, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487819172, "creation_date": 1487796379, "question_id": 42401931, "link": "https://stackoverflow.com/questions/42401931/extract-1000-uris-from-twitter-using-tweepy-and-python", "title": "Extract 1000 URI&#39;s from Twitter using Tweepy and Python", "body": "<p>I am trying to extract 1000 unique, fully extended URI's from Twitter using Tweepy and Python. Specifically, I am interested in links that direct me outside of Twitter (so not back to other tweets/ retweets/ duplicates).</p>\n\n<p>The code I wrote keeps giving me a Key error for \"entities.\"</p>\n\n<p>It will give me a few urls before breaking; some are extended, some are not. I have no idea how to go about fixing this. </p>\n\n<p>Help me please!</p>\n\n<p>Note: I left my credentials out.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    # Import the necessary methods from different libraries\n      import tweepy\n      from tweepy.streaming import StreamListener\n      from tweepy import OAuthHandler\n      from tweepy import Stream\n      import json\n\n    # Variables that contains the user credentials to access Twitter API\n      access_token = \"enter token here\"\n      access_token_secret = \"enter token here\"\n      consumer_key = \"enter key here\"\n      consumer_secret = \"enter key here\"\n\n    # Accessing tweepy API\n    # api = tweepy.API(auth)\n\n    # This is a basic listener that just prints received tweets to stdout.\n    class StdOutListener(StreamListener):\n         def on_data(self, data):\n         # resource: http://code.runnable.com/Us9rrMiTWf9bAAW3/how-to-              stream-data-from-twitter-with-tweepy-for-python\n    # Twitter returns data in JSON format - we need to decode it first\n    decoded = json.loads(data)\n\n    # resource: http://socialmedia-class.org/twittertutorial.html\n    # Print each tweet in the stream to the screen\n    # Here we set it to stop after getting 1000 tweets.\n    # You don't have to set it to stop, but can continue running\n    # the Twitter API to collect data for days or even longer.\n    count = 1000\n\n    for url in decoded[\"entities\"][\"urls\"]:\n        count -= 1\n        print \"%s\" % url[\"expanded_url\"] + \"\\r\\n\\n\"\n        if count &lt;= 0:\n            break\n\ndef on_error(self, status):\n    print status\n\n\nif __name__ == '__main__':\n     # This handles Twitter authetification and the connection to Twitter     Streaming API\nl = StdOutListener()\nauth = OAuthHandler(consumer_key, consumer_secret)\nauth.set_access_token(access_token, access_token_secret)\nstream = Stream(auth, l)\n\n# This line filter Twitter Streams to capture data by the keyword: YouTube\nstream.filter(track=['YouTube'])\n</code></pre>\n"}, {"tags": ["python", "pip", "mechanize"], "comments": [{"owner": {"reputation": 727, "user_id": 6054940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6Glw.jpg?s=128&g=1", "display_name": "ocelot", "link": "https://stackoverflow.com/users/6054940/ocelot"}, "edited": false, "score": 0, "creation_date": 1487796311, "post_id": 42401866, "comment_id": 71950701, "body": "What version of python are you on? Mechanize only supports python 2.*"}, {"owner": {"reputation": 1747, "user_id": 4697430, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/383daa91372c846b7fb8991dcf4e638c?s=128&d=identicon&r=PG&f=1", "display_name": "wwl", "link": "https://stackoverflow.com/users/4697430/wwl"}, "reply_to_user": {"reputation": 727, "user_id": 6054940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6Glw.jpg?s=128&g=1", "display_name": "ocelot", "link": "https://stackoverflow.com/users/6054940/ocelot"}, "edited": false, "score": 0, "creation_date": 1487796527, "post_id": 42401866, "comment_id": 71950833, "body": "I didn&#39;t know that. I&#39;m on Python 3. Thanks for mentioning."}, {"owner": {"reputation": 727, "user_id": 6054940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6Glw.jpg?s=128&g=1", "display_name": "ocelot", "link": "https://stackoverflow.com/users/6054940/ocelot"}, "edited": false, "score": 1, "creation_date": 1487796587, "post_id": 42401866, "comment_id": 71950865, "body": "No worries :) <a href=\"https://www.reddit.com/r/Python/comments/3dvq25/are_there_any_better_alternatives_to_mechanize/\" rel=\"nofollow noreferrer\">Here&#39;s some alternatives</a>"}, {"owner": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "edited": false, "score": 0, "creation_date": 1487798024, "post_id": 42401866, "comment_id": 71951703, "body": "have you tried installing using <code>python -m pip install mechanize</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 861, "user_id": 2051397, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/kcr1R.png?s=128&g=1", "display_name": "Franklin", "link": "https://stackoverflow.com/users/2051397/franklin"}, "is_accepted": true, "score": 1, "last_activity_date": 1487796768, "last_edit_date": 1495540810, "creation_date": 1487796768, "answer_id": 42402057, "question_id": 42401866, "link": "https://stackoverflow.com/questions/42401866/installing-python-package/42402057#42402057", "title": "Installing python package", "body": "<p>Are you using Virtualenv?</p>\n\n<p>If so, make sure you are importing the global libraries to your virtualenv (<a href=\"https://virtualenv.pypa.io/en/stable/userguide/#removing-an-environment\" rel=\"nofollow noreferrer\">https://virtualenv.pypa.io/en/stable/userguide/#removing-an-environment</a>).</p>\n\n<p>If not, probably your Python version is not compatible. <a href=\"https://stackoverflow.com/a/24001585/2051397\">https://stackoverflow.com/a/24001585/2051397</a></p>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 1747, "user_id": 4697430, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/383daa91372c846b7fb8991dcf4e638c?s=128&d=identicon&r=PG&f=1", "display_name": "wwl", "link": "https://stackoverflow.com/users/4697430/wwl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 42402057, "answer_count": 1, "score": 0, "last_activity_date": 1487796768, "creation_date": 1487796150, "question_id": 42401866, "link": "https://stackoverflow.com/questions/42401866/installing-python-package", "title": "Installing python package", "body": "<p>I've already installed mechanize using <code>pip install mechanize</code>, such that when I enter it in the command prompt, the response is: <code>Requirement already satisfied: mechanize in c:\\users\\wwl\\anaconda3\\lib\\site-packages</code>.</p>\n\n<p>However, when I type <code>import mechanize</code> in the jupyter notebook, it gives an error:</p>\n\n<p><code>ImportError: No module named '_mechanize'</code>.</p>\n\n<p>Where have I gone wrong?</p>\n"}, {"tags": ["python", "amazon-web-services", "imagemagick", "aws-lambda", "moviepy"], "comments": [{"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1487799042, "post_id": 42401833, "comment_id": 71952315, "body": "Is lambda worth the effort? Lambda&#39;s goal is to be safe &amp; stable, but your business requirement seems to be hinting to you that this is not the right tool for the job. Perhaps a EC2 + SQS solution might prove to be less &quot;ugghhhh&quot; ;-)"}, {"owner": {"reputation": 1078, "user_id": 2560922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EVHyE.png?s=128&g=1", "display_name": "mbeacom", "link": "https://stackoverflow.com/users/2560922/mbeacom"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1492082368, "post_id": 42401833, "comment_id": 73842466, "body": "@emcconville Of course it&#39;s worth the effort.  You can host whole workloads in a serverless manner with Lambda... not just when you want something to be safe and stable.  - Bailey: Did moviepy ever work on Lambda for you? I can take a look sometime today."}, {"owner": {"reputation": 2573, "user_id": 1558958, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cf13c5c59fa2609b6728f02f2ff24a4?s=128&d=identicon&r=PG", "display_name": "Bailey Smith", "link": "https://stackoverflow.com/users/1558958/bailey-smith"}, "reply_to_user": {"reputation": 1078, "user_id": 2560922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EVHyE.png?s=128&g=1", "display_name": "mbeacom", "link": "https://stackoverflow.com/users/2560922/mbeacom"}, "edited": false, "score": 0, "creation_date": 1492139112, "post_id": 42401833, "comment_id": 73869629, "body": "@mbeacom I&#39;d love to have another set of eyes on the problem. I can get it to work with some elbow grease, but development and deployment is a pain. I&#39;ve created a lambda deployment package with all the dependencies I need, including ImageMagick, on an EC2 instance, and I&#39;m forgoing Chalice entirely. I put in a ticket with awslabs about the Chalice issue but I haven&#39;t heard back yet <a href=\"https://github.com/awslabs/chalice/issues/246\" rel=\"nofollow noreferrer\">github.com/awslabs/chalice/issues/246</a>. And I can&#39;t find much about the AWS/ImageMagick issue in general."}, {"owner": {"reputation": 1078, "user_id": 2560922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EVHyE.png?s=128&g=1", "display_name": "mbeacom", "link": "https://stackoverflow.com/users/2560922/mbeacom"}, "edited": false, "score": 0, "creation_date": 1492192140, "post_id": 42401833, "comment_id": 73892103, "body": "@BaileySmith Have you considered <a href=\"https://github.com/Miserlou/Zappa\" rel=\"nofollow noreferrer\">github.com/Miserlou/Zappa</a> ? AWS took a lot of inspiration from Zappa when they made Chalice...  Zappa is much further along in development and production-ready.  I&#39;d give that a shot."}, {"owner": {"reputation": 2573, "user_id": 1558958, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cf13c5c59fa2609b6728f02f2ff24a4?s=128&d=identicon&r=PG", "display_name": "Bailey Smith", "link": "https://stackoverflow.com/users/1558958/bailey-smith"}, "edited": false, "score": 0, "creation_date": 1492451527, "post_id": 42401833, "comment_id": 73968949, "body": "Thanks. I&#39;ll take a look :)"}], "owner": {"reputation": 2573, "user_id": 1558958, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cf13c5c59fa2609b6728f02f2ff24a4?s=128&d=identicon&r=PG", "display_name": "Bailey Smith", "link": "https://stackoverflow.com/users/1558958/bailey-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1246, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1487796043, "creation_date": 1487796043, "last_edit_date": 1495540455, "question_id": 42401833, "link": "https://stackoverflow.com/questions/42401833/aws-lambda-imagemagick-convert-not-authorized", "title": "AWS Lambda ImageMagick convert not authorized", "body": "<p>I'm using Moviepy to make captioned videos on the python Lambda. ImageMagick is a dependency of Moveipy and comes preinstalled on Lambda, which would be great; however, when I try to create a frame using moviepy.TextClip, I get the following error:</p>\n\n<pre><code>MoviePy Error: creation of None failed because of the following error:\n\nconvert: not authorized `@/tmp/tmpafOCVo.txt' @ error/constitute.c/ReadImage/454.\nconvert: no images defined `PNG32:/tmp/tmphhE8gT.png' @ error/convert.c/ConvertImageCommand/3046.\n\nThis error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or.that the path you specified is incorrect: IOError\n</code></pre>\n\n<p>I googled forever and it looks like the problem is fallout from <a href=\"https://alas.aws.amazon.com/ALAS-2016-699.html\" rel=\"nofollow noreferrer\">https://alas.aws.amazon.com/ALAS-2016-699.html</a>. \"This update contains an updated /etc/ImageMagick/policy.xml file that disables the EPHEMERAL, HTTPS, HTTP, URL, FTP, MVG, MSL, TEXT, and LABEL coders.\"</p>\n\n<p>It also says, \"if you experience any problems after the update, it may be necessary to manually adjust the policy.xml file to match your requirements.\" But I can't do that on Lambda. </p>\n\n<p>StackOverflow folks suggest repackaging lambda and uploading it to Lambda yourself (<a href=\"https://stackoverflow.com/questions/37046586/aws-lambda-not-working-along-with-the-gm-module\">AWS Lambda not working along with the gm module</a>), but a) that's so ugghhhh and b) I'm using Chalice for Lambda (<a href=\"https://github.com/awslabs/chalice\" rel=\"nofollow noreferrer\">https://github.com/awslabs/chalice</a>) and whenever I add ImageMagick to the vendor folder and try to deploy I get a broken pipe error from Botocore (\n<code>botocore.vendored.requests.exceptions.ConnectionError: ('Connection aborted.', error(32, 'Broken pipe'))</code>) and c) it's been over six months since this change was made has anything changed since then? </p>\n\n<p>Anyone got any other ideas?</p>\n"}, {"tags": ["python", "amazon-sns", "boto3"], "comments": [{"owner": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "reply_to_user": {"reputation": 15406, "user_id": 7303447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuQx7.jpg?s=128&g=1", "display_name": "franklinsijo", "link": "https://stackoverflow.com/users/7303447/franklinsijo"}, "edited": false, "score": 0, "creation_date": 1487799206, "post_id": 42401829, "comment_id": 71952394, "body": "Still it gives me the same result , it give me the hyperlink to the url ."}, {"owner": {"reputation": 15406, "user_id": 7303447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuQx7.jpg?s=128&g=1", "display_name": "franklinsijo", "link": "https://stackoverflow.com/users/7303447/franklinsijo"}, "edited": false, "score": 1, "creation_date": 1487800351, "post_id": 42401829, "comment_id": 71952964, "body": "Check this <a href=\"http://stackoverflow.com/questions/32241928/sending-html-content-in-aws-snssimple-notification-service-emails-notification\">Sending HTML content in AWS SNS</a>"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 1, "creation_date": 1487827197, "post_id": 42401829, "comment_id": 71961793, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32241928/sending-html-content-in-aws-snssimple-notification-service-emails-notification\">Sending html content in AWS SNS(Simple Notification Service) emails notifications</a>"}, {"owner": {"reputation": 236, "user_id": 3794324, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/333b5857362fa41f285cd3223c94b3fd?s=128&d=identicon&r=PG", "display_name": "SathiyaS", "link": "https://stackoverflow.com/users/3794324/sathiyas"}, "edited": false, "score": 1, "creation_date": 1490870832, "post_id": 42401829, "comment_id": 73310507, "body": "The above link does not provide a solution, rather a link that SNS doesn&#39;t provide this feature. Being able to provide a simple Html link in SNS is a reasonable feature one can expect."}], "owner": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2392, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1487797375, "creation_date": 1487796039, "last_edit_date": 1487797375, "question_id": 42401829, "link": "https://stackoverflow.com/questions/42401829/send-hyperlink-in-sns-publish-message-using-python", "title": "Send Hyperlink in SNS publish message using python", "body": "<p>I have a requirement to send the hyperlink to a url stored in a variable via sns using python . With my current code I am able to send the entire link but its not sending the hyperlink .Can anyone suggest solution on how can I send the hyperlink in email via sns .</p>\n\n<pre><code>s3Client=boto3.client('s3')\n    object=s3Client.generate_presigned_url('get_object',Params=    {'Bucket':'eds-illuminati-dev','Key': f})\n\n\nresponse = client.publish(\n    TargetArn='XXXXXX',\n    Subject=\"Mismatch in Fees Calculated\",\n   # Message=\"\"\"Click on the link to download the file\\n\"{0}\" \\n&gt;link\"\"\"     .format(object)\n     Message='&lt;a href={0}&gt;link&lt;/a&gt;' .format(object)\n    )\nprint(\"response={}\".format(response))\n</code></pre>\n"}, {"tags": ["python", "xml", "web-scraping", "scrapy"], "comments": [{"owner": {"reputation": 316, "user_id": 6732847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49713ba63b9a534c0ddf42509bf70681?s=128&d=identicon&r=PG&f=1", "display_name": "Eitan Seri-Levi", "link": "https://stackoverflow.com/users/6732847/eitan-seri-levi"}, "edited": false, "score": 0, "creation_date": 1487892495, "post_id": 42401824, "comment_id": 72001768, "body": "It would make more sense for you to do all of this in one spider. What is your reasoning for using two spiders?"}], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1487796208, "creation_date": 1487796208, "answer_id": 42401887, "question_id": 42401824, "link": "https://stackoverflow.com/questions/42401824/pass-scraped-urls-from-one-spider-to-another/42401887#42401887", "title": "Pass scraped URL&#39;s from one spider to another", "body": "<p>Write the URLs to a file as strings. Read them from the same file in the other spider.</p>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 5817539, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/z16mZ.png?s=128&g=1", "display_name": "maestromusica", "link": "https://stackoverflow.com/users/5817539/maestromusica"}, "edited": false, "score": 1, "creation_date": 1502268829, "post_id": 42402685, "comment_id": 78130684, "body": "for example, spider A might specialized to deal with a particular website structure and spider B might be generic/specialized to deal with a different website structure.  This answer doesn&#39;t answer the question at all."}, {"owner": {"reputation": 12943, "user_id": 4094231, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/da5d12e4b0c319022432a23fc5344831?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Ayub", "link": "https://stackoverflow.com/users/4094231/umair-ayub"}, "reply_to_user": {"reputation": 685, "user_id": 5817539, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/z16mZ.png?s=128&g=1", "display_name": "maestromusica", "link": "https://stackoverflow.com/users/5817539/maestromusica"}, "edited": false, "score": 0, "creation_date": 1502268896, "post_id": 42402685, "comment_id": 78130731, "body": "@maestromusica have simple if-else condition to determine the domain, and use different logic for each website"}], "tags": [], "owner": {"reputation": 12943, "user_id": 4094231, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/da5d12e4b0c319022432a23fc5344831?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Ayub", "link": "https://stackoverflow.com/users/4094231/umair-ayub"}, "is_accepted": false, "score": 0, "last_activity_date": 1502268870, "last_edit_date": 1502268870, "creation_date": 1487799168, "answer_id": 42402685, "question_id": 42401824, "link": "https://stackoverflow.com/questions/42401824/pass-scraped-urls-from-one-spider-to-another/42402685#42402685", "title": "Pass scraped URL&#39;s from one spider to another", "body": "<p>Why you want to use different spiders for such requirment?</p>\n\n<p>You can just have 1 spider and then instead of passing URL to another spider, just <code>yield</code> another <code>Request</code> in your <code>parse</code> method.</p>\n\n<pre><code>from scrapy.spiders import SitemapSpider\n\nclass Daily(SitemapSpider):\n    name = 'daily'\n    sitemap_urls = ['http://example.com/sitemap.xml']\n\n    def parse(self, response):\n\n        yield Request(url=\"URL here\", callback=callback_function)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 6397107, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sm_1kyw-jcU/AAAAAAAAAAI/AAAAAAAAG_A/KgSCe98KS1U/photo.jpg?sz=128", "display_name": "Alisher Gafurov", "link": "https://stackoverflow.com/users/6397107/alisher-gafurov"}, "is_accepted": false, "score": 1, "last_activity_date": 1487842874, "creation_date": 1487842874, "answer_id": 42411964, "question_id": 42401824, "link": "https://stackoverflow.com/questions/42401824/pass-scraped-urls-from-one-spider-to-another/42411964#42411964", "title": "Pass scraped URL&#39;s from one spider to another", "body": "<p>From first spider you can save url in some DB or send to some queue (Zerro, Rabbit MQ, Redis) for example via pipeline. </p>\n\n<p>Second spider can get the url with method - <a href=\"https://doc.scrapy.org/en/latest/topics/spiders.html#scrapy.spiders.Spider.start_requests\" rel=\"nofollow noreferrer\">start_requests</a></p>\n\n<pre><code>class MySpider(scrapy.Spider):\n    name = 'myspider'\n\n    def start_requests(self):\n        urls = my_db.orm.get('urls');\n        for url in urls:\n            yield scrapy.Request(url)\n</code></pre>\n\n<p>Or urls can be passed to spider from queue broker via <a href=\"https://doc.scrapy.org/en/latest/topics/commands.html#crawl\" rel=\"nofollow noreferrer\">cli</a> or <a href=\"https://doc.scrapy.org/en/latest/topics/practices.html\" rel=\"nofollow noreferrer\">API</a>. Or spider can be just launched from broker and launched spider get his url by start_requests.</p>\n\n<p>Really exists many ways how you can do it. The way depend of the criteria why you need to pass urls from one spider to other. </p>\n\n<p>You can check this projects: Scrapy-Cluster, Scrapy-Redis. May be its what you searching for.</p>\n"}], "owner": {"reputation": 415, "user_id": 5319281, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/22148896d125fa2c7357852622e2911d?s=128&d=identicon&r=PG&f=1", "display_name": "AppTest", "link": "https://stackoverflow.com/users/5319281/apptest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1201, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1502268870, "creation_date": 1487796018, "question_id": 42401824, "link": "https://stackoverflow.com/questions/42401824/pass-scraped-urls-from-one-spider-to-another", "title": "Pass scraped URL&#39;s from one spider to another", "body": "<p>How can I send the scraped URL's from one spider to the <code>start_urls</code> of another spider?</p>\n\n<p>Specifically, I want to run one spider which gets a list of URL's from an XML page. After the URL's have been retrieved I want them to by used by another spider for scraping.</p>\n\n<pre><code>from scrapy.spiders import SitemapSpider\n\nclass Daily(SitemapSpider):\n    name = 'daily'\n    sitemap_urls = ['http://example.com/sitemap.xml']\n\n    def parse(self, response):\n        print response.url\n\n        # How do I send these URL's to another spider instead?\n\n        yield {\n            'url': response.url\n        }\n</code></pre>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1487796270, "post_id": 42401775, "comment_id": 71950681, "body": "Just to satiate my own curiosity, any reason you don&#39;t want to select these all with one query, like <code>WHERE ColA = ValueA OR ColB = ValueB OR ColC = ValueC</code>? The <code>UNION</code> can give you duplicate rows, but perhaps that&#39;s the answer to the question I&#39;m asking."}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1487797460, "post_id": 42401775, "comment_id": 71951385, "body": "@Santi Thanks for your comment. If I do as you write, the results would be different. Besides, I think the command UNION ALL gives duplicated rows."}, {"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1487798998, "post_id": 42401775, "comment_id": 71952287, "body": "Parameters are used only when you are accessing SQL from a host language. Show that code."}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1487800369, "post_id": 42401775, "comment_id": 71952974, "body": "@CL. Yes, you are right. I am using Python. The parameters are from python as well."}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1487800694, "post_id": 42401775, "comment_id": 71953133, "body": "@CL. I pasted the code I wrote in Python."}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 2, "creation_date": 1487800975, "post_id": 42401775, "comment_id": 71953273, "body": "@doglas You need to re-read the documentation on how query parameters work in Python. They don&#39;t go in the SQL query string."}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1487801719, "post_id": 42401775, "comment_id": 71953609, "body": "@ColonelThirtyTwo Thanks. I know. I read and tried a lot."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 1, "creation_date": 1487806515, "post_id": 42401775, "comment_id": 71955492, "body": "@doglas - So is your question resolved? Just move the values to params arg of execute: <code>cur.execute(&lt;sql statement&gt;, (ValueA, ValueB, ValueC))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 7589493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OAzgp.jpg?s=128&g=1", "display_name": "cjonesrun", "link": "https://stackoverflow.com/users/7589493/cjonesrun"}, "is_accepted": false, "score": 0, "last_activity_date": 1487812301, "last_edit_date": 1487812301, "creation_date": 1487810893, "answer_id": 42405086, "question_id": 42401775, "link": "https://stackoverflow.com/questions/42401775/sqlite-python-how-to-use-parameters-for-select-and-union/42405086#42405086", "title": "SQLite + Python: How to use parameters for SELECT and UNION?", "body": "<p>I think maybe this can help you:</p>\n\n<p><code>cur.execute('SELECT * FROM Table1 WHERE colc =(?,?,?)', valueA,ValueB,ValueC)</code></p>\n"}, {"tags": [], "owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "is_accepted": true, "score": 4, "last_activity_date": 1487828066, "creation_date": 1487828066, "answer_id": 42407863, "question_id": 42401775, "link": "https://stackoverflow.com/questions/42401775/sqlite-python-how-to-use-parameters-for-select-and-union/42407863#42407863", "title": "SQLite + Python: How to use parameters for SELECT and UNION?", "body": "<p>Query parameters do not belong into the query string but must be a second parameter of <code>execute</code>:</p>\n\n<pre><code>cur.execute('''\n    SELECT * FROM Table1 WHERE ColA = ? \n    UNION\n    SELECT * FROM Table1 WHERE ColB = ? \n    UNION\n    SELECT * FROM Table1 WHERE ColC = ?''',\n    (ValueA, ValueB, ValueC))\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2423, "favorite_count": 1, "accepted_answer_id": 42407863, "answer_count": 2, "score": 0, "last_activity_date": 1490193891, "creation_date": 1487795847, "last_edit_date": 1495541843, "question_id": 42401775, "link": "https://stackoverflow.com/questions/42401775/sqlite-python-how-to-use-parameters-for-select-and-union", "title": "SQLite + Python: How to use parameters for SELECT and UNION?", "body": "<p>I want to combine multi SELECT results into one statement. </p>\n\n<p>I searched on SO but didnot found the answer. But I found a similar one: <a href=\"https://stackoverflow.com/questions/15720707/sqlite-combine-select-all-from-multiple-columns\">sqlite combine select all from multiple columns</a></p>\n\n<p>The difference between the above question and mine is that I have parameters in the statement. </p>\n\n<p>Hier are my codes...</p>\n\n<pre><code>cur.execute('''\nSELECT * FROM Table1 WHERE ColA = ? \nUNION\nSELECT * FROM Table1 WHERE ColB = ? \nUNION\nSELECT * FROM Table1 WHERE ColC = ?\n(ValueA, ValueB, ValueC,)''')\n</code></pre>\n\n<p>The ValueA, ValueB, ValueC are parameters.  </p>\n\n<p>But it didnot work. How could I change the codes? Thanks! </p>\n"}, {"tags": ["python", "bash", "shell", "command-line-arguments"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1487795666, "post_id": 42401689, "comment_id": 71950331, "body": "use only one percent and group arguments together in a <code>tuple</code> at the end of the string... Even better: use <code>subprocess</code> module with a list of arguments, don&#39;t attempt to create the command line yourself."}, {"owner": {"reputation": 117, "user_id": 3511857, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/8812702/picture?type=large", "display_name": "E.Z.", "link": "https://stackoverflow.com/users/3511857/e-z"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1487797570, "post_id": 42401689, "comment_id": 71951454, "body": "ah <code>tuple</code> makes a lot of sense - thanks @Jean-Fran&#231;oisFabre"}, {"owner": {"reputation": 896, "user_id": 520843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711a181409e23c300b82404544166deb?s=128&d=identicon&r=PG", "display_name": "grail", "link": "https://stackoverflow.com/users/520843/grail"}, "edited": false, "score": 0, "creation_date": 1487829490, "post_id": 42401689, "comment_id": 71962812, "body": "Not sure if I missed something, but is there a reason why you don&#39;t just use all bash?"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 3511857, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/8812702/picture?type=large", "display_name": "E.Z.", "link": "https://stackoverflow.com/users/3511857/e-z"}, "edited": false, "score": 0, "creation_date": 1487797535, "post_id": 42401765, "comment_id": 71951432, "body": "why subprocess as opposed to optparse? It does look nicer - just curious."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1487797849, "post_id": 42401765, "comment_id": 71951621, "body": "@Claudiu: <code>subprocess.check_call</code> is better if you don&#39;t care about retrieving the output/error streams."}, {"owner": {"reputation": 117, "user_id": 3511857, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/8812702/picture?type=large", "display_name": "E.Z.", "link": "https://stackoverflow.com/users/3511857/e-z"}, "edited": false, "score": 0, "creation_date": 1487798029, "post_id": 42401765, "comment_id": 71951706, "body": "ah, I misunderstood. OK. I was using os.system but I&#39;ll switch to Subprocess. Thanks ."}], "tags": [], "owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "is_accepted": false, "score": 3, "last_activity_date": 1487800315, "last_edit_date": 1487800315, "creation_date": 1487795821, "answer_id": 42401765, "question_id": 42401689, "link": "https://stackoverflow.com/questions/42401689/python-wrapper-to-pass-arguments-to-bash/42401765#42401765", "title": "Python wrapper to pass arguments to bash", "body": "<p>Use <code>subprocess</code> instead:</p>\n\n<pre><code>subprocess.check_call([\n    \"cfapp\", \"cfn\", \"create\",\n    \"-p\", \"Namespace=%s\" % namespace,\n    \"-p\", \"Env=%s\" % env,\n    \"-p\", \"Team=%s\" % team,\n    \"-p\", \"Region=region\",\n    \"--spec-file\", spec_file,\n])\n</code></pre>\n\n<hr>\n\n<p>In terms of your initial error, your string formatting syntax is incorrect:</p>\n\n<pre><code>&gt;&gt;&gt; pool = \"foo\"\n&gt;&gt;&gt; namespace = \"bar\"\n&gt;&gt;&gt; \"cfapp cfn create -p Pool=%s\" % pool \"-p Namespace=%s\" % namespace\n  File \"&lt;stdin&gt;\", line 1\n    \"cfapp cfn create -p Pool=%s\" % pool \"-p Namespace=%s\" % namespace\n                                                     ^\nSyntaxError: invalid syntax\n&gt;&gt;&gt; \"cfapp cfn create -p Pool=%s -p Namespace=%s\" % (pool, namespace)\n'cfapp cfn create -p Pool=foo -p Namespace=bar'\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 3511857, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/8812702/picture?type=large", "display_name": "E.Z.", "link": "https://stackoverflow.com/users/3511857/e-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1487800315, "creation_date": 1487795562, "question_id": 42401689, "link": "https://stackoverflow.com/questions/42401689/python-wrapper-to-pass-arguments-to-bash", "title": "Python wrapper to pass arguments to bash", "body": "<p>There is an application my company wrote (a little app to create CloudFormation templates) and passed the binary for all the teams to use.</p>\n\n<p>In trying to automate this a bit I wrote a Python script that basically passes arguments to a Bash/Shell command. This is a wrapper so I am just making this so I can iterate over a bunch of config files to create CloudFormation stacks in AWS.</p>\n\n<p>In shell, I would do</p>\n\n<p><code>cfapp cfn create -p Namespace=namespace -p Env=env -p Team=team -p Region=region --spec-file file://partner/foobar.yaml</code></p>\n\n<p>I wrote this in Python but I get a syntax error:</p>\n\n<p><code>os.system(\"cfapp cfn create -p Pool=%s\" % pool \"-p Namespace=%s\" % namespace \"-p Env=%s\" % env \"-p Team=%s\" % team \"-r %s\" % region \"--spec-file file://partner/\"+str(config)+\".yaml\")\n      time.sleep(5)\n</code></p>\n\n<p>I read that this was how to do it via python though, obv, my implementation is wrong.</p>\n"}, {"tags": ["python", "numpy", "scikit-learn", "libsvm", "sklearn-pandas"], "comments": [{"owner": {"reputation": 402, "user_id": 3628402, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/efeea37e82059080709f6fe5bc51e4b4?s=128&d=identicon&r=PG&f=1", "display_name": "iLoveCamelCase", "link": "https://stackoverflow.com/users/3628402/ilovecamelcase"}, "edited": false, "score": 0, "creation_date": 1487795610, "post_id": 42401638, "comment_id": 71950291, "body": "I see one is an integer type and other is a float type. Maybe you are updating your matrix somewhere?"}, {"owner": {"reputation": 1683, "user_id": 1505593, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/ecd6b4671754d13a510d404ce221a328?s=128&d=identicon&r=PG", "display_name": "cryp", "link": "https://stackoverflow.com/users/1505593/cryp"}, "reply_to_user": {"reputation": 402, "user_id": 3628402, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/efeea37e82059080709f6fe5bc51e4b4?s=128&d=identicon&r=PG&f=1", "display_name": "iLoveCamelCase", "link": "https://stackoverflow.com/users/3628402/ilovecamelcase"}, "edited": false, "score": 0, "creation_date": 1487796956, "post_id": 42401638, "comment_id": 71951097, "body": "ah I am not. Here is the code <code>vectorizer = CountVectorizer(vocabulary=vocab,binary=True) vc = vectorizer.fit_transform(tr) #tr is the array of words that I feed in dump_svmlight_file(vc, train_class, train_data_file, zero_based=False)  data = load_svmlight_file(&quot;data.svm&quot;) data[0] &lt;1315689x85729 sparse matrix of type &#39;&lt;type &#39;numpy.float64&#39;&gt;&#39; \twith 38911625 stored elements in Compressed Sparse Row format&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2265, "user_id": 3884938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19709715a3bb0fc25dd9ac8eafaa484b?s=128&d=identicon&r=PG&f=1", "display_name": "bscan", "link": "https://stackoverflow.com/users/3884938/bscan"}, "is_accepted": false, "score": 0, "last_activity_date": 1572123481, "creation_date": 1572123481, "answer_id": 58574666, "question_id": 42401638, "link": "https://stackoverflow.com/questions/42401638/shape-not-the-same-after-dumping-to-libsvm-a-numpy-sparse-matrix/58574666#58574666", "title": "Shape not the same after dumping to libsvm a numpy sparse matrix", "body": "<p>I suspect your last two columns consist of only 0's. When loading an libsvm file, it generally doesn't have anything indicating the number of columns. It's a sparse format of col_num:val and will learn the maximum number of columns by the highest column number observed. If you only have 0's in the last two columns, they'll get dropped in this transformation. </p>\n"}], "owner": {"reputation": 1683, "user_id": 1505593, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/ecd6b4671754d13a510d404ce221a328?s=128&d=identicon&r=PG", "display_name": "cryp", "link": "https://stackoverflow.com/users/1505593/cryp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572123481, "creation_date": 1487795370, "question_id": 42401638, "link": "https://stackoverflow.com/questions/42401638/shape-not-the-same-after-dumping-to-libsvm-a-numpy-sparse-matrix", "title": "Shape not the same after dumping to libsvm a numpy sparse matrix", "body": "<p>I have numpy sparse matrix that I dump in a libsvm format. VC was created using CountVectorizer where the size of the vocabulary is 85731\n<code>vc\n&lt;1315689x85731 sparse matrix of type '&lt;type 'numpy.int64'&gt;'\n    with 38911625 stored elements in Compressed Sparse Row format&gt;</code></p>\n\n<p>But when I load libsvm file back I see that the shape is different. Two columns are gone:\n<code>data[0]\n&lt;1315689x85729 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\n    with 38911625 stored elements in Compressed Sparse Row format&gt;</code></p>\n\n<p>I have no idea why this could be happening ? I also loaded the VC sparse matrix as dmatrix. Same issue 2 columns vanish.</p>\n\n<p>Hope someone with more experience could point out the issue.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "anaconda", "linux-capabilities"], "owner": {"reputation": 129, "user_id": 2207981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ac4ea7b0ff3ab0101c0b7aa8a6a2ef1?s=128&d=identicon&r=PG", "display_name": "lessju", "link": "https://stackoverflow.com/users/2207981/lessju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1487796077, "creation_date": 1487795287, "last_edit_date": 1487796077, "question_id": 42401614, "link": "https://stackoverflow.com/questions/42401614/setting-capabilities-to-anacondas-python-executable", "title": "Setting capabilities to Anaconda&#39;s python executable", "body": "<p>I've switched to Anaconda recently, but have encountered an issue. My python code uses a C++ shared library which receives raw frames from an interface. To do this, root permissions are generally required. So as not to use sudo for each execution, I generally give the python interpreter <code>cap_net_raw</code> and <code>cap_ipc_lock</code> capabilities (this is an academic setting, so no reason to worry about security, at least for now). Generally this works fine for the default python installation (I'm using Ubuntu 14.04.4), however when I try to do the same for the python executable of Anaconda (4.3.0, Python 3.6), I get the following error:</p>\n\n<p><em>python: error while loading shared libraries: libpython3.6m.so.1.0:\ncannot open shared object file: No such file or directory</em></p>\n\n<p>The library is located where it should be, and <code>ldd</code> on the python executable shows that it's pointing to it. Adding it's path to <code>LD_LIBRARY_PATH</code> doesn't do anything. Remove the capabilities then restores this issue.</p>\n\n<p>I tried this with a clean system install of Python 3.6, and there were no issues with it.</p>\n\n<p>Would appreciate any input, thanks.</p>\n"}, {"tags": ["python", "bash", "amazon-web-services", "amazon-s3", "aws-lambda"], "answers": [{"comments": [{"owner": {"reputation": 2095, "user_id": 5128976, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0ba32662d9858c8ee42244f5e500fe4a?s=128&d=identicon&r=PG", "display_name": "liferacer", "link": "https://stackoverflow.com/users/5128976/liferacer"}, "edited": false, "score": 0, "creation_date": 1487798956, "post_id": 42401706, "comment_id": 71952266, "body": "Thanks for your reply. Your code is working fine. It seems I am not able to download file using - os.system(&quot;wget <a href=\"https://jsonplaceholder.typicode.com/posts/1\" rel=\"nofollow noreferrer\">jsonplaceholder.typicode.com/posts/1</a> -P /tmp&quot;)  do I need to create deployment package to use bash command in os.system(&quot;bash command&quot;)?"}, {"owner": {"reputation": 15406, "user_id": 7303447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuQx7.jpg?s=128&g=1", "display_name": "franklinsijo", "link": "https://stackoverflow.com/users/7303447/franklinsijo"}, "reply_to_user": {"reputation": 2095, "user_id": 5128976, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0ba32662d9858c8ee42244f5e500fe4a?s=128&d=identicon&r=PG", "display_name": "liferacer", "link": "https://stackoverflow.com/users/5128976/liferacer"}, "edited": false, "score": 0, "creation_date": 1487799534, "post_id": 42401706, "comment_id": 71952552, "body": "@Navjot I have never checked whether <code>wget</code> works in lambda. You can make use of <code>urllib</code> module otherwise. <code>urllib.urlretrieve(&quot;https:&#47;&#47;jsonplaceholder.typicode.com&#47;pos&zwnj;&#8203;ts&#47;1&quot;, &quot;file.json&quot;)</code>"}, {"owner": {"reputation": 2095, "user_id": 5128976, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0ba32662d9858c8ee42244f5e500fe4a?s=128&d=identicon&r=PG", "display_name": "liferacer", "link": "https://stackoverflow.com/users/5128976/liferacer"}, "edited": false, "score": 0, "creation_date": 1487806407, "post_id": 42401706, "comment_id": 71955436, "body": "Yeah It works with urllib. Thanks for your suggestion. I think I will have to deploy wget and awscli as part of deployment package."}, {"owner": {"reputation": 373, "user_id": 515134, "user_type": "registered", "profile_image": "https://graph.facebook.com/573782875/picture?type=large", "display_name": "pankajanand18", "link": "https://stackoverflow.com/users/515134/pankajanand18"}, "reply_to_user": {"reputation": 2095, "user_id": 5128976, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0ba32662d9858c8ee42244f5e500fe4a?s=128&d=identicon&r=PG", "display_name": "liferacer", "link": "https://stackoverflow.com/users/5128976/liferacer"}, "edited": false, "score": 0, "creation_date": 1501135284, "post_id": 42401706, "comment_id": 77646313, "body": "@liferacer : how did you add <code>wget</code> to deployment package ?"}, {"owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "reply_to_user": {"reputation": 373, "user_id": 515134, "user_type": "registered", "profile_image": "https://graph.facebook.com/573782875/picture?type=large", "display_name": "pankajanand18", "link": "https://stackoverflow.com/users/515134/pankajanand18"}, "edited": false, "score": 0, "creation_date": 1517055606, "post_id": 42401706, "comment_id": 83944634, "body": "@pankajanand18 He didn&#39;t, just used <code>urllib</code> instead"}], "tags": [], "owner": {"reputation": 15406, "user_id": 7303447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuQx7.jpg?s=128&g=1", "display_name": "franklinsijo", "link": "https://stackoverflow.com/users/7303447/franklinsijo"}, "is_accepted": true, "score": 2, "last_activity_date": 1487798006, "last_edit_date": 1487798006, "creation_date": 1487795610, "answer_id": 42401706, "question_id": 42401573, "link": "https://stackoverflow.com/questions/42401573/how-to-execute-bash-commands-in-aws-lambda/42401706#42401706", "title": "How to execute bash commands in aws lambda", "body": "<p>AWS Lambda does not have the <code>aws cli</code> by default.</p>\n\n<p>You can either Create a <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/lambda-python-how-to-create-deployment-package.html\" rel=\"nofollow noreferrer\">deployment package</a> with <code>awscli</code> in it or Use python <code>boto3</code> library.</p>\n\n<pre><code>import boto3\n\ns3client = boto3.client('s3')\nfor filename in os.listdir('/tmp'): # assuming there will not be any sub-directories\n    fpath = os.path.join('/tmp',filename)\n    if os.path.isfile(fpath): \n        s3client.upload_file(fpath, 'targetbucket', filename)\n</code></pre>\n"}], "owner": {"reputation": 2095, "user_id": 5128976, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0ba32662d9858c8ee42244f5e500fe4a?s=128&d=identicon&r=PG", "display_name": "liferacer", "link": "https://stackoverflow.com/users/5128976/liferacer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4921, "favorite_count": 0, "accepted_answer_id": 42401706, "answer_count": 1, "score": 2, "last_activity_date": 1487798034, "creation_date": 1487795159, "last_edit_date": 1487798034, "question_id": 42401573, "link": "https://stackoverflow.com/questions/42401573/how-to-execute-bash-commands-in-aws-lambda", "title": "How to execute bash commands in aws lambda", "body": "<p>I am trying to schedule a job in AWS lambda where i get data fromm a Json API. I want to transfer JSON file to amazon S3 everytime.I have set up S3 bucket and aws lambda function with proper IAM roles. I am writing AWS lambda function in Python. Code works fine on an EC2 instance but It's not transferring file to S3 if I put it in AWS Lambda.</p>\n\n<pre><code>import os\n\n\ndef lambda_handler(event, context):\n    #changing the directory to /tmp\n    os.chdir(\"/tmp\")\n    print \"loading function\"\n    #downloading file to \n    os.system(\"wget https://jsonplaceholder.typicode.com/posts/1 -P /tmp\")\n    #using aws-cli to transfer file to amazon S3\n    os.system(\"aws s3 sync . s3://targetbucket\")\n</code></pre>\n\n<p>I am new to aws lambda. I am not getting any error but it's not giving me expected output</p>\n"}, {"tags": ["javascript", "jquery", "python", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 7524933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/590ea9d1f454aaccdfb90e5c75b04334?s=128&d=identicon&r=PG&f=1", "display_name": "avodo", "link": "https://stackoverflow.com/users/7524933/avodo"}, "is_accepted": false, "score": 1, "last_activity_date": 1487796184, "creation_date": 1487796184, "answer_id": 42401880, "question_id": 42401551, "link": "https://stackoverflow.com/questions/42401551/send-file-from-javascript-to-python-via-ajax/42401880#42401880", "title": "Send file from javascript to Python via Ajax", "body": "<p><code>seek</code> is a method for file objects, not strings.</p>\n\n<p>I think your code snippet is missing some lines, but if <code>file</code> is supposed to be the file pointed to by <code>file_path</code> then you should first open the file with <code>file = open(file_path, 'rb')</code>. New file objects should start reading at the 0th position, so <code>file.seek(0)</code> should be unnecessary. </p>\n"}], "owner": {"reputation": 153, "user_id": 1485907, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a38b302fb1a2c31d187d7ba1787274e6?s=128&d=identicon&r=PG", "display_name": "Fabio Sampaio", "link": "https://stackoverflow.com/users/1485907/fabio-sampaio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487796184, "creation_date": 1487795082, "question_id": 42401551, "link": "https://stackoverflow.com/questions/42401551/send-file-from-javascript-to-python-via-ajax", "title": "Send file from javascript to Python via Ajax", "body": "<p>I'm having a problem sending a file object to python through an ajax call.<br>\nI'm using <a href=\"http://www.dropzonejs.com/\" rel=\"nofollow noreferrer\">Dropzone</a> just as my \"file uploader interface\" and I'm sending a call when certain button is pressed.</p>\n\n<p>In python when I try to process the file, it says <strong>\" 'str' object has no attribute 'seek' \"</strong></p>\n\n<p>My JS Code:</p>\n\n<pre><code>...\nwindow.$form_add_file = $(\"#form_add_file\");\nvar file = dropzone.files[0];\n...\n\nvar formData = $form_add_file.serializeArray();\n\nif(file){\n\n    $modal_add_file.find($drop_add_file).removeClass(\"error\");\n\n    var filetype = file.type.split(\"/\")[0].toLowerCase();\n    var hasFile = checkFileType(filetype);\n    if(!hasFile) { filetype = \"file\" }\n\n    formData.push(\n        { name: \"file\", value: file },\n        { name: \"file_type\", value: filetype },\n        { name: \"file_name\", value: file.name },\n        { name: \"file_size\", value: file.size }\n    );\n\n} else {\n    error = true;\n    $modal_add_file.find($drop_add_file).addClass(\"error\");\n    return false;\n}\n\nif(!error){\n    $.ajax({\n        method: \"POST\",\n        url: host + \"json.references.new\",\n        data: formData,\n        cache: false,\n        dataType: 'json',\n        success: function(data){\n            if(data){\n                if(data.error){\n                    modalMessage($modal_add_file, data.error, \"ok\");\n                } else {\n                    refreshData(data);\n                }\n            }\n        },\n        error: function(error){\n            modalMessage($modal_add_file, oops_message, \"ok\");\n        }\n    });\n}\n</code></pre>\n\n<p>My Python Code:</p>\n\n<pre><code>try:\n\n    file_path = os.path.join(path, file_name)\n    temp_file_path = file_path + '~'\n    file.seek(0) # error happen here\n    with open(temp_file_path, 'wb') as output_file:\n        shutil.copyfileobj(file, output_file)\n    os.rename(temp_file_path, file_path)\n</code></pre>\n\n<p>I've been searching for this on the internet and found nothing yet.</p>\n\n<p>Sorry for the poor english.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "if-statement", "conditional"], "comments": [{"owner": {"reputation": 3954, "user_id": 6754706, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/TZSs8.jpg?s=128&g=1", "display_name": "RAZ_Muh_Taz", "link": "https://stackoverflow.com/users/6754706/raz-muh-taz"}, "edited": false, "score": 0, "creation_date": 1487795303, "post_id": 42401516, "comment_id": 71950123, "body": "how will in_data == &quot;Pro41005.dbf&quot; not be true when you always set it in 3 lines above? your else will never get hit currently"}, {"owner": {"reputation": 17, "user_id": 7386197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3cdb07110dce9e86e1b7169d92b1460?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7386197/anthony"}, "reply_to_user": {"reputation": 3954, "user_id": 6754706, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/TZSs8.jpg?s=128&g=1", "display_name": "RAZ_Muh_Taz", "link": "https://stackoverflow.com/users/6754706/raz-muh-taz"}, "edited": false, "score": 0, "creation_date": 1487795654, "post_id": 42401516, "comment_id": 71950322, "body": "Would I put a wild card? in_data = &quot;*&quot;"}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1487795984, "post_id": 42401516, "comment_id": 71950519, "body": "@Anthony No, you want your script to check the directory and store the name of appropriate file to <code>in_data</code> instead of you hard coding a literal. Currently <code>in_data</code> NEVER equals &quot;Pro41051.dbf&quot; because you didn&#39;t code it. Think about it."}], "answers": [{"tags": [], "owner": {"reputation": 1729, "user_id": 1028577, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RRmzv.jpg?s=128&g=1", "display_name": "swbandit", "link": "https://stackoverflow.com/users/1028577/swbandit"}, "is_accepted": true, "score": 0, "last_activity_date": 1487795507, "creation_date": 1487795507, "answer_id": 42401675, "question_id": 42401516, "link": "https://stackoverflow.com/questions/42401516/if-else-statement-moving-files-and-continuing-if-file-does-not-exist/42401675#42401675", "title": "if/else statement - moving files and continuing if file does not exist", "body": "<p>Your IF statement right now just checked whether the variable has the same filename that you already assigned above. So it will always be true.</p>\n\n<p>It seems that what you need is to check whether a file exists.</p>\n\n<p><code>import os\n...\nif os.path.isfile(in_data):</code></p>\n"}], "owner": {"reputation": 17, "user_id": 7386197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3cdb07110dce9e86e1b7169d92b1460?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7386197/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 42401675, "answer_count": 1, "score": -2, "last_activity_date": 1487797724, "creation_date": 1487794916, "last_edit_date": 1487797724, "question_id": 42401516, "link": "https://stackoverflow.com/questions/42401516/if-else-statement-moving-files-and-continuing-if-file-does-not-exist", "title": "if/else statement - moving files and continuing if file does not exist", "body": "<p>I am using python to move DBF files from one folder to multiple folders. These come to me from an S3 bucket and I unzip and move. Sometimes there will be a missing DBF. If that happens I am trying to code so that if the file is not there the script moves to the next file. I figure this would be an <code>if/else</code> statement but I am having trouble with the else part.</p>\n\n<pre><code>import arcpy, os\nfrom arcpy import env\n\nenv.workspace = \"E:\\staging\\DT_TABLES\"\n\n######Move Clackamas Pro41005.dbf######\nin_data =  \"Pro41005.dbf\"\nout_data = \"D:/DATATRACE/OREGON/OR_TRI COUNTY/Pro41005.dbf\"\ndata_type = \"\"\n\nif in_data == \"Pro41005.dbf\":\n        arcpy.Delete_management(out_data)\n        arcpy.Copy_management(in_data, out_data, data_type)\n        print 'Clackamas Moved'\nelse :\n\n######Move Multnomah Pro41051.dbf######\n\n    in_data =  \"Pro41051.dbf\"\n    out_data = \"D:/DATATRACE/OREGON/OR_TRI COUNTY/Pro41051.dbf\"\n    data_type = \"\"\n\n    arcpy.Delete_management(out_data)\n\n    arcpy.Copy_management(in_data, out_data, data_type)\n\nprint 'Multnomah Moved'\n</code></pre>\n\n<p>In other words, if <code>Pro41005.dbf</code> was not in the zipped file I like the script to continue to <code>Pro41051.dbf</code> This is two of eight files that I am moving. In time there will be about 20 files.</p>\n"}, {"tags": ["python", "import", "module", "dynamic-import"], "comments": [{"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 1, "creation_date": 1487794963, "post_id": 42401495, "comment_id": 71949950, "body": "related <a href=\"http://stackoverflow.com/questions/40823418\">stackoverflow.com/questions/40823418</a>"}, {"owner": {"reputation": 174, "user_id": 4682492, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/15dee3daf5a186cce9ffb883c58ceb04?s=128&d=identicon&r=PG&f=1", "display_name": "Dan G", "link": "https://stackoverflow.com/users/4682492/dan-g"}, "reply_to_user": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1487796331, "post_id": 42401495, "comment_id": 71950711, "body": "The above referenced question helps to understand why it does not work; but not if there is a solution to make this work."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1487796709, "post_id": 42401495, "comment_id": 71950935, "body": "Take a look at the <a href=\"https://docs.python.org/2/library/functions.html#__import__\" rel=\"nofollow noreferrer\"><code>__import__()</code></a> function."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1487797011, "post_id": 42401495, "comment_id": 71951132, "body": "This <a href=\"https://docs.python.org/2/library/functions.html#__import__\" rel=\"nofollow noreferrer\">answer</a> of mine shows using <code>__import__()</code> with <code>listdir()</code>. It&#39;s doing more than you want, but that should be easy to fix."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1487797537, "post_id": 42401495, "comment_id": 71951436, "body": "Q: If you don&#39;t know what modules are available, how will your code know to use them?"}, {"owner": {"reputation": 174, "user_id": 4682492, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/15dee3daf5a186cce9ffb883c58ceb04?s=128&d=identicon&r=PG&f=1", "display_name": "Dan G", "link": "https://stackoverflow.com/users/4682492/dan-g"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1487798620, "post_id": 42401495, "comment_id": 71952069, "body": "@martineau; each module is a test case in this application.  Each module (test case) has a standard layout with a main function called execute_test().  So based on the file name being the module name, we can trigger the test case to execute.  Example : module file name is create_user.py; once imported, we could trigger with create_user.execute_test()."}], "answers": [{"tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": false, "score": 8, "last_activity_date": 1487796891, "last_edit_date": 1495539971, "creation_date": 1487796891, "answer_id": 42402095, "question_id": 42401495, "link": "https://stackoverflow.com/questions/42401495/how-to-dynamically-import-modules/42402095#42402095", "title": "How to dynamically import modules?", "body": "<p>The <code>import</code> instruction does not work with variable contents (as strings) (see extended explanation <a href=\"https://stackoverflow.com/questions/40823418\">here</a>), but with file names. If you want to import dynamically, you can use the <a href=\"https://docs.python.org/3/library/importlib.html#importlib.import_module\" rel=\"noreferrer\"><code>importlib.import_module</code></a> method:</p>\n\n<pre><code>import importlib\ntree = os.listdir('modules')\n\n...\n\nfor i in tree:\n    importlib.import_module(i)\n</code></pre>\n\n<p>Note:</p>\n\n<ul>\n<li><p>You can not import from a directory where the modules are not included under <code>Lib</code> or the current directory like that (adding the directory to the path won't help, see previous link for why). The simplest solution would be to make this directory (modules) a package (just drop an empty <code>__init__.py</code> file there), and call <code>importlib.import_module('..' + i, 'modules.subpkg')</code> or use the <a href=\"https://docs.python.org/3/library/functions.html#__import__\" rel=\"noreferrer\"><code>__import__</code></a> method.</p></li>\n<li><p>You might also review <a href=\"https://stackoverflow.com/questions/301134\">this question</a>. It discusses a similar situation.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 739, "user_id": 3167370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87dbab1e4ec1c9648b1323c1167e7b14?s=128&d=identicon&r=PG", "display_name": "Tom Lynch", "link": "https://stackoverflow.com/users/3167370/tom-lynch"}, "is_accepted": false, "score": -1, "last_activity_date": 1487796978, "last_edit_date": 1487796978, "creation_date": 1487796948, "answer_id": 42402112, "question_id": 42401495, "link": "https://stackoverflow.com/questions/42401495/how-to-dynamically-import-modules/42402112#42402112", "title": "How to dynamically import modules?", "body": "<p>You can achieve something <em>like</em> what you are proposing, but it will involve some un-pythonic code.  I do not recommend doing this:</p>\n\n<pre><code>dynamic_imports = dict()\nfor filename in tree:\n    name = filename.replace('.py', '')\n    dynamic_imports[name] = __import__(name)\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 4682492, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/15dee3daf5a186cce9ffb883c58ceb04?s=128&d=identicon&r=PG&f=1", "display_name": "Dan G", "link": "https://stackoverflow.com/users/4682492/dan-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15467, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1580325627, "creation_date": 1487794869, "last_edit_date": 1580325627, "question_id": 42401495, "link": "https://stackoverflow.com/questions/42401495/how-to-dynamically-import-modules", "title": "How to dynamically import modules?", "body": "<p>I am trying to import modules dynamically in Python.  Right now, I have a directory called 'modules' with two files inside; they are mod1.py and mod2.py.  They are simple test functions to return time (ie. <code>mod1.what_time('now')</code> returns the current time).</p>\n\n<p>From my main application, I can import as follows :</p>\n\n<pre><code>sys.path.append('/Users/dxg/import_test/modules')\nimport mod1\n</code></pre>\n\n<p>Then execute :</p>\n\n<pre><code>mod1.what_time('now') \n</code></pre>\n\n<p>and it works.</p>\n\n<p>I am not always going to know what modules are available in the dirctory.  I wanted to <code>import</code> as follows :</p>\n\n<pre><code>tree = []\ntree = os.listdir('modules')\n\nsys.path.append('/Users/dxg/import_test/modules')\n\nfor i in tree:\n  import i\n</code></pre>\n\n<p>However I get the error :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ImportError: No module named i\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "matplotlib", "cygwin", "seaborn"], "comments": [{"owner": {"reputation": 6281, "user_id": 5105383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YCB5.jpg?s=128&g=1", "display_name": "matzeri", "link": "https://stackoverflow.com/users/5105383/matzeri"}, "edited": false, "score": 1, "creation_date": 1487797777, "post_id": 42401446, "comment_id": 71951566, "body": "<code>tk-dev</code> is not a python package so you can not install with pip. The package is called <code>tcl-tk-devel</code> on cygwin and you can install it with setup."}, {"owner": {"reputation": 453, "user_id": 828647, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c58778c8b91409fd2408ddd92144f340?s=128&d=identicon&r=PG", "display_name": "user828647", "link": "https://stackoverflow.com/users/828647/user828647"}, "reply_to_user": {"reputation": 6281, "user_id": 5105383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YCB5.jpg?s=128&g=1", "display_name": "matzeri", "link": "https://stackoverflow.com/users/5105383/matzeri"}, "edited": false, "score": 1, "creation_date": 1487878836, "post_id": 42401446, "comment_id": 71994785, "body": "<code>tcl-tk-devel</code> is already installed in cygwin, should I re-install?"}, {"owner": {"reputation": 484, "user_id": 1122081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/300209f54b96ba37fb5b6aecda14443c?s=128&d=identicon&r=PG", "display_name": "Phil Goetz", "link": "https://stackoverflow.com/users/1122081/phil-goetz"}, "edited": false, "score": 0, "creation_date": 1585860641, "post_id": 42401446, "comment_id": 107921207, "body": "I&#39;m having the exact same problem, with Python 3.7.  Already installed tcl-tk-devel via the cygwin setup. Note the import  statement specifies that _tkagg must be in (for me) /usr/lib/python3.7/site-packages/matplotlib/backends .  And it is there! File _tkagg.cpython-37m-x86_64-cygwin.dll .  For some reason the import fails to load it."}], "owner": {"reputation": 453, "user_id": 828647, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c58778c8b91409fd2408ddd92144f340?s=128&d=identicon&r=PG", "display_name": "user828647", "link": "https://stackoverflow.com/users/828647/user828647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487794721, "creation_date": 1487794721, "last_edit_date": 1495540398, "question_id": 42401446, "link": "https://stackoverflow.com/questions/42401446/error-importing-seaborn-in-cygwin", "title": "Error importing seaborn in cygwin", "body": "<p>I am getting the following error on importing seaborn (both python and matplotlib were installed successfully):</p>\n\n<pre><code> import seaborn\n File \"/usr/lib/python2.7/site-packages/seaborn/__init__.py\", line 6, in &lt;modul                                                                                                                e&gt;\nfrom .rcmod import *\n File \"/usr/lib/python2.7/site-packages/seaborn/rcmod.py\", line 8, in &lt;module&gt;\nfrom . import palettes, _orig_rc_params\n File \"/usr/lib/python2.7/site-packages/seaborn/palettes.py\", line 12, in &lt;modu                                                                                                                le&gt;\nfrom .utils import desaturate, set_hls_values, get_color_cycle\n File \"/usr/lib/python2.7/site-packages/seaborn/utils.py\", line 12, in &lt;module&gt;\nimport matplotlib.pyplot as plt\n File \"/usr/lib/python2.7/site-packages/matplotlib/pyplot.py\", line 115, in &lt;mo                                                                                                                dule&gt;\n_backend_mod, new_figure_manager, draw_if_interactive, _show = pylab_setup()\n File \"/usr/lib/python2.7/site-packages/matplotlib/backends/__init__.py\", line                                                                                                                 32, in pylab_setup\nglobals(),locals(),[backend_name],0)\n File \"/usr/lib/python2.7/site-packages/matplotlib/backends/backend_tkagg.py\",                                                                                                                 line 13, in &lt;module&gt;\nimport matplotlib.backends.tkagg as tkagg\n File \"/usr/lib/python2.7/site-packages/matplotlib/backends/tkagg.py\", line 9,                                                                                                                 in &lt;module&gt;\nfrom matplotlib.backends import _tkagg\nRuntimeError: No such process\n</code></pre>\n\n<p>I checked for the <a href=\"https://stackoverflow.com/questions/32188180/from-matplotlib-backends-import-tkagg-importerror-cannot-import-name-tkagg\">solution</a>, but which involves installing <code>tk-dev</code>, but it seems this package is not available anymore.</p>\n\n<pre><code>$ pip install tk-dev\nCollecting tk-dev\nCould not find a version that satisfies the requirement tk-dev (from versions:                                                                                                                 )\nNo matching distribution found for tk-dev\n</code></pre>\n\n<p>So how do I resolve this error now?</p>\n"}, {"tags": ["python", "date", "matplotlib", "area", "stacked"], "answers": [{"tags": [], "owner": {"reputation": 769, "user_id": 7187106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/084f4df88a7a92fa348f3e619cd2e0ba?s=128&d=identicon&r=PG&f=1", "display_name": "Longwen Ou", "link": "https://stackoverflow.com/users/7187106/longwen-ou"}, "is_accepted": false, "score": 3, "last_activity_date": 1488307985, "last_edit_date": 1488307985, "creation_date": 1487801254, "answer_id": 42403213, "question_id": 42401422, "link": "https://stackoverflow.com/questions/42401422/stacked-area-plot-and-dates-in-matplotlib/42403213#42403213", "title": "Stacked area plot and dates in matplotlib", "body": "<p>You just need to set <code>xticks</code> with the following command:</p>\n\n<pre><code>plt.xticks(x)\n</code></pre>\n\n<p>Just add this line before you display the figure. <code>DayLocator</code> displays every single day by default. In your case, you have too many days in between to display. You can just remove line 7 which sets the <code>Daylocator</code> and replace it with the above line which sets the ticks to be your dates. This is the result:\n<a href=\"https://i.stack.imgur.com/jXkJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXkJW.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2288, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1488307985, "creation_date": 1487794644, "last_edit_date": 1495535383, "question_id": 42401422, "link": "https://stackoverflow.com/questions/42401422/stacked-area-plot-and-dates-in-matplotlib", "title": "Stacked area plot and dates in matplotlib", "body": "<p>Here is my code:</p>\n\n<pre><code>import datetime as dt\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\ndates =  ['2014-12-15','2015-11-07','2016-01-10']\nx = [dt.datetime.strptime(d,'%Y-%m-%d').date() for d in dates]\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%m/%d/%Y'))\nplt.gca().xaxis.set_major_locator(mdates.DayLocator())\nplt.stackplot(x,[1,2,3],[7,8,3])\nplt.gcf().autofmt_xdate()\nplt.show()\n</code></pre>\n\n<p>It produces the following plot: </p>\n\n<p><a href=\"https://i.stack.imgur.com/bW4Hj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bW4Hj.png\" alt=\"ugly plot\"></a></p>\n\n<p>How do I fix it to have only 3 dates? I followed the following example: <a href=\"https://stackoverflow.com/questions/9627686/plotting-dates-on-the-x-axis-with-pythons-matplotlib\">SO example</a></p>\n"}, {"tags": ["python", "theano"], "answers": [{"tags": [], "owner": {"reputation": 2034, "user_id": 1950580, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/732e2998d4bc8c1a06e310f0a3aaa915?s=128&d=identicon&r=PG", "display_name": "Kh40tiK", "link": "https://stackoverflow.com/users/1950580/kh40tik"}, "is_accepted": true, "score": 11, "last_activity_date": 1487849026, "creation_date": 1487849026, "answer_id": 42414385, "question_id": 42401420, "link": "https://stackoverflow.com/questions/42401420/how-the-function-dimshuffle-works-in-theano/42414385#42414385", "title": "How the function dimshuffle works in Theano", "body": "<p>Without <code>'x'</code>, <code>dimshuffle</code> is same as <code>transpose</code></p>\n\n<p>For explanatory purpose, let's fake numpy has a <code>dimshuffle</code> function</p>\n\n<pre><code>x = np.arange(60).reshape((3,4,5))\nx.dimshuffle(0, 1, 2).shape # gives (3, 4, 5)\nx.dimshuffle(2, 1, 0).shape # gives (5, 4, 3)\n</code></pre>\n\n<p>Since we have:</p>\n\n<pre><code>shp = (3,4,5)\n(shp[2], shp[1], shp[0]) == (5, 4, 3)\n</code></pre>\n\n<p>The arguments <code>2, 1, 0</code> to dimshuffle just means the <strong>permutation</strong> to the shape tuple.</p>\n\n<p>Whenever there is <code>'x'</code> present, it adds 1 sized dimension into the array:</p>\n\n<pre><code>x = np.arange(60).reshape((3,4,5))\nx.dimshuffle(2, 1, 0, 'x').shape # (5, 4, 3, 1)\nx.dimshuffle(2, 1, 'x', 0).shape # (5, 4, 1, 3)\nx.dimshuffle(2, 'x', 1, 0).shape # (5, 1, 4, 3)\n</code></pre>\n\n<p>Whenever the permutation is missing an index (or multiple), these indices are removed from shape tuple, provided that they are 1 (which is broadcastable)</p>\n\n<pre><code>x = np.arange(1337).reshape(2,1337,1)\ny = x.dimshuffle(1,0) # this works since shape[2] is 1\ny.shape # (1337, 2)\nz = y.dimshuffle(1) # ERROR\n</code></pre>\n\n<p>Note theano has no way to determine the shape of symbolic tensor, so <code>dimshuffle</code> with dimensional removal must refer to <code>broadcastable</code> attribute. (This is different to tensorflow as you can specify shape at compile-time)</p>\n\n<pre><code>&gt;&gt;&gt; x = T.vector()\n&gt;&gt;&gt; x.broadcastable\n(False,)\n&gt;&gt;&gt; y = x.dimshuffle('x', 0, 'x')\n&gt;&gt;&gt; y.broadcastable # the new dims are broadcastable because we added via 'x'\n(True, False, True)\n</code></pre>\n\n<p>With <code>dimshuffle</code>, you can save multiple calls to <code>transpose</code> and <code>expand_dims</code> (note Theano has no <code>expand_dims</code>)</p>\n"}], "owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3881, "favorite_count": 2, "accepted_answer_id": 42414385, "answer_count": 1, "score": 5, "last_activity_date": 1487874496, "creation_date": 1487794641, "last_edit_date": 1487874496, "question_id": 42401420, "link": "https://stackoverflow.com/questions/42401420/how-the-function-dimshuffle-works-in-theano", "title": "How the function dimshuffle works in Theano", "body": "<p>I am having tough time understanding what and how <a href=\"http://deeplearning.net/software/theano/library/tensor/basic.html#theano.tensor._tensor_py_operators.dimshuffle\" rel=\"noreferrer\">dimshuffle()</a> works implemented in Theano? I got the following set of examples in the official documentation but couldn't understand their meaning.</p>\n\n<p>Can anyone explain what each examples mean in the following?</p>\n\n<pre><code>(\u2018x\u2019) -&gt; make a 0d (scalar) into a 1d vector\n(0, 1) -&gt; identity for 2d vectors\n(1, 0) -&gt; inverts the first and second dimensions\n(\u2018x\u2019, 0) -&gt; make a row out of a 1d vector (N to 1xN)\n(0, \u2018x\u2019) -&gt; make a column out of a 1d vector (N to Nx1)\n(2, 0, 1) -&gt; AxBxC to CxAxB\n(0, \u2018x\u2019, 1) -&gt; AxB to Ax1xB\n(1, \u2018x\u2019, 0) -&gt; AxB to Bx1xA\n(1,) -&gt; This remove dimensions 0. It must be a broadcastable dimension (1xA to A)\n</code></pre>\n\n<p>Please note, I know about <a href=\"https://docs.scipy.org/doc/numpy-1.10.0/user/basics.broadcasting.html\" rel=\"noreferrer\">broadcasting concept in numpy</a> python.</p>\n"}, {"tags": ["python", "windows", "python-3.x", "anaconda"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1487794347, "post_id": 42401308, "comment_id": 71949606, "body": "cannot reproduce the slashes on windows (first output). How do you run your python file?"}, {"owner": {"reputation": 1997, "user_id": 2058281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jppqe.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2058281/aaron"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1487794734, "post_id": 42401308, "comment_id": 71949844, "body": "@Jean-Fran&#231;oisFabre I am using Anaconda, see my edit."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1487795402, "post_id": 42401308, "comment_id": 71950177, "body": "are you running it from cygwin by chance?"}, {"owner": {"reputation": 1997, "user_id": 2058281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jppqe.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2058281/aaron"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1487795655, "post_id": 42401308, "comment_id": 71950325, "body": "@Jean-Fran&#231;oisFabre it is running from <code>&#47;cygdrive&#47;c</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1487795931, "post_id": 42401308, "comment_id": 71950485, "body": "edited (added &quot;from Cygwin shell&quot;). Hope it&#39;s OK."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1487800631, "post_id": 42401308, "comment_id": 71953102, "body": "There are more places than just <code>\\\\?\\</code> paths where you can be bitten by using forward slashes in Windows (e.g. command-line arguments and anything that uses native paths under the hood; such as <code>Global\\</code> kernel object names and registry paths). For the filesystem API, forward slash is allowed because runtime library functions such as <code>RtlDosPathNameToNtPathName_U_WithStatus</code> do the conversion for you. But for consistency it&#39;s often better to just do it yourself. <code>pathlib</code> in Python 3 handles this for you, and in 3.6 it&#39;s broadly supported by the standard library."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 3, "last_activity_date": 1487795831, "last_edit_date": 1487795831, "creation_date": 1487795060, "answer_id": 42401545, "question_id": 42401308, "link": "https://stackoverflow.com/questions/42401308/why-does-os-path-use-both-and/42401545#42401545", "title": "Why does os.path use both &#39;\\&#39; and &#39;/&#39;?", "body": "<p>Since you're running from cygwin, the paths are not native, but altered for cygwin to be able to work properly (MSYS does the same).</p>\n\n<p>So as a side effect, when python asks for current file, it is returned with slashes.</p>\n\n<p>BUT anaconda is still a native windows distribution, which explains that you get <code>\\</code> (native <code>os.sep</code>) when joining strings.</p>\n\n<p>To get <code>__file__</code> path with native separators (<code>\\</code> here), just do:</p>\n\n<pre><code>os.path.normpath(__file__)\n</code></pre>\n"}], "owner": {"reputation": 1997, "user_id": 2058281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jppqe.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2058281/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 42401545, "answer_count": 1, "score": 1, "last_activity_date": 1487795911, "creation_date": 1487794232, "last_edit_date": 1487795911, "question_id": 42401308, "link": "https://stackoverflow.com/questions/42401308/why-does-os-path-use-both-and", "title": "Why does os.path use both &#39;\\&#39; and &#39;/&#39;?", "body": "<p>When I get the <code>os.path.dirname()</code> of a file on Windows, it uses the / character (gets converted to \\ by Windows), but then when I <code>os.path.join()</code> that path with other things, it uses the \\ character (as expected).</p>\n\n<pre><code>import os\n\ncwd = os.path.dirname(__file__)\nprint(cwd)                            # C:/Users/me/Documents/dir1\nparent_dir = os.path.join(cwd, '..')\nprint(parent_dir)                     # C:/Users/me/Documents/dir1\\..\n</code></pre>\n\n<p>Windows handles this just fine. As per <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247.aspx\" rel=\"nofollow noreferrer\">MSDN</a>:</p>\n\n<blockquote>\n  <p>File I/O functions in the Windows API convert \"/\" to \"\\\" as part of converting the name to an NT-style name, except when using the \"\\\\?\\\" prefix as detailed in the following sections.</p>\n</blockquote>\n\n<p>But why does the use of both slashes occuring in the first place?</p>\n\n<p><strong>EDITS:</strong></p>\n\n<p>I run the command using <code>python myfile.py</code> from Cygwin shell.</p>\n\n<p>I am using the <a href=\"https://www.continuum.io/anaconda-overview\" rel=\"nofollow noreferrer\">Anaconda3</a> distribution, which is installed at <code>C:\\Users\\me\\AppData\\Local\\Continuum\\Anaconda3\\python.exe</code>.</p>\n\n<pre><code>\u03bb which python\n/cygdrive/c/Users/me/AppData/Local/Continuum/Anaconda3/python\n</code></pre>\n"}, {"tags": ["python", "leap-motion"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6420275, "user_type": "registered", "profile_image": "https://graph.facebook.com/1015827808499418/picture?type=large", "display_name": "Joyce Wang", "link": "https://stackoverflow.com/users/6420275/joyce-wang"}, "edited": false, "score": 0, "creation_date": 1488038250, "post_id": 42401723, "comment_id": 72058924, "body": "Thank you! but when I tried to do sudo port select --set python python27, the python path I get after is still /opt/local/bin/python, instead of /opt/local/bin/python27. So it doesn&#39;t really work :("}], "tags": [], "owner": {"reputation": 1017, "user_id": 7473057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nOXu.jpg?s=128&g=1", "display_name": "Nick H", "link": "https://stackoverflow.com/users/7473057/nick-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1487796633, "last_edit_date": 1487796633, "creation_date": 1487795687, "answer_id": 42401723, "question_id": 42401156, "link": "https://stackoverflow.com/questions/42401156/leap-motion-error-fatal-python-error-pythreadstate-get-no-current-thread-abor/42401723#42401723", "title": "Leap Motion error: Fatal Python error: PyThreadState_Get: no current thread Abort trap: 6", "body": "<p>Getting leap motion to work with python distributions installed through ports or brew require a few extra steps.  So for ease, use the default system python.</p>\n\n<pre><code>sudo port select --set python python27\n</code></pre>\n\n<p>then check it with:</p>\n\n<pre><code>which python\n</code></pre>\n\n<p>At which point you should get:</p>\n\n<pre><code>/usr/local/bin/python27\n</code></pre>\n\n<p>Now I would re-try with the SDK, running the sample.py.</p>\n\n<p>If you want to use a ports version, you will have to select the port version, which lies in :</p>\n\n<pre><code>/opt/local/bin/python2.7\n</code></pre>\n\n<p>and then run the otool utility to display the current loader paths:</p>\n\n<pre><code>otool -L LeapPython.so\n</code></pre>\n\n<p>Which will display output similar to:</p>\n\n<pre><code>LeapPython.so:\n    @loader_path/LeapPython.so (compatibility version 0.0.0, current version 0.0.0)\n    /Library/Frameworks/Python.framework/Versions/2.7/Python (compatibility version 2.7.0, current version 2.7.0)\n    @loader_path/libLeap.dylib (compatibility version 0.7.0, current version 2.0.1)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 169.3.0)\n    /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 56.0.0)\n</code></pre>\n\n<p>The line starting with, /Library/Frameworks/Python.framework/Versions/2.7/Python is the reference to Python, which needs to be changed with the install_name_tool utility.</p>\n\n<p>Second, run the install_name_tool utility to update the Python reference to the desired location. For example:</p>\n\n<pre><code>install_name_tool -change /Library/Frameworks/Python.framework/Versions/2.7/Python \\\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib \\\nLeapPython.so\n</code></pre>\n\n<p>Hopefully that should do it.  But as I said, if you are using the mac distribution in /usr/local/bin/, then it is more straighforward and you do not need these two steps.</p>\n\n<p>Full doc from leap here: \n<a href=\"https://community.leapmotion.com/t/python-thread-error-mavericks/1184/4\" rel=\"nofollow noreferrer\">https://community.leapmotion.com/t/python-thread-error-mavericks/1184/4</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6420275, "user_type": "registered", "profile_image": "https://graph.facebook.com/1015827808499418/picture?type=large", "display_name": "Joyce Wang", "link": "https://stackoverflow.com/users/6420275/joyce-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487796633, "creation_date": 1487793748, "question_id": 42401156, "link": "https://stackoverflow.com/questions/42401156/leap-motion-error-fatal-python-error-pythreadstate-get-no-current-thread-abor", "title": "Leap Motion error: Fatal Python error: PyThreadState_Get: no current thread Abort trap: 6", "body": "<p>I have no experience programming Leap Motion, and I tried to run the Sample.py file on python2.7 (on IOS Sierra, 10.12.3). However, it always give me the following error:\n    Fatal Python error: PyThreadState_Get: no current thread\n    Abort trap: 6</p>\n\n<p>When I try </p>\n\n<pre><code>which python2.7\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>/opt/local/bin/python2.7\n</code></pre>\n\n<p>When I run</p>\n\n<pre><code>otool -L LeapPython.so\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>LeapPython.so:\n    /opt/local/bin/python2.7/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)\n    @loader_path/libLeap.dylib (compatibility version 0.7.0, current version 2.3.1)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\n    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.0.0)\n</code></pre>\n\n<p>I have a few python versions in my OS. When I run <code>sudo port select --list python</code>\nI get </p>\n\n<pre><code>Available versions for python:\n    none\n    python26-apple\n    python27\n    python27-apple (active)\n</code></pre>\n\n<p>What is happening...Please help!! Thank you so so much.</p>\n"}, {"tags": ["python", "tableau-api"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4930258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff7dc89703d12e66ad3200f8078e20?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4930258/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1487793951, "creation_date": 1487793951, "answer_id": 42401222, "question_id": 42401124, "link": "https://stackoverflow.com/questions/42401124/tableau-sdk-tableexception-40200/42401222#42401222", "title": "Tableau SDK TableException (40200)", "body": "<p>The reason now seems obvious...\nThe error had the answer :\nOS::mkdir(CreateDirectory path=\"C:\\PATH\\Tableau-SDK\\tdetmp2A0E0E5E\")</p>\n\n<p>To solve the issue :</p>\n\n<p>The Directory C:\\PATH\\Tableau-SDK\\ did not exist.\nCreated the Directory and the code ran without error. </p>\n"}], "owner": {"reputation": 11, "user_id": 4930258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff7dc89703d12e66ad3200f8078e20?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4930258/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 0, "accepted_answer_id": 42401222, "answer_count": 1, "score": 0, "last_activity_date": 1487793951, "creation_date": 1487793658, "question_id": 42401124, "link": "https://stackoverflow.com/questions/42401124/tableau-sdk-tableexception-40200", "title": "Tableau SDK TableException (40200)", "body": "<p>Issue: Error being thrown: tableausdk.Exceptions.TableauException: TableauException (40200): The system cannot find the path specified.\n- OS::mkdir(CreateDirectory path=\"C:\\PATH\\Tableau-SDK\\tdetmp2A0E0E5E\")</p>\n\n<p>I am attempting to to create a tableau extract from oracle data using python and the tableauSDK.</p>\n\n<p>The code seems to run correctly if the extract already exists. (although the produced tde is unreadable)</p>\n\n<p>According to the Tableau community I should be able to create an extract from any source data without the extract already existing...</p>\n\n<p>Any idea on why this is occuring?</p>\n\n<pre><code>tde_path = r'C:\\PATH\\test.tde'\ntde_file = Extract(path=tde_path) ## ERROR Thrown here\n</code></pre>\n"}, {"tags": ["python", "object", "canvas", "tkinter"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1487793956, "post_id": 42401110, "comment_id": 71949378, "body": "Very generally speaking, it&#39;s a bad idea to have either infinite loops or <code>sleep</code> commands in your Tkinter program. The window won&#39;t update, and user commands won&#39;t be registered, until your function ends and control returns to the mainloop. If you want something to happen periodically, use <code>root.after</code> or <code>root.after_idle</code>. Try that and see whether your <code>for item in my_list</code> approach really is the problem."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1487794078, "post_id": 42401110, "comment_id": 71949444, "body": "Alternatively, if the code you&#39;re sharing here isn&#39;t actually the code you&#39;re running, it&#39;s just the code you were thinking of writing before you decided it would be too inefficient: premature optimization is the root of all evil. You can&#39;t be sure how fast code really is unless you write it and run it and measure it."}, {"owner": {"reputation": 505, "user_id": 7337283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iBedi.jpg?s=128&g=1", "display_name": "EriktheRed", "link": "https://stackoverflow.com/users/7337283/erikthered"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1487794397, "post_id": 42401110, "comment_id": 71949643, "body": "Thanks for the advice, this is not actual code I&#39;m using. I was using it to demonstrate my question as clearly as possible, but it isn&#39;t really relevant to the question. But thanks for pointing it out."}, {"owner": {"reputation": 505, "user_id": 7337283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iBedi.jpg?s=128&g=1", "display_name": "EriktheRed", "link": "https://stackoverflow.com/users/7337283/erikthered"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1487794596, "post_id": 42401110, "comment_id": 71949769, "body": "The code I am working on is a star simulator, where I have up to 1000 items on the canvas, and lists become impractical. However, I imagine this should still be manageable somehow, as they are many basic operations"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1487801729, "post_id": 42401110, "comment_id": 71953612, "body": "why is a list with 1000 items impractical? Keeping a list is definitely the simplest solution, and 1000 items is well within the bounds of something python can handle."}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 7337283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iBedi.jpg?s=128&g=1", "display_name": "EriktheRed", "link": "https://stackoverflow.com/users/7337283/erikthered"}, "edited": false, "score": 0, "creation_date": 1487795713, "post_id": 42401671, "comment_id": 71950362, "body": "Thanks for the answer Kevin, but perhaps my question was unclear. I am trying to call methods on my own objects on the canvas. I could just as well have used another method in the example, which, say, splits my bubble into two smaller bubbles"}], "tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": false, "score": 1, "last_activity_date": 1487795493, "creation_date": 1487795493, "answer_id": 42401671, "question_id": 42401110, "link": "https://stackoverflow.com/questions/42401110/keeping-track-of-own-objects-on-tkinter-canvas/42401671#42401671", "title": "keeping track of own objects on tkinter canvas", "body": "<p>If you want to perform custom individual changes to each item (say, changing each item's color to a brand new random color), then you can't do any better than iterating through each one and calling <code>itemconfig</code> on them individually.</p>\n\n<p>However, if you want to make the same change to each item, you can tag your items and call <code>itemconfig</code> a single time, using that tag as your specifier.</p>\n\n<p>Example:</p>\n\n<pre><code>import Tkinter\nimport random\n\nroot = Tkinter.Tk()\ncanvas = Tkinter.Canvas(root, width=400, height=400)\ncanvas.pack()\n\nfor i in range(1000):\n    x = random.randint(0, 400)\n    y = random.randint(0, 400)\n    canvas.create_oval((x-5,y-5,x+5,y+5), fill=\"white\", tags=(\"bubble\"))\n\ncurrent_color = \"white\"\ndef change_colors():\n    global current_color\n    current_color = \"white\" if current_color == \"black\" else \"black\"\n    canvas.itemconfig(\"bubble\", fill = current_color)\n    root.after(1000, change_colors)\n\nroot.after(1000, change_colors)\nroot.mainloop()\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3BttG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BttG.gif\" alt=\"enter image description here\"></a></p>\n\n<p>However, as I indicated in an earlier comment, I'm still of the opinion that this is a premature optimization. Even if you have a thousand items, iterating through them and configuring them individually isn't noticeably slower than doing it with tags. Example:</p>\n\n<pre><code>import Tkinter\nimport random\n\nroot = Tkinter.Tk()\ncanvas = Tkinter.Canvas(root, width=400, height=400)\ncanvas.pack()\n\nitems = []\nfor i in range(1000):\n    x = random.randint(0, 400)\n    y = random.randint(0, 400)\n    id = canvas.create_oval((x-5,y-5,x+5,y+5), fill=\"white\")\n    items.append(id)\n\ncurrent_color = \"white\"\ndef change_colors():\n    global current_color\n    current_color = \"white\" if current_color == \"black\" else \"black\"\n    for id in items:\n        canvas.itemconfig(id, fill = current_color)\n    root.after(1000, change_colors)\n\nroot.after(1000, change_colors)\nroot.mainloop()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 3, "last_activity_date": 1487801382, "creation_date": 1487801382, "answer_id": 42403243, "question_id": 42401110, "link": "https://stackoverflow.com/questions/42401110/keeping-track-of-own-objects-on-tkinter-canvas/42403243#42403243", "title": "keeping track of own objects on tkinter canvas", "body": "<p>My advice is to give each item you create at least two tags. One tag would be \"bubble\" so that you can reference all bubbles at once, and the second would be a tag unique to each bubble. </p>\n\n<p>For example:</p>\n\n<pre><code>class Bubble():\n    def __init__(...):\n        self.tag = \"b-%d\" % id(self)\n        ...\n        canvas.create_oval(..., tags=(\"bubble\", self.tag))\n        ...\n</code></pre>\n\n<p>With that, you can implement a <code>change_color</code> method on the <code>Bubble</code> class like the following, which will change all canvas items created by this instance of the class:</p>\n\n<pre><code>def change_color(self, color):\n    canvas.itemconfigure(self.tag, fill=color)\n</code></pre>\n\n<p>You can then create a red bubble like this:</p>\n\n<pre><code>bubble = Bubble()\nbubble.change_color(\"red\")\n</code></pre>\n\n<p>This also lets you change all bubbles at once using the \"bubble\" tag:</p>\n\n<pre><code>canvas.itemconfigure(\"bubble\", outline=\"blue\")\n</code></pre>\n\n<p>If you want the bubbles to blink, you should <em>not</em> create a <code>while</code> loop. Instead, take advantage of the loop that is already running.</p>\n\n<p>Do this by creating a function that does whatever you want, and then have that function schedule itself to run again via <code>after</code>. For example:</p>\n\n<pre><code>def blink(color=\"red\"):\n    canvas.itemconfigure(\"bubble\", fill=color)\n    new_color = \"red\" if color == \"white\" else \"white\"\n    canvas.after(1000, blink, new_color)\n</code></pre>\n\n<p>This will cause all bubbles to blink every second as long as the program is running.</p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1558449735, "last_edit_date": 1558449735, "creation_date": 1487801619, "answer_id": 42403290, "question_id": 42401110, "link": "https://stackoverflow.com/questions/42401110/keeping-track-of-own-objects-on-tkinter-canvas/42403290#42403290", "title": "keeping track of own objects on tkinter canvas", "body": "<p>The <code>Canvas.find_withtag()</code> method will return a list of the IDs of the all the matching objects specified by first argument. You can use that in conjunction with a dictionary to map those back to the corresponding instances of your class. Once you have that, you can call any of its methods. </p>\n\n<pre><code>import Tkinter\nimport random\n\nBUBBLE_TAG = 'Bubble'\ncurrent_color = 'white'\n\nclass Bubble(object):\n    def __init__(self, canvas, x, y, size, color):\n        self.canvas = canvas\n        self.id = canvas.create_oval((x-5,y-5,x+5,y+5), fill=color, \n                                     tags=BUBBLE_TAG)\n\n    def change_color(self, new_color):\n        self.canvas.itemconfigure(self.id, fill=new_color)\n\nroot = Tkinter.Tk()\ncanvas = Tkinter.Canvas(root, width=400, height=400)\ncanvas.pack()\n\nmapping = {}\nfor i in range(1000):\n    x, y = random.randint(0, 400), random.randint(0, 400)\n    color = 'black' if random.randint(0, 1) else 'white'\n    obj = Bubble(canvas, x, y, 5, color)\n    mapping[obj.id] = obj\n\ndef change_colors():\n    for id in canvas.find_withtag(BUBBLE_TAG):\n        current_color = canvas.itemcget(id, 'fill')\n        new_color = 'black' if current_color == 'white' else 'white'\n        mapping[id].change_color(new_color)  # calls method of object\n    root.after(1000, change_colors)\n\nroot.after(1000, change_colors)\nroot.mainloop()\n</code></pre>\n\n<p>Here's an example of it running:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qEPCS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qEPCS.gif\" alt=\"sample of it running\"></a></p>\n"}], "owner": {"reputation": 505, "user_id": 7337283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iBedi.jpg?s=128&g=1", "display_name": "EriktheRed", "link": "https://stackoverflow.com/users/7337283/erikthered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2085, "favorite_count": 1, "accepted_answer_id": 42403243, "answer_count": 3, "score": 2, "last_activity_date": 1558449735, "creation_date": 1487793638, "last_edit_date": 1487794735, "question_id": 42401110, "link": "https://stackoverflow.com/questions/42401110/keeping-track-of-own-objects-on-tkinter-canvas", "title": "keeping track of own objects on tkinter canvas", "body": "<p>Up until now, whenever I've needed to work with multiple shapes on a tkinter canvas, they were just that - shapes. I get their tags with <code>canvas.find_all()</code> and manipulate their geometry by moving, resizing etc.<br>\nBut I bumped into this problem which I can't seem to solve like this.<br>\nIf I define a my own class and draw this object to the canvas, how can I keep track of all the objects on the canvas, in order to call their methods?</p>\n\n<p>Say I define a <code>Bubble</code> class, which draws a bubbly thing to the screen. After every second I want it to change all the bubbles' colour to another colour, using their <code>change_colour</code> methods.  </p>\n\n<pre><code>my_list = []\nfor n in range(10):\n    bubble = Bubble()\n    my_list.append(bubble)\n\nwhile True:\n    time.sleep(1)\n    for item in my_list:\n        item.change_colour()\n</code></pre>\n\n<p>I could append it to a big 'ol list, then iterate through it like I am doing here, but for cases with more objects this is far too slow!<br>\nWhat is the proper way of doing this?<br>\nAs usual, thanks for any help!  </p>\n\n<p>As pointed out, <code>time.sleep()</code> doesn't make any sense, but it is not the problem I am trying to solve.</p>\n"}, {"tags": ["python", "multithreading", "python-3.x", "queue"], "answers": [{"comments": [{"owner": {"reputation": 1152, "user_id": 4006592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a445ca1b321af3daf6f5ff0adee5c7e?s=128&d=identicon&r=PG&f=1", "display_name": "SMX", "link": "https://stackoverflow.com/users/4006592/smx"}, "edited": false, "score": 0, "creation_date": 1487796414, "post_id": 42401794, "comment_id": 71950762, "body": "That&#39;s pretty much how I interpreted the example too. So, my question is, isn&#39;t every item in the queue handled (and all threads cleaned up) even if we remove the <code>q.join()</code> statement? By joining all the worker threads (the last step) we&#39;re still waiting for all the items in the queue to get handled."}, {"owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "reply_to_user": {"reputation": 1152, "user_id": 4006592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a445ca1b321af3daf6f5ff0adee5c7e?s=128&d=identicon&r=PG&f=1", "display_name": "SMX", "link": "https://stackoverflow.com/users/4006592/smx"}, "edited": false, "score": 1, "creation_date": 1487796612, "post_id": 42401794, "comment_id": 71950877, "body": "Yes, we are still waiting, but I think it&#39;s a coded security measure.  What if the addition of <code>None</code> were added miraculously before all the items in the Queue were handled and a worker got one?  I think it&#39;s just a tediously programmed example to make sure you understand what&#39;s happening without having to understand completely that Queue goes FIFO (First In, First Out).  And besides, this example could be adapted for a LIFO (Last In, First Out) implementation.  But, with this current example, I believe you could take out <code>q.join()</code> and it would be fine."}], "tags": [], "owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "is_accepted": false, "score": 3, "last_activity_date": 1487795900, "creation_date": 1487795900, "answer_id": 42401794, "question_id": 42401108, "link": "https://stackoverflow.com/questions/42401108/when-is-queue-join-necessary/42401794#42401794", "title": "When is Queue.join() necessary?", "body": "<p>Here's how I'm understanding the example.</p>\n\n<p>Each worker loops infinitely, always looking for something new from the Queue.  If the item it gets is <code>None</code>, it breaks and returns control to main. </p>\n\n<p>So, first we make the program wait for the Queue to be empty.  Each call to <code>q.task_done()</code> marks a new item as complete.  The code hangs on the following so we make sure every item is marked as done.</p>\n\n<pre><code># block until all tasks are done\nq.join()\n</code></pre>\n\n<p>Then, below, we add the same number of <code>None</code> items into the queue as there are workers (so we make sure each worker gets one.)</p>\n\n<pre><code>for i in range(num_worker_threads):\n    q.put(None)\n</code></pre>\n\n<p>Next, we join all the threads.  Since we gave every worker a <code>None</code> item through the Queue, they will all break.  Until they all break and return control, we want to hang here.</p>\n\n<pre><code>for t in threads:\n    t.join()\n</code></pre>\n\n<p>Doing it this way, we make sure that every item in the Queue is handled, every worker breaks when the Queue is empty, and each worker is shut down before we move on with our code, helping avoid orphan processes.</p>\n"}], "owner": {"reputation": 1152, "user_id": 4006592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a445ca1b321af3daf6f5ff0adee5c7e?s=128&d=identicon&r=PG&f=1", "display_name": "SMX", "link": "https://stackoverflow.com/users/4006592/smx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3475, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1487795900, "creation_date": 1487793636, "question_id": 42401108, "link": "https://stackoverflow.com/questions/42401108/when-is-queue-join-necessary", "title": "When is Queue.join() necessary?", "body": "<p>The Python 3 docs give an example of a worker thread that uses a queue (<a href=\"https://docs.python.org/3/library/queue.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/queue.html</a>):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def worker():\n    while True:\n        item = q.get()\n        if item is None:\n            break\n        do_work(item)\n        q.task_done()\n\nq = queue.Queue()\nthreads = []\nfor i in range(num_worker_threads):\n    t = threading.Thread(target=worker)\n    t.start()\n    threads.append(t)\n\nfor item in source():\n    q.put(item)\n\n# block until all tasks are done\nq.join()\n\n# stop workers\nfor i in range(num_worker_threads):\n    q.put(None)\nfor t in threads:\n    t.join()\n</code></pre>\n\n<p>In this example, why is <code>q.join()</code> necessary? Don't the subsequent <code>q.put(None)</code> and <code>t.join()</code> operations accomplish the same thing of blocking the main thread until the worker threads have completed?</p>\n"}, {"tags": ["python", "python-2.7", "csv"], "comments": [{"owner": {"reputation": 75043, "user_id": 84270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2c0de47c3681c58f25b1eb821f7221?s=128&d=identicon&r=PG", "display_name": "John Machin", "link": "https://stackoverflow.com/users/84270/john-machin"}, "edited": false, "score": 0, "creation_date": 1487798097, "post_id": 42401076, "comment_id": 71951742, "body": "Removed irrelevant <code>xlrd</code> tag."}], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 7594986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc19e04ae684a3790e45f290bb1da309?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Real", "link": "https://stackoverflow.com/users/7594986/jeremy-real"}, "edited": false, "score": 0, "creation_date": 1487796138, "post_id": 42401717, "comment_id": 71950607, "body": "That fixed it. Thanks!"}], "tags": [], "owner": {"reputation": 75043, "user_id": 84270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2c0de47c3681c58f25b1eb821f7221?s=128&d=identicon&r=PG", "display_name": "John Machin", "link": "https://stackoverflow.com/users/84270/john-machin"}, "is_accepted": true, "score": 0, "last_activity_date": 1487795665, "creation_date": 1487795665, "answer_id": 42401717, "question_id": 42401076, "link": "https://stackoverflow.com/questions/42401076/python-unicodecsv-writer-rewriting-all-previous-rows-each-time-a-new-row-is-writ/42401717#42401717", "title": "Python unicodecsv.writer rewriting all previous rows each time a new row is written", "body": "<ol>\n<li><p>Don't create a new csv.writer instance each time around the loop.</p></li>\n<li><p>Your main problem is that you are appending rows to csv_data then using writerows ... try something like the following:</p>\n\n<p><code>def PrintProcess2(directory2):\n    with open(directory2 + \"participant list.csv\", 'wb') as f:\n        writer = csv.writer(f)\n        headers = sorted([k for k, v in DictList2[0].items()])\n        writer.writerow(headers)\n        for d in DictList2:\n            writer.writerow([d[h] for h in headers])</code></p></li>\n</ol>\n"}], "owner": {"reputation": 636, "user_id": 7594986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc19e04ae684a3790e45f290bb1da309?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Real", "link": "https://stackoverflow.com/users/7594986/jeremy-real"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 42401717, "answer_count": 1, "score": 0, "last_activity_date": 1487798009, "creation_date": 1487793506, "last_edit_date": 1487798009, "question_id": 42401076, "link": "https://stackoverflow.com/questions/42401076/python-unicodecsv-writer-rewriting-all-previous-rows-each-time-a-new-row-is-writ", "title": "Python unicodecsv.writer rewriting all previous rows each time a new row is written", "body": "<p>I'm parsing data from several excel files, transforming them, and writing them to a single csv file. I was able to get it to work. However, I decided to break the parts into functions and run the script by calling each function sequentially.</p>\n\n<p>After making this change, the writer portion of the script is looping somehow and now writes the following:\nheader_row, data_row1, header_row, data_row1, data_row2, header_row ...</p>\n\n<p>Below is the print function where the problem is occuring. I've confirmed that the data in the DictList2 is correctly formed and that [headers] is accurate. </p>\n\n<pre><code>def PrintProcess2(directory2):\n    with open(directory2 + \"participant list.csv\", 'wb') as f:\n        headers = sorted([k for k, v in DictList2[0].items()])\n        csv_data = [headers]\n        for d in DictList2:\n            csv_data.append([d[h] for h in headers])\n\n            writer = csv.writer(f)\n            writer.writerows(csv_data)\n</code></pre>\n\n<p>The code in this function is identical to the version without functions, and that one writes the data correctly. I'm completely stumped at this point. Can someone help?</p>\n"}, {"tags": ["python", "ubuntu", "parallel-processing", "ubuntu-16.04", "joblib"], "comments": [{"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1487793638, "post_id": 42401074, "comment_id": 71949204, "body": "Is this a problem of setting cpu affinity? I use psutil for that."}, {"owner": {"reputation": 21, "user_id": 6169365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JiI8yzJvHRA/AAAAAAAAAAI/AAAAAAAAAc8/qpANQxvZaYg/photo.jpg?sz=128", "display_name": "Chris Leonard", "link": "https://stackoverflow.com/users/6169365/chris-leonard"}, "reply_to_user": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1487805402, "post_id": 42401074, "comment_id": 71955029, "body": "The most obvious fixes for that (<a href=\"http://stackoverflow.com/questions/16323743/ipython-parallel-not-using-multicore\" title=\"ipython parallel not using multicore\">stackoverflow.com/questions/16323743/&hellip;</a>) do not work. I&#39;ll edit my question to add the code I tried to address that."}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1487817315, "post_id": 42401074, "comment_id": 71958789, "body": "i was using <code>p.cpu_affinity(cpu_id)</code> where <code>cpu_id</code> is a single integer instead of range. This binds the process to the single cpu with the <code>cpu_id</code>. I also used different cpu_id for different subprocesses. I think the code you used would allow the process to run on all/any of the 12 cpu specified by that range instead of forcing the process to run only on a specific cpu. See the example for <code>cpu_affinity</code> at <a href=\"https://pythonhosted.org/psutil/\" rel=\"nofollow noreferrer\">pythonhosted.org/psutil</a>"}], "owner": {"reputation": 21, "user_id": 6169365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JiI8yzJvHRA/AAAAAAAAAAI/AAAAAAAAAc8/qpANQxvZaYg/photo.jpg?sz=128", "display_name": "Chris Leonard", "link": "https://stackoverflow.com/users/6169365/chris-leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1027, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487894378, "creation_date": 1487793499, "last_edit_date": 1487894378, "question_id": 42401074, "link": "https://stackoverflow.com/questions/42401074/python3-joblib-starts-using-multiple-cores-drops-to-single-core", "title": "Python3 Joblib-Starts using multiple cores, drops to single core", "body": "<p>I will preface this by saying I'm new to parallel processing. Working on getting better, but I can't find an answer to my problem, which seems to be fairly unique.</p>\n\n<p>I am having trouble with this piece of code:</p>\n\n<pre><code>from joblib import Parallel\nimport multiprocessing\n\nn_cores = multiprocessing.cpu_count()\nParallel(n_jobs=n_cores)(delayed(blexon)(gene,genomes) for gene in genes)\n</code></pre>\n\n<p>'genes' and 'genomes' are lists of strings. In my genes list, I can have hundreds of genes. I'm using Parallel to run this process on all these genes, and this works! If you consider the genes running at the same time as sets, then for the first few 'sets' I can use all cores of my computer. After a few sets, though, the program only uses one core. If I have 12 cores, 12 genes will run simultaneously for a few set iterations, but at some point, only one gene will run.</p>\n\n<p>I have found information about Parallel using only one core with scipy (which I use in this script), but this is strange behavior: it uses all the cores temporarily before switching to using a single core.</p>\n\n<p>I'm not sure how to fix this problem. Does anyone have any input?</p>\n\n<p>Thank you.</p>\n\n<p>System:\nUbuntu 16.04 LTS\nPython 3.5.2\njoblib 0.9.4</p>\n\n<p>---EDIT---</p>\n\n<p>Here is the bit of code I used to try to address the cpu affinity problem:</p>\n\n<pre><code>p = psutil.Process(os.getpid())\nprint(p.cpu_affinity())\np.cpu_affinity(range(multiprocessing.cpu_count()))\nprint(p.cpu_affinity())\n</code></pre>\n\n<p>Output: (This computer has 12 cores)</p>\n\n<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]\n</code></pre>\n\n<p>--EDIT--</p>\n\n<p>After watching htop while the program is running (each iteration can take a few minutes) I find that the number of cores decreases gradually. I started with 12 cores, and after this set, I'm down to 11 cores running in parallel.</p>\n"}, {"tags": ["python", "python-3.x", "ffmpeg"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 2, "creation_date": 1487793659, "post_id": 42401064, "comment_id": 71949217, "body": "Perhaps <code>subprocess.check_output</code> would give you more useful diagnostic information."}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1487793807, "post_id": 42401064, "comment_id": 71949291, "body": "What does <code>os.system(&#39;echo $PATH&#39;)</code> give you, and is it the same as running <code>echo $PATH</code> at the shell?"}, {"owner": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1487793993, "post_id": 42401064, "comment_id": 71949400, "body": "@Kevin check my <b>EDIT</b>"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1487794417, "post_id": 42401064, "comment_id": 71949653, "body": "That&#39;s pretty peculiar. Why would ffmpeg, a program written in in C, be emitting OSError, a Python exception? Something strange is going on here..."}], "owner": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487793983, "creation_date": 1487793480, "last_edit_date": 1487793983, "question_id": 42401064, "link": "https://stackoverflow.com/questions/42401064/os-system-returning-false-for-some-reason", "title": "os.system() returning False for some reason", "body": "<p>I have a rather large program (memory-wise), it's a neural network with Tensorflow. I'm working with volumetric data. My end goal is to use <code>ffmpeg</code> to create a video through the volume -- where each frame is a z-slice. I've successfully done this before using the <code>os</code> python library. The code looks like this:</p>\n\n<pre><code>videoFile = self.slicesPath + \"/0.mp4\"\nsliceFiles = self.slicesPath + \"/%04d.jpg\"\nos.system(\"ffmpeg -y -framerate 10 -start_number 0 -i \" + sliceFiles + \" -vcodec mpeg4 \" + videoFile)\n</code></pre>\n\n<p>When I step through this with <code>pdb</code> and I try to execute the <code>os.system()</code> command I get <code>-1</code> as if there were some error. </p>\n\n<pre><code>(Pdb) os.system(\"ffmpeg -y -framerate 10 -start_number 0 -i \" + sliceFiles + \" -vcodec mpeg4 \" + videoFile)\n-1\n</code></pre>\n\n<p>So then I printed the two variables...</p>\n\n<pre><code>(Pdb) sliceFiles\n'/home/volcart/UnsupervisedResults/HercFragment/VAE/0/1/%04d.jpg'\n(Pdb) videoFile\n'/home/volcart/UnsupervisedResults/HercFragment/VAE/0/1/0.mp4'\n</code></pre>\n\n<p>Opened up a python console in a new terminal tab, copy and pasted the exact same line of code (with the strings above instead of variable names), and BAM! it magically works. </p>\n\n<p>Why is this? It works in a separate python console, it works in bash, but it doesn't work inside my program (when it is the exact same thing). My only guess is something to do with memory, but I know for certain I am not out of memory... my machine has 64GB and python has no limits. </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I just tried a <code>subprocess</code> instead and got this:</p>\n\n<pre><code>(Pdb) subprocess.call(\"ffmpeg -y -framerate 10 -start_number 0 -i \" + sliceFiles + \" -vcodec mpeg4 \" + videoFile, shell=True)\n*** OSError: [Errno 12] Cannot allocate memory\n</code></pre>\n\n<p>But how is it unable to allocate memory? Python doesn't have memory bounds right? I have 64GB of memory, and I can execute the <code>ffmpeg</code> command outside the program, so something is bounding my program.</p>\n"}, {"tags": ["python", "input-field"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1487793845, "post_id": 42401058, "comment_id": 71949316, "body": "Can&#39;t you just initialize the field with a bunch of dots?"}, {"owner": {"reputation": 2553, "user_id": 2475129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ezjXs.png?s=128&g=1", "display_name": "manassehkatz-Moving 2 Codidact", "link": "https://stackoverflow.com/users/2475129/manassehkatz-moving-2-codidact"}, "edited": false, "score": 0, "creation_date": 1487794216, "post_id": 42401058, "comment_id": 71949530, "body": "That won&#39;t work because it will either all go away when the user starts typing or the user will end up actually submitting a string of dots following the real text."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7481045, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACxrmaZwZY/AAAAAAAAAAI/AAAAAAAAAG0/R0mbAjushes/photo.jpg?sz=128", "display_name": "Lewis Hughes", "link": "https://stackoverflow.com/users/7481045/lewis-hughes"}, "edited": false, "score": 0, "creation_date": 1487796079, "post_id": 42401239, "comment_id": 71950569, "body": "ive been researching but i haven&#39;t had much luck :( , thank you for the swift help! Do you have an idea of a summary of code that would needed?"}, {"owner": {"reputation": 522, "user_id": 1484491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jneRa.gif?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1484491/hugo"}, "reply_to_user": {"reputation": 23, "user_id": 7481045, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACxrmaZwZY/AAAAAAAAAAI/AAAAAAAAAG0/R0mbAjushes/photo.jpg?sz=128", "display_name": "Lewis Hughes", "link": "https://stackoverflow.com/users/7481045/lewis-hughes"}, "edited": false, "score": 0, "creation_date": 1487802273, "post_id": 42401239, "comment_id": 71953853, "body": "I haven&#39;t used the curses module yet but it looks like there&#39;s a <a href=\"https://docs.python.org/3/howto/curses.html#curses-howto\" rel=\"nofollow noreferrer\">good tutorial in the Python docs</a> and another on <a href=\"http://www.tuxradar.com/content/code-project-build-ncurses-ui-python\" rel=\"nofollow noreferrer\">Tuxradar</a>."}], "tags": [], "owner": {"reputation": 522, "user_id": 1484491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jneRa.gif?s=128&g=1", "display_name": "Hugo", "link": "https://stackoverflow.com/users/1484491/hugo"}, "is_accepted": true, "score": 1, "last_activity_date": 1487794020, "creation_date": 1487794020, "answer_id": 42401239, "question_id": 42401058, "link": "https://stackoverflow.com/questions/42401058/msdos-style-input-field-in-python/42401239#42401239", "title": "MSDOS style Input field in python", "body": "<p>What have you tried so far?</p>\n\n<p>You can use <a href=\"https://docs.python.org/3/library/functions.html?highlight=input#input\" rel=\"nofollow noreferrer\">Python's <code>input()</code></a> to receive input, however that won't write over dots.\nIf you wanted to create an interface similar to the linked screenshot, you will need to use the <a href=\"https://docs.python.org/3/library/curses.html#module-curses\" rel=\"nofollow noreferrer\">curses module</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 7481045, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACxrmaZwZY/AAAAAAAAAAI/AAAAAAAAAG0/R0mbAjushes/photo.jpg?sz=128", "display_name": "Lewis Hughes", "link": "https://stackoverflow.com/users/7481045/lewis-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 42401239, "answer_count": 1, "score": 0, "last_activity_date": 1487794020, "creation_date": 1487793445, "question_id": 42401058, "link": "https://stackoverflow.com/questions/42401058/msdos-style-input-field-in-python", "title": "MSDOS style Input field in python", "body": "<p>I'm hoping someone can help...\nI'm looking to create an input field that goes over dots in PYTHON...\nheres and example in MSDOS </p>\n\n<p><a href=\"https://upload.wikimedia.org/wikipedia/en/3/3b/Norton_Utilities_6.01_UI.png\" rel=\"nofollow noreferrer\">https://upload.wikimedia.org/wikipedia/en/3/3b/Norton_Utilities_6.01_UI.png</a>\nPlease look at the top input field file name, this is something similar I'm hoping to get help with...</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["python", "powershell", "metadata"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 3411757, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/B4nWJ.gif?s=128&g=1", "display_name": "oymonk", "link": "https://stackoverflow.com/users/3411757/oymonk"}, "edited": false, "score": 0, "creation_date": 1487830275, "post_id": 42403242, "comment_id": 71963101, "body": "Thank you so much @BenH - this works great! I put | Out-file C:\\metadata6.txt -Append after your &quot;-1)&quot; to get a text file. One thing is odd though: For half the files extracted, there is no &quot;title&quot; metadata. Do you know why this might be the case?  The majority of these non-titled entries were in a subfolder."}, {"owner": {"reputation": 8928, "user_id": 6788803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sNRMz.png?s=128&g=1", "display_name": "BenH", "link": "https://stackoverflow.com/users/6788803/benh"}, "reply_to_user": {"reputation": 325, "user_id": 3411757, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/B4nWJ.gif?s=128&g=1", "display_name": "oymonk", "link": "https://stackoverflow.com/users/3411757/oymonk"}, "edited": false, "score": 0, "creation_date": 1487859466, "post_id": 42403242, "comment_id": 71981761, "body": "I do not know why. The <code>GetDetailsOf</code> method should pull all of the non-blank fields. Also if an answer worked for you then it is best practice to accept it."}], "tags": [], "owner": {"reputation": 8928, "user_id": 6788803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sNRMz.png?s=128&g=1", "display_name": "BenH", "link": "https://stackoverflow.com/users/6788803/benh"}, "is_accepted": true, "score": 1, "last_activity_date": 1487801379, "creation_date": 1487801379, "answer_id": 42403242, "question_id": 42401043, "link": "https://stackoverflow.com/questions/42401043/extract-metadata-from-word-and-excel-files/42403242#42403242", "title": "Extract metadata from Word and Excel files?", "body": "<p>You still can use PowerShell, you just needed to tie everything together to loop through all of your files.</p>\n\n<pre><code>$RootFolder = \"C:\\example\"\n$files = Get-ChildItem $RootFolder -Recurse\nforeach ($file in $files) { \n    $Folder = Split-Path $File.FullName\n    $FileName = Split-Path $File.FullName -Leaf\n    $Shell = New-Object -ComObject Shell.Application\n    $FolderObject = $Shell.namespace($Folder)\n    $FileObject = $FolderObject.ParseName($FileName)\n    $FolderObject.GetDetailsOf($FileObject,-1)\n}\n</code></pre>\n\n<p>Note: The object returned by <code>Get-ChildItem</code> doesn't have the author metadata, so when you use <code>Select-Object</code> it creates a blank property.</p>\n"}], "owner": {"reputation": 325, "user_id": 3411757, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/B4nWJ.gif?s=128&g=1", "display_name": "oymonk", "link": "https://stackoverflow.com/users/3411757/oymonk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "accepted_answer_id": 42403242, "answer_count": 1, "score": 0, "last_activity_date": 1487801379, "creation_date": 1487793398, "last_edit_date": 1495539972, "question_id": 42401043, "link": "https://stackoverflow.com/questions/42401043/extract-metadata-from-word-and-excel-files", "title": "Extract metadata from Word and Excel files?", "body": "<p>I have a series of nested folders in a Windows 7 operating system, all holding files.  The files are Word and Excel. I would like to extract the <em>Authors</em>, <em>Owner</em>, <em>Date Modified</em>, and <em>Date Created</em> metadata field from each file, and output to a text file.  </p>\n\n<p>My first attempt to do this involved using PowerShell.  <a href=\"https://stackoverflow.com/questions/13017375/powershell-function-to-get-metadata-recursively#13033238\">The code presented by the OP here</a> works great, but does not recurse through the folders.  I experimented with various ways of combining 'Get-ChildItem' with the funMetadata function, but was unable to do so.  Since it didn't work for the OP, and there were no solutions offered by the SO community, it seemed unwise to try to continue to try and fix this code.  Instead, I focused on modifying the OP's solution (below) by substituting my own metadata fields, but the output text file simply says \"Authors\" followed by a blank page. Here's what I tried:</p>\n\n<p>(navigate to root folder): <code>Get-ChildItem -Recurse | Select-Object Authors | Out-file \"C:\\text5.txt\"</code></p>\n\n<p>(By the way, the metadata definitely exists within the files - I know this by using the OP's original, not-able-to-recurse script).  </p>\n\n<p>Trying a different tack, I downloaded two python modules - <a href=\"https://bitbucket.org/haypo/hachoir/wiki/Home\" rel=\"nofollow noreferrer\">hachoir</a> and <a href=\"http://www.decalage.info/python/oletools\" rel=\"nofollow noreferrer\">oletools</a> - but once I got them installed, I did not know where to start. It doesn't seem as if there is any documentation.  </p>\n\n<p>Does anyone have advice for me?</p>\n\n<p>EDIT: I just found some new info <a href=\"https://stackoverflow.com/questions/7021141/how-to-retrieve-author-of-a-office-file-in-python\">here</a>, and this is probably a duplicate question.  I hate to delete it now though, in case someone's working on an answer. Apologies for any confusion</p>\n"}, {"tags": ["python", "wikipedia-api"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 1, "creation_date": 1487793528, "post_id": 42401004, "comment_id": 71949150, "body": "Please copy &amp; paste the errors you&#39;re getting into your question instead of posting an image of text."}, {"owner": {"reputation": 2936, "user_id": 2451486, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RzSne.png?s=128&g=1", "display_name": "smoggers", "link": "https://stackoverflow.com/users/2451486/smoggers"}, "edited": false, "score": 1, "creation_date": 1487793620, "post_id": 42401004, "comment_id": 71949198, "body": "Well when I search for Lexus (company) on Wikipedia the result reads: &#39;The page &quot;Lexus (company)&quot; does not exist. You can ask for it to be created, but consider checking the search results below to see whether the topic is already covered.&#39; So the error message makes sense"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7251496, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gr0kuIc2vJk/AAAAAAAAAAI/AAAAAAAAB5E/mfGw26VSdL4/photo.jpg?sz=128", "display_name": "Alex C.", "link": "https://stackoverflow.com/users/7251496/alex-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1487793920, "creation_date": 1487793920, "answer_id": 42401210, "question_id": 42401004, "link": "https://stackoverflow.com/questions/42401004/python-wikipedia-library/42401210#42401210", "title": "Python Wikipedia library", "body": "<p>Which page error exactly are you getting?</p>\n\n<p>According to the wikipedia documentation: <a href=\"https://wikipedia.readthedocs.io/en/latest/quickstart.html#quickstart\" rel=\"nofollow noreferrer\">https://wikipedia.readthedocs.io/en/latest/quickstart.html#quickstart</a></p>\n\n<blockquote>\n  <p>But watch out - wikipedia.summary will raise a DisambiguationError if the page is a disambiguation page, or a PageError if the page doesn\u2019t exist (although by default, it tries to find the page you meant with suggest and search.):</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 604, "user_id": 5616490, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nSKoOQLfNzs/AAAAAAAAAAI/AAAAAAAADtY/KI3v7Bw-73A/photo.jpg?sz=128", "display_name": "Rohin Gopalakrishnan", "link": "https://stackoverflow.com/users/5616490/rohin-gopalakrishnan"}, "reply_to_user": {"reputation": 836, "user_id": 3966705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7zKNH.jpg?s=128&g=1", "display_name": "M S", "link": "https://stackoverflow.com/users/3966705/m-s"}, "edited": false, "score": 1, "creation_date": 1547038986, "post_id": 42401271, "comment_id": 95053688, "body": "@M_S yes according to <a href=\"https://pypi.org/project/wikipedia/\" rel=\"nofollow noreferrer\">pypi.org/project/wikipedia</a> there is a python3.7 package."}], "tags": [], "owner": {"reputation": 604, "user_id": 5616490, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nSKoOQLfNzs/AAAAAAAAAAI/AAAAAAAADtY/KI3v7Bw-73A/photo.jpg?sz=128", "display_name": "Rohin Gopalakrishnan", "link": "https://stackoverflow.com/users/5616490/rohin-gopalakrishnan"}, "is_accepted": true, "score": 1, "last_activity_date": 1487794109, "creation_date": 1487794109, "answer_id": 42401271, "question_id": 42401004, "link": "https://stackoverflow.com/questions/42401004/python-wikipedia-library/42401271#42401271", "title": "Python Wikipedia library", "body": "<p>There was multiple issues with your program. Here is an updated program, with the errors fixed and marked. </p>\n\n<pre><code>import wikipedia\n\n\nprint (\"1: Searching Wikipedia for 'Lexus'\")\ntry:\n    print (wikipedia.page('Lexus'))\n    print ('-' * 60)\nexcept wikipedia.exceptions.DisambiguationError as e:\n    print (str(e))\n    print ('+' * 60)\n    print ('DisambiguationError: The page name is ambiguous')\nprint\n\n\nprint (\"2: Searching Wikipedia for 'Lexus (company)'\")\nresult = wikipedia.page('Lexus (company)') \n# ERR; PAGE NAME SEPARATED BY SPACE NOT WITH AN UNDERSCORE\n# &lt;&gt; PAGE ERROR AS PAGE WILL NOT BE FOUND.  \nprint (result)\nprint\n\n\nresult = result.content\nprint (\"3: Result of searching Wikipedia for 'Lexus_(company)':\")\nprint (result)\nprint\n\nlexus_count = result.count('Lexus')\n# changed variable name from orange_count -&gt; lexus_count, as referenced in the print function below. \n# you were counting for 'lexus' you will not find any occurrences as this function is case sensitive.\nprint\n\n\nprint (\"The Wikipedia page for 'Lexus_(company)' has \" + \\\n    \"{} occurrences of the word 'Lexus'\".format(lexus_count))\nprint\n</code></pre>\n\n<p>Hope this helps. </p>\n"}], "owner": {"reputation": 23, "user_id": 7248892, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-aML9ub7xBkg/AAAAAAAAAAI/AAAAAAAAAIU/SGHUtnSWRuU/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7248892/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "accepted_answer_id": 42401271, "answer_count": 2, "score": 0, "last_activity_date": 1487798520, "creation_date": 1487793238, "last_edit_date": 1487798520, "question_id": 42401004, "link": "https://stackoverflow.com/questions/42401004/python-wikipedia-library", "title": "Python Wikipedia library", "body": "<p>I'm using python library Wikipedia to parse data. When its get to the second part of the code I'm getting page errors.<a href=\"https://i.stack.imgur.com/yuywq.jpg\" rel=\"nofollow noreferrer\">Page Errors</a></p>\n\n<pre><code>import wikipedia\n\n\nprint (\"1: Searching Wikipedia for 'List of Lexus vehicles'\")\ntry:\n    print (wikipedia.page('List of Lexus'))\n    print ('-' * 60)\nexcept wikipedia.exceptions.DisambiguationError as e:\n    print (str(e))\n    print ('+' * 60)\n    print ('DisambiguationError: The page name is ambiguous')\nprint\n\n\nprint (\"2: Searching Wikipedia for 'List of Lexus (vehicles)'\")\nprint (wikipedia.page('List of Lexus_(vehicles)'))\nprint\n\n\nresult = wikipedia.page('List of Lexus_(vehicles)').content.encode('UTF8')\nprint (\"3: Result of searching Wikipedia for 'List of Lexus_(vehicles)':\")\nprint (result)\nprint\n\nlexus_count = result.count('ct','lfa','rx')\nprint\n\n\nprint (\"The Wikipedia page for 'Lexus_(company)' has \" + \\\n    \"{} occurrences of the word 'Lexus'\".format(lexus_count))\nprint\n</code></pre>\n\n<p>Updated \nI'm able to parse page data but getting Type error on count </p>\n\n<pre><code>23 print\n24\n25 lexus_count = result.count('ct','lfa','rx')\n26 print\nTypError: slice indices must be integers or None or have an __index__ method\n</code></pre>\n"}, {"tags": ["python", "regex", "pandas", "nlp"], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 6196696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6ea256e1af1a4ed610d72c278cfc69fb?s=128&d=identicon&r=PG&f=1", "display_name": "M3105", "link": "https://stackoverflow.com/users/6196696/m3105"}, "edited": false, "score": 0, "creation_date": 1487868612, "post_id": 42401379, "comment_id": 71988778, "body": "thank you for your answer. However, how could I do this while preserving the other data contained in the rows? So instead of having <code>0   4Z13</code> and <code>3   3LPH14</code> I&#39;m trying to get <code>5;4Z13H;;L</code> and <code>5;3LPH14;4567;;O</code>"}, {"owner": {"reputation": 8539, "user_id": 495990, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y7uk3.jpg?s=128&g=1", "display_name": "Hendy", "link": "https://stackoverflow.com/users/495990/hendy"}, "edited": false, "score": 0, "creation_date": 1523814906, "post_id": 42401379, "comment_id": 86704934, "body": "This is great and pointed me in the right direction. For others, you can just store the booleans in their own variable, separate from the <code>df</code>. In other words <code>mask = df[0].str...</code> and then <code>df = df[mask]</code>. Then you aren&#39;t adding a column just to filter by it and remove it."}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 2, "last_activity_date": 1487870637, "last_edit_date": 1487870637, "creation_date": 1487794508, "answer_id": 42401379, "question_id": 42400962, "link": "https://stackoverflow.com/questions/42400962/how-to-filter-rows-that-satisfy-a-regular-expression-via-pandas/42401379#42401379", "title": "how to filter rows that satisfy a regular expression via pandas", "body": "<p>One way is to read the csv as pandas dataframe and then use str.contains to create a mask column</p>\n\n<pre><code>df['mask'] = df[0].str.contains('(\\d+[A-Z]+\\d+)') #0 is the column name\ndf = (df[df['mask'] == True]).drop('mask', axis = 1)\n</code></pre>\n\n<p>You get the desired dataframe, if you wish, you can reset index using df = df.reset_index()</p>\n\n<pre><code>    0\n0   5;4Z13H;;L\n3   5;3LPH14;4567;;O\n</code></pre>\n\n<p>Second is to first read the csv and create an edit file with only the filtered rows and then read the filtered csv to create the dataframe</p>\n\n<pre><code>with open('filteredData.csv', 'r') as f_in:\n    with open('filteredData_edit.csv', 'w') as f_outfile:\n        f_out = csv.writer(f_outfile)\n        for line in f_in:\n            line = line.strip()\n            row = []\n            if bool(re.search(\"(\\d+[A-Z]+\\d+)\", line)):\n                row.append(line)\n                f_out.writerow(row)\ndf = pd.read_csv('filteredData_edit.csv', header = None)      \n</code></pre>\n\n<p>You get</p>\n\n<pre><code>    0\n0   5;4Z13H;;L\n1   5;3LPH14;4567;;O\n</code></pre>\n\n<p>From my experience, I would prefer the second method as it would be more efficient to filter out the undesired rows before creating the dataframe.</p>\n"}], "owner": {"reputation": 449, "user_id": 6196696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6ea256e1af1a4ed610d72c278cfc69fb?s=128&d=identicon&r=PG&f=1", "display_name": "M3105", "link": "https://stackoverflow.com/users/6196696/m3105"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2827, "favorite_count": 1, "accepted_answer_id": 42401379, "answer_count": 1, "score": 1, "last_activity_date": 1487870637, "creation_date": 1487793105, "last_edit_date": 1487868699, "question_id": 42400962, "link": "https://stackoverflow.com/questions/42400962/how-to-filter-rows-that-satisfy-a-regular-expression-via-pandas", "title": "how to filter rows that satisfy a regular expression via pandas", "body": "<p>I'm trying to figure out a way to to select only the rows that satisfy my regular expression via Pandas. My actual dataset, data.csv, has one column(the heading is not labeled) and millions of row. The first four rows look like:</p>\n\n<pre><code>5;4Z13H;;L\n5;346;4567;;O\n5;342;4563;;P\n5;3LPH14;4567;;O\n</code></pre>\n\n<p>and I wrote the following regular expression </p>\n\n<pre><code>([1-9][A-Z](.*?);|[A-Z][A-Z](.*?);|[A-Z][1-9](.*?);)\n</code></pre>\n\n<p>which would identify <code>4Z13H;</code> from row 1 and <code>3LPH14;</code> from row 4. Basically I would like pandas to filter my data and select rows 1 and 4. \nSo my desired output would be </p>\n\n<pre><code>5;4Z13H;;L\n5;3LPH14;4567;;O\n</code></pre>\n\n<p>I would then like to save the subset of filter rows into a new csv, filteredData.csv. So far I only have this:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport sys\nimport re\n\n\nsys.stdout=open(\"filteredData.csv\",\"w\")\n\ndef Process(filename, chunksize):\n    for chunk in pd.read_csv(filename, chunksize=chunksize):\n        df[0] = df[0].re.compile(r\"([1-9][A-Z]|[A-Z][A-Z]|[A-Z][1-9])(.*?);\")\n        sys.stdout.close()\n\n\nif __name__ == \"__main__\":\n    Process('data.csv', 10 ** 4)\n</code></pre>\n\n<p>I'm still relatively new to python so the code above has some syntax issues(I'm still trying to figure out how to use pandas chunksize). However the main issue is filtering the rows by the regular expression. I'd greatly appreciate anyone's advice</p>\n"}, {"tags": ["python", "openpyxl"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1487794983, "post_id": 42400960, "comment_id": 71949957, "body": "Read this <a href=\"http://stackoverflow.com/questions/101128/how-do-i-read-text-from-the-windows-clipboard-from-python\" title=\"how do i read text from the windows clipboard from python\">stackoverflow.com/questions/101128/&hellip;</a> and than come back with your code you have tried."}, {"owner": {"reputation": 3, "user_id": 7606519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cd9fc9720d2601722b1ddd31b8ab7f?s=128&d=identicon&r=PG&f=1", "display_name": "Victorio Morello", "link": "https://stackoverflow.com/users/7606519/victorio-morello"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1487800485, "post_id": 42400960, "comment_id": 71953037, "body": "@stovfl I added the code that I tried above, thanks :)"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1487836220, "post_id": 42400960, "comment_id": 71965898, "body": "Read This <a href=\"http://stackoverflow.com/questions/42195172/how-can-i-list-all-1st-row-values-in-an-excel-spreadsheet-using-openpyxl\" title=\"how can i list all 1st row values in an excel spreadsheet using openpyxl\">stackoverflow.com/questions/42195172/&hellip;</a> to get a clue how to get data from a range. You have to pass a String to the clippboard. Independently of this I guess Excel will past this clippboard Data in in one cell As string. Determine what Format Excel exspects to do copy and past."}, {"owner": {"reputation": 3, "user_id": 7606519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cd9fc9720d2601722b1ddd31b8ab7f?s=128&d=identicon&r=PG&f=1", "display_name": "Victorio Morello", "link": "https://stackoverflow.com/users/7606519/victorio-morello"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1487867626, "post_id": 42400960, "comment_id": 71988037, "body": "I will be dropping this idea but thank you for your help!"}], "owner": {"reputation": 3, "user_id": 7606519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cd9fc9720d2601722b1ddd31b8ab7f?s=128&d=identicon&r=PG&f=1", "display_name": "Victorio Morello", "link": "https://stackoverflow.com/users/7606519/victorio-morello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1123, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487800435, "creation_date": 1487793100, "last_edit_date": 1487800435, "question_id": 42400960, "link": "https://stackoverflow.com/questions/42400960/copying-a-range-of-cells-with-openpyxl-to-clipboard", "title": "Copying a range of cells with openpyxl to clipboard", "body": "<p>I am currently using python with the openpyxl library to move data from my program to an excel sheet. I am now trying to copy a set range to the clipboard as if I copied if from the sheet itself so that it would paste like a block (as excel does when copying a range), is there a way of doing this?</p>\n\n<p>Thank you!</p>\n\n<p>Update: so I installed pywin32 and I imported win32clipboard just fine. I tried to copy with that using this </p>\n\n<pre><code>win32clipboard.OpenClipboard()\nwin32clipboard.EmptyClipboard()\nwin32clipboard.SetClipboardData(17, ws['A1':'F{}'.format(i)] )\nwin32clipboard.CloseClipboard()\n</code></pre>\n\n<p>and I received the error as following;</p>\n\n<pre><code>File \"C:\\Users\\victoriom\\My Documents\\LiClipse Workspace\\Dot\\Main.py\", line 394, in CalculateFunc\nwin32clipboard.SetClipboardData(17, ws['A1':'F{}'.format(i)] )\nTypeError: 'tuple' does not support the buffer interface\n</code></pre>\n\n<p>I thought that maybe it was because I was using the wrong data format so I tried all the excel type (I can provide the list if it helps but its about 30 different numbers) but everyone one gave the same error</p>\n"}, {"tags": ["python", "arrays", "pandas", "numpy"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1487793985, "post_id": 42400952, "comment_id": 71949396, "body": "What about <code>numpy.ma.MaskedArray</code>?"}, {"owner": {"reputation": 553, "user_id": 1390608, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e99d4f8de2900bf7449fa87e790d181?s=128&d=identicon&r=PG", "display_name": "Nirvan", "link": "https://stackoverflow.com/users/1390608/nirvan"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1487794518, "post_id": 42400952, "comment_id": 71949715, "body": "Interesting. Do you know if it works with Pandas?"}, {"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 1, "creation_date": 1487794648, "post_id": 42400952, "comment_id": 71949794, "body": "It might be bit hacky. Can&#39;t you assign a designated integer to fill those missing values? You could reserve such an integer number to only fill the missing values. why do you want to insert only <code>None</code> in place of missing values?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1487810824, "post_id": 42400952, "comment_id": 71956871, "body": "What calculations are you doing with your data?  How are the missing values supposed to be handled?  Those issues are as important as storage density.  Floats with <code>nan</code> and masked arrays have addressed some of those details."}, {"owner": {"reputation": 553, "user_id": 1390608, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e99d4f8de2900bf7449fa87e790d181?s=128&d=identicon&r=PG", "display_name": "Nirvan", "link": "https://stackoverflow.com/users/1390608/nirvan"}, "edited": false, "score": 0, "creation_date": 1487863928, "post_id": 42400952, "comment_id": 71985256, "body": "Calculations isn&#39;t the problem -- the &#39;missing&#39; values aren&#39;t missing because of random non-response or something. The null values usually indicate an individual is &#39;Not in the universe&#39; for a particular variable e.g kids under 15 have a NULL for Labor Force Status; they aren&#39;t in the labor force but they&#39;re not &#39;Not in labor force&#39; either so we indicate that with a NULL value."}, {"owner": {"reputation": 553, "user_id": 1390608, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e99d4f8de2900bf7449fa87e790d181?s=128&d=identicon&r=PG", "display_name": "Nirvan", "link": "https://stackoverflow.com/users/1390608/nirvan"}, "edited": false, "score": 0, "creation_date": 1487863981, "post_id": 42400952, "comment_id": 71985298, "body": "And I think it&#39;s a matter of preference for our group to use NULL values instead of integer values -- it&#39;s less cognitive load when looking at the table."}], "answers": [{"tags": [], "owner": {"reputation": 553, "user_id": 1390608, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e99d4f8de2900bf7449fa87e790d181?s=128&d=identicon&r=PG", "display_name": "Nirvan", "link": "https://stackoverflow.com/users/1390608/nirvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1488206881, "creation_date": 1488206881, "answer_id": 42488672, "question_id": 42400952, "link": "https://stackoverflow.com/questions/42400952/int-array-with-missing-values-numpy/42488672#42488672", "title": "int array with Missing values numpy", "body": "<p>I found a very quick way to convert all the missing values in my dataframe into None types. the <code>.where</code> method </p>\n\n<pre><code>mydata = mydata.where( pd.notnull( mydata ), None )\n</code></pre>\n\n<p>It is much less memory intensive than what I was doing before. </p>\n"}], "owner": {"reputation": 553, "user_id": 1390608, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e99d4f8de2900bf7449fa87e790d181?s=128&d=identicon&r=PG", "display_name": "Nirvan", "link": "https://stackoverflow.com/users/1390608/nirvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2038, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488206881, "creation_date": 1487793063, "last_edit_date": 1495539973, "question_id": 42400952, "link": "https://stackoverflow.com/questions/42400952/int-array-with-missing-values-numpy", "title": "int array with Missing values numpy", "body": "<p>Numpy int arrays can't store missing values. </p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; np.arange(10)\narray([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\n&gt;&gt;&gt; myArray = np.arange(10)\n&gt;&gt;&gt; myArray.dtype\ndtype('int32')\n\n&gt;&gt;&gt; myArray[0] = None\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'\n\n&gt;&gt;&gt; myArray.astype( dtype = 'float')\narray([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9.])\n&gt;&gt;&gt; myFloatArray = myArray.astype( dtype = 'float')\n&gt;&gt;&gt; myFloatArray[0] = None\n\n&gt;&gt;&gt; myFloatArray\narray([ nan,   1.,   2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.])\n</code></pre>\n\n<p>Pandas warns about this in the docs - <a href=\"http://pandas.pydata.org/pandas-docs/stable/gotchas.html#support-for-integer-na\" rel=\"nofollow noreferrer\">Caveats and Gotchas, Support for int NA</a>. Wes McKinney also reiterates the point in this <a href=\"https://stackoverflow.com/questions/11548005/numpy-or-pandas-keeping-array-type-as-integer-while-having-a-nan-value\">stack question</a></p>\n\n<p>I need to be able to store missing values in an int array. I'm INSERTing rows into my database which I've set up to accept only ints of varying sizes. </p>\n\n<p>My current work around is to store the array as an object, which can hold both ints and None-types as elements. </p>\n\n<pre><code>&gt;&gt;&gt; myArray.astype( dtype = 'object')\narray([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], dtype=object)\n&gt;&gt;&gt; myObjectArray = myArray.astype( dtype = 'object')\n&gt;&gt;&gt; myObjectArray[0] = None\n&gt;&gt;&gt; myObjectArray \narray([None, 1, 2, 3, 4, 5, 6, 7, 8, 9], dtype=object)\n</code></pre>\n\n<p>This seems to be memory intensive and slow for large data-sets. I was wondering if anyone has a better solution while the numpy development is underway. </p>\n"}, {"tags": ["python", "html", "beautifulsoup", "html-parsing"], "comments": [{"owner": {"reputation": 5133, "user_id": 154762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d07d8564c1726ca28a6b99e560f0ec7?s=128&d=identicon&r=PG", "display_name": "solarc", "link": "https://stackoverflow.com/users/154762/solarc"}, "edited": false, "score": 0, "creation_date": 1487793063, "post_id": 42400907, "comment_id": 71948898, "body": "Have you tried <code>soup.h2.string</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 613, "user_id": 1699882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d6a00900c197e70bf5ecb0dac0c143?s=128&d=identicon&r=PG", "display_name": "kpahwa", "link": "https://stackoverflow.com/users/1699882/kpahwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1487793300, "creation_date": 1487793300, "answer_id": 42401024, "question_id": 42400907, "link": "https://stackoverflow.com/questions/42400907/extract-html-data-from-tags-using-beautifulsoup-python/42401024#42401024", "title": "Extract html data from tags using beautifulsoup python", "body": "<p>Hope this helps.</p>\n\n<pre><code>user_names = soup.findAll('div', {'class': 'user-name'})\nfor un in user_names:\n   temp = un.find('h2')\n   if temp:\n      print temp.text\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3495, "user_id": 5453723, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4a45bdc73d29495331e9843d4c2271f6?s=128&d=identicon&r=PG&f=1", "display_name": "muazfaiz", "link": "https://stackoverflow.com/users/5453723/muazfaiz"}, "edited": false, "score": 0, "creation_date": 1487849480, "post_id": 42405773, "comment_id": 71974425, "body": "If I limit the above scenario to <code>text = &#39;&#39;&lt;h2 class=&quot;user-card-name&quot;&gt; John Kennity &lt;&#47;h2&gt;&#39;&#39;&#39;</code> and then use the method <code>name= soup.h2.stripped_strings</code> will return <code>&lt;generator object stripped_strings at 0x000001C5C1FDB830&gt;</code> But the expected result would be the name <code>John Kennity</code>. Is there any difference in applying your approach ?"}, {"owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "reply_to_user": {"reputation": 3495, "user_id": 5453723, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4a45bdc73d29495331e9843d4c2271f6?s=128&d=identicon&r=PG&f=1", "display_name": "muazfaiz", "link": "https://stackoverflow.com/users/5453723/muazfaiz"}, "edited": false, "score": 1, "creation_date": 1487850725, "post_id": 42405773, "comment_id": 71975252, "body": "@Azfar Faizan <code>soup.h2.stripped_strings</code> this will return a generator, you can convert it to list by <code>list(soup.h2.stripped_strings)</code>, then you can use index to access the elements in the list."}, {"owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "reply_to_user": {"reputation": 3495, "user_id": 5453723, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4a45bdc73d29495331e9843d4c2271f6?s=128&d=identicon&r=PG&f=1", "display_name": "muazfaiz", "link": "https://stackoverflow.com/users/5453723/muazfaiz"}, "edited": false, "score": 0, "creation_date": 1487850820, "post_id": 42405773, "comment_id": 71975315, "body": "@Azfar Faizan <code>name, rank = generator</code> is shortcut for <code>name = list[0], rank=list[1]</code>"}], "tags": [], "owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "is_accepted": true, "score": 1, "last_activity_date": 1487815630, "creation_date": 1487815630, "answer_id": 42405773, "question_id": 42400907, "link": "https://stackoverflow.com/questions/42400907/extract-html-data-from-tags-using-beautifulsoup-python/42405773#42405773", "title": "Extract html data from tags using beautifulsoup python", "body": "<pre><code>import bs4\n\ntext = '''&lt;h2 class=\"user-name\"&gt; John Kennity &lt;span class=\"top-class\"&gt;&lt;a href=\"http://service-web.com/2008-07-31/11\" target=\"_blank\"&gt;highest rank &lt;/a&gt;&lt;/span&gt;\n&lt;/h2&gt;'''\n\nsoup = bs4.BeautifulSoup(text, 'lxml')\nname, rank = soup.h2.stripped_strings\n</code></pre>\n\n<p>out:</p>\n\n<pre><code>'John Kennity'\n</code></pre>\n"}], "owner": {"reputation": 3495, "user_id": 5453723, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4a45bdc73d29495331e9843d4c2271f6?s=128&d=identicon&r=PG&f=1", "display_name": "muazfaiz", "link": "https://stackoverflow.com/users/5453723/muazfaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 42405773, "answer_count": 2, "score": 0, "last_activity_date": 1487815630, "creation_date": 1487792889, "question_id": 42400907, "link": "https://stackoverflow.com/questions/42400907/extract-html-data-from-tags-using-beautifulsoup-python", "title": "Extract html data from tags using beautifulsoup python", "body": "<p>I have narrowed my objective string to the following html:</p>\n\n<pre><code>&lt;h2 class=\"user-name\"&gt; John Kennity &lt;span class=\"top-class\"&gt;&lt;a href=\"http://service-web.com/2008-07-31/11\" target=\"_blank\"&gt;highest rank &lt;/a&gt;&lt;/span&gt;\n&lt;/h2&gt;\n</code></pre>\n\n<p>I want to access the name John Kennith. How can I do that in beautifulsoup python ?</p>\n"}, {"tags": ["python", "python-2.7", "fabric"], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 4057186, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87142ebe8244548dc01c3406b0ef2802?s=128&d=identicon&r=PG&f=1", "display_name": "edesz", "link": "https://stackoverflow.com/users/4057186/edesz"}, "edited": false, "score": 0, "creation_date": 1487805844, "post_id": 42404140, "comment_id": 71955200, "body": "Great answer! This is exactly what I was looking for. I appreciate the clear responses. Question 3 was really important for me. Many thanks!!!"}, {"owner": {"reputation": 1679, "user_id": 844976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/284b6b2d4cb5a384793f7dd4ab6382a1?s=128&d=identicon&r=PG", "display_name": "YellowShark", "link": "https://stackoverflow.com/users/844976/yellowshark"}, "reply_to_user": {"reputation": 8369, "user_id": 4057186, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87142ebe8244548dc01c3406b0ef2802?s=128&d=identicon&r=PG&f=1", "display_name": "edesz", "link": "https://stackoverflow.com/users/4057186/edesz"}, "edited": false, "score": 0, "creation_date": 1487807973, "post_id": 42404140, "comment_id": 71956030, "body": "No problem! There&#39;s also some really interesting examples/variations found in the <a href=\"http://docs.fabfile.org/en/1.13/usage/tasks.html#new-style-tasks\" rel=\"nofollow noreferrer\">&quot;New Style Tasks&quot;</a> section."}], "tags": [], "owner": {"reputation": 1679, "user_id": 844976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/284b6b2d4cb5a384793f7dd4ab6382a1?s=128&d=identicon&r=PG", "display_name": "YellowShark", "link": "https://stackoverflow.com/users/844976/yellowshark"}, "is_accepted": true, "score": 1, "last_activity_date": 1487805487, "creation_date": 1487805487, "answer_id": 42404140, "question_id": 42400846, "link": "https://stackoverflow.com/questions/42400846/python-fabric-deploy-script-structure-and-semantics/42404140#42404140", "title": "Python Fabric deploy script structure and semantics", "body": "<ol>\n<li>You do <em>not</em> need to import <code>socket</code> and <code>paramiko</code> for this script, since you are not calling them directly from your fabfile. </li>\n<li>The <code>@task</code> decorator is only used for functions that you would like to be available as fabric tasks on the command line. In the example you've provided, you would only need to decorate the <code>deploy</code> function.</li>\n</ol>\n\n<blockquote>\n  <p>When this decorator is used, it signals to Fabric that only functions wrapped in the decorator are to be loaded up as valid tasks.</p>\n</blockquote>\n\n<ol start=\"3\">\n<li>You can use whatever name you like! Fabric will use the name of your function as the task name, unless you use the <a href=\"http://docs.fabfile.org/en/1.13/usage/tasks.html#aliases\" rel=\"nofollow noreferrer\">alias argument</a>.</li>\n</ol>\n\n<p>More info on all of this can be found in the <a href=\"http://docs.fabfile.org/en/1.13/usage/tasks.html#the-task-decorator\" rel=\"nofollow noreferrer\">docs for the task decorator</a>.</p>\n"}], "owner": {"reputation": 8369, "user_id": 4057186, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87142ebe8244548dc01c3406b0ef2802?s=128&d=identicon&r=PG&f=1", "display_name": "edesz", "link": "https://stackoverflow.com/users/4057186/edesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "accepted_answer_id": 42404140, "answer_count": 1, "score": 1, "last_activity_date": 1487805487, "creation_date": 1487792675, "question_id": 42400846, "link": "https://stackoverflow.com/questions/42400846/python-fabric-deploy-script-structure-and-semantics", "title": "Python Fabric deploy script structure and semantics", "body": "<p>I am trying to write a basic Python Fabric deploy script and I have some beginner level questions.</p>\n\n<p>Here is the <code>fabfile.py</code> I have at the moment (modified from this <a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-fabric-to-automate-administration-tasks-and-deployments\" rel=\"nofollow noreferrer\">example</a>):</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom fabric.api import *\nimport socket\nimport paramiko\n\nenv.roledefs = {'dev':['server.domain.tld']}\n\n@task\n@roles(\"dev\")\ndef print_contents():\n    echo(\"Printing working directory contents:\\n\")\n    run(\"ls\")\n\n@task\n@roles(\"dev\")\ndef update_upgrade():\n    \"\"\" Update the default OS installation's basic default tools. \"\"\"\n    sudo(\"sudo apt-get update\")\n    sudo(\"apt-get -y upgrade\")\n\n@task\n@roles(\"dev\")\ndef install_memcached():\n    \"\"\" Download and install memcached. \"\"\"\n    sudo(\"apt-get install -y memcached\")\n\n@task\n@roles(\"dev\")\ndef deploy():\n    print_contents()\n    # Update\n    update_upgrade()\n    # Install\n    install_memcached()\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>Do I need <code>import socket</code> and <code>import paramiko</code>?</li>\n<li>I do not plan to call functions <code>print_contents()</code>, <code>update_upgrade()</code> and <code>install_memcached()</code> directly - they will only be called within the <code>deploy()</code> function. Does every function need to be a task with the <code>@task</code> decorator?</li>\n<li>Since this is a Fabric deploy script, does the final task need to be called <code>deploy()</code>? Or can we use any other name for that function, eg. <code>update_all()</code>?</li>\n</ol>\n"}]