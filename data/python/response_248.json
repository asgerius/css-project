[{"tags": ["python", "python-3.x", "typing"], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 17, "last_activity_date": 1570665962, "creation_date": 1570665962, "answer_id": 58313726, "question_id": 58313655, "link": "https://stackoverflow.com/questions/58313655/how-do-you-express-a-python-callable-with-no-arguments/58313726#58313726", "title": "How do you express a Python Callable with no arguments?", "body": "<p>It requires a sequence of argument types, so if there are no types, you pass it an empty sequence:</p>\n\n<pre><code>Callable[[], str]\n</code></pre>\n"}], "owner": {"reputation": 1587, "user_id": 5061485, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/2Ncmd.jpg?s=128&g=1", "display_name": "kingledion", "link": "https://stackoverflow.com/users/5061485/kingledion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2430, "favorite_count": 1, "accepted_answer_id": 58313726, "answer_count": 1, "score": 9, "last_activity_date": 1570665962, "creation_date": 1570665353, "question_id": 58313655, "link": "https://stackoverflow.com/questions/58313655/how-do-you-express-a-python-callable-with-no-arguments", "title": "How do you express a Python Callable with no arguments?", "body": "<p>In the docs for the Python <code>typing</code> package, it <a href=\"https://docs.python.org/3/library/typing.html#callable\" rel=\"noreferrer\">says</a>:</p>\n\n<blockquote>\n  <p>It is possible to declare the return type of a callable without specifying the call signature by substituting a literal ellipsis for the list of arguments in the type hint: <code>Callable[..., ReturnType].</code></p>\n</blockquote>\n\n<p>On the other hand, it <a href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" rel=\"noreferrer\">also says</a>:</p>\n\n<blockquote>\n  <p><code>Callable[..., ReturnType]</code> (literal ellipsis) can be used to type hint a callable taking any number of arguments and returning ReturnType.</p>\n</blockquote>\n\n<p>I want to express a function that takes no arguments but returns a string. The ellipsis seems to indicate that there are some unspecified arguments. I want to express that that there definately are zero arguements.</p>\n\n<p>Do I have any alternatives to using <code>Callable[..., str]</code> in my type hint?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570665576, "post_id": 58313645, "comment_id": 102988135, "body": "What version of scipy do you have installed? Per <a href=\"https://docs.scipy.org/doc/scipy-1.1.0/reference/generated/scipy.ndimage.imread.html\" rel=\"nofollow noreferrer\">these docs</a>, <code>scipy.ndimage.imread</code> was removed in version 1.2.0 which was quite some time ago."}], "answers": [{"tags": [], "owner": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "is_accepted": false, "score": 0, "last_activity_date": 1570666344, "last_edit_date": 1570666344, "creation_date": 1570665619, "answer_id": 58313688, "question_id": 58313645, "link": "https://stackoverflow.com/questions/58313645/why-cant-i-install-this-module/58313688#58313688", "title": "Why can&#39;t I install this module?", "body": "<p>As <a href=\"https://docs.scipy.org/doc/scipy-1.1.0/reference/generated/scipy.ndimage.imread.html\" rel=\"nofollow noreferrer\">this link</a> says, this function removed from version <code>1.2.0</code>. try to use <code>imageio.imread</code> instead.</p>\n\n<pre><code>import imageio\nimg = imageio.imread(filename, pilmode ='RGB')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12191929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b062680876066634cb4151c781cde506?s=128&d=identicon&r=PG", "display_name": "Vladimir Putin", "link": "https://stackoverflow.com/users/12191929/vladimir-putin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1570666344, "creation_date": 1570665247, "question_id": 58313645, "link": "https://stackoverflow.com/questions/58313645/why-cant-i-install-this-module", "title": "Why can&#39;t I install this module?", "body": "<p>I want to improve the quality of photos and found <a href=\"https://github.com/alexjc/neural-enhance\" rel=\"nofollow noreferrer\">neural-enhance</a> on GitHub. There was a problem with the library.</p>\n\n<pre><code>root/test/*.jpg Traceback (most recent call last):\n  File \"enhance.py\", line 583, in &lt;module&gt;\n    img = scipy.ndimage.imread(filename, mode='RGB')\nAttributeError: module 'scipy.ndimage' has no attribute 'imread'\n</code></pre>\n"}, {"tags": ["python", "csv", "scrapy", "web-crawler", "output"], "comments": [{"owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1570669715, "post_id": 58313632, "comment_id": 102988867, "body": "You can write as many CSV files as you&#39;d like, that should be no problem. Do you have a specific URL in mind or an example of the exact output you desire so that any solutions offered will be exactly what you want? Also, you set &#39;ok&#39; to False and then check its truthiness unnecessarily."}, {"owner": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "reply_to_user": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 1, "creation_date": 1570670147, "post_id": 58313632, "comment_id": 102988940, "body": "@Dodge thanks for your suggestion! I went ahead and added examples to my question to give the exact format for the output I need. As for the &quot;ok&quot;, would I just remove the &quot;if not ok&quot; statement to rectify that? Thanks!"}, {"owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1570670509, "post_id": 58313632, "comment_id": 102989000, "body": "Yes the code relating to that conditional is not useful as it stands (I don&#39;t think) so the assignment to <code>ok</code> and the <code>if</code> statement could both probably be removed."}, {"owner": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "reply_to_user": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1570670756, "post_id": 58313632, "comment_id": 102989053, "body": "Great, thank you for clarifying - I&#39;ll try it out without those and see if the results remain the same."}, {"owner": {"reputation": 2916, "user_id": 939364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cceb4bd730bda5e8464b76de4d1d6dc5?s=128&d=identicon&r=PG", "display_name": "Gallaecio", "link": "https://stackoverflow.com/users/939364/gallaecio"}, "edited": false, "score": 0, "creation_date": 1571221785, "post_id": 58313632, "comment_id": 103165608, "body": "You should be able to do this with <a href=\"https://docs.scrapy.org/en/latest/topics/item-pipeline.html\" rel=\"nofollow noreferrer\">docs.scrapy.org/en/latest/topics/item-pipeline.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "edited": false, "score": 0, "creation_date": 1570730929, "post_id": 58326328, "comment_id": 103015635, "body": "I just edited the main post with a portion of code - would something like that work?"}, {"owner": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "edited": false, "score": 0, "creation_date": 1570732262, "post_id": 58326328, "comment_id": 103016255, "body": "the code I wrote did not work! Any suggestions on how to fix it?"}, {"owner": {"reputation": 110, "user_id": 11793080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05cbf063c95ca8d53db4169c4a0a3802?s=128&d=identicon&r=PG&f=1", "display_name": "reg202", "link": "https://stackoverflow.com/users/11793080/reg202"}, "reply_to_user": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "edited": false, "score": 0, "creation_date": 1570732510, "post_id": 58326328, "comment_id": 103016364, "body": "Let me take a look. Any errors? I can&#39;t test it myself until I get home but I&#39;ll take a quick glance"}, {"owner": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "edited": false, "score": 0, "creation_date": 1570734085, "post_id": 58326328, "comment_id": 103017009, "body": "No errors - but it also did not result in an output file!"}, {"owner": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "edited": false, "score": 0, "creation_date": 1570915514, "post_id": 58326328, "comment_id": 103069848, "body": "unfortunately, that definitely did not work. I&#39;m still trying to write the two separate csv files. Any thoughts?"}], "tags": [], "owner": {"reputation": 110, "user_id": 11793080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05cbf063c95ca8d53db4169c4a0a3802?s=128&d=identicon&r=PG&f=1", "display_name": "reg202", "link": "https://stackoverflow.com/users/11793080/reg202"}, "is_accepted": false, "score": 0, "last_activity_date": 1570721040, "creation_date": 1570721040, "answer_id": 58326328, "question_id": 58313632, "link": "https://stackoverflow.com/questions/58313632/output-from-python-crawler/58326328#58326328", "title": "Output from python crawler", "body": "<p>I would manually add some code within the spider to write what you want to each csv, as the command line option is very limited from what I can tell</p>\n\n<p><a href=\"https://realpython.com/python-csv/\" rel=\"nofollow noreferrer\">https://realpython.com/python-csv/</a> It's fairly easy, let me know if you have trouble</p>\n"}], "owner": {"reputation": 79, "user_id": 9356708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z0wNy3wBWk/AAAAAAAAAAI/AAAAAAAAAfs/P_B1qvxeDAU/photo.jpg?sz=128", "display_name": "Meredith Abrams", "link": "https://stackoverflow.com/users/9356708/meredith-abrams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1570731028, "creation_date": 1570665111, "last_edit_date": 1570731028, "question_id": 58313632, "link": "https://stackoverflow.com/questions/58313632/output-from-python-crawler", "title": "Output from python crawler", "body": "<p>I have a python web using the scrapy framework. I am trying to get the output into two separate files - \n1) website to website data (i.e. website 1 links to website2)\n&amp;\n2) keywords that match my list of keywords the crawler is looking for\nI'm having trouble getting the output to work - I was able to get output for (1) without including the keyword component and I can see the webcrawler is working - the websites and appropriate keywords are listed in the cmd prompt. But, I cannot get them to save as separate csv files. </p>\n\n<pre><code>    def check_buzzwords(self, response):\n\n        self.__class__.crawl_count += 1\n\n        crawl_count = self.__class__.crawl_count\n\n        wordlist = [\n            \"Keyword1\",\n            \"Keyword2\"\n            ]\n\n        url = response.url\n        contenttype = response.headers.get(\"content-type\", \"\").decode('utf-8').lower()\n        data = response.body.decode('utf-8')\n\n        for word in wordlist:\n                substrings = find_all_substrings(data, word)\n                for pos in substrings:\n                        ok = False\n                        if not ok:\n                                self.__class__.words_found += 1\n                                print(word + \";\" + url + \";\")\n        return Item()\n</code></pre>\n\n<p>And to run the spider - this is the command, I'm using. </p>\n\n<pre><code>scrapy crawl examplespider -o examplesemanticlevel1.csv\n</code></pre>\n\n<p>Is it possible to have two separate output files from this model? And if not, any idea on how to combine the 2 files I need into 1?</p>\n\n<pre><code>The exact output that I need is as follows:\nCSV File 1: \nstarting website | Target website\nwebsite1       | website2\nWebsite1       | Website2\nWebsite2       | website3\n\nCSV File 2: \nKeyword  | Webpage\nKeyword1 | Webpage1\nKeyword2 | Webpage1\nKeyword2 | Webpage2\nKeyword3 | Webpage3\n</code></pre>\n\n<p>I found some code online but I'm not sure how to incorporate it. Would something like this be usable?</p>\n\n<pre><code> def spider_closed(self):\n        with open(\"outputfile.csv\",\"w\", newline=\"\") as f:\n            writer = csv.DictWriter(f,['Name','Year'])\n            writer.writeheader()\n            for data in self.itemlist:\n                writer.writerow(data)\n</code></pre>\n\n<pre><code> def linkage_output_file (self, response):\n        df = pandas.read_csv('websitesemanticlevel2.csv',\n                             url = 'URL',\n                             word = 'Keyword',\n                             header=0,\n                             names=['url','keyword'])\n        df.to_csv('websitesemanticlevel2.csv')\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 16264, "user_id": 52239, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2418cf397adaa4f72547f14e61348028?s=128&d=identicon&r=PG", "display_name": "Craig Gidney", "link": "https://stackoverflow.com/users/52239/craig-gidney"}, "edited": false, "score": 1, "creation_date": 1570665310, "post_id": 58313639, "comment_id": 102988089, "body": "Well. I checked it and it works. That ends up being <i>way</i> simpler than I was even hoping for."}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": true, "score": 1, "last_activity_date": 1570665170, "creation_date": 1570665170, "answer_id": 58313639, "question_id": 58313613, "link": "https://stackoverflow.com/questions/58313613/counting-grouped-outcomes-into-separate-columns-in-pandas/58313639#58313639", "title": "Counting grouped outcomes into separate columns in pandas", "body": "<p>This is <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.crosstab.html\" rel=\"nofollow noreferrer\"><code>crosstab</code></a></p>\n\n<pre><code>pd.crosstab(df.player, df.coin)\n</code></pre>\n\n<hr>\n\n<pre><code>coin    heads  tails\nplayer              \nAlice       2      3\nBob         4      1\n</code></pre>\n"}], "owner": {"reputation": 16264, "user_id": 52239, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2418cf397adaa4f72547f14e61348028?s=128&d=identicon&r=PG", "display_name": "Craig Gidney", "link": "https://stackoverflow.com/users/52239/craig-gidney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 58313639, "answer_count": 1, "score": 1, "last_activity_date": 1570665170, "creation_date": 1570664876, "question_id": 58313613, "link": "https://stackoverflow.com/questions/58313613/counting-grouped-outcomes-into-separate-columns-in-pandas", "title": "Counting grouped outcomes into separate columns in pandas", "body": "<p>I have row-per-player row-per-outcome row-per-trial data similar to this:</p>\n\n<pre><code>    player  coin\n0    Alice heads\n1    Alice tails\n2    Alice heads\n3    Alice tails\n4    Alice tails\n5      Bob heads\n6      Bob heads\n7      Bob heads\n8      Bob tails\n9      Bob heads\n</code></pre>\n\n<p>I want row-per-player <strong>column</strong>-per-outcome <strong>count</strong> data:</p>\n\n<pre><code>    player heads tails\n0    Alice     2     3\n1      Bob     4     1\n</code></pre>\n\n<p>What is the simplest way to perform this transformation using pandas?</p>\n\n<p>It's possible to do it by grouping by (player, coin), getting the size of each group, filtering the heads data and tails data into separate data frames, then outer joining those dataframes. But that ends up being quite verbose.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1570664893, "post_id": 58313605, "comment_id": 102988016, "body": "The solution is to use a <code>list</code> of vectors instead of creating separate variables for each vector."}, {"owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "edited": false, "score": 2, "creation_date": 1570665722, "post_id": 58313605, "comment_id": 102988170, "body": "You should avoid using mutable objects as default arguments for functions. They can change sometimes without you knowing (<a href=\"https://docs.python-guide.org/writing/gotchas/#mutable-default-arguments\" rel=\"nofollow noreferrer\">docs.python-guide.org/writing/gotchas/&hellip;</a>). In your case, this happens in the <code>distance_points</code> definition. Instead, you can (as the article suggests) set the default to <code>None</code>, and then have a check right away. <code>t1 = [] if t1 is None else t1</code> is a nice one-liner to get this done."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 11059447, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w82_YUVtR2Q/AAAAAAAAAAI/AAAAAAAAASw/CPFTjbwQIzc/photo.jpg?sz=128", "display_name": "Felix Dumitrascu", "link": "https://stackoverflow.com/users/11059447/felix-dumitrascu"}, "edited": false, "score": 0, "creation_date": 1570665645, "post_id": 58313646, "comment_id": 102988152, "body": "Indeed it&#39;s way more simple..stupid of me for not thinking about it earlier. Thank you !"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 4, "last_activity_date": 1570665248, "creation_date": 1570665248, "answer_id": 58313646, "question_id": 58313605, "link": "https://stackoverflow.com/questions/58313605/create-n-variables-in-a-for-loop/58313646#58313646", "title": "Create n variables in a for loop", "body": "<p>There's no need for all the <code>vectorX</code> variables. Just loop through the <code>points</code> list.</p>\n\n<pre><code>def longeur(*points):\n    res = 0\n    for i in range(len(points)-1):\n        res += distance_points(points[i], points[i+1])\n    return res\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 11059447, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w82_YUVtR2Q/AAAAAAAAAAI/AAAAAAAAASw/CPFTjbwQIzc/photo.jpg?sz=128", "display_name": "Felix Dumitrascu", "link": "https://stackoverflow.com/users/11059447/felix-dumitrascu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "closed_date": 1570666437, "accepted_answer_id": 58313646, "answer_count": 1, "score": 0, "last_activity_date": 1570665248, "creation_date": 1570664779, "question_id": 58313605, "link": "https://stackoverflow.com/questions/58313605/create-n-variables-in-a-for-loop", "closed_reason": "Duplicate", "title": "Create n variables in a for loop", "body": "<p>So my task here is to calculate the euclidean distance then add it up in the following order :</p>\n\n<p>Exemple: euc(AB) + euc(BC) + euc(CD)</p>\n\n<p>This is how I've solve it : </p>\n\n<pre><code>import math\ndef distance_points(t1 = [], t2 = []) :\n    euc_distance = math.sqrt( (t1[0]-t2[0])**2 + (t1[1]-t2[1])**2 )\n    return euc_distance\n\ndef longueur(*points):\n    coordonates = []\n    for x in points:\n       coordonates += x\n\n    vectorA = [coordonates[0], coordonates[1]]\n    vectorB = [coordonates[2], coordonates[3]]\n    vectorC = [coordonates[4], coordonates[5]]\n    vectorD = [coordonates[6], coordonates[7]]\n\n    res = distance_points(vectorA, vectorB) + distance_points(vectorB, vectorC) + distance_points(vectorC, vectorD)\n\n\n\n    return res\n\nprint(longueur((0.5, 1.0), (2.0, 1.0), (2.5, -0.5), (-1.5, -1.0)))\n</code></pre>\n\n<p>My questions is: How exactly can I implement this to work with any number of coordinates not just exactly 4 .\nI specify that my <code>def longueur(*points):</code> and the way this functions is called must stayed the same (using a number of tuples).</p>\n\n<p>I already spent 2 hours in python documentation but I admit I don't really know what to look for </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 11392669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCQYX.jpg?s=128&g=1", "display_name": "Mulham Jarjanazi", "link": "https://stackoverflow.com/users/11392669/mulham-jarjanazi"}, "is_accepted": false, "score": 0, "last_activity_date": 1570666974, "last_edit_date": 1570666974, "creation_date": 1570666446, "answer_id": 58313786, "question_id": 58313590, "link": "https://stackoverflow.com/questions/58313590/grouping-values-from-one-column-that-fall-between-other-column-values-plus-condi/58313786#58313786", "title": "Grouping values from one column that fall between other column values plus conditional statement", "body": "<p>You can create a while loop that adds values into each row until df_2.time is out of range.</p>\n\n<p>first you create a list:</p>\n\n<p><code>other_data = []</code></p>\n\n<p>then you do something like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\ni = 0\nj = 0\nwhile i &lt; len(df_1[\"unit\"]) and j &lt; len(df_2[\"time\"]):\n    current_row = []\n    while df_2[\"time\"][j] &gt; df_1[\"start_time\"][i] and df_2[\"time\"][j] &lt; df_1[\"stop_time\"][i]:\n        current_row.append(df_2[\"other_data\"][j])\n        j += 1\n    i += 1\n    other_data.append(current_row)\n</code></pre>\n\n<p>You can then easily turn <code>other_data</code> to a numpy array and append it to your dataframe.\nYou may want to change the conditions of the range as you prefer.</p>\n"}, {"comments": [{"owner": {"reputation": 717, "user_id": 11666502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f056cec5dda28937249f50f207ed8c15?s=128&d=identicon&r=PG&f=1", "display_name": "connor449", "link": "https://stackoverflow.com/users/11666502/connor449"}, "edited": false, "score": 0, "creation_date": 1570674884, "post_id": 58313863, "comment_id": 102989851, "body": "Thanks. I edited the original question with new data, the function that I&#39;m using that you supplied, and the result I get. I&#39;ll be curious if it works for you. I added an additional statement in the pseudo code to take the smaller value if there are two modes, which you&#39;ll see shows up in the example. Thanks again for your help."}, {"owner": {"reputation": 717, "user_id": 11666502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f056cec5dda28937249f50f207ed8c15?s=128&d=identicon&r=PG&f=1", "display_name": "connor449", "link": "https://stackoverflow.com/users/11666502/connor449"}, "edited": false, "score": 0, "creation_date": 1570675418, "post_id": 58313863, "comment_id": 102989974, "body": "Disregard changes to pseudocode, fixed the multiple mode issue with &#39;return s.mode()[0]"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 717, "user_id": 11666502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f056cec5dda28937249f50f207ed8c15?s=128&d=identicon&r=PG&f=1", "display_name": "connor449", "link": "https://stackoverflow.com/users/11666502/connor449"}, "edited": false, "score": 0, "creation_date": 1570675632, "post_id": 58313863, "comment_id": 102990020, "body": "@connor449 the code works fine with <code>s.mode()[0]</code> ! There is one <code>NaN</code> but that&#39;s because there are no <code>time</code> between 13.07 and 13.80 in the second <code>df</code> ;)"}, {"owner": {"reputation": 717, "user_id": 11666502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f056cec5dda28937249f50f207ed8c15?s=128&d=identicon&r=PG&f=1", "display_name": "connor449", "link": "https://stackoverflow.com/users/11666502/connor449"}, "edited": false, "score": 1, "creation_date": 1570676163, "post_id": 58313863, "comment_id": 102990130, "body": "Gotcha, that makes perfect sense. I remedied the issue for now by rounding the start and stop time columns. Thanks so much for your help, I really appreciate it!"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": true, "score": 1, "last_activity_date": 1570671798, "last_edit_date": 1570671798, "creation_date": 1570667147, "answer_id": 58313863, "question_id": 58313590, "link": "https://stackoverflow.com/questions/58313590/grouping-values-from-one-column-that-fall-between-other-column-values-plus-condi/58313863#58313863", "title": "Grouping values from one column that fall between other column values plus conditional statement", "body": "<p>I would definitely avoid the loops and go with a vectorized solution.</p>\n\n<pre><code>m = np.greater_equal.outer(df2.time.values, df.start_time.values) &amp; \\\n    np.less_equal.outer(df2.time.values, df.stop_time.values)\n</code></pre>\n\n<p></p>\n\n<pre><code>def logic(s):\n    if s.isin([1,2]).any(): return s.min()\n    if s.isin([10]).any(): return s.max()\n    return s.mode()\n</code></pre>\n\n<p></p>\n\n<pre><code>df['other_data'] = df2.other_data.groupby(m.cumsum(1).argmax(1)).agg(logic)\n</code></pre>\n\n<hr>\n\n<pre><code>  unit  start_time  stop_time  other_data\n0    A         0.0        3.2           5\n1    B         3.3        6.1           2\n2    A         6.2       10.5           1\n3    B        10.6       13.2           5\n4    A        13.3       16.0          10\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 11666502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f056cec5dda28937249f50f207ed8c15?s=128&d=identicon&r=PG&f=1", "display_name": "connor449", "link": "https://stackoverflow.com/users/11666502/connor449"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 58313863, "answer_count": 2, "score": 1, "last_activity_date": 1570675345, "creation_date": 1570664706, "last_edit_date": 1570675345, "question_id": 58313590, "link": "https://stackoverflow.com/questions/58313590/grouping-values-from-one-column-that-fall-between-other-column-values-plus-condi", "title": "Grouping values from one column that fall between other column values plus conditional statement", "body": "<p>I am looking to merge two data frames that look as below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>unit      start    stop\r\nA      0.0    8.15\r\nB      9.18   11.98\r\nA     13.07   13.80\r\nB     13.82   15.00\r\nA     16.46   17.58</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<pre><code>df_2\ntime    other_data\n1            5\n2            5\n3            6\n4            10\n5            5\n6            2\n7            1\n8            5\n9            5\n10           7\n11           5\n12           5\n13           5\n14           10\n15           5\n16           4\n17           4\n18           4\n</code></pre>\n\n<p>I want to merge df_2.other_data onto df_1. However, I want to group df_2.other_data where df_2.time is between df_1.start_time and df_2.stop_time. </p>\n\n<p>From each group I want to extract the following number based on the pseudo-code below:</p>\n\n<pre><code>for other_data between start_time and stop_time:\n   if 1 or 2 in other_data:\n       value = other_data.min()\n   elif 10 in other_data and 1 or 2 not in other_data:\n        value = other_data.max()\n   elif other_data.mode() &gt; 1:\n        value = other_data.min()\n   else:\n        value = other_data.mode()\n</code></pre>\n\n<p>For the first example group [5, 5, 6], the value would be 5, the mode. For the second example group [6, 10, 5, 2], the value would be 2.</p>\n\n<p>This should result in a df that looks like this:</p>\n\n<pre><code>unit      start    stop  other_data\nA      0.0    8.15         1   \nB      9.18   11.98        5\nA     13.07   13.80        5\nB     13.82   15.00        10\nA     16.46   17.58        4\n</code></pre>\n\n\n\n<p>However, with the code below I get this result: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>m = np.greater_equal.outer(df_2.time.values, df_1.start.values) &amp; \\\r\n    np.less_equal.outer(df_2.time.values, df_1.stop.values)\r\n\r\ndef logic(s):\r\n    if s.isin([1,2]).any(): return s.min()\r\n    if s.isin([10]).any(): return s.max()\r\n    return s.mode()[0]\r\n\r\ndf_1['other_data'] = df_2.other_data.groupby(m.cumsum(1).argmax(1)).agg(logic)\r\n\r\n\r\n      start    stop other_data\r\n0      7.53    8.15          1\r\n1      9.18   11.98          5\r\n2     13.07   13.80        NaN\r\n3     13.82   15.00         10\r\n4     16.46   17.58        NaN</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "python-3.x", "bash", "python-2.7", "rpm"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 4, "creation_date": 1570664485, "post_id": 58313557, "comment_id": 102987941, "body": "Ideally (if your distro people are doing The Right Thing), a properly-packaged <code>python34</code> or <code>python36</code> or whatever will <i>also</i> be available under the name <code>python3</code>, so you should always be able to just run <code>python3</code>."}, {"owner": {"reputation": 4401, "user_id": 858675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c51db176e8886a2afbc18edd2233c18b?s=128&d=identicon&r=PG", "display_name": "gelonida", "link": "https://stackoverflow.com/users/858675/gelonida"}, "edited": false, "score": 1, "creation_date": 1570664802, "post_id": 58313557, "comment_id": 102988000, "body": "if the command <code>which python3</code> does not return any result you know you have to install a version of python 3 if the os distribution does not provide a python version, that you need you might look at pyenv <a href=\"https://github.com/pyenv\" rel=\"nofollow noreferrer\">github.com/pyenv</a>"}, {"owner": {"reputation": 11, "user_id": 11853657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6a8641184eb4f7d38ff5b9176f129e?s=128&d=identicon&r=PG&f=1", "display_name": "kSet", "link": "https://stackoverflow.com/users/11853657/kset"}, "edited": false, "score": 0, "creation_date": 1570666667, "post_id": 58313557, "comment_id": 102988351, "body": "See edit:  yum install python34 is not creating a python3 link.  I agree it should, but it&#39;s not currently under my control"}, {"owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "edited": false, "score": 0, "creation_date": 1570686061, "post_id": 58313557, "comment_id": 102992347, "body": "Not an answer, but you can look at how bash-completion would work for <code>python3&lt;tab&gt;&lt;tab&gt;</code>"}, {"owner": {"reputation": 4732, "user_id": 8477999, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8172e1919af53269de92316dcf03a03?s=128&d=identicon&r=PG&f=1", "display_name": "Gem Taylor", "link": "https://stackoverflow.com/users/8477999/gem-taylor"}, "edited": false, "score": 0, "creation_date": 1570726754, "post_id": 58313557, "comment_id": 103013869, "body": "Is python3x installed with a &quot;python&quot; link? then you could check the result of <code>python --version</code> Of course you might find that is version 2, even though you have 3x installed as well."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11853657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6a8641184eb4f7d38ff5b9176f129e?s=128&d=identicon&r=PG&f=1", "display_name": "kSet", "link": "https://stackoverflow.com/users/11853657/kset"}, "is_accepted": false, "score": 0, "last_activity_date": 1570727053, "creation_date": 1570727053, "answer_id": 58327857, "question_id": 58313557, "link": "https://stackoverflow.com/questions/58313557/can-i-check-for-any-version-of-python-3-on-a-linux-box/58327857#58327857", "title": "Can I check for any version of python 3+ on a linux box", "body": "<p>For the sake of posterity, I will post my solution</p>\n\n<pre><code>#!/usr/bin/env bash\n\nexport PYTHONS\nexport RVAL\nPYTHONS=$(compgen -c | grep \"^python3.*[0-9]*$\")\nRVAL=$?\n\nif [ $RVAL -ne 0 ] ; then\n  yum install -y python3\n  PYTHON=\"python3\"\nelse\n  PYTHON=$(echo \"$PYTHONS\" | head -1)\nfi\n\necho \"$PYTHON\"\n\n$PYTHON myscript.py\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11853657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6a8641184eb4f7d38ff5b9176f129e?s=128&d=identicon&r=PG&f=1", "display_name": "kSet", "link": "https://stackoverflow.com/users/11853657/kset"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570727053, "creation_date": 1570664387, "last_edit_date": 1570666559, "question_id": 58313557, "link": "https://stackoverflow.com/questions/58313557/can-i-check-for-any-version-of-python-3-on-a-linux-box", "title": "Can I check for any version of python 3+ on a linux box", "body": "<p>OS: CentOS</p>\n\n<p>I'd like to deploy a python script as part of a larger package and any python3+ will do.  On the VMs we have here, I'm seeing python3, python36, python36u, and python34. I don't want to install a new python3+ if I don't have too, I want to install python3 if the box only has python2+.</p>\n\n<p>Along the same lines, I want my use python3, python34, python36, or whatever else is sitting available.</p>\n\n<p>I'm deploying with a .rpm, but I haven't had any luck managing this complexity in a spec file.  My work-around is to write a bash script to handle python detection and installation.</p>\n\n<p>Is there a way to manage this?</p>\n\n<p>edit - adding specifics about the package installs</p>\n\n<p>PRETTY_NAME=\"CentOS Linux 7 (Core)\"</p>\n\n<pre><code>yum install -y python34\nyum list installed | grep python3\n# python34.x86_64                       3.4.10-2.el7                     @epel    \n# python34-libs.x86_64                  3.4.10-2.el7                     @epel \nwhich python3 \n# usr/bin/which: no python3 in (/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin)\nwhich python3.4\n# /usr/bin/python3.4\n</code></pre>\n"}, {"tags": ["python", "class", "multiple-inheritance", "optional-arguments"], "answers": [{"tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": true, "score": 1, "last_activity_date": 1570664629, "creation_date": 1570664629, "answer_id": 58313580, "question_id": 58313550, "link": "https://stackoverflow.com/questions/58313550/python-passing-optional-arguments-in-class-inheritance/58313580#58313580", "title": "Python: Passing Optional Arguments in Class Inheritance", "body": "<p>Pass the args down to your superclass constructors\n:</p>\n\n<pre><code>class Player(Human,NFL_QB,College_QB):\n  def __init__(self,first,last,age,td,comebacks,c_td,c_comebacks,nicknames=None,lst=None):\n    Human.__init__(self,first,last,age,nicknames=nicknames) # You were passing `None` here\n    NFL_QB.__init__(self,td,comebacks,lst=lst)  # ...and here.\n    College_QB.__init__(self,c_td,c_comebacks)\n\n\n\n\nply = Player('tom','brady',42,532,55,32,21,['toutchdown tom'],[2016])\nprint(ply.__dict__)\n</code></pre>\n"}], "owner": {"reputation": 90, "user_id": 11351798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c902ca1b4f0d0911d35124ddd2fb7e0b?s=128&d=identicon&r=PG&f=1", "display_name": "NoWaterNoKoolaid", "link": "https://stackoverflow.com/users/11351798/nowaternokoolaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 58313580, "answer_count": 1, "score": 0, "last_activity_date": 1570664629, "creation_date": 1570664297, "question_id": 58313550, "link": "https://stackoverflow.com/questions/58313550/python-passing-optional-arguments-in-class-inheritance", "title": "Python: Passing Optional Arguments in Class Inheritance", "body": "<p>I don't understand why I cannot set my optional arguments to values. I always receive an empty list. I have the argument set as Nonetype to avoid having a mutable type there instead. Is it not updating due to an oversight in my parent classes or am is it something else?</p>\n\n<pre><code>class Human:\n  def __init__(self,first,last,age,nicknames=None):\n    self.first =first\n    self.last = last\n    self.age = age\n\n    if nicknames is None:\n      self.nicknames = []\n    else:\n      self.nicknames = nicknames\n\n\nclass NFL_QB:\n  def __init__(self,td,comeback,lst=None):\n    self.td = td\n    self.comeback = comeback\n\n    if lst is None:\n      self.lst = []\n    else:\n      self.lst = lst\n\n\nclass College_QB:\n  def __init__(self,c_td,c_comeback):\n    self.c_td = c_td\n    self.c_comeback = c_comeback\n\n\nclass Player(Human,NFL_QB,College_QB):\n  def __init__(self,first,last,age,td,comebacks,c_td,c_comebacks,nicknames=None,lst=None):\n    Human.__init__(self,first,last,age,nicknames=None)\n    NFL_QB.__init__(self,td,comebacks,lst=None)\n    College_QB.__init__(self,c_td,c_comebacks)\n\n\n\n\nply = Player('tom','brady',42,532,55,32,21,['toutchdown tom'],[2016])\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 3884, "user_id": 3301113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a8377316d825afcc391cebcb768349?s=128&d=identicon&r=PG&f=1", "display_name": "fmarm", "link": "https://stackoverflow.com/users/3301113/fmarm"}, "is_accepted": true, "score": 2, "last_activity_date": 1570665064, "creation_date": 1570665064, "answer_id": 58313627, "question_id": 58313537, "link": "https://stackoverflow.com/questions/58313537/how-to-convert-day-month-day-time-hhmmss-year-into-date/58313627#58313627", "title": "How to convert &quot;day,month day,time hh:mm:ss year&quot; into date?", "body": "<p>You need to find the right format to describe your string date.</p>\n\n<p>Here it is <code>'%a %b %d %H:%M:%S %Y'</code>because you start with <code>%a</code>: abbreviated day of week, followed by a space then <code>'%b'</code>: abbreviated day of month etc.</p>\n\n<p>The complete list of available formats can be found <a href=\"https://www.programiz.com/python-programming/datetime/strftime\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>import pandas as pd\nimport datetime as dt\ndf= pd.DataFrame({'date':[\"Wed Aug 21 18:51:19 2019\"]})\n# convert to datetime\ndf['new_datetime'] =pd.to_datetime(df['date'], format = '%a %b %d %H:%M:%S %Y')\n# keep date part only\ndf['new_date'] =df['new_datetime'].dt.date\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11983262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-T0RoI_flgCA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdWnDv_K3HnD87QUVCXL7EoraLOHg/photo.jpg?sz=128", "display_name": "joni s", "link": "https://stackoverflow.com/users/11983262/joni-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 58313627, "answer_count": 1, "score": 0, "last_activity_date": 1570665064, "creation_date": 1570664179, "question_id": 58313537, "link": "https://stackoverflow.com/questions/58313537/how-to-convert-day-month-day-time-hhmmss-year-into-date", "title": "How to convert &quot;day,month day,time hh:mm:ss year&quot; into date?", "body": "<p>i have a column of time data taken that looks like that\n \"Wed Aug 21 18:51:19 2019\"\nim trying to convert it to dd/mm/yy with no successin order to sort by date with no luck.</p>\n\n<p>thank you in advance</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1570664278, "post_id": 58313527, "comment_id": 102987899, "body": "&quot;casting&quot; doesn&#39;t make sense in a language with dynamic typing. Python <i>variables do not have a type to cast</i>. Python is dynamically and strongly typed, you create a new object from another object explicitly through some constructor or other. In any case, you must provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Whatever is in <code>objectA_list</code> appears not to be an instance of the class you presumed, which you could elucidate through basic debugging. More accurately, you simply know that this object lacks that attribute, which could occur for various reasons other than not being an instance of that class."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1570664355, "post_id": 58313527, "comment_id": 102987910, "body": "IOW: Attribute access occurs dynamically at runtime, this isn&#39;t some compiler error telling you that your variable is supposed to be of some type, but it&#39;s assuming it&#39;s some other type, <b>because variables do not have types</b>, so a &quot;cast&quot; here makes no sense. What this error is telling you <b>is there is no underlying attribute</b>"}, {"owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1570700935, "post_id": 58313527, "comment_id": 102999319, "body": "@juanpa.arrivillaga Python does have types. There is a type(arg) function to tell you the type of &quot;arg&quot;. An error is generated for example with &quot;print \u201834\u2019 + 17&quot;"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "edited": false, "score": 0, "creation_date": 1570726863, "post_id": 58313527, "comment_id": 103013916, "body": "@Marichyasana of course Python has types, I never said anything to the contrary."}, {"owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1570780330, "post_id": 58313527, "comment_id": 103029619, "body": "@juanpa.arrivillaga Maybe I don&#39;t understand what you said in your comments. <code>&quot;Python variables do not have a type to cast.&quot;</code> and <code>&quot; because variables do not have types, so a &quot;cast&quot; here makes no sense.&quot;</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "edited": false, "score": 0, "creation_date": 1570824294, "post_id": 58313527, "comment_id": 103050737, "body": "@Marichyasana yes python <i>variables</i> aren&#39;t typed: it is a dynamically typed language, <i>objects</i> have well defined types, but you can assign them to any variable you want, and reuse the same variable for objects of different types. I&#39;ll admit this may sound like nitpicking, but I think it is an important concept to grok"}, {"owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1570880396, "post_id": 58313527, "comment_id": 103061122, "body": "@juanpa.arrivillaga I think I am understanding you now, thanks for the detail"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12191896, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1leSdOfSQec/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZJuy5WYB8i2Ve2Zc-xaZQ_yywjg/photo.jpg?sz=128", "display_name": "Zephyx", "link": "https://stackoverflow.com/users/12191896/zephyx"}, "is_accepted": false, "score": -1, "last_activity_date": 1570665097, "creation_date": 1570665097, "answer_id": 58313629, "question_id": 58313527, "link": "https://stackoverflow.com/questions/58313527/python-wont-recognize-object-parameter/58313629#58313629", "title": "Python won&#39;t recognize object parameter", "body": "<p>Off the hip, you could pass a reference of the object to the function and then access the underlying attribute of objectA. For example:</p>\n\n<pre><code>objectA = Myclass()\n\ndef function(objectA_list, objectA):\n    for i in objectA_list:\n        str = objectA.attr1\n</code></pre>\n\n<p>Hopefully this points you in the right direction!</p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 10243952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxgtO.jpg?s=128&g=1", "display_name": "christophperrins", "link": "https://stackoverflow.com/users/10243952/christophperrins"}, "is_accepted": true, "score": 1, "last_activity_date": 1570665159, "creation_date": 1570665159, "answer_id": 58313637, "question_id": 58313527, "link": "https://stackoverflow.com/questions/58313527/python-wont-recognize-object-parameter/58313637#58313637", "title": "Python won&#39;t recognize object parameter", "body": "<p>I think you might be slightly confused with your phrasing or your code.</p>\n\n<p>If we have an instance of a class, it is a real object.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Dog:\n    speak = \"woof\"\n\nhusky = Dog()\n</code></pre>\n\n<p>Therefore if you have access to the reference variable, we can call speak variable inside the object and it will return \"woof\"</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>husky = Dog()\nprint(husky.speak) #woof!\n</code></pre>\n\n<p>If you have a list of objects:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>husky = Dog()\nlabrador = Dog()\npug = Dog()\ndogs = [husky, labrador, pug]\n\nfor dog in dogs:\n    print(dog.speak) \n</code></pre>\n\n<p>the husky, the labrador and the pug will each woof.</p>\n\n<p>The reference variables are only for us - they shouldn't be used as part of a function.</p>\n"}], "owner": {"reputation": 7889, "user_id": 2619038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec0034cda843c9fffd6fcccb5ec689bc?s=128&d=identicon&r=PG", "display_name": "NoName", "link": "https://stackoverflow.com/users/2619038/noname"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1570774744, "accepted_answer_id": 58313637, "answer_count": 2, "score": -4, "last_activity_date": 1570666396, "creation_date": 1570664050, "question_id": 58313527, "link": "https://stackoverflow.com/questions/58313527/python-wont-recognize-object-parameter", "closed_reason": "Not suitable for this site", "title": "Python won&#39;t recognize object parameter", "body": "<pre><code>    def function(objectA_list):\n         for objectA in objectA_list:\n              str = objectA.attr1\n</code></pre>\n\n<p>objectA.attr1 is not recognized. objectA is an instance of a class in another file that I have imported. How do I \"cast\" objectA variable as an objectA so I could use access the underlying attribute?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1570664171, "post_id": 58313524, "comment_id": 102987877, "body": "Have you tried anything? What went wrong?"}, {"owner": {"reputation": 27, "user_id": 11583961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--I1mHe-3Zls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1RgBOXVi3D_YCFPupBjkijk8ouw/mo/photo.jpg?sz=128", "display_name": "Tarek Tarek", "link": "https://stackoverflow.com/users/11583961/tarek-tarek"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1570665175, "post_id": 58313524, "comment_id": 102988067, "body": "I&#39;ve update what i did for now"}], "answers": [{"comments": [{"owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570666886, "post_id": 58313729, "comment_id": 102988389, "body": "I believe the order of &quot;accept&quot; matters. So I would suggest replacing the set with a list i.e. replacing: accept=set([&#39;Polygone&#39;, &#39;LineString&#39;, &#39;Point&#39;]) with accept=[&#39;Polygone&#39;, &#39;LineString&#39;, &#39;Point&#39;]."}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1570667412, "post_id": 58313729, "comment_id": 102988489, "body": "@Ouss--I believe expression (d[&#39;type&#39;] in accept) has the same truthiness regardless of accept being a list or set.  However, as a set, the performance is O(1), while for a list its O(n).  But, difference neglible in this case with only 3 elements."}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1570667658, "post_id": 58313729, "comment_id": 102988543, "body": "@TarekTarek--not sure I understand your question.  My answer just adds a check for being an element of a list or set to your if condition.  Used set since that&#39;s faster for larger number of elements but doesn&#39;t matter in this case with three elements."}, {"owner": {"reputation": 27, "user_id": 11583961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--I1mHe-3Zls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1RgBOXVi3D_YCFPupBjkijk8ouw/mo/photo.jpg?sz=128", "display_name": "Tarek Tarek", "link": "https://stackoverflow.com/users/11583961/tarek-tarek"}, "edited": false, "score": 0, "creation_date": 1570667672, "post_id": 58313729, "comment_id": 102988550, "body": "If the list was like these how can i have the same result? dict = [{&#39;firstName&#39;: &#39;Jabari&#39;, &#39;type&#39;:&#39;Point&#39;},{&#39;firstName&#39;: &#39;Jabari&#39;, &#39;type&#39;:&#39;LineString&#39;},{&#39;firstName&#39;: &#39;Jabari&#39;, &#39;type&#39;:&#39;Polygone&#39;},{&#39;firstName&#39;: &#39;Bane&#39;, &#39;type&#39;:&#39;LineString&#39;},{&#39;firstName&#39;: &#39;Bane&#39;, &#39;type&#39;:&#39;Point&#39;},{&#39;firstName&#39;: &#39;Jack&#39;, &#39;type&#39;:&#39;Point&#39;},{&#39;firstName&#39;: &#39;Jack&#39;, &#39;type&#39;:&#39;Polygone&#39;},\\ {&#39;firstName&#39;: &#39;Jack&#39;, &#39;type&#39;:&#39;LineString&#39;}]"}, {"owner": {"reputation": 27, "user_id": 11583961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--I1mHe-3Zls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1RgBOXVi3D_YCFPupBjkijk8ouw/mo/photo.jpg?sz=128", "display_name": "Tarek Tarek", "link": "https://stackoverflow.com/users/11583961/tarek-tarek"}, "edited": false, "score": 0, "creation_date": 1570667845, "post_id": 58313729, "comment_id": 102988569, "body": "In the duplicate how to set the priority(like the polygon win over the line and point or if there is line and point in the duplicate then the line win over the point,etc)"}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1570668452, "post_id": 58313729, "comment_id": 102988660, "body": "@TarekTarek--I think I understand."}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1570669561, "post_id": 58313729, "comment_id": 102988833, "body": "@TarekTarek--updated my answer.  Is this what you are expecting?"}, {"owner": {"reputation": 27, "user_id": 11583961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--I1mHe-3Zls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1RgBOXVi3D_YCFPupBjkijk8ouw/mo/photo.jpg?sz=128", "display_name": "Tarek Tarek", "link": "https://stackoverflow.com/users/11583961/tarek-tarek"}, "edited": false, "score": 0, "creation_date": 1570670044, "post_id": 58313729, "comment_id": 102988926, "body": "@DarrylG--the first output is good but the second output should have in his second line {&#39;firstName&#39;: &#39;Bane&#39;, &#39;type&#39;:&#39;LineString&#39;} instead of {&#39;firstName&#39;: &#39;Jack&#39;, &#39;type&#39;: &#39;Polygone&#39;}"}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1570670626, "post_id": 58313729, "comment_id": 102989023, "body": "@TarekTarek--think I remedied the problem.  Forgot to insure you only replaced with higher priority if &#39;firstName&#39; was the same."}, {"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1570672933, "post_id": 58313729, "comment_id": 102989503, "body": "By the way, instead of <code>sorted(..., reverse=True)[0]</code>, you can just use <code>max(...)</code>."}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1570673478, "post_id": 58313729, "comment_id": 102989600, "body": "@iz_--good thinking, I like it.  Used it in my updated answer."}], "tags": [], "owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "is_accepted": true, "score": 1, "last_activity_date": 1570673411, "last_edit_date": 1570673411, "creation_date": 1570665980, "answer_id": 58313729, "question_id": 58313524, "link": "https://stackoverflow.com/questions/58313524/python-list-of-dictionary/58313729#58313729", "title": "Python list of dictionary", "body": "<p>Option 1--Use conditionals to filter to desired output</p>\n\n<pre><code>def filter_dict(input_dict):\n  # place priorities on type\n  accept = {'Polygone':3, 'LineString':2, 'Point':1}\n  done = set()\n  result = []\n  for current in input_dict:\n    if current['type'] in accept.keys():\n      # Acceptable type\n      if current['firstName'] not in done:\n        # Not present and one of the acceptable types\n        done.add(current['firstName']) \n        result.append(current)\n      elif current['firstName'] in done:\n        # Duplicate, check if higher priority\n        for i in range(len(result)):\n          previous = result[i]\n          if result[i]['firstName'] == current['firstName'] and \\\n            accept[previous['type']] &lt; accept[current['type']]:\n            # Higher Priority with same name, so replace with current\n            result[i] = current\n\n  return result\n\npp = pprint.PrettyPrinter(indent=4)\n\n\nd1 = [{'firstName': 'Jabari', 'type':'Polygone'},\n{'firstName': 'Jabari', 'type':'LineString'},\n{'firstName': 'Jabari', 'type':'Point'},\n{'firstName': 'Jabari', 'type':'Polygone'},\n{'firstName': 'Bane', 'type':'LineString'},\n{'firstName': 'Bane', 'type':'Point'},\n{'firstName': 'Jack', 'type':'Point'}]\n\nprint('First Output')\npp.pprint(filter_dict(d1))\n\nd2 = [{'firstName': 'Jabari', 'type':'Point'},\n  {'firstName': 'Jabari', 'type':'LineString'},\n  {'firstName': 'Jabari', 'type':'Polygone'},\n  {'firstName': 'Bane', 'type':'LineString'},\n  {'firstName': 'Bane', 'type':'Point'},\n  {'firstName': 'Jack', 'type':'Point'},\n  {'firstName': 'Jack', 'type':'Polygone'},\n  {'firstName': 'Jack', 'type':'LineString'}] \n\nprint('Second Output')\npp.pprint(filter_dict(d2))\n</code></pre>\n\n<p>Option 2--Use itertools</p>\n\n<pre><code>from itertools import groupby\n\ndef filter_itertools(input_dict):\n  g = groupby(input_dict, lambda d: d['firstName'])\n  accept = {'Polygone':3, 'LineString':2, 'Point':1}\n  result = [max(v, key=lambda d: accept[d['type']]) for k, v in g]\n  return result\n\nprint('First itertools')\npp.pprint(filter_itertools(d1))\nprint('Second itertools')\npp.pprint(filter_itertools(d2))\n</code></pre>\n\n<p>Output (Both options have the same result)</p>\n\n<pre><code>First Output\n[   {'firstName': 'Jabari', 'type': 'Polygone'},\n    {'firstName': 'Bane', 'type': 'LineString'},\n    {'firstName': 'Jack', 'type': 'Point'}]\nSecond Output\n[   {'firstName': 'Jabari', 'type': 'Polygone'},\n    {'firstName': 'Bane', 'type': 'LineString'},\n    {'firstName': 'Jack', 'type': 'Polygone'}]\nFirst itertools\n[   {'firstName': 'Jabari', 'type': 'Polygone'},\n    {'firstName': 'Bane', 'type': 'LineString'},\n    {'firstName': 'Jack', 'type': 'Point'}]\nSecond itertools\n[   {'firstName': 'Jabari', 'type': 'Polygone'},\n    {'firstName': 'Bane', 'type': 'LineString'},\n    {'firstName': 'Jack', 'type': 'Polygone'}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 12185692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c77a0e76d6baf6b11f1e1aeb8394b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Giallo", "link": "https://stackoverflow.com/users/12185692/giallo"}, "is_accepted": false, "score": 0, "last_activity_date": 1570667701, "last_edit_date": 1570667701, "creation_date": 1570667126, "answer_id": 58313859, "question_id": 58313524, "link": "https://stackoverflow.com/questions/58313524/python-list-of-dictionary/58313859#58313859", "title": "Python list of dictionary", "body": "<p>You could try:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n# transform your list of dict into a dataframe\ndf = pd.DataFrame(dictionary) \n\n# create a new column called \"score\", assigning 1 for Polygone, 2 for LineString and 3 for Point\ndf['score'] = np.where(df['type'] == 'Polygone', 1, np.where(df['type'] == 'LineString', 2, np.where(df['type'] == 'Point', 3 , np.nan)))\n\n# sort the dataframe by score\ndf.sort_values(by='score')\n\n# drop rows with duplicated \"firstName\" \n# (by default the first duplicate is kept, hence the one with lowest score)\n# remember: 1 -&gt; Polygone, 2 -&gt; LineString, 3 -&gt; Point\ndf = df.drop_duplicates('firstName')\n\n# drop the columns \"score\"\ndf = df.drop('score', axis=1)\n\n# re-transform the dataframe into a list of dictionaries as it was at the beginning\nnew_list_dict = df.to_dict('records')\n\nprint(new_list_dict)\n</code></pre>\n\n<p>The most complicated part maybe is the <code>np.where</code> part.</p>\n\n<p>Basically <code>np.where</code> takes a condition as first parameter ( <code>df['type'] == 'Polygone'</code>), then it returns the second parameter is true ( <code>1</code>), or it returns the third parameter if the condition isn't satisfied. </p>\n\n<p>In this case what it returns if the condition isn't satisfied is another <code>np.where</code>, which this time checks if the \"type\" is \"LineString\". If it is \"LineString\", then it returns <code>2</code>. </p>\n\n<p>Otherwise another <code>np.where</code> is called, which checks if the \"type\" corresponds to \"Point\" and returns 3 if it does.</p>\n\n<p>If the \"type\" isn't any of the three, it returns <code>Nan</code>. But I think this shouldn't happen in your case .</p>\n"}, {"tags": [], "owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "is_accepted": false, "score": 0, "last_activity_date": 1570672156, "creation_date": 1570672156, "answer_id": 58314365, "question_id": 58313524, "link": "https://stackoverflow.com/questions/58313524/python-list-of-dictionary/58314365#58314365", "title": "Python list of dictionary", "body": "<p>I would solve this by first building a dictionary recording every combination of <code>firstName</code> and its associated <code>types</code> in the dataset. Then I'd process that dictionary to create the output format I needed:</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom collections import defaultdict\n\n# These are the names of the types, in descending order of importance\nORDER = (\"Polygone\", \"LineString\", \"Point\")\n\ngiven = [\n    {\"firstName\": \"Jabari\", \"type\": \"Polygone\"},\n    {\"firstName\": \"Jabari\", \"type\": \"LineString\"},\n    {\"firstName\": \"Jabari\", \"type\": \"Point\"},\n    {\"firstName\": \"Jabari\", \"type\": \"Polygone\"},\n    {\"firstName\": \"Bane\", \"type\": \"LineString\"},\n    {\"firstName\": \"Bane\", \"type\": \"Point\"},\n    {\"firstName\": \"Jack\", \"type\": \"Point\"},\n]\n\nexpected = [\n    {\"firstName\": \"Jabari\", \"type\": \"Polygone\"},\n    {\"firstName\": \"Bane\", \"type\": \"LineString\"},\n    {\"firstName\": \"Jack\", \"type\": \"Point\"},\n]\n\n# For each item, we're going to store all of the types of that item that we've seen. Making this a\n# dict handles the dedupeing part for free! Making the dict's value a set means that we don't care\n# how many entries we find for each item: even if there are 1,000,000, we'll at most be storing a\n# three-item set.\nfound = defaultdict(set)\n\nfor item in given:\n    # Each \"type\" will map to the number of its location in the ORDER tuple\n    index = ORDER.index(item[\"type\"])\n\n    found[item[\"firstName\"]].add(index)\n\noutput = []\nfor name, types in found.items():\n    # Now, for each item in \"found\" dict, find its smallest type index\n    lowest_index = sorted(types)[0]\n\n    # Map that index back to its type name\n    type_name = ORDER[lowest_index]\n\n    # Add it to the results\n    output.append({\"firstName\": name, \"type\": ORDER[lowest_index]})\n\nassert output == expected\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11583961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--I1mHe-3Zls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1RgBOXVi3D_YCFPupBjkijk8ouw/mo/photo.jpg?sz=128", "display_name": "Tarek Tarek", "link": "https://stackoverflow.com/users/11583961/tarek-tarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 58313729, "answer_count": 3, "score": -1, "last_activity_date": 1570867820, "creation_date": 1570664007, "last_edit_date": 1570867820, "question_id": 58313524, "link": "https://stackoverflow.com/questions/58313524/python-list-of-dictionary", "title": "Python list of dictionary", "body": "<p>I have this list of dict and I want to remove the duplicates based on name but at the same time choose on key type by this order [Polygone, LineString, Point]</p>\n\n<pre><code>dictionary = [{'firstName': 'Jabari', 'type':'Polygone'},{'firstName': 'Jabari', 'type':'LineString'},{'firstName': 'Jabari', 'type':'Point'},{'firstName': 'Jabari', 'type':'Polygone'},{'firstName': 'Bane', 'type':'LineString'},{'firstName': 'Bane', 'type':'Point'},{'firstName': 'Jack', 'type':'Point'}]\n</code></pre>\n\n<p>The result would be:</p>\n\n<pre><code>dictionary = [{'firstName': 'Jabari', 'type':'Polygone'},{'firstName': 'Bane', 'type':'LineString'},{'firstName': 'Jack', 'type':'Point'}]\n</code></pre>\n\n<p>I removed duplicate but I don't know how to get the second part working</p>\n\n<pre><code>done = set()\nresult = []\nfor d in dictionary:\n    if d['firstName'] not in done:\n        done.add(d['firstName']) \n        result.append(d)\nprint(result)\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 225, "user_id": 12168110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcafa009590300956e243f61b4da165?s=128&d=identicon&r=PG&f=1", "display_name": "wgb22", "link": "https://stackoverflow.com/users/12168110/wgb22"}, "edited": false, "score": 0, "creation_date": 1570664223, "post_id": 58313510, "comment_id": 102987885, "body": "Why do you need to use the groupby? What are you grouping by?"}, {"owner": {"reputation": 33, "user_id": 11996620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c747f4ea11226fdfa4e50aea3edf1cf?s=128&d=identicon&r=PG&f=1", "display_name": "lhux", "link": "https://stackoverflow.com/users/11996620/lhux"}, "reply_to_user": {"reputation": 225, "user_id": 12168110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcafa009590300956e243f61b4da165?s=128&d=identicon&r=PG&f=1", "display_name": "wgb22", "link": "https://stackoverflow.com/users/12168110/wgb22"}, "edited": false, "score": 0, "creation_date": 1570664379, "post_id": 58313510, "comment_id": 102987913, "body": "Grouping by CPT code, as shown in the code above. If you know a better way to show the same results, please show me."}], "answers": [{"tags": [], "owner": {"reputation": 225, "user_id": 12168110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcafa009590300956e243f61b4da165?s=128&d=identicon&r=PG&f=1", "display_name": "wgb22", "link": "https://stackoverflow.com/users/12168110/wgb22"}, "is_accepted": true, "score": 0, "last_activity_date": 1570664680, "creation_date": 1570664680, "answer_id": 58313588, "question_id": 58313510, "link": "https://stackoverflow.com/questions/58313510/how-to-add-difference-column-to-groupby-statement-in-pandas/58313588#58313588", "title": "How to add difference column to groupby statement in Pandas?", "body": "<p>Save your grouped dataframe to a new variable name to distinguish it from your raw data. Then do a difference operation to add that new column.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>ucla_all_grouped = ucla_all.groupby(['CPT Code']).agg(\n    {'CPT Code': 'count', 'Average Charges':'mean','Average Reimbursement': 'mean'})\nucla_all_grouped['Difference'] = ucla_all_grouped['Average Charge'] \n                                 - ucla_all_grouped['Average Reimbursement']\n</code></pre>\n\n<p>From experience, I find it good to distinguish raw dataframes and grouped dataframes from each other as you never know when to decide to do more analysis with one or start something new with the raw data.</p>\n"}], "owner": {"reputation": 33, "user_id": 11996620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c747f4ea11226fdfa4e50aea3edf1cf?s=128&d=identicon&r=PG&f=1", "display_name": "lhux", "link": "https://stackoverflow.com/users/11996620/lhux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58313588, "answer_count": 1, "score": 0, "last_activity_date": 1570664680, "creation_date": 1570663799, "last_edit_date": 1570664108, "question_id": 58313510, "link": "https://stackoverflow.com/questions/58313510/how-to-add-difference-column-to-groupby-statement-in-pandas", "title": "How to add difference column to groupby statement in Pandas?", "body": "<p>I have this code:</p>\n\n<pre><code>print(ucla_all.groupby(['CPT Code']).agg(\n    {'CPT Code': 'count', 'Average Charges':'mean','Average Reimbursement': 'mean'}))\n</code></pre>\n\n<p>And I have this table:</p>\n\n<pre><code>          CPT Code  Average Charges  Average Reimbursement\nCPT Code                                                  \n90792            1       490.000000             147.000000\n90832            2       222.000000             222.000000\n90833            3       148.000000             148.000000\n90834           16       750.000000             750.000000\n90837          286       422.472028             418.205350\n90849          256       110.429688             110.429688\n90853          207       130.000000             129.801836\n</code></pre>\n\n<p>How can I add another column with the difference between the second and third columns to this table with the groupby statement?</p>\n"}, {"tags": ["python", "list", "csv", "dictionary"], "comments": [{"owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570665431, "post_id": 58313507, "comment_id": 102988116, "body": "The code you have provided has a clear error in the last line of code, but i don&#39;t think that is your issue.  please provide a test input data file, as well as the code you are using..."}, {"owner": {"reputation": 1, "user_id": 7417249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1608513317644d2d73bfcd04b5e7e062?s=128&d=identicon&r=PG&f=1", "display_name": "thin580", "link": "https://stackoverflow.com/users/7417249/thin580"}, "reply_to_user": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570667532, "post_id": 58313507, "comment_id": 102988518, "body": "@Ouss Fixed the spelling error that I think you may have meant and uploaded the full code I am using. The input data file is huge but it looks like the snippet I&#39;ve shown above."}, {"owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570668181, "post_id": 58313507, "comment_id": 102988613, "body": "The error at the last line of the code is not a typo... it is more than just a typo... The values inside the ECG, ACC will not be exported out... [item] will contain [ACC] and [ECG] literally and not the values you want...  Add some print() functions here and there so that you can find the logical error... or use an IDE to debug the code... or use some tool like Jupyter where you can see the output line by line"}, {"owner": {"reputation": 1, "user_id": 7417249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1608513317644d2d73bfcd04b5e7e062?s=128&d=identicon&r=PG&f=1", "display_name": "thin580", "link": "https://stackoverflow.com/users/7417249/thin580"}, "reply_to_user": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570668336, "post_id": 58313507, "comment_id": 102988638, "body": "@Ouss I&#39;ve added an example output to what it currently looks like. Doesn&#39;t contain [ACC] and [ECG] literally, but the values I want except all on one column, they don&#39;t correspond to the desired headers"}, {"owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570668609, "post_id": 58313507, "comment_id": 102988682, "body": "Ok. I see. So the first element of the ACC array in the original file corresponds with the first element of the ECG array and they should be exported in the same row in the final csv file?"}, {"owner": {"reputation": 1, "user_id": 7417249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1608513317644d2d73bfcd04b5e7e062?s=128&d=identicon&r=PG&f=1", "display_name": "thin580", "link": "https://stackoverflow.com/users/7417249/thin580"}, "reply_to_user": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570668784, "post_id": 58313507, "comment_id": 102988709, "body": "@Ouss Yes. Sorry for my poor explanation."}, {"owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "edited": false, "score": 0, "creation_date": 1570671866, "post_id": 58313507, "comment_id": 102989266, "body": "i added my answer below...."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7417249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1608513317644d2d73bfcd04b5e7e062?s=128&d=identicon&r=PG&f=1", "display_name": "thin580", "link": "https://stackoverflow.com/users/7417249/thin580"}, "edited": false, "score": 0, "creation_date": 1570673915, "post_id": 58314320, "comment_id": 102989666, "body": "Thanks, although I don&#39;t think the keys have exactly matching outputs, as I keep getting an IndexError: string index out of range, on row.append(data[key][index])."}, {"owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "reply_to_user": {"reputation": 1, "user_id": 7417249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1608513317644d2d73bfcd04b5e7e062?s=128&d=identicon&r=PG&f=1", "display_name": "thin580", "link": "https://stackoverflow.com/users/7417249/thin580"}, "edited": false, "score": 0, "creation_date": 1570713912, "post_id": 58314320, "comment_id": 103006632, "body": "The code i provided works with the descriptions and data you provided. If the data you provided is not representative of the problem you have at hand then i cannot help you further."}, {"owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "reply_to_user": {"reputation": 1, "user_id": 7417249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1608513317644d2d73bfcd04b5e7e062?s=128&d=identicon&r=PG&f=1", "display_name": "thin580", "link": "https://stackoverflow.com/users/7417249/thin580"}, "edited": false, "score": 0, "creation_date": 1570714033, "post_id": 58314320, "comment_id": 103006719, "body": "Please share the data file or a representative portion of it..."}], "tags": [], "owner": {"reputation": 1308, "user_id": 3362720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0150ac5ebcb0e2a5c1e5fdc9931123a4?s=128&d=identicon&r=PG", "display_name": "Oussama", "link": "https://stackoverflow.com/users/3362720/oussama"}, "is_accepted": false, "score": 0, "last_activity_date": 1570673173, "last_edit_date": 1570673173, "creation_date": 1570671816, "answer_id": 58314320, "question_id": 58313507, "link": "https://stackoverflow.com/questions/58313507/python-values-of-a-list-within-a-dict-as-multiple-columns-in-a-csv-file/58314320#58314320", "title": "Python - values of a list within a dict as multiple columns in a csv file", "body": "<p>As far as i understood, you want to turn the nested dictionary of differnet ECG and ACC measurements into a flat csv table. the ACC, ECG measurements are ordered list of corresponding value. I started with the code you provided and I made some changes and included comments that explains every step.</p>\n\n<p>Note that you get the same outcome in many different ways but i chose something close to what you started with and i did not try to write efficient code or pythonic code to make sure the answer is clear. What i am trying to say is that there are better and cleaner ways to get the same result but i am trying here to maximise clarity.</p>\n\n<pre><code>import cPickle\nimport csv\n\ndef fun():\n #load the pickled file and set the value to data\n with (open('S2.pkl', 'rb')) as openfile:\n  data = cPickle.load(openfile)    \n\n #flatten the nested dictionary (depth 2) \n for key0, value0 in data.items():\n  for key1, value1 in data[key0].items():\n   data['{}_{}'.format(key0, key1)] = value1\n   for key2, value2 in data['{}_{}'.format(key0, key1)].items():\n    data['{}_{}_{}'.format(key0, key1, key2)]=value2\n   del data['{}_{}'.format(key0, key1)]\n  del data[key0]\n\n #extract the flatten keys (useful for the csv)\n keys = sorted(data.keys())\n\n #Turn the dictionary into a table\n rows = []\n firstKey = keys[0]\n for index, value in enumerate(data[firstKey]):\n  row = []\n  for key in keys:\n   row.append(data[key][index])\n  rows.append(row)\n\n #Export datRows as csv\n with open('out-testx.csv', 'wb') as csv_file:\n  w = csv.writer(csv_file, delimiter = \"\\t\", lineterminator=\"\\n\")\n  w.writerow(keys)\n  for row in rows:\n   w.writerow(row) \n\nif __name__=='__main__':\n fun()\n</code></pre>\n\n<p>Running the code (with the data available) results in:</p>\n\n<pre><code>signal_chest_ACC    signal_chest_ECG\n[0.95539999, -0.222, -0.55799997]   [0.02142334]\n[0.92579997, -0.2216, -0.55379999]  [0.02032471]\n[0.90820003, -0.21960002, -0.53920001]  [0.02032471]\n[0.87179995, -0.12379998, -0.30419999]  [0.02032471]\n[0.87300003, -0.12339997, -0.30260003]  [0.02032471]\n[0.87020004, -0.12199998, -0.30220002]  [0.01652527]\n</code></pre>\n\n<p>Good luck analysing the data...</p>\n"}], "owner": {"reputation": 1, "user_id": 7417249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1608513317644d2d73bfcd04b5e7e062?s=128&d=identicon&r=PG&f=1", "display_name": "thin580", "link": "https://stackoverflow.com/users/7417249/thin580"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570673173, "creation_date": 1570663758, "last_edit_date": 1570668182, "question_id": 58313507, "link": "https://stackoverflow.com/questions/58313507/python-values-of-a-list-within-a-dict-as-multiple-columns-in-a-csv-file", "title": "Python - values of a list within a dict as multiple columns in a csv file", "body": "<p>I have nested dicts that have an inner list as a value I'm trying to extrapolate to a csv file under multiple column names. The dict looks like this:</p>\n\n<pre><code>{'signal': {'chest': {'ACC': array([[ 0.95539999, -0.222     , -0.55799997],\n       [ 0.92579997, -0.2216    , -0.55379999],\n       [ 0.90820003, -0.21960002, -0.53920001],\n       ...,\n       [ 0.87179995, -0.12379998, -0.30419999],\n       [ 0.87300003, -0.12339997, -0.30260003],\n       [ 0.87020004, -0.12199998, -0.30220002]]), 'ECG': array([[ 0.02142334],\n       [ 0.02032471],\n       [ 0.01652527],\n       ...,\n</code></pre>\n\n<p>I have written code to flatten the dict so that each heading is: signal_chest_ACC, signal_chest_ECG, etc. Albeit ugly.</p>\n\n<p>And I have attempted to process the values of each list such that they will appear under each column. However, it outputs all the values in a single column and not under the appropriate keys. How do I access each index of the array and output them as an individual row of the csv file such that each key(column header) has the appropriate list of values under?</p>\n\n<pre><code>#!/usr/bin/env python2\n\nimport sys\nimport numpy\nimport cPickle\nimport pandas as pd\nimport csv\nimport itertools\n\n#numpy.set_printoptions(threshold=sys.maxsize)\nwith (open('S2.pkl', 'rb')) as openfile:\n    data = cPickle.load(openfile)\n\n    for key, value in data['signal'].items():\n        data['signal_{}'.format(key)] = value\n    del data['signal']\n\n    for key, value in data['signal_wrist'].items():\n        data['signal_wrist_{}'.format(key)] = value\n    del data['signal_wrist']\n\n    for key, value in data['signal_chest'].items():\n        data['signal_chest_{}'.format(key)] = value\n    del data['signal_chest']\n\n    keys = sorted(data.keys())\n\n    with open('out-testx.csv', 'wb') as csv_file:\n        w = csv.writer(csv_file, delimiter = \"\\t\")\n        w.writerow(keys)\n        for key in keys:\n            for item in data[key]:\n                w.writerow([item])\n</code></pre>\n\n<p>Example ouput:</p>\n\n<pre><code>signal_chest_ACC    signal_chest_ECG    ...\n[ 0.95539999, -0.222     , -0.55799997]\n[ 0.92579997, -0.2216    , -0.55379999]\n[ 0.90820003, -0.21960002, -0.53920001]\n...\n[ 0.02142334]\n[ 0.02142334]\n[ 0.01652527]\n...\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>signal_chest_ACC    signal_chest_ECG    ...\n[ 0.95539999, -0.222     , -0.55799997]    [ 0.02142334]\n[ 0.92579997, -0.2216    , -0.55379999]    [ 0.02142334]\n[ 0.90820003, -0.21960002, -0.53920001]    [ 0.01652527]\n...\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "arguments"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1570663878, "post_id": 58313496, "comment_id": 102987834, "body": "The issue of the peculiarities of <code>bar</code> in the class scope is sort of orthogonal to the issue of default values. What you need to understand is that class bodies do not form an enclosing scope, which is why you must always use <code>self.bar</code> within the function bodies of methods defined in the class body. Also note, <i>values</i> do not have namespaces <i>per se</i>, rather, various namespaces can reference the same value. However, default values are evaluated <i>once</i> at function definition time, and they have access to the scope of where the function is defined for whatever expression you are using"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570664169, "post_id": 58313496, "comment_id": 102987876, "body": "Regarding the &quot;namespace&quot; question, also have a look at <a href=\"https://docs.python.org/3/reference/datamodel.html#objects-values-and-types\" rel=\"nofollow noreferrer\">this page</a> and look for <code>__defaults__</code> if you want to know where a function&#39;s default arguments are actually stored."}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 4, "last_activity_date": 1570665718, "last_edit_date": 1570665718, "creation_date": 1570664184, "answer_id": 58313538, "question_id": 58313496, "link": "https://stackoverflow.com/questions/58313496/what-is-a-keyword-argument-values-namespace-in-python/58313538#58313538", "title": "What is a keyword argument value&#39;s namespace in python?", "body": "<p>Three facts:</p>\n\n<ol>\n<li>The <em>name</em> (left side) of a default argument is a local variable name inside the function body.</li>\n<li>The <em>value</em> (right side) of a default argument is evaluated in the scope where the function is defined, at the time of function definition.</li>\n<li>Code within a class block is executed in a temporary namespace during class definition. The class block is not treated like an enclosing scope, which may be surprising if you were expecting behavior similar to a nested <code>def</code>.</li>\n</ol>\n\n<p>Point 3 is the most subtle and perhaps contrary to initial expectations. It's documented in the <a href=\"https://docs.python.org/3/reference/executionmodel.html#resolution-of-names\" rel=\"nofollow noreferrer\">execution model</a> (section <strong>4.2.2. Resolution of names</strong>):</p>\n\n<blockquote>\n  <p>The scope of names defined in a class block is limited to the class block; it does not extend to the code blocks of methods</p>\n</blockquote>\n\n<p>This is why the name <code>bar</code> is not resolved in your second example:</p>\n\n<pre><code>class Foo:\n    bar = 0\n    def __init__(self):\n        self.a = bar  # name \"bar\" isn't accessible here, but code is valid syntax\n\nFoo()  # NameError: name 'bar' is not defined\n</code></pre>\n\n<p>Note that <code>bar</code> value, <code>0</code>, would still be accessible from within the method as a class attribute: via either <code>Foo.bar</code> or <code>self.bar</code>.</p>\n\n<p>You should now understand why the final example <em>does</em> work:</p>\n\n<pre><code>class Foo:\n   bar = 0\n   def __init__(self, a=bar):\n       self.a = a\nFoo()\n</code></pre>\n\n<p>And, considering points 1-3 above, you should also be able to correctly predict what happens here:</p>\n\n<pre><code>class Foo:\n   def __init__(self, a=bar):\n       self.a = a\n   bar = 0\nFoo()\n</code></pre>\n\n<p>There's more information about the weird class scope over in <a href=\"https://stackoverflow.com/q/45195109/674039\">UnboundLocalError: local variable referenced before assignment why LEGB Rule not applied in this case</a>.</p>\n"}], "owner": {"reputation": 692, "user_id": 8456253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/488d3a9f1863fb3afacbedecd42c25d5?s=128&d=identicon&r=PG&f=1", "display_name": "kuco 23", "link": "https://stackoverflow.com/users/8456253/kuco-23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58313538, "answer_count": 1, "score": 4, "last_activity_date": 1570665718, "creation_date": 1570663614, "last_edit_date": 1570665584, "question_id": 58313496, "link": "https://stackoverflow.com/questions/58313496/what-is-a-keyword-argument-values-namespace-in-python", "title": "What is a keyword argument value&#39;s namespace in python?", "body": "<p>I know python treats this namespace in a different way ever since I found out about </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def foo(l=[]):\n    l.append(1)\n    print(l)\n\nfoo()\nfoo()\nfoo([])\nfoo()\n</code></pre>\n\n<p>which prints the following.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>[1]\n[1,1]\n[1]\n[1,1,1]\n</code></pre>\n\n<p>So I was sceptical about their use as an object initializers.\nThen recently I encountered another similarly strange behaviour, \ndemonstrated below.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Foo:\n    bar = 0\n    def __init__(self):\n        self.a = bar\nFoo()\n</code></pre>\n\n<p>This raises an exception as <code>bar</code> is not defined inside this namespace.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Foo:\n   bar = 0\n   def __init__(self, a=bar)\n       self.a = a\nFoo()\n</code></pre>\n\n<p>Now this successfully assigns value held by a class variable <code>foo</code> to an object <code>a</code> inside the initializer. \nWhy do these things happen and how are the default argument values treated?</p>\n"}, {"tags": ["python", "python-3.x", "api"], "comments": [{"owner": {"reputation": 1451, "user_id": 6552776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UiuKq.jpg?s=128&g=1", "display_name": "csabinho", "link": "https://stackoverflow.com/users/6552776/csabinho"}, "edited": false, "score": 0, "creation_date": 1570663747, "post_id": 58313484, "comment_id": 102987808, "body": "200 is <code>HTTP OK</code>, yes!"}, {"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1570663749, "post_id": 58313484, "comment_id": 102987809, "body": "What&#39;s the question? Read about the API you want to use. Most APIs will tell you how to use them."}, {"owner": {"reputation": 13, "user_id": 12191830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ATUZSV641wY/AAAAAAAAAAI/AAAAAAAAAAw/LvcKAjrQL0Y/photo.jpg?sz=128", "display_name": "Ling Fung Vincent Sin", "link": "https://stackoverflow.com/users/12191830/ling-fung-vincent-sin"}, "edited": false, "score": 0, "creation_date": 1570664388, "post_id": 58313484, "comment_id": 102987916, "body": "this is the page about the API <a href=\"https://rxnav.nlm.nih.gov/InteractionAPIREST.html\" rel=\"nofollow noreferrer\">rxnav.nlm.nih.gov/InteractionAPIREST.html</a> . And it does not show any documentation on how to use it"}], "answers": [{"tags": [], "owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "is_accepted": true, "score": 0, "last_activity_date": 1570666008, "creation_date": 1570666008, "answer_id": 58313734, "question_id": 58313484, "link": "https://stackoverflow.com/questions/58313484/trying-to-write-python-to-request-api-from-nlm-nih-gov/58313734#58313734", "title": "Trying to write Python to request API from &#39;nlm.nih.gov&#39;", "body": "<p>Here's how you'd hit this API, using <a href=\"https://requests.kennethreitz.org/en/master/\" rel=\"nofollow noreferrer\"><code>requests</code></a> and the details in <a href=\"https://rxnav.nlm.nih.gov/InteractionAPIREST.html\" rel=\"nofollow noreferrer\">their example</a>:</p>\n\n<pre><code>import requests\n\nuri = \"https://rxnav.nlm.nih.gov/REST/interaction/interaction.json\"\nparams = {'rxcui': 341248}\n\nr = requests.get(uri, params)\n</code></pre>\n\n<p>Now you can check that <code>r.status_code</code> is 200, and get at the result of the request. For example:</p>\n\n<pre><code>r.json()\n</code></pre>\n\n<p>As you may realize, this returns a Python dictionary.</p>\n\n<p>The general idea is that <code>requsts.get()</code> takes the base URL, followed by the query parameters, given as a dictionary. What you get back depends on the API endpoint you're querying, and/or on the parameters. In this, it's giving you JSON. Others might give you text (see <code>r.text</code> for this representation), or bytes (<code>r.content</code>).</p>\n"}], "owner": {"reputation": 13, "user_id": 12191830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ATUZSV641wY/AAAAAAAAAAI/AAAAAAAAAAw/LvcKAjrQL0Y/photo.jpg?sz=128", "display_name": "Ling Fung Vincent Sin", "link": "https://stackoverflow.com/users/12191830/ling-fung-vincent-sin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 58313734, "answer_count": 1, "score": 1, "last_activity_date": 1570666008, "creation_date": 1570663496, "last_edit_date": 1570663629, "question_id": 58313484, "link": "https://stackoverflow.com/questions/58313484/trying-to-write-python-to-request-api-from-nlm-nih-gov", "title": "Trying to write Python to request API from &#39;nlm.nih.gov&#39;", "body": "<p>I am trying to run my csv data thru \"<a href=\"https://rxnav.nlm.nih.gov/REST/interaction\" rel=\"nofollow noreferrer\">https://rxnav.nlm.nih.gov/REST/interaction</a>\" to identify any drug interactions using python. What else do I need in order to have the program be ready?</p>\n\n<p>I got 200 when print status_code is that mean my code is up and ready?</p>\n\n<pre><code>import requests\nresponse = requests.get(\"https://rxnav.nlm.nih.gov/REST/interaction\")\nprint(response.status_code)\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 2595409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd9ccd47b2ad1d8a489e930221f328c2?s=128&d=identicon&r=PG", "display_name": "medvi_dinya", "link": "https://stackoverflow.com/users/2595409/medvi-dinya"}, "edited": false, "score": 0, "creation_date": 1570692053, "post_id": 58313808, "comment_id": 102994754, "body": "This is not only what I would like to do, everything is a little more complicated, but probably this is the only solution. Thank you!"}, {"owner": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "reply_to_user": {"reputation": 55, "user_id": 2595409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd9ccd47b2ad1d8a489e930221f328c2?s=128&d=identicon&r=PG", "display_name": "medvi_dinya", "link": "https://stackoverflow.com/users/2595409/medvi-dinya"}, "edited": false, "score": 0, "creation_date": 1570700505, "post_id": 58313808, "comment_id": 102999057, "body": "It could be better if you could explain that complicated logic so that your question can be a good one, I&#39;m also can give you an answer with all my best and then other people can refer it maybe."}, {"owner": {"reputation": 55, "user_id": 2595409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd9ccd47b2ad1d8a489e930221f328c2?s=128&d=identicon&r=PG", "display_name": "medvi_dinya", "link": "https://stackoverflow.com/users/2595409/medvi-dinya"}, "edited": false, "score": 0, "creation_date": 1570723728, "post_id": 58313808, "comment_id": 103012442, "body": "The logic is not very complicated (quite large, many methods), but I would like to beautifully divide it into several viewsets, so that by looking at these viewsets it would be possible to tell which method from which viewsets the user can call (whether authorization or additional rights are needed). If I implement your solution (which I would like to avoid, but probably not), then someone will have to look at the code in SomeAuthBackend (this is not very convenient and obvious, in my opinion)"}, {"owner": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "reply_to_user": {"reputation": 55, "user_id": 2595409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd9ccd47b2ad1d8a489e930221f328c2?s=128&d=identicon&r=PG", "display_name": "medvi_dinya", "link": "https://stackoverflow.com/users/2595409/medvi-dinya"}, "edited": false, "score": 0, "creation_date": 1570726060, "post_id": 58313808, "comment_id": 103013579, "body": "They can only need to take a look at the View when you override <code>create</code> method, I mean check permission inside that method then. But that is not the way Django Rest Framework refer. They separated the permission class to make it Single Responsibility. So if your permission name is good enough, other people just need to read the class name to understand the rest and don&#39;t even have to care about what permission class does and how you implemented it"}], "tags": [], "owner": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "is_accepted": true, "score": 1, "last_activity_date": 1570666615, "creation_date": 1570666615, "answer_id": 58313808, "question_id": 58313475, "link": "https://stackoverflow.com/questions/58313475/django-rest-framework-two-viewsets-for-one-router/58313808#58313808", "title": "Django Rest Framework: two viewsets for one router", "body": "<p>You can't call 2 views for 1 url. Seem like you only want to allow specific user who has <code>SomeAuthBackend</code> permission can create new <code>Tournament</code>, if so, you could custom your permission class a bit to check permission only on <code>POST</code> requests like so:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from rest_framework import permissions\n\nclass SomeAuthBackend(permissions.BasePermission):\n    protected_methods = ['POST',]\n    def has_permission(self, request, view):\n        if request.method in self.protected_methods:\n            # Check permission here\n\n        return True\n\n\nclass TournamentEndpoint(\n    mixins.CreateModelMixin,\n    mixins.RetrieveModelMixin,\n    mixins.ListModelMixin,\n    viewsets.GenericViewSet\n):\n    queryset = Tournament.objects.all()\n    authentication_classes = [SomeAuthBackend, ]  # empty!\n</code></pre>\n\n<p>With this, other method still works but when user send a <code>POST</code> request, it require to pass the permission check on <code>SomeAuthBackend</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 2595409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd9ccd47b2ad1d8a489e930221f328c2?s=128&d=identicon&r=PG", "display_name": "medvi_dinya", "link": "https://stackoverflow.com/users/2595409/medvi-dinya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 58313808, "answer_count": 1, "score": 0, "last_activity_date": 1570666615, "creation_date": 1570663426, "question_id": 58313475, "link": "https://stackoverflow.com/questions/58313475/django-rest-framework-two-viewsets-for-one-router", "title": "Django Rest Framework: two viewsets for one router", "body": "<p>I want to have TWO DIFFERENT viewsets (for example, one implements only the GET method, the other implements only the POST method), but which will have the same url:\n<code>GET /tournament/</code> - returns concrete object of the model Tournament;\n<code>POST /tournament/</code> - create object of the model Tournament.</p>\n\n<p>But it is important that they must have the same url <code>/tournament/</code>!</p>\n\n<p>I trying something like this:</p>\n\n<p>models.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Tournament(Model):\n    ...\n</code></pre>\n\n<p>viewsets.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class PublicTournamentEndpoint(\n    mixins.RetrieveModelMixin,\n    mixins.ListModelMixin,\n    viewsets.GenericViewSet\n):\n    queryset = Tournament.objects.all()\n    authentication_classes = []  # empty!\n\nclass PrivateTournamentEndpoint(\n    mixins.CreateModelMixin,\n    viewsets.GenericViewSet\n):\n    queryset = Tournament.objects.all()\n    authentication_classes = ['SomeAuthBackend']  # not empty!\n</code></pre>\n\n<p>routers.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class TournamentRouter(SimpleRouter):\n    routes = [\n        Route(\n            url=r'^{prefix}/tournament/$',\n            mapping={\n                'get': 'retrieve',\n                'post': 'create',\n            },\n            name='{basename}',\n            detail=True,\n            initkwargs={},\n        ),\n</code></pre>\n\n<p>urls.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>tournament_router = TournamentRouter()\ntournament_router.register(\n    'tournaments',\n    PublicTournamentEndpoint,\n    basename='tournaments',\n)\n\ntournament_router.register(\n    'tournaments',\n    PrivateTournamentEndpoint,\n    basename='tournaments',\n)\n\nurlpatterns += tournament_router.urls\n</code></pre>\n\n<p>But my <code>urlpatterns</code> has next values:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>[\n    &lt;URLPattern '^tournaments/tournament/$' [name='tournaments']&gt;, \n    &lt;URLPattern '^tournaments/tournament/$' [name='tournaments']&gt;\n]\n</code></pre>\n\n<p>and so when I send a <code>POST /tournament/</code> request, I get the following error:</p>\n\n<pre><code>405 \"Method \\\"POST\\\" not allowed.\"\n</code></pre>\n\n<p>because the first match url does not have a POST method, but only GET. How can i resolve this problems?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 1, "creation_date": 1570685449, "post_id": 58314645, "comment_id": 102992172, "body": "I think ASC is the default, and that&#39;s why using 0, else 1 works."}, {"owner": {"reputation": 2535, "user_id": 2036070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSLZ4.jpg?s=128&g=1", "display_name": "Ian Wilson", "link": "https://stackoverflow.com/users/2036070/ian-wilson"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1570748443, "post_id": 58314645, "comment_id": 103021919, "body": "@IljaEveril&#228; You are correct, ASC is the default, I updated the answer to reflect your comment.  Thanks."}], "tags": [], "owner": {"reputation": 2535, "user_id": 2036070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSLZ4.jpg?s=128&g=1", "display_name": "Ian Wilson", "link": "https://stackoverflow.com/users/2036070/ian-wilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1570748327, "last_edit_date": 1570748327, "creation_date": 1570674692, "answer_id": 58314645, "question_id": 58313465, "link": "https://stackoverflow.com/questions/58313465/sqlalchemy-sort-data-based-on-a-specific-value-name-and-the-others-as-ascendin/58314645#58314645", "title": "Sqlalchemy sort data based on a specific value (name) and the others as ascending order", "body": "<p>I think this is the more standard way to attempt this.  Instead of trying to sort <code>name</code> and 1 simultaneously you assign each row either a 1 or 0 if it is Ohio or not and sort by that first, then you sort by the name.  <em>The order should be <code>ASC</code> be default as mentioned in comments.</em></p>\n\n<pre><code>db.query(ListModel).order_by(\n    case([(ListModel.name=='OHIO', 0)], else_=1), \n    ListModel.name)\n</code></pre>\n"}], "owner": {"reputation": 202, "user_id": 2636352, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cdcc6d96b5a4507b4d61f614839108df?s=128&d=identicon&r=PG", "display_name": "alvirbismonte", "link": "https://stackoverflow.com/users/2636352/alvirbismonte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570748327, "creation_date": 1570663312, "last_edit_date": 1570674772, "question_id": 58313465, "link": "https://stackoverflow.com/questions/58313465/sqlalchemy-sort-data-based-on-a-specific-value-name-and-the-others-as-ascendin", "title": "Sqlalchemy sort data based on a specific value (name) and the others as ascending order", "body": "<p>I need to sort a specific list based on a specific value which is an id that supposed to be on top of the list and the rest would be sorted as ascending order.</p>\n\n<p>Here's the code that I have tried by applying <code>case</code>.</p>\n\n<pre><code>db_session.query(ListModel)\n.order_by(\n    case([(ListModel.name == \"OHIO\", 1)]),\n     ListModel.name.asc()\n)\n</code></pre>\n"}, {"tags": ["python", "node.js"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1570663404, "post_id": 58313447, "comment_id": 102987736, "body": "Sounds like &quot;application/json&quot; is not an acceptable content type"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "reply_to_user": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1570663913, "post_id": 58313447, "comment_id": 102987838, "body": "@how to make it acceptable?"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1570664230, "post_id": 58313447, "comment_id": 102987889, "body": "Have you tried content-type: &quot;application/json; charset=utf-8&quot; ?"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "reply_to_user": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1570665108, "post_id": 58313447, "comment_id": 102988054, "body": "@JacobIRR - where exactly this need to be put? in the node.js API,do you minding being specific?"}, {"owner": {"reputation": 3820, "user_id": 10678955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gRpbG.jpg?s=128&g=1", "display_name": "root", "link": "https://stackoverflow.com/users/10678955/root"}, "edited": false, "score": 1, "creation_date": 1570923222, "post_id": 58313447, "comment_id": 103071301, "body": "Are you using any body parsers?"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1571075322, "post_id": 58313447, "comment_id": 103111734, "body": "The error is on localhost and the code is exactly the same as I posted"}, {"owner": {"reputation": 29017, "user_id": 1119863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dhjKf.jpg?s=128&g=1", "display_name": "Marcos Casagrande", "link": "https://stackoverflow.com/users/1119863/marcos-casagrande"}, "edited": false, "score": 0, "creation_date": 1571353367, "post_id": 58313447, "comment_id": 103222992, "body": "Can you show your express setup, all middlewares before <code>.post</code>."}, {"owner": {"reputation": 2593, "user_id": 3599013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9qn6C.jpg?s=128&g=1", "display_name": "NIKHIL C M", "link": "https://stackoverflow.com/users/3599013/nikhil-c-m"}, "edited": false, "score": 0, "creation_date": 1571380212, "post_id": 58313447, "comment_id": 103228835, "body": "is this issue fixed ?"}], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1570674957, "post_id": 58313913, "comment_id": 102989874, "body": "I need to get it working with <code>headers={&quot;Content-Type&quot;: &quot;application&#47;json&quot;}</code>"}, {"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1570678666, "post_id": 58313913, "comment_id": 102990682, "body": "I get the same error with <code>r = requests.post(webhook, json=data, verify=False)</code>"}, {"owner": {"reputation": 989, "user_id": 1438644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23fcc7dda1b4fac814b9845b28485b2?s=128&d=identicon&r=PG", "display_name": "user1438644", "link": "https://stackoverflow.com/users/1438644/user1438644"}, "reply_to_user": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1570696530, "post_id": 58313913, "comment_id": 102996901, "body": "remove &quot;verify=False&quot; and try again"}], "tags": [], "owner": {"reputation": 989, "user_id": 1438644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23fcc7dda1b4fac814b9845b28485b2?s=128&d=identicon&r=PG", "display_name": "user1438644", "link": "https://stackoverflow.com/users/1438644/user1438644"}, "is_accepted": false, "score": 0, "last_activity_date": 1570667716, "creation_date": 1570667716, "answer_id": 58313913, "question_id": 58313447, "link": "https://stackoverflow.com/questions/58313447/read-timed-out-error-while-sending-a-post-request-to-a-node-js-api/58313913#58313913", "title": "Read timed out. error while sending a POST request to a node.js API", "body": "<p>according to requests why not use this:</p>\n\n<pre><code>#replace this \nr = requests.post(webhook_url,data=json_data.encode(\"utf8\"),verify=False,headers={\"Content-Type\": \"application/json\"})\n\n#by this...assuming that 'data' is a dict\nr = requests.post(webhook, json=data, verify=False)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 202, "user_id": 11586681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nw7uV74UvO0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5cveMOdV9idplE1O39zLtLCcXUw/mo/photo.jpg?sz=128", "display_name": "Hobey823", "link": "https://stackoverflow.com/users/11586681/hobey823"}, "is_accepted": false, "score": 0, "last_activity_date": 1570998902, "creation_date": 1570998902, "answer_id": 58367589, "question_id": 58313447, "link": "https://stackoverflow.com/questions/58313447/read-timed-out-error-while-sending-a-post-request-to-a-node-js-api/58367589#58367589", "title": "Read timed out. error while sending a POST request to a node.js API", "body": "<p>Looks like it could be something related to your SSL.\nCheck if you get the same error sending a request to your localhost with the server running.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10942610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b394818167a0ff22248f9582a54faa47?s=128&d=identicon&r=PG&f=1", "display_name": "LanHao", "link": "https://stackoverflow.com/users/10942610/lanhao"}, "is_accepted": false, "score": 0, "last_activity_date": 1571112646, "creation_date": 1571112646, "answer_id": 58387124, "question_id": 58313447, "link": "https://stackoverflow.com/questions/58313447/read-timed-out-error-while-sending-a-post-request-to-a-node-js-api/58387124#58387124", "title": "Read timed out. error while sending a POST request to a node.js API", "body": "<p>From your question,the key word is:</p>\n\n<p>if I remove the  headers={\"Content-Type\": \"application/json\"} the POST goes thorugh.</p>\n\n<p>The reason may clear:it is a wrong way use about the header.</p>\n\n<p>Simpler say: the node.js app check the header before into the logic code.</p>\n\n<p>if do not send the header by ourself,the requests part use the default headers below:</p>\n\n<pre><code>{\n  'User-Agent': 'python-requests/2.22.0', \n  'Accept-Encoding': 'gzip, deflate', \n  'Accept': '*/*', \n  'Connection': 'keep-alive', \n}\n</code></pre>\n\n<p>through the requests's code can print the default headers when post.</p>\n\n<p>you just use the header </p>\n\n<pre><code>{\"Content-Type\": \"application/json\"}\n</code></pre>\n\n<p>may resulting in the node.js app think the reqeust not legitimate(the word I do not know how to explain in English).</p>\n\n<p>If the node.js app is developed by yourself, you can try to find the frame's check after create a tcp connection and before the logic code,the way is to read the source code.</p>\n\n<p>If the node.js app is not developed by yourself,try to change the header mixing the default header to find which header key checked by the node.js app.</p>\n\n<p>But in my thought,It is import ,about the node.js app's  interface description:</p>\n\n<p>we just use by interface description engouth,just need to know the error from the api  header's  check, which the description should show but not show to us?</p>\n\n<p>Hope to help you.</p>\n"}, {"tags": [], "owner": {"reputation": 1026, "user_id": 941493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb97cb47fce441bfceffc8c3efadcbc2?s=128&d=identicon&r=PG", "display_name": "Tomas", "link": "https://stackoverflow.com/users/941493/tomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1571482425, "last_edit_date": 1571482425, "creation_date": 1571428936, "answer_id": 58457462, "question_id": 58313447, "link": "https://stackoverflow.com/questions/58313447/read-timed-out-error-while-sending-a-post-request-to-a-node-js-api/58457462#58457462", "title": "Read timed out. error while sending a POST request to a node.js API", "body": "<p>I seems that you are using express.js. I believe that your problem is, that body is actually already parsed. You can check it by reading <code>req.body</code>. The situation is caused because express.js already read whole body (due to the content type) and trying to read body again will cause timeout (event <code>data</code> and event <code>end</code> are not emitted).\nThere are several ways how to fix it.</p>\n\n<ol>\n<li><p>disable express.js body parser - or reconfigure it to ignore json</p></li>\n<li><p>remove reading body code and use directly <code>req.body</code></p></li>\n</ol>\n\n<pre><code>app.post(\"/api/bats_push\",(req, res) =&gt; {\n        //console.log(\"Calling bats_push...\")\n        const d = {\n            method: req.method,\n            headers: req.headers,\n            query: req.query,\n            body: req.body\n        }\n\n        DATA.push(d);\n        res.end('Saved BATS job details');\n});\n\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 58457462, "answer_count": 4, "score": 6, "last_activity_date": 1571482425, "creation_date": 1570663115, "question_id": 58313447, "link": "https://stackoverflow.com/questions/58313447/read-timed-out-error-while-sending-a-post-request-to-a-node-js-api", "title": "Read timed out. error while sending a POST request to a node.js API", "body": "<p>I have a node.js API as below to which I send a POST request from python as below,the issue am facing is if I remove the \n<code>headers={\"Content-Type\": \"application/json\"}</code> the POST goes thorugh,if not i get a  <code>Read timed out. error</code>, can anyone provide guidance on how to fix this timeout error ?</p>\n\n<p><strong>node.js endpoint</strong></p>\n\n<pre><code>app.post(\"/api/bats_push\",(req, res) =&gt; {\n        //console.log(\"Calling bats_push...\")\n        const d = {\n            method: req.method,\n            headers: req.headers,\n            query: req.query,\n            body: ''\n        }\n\n        req.on('data', (c) =&gt; {\n            //console.log(c)\n            d.body = d.body + c\n        });\n\n        req.on('end', () =&gt; {\n            DATA.push(d);\n            res.end('Saved BATS job details');\n            //res.status(200).json({\n              //message: \"Saved BATS job details\",\n              //posts: req.body\n          //}); \n        });\n});\n</code></pre>\n\n<p><strong>Python POST</strong></p>\n\n<pre><code>try:\njson\"},timeout=10.0)\n    r = requests.post(webhook_url,data=json_data.encode(\"utf8\"),verify=False,headers={\"Content-Type\": \"application/json\"})\n    print \"posted\"\n    print(r.status_code, r.reason)\n    print r.url\n    print r.text\nexcept Exception as e:\n    print (e)\n</code></pre>\n\n<p>Error:-</p>\n\n<pre><code>  InsecureRequestWarning)\nHTTPSConnectionPool(host='company.com', port=443): Read timed out. (read timeout=10.0)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1837, "user_id": 11901732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RiNDt.jpg?s=128&g=1", "display_name": "nilsinelabore", "link": "https://stackoverflow.com/users/11901732/nilsinelabore"}, "edited": false, "score": 0, "creation_date": 1570682584, "post_id": 58315450, "comment_id": 102991493, "body": "Thanks@cosmic_inquiry, what should I do if the Dataframe is df3?"}, {"owner": {"reputation": 1893, "user_id": 8927098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zrj09.png?s=128&g=1", "display_name": "cosmic_inquiry", "link": "https://stackoverflow.com/users/8927098/cosmic-inquiry"}, "reply_to_user": {"reputation": 1837, "user_id": 11901732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RiNDt.jpg?s=128&g=1", "display_name": "nilsinelabore", "link": "https://stackoverflow.com/users/11901732/nilsinelabore"}, "edited": false, "score": 0, "creation_date": 1570682797, "post_id": 58315450, "comment_id": 102991530, "body": "In your code:   <code>indexing1= indexing.resample(&#39;1S&#39;,fill_method=&#39;ffill&#39;)</code>   ---&gt;   <code>indexing1 = indexing.resample(&#39;1S&#39;).last().ffill()</code>"}], "tags": [], "owner": {"reputation": 1893, "user_id": 8927098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zrj09.png?s=128&g=1", "display_name": "cosmic_inquiry", "link": "https://stackoverflow.com/users/8927098/cosmic-inquiry"}, "is_accepted": true, "score": 1, "last_activity_date": 1570681597, "creation_date": 1570681597, "answer_id": 58315450, "question_id": 58313391, "link": "https://stackoverflow.com/questions/58313391/how-to-resample-using-forward-fill-python/58315450#58315450", "title": "How to resample using forward fill python", "body": "<p>This error is caused because of the following:</p>\n\n<pre><code>    Id           Timestamp         Data    Group_Id    \n0    1     2018-01-01 00:00:05.523 125.5   101 \n1    2     2018-01-01 00:00:05.757 125.0   101 \n</code></pre>\n\n<p>When you resample both these timestamps to the nearest second they both become\n<code>2018-01-01 00:00:06</code> and pandas doesn't know which value for the data to pick\nbecause it has two to select from. Instead what you can do is use an aggregation function\nsuch as <code>last</code> (though <code>mean</code>, <code>max</code>, <code>min</code> may also be suitable) in order to \nselect one of the values. Then you can apply the forward fill. </p>\n\n<p>Example:</p>\n\n<pre><code>from io import StringIO\nimport pandas as pd\ndf = pd.read_table(StringIO(\"\"\"    Id           Timestamp         Data    Group_Id    \n0    1     2018-01-01 00:00:05.523  125.5   101 \n1    2     2018-01-01 00:00:05.757  125.0   101 \n2    3     2018-01-02 00:00:09.507  127.0   52  \n3    4     2018-01-02 00:00:13.743  126.5   52  \n4    5     2018-01-03 00:00:15.407  125.5   50\"\"\"), sep='\\s\\s+')\ndf['Timestamp'] = pd.to_datetime(df['Timestamp']).dt.round('s')\ndf.set_index('Timestamp', inplace=True)\ndf = df.resample('1S').last().ffill()\n</code></pre>\n"}], "owner": {"reputation": 1837, "user_id": 11901732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RiNDt.jpg?s=128&g=1", "display_name": "nilsinelabore", "link": "https://stackoverflow.com/users/11901732/nilsinelabore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 58315450, "answer_count": 1, "score": 0, "last_activity_date": 1570681597, "creation_date": 1570662518, "last_edit_date": 1570672181, "question_id": 58313391, "link": "https://stackoverflow.com/questions/58313391/how-to-resample-using-forward-fill-python", "title": "How to resample using forward fill python", "body": "<p>My Dataframe df3 looks something like this:</p>\n\n<pre><code>    Id           Timestamp         Data    Group_Id    \n0    1     2018-01-01 00:00:05.523 125.5   101 \n1    2     2018-01-01 00:00:05.757 125.0   101 \n2    3     2018-01-02 00:00:09.507 127.0   52  \n3    4     2018-01-02 00:00:13.743 126.5   52  \n4    5     2018-01-03 00:00:15.407 125.5   50\n                    ...\n\n11   11    2018-01-01 00:00:07.523 125.5   120 \n12   12    2018-01-01 00:00:08.757 125.0   120 \n13   13    2018-01-04 00:00:14.507 127.0   300  \n14   14    2018-01-04 00:00:15.743 126.5   300  \n15   15    2018-01-05 00:00:19.407 125.5   350\n</code></pre>\n\n<p>I wanted to resample using ffill for every second so that it looks like this: </p>\n\n<pre><code>    Id           Timestamp         Data    Group_Id    \n0    1     2018-01-01 00:00:06.000 125.00    101 \n1    2     2018-01-01 00:00:07.000 125.00    101 \n2    3     2018-01-01 00:00:08.000 125.00    101 \n3    4     2018-01-02 00:00:09.000 125.00     52 \n4    5     2018-01-02 00:00:10.000 127.00     52 \n\n                    ...\n\n</code></pre>\n\n<p>My code: </p>\n\n<pre><code>def resample(df):\n    indexing = df[['Timestamp','Data']]\n    indexing['Timestamp']=pd.to_datetime(indexing['Timestamp'])\n    indexing =indexing.set_index('Timestamp')\n    indexing1= indexing.resample('1S',fill_method='ffill')\n    # indexing1 = indexing1.resample('D')\n    return indexing1\nindexing = resample(df3)\n</code></pre>\n\n<p>but incurred error </p>\n\n<pre><code>ValueError: cannot reindex a non-unique index with a method or limit\n</code></pre>\n\n<p>I don't quite understand what this error mean. @jezrael from <a href=\"https://stackoverflow.com/questions/39792933/resampling-error-cannot-reindex-a-non-unique-index-with-a-method-or-limit\">this similar question</a> suggested using <code>drop_duplicates</code> with <code>groupby</code>. I am not sure what this does to the data as it seems there are no duplicates in my data? Can someone explain this please? Thanks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570662547, "post_id": 58313381, "comment_id": 102987565, "body": "SINCE &quot;question&quot; CAN OCCUR OR NOT OCCUR SINCE IT IS RANDOMLY CHOSEN, HOW DO I MAKE AN IF STATEMENT ALONG WITH THE STATEMENT WHEN THE USER SELECTS &quot;N&quot; For example &quot;if (question == &quot;n&quot; and question does not exist"}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570662669, "post_id": 58313381, "comment_id": 102987594, "body": "sorry for the caps, it&#39;s just to make my question easier to see"}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570662732, "post_id": 58313381, "comment_id": 102987617, "body": "to clarify, &quot;question&quot; is one of the variables, it has nothing to do when I say &quot;I need help with my question&quot;"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1570662761, "post_id": 58313381, "comment_id": 102987625, "body": "@JohnRow Instead of telling us to ignore blahblahblah, <i>remove it</i> and focus on your actual question. The caps don&#39;t make anything easier to read, either."}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570662920, "post_id": 58313381, "comment_id": 102987659, "body": "sorry i&#39;m just kind of anxious because I thought I was finished with my code and all of a sudden it shows an error &quot;question is not defined&quot; since I set the variable &quot;question&quot; to random"}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570663072, "post_id": 58313381, "comment_id": 102987684, "body": "Not sure if you know what I&#39;m asking but basically I want to know how to make an if statement containing two of the following conditions in the SAME if statement: the user selects &quot;n&quot; AND the variable &quot;question&quot; does not exist, (because it was set as random.choice)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1570663083, "post_id": 58313381, "comment_id": 102987687, "body": "@Iguananaut If he&#39;s getting a &quot;not defined&quot; error, testing <code>if not question</code> won&#39;t fix that."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1570663192, "post_id": 58313381, "comment_id": 102987703, "body": "The simplest solution is to assign a default value to the variable before the conditional assignments."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570663218, "post_id": 58313381, "comment_id": 102987708, "body": "Who can honestly tell?"}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570663219, "post_id": 58313381, "comment_id": 102987709, "body": "To me more clear, I made the variable &quot;question&quot; as a random choice, so it can appear or not appear. i want to put this in my if statement but am unsure how to. I want this to be included in the same if statement as (if question == &quot;n&quot;)"}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570663301, "post_id": 58313381, "comment_id": 102987720, "body": "So the way I want to do it is doing something like &quot;if (question == &quot;n&quot; and question is not defined):"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1570664725, "post_id": 58313381, "comment_id": 102987984, "body": "@JohnRow you have a fundamental misunderstanding, there is almost <b>never</b> any good reason to check if a variable exists in Python (this isn&#39;t Javascript, no siree). Instead of maybe or maybe not defining <code>question</code>, you should use a sentinel value and then check for that value. Your alternative is to use exception handling."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570663460, "post_id": 58313463, "comment_id": 102987754, "body": "Will it work if the &quot;question&quot; is not defined. Like for example, since &quot;question&quot; only appears randomly, will it still continue the code if the program randomly chose &quot;question&quot; not to appear? Basically will your provided code work something like this: if (question == &quot;n&quot; and question is not defined):"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 2, "creation_date": 1570663500, "post_id": 58313463, "comment_id": 102987760, "body": "It&#39;s not random any more. The first line makes the variable always appear."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570663529, "post_id": 58313463, "comment_id": 102987764, "body": "You don&#39;t have to test if it&#39;s not defined, because it&#39;s always defined."}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 1, "creation_date": 1570663639, "post_id": 58313463, "comment_id": 102987788, "body": "hold on I am going to try it and tell you if it works"}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570663992, "post_id": 58313463, "comment_id": 102987850, "body": "YES! adding &quot;question = &quot;n&quot;&quot; fixed everything. Thank you do much! By the way, the ordering of placing &quot;question = &quot;n&quot;&quot; matter? Like can I place it after the line &quot;if message in random2:&quot; or does it must be before it?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570664012, "post_id": 58313463, "comment_id": 102987854, "body": "It has to be before it, that&#39;s the whole point."}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570664217, "post_id": 58313463, "comment_id": 102987883, "body": "I&#39;m a beginner in python so I have almost no experience with coding. And for my previous comment, I ask that because I think putting &quot;question = &quot;n&quot;&quot; after &quot;if message in random2&quot; will not affect anything, because we are just assigning a value to &quot;question&quot; and not actually telling the program to print anything yet"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570664527, "post_id": 58313463, "comment_id": 102987951, "body": "If you put it after the <code>if</code>, then it won&#39;t be done when the random choice isn&#39;t selected, which is the problem you&#39;re trying to solve."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570664557, "post_id": 58313463, "comment_id": 102987955, "body": "You already have the assignment after the <code>if</code>."}, {"owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 0, "creation_date": 1570664633, "post_id": 58313463, "comment_id": 102987965, "body": "oh I see now, its mainly because putting it before the if statement will give the variable &quot;question&quot; a value before actually having it randomly selected. So even if random choice isn&#39;t activated, the variable will still be defined since it was defined before the if statement"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "edited": false, "score": 1, "creation_date": 1570664785, "post_id": 58313463, "comment_id": 102987997, "body": "And the student was enlightened :)"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1570663649, "last_edit_date": 1570663649, "creation_date": 1570663305, "answer_id": 58313463, "question_id": 58313381, "link": "https://stackoverflow.com/questions/58313381/how-to-make-an-if-statement-of-when-a-variable-is-not-defined/58313463#58313463", "title": "How to make an &quot;if&quot; statement of when a variable is not defined?", "body": "<p>Assign a default value to <code>question</code> before you assign it in the conditional code. This way, it will always be defined, even if the random code doesn't run.</p>\n\n<pre><code>question = \"n\"\nif message in random2:\n    question = input(\"\\ny/n ==&gt; \")\n    if (question == \"y\"):\n        print(\"hello\")\n    elif (question == \"n\"):\n        print(\"what\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12187237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xWtNGEucib8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfV0OtWemJi89sK3daCKauphlgNLw/photo.jpg?sz=128", "display_name": "John Row", "link": "https://stackoverflow.com/users/12187237/john-row"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "closed_date": 1570664736, "answer_count": 1, "score": -3, "last_activity_date": 1570664085, "creation_date": 1570662379, "last_edit_date": 1570664085, "question_id": 58313381, "link": "https://stackoverflow.com/questions/58313381/how-to-make-an-if-statement-of-when-a-variable-is-not-defined", "closed_reason": "Duplicate", "title": "How to make an &quot;if&quot; statement of when a variable is not defined?", "body": "<p>For my code, I'm making an <code>if</code> statement typically an <code>if</code> statement that contains <em>two</em> <code>if</code> conditions.  Look at the third line of code with hashtags beside it to understand what i'm asking</p>\n\n<p><strong>Look at the hashtags to understand my question.</strong> Parts where hashtags are beside are to either indicate that its related to my question or contains my question.</p>\n\n<pre><code>random1 = [\"cool\"]\nrandom2 = [\"wicked\"]\n\nimport random\nmessage = random.choice(random1 + random2) #######\nprint(message)\nif message in random2:                     #######\n    question = input(\"\\ny/n ==&gt; \")         #######\n      if (question == \"y\"):\n          print(\"hello\")\n      elif (question == \"n\"):\n          print(\"what\")\n\nelif message in random1:\n    print(\"lets go\")\n\nelif something in black and white in red:\n    print(\"green\")\n    if (question == \"n\"): ###### (SINCE THE QUESTION CAN OCCUR OR NOT\n                          ###### OCCUR, HOW DO I MAKE AN IF STATEMENT ALONG\n                          ###### WITH THE STATEMENT WHEN THE USER SELECTS\n                          ###### \"N\" For example \"if (question == \"n\" and\n                          ###### question does not exist)\n        print(\"bye\")\n    if (question == \"y\"):\n        print(\"pink\")\n</code></pre>\n\n<p>Response to \"This question may already have an answer here:\nDetermine if variable is defined in Python\"</p>\n\n<p>My question is not a duplicate of the suggested post. I am not asking how to figure out if a variable is defined or not. I want to simply make a double if statement which includes one condition of when the user selects \"n\" and another condition of when the variable \"question\" does not exist, since \"question\" can randomly appear or not appear</p>\n"}, {"tags": ["python", "django", "django-models", "django-users"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12183475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mByW7Dm7BlU7OMpXdm2dqalTtl1B30Fis3x78MI=k-s128", "display_name": "Mitch Dowell", "link": "https://stackoverflow.com/users/12183475/mitch-dowell"}, "edited": false, "score": 0, "creation_date": 1570784337, "post_id": 58313760, "comment_id": 103031376, "body": "Thanks for your help, Matthew. No items were highlighted, so I assumed all users were added."}], "tags": [], "owner": {"reputation": 3730, "user_id": 5616096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjKci.jpg?s=128&g=1", "display_name": "Matthew Gaiser", "link": "https://stackoverflow.com/users/5616096/matthew-gaiser"}, "is_accepted": true, "score": 0, "last_activity_date": 1570666190, "creation_date": 1570666190, "answer_id": 58313760, "question_id": 58313350, "link": "https://stackoverflow.com/questions/58313350/how-can-i-relate-some-but-not-all-models-to-users-using-django/58313760#58313760", "title": "How can I relate some, but not all, models to users using Django?", "body": "<blockquote>\n  <p>It appears I don't understand this field correctly -- it actually all users to all classroom instances.</p>\n</blockquote>\n\n<p>It shouldn\u2019t do that. It can just look that way in the Django Admin. The only ones actually in the ManyToMany field are the ones which are highlighted/greyed. </p>\n\n<p>ManyToMany is appropriate for your use case. </p>\n"}], "owner": {"reputation": 3, "user_id": 12183475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mByW7Dm7BlU7OMpXdm2dqalTtl1B30Fis3x78MI=k-s128", "display_name": "Mitch Dowell", "link": "https://stackoverflow.com/users/12183475/mitch-dowell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58313760, "answer_count": 1, "score": 0, "last_activity_date": 1570666190, "creation_date": 1570662099, "last_edit_date": 1570664015, "question_id": 58313350, "link": "https://stackoverflow.com/questions/58313350/how-can-i-relate-some-but-not-all-models-to-users-using-django", "title": "How can I relate some, but not all, models to users using Django?", "body": "<p>I have a project which includes two different apps: users and school. In my current implementation, the users app contains a custom user class derived from Djagno's AbstractUser. It defines allowed user types as student or teacher, and the user must select one during registration. The school app contains a classroom model which I need to relate to students and one or more teachers.</p>\n\n<p>I have two main problems here. The first is regarding how to relate the classroom model to only specific users restricting their access based on their user type. I have tried using a ManyToManyField relation in the classroom model in order to associate the instance with the user who created it (and then I would later allow the user to add students). It appears I don't understand this field correctly -- it actually all users to all classroom instances. This obviously does not meet my requirement to restrict access among different classroom instances.</p>\n\n<p>OneToOneField and ForeignKey do not seem to meet my needs either. I have tried adding those fields to my user, but then I am restricted to a single classroom per user which is not acceptable either.</p>\n\n<p>I have also played around with creating groups named something like \"Classroom_A_teachers\" and \"Classroom_A_students\" and then assigning permissions to them. This approach seems more complicated than necessary.</p>\n\n<p>Am I overlooking something here? This is my first Django project, and I could easily have missed something basic.</p>\n\n<p>Problem two is regarding adding a teacher and student model. I would like to allow a user who is registered as a teacher to be able to create a classroom instance and then to populate that classroom with student instances. Students could optionally create an account too. They would receive a classroom ID from their teacher, enter it, and their account would then be linked to the classroom instance. How can I then associate this user with an existing student model? I have toyed around with this concept with no success.</p>\n\n<p>Any insight is greatly appreciated!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570662459, "post_id": 58313331, "comment_id": 102987549, "body": "I don&#39;t understand what you&#39;re trying to do in the <code>employment_status()</code> function. You&#39;re assigning a local variable that you never use, and you&#39;re assigning it with different values."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570662530, "post_id": 58313331, "comment_id": 102987562, "body": "Are you trying to prevent assigning an employment status that isn&#39;t one of those two constants?"}, {"owner": {"reputation": 15, "user_id": 10975450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-32r5YfMChb8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPiEuwAsm4Aama3tDHciT5Zwbhhzw/mo/photo.jpg?sz=128", "display_name": "yan", "link": "https://stackoverflow.com/users/10975450/yan"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570701620, "post_id": 58313331, "comment_id": 102999707, "body": "Hi, I am looking to assign the employment_status as PERMANENT or CURRENT_EMPLOYEEE, knowing that &quot;Permanent&quot; or &quot;Current_Employee&quot; would be used when I do my test client."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570722868, "post_id": 58313331, "comment_id": 103012018, "body": "I&#39;m still not sure what you mean by that."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570662588, "post_id": 58313389, "comment_id": 102987576, "body": "I&#39;m not really sure that&#39;s what he&#39;s asking about. I think he may be looking for something equivalent to C <code>enum</code>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570662705, "post_id": 58313389, "comment_id": 102987612, "body": "My updated setter moves in that direction, though something more could obviously be done."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570662825, "post_id": 58313389, "comment_id": 102987639, "body": "The <code>__init__</code> method should use the new setter instead of assigning to <code>self._employment_status</code>."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 0, "last_activity_date": 1570715523, "last_edit_date": 1570715523, "creation_date": 1570662485, "answer_id": 58313389, "question_id": 58313331, "link": "https://stackoverflow.com/questions/58313331/define-instance-attribute-to-store-one-of-the-two-constant-class-attributes/58313389#58313389", "title": "Define instance attribute to store one of the two &quot;constant&quot; class attributes", "body": "<p><code>__init__</code> looks OK, assuming an <code>Employee</code> simply adds an employment status  to a <code>Person</code>.</p>\n\n<p>It looks like it lays the ground work for <code>employment_status</code> to be a <code>property</code>, though, rather than an ordinary method.</p>\n\n<pre><code>@property\ndef employment_status(self):\n    return self._employment_status\n\n@employment_status.setter\ndef employment_status(self, status):\n    if status not in [\"CURRENT_EMPLOYEE\", \"RESIGNED\"]:\n        raise ValueError(\"Invalid status: {}\".format(status))\n    self._employment_status = status\n</code></pre>\n\n<p>Then you can get an employee's status:</p>\n\n<pre><code>&gt;&gt;&gt; e = Employee(\"bob\", \"smith\", 1, \"CURRENT_EMPLOYEE\")\n&gt;&gt;&gt; e.employment_status\n\"CURRENT_EMPLOYEE\"\n</code></pre>\n\n<p>or change it</p>\n\n<pre><code>&gt;&gt;&gt; e.employment_status = \"RESIGNED\"\n&gt;&gt;&gt; e.employment_status\n\"RESIGNED\"\n&gt;&gt;&gt; e.employment_status = \"foo\"  # raises an exception\n&gt;&gt;&gt; e.employement_status\n\"RESIGNED\"   # unchanged\n</code></pre>\n\n<p>Note that <code>__init__</code> should use the setter as well, instead of assigning directly to <code>_employment_status</code>:</p>\n\n<pre><code>def __init__(self, name, surname, number,employment_status):\n    super().__init__(self, name, surname, number)\n    # not self._employment_status = ...\n    self.employment_status = employment_status\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10975450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-32r5YfMChb8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPiEuwAsm4Aama3tDHciT5Zwbhhzw/mo/photo.jpg?sz=128", "display_name": "yan", "link": "https://stackoverflow.com/users/10975450/yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "closed_date": 1570700349, "accepted_answer_id": 58313389, "answer_count": 1, "score": 0, "last_activity_date": 1570715523, "creation_date": 1570661933, "last_edit_date": 1570701905, "question_id": 58313331, "link": "https://stackoverflow.com/questions/58313331/define-instance-attribute-to-store-one-of-the-two-constant-class-attributes", "closed_reason": "Needs details or clarity", "title": "Define instance attribute to store one of the two &quot;constant&quot; class attributes", "body": "<p>I am still trying to understand how I can create an instance attribute on <strong>Employment_status</strong> to <strong>store</strong> one of the two constant attributes such as RESIGNED or CURRENT_EMPLOYEE.</p>\n\n<p>So, when I defined my two constant class attributes, I can make my constructor to look like <em>Employee(Employment_status, name, surname, number)</em>. The employment_status would take the argument from the Employment Status to change either \"RESIGNED\" or \"CURRENT_EMPLOYEE\", when the code is executed.</p>\n\n<p>I have tried to performed my own coding, and would like to know if I am on the right track.</p>\n\n<pre><code>class Person:\n\n    def __init__(self, name, surname, number):\n    self.name = name\n    self.surname = surname\n    self.number = number\n\n\nclass Employee(Person):\n\n    #class attribute\n    def employment_status(object):\n        employment_status = \"CURRENT_EMPLOYEE\"\n        employment_status = \"RESIGNED\"\n\n    #instance attributes\n    def __init__(self, name, surname, number,employment_status):\n        super().__init__(self,name,surname,number)\n        self._employment_status = employment_status\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "dimension"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1570663873, "post_id": 58313330, "comment_id": 102987833, "body": "What is <code>A</code>; a small example (not necessarily 50x50) would help.  What&#39;s with this <code>csr_matrix.toarray(temp)</code> expression?  If <code>A</code> is a scipy.sparse matrix, then <code>A.toarray()</code> is the right way to create a dense array from it.  And you should only do it once."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1570664172, "post_id": 58313330, "comment_id": 102987878, "body": "A big part of <code>numpy</code> coding is keeping the dimensions straight.  Keep track of them, both in &#39;theory&#39; and practice.  With <code>axis</code> parameter, <code>np.append</code> is just <code>np.concatenate</code>.  Use that instead.  <code>np.concatenate([A, B, C], axis=0)</code> will expect all arrays to have the same number of dimensions.  You can&#39;t join 2d with 3d without adjustment."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1570678714, "post_id": 58313330, "comment_id": 102990694, "body": "If you start with a 2d array, create a new array by joining it and another 2d, with the result being 3d, it will be awkward to <code>append</code> another 2d array.  The new 2d has to be expanded to 3d, so dimensions match.  Repeated append/concatenate in a loop is awkward, and slow."}], "answers": [{"tags": [], "owner": {"reputation": 2622, "user_id": 2305545, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0c3a74411bc5997af03461a7b0458069?s=128&d=identicon&r=PG", "display_name": "NOhs", "link": "https://stackoverflow.com/users/2305545/nohs"}, "is_accepted": false, "score": 1, "last_activity_date": 1570663493, "last_edit_date": 1592644375, "creation_date": 1570663043, "answer_id": 58313435, "question_id": 58313330, "link": "https://stackoverflow.com/questions/58313330/numpy-appending-two-dimensional-arrays-together/58313435#58313435", "title": "Numpy appending two-dimensional arrays together", "body": "<h1>Documentation reference</h1>\n<p>If you want to stack matrices in numpy, you can use the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.stack.html\" rel=\"nofollow noreferrer\"><code>stack</code> function</a>.\nIf you also want the index to correspond to the exponent, you might want to add a unity matrix to the beginning of your output:</p>\n<h1>MWE</h1>\n<pre><code>import numpy as np\n\ndef expo(A, n):\n    result =[np.eye(len(A)), A,]\n    for _ in range(n-1):\n        result.append(result[-1].dot(A))\n\n    return np.stack(result, axis=0) \n    # If you do not really need the 3D array, \n    # you could also just return the list\n\n\nresult = expo(np.array([[1,-2],[-2,1]]), 3)\nprint(result)\n# [[[  1.   0.]\n#   [  0.   1.]]\n#\n#  [[  1.  -2.]\n#   [ -2.   1.]]\n#\n#  [[  5.  -4.]\n#   [ -4.   5.]]\n#\n#  [[ 13. -14.]\n#   [-14.  13.]]]\n\nprint(result[1])\n# [[ 1. -2.]\n#  [-2.  1.]]\n</code></pre>\n<h1>Comments</h1>\n<p>As you can see, we first simply create the list of matrices, and then convert them to an array at the end. I am not sure if you really need the 3D array though, as you could also just index the list that was created, but that depends on your use case, if that is convenient or not.</p>\n<p>I guess the <code>axis</code> keyword argument for a lot of numpy functions can be confusing at first, but the documentation usually has good examples that combined with same trial and error, should get you pretty far. For example for <code>numpy.stack</code>, the very first example is indeed exactly what you want to do.</p>\n"}], "owner": {"reputation": 369, "user_id": 5759380, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/da923a84b6660c1dabfdbdd22e13f874?s=128&d=identicon&r=PG&f=1", "display_name": "swedishfished", "link": "https://stackoverflow.com/users/5759380/swedishfished"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570663493, "creation_date": 1570661932, "question_id": 58313330, "link": "https://stackoverflow.com/questions/58313330/numpy-appending-two-dimensional-arrays-together", "title": "Numpy appending two-dimensional arrays together", "body": "<p>I am trying to create a function which exponentiates a 2-D matrix and keeps the result in a 3D array, where the first dimension is indexing the exponent. This is important because the rows of the matrix I am exponentiating represent information about different vertices on a graph. So for example if we have A, A^2, A^3, each is shape (50,50) and I want a matrix D = (3,50,50) so that I can go D[:,1,:] to retrieve all the information about node 1 and be able to do matrix multiplication with that. My code is currently as </p>\n\n<pre><code>def expo(times,A,n):\n    temp = A;\n    result = csr_matrix.toarray(temp)\n    for i in range(0,times):\n        temp = np.dot(temp,A)\n        if i == 0:\n            result = np.array([result,csr_matrix.toarray(temp)]) # this creates a (2,50,50) array\n        if i &gt; 0:\n            result = np.append(result,csr_matrix.toarray(temp),axis=0) # this does not work\n    return result\n</code></pre>\n\n<p>However, this is not working because in the \"i>0\" case the temp array is of the shape (50,50) and cannot be appended. I am not sure how to make this work and I am rather confused by the dimensionality in Numpy, e.g. why thinks are (50,1) sometimes and just (50,) other times. Would anyone be able to help me make this code work and explain generally how these things should be done in Numpy?</p>\n"}, {"tags": ["python", "airflow"], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 5629854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hydL7.jpg?s=128&g=1", "display_name": "bamdan", "link": "https://stackoverflow.com/users/5629854/bamdan"}, "is_accepted": true, "score": 1, "last_activity_date": 1570664417, "creation_date": 1570664417, "answer_id": 58313562, "question_id": 58313269, "link": "https://stackoverflow.com/questions/58313269/what-happens-if-run-same-dag-multiple-times-while-already-running/58313562#58313562", "title": "What happens if run same dag multiple times while already running?", "body": "<p>As I understand it depends on how it was triggered and if the DAG has a schedule. If it's based on the schedule defined in the DAG say a task to run daily it is incomplete / still working and you click the rerun then this instance of the task will be rerun. i.e the one for today. Likewise if the frequency were any other unit of time.</p>\n\n<ul>\n<li>If you wanted to rerun other instances you need to delete them from\nthe previous jobs as described by @lars-haughseth in a different\nquestion. <a href=\"https://stackoverflow.com/questions/56945611/airflow-re-run-dag-from-beginning-with-new-schedule\">airflow-re-run-dag-from-beginning-with-new-schedule</a></li>\n<li>If you trigger a DAG run then it will get the triggers execution\ntimestamp and the run will be displayed separately to the scheduled\nruns. As described in the documentation here. <a href=\"http://airflow.apache.org/scheduler.html#external-triggers\" rel=\"nofollow noreferrer\">external-triggers documentation</a></li>\n</ul>\n\n<blockquote>\n  <p>Note that DAG Runs can also be created manually through the CLI while running an airflow trigger_dag command, where you can define a specific run_id. The DAG Runs created externally to the scheduler get associated to the trigger\u2019s timestamp, and will be displayed in the UI alongside scheduled DAG runs.</p>\n</blockquote>\n\n<p>In your instance it sounds like the latter. Hope that helps.</p>\n"}], "owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "accepted_answer_id": 58313562, "answer_count": 1, "score": 2, "last_activity_date": 1570712031, "creation_date": 1570661441, "last_edit_date": 1570712031, "question_id": 58313269, "link": "https://stackoverflow.com/questions/58313269/what-happens-if-run-same-dag-multiple-times-while-already-running", "title": "What happens if run same dag multiple times while already running?", "body": "<p>What happens if the same dag is triggered concurrently (or such that the run times overlap)?</p>\n\n<p>Asking because recently manually triggered a dag that ended up still being running when its actual scheduled run time passed, at which point, from the perspective of the web-server UI, it began running again from the beginning (and I could no longer track the previous instance). Is this just a case of that \"run instance\" overloading the dag_id or is the job literally restarting (ie. the previous processes are killed)?</p>\n"}, {"tags": ["python", "list", "function", "math"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570661611, "post_id": 58313260, "comment_id": 102987415, "body": "You never call the <code>variables()</code> function."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1570661685, "post_id": 58313260, "comment_id": 102987429, "body": "You can&#39;t create new list elements by assigning to indexes, you have to use <code>append()</code>."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570661923, "post_id": 58313260, "comment_id": 102987467, "body": "As noted you never actually <i>call</i> the function <code>variables()</code>. But furthermore I&#39;ll note that, the way you&#39;ve written your code currently, there is no good reason to define a function anyways. Try working on getting your code working without the function definition first, and then you can worry later about generalizing it for further use if you need to."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1570661790, "creation_date": 1570661790, "answer_id": 58313313, "question_id": 58313260, "link": "https://stackoverflow.com/questions/58313260/how-to-fix-for-loop-for-a-list/58313313#58313313", "title": "How to fix for loop for a list", "body": "<p>You don't need the loop to be in a function, just put it at the top-level of the script. And use <code>y.append()</code> and <code>E.append()</code> to add to those lists.</p>\n\n<pre><code>for i in range(1, 83):\n    alpha = cmath.sqrt(2*m*(E[i-1]+Vo)/(hbar**2))\n    zeta = alpha*a\n    eta = cmath.sqrt(k - zeta**2)\n    y.append(zeta*cmath.tan(zeta) - eta)\n    E.append(E[i-1] + 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11928, "user_id": 322909, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/feoYE.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/322909/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1570662304, "creation_date": 1570662304, "answer_id": 58313377, "question_id": 58313260, "link": "https://stackoverflow.com/questions/58313260/how-to-fix-for-loop-for-a-list/58313377#58313377", "title": "How to fix for loop for a list", "body": "<p>In addition to @Barmar's answer your <code>k</code> variable needs to be <code>K</code> (upper case).</p>\n\n<pre><code>import cmath\n\nimport matplotlib.pyplot as plt\n\na = 2*10**-15\nVo = 83*10**6\nm = 1.6726*10**(-27)\npi = cmath.pi\nE = [0] * 83\nE.append(-83*10**6)\nhbar = 6.62607015*10**(-34)/ pi\nK = 16.032280*10**6\ny = [0] * 83\ny.append(51311.18131)\n\nfor i in range(1, 83, 1):\n    alpha = cmath.sqrt(2*m*(E[i-1]+Vo)/(hbar**2))\n    zeta = alpha*a\n    eta = cmath.sqrt(K - zeta**2)\n    y[i] = zeta*cmath.tan(zeta) - eta\n    E[i] = E[i-1] + 1\n\nprint('E = ', E, 'Y = ', y)\nplt.plot(E, y)\n</code></pre>\n\n<p>Also it is not required to use <code>append</code> as sometimes <code>append</code> doesn't always work well with calculated index lookups. It might be better for you to initialize the <code>y</code> and <code>E</code> lists to be the length of your loop first.</p>\n"}], "owner": {"reputation": 1, "user_id": 12191762, "user_type": "registered", "profile_image": "https://graph.facebook.com/2742331205830424/picture?type=large", "display_name": "Noah Huerta", "link": "https://stackoverflow.com/users/12191762/noah-huerta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570662304, "creation_date": 1570661391, "last_edit_date": 1570661453, "question_id": 58313260, "link": "https://stackoverflow.com/questions/58313260/how-to-fix-for-loop-for-a-list", "title": "How to fix for loop for a list", "body": "<p>I am trying to create y as an array to create a function iterating through zeta which is dependent upon E all using a for loop.  However the values are not being added to the list.</p>\n\n<p>I have also tried defining the variables and the mathematical function as two different coding functions</p>\n\n<p><a href=\"https://i.stack.imgur.com/PlvLx.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n\n<pre><code>import cmath\n\nimport matplotlib.pyplot as plt\n\na = 2*10**-15\nVo = 83*10**6\nm = 1.6726*10**(-27)\npi = cmath.pi\nE = []\nE.append(-83*10**6)\nhbar = 6.62607015*10**(-34)/ pi\nK = 16.032280*10**6\ny = []\ny.append(51311.18131)\n\ndef variables(y, E):\n    for i in range(1, 83, 1):\n        alpha = cmath.sqrt(2*m*(E[i-1]+Vo)/(hbar**2))\n        zeta = alpha*a\n        eta = cmath.sqrt(k - zeta**2)\n        y[i] = zeta*cmath.tan(zeta) - eta\n        E[i] = E[i-1] + 1\n    return y, E\nprint('E = ', E, 'Y = ', y)\nplt.plot(E, y)\n</code></pre>\n\n<p>The program as of now should graph y values as a function of Zeta which is changing with energy.</p>\n"}, {"tags": ["python", "nfc", "pi", "ndef", "pn532"], "owner": {"reputation": 21, "user_id": 12191698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f533d0646cdcbb93ecb52b874d4b4269?s=128&d=identicon&r=PG&f=1", "display_name": "ab3d", "link": "https://stackoverflow.com/users/12191698/ab3d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1570743120, "creation_date": 1570661362, "last_edit_date": 1570743120, "question_id": 58313259, "link": "https://stackoverflow.com/questions/58313259/problems-reading-ndef-message-in-python-from-a-pn532-module-connected-to-a-raspb", "title": "Problems reading NDEF message in Python from a PN532 module connected to a Raspberry Pi (UART mode)", "body": "<p>I have a PN532 connected via UART to a Raspberry Pi 3B. In a Python script (V3.7.4) I activate the reader and read in the data form a tag. If there is a NDEF message, I read the tag's data and return the NDEF records in a dictionary. All this is based on the nfcpy and ndeflib libraries. </p>\n\n<p>The problem is, that checking the tag for a NDEF message doesn't seem to work properly. When emulating a tag with the Android App NFC Tools Pro, the NDEF message could be read. Using various other apps, the NDEF message could not be read. When I program a real tag or card with NFC tools Pro, the NDEF message can also not be found. Using the other apps or the tag with an USB NFC reader or scanning a tag with the phone, the NDEF data can be found and read.</p>\n\n<p>So for some reason the result of if <code>tag.ndef:</code> does not always return true, even if it should return it. </p>\n\n<pre><code>from time import sleep\n\nimport nfc\nimport ndef\nfrom nfc.clf import RemoteTarget\n\ndef parseNDEF():\n    with nfc.ContactlessFrontend(\"tty:S0:pn532\") as clf:\n        while True:\n            target = clf.sense(RemoteTarget(\"106A\"), RemoteTarget(\"106B\"), \n            RemoteTarget(\"212F\"))\n            print(\"Traget: \"+str(target))\n\n            if target is None:\n                print(\"No target found ...\")\n                sleep(0.5)\n                continue\n\n            serial = target.sdd_res.hex()\n            print(\"Found a target with serial \" + serial + \"!\")\n\n            tag = nfc.tag.activate(clf, target)\n            print(\"tag data:\\n\" + str(tag.dump))\n\n            nfcrecs = {}\n            if tag.ndef:\n                print(\"Tag is NDEF formatted!\")\n                print(\"It has \" + str(len(tag.ndef.records)) + \" records.\")\n\n                i=1;\n                for record in tag.ndef.records:\n                    print(\"Record: \"+str(record))\n                    nfcrecs[\"rec\"+str(i)] = record.text\n                    i+=1;\n\n            else:\n                print(\"No NDEF formatted tag.\")\n\n            if (len(nfcrecs)&gt;0):\n                return nfcrecs\n</code></pre>\n\n<p>This is the Result of reading the data from the Android App NFC tools Pro with the PN532 on the Pi:\n<a href=\"https://i.stack.imgur.com/u7QBO.png\" rel=\"nofollow noreferrer\">click here</a></p>\n\n<p>I programmed a chip with the same data I've sent with the app. Programming was also done with NFC tools Pro. This is the result of reading the chip with NFC tools Pro:\n<a href=\"https://i.stack.imgur.com/dXFdE.png\" rel=\"nofollow noreferrer\">click here</a></p>\n\n<p>This is the result when I read the above programmed chip with the PN532 on the Pi:\n<a href=\"https://i.stack.imgur.com/kKZdD.png\" rel=\"nofollow noreferrer\">click here</a></p>\n\n<p>Any idea what's going wrong here?</p>\n\n<p>Thanks in advance for any kind of help.</p>\n"}, {"tags": ["python", "node.js", "pyarrow", "apache-arrow"], "comments": [{"owner": {"reputation": 82394, "user_id": 776560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c08a3eed709a9d1a2654cea45aa466f?s=128&d=identicon&r=PG", "display_name": "Wes McKinney", "link": "https://stackoverflow.com/users/776560/wes-mckinney"}, "edited": false, "score": 0, "creation_date": 1570717772, "post_id": 58313254, "comment_id": 103009095, "body": "Can you write to one of the project&#39;s mailing lists or open a JIRA issue? We can help you more there"}, {"owner": {"reputation": 8472, "user_id": 403133, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6286403e3f08bfc14dae6e781bd26a82?s=128&d=identicon&r=PG", "display_name": "Sarath", "link": "https://stackoverflow.com/users/403133/sarath"}, "reply_to_user": {"reputation": 82394, "user_id": 776560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c08a3eed709a9d1a2654cea45aa466f?s=128&d=identicon&r=PG", "display_name": "Wes McKinney", "link": "https://stackoverflow.com/users/776560/wes-mckinney"}, "edited": false, "score": 0, "creation_date": 1570734632, "post_id": 58313254, "comment_id": 103017257, "body": "@WesMcKinney I am not in the . mailing list, please give me the link to JIRA I can create an issue."}, {"owner": {"reputation": 7419, "user_id": 109525, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/1TSBj.jpg?s=128&g=1", "display_name": "0x26res", "link": "https://stackoverflow.com/users/109525/0x26res"}, "edited": false, "score": 0, "creation_date": 1571214770, "post_id": 58313254, "comment_id": 103161806, "body": "Looking at the doc for arrowJS it looks like you have to do <code>const table = arrow.Table.from([data]);</code>"}, {"owner": {"reputation": 163, "user_id": 9217240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f76c1c3ae07789c5c064969632028ea?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Quigley", "link": "https://stackoverflow.com/users/9217240/joe-quigley"}, "reply_to_user": {"reputation": 82394, "user_id": 776560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c08a3eed709a9d1a2654cea45aa466f?s=128&d=identicon&r=PG", "display_name": "Wes McKinney", "link": "https://stackoverflow.com/users/776560/wes-mckinney"}, "edited": false, "score": 1, "creation_date": 1571257557, "post_id": 58313254, "comment_id": 103184593, "body": "@WesMcKinney I think this is a regression in pyarrow 0.15. I can reproduce this with pyarrow <code>0.15.0-py37h8b68381_0</code> on conda-forge, but rolling back to <code>0.14.1-py37h8b68381_2</code> works."}, {"owner": {"reputation": 163, "user_id": 9217240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f76c1c3ae07789c5c064969632028ea?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Quigley", "link": "https://stackoverflow.com/users/9217240/joe-quigley"}, "edited": false, "score": 0, "creation_date": 1571332556, "post_id": 58313254, "comment_id": 103215378, "body": "Raised a JIRA ticket for this: <a href=\"https://issues.apache.org/jira/browse/ARROW-6921\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/ARROW-6921</a>"}], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 9217240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f76c1c3ae07789c5c064969632028ea?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Quigley", "link": "https://stackoverflow.com/users/9217240/joe-quigley"}, "is_accepted": true, "score": 2, "last_activity_date": 1571417544, "last_edit_date": 1571417544, "creation_date": 1571336634, "answer_id": 58438662, "question_id": 58313254, "link": "https://stackoverflow.com/questions/58313254/converted-apache-arrow-file-from-data-frame-gives-null-while-reading-with-arrow/58438662#58438662", "title": "Converted apache arrow file from data frame gives null while reading with arrow.js", "body": "<p>This is due to a format change in Arrow 0.15, as <a href=\"https://issues.apache.org/jira/browse/ARROW-6921?focusedCommentId=16953979&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-16953979\" rel=\"nofollow noreferrer\">mentioned by Wes</a> on the Apache JIRA. This means that <em>all</em> Arrow libraries, not just PyArrow, will surface this issue when sending IPC files to older versions of Arrow. The fix is to upgrade ArrowJS to 0.15.0, so that you can round-trip between other Arrow libraries and the JS library. If you can't update for some reason, you can instead use one of the workarounds below:</p>\n\n<p>Pass <code>use_legacy_format=True</code> as a kwarg to <code>RecordBatchFileWriter</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>with pa.RecordBatchFileWriter('file.arrow', table.schema, use_legacy_format=True) as writer:\n    writer.write_table(table)\n</code></pre>\n\n<p>Set the environment variable <code>ARROW_PRE_0_15_IPC_FORMAT</code> to 1:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ export ARROW_PRE_0_15_IPC_FORMAT = 1\n$ python\n&gt;&gt;&gt; import pyarrow as pa\n&gt;&gt;&gt; table = pa.Table.from_pydict( {\"a\": [1, 2, 3], \"b\": [4, 5, 6]} )\n&gt;&gt;&gt; with pa.RecordBatchFileWriter('file.arrow', table.schema) as writer:\n...   writer.write_table(table)\n...\n</code></pre>\n\n<p>Or downgrade PyArrow to <code>0.14.x</code>:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ conda install -c conda-forge pyarrow=0.14.1\n</code></pre>\n"}], "owner": {"reputation": 8472, "user_id": 403133, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6286403e3f08bfc14dae6e781bd26a82?s=128&d=identicon&r=PG", "display_name": "Sarath", "link": "https://stackoverflow.com/users/403133/sarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 2, "accepted_answer_id": 58438662, "answer_count": 1, "score": 5, "last_activity_date": 1571417544, "creation_date": 1570661319, "last_edit_date": 1570706192, "question_id": 58313254, "link": "https://stackoverflow.com/questions/58313254/converted-apache-arrow-file-from-data-frame-gives-null-while-reading-with-arrow", "title": "Converted apache arrow file from data frame gives null while reading with arrow.js", "body": "<p>I converted one sample dataframe to <code>.arrow</code> file using <code>pyarrow</code></p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport pyarrow as pa\n\ndf = pd.DataFrame({\"a\": [10, 2, 3]})\ndf['a'] = pd.to_numeric(df['a'],errors='coerce')\ntable = pa.Table.from_pandas(df)\nwriter = pa.RecordBatchFileWriter('test.arrow', table.schema)\nwriter.write_table(table)\nwriter.close()\n</code></pre>\n\n<p>This creates a file <code>test.arrow</code></p>\n\n<pre><code>df.info()\n    &lt;class 'pandas.core.frame.DataFrame'&gt;\n    RangeIndex: 3 entries, 0 to 2\n    Data columns (total 1 columns):\n    a    3 non-null int64\n    dtypes: int64(1)\n    memory usage: 104.0 bytes\n</code></pre>\n\n<p>Then in NodeJS I load the file with arrowJS.\n<a href=\"https://arrow.apache.org/docs/js/\" rel=\"nofollow noreferrer\">https://arrow.apache.org/docs/js/</a></p>\n\n<pre><code>const fs = require('fs');\nconst arrow = require('apache-arrow');\n\nconst data = fs.readFileSync('test.arrow');\nconst table = arrow.Table.from(data);\n\nconsole.log(table.schema.fields.map(f =&gt; f.name));\nconsole.log(table.count());\nconsole.log(table.get(0));\n</code></pre>\n\n<p>This prints like</p>\n\n<pre><code>[ 'a' ]\n0\nnull\n</code></pre>\n\n<p>I was expecting this table will have a length 3 and <code>table.get(0)</code> gives the first row instead of <code>null</code>.</p>\n\n<p>This is the table scehem looks like <code>console.log(table._schema)</code></p>\n\n<pre><code>[ Int_ [Int] { isSigned: true, bitWidth: 16 } ]\nSchema {\n  fields:\n   [ Field { name: 'a', type: [Int_], nullable: true, metadata: Map {} } ],\n  metadata:\n   Map {\n     'pandas' =&gt; '{\"index_columns\": [{\"kind\": \"range\", \"name\": null, \"start\": 0, \"stop\": 5, \"step\": 1}], \"column_indexes\": [{\"name\": null, \"field_name\": null, \"pandas_type\": \"unicode\", \"numpy_type\": \"object\", \"metadata\": {\"encoding\": \"UTF-8\"}}], \"columns\": [{\"name\": \"a\", \"field_name\": \"a\", \"pandas_type\": \"int16\", \"numpy_type\": \"int16\", \"metadata\": null}], \"creator\": {\"library\": \"pyarrow\", \"version\": \"0.15.0\"}, \"pandas_version\": \"0.22.0\"}' },\n  dictionaries: Map {} }\n</code></pre>\n\n<p>Any idea why it is not getting the data as expected? </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1570661405, "post_id": 58313231, "comment_id": 102987386, "body": "<code>apply</code> is basically a for loop, so it&#39;s always good to avoid <code>apply</code> too ! ;) . Since you have to columns <code>time</code> and <code>time_previous</code>, just sum them : <code>df[&#39;time&#39;] + df[&#39;time_previous&#39;]</code>"}, {"owner": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 0, "creation_date": 1570661420, "post_id": 58313231, "comment_id": 102987387, "body": "If you want the difference between rows of a column, simply use: <code>df[&quot;time_diff&quot;] = df[&quot;time&quot;].diff()</code>. See <code>pandas.Series.diff</code> <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.diff.html\" rel=\"nofollow noreferrer\">documentation</a>"}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1570662751, "post_id": 58313231, "comment_id": 102987623, "body": "<code>df[&#39;time&#39;] + df[&#39;time&#39;].shift()</code>?"}, {"owner": {"reputation": 2482, "user_id": 4811392, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6f34cb71f326f49ae06c57bea9b02a4?s=128&d=identicon&r=PG&f=1", "display_name": "user11081980", "link": "https://stackoverflow.com/users/4811392/user11081980"}, "edited": false, "score": 0, "creation_date": 1570715781, "post_id": 58313231, "comment_id": 103007836, "body": "I apologize - I gave a very simple example. In reality, I need to perform more complex operations than a subtraction. I will update the question accordingly."}], "owner": {"reputation": 2482, "user_id": 4811392, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6f34cb71f326f49ae06c57bea9b02a4?s=128&d=identicon&r=PG&f=1", "display_name": "user11081980", "link": "https://stackoverflow.com/users/4811392/user11081980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570715835, "creation_date": 1570661164, "last_edit_date": 1570715835, "question_id": 58313231, "link": "https://stackoverflow.com/questions/58313231/adding-columns-to-a-pandas-dataframe-with-previous-row-values-before-calling-app", "title": "Adding columns to a pandas.DataFrame with previous row values before calling apply()", "body": "<p>I need to add a new column to a <code>pandas</code> <code>dataframe</code>, where the value is calculated from the value of a column <strong>in the previous row</strong>.</p>\n\n<p>Coming from a non-functional background (<code>C#</code>), I am trying to avoid loops since I read it is an anti-pattern.</p>\n\n<p>My plan is to use <code>series.shift</code> to add a new column to the <code>dataframe</code> for the previous value, call <code>dataframe.apply</code> and finally remove the additional column. E.g.:</p>\n\n<pre><code>def my_function(row):\n  # perform complex calculations with row.time, row.time_previous and other values\n  # return the result\n\ndf[\"time_previous\"] = df.time.shift(1)\ndf.apply(my_function, axis = 1)\ndf.drop(\"time.previous\", axis=1)\n</code></pre>\n\n<p>In reality, I need to create four additional columns like this. Is there a better alternative to accomplish this without a loop? Is this a good idea at all?</p>\n"}, {"tags": ["python", "html", "web-scraping", "beautifulsoup", "pyqt5"], "comments": [{"owner": {"reputation": 33, "user_id": 12191594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ce621b0adb83f7bb7ec71fa628ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "scoducks503", "link": "https://stackoverflow.com/users/12191594/scoducks503"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1570741554, "post_id": 58313185, "comment_id": 103019968, "body": "@eyllanesc updated"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 12191594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ce621b0adb83f7bb7ec71fa628ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "scoducks503", "link": "https://stackoverflow.com/users/12191594/scoducks503"}, "edited": false, "score": 0, "creation_date": 1573072548, "post_id": 58332237, "comment_id": 103766220, "body": "Thank you! It&#39;s working. Sorry for the delay, I was out of town for a long while."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1570749494, "last_edit_date": 1570749494, "creation_date": 1570749141, "answer_id": 58332237, "question_id": 58313185, "link": "https://stackoverflow.com/questions/58313185/pyqt5-qwebenginepage-possible-to-edit-the-html-to-open-dropdown/58332237#58332237", "title": "PyQt5 QWebEnginePage - Possible to Edit the HTML to Open Dropdown?", "body": "<p>If you download the HTML from the page you will see that almost the entire page is created using javascript so Beautiful Soup is not the right tool since it only serves to analyze HTML. In this case the solution is to implement the logic through javascript using the <a href=\"https://doc.qt.io/qt-5/qwebenginepage.html#runJavaScript-2\" rel=\"nofollow noreferrer\"><code>runJavaScript()</code></a> method of <a href=\"https://doc.qt.io/qt-5/qwebenginepage.html\" rel=\"nofollow noreferrer\"><code>QWebEnginePage</code></a>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from PyQt5 import QtCore, QtGui, QtWidgets, QtWebEngineWidgets\n\n\nclass WalmartGroceryPage(QtWebEngineWidgets.QWebEnginePage):\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        self._results = None\n        self.loadFinished.connect(self._on_load_finished)\n        self.setUrl(QtCore.QUrl(\"https://grocery.walmart.com\"))\n\n    @QtCore.pyqtSlot(bool)\n    def _on_load_finished(self, ok):\n        if ok:\n            self.runJavaScript(\n                \"\"\"\n                function scraper_script(){\n                    var results = []\n                    self.document.getElementById(\"mobileNavigationBtn\").click();\n                    var elements = document.getElementsByClassName(\"NavSection__sectionBtn___1_cAs\");\n                    for (const element of elements) {\n                        element.click();\n                        var items = [];\n                        var sub_elements = document.getElementsByClassName(\"MobileNavigation__navLink___2-m6_\");\n                        for (const e of sub_elements) {\n                            var d = {\"name\": e.innerText, \"url\": e.href};\n                            items.push(d);\n                        }\n                        var data = {\"name\": element.innerText, \"items\": items};\n                        results.push(data);\n                    }\n                    return results;\n                }\n                scraper_script();\n                \"\"\",\n                self.results_callback,\n            )\n\n    def results_callback(self, value):\n        self._results = value\n        QtCore.QCoreApplication.quit()\n\n    @property\n    def results(self):\n        return self._results\n\n\nif __name__ == \"__main__\":\n    import sys\n    import json\n\n    # sys.argv.append(\"--remote-debugging-port=8000\")\n    app = QtWidgets.QApplication(sys.argv)\n\n    page = WalmartGroceryPage()\n    ret = app.exec_()\n    results = page.results\n\n    print(json.dumps(results, indent=4))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\n    {\n        \"items\": [\n            {\n                \"name\": \"Fall Flavors Shop\",\n                \"url\": \"https://grocery.walmart.com/cp/Flavors%20of%20Fall/9576778812\"\n            },\n            {\n                \"name\": \"Baking Center\",\n                \"url\": \"https://grocery.walmart.com/browse?shelfId=3433056320\"\n            },\n            {\n                \"name\": \"Peak Season Produce\",\n                \"url\": \"https://grocery.walmart.com/browse?shelfId=4881154845\"\n            },\n# ...\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12191594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ce621b0adb83f7bb7ec71fa628ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "scoducks503", "link": "https://stackoverflow.com/users/12191594/scoducks503"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 1, "accepted_answer_id": 58332237, "answer_count": 1, "score": 3, "last_activity_date": 1570749494, "creation_date": 1570660769, "last_edit_date": 1570741525, "question_id": 58313185, "link": "https://stackoverflow.com/questions/58313185/pyqt5-qwebenginepage-possible-to-edit-the-html-to-open-dropdown", "title": "PyQt5 QWebEnginePage - Possible to Edit the HTML to Open Dropdown?", "body": "<p>I am trying to develop a sustainable web scraping script to acquire a list of all products from a website. The product category links are in dropdowns (or expandable) elements on the webpage. I'm using PyQt5 to emulate a client before extracting the html and converting it to text with Beautiful Soup.</p>\n\n<p>For instance, if you were visiting the site on your browser, you would have to click a button near the top-left corner of the page to open a category list that pops out from the left side of the screen (I will refer to this as the \"side-bar\"). Within each of those categories, when clicked, there is a list of more specific categories, each with a link that I am trying to acquire with my code (I will refer to these as \"sub-categories\").</p>\n\n<p>The initial category list elements come up in my Beautiful Soup even if the side-bar is hidden, but the sub-category elements remain hidden unless the sub-category header expanded (thus, they don't show up on my soup). I have confirmed this by inspecting elements in a Chrome browser manually. Here is a snippet of the webpage HTML with my own comments to help explain:</p>\n\n<pre><code>&lt;div aria-label=\"Fruits &amp;amp; Vegetables\" data-automation-id=\"taxonomy-toggle-Fruits &amp;amp; Vegetables\"&gt;\n  &lt;button aria-disabled=\"false\" aria-expanded=\"false\" class=\"NavSection__sectionBtn___1_cAs\" data- \n   automation-id=\"nav-section-toggle\" tabindex=\"-1\"&gt; #Initial category that contains sub-categories\n  &lt;/button&gt;\n  &lt;div&gt;\n  &lt;/div&gt; #Contains the links I need, but doesn't populate HTML text unless sub-category element is expanded\n&lt;/div&gt;\n</code></pre>\n\n<p>Here's how it looks if the sub-category element has been expanded:</p>\n\n<pre><code>&lt;div aria-label=\"Fruits &amp;amp; Vegetables\" data-automation-id=\"taxonomy-toggle-Fruits &amp;amp; Vegetables\"&gt;\n      &lt;button aria-disabled=\"true\" aria-expanded=\"true\" class=\"NavSection__sectionBtn___1_cAs\" data- \n       automation-id=\"nav-section-toggle\" tabindex=\"-1\"&gt; #Initial category that contains sub-categories\n      &lt;/button&gt;\n      &lt;div&gt;\n         &lt;ul class&gt;\n           &lt;li class = \"NavSection__sectionLink__rbr40&gt; &lt;/li&gt;\n           &lt;li class = \"NavSection__sectionLink__rbr40&gt; &lt;/li&gt; #can open each li element up to acquire href link\n           &lt;li class = \"NavSection__sectionLink__rbr40&gt; &lt;/li&gt;\n         &lt;/ul&gt;\n      &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And here's my code:</p>\n\n<pre><code>import bs4 as bs\nfrom PyQt5.QtWidgets import QApplication\nfrom PyQt5.QtCore import QUrl\nfrom PyQt5.QtWebEngineWidgets import QWebEnginePage\n\n#act as a client via Qt5 to acquire javascript elements from webpage\nclass Page(QWebEnginePage):\n\n    def __init__(self, url):\n        self.app = QApplication(sys.argv)\n        QWebEnginePage.__init__(self)\n        self.html = ''\n        self.loadFinished.connect(self._on_load_finished)\n        self.load(QUrl(url))\n        self.app.exec_()\n\n    def _on_load_finished(self):\n        self.html = self.toHtml(self.callable)\n        print(\"Load Finished\")\n\n    def callable(self, html_str):   \n        self.html = html_str\n        self.app.quit()\n\npage = Page(\"https://grocery.walmart.com\")\nsoup = bs.BeautifulSoup(page.html, 'lxml')\nprint(soup.prettify())\n</code></pre>\n\n<p>I know that if the <code>aria-expanded</code> and <code>aria-disabled</code> attributes of the <code>&lt;button&gt;</code> element are changed from \"False\" to \"True\" that the sub-category <code>&lt;li&gt;</code> elements will appear in the HTML. I confirmed this through manual inspection in Chrome browser.</p>\n\n<p>My question is if it is possible to acquire the <code>href</code> from the <code>&lt;li&gt;</code> elements? My asumption is that I'd have to edit the HTML to change the <code>aria</code> attributes from \"False\" to \"True\" after an initial parse and then re-parse the HTML with those changes. If not, is there any other method to get these elements from the webpage other than Selenium? I'm trying to use a leaner approach (no opening of browser windows etc).</p>\n\n<p>I can provide the actual website URL and a screenshot of the webpage to help clarify, not sure if that's considered good practice or allowed on Stack Overflow (I'm new here!).</p>\n\n<p>For more background information on the method I'm trying to use, see the following:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=FSH77vnOGqU\" rel=\"nofollow noreferrer\">Sentdex's PyQt4 Dynamic Scraping Video</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/42147601/pyqt4-to-pyqt5-mainframe-deprecated-need-fix-to-load-web-pages\">PyQt4 to PyQt5 library changes</a></p>\n"}, {"tags": ["python", "firebase", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 597, "user_id": 10565052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbuce.jpg?s=128&g=1", "display_name": "J.C Guzman", "link": "https://stackoverflow.com/users/10565052/j-c-guzman"}, "edited": false, "score": 0, "creation_date": 1570676298, "post_id": 58313643, "comment_id": 102990161, "body": "Can you explain me for what is this start_after(cursor)?  He inizialite the cursor as none, so when it is going to have a different value than None? what is the different between start_after and no use this start_after?"}, {"owner": {"reputation": 4765, "user_id": 3945408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jXTc.jpg?s=128&g=1", "display_name": "Juan Lara", "link": "https://stackoverflow.com/users/3945408/juan-lara"}, "reply_to_user": {"reputation": 597, "user_id": 10565052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbuce.jpg?s=128&g=1", "display_name": "J.C Guzman", "link": "https://stackoverflow.com/users/10565052/j-c-guzman"}, "edited": false, "score": 1, "creation_date": 1570685674, "post_id": 58313643, "comment_id": 102992234, "body": "Sure, it&#39;s a <a href=\"https://cloud.google.com/firestore/docs/query-data/query-cursors#use_a_document_snapshot_to_define_the_query_cursor\" rel=\"nofollow noreferrer\">query cursor</a>. That function splits up a large query into batches of 1000 documents at a time. After fetching a batch of 1000 documents, the function passes the 1000th document as a query cursor to get the next 1000 documents, <code>count_collection(coll_ref, count, docs[999].get())</code>."}], "tags": [], "owner": {"reputation": 4765, "user_id": 3945408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jXTc.jpg?s=128&g=1", "display_name": "Juan Lara", "link": "https://stackoverflow.com/users/3945408/juan-lara"}, "is_accepted": true, "score": 8, "last_activity_date": 1570666630, "last_edit_date": 1570666630, "creation_date": 1570665229, "answer_id": 58313643, "question_id": 58313177, "link": "https://stackoverflow.com/questions/58313177/python-google-cloud-firestore-error-504-deadline-exceeded/58313643#58313643", "title": "Python Google cloud firestore error 504 Deadline Exceeded", "body": "<p>There's a 60 second timeout for <code>persons.stream()</code>. Instead of processing each document as you stream, try fetching all the documents upfront:</p>\n\n<pre><code>person_docs = [snapshot for snapshot in persons.stream()]\n</code></pre>\n\n<p>If you have more documents than you can fetch in 60 seconds, try a recursive function <a href=\"https://stackoverflow.com/questions/56011623/how-do-i-download-a-large-collection-in-firestore-with-python-without-getting-at/56012426#56012426\">like in this answer</a>.</p>\n\n<p>Same for the orders:</p>\n\n<pre><code>orders_docs = [snapshot for snapshot in orders.stream()]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2211, "user_id": 3778645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41591a4eaf3fbc678242d4413c444321?s=128&d=identicon&r=PG&f=1", "display_name": "Altus", "link": "https://stackoverflow.com/users/3778645/altus"}, "edited": false, "score": 0, "creation_date": 1588833614, "post_id": 60762623, "comment_id": 109052888, "body": "The actual exception is <code>DeadlineExceeded</code> and it happens during the <code>for doc in stream</code> line not the <code>doc.get(...)</code> so this will still crash."}, {"owner": {"reputation": 2211, "user_id": 3778645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41591a4eaf3fbc678242d4413c444321?s=128&d=identicon&r=PG&f=1", "display_name": "Altus", "link": "https://stackoverflow.com/users/3778645/altus"}, "edited": false, "score": 0, "creation_date": 1588872296, "post_id": 60762623, "comment_id": 109074553, "body": "I answered this question here. <a href=\"https://stackoverflow.com/a/61663938/3778645\">stackoverflow.com/a/61663938/3778645</a>. Hope it helps someone."}], "tags": [], "owner": {"reputation": 1536, "user_id": 9470099, "user_type": "registered", "profile_image": "https://graph.facebook.com/1794157777557736/picture?type=large", "display_name": "ZeroErr0r", "link": "https://stackoverflow.com/users/9470099/zeroerr0r"}, "is_accepted": false, "score": 0, "last_activity_date": 1584640399, "creation_date": 1584640399, "answer_id": 60762623, "question_id": 58313177, "link": "https://stackoverflow.com/questions/58313177/python-google-cloud-firestore-error-504-deadline-exceeded/60762623#60762623", "title": "Python Google cloud firestore error 504 Deadline Exceeded", "body": "<p>I encountered the exact issue when I was fetching all documents to convert it into a JSON.</p>\n\n<p>I did it as follow.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code> def load_documents(self, path):\n    collection = self.db\n    nodes = path.split(\"/\")\n\n    for i, node in enumerate(nodes):\n        if i % 2 == 0:\n            collection = collection.collection(node) \n        else:\n            collection = collection.document(node)\n    stream = collection.stream()\n\n    for doc in stream:\n        print(\"* Fetching document: {}\".format(doc.get(\"filename\")))\n        self.memes.append(self._fetch_doc(doc))\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>def _fetch_doc(self, doc):\n    try:\n        return {\n            \"caption\": doc.get(\"caption\"),\n            \"filename\": doc.get(\"filename\"),\n            \"url\": doc.get(\"url\")\n        }\n    except:\n        self._fetch_doc(doc)\n</code></pre>\n\n<p>I fetched recursively if I got an exception.</p>\n"}], "owner": {"reputation": 597, "user_id": 10565052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbuce.jpg?s=128&g=1", "display_name": "J.C Guzman", "link": "https://stackoverflow.com/users/10565052/j-c-guzman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3862, "favorite_count": 0, "accepted_answer_id": 58313643, "answer_count": 2, "score": 3, "last_activity_date": 1584640399, "creation_date": 1570660678, "question_id": 58313177, "link": "https://stackoverflow.com/questions/58313177/python-google-cloud-firestore-error-504-deadline-exceeded", "title": "Python Google cloud firestore error 504 Deadline Exceeded", "body": "<p>I have a function fore firestore in python where I do a for loop for all the users of one collection, then I go into another collection to take some metrics and I update this metrics in the first collections.</p>\n\n<p>I run the function but in some point in the execution the function breaks giving me this error:</p>\n\n<pre><code>_Rendezvous                               Traceback (most recent call last)\n~\\Anaconda3\\envs\\work\\lib\\site-packages\\google\\api_core\\grpc_helpers.py in next(self)\n     78         try:\n---&gt; 79             return six.next(self._wrapped)\n     80         except grpc.RpcError as exc:\n\n~\\Anaconda3\\envs\\work\\lib\\site-packages\\grpc\\_channel.py in __next__(self)\n    363     def __next__(self):\n--&gt; 364         return self._next()\n    365 \n\n~\\Anaconda3\\envs\\work\\lib\\site-packages\\grpc\\_channel.py in _next(self)\n    346             else:\n--&gt; 347                 raise self\n    348             while True:\n\n_Rendezvous: &lt;_Rendezvous of RPC that terminated with:\n    status = StatusCode.DEADLINE_EXCEEDED\n    details = \"Deadline Exceeded\"\n    debug_error_string = \"{\"created\":\"@1570660422.708000000\",\"description\":\"Error received from peer ipv4:216.58.202.234:443\",\"file\":\"src/core/lib/surface/call.cc\",\"file_line\":1052,\"grpc_message\":\"Deadline Exceeded\",\"grpc_status\":4}\"\n&gt;\n\nThe above exception was the direct cause of the following exception:\n\nDeadlineExceeded                          Traceback (most recent call last)\n&lt;ipython-input-20-05c9cefdafb4&gt; in &lt;module&gt;\n----&gt; 1 update_collection__persons()\n\n&lt;ipython-input-19-6e2bdd597a6e&gt; in update_collection__persons()\n     10     counter_secs = 0\n     11 \n---&gt; 12     for person_doc in person_docs:\n     13         person_dict = person_doc.to_dict()\n     14         last_updated = person_dict['last_updated']\n\n~\\Anaconda3\\envs\\work\\lib\\site-packages\\google\\cloud\\firestore_v1\\query.py in stream(self, transaction)\n    766         )\n    767 \n--&gt; 768         for response in response_iterator:\n    769             if self._all_descendants:\n    770                 snapshot = _collection_group_query_response_to_snapshot(\n\n~\\Anaconda3\\envs\\work\\lib\\site-packages\\google\\api_core\\grpc_helpers.py in next(self)\n     79             return six.next(self._wrapped)\n     80         except grpc.RpcError as exc:\n---&gt; 81             six.raise_from(exceptions.from_grpc_error(exc), exc)\n     82 \n     83     # Alias needed for Python 2/3 support.\n\n~\\Anaconda3\\envs\\work\\lib\\site-packages\\six.py in raise_from(value, from_value)\n\nDeadlineExceeded: 504 Deadline Exceeded\n</code></pre>\n\n<p>I have been looking up for a solution, there is not much information, here I found a similar problem: <a href=\"https://github.com/googleapis/google-cloud-python/issues/8933\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-cloud-python/issues/8933</a></p>\n\n<p>So I tried to use this code but is not working. This is my function:</p>\n\n<pre><code>def update_collection__persons():   \n    persons = db.collection(u'collections__persons')\n    person_docs = persons.stream()\n\n\n    counter_secs = 0\n\n    for person_doc in person_docs:\n        person_dict = person_doc.to_dict()\n        last_updated = person_dict['last_updated']\n        last_processed = person_dict['last_processed']\n        dt_last_updated = datetime(1, 1, 1) + timedelta(microseconds=last_updated/10)\n        dt_last_processed = datetime(1, 1, 1) + timedelta(microseconds=last_processed/10)\n\n        if dt_last_processed &lt; dt_last_updated:\n            orders = db.collection(u'collection__orders').where(u'email', u'==', person_dict['email'])\n            orders_docs = orders.stream()\n\n            sum_price = 0\n            count = 0\n            date_add_list = []\n\n            for order_doc in orders_docs:\n                order_dict = order_doc.to_dict() \n                sum_price += order_dict['total_price']\n                count +=1\n                date_add_list.append(order_dict['dateAdded'])\n            if count &gt; 0:\n                data = {'metrics': {'LTV': sum_price,\n                                    'AOV': sum_price/count,\n                                    'Quantity_orders': count,\n                                    'first_order_date': min(date_add_list),\n                                    'last_order_date': max(date_add_list)},\n                         'last_processed': int((datetime.utcnow() - datetime(1, 1, 1)).total_seconds() * 10000000)}\n\n                 db.collection(u'collection__persons').document(person_dict['email']).set(data, merge = True)\n</code></pre>\n\n<p>I have created a counter_secs just to see if the function is breaking always in the same query but it is not.</p>\n\n<p>Also after run the function if I see random users for some of them I have update their data, so it is working but breaking in some point</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1570662545, "post_id": 58313139, "comment_id": 102987564, "body": "I know it&#39;s easy to get lost in the myriad optional arguments to <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html\" rel=\"nofollow noreferrer\"><code>pandas.read_csv</code></a> but if you look carefully through the avaliable options you&#39;ll find one called <code>skiprows</code> which is probably what you want."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11952686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd2efb743193bb8e97eec40c702f51?s=128&d=identicon&r=PG&f=1", "display_name": "under267", "link": "https://stackoverflow.com/users/11952686/under267"}, "edited": false, "score": 0, "creation_date": 1570667389, "post_id": 58313697, "comment_id": 102988481, "body": "The thing is I need the information prior to the actual data as well so skipping rows wouldn&#39;t be the optimal solution. Would I be able to read the first few rows into a list, and then read the actual data into another?"}, {"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "reply_to_user": {"reputation": 65, "user_id": 11952686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd2efb743193bb8e97eec40c702f51?s=128&d=identicon&r=PG&f=1", "display_name": "under267", "link": "https://stackoverflow.com/users/11952686/under267"}, "edited": false, "score": 0, "creation_date": 1570669129, "post_id": 58313697, "comment_id": 102988767, "body": "yes see edit - you can basically split it into 2 separate reads"}], "tags": [], "owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "is_accepted": true, "score": 1, "last_activity_date": 1570669312, "last_edit_date": 1570669312, "creation_date": 1570665672, "answer_id": 58313697, "question_id": 58313139, "link": "https://stackoverflow.com/questions/58313139/trying-to-read-a-tsv-file-where-the-first-few-lines-contain-an-amount-of-fields/58313697#58313697", "title": "Trying to read a .tsv file where the first few lines contain an amount of fields different to the rest of the file", "body": "<p>As mentioned in the comments there is a skiprows option in read_csv:</p>\n\n<pre><code>raw_data = pd.read_csv(r'filename.tsv', skiprows = 4)\n</code></pre>\n\n<p>This will skip the first 4 lines in the file</p>\n\n<p>EDIT to read the first 3 lines, you can do this in 2 separate reads:</p>\n\n<pre><code>df1 = pd.read_csv(r'filename.tsv', nrows = 3, header = None, delimiter = ':')\ndf2 = pd.read_csv(r'filename.tsv', skiprows = 4)\n</code></pre>\n\n<p>df1:</p>\n\n<pre><code>         0                1\n0     Name             Test \n1   Number              213\n2  LmaoIdk   Something else\n</code></pre>\n\n<p>df2:</p>\n\n<pre><code>Date   Measurement   Different_Measurement   Another_Measurement\n123    123           123                     123     \n</code></pre>\n\n<p>Alternatively you could just read the first 3 lines using the with open as method, and split the lines into a list/dict</p>\n"}], "owner": {"reputation": 65, "user_id": 11952686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd2efb743193bb8e97eec40c702f51?s=128&d=identicon&r=PG&f=1", "display_name": "under267", "link": "https://stackoverflow.com/users/11952686/under267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 58313697, "answer_count": 1, "score": 0, "last_activity_date": 1570669312, "creation_date": 1570660432, "last_edit_date": 1570662212, "question_id": 58313139, "link": "https://stackoverflow.com/questions/58313139/trying-to-read-a-tsv-file-where-the-first-few-lines-contain-an-amount-of-fields", "title": "Trying to read a .tsv file where the first few lines contain an amount of fields different to the rest of the file", "body": "<p>I am currently trying to read a tsv file containing a large amount of data to process later using python. Problem is, the first few lines of these tsv files follow a format (I'm not sure how to phrase it) that is different from the actual data. </p>\n\n<p>Here is an example of what I mean:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Name: Test \nNumber: 213\nLmaoIdk: Something else\n\nDate   Measurement   Different_Measurement   Another_Measurement...\n123    123           123                     123                ...\n.\n.\n.\n</code></pre>\n\n<p>How would I go about reading this tsv file into python, while retaining all of the information in the tsv file? Thanks!</p>\n\n<p>Currently I'm trying to use the pandas csv reader with the delimiter set to '\\t' to read the file as per the following:</p>\n\n<pre><code>raw_data = pd.read_csv(r'filename.tsv', delimiter = '\\t')\n</code></pre>\n\n<p>However, using this approach yields the following error message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ParserError: Error tokenizing data. C error: Expected 2 fields in line 27, saw 527\n</code></pre>\n\n<p>The desired outcome is that the tsv file is read into my code, and stored in a list.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "edited": false, "score": 0, "creation_date": 1570660719, "post_id": 58313131, "comment_id": 102987215, "body": "why did you draw histogram using pandas?"}, {"owner": {"reputation": 1933, "user_id": 10772277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8728d91c520e9ffd7ade8911ffedc3c5?s=128&d=identicon&r=PG&f=1", "display_name": "MilkyWay001", "link": "https://stackoverflow.com/users/10772277/milkyway001"}, "reply_to_user": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "edited": false, "score": 0, "creation_date": 1570660809, "post_id": 58313131, "comment_id": 102987238, "body": "I would like matplotlib hist, but most of the time I am already using pandas and like to make quick and dirty plots with pandas and seaborn, matplotlib is the last resort."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1570661111, "post_id": 58313131, "comment_id": 102987312, "body": "You&#39;re asking how to change the color of matplotlib AxisSubplot - but you know that already - <code>ax.set(facecolor=&#39;b&#39;)</code>. Rather it seems you want to change the color of the bars, <code>df.hist(..., color=&quot;b&quot;)</code>."}, {"owner": {"reputation": 1933, "user_id": 10772277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8728d91c520e9ffd7ade8911ffedc3c5?s=128&d=identicon&r=PG&f=1", "display_name": "MilkyWay001", "link": "https://stackoverflow.com/users/10772277/milkyway001"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1570661206, "post_id": 58313131, "comment_id": 102987341, "body": "@ImportanceOfBeingErnest that would make all plots blue, I even tried <code>color=list(&#39;rgb&#39;)</code> which does not give three colors."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1570662198, "post_id": 58313131, "comment_id": 102987507, "body": "Oh, each histogram should have a different color, right? Then probably you need to create each one separately and supply the respective color."}, {"owner": {"reputation": 1933, "user_id": 10772277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8728d91c520e9ffd7ade8911ffedc3c5?s=128&d=identicon&r=PG&f=1", "display_name": "MilkyWay001", "link": "https://stackoverflow.com/users/10772277/milkyway001"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1570662556, "post_id": 58313131, "comment_id": 102987569, "body": "@ImportanceOfBeingErnest, thanks for the suggestion, I know that,  I can do that easily with three plt.hist(). I was thingking if there was method available for Axissubplot."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1570668215, "post_id": 58313131, "comment_id": 102988617, "body": "<code>AxesSubplot</code> is just the axes. It&#39;s the object you get when calling <code>plt.subplot(111)</code>. Since the axes doesn&#39;t know about its content, there is no general method to make the axes content blue. You can however set all patches within an axes to blue, like <code>plt.setp(ax.patches, color=&quot;blue&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "is_accepted": false, "score": 1, "last_activity_date": 1570662992, "creation_date": 1570662992, "answer_id": 58313433, "question_id": 58313131, "link": "https://stackoverflow.com/questions/58313131/how-to-change-the-color-of-matplotlib-axissubplot/58313433#58313433", "title": "How to change the color of matplotlib AxisSubplot?", "body": "<p>I've done it using <code>seaborn</code>'s <code>distplot</code>, first i've found unique strings in the <code>species</code> column, for each of them, i draw a distinct histogram in each subplot based on <code>sepal_length</code>. as you can see i set the color of first histogram to be <strong>Blue</strong>, and the remaining plots are <strong>Red</strong> !</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n\ndf = sns.load_dataset('iris')\n\nunique_species = np.unique(df['species'])\nfor i in range(len(unique_species)):\n    plt.subplot(1,len(unique_species),i+1)\n    temp = df.loc[np.where(df['species']==unique_species[i])]\n    if i == 0 :\n        sns.distplot(temp['sepal_length'],bins=10,kde=False,rug=False,color='b')\n    else:\n        sns.distplot(temp['sepal_length'],bins=10,kde=False,rug=False,color='r')\n    plt.title(unique_species[i])\nplt.show()\n</code></pre>\n\n<p>the resulting plot would be :</p>\n\n<p><a href=\"https://i.stack.imgur.com/BFy25.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BFy25.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 7373, "user_id": 5200329, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da6b14c198704567425703ff9507dfb4?s=128&d=identicon&r=PG", "display_name": "Bhishan Poudel", "link": "https://stackoverflow.com/users/5200329/bhishan-poudel"}, "is_accepted": true, "score": 2, "last_activity_date": 1570674592, "last_edit_date": 1570674592, "creation_date": 1570673691, "answer_id": 58314527, "question_id": 58313131, "link": "https://stackoverflow.com/questions/58313131/how-to-change-the-color-of-matplotlib-axissubplot/58314527#58314527", "title": "How to change the color of matplotlib AxisSubplot?", "body": "<p>You can try this:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n\ndf = sns.load_dataset('iris')\n\nn_unq = df['species'].nunique()\ncolors = (list('rgbcmyk')*100)[:n_unq]\n\nxmin = np.min(df['sepal_length'])\nxmax = np.max(df['sepal_length'])\n\nfig, ax = plt.subplots(n_unq,1,figsize=(12,8))\n\nfor i, (label,grp) in enumerate(df.groupby('species')):\n    series = grp['sepal_length']\n    p = series.hist(ax=ax[i],color=colors[i],label=label)\n    p.set(xlim=(xmin, xmax))\n    p.legend()\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p>Gives:\n<a href=\"https://i.stack.imgur.com/JkQKX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JkQKX.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1933, "user_id": 10772277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8728d91c520e9ffd7ade8911ffedc3c5?s=128&d=identicon&r=PG&f=1", "display_name": "MilkyWay001", "link": "https://stackoverflow.com/users/10772277/milkyway001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 58314527, "answer_count": 2, "score": 3, "last_activity_date": 1570674592, "creation_date": 1570660400, "last_edit_date": 1570661341, "question_id": 58313131, "link": "https://stackoverflow.com/questions/58313131/how-to-change-the-color-of-matplotlib-axissubplot", "title": "How to change the color of matplotlib AxisSubplot?", "body": "<p>I was wondering how to change the color of matplotlib <code>AxisSubplot</code> object.</p>\n\n<p>Here is the MWE:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n\ndf = sns.load_dataset('iris')\n\n\np = df.hist('sepal_length',by='species',layout=(3,1))\np[0].set(title='Changed')\np[0].set(facecolor='b')\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<h1>Type</h1>\n\n<pre><code>print(type(p[0])\nmatplotlib.axes._subplots.AxesSubplot\n</code></pre>\n\n<h1>My output</h1>\n\n<p><a href=\"https://i.stack.imgur.com/FDgeW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDgeW.png\" alt=\"enter image description here\"></a></p>\n\n<h1>Required</h1>\n\n<p>I want the color of histogram to be blue, not the background.</p>\n\n<pre><code>p[0] ==&gt; red\np[1] ==&gt; green\np[2] ==&gt; blue\nsomething like\np[0].set_color('r')\np[1].set_color('g')\np[2].set_color('b')\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pycryptodome", "python-cryptography"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570663435, "post_id": 58313082, "comment_id": 102987745, "body": "Generally no, or maybe yes, but you haven&#39;t really explained what your application or security model is. You might instead try to describe your use case at security.stackexchange.com since your actual code for generating keys is not really what&#39;s of interest here."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570663601, "post_id": 58313082, "comment_id": 102987778, "body": "I&#39;m voting to close this question as off-topic because I believe it should be moved to security.stackexchange.com along with a broader explanation of what the application and security model are."}, {"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 0, "creation_date": 1570663808, "post_id": 58313082, "comment_id": 102987817, "body": "The user should just specify a public key in lieu of a password. They should not need the private key to encrypt (only to decrypt). The symmetric cipher key should be pure random and not based on a password. If the user wants password protection, they should password protect their private key and not the encrypted file."}], "owner": {"reputation": 23, "user_id": 4750524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e8a0fb09b05f049ea23e02b7c18506b?s=128&d=identicon&r=PG&f=1", "display_name": "grumpbot", "link": "https://stackoverflow.com/users/4750524/grumpbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570660096, "creation_date": 1570660096, "question_id": 58313082, "link": "https://stackoverflow.com/questions/58313082/should-i-generate-a-new-rsa-key-pair-every-time-a-user-is-going-to-encrypt-a-new", "title": "Should I generate a new RSA key pair every time a user is going to encrypt a new file?", "body": "<p>I'm working on a project in which I'm going to encrypt some files. I already have an AES function implemented, and now I'm implementing an RSA portion. On the AES part, I created a new key every time I was going to encrypt a new file, even if the password was the same by using different salts. To recover said passwors, I needed to hash together a known password and salt. Should I do the same with RSA public and private keys?  If so, could I apply the approach I used on AES keys to the RSA keys?  Or shoul my approach be different?</p>\n\n<p>This is how I generate my RSA keys:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from Crypto.PublicKey import RSA\n\n\nclass RsaKeyGenerator:\n\n    def __index__(self):\n        self.__key = RSA.generate(2048)\n\n    def generate_public_key(self):\n        return self.__key.publickey().exportKey()\n\n    def generate_private_key(self, password):\n        return self.__key.exportKey(passphrase=password, pkcs=8, protection=\"scryptAndAES128-CBC\")\n</code></pre>\n\n<p>This is how I handle the encryption/decryption process:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from Crypto.PublicKey import RSA\nfrom Crypto.Random import get_random_bytes\nfrom Crypto.Cipher import PKCS1_OAEP, AES\n\n\nclass RsaCrypto:\n\n    def __init__(self, public_key):\n        self.public_key = RSA.import_key(open(public_key, 'rb').read())\n        self.__cipher_rsa = PKCS1_OAEP.new(self.public_key)\n        self.__session_key = get_random_bytes(16)\n        self.__cipher_aes = AES.new(self.__session_key, AES.MODE_EAX)\n        self.__nonce = self.__cipher_aes.nonce\n\n    def get_session_key(self):\n        return self.__cipher_rsa.encrypt(self.__session_key)\n\n    def get_nonce(self):\n        return self.__nonce\n\n    def encrypt(self, plaintext_bytes):\n        cipher_text, tag = self.__cipher_aes.encrypt_and_digest(plaintext_bytes)\n        return cipher_text, tag\n\n    @staticmethod\n    def decrypt(private_key, password, enc_session_key, nonce, tag, cipher_text):\n        plain_private_key = RSA.import_key(private_key, passphrase=password)\n        cipher_rsa = PKCS1_OAEP.new(plain_private_key)\n        session_key = cipher_rsa.decrypt(enc_session_key)\n        cipher_aes = AES.new(session_key, AES.MODE_EAX, nonce)\n        return cipher_aes.decrypt_and_verify(cipher_text, tag)\n</code></pre>\n"}, {"tags": ["python", "lua", "scrapy", "scrapy-splash"], "comments": [{"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1570681510, "post_id": 58313081, "comment_id": 102991287, "body": "try to update version to 2.2 or above"}, {"owner": {"reputation": 23, "user_id": 12064939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3378659ed8f89002b7c2c29999d62b?s=128&d=identicon&r=PG&f=1", "display_name": "abab", "link": "https://stackoverflow.com/users/12064939/abab"}, "reply_to_user": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1570688755, "post_id": 58313081, "comment_id": 102993349, "body": "Update what version? sorry I&#39;m new to this."}, {"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1570710887, "post_id": 58313081, "comment_id": 103004696, "body": "Upgrade splash ....is like the method send_text never existed"}, {"owner": {"reputation": 23, "user_id": 12064939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3378659ed8f89002b7c2c29999d62b?s=128&d=identicon&r=PG&f=1", "display_name": "abab", "link": "https://stackoverflow.com/users/12064939/abab"}, "reply_to_user": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1570746143, "post_id": 58313081, "comment_id": 103021366, "body": "The splash version is 3.3.1, Python version is 3.5.2, they are already the latest versions, still cannot get it resolved.."}], "owner": {"reputation": 23, "user_id": 12064939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3378659ed8f89002b7c2c29999d62b?s=128&d=identicon&r=PG&f=1", "display_name": "abab", "link": "https://stackoverflow.com/users/12064939/abab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570660089, "creation_date": 1570660089, "question_id": 58313081, "link": "https://stackoverflow.com/questions/58313081/scrapy-splash-cannot-login-in-lua-error-attempt-to-call-method-send-text-a", "title": "Scrapy splash cannot login in, lua error: attempt to call method &#39;send_text&#39; (a nil value)", "body": "<p>I want to login in to the website and scrape the data from it. After trying many many times, it's still not working. </p>\n\n<p>The website contains javascript, so I used splash to render. Splash is working, but just the code part I cannot figure it out. Due to our work environment, will not consider using selenium.</p>\n\n<pre><code>class MySpider(scrapy.Spider):\n    name = \"test\"\n    start_urls = ['https://steamcommunity.com/login/home/']\n    req = 10\n    series = {}\n\n    def start_requests(self):\n        script = \"\"\"\n\n        function main(splash)\n            splash.private_mode_enabled = false\n            local url = splash.args.url\n            assert(splash:go(url))\n            assert(splash:wait(10))\n\n            splash:set_viewport_full()\n\n            local search_input = splash:select_all('#steamAccountName')\n            search_input:send_text(\"xxxxxxx\")\n            local search_input = splash:select_all('#steamPassword')\n            search_input:send_text(\"xxxxxxx\")\n            assert(splash:wait(5))\n\n            local submit_button = splash:select_all('#login_btn_signin')\n            submit_button.click()\n\n            assert(splash:wait(10))\n\n            return {\n                html = splash:html(),\n                png = splash:png(),\n            }\n        end\n        \"\"\"\n        yield SplashRequest(\n            'https://steamcommunity.com',\n            callback=self.after_login,\n            endpoint='execute',\n            args={'lua_source': script}\n                            )\n\n    def after_login(self, response):\n        open_in_browser(response)\n</code></pre>\n\n<p>Below is the error:</p>\n\n<pre><code>2019-10-09 15:18:32 [scrapy.core.engine] INFO: Spider opened\n2019-10-09 15:18:32 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)\n2019-10-09 15:18:32 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023\n2019-10-09 15:18:43 [scrapy_splash.middleware] WARNING: Bad request to Splash: {'type': 'ScriptError', 'info': {'line_number': 12, 'type'\n: 'LUA_ERROR', 'error': \"attempt to call method 'send_text' (a nil value)\", 'source': '[string \"...\"]', 'message': 'Lua error: [string \".\n..\"]:12: attempt to call method \\'send_text\\' (a nil value)'}, 'error': 400, 'description': 'Error happened while executing Lua script'}\n2019-10-09 15:18:43 [scrapy.core.engine] DEBUG: Crawled (400) &lt;GET https://steamcommunity.com via http://localhost:8050/execute&gt; (referer\n: None)\n2019-10-09 15:18:43 [scrapy.spidermiddlewares.httperror] INFO: Ignoring response &lt;400 https://steamcommunity.com&gt;: HTTP status code is no\nt handled or not allowed\n2019-10-09 15:18:43 [scrapy.core.engine] INFO: Closing spider (finished)\n</code></pre>\n\n<p>Any help is greatly appreciated! Thank you.</p>\n"}, {"tags": ["python", "robotframework"], "answers": [{"tags": [], "owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "is_accepted": false, "score": 5, "last_activity_date": 1570682062, "creation_date": 1570682062, "answer_id": 58315503, "question_id": 58313075, "link": "https://stackoverflow.com/questions/58313075/where-to-use-and-for-dynamic-elements-variable-in-python-robotframework-exa/58315503#58315503", "title": "where to use @ and $ for dynamic elements/variable in Python/RobotFramework. Example @{cookies} and ${cookies}", "body": "<p>The <code>$</code> prefix stands for \"use the value of that variable\"; <code>@</code> is \"expand the content of the container <em>(usually a list, but that's not the only option)</em>, and use that set of values\".</p>\n\n<p>For instance:</p>\n\n<pre><code>${a list}=    Create List    a    b    c\n</code></pre>\n\n<p>When used</p>\n\n<pre><code>FOR    ${value}    IN    @{a list}\n</code></pre>\n\n<p>, is evaluated by RF as</p>\n\n<pre><code>FOR    ${value}    IN    a     b    c\n</code></pre>\n\n<p>, which is the correct for-loop syntax.  </p>\n\n<hr>\n\n<p>But in the same time:</p>\n\n<pre><code>FOR    ${value}    IN    ${a list}\n</code></pre>\n\n<p>, is evaluated by RF as</p>\n\n<pre><code>FOR    ${value}    IN    ['a', 'b', 'c']   # this is a string, not an actual python list\n</code></pre>\n\n<p>, which is syntactically incorrect for RF. </p>\n\n<hr>\n\n<p>In general, when you want to pass \"the list members, each one separately\" - use the <code>@</code>. When you need to pass the list variable itself - use the <code>$</code>.</p>\n\n<p>This is a simplification, but covers the major use case. </p>\n"}], "owner": {"reputation": 25, "user_id": 10610204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce92578cebe6f045d49d96109722b80?s=128&d=identicon&r=PG&f=1", "display_name": "AutomationTest", "link": "https://stackoverflow.com/users/10610204/automationtest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1570682062, "creation_date": 1570660033, "last_edit_date": 1570679951, "question_id": 58313075, "link": "https://stackoverflow.com/questions/58313075/where-to-use-and-for-dynamic-elements-variable-in-python-robotframework-exa", "title": "where to use @ and $ for dynamic elements/variable in Python/RobotFramework. Example @{cookies} and ${cookies}", "body": "<p>I don't have any problem but trying to understand where to use @{any_variable} and ${any_variable}\n\"@\" and \"$\" difference</p>\n\n<pre><code>:FOR    ${partner}    IN    @{partners_name}\n      Set test variable   ${partner}\n</code></pre>\n\n<p>I don't have any error just want to understand where to use @ and $ \nor the difference between @ and $</p>\n"}, {"tags": ["python", "list", "bioinformatics"], "comments": [{"owner": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "edited": false, "score": 2, "creation_date": 1570660500, "post_id": 58313066, "comment_id": 102987158, "body": "Your <code>list[3] == &#39;T&#39; or &#39;C&#39; and list[4] == &#39;T&#39; or &#39;C&#39;</code> won&#39;t work -- use <code>(list[3] == &#39;T&#39; or list[3] == &#39;C&#39;) and (list[4] == &#39;T&#39; or list[4] == &#39;C&#39;)</code>, or alternatively <code>list[3] in [&#39;T&#39;, &#39;C&#39;] and list[4] in [&#39;T&#39;, &#39;C&#39;]</code>. Also avoid using <code>list</code> as a variable name - it is a <a href=\"https://docs.python.org/3/library/functions.html\" rel=\"nofollow noreferrer\">built in function</a>"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1570661058, "post_id": 58313066, "comment_id": 102987298, "body": "Out of curiosity, in practice, how many of these SNPs will you be dealing with in your full data set, and how often? Depending on the size of the data, in practice you will want to use Numpy or possibly Pandas. I can show you a more efficient solution if you think it&#39;s necessary. If it&#39;s just small lists like your example it&#39;s probably not such a big deal though."}, {"owner": {"reputation": 171, "user_id": 12055478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd24b2ffca8e1d4f34addb244c84bb3?s=128&d=identicon&r=PG&f=1", "display_name": "wilberox", "link": "https://stackoverflow.com/users/12055478/wilberox"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570661375, "post_id": 58313066, "comment_id": 102987375, "body": "@Iguananaut My final files are a lot larger (~30k SNPs), but this is part of an assignment for a class, and we are still at a very basic level, so I don&#39;t really want to start with bigger files and more advanced code yet. Thanks though!"}], "answers": [{"tags": [], "owner": {"reputation": 493, "user_id": 7066613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4r4F.jpg?s=128&g=1", "display_name": "Paul D.", "link": "https://stackoverflow.com/users/7066613/paul-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1570660299, "creation_date": 1570660299, "answer_id": 58313116, "question_id": 58313066, "link": "https://stackoverflow.com/questions/58313066/extracting-lists-from-list-of-lists-based-on-character-of-index/58313116#58313116", "title": "extracting lists from list of lists based on character of index", "body": "<p>You have to tell it what to append. Change the appends to: <code>dregeiTransitions.append(list)</code> and it should work.</p>\n"}], "owner": {"reputation": 171, "user_id": 12055478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd24b2ffca8e1d4f34addb244c84bb3?s=128&d=identicon&r=PG&f=1", "display_name": "wilberox", "link": "https://stackoverflow.com/users/12055478/wilberox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58313116, "answer_count": 1, "score": 0, "last_activity_date": 1570660299, "creation_date": 1570659926, "question_id": 58313066, "link": "https://stackoverflow.com/questions/58313066/extracting-lists-from-list-of-lists-based-on-character-of-index", "title": "extracting lists from list of lists based on character of index", "body": "<p>I have a list of lists, called dregeiSNPs:</p>\n\n<pre><code>[['ACmerged_contig_24664', '378', '.', 'T', 'A', '7.30814', '.', 'DP=1;SGB=-0.379885;MQ0F=0;AC=2;AN=2;DP4=0,0,0,1;MQ=36', 'GT:PL', '1/1:36,3,0'],\n ['ACmerged_contig_24664', '379', '.', 'G', 'A', '4.38466', '.', 'DP=1;SGB=-0.379885;MQ0F=0;AC=2;AN=2;DP4=0,0,0,1;MQ=36', 'GT:PL', '1/1:32,3,0'],\n ['ACmerged_contig_24664', '383', '.', 'G', 'A', '7.30814', '.', 'DP=1;SGB=-0.379885;MQ0F=0;AC=2;AN=2;DP4=0,0,0,1;MQ=36', 'GT:PL', '1/1:36,3,0']]\n</code></pre>\n\n<p>I am trying to put the lists within this into different lists, depending on the letters in <code>list[3]</code> and <code>list[4]</code>. If the characters in <code>list[3]</code> and <code>list[4]</code> are both 'T' or 'C', or both 'A' or 'G', I want these lines to go into one list <code>dregeiTransitions</code>, if otherwise I want the lines to go into <code>dregeiTransversions</code>.</p>\n\n<p>I will use this code for a larger dataset in the end.</p>\n\n<p>I have written this code:</p>\n\n<pre><code>dregeiTransitions = []\ndregeiTransversions = []\nfor (line, list) in enumerate(dregeiSNPs):\n    if list[3] == 'T' or 'C' and list[4] == 'T' or 'C':\n        dregeiTransitions.append()\n    if list[3] == 'A' or 'G' and list[4] == 'A' or 'G':\n        dregeiTransitions.append()\n    else:\n        dregeiTransversions.append()\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>  File \"project1.py\", line 42, in &lt;module&gt;\n    dregeiTransitions.append()\nTypeError: append() takes exactly one argument (0 given)\n</code></pre>\n\n<p>Can someone explain why this happens? Surely I should not be reaching an <code>.append</code> statement unless the above <code>if</code> or <code>else</code> criteria are fulfilled?</p>\n"}, {"tags": ["python", "django", "django-models", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1570660339, "post_id": 58313044, "comment_id": 102987118, "body": "Apart from the fact that it should be <code>Product.objects.filter</code>, what is wrong with this code? What is your question?"}, {"owner": {"reputation": 41, "user_id": 11473363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af32fda94f53f9a6cd609123c34e21fe?s=128&d=identicon&r=PG&f=1", "display_name": "leonking93", "link": "https://stackoverflow.com/users/11473363/leonking93"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1570660584, "post_id": 58313044, "comment_id": 102987184, "body": "I have tried Product.objects.filter and that doesn\u2019t work either. When I add in this code and now try to go to one of the pages of a category, Django gives me an attribute error, saying slug is not an attribute of ProductListView."}, {"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1570662529, "post_id": 58313044, "comment_id": 102987561, "body": "What do you expect the value of <code>self.slug</code> to be?  <code>self</code> in this case is <b>not</b> the model instance."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 11473363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af32fda94f53f9a6cd609123c34e21fe?s=128&d=identicon&r=PG&f=1", "display_name": "leonking93", "link": "https://stackoverflow.com/users/11473363/leonking93"}, "edited": false, "score": 0, "creation_date": 1570664276, "post_id": 58313492, "comment_id": 102987897, "body": "will try this... just added my urls if this could help more. thank you"}, {"owner": {"reputation": 389, "user_id": 6412073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3777715f290e4338fc3cd9cb5ebef141?s=128&d=identicon&r=PG", "display_name": "rhys_gbs", "link": "https://stackoverflow.com/users/6412073/rhys-gbs"}, "reply_to_user": {"reputation": 41, "user_id": 11473363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af32fda94f53f9a6cd609123c34e21fe?s=128&d=identicon&r=PG&f=1", "display_name": "leonking93", "link": "https://stackoverflow.com/users/11473363/leonking93"}, "edited": false, "score": 0, "creation_date": 1570665083, "post_id": 58313492, "comment_id": 102988050, "body": "@leonking93 I&#39;ve updated the answer, let me know if this helps."}, {"owner": {"reputation": 41, "user_id": 11473363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af32fda94f53f9a6cd609123c34e21fe?s=128&d=identicon&r=PG&f=1", "display_name": "leonking93", "link": "https://stackoverflow.com/users/11473363/leonking93"}, "edited": false, "score": 0, "creation_date": 1570667676, "post_id": 58313492, "comment_id": 102988551, "body": "this worked!! Thanks so much. Im in school and am actively trying to learn python and the django framework."}, {"owner": {"reputation": 389, "user_id": 6412073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3777715f290e4338fc3cd9cb5ebef141?s=128&d=identicon&r=PG", "display_name": "rhys_gbs", "link": "https://stackoverflow.com/users/6412073/rhys-gbs"}, "reply_to_user": {"reputation": 41, "user_id": 11473363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af32fda94f53f9a6cd609123c34e21fe?s=128&d=identicon&r=PG&f=1", "display_name": "leonking93", "link": "https://stackoverflow.com/users/11473363/leonking93"}, "edited": false, "score": 0, "creation_date": 1570667792, "post_id": 58313492, "comment_id": 102988563, "body": "@leonking93 glad I could be of help :)"}], "tags": [], "owner": {"reputation": 389, "user_id": 6412073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3777715f290e4338fc3cd9cb5ebef141?s=128&d=identicon&r=PG", "display_name": "rhys_gbs", "link": "https://stackoverflow.com/users/6412073/rhys-gbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1570664787, "last_edit_date": 1570664787, "creation_date": 1570663546, "answer_id": 58313492, "question_id": 58313044, "link": "https://stackoverflow.com/questions/58313044/how-do-i-create-a-queryset-to-display-products-that-are-linked-to-a-category-th/58313492#58313492", "title": "How do I create a queryset to display products that are linked to a category, that is shown by each category slug?", "body": "<p>Try something like the following, would be able to help more seeing your urls but this should get you closer.</p>\n\n<pre><code>class ProductListView(ListView):\n    template_name = 'products/products.html'\n\n    def get_queryset(self, *args, **kwargs):\n        category = ProductCategory.objects.get(slug=self.kwargs.get('product_category'))\n        products = category.ProductsCategory.all()\n        return products\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 11473363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af32fda94f53f9a6cd609123c34e21fe?s=128&d=identicon&r=PG&f=1", "display_name": "leonking93", "link": "https://stackoverflow.com/users/11473363/leonking93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 58313492, "answer_count": 1, "score": 0, "last_activity_date": 1570664787, "creation_date": 1570659708, "last_edit_date": 1570664326, "question_id": 58313044, "link": "https://stackoverflow.com/questions/58313044/how-do-i-create-a-queryset-to-display-products-that-are-linked-to-a-category-th", "title": "How do I create a queryset to display products that are linked to a category, that is shown by each category slug?", "body": "<p>I have a product model and a productcategory model. The products are linked to the productcategory by a category attribute. I want to create a query that displays ONLY products that are in a category, when the webpage is displayed for that specific category.</p>\n\n<p>The way I have my views currently setup, I get an attribute error, saying the view has no attribute of slug.</p>\n\n<p>Models:</p>\n\n<pre><code>class ProductCategory(models.Model):\n    title = models.CharField(max_length=200)\n    slug = models.SlugField()\n    parent = models.ForeignKey('self', blank=True, null=True,\n                related_name='children', on_delete=models.PROTECT)\n\nclass Product(models.Model):\n    title       = models.CharField(max_length=100)\n    category    = models.ForeignKey(ProductCategory, related_name='ProductsCategory', null=True, blank=True,\n                    on_delete=models.CASCADE)\n    slug        = models.SlugField(blank=True)\n    description = models.TextField()\n    price       = models.DecimalField(decimal_places=2, max_digits=6)\n    image       = models.ImageField(upload_to='products/', null=True, blank=True)\n</code></pre>\n\n<p>Views:</p>\n\n<pre><code>class ProductListView(ListView):\n    look_up = 'slug'\n    template_name = 'products/products.html'\n\n    def get_queryset(self, *args, **kwargs):\n        category = ProductCategory.objects.get(self.slug)\n        products = Product.filter(category=category)\n        return products\n</code></pre>\n\n<p>Urls:</p>\n\n<pre><code>urlpatterns = [\n    path('', CategoryView.as_view(), name='shop'),\n    path('&lt;slug:product_category&gt;/', ProductListView.as_view(), name='products'),\n    path('&lt;slug:product_category&gt;/&lt;slug:product&gt;/', ProductDetailView.as_view(), name='detail'),\n]\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1570722357, "post_id": 58313038, "comment_id": 103011765, "body": "Please post data that <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">reproduces</a> your <i>barless</i> issue. See how to share data with <a href=\"https://stackoverflow.com/a/52413247/1422451\"><code>to_clipboard</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 17050, "user_id": 3944322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fb31e86bf22c094d34b240544e458ec?s=128&d=identicon&r=PG&f=1", "display_name": "Stef", "link": "https://stackoverflow.com/users/3944322/stef"}, "is_accepted": true, "score": 1, "last_activity_date": 1570713066, "creation_date": 1570713066, "answer_id": 58323739, "question_id": 58313038, "link": "https://stackoverflow.com/questions/58313038/seaborn-how-to-plot-by-columns-without-including-missing-data/58323739#58323739", "title": "seaborn, how to plot by columns, without including missing data", "body": "<p>I don't think this is possible. <code>Catplot</code> was designed to compare data across categories, so displaying the gaps is the intended behavior. Instead you could make regular subplots like that:</p>\n\n<pre><code>df = pd.DataFrame({'teamID': [1,2,3,2,3,4], 'time_period': [2018,2018,2018,2019,2019,2019], 'winrate': [.8, .7, .9, .85, .8, .95]})\nf, ax = plt.subplots(1, len(grp))\ngrp = df.groupby('time_period')\nfor i,g in enumerate(grp):\n    sns.barplot(g[1].teamID.to_list(), g[1].winrate.to_list(), ax=ax[i])\n    ax[i].title.set_text(g[0])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9BSMU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9BSMU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please note that equal colors correspond to different teams across subplots, so you may want to include e.g.<code>color=sns.color_palette()[0]</code> to set all bars to the same color.</p>\n"}], "owner": {"reputation": 655, "user_id": 4570144, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10152794699891185/picture?type=large", "display_name": "Travis Black", "link": "https://stackoverflow.com/users/4570144/travis-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 58323739, "answer_count": 1, "score": 0, "last_activity_date": 1570713066, "creation_date": 1570659624, "question_id": 58313038, "link": "https://stackoverflow.com/questions/58313038/seaborn-how-to-plot-by-columns-without-including-missing-data", "title": "seaborn, how to plot by columns, without including missing data", "body": "<p>I have a dataframe with keys of 'time_period', 'teamID', 'winrate'.</p>\n\n<p>I am trying to plot the relationship between teamID and winrate, for each time period.</p>\n\n<p>I do this with:</p>\n\n<pre><code>g = sns.catplot(x=\"teamID\", y=\"winrate\", kind=\"bar\", col='time_period', \ncol_wrap=1, data=df, height=5, aspect=2.5)\n</code></pre>\n\n<p>Works great, but here is the problem.  Each time period does not necessarily contain the same teams.  But, each output graph still uses <em>every</em> team in the database as a label for the X axis.  For each period, my plot has a bunch of barless positions on the X axis because those teams don't exist within that period.</p>\n\n<p>Is there a way to make each period's plot only show the teams that are applicable to that period?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "python-3.x", "http", "https"], "answers": [{"comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570664736, "post_id": 58313569, "comment_id": 102987987, "body": "Sure, and I&#39;m impressed you were able to do it with these lower-level libraries. But in the future you might save yourself some hassle by trying out one of the myriad higher-level web frameworks available for Python these days. Flask is one of the most popular but there are many others."}, {"owner": {"reputation": 222, "user_id": 6713792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4197a56d186f6971d13308724f77ede?s=128&d=identicon&r=PG&f=1", "display_name": "hax", "link": "https://stackoverflow.com/users/6713792/hax"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1570665064, "post_id": 58313569, "comment_id": 102988047, "body": "@Iguananaut I was kinda trying to accomplish it with minimal resources as this is not for a full fledged web application, rather for a Proof of Concept."}], "tags": [], "owner": {"reputation": 222, "user_id": 6713792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4197a56d186f6971d13308724f77ede?s=128&d=identicon&r=PG&f=1", "display_name": "hax", "link": "https://stackoverflow.com/users/6713792/hax"}, "is_accepted": true, "score": 2, "last_activity_date": 1570664501, "creation_date": 1570664501, "answer_id": 58313569, "question_id": 58313034, "link": "https://stackoverflow.com/questions/58313034/how-to-serve-a-folder-and-handle-post-requests-at-the-same-time-in-python-http-s/58313569#58313569", "title": "How to serve a folder and handle POST requests at the same time in python http.server", "body": "<p>With a bit more of googling, I resolved the issue with the code below. </p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom http.server import HTTPServer, SimpleHTTPRequestHandler\nfrom io import BytesIO\nfrom sys import argv\nimport ssl\n\n\nclass requestHandler(SimpleHTTPRequestHandler):\n    def do_POST(self):\n\n        #Doing things with incoming POST data\n        content_length = int(self.headers['Content-Length']) # &lt;--- Gets the size of data\n        body = self.rfile.read(content_length) # &lt;--- Gets the data itself\n        bodydata = body.decode('utf-8')\n        logdata = \"\\n\"+bodydata+\"\\n\"\n        logfile = open('log.txt', 'a+')\n        logfile.write(logdata)\n        logfile.close()\n\n        # Crafting the response to be sent back to client\n\n        self.send_response(200)\n        self.end_headers()\n        response = BytesIO()\n        response.write(b'\\nA POST request with some data was recieved\\n')\n        response.write(b'The recieved data shall be logged\\n')\n        self.wfile.write(response.getvalue())\n\nportstr = argv[1]\nport = int(portstr)\nkeyloc = \"/Users/test/Desktop/key.pem\"\ncertloc = \"/Users/test/Desktop/cert.pem\"\n\nhttpd = HTTPServer(('localhost', port), requestHandler)\nhttpd.socket = ssl.wrap_socket(httpd.socket, keyfile=keyloc, certfile=certloc, server_side=True)\nhttpd.serve_forever()\n</code></pre>\n"}], "owner": {"reputation": 222, "user_id": 6713792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4197a56d186f6971d13308724f77ede?s=128&d=identicon&r=PG&f=1", "display_name": "hax", "link": "https://stackoverflow.com/users/6713792/hax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58313569, "answer_count": 1, "score": 3, "last_activity_date": 1570664501, "creation_date": 1570659600, "last_edit_date": 1570659922, "question_id": 58313034, "link": "https://stackoverflow.com/questions/58313034/how-to-serve-a-folder-and-handle-post-requests-at-the-same-time-in-python-http-s", "title": "How to serve a folder and handle POST requests at the same time in python http.server", "body": "<p>I am running an https server which serves the current directory using the following code. </p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom http.server import HTTPServer, SimpleHTTPRequestHandler\nimport ssl\n\nhttpd = HTTPServer(('hostname', 8443), SimpleHTTPRequestHandler)\nhttpd.socket = ssl.wrap_socket(httpd.socket, keyfile=\"/Users/test/Desktop/key.pem\", certfile=\"/Users/test/Desktop/cert.pem\", server_side=True)\nhttpd.serve_forever()\n</code></pre>\n\n<p>I also wanted the server to be able to handle a POST request with some values. I want to log whatever is being sent as POST to a file. Previously I used cgi scripts for this purpose. I used to have a <code>logger.py</code> in <code>./cgi-bin</code> and made the clients send POST request to <code>http://hostname:8080/cgi-bin/logger.py</code>. and invoked the server using <code>python -m http.server --cgi 8080</code></p>\n\n<p>However because of my new requirement to serve over https I am no longer invoking http.server from commandline and am using the above script. I have no idea POST requests can be handled without breaking the usual functionality of serving the contents inside the folder.</p>\n"}, {"tags": ["python", "azure", "x509certificate", "azure-keyvault", "key-pair"], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 8945408, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b0f521586b89f3ddc15a5887a03de4e?s=128&d=identicon&r=PG&f=1", "display_name": "AlanPear", "link": "https://stackoverflow.com/users/8945408/alanpear"}, "edited": false, "score": 0, "creation_date": 1570720742, "post_id": 58316772, "comment_id": 103010849, "body": "Your code for getting the private key is giving me the following error: OpenSSL.crypto.Error: [(&#39;PEM routines&#39;, &#39;get_name&#39;, &#39;no start line&#39;)]"}, {"owner": {"reputation": 545, "user_id": 8945408, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b0f521586b89f3ddc15a5887a03de4e?s=128&d=identicon&r=PG&f=1", "display_name": "AlanPear", "link": "https://stackoverflow.com/users/8945408/alanpear"}, "edited": false, "score": 0, "creation_date": 1570721972, "post_id": 58316772, "comment_id": 103011550, "body": "I just noticed your content type from your screenshot shows PKCS#12, which mine is as well. Does that mean the data im getting from the secret is not PEM?"}, {"owner": {"reputation": 545, "user_id": 8945408, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b0f521586b89f3ddc15a5887a03de4e?s=128&d=identicon&r=PG&f=1", "display_name": "AlanPear", "link": "https://stackoverflow.com/users/8945408/alanpear"}, "edited": false, "score": 0, "creation_date": 1570829168, "post_id": 58316772, "comment_id": 103052353, "body": "well mine is stuck in the pkcs12 one. either way ill just mark this one."}], "tags": [], "owner": {"reputation": 12698, "user_id": 10504999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d210a83ff5a5b5cf4a926f4fb6a07b?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ju", "link": "https://stackoverflow.com/users/10504999/tony-ju"}, "is_accepted": true, "score": 1, "last_activity_date": 1570697945, "last_edit_date": 1570697945, "creation_date": 1570689120, "answer_id": 58316772, "question_id": 58313018, "link": "https://stackoverflow.com/questions/58313018/how-to-get-private-key-from-certificate-in-an-azure-key-vault/58316772#58316772", "title": "How to Get Private Key from Certificate in an Azure Key Vault?", "body": "<p>The pem_data you get from the key vault is already in pem format, and you can ony get the public key.</p>\n\n<pre><code>pem_data = client.get_secret(\"https://XX.vault.azure.net/\", \"XX\", \"XX\")\npem_data = pem_data.value.encode()\n\ncert = load_pem_x509_certificate(pem_data,  backend=default_backend())\npublic_key = cert.public_key()\n</code></pre>\n\n<p>If you want to get the private key, you can use OpenSSL:</p>\n\n<pre><code>import OpenSSL.crypto\n\npem_data = client.get_secret(\"https://XX.vault.azure.net/\", \"XX\", \"XX\")\npem_data = pem_data.value.encode()\ncrtObj = crypto.load_certificate(crypto.FILETYPE_PEM, pem_data)\npubKeyObject = crtObj.get_pubkey()\npriKeyString = crypto.dump_privatekey(crypto.FILETYPE_PEM, pubKeyObject)\nprint(priKeyString)\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>Please make sure that you have indicated that the key is exportable when you create the certificate. If the policy indicates non-exportable, then the private key isn't a part of the value when retrieved as a secret. Refer to <a href=\"https://docs.microsoft.com/en-us/azure/key-vault/about-keys-secrets-and-certificates#exportable-or-non-exportable-key\" rel=\"nofollow noreferrer\">this document</a> for more details.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BYoYU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BYoYU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 14545895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0f3B.jpg?s=128&g=1", "display_name": "McCoy Pati&#241;o", "link": "https://stackoverflow.com/users/14545895/mccoy-pati%c3%b1o"}, "is_accepted": false, "score": 0, "last_activity_date": 1609208397, "creation_date": 1609208397, "answer_id": 65486503, "question_id": 58313018, "link": "https://stackoverflow.com/questions/58313018/how-to-get-private-key-from-certificate-in-an-azure-key-vault/65486503#65486503", "title": "How to Get Private Key from Certificate in an Azure Key Vault?", "body": "<p>There's now a <a href=\"https://github.com/Azure/azure-sdk-for-python/blob/master/sdk/keyvault/azure-keyvault-certificates/samples/parse_certificate.py\" rel=\"nofollow noreferrer\">sample</a> for <code>azure-keyvault-certificates</code> that shows how to get the private key from a certificate using <a href=\"https://pypi.org/project/pyOpenSSL/\" rel=\"nofollow noreferrer\">pyOpenSSL</a>:</p>\n<pre><code>import base64\nfrom azure.identity import DefaultAzureCredential\nfrom azure.keyvault.secrets import SecretClient\nfrom cryptography.hazmat.primitives.serialization import pkcs12\n\nvault_url = &quot;https://{vault-name}.vault.azure.net&quot;\ncert_name = &quot;certificate name&quot;\ncredential = DefaultAzureCredential()\n\nsecret_client = SecretClient(vault_url=vault_url, credential=credential)\ncertificate_secret = secret_client.get_secret(name=cert_name)\n\n# Now we can extract the private key and public certificate from the secret using the cryptography\n# package.\n# This example shows how to parse a certificate in PKCS12 format since it's the default in Key Vault,\n# but PEM certificates are supported as well. With a PEM certificate, you could use load_pem_private_key\n# in place of load_key_and_certificates.\ncert_bytes = base64.b64decode(certificate_secret.value)\nprivate_key, public_certificate, additional_certificates = pkcs12.load_key_and_certificates(\n    data=cert_bytes,\n    password=None\n)\n</code></pre>\n<p>More documentation on the new Azure SDK packages for Key Vault (that replace <code>azure-keyvault</code>) can be found here:</p>\n<ul>\n<li><a href=\"https://pypi.org/project/azure-keyvault-certificates/\" rel=\"nofollow noreferrer\">azure-keyvault-certificates</a> <a href=\"https://github.com/Azure/azure-sdk-for-python/blob/master/sdk/keyvault/azure-keyvault-certificates/migration_guide.md\" rel=\"nofollow noreferrer\">(Migration guide)</a></li>\n<li><a href=\"https://pypi.org/project/azure-keyvault-keys/\" rel=\"nofollow noreferrer\">azure-keyvault-keys</a> <a href=\"https://github.com/Azure/azure-sdk-for-python/blob/master/sdk/keyvault/azure-keyvault-keys/migration_guide.md\" rel=\"nofollow noreferrer\">(Migration guide)</a></li>\n<li><a href=\"https://pypi.org/project/azure-keyvault-secrets/\" rel=\"nofollow noreferrer\">azure-keyvault-secrets</a> <a href=\"https://github.com/Azure/azure-sdk-for-python/blob/master/sdk/keyvault/azure-keyvault-secrets/migration_guide.md\" rel=\"nofollow noreferrer\">(Migration guide)</a></li>\n</ul>\n<p>(I work on the Azure SDK in Python)</p>\n"}], "owner": {"reputation": 545, "user_id": 8945408, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b0f521586b89f3ddc15a5887a03de4e?s=128&d=identicon&r=PG&f=1", "display_name": "AlanPear", "link": "https://stackoverflow.com/users/8945408/alanpear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3713, "favorite_count": 0, "accepted_answer_id": 58316772, "answer_count": 2, "score": 1, "last_activity_date": 1613778886, "creation_date": 1570659522, "last_edit_date": 1613778886, "question_id": 58313018, "link": "https://stackoverflow.com/questions/58313018/how-to-get-private-key-from-certificate-in-an-azure-key-vault", "title": "How to Get Private Key from Certificate in an Azure Key Vault?", "body": "<p>I have a Certificate in an Azure Key Vault that I would like to extract a private key from.</p>\n<p>According to the <a href=\"https://docs.microsoft.com/en-us/azure/key-vault/certificates/about-certificates#composition-of-a-certificate\" rel=\"nofollow noreferrer\">Microsoft Docs</a>:</p>\n<blockquote>\n<p>When a Key Vault certificate is created, an addressable key and secret are also created with the same name. The Key Vault key allows key operations and the Key Vault secret allows retrieval of the certificate value as a secret.</p>\n</blockquote>\n<p>However, I have been unsuccessful in extracting the private key from this. Here is an example of some python code I tried:</p>\n<pre><code>pem_data  = get_secret('https://keyvault.azure.net/', 'x509-cert')\npem_data = '-----BEGIN CERTIFICATE----- ' + pem_data + ' -----END CERTIFICATE-----'\npem_data = pem_data.encode()\nkey = x509.load_pem_x509_certificate(pem_data,  backend=default_backend())\nprivate_key = key.private_key()\n</code></pre>\n<p>This however, will error saying it cannot load the certificate.</p>\n"}, {"tags": ["python", "list", "methods"], "comments": [{"owner": {"reputation": 1812, "user_id": 11432434, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lYnbtUu9EOU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-9ybhwxbzBDHJNyQWMDDx97hP7g/mo/photo.jpg?sz=128", "display_name": "SimonN", "link": "https://stackoverflow.com/users/11432434/simonn"}, "edited": false, "score": 0, "creation_date": 1570659903, "post_id": 58313011, "comment_id": 102987011, "body": "You seem to want to make a list of the indexes of the non-1 values, not the values themselves, but you don&#39;t actually say that in the question. Try researching the enumerate function and looping over enumerate (D)"}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1570660212, "last_edit_date": 1570660212, "creation_date": 1570659773, "answer_id": 58313049, "question_id": 58313011, "link": "https://stackoverflow.com/questions/58313011/how-to-isolate-values-from-a-list-in-python/58313049#58313049", "title": "How to isolate values from a list in Python?", "body": "<p>You can use a conditional list comprehension to <a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\">enumerate</a> the values in <code>D</code> and get the index locations of those values that match your condition.</p>\n\n<pre><code>&gt;&gt;&gt; [idx for idx, val in enumerate(D) if val != 1]\n[3, 4, 10, 11]\n</code></pre>\n\n<p>Note that you can also use <a href=\"https://docs.python.org/3/library/functions.html#filter\" rel=\"nofollow noreferrer\"><code>filter</code></a> to create a generator of the values at those index locations.</p>\n\n<pre><code>&gt;&gt;&gt; list(filter(lambda val: val != 1, D))\n[2, 5, 3, 2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 12191647, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YRJ2TLd2dCc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfmqIq_LK-nhC_dPANE4czS2qzPsw/photo.jpg?sz=128", "display_name": "Crusher Pyth", "link": "https://stackoverflow.com/users/12191647/crusher-pyth"}, "edited": false, "score": 0, "creation_date": 1570661029, "post_id": 58313068, "comment_id": 102987287, "body": "Thanks very much ;)"}], "tags": [], "owner": {"reputation": 2622, "user_id": 2305545, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0c3a74411bc5997af03461a7b0458069?s=128&d=identicon&r=PG", "display_name": "NOhs", "link": "https://stackoverflow.com/users/2305545/nohs"}, "is_accepted": false, "score": 1, "last_activity_date": 1570661529, "last_edit_date": 1592644375, "creation_date": 1570659933, "answer_id": 58313068, "question_id": 58313011, "link": "https://stackoverflow.com/questions/58313011/how-to-isolate-values-from-a-list-in-python/58313068#58313068", "title": "How to isolate values from a list in Python?", "body": "<p>Using the <code>index</code> function indeed always returns the first occurence. From the <a href=\"https://docs.python.org/3/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>list.index(x[, start[, end]])</strong></p>\n<p>Return zero-based index in the list of the first item whose value is equal to x. Raises a ValueError if there is no such item.</p>\n<p>...</p>\n</blockquote>\n<p>We can use <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehensions</a> and combine this with <a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\">enumerate</a> to get what you want:</p>\n<pre><code>[index for index, value in enumerate(D) if value != 1]\n# [3, 4, 10, 11]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "is_accepted": true, "score": 1, "last_activity_date": 1570661313, "last_edit_date": 1570661313, "creation_date": 1570660244, "answer_id": 58313100, "question_id": 58313011, "link": "https://stackoverflow.com/questions/58313011/how-to-isolate-values-from-a-list-in-python/58313100#58313100", "title": "How to isolate values from a list in Python?", "body": "<p>You can write this program in many ways. I will try to adapt your example with minimal changes first:</p>\n\n<pre><code>D = [1, 1, 1, 2, 5, 1, 1, 1, 1, 1, 3, 2, 1, 1]\n\nE = []\n\nfor i in range(len(D)):\n    if D[i] != 1:\n        E.append(i)\n\nprint(E)\n</code></pre>\n\n<p>However, there is also a shorter/simpler one-line solution:</p>\n\n<pre><code>D = [1, 1, 1, 2, 5, 1, 1, 1, 1, 1, 3, 2, 1, 1]\nE = [i for i in range(len(D)) if D[i]!=1]\nprint(E)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 12191647, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YRJ2TLd2dCc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfmqIq_LK-nhC_dPANE4czS2qzPsw/photo.jpg?sz=128", "display_name": "Crusher Pyth", "link": "https://stackoverflow.com/users/12191647/crusher-pyth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 58313100, "answer_count": 3, "score": 1, "last_activity_date": 1570661529, "creation_date": 1570659483, "question_id": 58313011, "link": "https://stackoverflow.com/questions/58313011/how-to-isolate-values-from-a-list-in-python", "title": "How to isolate values from a list in Python?", "body": "<p>I have a few lists I'm trying to investigate.I'm stuck at some point:</p>\n\n<pre><code>D = [1, 1, 1, 2, 5, 1, 1, 1, 1, 1, 3, 2, 1, 1]\n</code></pre>\n\n<p>Let's say this is the list. I need to isolate a new list from the list D.We can say I want to filter those \"1\"'s; but I couldn't manage it.</p>\n\n<p>If I use \"index\" method like:</p>\n\n<pre><code>D = [1, 1, 1, 2, 5, 1, 1, 1, 1, 1, 3, 2, 1, 1]\n\nE = []\n\nfor i in D:\n    if not i == 1:\n        E.append(D.index(i))\n\nprint(E)\n</code></pre>\n\n<p>The output is: [3, 4, 10, 3].What I need is [3, 4, 10, 11].Since values are at D[3] and D[11] are the same, python does not allow me to get the second one.How can I solve this? </p>\n\n<p>Your help is highly appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "keyword-argument", "try-except"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570659606, "post_id": 58312938, "comment_id": 102986953, "body": "In python you can pass a list or tuple as positonal arguments to a function, and a dict as arbitrary keyword arguments like <code>method(*args, **kwargs)</code>. These can be any two variables you want of the proper types (e.g. in your case <code>method(*sArgs)</code> but it should be a list of arguments not a string."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570659715, "post_id": 58312938, "comment_id": 102986980, "body": "It&#39;s interesting because you already have <code>**kwargs</code> in your function signature. As you can see there is a symmetry. You can use the same syntax when <i>calling</i> a function as well. No need to use <code>eval</code> for this (which as you noted you&#39;re not using correctly anyways)."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570660395, "post_id": 58312938, "comment_id": 102987131, "body": "For reference here&#39;s <a href=\"https://gitlab.com/sagemath/sage/blob/develop/build/sage_bootstrap/util.py#L20\" rel=\"nofollow noreferrer\">a version of this</a> I wrote a little while back, but you can find many others on the web. In my case I opted not to take <code>*args</code> or <code>**kwargs</code> directly for the function being wrapped, as they might conflict with the keyword arguments to my <code>retry()</code> function itself. Instead you can &quot;curry&quot; a function along with its arguments into a parameterless function, e.g. by using a <code>lambda</code> statement or <a href=\"https://docs.python.org/3.7/library/functools.html#functools.partial\" rel=\"nofollow noreferrer\"><code>functools.partial</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1570660096, "post_id": 58313004, "comment_id": 102987064, "body": "Hard to say for sure but I think they might also want positional arguments with <code>*args</code>"}, {"owner": {"reputation": 647, "user_id": 3231557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b734e7cb6de2b7394ab1da5baa2d37e?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Gwynn-Jones", "link": "https://stackoverflow.com/users/3231557/rob-gwynn-jones"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1570660504, "post_id": 58313004, "comment_id": 102987159, "body": "That&#39;s what I thought too at first, but it looks like the <code>sArg</code> parameter is being used to define what kwargs to expect, rather than as an actual arg. This question smells a bit like an XY problem to me, but my solution here can be used as a stepping off point at least"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570660600, "post_id": 58313004, "comment_id": 102987192, "body": "Ah right, I see what you&#39;re saying. And yes, I agree."}, {"owner": {"reputation": 43, "user_id": 7650661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/358aad65e0aeed07f2f0fb09d24f3e9c?s=128&d=identicon&r=PG&f=1", "display_name": "m100psi", "link": "https://stackoverflow.com/users/7650661/m100psi"}, "edited": false, "score": 0, "creation_date": 1570665326, "post_id": 58313004, "comment_id": 102988093, "body": "Awesome, this works for me.  I didn&#39;t realize reusing the kwargs dict would be that straightforward.  Thanks very much!"}], "tags": [], "owner": {"reputation": 647, "user_id": 3231557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b734e7cb6de2b7394ab1da5baa2d37e?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Gwynn-Jones", "link": "https://stackoverflow.com/users/3231557/rob-gwynn-jones"}, "is_accepted": true, "score": 2, "last_activity_date": 1570659430, "creation_date": 1570659430, "answer_id": 58313004, "question_id": 58312938, "link": "https://stackoverflow.com/questions/58312938/python-method-to-try-another-arbitrary-method-until-it-runs-without-error/58313004#58313004", "title": "Python method to try another arbitrary method until it runs without error?", "body": "<p>You're pretty close. Something like this should do what you need:</p>\n\n<pre><code>def multiTry(method, **kwargs):\n    while(1):\n        try:\n            method(**kwargs)\n            return\n        except:\n            pass\n\nmultiTry(method=methodToRun, myString=\"hello\", myNum=5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 614, "user_id": 3526083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ccf9e14a0738d582cbecc2983d48be?s=128&d=identicon&r=PG&f=1", "display_name": "Nath", "link": "https://stackoverflow.com/users/3526083/nath"}, "is_accepted": false, "score": 2, "last_activity_date": 1570660729, "creation_date": 1570660729, "answer_id": 58313182, "question_id": 58312938, "link": "https://stackoverflow.com/questions/58312938/python-method-to-try-another-arbitrary-method-until-it-runs-without-error/58313182#58313182", "title": "Python method to try another arbitrary method until it runs without error?", "body": "<p>No need to reinvent the wheel here,  this a pretty common requirement,  I recommend you use the tenacity library  <a href=\"https://tenacity.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">https://tenacity.readthedocs.io/en/latest/</a>  lots of options on handling retrys with a nice interface. Its a fork of the older retrying libary: <a href=\"https://pypi.org/project/retrying/\" rel=\"nofollow noreferrer\">https://pypi.org/project/retrying/</a>  </p>\n"}], "owner": {"reputation": 43, "user_id": 7650661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/358aad65e0aeed07f2f0fb09d24f3e9c?s=128&d=identicon&r=PG&f=1", "display_name": "m100psi", "link": "https://stackoverflow.com/users/7650661/m100psi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58313004, "answer_count": 2, "score": 0, "last_activity_date": 1570660729, "creation_date": 1570658979, "question_id": 58312938, "link": "https://stackoverflow.com/questions/58312938/python-method-to-try-another-arbitrary-method-until-it-runs-without-error", "title": "Python method to try another arbitrary method until it runs without error?", "body": "<p>I am trying to create a method to run an arbitrary method passed to it until it runs without errors.</p>\n\n<pre><code>    def multiTry(method, sArg, **kwargs):\n        \"\"\"\n        Attempt a specified method until it runs without error.\n        Inputs:\n          method:  method to be tried until it runs without error\n          sArg:  string of all arguments to be passed to method\n          kwargs:  all arguments needed for method\n        \"\"\"\n\n        for key, value in kwargs.items():\n            eval(key = value)\n\n        bDone = False\n        while not bDone:\n            try:\n                method(eval(sArg))\n                bDone = True\n            except:\n                pass\n\n    multiTry(method=methodToRun, sArg=\"myString, myNum\", myString=\"hello\", myNum=5)\n</code></pre>\n\n<p>The goal is to repeatedly try:</p>\n\n<pre><code>methodToRun(\"hello\", 5)\n</code></pre>\n\n<p>...until it runs successfully, where <code>methodToRun</code> is any method and the arguments are any arguments.</p>\n\n<p>I understand both the eval statements are used incorrectly. Probably there is a completely different way to achieve the same goal? I have a number of methods to individually run until successful, and would not like to place every one of them in in-line try-except blocks.</p>\n"}, {"tags": ["python", "tensorflow", "garbage-collection"], "owner": {"reputation": 999, "user_id": 1295595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/IfDyQ.png?s=128&g=1", "display_name": "craq", "link": "https://stackoverflow.com/users/1295595/craq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 833, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1571171025, "creation_date": 1570658651, "last_edit_date": 1571171025, "question_id": 58312889, "link": "https://stackoverflow.com/questions/58312889/cpu-memory-usage-increasing-with-each-batch-loaded-using-tf-data-dataset-and-tf", "title": "CPU memory usage increasing with each batch loaded using tf.data.Dataset and tf.py_function", "body": "<p>I have data in large files with a custom format. At the moment I am creating a <code>tf.data.Dataset</code> with the name of those files, and then calling a <code>tf.py_function</code> to access them as needed for my training. The py_function has to load the complete file (nearly 8GB) into memory in order to build an array of just a few MB (1024x1024x4). The py_function only returns that array and the corresponding label. The problem is that each sample that I load increases my CPU RAM usage by nearly 8GB. Very quickly, my computer runs out of RAM and the program crashes. When I run my program outside VS Code, I get through twice as many batches as when I use the debugger, but it's still 13 batches max. (I have 32GB of CPU RAM, and 13*8 > 32, so it looks like the memory gets freed sometimes, but maybe not fast enough?)</p>\n\n<p>I keep the batch_size and prefetch both small so that only a few of these large arrays need to be in memory at the same time. I expected that tensorflow would free up that memory once the py_function exits and it is out of scope. I tried to encourage memory to be freed earlier by explicitly deleting the variable and calling the garbage collector, but that didn't help.</p>\n\n<p>I don't think I can create a minimum working example because the data format and the methods to load the data are custom, but here are the relevant parts of my code:</p>\n\n<pre><code>import pickle\nimport gc\nimport tensorflow as tf\n\ndef tf_load_raw_data_and_labels(raw_data_files, label_files):\n    [raw_data, labels] = tf.py_function(load_raw_data_and_labels, [raw_data_files, label_files], [tf.float32, tf.float32])\n\n    raw_data.set_shape((1024, 1024, 4))\n    labels.set_shape((1024))\n    return raw_data, labels\n\ndef load_raw_data_and_labels(raw_data_file, label_file):\n    #load 8GB big_datacube, extract what I need into raw_data\n    del big_datacube\n    gc.collect() #no noticeable difference\n    return raw_data, labels\n\nwith open(\"train_tiles_list.pickle\", \"rb\") as fid:\n    raw_data_files, label_files = pickle.load(fid)\n\ntrain_dataset = tf.data.Dataset.from_tensor_slices((raw_data_files, label_files))\ntrain_dataset = train_dataset.shuffle(n_train)#.repeat()\ntrain_dataset = train_dataset.map(tf_load_raw_data_and_labels)\ntrain_dataset = train_dataset.batch(batch_size)\ntrain_dataset = train_dataset.prefetch(1)\n</code></pre>\n\n<p>I usually train a ResNet50 model using the <code>model.fit()</code> function from a <code>tf.keras.Model</code>, but I also tried the setup from the <a href=\"https://www.tensorflow.org/tutorials/quickstart/advanced\" rel=\"nofollow noreferrer\">tf2 quickstart tutorial</a>, which lets me set a debug point after each batch has trained. At the debug point I <a href=\"https://stackoverflow.com/a/51046503/1295595\">checked the memory usage of active variables</a>. The list is very short, and there are no variables over 600KiB. At this point <code>gc.collect()</code> returns a number between 10 and 20, even after running it a few times, but I'm not too sure what that means.</p>\n\n<p>It might end up being easiest to crunch through all the large files and save the smaller arrays to their own files, before I start any training. But for now, I'd like to understand if there is something fundamental causing the memory to not be freed. Is it a memory leak? Perhaps related to tf.data.Datasets, py_functions, or something else specific to my setup?</p>\n\n<p><strong>Edit:</strong> I have read that python's <a href=\"https://docs.python.org/3/library/gc.html#gc.collect\" rel=\"nofollow noreferrer\">garbage collection was updated with python3.4</a>. Because of a dependency related to my custom data, I am using python2.7. Could that be part of the problem?</p>\n\n<p><strong>Edit 2:</strong> I found some github issues about memory leaks when using tensorflow. The proposed workaround (<code>tf.random.set_seed(1)</code>) doesn't work for me:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/issues/31253\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/tensorflow/issues/31253</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/issues/19671\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/tensorflow/issues/19671</a></p>\n"}, {"tags": ["python", "travis-ci", "circleci", "cookiecutter"], "comments": [{"owner": {"reputation": 6853, "user_id": 93270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e05420d4dd3492097aeb77f44f7867?s=128&d=identicon&r=PG", "display_name": "pydanny", "link": "https://stackoverflow.com/users/93270/pydanny"}, "edited": false, "score": 0, "creation_date": 1575417200, "post_id": 58312858, "comment_id": 104557664, "body": "Have you considered creating your own fork?"}, {"owner": {"reputation": 107, "user_id": 8463061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qJ_hPZ7hrB0/AAAAAAAAAAI/AAAAAAAAAEI/dIoq2q2lJKs/photo.jpg?sz=128", "display_name": "Mani Sarkar", "link": "https://stackoverflow.com/users/8463061/mani-sarkar"}, "reply_to_user": {"reputation": 6853, "user_id": 93270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e05420d4dd3492097aeb77f44f7867?s=128&d=identicon&r=PG", "display_name": "pydanny", "link": "https://stackoverflow.com/users/93270/pydanny"}, "edited": false, "score": 0, "creation_date": 1575634558, "post_id": 58312858, "comment_id": 104642220, "body": "I didn&#39;t want to reinvent the wheel and it seemed like there would be one for CircleCI given it&#39;s quite popular"}, {"owner": {"reputation": 6538, "user_id": 5549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0562a6c908abd0da302aa1b27d175ddb?s=128&d=identicon&r=PG", "display_name": "michaeljoseph", "link": "https://stackoverflow.com/users/5549/michaeljoseph"}, "edited": false, "score": 1, "creation_date": 1577721485, "post_id": 58312858, "comment_id": 105236677, "body": "@ManiSarkar if i search for &quot;cookiecutter circleci&quot;, this question ranks lower than <a href=\"https://github.com/nolte/cookiecutter-circleci\" rel=\"nofollow noreferrer\">github.com/nolte/cookiecutter-circleci</a> \ud83d\ude09"}, {"owner": {"reputation": 107, "user_id": 8463061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qJ_hPZ7hrB0/AAAAAAAAAAI/AAAAAAAAAEI/dIoq2q2lJKs/photo.jpg?sz=128", "display_name": "Mani Sarkar", "link": "https://stackoverflow.com/users/8463061/mani-sarkar"}, "reply_to_user": {"reputation": 6538, "user_id": 5549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0562a6c908abd0da302aa1b27d175ddb?s=128&d=identicon&r=PG", "display_name": "michaeljoseph", "link": "https://stackoverflow.com/users/5549/michaeljoseph"}, "edited": false, "score": 0, "creation_date": 1577891828, "post_id": 58312858, "comment_id": 105275756, "body": "Thanks @michaeljoseph I&#39;m certained I searched github for cookiecutter circleci but this repo didn&#39;t show up, I guess its my bad not searching hard enough!  Thank you for resolving this query!"}], "answers": [{"tags": [], "owner": {"reputation": 6538, "user_id": 5549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0562a6c908abd0da302aa1b27d175ddb?s=128&d=identicon&r=PG", "display_name": "michaeljoseph", "link": "https://stackoverflow.com/users/5549/michaeljoseph"}, "is_accepted": false, "score": 1, "last_activity_date": 1585124291, "creation_date": 1585124291, "answer_id": 60845044, "question_id": 58312858, "link": "https://stackoverflow.com/questions/58312858/is-there-a-cookiecutter-fork-that-generates-a-project-template-for-circleci-ins/60845044#60845044", "title": "Is there a cookiecutter fork that generates a project template for CircleCI (instead of TravisCI)?", "body": "<p><a href=\"https://github.com/nolte/cookiecutter-circleci\" rel=\"nofollow noreferrer\">https://github.com/nolte/cookiecutter-circleci</a></p>\n\n<blockquote>\n  <p>Cookiecutter Template for a CircleCI, Continuous integration/Continuous delivery Pipeline, for different types of projects.</p>\n</blockquote>\n"}], "owner": {"reputation": 107, "user_id": 8463061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qJ_hPZ7hrB0/AAAAAAAAAAI/AAAAAAAAAEI/dIoq2q2lJKs/photo.jpg?sz=128", "display_name": "Mani Sarkar", "link": "https://stackoverflow.com/users/8463061/mani-sarkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1585124291, "creation_date": 1570658478, "question_id": 58312858, "link": "https://stackoverflow.com/questions/58312858/is-there-a-cookiecutter-fork-that-generates-a-project-template-for-circleci-ins", "title": "Is there a cookiecutter fork that generates a project template for CircleCI (instead of TravisCI)?", "body": "<p>I have been looking for a fork of the CookieCutter project (see <a href=\"https://cookiecutter.readthedocs.io/en/latest/readme.html\" rel=\"nofollow noreferrer\">https://cookiecutter.readthedocs.io/en/latest/readme.html</a>), which helps generate a python project template that automates building python apps and also generates a config file for CircleCI.</p>\n\n<p>So far the templates generated have a <code>.travis.yml</code> file, I'd like a <code>.circleci/config.yml</code> instead.</p>\n\n<p>I have been reading the docs on <a href=\"https://cookiecutter.readthedocs.io/en/latest/readme.html\" rel=\"nofollow noreferrer\">https://cookiecutter.readthedocs.io/en/latest/readme.html</a> and searching on the internet for alternative forks.</p>\n\n<p>Currently, the project templates generate a <code>.travis.yml</code> file and we like to have a <code>.circleci/config.yml</code> file, when using the python <code>cookiecutter</code> CLI tool.</p>\n"}, {"tags": ["python", "django", "celery", "worker"], "answers": [{"tags": [], "owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "is_accepted": true, "score": 3, "last_activity_date": 1570661613, "creation_date": 1570661613, "answer_id": 58313287, "question_id": 58312820, "link": "https://stackoverflow.com/questions/58312820/how-can-run-multiple-celery-tasks-in-parallel/58313287#58313287", "title": "How can run multiple celery tasks in parallel?", "body": "<p>You need to use <a href=\"https://docs.celeryproject.org/en/latest/userguide/canvas.html#the-primitives\" rel=\"nofollow noreferrer\"><code>group</code></a>:</p>\n\n<blockquote>\n  <p>The group primitive is a signature that takes a list of tasks that should be applied in parallel.</p>\n</blockquote>\n\n<p>Example from django shell:</p>\n\n<pre><code>&gt;&gt;&gt; from celery import group\n&gt;&gt;&gt; from myapp.tasks import run1, run2\n&gt;&gt;&gt;\n&gt;&gt;&gt; run_group = group(run1.s(), run2.s())\n&gt;&gt;&gt; run_group()\n&lt;GroupResult: 06b3e88b-6c10-4ba5-bb32-5005c82eedfe [cc734fbd-3531-45d1-8575-64f4eff35523, \n1075e822-a6e2-4c34-8038-369613ff687d]&gt;\n</code></pre>\n\n<p>For more complex usage, see the docs on <a href=\"https://docs.celeryproject.org/en/latest/userguide/canvas.html#groups\" rel=\"nofollow noreferrer\">group</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10898133"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2471, "favorite_count": 2, "accepted_answer_id": 58313287, "answer_count": 1, "score": 2, "last_activity_date": 1570661644, "creation_date": 1570658161, "last_edit_date": 1570661644, "question_id": 58312820, "link": "https://stackoverflow.com/questions/58312820/how-can-run-multiple-celery-tasks-in-parallel", "title": "How can run multiple celery tasks in parallel?", "body": "<p>I have a two tasks.</p>\n\n<pre><code>@app.task\ndef run1():\n    while True:\n        print('run1')\n        time.sleep(5)\n    return\n\n\n@app.task\ndef run2():\n    while True:\n        print('run2')\n        time.sleep(2)\n    return\n</code></pre>\n\n<p>How can I run these two tasks at the same time from the same console, from one command (preferably with a different number of <code>workers</code>).</p>\n"}, {"tags": ["python", "pandas", "dataframe", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1570659824, "creation_date": 1570659824, "answer_id": 58313056, "question_id": 58312818, "link": "https://stackoverflow.com/questions/58312818/how-to-filtering-datetime-column-for-hours-interval-just-hours-in-pandas/58313056#58313056", "title": "How to filtering datetime column for hours interval (just hours) in pandas", "body": "<p>I assume you don't want to change column <code>datetimecolumn</code> format, so convert it to datetime and assign to <code>s</code>. Subtract <code>s</code> from its <code>floor('D')</code> to get only time portion and compare them with <code>between</code> to create a boolean mask <code>m</code>. Finally, slicing <code>df</code> using <code>m</code></p>\n\n<pre><code>s = pd.to_datetime(df.datetimecolumn)\nm = (s - s.dt.floor('D')).between(pd.Timedelta('12:00:00'), pd.Timedelta('18:00:00'))\n\ndf.loc[m]\n\nOut[190]:\n     datetimecolumn  valuecolumn\n3  2017-01-04 12:55            9\n4  2017-01-04 16:55           88\n5  2017-01-05 17:53            1\n7  2017-01-06 15:22          111\n</code></pre>\n"}], "owner": {"reputation": 603, "user_id": 2132478, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/ypIdH.gif?s=128&g=1", "display_name": "Alfonso_MA", "link": "https://stackoverflow.com/users/2132478/alfonso-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1570659824, "creation_date": 1570658151, "question_id": 58312818, "link": "https://stackoverflow.com/questions/58312818/how-to-filtering-datetime-column-for-hours-interval-just-hours-in-pandas", "title": "How to filtering datetime column for hours interval (just hours) in pandas", "body": "<p>I have a dataframe like the following:</p>\n\n<pre><code>datetimecolumn      valuecolumn\n2017-01-03 01:00    17\n2017-01-04 02:55    4\n2017-01-04 05:55    4\n2017-01-04 12:55    9\n2017-01-04 16:55    88\n2017-01-05 17:53    1\n2017-01-06 10:22    74\n2017-01-06 15:22    111\n</code></pre>\n\n<p>Now I need only the rows in which the hour is between 12:00 and 18:00.\nThat would be:</p>\n\n<pre><code>datetimecolumn      valuecolumn\n2017-01-04 12:55    9\n2017-01-04 16:55    88\n2017-01-05 17:53    1\n2017-01-06 15:22    111\n</code></pre>\n\n<p>How can I apply that filter?</p>\n"}, {"tags": ["python", "c++", "gurobi"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 11979059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dY7M.jpg?s=128&g=1", "display_name": "Eli Towle", "link": "https://stackoverflow.com/users/11979059/eli-towle"}, "is_accepted": false, "score": 1, "last_activity_date": 1570738993, "creation_date": 1570738993, "answer_id": 58330567, "question_id": 58312805, "link": "https://stackoverflow.com/questions/58312805/gurobi-using-addconstrs-but-the-expression-is-not-right/58330567#58330567", "title": "Gurobi: Using addConstrs() but the expression is not right", "body": "<p>In Python, using <code>range(n)</code> returns a list of <code>n</code> numbers from <code>0</code> to <code>n-1</code>. Thus, your <code>addConstrs()</code> functions iterate over the keys <code>(0,0)</code>, <code>(0,1)</code>, <code>(1,0)</code>, <code>(1,1)</code>, <code>(2,0)</code>, and <code>(2,1)</code>.</p>\n\n<p>However, the <code>u</code> variables are indexed by <code>(1,1)</code>, <code>(1,2)</code>, <code>(2,1)</code>, <code>(2,2)</code>, <code>(3,1)</code>, and <code>(3,2)</code>:</p>\n\n<pre><code>gurobi&gt; u = m.addVars([1, 2, 3], [1, 2], vtype=GRB.BINARY)\ngurobi&gt; u.keys()\n&lt;gurobi.tuplelist (6 tuples, 2 values each):\n ( 1 , 1 )\n ( 1 , 2 )\n ( 2 , 1 )\n ( 2 , 2 )\n ( 3 , 1 )\n ( 3 , 2 )\n&gt;\n</code></pre>\n\n<p>You receive a <code>KeyError</code> because the indices of the constraints do not match the indices of the variables. To fix this, you can change the construction of the <code>u</code> variables to match that of the <code>p</code> variables:</p>\n\n<pre><code>gurobi&gt; u = m.addVars(3, 2, vtype=GRB.BINARY)\ngurobi&gt; u.keys()\n&lt;gurobi.tuplelist (6 tuples, 2 values each):\n ( 0 , 0 )\n ( 0 , 1 )\n ( 1 , 0 )\n ( 1 , 1 )\n ( 2 , 0 )\n ( 2 , 1 )\n&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12191624, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VI-nEotUQtQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTGfJbLvGbAWIcF5VI-os1WD9-Tw/photo.jpg?sz=128", "display_name": "cheesecake fun", "link": "https://stackoverflow.com/users/12191624/cheesecake-fun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570738993, "creation_date": 1570658050, "last_edit_date": 1570666234, "question_id": 58312805, "link": "https://stackoverflow.com/questions/58312805/gurobi-using-addconstrs-but-the-expression-is-not-right", "title": "Gurobi: Using addConstrs() but the expression is not right", "body": "<p>I am new to Gurobi and Python. I am trying to solve a simple mixed binary problem, but there are some errors. </p>\n\n<p>I defined the problem as follows,</p>\n\n<p>I want variable u[1,1], u[2,1], u[3,1] and u[1,2], u[2,2], u[3,2], similarity to variable p. I want to add above constraints, but there are some errors saying my expressions is not right.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>u=m.addVars([1, 2, 3], [1, 2], vtype=GRB.BINARY)\np=m.addVars(3,2,lb=0.0)\n\nm.addConstrs(p[i,j]&lt;= 30*u[i,j]\n            for i in range(3)\n            for j in range(2))\nm.addConstrs(p[(i,j)]&gt;=5*u[(i,j)]\n            for i in range(3)\n            for j in range(2))\n</code></pre>\n\n<p>The error is like this</p>\n\n<pre><code>line 14, in &lt;module&gt;\n    for i in range(3)\n  File \"model.pxi\", line 3062, in gurobipy.Model.addConstrs\n  File \"/Users/Documents/pyexercise/HW4Q1.py\", line 15, in &lt;genexpr&gt;\n    for j in range(2))\nKeyError: (0, 0)\n</code></pre>\n\n<p>Can anyone help me with this? Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 1, "creation_date": 1570658125, "post_id": 58312793, "comment_id": 102986593, "body": "What is line 33? I can&#39;t count that high."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570658152, "post_id": 58312793, "comment_id": 102986602, "body": "Look at the traceback you&#39;re getting (the text that leads up to the <code>SyntaxError</code>. Python even usually displays a little <code>^</code> indicating where it can no longer process the code."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 2, "creation_date": 1570658183, "post_id": 58312793, "comment_id": 102986612, "body": "<code>num = int</code> won&#39;t cause that error, but that&#39;s surely wrong. Did you mean <code>num = inp</code>?"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1570658186, "post_id": 58312793, "comment_id": 102986614, "body": "(Hint: indentation)"}], "answers": [{"comments": [{"owner": {"reputation": 13395, "user_id": 6089852, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/h15pk.png?s=128&g=1", "display_name": "Charif DZ", "link": "https://stackoverflow.com/users/6089852/charif-dz"}, "edited": false, "score": 1, "creation_date": 1570658331, "post_id": 58312821, "comment_id": 102986651, "body": "You could show him where it&#39;s obvious he is a beginner"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 25, "user_id": 12179719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKLG7EKFPbSGh15oTzXuEuaY4ATGNV3Q0JYB0q=k-s128", "display_name": "Ronan Stanford", "link": "https://stackoverflow.com/users/12179719/ronan-stanford"}, "edited": false, "score": 0, "creation_date": 1570659992, "post_id": 58312821, "comment_id": 102987039, "body": "@RonanStanford I&#39;m not sure why you are getting down votes. Your question is mostly clear. I can tell you are a beginner, but I&#39;m also more than willing to help where I can. Be sure to answer any comments in order to clarify what you are asking about."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1570661298, "post_id": 58312821, "comment_id": 102987357, "body": "@Dharman Congratulations! You have been selected for A/B testing"}], "tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": -2, "last_activity_date": 1570658163, "creation_date": 1570658163, "answer_id": 58312821, "question_id": 58312793, "link": "https://stackoverflow.com/questions/58312793/i-tried-to-write-a-program-that-loops-the-question-until-the-user-types-stop-but/58312821#58312821", "title": "I tried to write a program that loops the question until the user types stop but I keep on getting the invalid syntax error", "body": "<p>Python is very particular about indentation. You need to line up each <code>else</code> with its matching <code>if</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 12179719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKLG7EKFPbSGh15oTzXuEuaY4ATGNV3Q0JYB0q=k-s128", "display_name": "Ronan Stanford", "link": "https://stackoverflow.com/users/12179719/ronan-stanford"}, "edited": false, "score": 0, "creation_date": 1570663158, "post_id": 58312896, "comment_id": 102987698, "body": "How do I get it to loop the entire thing and not just the <code>inp = input(&quot;Enter a Number: &quot;)</code>"}, {"owner": {"reputation": 554, "user_id": 9341242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82331f223cdb18214f16741fd051c106?s=128&d=identicon&r=PG&f=1", "display_name": "3NiGMa", "link": "https://stackoverflow.com/users/9341242/3nigma"}, "reply_to_user": {"reputation": 25, "user_id": 12179719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKLG7EKFPbSGh15oTzXuEuaY4ATGNV3Q0JYB0q=k-s128", "display_name": "Ronan Stanford", "link": "https://stackoverflow.com/users/12179719/ronan-stanford"}, "edited": false, "score": 0, "creation_date": 1570683250, "post_id": 58312896, "comment_id": 102991642, "body": "@RonanStanford modified the code, just needed to indent all the code with the loop"}, {"owner": {"reputation": 25, "user_id": 12179719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKLG7EKFPbSGh15oTzXuEuaY4ATGNV3Q0JYB0q=k-s128", "display_name": "Ronan Stanford", "link": "https://stackoverflow.com/users/12179719/ronan-stanford"}, "edited": false, "score": 0, "creation_date": 1575491629, "post_id": 58312896, "comment_id": 104588972, "body": "Thanks mate! I have not looked at this in a long time, but thanks anyways."}], "tags": [], "owner": {"reputation": 554, "user_id": 9341242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82331f223cdb18214f16741fd051c106?s=128&d=identicon&r=PG&f=1", "display_name": "3NiGMa", "link": "https://stackoverflow.com/users/9341242/3nigma"}, "is_accepted": true, "score": 0, "last_activity_date": 1570683199, "last_edit_date": 1570683199, "creation_date": 1570658712, "answer_id": 58312896, "question_id": 58312793, "link": "https://stackoverflow.com/questions/58312793/i-tried-to-write-a-program-that-loops-the-question-until-the-user-types-stop-but/58312896#58312896", "title": "I tried to write a program that loops the question until the user types stop but I keep on getting the invalid syntax error", "body": "<p>This solves your syntax error and fixes the code;</p>\n\n<pre><code>while True:\n  inp = input(\"Enter a Number: \")\n  if inp == \"Stop\":\n    break\n\n  num = int(inp)\n\n  if num &gt; 1:\n        for zzz in range(1,num):\n          if (num % zzz) == 0:\n            print(num,\"is not a prime number\")\n            print(zzz,\"times\",num//zzz,\"is\",num,'\\n')\n            break\n\n          else:\n              print(num,\"is a prime number\")\n  else:\n      print(num,\"is not a prime number\")\n\n\nprint(\"\")\nprint(\"By Ronan Stanford\")\n\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 12179719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKLG7EKFPbSGh15oTzXuEuaY4ATGNV3Q0JYB0q=k-s128", "display_name": "Ronan Stanford", "link": "https://stackoverflow.com/users/12179719/ronan-stanford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58312896, "answer_count": 2, "score": -4, "last_activity_date": 1570683199, "creation_date": 1570657987, "last_edit_date": 1570659782, "question_id": 58312793, "link": "https://stackoverflow.com/questions/58312793/i-tried-to-write-a-program-that-loops-the-question-until-the-user-types-stop-but", "title": "I tried to write a program that loops the question until the user types stop but I keep on getting the invalid syntax error", "body": "<p>I am trying to make it loop the question until the user types stop, but I get invalid syntax error on line 18.</p>\n\n<p>Code:</p>\n\n<pre><code>while True:\n  inp = input(\"Enter a Number: \")\n  if inp == \"Stop\":\n    break\n\nnum = int\n\nif num &gt; 1:\n      for zzz in range(2,num):\n        if (num % zzz) == 0:\n          print(num,\"is not a prime number\")\n          print(zzz,\"times\",num//zzz,\"is\",num)\n          break\n\nelse:\n  print(num,\"is a prime number\")\nelse:\n  print(num,\"is not a prime number\")\n\n\nprint(\"\")\nprint(\"By Ronan Stanford\")\n</code></pre>\n\n<p>Invalid syntax error line 18</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 3868, "user_id": 5677602, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Obp2Z.png?s=128&g=1", "display_name": "jbndlr", "link": "https://stackoverflow.com/users/5677602/jbndlr"}, "edited": false, "score": 0, "creation_date": 1570657956, "post_id": 58312773, "comment_id": 102986544, "body": "What about dropping rows with <code>nan</code> first to have sane data and then export it to Excel format?"}, {"owner": {"reputation": 81, "user_id": 9351007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9025eb47d6cc26ec62dae81cb0fd2044?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/9351007/paul"}, "reply_to_user": {"reputation": 3868, "user_id": 5677602, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Obp2Z.png?s=128&g=1", "display_name": "jbndlr", "link": "https://stackoverflow.com/users/5677602/jbndlr"}, "edited": false, "score": 0, "creation_date": 1570807096, "post_id": 58312773, "comment_id": 103043502, "body": "Respondents may have answered one, two, or all three questions. So with those three columns together in the df (Q1, Q2, Q3) I don&#39;t want to drop rows with one or two nans because I want to keep the responses for the questions they did answer."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 9351007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9025eb47d6cc26ec62dae81cb0fd2044?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/9351007/paul"}, "edited": false, "score": 0, "creation_date": 1570807219, "post_id": 58312798, "comment_id": 103043569, "body": "I figured dropna would be involved, but I wasn&#39;t sure where to incorporate it. This worked: <code>python # Loop to write to Excel files:  for school, df_ in output:     writer = pd.ExcelWriter(f&#39;school_{school}_tabs.xlsx&#39;, engine=&#39;xlsxwriter&#39;)     df1 = df_[[&#39;School&#39;,&#39;Sex&#39;,&#39;Q1&#39;]].dropna(subset=[&#39;Q1&#39;])     df1.to_excel(writer, sheet_name=&#39;Q1&#39;)     writer.save() </code> It feels like there&#39;s a more efficient way to do this, but I&#39;ll take what I can get at this point. Thanks!"}], "tags": [], "owner": {"reputation": 5416, "user_id": 360826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7CZNr.png?s=128&g=1", "display_name": "jason m", "link": "https://stackoverflow.com/users/360826/jason-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1570658020, "creation_date": 1570658020, "answer_id": 58312798, "question_id": 58312773, "link": "https://stackoverflow.com/questions/58312773/how-to-drop-empty-rows-when-using-to-excel-function-in-python/58312798#58312798", "title": "How to drop empty rows when using to_excel function in Python", "body": "<p>In your code, you need to use <code>.dropna()</code>.</p>\n\n<p>Eg: <code>df_.dropna()</code></p>\n\n<p>You will need to determine <code>how</code> in the <code>dropna</code> args.</p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dropna.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dropna.html</a></p>\n\n<p>Experiment with that argument and you should get what you want.</p>\n"}], "owner": {"reputation": 81, "user_id": 9351007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9025eb47d6cc26ec62dae81cb0fd2044?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/9351007/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 58312798, "answer_count": 1, "score": 0, "last_activity_date": 1570658020, "creation_date": 1570657818, "question_id": 58312773, "link": "https://stackoverflow.com/questions/58312773/how-to-drop-empty-rows-when-using-to-excel-function-in-python", "title": "How to drop empty rows when using to_excel function in Python", "body": "<p>I have a dataframe with some demographic data and some survey text responses. I want to export each column of response data along with some demographic fields to a different Excel files based on one of the demographic fields. I have code that can do all that. The missing piece is dropping rows with nan when writing to Excel.</p>\n\n<p>I tried creating separate dataframes for each question and dropping the nans there, which worked. Then I wasn't sure how to bring them back together to write to Excel. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Sample dataframe\ndf = pd.DataFrame({'ID' : ['1','2','3','4'],\n                   'School': ['School1', 'School1', 'School2', 'School2'], \n                   'Sex': ['M', 'M', 'F', 'F'],\n                   'Q1' : ['Black', np.nan, 'White', 'White'],\n                   'Q2' : ['Good', 'Good', 'Bad', 'Bad'],\n                   'Q3' : ['Up', 'Up', np.nan, 'Down']})\n\n# Create output\noutput = df[['ID','School','Sex','Q1','Q2','Q3']].groupby('School')\n\n# Loop to write to Excel files\nfor school, df_ in output:\n    writer = pd.ExcelWriter(f'school_{school}_tabs.xlsx', engine='xlsxwriter')\n    df_[['School','Sex','Q1']].to_excel(writer, sheet_name='Q1')\n    df_[['School','Sex','Q2']].to_excel(writer, sheet_name='Q2')\n    df_[['School','Sex','Q3']].to_excel(writer, sheet_name='Q3')\n    writer.save()\n</code></pre>\n\n<p>The sample code should create two Excel files, one for School1 and one for School2. Each file will have three tabs, one for each question (Q1, Q2, Q3). As you can see Q1 and Q3 have nan values, which get written as blanks to Excel. I don't want those rows to be written to Excel. Obviously those people answered other questions, which I do want written to Excel.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 957, "user_id": 10740966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07256f72861352f5f9d0b5d82936f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "manwithfewneeds", "link": "https://stackoverflow.com/users/10740966/manwithfewneeds"}, "edited": false, "score": 1, "creation_date": 1570658243, "post_id": 58312770, "comment_id": 102986625, "body": "If using pandas &gt;0.25 use the explode method <a href=\"https://pandas.pydata.org/pandas-docs/version/0.25/reference/api/pandas.DataFrame.explode.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/version/0.25/reference/api/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 10226602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jbnB37tmksg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rmKIINTOMXT09FCg1c6hmNk-SB1Q/mo/photo.jpg?sz=128", "display_name": "Jairo Alves", "link": "https://stackoverflow.com/users/10226602/jairo-alves"}, "edited": false, "score": 1, "creation_date": 1570658612, "post_id": 58312819, "comment_id": 102986710, "body": "This is perfect. Unfortunately, I&#39;m on pandas <code>0.24.2</code> right now, so this doesn&#39;t work, but I&#39;m accepting the answer, anyways, thanks."}, {"owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "reply_to_user": {"reputation": 384, "user_id": 10226602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jbnB37tmksg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rmKIINTOMXT09FCg1c6hmNk-SB1Q/mo/photo.jpg?sz=128", "display_name": "Jairo Alves", "link": "https://stackoverflow.com/users/10226602/jairo-alves"}, "edited": false, "score": 1, "creation_date": 1570658983, "post_id": 58312819, "comment_id": 102986799, "body": "@JairoAlves: I added solution for pandas &lt; 0.25. Check the edited"}], "tags": [], "owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "is_accepted": true, "score": 3, "last_activity_date": 1570658958, "last_edit_date": 1570658958, "creation_date": 1570658154, "answer_id": 58312819, "question_id": 58312770, "link": "https://stackoverflow.com/questions/58312770/break-a-row-into-muliple-rows-based-on-the-string-content-of-a-column/58312819#58312819", "title": "Break a row into muliple rows based on the (string) content of a column", "body": "<p>Try using <code>str.split</code> and <code>explode</code></p>\n\n<pre><code>df = df.set_index('a').b.str.split('\\\\n').explode().reset_index()\n\nOut[153]:\n   a       b\n0  x  line 1\n1  x  line 2\n2  x  line 3\n3  y  line 1\n</code></pre>\n\n<hr>\n\n<p><strong>For pandas &lt; 0.25</strong></p>\n\n<pre><code>df = (df.set_index('a').b.str.split('\\\\n', expand=True).stack()\n                         .droplevel(1).reset_index(name='b'))\n\nOut[174]:\n   a       b\n0  x  line 1\n1  x  line 2\n2  x  line 3\n3  y  line 1\n</code></pre>\n"}], "owner": {"reputation": 384, "user_id": 10226602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jbnB37tmksg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rmKIINTOMXT09FCg1c6hmNk-SB1Q/mo/photo.jpg?sz=128", "display_name": "Jairo Alves", "link": "https://stackoverflow.com/users/10226602/jairo-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 58312819, "answer_count": 1, "score": 1, "last_activity_date": 1570658958, "creation_date": 1570657802, "question_id": 58312770, "link": "https://stackoverflow.com/questions/58312770/break-a-row-into-muliple-rows-based-on-the-string-content-of-a-column", "title": "Break a row into muliple rows based on the (string) content of a column", "body": "<p>One column of my dataframe has a variable number of <code>\\n</code>s inside its content and I need each line to be on a single row on the final dataframe. </p>\n\n<p>This is a minimal example:</p>\n\n<pre><code>df = pd.DataFrame({'a': ['x', 'y'], 'b':['line 1\\nline 2\\nline 3', 'line 1' ]})\n</code></pre>\n\n<p>That produces this starting dataframe:</p>\n\n<pre><code>    a   b\n0   x   line 1\\nline 2\\nline 3\n1   y   line 1 \n</code></pre>\n\n<p>I want it to become like this one:</p>\n\n<pre><code>    a   b\n0   x   line 1\n1   x   line 2\n2   x   line 3\n3   y   line 1\n</code></pre>\n\n<p>I've seen there is a built in function that converts each <code>pattern</code> to a new column with the <code>str.extract</code> command below, for example, this is what I tried:</p>\n\n<pre><code>df['b'].str.extract(pat='(.*)\\n(.*)', expand=True)\n</code></pre>\n\n<p>That produces a somewhat interesting output:</p>\n\n<pre><code>    0       1\n0   line 1  line 2\n1   NaN     NaN\n</code></pre>\n\n<p>But this is not a viable solution, because the data is split over columns and not rows, not all patterns matched and it's not clear how to put it back on the original dataframe in place and order. The order of the entries is relevant to be preserved, although the <code>dataframe index</code> is not.</p>\n\n<p>In order to capture all the patterns, it would be possible to do this:</p>\n\n<pre><code>df['b'].transform(lambda x: x.split('\\n'))\n</code></pre>\n\n<p>That yields this output:</p>\n\n<pre><code>0    [line 1, line 2, line 3]\n1                    [line 1]\n</code></pre>\n\n<p>But again, I don't see a way to make progress from this to the desired state.</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 3288051, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/c36c1c5bb8e017ff65b5ef59ff325aab?s=128&d=identicon&r=PG&f=1", "display_name": "user3288051", "link": "https://stackoverflow.com/users/3288051/user3288051"}, "edited": false, "score": 0, "creation_date": 1570682247, "post_id": 58314413, "comment_id": 102991427, "body": "Thank your for the code but this doesn&#39;t work because the table does not exists in html. As shown in the image above, I can manually inspect by scrolling down to find the membersTable, but I don&#39;t know how I can accomplish this by using Python."}], "tags": [], "owner": {"reputation": 3053, "user_id": 5828160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f1bce66871c9b17ac7d152e59e8f3a7?s=128&d=identicon&r=PG", "display_name": "Rajith Thennakoon", "link": "https://stackoverflow.com/users/5828160/rajith-thennakoon"}, "is_accepted": false, "score": 0, "last_activity_date": 1570672676, "creation_date": 1570672676, "answer_id": 58314413, "question_id": 58312767, "link": "https://stackoverflow.com/questions/58312767/how-to-access-specific-table-shown-in-inspect-using-python-and-beautifulsoup-for/58314413#58314413", "title": "How to access specific table shown in inspect using Python and BeautifulSoup for web scraping", "body": "<p>Try this one</p>\n\n<pre><code>   import requests\n   from bs4 import BeautifulSoup\n\n\n    url = \"https://thehia.org/directory?&amp;tab=1\"\n    response = requests.get(url)\n    html = response.content\n\n    soup = BeautifulSoup(html)\n    table = soup.find('table', attrs={'class': 'membersTable'})\n\n    row_list = []\n    for row in table.findAll('tr',{'class':['normal']}):\n        data= []\n        for cell in row.findAll('td'):\n            data.append(cell.text)\n        row_list.append(data)\n\n    print(row_list)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": false, "score": 1, "last_activity_date": 1570727762, "last_edit_date": 1570727762, "creation_date": 1570686874, "answer_id": 58316258, "question_id": 58312767, "link": "https://stackoverflow.com/questions/58312767/how-to-access-specific-table-shown-in-inspect-using-python-and-beautifulsoup-for/58316258#58316258", "title": "How to access specific table shown in inspect using Python and BeautifulSoup for web scraping", "body": "<p>You can mimic the POST request the page makes for content then use hjson to handle unquoted keys in string pulled out of response</p>\n\n<pre><code>import requests, hjson\nimport pandas as pd\n\ndata = {'formId': '3721260'}\nr = requests.post('https://thehia.org/Sys/MemberDirectory/LoadMembers', data=data)\ndata = hjson.loads(r.text.replace('while(1); ',''))\ntotal = data['TotalCount']\nstructure = data['JsonStructure']\nmembers = hjson.loads(structure)\ndf = pd.DataFrame([[member[k][0]['v'] for k in member.keys()] for member in members['members'][0]]\n            ,columns = ['Organisation', 'City', 'State','Country'])\nprint(df)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mcxLb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mcxLb.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 441, "user_id": 3288051, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/c36c1c5bb8e017ff65b5ef59ff325aab?s=128&d=identicon&r=PG&f=1", "display_name": "user3288051", "link": "https://stackoverflow.com/users/3288051/user3288051"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570727762, "creation_date": 1570657786, "question_id": 58312767, "link": "https://stackoverflow.com/questions/58312767/how-to-access-specific-table-shown-in-inspect-using-python-and-beautifulsoup-for", "title": "How to access specific table shown in inspect using Python and BeautifulSoup for web scraping", "body": "<p>I am working on web scraping using Python and BeautifulSoup. My purpose is to pull members data from <a href=\"https://thehia.org/directory?&amp;tab=1\" rel=\"nofollow noreferrer\">https://thehia.org/directory?&amp;tab=1</a>. There are around 1685 records.</p>\n\n<p>When I view the page source on my Chrome, I cannot find the table. Seems it dynamically pulls the data. But when I use the inspect option of Chrome, I can find the \"membersTable\" table in the div that I need. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Ec8R9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ec8R9.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>How can I use BeautifulSoup to access that membersTable that I can access in the inspect.</p>\n"}, {"tags": ["python", "bash", "pip", "setup.py"], "comments": [{"owner": {"reputation": 1, "user_id": 10248678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpnLA.jpg?s=128&g=1", "display_name": "oguz ismail", "link": "https://stackoverflow.com/users/10248678/oguz-ismail"}, "edited": false, "score": 0, "creation_date": 1570657489, "post_id": 58312692, "comment_id": 102986417, "body": "That&#39;s not how SO works. You need to show the work you&#39;ve done, and tell where exactly you need assistance"}, {"owner": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "edited": false, "score": 0, "creation_date": 1570658298, "post_id": 58312692, "comment_id": 102986642, "body": "thanks. I edited my question"}], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "edited": false, "score": 0, "creation_date": 1570885244, "post_id": 58322375, "comment_id": 103062262, "body": "so you suggest tu use <code>virtualenv</code>? Otherwise how <code>myprojectconfigure</code> will know what interpreter to use?"}, {"owner": {"reputation": 9376, "user_id": 11138259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2faec9f4f30093c8b0f5d47a69e551f?s=128&d=identicon&r=PG&f=1", "display_name": "sinoroc", "link": "https://stackoverflow.com/users/11138259/sinoroc"}, "reply_to_user": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "edited": false, "score": 0, "creation_date": 1570887767, "post_id": 58322375, "comment_id": 103062896, "body": "<i>Setuptools</i> hardcodes the Python interpreter used to install the project into the entry points, whether it is from a virtual environment or not. So that shouldn&#39;t be an issue."}], "tags": [], "owner": {"reputation": 9376, "user_id": 11138259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2faec9f4f30093c8b0f5d47a69e551f?s=128&d=identicon&r=PG&f=1", "display_name": "sinoroc", "link": "https://stackoverflow.com/users/11138259/sinoroc"}, "is_accepted": false, "score": 1, "last_activity_date": 1570708598, "creation_date": 1570708598, "answer_id": 58322375, "question_id": 58312692, "link": "https://stackoverflow.com/questions/58312692/create-a-python-script-that-install-python-modules-and-run-some-commands/58322375#58322375", "title": "Create a python script that install python modules and run some commands", "body": "<p>The issue is not with <code>pip install</code> directly but with <em>wheels</em>. Projects packaged as wheel can not have custom install steps. See for example this <a href=\"https://github.com/pypa/packaging-problems/issues/64\" rel=\"nofollow noreferrer\">discussion</a>. Since <em>pip</em> prefers working with wheels, building them locally if necessary, your custom steps are not run at install time. There are probably ways to prevent the wheel step though.</p>\n\n<p>Knowing this, you probably should follow the advice from <em>Jan Vlcinsky</em> in his comment for his answer to this question: <a href=\"https://stackoverflow.com/questions/24263774/post-install-script-after-installing-a-wheel/24749871#comment41929643_24749871\">Post install script after installing a wheel</a>.</p>\n\n<ul>\n<li><p>Add a <a href=\"https://setuptools.readthedocs.io/en/latest/setuptools.html#automatic-script-creation\" rel=\"nofollow noreferrer\"><em>setuptools</em> <em>console entry point</em></a> to your project (let's call it <code>myprojectconfigure</code>). Maybe you prefer using the <a href=\"https://docs.python.org/3/distutils/setupscript.html#installing-scripts\" rel=\"nofollow noreferrer\"><em>distutils</em> <code>script</code> feature</a> instead.</p></li>\n<li><p>Instruct the users of your package to run it immediately after installing your package (<code>pip install myproject &amp;&amp; myprojectconfigure</code>).</p></li>\n<li><p>Eventually think about providing <code>myprojectconfigure --uninstall</code> as well.</p></li>\n</ul>\n"}], "owner": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1940, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1570708598, "creation_date": 1570657243, "last_edit_date": 1570658286, "question_id": 58312692, "link": "https://stackoverflow.com/questions/58312692/create-a-python-script-that-install-python-modules-and-run-some-commands", "title": "Create a python script that install python modules and run some commands", "body": "<p>I want to create a thin wrapper around this library <a href=\"https://github.com/jupyter-incubator/sparkmagic#installation\" rel=\"nofollow noreferrer\">https://github.com/jupyter-incubator/sparkmagic#installation</a></p>\n\n<p>As you can see in the link, the installation step requires </p>\n\n<ol>\n<li>installing some packages with pip </li>\n<li>run some command of the type <code>jupyter enable ...</code> or <code>jupyter-kernelspec install</code></li>\n<li>custom configuration file that I want to generate and place in the correct place</li>\n</ol>\n\n<p>I am checking which options I have to make the installation as automatic as calling a script. So far I have came up creating a bash script with all these commands. In this way it works with a simple <code>install.sh</code> but I might have problems since I will not know which python binaries to use. If a user wants to install the lib for python2 or python3 he cannot have this choice unless he touches the script.</p>\n\n<p>I have then tried to use <code>setup.py</code> and override the <code>cmdclass</code> to insert custom code </p>\n\n<pre><code>from setuptools import setup\nfrom setuptools.command.develop import develop\nfrom setuptools.command.install import install\n\n\nclass PostDevelopCommand(develop):\n  \"\"\"Post-installation for development mode.\"\"\"\n  def run(self):\n    develop.run(self)\n    print(\"do things\")\n\nclass PostInstallCommand(install):\n  \"\"\"Post-installation for installation mode.\"\"\"\n  def run(self):\n    install.run(self)\n    print(\"do things\")\n\nsetup(\n  ...\n  install_requires=['sparkmagic'],\n  cmdclass={\n    'develop': PostDevelopCommand,\n    'install': PostInstallCommand,\n},\n\n...\n)\n</code></pre>\n\n<p>but the custom prints worked only when running <code>python setup.py install</code> but not for <code>pip install</code></p>\n\n<p>I would like to make this last option work but if this is not the right patter to do this kind of things, could you suggest me which way to go?</p>\n"}, {"tags": ["python", "json", "plaintext"], "comments": [{"owner": {"reputation": 1391, "user_id": 5178801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/exq4J.jpg?s=128&g=1", "display_name": "J. Murray", "link": "https://stackoverflow.com/users/5178801/j-murray"}, "edited": false, "score": 0, "creation_date": 1570657340, "post_id": 58312666, "comment_id": 102986374, "body": "Are you certain that your <b>json_file</b> isn&#39;t a null object at this point?  There&#39;s nothing saying that it was passed to that function (properly) initialized."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570657432, "post_id": 58312666, "comment_id": 102986400, "body": "That&#39;s not a JSON file, it&#39;s a Python script."}, {"owner": {"reputation": 3868, "user_id": 5677602, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Obp2Z.png?s=128&g=1", "display_name": "jbndlr", "link": "https://stackoverflow.com/users/5677602/jbndlr"}, "edited": false, "score": 0, "creation_date": 1570657530, "post_id": 58312666, "comment_id": 102986430, "body": "You pass a string to your function and then call <code>.read()</code> on that string - you need to <code>open()</code> a file before reading from it. Also, that&#39;s not a proper JSON file, there is no attribute &quot;person&quot;, and your <code>return</code> is dedented."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570657607, "post_id": 58312666, "comment_id": 102986449, "body": "If you search in your browser for &quot;Python read JSON file&quot;, you&#39;ll find references that can explain this much better than we can manage here."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 9240676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4584f5b900f721ffaf1234a0c3ed8c4c?s=128&d=identicon&r=PG&f=1", "display_name": "zkalman", "link": "https://stackoverflow.com/users/9240676/zkalman"}, "edited": false, "score": 0, "creation_date": 1570703001, "post_id": 58312742, "comment_id": 103000438, "body": "OK. That makes me somewhat more clear of the problem. I tried making testcode: sample_json =     {     &quot;name&quot;: &quot;Name&quot;,     &quot;address&quot;: &quot;Somewhere&quot;,     &quot;phone_no&quot;: &quot;0700000000&quot;     } attribute = sample_json[&quot;name&quot;]   def test():     plain_text.json_to_plaintext(sample_json, attribute). Of course this does not work, I get &quot;&#39;dict&#39; object has no attribute &#39;read&#39;&quot;..."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 17, "user_id": 9240676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4584f5b900f721ffaf1234a0c3ed8c4c?s=128&d=identicon&r=PG&f=1", "display_name": "zkalman", "link": "https://stackoverflow.com/users/9240676/zkalman"}, "edited": false, "score": 0, "creation_date": 1570722956, "post_id": 58312742, "comment_id": 103012063, "body": "The argument to <code>json_to_plaintext()</code> is the name of the file that contains the JSON, not a dictionary."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 17, "user_id": 9240676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4584f5b900f721ffaf1234a0c3ed8c4c?s=128&d=identicon&r=PG&f=1", "display_name": "zkalman", "link": "https://stackoverflow.com/users/9240676/zkalman"}, "edited": false, "score": 0, "creation_date": 1570723032, "post_id": 58312742, "comment_id": 103012097, "body": "Put the JSON I showed in a file, e.g. <code>sample.json</code>. Then use <code>json_to_plaintext(&quot;sample.json&quot;, &quot;person&quot;)</code>"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1570657592, "creation_date": 1570657592, "answer_id": 58312742, "question_id": 58312666, "link": "https://stackoverflow.com/questions/58312666/json-conversion-results-in-error-str-object-has-no-attribute-read/58312742#58312742", "title": "JSON conversion results in error: &#39;&#39;str&#39; object has no attribute &#39;read&#39;&#39;", "body": "<p><code>json_file</code> is a filename, not a file. You need to open the file in order to read it.</p>\n\n<p>You can also use <code>json.load()</code> instead of <code>json.loads()</code>. It will read from the file itself.</p>\n\n<pre><code>def json_to_plaintext(filename, attribute):\n    with open(filename) as json_file:\n        json_tmp = json.load(json_file)\n    attr = json_tmp[attribute]  # collect attribute\n    with open(\"json_attribute.txt\", \"w+\") as txt_file:\n        attr = str(attr)  # make string of object\n        txt_file.write(attr)\n</code></pre>\n\n<p>However, the file you show is not a proper JSON file. The JSON file should look like this:</p>\n\n<pre><code>{ \"person\": {\n    \"name\": \"Name\",\n    \"adress\": \"Somewhere\",\n    \"phone_no\": \"0700000000\",\n    \"email_id\": null\n    }\n}\n</code></pre>\n\n<p>What you showed is a Python script that defines a variable named <code>person</code>. If you want to read and execute another script, you can use <code>import</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 9240676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4584f5b900f721ffaf1234a0c3ed8c4c?s=128&d=identicon&r=PG&f=1", "display_name": "zkalman", "link": "https://stackoverflow.com/users/9240676/zkalman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570679350, "creation_date": 1570657079, "last_edit_date": 1570679350, "question_id": 58312666, "link": "https://stackoverflow.com/questions/58312666/json-conversion-results-in-error-str-object-has-no-attribute-read", "title": "JSON conversion results in error: &#39;&#39;str&#39; object has no attribute &#39;read&#39;&#39;", "body": "<p>I'm testing a function that is supposed to convert a json to plain text.</p>\n\n<p>I've checked similar threads, but the most relevant I found was problems in their actual function. I am not at all comfortable with json, or Python for that matter, but my guess is that the problem lies in how I use the function rather than the actual function.</p>\n\n<p>The json-file I've created and tried converting looks as follows:\nperson = {}</p>\n\n<pre><code>person ['Name'] = {\n'name': 'Name',\n'adress': 'Somewhere',\n'phone_no': '0700000000',\n'email_id': None\n}\n</code></pre>\n\n<p>This is the function I am testing:</p>\n\n<pre><code>def json_to_plaintext(json_file, attribute):\njson_tmp = json.loads(json_file.read())\nattr = json_tmp[attribute]  # collect attribute\ntxt_file = open(\"json_attribute.txt\", \"w+\")\nattr = str(attr)  # make string of object\ntxt_file.write(attr)\ntxt_file.close()\n\nreturn txt_file\n</code></pre>\n\n<p>To test this I run</p>\n\n<pre><code>plain_text.json_to_plaintext(r'C:\\Desktop\\Tests\\test2', 'person')\n</code></pre>\n\n<p>\"test2\" is the json-file I created, and 'person' is what I believe is an attribute.</p>\n\n<p>When I run this I get the error: </p>\n\n<pre><code>json_tmp = json.loads(json_file.read())\nAttributeError: 'str' object has no attribute 'read'\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 3, "creation_date": 1570657466, "post_id": 58312663, "comment_id": 102986411, "body": "You mean the center element? <code>matrix[reng&#47;&#47;2][column&#47;&#47;2]</code>"}, {"owner": {"reputation": 5, "user_id": 9017574, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BP_rliPU-Cs/AAAAAAAAAAI/AAAAAAAAAoc/iNLyfnrKJBs/photo.jpg?sz=128", "display_name": "GZeuS", "link": "https://stackoverflow.com/users/9017574/gzeus"}, "reply_to_user": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 0, "creation_date": 1570657890, "post_id": 58312663, "comment_id": 102986526, "body": "Yup, for example:"}, {"owner": {"reputation": 5, "user_id": 9017574, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BP_rliPU-Cs/AAAAAAAAAAI/AAAAAAAAAoc/iNLyfnrKJBs/photo.jpg?sz=128", "display_name": "GZeuS", "link": "https://stackoverflow.com/users/9017574/gzeus"}, "reply_to_user": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 0, "creation_date": 1570657969, "post_id": 58312663, "comment_id": 102986549, "body": "[[1,2,3]] [[4,5,6]] [[7,8,9]]"}, {"owner": {"reputation": 5, "user_id": 9017574, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BP_rliPU-Cs/AAAAAAAAAAI/AAAAAAAAAoc/iNLyfnrKJBs/photo.jpg?sz=128", "display_name": "GZeuS", "link": "https://stackoverflow.com/users/9017574/gzeus"}, "reply_to_user": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 0, "creation_date": 1570657997, "post_id": 58312663, "comment_id": 102986559, "body": "Print number &quot;5&quot;"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 1, "creation_date": 1570658741, "post_id": 58312663, "comment_id": 102986743, "body": "GZeuS: @tevemadar has given you the answer\u2026"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 9017574, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BP_rliPU-Cs/AAAAAAAAAAI/AAAAAAAAAoc/iNLyfnrKJBs/photo.jpg?sz=128", "display_name": "GZeuS", "link": "https://stackoverflow.com/users/9017574/gzeus"}, "edited": false, "score": 0, "creation_date": 1570661119, "post_id": 58312965, "comment_id": 102987313, "body": "Thank very much tevemadar! Really helpful :D"}], "tags": [], "owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "is_accepted": true, "score": 1, "last_activity_date": 1570659169, "creation_date": 1570659169, "answer_id": 58312965, "question_id": 58312663, "link": "https://stackoverflow.com/questions/58312663/center-of-a-matrix/58312965#58312965", "title": "Center of a matrix", "body": "<pre><code>print(matrix[reng//2][column//2])\n</code></pre>\n\n<p>will print you the exact middle element of an \"odd*odd\" matrix. <code>//</code> is integer division, so for example <code>3//2</code> is <code>1</code>, which really is the middle one of possible indices <code>0</code>, <code>1</code>, <code>2</code>. Even numbers have a middle-pair, and division produces the higher one (like in case of 4: <code>4//2</code> is <code>2</code>, which is the \"upper middle\" element of the possible indices <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>).</p>\n"}], "owner": {"reputation": 5, "user_id": 9017574, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BP_rliPU-Cs/AAAAAAAAAAI/AAAAAAAAAoc/iNLyfnrKJBs/photo.jpg?sz=128", "display_name": "GZeuS", "link": "https://stackoverflow.com/users/9017574/gzeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 58312965, "answer_count": 1, "score": 0, "last_activity_date": 1570659169, "creation_date": 1570657062, "question_id": 58312663, "link": "https://stackoverflow.com/questions/58312663/center-of-a-matrix", "title": "Center of a matrix", "body": "<p>so what I need to do is to tell the user to type values for a matrix and print the center of this one. I've this code but I\u00b4m missing that.</p>\n\n<pre><code>import sys\nreng = int(input('row: '))\ncolumn = int(input('column: '))\nmatrix = []\nsuma = 0\nlista = []\n\nif reng &lt; 0 or column &lt; 0:\n    print('NOT VALID')\n    sys.exit()\n\nelse:\n    for i in range(reng):\n        matrix.append([0]*column)\n\n    for j in range(reng):\n        for k in range(column):\n            matrix[j][k] = int(input('enter an integer: '))\nprint(matrix)\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup", "python-datetime"], "comments": [{"owner": {"reputation": 1391, "user_id": 5178801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/exq4J.jpg?s=128&g=1", "display_name": "J. Murray", "link": "https://stackoverflow.com/users/5178801/j-murray"}, "edited": false, "score": 0, "creation_date": 1570657588, "post_id": 58312659, "comment_id": 102986444, "body": "Goto?  <b>&gt;_&lt;</b> How many times are you trying to repeat the same action?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570657717, "post_id": 58312659, "comment_id": 102986476, "body": "Welcome to StackOverflow. Please read and follow the posting guidelines in the help documentation, as suggested when you created this account. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, complete, verifiable example</a> applies here. We cannot effectively help you until you post your MCVE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570657771, "post_id": 58312659, "comment_id": 102986488, "body": "Also refer to <a href=\"https://stackoverflow.com/help/on-topic\">on topic</a>, <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>, and ... <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">the perfect question</a>. StackOverflow is not a design, coding, research, or tutorial resource; you&#39;re asking a variety of questions under one heading, and too general to make a good posting here."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570657855, "post_id": 58312659, "comment_id": 102986518, "body": "Put <code>while True:</code> at the beginning of the code that should loop. If the user enters <code>quit</code>, use <code>break</code> to stop the loop."}, {"owner": {"reputation": 41, "user_id": 11685877, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kBuyIrsl-Do/AAAAAAAAAAI/AAAAAAAACpM/0rSBDPdYKhE/photo.jpg?sz=128", "display_name": "Spencer Ritter", "link": "https://stackoverflow.com/users/11685877/spencer-ritter"}, "reply_to_user": {"reputation": 1391, "user_id": 5178801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/exq4J.jpg?s=128&g=1", "display_name": "J. Murray", "link": "https://stackoverflow.com/users/5178801/j-murray"}, "edited": false, "score": 0, "creation_date": 1570658720, "post_id": 58312659, "comment_id": 102986739, "body": "@J. Murray as many times as a user inputs a url that matches, or types &#39;exit&#39; or is manually closed."}, {"owner": {"reputation": 41, "user_id": 11685877, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kBuyIrsl-Do/AAAAAAAAAAI/AAAAAAAACpM/0rSBDPdYKhE/photo.jpg?sz=128", "display_name": "Spencer Ritter", "link": "https://stackoverflow.com/users/11685877/spencer-ritter"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570658781, "post_id": 58312659, "comment_id": 102986754, "body": "@Barmar ty I have seen this referenced in other places, but I wasnt sure if that was exclusive to math formulas."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570658833, "post_id": 58312659, "comment_id": 102986768, "body": "Why would it be exclusive to math? You&#39;re overthinking it. A loop is a loop."}], "answers": [{"tags": [], "owner": {"reputation": 1391, "user_id": 5178801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/exq4J.jpg?s=128&g=1", "display_name": "J. Murray", "link": "https://stackoverflow.com/users/5178801/j-murray"}, "is_accepted": false, "score": 1, "last_activity_date": 1570660521, "last_edit_date": 1570660521, "creation_date": 1570659169, "answer_id": 58312964, "question_id": 58312659, "link": "https://stackoverflow.com/questions/58312659/looping-a-function-with-its-input-being-a-url/58312964#58312964", "title": "Looping a function with its input being a url", "body": "<p>In Python, you have access to several different types of looping control structures, including:</p>\n\n<ol>\n<li><p><a href=\"https://docs.python.org/3/reference/compound_stmts.html#while\" rel=\"nofollow noreferrer\"><strong>while</strong> statements</a></p>\n\n<pre><code>while (condition) # Will execute until condition is no longer True (or until break is called)\n   &lt;statements to execute while looping&gt;\n</code></pre></li>\n<li><p><a href=\"https://docs.python.org/3/reference/compound_stmts.html#for\" rel=\"nofollow noreferrer\"><strong>for</strong> statements</a></p>\n\n<pre><code>for i in range(10) # Will execute 10 times (or until break is called)\n   &lt;statements to execute while looping&gt;\n</code></pre>\n\n<p>Each one has its strengths and weaknesses, and the documentation at Python.org is very thorough but easy to assimilate.</p></li>\n</ol>\n\n<p><a href=\"https://docs.python.org/3/tutorial/controlflow.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/tutorial/controlflow.html</a></p>\n"}], "owner": {"reputation": 41, "user_id": 11685877, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kBuyIrsl-Do/AAAAAAAAAAI/AAAAAAAACpM/0rSBDPdYKhE/photo.jpg?sz=128", "display_name": "Spencer Ritter", "link": "https://stackoverflow.com/users/11685877/spencer-ritter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1570672078, "answer_count": 1, "score": 0, "last_activity_date": 1570660521, "creation_date": 1570657034, "question_id": 58312659, "link": "https://stackoverflow.com/questions/58312659/looping-a-function-with-its-input-being-a-url", "closed_reason": "Needs more focus", "title": "Looping a function with its input being a url", "body": "<p>So I am trying to get into python, and am using other examples that I find online to understand certain functions better.</p>\n\n<p>I found a post online that shared a way to check prices on an item through CamelCamelCamel.</p>\n\n<p>They had it set to request from a specific url, so I decided to change it to userinput instead.</p>\n\n<p>How can I just simply loop this function?</p>\n\n<p>It runs fine afaik once, but after the inital process i get 'Process finished with exit code 0', which isn't necessarily a problem.</p>\n\n<p>For the script to perform how I would like it to. It would be nice if there was a break from maybe, 'quit' or something, but after it processes the URL that was given, I would like it to request for a new URL.\nIm sure theres a way to check for a specific url, IE this should only work for Camelcamelcamel, so to limit to only that domain.</p>\n\n<p>Im more familiar with Batch, and have kinda gotten away with using batch to run my python files to circumvent what I dont understand.</p>\n\n<p>Personally if I could . . .</p>\n\n<p>I would just mark the funct as 'top:'</p>\n\n<p>and put goto top at the bottom of the script.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nprint(\"Enter CamelCamelCamel Link: \") \nplink    = input(\"\") \n\nheaders = {'User-Agent': 'Mozilla/5.0'} \nr = requests.get(plink,headers=headers) \n\ndata = r.text \nsoup = BeautifulSoup(data,'html.parser') \ntable_data = soup.select('table.product_pane tbody tr td') \n\n\nhprice = table_data[1].string\nhdate = table_data[2].string\nlprice = table_data[7].string\nldate = table_data[8].string \n\nprint ('High price-',hprice)\nprint (\"[H-Date]\", hdate)\nprint ('---------------')\nprint ('Low price-',lprice)\nprint (\"[L-Date]\", ldate)\n\n</code></pre>\n\n<p>Also how could I find the difference from the date I obtain from either hdate or ldate, from today/now. How the dates I parsed they're strings and I got. TypeError: unsupported operand type(s) for +=: 'int' and 'str'.</p>\n\n<p>This is really just for learning, any example works, It doesnt have to be that site in specific.</p>\n"}, {"tags": ["python", "python-2.7", "weak-references"], "answers": [{"tags": [], "owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1588702818, "creation_date": 1588702818, "answer_id": 61620198, "question_id": 58312618, "link": "https://stackoverflow.com/questions/58312618/is-there-a-way-to-support-weakrefs-with-collections-namedtuple/61620198#61620198", "title": "Is there a way to support weakrefs with collections.namedtuple?", "body": "<h2>Short answer</h2>\n\n<p>Unfortunately, non-empty <em>__slots__</em> flat-out don't work with any kind of <em>tuple</em>, not just <em>namedtuple()</em>.</p>\n\n<h2>Work around</h2>\n\n<p>The best you can do is to have a class that doesn't inherit from <em>tuple</em>.</p>\n\n<p>I wrote one for you (see below).  It is used like this:</p>\n\n<pre><code>from __future__ import print_function\nfrom altnamedtuple import AltNamedTuple\nfrom weakref import proxy\n\nclass Point(AltNamedTuple):\n    __slots__ = ('x', 'y', '__weakref__')\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n# Now, exercise the capabilities of the named tuple alternative\np = Point(10, 20)\nr = proxy(p)\nprint(len(r))               # sizeable\nprint(r[0])                 # indexed access\nprint(r.y)                  # attribute access\nprint(list(r))              # iterable\nx, y = r                    # unpackable\nprint(x, y)\nprint(20 in r)              # membership testing\nprint(tuple(reversed(p)))   # reversible\nprint(r == (10, 20))        # equality\nprint(r != (30, 40))        # inequality\nprint(hash(p))              # hashable\nprint(r)                    # nice repr\nprint(r._asdict())          # conversion to a dict\nprint(r._replace(y=2))\nt = (11, 22)\nprint(r.count(10))\nprint(r.index(20))\nprint(Point._make(t))       # alternative constructor\n</code></pre>\n\n<p>Note, weakrefs proxies don't pass through calls to <em>__hash__</em> or <em>__reversed__</em>.  That's an intrinsic limitation that no class can work around.</p>\n\n<h2>Source code for AltNamedTuple</h2>\n\n<p>Here's the class that does all the work:</p>\n\n<pre><code>class AltNamedTuple(object):\n    \"Subclasser needs to define:  __slots__ and __init__\"\n    __slots__ = ()\n    def __getattr__(self, attr):\n        if attr != '_fields': raise AttributeError(attr)\n        if '__weakref__' in self.__slots__:\n            return self.__slots__[:-1]\n        return self.__slots__\n    def __len__(self):\n        return len(self._fields)\n    def __getitem__(self, index):\n        attr = self._fields[index]\n        return getattr(self, attr)\n    def __iter__(self):\n        for attr in self._fields:\n            yield getattr(self, attr)\n    def __reversed__(self):\n        return iter(reversed(tuple(self)))\n    def __eq__(self, other):\n        return tuple(self) == tuple(other)\n    def __ne__(self, other):\n        return tuple(self) != tuple(other)\n    def __hash__(self):\n        return hash(tuple(self))\n    def __repr__(self):\n        pairs = ['%s=%r' % (a, getattr(self, a)) for a in self._fields]\n        return ('%s(%s)' % (self.__class__.__name__, ', '.join(pairs)))\n    @classmethod\n    def _make(cls, iterable):\n        return cls(*iterable)\n    def _asdict(self):\n        return dict(zip(self._fields, self))\n    def _replace(_self, **kwds):\n        d = _self._asdict()\n        d.update(kwds)\n        return _self.__class__(**d)\n    def count(self, value):\n        return tuple(self).count(value)\n    def index(self, value):\n        return tuple(self).index(value)\n</code></pre>\n"}], "owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 1, "accepted_answer_id": 61620198, "answer_count": 1, "score": 4, "last_activity_date": 1588702818, "creation_date": 1570656760, "question_id": 58312618, "link": "https://stackoverflow.com/questions/58312618/is-there-a-way-to-support-weakrefs-with-collections-namedtuple", "title": "Is there a way to support weakrefs with collections.namedtuple?", "body": "<p>I want to use a weak reference to a namedtuple, but it fails:</p>\n\n<pre><code>&gt;&gt;&gt; import collections\n&gt;&gt;&gt; import weakref\n&gt;&gt;&gt;\n&gt;&gt;&gt; Foo = collections.namedtuple('Foo','a b c')\n&gt;&gt;&gt; weakref.ref(Foo(1,2,3))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: cannot create weak reference to 'Foo' object\n</code></pre>\n\n<p>I tried to fix this with <code>__slots__ = ('__weakref__',)</code> but this fails also:</p>\n\n<pre><code>&gt;&gt;&gt; class Foo(collections.namedtuple('Foo','a b c')):\n...     __slots__ = ('__weakref__',)\n...\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: Error when calling the metaclass bases\n    nonempty __slots__ not supported for subtype of 'Foo'\n</code></pre>\n\n<p>Is there a workaround?</p>\n"}, {"tags": ["python", "discord", "discord.py", "discord.py-rewrite"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1570658749, "post_id": 58312588, "comment_id": 102986745, "body": "Look at converters: <a href=\"https://discordpy.readthedocs.io/en/latest/ext/commands/commands.html#converters\" rel=\"nofollow noreferrer\">discordpy.readthedocs.io/en/latest/ext/commands/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 12098782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7885a6e373661b90c9c2d1646127786?s=128&d=identicon&r=PG&f=1", "display_name": "itsame", "link": "https://stackoverflow.com/users/12098782/itsame"}, "edited": false, "score": 0, "creation_date": 1570702933, "post_id": 58319347, "comment_id": 103000400, "body": "Thanks! I used <code>member: discord.member</code> (with lowercase m) the whole time. That&#39;s why it didn&#39;t work :("}, {"owner": {"reputation": 163, "user_id": 12098782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7885a6e373661b90c9c2d1646127786?s=128&d=identicon&r=PG&f=1", "display_name": "itsame", "link": "https://stackoverflow.com/users/12098782/itsame"}, "edited": false, "score": 0, "creation_date": 1570704338, "post_id": 58319347, "comment_id": 103001146, "body": "You seem like someone who knows what he does, so I have another question. How can I create a webhook? Not manually obviously. I want my bot to create the webhook and return me the URL. I know how I can post stuff, edit the webhook, etc., but I can&#39;t find a way to create one."}, {"owner": {"reputation": 410, "user_id": 12182226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqKNm.png?s=128&g=1", "display_name": "vgalin", "link": "https://stackoverflow.com/users/12182226/vgalin"}, "reply_to_user": {"reputation": 163, "user_id": 12098782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7885a6e373661b90c9c2d1646127786?s=128&d=identicon&r=PG&f=1", "display_name": "itsame", "link": "https://stackoverflow.com/users/12098782/itsame"}, "edited": false, "score": 0, "creation_date": 1570706946, "post_id": 58319347, "comment_id": 103002467, "body": "@hallowed I think that <a href=\"https://discordpy.readthedocs.io/en/latest/api.html?highlight=webhook#webhook-support\" rel=\"nofollow noreferrer\">this</a> is what you want."}, {"owner": {"reputation": 163, "user_id": 12098782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7885a6e373661b90c9c2d1646127786?s=128&d=identicon&r=PG&f=1", "display_name": "itsame", "link": "https://stackoverflow.com/users/12098782/itsame"}, "edited": false, "score": 0, "creation_date": 1570720410, "post_id": 58319347, "comment_id": 103010674, "body": "It isn&#39;t, but I found what I wanted. Thanks anyway! <code>webhook = await ctx.channel.create_webhook()</code> That&#39;s what I tried to find;)"}], "tags": [], "owner": {"reputation": 410, "user_id": 12182226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqKNm.png?s=128&g=1", "display_name": "vgalin", "link": "https://stackoverflow.com/users/12182226/vgalin"}, "is_accepted": true, "score": 1, "last_activity_date": 1570698711, "creation_date": 1570698711, "answer_id": 58319347, "question_id": 58312588, "link": "https://stackoverflow.com/questions/58312588/how-to-get-info-about-the-mentioned-users-discord-py-bot/58319347#58319347", "title": "How to get info about the mentioned users (discord.py bot)?", "body": "<p>You can do this by specifying that the type of a parameter is <code>discord.Member</code> :</p>\n\n<pre><code>import requests\n\n@bot.command()\nasync def getname(ctx, member: discord.Member):\n\n    await ctx.send(f'User name: {member.name}, id: {member.id}')\n\n    with requests.get(member.avatar_url_as(format='png')) as r:\n        img_data = r.content\n    with open(f'{member.name}.png', 'wb') as f:\n        f.write(img_data)\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 12098782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7885a6e373661b90c9c2d1646127786?s=128&d=identicon&r=PG&f=1", "display_name": "itsame", "link": "https://stackoverflow.com/users/12098782/itsame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2896, "favorite_count": 0, "accepted_answer_id": 58319347, "answer_count": 1, "score": 1, "last_activity_date": 1599272930, "creation_date": 1570656608, "last_edit_date": 1570657278, "question_id": 58312588, "link": "https://stackoverflow.com/questions/58312588/how-to-get-info-about-the-mentioned-users-discord-py-bot", "title": "How to get info about the mentioned users (discord.py bot)?", "body": "<p>Someone uses the command !getname @testuser, the bot gets the name as a string and could do with it whatever I want. I can't find anything about on the Internet. Maybe the answer is just too obvious.</p>\n\n<p>Also, how could I get the avatar of the mentioned user? And download it or whatever.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "pandas", "dataframe", "time-series", "pandas-groupby"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1570657025, "post_id": 58312579, "comment_id": 102986278, "body": "Any rhyme or reason just two weeks?"}, {"owner": {"reputation": 51, "user_id": 12120038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96ad0934bd32f9b3f0cdcf8ec87bc8e5?s=128&d=identicon&r=PG&f=1", "display_name": "ashp", "link": "https://stackoverflow.com/users/12120038/ashp"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1570657383, "post_id": 58312579, "comment_id": 102986391, "body": "I&#39;m running this on a lot of different data sets. In this particular example, the last date point was two weeks ago. In other situations, it could certainly be different."}], "answers": [{"tags": [], "owner": {"reputation": 1435, "user_id": 3866678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yZyO.png?s=128&g=1", "display_name": "Michael Gardner", "link": "https://stackoverflow.com/users/3866678/michael-gardner"}, "is_accepted": false, "score": 0, "last_activity_date": 1570661793, "last_edit_date": 1570661793, "creation_date": 1570660617, "answer_id": 58313167, "question_id": 58312579, "link": "https://stackoverflow.com/questions/58312579/adding-weeks-with-0-value-to-a-pandas-dataframe-with-time-series-data-for-weeks/58313167#58313167", "title": "Adding weeks with 0 value to a pandas dataframe with time series data for weeks when data wasn&#39;t captured", "body": "<p>You can reindex your output with <code>pd.date_range</code></p>\n\n<p>In:</p>\n\n<pre><code>df.reindex(\n    pd.date_range(start=df.index.min(),\n                  end=pd.to_datetime('today') + pd.offsets.Week(),\n                  freq='W-SAT')).fillna(0)\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>|            | X   |\n|------------|-----|\n| 2019-09-14 | 3.0 |\n| 2019-09-21 | 0.0 |\n| 2019-09-28 | 1.5 |\n| 2019-10-05 | 0.0 |\n| 2019-10-12 | 0.0 |\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 12120038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96ad0934bd32f9b3f0cdcf8ec87bc8e5?s=128&d=identicon&r=PG&f=1", "display_name": "ashp", "link": "https://stackoverflow.com/users/12120038/ashp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570661793, "creation_date": 1570656559, "question_id": 58312579, "link": "https://stackoverflow.com/questions/58312579/adding-weeks-with-0-value-to-a-pandas-dataframe-with-time-series-data-for-weeks", "title": "Adding weeks with 0 value to a pandas dataframe with time series data for weeks when data wasn&#39;t captured", "body": "<p>I have transactional data that I've grouped into weeks. However, I'm not guaranteed to have data every week. Group by has done a great job of filling in missing weeks between the first and last week with 0 quantity. However, I need to fill my dataframe with values up to the present week. </p>\n\n<p>My data is stored in the dateframe dfShipsInScope, and I've transformed my data to be weekly with the code below:</p>\n\n<pre><code>dfShipsInScope['START_TIME'] = pd.to_datetime(dfShipsInScope['START_TIME'])\ndfShipsInScope=dfShipsInScope[['START_TIME','X']].groupby('START_TIME').sum()\ndfShipsInScope=dfShipsInScope.resample(rule = 'W-SAT').sum()\ndfShipsInScope.index.freq='W-SAT'\n</code></pre>\n\n<p>This outputs something like this:</p>\n\n<pre><code>            X\nSTART_TIME  \n2019-09-14  3.000\n2019-09-21  0.000\n2019-09-28  1.500\n</code></pre>\n\n<p>I need to add weeks 2019-10-05 and 2019-10-12 with X=0 in order for the dataframe to reflect weeks up until today. In some instances, I need to add several weeks worth of zeros, so I'm looking for an efficient solution. Does anybody know of a good way to do this? </p>\n"}, {"tags": ["python", "python-3.x", "image-processing", "computer-vision", "image-segmentation"], "comments": [{"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1570694686, "post_id": 58312575, "comment_id": 102995989, "body": "related: <a href=\"https://stackoverflow.com/q/15524077/1714410\">stackoverflow.com/q/15524077/1714410</a>"}, {"owner": {"reputation": 419, "user_id": 4932296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6HdcH40E140/AAAAAAAAAAI/AAAAAAAAADQ/pEI-YSI2zHQ/photo.jpg?sz=128", "display_name": "Jesujoba ALABI", "link": "https://stackoverflow.com/users/4932296/jesujoba-alabi"}, "reply_to_user": {"reputation": 1635, "user_id": 4578111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7594119b63c6f45f0d20ea70184830d?s=128&d=identicon&r=PG&f=1", "display_name": "venkata krishnan", "link": "https://stackoverflow.com/users/4578111/venkata-krishnan"}, "edited": false, "score": 0, "creation_date": 1570701899, "post_id": 58312575, "comment_id": 102999875, "body": "@venkata I have heard of dice coefficient. But i think it has the same problem  just as Jaccard. As they perform set operations on the lists. Correct me if I am wrong OK!"}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 4932296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6HdcH40E140/AAAAAAAAAAI/AAAAAAAAADQ/pEI-YSI2zHQ/photo.jpg?sz=128", "display_name": "Jesujoba ALABI", "link": "https://stackoverflow.com/users/4932296/jesujoba-alabi"}, "edited": false, "score": 0, "creation_date": 1570702164, "post_id": 58318376, "comment_id": 102999994, "body": "This seems to be a good way of comparing. Is there a general name for this technique(just like Jacard, dice, F1)?"}], "tags": [], "owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "is_accepted": false, "score": 2, "last_activity_date": 1570695513, "creation_date": 1570695513, "answer_id": 58318376, "question_id": 58312575, "link": "https://stackoverflow.com/questions/58312575/evaluate-image-segmentation-method/58318376#58318376", "title": "Evaluate Image Segmentation Method", "body": "<p>You probably want to compare the co-occurrence matrics.  </p>\n\n<p>The partition co-occurrence matrix is <code>n</code>x<code>n</code> (where <code>n</code> is the number of points, 16 in your case) binary matrix where</p>\n\n<pre><code>C_ij = 1 iff label(i) == label(j)\n</code></pre>\n\n<p>You can compute the co-occurence matrix for <code>imagesegment</code> and for <code>groundtruth</code> and count the number of identical entries.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>imagesegment = np.array([1,1,1,1,1,2,2,1,1,1,2,3,3,3,3,3])\ngroundtruth =  np.array([2,2,2,2,3,3,3,2,2,3,3,1,1,1,1,3])\nCi = imagesegment[None, :] == imagesegment[:, None]\nCg = groundtruth[None, :] == groundtruth[:, None]\n# compare only half the matrix and ignore diagonal \nfci = np.concatenate([np.diag(Ci,k=k) for k in range(1, 16)])\nfcg = np.concatenate([np.diag(Cg, k=k) for k in range(1, 16)])\n# the actual score:\n(fci==fcg).mean()  # 0.775 in your case. score of 1 is perfect\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 4932296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6HdcH40E140/AAAAAAAAAAI/AAAAAAAAADQ/pEI-YSI2zHQ/photo.jpg?sz=128", "display_name": "Jesujoba ALABI", "link": "https://stackoverflow.com/users/4932296/jesujoba-alabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570695513, "creation_date": 1570656540, "question_id": 58312575, "link": "https://stackoverflow.com/questions/58312575/evaluate-image-segmentation-method", "title": "Evaluate Image Segmentation Method", "body": "<p>I have segmented an image using an algorithm into the following labels \nThis will be a 4 x 4 matrix of labels if it is reshaped. Using the lists below as an example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>imagesegment = [1,1,1,1,1,2,2,1,1,1,2,3,3,3,3,3]\ngroundtruth =  [2,2,2,2,3,3,3,2,2,3,3,1,1,1,1,3]\n</code></pre>\n\n<p>Given the ground truth and the segmentation above all containing labels with different labeling schemes, how can I evaluate the method?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def jaccard_similarity(list1, list2):\n    s1 = set(list1)\n    s2 = set(list2)\n    return len(s1.intersection(s2)) / len(s1.union(s2))\n\n\njaccard(imagesegment, groundtruth)\n</code></pre>\n\n<p>Given that the labeling scheme are not the same as shown above how best can the segmented image be compared with the ground-truth?</p>\n\n<p>Note From comparing the lists: 1 in image segment can be seen as 2 in ground-truth, 2 as 3 and  3 as 1.  So it is not misclassifications but use of different labeling.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 1, "last_activity_date": 1570657873, "creation_date": 1570657873, "answer_id": 58312778, "question_id": 58312561, "link": "https://stackoverflow.com/questions/58312561/how-to-create-new-dataframe-rows-based-on-df-value/58312778#58312778", "title": "How to create new dataframe rows based on df value", "body": "<p>Let's try this:</p>\n\n<pre><code>#make sure index is in the dataframe index\ndf=df.set_index('index')\n\n#use repeat and reindex\ndf_out = df.reindex(df.index.repeat(df['total'])).assign(total=1)\n\n#Limit buyedA by row number in each group of index\ndf_out['buyedA'] = ((df_out.groupby('index').cumcount() + 1) &lt;= df_out['buyedA']).mul(1)\n\ndf_out\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>       buyedA  total\nindex               \na           1      1\na           1      1\na           0      1\na           0      1\nb           1      1\nb           0      1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1570658226, "post_id": 58312824, "comment_id": 102986622, "body": "I like your approach :)  +1"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 3, "last_activity_date": 1570658175, "creation_date": 1570658175, "answer_id": 58312824, "question_id": 58312561, "link": "https://stackoverflow.com/questions/58312561/how-to-create-new-dataframe-rows-based-on-df-value/58312824#58312824", "title": "How to create new dataframe rows based on df value", "body": "<p>Using <code>repeat</code> and a simple <code>groupby</code></p>\n\n<pre><code>n = df.loc[df.index.repeat(df.total)].assign(total=1)\nn['buyedA'] = n.groupby('index').total.cumsum().le(n.buyedA).astype(int)\n</code></pre>\n\n<hr>\n\n<pre><code>  index  buyedA  total\n0     a       1      1\n0     a       1      1\n0     a       0      1\n0     a       0      1\n1     b       1      1\n1     b       0      1\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12191548, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwmpI977KVBICABsA_Kxzm3PEJ0gmOFNSkHPzC4sk=k-s128", "display_name": "Fede Blanco", "link": "https://stackoverflow.com/users/12191548/fede-blanco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1570665862, "creation_date": 1570656456, "last_edit_date": 1570665862, "question_id": 58312561, "link": "https://stackoverflow.com/questions/58312561/how-to-create-new-dataframe-rows-based-on-df-value", "title": "How to create new dataframe rows based on df value", "body": "<p>I have a dataframe which is something like this:</p>\n\n<pre><code>index buyedA total\na      2    4\nb      1    2\n</code></pre>\n\n<p>and I need to turn it into something like this:</p>\n\n<pre><code>index buyedA total\na      1    1\na      1    1\na      0    1\na      0    1\nb      1    1\nb      0    1\n</code></pre>\n\n<p>I need for each <em>index</em> as many <strong>rows</strong> as specified by column <em>total</em> (each one filled with a value of 1), and if column <em>buyedA</em> says 2, I need 2 of those rows filled with a 1.</p>\n\n<p>Is there a way to do so in Python?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 1, "creation_date": 1570656505, "post_id": 58312549, "comment_id": 102986100, "body": "Prefer raw text over screenshot whenever applicable : data sample, code, console output, error texts etc."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1570656583, "post_id": 58312549, "comment_id": 102986135, "body": "you&#39;re very new to coding and trying to use lambda? i would suggest not, it&#39;s not that intuitive."}, {"owner": {"reputation": 23, "user_id": 12191555, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBT0fFhz111VnAqxuIgX3GuGaqFFn7OYL5zHn4KiQ=k-s128", "display_name": "Ethan Chung", "link": "https://stackoverflow.com/users/12191555/ethan-chung"}, "edited": false, "score": 0, "creation_date": 1570656632, "post_id": 58312549, "comment_id": 102986146, "body": "My friend was trying to help me. I&#39;m not really sure what it means."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1570657110, "post_id": 58312549, "comment_id": 102986311, "body": "When in doubt, consult the documentation. Here what it says about <a href=\"https://docs.python.org/3/reference/expressions.html#lambda\" rel=\"nofollow noreferrer\"><code>lambda</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12191555, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBT0fFhz111VnAqxuIgX3GuGaqFFn7OYL5zHn4KiQ=k-s128", "display_name": "Ethan Chung", "link": "https://stackoverflow.com/users/12191555/ethan-chung"}, "edited": false, "score": 0, "creation_date": 1570665447, "post_id": 58312664, "comment_id": 102988118, "body": "Thank you so much!!"}], "tags": [], "owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "is_accepted": false, "score": 1, "last_activity_date": 1570657063, "creation_date": 1570657063, "answer_id": 58312664, "question_id": 58312549, "link": "https://stackoverflow.com/questions/58312549/how-to-write-a-program-that-reads-a-txt-file-that-contains-words-with-numbers-i/58312664#58312664", "title": "How to write a program that reads a .txt file that contains words with numbers in a separate column and print out the word with the biggest number?", "body": "<p>this might do the trick</p>\n\n<pre><code>text = open('heroes.txt', 'r')\ndata={}\nfor line in text.readlines():\n    if line.startswith('#'):\n        continue\n    d_l=line.split()\n    d_l=[[x.strip() for x in y] for y in d_l]\n    data[d_l[0]]= d_l[1]\n\ntext.close() #remember to close file\n\nfor k,v in data.items():\n    if v==max(data.values()):\n        print(k)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 12191555, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBT0fFhz111VnAqxuIgX3GuGaqFFn7OYL5zHn4KiQ=k-s128", "display_name": "Ethan Chung", "link": "https://stackoverflow.com/users/12191555/ethan-chung"}, "edited": false, "score": 0, "creation_date": 1570665466, "post_id": 58312980, "comment_id": 102988119, "body": "This was a lot easier for me to understand. Thank you!!"}], "tags": [], "owner": {"reputation": 152, "user_id": 5133239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9DKa.jpg?s=128&g=1", "display_name": "Isaiah Baker", "link": "https://stackoverflow.com/users/5133239/isaiah-baker"}, "is_accepted": true, "score": 1, "last_activity_date": 1570659268, "creation_date": 1570659268, "answer_id": 58312980, "question_id": 58312549, "link": "https://stackoverflow.com/questions/58312549/how-to-write-a-program-that-reads-a-txt-file-that-contains-words-with-numbers-i/58312980#58312980", "title": "How to write a program that reads a .txt file that contains words with numbers in a separate column and print out the word with the biggest number?", "body": "<p>Based off SuperStew's answer, changed to make it a little more intuitive for a beginner. Added comments.</p>\n\n<pre><code>text = open('heroes.txt', 'r')\n\n# Empty dictionary\ndata = {}\n\n# For every line in the file...\nfor line in text.readlines():\n    # skip if line starts with #\n    if line.startswith('#'):\n        continue\n\n    # Split the name into two parts, hero name and hero power.\n    row = line.split()\n\n    # Map row data to dictionary. Hero name will be key, hero power will be value.\n    data[row[0]] = row[1]\n\n# Remember to close the file\ntext.close()\n\n# For every key value pair in data...\nfor k,v in data.items():\n    # See if value is the max value. If so, print it.\n    if v==max(data.values()):\n        print(k)\n</code></pre>\n\n<p>Useful links:</p>\n\n<p><a href=\"https://www.w3schools.com/python/ref_string_split.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/python/ref_string_split.asp</a></p>\n\n<p><a href=\"https://www.w3schools.com/python/python_dictionaries.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/python/python_dictionaries.asp</a></p>\n"}], "owner": {"reputation": 23, "user_id": 12191555, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBT0fFhz111VnAqxuIgX3GuGaqFFn7OYL5zHn4KiQ=k-s128", "display_name": "Ethan Chung", "link": "https://stackoverflow.com/users/12191555/ethan-chung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 58312980, "answer_count": 2, "score": 0, "last_activity_date": 1570659268, "creation_date": 1570656414, "last_edit_date": 1570656964, "question_id": 58312549, "link": "https://stackoverflow.com/questions/58312549/how-to-write-a-program-that-reads-a-txt-file-that-contains-words-with-numbers-i", "title": "How to write a program that reads a .txt file that contains words with numbers in a separate column and print out the word with the biggest number?", "body": "<p>I am very new to coding so this is all I have right now. I am running into problems trying to select the highest number and printing out the word that corresponds with it. </p>\n\n<p>Edit: I am also supposed to write a code that also ignores the <code>'#'</code>character and anything that comes after it.</p>\n\n<pre><code>text = open('heroes.txt', 'r')\nfor line in sorted(text, key = lambda line: line.split()[1]):\n    if not '#' in line:\n        line.isalnum() or line == '_'\n        continue\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ntsQX.png\" rel=\"nofollow noreferrer\">This is the text file with the lists</a></p>\n"}, {"tags": ["python", "matplotlib", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 18119, "user_id": 9284423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zakui.png?s=128&g=1", "display_name": "Henry Yik", "link": "https://stackoverflow.com/users/9284423/henry-yik"}, "is_accepted": true, "score": 2, "last_activity_date": 1570675280, "last_edit_date": 1570675280, "creation_date": 1570673730, "answer_id": 58314533, "question_id": 58312482, "link": "https://stackoverflow.com/questions/58312482/embedding-an-interactive-matplotlib-plot-into-tkinter/58314533#58314533", "title": "Embedding an interactive Matplotlib plot into Tkinter?", "body": "<p>There is nothing special embedding this into <code>tkinter</code> - you create a <code>FigureCanvasTkAgg</code> object first, and then do the rest. The only thing you need to change is instead of <code>plt</code>, you need to use <code>Figure</code> which is shown in the sample you quoted.</p>\n\n<pre><code>import numpy as np\nfrom matplotlib.widgets import Slider\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\nfrom matplotlib.figure import Figure\n\nclass IndexTracker(object):\n    ...\n\n\nimport tkinter as tk\nroot = tk.Tk()\nfig = Figure()\ncanvas = FigureCanvasTkAgg(fig, root)\ncanvas.get_tk_widget().pack(fill=\"both\", expand=True)\n\nim = np.array(np.random.rand(10,10,10))\n\nax = fig.subplots(1,1)\n\naxmax  = fig.add_axes([0.25, 0.01, 0.65, 0.03])\nsmax = Slider(axmax, 'Max', 0, np.max(im), valinit=50)\ntracker = IndexTracker(ax, im)\ncanvas.mpl_connect('scroll_event', tracker.onscroll)\ncanvas.mpl_connect('button_release_event', tracker.contrast) #add this for contrast change\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 58314533, "answer_count": 1, "score": 0, "last_activity_date": 1570675280, "creation_date": 1570656083, "question_id": 58312482, "link": "https://stackoverflow.com/questions/58312482/embedding-an-interactive-matplotlib-plot-into-tkinter", "title": "Embedding an interactive Matplotlib plot into Tkinter?", "body": "<p>I have code for an interactive plot, which allows viewing a 3D image through scrolling slice-wise with the mouse roll. It includes also a slide bar to adjust contrast. </p>\n\n<p>I have been trying to embed this into a Tkinter GUI, for example with help of this sample code: <a href=\"https://matplotlib.org/examples/user_interfaces/embedding_in_tk.html\" rel=\"nofollow noreferrer\">https://matplotlib.org/examples/user_interfaces/embedding_in_tk.html</a></p>\n\n<p>But I don't really understand where my code is supposed to go in there. </p>\n\n<p>This is the application I currently have:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib.widgets import Slider\n\nclass IndexTracker(object):\n    def __init__(self, ax, X):\n        self.ax = ax\n        ax.set_title('use scroll wheel to navigate images')\n        self.X = X\n        rows, cols, self.slices = X.shape\n        self.ind = self.slices//2\n        self.im = ax.imshow(self.X[:, :, self.ind], cmap='gray')\n        self.update()\n\n    def onscroll(self, event):\n        print(\"%s %s\" % (event.button, event.step))\n        if event.button == 'up':\n            self.ind = (self.ind + 1) % self.slices\n        else:\n            self.ind = (self.ind - 1) % self.slices        \n        self.update()\n\n    def contrast(self, event):\n        print('Changing contrast')\n        print(smax.val)\n        self.im.set_clim([0,smax.val])        \n        self.update()\n\n    def update(self):\n        self.im.set_data(self.X[:, :, self.ind])\n        self.ax.set_ylabel('slice %s' % self.ind)\n        self.im.axes.figure.canvas.draw()\n\n\n##### Create some random volumetric data\n\nim = np.array(np.random.rand(10,10,10))\n\n##### Initialize Tracker object with the data and Slider\n\nfig, ax = plt.subplots(1,1)    \naxmax  = fig.add_axes([0.25, 0.01, 0.65, 0.03])\nsmax = Slider(axmax, 'Max', 0, np.max(im), valinit=50)\ntracker = IndexTracker(ax, im)\nfig.canvas.mpl_connect('scroll_event', tracker.onscroll)\nsmax.on_changed(tracker.contrast)\n\nplt.show()\n</code></pre>\n\n<p>I don't understand what is exacty that I need to embed into the Tkinter application, is it <code>fig</code>, or <code>IndexTracker</code> ? How do I replace <code>fig.canvas.mpl_connect('scroll_event', tracker.onscroll)</code> so it works within the TKinter GUI?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 156, "user_id": 11699559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qbmog.jpg?s=128&g=1", "display_name": "iiKop47", "link": "https://stackoverflow.com/users/11699559/iikop47"}, "edited": false, "score": 1, "creation_date": 1570656443, "post_id": 58312474, "comment_id": 102986078, "body": "Seem like one issue is that the <code>i</code> variable is not getting reset to <code>0</code> after a complete iteration of the outer loop. You should reset the <code>i</code> value in the outer loop. Better yet, consider changing both <code>while</code> loops to <code>for</code> loops using the <code>for i in range(length):</code> construction of iteration. Hope this helps! <a href=\"https://www.geeksforgeeks.org/python-range-function/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/python-range-function</a>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570656576, "post_id": 58312474, "comment_id": 102986130, "body": "See this lovely <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> blog for help. You didn&#39;t bother to trace your execution; <code>print(g, MDg, i)</code> would have saved you the trouble of posting."}, {"owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "edited": false, "score": 2, "creation_date": 1570656831, "post_id": 58312474, "comment_id": 102986214, "body": "Imo this is <i>far</i> too complicated. Why don&#39;t you simply check already at import loop if a line starts with &#39;MD&#39; and skip its import depending on this check?"}, {"owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "edited": false, "score": 0, "creation_date": 1570657071, "post_id": 58312474, "comment_id": 102986296, "body": "Next: sth like <code>datamod = np.array([]); datamod = data_list</code> is completely futile. In python you don&#39;t declare variable types like you wanted to do here. In this code, <code>datamod</code> was an empty numpy array for one line to be immediately overwritten by a list. The reason why it later works in your numpy functions is, that numpy silently casts lists to numpy arrays on its own on the fly."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 12191493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBAY5zEAoykFE5sybeq1pDpAwq54BLt2LbJ7PWYvcs=k-s128", "display_name": "Ethan Day", "link": "https://stackoverflow.com/users/12191493/ethan-day"}, "edited": false, "score": 0, "creation_date": 1570656869, "post_id": 58312582, "comment_id": 102986226, "body": "Ah, yep that worked perfectly! thank you for the help on such a trivial problem, just not written code in many moons haha"}, {"owner": {"reputation": 156, "user_id": 11699559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qbmog.jpg?s=128&g=1", "display_name": "iiKop47", "link": "https://stackoverflow.com/users/11699559/iikop47"}, "reply_to_user": {"reputation": 33, "user_id": 12191493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBAY5zEAoykFE5sybeq1pDpAwq54BLt2LbJ7PWYvcs=k-s128", "display_name": "Ethan Day", "link": "https://stackoverflow.com/users/12191493/ethan-day"}, "edited": false, "score": 0, "creation_date": 1570657671, "post_id": 58312582, "comment_id": 102986464, "body": "Good to hear. If you will be working further with parsing text and other character based data, take a look at learning about regular expressions, as shown in the other answer. It&#39;s a very powerful and flexible tool in finding what you are looking for in text smarter, faster, and with less code. These are a good reference and start, respectively. <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/re.html</a> <a href=\"https://www.w3schools.com/python/python_regex.asp\" rel=\"nofollow noreferrer\">w3schools.com/python/python_regex.asp</a>"}], "tags": [], "owner": {"reputation": 156, "user_id": 11699559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qbmog.jpg?s=128&g=1", "display_name": "iiKop47", "link": "https://stackoverflow.com/users/11699559/iikop47"}, "is_accepted": true, "score": 1, "last_activity_date": 1570656592, "creation_date": 1570656592, "answer_id": 58312582, "question_id": 58312474, "link": "https://stackoverflow.com/questions/58312474/the-first-while-loop-iterates-but-does-not-change-the-value-inside-of-the-secon/58312582#58312582", "title": "the first while loop iterates, but does not change the value inside of the second loop", "body": "<p>Seem like one issue is that the <code>i</code> variable is not getting reset to <code>0</code> after a complete iteration of the outer <code>while</code> loop. You should reset the <code>i</code> value in the outer loop. </p>\n\n<p>Better yet, consider changing both <code>while</code> loops to <code>for</code> loops using the <code>for i in range(length):</code> construction of iteration. </p>\n\n<p>Hope this helps!</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/python-range-function/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/python-range-function/</a></p>\n"}, {"comments": [{"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1570657739, "post_id": 58312651, "comment_id": 102986482, "body": "Yes, agree this is much better than the direction of the original code."}], "tags": [], "owner": {"reputation": 3868, "user_id": 5677602, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Obp2Z.png?s=128&g=1", "display_name": "jbndlr", "link": "https://stackoverflow.com/users/5677602/jbndlr"}, "is_accepted": false, "score": 2, "last_activity_date": 1570656969, "creation_date": 1570656969, "answer_id": 58312651, "question_id": 58312474, "link": "https://stackoverflow.com/questions/58312474/the-first-while-loop-iterates-but-does-not-change-the-value-inside-of-the-secon/58312651#58312651", "title": "the first while loop iterates, but does not change the value inside of the second loop", "body": "<p>There's too much replication and it can be further generalized. If you do not need the trailing digit after <code>MD</code> for any comparison, just omit the lines that look like that right away.</p>\n\n<p>The following code loads all data into a list and at the same time checks whether the first data field matches <code>^MD\\d+$</code>, which means <em>starts with <code>MD</code> followed by one or more digits without any additional trailing character</em>:</p>\n\n<pre><code>import csv\nimport re\n\nwith open('Sheet7.tsv', newline='') as infile:\n    reader = csv.reader(infile, delimiter='\\t')\n    data = [\n        line for line in reader\n        if not re.match('^MD\\d+$', line[0].strip())\n    ]\n</code></pre>\n\n<p>Your resulting list is then stored in the <code>data</code> variable and should be ready for further calculations.</p>\n"}, {"tags": [], "owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "is_accepted": false, "score": 0, "last_activity_date": 1570658427, "creation_date": 1570658427, "answer_id": 58312851, "question_id": 58312474, "link": "https://stackoverflow.com/questions/58312474/the-first-while-loop-iterates-but-does-not-change-the-value-inside-of-the-secon/58312851#58312851", "title": "the first while loop iterates, but does not change the value inside of the second loop", "body": "<p>If I were you I'd do sth like</p>\n\n<pre><code>data_list = []\nwith open('Sheet7.tsv') as f:\n    for line in f:\n        cols = line.split('\\t')\n        if cols[0].startswith('MD') and cols[0][2:].isdigit():\n            data_list.append(cols)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12191493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBAY5zEAoykFE5sybeq1pDpAwq54BLt2LbJ7PWYvcs=k-s128", "display_name": "Ethan Day", "link": "https://stackoverflow.com/users/12191493/ethan-day"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 58312582, "answer_count": 3, "score": 0, "last_activity_date": 1570658427, "creation_date": 1570656059, "question_id": 58312474, "link": "https://stackoverflow.com/questions/58312474/the-first-while-loop-iterates-but-does-not-change-the-value-inside-of-the-secon", "title": "the first while loop iterates, but does not change the value inside of the second loop", "body": "<p>I am trying to use a nested loop in order to delete certain lines from a .tsv file that i have. The lines that i want to delete all start with MD# and i am trying to iterate the number using a while loop.</p>\n\n<p>The first time that the number is used 'MD1' all 10 of the lines that contain that as the first string on the line are removed, however afterwards MD2, MD3, etc are not.</p>\n\n<p>As I am still a bit rusty with Python I had set up a very crude if statement in order to remove the lines, this worked although it is not the prettiest code in the world.</p>\n\n<p>included is an example of what the data looks like, 4 columns wide, 320 rows</p>\n\n<pre><code>[['MD1', 'Liverpool', 'Draw', 'Norwich'],\n ['Google', '0.85', '0.10', '0.05'],\n ['Bookies', '0.14', '7.00', '25.00'],\n ['Outcome', '11.43', '80.00', '260.00'],\n ['MD1', 'West Ham', 'Draw', 'Man. City'],\n ['Google', '0.09', '0.17', '0.74'],\n ['Bookies', '12.00', '5.00', '0.25'],\n ['Outcome', '130.00', '60.00', '12.50'],\n ['MD1', 'Crystal Palace', 'Draw', 'Everton'],\n ['Google', '0.30', '0.30', '0.40'],\n ['Bookies', '2.10', '2.20', '1.38'],\n ['Outcome', '31.00', '32.00', '23.75'],\n ['MD1', 'Burnley', 'Draw', 'Southhampton'],\n ['Google', '0.35', '0.31', '0.34'],\n ['Bookies', '1.63', '2.20', '1.75'],\n ['Outcome', '26.25', '32.00', '27.50'],\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>import csv\nimport numpy as np\n\ndata_list = []\nwith open('Sheet7.tsv',newline = '') as data:\n    data_reader = csv.reader(data, delimiter = '\\t')\n    for data in data_reader:\n        data_list.append((data))\ndatamod = np.array([])\ndatamod = data_list\n\ngames = 8\ni = 0\ng = 1\n\nwhile g &lt;= games:\n    MDg = ('MD'+str(g))\n    g +=1\n    while i &lt; len(datamod):\n\n        if datamod[i][0] == MDg:\n            datamod = np.delete(datamod, i, axis = 0)\n            i +=1\n\n        else:\n            i +=1\n</code></pre>\n\n<p>alternative code used </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>while i &lt; len(datamod):\n    if datamod[i][0] == 'MD1':\n        datamod = np.delete(datamod, i, axis = 0)\n    if datamod[i][0] == 'MD2':\n        datamod = np.delete(datamod, i, axis = 0)\n    if datamod[i][0] == 'MD3':\n        datamod = np.delete(datamod, i, axis = 0)\n    if datamod[i][0] == 'MD4':\n        datamod = np.delete(datamod, i, axis = 0)\n    if datamod[i][0] == 'MD5':\n        datamod = np.delete(datamod, i, axis = 0)\n    if datamod[i][0] == 'MD6':\n        datamod = np.delete(datamod, i, axis = 0)\n    if datamod[i][0] == 'MD7':\n        datamod = np.delete(datamod, i, axis = 0)\n    if datamod[i][0] == 'MD8':\n        datamod = np.delete(datamod, i, axis = 0)\n    i += 1\n</code></pre>\n\n<p>so i would expect the result to not have every 4th line and therefore be a list with 240 rows instead of the original 320</p>\n\n<p>if anyone could help me with this it would be much appreciated :)</p>\n"}, {"tags": ["python", "scikit-learn", "cluster-analysis"], "answers": [{"tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": true, "score": 1, "last_activity_date": 1570665453, "creation_date": 1570665453, "answer_id": 58313666, "question_id": 58312455, "link": "https://stackoverflow.com/questions/58312455/difference-between-nmi-and-ami-scores/58313666#58313666", "title": "Difference between NMI and AMI scores", "body": "<p>Adjusted Mutual Information is rescaled such that a random clustering has score 0.</p>\n\n<p>With NMI, even randomly shuffled labels will get a positive score.</p>\n"}], "owner": {"reputation": 2020, "user_id": 3279603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zp3k.jpg?s=128&g=1", "display_name": "aminrd", "link": "https://stackoverflow.com/users/3279603/aminrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 58313666, "answer_count": 1, "score": 0, "last_activity_date": 1570665453, "creation_date": 1570655932, "question_id": 58312455, "link": "https://stackoverflow.com/questions/58312455/difference-between-nmi-and-ami-scores", "title": "Difference between NMI and AMI scores", "body": "<p>Can someone explain the difference between two normalized versions of measurements (<strong>NMI</strong> and <strong>AMI</strong>) that measure the agreement of the two assignments, ignoring permutations.</p>\n\n<p>Let consider this code: </p>\n\n<pre><code>from sklearn import metrics\nlabels_true = [0, 0, 0, 1, 1, 1]\nlabels_pred = [0, 0, 1, 1, 2, 2]\n\n# AMI score: \nscore_ami = metrics.adjusted_mutual_info_score(labels_true, labels_pred)  \nprint(score_ami)\n\n# NMI Score\nscore_nmi = metrics.normalized_mutual_info_score(labels_true, labels_pred)  \nprint(score_nmi)\n\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1570655790, "post_id": 58312412, "comment_id": 102985878, "body": "What is being calculated here? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 1, "user_id": 12191495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f16932888e1026f0cb49d09184e85e8?s=128&d=identicon&r=PG&f=1", "display_name": "maakef", "link": "https://stackoverflow.com/users/12191495/maakef"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1570656099, "post_id": 58312412, "comment_id": 102985972, "body": "In general my code is df[&#39;current_degree&#39;] = df.apply(lambda row: row.starting_degree - row.rotation, axis = 1), but I&#39;d like the starting degree figure to change based on ID and any previous calculations"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1570656151, "post_id": 58312412, "comment_id": 102985990, "body": "Please <a href=\"https://stackoverflow.com/posts/58312412/edit\">edit</a> your code into the question, as comments make code unreadable"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1570656346, "post_id": 58312412, "comment_id": 102986045, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48350850/subtract-two-columns-in-dataframe\">Subtract two columns in dataframe</a>"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 2, "creation_date": 1570656437, "post_id": 58312412, "comment_id": 102986076, "body": "The basic question is answered in the linked duplicate, but if you need more in-depth calculations, you need to ask a more specific question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, again, perhaps taking a look at <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">How to make good pandas examples</a>"}], "answers": [{"tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 0, "last_activity_date": 1570657171, "creation_date": 1570657171, "answer_id": 58312682, "question_id": 58312412, "link": "https://stackoverflow.com/questions/58312412/reiterative-sum-based-on-previous-values-and-an-id-on-python/58312682#58312682", "title": "Reiterative sum based on previous values and an ID on Python?", "body": "<p>IIUC, you want to calculate the current degree given the rotation:</p>\n\n<pre><code># assume that all IDs start with 360\ndf['Start'] = 360\n\n# grouping by ID\ngroups = df.groupby(\"ID\")\n\n# compute the total rotation by cumsum\ndf['Rot_so_far'] = groups.Rotation.cumsum()\n\n# current degree\ndf['Current_degree'] = df['Start'] - df['Rot_so_far']\n</code></pre>\n\n<p>You may want to do a modulo by 360 for non-negative current degree.</p>\n"}], "owner": {"reputation": 1, "user_id": 12191495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f16932888e1026f0cb49d09184e85e8?s=128&d=identicon&r=PG&f=1", "display_name": "maakef", "link": "https://stackoverflow.com/users/12191495/maakef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570657171, "creation_date": 1570655704, "last_edit_date": 1570656376, "question_id": 58312412, "link": "https://stackoverflow.com/questions/58312412/reiterative-sum-based-on-previous-values-and-an-id-on-python", "title": "Reiterative sum based on previous values and an ID on Python?", "body": "<p>I'd like to see if there's a way to calculate something like the following on Python, is it possible?</p>\n\n<pre><code>ID Rotation Starting_degree Current_degree\n1  40       360             320\n1  55       320             265\n2  70       360             290\n1  15       265             250\n2  20       290             270\n3  30       360             330\n3  60       330             270\n1  25       250             225\n</code></pre>\n\n<p>In general my code is <code>df['current_degree'] = df.apply(lambda row: row.starting_degree - row.rotation, axis = 1)</code>, but I'd like the starting degree figure to change based on ID and any previous calculations.</p>\n\n<p>With each new ID the starting degree resets to 360.</p>\n"}, {"tags": ["python", "ros"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12191443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dseg0.jpg?s=128&g=1", "display_name": "Lawton Stone", "link": "https://stackoverflow.com/users/12191443/lawton-stone"}, "edited": false, "score": 0, "creation_date": 1570850169, "post_id": 58333596, "comment_id": 103055675, "body": "My apologies, I should have mentioned that the controller input is being given to a Windows machine, and the ROS server is running on a Linux machine. I&#39;m accomplishing this via rosbridge. This is the spec I&#39;ve been asked to implement so I can&#39;t get around the OS limitations. It was my understanding that rospy didn&#39;t work outside of a machine running ROS, if I&#39;m mistaken I&#39;ll be glad to hear it. I&#39;ll fix the info in my question soon."}, {"owner": {"reputation": 667, "user_id": 6069586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e311d75e91cf59485b157b5b8e8004be?s=128&d=identicon&r=PG&f=1", "display_name": "JWCS", "link": "https://stackoverflow.com/users/6069586/jwcs"}, "reply_to_user": {"reputation": 21, "user_id": 12191443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dseg0.jpg?s=128&g=1", "display_name": "Lawton Stone", "link": "https://stackoverflow.com/users/12191443/lawton-stone"}, "edited": false, "score": 0, "creation_date": 1570990502, "post_id": 58333596, "comment_id": 103083297, "body": "Well, that changes the dynamic of your question entirely. Can you put, in detail, the hardware/software setup &amp; versions you&#39;re using? Does your talker node live on windows, with the gamepad, and then there&#39;s a robot/server running a rosbridge_server &amp; other ros stuff?"}, {"owner": {"reputation": 21, "user_id": 12191443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dseg0.jpg?s=128&g=1", "display_name": "Lawton Stone", "link": "https://stackoverflow.com/users/12191443/lawton-stone"}, "edited": false, "score": 0, "creation_date": 1571163349, "post_id": 58333596, "comment_id": 103146215, "body": "Updated the question, sorry for not including this information in the initial question! If I&#39;m still missing information I can try to add more."}], "tags": [], "owner": {"reputation": 667, "user_id": 6069586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e311d75e91cf59485b157b5b8e8004be?s=128&d=identicon&r=PG&f=1", "display_name": "JWCS", "link": "https://stackoverflow.com/users/6069586/jwcs"}, "is_accepted": false, "score": 0, "last_activity_date": 1570762058, "creation_date": 1570762058, "answer_id": 58333596, "question_id": 58312397, "link": "https://stackoverflow.com/questions/58312397/roslibpy-messages-dont-hold-more-than-one-keyvalue-pair/58333596#58333596", "title": "roslibpy Messages don&#39;t hold more than one keyvalue pair", "body": "<p>Few things. One, have you seen <a href=\"https://wiki.ros.org/joy\" rel=\"nofollow noreferrer\"><code>Joy</code></a>? It's a standard node for reading events from a gamepad and publishing as a ROS <a href=\"https://docs.ros.org/kinetic/api/sensor_msgs/html/msg/Joy.html\" rel=\"nofollow noreferrer\">sensor_msgs/Joy</a> message. </p>\n\n<p>Second, you shouldn't use roslibpy, you should use <a href=\"https://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber%28python%29\" rel=\"nofollow noreferrer\"><code>rospy</code></a>. See those examples.</p>\n\n<p>Lastly, you'll have far more success (after using rospy) if you try to use standard message types defined by ROS. If you still have problems after trying to use rospy (and joy_node?), make a new question.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12191443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dseg0.jpg?s=128&g=1", "display_name": "Lawton Stone", "link": "https://stackoverflow.com/users/12191443/lawton-stone"}, "is_accepted": false, "score": 0, "last_activity_date": 1571168335, "creation_date": 1571168335, "answer_id": 58401601, "question_id": 58312397, "link": "https://stackoverflow.com/questions/58312397/roslibpy-messages-dont-hold-more-than-one-keyvalue-pair/58401601#58401601", "title": "roslibpy Messages don&#39;t hold more than one keyvalue pair", "body": "<p>I may have found the information I was looking for. <a href=\"https://docs.ros.org/api/std_msgs/html/index-msg.html\" rel=\"nofollow noreferrer\">The Docs for ROS message types</a> show that while each message type can be treated as a dictionary, it has a hard definition of what keyvalue pairs and data types can be put into each message type. I wasn't aware of this, and was working under the assumption that I could have multiple entries with any name in any message type as long as they were the correct data type. So in the context of my question specifically, it seems that it would be best to concatenate the three pieces of information given by the gamepad into a single string (because <a href=\"https://docs.ros.org/api/std_msgs/html/msg/String.html\" rel=\"nofollow noreferrer\">std_msgs/String</a> only holds a single string named data) and have the listener break the string apart again after receiving the message.</p>\n"}], "owner": {"reputation": 21, "user_id": 12191443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dseg0.jpg?s=128&g=1", "display_name": "Lawton Stone", "link": "https://stackoverflow.com/users/12191443/lawton-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1571168335, "creation_date": 1570655648, "last_edit_date": 1571163219, "question_id": 58312397, "link": "https://stackoverflow.com/questions/58312397/roslibpy-messages-dont-hold-more-than-one-keyvalue-pair", "title": "roslibpy Messages don&#39;t hold more than one keyvalue pair", "body": "<p>I'm working on sending input from a gamepad over rosbridge, using the inputs python module to get input from the gamepad. Each gamepad event has three pieces of information, the event type (afaik for telling between analog vs button input), the event code (the name of the button/joystick), and event state (analog values). If I send each of these pieces of information separately as their own Messages things work fine, but I'm trying to send all three in one message. Roslibpy's source and readthedocs both claim that messages are just dictionaries and can be treated as such, but if I try to send a message with more than on keyvalue pair I get error messages on the rosbridge server's console. EDIT: I'm using roslibpy because the talker node is on windows 7 and I'm sending information to a ROS Melodic server on ubuntu 18.04 via rosbridge.</p>\n\n<p>In the example below, if I call talker.publish() with a Message containing a single keyvalue pair dictionary, the message sends successfully. With multiple pairs in the dictionary as shown below, I get errors.</p>\n\n<p>the talker node:</p>\n\n<pre><code>from __future__ import print_function\nimport time\n\nimport roslibpy\n\nfrom inputs import get_gamepad\n\ndef main():\n    client = roslibpy.Ros(host='localhost', port=9090)\n    client.run()\n\n    talker = roslibpy.Topic(client, '/chatter', 'std_msgs/String')\n\n    while client.is_connected:\n        events = get_gamepad()\n        for event in events:\n            talker.publish(roslibpy.Message({'data': str(event.ev_type), 'btype': str(event.code), 'value': str(event.state) }))\n            print('Sending message...\\n')\n\n    talker.unadvertise()\n\n    client.terminate()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>the listener node:</p>\n\n<pre><code>from __future__ import print_function\nimport roslibpy\n\ndef main():\n    client = roslibpy.Ros(host='localhost', port=9090)\n    client.run()\n\n    listener = roslibpy.Topic(client, '/chatter', 'std_msgs/String')\n    listener.subscribe(lambda message: out(message))\n\n    try:\n        while True:\n            pass\n    except KeyboardInterrupt:\n        client.terminate()\n\ndef out( dict ):\n\n    print('input type: ' + dict['data'])\n    print('input button: ' + dict['btype'])\n    print('button value: ' + dict['value'])\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>The error messages (there are many of them but the only thing that changes is publish:/chatter[a counter]):</p>\n\n<pre><code>[ERROR] [1570653818.070547]: [Client 26] [id: publish:/chatter:35] publish: Message type std_msgs/String does not have a field btype\n[ERROR] [1570653818.070547]: [Client 26] [id: publish:/chatter:36] publish: Message type std_msgs/String does not have a field btype\n</code></pre>\n\n<p>Is this an exercise in futility and I should just try concatenating all of the gamepad event information into a single string, or is there something I'm missing and it really is possible to use a dictionary with more than one pair in a ros message?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570657464, "post_id": 58312396, "comment_id": 102986410, "body": "When you reach a resolution, please remember to up-vote useful answers and accept the best (even if you have to write it yourself).  This allows Stack Overflow to archive your question."}], "answers": [{"comments": [{"owner": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "edited": false, "score": 0, "creation_date": 1570656137, "post_id": 58312484, "comment_id": 102985985, "body": "This is not an answer to the OP ! the question is why this happens? you are answering how to prevent it"}, {"owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1570656919, "post_id": 58312484, "comment_id": 102986248, "body": "I understand what an instance variable is, don&#39;t think this answers the question. I&#39;m wondering about class attributes, explicitly."}], "tags": [], "owner": {"reputation": 424, "user_id": 6616963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CuoIKTcd_YE/AAAAAAAAAAI/AAAAAAAABH8/nrRetY0-w-s/photo.jpg?sz=128", "display_name": "Yatish Kadam", "link": "https://stackoverflow.com/users/6616963/yatish-kadam"}, "is_accepted": false, "score": -1, "last_activity_date": 1570725713, "last_edit_date": 1570725713, "creation_date": 1570656092, "answer_id": 58312484, "question_id": 58312396, "link": "https://stackoverflow.com/questions/58312396/why-does-updating-a-class-attribute-not-update-all-instances-of-the-class/58312484#58312484", "title": "Why does updating a class attribute not update all instances of the class?", "body": "<p>If your asking how to avoid this? </p>\n\n<pre><code>class A:\n    def __init__(self):\n        self.ls = []\na,b = A(), A()\na.ls.append(0)\n</code></pre>\n\n<p>using </p>\n\n<blockquote>\n  <p>__init__() will make the instances individual </p>\n</blockquote>\n\n<p>Here's an example of what you're doing.. </p>\n\n<pre><code>class B:\nls = []\ndef __init__(self):\n    pass\n\n\nc,d = B(),B()\nc.ls == d.ls\nOut[21]: True\n</code></pre>\n\n<p>As you can see they still reference the same variable from the B's object.</p>\n\n<p>This is because </p>\n\n<blockquote>\n  <p>One is a class attribute, while the other is an instance attribute.</p>\n</blockquote>\n\n<p>So the list ls that is declared outside the instantiation is being <code>shared by all the instances of B</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1083, "user_id": 4739755, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-xGt648wZsco/AAAAAAAAAAI/AAAAAAAAAGo/EfA-KvgfzKo/photo.jpg?sz=128", "display_name": "b_c", "link": "https://stackoverflow.com/users/4739755/b-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1570656338, "creation_date": 1570656338, "answer_id": 58312531, "question_id": 58312396, "link": "https://stackoverflow.com/questions/58312396/why-does-updating-a-class-attribute-not-update-all-instances-of-the-class/58312531#58312531", "title": "Why does updating a class attribute not update all instances of the class?", "body": "<p>I believe <a href=\"https://stackoverflow.com/a/12409963/4739755\">this answer</a> explains what's happening.</p>\n\n<p>In the class <code>A</code>, <code>arr</code> is a <em>class attribute</em>:</p>\n\n<blockquote>\n  <p>...all instances of Foo [A] share foovar [arr]</p>\n</blockquote>\n\n<p>When you <code>.append()</code>, you're operating directly on the list object <code>arr</code>. When you assign (<code>a1.arr = [1, 2, 3]</code>), you're creating a new list object and assigning it as an instance attribute (effectively <code>self.arr</code>) on <code>a1</code> that takes priority over the class attribute <code>A.arr</code>.</p>\n\n<blockquote>\n  <p>If we don't touch foovar, it's the same for both f and Foo. But if we change f.foovar... &lt;&lt; code snippet >> ...we add an instance attribute that effectively masks the value of Foo.foovar. Now if we change Foo.foovar directly, it doesn't affect our foo instance:</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2421, "user_id": 4508178, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vUogy15CTss/AAAAAAAAAAI/AAAAAAAAAAg/mD8TEjxHpt4/photo.jpg?sz=128", "display_name": "Derte Trdelnik", "link": "https://stackoverflow.com/users/4508178/derte-trdelnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1570656352, "creation_date": 1570656352, "answer_id": 58312535, "question_id": 58312396, "link": "https://stackoverflow.com/questions/58312396/why-does-updating-a-class-attribute-not-update-all-instances-of-the-class/58312535#58312535", "title": "Why does updating a class attribute not update all instances of the class?", "body": "<pre><code>class C:\n    class_attribute=2\n\n    def __init__(self):\n        self.instance_attribute='boo'\n</code></pre>\n\n<p>if you query an attribute of a class instance (<code>my_instance.foo</code>), the returned value is instance attribute if it exists, if not class attribute</p>\n\n<p>if you assign to an instance(<code>my_instance.foo = 42</code>), an instance attribute is created, it can have the same name,  and it shadows the class attribute</p>\n"}, {"tags": [], "owner": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "is_accepted": false, "score": 1, "last_activity_date": 1570656679, "last_edit_date": 1570656679, "creation_date": 1570656360, "answer_id": 58312539, "question_id": 58312396, "link": "https://stackoverflow.com/questions/58312396/why-does-updating-a-class-attribute-not-update-all-instances-of-the-class/58312539#58312539", "title": "Why does updating a class attribute not update all instances of the class?", "body": "<p>When you define a <code>class variable</code>, and you assign a list to it, the address of the list would be assigned to the <code>class variable</code>:</p>\n\n<pre><code>class A:\n    arr = []\n</code></pre>\n\n<p>That's why in the first case, when you append <code>0</code> to <code>arr</code>, it would be added to all object's <code>arr</code>.</p>\n\n<p>When you assign <code>a1.arr = [1,2,3]</code>, the address of <code>arr</code> in object <code>a1</code> changes, that's the reason <code>a2.arr</code> doesn't change !</p>\n\n<p>And about the second case, you are assigning the value of a string variable to <code>value</code>. so if you change <code>b1.value</code>, it doesn't change <code>b2.value</code></p>\n\n<pre><code>class B:\n    value = ''\n</code></pre>\n\n<p>By the way in other languages, this problem is exactly about the difference between <code>reference</code> and <code>value</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1570657286, "post_id": 58312545, "comment_id": 102986357, "body": "Using the <code>id()</code> function really cleared this one up - exposes that <code>b2.value</code> still refers to <code>B.value</code>, while <code>b1.value</code> (after it is set to <code>hello</code>) does not refer to <code>B.value</code>"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1570656377, "creation_date": 1570656377, "answer_id": 58312545, "question_id": 58312396, "link": "https://stackoverflow.com/questions/58312396/why-does-updating-a-class-attribute-not-update-all-instances-of-the-class/58312545#58312545", "title": "Why does updating a class attribute not update all instances of the class?", "body": "<p>You're confused over the handling of class attributes and instance attributes.  An instance attribute will <em>default</em> to the class attribute.  However, when you specifically change an instance, you create an instance attribute.  Let's walk through your sequence with class B:</p>\n\n<pre><code>class B:\n    value = ''\n# You have a single attribute, `B.value`\n\nb1, b2 = B(), B()\nb1.value = 'hello'\n# This shadows b1's reference to B.value,\n# inserting a local reference to its own attribute of the same name.\n# You can check this with the id() function\n\nb2.value   # this still refers to the class attribute.\n</code></pre>\n\n<p>Is it clear from here?</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10361195, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-azHRLRzT3CU/AAAAAAAAAAI/AAAAAAAAAD0/XXQlx-Ch8pM/photo.jpg?sz=128", "display_name": "Jokerkeny", "link": "https://stackoverflow.com/users/10361195/jokerkeny"}, "is_accepted": false, "score": 0, "last_activity_date": 1570855791, "creation_date": 1570855791, "answer_id": 58350955, "question_id": 58312396, "link": "https://stackoverflow.com/questions/58312396/why-does-updating-a-class-attribute-not-update-all-instances-of-the-class/58350955#58350955", "title": "Why does updating a class attribute not update all instances of the class?", "body": "<h1>Name and Bind: What does \"=\" do</h1>\n\n<p>In a short word, Python doesn't have real <strong>variable</strong>. The <strong>variable</strong> you see is actually a <strong>name</strong>(like the <strong>alias</strong> in other languages). And the operator <code>=</code>, which is always called <strong>Assignment</strong>, <strong>bind</strong> the name to an <strong>object</strong>. (In Python, everything is an object)</p>\n\n<p>For example:</p>\n\n<pre><code>x = 3\n</code></pre>\n\n<p>The <code>=</code> doesn't really change the value of <code>x</code>, coz actually there is no variable <code>x</code> contain a value.<br>\nInstead, it creates a <strong>immutable object</strong> <code>3</code> and makes <code>x</code> a name <strong>bind</strong> to it.(similar to C++'s <strong>reference</strong>) </p>\n\n<p>So, if we do  </p>\n\n<pre><code>&gt;&gt;&gt; a = [1,2]\n&gt;&gt;&gt; b = a\n&gt;&gt;&gt; print(id(a)) # id(object) will return the address of object in memory\n2426261961288\n&gt;&gt;&gt; print(id(b))\n2426261961288\n&gt;&gt;&gt; a is b # operator \"is\" evaluate whether a and b refer to the same object.  \nTrue\n&gt;&gt;&gt; b.append(3)\n&gt;&gt;&gt; print(id(b)) # b's address didn't change\n2426261961288\n&gt;&gt;&gt; print(a)\n[1, 2, 3]\n&gt;&gt;&gt; print(b)\n[1, 2, 3]\n</code></pre>\n\n<p>First, <code>a = [1,2]</code> binds the name <code>a</code> to an <strong>mutable object</strong>, which is a list <code>[1, 2]</code>.(For better understanding, I would annotate this underlying object a nickname <em>OBJ_288</em>)<br>\nThen, <code>b = a</code> binds <code>b</code> to the same <strong>object</strong> which <code>a</code> reference to, <em>OBJ_288</em>.<br>\nYou can see, <code>id(a)</code> is the same as <code>id(b)</code>, which means their <strong>addresses</strong> are the same.<br>\n<code>b.append(3)</code> actually change the object <code>b</code> is bound to(as <code>b.append</code> refers to a method of <em>OBJ_288</em>). Now <em>OBJ_288</em> becomes <code>[1, 2, 3]</code>, to whom <code>a</code> and <code>b</code> are bound to.<br>\nSo when we <code>print(a)</code> and <code>print(b)</code>, the results are the same.</p>\n\n<p>However, if we do</p>\n\n<pre><code>&gt;&gt;&gt; b = [4, 5, 6]\n&gt;&gt;&gt; a is b\nFalse\n&gt;&gt;&gt; id(a)\n2426261961288\n&gt;&gt;&gt; id(b)\n2426262048840\n&gt;&gt;&gt; print(a)\n[1, 2, 3]\n</code></pre>\n\n<p>When we call operator<code>=</code> for <code>b</code>, <code>b</code> will bind to another <strong>object</strong> (here is the new object we created by [4, 5, 6], let's nickname it <em>OBJ840</em>)<br>\nWhile <code>a</code> still refers to <em>OBJ_288</em>, <code>print(a)</code> is still <code>[1, 2, 3]</code></p>\n\n<p>For detail, please see the following references (If you have knowledge of C++, you could understand the first 2 references easier):<br>\n<a href=\"https://realpython.com/pointers-in-python/#names-in-python\" rel=\"nofollow noreferrer\">https://realpython.com/pointers-in-python/#names-in-python</a><br>\n<a href=\"https://eev.ee/blog/2012/05/23/python-faq-passing/\" rel=\"nofollow noreferrer\">https://eev.ee/blog/2012/05/23/python-faq-passing/</a><br>\nAlso, the detailed rules are stated in Python Official Reference.<br>\n<a href=\"https://docs.python.org/3/reference/executionmodel.html#naming-and-binding\" rel=\"nofollow noreferrer\">https://docs.python.org/3/reference/executionmodel.html#naming-and-binding</a></p>\n\n<h1>Scope, Class attribute and Instance attribute</h1>\n\n<p>In your code:</p>\n\n<pre><code>class A:\n    arr = []\n&gt;&gt;&gt; a1, a2 = A(), A()\n&gt;&gt;&gt; a1.arr.append(0)\n</code></pre>\n\n<p><code>a1</code> is an instance of <code>class A</code>, and in Python, for attribute name resolution, <em>every instance creates a namespace, which is the first place in which <strong>attributes</strong> references are searched, if not found, it will continue searching in its class namespace(where the <strong>class attributes</strong> are)</em>.<br>\nSo in your case, since <code>a1</code> has no instance attr named <code>arr</code>, it refers to class A's attribute <code>A.arr</code>. and <code>append</code> is <code>A.arr</code>'s method, which would modify <code>A.arr</code>, which results: </p>\n\n<pre><code>&gt;&gt;&gt; A.arr\n[0]\n</code></pre>\n\n<p>But if you do</p>\n\n<pre><code>&gt;&gt;&gt; a1.arr = [1,2,3]\n</code></pre>\n\n<p>Remember I said in <strong>Name and Bind: What does \"=\" do</strong>, the <strong>=</strong> assignment would binds its left hand side name to its right hand side object.<br>\nAlso, in Python, <em>assignments to names always go into the innermost scope(except specified by <code>global</code> or <code>nonlocal</code>)</em>. Here it means, it will bind <strong>object</strong> [1,2,3] to <code>a1.arr</code>, which is <code>a1</code>'s instance attribute, even it doesn't exist before.<br>\nNow <code>a1</code> has a new <strong>instance attribute</strong> <code>arr</code>, so <code>a1.arr</code>, as the attribute name resolution rule, it will shadow <code>A.arr</code>. That's why:</p>\n\n<pre><code>&gt;&gt;&gt; a1.arr\n[1, 2, 3]\n</code></pre>\n\n<p>And class A's class attribute <code>A.arr</code> is not affected. </p>\n\n<pre><code>&gt;&gt;&gt; a2.arr\n[0]\n&gt;&gt;&gt; A.arr\n[0]\n</code></pre>\n\n<p>Reference:<br>\n<a href=\"https://docs.pythonorg/3/reference/datamodel.html#the-standard-type-hierarchy\" rel=\"nofollow noreferrer\">https://docs.pythonorg/3/reference/datamodel.html#the-standard-type-hierarchy</a> item <strong>Class instances</strong><br>\n<a href=\"https://docs.python.org/3/tutorial/classes.html#a-word-about-names-and-objects\" rel=\"nofollow noreferrer\">https://docs.python.org/3/tutorial/classes.html#a-word-about-names-and-objects</a></p>\n"}], "owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 58312545, "answer_count": 6, "score": 1, "last_activity_date": 1570855791, "creation_date": 1570655643, "last_edit_date": 1570657244, "question_id": 58312396, "link": "https://stackoverflow.com/questions/58312396/why-does-updating-a-class-attribute-not-update-all-instances-of-the-class", "title": "Why does updating a class attribute not update all instances of the class?", "body": "<p>Suppose I have the following class:</p>\n\n<pre><code>class A:\n    arr = []\n</code></pre>\n\n<p>If I append to <code>arr</code> for an instance of <code>A</code>, all instances of <code>A</code> are updated.</p>\n\n<pre><code>&gt;&gt;&gt; a1, a2 = A(), A()\n&gt;&gt;&gt; a1.arr.append(0)\n&gt;&gt;&gt; a1.arr\n[0]\n&gt;&gt;&gt; a2.arr\n[0]\n&gt;&gt;&gt; A.arr\n[0]\n</code></pre>\n\n<p>However, if I set <code>arr</code> to an array literal for an instance of <code>A</code>, other instances are <em>not</em> updated:</p>\n\n<pre><code>&gt;&gt;&gt; a1.arr = [1,2,3]\n&gt;&gt;&gt; a1.arr\n[1, 2, 3]\n&gt;&gt;&gt; a2.arr\n[0]\n&gt;&gt;&gt; A.arr\n[0]\n</code></pre>\n\n<p><em>Why does this occur? When the class attribute is a list, why are there different results between <code>append</code> and <code>=</code>?</em></p>\n\n<p>I also noticed similar behavior when the class attribute is not an array:</p>\n\n<pre><code>class B:\n    value = ''\n</code></pre>\n\n<pre><code>&gt;&gt;&gt; b1, b2 = B(), B()\n&gt;&gt;&gt; b1.value = 'hello'\n&gt;&gt;&gt; b1.value\n'hello'\n&gt;&gt;&gt; b2.value\n''\n&gt;&gt;&gt; B.value\n''\n</code></pre>\n\n<pre><code>&gt;&gt;&gt; B.value = 'goodbye'\n&gt;&gt;&gt; b1.value\n'hello'\n&gt;&gt;&gt; b2.value\n'goodbye'\n&gt;&gt;&gt; B.value\n'goodbye'\n</code></pre>\n\n<p><em>Why does the behavior seem different when the class attribute is a string? When <code>b1</code>'s value is already set, why does <code>B.value = ...</code> only update <code>b2</code>'s value and not <code>b1</code>'s?</em></p>\n"}, {"tags": ["python", "sql-server", "pandas", "sqlalchemy"], "comments": [{"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1570655774, "post_id": 58312376, "comment_id": 102985876, "body": "I don&#39;t understand this: <code>results display as a decimal with trailing decimal values.</code>.  Can you evolve this question into a self-contained python demo that demonstrates the issue?"}], "answers": [{"tags": [], "owner": {"reputation": 62250, "user_id": 1570000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9vF6V.jpg?s=128&g=1", "display_name": "John Cappelletti", "link": "https://stackoverflow.com/users/1570000/john-cappelletti"}, "is_accepted": false, "score": 0, "last_activity_date": 1570656352, "creation_date": 1570656352, "answer_id": 58312536, "question_id": 58312376, "link": "https://stackoverflow.com/questions/58312376/appending-sales-data-to-a-ms-sql-server-table-as-a-varchar-with-only-two-decimal/58312536#58312536", "title": "Appending sales data to a MS SQL-Server table as a VARCHAR with only two decimal places via python", "body": "<p>The following will format and round the number to two decimals.  I tend to use <code>try_convert(money,...)</code> it tends to be a little more forgiving.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>Declare @YourTable Table ([Product] varchar(50),[Sales] varchar(50))  \nInsert Into @YourTable Values \n ('Apple','$1,245.456')\n,('Banana','567.54')\n,('Pear','43.435')\n,('Peach','432.32')\n,('Fig','32')\n\nSelect *\n      ,AsString = format(try_convert(money,Sales),'0.00') \n From @YourTable\n</code></pre>\n\n<p><strong>Returns</strong></p>\n\n<pre><code>Product Sales       AsString\nApple   $1,245.456  1235.46  &lt;&lt; Notice Rounded and $ and , not an issue\nBanana  567.54      567.54\nPear    43.435      43.44\nPeach   432.32      432.32\nFig     32          32.00     &lt;&lt; Notice two decimals\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 3680657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5lgzP.jpg?s=128&g=1", "display_name": "Tom Crews", "link": "https://stackoverflow.com/users/3680657/tom-crews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570656352, "creation_date": 1570655525, "question_id": 58312376, "link": "https://stackoverflow.com/questions/58312376/appending-sales-data-to-a-ms-sql-server-table-as-a-varchar-with-only-two-decimal", "title": "Appending sales data to a MS SQL-Server table as a VARCHAR with only two decimal places via python", "body": "<p>This is a specific question for a python ETL process involving pandas and MS SQL-Server, with a sqlalchemy connection.</p>\n\n<p>If sales data is received as a number with more than two decimal places (ex: $1,245.456), how can it be appended to a sales table that is a VARCHAR data type. The sales column is a VARCHAR and cannot be altered to a different datatype.</p>\n\n<p>my_sales_file.xlsx looks like this:</p>\n\n<pre><code>Product | Sales\n--------|--------\nApple   | 1235.456\nBanana  | 567.54\nPear    | 43.435\nPeach   | 432.32\n</code></pre>\n\n<p>Example code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport sqlalchemy\nfrom sqlalchemy.types import String\n\ncon_string = 'dummy_con_string'\nengine = sqlalchemy.create_engine(con_string)\n\n# read the file, force string datatype\ndf = pd.read_excel('my_sales_files.xlsx', dtype=str)\n\n# round sales to a decimal value\ndf['Sales'] = df['Sales'].apply(lambda x: str(round(float(x), 2)))\n\n# append to a ms sql table\ndf.to_sql(name='my_table',\n          con=engine,\n          if_exists='append',\n          dtype={'Sales': String})\n</code></pre>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT SUM(CAST(Sales as float)\nFROM my_table;\n</code></pre>\n\n<p>results display as a decimal with trailing decimal values.</p>\n\n<p>Additional validation:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select * from my_table\nwhere LEN(Sales)-CHARINDEX('.',sales) &gt; 2 and CHARINDEX('.'sales) &lt;&gt; 0;\n</code></pre>\n\n<p>I am stuck with a table that takes in sales data as a VARCHAR and need a solution to for rounding and appending messy sales with python such that all rounding is preserved.</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1570655473, "post_id": 58312353, "comment_id": 102985783, "body": "You have something else - a function - called MissingBusiness."}, {"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1570655728, "post_id": 58312353, "comment_id": 102985866, "body": "As is, your code shouldn&#39;t throw this error.  Which means you are missing something.  As already pointed out, you probably have a function called <code>MissingBusiness</code> in your views or in your models that is overriding the model class."}, {"owner": {"reputation": 41, "user_id": 12191311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f89e756352398cc6bb7dfe65eb6ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Guy M", "link": "https://stackoverflow.com/users/12191311/guy-m"}, "edited": false, "score": 0, "creation_date": 1570655818, "post_id": 58312353, "comment_id": 102985892, "body": "Hi, Sorry, not sure I understand what is the problem. Can you elaborate?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1570655985, "post_id": 58312353, "comment_id": 102985946, "body": "I don&#39;t know how I can make it any clearer. You have a function in your views.py file also called MissingBusiness. So when you do <code>MissingBusiness.objects.all()</code> you are referring to the funcdtion, not the model class.\\"}, {"owner": {"reputation": 41, "user_id": 12191311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f89e756352398cc6bb7dfe65eb6ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Guy M", "link": "https://stackoverflow.com/users/12191311/guy-m"}, "edited": false, "score": 0, "creation_date": 1570657134, "post_id": 58312353, "comment_id": 102986317, "body": "Got you. Thanks."}], "owner": {"reputation": 41, "user_id": 12191311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f89e756352398cc6bb7dfe65eb6ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Guy M", "link": "https://stackoverflow.com/users/12191311/guy-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570655625, "creation_date": 1570655377, "last_edit_date": 1570655625, "question_id": 58312353, "link": "https://stackoverflow.com/questions/58312353/default-manager-objects-is-not-working-for-me", "title": "Default Manager &quot;Objects&quot; is not working for me", "body": "<p>I'm very new in Python &amp; Django and I'm following a tutorial but for some reason, a similar exercise I'm trying to do is not working for me. </p>\n\n<p>I'm creating a simple views.py and a simple class MissingBusiness.\nTrying to refer to the \"objects\" default manager for the model class is not recognized.\nI want to use MissingBusiness.objects.all() to get all records from the database.<br>\nHow to make objects to be recognized?</p>\n\n<p><strong>This is my views.py</strong></p>\n\n<pre><code>from django.http import HttpResponse     \nfrom django.shortcuts import render    \nfrom .models import MissingBusiness     \n\ndef indexRoot (request):    \n    BusinessList = MissingBusiness.objects.all()  \n    return render(request,'index.html')    \n</code></pre>\n\n<p>models.py:   </p>\n\n<pre><code>from django.db import models    \n\nclass MissingBusiness(models.Model):    \n    businessName = models.CharField(max_length=255)    \n    category = models.IntegerField()    \n</code></pre>\n\n<p><strong>Seems the default manager \"objects\" is not recognized for some reason.<br>\ngetting an error:</strong></p>\n\n<pre><code>AttributeError at /ManageMissingBusinesses/\n'function' object has no attribute 'objects'\n\nRequest Method:\nGET \n\nRequest URL:\nhttp://localhost:59564/ManageMissingBusinesses/ \n\nDjango Version:\n2.2.5 \n\nException Type:\nAttributeError \n\nException Value:\n'function' object has no attribute 'objects'\n\nException Location:\nC:\\Python\\BankAccountUI\\BankAccountUI\\ManageMissingBusinesses\\views.py in indexRoot, line 7 \n\nPython Executable:\nC:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python36_64\\python.exe \n\nPython Version:\n3.6.3 \n\nPython Path:\n['C:\\\\Python\\\\BankAccountUI\\\\BankAccountUI',\n 'C:\\\\Python\\\\BankAccountUI\\\\BankAccountUI',\n 'C:\\\\Program Files (x86)\\\\Microsoft Visual '\n 'Studio\\\\Shared\\\\Python36_64\\\\python36.zip',\n 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64\\\\DLLs',\n 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64\\\\lib',\n 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64',\n 'C:\\\\Program Files (x86)\\\\Microsoft Visual '\n 'Studio\\\\Shared\\\\Python36_64\\\\lib\\\\site-packages']\n\nServer time:\nWed, 9 Oct 2019 19:32:12 +0000\n</code></pre>\n"}, {"tags": ["python", "markdown"], "comments": [{"owner": {"reputation": 2103, "user_id": 7554868, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_q0V6XZcS5c/AAAAAAAAAAI/AAAAAAAABeM/Bmdf1MpnjTQ/photo.jpg?sz=128", "display_name": "Jammy Dodger", "link": "https://stackoverflow.com/users/7554868/jammy-dodger"}, "edited": false, "score": 1, "creation_date": 1570655275, "post_id": 58312324, "comment_id": 102985701, "body": "What do you mean by Python markdown?"}, {"owner": {"reputation": 1434, "user_id": 7212665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KrLoI.jpg?s=128&g=1", "display_name": "Demi-Lune", "link": "https://stackoverflow.com/users/7212665/demi-lune"}, "edited": false, "score": 0, "creation_date": 1570658280, "post_id": 58312324, "comment_id": 102986638, "body": "pandoc has a css to render like github markdown, <code>grip</code> is another python package to do the rendering... would they contain some info?"}, {"owner": {"reputation": 1630, "user_id": 62709, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/002c19193e3976723d5681cf4864bebb?s=128&d=identicon&r=PG", "display_name": "Stuart Axon", "link": "https://stackoverflow.com/users/62709/stuart-axon"}, "edited": false, "score": 0, "creation_date": 1570699435, "post_id": 58312324, "comment_id": 102998440, "body": "I don&#39;t mean the rendering side, I mean to understand the extensions github added, for instance I listed an extension that understands the github syntax for making checklists."}], "answers": [{"comments": [{"owner": {"reputation": 1630, "user_id": 62709, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/002c19193e3976723d5681cf4864bebb?s=128&d=identicon&r=PG", "display_name": "Stuart Axon", "link": "https://stackoverflow.com/users/62709/stuart-axon"}, "edited": false, "score": 0, "creation_date": 1570741930, "post_id": 58330642, "comment_id": 103020106, "body": "Thanks for the comprehensive answer, I didn&#39;t even know about CommonMark before this.   Looking at the spec, I probably don&#39;t even need all of it.   I&#39;ll have a play with py-gfm next and see what that is like vs built in various built in extensions and external extensions such as markdown-checklists."}], "tags": [], "owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "is_accepted": true, "score": 1, "last_activity_date": 1570739397, "creation_date": 1570739397, "answer_id": 58330642, "question_id": 58312324, "link": "https://stackoverflow.com/questions/58312324/can-the-python-markdown-approximate-github-markdown-by-installing-extensions/58330642#58330642", "title": "Can the python-markdown approximate github markdown by installing extensions?", "body": "<blockquote>\n  <p>Can the python-markdown approximate github markdown by installing extensions?</p>\n</blockquote>\n\n<p>Mostly yes. Note that GitHub Flavored Markdown (GFM) is built on Commonmark and Python-Markdown is <strong>not</strong> a Commonmark implementation. Therefore, any differences between Commonmark and the <a href=\"https://daringfireball.net/projects/markdown/syntax#html\" rel=\"nofollow noreferrer\">original Markdown rules</a> would need to be addressed by extensions. Those differences are all documented in the Commonmark <a href=\"https://spec.commonmark.org/\" rel=\"nofollow noreferrer\">spec</a>. However, of concern is Commonmark's indentation. It is not likely that Python-Markdown could be adapted to match the exact behavior of the Commonmark spec on this point. That said, for most any \"well formed\" Markdown, it should be doable.</p>\n\n<p>Then on top of adapting Python-Markdown to Commonmark, you would need extensions to match the various extensions provided by GFM, which are all defined in GitHub's <a href=\"https://github.github.com/gfm/\" rel=\"nofollow noreferrer\">spec</a> (the extensions are all highlighted with a blue background). Note that while Fenced Code Blocks are part of Commonmark, and therefore are not an extension to GFM, they are not part of the original Markdown rules and therefore would require use of the <a href=\"https://python-markdown.github.io/extensions/fenced_code_blocks/\" rel=\"nofollow noreferrer\">Fenced Code Block extension</a>.</p>\n\n<blockquote>\n  <p>Is there a list of extensions that adds python-markdown the syntax additions from github flavoured markdown ?</p>\n</blockquote>\n\n<p>I've never seen such a list, which would be off-topic here anyway. That said, you can find a list of all <a href=\"https://python-markdown.github.io/extensions/#officially-supported-extensions\" rel=\"nofollow noreferrer\">built-in extensions</a> in the Python-Markdown documentation and a list of all <a href=\"https://github.com/Python-Markdown/markdown/wiki/Third-Party-Extensions\" rel=\"nofollow noreferrer\">known third-party extensions</a> on the project's wiki. I expect you will find extensions which add of of GFM's add-on behavior, but it will be more difficult to find extensions which match Commonmark's base behavior. And the Python-Markdown developers have <a href=\"https://github.com/Python-Markdown/markdown/issues/338#issuecomment-54697337\" rel=\"nofollow noreferrer\">expressly stated</a> that they are not interested in supporting Commonmark. Any such support would need to come from third party extensions. I expect extensions for most of the differences have not yet been created.</p>\n\n<p>Full disclosure: I am the lead developer of Python-Markdown. </p>\n"}], "owner": {"reputation": 1630, "user_id": 62709, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/002c19193e3976723d5681cf4864bebb?s=128&d=identicon&r=PG", "display_name": "Stuart Axon", "link": "https://stackoverflow.com/users/62709/stuart-axon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 58330642, "answer_count": 1, "score": 0, "last_activity_date": 1570739397, "creation_date": 1570655231, "last_edit_date": 1570657261, "question_id": 58312324, "link": "https://stackoverflow.com/questions/58312324/can-the-python-markdown-approximate-github-markdown-by-installing-extensions", "title": "Can the python-markdown approximate github markdown by installing extensions?", "body": "<p>Is there a list of extensions that adds <a href=\"https://python-markdown.github.io\" rel=\"nofollow noreferrer\">python-markdown</a> the syntax additions from github flavoured markdown ?</p>\n\n<p><strong>So far I have found:</strong></p>\n\n<p>Provided with python-markdown:</p>\n\n<ul>\n<li><a href=\"https://python-markdown.github.io/extensions/tables/\" rel=\"nofollow noreferrer\">The tables extension</a>, syntax seems the same ?</li>\n</ul>\n\n<p>3rd party:</p>\n\n<ul>\n<li><a href=\"https://pypi.org/project/markdown-checklists/\" rel=\"nofollow noreferrer\">markdown-checklists</a>, Provides GH flavoured syntax for checklists.</li>\n</ul>\n\n<p>Code highlighting seems more tricky, so far I've only seen extensions that use other (weird to me) syntax.</p>\n\n<p>I'm sure there are other github flavoured markdown features I am missing too.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1570655666, "post_id": 58312307, "comment_id": 102985845, "body": "Can you give a small sample of the contents in Usernames.txt?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570656437, "post_id": 58312307, "comment_id": 102986077, "body": "What is <code>searchline</code> for? You&#39;re skipping the first line of the file in the <code>for</code> loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570656469, "post_id": 58312307, "comment_id": 102986087, "body": "<code>line</code> has a newline at the end, you need to use <code>strip()</code> to remove it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570656651, "post_id": 58312307, "comment_id": 102986155, "body": "Instead of <code>while exit == False:</code>, use <code>while True:</code>, and then use a <code>break</code> statement to stop the loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570656690, "post_id": 58312307, "comment_id": 102986168, "body": "The <code>if Flag == True:</code> statement should be at the end of the <code>for</code> loop, not each time through the loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570656755, "post_id": 58312307, "comment_id": 102986191, "body": "you can break out of the <code>for</code> loop as soon as you find a matching line."}, {"owner": {"reputation": 1, "user_id": 12191307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d548a320caa2e43d2669efa5cd944615?s=128&d=identicon&r=PG&f=1", "display_name": "Ashley572", "link": "https://stackoverflow.com/users/12191307/ashley572"}, "edited": false, "score": 0, "creation_date": 1570713003, "post_id": 58312307, "comment_id": 103006032, "body": "Thank you for your help Barmar, just out of curiosity what do you mean by line has a newline at the end?"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1570657244, "creation_date": 1570657244, "answer_id": 58312693, "question_id": 58312307, "link": "https://stackoverflow.com/questions/58312307/sign-up-algorithm-for-quiz-program-not-checking-if-username-already-existing/58312693#58312693", "title": "Sign up algorithm for quiz; program not checking if username already existing", "body": "<p>The main reason it's not working is that you didn't remove the newline from the line being read from the file, so it never matches the user input.</p>\n\n<p>You have other problems with the program logic. You shouldn't write the new username inside the <code>for</code> loop, because you don't know if the username is available until you get to the end of the file.</p>\n\n<p>Instead of the <code>Flag</code> variable, you can use the <code>else:</code> block of the <code>for</code> loop. This will run if the loop completes normally instead of from a <code>break</code> statement. Then you <code>break</code> out of the loop when finding a matching line in the file.\\</p>\n\n<p>It's generally best to use a <code>with</code> statement to open a file and automatically close it when done.</p>\n\n<pre><code>##Sign up\n\nif Option == (\"2\"):\n     while True:\n         Userattempt = input(\"Please enter a username:\\n&gt;&gt;&gt; \")\n         with open(\"Usernames.txt\",\"r\") as file:\n             for line in file:\n                 Username = line.strip()\n                 print(Userattempt, Username)# used to see how the program goes through each line\n                 if Userattempt == Username:\n                     print(\"That Username already exists, Please try another\")\n                     break # break out of for-loop\n             else: # name not found, so add it\n                 with open(\"Usernames.txt\",\"a\") as outfile:\n                     outfile.write(Userattempt)\n                     outfile.write(\"\\n\")\n                     print(\"Okay\",Userattempt, \"is your username\")\n                break # break out of while-loop\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12191307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d548a320caa2e43d2669efa5cd944615?s=128&d=identicon&r=PG&f=1", "display_name": "Ashley572", "link": "https://stackoverflow.com/users/12191307/ashley572"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570657244, "creation_date": 1570655174, "last_edit_date": 1570656277, "question_id": 58312307, "link": "https://stackoverflow.com/questions/58312307/sign-up-algorithm-for-quiz-program-not-checking-if-username-already-existing", "title": "Sign up algorithm for quiz; program not checking if username already existing", "body": "<p>I am creating a quiz algorithm which utilities a log in system. For the sign up process, the usernames and passwords are stored in a text file and are read in order to see if they already exist.If this is the case, the user is told that the username or password already exists and this is repeated until something that doesn't already exist is input. When this happens,the text file is appended to add the username. For some reason however, the program doesn't check if the user attempt is already in the text file,but just adds it to the text file, even if it already exists.</p>\n\n<p>The log in procedure, which does the first part of checking if a string is the same in both the variable and text file works just fine. The program checks if the username and password are in the files and if they are it logs in. The hashed code is used for testing and will be removed when the program works.</p>\n\n<pre><code>##Sign up\n\n if Option == (\"2\"):\n     exit = False\n\n     while exit == False:\n      Userattempt = input(\"Please enter a username:\\n&gt;&gt;&gt; \")\n      file = open(\"Usernames.txt\",\"r\")\n      searchline = file.readline()\n      Flag = False\n      Username = \"\"\n\n      for line in file:\n          print(Userattempt, line)# used to see how the program goes through each line\n          Username = str(line)\n          if Userattempt == Username:\n              Flag = True\n              print(\"Yes\", Userattempt, line)# Used to test after each line\n          else:\n              print(\"False\")# Used to test after each line\n          if Flag == True:\n             print(\"That Username already exists, Please try another\")\n          else:\n             #file.close()\n             file = open(\"Usernames.txt\",\"a\")\n             file.write(Userattempt)\n             file.write(\"\\n\")\n             print(\"Okay\",Userattempt, \"is your username\")\n\n             exit = True\n             file.close()\n</code></pre>\n\n<p>This program runs fine, but for some reason it doesn't check if the user input is equal to each line and if it does,the flag used to catch that the username or password already exists isn't changed.</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1570655518, "post_id": 58312274, "comment_id": 102985794, "body": "If you&#39;re not going to show how the <code>created_images</code>  dictionary was created, you should at least show a sample of what&#39;s in one because that could be related to the cause of the problem."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1570656763, "post_id": 58312274, "comment_id": 102986195, "body": "<a href=\"https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.open\" rel=\"nofollow noreferrer\"><code>Image.open()</code></a> does not actually read the image file&#39;s pixel data, so you may need to explicitly call <a href=\"https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.load\" rel=\"nofollow noreferrer\"><code>Image.load()</code></a> before calling the <code>paste()</code> method in the <code>for</code> loop."}], "owner": {"reputation": 1387, "user_id": 556767, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8fca8800e3076727e347b9840d0b9539?s=128&d=identicon&r=PG", "display_name": "picus", "link": "https://stackoverflow.com/users/556767/picus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570656146, "creation_date": 1570655046, "last_edit_date": 1570656146, "question_id": 58312274, "link": "https://stackoverflow.com/questions/58312274/pillow-image-generation-issue-merging-multiple-images", "title": "Pillow image generation issue - merging multiple images", "body": "<p>I had trouble finding a similar issue.</p>\n\n<p>I am using Pillow (Python 3.5 on a MAC dev machine) to merge multiple images into a single long horizontal image.</p>\n\n<p>The images are screengrabs saved as jpgs from Pyppeteer - that part works well, can open and see the image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4dv1G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4dv1G.jpg\" alt=\"example generated image\"></a></p>\n\n<p>Below is the code I am using. The <code>image_sets</code> kwarg is essentially a list of dictionaries with a name of the image set and the set of saved images from the Pypetteer code, currently 2 sets for my dev code:</p>\n\n<pre><code>import sys\nfrom PIL import Image\n\nclass ImageGenerator(object):\n\n    def __init__(self, **kwargs):\n\n        self.image_sets = kwargs['image_sets']\n\n    def generate_images(self):\n\n        for image_set in self.image_sets:\n\n            #create PIL images from the saved images\n            images = map(Image.open, image_set['generated'])\n            widths, heights = zip(*(i.size for i in images))\n\n            total_width = sum(widths)\n            max_height = max(heights)\n\n            new_im = Image.new('RGB', (total_width, max_height))\n\n            x_offset = 0\n\n            for im in images:\n                new_im.paste(im, (x_offset, 0))\n                x_offset += im.size[0]\n\n            new_im.save(\"output/{}.jpg\".format(image_set['set_name']))\n\n\nif __name__ == \"__main__\":\n\n    # NOTE - I removed code that was here, irrelevant to my question, but the\n    # output is the \"creatd_images\" dict which I pass to the PIL class\n\n    image_generator = ImageGenerator(image_sets=created_images)\n    image_generator.generate_images()\n</code></pre>\n\n<p>This all works well - no errors. It creates images of the proper size and everything. The issue is when I open them, the new stitched together images are all black.</p>\n\n<p>I have tried this with PNGs as well, same issue (this original image is like 15000px wide and 1080p high).</p>\n\n<p>Here's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KEMSa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KEMSa.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "csv", "datetime", "max"], "comments": [{"owner": {"reputation": 15, "user_id": 4461673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UPeTHZ2sjUA/AAAAAAAAAAI/AAAAAAAAAOY/mPEwJH3rOWY/photo.jpg?sz=128", "display_name": "SPJ", "link": "https://stackoverflow.com/users/4461673/spj"}, "edited": false, "score": 0, "creation_date": 1570740198, "post_id": 58312261, "comment_id": 103019463, "body": "The correct answer:   df[&#39;Data_Abertura&#39;] = pd.to_datetime(df[&#39;Data_Abertura&#39;]) df[&#39;Data_Abertura&#39;] = pd.to_datetime(df[&#39;Data_Abertura&#39;].dt.strftime(&#39;%d/%m/%Y&#39;)) print(df[&#39;Data_Abertura&#39;].min(), df[&#39;Data_Abertura&#39;].max())"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4461673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UPeTHZ2sjUA/AAAAAAAAAAI/AAAAAAAAAOY/mPEwJH3rOWY/photo.jpg?sz=128", "display_name": "SPJ", "link": "https://stackoverflow.com/users/4461673/spj"}, "edited": false, "score": 0, "creation_date": 1570740178, "post_id": 58312463, "comment_id": 103019456, "body": "Thank you PySeeker.. I&#39;ve tried but now I found a way... Tks anyaway!!! :)"}], "tags": [], "owner": {"reputation": 676, "user_id": 11702228, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rxiXPfIT5Ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relOAcJ__V0onTKVcybSzhJKGGmgA/photo.jpg?sz=128", "display_name": "PySeeker", "link": "https://stackoverflow.com/users/11702228/pyseeker"}, "is_accepted": true, "score": 0, "last_activity_date": 1570655993, "creation_date": 1570655993, "answer_id": 58312463, "question_id": 58312261, "link": "https://stackoverflow.com/questions/58312261/finding-the-max-datetime-pandas-python/58312463#58312463", "title": "Finding the Max() Datetime Pandas Python", "body": "<pre><code>df['Data_Abertura_Processo'] = pd.to_datetime(df['Data_Abertura_Processo'],format=\"%d/%m/%Y %H:%M:%S\")\n</code></pre>\n\n<p>Make sure that your datetimes have all the same format.</p>\n"}], "owner": {"reputation": 15, "user_id": 4461673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UPeTHZ2sjUA/AAAAAAAAAAI/AAAAAAAAAOY/mPEwJH3rOWY/photo.jpg?sz=128", "display_name": "SPJ", "link": "https://stackoverflow.com/users/4461673/spj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58312463, "answer_count": 1, "score": 0, "last_activity_date": 1570655993, "creation_date": 1570654965, "question_id": 58312261, "link": "https://stackoverflow.com/questions/58312261/finding-the-max-datetime-pandas-python", "title": "Finding the Max() Datetime Pandas Python", "body": "<p>I have a question about using dates on pandas. \nIn the CSV I am importing (if I ordering it), I will find that the maximum date is <strong>10/09/2019  18:22:00</strong></p>\n\n<p>Immediately after importing (still as object), the date that appears is <strong>31/12/2018 12:05</strong>.</p>\n\n<p>And if I convert in this way to date and time:</p>\n\n<p><code>df['Data_Abertura_Processo'] = pd.to_datetime(df['Data_Abertura_Processo'])</code></p>\n\n<p>the value changes to: <strong>Timestamp('2019-12-08 18:40:00')</strong>.</p>\n\n<p>How do I get the maximum date I find into the CSV by filtering in Excel itself?\nToday I'm using:</p>\n\n<p><code>df['Data_Abertura_Processo'].max()</code></p>\n\n<p>Am I wrong in converting or using max ()? </p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1570655148, "post_id": 58312225, "comment_id": 102985648, "body": "What output do you want for <code>L=[[0,4,5],[2,3],[0,6]]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": false, "score": 1, "last_activity_date": 1570655319, "last_edit_date": 1570655319, "creation_date": 1570655004, "answer_id": 58312272, "question_id": 58312225, "link": "https://stackoverflow.com/questions/58312225/how-can-i-convert-a-list-of-lists-to-a-dictionary-whose-keys-are-integers-and-va/58312272#58312272", "title": "How can I convert a list of lists to a dictionary whose keys are integers and values are the index of the sublist to which the integer belongs?", "body": "<p>You could use <a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\">enumerate</a> + a <a href=\"https://python-reference.readthedocs.io/en/latest/docs/comprehensions/dict_comprehension.html\" rel=\"nofollow noreferrer\">dictionary comprehension</a>:</p>\n\n<pre><code>L = [[0, 4, 5], [2, 3], [1, 6]]\nresult = {value: i for i, values in enumerate(L) for value in values}\nprint(result)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{0: 0, 4: 0, 5: 0, 2: 1, 3: 1, 1: 2, 6: 2}\n</code></pre>\n\n<p>Which is equivalent to:</p>\n\n<pre><code>result = {}\nfor i, values in enumerate(L):\n    for value in values:\n        result[value] = i\n</code></pre>\n\n<p>The key here, in my opinion, is to use enumerate to access the indices and the elements of <code>L</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 621, "user_id": 11196108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a1ec3c09309cb74231ec021f99047b?s=128&d=identicon&r=PG&f=1", "display_name": "ymochurad", "link": "https://stackoverflow.com/users/11196108/ymochurad"}, "is_accepted": true, "score": 1, "last_activity_date": 1570655642, "last_edit_date": 1570655642, "creation_date": 1570655265, "answer_id": 58312330, "question_id": 58312225, "link": "https://stackoverflow.com/questions/58312225/how-can-i-convert-a-list-of-lists-to-a-dictionary-whose-keys-are-integers-and-va/58312330#58312330", "title": "How can I convert a list of lists to a dictionary whose keys are integers and values are the index of the sublist to which the integer belongs?", "body": "<pre><code>L=[[0,4,5],[2,3],[1,6]]\n\nresult = dict()\nfor i,l  in enumerate(L):\n  for item in l:\n    result[item]=i\n\nprint(result)\n</code></pre>\n\n<p>This will produce output like:</p>\n\n<pre><code>{0: 0, 1: 2, 2: 1, 3: 1, 4: 0, 5: 0, 6: 2}\n</code></pre>\n"}], "owner": {"reputation": 511, "user_id": 8162211, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xe3KddExZ-I/AAAAAAAAAAI/AAAAAAAAAkk/qmiAB1NDOXk/photo.jpg?sz=128", "display_name": "fishbacp", "link": "https://stackoverflow.com/users/8162211/fishbacp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58312330, "answer_count": 2, "score": 0, "last_activity_date": 1570655642, "creation_date": 1570654819, "question_id": 58312225, "link": "https://stackoverflow.com/questions/58312225/how-can-i-convert-a-list-of-lists-to-a-dictionary-whose-keys-are-integers-and-va", "title": "How can I convert a list of lists to a dictionary whose keys are integers and values are the index of the sublist to which the integer belongs?", "body": "<p>I have a list of lists, where each integer 0..N belongs to exactly one list within the outer list. So for example, if N=6, I have something like</p>\n\n<pre><code>L=[[0,4,5],[2,3],[1,6]]\n</code></pre>\n\n<p>I want the dictionary to look like the following:</p>\n\n<pre><code>{0:0, 1:2, 2:1, 3:1, 4:0, 5:0}\n</code></pre>\n\n<p>For example, the key:value pair 2:1 indicates 2 belongs to L[1]. </p>\n\n<p>Is there a simple way to do this?</p>\n"}, {"tags": ["python", "flask", "jinja2", "flask-bootstrap"], "comments": [{"owner": {"reputation": 168, "user_id": 11761580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a33fa7e653484f659fa8567bf7f545d?s=128&d=identicon&r=PG&f=1", "display_name": "delyeet", "link": "https://stackoverflow.com/users/11761580/delyeet"}, "edited": false, "score": 0, "creation_date": 1570655131, "post_id": 58312207, "comment_id": 102985640, "body": "Is Flask-Bootstrap installed?  ie: <code>python -m pip install flask-bootstrap</code>"}, {"owner": {"reputation": 69, "user_id": 489541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3363865d54103dbe9266ec45915e8f35?s=128&d=identicon&r=PG", "display_name": "Citrus Rain", "link": "https://stackoverflow.com/users/489541/citrus-rain"}, "reply_to_user": {"reputation": 168, "user_id": 11761580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a33fa7e653484f659fa8567bf7f545d?s=128&d=identicon&r=PG&f=1", "display_name": "delyeet", "link": "https://stackoverflow.com/users/11761580/delyeet"}, "edited": false, "score": 0, "creation_date": 1570655746, "post_id": 58312207, "comment_id": 102985870, "body": "yes, the pip installs was a file that the professor gave us a command that went through that list (in a txt) and installed them all (there&#39;s more than what I pasted, but I felt those would show I had it installed)"}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 489541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3363865d54103dbe9266ec45915e8f35?s=128&d=identicon&r=PG", "display_name": "Citrus Rain", "link": "https://stackoverflow.com/users/489541/citrus-rain"}, "is_accepted": false, "score": 0, "last_activity_date": 1570656379, "creation_date": 1570656379, "answer_id": 58312546, "question_id": 58312207, "link": "https://stackoverflow.com/questions/58312207/modulenotfounderror-no-module-named-flask-bootstrap/58312546#58312546", "title": "ModuleNotFoundError: No module named &#39;flask_bootstrap&#39;", "body": "<p>While I waited for help, I was trying to figure out if I could get the virtual environment to be 'hooked up' to pycharm, and I found that pycharm made it's own virtual environment without the pip installs I was given, so I got the command line open into that, ran the pip installs, and now I can get it to run through pycharm. </p>\n\n<p>So it works in the virtual environment that I discovered and added the installs to. (did not work from pycharm at all due to pycharm didn't know flask was installed and would error sooner) But not in the one that I was instructed on making. I don't know why.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 11166949, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yc2WEGu7EC8/AAAAAAAAAAI/AAAAAAAAGD0/WyhRav9jaNc/photo.jpg?sz=128", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/11166949/ankit-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1584010971, "last_edit_date": 1584010971, "creation_date": 1584005309, "answer_id": 60651054, "question_id": 58312207, "link": "https://stackoverflow.com/questions/58312207/modulenotfounderror-no-module-named-flask-bootstrap/60651054#60651054", "title": "ModuleNotFoundError: No module named &#39;flask_bootstrap&#39;", "body": "<p>You have to install <strong>flask_bootstrap</strong> using the following command:</p>\n\n<pre><code>pip install flask_bootstrap\n</code></pre>\n\n<p>In your case, you should not use a hyphen(<code>-</code>) In place of hyphen use underscore( <code>_</code>) then it might work.</p>\n"}, {"tags": [], "owner": {"reputation": 7937, "user_id": 1866300, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dab16abeddf6aa51bb13e7fe06d70b2c?s=128&d=identicon&r=PG", "display_name": "Serve Laurijssen", "link": "https://stackoverflow.com/users/1866300/serve-laurijssen"}, "is_accepted": false, "score": 2, "last_activity_date": 1614062047, "creation_date": 1614062047, "answer_id": 66328190, "question_id": 58312207, "link": "https://stackoverflow.com/questions/58312207/modulenotfounderror-no-module-named-flask-bootstrap/66328190#66328190", "title": "ModuleNotFoundError: No module named &#39;flask_bootstrap&#39;", "body": "<p>I had the same issue.</p>\n<p>deactivate and activate the virtual environment solved it</p>\n<pre><code>deactivate\n. venv/bin/activate\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 489541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3363865d54103dbe9266ec45915e8f35?s=128&d=identicon&r=PG", "display_name": "Citrus Rain", "link": "https://stackoverflow.com/users/489541/citrus-rain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4894, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1614062047, "creation_date": 1570654764, "question_id": 58312207, "link": "https://stackoverflow.com/questions/58312207/modulenotfounderror-no-module-named-flask-bootstrap", "title": "ModuleNotFoundError: No module named &#39;flask_bootstrap&#39;", "body": "<p>I'm working on my very very first python program/assignment, I'm new to not just the language but it's also my first time outside of languages like Java, C#, and .Net, so I'm having a difficult time picking it up.</p>\n\n<p>I was given a bunch of example files and am supposed to run them to get a feel for what I need to do, except I get an error: \nModuleNotFoundError: No module named 'flask_bootstrap'</p>\n\n<p>I ran my bin/activate successfully and here's a bit of command line:</p>\n\n<blockquote>\n  <p>(p3) C:\\Users\\ritol\\OneDrive\\School\\Project Files\\Project Files\\Flask\\2f>python weather.py\n  Traceback (most recent call last):\n   File \"weather.py\", line 2, in \n     from flask_bootstrap import Bootstrap\n  ModuleNotFoundError: No module named 'flask_bootstrap'</p>\n  \n  <p>(p3) C:\\Users\\ritol\\OneDrive\\School\\Project Files\\Project Files\\Flask\\2f>bin/activate\n  'bin' is not recognized as an internal or external command,\n  operable program or batch file.</p>\n</blockquote>\n\n<p>Here's a list of pip installs I was given to do, and it did them:</p>\n\n<pre><code>Flask==1.1.1\nFlask-Bootstrap==3.3.7.1\nFlask-Login==0.4.1\nflask-marshmallow==0.10.1\nFlask-Migrate==2.5.2\nFlask-RESTful==0.3.7\nFlask-Script==2.0.6\nFlask-SQLAlchemy==2.4.0\nFlask-Testing==0.7.1\nFlask-WTF==0.14.2\nitsdangerous==1.1.0\nJinja2==2.10.1\n</code></pre>\n\n<p>2f/weather.py:</p>\n\n<pre><code>from flask import Flask, render_template\nfrom flask_bootstrap import Bootstrap\napp = Flask(__name__)\nbootstrap = Bootstrap(app)\n\n\n@app.route('/')\ndef index():\n</code></pre>\n\n<p>etc...</p>\n\n<p>I expect to get it to show something like a previous example did:</p>\n\n<pre><code> * Serving Flask app \"FlaskApp\" (lazy loading)\n * Environment: production\n   WARNING: This is a development server. Do not use it in a production deployment.\n   Use a production WSGI server instead.\n * Debug mode: on\n * Restarting with stat\n * Debugger is active!\n * Debugger PIN: 173-453-384\n * Running on http://127.0.0.1:5001/ (Press CTRL+C to quit)\n</code></pre>\n\n<p>instead I get </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"weather.py\", line 2, in &lt;module&gt;\n    from flask_bootstrap import Bootstrap\nModuleNotFoundError: No module named 'flask_bootstrap'\n</code></pre>\n"}, {"tags": ["python", "list", "recursion", "word", "string-length"], "comments": [{"owner": {"reputation": 1347, "user_id": 3048505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/S4MOh.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/3048505/jonathan"}, "edited": false, "score": 1, "creation_date": 1570654812, "post_id": 58312189, "comment_id": 102985527, "body": "Welcome to SO. Noone will code for you here but, instead, help you when struggling. Can you post a code example? What have you tried so far?"}, {"owner": {"reputation": 8412, "user_id": 8973620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qt6R.jpg?s=128&g=1", "display_name": "Mykola Zotko", "link": "https://stackoverflow.com/users/8973620/mykola-zotko"}, "edited": false, "score": 0, "creation_date": 1570654815, "post_id": 58312189, "comment_id": 102985528, "body": "a, b have only one letter"}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 0, "creation_date": 1570654939, "post_id": 58312189, "comment_id": 102985568, "body": "This can be done non-recursively, do you really have to use a recursive solution?"}, {"owner": {"reputation": 11, "user_id": 12191201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4e1b11fef098c78dce85ad842be23a?s=128&d=identicon&r=PG&f=1", "display_name": "T-bone", "link": "https://stackoverflow.com/users/12191201/t-bone"}, "edited": false, "score": 0, "creation_date": 1570655083, "post_id": 58312189, "comment_id": 102985622, "body": "Exactly this is my problem. I have no clue how I should start with it. I\u2018m not expecting someone to code it for me, but something like a guideline or rough summary would already help me a lot :)"}, {"owner": {"reputation": 11, "user_id": 12191201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4e1b11fef098c78dce85ad842be23a?s=128&d=identicon&r=PG&f=1", "display_name": "T-bone", "link": "https://stackoverflow.com/users/12191201/t-bone"}, "edited": false, "score": 0, "creation_date": 1570655125, "post_id": 58312189, "comment_id": 102985637, "body": "And no I don\u2018t have to do it recursively but I want to do it for practicing"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1570655322, "post_id": 58312189, "comment_id": 102985724, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including sample input, sample output, and code for what you&#39;ve tried based on your own research, if any"}, {"owner": {"reputation": 1083, "user_id": 4739755, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-xGt648wZsco/AAAAAAAAAAI/AAAAAAAAAGo/EfA-KvgfzKo/photo.jpg?sz=128", "display_name": "b_c", "link": "https://stackoverflow.com/users/4739755/b-c"}, "edited": false, "score": 1, "creation_date": 1570655578, "post_id": 58312189, "comment_id": 102985811, "body": "In Python, recursion is typically not the ideal solution (although it certainly has its place). Instead, Python focuses more heavily on iteration. Take a look a the <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow noreferrer\">itertools</a> module, you should find the answer there."}, {"owner": {"reputation": 11, "user_id": 12191201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4e1b11fef098c78dce85ad842be23a?s=128&d=identicon&r=PG&f=1", "display_name": "T-bone", "link": "https://stackoverflow.com/users/12191201/t-bone"}, "edited": false, "score": 0, "creation_date": 1570656553, "post_id": 58312189, "comment_id": 102986120, "body": "Okay, I think product() seems to be the right one"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12191201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4e1b11fef098c78dce85ad842be23a?s=128&d=identicon&r=PG&f=1", "display_name": "T-bone", "link": "https://stackoverflow.com/users/12191201/t-bone"}, "edited": false, "score": 0, "creation_date": 1570657232, "post_id": 58312502, "comment_id": 102986342, "body": "Thank you ! I\u2018ll try to understand it"}], "tags": [], "owner": {"reputation": 631, "user_id": 12156208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5266a41a96f7ffdb31444f23521d8e64?s=128&d=identicon&r=PG&f=1", "display_name": "PyWalker2797", "link": "https://stackoverflow.com/users/12156208/pywalker2797"}, "is_accepted": false, "score": 0, "last_activity_date": 1570656546, "last_edit_date": 1570656546, "creation_date": 1570656197, "answer_id": 58312502, "question_id": 58312189, "link": "https://stackoverflow.com/questions/58312189/how-can-i-create-words-with-a-certain-length-consisting-of-a-and-b/58312502#58312502", "title": "How can I create words with a certain length consisting of a and b?", "body": "<p>I believe you can use <code>itertools</code> for this, and it is a more pythonic way of approaching the problem. </p>\n\n<pre><code>list = ['a','b','c']\n\nimport itertools\nfor letter in itertools.permutations(list):\n      list.append(' ',join(letter))\n\n</code></pre>\n\n<p>this will give you :</p>\n\n<pre><code>list = ['a', 'b', 'c', 'abc', 'acb', 'bac', 'bca', 'cab', 'cba']\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/13109274/python-recursion-permutations\">Python recursion permutations</a></p>\n\n<p>This might also help you.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 12191201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4e1b11fef098c78dce85ad842be23a?s=128&d=identicon&r=PG&f=1", "display_name": "T-bone", "link": "https://stackoverflow.com/users/12191201/t-bone"}, "edited": false, "score": 1, "creation_date": 1570696170, "post_id": 58312959, "comment_id": 102996730, "body": "Thank you! At least now I have an Idea of how it works"}], "tags": [], "owner": {"reputation": 333, "user_id": 10404768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qYmTvs5MgBU/AAAAAAAAAAI/AAAAAAAAB0E/Mou-hLv8JhE/photo.jpg?sz=128", "display_name": "Michele Bastione", "link": "https://stackoverflow.com/users/10404768/michele-bastione"}, "is_accepted": false, "score": 1, "last_activity_date": 1570659145, "creation_date": 1570659145, "answer_id": 58312959, "question_id": 58312189, "link": "https://stackoverflow.com/questions/58312189/how-can-i-create-words-with-a-certain-length-consisting-of-a-and-b/58312959#58312959", "title": "How can I create words with a certain length consisting of a and b?", "body": "<p>I combined both <code>itertools</code> and recursion in the following code:</p>\n\n<pre><code>from itertools import product,chain\n\nab = ['a', 'b']\n\ndef rec_prod(x):\n    if x==1:\n        return ab\n    elif x==2:\n        return list(product(ab, ab))\n    else:\n        return [tuple(chain((i[0],), i[1])) for i in product(ab, rec_prod(x-1))]\n\nprod_range = lambda y: list(chain.from_iterable(rec_prod(j) for j in range(1, y+1)))\n</code></pre>\n\n<p>The first fuction recursively calculates all \"words\" of length x, the second one returns all words from length 1 to length y. It's a bit messy and not very efficient, but if you study the way I used recursion and the itertools function I used (<code>product</code> and <code>chain</code>) I'm sure you will learn something useful out of it.</p>\n"}], "owner": {"reputation": 11, "user_id": 12191201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4e1b11fef098c78dce85ad842be23a?s=128&d=identicon&r=PG&f=1", "display_name": "T-bone", "link": "https://stackoverflow.com/users/12191201/t-bone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570659145, "creation_date": 1570654682, "question_id": 58312189, "link": "https://stackoverflow.com/questions/58312189/how-can-i-create-words-with-a-certain-length-consisting-of-a-and-b", "title": "How can I create words with a certain length consisting of a and b?", "body": "<p>I want to create a list of all words with a certain length (for example 1 to 3) that consist of two letters. So my output would be: \na, b, aa, ab, ba, bb,.... \nbut I am struggling to implement it recursively in python. What\u2019s the right way to do this? </p>\n"}, {"tags": ["python", "machine-learning", "nlp", "unsupervised-learning"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570654941, "post_id": 58312147, "comment_id": 102985570, "body": "Please check <a href=\"https://meta.stackexchange.com/questions/129598/which-computer-science-programming-stack-exchange-do-i-post-in\">Which site?</a> for general issues."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1570655122, "post_id": 58312147, "comment_id": 102985635, "body": "The basic problem you have is one of information.  With <i>no</i> input, all that a model can do for you is to group messages by derived criteria; it&#39;s quite reasonable to think that LDA would group these by level of vocabulary used, or proportion of emojis and punctuation.  If you want a directed classification you <i>must</i> give the model enough guidance to begin the process; there is no &quot;read my mind&quot; algorithm."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11765684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QqFuB.jpg?s=128&g=1", "display_name": "Amir Khan", "link": "https://stackoverflow.com/users/11765684/amir-khan"}, "edited": false, "score": 0, "creation_date": 1570658315, "post_id": 58312263, "comment_id": 102986646, "body": "Labelling manually is a time consuming task. If I don\u2019t find any technique, I\u2019ll have to do that itself."}, {"owner": {"reputation": 673, "user_id": 10349423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d259ac7b029407015952422841729a?s=128&d=identicon&r=PG&f=1", "display_name": "Yoel Nisanov", "link": "https://stackoverflow.com/users/10349423/yoel-nisanov"}, "reply_to_user": {"reputation": 1, "user_id": 11765684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QqFuB.jpg?s=128&g=1", "display_name": "Amir Khan", "link": "https://stackoverflow.com/users/11765684/amir-khan"}, "edited": false, "score": 0, "creation_date": 1570784976, "post_id": 58312263, "comment_id": 103031717, "body": "It obviously is a time consuming task but unfortunatley there is not fully automated techniques for the task your asking to perform ... what I suggested from what I know is the best answer youll get"}], "tags": [], "owner": {"reputation": 673, "user_id": 10349423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d259ac7b029407015952422841729a?s=128&d=identicon&r=PG&f=1", "display_name": "Yoel Nisanov", "link": "https://stackoverflow.com/users/10349423/yoel-nisanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1570654975, "creation_date": 1570654975, "answer_id": 58312263, "question_id": 58312147, "link": "https://stackoverflow.com/questions/58312147/unlabeled-text-data-containing-messages/58312263#58312263", "title": "Unlabeled text data containing messages", "body": "<p>the algorithm you tried \"LDA\" (I'm not famalier with the other one) is (as you said) a topic model algorithm which isn't so helpful in this case...</p>\n\n<p>What I'd suggest you to do is,\ntry to label chunck of messages for each category- </p>\n\n<ol>\n<li>seller</li>\n<li>buyer</li>\n<li>neutral</li>\n</ol>\n\n<p>and transform the problem your facing into a classification problem, then choose any classification algorithm to classify the messages into one of the categories... </p>\n\n<p>For reference I'd suggest you to look at this problem and have some inspiration- <a href=\"https://towardsdatascience.com/applied-text-classification-on-email-spam-filtering-part-1-1861e1a83246\" rel=\"nofollow noreferrer\">https://towardsdatascience.com/applied-text-classification-on-email-spam-filtering-part-1-1861e1a83246</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11765684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QqFuB.jpg?s=128&g=1", "display_name": "Amir Khan", "link": "https://stackoverflow.com/users/11765684/amir-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1570654975, "creation_date": 1570654511, "question_id": 58312147, "link": "https://stackoverflow.com/questions/58312147/unlabeled-text-data-containing-messages", "title": "Unlabeled text data containing messages", "body": "<p>I am working on a text dataset containing messages from users on a website. Please check the image in the link as stack is not allowing me to post this image directly.\n<a href=\"https://i.stack.imgur.com/2ofQZ.png\" rel=\"nofollow noreferrer\">dataframe of the first five rows</a></p>\n\n<p>Reading those messages i want to find out the intent of the users whether they are buyer, seller or neutral. I have tried topic modelling using both LDA and NMF but it's not giving me answers. As i am getting very different topics and i cannot find a way to relate it to buyer seller or neutral. And i cannot manually label these data because it's a huge dataset containing 200,000 thousands of rows. So which technique or algorithm can i use to solve this problem.</p>\n"}, {"tags": ["python", "python-3.x", "pathlib"], "comments": [{"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1570654866, "post_id": 58312120, "comment_id": 102985543, "body": "Does all files have the same <code>page_</code> prefix?"}, {"owner": {"reputation": 101, "user_id": 9875229, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FsLXI8H_i34/AAAAAAAAAAI/AAAAAAAAAMU/Rg5IpKpLAzI/photo.jpg?sz=128", "display_name": "PrasadHeeramani", "link": "https://stackoverflow.com/users/9875229/prasadheeramani"}, "reply_to_user": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1570667009, "post_id": 58312120, "comment_id": 102988417, "body": "Filename is generated by me, so it is not compulsory to have <code>page_</code>. It may be also as 1.jpg, 2.jpg, 3.jpg, ... , 10.jpg, 11.jpg"}, {"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1570683436, "post_id": 58312120, "comment_id": 102991689, "body": "You just need to turn the path object into a string first.  Try this: <code>for filename in sorted(Path(&#39;.&#47;pages&#39;).glob(&#39;*.jpg&#39;),                         key=lambda a: int(str(a).split(&quot;_&quot;)[1])):</code>"}], "answers": [{"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": false, "score": 1, "last_activity_date": 1570688792, "last_edit_date": 1570688792, "creation_date": 1570654788, "answer_id": 58312212, "question_id": 58312120, "link": "https://stackoverflow.com/questions/58312120/how-to-naturally-sort-pathlib-objects-in-python/58312212#58312212", "title": "How to Naturally Sort Pathlib objects in Python?", "body": "<p>Note that <code>sorted</code>  doesn't sort your data in place, but returns a new list, so you have to iterate on its output.</p>\n\n<p>In order to get your sorting key, which is the integer value at the end of your filename:</p>\n\n<ul>\n<li><p>You can first take the <a href=\"https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.stem\" rel=\"nofollow noreferrer\">stem</a> of your path, which is its final component without extension (so, for example, <code>'page_13'</code>).</p></li>\n<li><p>Then, it is better to split it once from the right, in order to be safe in case your filename contains other underscores in the first part, like <code>'some_page_33.jpg'</code>.</p></li>\n<li><p>Once converted to <code>int</code>, you have the key you want for sorting.</p></li>\n</ul>\n\n<p>So, your code could look like:</p>\n\n<pre><code>for filename in sorted(Path('./pages').glob('*.jpg'), \n                       key=lambda path: int(path.stem.rsplit(\"_\", 1)[1])):\n\n    print(filename)\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>pages/ma_page_2.jpg\npages/ma_page_11.jpg\npages/ma_page_13.jpg\npages/ma_page_20.jpg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8771, "user_id": 1393543, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5940aefd57c6c8f7e9921d0512bc1d81?s=128&d=identicon&r=PG", "display_name": "Christian Sauer", "link": "https://stackoverflow.com/users/1393543/christian-sauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1570703996, "creation_date": 1570703996, "answer_id": 58321019, "question_id": 58312120, "link": "https://stackoverflow.com/questions/58312120/how-to-naturally-sort-pathlib-objects-in-python/58321019#58321019", "title": "How to Naturally Sort Pathlib objects in Python?", "body": "<p>The problem is not as easy as it sounds, \"natural\" sorting can be quite challenging, especially with potential arbitrary input strings, e.g what if you have \"69_helloKitty.jpg\" in your data?\nI used <a href=\"https://github.com/SethMMorton/natsort\" rel=\"nofollow noreferrer\">https://github.com/SethMMorton/natsort</a> a while ago for a similar problem, maybe it helps you.</p>\n"}], "owner": {"reputation": 101, "user_id": 9875229, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FsLXI8H_i34/AAAAAAAAAAI/AAAAAAAAAMU/Rg5IpKpLAzI/photo.jpg?sz=128", "display_name": "PrasadHeeramani", "link": "https://stackoverflow.com/users/9875229/prasadheeramani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2353, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1570710932, "creation_date": 1570654389, "last_edit_date": 1570710932, "question_id": 58312120, "link": "https://stackoverflow.com/questions/58312120/how-to-naturally-sort-pathlib-objects-in-python", "title": "How to Naturally Sort Pathlib objects in Python?", "body": "<p>I am trying to create a sorted list of files in the <code>./pages</code> directory.  This is what I have so far:</p>\n\n<pre><code>import numpy as np\nfrom PIL import Image\nimport glob\nfrom pathlib import Path\n\n\n# sorted( l, key=lambda a: int(a.split(\"-\")[1]) )\nimage_list = []\n\nfor filename in Path('./pages').glob('*.jpg'):\n#     sorted( i, key=lambda a: int(a.split(\"_\")[1]) )\n#     im=Image.open(filename)\n    image_list.append(filename)\n\nprint(*image_list, sep = \"\\n\")\n\n</code></pre>\n\n<p>current output:</p>\n\n<pre><code>pages/page_1.jpg  \npages/page_10.jpg  \npages/page_11.jpg  \npages/page_12.jpg  \npages/page_2.jpg  \npages/page_3.jpg  \npages/page_4.jpg  \npages/page_5.jpg  \npages/page_6.jpg  \npages/page_7.jpg  \npages/page_8.jpg  \npages/page_9.jpg  \n</code></pre>\n\n<p>Expected Output:  </p>\n\n<pre><code>pages/page_1.jpg   \npages/page_2.jpg  \npages/page_3.jpg  \npages/page_4.jpg  \npages/page_5.jpg  \npages/page_6.jpg  \npages/page_7.jpg  \npages/page_8.jpg  \npages/page_9.jpg  \npages/page_10.jpg  \npages/page_11.jpg  \npages/page_12.jpg\n</code></pre>\n\n<p>I've tried the solutions found in the <a href=\"https://stackoverflow.com/questions/4836710/does-python-have-a-built-in-function-for-string-natural-sort\">duplicate</a>, but they don't work because the pathlib files are class objects, and not strings.  They only appear as filenames when I print them.</p>\n\n<p>For example:</p>\n\n<pre><code>print(filename) # pages/page_1.jpg  \nprint(type(filename)) # &lt;class 'pathlib.PosixPath'&gt;\n</code></pre>\n\n<p>Finally, this is working code. Thanks to all.  </p>\n\n<pre><code>from pathlib import Path\nimport numpy as np\nfrom PIL import Image\nimport natsort\n\ndef merge_to_single_image():\n    image_list1 = []\n    image_list2 = []\n    image_list3 = []\n    image_list4 = []\n\n    for filename in Path('./pages').glob('*.jpg'):\n        image_list1.append(filename)\n\n    for i in image_list1:\n        image_list2.append(i.stem)\n    #     print(type(i.stem))\n\n    image_list3 = natsort.natsorted(image_list2, reverse=False)\n\n    for i in image_list3:\n        i = str(i)+ \".jpg\"\n        image_list4.append(Path('./pages', i))\n\n    images = [Image.open(i) for i in image_list4]\n    # for a vertical stacking it is simple: use vstack\n    images_combined = np.vstack(images)\n    images_combined = Image.fromarray(images_combined)\n    images_combined.save('Single_image.jpg')\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 2967, "user_id": 4828815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/--CqgH2V98Jg/AAAAAAAAAAI/AAAAAAAAABY/lilOgpMEIEs/photo.jpg?sz=128", "display_name": "Poojan", "link": "https://stackoverflow.com/users/4828815/poojan"}, "edited": false, "score": 0, "creation_date": 1570654875, "post_id": 58312083, "comment_id": 102985544, "body": "Because your b do not contain <code>.</code>. So splitting with dot will result in 0 columns that&#39;s why nan appears. You can have b.first or somthing like that and it will work fine"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1570654882, "post_id": 58312083, "comment_id": 102985547, "body": "So what do you want instead of <code>NaN</code>?"}, {"owner": {"reputation": 676, "user_id": 11702228, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rxiXPfIT5Ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relOAcJ__V0onTKVcybSzhJKGGmgA/photo.jpg?sz=128", "display_name": "PySeeker", "link": "https://stackoverflow.com/users/11702228/pyseeker"}, "edited": false, "score": 0, "creation_date": 1570655273, "post_id": 58312083, "comment_id": 102985699, "body": "I  think this is the correct solution. The NaN is okay, but you could replace it by some other attribut of course."}, {"owner": {"reputation": 13, "user_id": 11235836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2324b63aafc7cc682767f309f53c7a97?s=128&d=identicon&r=PG&f=1", "display_name": "knusprjg", "link": "https://stackoverflow.com/users/11235836/knusprjg"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1570684648, "post_id": 58312083, "comment_id": 102991956, "body": "@DanielMesejo, I would like to have &#39;&#39; instead of NaN. The problem with NaN is that to access <code>df.b</code>, I need to actually call <code>df.b[np.nan]</code>. This feels so obviously wrong that I expected some convenience function to handle this."}, {"owner": {"reputation": 13, "user_id": 11235836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2324b63aafc7cc682767f309f53c7a97?s=128&d=identicon&r=PG&f=1", "display_name": "knusprjg", "link": "https://stackoverflow.com/users/11235836/knusprjg"}, "reply_to_user": {"reputation": 676, "user_id": 11702228, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rxiXPfIT5Ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relOAcJ__V0onTKVcybSzhJKGGmgA/photo.jpg?sz=128", "display_name": "PySeeker", "link": "https://stackoverflow.com/users/11702228/pyseeker"}, "edited": false, "score": 0, "creation_date": 1570684957, "post_id": 58312083, "comment_id": 102992051, "body": "@PySeeker do you have by any chance a nice piece of code to replace the NaNs? Problem is that MultiIndex does not support fillna() at the moment, that&#39;s why I always end up in casting hell."}], "answers": [{"tags": [], "owner": {"reputation": 619491, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 0, "last_activity_date": 1570687081, "creation_date": 1570687081, "answer_id": 58316290, "question_id": 58312083, "link": "https://stackoverflow.com/questions/58312083/create-pandas-multiindex-dataframe-without-nans/58316290#58316290", "title": "Create pandas MultiIndex Dataframe without NaNs", "body": "<p>For me working <code>rename</code> with missing value, because <code>fillna</code> for <code>MultiIndex</code> is not implemented:</p>\n\n<pre><code>df = pd.DataFrame([list(range(3))], columns = ['a.first', 'a.second', 'b'])\ndf.columns = df.columns.str.split('.', expand=True)\n\ndf = df.rename(columns = {np.nan:''})\nprint (df)\n      a         b\n  first second   \n0     0      1  2\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11235836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2324b63aafc7cc682767f309f53c7a97?s=128&d=identicon&r=PG&f=1", "display_name": "knusprjg", "link": "https://stackoverflow.com/users/11235836/knusprjg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58316290, "answer_count": 1, "score": 1, "last_activity_date": 1570687081, "creation_date": 1570654219, "last_edit_date": 1570686050, "question_id": 58312083, "link": "https://stackoverflow.com/questions/58312083/create-pandas-multiindex-dataframe-without-nans", "title": "Create pandas MultiIndex Dataframe without NaNs", "body": "<p>I feel like I'm missing something fundamentally here. I have a Pandas DataFrame like this:</p>\n\n<pre><code>df = pd.DataFrame(list(range(3)).T\ndf.columns = ['a.first', 'a.second', 'b']\n\n#    a.first  a.second  b\n# 0        0         1  2\n</code></pre>\n\n<p>What I would like to create is a MultiIndex DataFrame where I can use df.a, df.a.first and df.b. What I got so far is the str split method:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>a.columns = a.columns.str.split('.', expand=True)\n#        a            b\n#    first  second  NaN\n# 0      0       1    2\n</code></pre>\n\n<p>So obviously the NaN is a problem here, because to access value b, one would need to call <code>df.b[np.nan]</code>, which feels obviously wrong.</p>\n\n<p>Starting from here, all the solutions that come to my mind start feeling like workaround where I iterate over the columns and try to replace the NaNs with empty strings. I imagine that there must be a much more straightforward way, as I guess that this is a pretty common problem, no?</p>\n\n<p><strong>Edit:</strong> The least ugly solution that came to mind so far is the following:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def apply_multiindex(df, hier_sep='.'):\n    depths = df.columns.str.split(hier_sep).map(len)\n    add_hiers = max(depths)-depths\n    df.columns = [column + hier_sep*add_hier[c]\n                  for c, column in enumerate(df.columns)]\n    df.columns = df.columns.str.split(hier_sep, expand=True)\n\napply_multiindex(a)\n#        a          b\n#    first  second  \n# 0      0       1  2\n</code></pre>\n\n<p>I'm still looking forward to a more cleaner solution :)</p>\n"}, {"tags": ["python", "list", "sequence"], "comments": [{"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 3, "creation_date": 1570654154, "post_id": 58312050, "comment_id": 102985277, "body": "The whole point about homework is to do it on your own. Stencil/paper will do the trick at first. Plus, there is no code to help you about; you did not try anything nor give any clue whatsoever conerning your strategy for solving this. PLEASE SHOW SOME EFFORT."}, {"owner": {"reputation": 2193, "user_id": 3700524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVsYW.jpg?s=128&g=1", "display_name": "Mohsen_Fatemi", "link": "https://stackoverflow.com/users/3700524/mohsen-fatemi"}, "edited": false, "score": 0, "creation_date": 1570654235, "post_id": 58312050, "comment_id": 102985314, "body": "there are many ways to do this, first thing that comes into my head is brute force, other way <code>2-pointer</code> approach"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570655305, "post_id": 58312050, "comment_id": 102985715, "body": "When asking about homework (1) <b>Be aware of your school policy</b>: asking here for help may constitute cheating. (2) Specify that the question is homework. (3) <b>Make a good faith attempt</b> to solve the problem yourself first (include your code in your question). (4) <b>Ask about a specific problem</b> with your existing implementation; see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, complete, verifiable example</a>. Also, <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">here</a> is guidance on asking homework questions."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1570655336, "post_id": 58312050, "comment_id": 102985730, "body": "<a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">&quot;Can Someone Help Me?&quot; is not a valid SO question</a>. This usually suggests that what you need is time with a local tutor or walk through a tutorial, rather than Stack Overflow.  Best of all, each tutorial will teach you a collection of related techniques, rather than merely solving the immediate problem."}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1570654439, "post_id": 58312130, "comment_id": 102985383, "body": "Notably if this is homework, you&#39;ll likely receive zero points for this solution since it offloads all the algorithmic work to a stdlib function."}, {"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 0, "creation_date": 1570654481, "post_id": 58312130, "comment_id": 102985401, "body": "Needless to say, you won&#39;t learn the basics behind the said libs !"}, {"owner": {"reputation": 8412, "user_id": 8973620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qt6R.jpg?s=128&g=1", "display_name": "Mykola Zotko", "link": "https://stackoverflow.com/users/8973620/mykola-zotko"}, "edited": false, "score": 1, "creation_date": 1570654983, "post_id": 58312130, "comment_id": 102985588, "body": "Are you sure that you can use <code>len()</code> with a generator?"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1570659378, "last_edit_date": 1570659378, "creation_date": 1570654419, "answer_id": 58312130, "question_id": 58312050, "link": "https://stackoverflow.com/questions/58312050/finding-the-biggest-sequence-of-repeating-numbers-in-a-list/58312130#58312130", "title": "finding the biggest sequence of repeating numbers in a list", "body": "<p>If you're trying to implement this in Python, you should use <code>groupby</code>. <a href=\"https://docs.python.org/3.7/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\"><code>itertools.groupby</code></a>, by default, groups objects into tuples of <code>(object_name, list_of_objects)</code>, so:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>a = [1, 0, 1, 1, 2, 2, 2, 3]\ngroupby(a) ~ [(1, [1]), (0, [0]), (1, [1, 1]), (2, [2, 2, 2]), (3, [3])]\n# I use \"~\" here because it's not actually a list, it's a generator, but meh\n</code></pre>\n\n<p>You can easily use a list comprehension to grab what you need.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from itertools import groupby\nrepeat_lengths = [sum(1 for _ in group) for _, group in groupby(x)]\n# the `sum(1 for _ in group)` is a workaround for the fact that `group` is not a list and has no length\n</code></pre>\n\n<p>Then just find the max of that list.</p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 8173697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5PHYAzydgis/AAAAAAAAAAI/AAAAAAAAIbQ/AUkdIZaMzaI/photo.jpg?sz=128", "display_name": "Mohammad Zeineldeen", "link": "https://stackoverflow.com/users/8173697/mohammad-zeineldeen"}, "is_accepted": false, "score": 0, "last_activity_date": 1570654884, "last_edit_date": 1570654884, "creation_date": 1570654548, "answer_id": 58312159, "question_id": 58312050, "link": "https://stackoverflow.com/questions/58312050/finding-the-biggest-sequence-of-repeating-numbers-in-a-list/58312159#58312159", "title": "finding the biggest sequence of repeating numbers in a list", "body": "<p>You need to keep track of two variables, the current count <code>(count)</code> of the consecutive values and the maximum count <code>(max_count)</code> so far. When you observe a different value, you reset <code>count</code> and update <code>max_count</code> and continue the loop.</p>\n\n<pre><code>def get_longest_seq(l, val):\n  count = 0\n  max_count = 0\n  for e in l:\n    if e == val:\n      count += 1\n    elif count &gt; 0:\n      max_count = max(max_count, count)\n      count = 0\n  max_count = max(max_count, max) # case when the sequence is at the end\n  return max_count\n\nl = [2,2,3,2,2,2,2,3,3,4,4,4,5,4,4,7,6]\nprint(get_longest_seq(l, 4))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12191391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ff82f590274a475aec52e512fa71e9?s=128&d=identicon&r=PG&f=1", "display_name": "atribecalledfinesse", "link": "https://stackoverflow.com/users/12191391/atribecalledfinesse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1570659378, "creation_date": 1570654000, "last_edit_date": 1570655292, "question_id": 58312050, "link": "https://stackoverflow.com/questions/58312050/finding-the-biggest-sequence-of-repeating-numbers-in-a-list", "title": "finding the biggest sequence of repeating numbers in a list", "body": "<p>The problem to solve is to find the biggest sequence of repeating numbers in a list. For example if the list was <code>[2,3,4,4,4,5,4,7,6]</code> and I was looking for the largest sequence of 4's, I would return 3. </p>\n\n<p>So far, I've only come up with a loop that counts the number of the specified number in a row but you have to account for the other numbers and also have a way to compare say, 3 \"4's\" in a row versus 2 \"4's\". any help would be appreciated</p>\n\n<pre><code>def find(list):\n    x = [2,3,4,4,5,5,5,5,6,7,8]  \n    print(find(x))\n</code></pre>\n\n<p>the code above is just the basic layout. I don't need the answer to the whole function but just the main logic and explanations</p>\n"}, {"tags": ["python", "image", "jupyter-notebook", "docx", "word"], "comments": [{"owner": {"reputation": 1103, "user_id": 4195814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/26959ff5b81fb0f2a757dfdd76ca840e?s=128&d=identicon&r=PG&f=1", "display_name": "linamnt", "link": "https://stackoverflow.com/users/4195814/linamnt"}, "edited": false, "score": 1, "creation_date": 1570655014, "post_id": 58312045, "comment_id": 102985596, "body": "Are you using <code>python-docx</code> package? Also, if you don&#39;t want to save as a file, are you able to take the screenshot and save to a <code>variable</code>? What is the format of that image then?"}, {"owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "reply_to_user": {"reputation": 1103, "user_id": 4195814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/26959ff5b81fb0f2a757dfdd76ca840e?s=128&d=identicon&r=PG&f=1", "display_name": "linamnt", "link": "https://stackoverflow.com/users/4195814/linamnt"}, "edited": false, "score": 0, "creation_date": 1570655342, "post_id": 58312045, "comment_id": 102985733, "body": "Yes, I use python-docx and the screenshoots I take are saved in a list. The code I&#39;m actually using is quite extense, but I&#39;ll edit my post to show how the relevant part works"}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "edited": false, "score": 0, "creation_date": 1570658055, "post_id": 58312683, "comment_id": 102986577, "body": "It worked perfectly, thank you! I&#39;m trying to understand what &#39;imdata.seek(0)&#39; does."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "reply_to_user": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "edited": false, "score": 1, "creation_date": 1570658315, "post_id": 58312683, "comment_id": 102986647, "body": "@Jos&#233;Chamorro <a href=\"https://docs.python.org/3/tutorial/inputoutput.html?highlight=seek#methods-of-file-objects\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/&hellip;</a>"}, {"owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "edited": false, "score": 0, "creation_date": 1570658521, "post_id": 58312683, "comment_id": 102986693, "body": "Got it. Thanks!"}], "tags": [], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "is_accepted": true, "score": 1, "last_activity_date": 1570659121, "last_edit_date": 1570659121, "creation_date": 1570657176, "answer_id": 58312683, "question_id": 58312045, "link": "https://stackoverflow.com/questions/58312045/how-do-i-add-an-image-from-a-list-in-python-using-docx/58312683#58312683", "title": "How do I add an image from a list in python using docx?", "body": "<p>Yes, according to <a href=\"https://python-docx.readthedocs.io/en/latest/api/document.html?highlight=add_picture#docx.document.Document.add_picture\" rel=\"nofollow noreferrer\">add_picture \u2014 Document objects \u2014 python-docx 0.8.10 documentation</a>, <code>add_picture</code> can import data from a stream as well.</p>\n\n<p>As per <a href=\"https://pyautogui.readthedocs.io/en/latest/screenshot.html#the-screenshot-function\" rel=\"nofollow noreferrer\">Screenshot Functions \u2014 PyAutoGUI 1.0.0 documentation</a>, <code>screenshot()</code> produces a PIL/Pillow image object which <a href=\"https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.tobytes\" rel=\"nofollow noreferrer\">can be <code>save()</code>'d with a <code>BytesIO()</code> as destination to produce a compressed image data stream in memory</a>.</p>\n\n<p>So that'll be:</p>\n\n<pre><code>import io\nimdata = io.BytesIO()\n\nimg.save(imdata, format='png')\nimdata.seek(0)\n\ndoc.add_picture(imdata)\ndel imdata    # cannot reuse it for other pictures, you need a clean buffer each time\n              # can use .truncate(0) then .seek(0) instead but this is probably easier\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 58312683, "answer_count": 1, "score": 0, "last_activity_date": 1570659121, "creation_date": 1570653983, "last_edit_date": 1570655783, "question_id": 58312045, "link": "https://stackoverflow.com/questions/58312045/how-do-i-add-an-image-from-a-list-in-python-using-docx", "title": "How do I add an image from a list in python using docx?", "body": "<p>I wrote a code that takes a screenshoot that I want to paste into a word document using docx.</p>\n\n<p>So far, I have to save the image as a png file. The relevant part of my code is:</p>\n\n<pre><code>from docx import Document\nimport pyautogui\nimport docx\n\ndoc = Document()\n\nimages = []\n\nimg = pyautogui.screenshot(region = (some region))\n\nimages.append(img)\nimg.save(imagepath.png)\n\nrun =doc.add_picture(imagepath.png)\nrun\n</code></pre>\n\n<p>I would like to be able to add the image without saving it. Is it possible to do this using docx?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 3, "creation_date": 1570654073, "post_id": 58312029, "comment_id": 102985245, "body": "This <code>&quot;@company&quot;</code> is not the same as this <code>&quot;@COMPANY&quot;</code>"}, {"owner": {"reputation": 1103, "user_id": 4195814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/26959ff5b81fb0f2a757dfdd76ca840e?s=128&d=identicon&r=PG&f=1", "display_name": "linamnt", "link": "https://stackoverflow.com/users/4195814/linamnt"}, "edited": false, "score": 0, "creation_date": 1570654199, "post_id": 58312029, "comment_id": 102985297, "body": "If you need to capture both uppercase and lowercase of <code>@company</code> you can just make all of it lowercase and search only the lowercase version: <code>DF = DF[DF[&#39;Email &#39;].astype(str).str.lower().contains(&#39;@COMPANY&#39;, regex=False)]</code>"}, {"owner": {"reputation": 63, "user_id": 11633491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161766296880257/picture?type=large", "display_name": "VRumay", "link": "https://stackoverflow.com/users/11633491/vrumay"}, "edited": false, "score": 0, "creation_date": 1570654232, "post_id": 58312029, "comment_id": 102985312, "body": "Sorry, just a typo while writing the question. I&#39;ll edit it."}, {"owner": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 2, "creation_date": 1570654322, "post_id": 58312029, "comment_id": 102985350, "body": "you can pass <code>case=False</code> as well to ignore case, or as linamnt has done by using <code>.str.lower()</code> let us know if you need anymore help"}, {"owner": {"reputation": 1103, "user_id": 4195814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/26959ff5b81fb0f2a757dfdd76ca840e?s=128&d=identicon&r=PG&f=1", "display_name": "linamnt", "link": "https://stackoverflow.com/users/4195814/linamnt"}, "edited": false, "score": 2, "creation_date": 1570654393, "post_id": 58312029, "comment_id": 102985371, "body": "I think there must be something strange about the dataframe, or specifically those lines not getting detected, that we cannot know without seeing the data"}, {"owner": {"reputation": 63, "user_id": 11633491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161766296880257/picture?type=large", "display_name": "VRumay", "link": "https://stackoverflow.com/users/11633491/vrumay"}, "edited": false, "score": 0, "creation_date": 1570654608, "post_id": 58312029, "comment_id": 102985450, "body": "I passed <code>case=False</code> in hopes it was something like that, still not working. How could I share the dataset with you?"}, {"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1570654611, "post_id": 58312029, "comment_id": 102985451, "body": "If @DanielMesejo is right, this is a duplicate of <a href=\"https://stackoverflow.com/questions/319426/how-do-i-do-a-case-insensitive-string-comparison\" title=\"how do i do a case insensitive string comparison\">stackoverflow.com/questions/319426/&hellip;</a>"}, {"owner": {"reputation": 63, "user_id": 11633491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161766296880257/picture?type=large", "display_name": "VRumay", "link": "https://stackoverflow.com/users/11633491/vrumay"}, "reply_to_user": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 0, "creation_date": 1570657228, "post_id": 58312029, "comment_id": 102986341, "body": "@LoneWanderer Yeah, it&#39;s all email addresses. Unfortunately the data is sensitive for the company I work for and I can&#39;t share it without &quot;cleaning it&quot;, or it might cost me my job.  I think that changing anything to later share it with you will actually serve no purpose if the errors are in the data itself as linamnt suggested"}, {"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 0, "creation_date": 1570657314, "post_id": 58312029, "comment_id": 102986366, "body": "Forgive me, but then, your whole question is pointless, isn&#39;t it ? (BTW, I did not notice the &#39;Email&#39; column at first... what a genius ! too focused on the &#39;@company&#39;)"}, {"owner": {"reputation": 63, "user_id": 11633491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161766296880257/picture?type=large", "display_name": "VRumay", "link": "https://stackoverflow.com/users/11633491/vrumay"}, "reply_to_user": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 1, "creation_date": 1570664228, "post_id": 58312029, "comment_id": 102987887, "body": "@LoneWanderer haha, no worries. I solved the issue by moving this part of the program above others, as other &quot;filters&quot; and &quot;drops&quot; were removing rows before the email could be read. Thanks for your input!"}], "owner": {"reputation": 63, "user_id": 11633491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161766296880257/picture?type=large", "display_name": "VRumay", "link": "https://stackoverflow.com/users/11633491/vrumay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570664261, "creation_date": 1570653872, "last_edit_date": 1570664261, "question_id": 58312029, "link": "https://stackoverflow.com/questions/58312029/str-contains-is-not-detecting-some-rows", "title": ".str.contains is not detecting some rows", "body": "<p>I'm using <code>df.str.contains</code> to find the \"@company\" substring in a particular column and drop all that don't match.</p>\n\n<p>I've done it manually to compare and I should be getting over 100 results, but I get only 55 running the script.</p>\n\n<p><code>DF = DF[DF['Email '].astype(str).str.contains('@company', regex=False)]</code></p>\n\n<p>I'm using <code>regex=False</code> to prevent <code>.str.contains</code> from thinking the @ sign is a Regex</p>\n\n<p>UPDATE:</p>\n\n<p>I solved the issue by moving this part of the program above others, as other \"filters\" and \"drops\" were removing rows before the email could be read. Thanks for your input!</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1539, "user_id": 11363596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f37f85a4f09c7ad798a028a153d18dc?s=128&d=identicon&r=PG&f=1", "display_name": "vb_rises", "link": "https://stackoverflow.com/users/11363596/vb-rises"}, "edited": false, "score": 0, "creation_date": 1570671531, "post_id": 58312023, "comment_id": 102989189, "body": "I tried your example with duplicates(the combination of audit date and cluster) in df2 and it gave me multiple entries, but not NaN. And if there are no duplicates, then it works fine. Why not drop the duplicates like this <code>df1.merge(df2.drop_duplicates(subset=[&#39;Audit Date&#39;, &#39;Cluster&#39;]), how=&#39;left&#39;, on=[&#39;Audit Date&#39;, &#39;Cluster&#39;])</code> ?"}, {"owner": {"reputation": 3, "user_id": 12184573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDLoSyZqc5L3aG3vwBwh_ZNgcEA3RuMXS7oYgDE=k-s128", "display_name": "Thomas Ryan", "link": "https://stackoverflow.com/users/12184573/thomas-ryan"}, "reply_to_user": {"reputation": 1539, "user_id": 11363596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f37f85a4f09c7ad798a028a153d18dc?s=128&d=identicon&r=PG&f=1", "display_name": "vb_rises", "link": "https://stackoverflow.com/users/11363596/vb-rises"}, "edited": false, "score": 0, "creation_date": 1570678536, "post_id": 58312023, "comment_id": 102990647, "body": "@vb_rises thanks for your recommendation. This cleared up the duplicates to clean up my data and I came to realize that Excel was destroying the csv that I was importing into the dataframe when I was validating the duplicate removal. Your answer helped in more ways than one!"}], "owner": {"reputation": 3, "user_id": 12184573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDLoSyZqc5L3aG3vwBwh_ZNgcEA3RuMXS7oYgDE=k-s128", "display_name": "Thomas Ryan", "link": "https://stackoverflow.com/users/12184573/thomas-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570653853, "creation_date": 1570653853, "question_id": 58312023, "link": "https://stackoverflow.com/questions/58312023/python-pandas-dataframe-merge-two-dataframes-on-multiple-columns-returning-na", "title": "Python - Pandas dataframe merge: two dataframes on multiple columns returning NaN", "body": "<p>I have two dataframes: One being a daily performance metric per VM, the other being cluster level details like how many VMs/Blade.</p>\n\n<p>I'm trying to populate the VM performance metric dataframe with details of the cluster on that particular day.</p>\n\n<p>df1 - daily performance metric per VM</p>\n\n<pre><code>+-------------+-----------+---------+------------+------+\n| Audit Date  |  Cluster  |   VM    |   Metric   | Peak |\n+-------------+-----------+---------+------------+------+\n| 2019-10-08  | Cluster A | Server1 | CPU Util % |   88 |\n| 2019-10-08  | Cluster A | Server2 | CPU Util % |   34 |\n| 2019-10-08  | Cluster B | Server3 | CPU Util % |   89 |\n| 2019-10-08  | Cluster B | Server4 | CPU Util % |   92 |\n| 2019-10-09  | Cluster A | Server1 | CPU Util % |   88 |\n| 2019-10-09  | Cluster A | Server2 | CPU Util % |   34 |\n| 2019-10-09  | Cluster B | Server3 | CPU Util % |   89 |\n| 2019-10-09  | Cluster B | Server4 | CPU Util % |   92 |\n+-------------+-----------+---------+------------+------+\n</code></pre>\n\n<p>df2 - Daily Cluster values</p>\n\n<pre><code>+------------+-----------+---------------+\n| Audit Date |  Cluster  | VMs Per Blade |\n+------------+-----------+---------------+\n| 2019-10-08 | Cluster A |            62 |\n| 2019-10-08 | Cluster B |            32 |\n| 2019-10-09 | Cluster A |            64 |\n| 2019-10-09 | Cluster B |            32 |\n+------------+-----------+---------------+\n</code></pre>\n\n<p>What I'm trying to get:</p>\n\n<pre><code>+------------+-----------+---------+------------+------+---------------+\n| Audit Date |  Cluster  |   VM    |   Metric   | Peak | VMs Per Blade |\n+------------+-----------+---------+------------+------+---------------+\n| 2019-10-08 | Cluster A | Server1 | CPU Util % |   88 |            62 |\n| 2019-10-08 | Cluster A | Server2 | CPU Util % |   34 |            62 |\n| 2019-10-08 | Cluster B | Server3 | CPU Util % |   89 |            32 |\n| 2019-10-08 | Cluster B | Server4 | CPU Util % |   92 |            32 |\n| 2019-10-09 | Cluster A | Server1 | CPU Util % |   88 |            64 |\n| 2019-10-09 | Cluster A | Server2 | CPU Util % |   34 |            64 |\n| 2019-10-09 | Cluster B | Server3 | CPU Util % |   89 |            32 |\n| 2019-10-09 | Cluster B | Server4 | CPU Util % |   92 |            32 |\n+------------+-----------+---------+------------+------+---------------+\n</code></pre>\n\n<p>What I've tried so far:\nI've been trying to do a pandas merge on these using:</p>\n\n<pre><code>    df1.merge(df2, how=\"left\", on=[\"audit date\", \"cluster\"])\n</code></pre>\n\n<p>However when I try this I'm getting all NaNs in the VM Per Blade fields.</p>\n\n<pre><code>+------------+-----------+---------+------------+------+---------------+\n| Audit Date |  Cluster  |   VM    |   Metric   | Peak | VMs Per Blade |\n+------------+-----------+---------+------------+------+---------------+\n| 2019-10-08 | Cluster A | Server1 | CPU Util % |   88 | NaN           |\n| 2019-10-08 | Cluster A | Server2 | CPU Util % |   34 | NaN           |\n| 2019-10-08 | Cluster B | Server3 | CPU Util % |   89 | NaN           |\n| 2019-10-08 | Cluster B | Server4 | CPU Util % |   92 | NaN           |\n| 2019-10-09 | Cluster A | Server1 | CPU Util % |   88 | NaN           |\n| 2019-10-09 | Cluster A | Server2 | CPU Util % |   34 | NaN           |\n| 2019-10-09 | Cluster B | Server3 | CPU Util % |   89 | NaN           |\n| 2019-10-09 | Cluster B | Server4 | CPU Util % |   92 | NaN           |\n+------------+-----------+---------+------------+------+---------------+\n</code></pre>\n\n<p>I have attempted to convert the columns to a string and strip them to make sure there wasn't any trailing spaces to no avail. </p>\n\n<pre><code>df1['audit date'] = df1['audit date'].astype(str).str.strip()\n</code></pre>\n\n<p>I'm unsure if this is related but my df2 dataframe has some duplicate rows due to duplication of analysis models being used again the cluster. </p>\n"}, {"tags": ["python", "python-3.x", "async-await", "python-asyncio", "python-decorators"], "comments": [{"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1570658014, "post_id": 58311988, "comment_id": 102986566, "body": "Can you show how you&#39;re calling the async method?"}, {"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "edited": false, "score": 0, "creation_date": 1570718740, "post_id": 58311988, "comment_id": 103009700, "body": "Your approach won&#39;t work because asyncio event loop isn&#39;t reentrant. You should have <b>separate</b> synchronous entry points to async functionality, and use <code>await</code> to invoke async functions from other async functions."}, {"owner": {"reputation": 1, "user_id": 10473840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa5f3a6ee5ea7fd21a68c0c8010c5fdc?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Nagy", "link": "https://stackoverflow.com/users/10473840/rafael-nagy"}, "edited": false, "score": 0, "creation_date": 1570747192, "post_id": 58311988, "comment_id": 103021642, "body": "Maybe I should find a way to bypass this decorator"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10473840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa5f3a6ee5ea7fd21a68c0c8010c5fdc?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Nagy", "link": "https://stackoverflow.com/users/10473840/rafael-nagy"}, "is_accepted": false, "score": 0, "last_activity_date": 1570750603, "creation_date": 1570750603, "answer_id": 58332397, "question_id": 58311988, "link": "https://stackoverflow.com/questions/58311988/how-to-run-an-asyncio-method-from-synchronous-and-asynchronous-methods/58332397#58332397", "title": "How to run an asyncio method from synchronous and asynchronous methods?", "body": "<p>I solved my problem bypassing the decorator. Now, when I am in an asynchronous function, I just need to do <code>await test_foo.bypass()</code></p>\n\n<pre><code>def async_test(f):\n    def wrapper(*args, **kwargs):\n        coro = asyncio.coroutine(f)\n        future = coro(*args, **kwargs)\n        loop = asyncio.get_event_loop()\n        loop.run_until_complete(future)\n\n    wrapper.bypass = f\n    return wrapper\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10473840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa5f3a6ee5ea7fd21a68c0c8010c5fdc?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Nagy", "link": "https://stackoverflow.com/users/10473840/rafael-nagy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570750603, "creation_date": 1570653665, "last_edit_date": 1570657745, "question_id": 58311988, "link": "https://stackoverflow.com/questions/58311988/how-to-run-an-asyncio-method-from-synchronous-and-asynchronous-methods", "title": "How to run an asyncio method from synchronous and asynchronous methods?", "body": "<p>In my project, I have a decorator to call coroutines in <strong>synchronous</strong> methods:</p>\n\n<pre><code>def async_test(f):\n    def wrapper(*args, **kwargs):\n        coro = asyncio.coroutine(f)\n        future = coro(*args, **kwargs)\n        loop = asyncio.get_event_loop()\n        loop.run_until_complete(future)\n    return wrapper\n\n\n @async_test\n    async def test_foo(self):\n        # test stuff\n</code></pre>\n\n<p>I need this decorator to run the tests directly from my IDE.</p>\n\n<p>But now, I need to call them from an <strong>asynchronous</strong> method (after an <code>await</code>) and I am having <code>RuntimeError</code>:</p>\n\n<blockquote>\n  <p>RuntimeError: This event loop is already running</p>\n</blockquote>\n\n<p>How can I solve this problem with the asyncio loop?</p>\n"}, {"tags": ["python", "dask"], "comments": [{"owner": {"reputation": 461, "user_id": 12118774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpS5X.jpg?s=128&g=1", "display_name": "Physicing", "link": "https://stackoverflow.com/users/12118774/physicing"}, "edited": false, "score": 0, "creation_date": 1570654015, "post_id": 58311982, "comment_id": 102985218, "body": "I think you just need to flatten it. I guess you could use <code>numpy.reshape</code>"}, {"owner": {"reputation": 7540, "user_id": 4474230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/713c7ce18010e541853962264a719d83?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey", "link": "https://stackoverflow.com/users/4474230/jeffrey"}, "edited": false, "score": 1, "creation_date": 1570654019, "post_id": 58311982, "comment_id": 102985220, "body": "array.reshape((68,10980*10980)) Unless I&#39;m misunderstanding"}, {"owner": {"reputation": 376, "user_id": 9377932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3jKf9.jpg?s=128&g=1", "display_name": "Roger Almengor", "link": "https://stackoverflow.com/users/9377932/roger-almengor"}, "edited": false, "score": 0, "creation_date": 1570654260, "post_id": 58311982, "comment_id": 102985325, "body": "Thanks! It was easier than I thought!"}], "answers": [{"tags": [], "owner": {"reputation": 2339, "user_id": 1102805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de42f74b5509b8af4bd0f255d05fd94?s=128&d=identicon&r=PG", "display_name": "darcamo", "link": "https://stackoverflow.com/users/1102805/darcamo"}, "is_accepted": true, "score": 3, "last_activity_date": 1570656189, "creation_date": 1570656189, "answer_id": 58312500, "question_id": 58311982, "link": "https://stackoverflow.com/questions/58311982/how-to-reshape-3d-numpy-array-into-2d-array-keeping-the-z-axis-dimension/58312500#58312500", "title": "How to reshape 3d numpy array into 2d array, keeping the z axis dimension", "body": "<p>When you have a \"bunch of multidimensional things\" as a single numpy array, such as your set of images, then <strong>it is better to use the first dimension to index the individual things</strong>. </p>\n\n<p>This makes everything simpler. Selecting the n-th image is just <code>array[n-1]</code> and you can easily flatten all images in the array while keeping the images separated as you want with just <code>array.reshape((array.shape[0], -1))</code>.</p>\n\n<p><strong>Note</strong>: we can use <code>-1</code> in one of the dimensions in order to ask numpy to compute the appropriated size for us, which in your case it will compute as <code>10980*10980</code>.</p>\n"}], "owner": {"reputation": 376, "user_id": 9377932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3jKf9.jpg?s=128&g=1", "display_name": "Roger Almengor", "link": "https://stackoverflow.com/users/9377932/roger-almengor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 58312500, "answer_count": 1, "score": 0, "last_activity_date": 1570656189, "creation_date": 1570653646, "question_id": 58311982, "link": "https://stackoverflow.com/questions/58311982/how-to-reshape-3d-numpy-array-into-2d-array-keeping-the-z-axis-dimension", "title": "How to reshape 3d numpy array into 2d array, keeping the z axis dimension", "body": "<p><a href=\"https://i.stack.imgur.com/MGcnG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGcnG.png\" alt=\"enter image description here\"></a>\nI created an array from a stack of images. \nThe images are 10980 * 10980 in size. \nI used dask to read the images and stack them, using the lazy array approach. \nThey are 68 in total.\nI used the following code: </p>\n\n<pre><code>import dask\nimport dask.array as da\nimport glob\nimport time\nimport os\n\nfilenames = [os.path.join(root, filename) for root, subdir, filenames in os.walk(\"L2A\")\n            for filename in filenames if filename.endswith(\"B04_10m.tif\")]\n\nprint(len(filenames))\n\nimport imageio \nsample = imageio.imread(filenames[0])\nsample.shape\n\nimport matplotlib.pyplot as plt \nimport skimage.io \nplt.figure(figsize=(10,10))\nskimage.io.imshow(sample[:,:])\n\nlazy_arrays = [dask.delayed(imageio.imread)(fn) for fn in filenames]\n\nlazy_arrays = [da.from_delayed(x, shape=sample.shape, dtype=sample.dtype)\n              for x in lazy_arrays]\n\narray = da.stack(lazy_arrays, axis=0)\narray\n</code></pre>\n\n<p>The array's shape is:\nShape   (68, 10980, 10980) \nHowever what I would like to have is a 2d Array that keeps the along axis z dimension (68), which will be the in the new 2d array, and that the 10980 and 10980 dimension (rows and columns in 3D array), would the columns in the new 2d array. \nAt the end the shape I am looking for is (68, 120560400). Does anyone know how to do that? The goal is to calculate the mean of the stack, because doing it using a nested for loop to iterate over the columns and rows of the 3d dimension will very long, using the following function. </p>\n\n<pre><code>    x = array.shape[1]\n    y = array.shape[2]\n    values = np.empty((x,y), type(array[0][0][0]))\n    for i in range(x):\n        for j in range(y):\n            values[i][j] = ((np.mean(array[:,i,j])))\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "jquery-animate"], "comments": [{"owner": {"reputation": 29479, "user_id": 1356000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ef54c2101a4c23ea2441ce2b346ffb75?s=128&d=identicon&r=PG", "display_name": "Diziet Asahi", "link": "https://stackoverflow.com/users/1356000/diziet-asahi"}, "edited": false, "score": 0, "creation_date": 1570655197, "post_id": 58311981, "comment_id": 102985675, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29832055/animated-subplots-using-matplotlib\">animated subplots using matplotlib</a>"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1570655720, "post_id": 58311981, "comment_id": 102985863, "body": "You would benefit from using a single animation instead of 3 different ones."}], "owner": {"reputation": 71, "user_id": 6308448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cab24107afc6b90f4316b93c5ea80?s=128&d=identicon&r=PG", "display_name": "lwang94", "link": "https://stackoverflow.com/users/6308448/lwang94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570653639, "creation_date": 1570653639, "question_id": 58311981, "link": "https://stackoverflow.com/questions/58311981/possible-to-create-animations-on-overlaying-plots-in-matplotlib", "title": "Possible to create animations on overlaying plots in matplotlib?", "body": "<p>I'm trying to create a program that will allow users to plot graphs on multiple subplots along with a large graph that is overlaid across all subplots. Now the user has the option to animate their graphs if they want as well. The animation seems to be working well when either animating on the multiple small subplots and when animating the large graph with still figures in the smaller subplots. The problem arises, however, in the case that the user wants to put animations into both the smaller subplots and the larger overall plot (shouldn't happen often but might come up for whatever reason). Here is a sample of what I have: </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\ndef animate_graph(fig, ax, x, y):\n    line, = ax.plot([], [])\n\n    def init():\n        line, = ax.plot([], [])\n        return line,     \n\n    def animate(i, x, y):\n        x = x[:int(i+1)]\n        y = y[:int(i+1)]\n        line.set_data(x, y)\n        line.axes.axis([0, 5, -1, 1])\n\n        return line, \n\n    ani = animation.FuncAnimation(fig, animate, init_func= init, interval = 20, fargs = [x, y], blit = True)                         \n\n#create figure and subplots\nfig = plt.figure()\nax1 = fig.add_axes([0.1, 0.1, 0.8, 0.4])\nax2 = fig.add_axes([0.1, 0.5, 0.8, 0.4])\n\n#create axis in front with dimensions that span both subplots\nax_full = fig.add_axes([0.1, 0.1, 0.8, 0.8])\n#make background of large axis transparent\nax_full.patch.set_alpha(0)\n\n#create data arrays\nx = np.linspace(0, 5, 100)\ny1 = np.sin(2*np.pi*x)\ny2 = np.cos(2*np.pi*x)\ny_full = [0.5 if i &lt; 2.5 else -0.5 for i in x]\n\n#call animation function\nanimate_graph(fig, ax1, x, y1)\nanimate_graph(fig, ax2, x, y2)\nanimate_graph(fig, ax_full, x, y_full)\n</code></pre>\n\n<p>It works when I call animate_graph the first two time, but if I add in the third animate_graph call, the animation becomes very jumpy and not timed together. I'm assuming it's because matplotlib is running into timing issue between timing the animation and displaying the plots on top of each other but I'm not sure how I would go about solving it. Any help would be great, thanks!</p>\n"}, {"tags": ["python", "pytorch", "generative-adversarial-network"], "comments": [{"owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 2, "creation_date": 1570659948, "post_id": 58311978, "comment_id": 102987028, "body": "In which line you are getting the error? The error is a very common error."}, {"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1570686997, "post_id": 58311978, "comment_id": 102992632, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/57534072/how-to-fix-runtimeerror-size-mismatch-in-pytorch\">How To Fix: RuntimeError: size mismatch in pyTorch</a>"}, {"owner": {"reputation": 3, "user_id": 10761455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1919641908073690/picture?type=large", "display_name": "Du\u0161an Stamenkovi\u0107", "link": "https://stackoverflow.com/users/10761455/du%c5%a1an-stamenkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1570700457, "post_id": 58311978, "comment_id": 102999021, "body": "I get the error in this line:  D_loss1 = ((D(X_mb)).log()).mean() + ((1 - D(G_sample)).log()).mean()"}, {"owner": {"reputation": 806, "user_id": 3932463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9770a533e1ea10e8dd5693dc562402c0?s=128&d=identicon&r=PG&f=1", "display_name": "bapors", "link": "https://stackoverflow.com/users/3932463/bapors"}, "edited": false, "score": 0, "creation_date": 1599751241, "post_id": 58311978, "comment_id": 112877210, "body": "@Du\u0161anStamenkovi\u0107 how do you know the error is coming from this specific line? I am having a similar error and would be happy to learn"}], "answers": [{"comments": [{"owner": {"reputation": 806, "user_id": 3932463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9770a533e1ea10e8dd5693dc562402c0?s=128&d=identicon&r=PG&f=1", "display_name": "bapors", "link": "https://stackoverflow.com/users/3932463/bapors"}, "edited": false, "score": 0, "creation_date": 1599751588, "post_id": 58331222, "comment_id": 112877392, "body": "How do we get to 1392 as a number? (I couldn&#39;t make the relation from 128 to 1392) Thank you!"}], "tags": [], "owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "is_accepted": true, "score": 0, "last_activity_date": 1570742281, "creation_date": 1570742281, "answer_id": 58331222, "question_id": 58311978, "link": "https://stackoverflow.com/questions/58311978/pytorch-runtimeerror-size-mismatch/58331222#58331222", "title": "Pytorch RuntimeError: size mismatch", "body": "<p>As you mentioned, you are getting the error in the following line.</p>\n\n<pre><code>D_loss1 = ((D(X_mb) + 1e-8).log()).mean() + ((1 - D(G_sample) + 1e-8).log()).mean()\n</code></pre>\n\n<blockquote>\n  <p>I doubt the problematic part is: <code>D(G_sample)</code>. Why?</p>\n</blockquote>\n\n<p>Because <code>G_sample = G(X_mb)</code> is of shape <code>[batch_size, 1]</code> which cannot be given as an input to the Discriminator, <code>D</code> because it takes tensor of shape <code>[batch_size, dim]</code> as input.</p>\n\n<p>That's why you are getting the error:</p>\n\n<pre><code>RuntimeError: size mismatch, m1: [128 x 1], m2: [1392 x 2784]\n</code></pre>\n\n<p>As you can see, you have an input of shape, <code>[128 x 1]</code> where <code>batch_size = 128</code>. But the Discriminator <code>D</code> is expecting an input of shape <code>[batch_size x 1392]</code>. Here, <code>m2</code> is the shape of the weight matrix of <code>fc1</code> layer in the Discriminator.</p>\n"}], "owner": {"reputation": 3, "user_id": 10761455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1919641908073690/picture?type=large", "display_name": "Du\u0161an Stamenkovi\u0107", "link": "https://stackoverflow.com/users/10761455/du%c5%a1an-stamenkovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 58331222, "answer_count": 1, "score": 0, "last_activity_date": 1570742281, "creation_date": 1570653628, "last_edit_date": 1570654356, "question_id": 58311978, "link": "https://stackoverflow.com/questions/58311978/pytorch-runtimeerror-size-mismatch", "title": "Pytorch RuntimeError: size mismatch", "body": "<p>I get the following error when I try to run this code for training a GAN for prediction:</p>\n\n<blockquote>\n  <p>RuntimeError: size mismatch, m1: [128 x 1], m2: [1392 x 2784] at C:\\w\\1\\s\\tmp_conda_3.7_021303\\conda\\conda-bld\\pytorch_1565316900252\\work\\aten\\src\\TH/generic/THTensorMath.cpp:752</p>\n</blockquote>\n\n<p>Please comment if you see any other mistakes in the code or if you have some tips in general.</p>\n\n<pre><code># Sample indices\ndef sample_idx(m, n):\n    A = np.random.permutation(m)\n    idx = A[:n]\n    return idx\n\nclass Discriminator(nn.Module):\n    def __init__(self):\n        super(Discriminator, self).__init__()\n        self.fc1 = nn.Linear(in_features = dim, out_features = dim*2)\n        self.fc2 = nn.Linear(in_features = dim*2, out_features = dim)\n        self.fc3 = nn.Linear(in_features = dim, out_features = int(dim/2))\n        self.fc4 = nn.Linear(in_features = int(dim/2), out_features = 1)\n        self.relu = nn.LeakyReLU(0.2)\n        self.sigmoid = nn.Sigmoid()\n        self.init_weight()\n\n    def init_weight(self):\n        layers = [self.fc1, self.fc2, self.fc3]\n        [nn.init.xavier_normal_(layer.weight) for layer in layers]\n\n    def forward(self, x):\n        x = self.relu(self.fc1(x))\n        x = self.relu(self.fc2(x))\n        x = self.relu(self.fc3(x))\n        x = self.sigmoid(self.fc4(x))\n        return x\n\n\n\nclass Generator(nn.Module):\n    def __init__(self):\n        super(Generator, self).__init__()\n        self.fc1 = nn.Linear(in_features = dim, out_features = dim*2)\n        self.fc2 = nn.Linear(in_features = dim*2, out_features = dim)\n        self.fc3 = nn.Linear(in_features = dim, out_features = int(dim/2))\n        self.fc4 = nn.Linear(in_features = int(dim/2), out_features = 1)\n        self.relu = nn.LeakyReLU(0.2)\n        self.init_weight()\n\n    def init_weight(self):\n        layers = [self.fc1, self.fc2, self.fc3]\n        [nn.init.xavier_normal_(layer.weight) for layer in layers]\n\n    def forward(self, x):\n        x = self.relu(self.fc1(x))\n        x = self.relu(self.fc2(x))\n        x = self.relu(self.fc3(x))\n        x = self.fc4(x)\n        return x\n\n# 1. Mini batch size\nmb_size = 128\n\n# 4. Loss Hyperparameters\nalpha = 10\n\n# 5. Input Dim (Fixed)\ndim = data.shape[1] - 1\n\n# 6. Train Test Split\ntrain_n = int(199476 * 0.8)\ntest_n = 199476 - int(199476 * 0.8)\n\nX_train = data[:train_n,:-1]\ny_train = data[:train_n, -1]\n\nX_test = data[train_n:,:-1]\ny_test = data[train_n:, -1]\n\n# Nets\nD = Discriminator()\nG = Generator()\n\n# Optimizers\noptimD = torch.optim.Adam(D.parameters(), lr = 0.001)\noptimG = torch.optim.Adam(G.parameters(), lr = 0.001)\n\n# Loss\nmse_loss = nn.MSELoss(reduction = 'elementwise_mean')\n\ni = 1\nfor it in tqdm(range(10000)):\n    mb_idx = sample_idx(train_n, mb_size)\n    X_mb = X_train[mb_idx,:]\n    X_mb = torch.tensor(X_mb).float()\n    y_mb = y_train[mb_idx]        \n    y_mb = torch.tensor(y_mb).float()\n\n    # Train D\n    G_sample = G(X_mb)\n    D_loss1 = ((D(X_mb) + 1e-8).log()).mean() + ((1 - D(G_sample) + 1e-8).log()).mean()\n    D_loss = - D_loss1\n    D_loss.backward()\n    optimD.step()\n    optimD.zero_grad()\n\n    # Train G\n    G_sample = G(X_mb)\n    D_prob.detach()\n    G_loss1 = ((1 - D(G_sample) + 1e-8).log()).mean()\n    G_mse_loss = mse_loss(G_sample, y_mb)\n    G_loss = G_loss1 + alpha * G_mse_loss\n    G_loss.backward()\n    optimG.step()\n    optimG.zero_grad()\n\n    if it % 100 == 0:\n        print(\"Iter: {}\".format(it))\n        print(\"D_loss: {:.4}\".format(D_loss))\n        print(\"Train loss: {:.4}\".format(G_mse_loss))\n        print()\n</code></pre>\n"}, {"tags": ["python", "postgresql", "amazon-web-services", "amazon-redshift"], "comments": [{"owner": {"reputation": 2614, "user_id": 3254869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/O17Z7.jpg?s=128&g=1", "display_name": "zhqiat", "link": "https://stackoverflow.com/users/3254869/zhqiat"}, "edited": false, "score": 0, "creation_date": 1570656124, "post_id": 58311973, "comment_id": 102985979, "body": "This sounds like an ETL job which is probably not the best use case for python. If you really really want to do it in python, using <code>sqlalchemy</code> would be the best case scenario that I can think of to stream the data into redshift. Bandwidth constraints as always will apply."}, {"owner": {"reputation": 2965, "user_id": 4626254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Td_75cnFBl0/AAAAAAAAAAI/AAAAAAAAAC8/COZ0iGRh-Ts/photo.jpg?sz=128", "display_name": "Underoos", "link": "https://stackoverflow.com/users/4626254/underoos"}, "reply_to_user": {"reputation": 2614, "user_id": 3254869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/O17Z7.jpg?s=128&g=1", "display_name": "zhqiat", "link": "https://stackoverflow.com/users/3254869/zhqiat"}, "edited": false, "score": 0, "creation_date": 1570656289, "post_id": 58311973, "comment_id": 102986030, "body": "Actually I am supposed to use raw SQL queries because of performance issues. And I need to be denormalizing and loading the data from local DB into Redshift when even a flask endpoint is hit."}, {"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 1, "creation_date": 1570681364, "post_id": 58311973, "comment_id": 102991257, "body": "Sounds like a possible use-case for AWS Glue. AWS Database Migration Service (DMS) might also be suitable. Alternatively, if you are saving the data to S3 and loading into Redshift, make sure your Python program uses the <code>COPY</code> command on Redshift to load the data efficiently."}], "answers": [{"tags": [], "owner": {"reputation": 2223, "user_id": 1628812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7db836df7c751052558ba3e9f31880?s=128&d=identicon&r=PG", "display_name": "demircioglu", "link": "https://stackoverflow.com/users/1628812/demircioglu"}, "is_accepted": true, "score": 2, "last_activity_date": 1570681391, "last_edit_date": 1570681391, "creation_date": 1570662603, "answer_id": 58313400, "question_id": 58311973, "link": "https://stackoverflow.com/questions/58311973/how-to-transfer-data-from-postgres-to-amazon-redshift-efficiently/58313400#58313400", "title": "How to transfer data from Postgres to Amazon Redshift efficiently?", "body": "<p>The other option you have and might be a better option is to use AWS DMS (Database Migration Service). </p>\n\n<p>See: <a href=\"https://docs.aws.amazon.com/dms/latest/userguide/CHAP_Source.PostgreSQL.html\" rel=\"nofollow noreferrer\">Using a PostgreSQL Database as a Source for AWS DMS - AWS Database Migration Service</a></p>\n"}], "owner": {"reputation": 2965, "user_id": 4626254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Td_75cnFBl0/AAAAAAAAAAI/AAAAAAAAAC8/COZ0iGRh-Ts/photo.jpg?sz=128", "display_name": "Underoos", "link": "https://stackoverflow.com/users/4626254/underoos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1315, "favorite_count": 0, "accepted_answer_id": 58313400, "answer_count": 1, "score": 0, "last_activity_date": 1570681391, "creation_date": 1570653600, "last_edit_date": 1570655687, "question_id": 58311973, "link": "https://stackoverflow.com/questions/58311973/how-to-transfer-data-from-postgres-to-amazon-redshift-efficiently", "title": "How to transfer data from Postgres to Amazon Redshift efficiently?", "body": "<p>I have so much of data in my local <strong>Postgres database</strong> on my machine.\nI need to denormalize the data present in this local database and get a query set in specific format which can be loaded directly into Redshift tables directly using <strong>Python</strong>.</p>\n\n<p>I do have queries that I can run on the local database and get the query set in specific format that needs to be loaded to <strong>Redshift</strong> directly. </p>\n\n<p>But there is so much data that I need to move from local to <strong>Redshift</strong>. For now, the only better way I could think of is exporting the queryset that I got into a <strong>.csv</strong> file which will be uploaded to an <strong>S3 bucket</strong> which will be directly copied into the Redshift tables using Python.</p>\n\n<p>I'm just wondering if there is any alternative way to do this. something like streaming directly from <strong>Postgres database</strong> to <strong>AWS Redshift</strong></p>\n\n<p>Please let me know if the uploading and dumping the <strong>.csv</strong> is a better way or is there any other efficient way to achieve this.</p>\n"}, {"tags": ["python", "keras", "conv-neural-network"], "comments": [{"owner": {"reputation": 2868, "user_id": 7212365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FBxLp.png?s=128&g=1", "display_name": "zihaozhihao", "link": "https://stackoverflow.com/users/7212365/zihaozhihao"}, "edited": false, "score": 0, "creation_date": 1570687420, "post_id": 58311972, "comment_id": 102992787, "body": "What does your dataframe look like?"}, {"owner": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "reply_to_user": {"reputation": 2868, "user_id": 7212365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FBxLp.png?s=128&g=1", "display_name": "zihaozhihao", "link": "https://stackoverflow.com/users/7212365/zihaozhihao"}, "edited": false, "score": 0, "creation_date": 1570690148, "post_id": 58311972, "comment_id": 102993931, "body": "I&#39;ve edited my question"}], "answers": [{"comments": [{"owner": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "edited": false, "score": 0, "creation_date": 1570735491, "post_id": 58318144, "comment_id": 103017639, "body": "how can i do that?"}], "tags": [], "owner": {"reputation": 763, "user_id": 9813733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2436891b365ad1a3e5a3971213cb1e20?s=128&d=identicon&r=PG&f=1", "display_name": "Sree", "link": "https://stackoverflow.com/users/9813733/sree"}, "is_accepted": true, "score": 1, "last_activity_date": 1570769928, "last_edit_date": 1570769928, "creation_date": 1570694669, "answer_id": 58318144, "question_id": 58311972, "link": "https://stackoverflow.com/questions/58311972/keras-valueerror-error-when-checking-model-target-cnn/58318144#58318144", "title": "Keras ValueError: Error when checking model target (CNN)", "body": "<p>The y_train (ground truth labels) in your model for each image should be a single array of 14 elements [0,0,1,1,0,1,0,...], but looks like you are passing 14 different arrays for each image. Change the shape of y_train (y_col) in your code. Also, you are storing it in a list, convert it to numpy array as the model expects. </p>\n\n<p>I believe that your data is stored as pandas dataframe. In that case, drop the first column <code>df.drop('Path', axis=1, inplace=True)</code>. Then you can convert to numpy array as <code>y_train = df.to_numpy()</code>. This will give you the target in correct shape. Give this in fit method for training. </p>\n\n<p>Also, note that <code>df.to_numpy()</code> works only if you are using the latest pandas version. For old versions, you can use <code>df.values</code> to convert the dataframe to numpy array.</p>\n"}, {"comments": [{"owner": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "edited": false, "score": 0, "creation_date": 1570697407, "post_id": 58318680, "comment_id": 102997365, "body": "yes, but the one &quot;item&quot; could be red and yellow, black etc. (like multicolor)"}, {"owner": {"reputation": 1327, "user_id": 5136550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf9df65969d7570327b01f3e4822f65?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Roy", "link": "https://stackoverflow.com/users/5136550/kaushik-roy"}, "reply_to_user": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "edited": false, "score": 1, "creation_date": 1570697615, "post_id": 58318680, "comment_id": 102997488, "body": "yes, <code>class_mode=&quot;categorical&quot;</code> supports multi-label. please check out the updated answer."}, {"owner": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "edited": false, "score": 0, "creation_date": 1570735367, "post_id": 58318680, "comment_id": 103017582, "body": "Thank you. I thought about it, but here I have a problem I don&#39;t understand -  <code>If class_mode = &quot;categorical&quot;, y_col = column values \u200b\u200bmust be type string, list or tuple.</code> When I define y_col this is a list and the error remains"}, {"owner": {"reputation": 1327, "user_id": 5136550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf9df65969d7570327b01f3e4822f65?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Roy", "link": "https://stackoverflow.com/users/5136550/kaushik-roy"}, "reply_to_user": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "edited": false, "score": 0, "creation_date": 1570759875, "post_id": 58318680, "comment_id": 103024109, "body": "According to <a href=\"https://github.com/keras-team/keras-preprocessing/issues/135\" rel=\"nofollow noreferrer\">this</a> you should use <code>class_mode=&#39;other&#39;</code>. If your labels were in a single column then <code>class_mode = &quot;categorical&quot;</code> could work. you can find a perfect example <a href=\"https://medium.com/@vijayabhaskar96/multi-label-image-classification-tutorial-with-keras-imagedatagenerator-cd541f8eaf24\" rel=\"nofollow noreferrer\">here</a>. Also updated my answer."}, {"owner": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "edited": false, "score": 0, "creation_date": 1570958222, "post_id": 58318680, "comment_id": 103075837, "body": "Thanks. everything work. But in this case metrics can&#39;t be accuracy"}], "tags": [], "owner": {"reputation": 1327, "user_id": 5136550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf9df65969d7570327b01f3e4822f65?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Roy", "link": "https://stackoverflow.com/users/5136550/kaushik-roy"}, "is_accepted": false, "score": 1, "last_activity_date": 1571145931, "last_edit_date": 1571145931, "creation_date": 1570696512, "answer_id": 58318680, "question_id": 58311972, "link": "https://stackoverflow.com/questions/58311972/keras-valueerror-error-when-checking-model-target-cnn/58318680#58318680", "title": "Keras ValueError: Error when checking model target (CNN)", "body": "<p>You should use <code>class_mode=\"other\"</code> instead of <code>class_mode=\"multi_output\"</code> in both <code>train_generator</code> and <code>val_generator</code>. [Ref: <a href=\"https://medium.com/@vijayabhaskar96/multi-label-image-classification-tutorial-with-keras-imagedatagenerator-cd541f8eaf24\" rel=\"nofollow noreferrer\">multi-label-classification-with-keras-imagedatagenerator</a>]</p>\n\n<p>Furthermore, Since it's a multi-label classification problem, you should use <code>sigmoid</code> activation function in the output layer of your model. You should also use <code>binary_crossentropy</code> loss while compiling your model as for each target class you need to determine whether the input belongs to that class or not.</p>\n\n<pre><code>model.add(Dense(14, activation='sigmoid'))\nmodel.compile(loss='binary_crossentropy',\n              optimizer='adam', \n              metrics=[\"accuracy\"])\n</code></pre>\n\n<p>Hope it will help.</p>\n"}], "owner": {"reputation": 750, "user_id": 11552661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bee2990f86c3c504a109f35d3d7f72?s=128&d=identicon&r=PG&f=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/11552661/tbone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 58318144, "answer_count": 2, "score": 0, "last_activity_date": 1571145931, "creation_date": 1570653571, "last_edit_date": 1570690114, "question_id": 58311972, "link": "https://stackoverflow.com/questions/58311972/keras-valueerror-error-when-checking-model-target-cnn", "title": "Keras ValueError: Error when checking model target (CNN)", "body": "<p>The algorithm is designed to describe products. This part recognizes the colors of clothes from images (14 output values)    however, it still returns the following error</p>\n\n<p>Error:</p>\n\n<pre><code>ValueError: Error when checking model target: the list of Numpy arrays \nthat you are passing to your model is not the size the model expected. \nExpected to see 1 array(s), but instead got the following list of 14 \narrays.\n</code></pre>\n\n<p>part of the code:</p>\n\n<pre><code>TRAIN_LABELS_FILE = \"train/labels.txt\"\nVAL_LABELS_FILE = \"val/labels.txt\"\nTEST_LABELS_FILE = \"test/labels.txt\"\nCOLOR_FILE = \"names.txt\"\n\n# Specify image size\nIMG_WIDTH = 128\nIMG_HEIGHT = 128\nCHANNELS = 3\n\ncolor = pd.read_csv(COLOR_FILE)\ncolor = color.T\ncolor_list = list(color.iloc[0])\ncolor_list.insert(0,'beige')\ncolor_list.insert(0,'path')\n\ntrain = pd.read_csv(TRAIN_LABELS_FILE,sep=\" \",names=color_list, dtype=\"str\")\nval = pd.read_csv(VAL_LABELS_FILE,sep=\" \",names=color_list, dtype=\"str\")\n\nfrom keras.preprocessing.image import ImageDataGenerator\nBATCH_SIZE = 4\n#directory = os.path.dirname(path)\n\n# Add Image augmentation to our generator\ntrain_datagen = ImageDataGenerator(rotation_range=360,\n                                   horizontal_flip=True,\n                                   vertical_flip=True,\n                                   validation_split=0.15,\n                                   #preprocessing_function=preprocess_image, \n                                   rescale=1 / 128.)\n\n# Use the dataframe to define train and validation generators\ntrain_generator = train_datagen.flow_from_dataframe(train, \n                                                    x_col='path', \n                                                    y_col=color_list[1:],\n                                                    directory='train',\n                                                    target_size=(IMG_WIDTH, IMG_HEIGHT),\n                                                    batch_size=BATCH_SIZE,\n                                                    class_mode=\"multi_output\", \n                                                    subset='training')\n\nval_generator = train_datagen.flow_from_dataframe(val, \n                                                  x_col='path', \n                                                  y_col=color_list[1:],\n                                                  directory='val',\n                                                  target_size=(IMG_WIDTH, IMG_HEIGHT),\n                                                  batch_size=BATCH_SIZE,\n                                                  class_mode=\"multi_output\",\n                                                  subset='validation')\n\nfrom efficientnet import EfficientNetB5\neffnet = EfficientNetB5(input_shape=(IMG_WIDTH, IMG_HEIGHT, CHANNELS),\n                          weights='imagenet',\n                          include_top=False)\n\ndef build_model():\n\n    model = Sequential()\n    model.add(effnet)\n    model.add(GlobalAveragePooling2D())\n    model.add(Dropout(0.5))\n    model.add(Dense(5, activation='relu'))\n    model.add(Dense(14, activation='softmax'))\n    model.compile(loss='categorical_crossentropy',\n                  optimizer='adam', \n                  metrics=[\"categorical_accuracy\"])\n    print(model.summary())\n    return model\n\n# Initialize model\nmodel = build_model()\n\n# Begin training\nmodel.fit_generator(train_generator,\n                    steps_per_epoch=train_generator.samples // BATCH_SIZE,\n                    epochs=35,\n                    validation_data=val_generator,\n                    validation_steps = val_generator.samples // BATCH_SIZE)\n</code></pre>\n\n<p>input shape is defined in the first layer 'effnet' so I don't know why an error occurs. </p>\n\n<p>I also tried to convert the data to a numpy array but the effect is the same. </p>\n\n<p>Dataframe train: sth.</p>\n\n<pre><code>      Path    black  grey  green blue   etc....\n0  12345.jpg    1      0       1  0\n1  12345.jpg    0      0       1  0\n2  12345.jpg    1      0       0  1\n3  12345.jpg    0      1       0  1\n4  12345.jpg    0      0       1  1\n5  12345.jpg    0      0       1  1\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 1090, "user_id": 7113209, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/10154091942466794/picture?type=large", "display_name": "hancho", "link": "https://stackoverflow.com/users/7113209/hancho"}, "is_accepted": false, "score": 0, "last_activity_date": 1570654268, "last_edit_date": 1570654268, "creation_date": 1570653862, "answer_id": 58312025, "question_id": 58311932, "link": "https://stackoverflow.com/questions/58311932/how-can-i-query-fields-of-a-one-to-many-related-object/58312025#58312025", "title": "How can I query fields of a one to many related object?", "body": "<p>You can query through the related model in <code>filter</code> to get your desired result - Runs, with run results of passed/no run like so.</p>\n\n<p><code>Run.objects.filter(run_results__result__in=['P', 'N'])</code></p>\n\n<pre><code>class RunQuerySet(QuerySet):\n\n    def passed_or_no_run(self): \n        return self.filter(run_results__result__in=['P', 'N'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 5828322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/58a79e343a980eaeca52482642b152a3?s=128&d=identicon&r=PG&f=1", "display_name": "shanwar", "link": "https://stackoverflow.com/users/5828322/shanwar"}, "edited": false, "score": 0, "creation_date": 1570714948, "post_id": 58312328, "comment_id": 103007295, "body": "Does that give me runs that exclusively have passed/no run, or does it give me runs that may have at least one test that has passed results and no runs?"}], "tags": [], "owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "is_accepted": false, "score": 0, "last_activity_date": 1570731044, "last_edit_date": 1570731044, "creation_date": 1570655254, "answer_id": 58312328, "question_id": 58311932, "link": "https://stackoverflow.com/questions/58311932/how-can-i-query-fields-of-a-one-to-many-related-object/58312328#58312328", "title": "How can I query fields of a one to many related object?", "body": "<p>You would need to use the <a href=\"https://docs.djangoproject.com/en/2.2/topics/db/managers/#creating-a-manager-with-queryset-methods\" rel=\"nofollow noreferrer\"><code>as_manager</code></a> method to link a custom <code>QuerySet</code> to your model:</p>\n\n<pre><code>class RunQuerySet(QuerySet):\n\n    def passed_or_no_run(self): \n        return self.filter(run_results__result__in=['P', 'N'])\n\nclass Run(TimeStampedModel):\n   RUN_TYPE_CHOICES = (\n       (MANUAL_RUN, 'Manual'),\n       (AUTOMATED_RUN, 'Automated'),\n    )\n    run_type = models.CharField(max_length=1, choices=RUN_TYPE_CHOICES)\n\n    objects = RunQuerySet.as_manager()\n</code></pre>\n\n<p>Given an <code>QuerySet</code> instance of the <code>Run</code> model, you can execute <code>passed_or_no_run</code> like this:</p>\n\n<pre><code>runs = Run.objects.all()\nruns.passed_or_no_run()\n</code></pre>\n\n<p>Now, instead of <em>all</em> run instances, you only get the instances where the <code>run_type</code> value is either <code>P</code> or <code>N</code></p>\n"}], "owner": {"reputation": 319, "user_id": 5828322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/58a79e343a980eaeca52482642b152a3?s=128&d=identicon&r=PG&f=1", "display_name": "shanwar", "link": "https://stackoverflow.com/users/5828322/shanwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570731044, "creation_date": 1570653406, "question_id": 58311932, "link": "https://stackoverflow.com/questions/58311932/how-can-i-query-fields-of-a-one-to-many-related-object", "title": "How can I query fields of a one to many related object?", "body": "<p>So if I have model Run and ExceutedTestResults</p>\n\n<pre><code>class Run(TimeStampedModel):\n   RUN_TYPE_CHOICES = (\n       (MANUAL_RUN, 'Manual'),\n       (AUTOMATED_RUN, 'Automated'),\n    )\n    run_type = models.CharField(max_length=1, choices=RUN_TYPE_CHOICES)\n\nclass ExecutedTestResult(Duration):\n    \"\"\"Lists the results of every test case executed.\"\"\"\n    run = models.ForeignKey(Run, on_delete=models.CASCADE,\n                            related_name='run_results')\n    RESULT_TYPE_CHOICES = (\n       ('P', 'Passed'),\n       ('F', 'Failed'),\n       ('N', 'No Run'),\n       ('B', 'Blocked'),\n    )\n    result = models.CharField(max_length=1, choices=RESULT_TYPE_CHOICES)\n</code></pre>\n\n<p>I want to create a queryset method in <code>class RunQuerySet(QuerySet):</code> which would return a queryset of runs that are all passed/no run within a single run</p>\n\n<p>I'm not sure how to do this on a one to many relationship. Suggestions?</p>\n"}, {"tags": ["python", "vega-lite", "ridgeline-plot"], "answers": [{"tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": false, "score": 0, "last_activity_date": 1570658589, "creation_date": 1570658589, "answer_id": 58312879, "question_id": 58311926, "link": "https://stackoverflow.com/questions/58311926/are-ridgeline-plots-possible-in-vega-lite/58312879#58312879", "title": "Are ridgeline plots possible in vega-lite?", "body": "<p>Yes, though it takes some doing. Here is an example using Altair, adapted from <a href=\"https://observablehq.com/@vega/psr-b1919-21-with-vega-lite\" rel=\"nofollow noreferrer\">https://observablehq.com/@vega/psr-b1919-21-with-vega-lite</a> (It requires pre-processing the data source, so it's best to use a framework that outputs the Vega-Lite spec):</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport altair as alt\n\n# Note: data is in a CSV with no header info. We first load it as a 2D array,\n# and then create a one-column dataframe where each entry is a list.\n# This leads to a compact data representation, from which we use Altair\n# transforms to tidy the data within the chart specification.\nurl = 'https://gist.githubusercontent.com/borgar/31c1e476b8e92a11d7e9/raw/0fae97dab6830ecee185a63c1cee0008f6778ff6/pulsar.csv'\nvalues = np.genfromtxt(url, delimiter=',')\ndf = pd.Series(values.tolist(), name='data').to_frame()\n\n# These values tweak the spacing &amp; overlap between lines.\nstep=6\noverlap=12\n\nalt.Chart(df).transform_window(\n    series='row_number()'\n).transform_flatten(\n    ['data']\n).transform_window(\n    index='row_number()',\n    groupby=['series']\n).mark_line(\n    fill='white',\n    stroke='black',\n    strokeWidth=1\n).encode(\n    x=alt.X('index:Q', axis=None),\n    y=alt.Y('data:Q', scale=alt.Scale(range=[step, -overlap * (step + 1)]), axis=None),\n    row=alt.Row('series:O', header=alt.Header(title=None, labelPadding=0, labelFontSize=0)),\n    tooltip=None\n).properties(\n    width=370,\n    height=step,\n    bounds='flush',\n    spacing=0,\n    padding=0,\n).configure_view(\n    stroke=None,\n    fill='white'\n)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OVhx1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OVhx1.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 12170205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAiU5TyObSvC7FJu9MMibdFE6_qOalsjhokYsKb=k-s128", "display_name": "Brock Wroblewski", "link": "https://stackoverflow.com/users/12170205/brock-wroblewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1595138610, "creation_date": 1570653381, "last_edit_date": 1595138610, "question_id": 58311926, "link": "https://stackoverflow.com/questions/58311926/are-ridgeline-plots-possible-in-vega-lite", "title": "Are ridgeline plots possible in vega-lite?", "body": "<p>Is it possible to make a plot like <a href=\"https://i.stack.imgur.com/fy3BW.png\" rel=\"nofollow noreferrer\">this</a> in vega-lite?</p>\n\n<p>There doesn't seem to be any concept of three-dimensionality in the documentation. Is there some kind of workaround that would make overlapping plots like this possible?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2573, "user_id": 10003710, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8zTS-w1y-AA/AAAAAAAAAAI/AAAAAAAAN8c/dkHCDLhexh4/photo.jpg?sz=128", "display_name": "Amit Yadav", "link": "https://stackoverflow.com/users/10003710/amit-yadav"}, "edited": false, "score": 0, "creation_date": 1570654181, "post_id": 58311911, "comment_id": 102985291, "body": "done! Thanks for pointing out. :)"}], "owner": {"reputation": 19, "user_id": 10952478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/983717374b53d36388f8dd1d4c34305a?s=128&d=identicon&r=PG&f=1", "display_name": "bvanfleet", "link": "https://stackoverflow.com/users/10952478/bvanfleet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1570654407, "answer_count": 0, "score": 1, "last_activity_date": 1570653316, "creation_date": 1570653316, "question_id": 58311911, "link": "https://stackoverflow.com/questions/58311911/no-module-named-in-one-script-but-not-another-at-the-same-level", "closed_reason": "Duplicate", "title": "&#39;No module named&#39; in one script, but not another at the same level", "body": "<p>I'm still a novice at Python, but I've learned quite a few things. However, I've finally hit a brick wall that I can't solve on my own.</p>\n\n<p>I'm trying to run an application that utilizes a shared module that gets used between two applications. I've also been writing some tests in a separate folder at the same level. When I attempt to run app1 from the command line, it's throwing a 'no module named' error, referencing the shared module in the stack trace. When I run <code>pytest</code> from the same location the tests that reference the shared module it executes without this error.</p>\n\n<p>I've made sure that the relevant folders contain the <code>__init__.py</code> file. I've also made sure I'm running the <code>python3 ./App1/server.py</code> command from the appropriate location (proj1). My development uses virtualenv, and I've made sure it's active.</p>\n\n<p>Folder structure used:</p>\n\n<pre><code>proj1\n    -- app1\n        -- __init__.py\n        -- app\n            -- __init__.py\n            -- some_flask_controller.py\n        -- server.py\n    -- app2\n        -- __init__.py\n        -- No other relevant details here\n    -- shared\n        -- __init__.py\n        -- some_file.py\n    -- tests\n        -- __init__.py\n        -- shared_tests\n            -- __init__.py\n            -- test_some_file.py\n</code></pre>\n\n<p>Stack when attempting to run <code>python3 ./App1/server.py</code>:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \".\\App1\\app.py\", line 1, in &lt;module&gt;\n    from app import app\n  File \"\\Proj1\\App1\\app\\__init__.py\", line 10, in &lt;module&gt;\n    from app.some_flask_controller import mod_requests as request_module\n  File \"\\Proj1\\App1\\app\\some_flask_controller.py\", line 5, in &lt;module&gt;\n    from shared.some_file import some_class\nModuleNotFoundError: No module named 'shared'\n</code></pre>\n\n<p>I'm expecting either <code>pytest</code> and <code>python3 ./App1/server.py</code> to return this error, or both work. However, only <code>pytest</code> is executing normally. Is there a reason for this?</p>\n"}, {"tags": ["python", "oop"], "comments": [{"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 0, "creation_date": 1570653276, "post_id": 58311868, "comment_id": 102984911, "body": "Remember the syntax of function call."}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 2, "creation_date": 1570653422, "post_id": 58311868, "comment_id": 102984960, "body": "<code>print(user1.student_info())</code>"}, {"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 0, "creation_date": 1570653811, "post_id": 58311868, "comment_id": 102985134, "body": "Op should have found it. The whole point of the exercise is lost."}], "answers": [{"tags": [], "owner": {"reputation": 1812, "user_id": 11432434, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lYnbtUu9EOU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-9ybhwxbzBDHJNyQWMDDx97hP7g/mo/photo.jpg?sz=128", "display_name": "SimonN", "link": "https://stackoverflow.com/users/11432434/simonn"}, "is_accepted": false, "score": 0, "last_activity_date": 1570653856, "last_edit_date": 1570653856, "creation_date": 1570653363, "answer_id": 58311922, "question_id": 58311868, "link": "https://stackoverflow.com/questions/58311868/python-prints-my-class-object-memory-address-instead-of-values-of-my-array/58311922#58311922", "title": "Python prints my class object memory address instead of values of my array", "body": "<p>You need to give your class a <code>__str__</code> or <code>__repr__</code> method or it won't know how to present itself as a string. If you simply rename your existing <code>student_info</code> method to one of these it will work just by doing <code>print(user1)</code></p>\n\n<p>Also, the reason <code>print(user1.student_info)</code> didn't do what you expected is because you are asking it to print the method itself not the result of the method. It should be <code>print(user1.student_info())</code></p>\n"}, {"tags": [], "owner": {"reputation": 2389, "user_id": 7348030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7PmbNFJwfPc/AAAAAAAAAAI/AAAAAAAAAJE/5lDuTFQtNpQ/photo.jpg?sz=128", "display_name": "Florian Bernard", "link": "https://stackoverflow.com/users/7348030/florian-bernard"}, "is_accepted": true, "score": 0, "last_activity_date": 1570653502, "creation_date": 1570653502, "answer_id": 58311958, "question_id": 58311868, "link": "https://stackoverflow.com/questions/58311868/python-prints-my-class-object-memory-address-instead-of-values-of-my-array/58311958#58311958", "title": "Python prints my class object memory address instead of values of my array", "body": "<p>Replace your method student_info by the dunder method <strong>str</strong> as follow.</p>\n\n<pre><code>def __str__(self):\n    return   f\"\"\"\n    ************************\\n\n    Name: {self.name}\\n\n    Grade Level: {self.grade_level}\\n\n    Subject: {self.subject} \\n\n    Grade: {self.grade}\\n       \n    ************************\"\"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "is_accepted": false, "score": 1, "last_activity_date": 1570656592, "last_edit_date": 1570656592, "creation_date": 1570653827, "answer_id": 58312018, "question_id": 58311868, "link": "https://stackoverflow.com/questions/58311868/python-prints-my-class-object-memory-address-instead-of-values-of-my-array/58312018#58312018", "title": "Python prints my class object memory address instead of values of my array", "body": "<p>Method call should be performed with <code>()</code>\nCode:</p>\n\n<pre><code>class Student():\n\n    def __init__(self, name, grade_level, subject, grade):\n        self.name = name\n        self.grade_level = grade_level\n        self.subject = subject\n        self.grade = grade\n\n    @classmethod\n    def student_input(cls):\n        return cls(\n            input(\"Name: \"),\n            input(\"Garde Level: \"),\n            input(\"Subject: \"),\n            int(input(\"Grade: \")),\n        )\n\n    def student_info(self):\n        print(\"************************\")\n        print(\"Name: \" + self.name+\"\\n\"+\"Grade Level: \"+self.grade_level +\n              \"\\n\"+\"Subject: \"+self.subject + \"\\n\"+\"Grade: \"+str(self.grade))\n        print(\"************************\")\n\n\nstudent_list = []\nprint(\"**********************\")\nuser1 = Student.student_input()\nstudent_list.append(user1)\nprint(\"**********************\")\nuser2 = Student.student_input()\nstudent_list.append(user2)\nprint(\"**********************\")\n\nprint(user1.student_info) # where you failed, not compliying with method call syntax in python\nprint(user1.student_info()) # correct way to obtain your print.\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>**********************\nName: &gt;? Foo\nGarde Level: &gt;? 7\nSubject: &gt;? Bart\nGrade: &gt;? 8\n**********************\nName: &gt;? Fooz\nGarde Level: &gt;? 9\nSubject: &gt;? pijzef\nGrade: &gt;? 3\n**********************\n&lt;bound method Student.student_info of &lt;__main__.Student object at 0x0000012BF97138C8&gt;&gt;\n************************\nName: Foo\nGrade Level: 7\nSubject: Bart\nGrade: 8\n************************\nNone\n</code></pre>\n\n<hr>\n\n<p>Otherwise, as stated in other answers, provide a <strong>srt</strong> method and only print the object. Python will infer a <code>objet.__str__()</code> call.\nThis is more \"OOP-ic\"</p>\n"}], "owner": {"reputation": 3, "user_id": 12191247, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCAwGbcd06b7bcCoNnRalD-pUqmEJ5eJGy90qD5=k-s128", "display_name": "DeL Homi", "link": "https://stackoverflow.com/users/12191247/del-homi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1730, "favorite_count": 0, "closed_date": 1570653550, "accepted_answer_id": 58311958, "answer_count": 3, "score": -2, "last_activity_date": 1570656592, "creation_date": 1570653137, "question_id": 58311868, "link": "https://stackoverflow.com/questions/58311868/python-prints-my-class-object-memory-address-instead-of-values-of-my-array", "closed_reason": "Duplicate", "title": "Python prints my class object memory address instead of values of my array", "body": "<p>I want to print each element registered in my \"student_list\" array. But Python prints the memory location of each of my values. I am totally new to OOP using python. Any help or comments are highly appreciated.</p>\n\n<pre><code>class Student():\n\n    def __init__(self, name, grade_level, subject, grade):\n        self.name = name\n        self.grade_level = grade_level\n        self.subject = subject\n        self.grade = grade\n\n    @classmethod\n    def student_input(cls):\n        return cls(\n            input(\"Name: \"),\n            input(\"Garde Level: \"),\n            input(\"Subject: \"),\n            int(input(\"Grade: \")),\n        )\n\n    def student_info(self):\n        print(\"************************\")\n        print(\"Name: \" + self.name+\"\\n\"+\"Grade Level: \"+self.grade_level +\n              \"\\n\"+\"Subject: \"+self.subject + \"\\n\"+\"Grade: \"+str(self.grade))\n        print(\"************************\")\n\n\nstudent_list = []\nprint(\"**********************\")\nuser1 = Student.student_input()\nstudent_list.append(user1)\nprint(\"**********************\")\nuser2 = Student.student_input()\nstudent_list.append(user2)\nprint(\"**********************\")\n\nprint(user1.student_info)\n\nfor student in student_list:\n    print(student)\n</code></pre>\n\n<h2>Output:</h2>\n\n<pre><code>PS C:\\Users\\D3L10\\Documents\\PythonML\\iPythonProj&gt; python .\\schoolSystem.py\n**********************\nName: Andy\nGarde Level: Freshman\nSubject: Physics\nGrade: 92\n**********************\nName: James\nGarde Level: Sophmore\nSubject: Algebra\nGrade: 82\n**********************\n&lt;bound method Student.student_info of &lt;__main__.Student object at 0x00580610&gt;&gt;\n&lt;__main__.Student object at 0x00580610&gt;\n&lt;__main__.Student object at 0x00819DB0&gt;\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 238, "user_id": 8968696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7738287311c430de36dea9b0878b6d99?s=128&d=identicon&r=PG&f=1", "display_name": "hkr", "link": "https://stackoverflow.com/users/8968696/hkr"}, "edited": false, "score": 0, "creation_date": 1570653248, "post_id": 58311796, "comment_id": 102984897, "body": "Something like this - <a href=\"https://stackoverflow.com/questions/21291259/convert-floats-to-ints-in-pandas/55299550#55299550\" title=\"convert floats to ints in pandas\">stackoverflow.com/questions/21291259/&hellip;</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 8346, "user_id": 6573902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nplar.jpg?s=128&g=1", "display_name": "sophros", "link": "https://stackoverflow.com/users/6573902/sophros"}, "is_accepted": false, "score": 1, "last_activity_date": 1570653874, "last_edit_date": 1570653874, "creation_date": 1570653318, "answer_id": 58311912, "question_id": 58311796, "link": "https://stackoverflow.com/questions/58311796/convert-dataframe-of-floats-to-integers-in-pandas/58311912#58311912", "title": "Convert dataframe of floats to integers in pandas?", "body": "<p>You can use <code>apply</code> for this purpose:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'A':np.arange(1.0, 20.0), 'B':np.arange(101.0, 120.0)})\nprint(df)\n       A      B\n0    1.0  101.0\n1    2.0  102.0\n2    3.0  103.0\n3    4.0  104.0\n4    5.0  105.0\n5    6.0  106.0\n6    7.0  107.0\n7    8.0  108.0\n8    9.0  109.0\n9   10.0  110.0\n10  11.0  111.0\n11  12.0  112.0\n12  13.0  113.0\n13  14.0  114.0\n14  15.0  115.0\n15  16.0  116.0\n16  17.0  117.0\n17  18.0  118.0\n18  19.0  119.0\n\ndf2 = df.apply(lambda a: [int(b) for b in a])\nprint(df2)\n\n     A    B\n0    1  101\n1    2  102\n2    3  103\n3    4  104\n4    5  105\n5    6  106\n6    7  107\n7    8  108\n8    9  109\n9   10  110\n10  11  111\n11  12  112\n12  13  113\n13  14  114\n14  15  115\n15  16  116\n16  17  117\n17  18  118\n18  19  119\n</code></pre>\n\n<p>A better approach is to change the type at the level of series:</p>\n\n<pre><code>for col in df.columns:\n    if df[col].dtype == np.float64:\n        df[col] = df[col].astype('int')\n\nprint(df)\n\n     A    B\n0    1  101\n1    2  102\n2    3  103\n3    4  104\n4    5  105\n5    6  106\n6    7  107\n7    8  108\n8    9  109\n9   10  110\n10  11  111\n11  12  112\n12  13  113\n13  14  114\n14  15  115\n15  16  116\n16  17  117\n17  18  118\n18  19  119\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 3, "last_activity_date": 1570653866, "last_edit_date": 1570653866, "creation_date": 1570653501, "answer_id": 58311957, "question_id": 58311796, "link": "https://stackoverflow.com/questions/58311796/convert-dataframe-of-floats-to-integers-in-pandas/58311957#58311957", "title": "Convert dataframe of floats to integers in pandas?", "body": "<p>If you have a data frame of ints, simply use <code>astype</code> directly. </p>\n\n<pre><code>df.astype(int)\n</code></pre>\n\n<p>If not, use <code>select_dtypes</code> first to select numeric columns.</p>\n\n<pre><code>df.select_dtypes(np.number).astype(int)\n</code></pre>\n\n<hr>\n\n<pre><code>df = pd.DataFrame({'col1': [1.,2.,3.,4.], 'col2': [10.,20.,30.,40.]})\n</code></pre>\n\n<p></p>\n\n<pre><code>   col1  col2\n0   1.0  10.0\n1   2.0  20.0\n2   3.0  30.0\n3   4.0  40.0\n</code></pre>\n\n<p></p>\n\n<pre><code>&gt;&gt;&gt; df.astype(int)\n</code></pre>\n\n<p></p>\n\n<pre><code>   col1  col2\n0     1    10\n1     2    20\n2     3    30\n3     4    40\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 10325435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33b95de232e9935d88977f0b35977b5?s=128&d=identicon&r=PG&f=1", "display_name": "Emad", "link": "https://stackoverflow.com/users/10325435/emad"}, "is_accepted": false, "score": 1, "last_activity_date": 1570654979, "creation_date": 1570654979, "answer_id": 58312265, "question_id": 58311796, "link": "https://stackoverflow.com/questions/58311796/convert-dataframe-of-floats-to-integers-in-pandas/58312265#58312265", "title": "Convert dataframe of floats to integers in pandas?", "body": "<p>Try this:</p>\n\n<pre><code>column_types = dict(df.dtypes)\nfor column in df.columns:\n    if column_types[column] == 'float64':\n        df[column] = df[column].astype('int')\n        df[column] = df[column].apply(lambda x: int(x))\n</code></pre>\n"}], "owner": {"reputation": 2156, "user_id": 649090, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/383fae71e6b102d98629de9345923126?s=128&d=identicon&r=PG", "display_name": "Glassjawed", "link": "https://stackoverflow.com/users/649090/glassjawed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1570654979, "creation_date": 1570652826, "last_edit_date": 1570653931, "question_id": 58311796, "link": "https://stackoverflow.com/questions/58311796/convert-dataframe-of-floats-to-integers-in-pandas", "title": "Convert dataframe of floats to integers in pandas?", "body": "<p>How do I convert every numeric element of my pandas dataframe to an integer? I have not seen any documentation online for how to do so, which is surprising given Pandas is so popular...</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 424, "user_id": 6616963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CuoIKTcd_YE/AAAAAAAAAAI/AAAAAAAABH8/nrRetY0-w-s/photo.jpg?sz=128", "display_name": "Yatish Kadam", "link": "https://stackoverflow.com/users/6616963/yatish-kadam"}, "edited": false, "score": 0, "creation_date": 1570652917, "post_id": 58311775, "comment_id": 102984774, "body": "you need to group by the &quot;day&quot;.. try converting the time to pd.Timestamp(time).day and group by that"}, {"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "reply_to_user": {"reputation": 424, "user_id": 6616963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CuoIKTcd_YE/AAAAAAAAAAI/AAAAAAAABH8/nrRetY0-w-s/photo.jpg?sz=128", "display_name": "Yatish Kadam", "link": "https://stackoverflow.com/users/6616963/yatish-kadam"}, "edited": false, "score": 0, "creation_date": 1570653028, "post_id": 58311775, "comment_id": 102984814, "body": "I already did <code>pd.DatetimeIndex(df[&#39;time&#39;], dayfirst=True)</code>"}, {"owner": {"reputation": 2967, "user_id": 4828815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/--CqgH2V98Jg/AAAAAAAAAAI/AAAAAAAAABY/lilOgpMEIEs/photo.jpg?sz=128", "display_name": "Poojan", "link": "https://stackoverflow.com/users/4828815/poojan"}, "edited": false, "score": 0, "creation_date": 1570653393, "post_id": 58311775, "comment_id": 102984942, "body": "Can you share part of your dataframe as dict so i can create sample dataframe. You can do df.head(10).values"}, {"owner": {"reputation": 1375, "user_id": 9307263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defcaa944843f58d4f4befbed4a9c77c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Joseph", "link": "https://stackoverflow.com/users/9307263/brian-joseph"}, "edited": false, "score": 2, "creation_date": 1570653481, "post_id": 58311775, "comment_id": 102984984, "body": "<code>df.sort_values(&#39;time&#39;).sort_values(&#39;price_bool&#39;, ascending = False).groupby(df[&#39;time&#39;].dt.date).first()</code>"}, {"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "reply_to_user": {"reputation": 1375, "user_id": 9307263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defcaa944843f58d4f4befbed4a9c77c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Joseph", "link": "https://stackoverflow.com/users/9307263/brian-joseph"}, "edited": false, "score": 0, "creation_date": 1570654045, "post_id": 58311775, "comment_id": 102985233, "body": "@BrianJoseph Looks like your solution works. You should submit as an answer. Thank you!"}, {"owner": {"reputation": 1375, "user_id": 9307263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defcaa944843f58d4f4befbed4a9c77c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Joseph", "link": "https://stackoverflow.com/users/9307263/brian-joseph"}, "edited": false, "score": 0, "creation_date": 1570654286, "post_id": 58311775, "comment_id": 102985340, "body": "@floss, thanks, I forget sometimes haha and no problem."}], "answers": [{"comments": [{"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "edited": false, "score": 0, "creation_date": 1570653933, "post_id": 58311965, "comment_id": 102985191, "body": "I get <code>ValueError: attempt to get argmax of an empty sequence</code>"}], "tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 0, "last_activity_date": 1570653545, "creation_date": 1570653545, "answer_id": 58311965, "question_id": 58311775, "link": "https://stackoverflow.com/questions/58311775/how-to-find-the-first-occurrence-of-a-boolean-value-for-a-given-day-using-pandas/58311965#58311965", "title": "How to find the first occurrence of a boolean value for a given day using pandas?", "body": "<p>IIUC:</p>\n\n<pre><code>first_true_daily = df.groupby(pd.Grouper(key='time', freq='D'))['price_bool'].idxmax()\n\ndf.loc[first_true_daily]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "edited": false, "score": 0, "creation_date": 1570655570, "post_id": 58312063, "comment_id": 102985808, "body": "Thank you, That is a great solution. Could you also please help me find the difference between between <code>time</code> and <code>price_date</code> in mins?"}], "tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": true, "score": 1, "last_activity_date": 1570654064, "creation_date": 1570654064, "answer_id": 58312063, "question_id": 58311775, "link": "https://stackoverflow.com/questions/58311775/how-to-find-the-first-occurrence-of-a-boolean-value-for-a-given-day-using-pandas/58312063#58312063", "title": "How to find the first occurrence of a boolean value for a given day using pandas?", "body": "<p>Simpler starting data:</p>\n\n<pre><code>df = pd.DataFrame([\n    [\"2017-01-01 00:00:00\",False,pd.np.nan], \n    [\"2017-01-01 00:00:01\",True,\"2017-01-01 00:00:01\"], \n    [\"2017-01-01 00:00:02\",True,\"2017-01-01 00:00:01\"],\n    [\"2017-01-02 00:00:00\",False,pd.np.nan], \n], columns=['time','price_bool','price_date'])\ndf['time'] = df['time'].apply(pd.to_datetime)\n</code></pre>\n\n<p>This should get you the data you show in your result (note this assumes you're already sorted in chronological order):</p>\n\n<pre><code>res = df[df['price_bool'] == True].groupby(df['time'].dt.date)[['price_bool','price_date']].first().reset_index()\n</code></pre>\n\n<p>However, I think you're saying that you want to keep dates with <code>price_bool</code> false and have the <code>price_date</code> be <code>0</code> in that case.  So you would need to add back the dates that are missing in <code>res</code> above.  Here's one option:</p>\n\n<pre><code># Get the True data set right.\nres = df[df['price_bool'] == True].groupby(df['time'].dt.date)[['price_bool','price_date']].first()\n# Add back the missing dates with only False values\nres = res.reindex(df['time'].dt.date.unique()).reset_index()\n# Fill in the null values.\nres = res.fillna({'price_bool':False, 'price_date':0})\n</code></pre>\n\n<p>Out (note I created a simpler starting data set):</p>\n\n<pre><code>        time    price_bool  price_date\n0   2017-01-01  True    2017-01-01 00:00:01\n1   2017-01-02  False   0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "edited": false, "score": 0, "creation_date": 1570654339, "post_id": 58312091, "comment_id": 102985357, "body": "What about the <code>time</code> that is <code>False</code>?  it should get <code>0</code> value instead of <code>time</code>."}], "tags": [], "owner": {"reputation": 1375, "user_id": 9307263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defcaa944843f58d4f4befbed4a9c77c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Joseph", "link": "https://stackoverflow.com/users/9307263/brian-joseph"}, "is_accepted": false, "score": 1, "last_activity_date": 1570654262, "creation_date": 1570654262, "answer_id": 58312091, "question_id": 58311775, "link": "https://stackoverflow.com/questions/58311775/how-to-find-the-first-occurrence-of-a-boolean-value-for-a-given-day-using-pandas/58312091#58312091", "title": "How to find the first occurrence of a boolean value for a given day using pandas?", "body": "<pre><code>df.sort_values('time').sort_values('price_bool', ascending = False).groupby(df['time'].dt.date).first()\n</code></pre>\n\n<p>Output with your provided df:</p>\n\n<pre><code>&gt;&gt;&gt; df\ntime        price_bool\n2017-01-01  True\n</code></pre>\n\n<p><strong>Explanation</strong>: You want to sort by two columns: <code>time</code> and <code>price_bool</code>. The latter needs to be sorted in reverse as you want <code>True</code> to appear before <code>False</code>. Then, since groupby preserves sorting, you can simply select the first element from each group after grouping by date.</p>\n"}], "owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 1, "accepted_answer_id": 58312063, "answer_count": 3, "score": -1, "last_activity_date": 1570654262, "creation_date": 1570652672, "question_id": 58311775, "link": "https://stackoverflow.com/questions/58311775/how-to-find-the-first-occurrence-of-a-boolean-value-for-a-given-day-using-pandas", "title": "How to find the first occurrence of a boolean value for a given day using pandas?", "body": "<p><code>(Not duplicate / I did my research)</code></p>\n\n<p>My <code>minute-based</code> <code>dataframe</code> looks like this:</p>\n\n<pre><code>time,                  price_bool,    price_date\n2017-01-01 00:00:00,   False, \n2017-01-01 00:01:00,   False, \n2017-01-01 00:02:00,   True,          2017-01-01 00:02:00\n2017-01-01 00:03:00,   False, \n2017-01-01 00:04:00,   False, \n2017-01-01 00:05:00,   True,          2017-01-01 00:05:00\n....\n</code></pre>\n\n<p>Right now it is a <code>minute-based</code> dataset. I want to <code>group</code> by <code>day</code> by the <code>first</code> occurrence of <code>True</code> and skip to another <code>day</code> once the first <code>True</code> is found. If there are no <code>True</code> in a given <code>minute-based</code> dataset, then that <code>day</code> will have <code>0</code> on the <code>price_date</code>.</p>\n\n<p>My new <code>dataframe</code> should look like this:</p>\n\n<pre><code>time,                  price_bool,    price_date\n2017-01-01 00:00:00,   True,          2017-01-01 00:02:00\n2017-01-02 00:00:00,   True,          2017-01-02 00:07:00\n2017-01-03 00:00:00,   True,          2017-01-03 02:21:00\n2017-01-04 00:00:00,   True,          2017-01-04 01:17:00\n....\n</code></pre>\n\n<p>This is the <code>day</code> based dataset where <code>price_bool</code> is <code>True</code> and corrsponding <code>price_date</code> when it was first <code>True</code> for a given <code>day</code></p>\n\n<p><strong>What did I do?</strong></p>\n\n<ul>\n<li>First I tried to remove the <code>empty</code> field</li>\n<li>After that, I tried to <code>groupby('time')</code></li>\n</ul>\n\n<p>However, it does not work.</p>\n"}, {"tags": ["python", "django", "api"], "comments": [{"owner": {"reputation": 899, "user_id": 1485355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odry3.jpg?s=128&g=1", "display_name": "Hardik Gajjar", "link": "https://stackoverflow.com/users/1485355/hardik-gajjar"}, "edited": false, "score": 0, "creation_date": 1570652927, "post_id": 58311773, "comment_id": 102984777, "body": "You can use middleware as well before proceeding to request it will done your task."}, {"owner": {"reputation": 809, "user_id": 2707389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/401edfa451029e1bdbbc4965010bb96a?s=128&d=identicon&r=PG&f=1", "display_name": "user2707389", "link": "https://stackoverflow.com/users/2707389/user2707389"}, "edited": false, "score": 0, "creation_date": 1570656669, "post_id": 58311773, "comment_id": 102986160, "body": "Why can&#39;t you cache the data from api to something like redis? there could be a background task that updates the cache in case there is change in API data"}, {"owner": {"reputation": 473, "user_id": 1422254, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7c04fad89aa5234d435422e323af82d5?s=128&d=identicon&r=PG", "display_name": "Kevin Eaverquepedo", "link": "https://stackoverflow.com/users/1422254/kevin-eaverquepedo"}, "reply_to_user": {"reputation": 809, "user_id": 2707389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/401edfa451029e1bdbbc4965010bb96a?s=128&d=identicon&r=PG&f=1", "display_name": "user2707389", "link": "https://stackoverflow.com/users/2707389/user2707389"}, "edited": false, "score": 0, "creation_date": 1570660891, "post_id": 58311773, "comment_id": 102987249, "body": "@user2707389 caching the data could be done, but that&#39;s not really the issue here. I need access to a session instance to be able to do queries in my models/views. For the moment each Django view will just create an api object instance and use it if needed, but that means you have the extra overhead of connecting once per app"}], "owner": {"reputation": 473, "user_id": 1422254, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7c04fad89aa5234d435422e323af82d5?s=128&d=identicon&r=PG", "display_name": "Kevin Eaverquepedo", "link": "https://stackoverflow.com/users/1422254/kevin-eaverquepedo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570654285, "creation_date": 1570652664, "last_edit_date": 1570654285, "question_id": 58311773, "link": "https://stackoverflow.com/questions/58311773/django-apps-shared-python-api-client", "title": "Django apps shared python api client", "body": "<p>Let's say I have an external python client that I use as a data source. Let's call it api. It's a pretty standard API, so creating a session object is easy and allows you to connect to the data source. It is thread safe.</p>\n\n<p>I have a few Django apps that will depend on this api, and I'd like to have as few handles to this api per site as possible (one per process I'm guessing).</p>\n\n<p>I was thinking of two approaches:</p>\n\n<ol>\n<li><p>Write a non Django slim wrapper around my API that guarantees only one session object is created per site. Add that to my Django app dependencies.</p></li>\n<li><p>Write a Django app with a custom signal that sends the instance once connected.</p></li>\n</ol>\n\n<p>It's one of these the best approach, or is there a more ad hoc way?</p>\n"}, {"tags": ["python", "pycharm"], "comments": [{"owner": {"reputation": 424, "user_id": 6616963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CuoIKTcd_YE/AAAAAAAAAAI/AAAAAAAABH8/nrRetY0-w-s/photo.jpg?sz=128", "display_name": "Yatish Kadam", "link": "https://stackoverflow.com/users/6616963/yatish-kadam"}, "edited": false, "score": 0, "creation_date": 1570652720, "post_id": 58311763, "comment_id": 102984696, "body": "can you add a picture of what you mean?"}, {"owner": {"reputation": 688, "user_id": 11766312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc60fb0c356f40c1b09794cccd8ee65?s=128&d=identicon&r=PG&f=1", "display_name": "Miles Fett", "link": "https://stackoverflow.com/users/11766312/miles-fett"}, "edited": false, "score": 1, "creation_date": 1570652837, "post_id": 58311763, "comment_id": 102984742, "body": "<i>black mark (shown in image)</i> what image? Please edit your question to include your screenshot."}, {"owner": {"reputation": 11, "user_id": 12191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9cf39a51f6ccd43568dd68904d97866?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/12191271/john-smith"}, "edited": false, "score": 0, "creation_date": 1570653711, "post_id": 58311763, "comment_id": 102985083, "body": "Yatish and Miles- sorry, just figured out how to add the image. Should be visible now."}, {"owner": {"reputation": 1445, "user_id": 10294689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ace5f1e6d8a8387d0290f1eeffef00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_P", "link": "https://stackoverflow.com/users/10294689/alex-p"}, "edited": false, "score": 0, "creation_date": 1570653835, "post_id": 58311763, "comment_id": 102985148, "body": "try this link <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206159619-How-do-I-change-cursor-from-a-block-back-to-\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 12191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9cf39a51f6ccd43568dd68904d97866?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/12191271/john-smith"}, "edited": false, "score": 0, "creation_date": 1570654445, "post_id": 58311763, "comment_id": 102985385, "body": "Thank you, that worked. The issue was to do with &quot;Toggle Insert/Ovewrite&quot; option in Editor Actions within Keymap in Settings. The mode was originally assigned when I pressed the insert key by accident, so pressing it again brought the normal cursor back. I am new to this website, can I rate your reply somehow?"}], "owner": {"reputation": 11, "user_id": 12191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9cf39a51f6ccd43568dd68904d97866?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/12191271/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570653524, "creation_date": 1570652630, "last_edit_date": 1570653524, "question_id": 58311763, "link": "https://stackoverflow.com/questions/58311763/how-to-solve-the-problem-of-not-being-able-to-type-code-in-pycharm", "title": "How to solve the problem of not being able to type code in Pycharm", "body": "<p>I cannot type or edit code in Pycharm as there is a black mark (shown in image) instead of normal horizontal line that is normally visible when you type. Please let me know how I could solve this issue. Thank you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gLqTz.png\" rel=\"nofollow noreferrer\">Image</a></p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 767, "user_id": 11685024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a5651fd1574b0bfb7fcde5f229c8d43?s=128&d=identicon&r=PG&f=1", "display_name": "Christina Zhou", "link": "https://stackoverflow.com/users/11685024/christina-zhou"}, "edited": false, "score": 1, "creation_date": 1570717063, "post_id": 58311913, "comment_id": 103008638, "body": "Thanks, I ended up using the parameters <code>dtype=str</code> <code>keep_default_na=False</code> and <code>na_values=&#39;&#39;</code> to only accept empty strings as NaNs and not the legitimate string &quot;Na&quot;."}], "tags": [], "owner": {"reputation": 288, "user_id": 5712858, "user_type": "registered", "profile_image": "https://graph.facebook.com/1169134726448927/picture?type=large", "display_name": "Simon Osipov", "link": "https://stackoverflow.com/users/5712858/simon-osipov"}, "is_accepted": true, "score": 1, "last_activity_date": 1570653324, "creation_date": 1570653324, "answer_id": 58311913, "question_id": 58311702, "link": "https://stackoverflow.com/questions/58311702/read-all-columns-in-as-string-in-pandas/58311913#58311913", "title": "Read all columns in as string in pandas", "body": "<p>If we are talking about reading <code>*.csv</code>, then consider using <code>dtype=str</code> as one of the parameters for <code>pd.read_csv</code>. <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html\" rel=\"nofollow noreferrer\">Check documentation</a></p>\n\n<p>If you already have a dataframe, you should use <code>df.to_string</code> method. Here is <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_string.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}], "owner": {"reputation": 767, "user_id": 11685024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a5651fd1574b0bfb7fcde5f229c8d43?s=128&d=identicon&r=PG&f=1", "display_name": "Christina Zhou", "link": "https://stackoverflow.com/users/11685024/christina-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 58311913, "answer_count": 1, "score": 0, "last_activity_date": 1570653324, "creation_date": 1570652416, "question_id": 58311702, "link": "https://stackoverflow.com/questions/58311702/read-all-columns-in-as-string-in-pandas", "title": "Read all columns in as string in pandas", "body": "<p>I want to read the entire dataframe as string.</p>\n\n<p>The # of columns changes sometimes in the dataframe I pass, so I don't want to hardcode which columns specifically to read in.</p>\n\n<p>The problems I'm dealing with are (a) lots of NaNs considered as floats when I want to consider as strings in many columns, (b) a person's last name, <code>NA</code>, getting read in as literally <code>not a value</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>     Unnamed: 0_level_0 Unnamed: 1_level_0\n     Unnamed: 0_level_1 Unnamed: 1_level_1\n              Last Name         First Name\n4940                Lee              Harry\n4941               Chin            Vincent\n4942                NaN             Doreen\n</code></pre>\n"}, {"tags": ["python", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9545387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdf985bfd7fd6837e4bdd3d421b9574e?s=128&d=identicon&r=PG&f=1", "display_name": "steve28", "link": "https://stackoverflow.com/users/9545387/steve28"}, "edited": false, "score": 0, "creation_date": 1570928229, "post_id": 58332535, "comment_id": 103071882, "body": "Yup.  That&#39;s me.  Thanks."}], "tags": [], "owner": {"reputation": 1439, "user_id": 2654002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sw2fD.jpg?s=128&g=1", "display_name": "Ian Huff", "link": "https://stackoverflow.com/users/2654002/ian-huff"}, "is_accepted": true, "score": 1, "last_activity_date": 1570751952, "creation_date": 1570751952, "answer_id": 58332535, "question_id": 58311686, "link": "https://stackoverflow.com/questions/58311686/how-to-switch-environments-for-open-jupyter-notebook/58332535#58332535", "title": "How to switch environments for open jupyter notebook", "body": "<p>I'm a developer on this extension. The intention was for this feature to function as the Python Interactive Window did, where you could use the VSCode Interpreter picker to change out an open notebook to a new kernel. However it appears that we have a hitch that we shipped with this functionality. There is already an issue open in our github here which I believe that you filed (just going on user name match :)):</p>\n\n<p><a href=\"https://github.com/microsoft/vscode-python/issues/7862\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vscode-python/issues/7862</a></p>\n\n<p>That will be the right place to track our progress on fixing this, and it's on our immediate backlog.</p>\n"}], "owner": {"reputation": 33, "user_id": 9545387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdf985bfd7fd6837e4bdd3d421b9574e?s=128&d=identicon&r=PG&f=1", "display_name": "steve28", "link": "https://stackoverflow.com/users/9545387/steve28"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 58332535, "answer_count": 1, "score": 3, "last_activity_date": 1570751952, "creation_date": 1570652340, "question_id": 58311686, "link": "https://stackoverflow.com/questions/58311686/how-to-switch-environments-for-open-jupyter-notebook", "title": "How to switch environments for open jupyter notebook", "body": "<p>If open a python jyputer notebook in vscode, then try to execute the notebook (so a kernel starts) and realize I need to activate a different environment, there doesn't seem to be a way to switch environments without completely quitting VSCode and coming back in.</p>\n\n<p>If can switch environments in the terminal window or using the environment picker in the lower left, but it there doesn't seem to be a way to quit the current kernel and have it re-launch under the new environment.  I've tried using the \"Restart Kernel\", closing the notebook and re-opening.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["python", "visual-studio", "visual-studio-code", "anaconda"], "comments": [{"owner": {"reputation": 382, "user_id": 7384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57bc46aa58fda6ed85134c550e1128ce?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza Mogni", "link": "https://stackoverflow.com/users/7384651/hamza-mogni"}, "edited": false, "score": 0, "creation_date": 1570652517, "post_id": 58311675, "comment_id": 102984606, "body": "are you on windows, linux, or macos ?"}, {"owner": {"reputation": 125, "user_id": 5332140, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3538ffad6486350d414e249e20799a3?s=128&d=identicon&r=PG&f=1", "display_name": "Redeyes10", "link": "https://stackoverflow.com/users/5332140/redeyes10"}, "reply_to_user": {"reputation": 382, "user_id": 7384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57bc46aa58fda6ed85134c550e1128ce?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza Mogni", "link": "https://stackoverflow.com/users/7384651/hamza-mogni"}, "edited": false, "score": 0, "creation_date": 1570653006, "post_id": 58311675, "comment_id": 102984805, "body": "Local machine is windows,  working on a RHEL server via SSH"}], "answers": [{"comments": [{"owner": {"reputation": 9571, "user_id": 236574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8600d16ba667cc8d7f00ddc9f254340?s=128&d=identicon&r=PG", "display_name": "Brett Cannon", "link": "https://stackoverflow.com/users/236574/brett-cannon"}, "edited": false, "score": 0, "creation_date": 1571419301, "post_id": 58312103, "comment_id": 103248228, "body": "The Python extension will also look for created Anaconda environments where a Python interpreter version was specified, so you shouldn&#39;t have to manually set the &quot;python.pythonPath&quot; if you created your environment that way."}], "tags": [], "owner": {"reputation": 125, "user_id": 5332140, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3538ffad6486350d414e249e20799a3?s=128&d=identicon&r=PG&f=1", "display_name": "Redeyes10", "link": "https://stackoverflow.com/users/5332140/redeyes10"}, "is_accepted": false, "score": 0, "last_activity_date": 1570727282, "last_edit_date": 1570727282, "creation_date": 1570654306, "answer_id": 58312103, "question_id": 58311675, "link": "https://stackoverflow.com/questions/58311675/how-to-source-anaconda-in-visual-studio-code-to-select-python-interpreter/58312103#58312103", "title": "How to source anaconda in Visual Studio Code (To select python interpreter)", "body": "<p>Like a fool I Missed it in the docs. Just need to manually add the full path to python.</p>\n\n<p>Command Palette > Preferences: Open User Settings > Then set python.pythonPath to (your required path). Reload VS Code and now the added path will be part of the Python Interpreters list.</p>\n\n<p>Quick way to get path, \n Source and Open Python in terminal and enter:\n<code>$ where python</code></p>\n"}], "owner": {"reputation": 125, "user_id": 5332140, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3538ffad6486350d414e249e20799a3?s=128&d=identicon&r=PG&f=1", "display_name": "Redeyes10", "link": "https://stackoverflow.com/users/5332140/redeyes10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570727282, "creation_date": 1570652297, "question_id": 58311675, "link": "https://stackoverflow.com/questions/58311675/how-to-source-anaconda-in-visual-studio-code-to-select-python-interpreter", "title": "How to source anaconda in Visual Studio Code (To select python interpreter)", "body": "<p>I am brand new to VS Code and struggling to get my current py interpreter to run.\nMy current python interpreter is run off of sourcing anaconda and opening python\n<code>source anaconda</code>\nHow to do I force VS Code to first source anaconda before looking for py interpreters?</p>\n\n<p>(Anaconda is located on a linux server.)</p>\n"}]