[{"tags": ["python", "arrays", "performance", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1521072319, "post_id": 49289502, "comment_id": 85582217, "body": "I was going to comment on one of the two things you suggested, because the time for the <code>astype(bool)</code> is almost 40% as long as the time for the real code, so better not to do that every time\u2026"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521072341, "post_id": 49289502, "comment_id": 85582223, "body": "@abarnert <i>exactly</i>."}, {"owner": {"reputation": 302, "user_id": 1555099, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92aa212da8c733d3afa736c988f9dff4?s=128&d=identicon&r=PG", "display_name": "anderstood", "link": "https://stackoverflow.com/users/1555099/anderstood"}, "edited": false, "score": 0, "creation_date": 1521072361, "post_id": 49289502, "comment_id": 85582229, "body": "Great, thank you. Would you call this vectorization?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 302, "user_id": 1555099, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92aa212da8c733d3afa736c988f9dff4?s=128&d=identicon&r=PG", "display_name": "anderstood", "link": "https://stackoverflow.com/users/1555099/anderstood"}, "edited": false, "score": 0, "creation_date": 1521072409, "post_id": 49289502, "comment_id": 85582240, "body": "@anderstood yes, this is a prime example of vectorised operations in numpy."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 4, "last_activity_date": 1521073209, "last_edit_date": 1521073209, "creation_date": 1521072090, "answer_id": 49289502, "question_id": 49289457, "link": "https://stackoverflow.com/questions/49289457/efficiently-invert-floats-in-a-list-based-on-a-condition/49289502#49289502", "title": "Efficiently invert floats in a list based on a condition", "body": "<p>Use <code>b</code> as a mask, and set <code>a</code>'s cells accordingly:</p>\n\n<pre><code>m = np.array(b).astype(bool)\na[m] = -1 / a[m]\n</code></pre>\n\n<p>Even better, initialise <code>b</code> using <code>np.random.choice</code>:</p>\n\n<pre><code>b = np.random.choice(2, 1000).astype(bool)\n</code></pre>\n\n<p>Now, you don't need the overhead of converting <code>b</code> to an array, just use it directly to index <code>a</code>:</p>\n\n<pre><code>a[b] = -1 / a[b]\n</code></pre>\n\n<p>This runs in </p>\n\n<pre><code>22.3 \u00b5s \u00b1 501 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 1555099, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92aa212da8c733d3afa736c988f9dff4?s=128&d=identicon&r=PG", "display_name": "anderstood", "link": "https://stackoverflow.com/users/1555099/anderstood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 49289502, "answer_count": 1, "score": 2, "last_activity_date": 1521119868, "creation_date": 1521071847, "last_edit_date": 1521119868, "question_id": 49289457, "link": "https://stackoverflow.com/questions/49289457/efficiently-invert-floats-in-a-list-based-on-a-condition", "title": "Efficiently invert floats in a list based on a condition", "body": "<p>I have one ndarray of floats (<code>a</code>) and one list of 0 or 1 (<code>b</code>).  <code>a</code> and <code>b</code> have the same length, typically 1000. I would like to apply a simple function (such as minus the inverse) to the elements of <code>a</code> whose index correspond to 1 in <code>b</code>.</p>\n\n<p>The following method takes a bit less than 1 millisecond. Would it be possible to make it faster?</p>\n\n<pre><code>import numpy as np\n\n# generate dummy data\nn = 1000\na = np.random.uniform(low=0, high=10, size=n)\nb = np.random.choice(2, 1000)\n\n# map the function\nstart = time.time()\nout = [a[i] if b[i] == 0 else -1/a[i] for i in range(n)]\nprint time.time() - start\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1521072005, "post_id": 49289451, "comment_id": 85582137, "body": "Why are you writing one row at a time?"}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1521072640, "post_id": 49289451, "comment_id": 85582319, "body": "@StephenRauch oh! im not. im writing 1 million row at a time."}, {"owner": {"reputation": 305, "user_id": 3416725, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6f084e7918372d65428a25db7668f32d?s=128&d=identicon&r=PG&f=1", "display_name": "mp252", "link": "https://stackoverflow.com/users/3416725/mp252"}, "edited": false, "score": 0, "creation_date": 1616569428, "post_id": 49289451, "comment_id": 118040089, "body": "How long did it take you to write the file? As I have a similar issues with 13 million rows, but it always hangs"}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1521072754, "post_id": 49289510, "comment_id": 85582349, "body": "hmm you are right! comma works still... should&#39;ve tried that before coming here. thanks very much for the advice!"}], "tags": [], "owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "is_accepted": false, "score": 0, "last_activity_date": 1521072147, "creation_date": 1521072147, "answer_id": 49289510, "question_id": 49289451, "link": "https://stackoverflow.com/questions/49289451/pandas-to-csv-always-give-timeouterror-errno-60-operation-timed-out/49289510#49289510", "title": "Pandas to_csv() always give TimeoutError: [Errno 60] Operation timed out", "body": "<p>Try toggling the delimiter back to ',' to make sure it still works that way</p>\n\n<p>Assuming it does, likely it's a formatting problem - something somewhere along the way has an extra semi-colon in it, is messing up the table structure, and the resulting cascade results in way too much data written to disk or some other such thing</p>\n"}], "owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521072147, "creation_date": 1521071822, "question_id": 49289451, "link": "https://stackoverflow.com/questions/49289451/pandas-to-csv-always-give-timeouterror-errno-60-operation-timed-out", "title": "Pandas to_csv() always give TimeoutError: [Errno 60] Operation timed out", "body": "<p>I have a huge dataset that I need to write to csv into a shared file drive. \nI did this before and worked on the same data. \nThe only difference this time is that I changed the deliminator from a comma \",\" into a semicolon \";\", but that shouldn't change anything right?</p>\n\n<p>My data is a pandas dataframe; it has string columns and number columns. Has about 16 million rows, and about 20 columns.</p>\n\n<p>Here's the function I wrote to write my data to csv file in chunks:</p>\n\n<pre><code>def write_to_csv_in_chunks(input_data, file_path, chunk_size=1000000):\n    total_rows = len(input_data)\n    current_row = 0\n\n    while (current_row + chunk_size) &lt; total_rows:\n        end_row = current_row + chunk_size\n        subset_data = input_data[current_row:end_row-1]\n        subset_data.to_csv(os.path.join(file_path, 'row '+ str(current_row) + ' to row '\n                                        + str(end_row-1) + '.csv'))\n        current_row = end_row\n        print('finished writing file up to row ', current_row)\n\n    subset_data = input_data[current_row:]\n    subset_data.to_csv(os.path.join(file_path, 'row '+ str(current_row) + ' to last row.csv'),\n                       sep=';', index=False)\n\n    return print('all files finished writing')\n</code></pre>\n\n<p>Here's me calling the function:</p>\n\n<pre><code>write_to_csv_in_chunks(input_data=data_all, file_path=baseDir)\n</code></pre>\n\n<p>But I keep getting the timeout error when I am in the step of writing the data. (I know this because I have a print statement right before I called the write to csv function):</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/Documents/distance_analysis serial.py\", line 195, in &lt;module&gt;\n    write_to_csv_in_chunks(input_data=data_all, file_path=baseDir)\n  File \"/Users/Documents/helping_fxns.py\", line 67, in write_to_csv_in_chunks\n    + str(end_row-1) + '.csv'))\n  File \"/Users/Documents/python3/lib/python3.6/site-packages/pandas/core/frame.py\", line 1524, in to_csv\n    formatter.save()\n  File \"/Users/Documents/python3/lib/python3.6/site-packages/pandas/io/formats/format.py\", line 1656, in save\n    f.close()\nTimeoutError: [Errno 60] Operation timed out\n</code></pre>\n\n<p>Any help is greatly appreciated!</p>\n\n<p>PS: I did research into the topic but couldnt find anything really. Maybe I'm not searching correctly; would appreciate any pointers too.</p>\n"}, {"tags": ["python", "environment-variables", "environment"], "comments": [{"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "edited": false, "score": 0, "creation_date": 1521071773, "post_id": 49289429, "comment_id": 85582076, "body": "How come you have both installed?"}, {"owner": {"reputation": 2923, "user_id": 783912, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/98e9b626cf9e9e74ae50c190da325a5e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingFoX", "link": "https://stackoverflow.com/users/783912/flyingfox"}, "edited": false, "score": 0, "creation_date": 1521071965, "post_id": 49289429, "comment_id": 85582118, "body": "Please enter text as text and not as images."}, {"owner": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "reply_to_user": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "edited": false, "score": 0, "creation_date": 1521072469, "post_id": 49289429, "comment_id": 85582260, "body": "@blueberryfields I am relatively new to this but thought that having both installed would allow me to write for both x32 and x64 systems?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521072853, "post_id": 49289429, "comment_id": 85582373, "body": "@Mazepaad If you need to target 32-bit systems (really? in 2018?), and you don&#39;t do anything that you expect to take advantage of 64-bit systems, it might be simpler to just only install 32-bit everything. Obviously 32-bit Python works on 64-bit systems, or it wouldn&#39;t work on your own system, right?"}, {"owner": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521073085, "post_id": 49289429, "comment_id": 85582411, "body": "@abarnert LOL, unfortunately, someone I know needs the x32 version of the UI :( I had to modify to get this done... I like my 64 but your point takes precedence ... I will try uninstalling, modifying, rebooting and running! Thanks!"}, {"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "edited": false, "score": 0, "creation_date": 1521073907, "post_id": 49289429, "comment_id": 85582600, "body": "Look at using pip, virtualenv, and virtualenv wrapper for managing multiple python environments - that should solve that problem. For the specific issue you&#39;re seeing here, though, our env variables are just fine. You&#39;re literally trying to access a file that does not exist on your system"}, {"owner": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521137308, "post_id": 49289429, "comment_id": 85615033, "body": "@abarnert Thanks guys! I am not sure what was wrong but I basically just ended up uninstalling everything related to python on my computer, and reinstalled just the X32 versions... was able to convert the file now. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "edited": false, "score": 0, "creation_date": 1521072681, "post_id": 49289470, "comment_id": 85582328, "body": "okay, thank you! I think it has to be an issue with my system identifying each version of Python separately... ie. (C:/Python27(x32)) vs (C:/Python27(x64)). Do you know if this could be the issue? I have also run the commands as well as edit the environment variables with this incorporated but it still doesn&#39;t seem to help."}, {"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "reply_to_user": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "edited": false, "score": 0, "creation_date": 1521073824, "post_id": 49289470, "comment_id": 85582580, "body": "This has nothing to do with our environment variables. Your images clearly show you&#39;re trying to run a file that does not exist."}, {"owner": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "edited": false, "score": 0, "creation_date": 1521075757, "post_id": 49289470, "comment_id": 85583068, "body": "Okay, so my path is just wrong then? The file does exist and I am going to the file explorer and copying the path from there. I will have to check if it is saved elsewhere. Thanks!"}, {"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "reply_to_user": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "edited": false, "score": 0, "creation_date": 1521081051, "post_id": 49289470, "comment_id": 85584292, "body": "You sent a screen shot which very very clearly says the file does not exist. Just read the screen shot you shared, you&#39;ll see the error message right there."}, {"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "reply_to_user": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "edited": false, "score": 0, "creation_date": 1521081096, "post_id": 49289470, "comment_id": 85584306, "body": "(or, alternatively, this could be a permissions issue of some sort, where the OS pretends the file does not exist)"}, {"owner": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "edited": false, "score": 0, "creation_date": 1521137433, "post_id": 49289470, "comment_id": 85615106, "body": "Thanks! ya, unsure what was wrong still. Had to basically clear everything related to python on my computer to have a fresh start."}], "tags": [], "owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "is_accepted": false, "score": 0, "last_activity_date": 1521071914, "creation_date": 1521071914, "answer_id": 49289470, "question_id": 49289429, "link": "https://stackoverflow.com/questions/49289429/how-can-you-fix-the-environment-variables-when-having-python-2-7-installed-for-b/49289470#49289470", "title": "How can you fix the environment variables when having Python 2.7 installed for both a x32 and x64 bit system?", "body": "<p>It looks like you're trying to use a file which doesn't exist on your system. </p>\n\n<p>According to the first image, the file you're attempting to access does not exist or is not called what you think it's called</p>\n"}], "owner": {"reputation": 9, "user_id": 9494423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4abd806ad622c58cdcb702c9ced357?s=128&d=identicon&r=PG&f=1", "display_name": "Mazepaad", "link": "https://stackoverflow.com/users/9494423/mazepaad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521071914, "creation_date": 1521071671, "last_edit_date": 1521071798, "question_id": 49289429, "link": "https://stackoverflow.com/questions/49289429/how-can-you-fix-the-environment-variables-when-having-python-2-7-installed-for-b", "title": "How can you fix the environment variables when having Python 2.7 installed for both a x32 and x64 bit system?", "body": "<p>Hi I am in the end trying to get PyQt to convert a ui to a py file via pyuic. That being said, all of the commands I am trying are being rejected as inoperable. Images below! Any help with this is greatly appreciated!</p>\n\n<p>Thank you!!</p>\n\n<p><a href=\"https://i.stack.imgur.com/vPEHT.png\" rel=\"nofollow noreferrer\">Image 1 is the cmd returning the script</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/1Lczb.png\" rel=\"nofollow noreferrer\">Image 2 is the user environment variables</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/OFQQT.png\" rel=\"nofollow noreferrer\">Image 3 is the system environment variables</a></p>\n"}, {"tags": ["python", "numpy", "combinations", "fractions"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 4, "last_activity_date": 1521071985, "creation_date": 1521071985, "answer_id": 49289480, "question_id": 49289417, "link": "https://stackoverflow.com/questions/49289417/numpy-getting-a-list-of-combinations-of-ratios-such-that-they-all-add-to-1/49289480#49289480", "title": "Numpy: getting a list of combinations of ratios such that they all add to 1", "body": "<p>You can use <code>itertools.product</code> for this; effectively this is combinations with replacement. You can construct a list comprehension which filters for sum equal to 1.</p>\n\n<pre><code>from itertools import product\n\nres = np.array([i for i in product(np.linspace(0, 1, 6), repeat=3) if sum(i) == 1])\n\n# array([[ 0. ,  0. ,  1. ],\n#        [ 0. ,  0.2,  0.8],\n#        [ 0. ,  0.4,  0.6],\n#        [ 0. ,  0.6,  0.4],\n#        [ 0. ,  0.8,  0.2],\n#        [ 0. ,  1. ,  0. ],\n#        [ 0.2,  0. ,  0.8],\n#        [ 0.2,  0.2,  0.6],\n#        [ 0.2,  0.4,  0.4],\n#        [ 0.2,  0.6,  0.2],\n#        [ 0.2,  0.8,  0. ],\n#        [ 0.4,  0. ,  0.6],\n#        [ 0.4,  0.2,  0.4],\n#        [ 0.4,  0.4,  0.2],\n#        [ 0.4,  0.6,  0. ],\n#        [ 0.6,  0. ,  0.4],\n#        [ 0.6,  0.2,  0.2],\n#        [ 0.6,  0.4,  0. ],\n#        [ 0.8,  0. ,  0.2],\n#        [ 0.8,  0.2,  0. ],\n#        [ 1. ,  0. ,  0. ]])\n</code></pre>\n"}], "owner": {"reputation": 452, "user_id": 6107981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a90fffd8a5b08bcdbcd707290ba95a7?s=128&d=identicon&r=PG&f=1", "display_name": "dain", "link": "https://stackoverflow.com/users/6107981/dain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "accepted_answer_id": 49289480, "answer_count": 1, "score": 2, "last_activity_date": 1521072045, "creation_date": 1521071546, "last_edit_date": 1521072045, "question_id": 49289417, "link": "https://stackoverflow.com/questions/49289417/numpy-getting-a-list-of-combinations-of-ratios-such-that-they-all-add-to-1", "title": "Numpy: getting a list of combinations of ratios such that they all add to 1", "body": "<p>Suppose I have three different colors of paint and I want to test what happens when I mix them in various ratios. How do I get a list of those ratios?</p>\n\n<p>I can do it with nested for-loops like this:</p>\n\n<pre><code>for i in np.linspace(0, 1, 6):\n    for j in np.linspace(0, 1, 6):\n        for k in np.linspace(0, 1, 6):\n            if np.isclose(i+j+k, 1.0): ## catch floating point errors\n                print(i, j, k)\n</code></pre>\n\n<p>This outputs the following:</p>\n\n<pre><code>0.0 0.0 1.0\n0.0 0.2 0.8\n0.0 0.4 0.6\n0.0 0.6 0.4\n0.0 0.8 0.2\n0.0 1.0 0.0\n0.2 0.0 0.8\n0.2 0.2 0.6\n0.2 0.4 0.4\n0.2 0.6 0.2\n0.2 0.8 0.0\n0.4 0.0 0.6\n0.4 0.2 0.4\n0.4 0.4 0.2\n0.4 0.6 0.0\n0.6 0.0 0.4\n0.6 0.2 0.2\n0.6 0.4 0.0\n0.8 0.0 0.2\n0.8 0.2 0.0\n1.0 0.0 0.0\n</code></pre>\n\n<p>Each line has three numbers and they all add up to one, and I have every possible combination for my specified degree of resolution. It works, but it's an awkward construction, and it requires a new loop for every new color of paint I add. If I wanted to mix 10 types of paint, I'd need 10 loops!</p>\n\n<p>Is there a more elegant/pythonic way of doing this? A built-in numpy function maybe?</p>\n\n<p>(Also I found it hard to summarise the question in the title, can anyone think of a better concise way of describing the problem?)</p>\n"}, {"tags": ["python", "kivy", "onpress"], "answers": [{"comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 105, "user_id": 9362780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Hp3nBNqiJPY/AAAAAAAAAAI/AAAAAAAAAiQ/_VB9X-YyOdU/photo.jpg?sz=128", "display_name": "Filip Phigari", "link": "https://stackoverflow.com/users/9362780/filip-phigari"}, "edited": false, "score": 0, "creation_date": 1521079675, "post_id": 49289538, "comment_id": 85583960, "body": "@FilipPhigari You should read the documentation, there are many things you should learn. :D"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1521072361, "creation_date": 1521072361, "answer_id": 49289538, "question_id": 49289412, "link": "https://stackoverflow.com/questions/49289412/reference-id-of-dynamically-created-widget-through-on-press-event-in-python/49289538#49289538", "title": "Reference ID of Dynamically Created Widget through On_Press Event in Python", "body": "<p>when you use <a href=\"https://kivy.org/docs/api-kivy.event.html#kivy.event.EventDispatcher.bind\" rel=\"nofollow noreferrer\"><code>bind()</code></a>, the first parameter that passes is the instance that issues the event, so in your case instance is the <a href=\"https://kivy.org/docs/api-kivy.uix.button.html\" rel=\"nofollow noreferrer\"><code>Button</code></a>, and then we can access the <code>id</code>:</p>\n\n<pre><code>def changer(self, instance):\n    print(instance.id)\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 9362780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Hp3nBNqiJPY/AAAAAAAAAAI/AAAAAAAAAiQ/_VB9X-YyOdU/photo.jpg?sz=128", "display_name": "Filip Phigari", "link": "https://stackoverflow.com/users/9362780/filip-phigari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 49289538, "answer_count": 1, "score": 0, "last_activity_date": 1521074394, "creation_date": 1521071513, "last_edit_date": 1521074394, "question_id": 49289412, "link": "https://stackoverflow.com/questions/49289412/reference-id-of-dynamically-created-widget-through-on-press-event-in-python", "title": "Reference ID of Dynamically Created Widget through On_Press Event in Python", "body": "<p><strong>Question:</strong></p>\n\n<p>How do I reference the id of a widget dynamically created in Python through an On_Press event?</p>\n\n<p><strong>Goal:</strong></p>\n\n<p>When clicking on dynamically created buttons, 'Test 1', 'Test 2', or 'Test 3', I want that button's id to print.</p>\n\n<p>More specifically, I want that id to print from the <code>def changer(self, *args)</code> method</p>\n\n<p><strong>Problem:</strong> </p>\n\n<p>As you can probably guess from looking at code provided, I am only able to print the id of the last created button ('Test 3').</p>\n\n<p><strong>Python Code:</strong></p>\n\n<pre><code>from kivy.app import App\nfrom kivy.lang import Builder\nfrom kivy.uix.screenmanager import ScreenManager, Screen, FadeTransition\nfrom kivy.uix.boxlayout import BoxLayout\nfrom kivy.uix.button import Button\nfrom kivy.clock import Clock\nfrom kivy.uix.widget import Widget\nfrom functools import partial\n\nclass ScrollableLabelDataEntryInstructions(BoxLayout):\n    pass\n\nclass NewGarageScreen(Screen):\n    pass\n\nclass ContinueEditingScreen(Screen):\n    pass\n\nclass GarageNameBoxLayout(BoxLayout):\n    LatestID = \"initial\"\n    def __init__(self, **kwargs):\n        super(GarageNameBoxLayout, self).__init__(**kwargs)\n        self.orientation = \"vertical\"\n        Clock.schedule_interval(self.create_button, 5)\n\n    def create_button(self, *args):\n        self.box_share2.clear_widgets()\n        app = App.get_running_app()\n        sm = app.root\n\n        #put GarageNameStartList data into app class, then pull from it in this class\n        top_button_share = 1.1\n        color = (.4, .4, .4, 1)\n        for text in app.GarageNameStartList:\n            top_button_share -= .4\n            id_ = text\n            self.LatestID = id_\n            button_share = Button(background_normal='',\n                                  background_color = color,\n                                  id = id_,\n                                  pos_hint = {\"x\": 0, \"top\": top_button_share},\n                                  size_hint_y = None,\n                                  height = 60,\n                                  font_size = 30,\n                                  text = text)\n            button_share.bind(on_press = self.changer)\n            button_share.bind(on_press = lambda *args: setattr(sm, 'current', \"newgarage\"))\n            self.box_share2.add_widget(button_share)\n\n    def changer(self,*args):\n        print(self.LatestID)\n\nclass BackHomeWidget(Widget):\n    pass\n\nclass MainScreen(Screen):\n    pass\n\nclass AnotherScreen(Screen):\n    pass\n\nclass ScreenManagement(ScreenManager):\n    pass\n\npresentation = Builder.load_file(\"example_on_press.kv\")\n\nclass MainApp(App):\n    GarageNameStartList = [\"Test1\", \"Test2\", \"Test3\"]\n\n    def Update_GarageNameStartList(self, *args):\n        self.GarageNameStartList = [\"Test1\", \"Test2\", \"Test3\"]   \n\n\n    def build(self):\n        return presentation\n\nif __name__ == \"__main__\":\n    MainApp().run()\n</code></pre>\n\n<p><strong>Kv Code:</strong></p>\n\n<pre><code>#: import FadeTransition kivy.uix.screenmanager.FadeTransition\n\nScreenManagement:\n    transition: FadeTransition()\n    MainScreen:\n    AnotherScreen:\n    NewGarageScreen:\n    ContinueEditingScreen:\n\n&lt;SmallNavButton@Button&gt;:    \n    font_size: 32\n    size: 125, 50    \n    color: 0,1,0,1\n\n&lt;MedButton@Button&gt;:\n    font_size: 30\n    size_hint: 0.25, 0.1\n    color: 0,1,0,1\n\n&lt;BackHomeWidget&gt;:\n    SmallNavButton:\n        on_release: app.root.current = \"main\"\n        text: \"Home\"\n        pos: root.x, root.top - self.height\n\n&lt;MainScreen&gt;:\n    name: \"main\"\n    FloatLayout: \n        MedButton:\n            on_release: app.root.current = \"edit\"\n            text: \"Edit\"\n            pos_hint: {\"x\":0.3728, \"top\": 0.4}\n\n&lt;AnotherScreen&gt;:\n    name: \"edit\"\n    BackHomeWidget:\n        SmallNavButton:\n            on_release: app.root.current = \"main\"\n            text: \"Back\"\n            pos: root.x, root.top - (2.25*(self.height))\n    FloatLayout:\n        MedButton:\n            on_release: app.root.current = \"continueediting\"\n            text: \"Continue Editing\"\n            pos_hint: {\"x\":0.25, \"top\": 0.6} \n        MedButton:\n            on_release: app.root.current = \"newgarage\"\n            text: \"Create New\"\n            pos_hint: {\"x\":0.3728, \"top\": 0.4}\n\n&lt;NewGarageScreen&gt;:\n    name: \"newgarage\"\n    BackHomeWidget:\n        SmallNavButton:\n            on_release: app.root.current = \"edit\"\n            text: \"Back\"\n            pos: root.x, root.top - (2.25*(self.height))\n    FloatLayout:\n        MedButton:\n            text: \"1. Groundfloor\"\n            pos_hint: {\"x\":0, \"top\": 0.6}\n\n\n&lt;GarageNameBoxLayout&gt;:\n    box_share2: box_share2\n    ScrollView:\n        GridLayout:\n            id: box_share2\n            cols: 1\n            size_hint_y: None\n            size_hint_x: 0.5\n            spacing: 5\n            padding: 130\n            height: self.minimum_height\n            canvas:\n                Color: \n                    rgb: 0, 0, 0\n                Rectangle:\n                    pos: self.pos\n                    size: self.size         \n\n&lt;ContinueEditingScreen&gt;:\n    name: \"continueediting\"\n    GarageNameBoxLayout:\n    BackHomeWidget:\n        SmallNavButton:\n            on_release: app.root.current = \"edit\"\n            text: \"Back\"\n            pos: root.x, root.top - (2.25*(self.height))\n</code></pre>\n"}, {"tags": ["python", "http"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521070652, "post_id": 49289262, "comment_id": 85581749, "body": "Of course you can do this in Python. The easiest way, just as in most other languages, is to pick a web services framework (probably a lightweight one like Flask, rather than something like Django, but you can use whatever you like). But it&#39;s only slightly more complicated to use a raw HTTP server like the one in the stdlib and code up a hook to run a function for a given endpoint."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 9491566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b27fd9aeb68c5b87c8d640567fd733e?s=128&d=identicon&r=PG&f=1", "display_name": "o-vexler", "link": "https://stackoverflow.com/users/9491566/o-vexler"}, "is_accepted": false, "score": 1, "last_activity_date": 1521105139, "last_edit_date": 1592644375, "creation_date": 1521073397, "answer_id": 49289696, "question_id": 49289262, "link": "https://stackoverflow.com/questions/49289262/python-http-server-to-activate-code/49289696#49289696", "title": "Python HTTP Server to activate Code", "body": "<p>First, you need to select a web framework. I will recommand using <a href=\"http://flask.pocoo.org/\" rel=\"nofollow noreferrer\">Flask</a>, since it is lightweight and really easy to start using it fast.</p>\n<p>We begin by initializing your app and setting a route. <code>your_open_func()</code> (in the code below) which is decorated with the <code>@app.route(&quot;/open&quot;)</code> decorator will be triggered and run when you will send a request to that preticular url (for example <code>http://127.0.0.1:5000/open</code>)</p>\n<p>As <a href=\"http://flask.pocoo.org/\" rel=\"nofollow noreferrer\">Flask's website</a> says: flask is fun. The very first example (with minor modifications) from there suits your needs:</p>\n<pre><code>from flask import Flask\napp = Flask(__name__)\n\n@app.route(&quot;/open&quot;)\ndef your_open_func():\n    # Do your stuff right here.\n    return 'ok'  # Remember to return or a ValueError will be raised.\n</code></pre>\n<p>In order to run your app <code>app.run()</code> is usually enough, but in your case you want other computers on your network to be able to access the app, so you should call the <code>run()</code> method like so: <strong><code>app.run(host=&quot;0.0.0.0&quot;)</code>.</strong></p>\n<p>By passing that parameter you are making the server publicly available.</p>\n"}], "owner": {"reputation": 1, "user_id": 9494386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zdog16", "link": "https://stackoverflow.com/users/9494386/zdog16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1521105139, "creation_date": 1521070468, "question_id": 49289262, "link": "https://stackoverflow.com/questions/49289262/python-http-server-to-activate-code", "title": "Python HTTP Server to activate Code", "body": "<p>I am trying to setup a python script that I can have running all the time and then use a HTTP command to activate an action in the script. So that when I type a command like this into a web browser:</p>\n\n<pre><code>http://localhost:port/open\n</code></pre>\n\n<p>The script executes a piece of code. </p>\n\n<p>The idea is that I will run this script on a computer on my network and activate the code remotely from elsewhere on the network.\nI know this is possible with other programming languages as I've seen it before, but I can't find any documentation on how to do it in python.\nIs there an easy way to do this in Python or do I need to look into other languages?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1521070561, "post_id": 49289216, "comment_id": 85581718, "body": "move <code>export PYTHONPATH</code> onto a new line <i>outside</i> of any quotes"}], "answers": [{"tags": [], "owner": {"reputation": 503, "user_id": 4698105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98479e854541c9a1fafb9f4e8ed779b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimanyu", "link": "https://stackoverflow.com/users/4698105/vimanyu"}, "is_accepted": false, "score": 0, "last_activity_date": 1521070578, "creation_date": 1521070578, "answer_id": 49289283, "question_id": 49289216, "link": "https://stackoverflow.com/questions/49289216/python-3-6-i-cannot-add-path-directory-under-mac-os/49289283#49289283", "title": "Python 3.6. I cannot add path directory under Mac os", "body": "<p>Issue is in your second command. Change it from </p>\n\n<pre><code>PYTHONPATH=\u201c${PYTHONPATH}:/Users/hunminpak/Documents/game/sound/ export PYTHONPATH\u201d\n</code></pre>\n\n<p>to two commands.</p>\n\n<p>First command (remove the trailing /): <code>PYTHONPATH=\u201c${PYTHONPATH}:/Users/hunminpak/Documents/game/sound\"</code></p>\n\n<p>Hit enter and then type second command:</p>\n\n<pre><code>export PYTHONPATH\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9490015, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nice Person", "link": "https://stackoverflow.com/users/9490015/nice-person"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "closed_date": 1521071047, "answer_count": 1, "score": 0, "last_activity_date": 1521070942, "creation_date": 1521070190, "question_id": 49289216, "link": "https://stackoverflow.com/questions/49289216/python-3-6-i-cannot-add-path-directory-under-mac-os", "closed_reason": "Duplicate", "title": "Python 3.6. I cannot add path directory under Mac os", "body": "<p>I am mac os user and i am new to python3.\nI created package. Python do not recognize the module from package because i guess directory was not saved for that package.</p>\n\n<p>this is how I did for adding new directory.</p>\n\n<p>1) open terminal and type</p>\n\n<pre><code>nano .bash_profile\n</code></pre>\n\n<p>2) type and save</p>\n\n<pre><code>PYTHONPATH=\u201c${PYTHONPATH}:/Users/hunminpak/Documents/game/sound/ export PYTHONPATH\u201d\n</code></pre>\n\n<p>3) In Python, typed</p>\n\n<pre><code>import game.sound\n\nTraceback (most recent call last):\n  File \"&lt;pyshell#14&gt;\", line 1, in &lt;module&gt;\n    import game.sound\nModuleNotFoundError: No module named 'game.sound'\n</code></pre>\n\n<p>Please help me why my directory was not added.</p>\n"}, {"tags": ["python", "hide", "blender", "shortcut"], "comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1521071994, "post_id": 49289204, "comment_id": 85582129, "body": "did you check [this(<a href=\"https://www.youtube.com/watch?v=REtg8iK0zv8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=REtg8iK0zv8</a>) video? They create a simple python script!"}, {"owner": {"reputation": 1, "user_id": 9494121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "foole0093", "link": "https://stackoverflow.com/users/9494121/foole0093"}, "reply_to_user": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1521076023, "post_id": 49289204, "comment_id": 85583122, "body": "Thanks ZF007, I may look that up tomorrow (when my strength returns!) I&#39;m afraid I&#39;m very graphically oriented however... I&#39;ve done great things in SynthMaker but pure code terrifies me, stuff like the Python I&#39;ve been wrestling today. I also detect that a script needs some work to integrate into the Blender workflow. Man, I just so want to get back to making pretty pictures! :-("}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1521094933, "post_id": 49289204, "comment_id": 85587984, "body": "That sounds a lot of history my friend. unfortunatly, I can&#39;t help you with that. What I do can is letting you know that learning python goes like learning to read and write in English in a kind of almost child&#39;s-play and easy understandable manner... GL."}, {"owner": {"reputation": 6139, "user_id": 2684771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2f487264833152bb7890a4b6292d65?s=128&d=identicon&r=PG&f=1", "display_name": "sambler", "link": "https://stackoverflow.com/users/2684771/sambler"}, "edited": false, "score": 0, "creation_date": 1521215512, "post_id": 49289204, "comment_id": 85650959, "body": "A location property is a list of three values x,y,z. You can use <code>cursor_location = (0,0,1000)</code> or <code>cursor_location.z = 1000</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9499993, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4f7d17266201c44530dfc90b29612389?s=128&d=identicon&r=PG", "display_name": "ghant04", "link": "https://stackoverflow.com/users/9499993/ghant04"}, "is_accepted": false, "score": 0, "last_activity_date": 1521149626, "creation_date": 1521149626, "answer_id": 49309613, "question_id": 49289204, "link": "https://stackoverflow.com/questions/49289204/how-to-banish-blenders-pesky-3d-cursor/49309613#49309613", "title": "How to banish Blender&#39;s pesky 3d cursor?", "body": "<p>Behold a kinder shortcut key for you sir:  at user pref / input / 3dview / 3dview global,, click [add new] below. Inside use (without quote) \"wm.context_toggle\" with \"space_data.show_only_render\" ; put your key</p>\n\n<p>3d cursor = [ [ [ GONE! ] ] ]  Also grid / xyz axis / object origin/, also cameras &amp; light (not ther action) =gone. ! Other object can include if you nonrender these object ( outliner shift f9)</p>\n\n<p>Now sir return to your xlnt creation ,  &amp; why be swayed by that complexmachine if  so painful to you ?</p>\n\n<p>respectful ghant   </p>\n"}], "owner": {"reputation": 1, "user_id": 9494121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "foole0093", "link": "https://stackoverflow.com/users/9494121/foole0093"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1521149626, "creation_date": 1521070135, "last_edit_date": 1521117298, "question_id": 49289204, "link": "https://stackoverflow.com/questions/49289204/how-to-banish-blenders-pesky-3d-cursor", "title": "How to banish Blender&#39;s pesky 3d cursor?", "body": "<p>I make darkly atmospheric scenes in the Python-based 3d design program 'Blender'. The problem is, as I'm moving around, the 3d cursor (an icon like a bizarre, tiny, red &amp; white life-saving ring!) keeps floating into view &amp; shattering the whole illusion.</p>\n\n<p>I've almost devised a keyboard shortcut that can zip this annoyance out of view... (If you're familiar with Blender, it uses operator <code>wm.context_set_enum</code> with Context Attribute <code>space_data.cursor_location</code> &amp; then offers co-ordinates eg. <code>0,0,1000</code>). Python seems to <em>almost</em> accept this placement but  chokes on the 3rd expression </p>\n\n<blockquote>\n  <p>ValueError: bpy_struct: item.attr=val: sequences of dimension 0 should contain 3 items, not 8</p>\n</blockquote>\n\n<p>In what form does Python want those <code>xyz</code> coordinates? I've given up guessing because I can't see a pattern in the (strangely informative!) rejection &amp; fear specialist syntax is required.</p>\n"}, {"tags": ["python", "scikit-learn", "decision-tree"], "answers": [{"comments": [{"owner": {"reputation": 706, "user_id": 8094899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gkzqq.jpg?s=128&g=1", "display_name": "Chetan Arvind Patil", "link": "https://stackoverflow.com/users/8094899/chetan-arvind-patil"}, "edited": false, "score": 0, "creation_date": 1538263514, "post_id": 49289462, "comment_id": 92082958, "body": ".@CihanCeyhan - Is it possible to print <code>max_depth</code> to understand what the default value is when it&#39;s not set?"}, {"owner": {"reputation": 2182, "user_id": 6916631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af863be8818d9d298267d9f163f9366?s=128&d=identicon&r=PG&f=1", "display_name": "Cihan", "link": "https://stackoverflow.com/users/6916631/cihan"}, "reply_to_user": {"reputation": 706, "user_id": 8094899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gkzqq.jpg?s=128&g=1", "display_name": "Chetan Arvind Patil", "link": "https://stackoverflow.com/users/8094899/chetan-arvind-patil"}, "edited": false, "score": 0, "creation_date": 1538270978, "post_id": 49289462, "comment_id": 92083962, "body": "@ChetanArvindPatil the default is no limitation on the <code>max_depth</code>, as explained in the documentation <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html\" rel=\"nofollow noreferrer\">here</a>.         &quot;The maximum depth of the tree. If None, then nodes are expanded until all leaves are pure or until all leaves contain less than min_samples_split samples.&quot;"}, {"owner": {"reputation": 706, "user_id": 8094899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gkzqq.jpg?s=128&g=1", "display_name": "Chetan Arvind Patil", "link": "https://stackoverflow.com/users/8094899/chetan-arvind-patil"}, "edited": false, "score": 0, "creation_date": 1538276158, "post_id": 49289462, "comment_id": 92084529, "body": ".@CihanCeyhan - I read the documentation. Currently for my model I don&#39;t provide <code>max_depth</code> so it should take the value that has maximum leaves. To test fitting, I want to assign <code>max_depth</code> value but need to know the maximum value that gets generated by default. This way I can play with <code>max_depth</code> value from minimum to median to maximum and test model. Is there a way to <code>print</code> this <code>max_depth</code> when the value is not assigned? Hope my question is clear."}, {"owner": {"reputation": 5758, "user_id": 560283, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/n3lfi.jpg?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/560283/mel"}, "edited": false, "score": 0, "creation_date": 1549164477, "post_id": 49289462, "comment_id": 95804210, "body": ".@CihanCeyhan , I had the same problem.  See answer here... <a href=\"https://stackoverflow.com/questions/54499114/using-sklearn-how-do-i-find-depth-of-a-decision-tree\" title=\"using sklearn how do i find depth of a decision tree\">stackoverflow.com/questions/54499114/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2182, "user_id": 6916631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af863be8818d9d298267d9f163f9366?s=128&d=identicon&r=PG&f=1", "display_name": "Cihan", "link": "https://stackoverflow.com/users/6916631/cihan"}, "is_accepted": true, "score": 9, "last_activity_date": 1521072363, "last_edit_date": 1521072363, "creation_date": 1521071858, "answer_id": 49289462, "question_id": 49289187, "link": "https://stackoverflow.com/questions/49289187/decision-tree-sklearn-depth-of-tree-and-accuracy/49289462#49289462", "title": "Decision Tree Sklearn -Depth Of tree and accuracy", "body": "<p><code>max_depth</code> is what the name suggests: The maximum depth that you allow the tree to grow to. The deeper you allow, the more complex your model will become.  </p>\n\n<p>For training error, it is easy to see what will happen. If you increase <code>max_depth</code>, training error will always go down (or at least not go up).  </p>\n\n<p>For testing error, it gets less obvious. If you set <code>max_depth</code> <em>too high</em>, then the decision tree might simply overfit the training data without capturing useful patterns as we would like; this will cause testing error to increase. But if you set it <em>too low</em>, that is not good as well; then you might be giving the decision tree too little flexibility to capture the patterns and interactions in the training data. This will also cause the testing error to increase.  </p>\n\n<p>There is a nice golden spot in between the extremes of too-high and too-low. Usually, the modeller would consider the <code>max_depth</code> as a hyper-parameter, and use some sort of grid/random search with cross-validation to find a good number for <code>max_depth</code>.</p>\n"}], "owner": {"reputation": 133, "user_id": 8637577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19cf68ca38e9b07f11763234db405d19?s=128&d=identicon&r=PG&f=1", "display_name": "skoundin", "link": "https://stackoverflow.com/users/8637577/skoundin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15545, "favorite_count": 2, "accepted_answer_id": 49289462, "answer_count": 1, "score": 1, "last_activity_date": 1521077665, "creation_date": 1521070056, "question_id": 49289187, "link": "https://stackoverflow.com/questions/49289187/decision-tree-sklearn-depth-of-tree-and-accuracy", "title": "Decision Tree Sklearn -Depth Of tree and accuracy", "body": "<p>I am applying Decision Tree to a data set, using sklearn </p>\n\n<p>In Sklearn there is a parameter to select the depth of the tree - \ndtree = DecisionTreeClassifier(max_depth=10). </p>\n\n<p>My question is how the max_depth parameter helps on the model.\nhow does high/low max_depth help in predicting the test data more accurately?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1521070322, "post_id": 49289179, "comment_id": 85581653, "body": "Did you try <code>df.reset_index().plot(x=&quot;b&quot;,y=&quot;c&quot;)</code>?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521070660, "post_id": 49289179, "comment_id": 85581751, "body": "Or, <code>df.reset_index(level=0, drop=True).c.plot()</code>"}, {"owner": {"reputation": 41, "user_id": 9367436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc538a3dd7f6ed6e3d40c8d8693f9c1?s=128&d=identicon&r=PG&f=1", "display_name": "TNorden", "link": "https://stackoverflow.com/users/9367436/tnorden"}, "edited": false, "score": 0, "creation_date": 1521071029, "post_id": 49289179, "comment_id": 85581846, "body": "Yes. I tried it. I have a very big data set. I was wondering if there is any other way without using reset_index() everytime? Thank you .."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1521071161, "post_id": 49289179, "comment_id": 85581888, "body": "If your dataset is so big that calling <code>reset_index</code> is an issue, you will have much larger issues when actually plotting it; or in other words, do not plot any data that you cannot affort to reshape."}, {"owner": {"reputation": 41, "user_id": 9367436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc538a3dd7f6ed6e3d40c8d8693f9c1?s=128&d=identicon&r=PG&f=1", "display_name": "TNorden", "link": "https://stackoverflow.com/users/9367436/tnorden"}, "edited": false, "score": 0, "creation_date": 1521071257, "post_id": 49289179, "comment_id": 85581911, "body": "Okay. Thanks for the suggestion. If there is no other way, I will stick with using reset_index(). Really appreciate the help. Thank you guys."}, {"owner": {"reputation": 1185, "user_id": 6054326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TOp-QTMQJ7Y/AAAAAAAAAAI/AAAAAAAAFiI/MwmBvJaIs-U/photo.jpg?sz=128", "display_name": "Victor Chubukov", "link": "https://stackoverflow.com/users/6054326/victor-chubukov"}, "edited": false, "score": 0, "creation_date": 1521075254, "post_id": 49289179, "comment_id": 85582955, "body": "Is the problem that your dataset is huge in terms of number of columns? You can also do <code>df[&#39;c&#39;].reset_index()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 4, "last_activity_date": 1525737938, "last_edit_date": 1525737938, "creation_date": 1521071350, "answer_id": 49289391, "question_id": 49289179, "link": "https://stackoverflow.com/questions/49289179/in-pandas-how-to-plot-with-multiple-index/49289391#49289391", "title": "In pandas, how to plot with multiple index?", "body": "<p><strong>Option 1</strong><br>\nTwo options have been provided (in the comments) involving <code>reset_index</code>. They are</p>\n\n<pre><code>df.reset_index().plot(x=\"b\",y=\"c\")\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>df.reset_index(level=0, drop=True).c.plot()\n</code></pre>\n\n<p>Both of these should work as expected, but will become expensive for large dataframes.</p>\n\n<hr>\n\n<p><strong>Option 2</strong><br>\nIf you are worried about memory, here's an option that does not involve resetting the index:</p>\n\n<pre><code>plt.plot(df.index.get_level_values(1), df.c)\n</code></pre>\n\n<p><code>reset_index</code> generates copies of the data. This is more efficient, because it doesn't have to.</p>\n"}], "owner": {"reputation": 41, "user_id": 9367436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc538a3dd7f6ed6e3d40c8d8693f9c1?s=128&d=identicon&r=PG&f=1", "display_name": "TNorden", "link": "https://stackoverflow.com/users/9367436/tnorden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2350, "favorite_count": 0, "accepted_answer_id": 49289391, "answer_count": 1, "score": 2, "last_activity_date": 1525738315, "creation_date": 1521070008, "last_edit_date": 1525738315, "question_id": 49289179, "link": "https://stackoverflow.com/questions/49289179/in-pandas-how-to-plot-with-multiple-index", "title": "In pandas, how to plot with multiple index?", "body": "<p>I have double index in Panda's dataframe like the example below. </p>\n\n<pre><code>           c         d\na  b         \n1  3   1.519970 -0.493662\n2  4   0.600178  0.274230\n3  5   0.132885 -0.023688\n4  6   2.410179  1.450520\n</code></pre>\n\n<p>How do I plot column 'c' as y-axis and index 'b' as x-axis. With one index, it is easy to plot. But I have trouble with multi index plotting. Thank you for any help!!. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1521069858, "post_id": 49289137, "comment_id": 85581511, "body": "you are missing a ton of relevant details ... but that command looks reasonable ... we have no idea what went wrong you didnt even give us a traceback or how you launched the program or anything"}, {"owner": {"reputation": 17, "user_id": 7656310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tXfAK.png?s=128&g=1", "display_name": "codingPotato", "link": "https://stackoverflow.com/users/7656310/codingpotato"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1521070021, "post_id": 49289137, "comment_id": 85581565, "body": "It restarts the python shell but not the code itself."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521071549, "post_id": 49289137, "comment_id": 85581996, "body": "I stripped this down to <a href=\"https://gist.github.com/abarnert/8129a96f0022c2b86071297dc961d1d4\" rel=\"nofollow noreferrer\">a quick test</a>, and it seems to do exactly what you want, as you&#39;d expect\u2014it prints &#39;Hi!&#39; every second until you kill it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521071654, "post_id": 49289137, "comment_id": 85582027, "body": "However, depending on your platform and Python version, if the script isn&#39;t in the current working directory, <code>sys.argv[0]</code> might not be enough to run it. Any chance that&#39;s your problem? If you don&#39;t know, try printing out <code>__FILE__</code>, <code>sys.argv[0]</code>, and <code>os.getcwd()</code> right before the <code>execl</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521071976, "post_id": 49289137, "comment_id": 85582121, "body": "Also, what do you mean &quot;It restarts the python shell but not the code itself&quot;? What exactly happens that makes you think Python restarted but your code didn&#39;t?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521072024, "post_id": 49289137, "comment_id": 85582146, "body": "Better, give us an <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a> that prints out some different output from what you expected/wanted, so you can just show us the difference."}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521071695, "post_id": 49289426, "comment_id": 85582048, "body": "I&#39;m pretty sure <code>sys.executable</code> is exactly what he&#39;s expecting it to be. His code will exec, e.g., <code>python myscript.py myarg myarg</code>, which is exactly what it should be doing."}, {"owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521071765, "post_id": 49289426, "comment_id": 85582072, "body": "@abarnert added an explanation about which way the script it called - I think it addresses what you&#39;re thinking of"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521071865, "post_id": 49289426, "comment_id": 85582096, "body": "But even if the script is called with <code>.&#47;some_name.py</code>, calling it with <code>python some_name.py</code> (as long as you use the right Python in the shbang line\u2014which you will, because that&#39;s what will be in <code>sys.executable</code>), it will still do the right thing. His version works for <i>both</i> <code>.&#47;some_name.py</code> and <code>python some_name,py</code> (and also <code>pypy3.5 some_name.py</code> and so on); yours only works for the first one."}], "tags": [], "owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "is_accepted": false, "score": 1, "last_activity_date": 1521071700, "last_edit_date": 1521071700, "creation_date": 1521071649, "answer_id": 49289426, "question_id": 49289137, "link": "https://stackoverflow.com/questions/49289137/python-shell-restart-when-trying-to-restart-a-script/49289426#49289426", "title": "python shell restart when trying to restart a script", "body": "<p><code>sys.executable</code> is not what you expect probably. (assuming you run the script with <code>./some_name.py</code> rather than <code>python ./some_name.py</code>) It will almost always be the interpreter rather than the script you're running.</p>\n\n<p>You probably wanted something like:</p>\n\n<pre><code>own_name = sys.argv[0]\nos.execl(own_name, own_name, *sys.argv[1:])\n</code></pre>\n\n<p>Print your <code>sys.executable</code> and <code>sys.argv</code> to see the difference.</p>\n"}], "owner": {"reputation": 17, "user_id": 7656310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tXfAK.png?s=128&g=1", "display_name": "codingPotato", "link": "https://stackoverflow.com/users/7656310/codingpotato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521071700, "creation_date": 1521069697, "last_edit_date": 1521070172, "question_id": 49289137, "link": "https://stackoverflow.com/questions/49289137/python-shell-restart-when-trying-to-restart-a-script", "title": "python shell restart when trying to restart a script", "body": "<p>I have been coding a program that opens files and edits them, but for the code to do what needs to be done it has to auto reset itself, I've spent a while browsing the interwebs for some help but can't seem to find anyone else asking this question. The code I attempted to use to restart was probably terribly off:</p>\n\n<pre><code>os.execl(sys.executable, sys.executable, * sys.argv)\n</code></pre>\n\n<p>any help is appreciated.</p>\n\n<pre><code>import os\n\nPassCount = 0\nSetUp = 0\n\nnewpath = r\"PassEncryptPY\"\nif not os.path.exists(newpath):\n    os.makedirs(newpath)\n\nf = open(\"PassEncryptPY/PassEncryptPY_PTF.txt\", \"a\")\ng = open(\"PassEncryptPY/PassEncryptPY_ETF.txt\", \"a\")\n\nif os.path.getsize(r\"PassEncryptPY/PassEncryptPY_PTF.txt\") == 0:\n    print(\"we have detected that you dont have a password\")\n    pas = input(\"Your password: \")\n    f.write(pas)\n    SetUp = SetUp + 1\n\nif os.path.getsize(r\"PassEncryptPY/PassEncryptPY_ETF.txt\") == 0:\n    print(\"we have detected that you dont have a email\")\n    ema = input(\"Your email: \")\n    g.write(ema)\n    SetUp = SetUp + 1\n\nif SetUp != 0:\n    print(\"Set Up complete, restarting\")\n    f.flush()\n    g.flush()\n    os.fsync(f.fileno())\n    os.fsync(g.fileno())\n    import sys\n    os.execl(sys.executable, sys.executable, * sys.argv)\n\nf.close()\ng.close()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "importerror"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1521069893, "post_id": 49289133, "comment_id": 85581522, "body": "<code>matplotlib.finance</code> is not part of matplotlib any more. You may get a copy of it as <code>mpl_finance</code> from GitHub as seen <a href=\"https://stackoverflow.com/questions/44700715/how-to-fix-mpl-finance-package-for-matplotlib\">here</a>."}], "owner": {"reputation": 4713, "user_id": 1187968, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/55c10b3b35dba52324314052e9cf84dc?s=128&d=identicon&r=PG", "display_name": "user1187968", "link": "https://stackoverflow.com/users/1187968/user1187968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 8508, "favorite_count": 1, "closed_date": 1521070118, "answer_count": 0, "score": 1, "last_activity_date": 1521069913, "creation_date": 1521069682, "last_edit_date": 1521069913, "question_id": 49289133, "link": "https://stackoverflow.com/questions/49289133/python-matplotlib-no-module-named-finance", "closed_reason": "Duplicate", "title": "Python matplotlib: No module named finance", "body": "<p>I am running Python 2.7 on Ubuntu 16. I have install matplotlib, but I'm getting the following error when I run a Python script. Any idea? </p>\n\n<p>Here is the version number for matplotlib <code>Version: 2.2.0</code></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"stock/app.py\", line 24, in &lt;module&gt;\n    import scan\n  File \"/home/ubuntu/eyefin/stock/scan.py\", line 6, in &lt;module&gt;\n    from stock.chart import get_chart\n  File \"/home/ubuntu/eyefin/stock/chart.py\", line 4, in &lt;module&gt;\n    from matplotlib.finance import candlestick_ohlc\nImportError: No module named finance\n</code></pre>\n\n<p>Here is my Python script</p>\n\n<pre><code>import os\nimport re\n\nfrom matplotlib.finance import candlestick_ohlc\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as ticker\nfrom matplotlib.dates import num2date, date2num\nimport numpy as np\nimport matplotlib.dates\nimport pandas\nfrom stock.models import Pricing, Symbol, Peak\nfrom stock.utils import Utils\n\ndef get_chart(symbol_obj, title=None, caption=None):\n\n    ...\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1376, "user_id": 6190930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfbba9c5af37b4eb37bc508a355fda7?s=128&d=identicon&r=PG", "display_name": "pgngp", "link": "https://stackoverflow.com/users/6190930/pgngp"}, "edited": false, "score": 0, "creation_date": 1521072803, "post_id": 49289081, "comment_id": 85582362, "body": "Python is very picky about indentation. When you added <code>session.close()</code>, did you make sure its indentation (# spaces or # tabs) is same as that of <code>try</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 12670, "user_id": 28360, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Mkhz7.png?s=128&g=1", "display_name": "damon", "link": "https://stackoverflow.com/users/28360/damon"}, "is_accepted": false, "score": 1, "last_activity_date": 1521083685, "creation_date": 1521083685, "answer_id": 49291000, "question_id": 49289081, "link": "https://stackoverflow.com/questions/49289081/killing-creating-new-session-everytime-a-request-is-sent/49291000#49291000", "title": "Killing/Creating new session everytime a request is sent?", "body": "<p>You can ensure that a new session is created each time by initializing it in the method.</p>\n\n\n\n<pre class=\"lang-py prettyprint-override\"><code>import requests\n\ndef sendRequestTest():\n    session = requests.Session()  # this will create a new session\n\n    try:\n        session.headers.update({'x-csrftoken': req.cookies['csrftoken']})\n        login_data = {'email': EMAIL, 'password': PASSWD, 'username': USERNAME, 'first_name': NAME}\n        login = session.post(SIGNUP_URL, data=login_data, allow_redirects=True)\n        session.headers.update({'x-csrftoken': login.cookies['csrftoken']})\n        cookies = login.cookies\n        login_text = json.loads(login.text)\n        print(login_text)\n    except:\n        print(\"An connection error has occured.\")\n</code></pre>\n\n<p>If you need to modify the session before sending the request, you can pass it to the <code>sendRequestTest</code> method as a variable and <a href=\"http://docs.python-requests.org/en/master/user/advanced/#session-objects\" rel=\"nofollow noreferrer\">create the session instance using a context manager</a>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import requests\n\ndef sendRequestTest(session):\n    # ...\n\ndef make_fresh_session_request():\n    with requests.Session() as session:\n        # The session only exists *inside* of this \"with\" statement.\n        # You can perform any setup of the session instance\n        # you might need in here...\n\n        sendRequestTest(session)\n\n    # Outside of the \"with\" block, the session has been closed\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9494340, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fDWY7P6FNrg/AAAAAAAAAAI/AAAAAAAAAAo/tVq7Y61p3oA/photo.jpg?sz=128", "display_name": "Tyler", "link": "https://stackoverflow.com/users/9494340/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521083685, "creation_date": 1521069222, "question_id": 49289081, "link": "https://stackoverflow.com/questions/49289081/killing-creating-new-session-everytime-a-request-is-sent", "title": "Killing/Creating new session everytime a request is sent?", "body": "<p>I am fairly new with python and have been playing with sending and getting requests with the requests module. However, I cannot figure out how to either kill or create a new session everytime a POST request is made. Here is the function I am using:</p>\n\n<pre><code>def sendRequestTest():\n\n    try:\n        session.headers.update({'x-csrftoken': req.cookies['csrftoken']})\n        login_data = {'email': EMAIL, 'password': PASSWD, 'username': USERNAME, 'first_name': NAME}\n        login = session.post(SIGNUP_URL, data=login_data, allow_redirects=True)\n        session.headers.update({'x-csrftoken': login.cookies['csrftoken']})\n        cookies = login.cookies\n        login_text = json.loads(login.text)\n        print(login_text)\n    except:\n        print(\"An connection error has occured.\")\n</code></pre>\n\n<p>I have tried adding session.close() to the end of the function, but got an indentation error. Any help is greatly appreciated.</p>\n"}, {"tags": ["python", "virtualenv"], "comments": [{"owner": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "edited": false, "score": 0, "creation_date": 1521073080, "post_id": 49289048, "comment_id": 85582408, "body": "The way you use for creating the virtualenv is correct. It seems like an issue with Python3.6 interpreter. Try to take a look at <a href=\"https://stackoverflow.com/a/45716067/4820341\">this answer</a> and let us know!"}, {"owner": {"reputation": 649, "user_id": 8210505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88e5db7b746aa7ef0b62d8ad43367854?s=128&d=identicon&r=PG&f=1", "display_name": "asheets", "link": "https://stackoverflow.com/users/8210505/asheets"}, "reply_to_user": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "edited": false, "score": 0, "creation_date": 1521124113, "post_id": 49289048, "comment_id": 85605933, "body": "I tried the answer to that question and I actually get the same error as in my original question"}], "owner": {"reputation": 649, "user_id": 8210505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88e5db7b746aa7ef0b62d8ad43367854?s=128&d=identicon&r=PG&f=1", "display_name": "asheets", "link": "https://stackoverflow.com/users/8210505/asheets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521068938, "creation_date": 1521068938, "question_id": 49289048, "link": "https://stackoverflow.com/questions/49289048/attribute-error-when-creating-virtualenv", "title": "attribute error when creating virtualenv", "body": "<p>I'm trying to create a virtualenv with the python3.6 interpreter. Just running <code>virtualenv &lt;env name&gt;</code> works fine, but creates an env with the 2.7 interpreter. When I try again with the command <code>virtualenv -p &lt;path to 3.6&gt; &lt;env name&gt;</code> I get the error <code>Attribute error: module enum has not attribute Intflag</code>. I'm not sure how to interpret this error or how to solve the issue.\nAny help would be appreciated</p>\n"}, {"tags": ["python", "numpy", "tensorflow", "keras"], "answers": [{"comments": [{"owner": {"reputation": 535, "user_id": 1759909, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6fae3d3bdf8f1c05cfc02269f3be00ba?s=128&d=identicon&r=PG", "display_name": "mobiusinversion", "link": "https://stackoverflow.com/users/1759909/mobiusinversion"}, "edited": false, "score": 0, "creation_date": 1521070392, "post_id": 49289140, "comment_id": 85581670, "body": "Thanks, Cihan, I tried that <code>data = data.reshape((28, 1)) print(data.shape)</code> which prints <code>(28, 1)</code>.  But still I get <code>ValueError: Error when checking : expected input_1 to have shape (28,) but got array with shape (1,)</code>"}, {"owner": {"reputation": 2182, "user_id": 6916631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af863be8818d9d298267d9f163f9366?s=128&d=identicon&r=PG&f=1", "display_name": "Cihan", "link": "https://stackoverflow.com/users/6916631/cihan"}, "reply_to_user": {"reputation": 535, "user_id": 1759909, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6fae3d3bdf8f1c05cfc02269f3be00ba?s=128&d=identicon&r=PG", "display_name": "mobiusinversion", "link": "https://stackoverflow.com/users/1759909/mobiusinversion"}, "edited": false, "score": 0, "creation_date": 1521071086, "post_id": 49289140, "comment_id": 85581859, "body": "@mobiusinversion actually it looks like keras expects (m_train, n_features) shaped inputs. Could you try data = data.reshape((1,28)) instead?"}, {"owner": {"reputation": 535, "user_id": 1759909, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6fae3d3bdf8f1c05cfc02269f3be00ba?s=128&d=identicon&r=PG", "display_name": "mobiusinversion", "link": "https://stackoverflow.com/users/1759909/mobiusinversion"}, "edited": false, "score": 0, "creation_date": 1521076915, "post_id": 49289140, "comment_id": 85583316, "body": "Hye Cihan, I was just logging in to post an update, I looked in <code>training.py:1815</code> and saw <code>x = _standardize_input_data(x, self._feed_input_names, self._feed_input_shapes, check_batch_axis=False)</code>.  So yes, that works, I changed: <code>data = data.reshape((1, 28))</code>.  Do you want to edit the answer and I can accept it?"}], "tags": [], "owner": {"reputation": 2182, "user_id": 6916631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af863be8818d9d298267d9f163f9366?s=128&d=identicon&r=PG&f=1", "display_name": "Cihan", "link": "https://stackoverflow.com/users/6916631/cihan"}, "is_accepted": true, "score": 1, "last_activity_date": 1521100191, "last_edit_date": 1521100191, "creation_date": 1521069705, "answer_id": 49289140, "question_id": 49288973, "link": "https://stackoverflow.com/questions/49288973/numpy-array-shape-issue-in-web-server-with-keras-dnn-on-higgs-boson-kaggle/49289140#49289140", "title": "Numpy Array Shape issue in Web Server with Keras DNN on Higgs Boson Kaggle", "body": "<p>Looking at the print, seems like you have a numpy array; the shape (28,) can be misleading.  </p>\n\n<p>Simply do <code>data = data.reshape((1,28))</code> to reshape the input into a proper nd-array with the required shape.</p>\n"}], "owner": {"reputation": 535, "user_id": 1759909, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6fae3d3bdf8f1c05cfc02269f3be00ba?s=128&d=identicon&r=PG", "display_name": "mobiusinversion", "link": "https://stackoverflow.com/users/1759909/mobiusinversion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 49289140, "answer_count": 1, "score": 0, "last_activity_date": 1521100191, "creation_date": 1521068418, "last_edit_date": 1521070968, "question_id": 49288973, "link": "https://stackoverflow.com/questions/49288973/numpy-array-shape-issue-in-web-server-with-keras-dnn-on-higgs-boson-kaggle", "title": "Numpy Array Shape issue in Web Server with Keras DNN on Higgs Boson Kaggle", "body": "<p>I am creating a Python web server with <a href=\"https://github.com/squeaky-pl/japronto\" rel=\"nofollow noreferrer\">japronto</a> in order to serve results from a Keras neural network trained on the Kaggle higgs boson dataset.  I get this in the logs of the server:</p>\n\n<pre><code># print(data)\n\n[ 0.86929321 -0.63508183  0.22569026  0.32747006 -0.6899932   0.75420225\n -0.24857314 -1.0920639   0.          1.37499213 -0.65367419  0.93034911\n  1.10743606  1.13890433 -1.57819831 -1.04698539  0.          0.65792954\n -0.01045457 -0.04576717  3.10196137  1.35376     0.97956312  0.97807616\n  0.92000484  0.72165745  0.98875093  0.87667835]\n\n# print(data.shape)\n\n(28,)\n\n# The exception:\noutput = model.predict(data)\n  File \"/Users/david/PycharmProjects/server/lib/python3.6/site-packages/keras/engine/training.py\", line 1817, in predict\ncheck_batch_axis=False)\n  File \"/Users/david/PycharmProjects/server/lib/python3.6/site-packages/keras/engine/training.py\", line 123, in _standardize_input_data\nstr(data_shape))\nValueError: Error when checking : expected input_1 \n    to have shape (28,) but got array with shape (1,)\n</code></pre>\n\n<p>I also wrote a standalone script and it produces the same exception:</p>\n\n<pre><code>model = load_model('models/keras-higgs.h5')\n\ntest_data = np.array([0.86929321, -0.63508183,  0.22569026,  0.32747006, -0.6899932,  0.75420225,\n                      -0.24857314, -1.0920639,   0.,          1.37499213, -0.65367419, 0.93034911,\n                      1.10743606,  1.13890433, -1.57819831, -1.04698539,  0.,         0.65792954,\n                      -0.01045457, -0.04576717,  3.10196137,  1.35376,     0.97956312, 0.97807616,\n                      0.92000484,  0.72165745,  0.98875093,  0.87667835])\nprint(test_data.shape) # (28, )\nresult = model.predict(test_data) # ValueError\nprint(result) \n</code></pre>\n\n<p>The neural net is structured as follows:</p>\n\n<pre><code>from keras.models import Model\nfrom keras.layers import Input, Dense\n\ninput_layer = Input(shape=(28, ))\nhidden_layer_1 = Dense(24, activation='sigmoid')(input_layer)\nhidden_layer_2 = Dense(20, activation='sigmoid')(hidden_layer_1)\nhidden_layer_3 = Dense(16, activation='sigmoid')(hidden_layer_2)\nhidden_layer_4 = Dense(12, activation='sigmoid')(hidden_layer_3)\noutput_layer = Dense(2, activation='softmax')(hidden_layer_4)\n\nmodel = Model(input_layer, output_layer)\nmodel.compile(optimizer='adam', loss='binary_crossentropy', metrics=['accuracy'])\nmodel.fit(measurements, labels, epochs=500, batch_size=256)\nmodel.save('../models/keras-higgs.h5')\n</code></pre>\n\n<p>The Japronto server is defined as follows:</p>\n\n<pre><code>import numpy as np\nfrom japronto import Application\nfrom json import JSONDecodeError\nfrom keras.models import load_model\n\nmodel = load_model('models/keras-higgs.h5')\n\ndef higgs(request):\n    try:\n        data = np.array(request.json)\n        print(data)\n        print(data.shape)\n        output = model.predict(data)\n    except JSONDecodeError:\n        return request.Response(code=400)\n    return request.Response(json=output)\n\napp = Application()\napp.router.add_route('/higgs', higgs, 'POST')\napp.run(debug=True)\n</code></pre>\n\n<p>The <code>ValueError</code> is odd because clearly the <code>shape=(28, )</code> from the logging.  What am I doing wrong here and how do I fix this? </p>\n"}, {"tags": ["python", "html", "python-3.x", "parsing", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 3036983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b7b1fcfedc993f6e17af7f856ec4ff?s=128&d=identicon&r=PG&f=1", "display_name": "charlton_austin", "link": "https://stackoverflow.com/users/3036983/charlton-austin"}, "is_accepted": false, "score": 0, "last_activity_date": 1521068566, "creation_date": 1521068566, "answer_id": 49288995, "question_id": 49288932, "link": "https://stackoverflow.com/questions/49288932/how-can-i-to-parse-all-html-code-with-python/49288995#49288995", "title": "How can I to parse all html code with python?", "body": "<p>Try using find_all (<a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree\" rel=\"nofollow noreferrer\">https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree</a>) </p>\n\n<pre><code>class Auth:\n    BASE_URL = 'http.............'\n\n    def auth(self):\n        params = {\n            'user': u'g1625719',\n            'pass': u'472001',\n            'from_site': 1,\n            'dev': u'16e753be3dc097354e3328e47c3701a9'\n        }\n        session = requests.Session()\n        url = self.BASE_URL + 'api/v1/login/auth?info=1'\n        r = session.post(url, params)\n        print(r.text)\n\n    def get_url(self):\n        url = self.BASE_URL + '#!/line/cart/checklist/'\n        print(url)\n        response = urllib.request.urlopen(url)\n        return response.read()\n\n    def parse(self):\n        soup = BeautifulSoup(self.get_url(), 'html.parser')\n        table = soup.body.find_all('div', {'class': 'example-animate-container'})\n        print(table)\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 7809349, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-xxj8AcvmCrU/AAAAAAAAAAI/AAAAAAAAF_o/XRDsjNGm0QE/photo.jpg?sz=128", "display_name": "manwhotrycoding", "link": "https://stackoverflow.com/users/7809349/manwhotrycoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521090899, "creation_date": 1521068185, "last_edit_date": 1521090899, "question_id": 49288932, "link": "https://stackoverflow.com/questions/49288932/how-can-i-to-parse-all-html-code-with-python", "title": "How can I to parse all html code with python?", "body": "<p>I need to parse a part of HTML from a site with authorization.\nBut when I try to do it, my script can't find all tags\nthis part :</p>\n\n<pre><code>&lt;tbody&gt;              \n    &lt;td class=\"ng-binding\"&gt;name&lt;/td&gt;\n    &lt;td class=\"ng-binding\"&gt;name&lt;/td&gt;\n    &lt;td class=\"ng-binding\"&gt;name&lt;/td&gt;\n    &lt;td class=\"ng-binding\"&gt;name&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;&lt;!-- end ngIf: bsks --&gt;\n&lt;!-- ngIf: (bsks | size)&gt;0 --&gt;&lt;tr class=\"bsstr ng-scope\" ng-if=\"(bsks | size)&gt;0\"&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;b class=\"ng-binding\"&gt;\u0441\u0443\u043c\u043c\u0430&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;&lt;!-- end ngIf: (bsks | size)&gt;0 --&gt;\n&lt;!-- ngIf: (bsks | size) === 0 --&gt;\n&lt;!-- ngRepeat: item in bsks | orderBy: date --&gt;&lt;!-- ngIf: (bsks | size) &gt; 0 --&gt;&lt;tr class=\"bsstr ng-scope\" ng-repeat=\"item in bsks | orderBy: date\" ng-if=\"(bsks | size) &gt; 0\"&gt;\n    &lt;td&gt;\n</code></pre>\n\n<p>I am a beginner , please help me to parse this part of cite\nHow can I get all tags that I need?\nThe site has another page for authorization (  <code>url = self.BASE_URL + 'api/v1/login/auth?info=1'</code>)</p>\n\n<pre><code>class Auth:\n    BASE_URL = 'http.............'\n\n    def auth(self):\n        params = {\n            'user': u'g1625719',\n            'pass': u'472001',\n            'from_site': 1,\n            'dev': u'16e753be3dc097354e3328e47c3701a9'\n        }\n        session = requests.Session()\n        url = self.BASE_URL + 'api/v1/login/auth?info=1'\n        r = session.post(url, params)\n        print(r.text)\n\n    def get_url(self):\n        url = self.BASE_URL + '#!/line/cart/checklist/'\n        print(url)\n        response = urllib.request.urlopen(url)\n        return response.read()\n\n    def parse(self):\n        soup = BeautifulSoup(self.get_url(), 'html.parser')\n        table = soup.body.find('div', {'class': 'example-animate-container'})\n        print(table)\n</code></pre>\n\n<p>It is work incorrect.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1521068934, "post_id": 49288923, "comment_id": 85581222, "body": "@jpp: OP&#39;s code works fine for me in Python 3.4.5"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1521070412, "post_id": 49289142, "comment_id": 85581677, "body": "ahhh now i see what he was trying to do ... i just couldnt tell from the description and the posted code"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1521069726, "creation_date": 1521069726, "answer_id": 49289142, "question_id": 49288923, "link": "https://stackoverflow.com/questions/49288923/reshuffling-a-list-in-python/49289142#49289142", "title": "Reshuffling a list in Python", "body": "<p>Instead of making a new set of candidates each time, create a master set before you enter the loop.  Each iteration, simply remove the unwanted element to get a set for that index position.</p>\n\n<p>Also, I think you can clean up the replacement logic a <em>little</em>.  I tried using a product that would keep the head and tail constant and iterate through the desired index position, but that's not very readable.  I finally settled on essentially your own handling, but actually replacing the desired element each time and then appending a copy:</p>\n\n<pre><code>cid = [1, 1, 1, 2, 2]\nmaster = set(cid + [max(cid)+1])\n\nsolution = []\n\nfor idx, val in enumerate(cid):\n    print(idx, val)\n    cand = master - {val}\n    for elem in cand:\n        cid[idx] = elem\n        solution.append(cid[:])\n    print(solution)\n    cid[idx] = val\n</code></pre>\n\n<p>Output (line breaks inserted manually):</p>\n\n<pre><code>[[2, 1, 1, 2, 2],\n [3, 1, 1, 2, 2],\n [1, 2, 1, 2, 2],\n [1, 3, 1, 2, 2],\n [1, 1, 2, 2, 2],\n [1, 1, 3, 2, 2],\n [1, 1, 1, 1, 2],\n [1, 1, 1, 3, 2],\n [1, 1, 1, 2, 1],\n [1, 1, 1, 2, 3]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2271, "user_id": 5431734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c7553e033ed67ebfe0fbc8dda2cacd5?s=128&d=identicon&r=PG&f=1", "display_name": "Aenaon", "link": "https://stackoverflow.com/users/5431734/aenaon"}, "edited": false, "score": 0, "creation_date": 1521141776, "post_id": 49289549, "comment_id": 85617352, "body": "thanks a lot for this! I appreciate the time you spent looking into this"}], "tags": [], "owner": {"reputation": 71, "user_id": 2507496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f818986d28c5c6a6b69b1e5c227ae06?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/2507496/eric"}, "is_accepted": true, "score": 1, "last_activity_date": 1521072411, "creation_date": 1521072411, "answer_id": 49289549, "question_id": 49288923, "link": "https://stackoverflow.com/questions/49288923/reshuffling-a-list-in-python/49289549#49289549", "title": "Reshuffling a list in Python", "body": "<p>This will get the same output as the other answers, and as the OP, but the combination of numpy replacement and memoizing previously seen results can get a faster result on large inputs. When I tried the originally given code it took ~0.25 seconds when the given <code>cid</code> was <code>range(50)</code>, the timing results of different input <code>cid</code> on the code below is shown below. The given code is a lot faster than the originally given code, but how much depends on the given <code>cid</code>. The distribution of the input will matter, the more times you see a particular input the more that memoizing will help you :)</p>\n\n<p>It's noted in the code, but when you get to large inputs you should probably start to break up the arrays being calculated and write them out somehow.</p>\n\n<p>Also, from rough timing analysis it looks like most of the time goes into creating the <code>array</code> variable with <code>np.ones</code>. The actual replacement using numpy is quite fast. Hooray numpy :)</p>\n\n<pre><code>import numpy as np\ncid = [1, 1, 1, 2, 2]\n# cid = range(600)       # ~0.23 seconds\n# cid = range(100) * 6   # ~0.08 seconds\n# cid = range(100) * 30  # ~1.1 seconds\n# cid = range(300) * 10  # MemoryError\n\n# Or whatever extra element you want\nextra_element = max(cid) + 1\n# By putting the set into an array format the pool[pool != j] step below\n# becomes very fast\npool = np.array(list(set(cid)) + [extra_element])\n# This is the number of available candidates to replace any individual element\nnum_available = len(pool) - 1\n# Memoize results we've seen before\nseen_elements = {}\n\n# Create an array to hold the output. It's possible that this can get too\n# large to hold in memory all at once, so you might want to consider breaking\n# this up (maybe create a new array each for loop and then write it somewhere?)\narray = np.ones((len(cid) * num_available, len(cid)), dtype=int) * np.array(cid)\n\n# Replace the operational range each loop with the saved value, or populate\n# the saved value as necessary\nfor i, j in enumerate(cid):\n    lower_bound = i * num_available\n    upper_bound = i * num_available + num_available\n    try:\n        array[lower_bound:upper_bound, i] = seen_elements[j]\n    except KeyError:\n        seen_elements[j] = pool[pool != j]\n        array[lower_bound:upper_bound, i] = seen_elements[j]\n\nprint array\n\n[[2 1 1 2 2]\n [3 1 1 2 2]\n [1 2 1 2 2]\n [1 3 1 2 2]\n [1 1 2 2 2]\n [1 1 3 2 2]\n [1 1 1 1 2]\n [1 1 1 3 2]\n [1 1 1 2 1]\n [1 1 1 2 3]]\n</code></pre>\n"}], "owner": {"reputation": 2271, "user_id": 5431734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c7553e033ed67ebfe0fbc8dda2cacd5?s=128&d=identicon&r=PG&f=1", "display_name": "Aenaon", "link": "https://stackoverflow.com/users/5431734/aenaon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 49289549, "answer_count": 2, "score": -2, "last_activity_date": 1521072411, "creation_date": 1521068144, "question_id": 49288923, "link": "https://stackoverflow.com/questions/49288923/reshuffling-a-list-in-python", "title": "Reshuffling a list in Python", "body": "<p>Suppose we have a list <code>cid = [1,1,1,2,2]</code>. The goal is loop over the list and each time replace the element at the cursor position with each one from a pool of candidates. The pool is all other elements not equal to the one in focus plus one more which is not contained in <code>cid</code>. For example for <code>cid = [1,1,1,2,2]</code>I want to end up with:</p>\n\n<pre><code>[[2 1 1 2 2]\n [3 1 1 2 2]\n [1 2 1 2 2]\n [1 3 1 2 2]\n [1 1 2 2 2]\n [1 1 3 2 2]\n [1 1 1 1 2]\n [1 1 1 3 2]\n [1 1 1 2 1]\n [1 1 1 2 3]]\n</code></pre>\n\n<p>What I have written is:</p>\n\n<pre><code>arr = np.empty((0, len(cid)), int)\nm = max(cid)\n\n# Loop over the list\nfor i, j in enumerate(cid):\n    # make a pool of candidates\n    pool = set([x for x in cid if x != j])\n\n    # add a new element\n    pool.add(m+1)\n\n    # construct the new list\n    for idx in pool:\n        a = cid[:i] + [idx] + cid[i+1 :]\n        arr = np.append(arr, np.array([a]), axis=0)\n\nprint(arr)\n</code></pre>\n\n<p>Is there a better way to write this please? A real case scenario involves a list of length around 3000 containing almost 50 different integers (quite likely not sequential)</p>\n"}, {"tags": ["python", "python-3.x", "list", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 3613025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b6a12a290935b44e58de0bbd3aa2519b?s=128&d=identicon&r=PG&f=1", "display_name": "user3613025", "link": "https://stackoverflow.com/users/3613025/user3613025"}, "edited": false, "score": 0, "creation_date": 1521068927, "post_id": 49288823, "comment_id": 85581219, "body": "Lovely. Exactly what I wanted. Thanks."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1521067537, "creation_date": 1521067537, "answer_id": 49288823, "question_id": 49288777, "link": "https://stackoverflow.com/questions/49288777/how-to-access-elements-from-3-lists-with-index-set-at-minimum-value-from-one-lis/49288823#49288823", "title": "How to access elements from 3 lists with index set at minimum value from one list?", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.argmin.html\" rel=\"nofollow noreferrer\"><code>numpy.argmin</code></a>, which returns the first index of the minimum value.</p>\n\n<pre><code>import numpy as np\n\nV = np.array([1, 2, 3, 4, -5, 4, 3, 2, 1])\nD = np.array([10, 9, 8, 7, 6, 5, 4, 3, 2])\nT = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])\n\ni = np.argmin(V)\n\nV_min = V[i]  # -5\nD_min = D[i]  # 6\nT_min = T[i]  # 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "is_accepted": false, "score": 0, "last_activity_date": 1521091000, "creation_date": 1521091000, "answer_id": 49292063, "question_id": 49288777, "link": "https://stackoverflow.com/questions/49288777/how-to-access-elements-from-3-lists-with-index-set-at-minimum-value-from-one-lis/49292063#49292063", "title": "How to access elements from 3 lists with index set at minimum value from one list?", "body": "<p>You can try without numpy in one line if you want:</p>\n\n<pre><code>print(min([i for i in enumerate(zip(V,D,T))],key=lambda x:x[1][0]))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>(4, (-5, 6, 5))\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 3613025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b6a12a290935b44e58de0bbd3aa2519b?s=128&d=identicon&r=PG&f=1", "display_name": "user3613025", "link": "https://stackoverflow.com/users/3613025/user3613025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 49288823, "answer_count": 2, "score": 0, "last_activity_date": 1521091000, "creation_date": 1521067292, "last_edit_date": 1521069004, "question_id": 49288777, "link": "https://stackoverflow.com/questions/49288777/how-to-access-elements-from-3-lists-with-index-set-at-minimum-value-from-one-lis", "title": "How to access elements from 3 lists with index set at minimum value from one list?", "body": "<p>Say I have 3 lists of the same dimensions which contains elements of velocity, distance and time.</p>\n\n<pre><code>    V = [1, 2, 3, 4, -5, 4, 3, 2, 1]\n    D = [10, 9, 8, 7, 6, 5, 4, 3, 2]\n    T = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n\n<p>If I want to find the minimum velocity in my V list I can just do</p>\n\n<pre><code>    np.amin(V)\n</code></pre>\n\n<p>and I will get 5 in this case. But then how do I go about printing/getting/returning my value of D and T at that specific V? I have tried something like this</p>\n\n<pre><code>    def MAXVTIME(VELOCITY, DISTANCE, TIME):\n        for i, (VELOCITY, DISTANCE, TIME) in enumerate(zip(VELOCITY, DISTANCE, TIME)):\n            if VELOCITY == np.amin(VELOCITY):\n                return VELOCITY.i(np.amin(VELOCITY))\n</code></pre>\n\n<p>but I can't get it to work. I need my function to be able to input 3 lists of velocity, distance and time, choose the smallest velocity value, and return the velocity, distance and time at that value.</p>\n\n<p>Think of this as a person falling down, its smallest speed will be its maximum velocity(taking downwards as negative), and the distance is decreasing while time is ticking.</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "edited": false, "score": 0, "creation_date": 1521068797, "post_id": 49288731, "comment_id": 85581173, "body": "See this <a href=\"https://stackoverflow.com/a/2597994/3926995\">asnwer</a>"}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 3246419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99017ab0cf42916f3ececbf0f9c7ee46?s=128&d=identicon&r=PG&f=1", "display_name": "tmcnicol", "link": "https://stackoverflow.com/users/3246419/tmcnicol"}, "is_accepted": false, "score": 0, "last_activity_date": 1521074320, "creation_date": 1521074320, "answer_id": 49289810, "question_id": 49288731, "link": "https://stackoverflow.com/questions/49288731/how-does-max-length-affect-django-models/49289810#49289810", "title": "How does &#39;max_length&#39; affect Django models?", "body": "<p>One limitation for a CharField the max length, if you are using unique=True is 255. <a href=\"https://docs.djangoproject.com/en/dev/ref/databases/#character-fields\" rel=\"nofollow noreferrer\">See the django docs here</a>. This has to do with how the database references characters in a VarChar field.</p>\n\n<p>According to <a href=\"https://stackoverflow.com/a/8295254/3246419\">this answer</a> it does not seem that there are any size on disk benefits for limiting the max length. </p>\n"}], "owner": {"reputation": 85, "user_id": 9352220, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a84e64f3d00bee6f674c514ebf6a5dcf?s=128&d=identicon&r=PG&f=1", "display_name": "user9352220", "link": "https://stackoverflow.com/users/9352220/user9352220"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1370, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521074320, "creation_date": 1521066985, "question_id": 49288731, "link": "https://stackoverflow.com/questions/49288731/how-does-max-length-affect-django-models", "title": "How does &#39;max_length&#39; affect Django models?", "body": "<p>Does <code>max_length</code> affect anything outside of the maximum number of characters you can add to a specific database field (i.e. does it affect the amount of memory that is set aside for the database?).</p>\n\n<p>Would there be any unintended consequences for setting all fields to the maximum <code>CharField</code> length, which is ~65,000, even if it was completely unnecessary (apart from being bad practice)?</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521067197, "post_id": 49288730, "comment_id": 85580670, "body": "Can you fix the formatting of your code?"}, {"owner": {"reputation": 221, "user_id": 8570634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a683e5e51f20808bc9da7f854eee39a?s=128&d=identicon&r=PG&f=1", "display_name": "Nisheeth", "link": "https://stackoverflow.com/users/8570634/nisheeth"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521070559, "post_id": 49288730, "comment_id": 85581716, "body": "fixed the indentation issues in my sample code"}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1521071157, "post_id": 49288730, "comment_id": 85581885, "body": "In <code>self.driver.find_element_by_xpath(&quot;&quot;.&#47;&#47;*[@id=&#39;aoTkt&#39;]&#47;div&#47;di&zwnj;&#8203;v&quot;)).click()</code> you have &quot;(&quot;....&quot;))&quot;.().. which means you got one &quot;)&quot; bracket too much in your code. Typo?"}, {"owner": {"reputation": 221, "user_id": 8570634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a683e5e51f20808bc9da7f854eee39a?s=128&d=identicon&r=PG&f=1", "display_name": "Nisheeth", "link": "https://stackoverflow.com/users/8570634/nisheeth"}, "edited": false, "score": 0, "creation_date": 1521077123, "post_id": 49288730, "comment_id": 85583352, "body": "yes, extra ) it&#39;s a typo . But the question is how to use the browser invoked from one class be used to continue with the next test case, which is written in another class."}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 8570634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a683e5e51f20808bc9da7f854eee39a?s=128&d=identicon&r=PG&f=1", "display_name": "Nisheeth", "link": "https://stackoverflow.com/users/8570634/nisheeth"}, "edited": false, "score": 1, "creation_date": 1521130228, "post_id": 49292451, "comment_id": 85610571, "body": "This solution partially works. The myorder class runs, which includes myloginclass followed by myorder class. But after this, myloginclass executes again, opening a new browser and login."}], "tags": [], "owner": {"reputation": 460, "user_id": 6003362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rhJum6XPS44/AAAAAAAAAAI/AAAAAAAAACE/S1Y-gGsuqIE/photo.jpg?sz=128", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/6003362/sahil-agarwal"}, "is_accepted": true, "score": 0, "last_activity_date": 1521093440, "creation_date": 1521093440, "answer_id": 49292451, "question_id": 49288730, "link": "https://stackoverflow.com/questions/49288730/python-selenium-how-to-reuse-a-class-from-another-class/49292451#49292451", "title": "Python Selenium: How to reuse a class from another class", "body": "<p>Use class inheritance. Call the login function with either setUp() or setUpClass() depending on your use case.</p>\n\n<pre><code>from mylogin import myLoginclass\n\nclass myorderclass(myLoginclass):\n    def setUp(self):\n        self.test_TC_1_login_page()\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/8389639/unittest-setup-teardown-for-several-tests\">Unittest setUp/tearDown for several tests</a></p>\n"}], "owner": {"reputation": 221, "user_id": 8570634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a683e5e51f20808bc9da7f854eee39a?s=128&d=identicon&r=PG&f=1", "display_name": "Nisheeth", "link": "https://stackoverflow.com/users/8570634/nisheeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 1, "accepted_answer_id": 49292451, "answer_count": 1, "score": 3, "last_activity_date": 1521093440, "creation_date": 1521066980, "last_edit_date": 1521075420, "question_id": 49288730, "link": "https://stackoverflow.com/questions/49288730/python-selenium-how-to-reuse-a-class-from-another-class", "title": "Python Selenium: How to reuse a class from another class", "body": "<p>I'm new to Python and selenium. I need to write a login module that I can reuse in my test cases. Here's my 2 files. I need help to call the login module so that the browser launches and user can login. Then the second module starts and test case begins (in the same browser). I have written 2 class in 2 separate files. My code is below:</p>\n\n<p>mylogin.py file</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.common.exceptions import NoSuchElementException\nimport unittest\nclass myLoginclass(unittest.TestCase):\n    @classmethod   \n    def test_TC_1_login_page(self):       \n        self.driver = webdriver.Firefox()\n        self.driver.get(http://www.gmail.com)\n        self.driver.find_element_by_xpath(\".//*[@id='name-group']/input\").send_keys(\"HELLO\")\n        self.driver.find_element_by_xpath(\".//*[@id='password-group']/input\").send_keys(\"WORLD\")\n        self.driver.find_element_by_id(\"loginButton\").click()\n\nif __name__ == '__main__':\n    unittest.main(failfast=True, exit=False)\n</code></pre>\n\n<p>The myorder.py file:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.common.exceptions import NoSuchElementException\nimport unittest\nfrom mylogin import myLoginclass\nclass myorderclass(unittest.TestCase):\n    @classmethod   \n    def test_TC_2_orderProcess(self):       \n        self.driver.find_element_by_xpath(\"\".//*[@id='aoTkt']/div/div\")).click()\n        self.driver.find_element_by_xpath(\".//*[@id='presales']/input\").click()\n        self.driver.find_element_by_link_text(\"DISPATCH\").click()\n        self.driver.find_element_by_id(\"submitButton\").click()\n\nif __name__ == '__main__':\n    unittest.main(failfast=True, exit=False)\n</code></pre>\n"}, {"tags": ["python", "json", "oracle", "clob", "cx-oracle"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521067176, "post_id": 49288724, "comment_id": 85580660, "body": "For a start, <code>print</code> is really expensive. You could try <code>for x, row in enumerate(rows.fetchall()):</code> and then hide the <code>print</code> under <code>if x % 10000 == 0: print row</code> but I also don&#39;t think it&#39;s enough to explain the slowness"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521067416, "post_id": 49288724, "comment_id": 85580753, "body": "Also, I think you could probably just iterate through the cursor without using <code>.fetchall()</code>. After that I have no familiarity with <code>Clob</code> to say whether you could get around using <code>json.loads()</code> on each row."}, {"owner": {"reputation": 6003, "user_id": 4799035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuyZM.jpg?s=128&g=1", "display_name": "Christopher Jones", "link": "https://stackoverflow.com/users/4799035/christopher-jones"}, "edited": false, "score": 0, "creation_date": 1521096753, "post_id": 49288724, "comment_id": 85588753, "body": "Try fetching the LOBs as shown in <a href=\"https://github.com/oracle/python-cx_Oracle/issues/63#issuecomment-322532071\" rel=\"nofollow noreferrer\">github.com/oracle/python-cx_Oracle/issues/&hellip;</a>  Also see section 7 (LOBS) in the tutorial <a href=\"https://github.com/oracle/python-cx_Oracle/blob/master/samples/tutorial/Python-and-Oracle-Database-12c-Scripting-for-the-Future.html\" rel=\"nofollow noreferrer\">github.com/oracle/python-cx_Oracle/blob/master/samples/tutor&zwnj;&#8203;ial/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "is_accepted": false, "score": 1, "last_activity_date": 1521125537, "creation_date": 1521125537, "answer_id": 49302643, "question_id": 49288724, "link": "https://stackoverflow.com/questions/49288724/read-and-write-clob-data-using-python-and-cx-oracle/49302643#49302643", "title": "Read and write Clob data using python and cx_oracle", "body": "<p>From the cx_Oracle <a href=\"https://github.com/oracle/python-cx_Oracle/blob/master/samples/ReturnLongs.py\" rel=\"nofollow noreferrer\">sample</a> the following code is what you want to use. This should dramatically improve performance!</p>\n\n<pre><code>def OutputTypeHandler(cursor, name, defaultType, size, precision, scale):\n    if defaultType == cx_Oracle.CLOB:\n        return cursor.var(cx_Oracle.LONG_STRING, arraysize = cursor.arraysize)\n    elif defaultType == cx_Oracle.BLOB:\n        return cursor.var(cx_Oracle.LONG_BINARY, arraysize = cursor.arraysize)\n\nconn = cx_Oracle.Connection(\"user/pw@dsn\")\nconn.outputtypehandler = OutputTypeHandler\ncursor = conn.cursor()\ncursor.execute(\"\"\"\n        select CLOBColumn\n        from SomeTable\"\"\")\njson_data = [json.loads(s) for s, in cursor]\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7572551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857501f5b9b860603bf7aa23beea6bd4?s=128&d=identicon&r=PG&f=1", "display_name": "Kashyap", "link": "https://stackoverflow.com/users/7572551/kashyap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7353, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521125537, "creation_date": 1521066945, "last_edit_date": 1521069100, "question_id": 49288724, "link": "https://stackoverflow.com/questions/49288724/read-and-write-clob-data-using-python-and-cx-oracle", "title": "Read and write Clob data using python and cx_oracle", "body": "<p>Am trying to read Clob data from test db and inserting it in dev db. Am able to do that but the performance is very poor.\nFor 100K rows its taking 8 to 12 hours, and running it from my local machine.\nAm wondering if my approach is correct or is there any better way in doing it.\nBelow is my code after connections:</p>\n\n<pre><code>for row in rows.fetchall()\n   x = []\n   data = row.read\n   json_data = json.loads(data)\n   x.append(json_data)\n</code></pre>\n\n<p>This is how am doing it. Just wanted to know if there is any better way to do it.\nStack : Python, OracleDB, cx_oracle, json\nThanks</p>\n"}, {"tags": ["python", "sympy"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521068414, "post_id": 49288714, "comment_id": 85581088, "body": "I couldn&#39;t find <code>sympy,geometry.util.idiff</code> in the docs. How is it different from <code>diff</code>? I assume the difference is somehow related to geometry, but how? It seems like something like <code>diff(eq, y) &#47; diff(eq, x)</code> but maybe with the explicit assumption that it&#39;s differentiating about <code>eq==0</code>?"}, {"owner": {"reputation": 229, "user_id": 5713029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f9c39a2eb2b0ef5c4e7dae285c2e919?s=128&d=identicon&r=PG&f=1", "display_name": "Robby", "link": "https://stackoverflow.com/users/5713029/robby"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521068918, "post_id": 49288714, "comment_id": 85581216, "body": "abarnert, maybe idiff is not in the docs but please run in a cell of jupyter python3 and you&#39;ll see realy works this statement in the cell, and works for the first derivative. (revise you use comma to import instead point)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521069053, "post_id": 49288714, "comment_id": 85581264, "body": "OK, it &quot;works&quot; to do what exactly? Without knowing what it&#39;s expected to do differently from <code>diff</code> or <code>Derivative</code>, it&#39;s hard to know why it&#39;s doing something different than some expectation."}, {"owner": {"reputation": 696, "user_id": 5078698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50587652c9e763535266945ef6ef9ac0?s=128&d=identicon&r=PG&f=1", "display_name": "alexdor", "link": "https://stackoverflow.com/users/5078698/alexdor"}, "edited": false, "score": 2, "creation_date": 1521069265, "post_id": 49288714, "comment_id": 85581331, "body": "You can find the implementation/documenation of idiff at <a href=\"http://docs.sympy.org/1.0/_modules/sympy/geometry/util.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 229, "user_id": 5713029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f9c39a2eb2b0ef5c4e7dae285c2e919?s=128&d=identicon&r=PG&f=1", "display_name": "Robby", "link": "https://stackoverflow.com/users/5713029/robby"}, "edited": false, "score": 0, "creation_date": 1521069298, "post_id": 49288714, "comment_id": 85581340, "body": "&quot;to do exactly&quot; get the first derivative abartnert"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521070492, "post_id": 49288714, "comment_id": 85581696, "body": "Aha: &quot;Return dy/dx assuming that eq == 0&quot;. I thought it was something like that. Which means it&#39;s not just &quot;get the first derivative&quot; of eq after all."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "edited": false, "score": 1, "creation_date": 1521070205, "post_id": 49289045, "comment_id": 85581621, "body": "Right. The point being, computing y&#39;&#39; based on F(x, y) = 0 cannot be split as computing y&#39;, letting the result be G(x, y), and then computing the derivative based on G(x, y) = 0. The equation G(x, y) = 0 describes something totally different."}], "tags": [], "owner": {"reputation": 696, "user_id": 5078698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50587652c9e763535266945ef6ef9ac0?s=128&d=identicon&r=PG&f=1", "display_name": "alexdor", "link": "https://stackoverflow.com/users/5078698/alexdor"}, "is_accepted": true, "score": 3, "last_activity_date": 1521069437, "last_edit_date": 1521069437, "creation_date": 1521068904, "answer_id": 49289045, "question_id": 49288714, "link": "https://stackoverflow.com/questions/49288714/get-a-second-implicit-derivative-with-sympy/49289045#49289045", "title": "Get a second implicit derivative with SymPy", "body": "<p>Running </p>\n\n<pre><code>eqd2 = idiff(eq, y, x, n=2)\nsimplify(expand(eqd2))\n</code></pre>\n\n<p>Produces </p>\n\n<blockquote>\n  <p>6(x<sup>2</sup>-xy+y<sup>2</sup>)/(x<sup>3</sup>-6x<sup>2</sup>y-12xy<sup>2</sup>-8y<sup>3</sup>)</p>\n</blockquote>\n\n<p>which is the correct result (after a bit more simplification).</p>\n"}], "owner": {"reputation": 229, "user_id": 5713029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f9c39a2eb2b0ef5c4e7dae285c2e919?s=128&d=identicon&r=PG&f=1", "display_name": "Robby", "link": "https://stackoverflow.com/users/5713029/robby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "accepted_answer_id": 49289045, "answer_count": 1, "score": 2, "last_activity_date": 1521070049, "creation_date": 1521066912, "last_edit_date": 1521070049, "question_id": 49288714, "link": "https://stackoverflow.com/questions/49288714/get-a-second-implicit-derivative-with-sympy", "title": "Get a second implicit derivative with SymPy", "body": "<p>we have the follow cell in jupyter kernel python3:</p>\n\n<pre><code>from sympy.interactive.printing import init_printing\nfrom sympy.core.symbol import symbols\nfrom sympy.geometry.util import idiff\ninit_printing(use_unicode=True)\nx = symbols('x')\ny = symbols('y')\n</code></pre>\n\n<p>then just run:</p>\n\n<pre><code>eq = x ** 2 - x * y + y ** 2 - 3\neqd1 = idiff(eq, y, x)\neqd1\n</code></pre>\n\n<p>we get the correct answer: 2x-y / x-2y</p>\n\n<p>but if run the code:</p>\n\n<pre><code>eqd2 = idiff(eqd1, y, x)\neqd2\n</code></pre>\n\n<p>we get: x/y but the answer realy is: 18/(x-2y)\u00b2 or 6(x\u00b2-xy+y\u00b2)/(x-2y)\u00b3</p>\n\n<p>x/y and 18/(x-2y)\u00b2 don't looks like a equal expression or factorial one of another</p>\n"}, {"tags": ["python", "python-3.x", "list"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9201867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/84a75e0edd0a261ef66af46909c18aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jess L", "link": "https://stackoverflow.com/users/9201867/jess-l"}, "edited": false, "score": 0, "creation_date": 1521067935, "post_id": 49288769, "comment_id": 85580943, "body": "For some reason, when I attempt to use that piece of code, it provides an error message saying it cannot multiply with the asterisk. It gives me this error message: &quot;builtins.TypeError: can&#39;t multiply sequence by non-int of type &#39;float&#39;&quot;"}], "tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": true, "score": 3, "last_activity_date": 1521067238, "creation_date": 1521067238, "answer_id": 49288769, "question_id": 49288679, "link": "https://stackoverflow.com/questions/49288679/using-astericks-to-display-a-bargraph-of-user-inputted-numbers-in-python/49288769#49288769", "title": "Using Astericks to Display a Bargraph of User Inputted Numbers in Python", "body": "<p>Your variable name <code>_NumberList</code> makes my eyes hurt, so I'll call it <code>number_list</code></p>\n\n<pre><code>largest_number = max(number_list)\nscale_factor = 40 / largest_number\nscaled_number_list = [int(x * scale_factor) for x in number_list]\nfor scaled_number in scaled_number_list:\n    print('*' * scaled_number)\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9201867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/84a75e0edd0a261ef66af46909c18aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jess L", "link": "https://stackoverflow.com/users/9201867/jess-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 49288769, "answer_count": 1, "score": 2, "last_activity_date": 1521067238, "creation_date": 1521066719, "question_id": 49288679, "link": "https://stackoverflow.com/questions/49288679/using-astericks-to-display-a-bargraph-of-user-inputted-numbers-in-python", "title": "Using Astericks to Display a Bargraph of User Inputted Numbers in Python", "body": "<p>I am currently attempting to solve a homework problem. The problem states to collect user inputted numbers and then arrange them using asterisks to display a graph, with the largest number having forty asterisks and the rest becoming smaller as the numbers decrease. </p>\n\n<pre><code>_NumberList= []\nprint(\"Please type 'quit' to stop entering numbers.\")\nprint(\"Please type 'print' to view the list that has been entered so far.\")\na= True\nwhile a:\n    _number= input(\"Please enter a number or make a selection. \")\n    if _number.isdigit():\n        _number=int(_number)\n        _NumberList.append(_number)\n    elif _number.isalpha():\n        _number= _number.lower()\n        if _number== 'quit':\n            a= False\n        if _number== 'print':\n            print(_NumberList)\n        else:\n            print(\"Please use digits to enter a number.\")\n            print(\"For exmaple: 'ten' should be typed at '10'\")\n    else:\n        print(\"Invalid entry.\")\n_NumberList.remove(max(_NumberList))\nfor i in range(len(_NumberList)):\n    _NumberList.remove(max(_NumberList))\n</code></pre>\n\n<p>However, I am unsure as to how to find the given proportions utilizing the numerical data. Thus far, I have considered utilizing the .pop function, but it simply isn't making a ton of sense so far. I considered making them go up by one step, but again, that doesn't seem logical, and the program can run for more than forty numbers. I know I will need to utilize a loop, hence the for loop at the end, but I'm not sure as to how to continue from there.</p>\n"}, {"tags": ["python", "pyqt", "pyqt4", "qtablewidget", "qcombobox"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5557478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd5c1056cc29b7040027c32614a4853?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Westfall", "link": "https://stackoverflow.com/users/5557478/jeremy-westfall"}, "edited": false, "score": 0, "creation_date": 1521126730, "post_id": 49289060, "comment_id": 85607984, "body": "thanks for the feedback, ill take a look here today and see if I can get your example working."}, {"owner": {"reputation": 21, "user_id": 5557478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd5c1056cc29b7040027c32614a4853?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Westfall", "link": "https://stackoverflow.com/users/5557478/jeremy-westfall"}, "edited": false, "score": 0, "creation_date": 1521126932, "post_id": 49289060, "comment_id": 85608126, "body": "Eyllanesc, thanks so much. I was beating my head into a wall with this as I tried so many things I found on here and was close but your solution is perfect! I usually find code snippets online and go from there so I don&#39;t have a very strong understanding of the very detailed functions of python, just a general knowledge of programming."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 21, "user_id": 5557478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd5c1056cc29b7040027c32614a4853?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Westfall", "link": "https://stackoverflow.com/users/5557478/jeremy-westfall"}, "edited": false, "score": 0, "creation_date": 1521127126, "post_id": 49289060, "comment_id": 85608302, "body": "@JeremyWestfall  I recommend you invest more time in reading and understanding the documentation. patch code will work at the beginning, but then it will be very difficult, I would say impossible, to maintain. If my answer helps you, do not forget to mark it as correct, if you do not know how to do it, check the <a href=\"https://stackoverflow.com/tour\">tour</a>."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": false, "score": 1, "last_activity_date": 1521069053, "creation_date": 1521069053, "answer_id": 49289060, "question_id": 49288674, "link": "https://stackoverflow.com/questions/49288674/how-to-get-the-cell-position-of-qcombobox-which-is-a-qtablewidgetitem/49289060#49289060", "title": "How to get the cell position of QCombobox which is a QTableWidgetItem", "body": "<p>A possible solution is to use <code>indexAt()</code> since the position of the <code>QComboBox</code> is relative to the <code>viewport()</code>, but to obtain the <code>QComboBox</code> that was selected we use <code>sender()</code>.</p>\n\n<pre><code>    for n,item in enumerate(wbs_details):            \n\n        qitem = QtGui.QTableWidgetItem(item[0])\n        self.projectlist.setItem(n, 0, qitem)\n        qitem = QtGui.QTableWidgetItem(item[1])\n        self.projectlist.setItem(n, 1, qitem)\n        milestone_options = [\"Award\",\"Mobilization\",\"Survey\"]\n        milestonecombo = QtGui.QComboBox()\n        milestonecombo.addItems(milestone_options)\n        milestonecombo.setFixedWidth(150)\n        milestonecombo.currentIndexChanged[str].connect(self.onCurrentIndexChanged)\n        self.projectlist.setCellWidget(n, 2, milestonecombo)\n\ndef onCurrentIndexChanged(self, text):\n    combobox = self.sender()\n    ix = self.projectlist.indexAt(combobox.pos())\n    print(ix.row(), ix.column(), text)\n</code></pre>\n\n<p>Another possible solution is to use the property:</p>\n\n<pre><code>    for n,item in enumerate(wbs_details):            \n\n        qitem = QtGui.QTableWidgetItem(item[0])\n        self.projectlist.setItem(n, 0, qitem)\n        qitem = QtGui.QTableWidgetItem(item[1])\n        self.projectlist.setItem(n, 1, qitem)\n        milestone_options = [\"Award\",\"Mobilization\",\"Survey\"]\n        milestonecombo = QtGui.QComboBox()\n        milestonecombo.addItems(milestone_options)\n        milestonecombo.setFixedWidth(150)\n        milestonecombo.setProperty(\"row\", n)\n        milestonecombo.setProperty(\"column\", 1)\n        milestonecombo.currentIndexChanged[str].connect(self.onCurrentIndexChanged)\n        self.projectlist.setCellWidget(n, 2, milestonecombo)\n\ndef onCurrentIndexChanged(self, text):\n    combobox = self.sender()\n    r = combobox.property(\"row\").toPyObject()\n    c = combobox.property(\"column\").toPyObject()\n    print(r, c, text)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5557478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd5c1056cc29b7040027c32614a4853?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Westfall", "link": "https://stackoverflow.com/users/5557478/jeremy-westfall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560041961, "creation_date": 1521066684, "last_edit_date": 1560041961, "question_id": 49288674, "link": "https://stackoverflow.com/questions/49288674/how-to-get-the-cell-position-of-qcombobox-which-is-a-qtablewidgetitem", "title": "How to get the cell position of QCombobox which is a QTableWidgetItem", "body": "<p>So the below code is part of a bigger project but in general, I have a QTableWidget which is populated from a database. One of the items is a combobox which when the user selects a milestone option from the combobox I want to be able to know which row and column the combo box that was select is in so I can then apply a fixed rate to the value of a cell in the same row. All I need help on is how to track which cell (row, column) the combo box that was selected is in. </p>\n\n<p>Please note im using other tabs that are not shown and is why my code is setup the way it is. I found some other help but am not a very experience python programmer so I got stuck. </p>\n\n<pre><code>#!/usr/local/bin/python\n# -*- coding: latin9 -*-\nimport sys, os , random\nfrom PyQt4 import QtGui, QtCore\nfrom PyQt4.QtCore import pyqtSlot,SIGNAL,SLOT\nimport time\nimport json\nimport openpyxl\nimport Lists\n\nclass CashflowTab(QtGui.QDialog):\n    '''\n    Parent for all tab widgets of the REPO GUI\n    '''\n    def __init__(self, parent = None):\n        super(CashflowTab, self).__init__()\n        if parent != None:\n            self.setParent(parent)\n        self.initUI()\n        self.loadSettings()\n\n    def loadSettings(self):\n        '''\n        read settings and read db\n        '''\n        fh = open('settings.json')\n        self.settings = json.load(fh)\n        fh.close()\n        #load db\n        dbpath = self.settings['dbpath']\n        self.db = Lists.SQLiteHandler(dbpath)\n        self.repo = Lists.WCNList('ROSQL')\n\n        try:\n            self.db.read(self.repo)\n        except:\n            pass\n\nclass WCNSelectTab(CashflowTab):\n    '''\n    Window for WCN selection\n    '''\n    def __init__(self, parent = None):\n        super(WCNSelectTab, self).__init__(parent)\n        if parent != None:\n            self.setParent(parent)\n\n\n    def initUI(self):\n        global wbsitem, WCNSelectTab_object, linequerycheck\n        linequerycheck = 'False'\n        wbsitem = 'null'\n        QtGui.QApplication.setStyle(QtGui.QStyleFactory.create(\"cleanlooks\"))\n        gbox = QtGui.QGridLayout(self)\n\n        self.projectlist = QtGui.QTableWidget()\n        self.projectlist.setSelectionBehavior(QtGui.QAbstractItemView.SelectRows)\n        #self.projectlist.setSelectionMode(QtGui.QAbstractItemView.ExtendedSelection)\n        self.projectlist.setColumnCount(3)\n        self.projectlist.setHorizontalHeaderLabels(QtCore.QStringList(['WBS','Service','Milestone']))\n        self.projectlist.setColumnWidth(0, 100)       \n        self.projectlist.setColumnWidth(1, 100)\n        self.projectlist.setColumnWidth(2, 150)\n\n        gbox.addWidget(self.projectlist,5,0,3,6)\n\n        self.getAwardBudget()\n\n    def getAwardBudget(self):\n\n        global wbs_details\n\n        wbs_details = []\n        wbs_details.append([\"123\", \"Service 1\"])\n        wbs_details.append([\"456\", \"Service 2\"])        \n        print wbs_details\n\n        self.projectlist.setRowCount(len(wbs_details))\n        for n,item in enumerate(wbs_details):            \n\n            qitem = QtGui.QTableWidgetItem(item[0])\n            self.projectlist.setItem(n, 0, qitem)\n            qitem = QtGui.QTableWidgetItem(item[1])\n            self.projectlist.setItem(n, 1, qitem)\n            milestone_options = [\"Award\",\"Mobilization\",\"Survey\"]\n            milestonecombo = QtGui.QComboBox()\n            for t in milestone_options:\n                milestonecombo.addItem(t)\n            milestonecombo.setFixedWidth(150)\n            self.projectlist.setCellWidget(n, 2, milestonecombo)\n\n\nclass RepoGUI(QtGui.QMainWindow):\n    '''\n    Main Widget for REPO helper\n    '''\n    def __init__(self):\n        super(RepoGUI, self).__init__()\n        #self.mode = mode\n        self.initUI()\n\n    def initUI(self):\n        global approval, approval_names, username, approval_names\n        self.tabs = QtGui.QTabWidget()\n        self.setCentralWidget(self.tabs)\n        self.tabs.setAutoFillBackground(1)\n\n        fh = open('settings.json')\n        settings = json.load(fh)\n        fh.close()\n\n        if settings['WCNsubmit'] == 1:\n            self.tabs.addTab(WCNSelectTab(), 'WCN Creation') \n\n        self.setWindowTitle('Work Completion Notification')  \n        self.setGeometry(300, 150, 1400, 800)\n        self.setStyleSheet('font-size: %ipt' %settings['fontsize'])   \n\n        self.show()    \n\ndef main(): \n    app = QtGui.QApplication(sys.argv)\n    ex = RepoGUI()\n\n    sys.exit(app.exec_())\n\nif __name__ == '__main__':\n\n    main()\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "lstm", "recurrent-neural-network"], "comments": [{"owner": {"reputation": 4923, "user_id": 992489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8568528b37ad2e84830c2c9aa9260369?s=128&d=identicon&r=PG", "display_name": "Alexandre Passos", "link": "https://stackoverflow.com/users/992489/alexandre-passos"}, "edited": false, "score": 0, "creation_date": 1521134799, "post_id": 49288651, "comment_id": 85613568, "body": "Did you try using tfdbg to see where zeros appear in your network?"}, {"owner": {"reputation": 11, "user_id": 9494179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f0fd2c444c1c8b8d014c7e866516ed?s=128&d=identicon&r=PG&f=1", "display_name": "Danil Nemirovsky", "link": "https://stackoverflow.com/users/9494179/danil-nemirovsky"}, "reply_to_user": {"reputation": 4923, "user_id": 992489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8568528b37ad2e84830c2c9aa9260369?s=128&d=identicon&r=PG", "display_name": "Alexandre Passos", "link": "https://stackoverflow.com/users/992489/alexandre-passos"}, "edited": false, "score": 0, "creation_date": 1521152732, "post_id": 49288651, "comment_id": 85622428, "body": "I checked in tfdbg. Biases and states of BasicLSTMCell are zeros, but it is expected, I would say."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9494179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f0fd2c444c1c8b8d014c7e866516ed?s=128&d=identicon&r=PG&f=1", "display_name": "Danil Nemirovsky", "link": "https://stackoverflow.com/users/9494179/danil-nemirovsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1521231543, "creation_date": 1521231543, "answer_id": 49328912, "question_id": 49288651, "link": "https://stackoverflow.com/questions/49288651/tensorflow-gradients-are-zero-for-lstm-and-gradientdescentoptimizer/49328912#49328912", "title": "Tensorflow: gradients are zero for LSTM and GradientDescentOptimizer", "body": "<p>Implementation is correct. Input and label results into vanishing gradients.</p>\n\n<p>If input and label are as follows, gradients are not zeros.</p>\n\n<pre><code>input = [[3], [0.70089], [0.70089], [0.70086], [0.70089], [0.70071], [0.70071], [0.7007], [0.70071]]\nlabel = [[10], [0.70086], [0.7009], [0.70084], [0.70092], [0.7007], [0.70071], [0.70067], [0.70073], [0], [0], [0], [1]]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9494179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f0fd2c444c1c8b8d014c7e866516ed?s=128&d=identicon&r=PG&f=1", "display_name": "Danil Nemirovsky", "link": "https://stackoverflow.com/users/9494179/danil-nemirovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521231543, "creation_date": 1521066604, "question_id": 49288651, "link": "https://stackoverflow.com/questions/49288651/tensorflow-gradients-are-zero-for-lstm-and-gradientdescentoptimizer", "title": "Tensorflow: gradients are zero for LSTM and GradientDescentOptimizer", "body": "<p>Gradients which are computed by GradientDescentOptimizer for LSTM network are always zero. They are zero even on the first step, so, I think it is not vanishing gradient problem. The same issue happens for AdamOptimizer.</p>\n\n<p>I have reduced input to one point of time series and label (expected output) to just next point with additional information for neural network to predict in hope to find the root cause on why gradients are zeros. Gradients are zeros even in this minimal setup.</p>\n\n<p>I have read similar question but have not answer which could help me.</p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\nfrom tensorflow.contrib import rnn\n\ndef input_placeholder_sequence(input_placeholder, sequence_length, batch_size):\n    input_placeholder = tf.transpose(input_placeholder, name=\"transpose_input\")\n\n    print(\"input_placeholder shape: \" + str(input_placeholder.get_shape()))\n\n    input_placeholder = tf.split(input_placeholder, np.repeat(batch_size, sequence_length), axis=0)\n\n    print(\"input_placeholder_sequence shape: \" + str(np.shape(input_placeholder)))\n    print(\"input_placeholder_in_sequence shape: \" + str(input_placeholder[0].get_shape()))\n\n    return input_placeholder\n\ndef train_model(input_placeholder, sequence_length, batch_size, output_size):\n    input_placeholder = input_placeholder_sequence(input_placeholder, sequence_length, batch_size)\n    rnn_cell = rnn.BasicLSTMCell(output_size, name=\"hidden_layer\")\n\n    hidden_outputs, states = rnn.static_rnn(rnn_cell, input_placeholder, dtype=tf.float32)\n\n    print(\"hidden_outputs shape: \" + str(np.shape(hidden_outputs)))\n    print(\"hidden_outputs last shape: \" + str(hidden_outputs[-1].get_shape()))\n\n    result = tf.concat(hidden_outputs, 0, name=\"concat\")\n\n    print(\"result shape: \" + str(result.get_shape()))\n\n    result = tf.transpose(result, name=\"transpose_result\")\n\n    print(\"result shape transposed: \" + str(result.get_shape()))\n\n    return result, rnn_cell, states\n\ndef main():\n    input = [[1448949600], [3], [0.70089], [0.70089], [0.70086], [0.70089], [0.70071], [0.70071], [0.7007], [0.70071]]\n    label = [[1448949660], [10], [0.70086], [0.7009], [0.70084], [0.70092], [0.7007], [0.70071], [0.70067], [0.70073], [0], [0], [0], [1]]\n\n    print(\"input shape: \" + str(np.shape(input)))\n    print(\"label shape: \" + str(np.shape(label)))\n\n    input_size = np.shape(input)[0]\n    output_size = np.shape(label)[0]\n    batch_size = 1\n    sequence_length = 1\n    learning_rate = 0.01\n\n    print(\"input_size: \" + str(input_size))\n    print(\"output_size: \" + str(output_size))\n    print(\"batch_size: \" + str(batch_size))\n    print(\"sequence_length: \" + str(sequence_length))\n\n    input_placeholder = tf.placeholder(tf.float32, (input_size, sequence_length * batch_size), \"input\")\n\n    prediction_operation, rnn_cell, states = train_model(input_placeholder, sequence_length, batch_size, output_size)\n\n    label_placeholder = tf.placeholder(tf.float32, (output_size, batch_size), \"label\")\n\n    global_step = tf.Variable(0, name='global_step',trainable=False)\n\n    cost = tf.norm(tf.subtract(prediction_operation, label_placeholder))\n    optimizer = tf.train.GradientDescentOptimizer(learning_rate=learning_rate)\n    gradients = optimizer.compute_gradients(cost)\n    minimizer = optimizer.apply_gradients(gradients, global_step)\n\n    init = tf.global_variables_initializer()\n\n    with tf.Session() as session:\n        session.run(init)\n\n        _, prediction, loss, grads, weights, gl_step \\\n            = session.run([minimizer, prediction_operation, cost, gradients, rnn_cell.weights, global_step],\n                          feed_dict={input_placeholder: input, label_placeholder: label})\n        print(\"loss: \" + str(loss))\n        print(\"prediction: \" + str(prediction))\n\n        print(\"rnn weights and biases: \" + str(weights))\n        print(\"rnn weights and biases shape: \" + str(np.shape(weights)))\n        print(\"rnn weights shape: \" + str(np.shape(weights[0])))\n        print(\"rnn biases shape: \" + str(np.shape(weights[1])))\n\n        print(\"rnn weights and biases sum: \" + str(np.sum(np.abs(weights[0])) + np.sum(np.abs(weights[1]))))\n\n        print(\"gradients and variables: \" + str(grads))\n        print(\"gradients weights: \" + str(grads[0][0]))\n        print(\"gradients biases: \" + str(grads[1][0]))\n        print(\"gradients sum: \" + str(np.sum(np.abs(grads[0][0])) + np.sum(np.abs(grads[1][0]))))\n\n        print(\"global steps: \" + str(gl_step))\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "edited": false, "score": 1, "creation_date": 1521068164, "post_id": 49288618, "comment_id": 85581010, "body": "What specifically are you having trouble with?  opening and writing to a text file? does what you have so far run? give expected results?"}, {"owner": {"reputation": 25, "user_id": 7501070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093cac1dd5b131f8a9fca8183b4b7034?s=128&d=identicon&r=PG&f=1", "display_name": "JBell", "link": "https://stackoverflow.com/users/7501070/jbell"}, "reply_to_user": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "edited": false, "score": 0, "creation_date": 1521068412, "post_id": 49288618, "comment_id": 85581086, "body": "Using the database inside the questionnaire then printing it out. So far it does not work with the problem as <code>object has no attribute &#39;get&#39;</code>. Just in general not sure whats the next move."}], "answers": [{"tags": [], "owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "is_accepted": false, "score": 1, "last_activity_date": 1521071436, "creation_date": 1521071436, "answer_id": 49289404, "question_id": 49288618, "link": "https://stackoverflow.com/questions/49288618/trouble-with-python-with-sqlite/49289404#49289404", "title": "Trouble with Python with (SQLite)", "body": "<p>if you change your line <code>q = (question_data)</code> to <code>q = question_data[0]</code> it should get you on the right track.  A more useful alternative would be to put that in a <code>for</code> loop: </p>\n\n<pre><code>for q in question_data:\n    #process the question\n</code></pre>\n\n<p>that will require changing your <code>dict</code>s so that the keys are the same in all the <code>dict</code>s.</p>\n\n<p>A still more advanced option is to store the question information in the database, either in the same table that you have, or in another table connected with a foreign key relationship to your existing table.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 7501070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093cac1dd5b131f8a9fca8183b4b7034?s=128&d=identicon&r=PG&f=1", "display_name": "JBell", "link": "https://stackoverflow.com/users/7501070/jbell"}, "edited": false, "score": 0, "creation_date": 1521489705, "post_id": 49289636, "comment_id": 85743867, "body": "Hey, sorry for the late reply but it&#39;s still not liking the whole get statement. Throwing up a whole: AttributeError: &#39;str&#39; object has no attribute &#39;get&#39;"}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "reply_to_user": {"reputation": 25, "user_id": 7501070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093cac1dd5b131f8a9fca8183b4b7034?s=128&d=identicon&r=PG&f=1", "display_name": "JBell", "link": "https://stackoverflow.com/users/7501070/jbell"}, "edited": false, "score": 0, "creation_date": 1521589616, "post_id": 49289636, "comment_id": 85793702, "body": "On which line of code? I just fixed a small mistake in my answer but it doesn&#39;t explain the error you see"}, {"owner": {"reputation": 25, "user_id": 7501070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093cac1dd5b131f8a9fca8183b4b7034?s=128&d=identicon&r=PG&f=1", "display_name": "JBell", "link": "https://stackoverflow.com/users/7501070/jbell"}, "edited": false, "score": 0, "creation_date": 1521596661, "post_id": 49289636, "comment_id": 85795452, "body": "The line of : question1 = q.get(&#39;question1&#39;)"}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "reply_to_user": {"reputation": 25, "user_id": 7501070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093cac1dd5b131f8a9fca8183b4b7034?s=128&d=identicon&r=PG&f=1", "display_name": "JBell", "link": "https://stackoverflow.com/users/7501070/jbell"}, "edited": false, "score": 0, "creation_date": 1521599541, "post_id": 49289636, "comment_id": 85796164, "body": "Then whatever is in <code>q</code> is wrong. Do you still have <code>q=(question_data)</code> and did you put <code>question_data</code> in the form I put in my question? differences there are the only explanation for why it works for me and not for you."}, {"owner": {"reputation": 25, "user_id": 7501070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093cac1dd5b131f8a9fca8183b4b7034?s=128&d=identicon&r=PG&f=1", "display_name": "JBell", "link": "https://stackoverflow.com/users/7501070/jbell"}, "edited": false, "score": 0, "creation_date": 1521628021, "post_id": 49289636, "comment_id": 85808561, "body": "Yes i changed it. Then i added <code>for q in question_data:</code> to above the getting the dictonary, but if i dont add that i get the same error but worse."}], "tags": [], "owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "is_accepted": true, "score": 1, "last_activity_date": 1521589519, "last_edit_date": 1521589519, "creation_date": 1521073010, "answer_id": 49289636, "question_id": 49288618, "link": "https://stackoverflow.com/questions/49288618/trouble-with-python-with-sqlite/49289636#49289636", "title": "Trouble with Python with (SQLite)", "body": "<p>The line <code>q = (question_data)</code> is equivalent to <code>q = question_data</code>.</p>\n\n<p>Now <code>q</code>/<code>question_data</code> is a list, but you are treating it is a dictionary when you call <code>q.get()</code> (which is where the error message occurs). The simplest solution is to change you dataformat to a dictionary, like this:</p>\n\n<pre><code>question_data = {\n    \"question1\": {\n        \"question\": \"Have you consumed Alcoholic drinks in the last 24 hours?t\",\n        \"choices\": {\"a\": \"Yes\", \"b\": \"No\"},\n        \"answer\": \"a\"\n    },\n    \"question2\":{\n        \"question\": \"Another Question\",\n        \"choices\": {\"a\": \"choice 1\", \"b\": \"choice 2\", \"c\": \"choice 3\"},\n    }\n}\n</code></pre>\n\n<p>Then you can do something like:</p>\n\n<pre><code># get the dictionary for question 1 from the dictionary of questions\nquestion1 = q.get('question1')\n# print the question\nprint(question1.get('question'))\n# use the question 1 choices to get an answer\nanswer = input(question1.get('choices')).lower()\n\n# check if answer is in the list of options (uses dictionary keys a/b/etc)\n# swap to .values() if you want to compare to list of values (\"like yes/no\")\nif answer == question1.get('answer'):\n    ...\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7501070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093cac1dd5b131f8a9fca8183b4b7034?s=128&d=identicon&r=PG&f=1", "display_name": "JBell", "link": "https://stackoverflow.com/users/7501070/jbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 49289636, "answer_count": 2, "score": 0, "last_activity_date": 1521589519, "creation_date": 1521066445, "last_edit_date": 1521072574, "question_id": 49288618, "link": "https://stackoverflow.com/questions/49288618/trouble-with-python-with-sqlite", "title": "Trouble with Python with (SQLite)", "body": "<p>I have the following: </p>\n\n<pre><code>import sqlite3\n\n# connecting to the database \nconn = sqlite3.connect(\"illness.db\")\n\nquestion_data = [\n{\n    \"question1\": \"Have you consumed Alcoholic drinks in the last 24 hours?t\",\n    \"choices\": {\"a\": \"Yes\", \"b\": \"No\"},\n    \"answer\": \"a\"\n},\n{\n    \"question2\": \"Another Question\",\n    \"choices\": {\"a\": \"choice 1\", \"b\": \"choice 2\", \"c\": \"choice 3\"},\n}\n]\n\nq = (question_data)\n\nprint(q.get('question1'))\nanswer = input(q.get('choices')).lower()\n\nif answer == q.get('answer'):\n    c = conn.execute(\"SELECT illnessID, illness, illnessinfo from illnesses WHERE illness = 'Alcohol Misuse'\")\nelse:\n    print(\"Okay Next question.\")\n</code></pre>\n\n<p>This corresponds to:</p>\n\n<pre><code>def create_table():\n    c.execute(\"CREATE TABLE IF NOT EXISTS illnesses(illnessID PRIMARY KEY, illness VARCHAR(30), illnessinfo VARCHAR(50))\")\n    c.execute(\"CREATE TABLE IF NOT EXISTS symptoms(symptomID PRIMARY KEY, symptom VARCHAR(50))\")\n\ndef data_entry():\n    c.execute(\"INSERT INTO illnesses(illnessID, illness , illnessinfo) VALUES(1,'Flu','Influenza - Common Cold.')\")\n    c.execute(\"INSERT INTO illnesses(illnessID, illness , illnessinfo) VALUES(2,'Acne','Skin Condition')\")\n    c.execute(\"INSERT INTO illnesses(illnessID, illness , illnessinfo) VALUES(3,'Alcohol Misuse','Hangover')\")\n    c.execute(\"INSERT INTO symptoms (symptomID,symptom) VALUES(1,'Headache')\")\n    c.execute(\"INSERT INTO symptoms (symptomID,symptom) VALUES(2,'Spots')\")\n    c.execute(\"INSERT INTO symptoms (symptomID,symptom) VALUES(3,'Breathing problems')\")\n</code></pre>\n\n<p>So there I have a minimal DB and a form of a questionnaire which I'm trying to have questions relate to answers inside the DB which then tell me which illness it is then print that out into a text file. However I am new to all this and i'm trying to figure it all out and I'm honestly just really stuck and unsure where to go from here. Any help at all from this would be appreciated.</p>\n\n<p>EDIT: The error message I get is: <code>object has no attribute 'get'</code></p>\n"}, {"tags": ["python", "csv", "writing"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521066535, "post_id": 49288597, "comment_id": 85580416, "body": "Can you please do <code>for row in csv.reader(prizes):</code> then <code>print(row)</code> then <code>break</code> (i.e. so you get a printout of an example row after it&#39;s been processed by <code>csv.reader()</code> and then <code>break</code>) and give an example row? Presumably you want <code>1,000,000</code> to be read as <code>1000000</code> integer?"}, {"owner": {"reputation": 157, "user_id": 8827660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/235af2c595e0443071ce817ce91b2fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/8827660/sean"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521067568, "post_id": 49288597, "comment_id": 85580809, "body": "Hey I&#39;ve edited the original post to show an example of a printed row :D"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521067667, "post_id": 49288597, "comment_id": 85580841, "body": "Thanks for responding to my comment. However, @abanert has highlighted a number of issues that amount to a bit of a perfect storm - you dodge some bullets and hit others. It&#39;s worth taking time to address those one-by-one."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 8827660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/235af2c595e0443071ce817ce91b2fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/8827660/sean"}, "edited": false, "score": 0, "creation_date": 1521067946, "post_id": 49288668, "comment_id": 85580945, "body": "Hey thanks for the reply! Sorry I am quite new to using csv files and that with Python so I don&#39;t really understand how to fix these problems, like when you say I shouldn&#39;t use &quot;for row in csv.reader(prizes):&quot; I don&#39;t know of any other way to read data from a csv file"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 157, "user_id": 8827660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/235af2c595e0443071ce817ce91b2fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/8827660/sean"}, "edited": false, "score": 0, "creation_date": 1521068537, "post_id": 49288668, "comment_id": 85581119, "body": "@Sean But I didn&#39;t say you shouldn&#39;t use <code>for row in csv.reader(prizes):</code> anywhere."}, {"owner": {"reputation": 157, "user_id": 8827660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/235af2c595e0443071ce817ce91b2fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/8827660/sean"}, "edited": false, "score": 0, "creation_date": 1521069110, "post_id": 49288668, "comment_id": 85581278, "body": "I guess I just don&#39;t understand how to fix these issues that have been highlighted"}, {"owner": {"reputation": 157, "user_id": 8827660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/235af2c595e0443071ce817ce91b2fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/8827660/sean"}, "edited": false, "score": 0, "creation_date": 1521069285, "post_id": 49288668, "comment_id": 85581338, "body": "I have tried multiple ways to try and read in the column with the desired data however, I can&#39;t figure out how to read in only that column and the data as an integer as oppose to a string, I have edited my original post to show something else I have tried"}, {"owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "edited": false, "score": 0, "creation_date": 1521069716, "post_id": 49288668, "comment_id": 85581467, "body": "This &quot;quick &amp; dirty solution&quot; is nice in theory, but dangerous in practice. How do you know which locale was used for the file? It&#39;s certainly not &quot;guaranteed to be en_US&quot;. Especially if that machine is a publicly accessible server. Why not give the user the power to choose?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "edited": false, "score": 0, "creation_date": 1521070081, "post_id": 49288668, "comment_id": 85581582, "body": "@PeterGibson There\u2019s no getting around the fact that you can\u2019t parse your data if you don\u2019t know the format. A quick&amp;dirty solution can be useful for interactively experimenting to figure out the format if you don\u2019t have a spec, and it can be the right solution once you know the format and know it will work. Trying to write code that will work for any data in the universe just means you get code that won\u2019t work for anything, except very rarely by accident. This particular file is guaranteed to be en_US, at least as much as it\u2019s guaranteed to be these 3 columns; beyond this file, who knows?"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 3, "last_activity_date": 1521066666, "creation_date": 1521066666, "answer_id": 49288668, "question_id": 49288597, "link": "https://stackoverflow.com/questions/49288597/reading-from-csv-file-as-an-integer/49288668#49288668", "title": "Reading from csv file as an integer", "body": "<p>You've got multiple problems here.</p>\n\n<ul>\n<li>In your comprehension, you do <code>for row in prizes</code>. Since <code>prizes</code> is the file object, this consumes all of the remaining lines in the file, while you're processing the first row.</li>\n<li>The same thing also hides the <code>row</code> from the <code>csv.reader</code>.</li>\n<li>You're then <code>split</code>ing each <code>row</code>. If you did the <code>csv.reader</code> part right, the row would be a list, not a string, so there'd be nothing to split.</li>\n<li>Your CSV header appears to be two lines long. You don't skip the header. You're kind of getting lucky that the first error cancels this one out, so you never end up trying to process the header as an int. </li>\n<li>Then, finally, you'll get to the point where you try to call <code>int</code> on <code>1,000,000</code>. This one is pretty easy to solve. For a quick&amp;dirty solution, you can just do <code>int(s.replace(',', '')</code>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521068981, "post_id": 49288743, "comment_id": 85581237, "body": "This is nice in theory, but rarely useful in practice. How do you know which locale to use for the file? It&#39;s certainly not &quot;the locale for whatever machine this script happens to be running on&quot;. Especially if that machine is a Windows, Mac, typical linux cloud server, or typical linux container US-English system, where <code>en_US</code> won&#39;t be set so <code>locale.atoi</code> will just fall back to calling <code>int</code>."}], "tags": [], "owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "is_accepted": false, "score": 0, "last_activity_date": 1521067085, "creation_date": 1521067085, "answer_id": 49288743, "question_id": 49288597, "link": "https://stackoverflow.com/questions/49288597/reading-from-csv-file-as-an-integer/49288743#49288743", "title": "Reading from csv file as an integer", "body": "<p>Consider using the <code>locale</code> module when parsing the number - this will help if you run into the problem where some regions switch the thousands and decimal separator</p>\n\n<p><a href=\"https://stackoverflow.com/a/2954231/66349\">https://stackoverflow.com/a/2954231/66349</a></p>\n"}], "owner": {"reputation": 157, "user_id": 8827660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/235af2c595e0443071ce817ce91b2fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/8827660/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1606, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521069197, "creation_date": 1521066310, "last_edit_date": 1521069197, "question_id": 49288597, "link": "https://stackoverflow.com/questions/49288597/reading-from-csv-file-as-an-integer", "title": "Reading from csv file as an integer", "body": "<p>I am having a bit of trouble reading in data from a csv file as an integer, below is an example of my csv file:</p>\n\n<pre><code>Col1    Col2    Col3\nHeader  Header  Header\nHeader  1       1,000,000\nBLANK   2       500,000\nBLANK   3       200,000\n</code></pre>\n\n<p>What I am wanting to do is read in the data from 'Col3' (not including the header) as integers into a tuple, below is my code:</p>\n\n<pre><code>import csv\nprizePoints = []\nwith open(\"csvfile.csv\") as prizes:\n    next(prizes)\n    for row in prizes:\n        prizePoints.append(row)\n</code></pre>\n\n<p>When I try this, I get an error that says:</p>\n\n<pre><code>ValueError: invalid literal for int() with base 10: '\"1'\n</code></pre>\n\n<p>Example of printed row:</p>\n\n<pre><code>['', '1', '1,000,000']    \n</code></pre>\n\n<p>I think it is to due to the values in 'Col3' having commas however, I am unsure of how to fix this so any help would be greatly appreciated! (P.S. I can't change the the format of the cells for 'Col3' so that they do not have commas). </p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 9606, "user_id": 5012099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a24d87840141459cef20b2877bcd9bc?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingTeller", "link": "https://stackoverflow.com/users/5012099/flyingteller"}, "edited": false, "score": 0, "creation_date": 1521066673, "post_id": 49288580, "comment_id": 85580457, "body": "Read up on capture groups"}], "answers": [{"tags": [], "owner": {"reputation": 855, "user_id": 6511194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YW3XjPQkxbI/AAAAAAAAAAI/AAAAAAAAGz0/bgQjr-2oFHg/photo.jpg?sz=128", "display_name": "Evan Nowak", "link": "https://stackoverflow.com/users/6511194/evan-nowak"}, "is_accepted": false, "score": 1, "last_activity_date": 1521070718, "creation_date": 1521070718, "answer_id": 49289305, "question_id": 49288580, "link": "https://stackoverflow.com/questions/49288580/match-only-part-of-regex-expression-python/49289305#49289305", "title": "match only part of regex expression python", "body": "<p>Not sure if you meant \".function\" literally or as an example, but here it is either way:</p>\n\n<pre><code># literally function\nre.findall('w*(?=\\.function)', s)\n\n# function as example\nre.finall('\\w*(?=\\.\\w*)', s)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "is_accepted": false, "score": 1, "last_activity_date": 1521091411, "creation_date": 1521091411, "answer_id": 49292122, "question_id": 49288580, "link": "https://stackoverflow.com/questions/49288580/match-only-part-of-regex-expression-python/49292122#49292122", "title": "match only part of regex expression python", "body": "<p>That's called <code>Positive Lookahead</code></p>\n\n<p>Try this :</p>\n\n<pre><code>(\\w+)\\.(?=function)\n</code></pre>\n\n<p>In python:</p>\n\n<pre><code>import re\npattern=r'(\\w+)\\.(?=function)'\nstring1='match.function'\nprint(re.search(pattern,string1).group(1))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>match\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8332068, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10203604881398450/picture?type=large", "display_name": "Yaniv Haddad", "link": "https://stackoverflow.com/users/8332068/yaniv-haddad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1521091411, "creation_date": 1521066248, "question_id": 49288580, "link": "https://stackoverflow.com/questions/49288580/match-only-part-of-regex-expression-python", "title": "match only part of regex expression python", "body": "<p>I'm working with regex of python and I'm trying to get a match for what comes before a certain word. For example in the string \"match.function\" i'm only interested in the 'match'.</p>\n\n<p>how should i write the regex?</p>\n\n<p>thanks</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 849, "user_id": 3090356, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6tgVy.png?s=128&g=1", "display_name": "cbalos", "link": "https://stackoverflow.com/users/3090356/cbalos"}, "edited": false, "score": 0, "creation_date": 1521066386, "post_id": 49288559, "comment_id": 85580355, "body": "Can you post part of &#39;test.txt&#39;?"}, {"owner": {"reputation": 2384, "user_id": 9280994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/378f51f8fdf92e078e0fd52507fed62f?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan R", "link": "https://stackoverflow.com/users/9280994/jonathan-r"}, "edited": false, "score": 0, "creation_date": 1521066431, "post_id": 49288559, "comment_id": 85580380, "body": "Does each row of your .txt file have the same number of values?"}, {"owner": {"reputation": 537, "user_id": 9330173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e34444e3f1b1f61b338c86a7055d61e9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/9330173/will"}, "edited": false, "score": 0, "creation_date": 1521067459, "post_id": 49288559, "comment_id": 85580763, "body": "Updated to include some of the sample data, and yes all rows have the same number of values. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 9330173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e34444e3f1b1f61b338c86a7055d61e9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/9330173/will"}, "edited": false, "score": 0, "creation_date": 1521130520, "post_id": 49292710, "comment_id": 85610766, "body": "Interesting, given that matches my code and file I&#39;m stumped as to why this would be. It&#39;s like it&#39;s not ignoring that column for the sum command, but is when creating the data array...and when I sum on axis 0 it only has 10 columns it gives back. This is quite frustrating."}], "tags": [], "owner": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "is_accepted": false, "score": 0, "last_activity_date": 1521094696, "creation_date": 1521094696, "answer_id": 49292710, "question_id": 49288559, "link": "https://stackoverflow.com/questions/49288559/numpy-sum-rows-getting-strange-results/49292710#49292710", "title": "Numpy sum rows ... getting strange results", "body": "<p>Your code works fine for me...</p>\n\n<pre><code>import numpy as np\ndata = np.loadtxt('c:/temptemp/test.txt', usecols=range(1,11))\nsdata = np.asfarray(np.sum(data,axis=1))\nprint(data)\nprint(sdata)\n</code></pre>\n\n<p>returns </p>\n\n<pre><code>[ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  4.  4.  4.  4.  4.  4.  4.  8.]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "edited": false, "score": 0, "creation_date": 1521184537, "post_id": 49308814, "comment_id": 85631472, "body": "I am quite sure there is no bug in numpy as what you are trying to do is a very, very basic thing."}, {"owner": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "edited": false, "score": 0, "creation_date": 1521184689, "post_id": 49308814, "comment_id": 85631541, "body": "Please take a look at the first example at <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.h&zwnj;&#8203;tml</a> and use StringIO in combination with loadtxt to paste a complete example with some of your data to your question. <code>from io import StringIO   # StringIO behaves like a file object &gt;&gt;&gt; c = StringIO(&quot;0 1\\n2 3&quot;) &gt;&gt;&gt; np.loadtxt(c) array([[ 0.,  1.],        [ 2.,  3.]])</code>"}, {"owner": {"reputation": 537, "user_id": 9330173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e34444e3f1b1f61b338c86a7055d61e9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/9330173/will"}, "reply_to_user": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "edited": false, "score": 0, "creation_date": 1521248299, "post_id": 49308814, "comment_id": 85664882, "body": "I&#39;d agree Joe, but using a different array solved the issue. I&#39;ll investigat emore with a stringio object when I have some spare time. THanks."}], "tags": [], "owner": {"reputation": 537, "user_id": 9330173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e34444e3f1b1f61b338c86a7055d61e9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/9330173/will"}, "is_accepted": true, "score": 0, "last_activity_date": 1521146456, "creation_date": 1521146456, "answer_id": 49308814, "question_id": 49288559, "link": "https://stackoverflow.com/questions/49288559/numpy-sum-rows-getting-strange-results/49308814#49308814", "title": "Numpy sum rows ... getting strange results", "body": "<p>So after much mucking around I think that it's a strange bug or the like, possibly in numpy.</p>\n\n<p>This entire code is similar to other bits, all defined inside of functions, making the data variables local. If I make the load function and all other bits inside this function use some other array name instead of the data variable name then it produces the expected results. I've double checked and there's no global to override it anyways, so unsure why it's happening. Must be a fringe case.</p>\n\n<p>It also works if I just break out that one function into a completely separate file and run that code alone.</p>\n\n<p>So in short, anyone else having this or a similar odd issue, try using another array variable name that you haven't used at all, and it might just go away.</p>\n\n<p>Thanks everyone.</p>\n"}], "owner": {"reputation": 537, "user_id": 9330173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e34444e3f1b1f61b338c86a7055d61e9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/9330173/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 49308814, "answer_count": 2, "score": -1, "last_activity_date": 1521146456, "creation_date": 1521066161, "last_edit_date": 1521067435, "question_id": 49288559, "link": "https://stackoverflow.com/questions/49288559/numpy-sum-rows-getting-strange-results", "title": "Numpy sum rows ... getting strange results", "body": "<p>I'm trying to take a bunch of rows of effectively binary data, rows of 0s and 1s, and sum them. It's an array of around a million records loaded from text using numpy.loadtxt.</p>\n\n<pre><code>import numpy as np\ndata = np.loadtxt('test.txt')\nsdata = np.asfarray(np.sum(data,axis=1))\n</code></pre>\n\n<p>Problem is I'm getting nonsense results, I'm getting an array full of effectively what amounts to line numbers or something. I can print out an array and for instance the first three lines are [0,0,0,0,0,0,0,0,0,0]. But the first three \"sums\" in the sdata array read 0.0000000e+00, 1.000000e+01, 2.00000e+01. Which is clearly not the sums I'm looking for.</p>\n\n<p>If I use axis=0 I get sums of columns as I would expect, so I'm not sure what to do about this...any advice would be super. Thanks!</p>\n\n<p>I'm using usecols=range(1,n) where I've already checked (and used) the length of lines previously. Here's a sample of the text file as requested.</p>\n\n<pre><code>0 0 0 0 0 0 0 0 0 0 0\n10 0 0 0 0 0 0 0 0 0 0\n20 0 0 0 0 0 0 0 0 0 0\n30 0 0 0 0 0 0 0 0 0 0\n40 0 0 0 0 0 0 0 0 0 0\n50 0 0 0 0 0 0 0 0 0 0\n60 0 0 0 0 0 0 0 0 0 0\n70 0 0 0 0 0 0 0 0 0 0\n80 0 0 0 0 0 0 0 0 0 0\n90 0 0 0 0 0 0 0 0 0 0\n100 0 0 0 0 0 0 0 0 0 0\n110 0 0 0 0 0 0 0 0 0 0\n120 1 1 1 1 0 0 0 0 0 0\n130 0 1 1 1 1 0 0 0 0 0\n140 0 1 1 1 1 0 0 0 0 0\n150 0 1 1 1 1 0 0 0 0 0\n160 0 1 1 1 1 0 0 0 0 0\n170 0 1 1 1 1 0 0 0 0 0\n180 0 1 1 1 1 0 0 0 0 0\n190 0 0 1 1 1 1 1 1 1 1\n</code></pre>\n\n<p>To me it looks suspiciously like it's using that first column to make the sums, however if I get it to print out data[0] for instance it prints out my ten 0s and nothing else, if I print data[1] it gives me another ten 0s, and no first column. Just as expected.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "missing-data", "pandas-groupby"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521066375, "post_id": 49288557, "comment_id": 85580352, "body": "What output are you expecting? Look at the dates in your index."}, {"owner": {"reputation": 97, "user_id": 9463464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Angel_M", "link": "https://stackoverflow.com/users/9463464/angel-m"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521066878, "post_id": 49288557, "comment_id": 85580539, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Thanks,  The index up to 10 days does exist for some of those dates . so for example if I look up to 10 days before 12/4/2015 I can see that there are  68 data point with nan value. I want all these dates backfilled."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521066963, "post_id": 49288557, "comment_id": 85580572, "body": "Maybe you want <code>df.resample(&#39;10D&#39;).bfill(limit=10)</code>."}, {"owner": {"reputation": 97, "user_id": 9463464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Angel_M", "link": "https://stackoverflow.com/users/9463464/angel-m"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521067275, "post_id": 49288557, "comment_id": 85580702, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05  I update the question to clarify. when I use <code>df.resample(&#39;10D&#39;).bfill(limit=10) </code> I get an empty data frame."}, {"owner": {"reputation": 97, "user_id": 9463464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Angel_M", "link": "https://stackoverflow.com/users/9463464/angel-m"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521067457, "post_id": 49288557, "comment_id": 85580762, "body": "I also tested  <code>df_filled=df.asfreq(freq=&#39;10D&#39;).fillna(method=&#39;bfill&#39;, limit=1).dropna(how=&#39;all&#39;).drop_duplicates(keep=&#39;last&#39;)</code> but still get an empty dataframe"}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 9463464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Angel_M", "link": "https://stackoverflow.com/users/9463464/angel-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1521068468, "creation_date": 1521068468, "answer_id": 49288981, "question_id": 49288557, "link": "https://stackoverflow.com/questions/49288557/pandas-backfilling-missig-data-and-keeping-the-index/49288981#49288981", "title": "Pandas: backfilling missig Data and keeping the index", "body": "<p>I found a solution that works: </p>\n\n<pre><code>df_filled=df.groupby(pd.Grouper(freq='10D')).fillna(method='bfill')\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 9463464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Angel_M", "link": "https://stackoverflow.com/users/9463464/angel-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521068468, "creation_date": 1521066150, "last_edit_date": 1592644375, "question_id": 49288557, "link": "https://stackoverflow.com/questions/49288557/pandas-backfilling-missig-data-and-keeping-the-index", "title": "Pandas: backfilling missig Data and keeping the index", "body": "<p>I have a dataset with many missing value the time interval is 5min, however, there are many missing timestamp as well.\nDataframe look like this:</p>\n<pre><code>Time                   A\n2000-01-01 00:00:00   NaN\n2010-01-01 00:00:00   NaN\n2015-01-01 00:00:00   NaN\n2015-12-01 00:00:00   NaN\n2015-12-01 12:40:00   NaN\n2015-12-01 12:45:00   NaN\n\n\ndf.dropna().head(6)\n\nTime                    A\n2015-12-04 11:50:00    1.0\n2016-04-11 16:15:00    1.0\n2016-04-11 16:25:00    1.0\n2016-04-29 22:05:00    1.0\n2016-07-01 14:25:00    1.0\n2016-07-23 21:20:00    1.0\n</code></pre>\n<p>I want to back fill the missing values for 10 days without changing the index. I used this command but there is no change in the results.</p>\n<pre><code>#fill the missing data\ndf_filled=df.groupby(df.index).fillna(method='bfill', limit=12*240)\n\ndf_filled.dropna().head(6)\n\nTime                    A\n2015-12-04 11:50:00    1.0\n2016-04-11 16:15:00    1.0\n2016-04-11 16:25:00    1.0\n2016-04-29 22:05:00    1.0\n2016-07-01 14:25:00    1.0\n2016-07-23 21:20:00    1.0\n</code></pre>\n<p>I appreciate if any one can guide me.</p>\n<p>Thanks in advance.</p>\n<h1>Update:</h1>\n<p>a snapshot of one the values from df:</p>\n<pre><code>12/4/2015 11:15 NaN\n12/4/2015 11:20 NaN\n12/4/2015 11:25 NaN\n12/4/2015 11:30 NaN\n12/4/2015 11:35 NaN\n12/4/2015 11:40 NaN\n12/4/2015 11:45 NaN\n12/4/2015 11:50 1\n</code></pre>\n<p>What I want to backfill data up to 10 days so for the same data point it should be:</p>\n<pre><code>12/4/2015 11:15 1\n12/4/2015 11:20 1\n12/4/2015 11:25 1\n12/4/2015 11:30 1\n12/4/2015 11:35 1\n12/4/2015 11:40 1\n12/4/2015 11:45 1\n12/4/2015 11:50 1\n</code></pre>\n"}, {"tags": ["python", "html", "mysql", "validation", "flask"], "answers": [{"tags": [], "owner": {"reputation": 11928, "user_id": 322909, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/feoYE.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/322909/john"}, "is_accepted": true, "score": 0, "last_activity_date": 1521067045, "creation_date": 1521067045, "answer_id": 49288735, "question_id": 49288541, "link": "https://stackoverflow.com/questions/49288541/python-email-validation-on-the-same-page/49288735#49288735", "title": "Python Email validation on the same page", "body": "<p>Here's a minimum example to show you how it's done, the change you make is on the render_template line <code>render_template(\"index.html\", friends=friends)</code></p>\n\n<pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef index():\n    friends = [\n        {'name': 'alice', 'age': '7'},\n        {'name': 'bob', 'age': '13'},\n        {'name': 'eve', 'age': '42'}\n    ]\n    return render_template(\"index.html\", friends=friends)\n\nif __name__ == \"__main__\":\n\n    app.run(debug=True)\n</code></pre>\n\n<p>and the HTML</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n  &lt;title&gt;Friends&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name:&lt;/th&gt;\n            &lt;th&gt;Age:&lt;/th&gt;\n        &lt;/tr&gt;\n\n        {% for friend in friends %}\n        &lt;tr&gt;\n            &lt;td&gt;{{friend['name']}}&lt;td&gt;\n            &lt;td&gt;{{friend['age']}}&lt;td&gt;\n        &lt;/tr&gt;\n        {% endfor %}\n    &lt;/table&gt;\n\n&lt;/body&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9307643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a00f42dd39a821efad9569e22c29f13?s=128&d=identicon&r=PG&f=1", "display_name": "blake littleton", "link": "https://stackoverflow.com/users/9307643/blake-littleton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 49288735, "answer_count": 1, "score": -1, "last_activity_date": 1521067178, "creation_date": 1521066091, "last_edit_date": 1521067178, "question_id": 49288541, "link": "https://stackoverflow.com/questions/49288541/python-email-validation-on-the-same-page", "title": "Python Email validation on the same page", "body": "<p>I'm trying to make a simple email validation application. It only has to pages the index and the success  page that list all of the emails. There are three routes a index route, validation route and finally the success route that list the actual emails. here is my code:</p>\n\n<pre><code>from flask import Flask, request, redirect, render_template, session\nimport datetime\nfrom mysqlconnection import MySQLConnector\n\napp = Flask(__name__)\nmysql = MySQLConnector(app,'friendsdb')\n\n@app.route('/', methods=['POST','GET'])\ndef index():\n    if request.method=='GET':\n        return render_template('index.html')\n    elif request.method=='POST':\n        friends = mysql.query_db(\"SELECT * FROM friends\")\n        print friends\n        print request.form['first_name'],\n        print request.form['last_name'],\n        print request.form['Age']\n        return render_template('index.html')\n\n#@app.route('/delete/&lt;friend_id&gt;', methods=['POST'])\n#def delete(friend_id):\n    #query = \"DELETE FROM friends WHERE id = :id\"\n    #data = {'id': friend_id}\n    #mysql.query_db(query, data)\n    #return redirect('/')\n\napp.run(debug=True)\n</code></pre>\n\n<p>and my html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n  &lt;h1&gt;Friends&lt;/h1&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;form action=\"/\" methods=\"GET\"&gt;\n    &lt;table&gt;\n      &lt;th&gt;Name:&lt;/th&gt;\n      &lt;th&gt;Age:&lt;/th&gt;\n      &lt;th&gt;Friend Since:&lt;/th&gt;\n      {% for friends in all_friends: %}\n      &lt;tr&gt;ID:{{friends['id']}}&lt;/tr&gt;\n      &lt;tr&gt;First Name:{{friends['first_name']}}Last Name:{{friends['last_name']}}&lt;/tr&gt;\n      &lt;tr&gt;Age:{{friends['age']}}&lt;/tr&gt;\n      &lt;tr&gt;Date:{{friends['NOW();']}}&lt;/tr&gt;\n      &lt;tr&gt;&lt;form action=\"/delete\" method=\"POST\"&gt;\n        &lt;p&gt;Delete a friend&lt;/p&gt; &lt;input type=\"submit\"&gt;&lt;/tr&gt;\n      {%endfor%}\n  &lt;/form&gt;\n    &lt;/table&gt;\n\n    &lt;h1&gt;Add a Friend&lt;/h1&gt;\n  &lt;form action=\"/\" method=\"POST\"&gt;\n   &lt;p&gt;First Name:&lt;/p&gt;&lt;input type=\"text\" name=\"first_name\"&gt;\n   &lt;p&gt;Last Name:&lt;/p&gt;&lt;input type=\"text\" name=\"last_name\"&gt;\n   &lt;p&gt;Age&lt;/p&gt;&lt;input type=\"text\" name=\"age\"&gt;\n   &lt;input type=\"submit\"&gt;\n  &lt;/form&gt;\n\n\n  &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>im trying to input the data from the inputs to the table on top any suggestions?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1521066096, "post_id": 49288535, "comment_id": 85580246, "body": "Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1521066197, "post_id": 49288535, "comment_id": 85580278, "body": "Your given code requires an unspecified input sequence.  The code is hardly minimal.  Please update -- make it easy for us to help you."}, {"owner": {"reputation": 23, "user_id": 8791906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76beb546b6eead70e729163613e5339b?s=128&d=identicon&r=PG&f=1", "display_name": "SaKaMoToSaN15", "link": "https://stackoverflow.com/users/8791906/sakamotosan15"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1521067568, "post_id": 49288535, "comment_id": 85580807, "body": "I edited the code, here are the parts that connected to the problem"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1521068040, "post_id": 49288535, "comment_id": 85580972, "body": "That&#39;s a reasonable start; I look forward to getting the rest of your updates."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 9467861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z9AK5M1CknE/AAAAAAAAAAI/AAAAAAAAAK0/dsx922LE9kQ/photo.jpg?sz=128", "display_name": "Nick Chakraborty", "link": "https://stackoverflow.com/users/9467861/nick-chakraborty"}, "is_accepted": false, "score": 1, "last_activity_date": 1521076806, "creation_date": 1521076806, "answer_id": 49290102, "question_id": 49288535, "link": "https://stackoverflow.com/questions/49288535/list-elements-reamain-unchanged-after-being-returned-python/49290102#49290102", "title": "List elements reamain unchanged after being returned (python)", "body": "<p>The main problem is the program flow of <code>option_manue</code>. <code>option_manue</code> resets <code>product_list</code> to <code>[]</code>, an empty list, every time it runs. Because you call <code>option_manue</code> within itself, it resets <code>product_list</code> every time it runs any of your <code>option_1, option_2, option_3, ...</code> function. This is why none of your edits end up showing when you try to print <code>product_list</code>; the data is lost when the <code>option_manue</code> is called within itself.</p>\n\n<p>The way to fix this is to add to your main section of code (the section of code not within a function). Keep your <code>option_manue</code> function, but don't call it within itself. Instead, set up a loop in your main that calls <code>option_manue</code> as many times as necessary.</p>\n\n<p>Finally, unless you are purposely creating a recursive function, it is a good idea to avoid calling functions within themselves as this could have unexpected results.</p>\n\n<p>Hope this helped!</p>\n"}, {"tags": [], "owner": {"reputation": 12504, "user_id": 74861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gl688.jpg?s=128&g=1", "display_name": "Fraser", "link": "https://stackoverflow.com/users/74861/fraser"}, "is_accepted": false, "score": 0, "last_activity_date": 1521080932, "creation_date": 1521080932, "answer_id": 49290634, "question_id": 49288535, "link": "https://stackoverflow.com/questions/49288535/list-elements-reamain-unchanged-after-being-returned-python/49290634#49290634", "title": "List elements reamain unchanged after being returned (python)", "body": "<p>Just move the definition for <code>product_list</code> outside of the function <code>option_manue</code>. i.e. make it a global variable</p>\n\n<pre><code>product_list = []\n\ndef option_manue():\n  ...\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8791906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76beb546b6eead70e729163613e5339b?s=128&d=identicon&r=PG&f=1", "display_name": "SaKaMoToSaN15", "link": "https://stackoverflow.com/users/8791906/sakamotosan15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1521084314, "answer_count": 2, "score": -2, "last_activity_date": 1521080932, "creation_date": 1521066046, "last_edit_date": 1521072783, "question_id": 49288535, "link": "https://stackoverflow.com/questions/49288535/list-elements-reamain-unchanged-after-being-returned-python", "closed_reason": "Not suitable for this site", "title": "List elements reamain unchanged after being returned (python)", "body": "<pre><code>from os import system\n\ndef option_1(product_list):\n    \"\"\"\n    :function prints the inputed list.\n    :param product_list: inputed list.\n    :type product_list: list.\n    :return: none.\n    :rtype: none.\n    \"\"\"\n    print(product_list)\n\ndef option_5(product_list):\n    \"\"\"\n    :function takes user input and deleted the element with the same name in the list.\n    :param product_list: the inputed list.\n    :param user_input_product: user input.\n    :type product_list: list.\n    :type user_input_product: string.\n    :return: the list after changes.\n    :rtype: list.\n    \"\"\"\n    user_choice = str(input(\"Please Enter The Product You Want Tp Delete:\"))\n    product_list.remove(user_choice)\n    return product_list\n\ndef option_6(product_list):\n    \"\"\"\n    :function takes user input and addes it to the list as an element.\n    :param product_list: the inputed list.\n    :param user_input_product: user input.\n    :type product_list: list.\n    :type user_input_product: string.\n    :return: the list after changes.\n    :rtype: list.\n    \"\"\"\n    user_input_product = str(input(\"Please Enter The Name Of The Product You Want To Enter:\"))\n    product_list += [user_input_product]\n    return product_list\n\ndef option_8(product_list):\n    \"\"\"\n    :function deletes the duplicates in a list.\n    :param product_list: the inputed list.\n    :type product_list: list.\n    :return: the list after changes.\n    :rtype: list.\n    \"\"\"\n    product_list = set(product_list)\n    return product_list\n\ndef option_manue():\n    product_list = []\n    user_choice = int(input(\"Please Enter A Number Between 1 To 9:\"))\n    if user_choice == 1:\n        option_1(product_list)\n        option_manue()\n    elif user_choice == 5:\n        product_list = option_5(product_list)\n        option_manue()\n    elif user_choice == 6:\n        product_list = option_6(product_list)\n        option_manue()\n    elif user_choice == 8:\n        product_list = option_8(product_list)\n        option_manue()\ndef main():\n    option_manue()\nif __name__ == \"__main__\": \n    main()\nsystem(\"pause\")\n</code></pre>\n\n<hr>\n\n<p>This Code Takes User Input and Doing The Options According To User Input.\nThere Are 9 Options:\n1.prints the list.\n2.prints the lenght of the list.\n3.checks if an element is in the list.\n4.how much times a certain element is in the list.\n5.remove element from the list.\n6.add element to the list.\n7.delete illegal elements.\n8.remove duplicate.\n9.exit.\nMy Problem Is That The List Im Sending To Options 5,6,8 The Elements wont change even when im returning the list.\n(By The Way I KNOW I WROT manu in the wrong way, im going to change it after i`ll find my mistake in the code)</p>\n"}, {"tags": ["python", "list", "loops", "append", "combinations"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 5165294, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4498babb488b9f1b0eb5dd830df69474?s=128&d=identicon&r=PG&f=1", "display_name": "Zhonghao.Kevin Xie", "link": "https://stackoverflow.com/users/5165294/zhonghao-kevin-xie"}, "edited": false, "score": 0, "creation_date": 1521066498, "post_id": 49288575, "comment_id": 85580400, "body": "Your solution still requires me to know a and b, what if there is c, d, ,e in x as well?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 393, "user_id": 5165294, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4498babb488b9f1b0eb5dd830df69474?s=128&d=identicon&r=PG&f=1", "display_name": "Zhonghao.Kevin Xie", "link": "https://stackoverflow.com/users/5165294/zhonghao-kevin-xie"}, "edited": false, "score": 2, "creation_date": 1521066539, "post_id": 49288575, "comment_id": 85580420, "body": "@Zhonghao.KevinXie <code>product(*x)</code>, where <code>x = [a, b, c, ...]</code>"}, {"owner": {"reputation": 393, "user_id": 5165294, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4498babb488b9f1b0eb5dd830df69474?s=128&d=identicon&r=PG&f=1", "display_name": "Zhonghao.Kevin Xie", "link": "https://stackoverflow.com/users/5165294/zhonghao-kevin-xie"}, "edited": false, "score": 0, "creation_date": 1521066861, "post_id": 49288575, "comment_id": 85580532, "body": "Thanks, I ll approve your answer when it is allowed."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1521066582, "last_edit_date": 1521066582, "creation_date": 1521066230, "answer_id": 49288575, "question_id": 49288533, "link": "https://stackoverflow.com/questions/49288533/python-automatically-extract-list-index-in-and-append-data/49288575#49288575", "title": "Python automatically extract list index in and append data", "body": "<p>Generate pairwise products and flatten them using <code>itertools</code>' <code>product</code> and <code>chain</code> functions (respectively):</p>\n\n<pre><code>from itertools import chain, product    \nt = [list(chain.from_iterable(i)) for i in product(a, b)]\n</code></pre>\n\n<p></p>\n\n<pre><code>print(t)\n[[1, 2, 'a', 'b'],\n [1, 2, 'c', 'c'],\n [3, 4, 'a', 'b'],\n [3, 4, 'c', 'c'],\n [5, 6, 'a', 'b'],\n [5, 6, 'c', 'c']]\n</code></pre>\n\n<p>This solution will generalise to any number of lists:</p>\n\n<pre><code>x = [a, b, c, ...]\nt = [list(chain.from_iterable(i)) for i in product(*x)]\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 5165294, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4498babb488b9f1b0eb5dd830df69474?s=128&d=identicon&r=PG&f=1", "display_name": "Zhonghao.Kevin Xie", "link": "https://stackoverflow.com/users/5165294/zhonghao-kevin-xie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 49288575, "answer_count": 1, "score": 0, "last_activity_date": 1521066582, "creation_date": 1521066016, "last_edit_date": 1521066285, "question_id": 49288533, "link": "https://stackoverflow.com/questions/49288533/python-automatically-extract-list-index-in-and-append-data", "title": "Python automatically extract list index in and append data", "body": "<p>I don't know how to describe the problem. Given an example:</p>\n\n<pre><code>a=[[1,2],[3,4],[5,6]]\nb=[['a','b'],['c','c']]\nx=[a,b]\n</code></pre>\n\n<p>Now I want to append the elements of elements of <code>x</code> to their previous elements, (in this case <code>b</code>'s elements on every a's elements), that I can use</p>\n\n<pre><code>t=[]\nfor i in a:\n    for j in b:\n        t.append(i+j)\n</code></pre>\n\n<p>then  my desired result became:</p>\n\n<pre><code>t\n[[1, 2, 'a', 'b'],\n [1, 2, 'c', 'c'],\n [3, 4, 'a', 'b'],\n [3, 4, 'c', 'c'],\n [5, 6, 'a', 'b'],\n [5, 6, 'c', 'c']]\n</code></pre>\n\n<p>In this case I know there are <code>a</code> and <code>b</code> in x, so I can append them. However, if I don't know how many items in x, how could I append the elements?</p>\n\n<p>like <code>x=[a,b,c,d,e,...]</code></p>\n\n<p>Have tried with loops, but seems not good. I am thinking <code>combination</code> but not sure how to do that.</p>\n"}, {"tags": ["python", "encoding", "xgboost"], "answers": [{"tags": [], "owner": {"reputation": 1012, "user_id": 8610662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NW6qK.jpg?s=128&g=1", "display_name": "NLR", "link": "https://stackoverflow.com/users/8610662/nlr"}, "is_accepted": true, "score": 1, "last_activity_date": 1522439978, "creation_date": 1522439978, "answer_id": 49580678, "question_id": 49288515, "link": "https://stackoverflow.com/questions/49288515/xgboost-feature-importance-how-do-i-get-original-variable-names-after-encoding/49580678#49580678", "title": "XGBoost feature importance: How do I get original variable names after encoding", "body": "<p>I used DictVectorizer instead and it fixed the problem:</p>\n\n<pre><code>X, y = df.iloc[:,:-1], df.iloc[:,-1]\n\n# Import DictVectorizer\nfrom sklearn.feature_extraction import DictVectorizer\n\n# Convert df into a dictionary using .to_dict(): df_dict\ndf_dict = X.to_dict(\"records\")\n\n# Create the DictVectorizer object: dv\ndv = DictVectorizer(sparse=False)\n\n# Apply dv on df_dict: df_encoded\nX_encoded = dv.fit_transform(df_dict)\n\nX_encoded = pd.DataFrame(X_encoded)\n\nX_train, X_test, y_train, y_test= train_test_split(X_encoded, y, test_size=0.2, random_state=123)\n</code></pre>\n\n<p>Now fit the model and plot the feature importances:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8WqDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8WqDj.png\" alt=\"Feature Importance Plot\"></a></p>\n\n<p>Finally, you have to look up the names:</p>\n\n<pre><code># Use pprint to make the vocabulary easier to read\nimport pprint\npprint.pprint(dv.vocabulary_)\n</code></pre>\n\n<p>If anyone knows how to get the plot to use the dictionary vocabulary to look up the feature names and put them on the plot, I would greatly appreciate your input. </p>\n"}], "owner": {"reputation": 1012, "user_id": 8610662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NW6qK.jpg?s=128&g=1", "display_name": "NLR", "link": "https://stackoverflow.com/users/8610662/nlr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1962, "favorite_count": 1, "accepted_answer_id": 49580678, "answer_count": 1, "score": 2, "last_activity_date": 1522439978, "creation_date": 1521065925, "question_id": 49288515, "link": "https://stackoverflow.com/questions/49288515/xgboost-feature-importance-how-do-i-get-original-variable-names-after-encoding", "title": "XGBoost feature importance: How do I get original variable names after encoding", "body": "<p>I am using XGBoost classification following the guide from a DataCamp course. The data was treated as follows:</p>\n\n<pre><code>X, y = df.iloc[:,:-1], df.iloc[:,-1]\n\n# Create a boolean mask for categorical columns: check if df.dtypes == object\ncategorical_mask = (X.dtypes == object)\n\n# Get list of categorical column names\ncategorical_columns = X.columns[categorical_mask].tolist()\n\n# Create LabelEncoder object: le\nle = LabelEncoder()\n\n# Apply LabelEncoder to categorical columns\nX[categorical_columns] = X[categorical_columns].apply(lambda x: le.fit_transform(x))\n\n# Create OneHotEncoder: ohe\nohe = OneHotEncoder(categorical_features=categorical_mask, sparse=False)\n\n# Apply OneHotEncoder to categorical columns - output is no longer a dataframe: df_encoded is a NumPy array\nX_encoded = ohe.fit_transform(X)\n\ntesty = pd.DataFrame(X_encoded)\n\nX_train, X_test, y_train, y_test= train_test_split(testy, y, test_size=0.2, random_state=123)\n\nDM_train = xgb.DMatrix(X_train, label = y_train, )\nDM_test = xgb.DMatrix(X_test, label = y_test)\n</code></pre>\n\n<p>I tuned the hyperparameters with cross-validated grid search and I fit the models with the <code>x_train</code> and <code>y_train</code>.</p>\n\n<p>I fit the model with the tuned parameters and then created the Feature Importance Plot:</p>\n\n<pre><code>model.fit(X_train,y_train)\n\nxgb.plot_importance(model, importance_type = 'gain')\n</code></pre>\n\n<p>This is the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mAdT2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mAdT2.png\" alt=\"Feature Importance Plot\"></a></p>\n\n<p>How do I map these features back to the original data? I am confused because I used both <code>LabelEncoder()</code> and <code>OneHotEncoder()</code>.</p>\n\n<p>Any help is much appreciated. </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1521070003, "post_id": 49288438, "comment_id": 85581556, "body": "@jpp Thanks for marking, I had a hunch it was a dupe."}], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521065958, "post_id": 49288503, "comment_id": 85580194, "body": "Yes, but that isn&#39;t the only problem."}], "tags": [], "owner": {"reputation": 61, "user_id": 8214875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/325487624554205/picture?type=large", "display_name": "Emre", "link": "https://stackoverflow.com/users/8214875/emre"}, "is_accepted": false, "score": 0, "last_activity_date": 1521065878, "creation_date": 1521065878, "answer_id": 49288503, "question_id": 49288438, "link": "https://stackoverflow.com/questions/49288438/pandas-create-new-column-with-value-if-current-column-contains-any-string-in-a/49288503#49288503", "title": "Pandas: Create New Column with Value if Current Column Contains Any String in a List", "body": "<p>Have you read the error? Your variable name is not written correctly in the for loop. <code>ME_List</code> vs <code>ME_LIST</code>.</p>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 681, "favorite_count": 0, "closed_date": 1521067019, "answer_count": 1, "score": -1, "last_activity_date": 1521082667, "creation_date": 1521065524, "last_edit_date": 1521082667, "question_id": 49288438, "link": "https://stackoverflow.com/questions/49288438/pandas-create-new-column-with-value-if-current-column-contains-any-string-in-a", "closed_reason": "Duplicate", "title": "Pandas: Create New Column with Value if Current Column Contains Any String in a List", "body": "<p>I have the following sample dataframe.  \"PN\" is a string column.  </p>\n\n<pre><code>   ID   PN\n    A   1111\n    B   220\n    C   4422\n    D   1234\n    E   9890\n    F   1323\n</code></pre>\n\n<p>The logic I want to implement is: if the string value in PN is in a list ['1111', '1234', '2222', '3333', '4422'], then create a new column called \"GCS\" and label the corresponding cell value as \"PGC\".  Otherwise, label the cell as \"All\".    </p>\n\n<p>Below is the desired table I am looking for. </p>\n\n<pre><code>ID  PN      GCS\nA   1111    PGC\nB   220     ALL\nC   4422    PGC\nD   1234    PGC\nE   9890    ALL\nF   1323    ALL\n</code></pre>\n\n<p>Below is the code I tried: </p>\n\n<pre><code>ME_List = ['1111', '1234', '2222', '3333', '4422']\n\nfor i in ME_LIST: \n    df_EVENT5_22['GCS'] = np.where(df_EVENT5_22['PN'].str.contains([i]), 'PGC', 'All')\n</code></pre>\n\n<p>This is the error: </p>\n\n<pre><code>NameError: name 'ME_LIST' is not defined\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "matplotlib", "bounding-box", "fontmetrics"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1521068986, "post_id": 49288406, "comment_id": 85581239, "body": "The degree symbol typically displays above normal text, so the height being nearly the sum of both actually seems correct."}, {"owner": {"reputation": 4914, "user_id": 7549907, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29473460bbc1b265961d33279d837412?s=128&d=identicon&r=PG", "display_name": "tim-mccurrach", "link": "https://stackoverflow.com/users/7549907/tim-mccurrach"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1521069729, "post_id": 49288406, "comment_id": 85581470, "body": "I could understand, if it was a little bit higher, but it doesn&#39;t display that high up. Look at 12&#176; - the degree symbol looks to be at a very similar height to the top of the two. Plus the bounding box for just degree symbol indicates that it should be displayed between 390 and 676 units above the baseline. Am I misunderstanding something fundamental about the bounding box?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1521080675, "post_id": 49288406, "comment_id": 85584216, "body": "It&#39;s saying the height of the degree symbol box is 676 while the width is only 400. That clearly seems wrong, so I&#39;m going to guess it&#39;s an error in the font metric tables."}], "owner": {"reputation": 4914, "user_id": 7549907, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29473460bbc1b265961d33279d837412?s=128&d=identicon&r=PG", "display_name": "tim-mccurrach", "link": "https://stackoverflow.com/users/7549907/tim-mccurrach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1521068460, "creation_date": 1521065329, "last_edit_date": 1521068460, "question_id": 49288406, "link": "https://stackoverflow.com/questions/49288406/strange-behaviour-calculating-bounding-box-of-text-with-degrees-symbol", "title": "Strange behaviour calculating bounding box of text with degrees symbol", "body": "<p>I am using matplotlib's Adobe Font Metrics interface to calculate the bounding box of various strings. Calculating the bounding boxes for '12' and '\u00b0' works well, but when calculating the bounding box for '12\u00b0' the size of the box seems far too large. </p>\n\n<p>I understand that the dimensions of the bounding box isn't necessarily equal to the sum of the bounding boxes of its parts due to kerning and such like, however this just seems ridiculous. (It also doesn't seem to reflect the size of such text when it is rendered). </p>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>import os.path\nfrom matplotlib import rcParams\nfrom matplotlib.afm import AFM\n\nafm_fname = os.path.join(rcParams['datapath'],\n                         'fonts', 'afm', 'ptmr8a.afm')\nwith open(afm_fname, 'rb') as fh:\n    afm = AFM(fh)\n\nprint(afm.get_str_bbox('12'))\nprint(afm.get_str_bbox('\\u00B0'))\nprint(afm.get_str_bbox('12\\u00B0'))\n</code></pre>\n\n<p>(\\u00B0 is the unicode for \u00b0)</p>\n\n<p><strong>Results</strong></p>\n\n<pre><code>(0, 0, 1000.0, 676)\n(0, 390, 400.0, 676)\n(0, 0, 1400.0, 1066)\n</code></pre>\n\n<p>The height of the third result is clearly too large. \n1066 is 676 + 390, I don't know if this is a coincidence but I don't understand </p>\n\n<p><strong>Question's</strong></p>\n\n<p>Why is the bounding box so large / What is causing this behaviour?</p>\n\n<p>Is there a way to 'fix' this, so that I get a more representative bbox, to what the text actually looks like? </p>\n\n<p>(further info on bounding boxes is found here: <a href=\"https://wwwimages2.adobe.com/content/dam/acom/en/devnet/font/pdfs/5004.AFM_Spec.pdf\" rel=\"nofollow noreferrer\">https://wwwimages2.adobe.com/content/dam/acom/en/devnet/font/pdfs/5004.AFM_Spec.pdf</a> )</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Inspecting the AFM class in  matplotlib.afm in I think I have found the offending line. Underneath <code># find the max y</code> is <code>thismax = b + h</code>. I can't understand why <code>b+h</code> should be used there, and not just <code>h</code>????</p>\n\n<pre><code>def get_str_bbox_and_descent(self, s):\n    \"\"\"\n    Return the string bounding box\n    \"\"\"\n    if not len(s):\n        return 0, 0, 0, 0\n    totalw = 0\n    namelast = None\n    miny = 1e9\n    maxy = 0\n    left = 0\n    if not isinstance(s, six.text_type):\n        s = _to_str(s)\n    for c in s:\n        if c == '\\n':\n            continue\n        name = uni2type1.get(ord(c), 'question')\n        try:\n            wx, bbox = self._metrics_by_name[name]\n        except KeyError:\n            name = 'question'\n            wx, bbox = self._metrics_by_name[name]\n        l, b, w, h = bbox\n        if l &lt; left:\n            left = l\n        # find the width with kerning\n        try:\n            kp = self._kern[(namelast, name)]\n        except KeyError:\n            kp = 0\n        totalw += wx + kp\n\n        # find the max y\n        thismax = b + h\n        if thismax &gt; maxy:\n            maxy = thismax\n\n        # find the min y\n        thismin = b\n        if thismin &lt; miny:\n            miny = thismin\n        namelast = name\n\n    return left, miny, totalw, maxy - miny, -miny\n</code></pre>\n"}, {"tags": ["python", "list", "variables"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1521065478, "post_id": 49288384, "comment_id": 85579983, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. Your code won&#39;t run as posted, and you failed to provide the full error message."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1521065569, "post_id": 49288384, "comment_id": 85580028, "body": "Your question says &quot;\u2026 from a list loop&quot;. Well, that&#39;s exactly what you need here and haven&#39;t written: a loop over a list."}, {"owner": {"reputation": 23, "user_id": 7249782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9661ed5569bac02aa9554c30381fb4ac?s=128&d=identicon&r=PG&f=1", "display_name": "user7249782", "link": "https://stackoverflow.com/users/7249782/user7249782"}, "edited": false, "score": 0, "creation_date": 1521065926, "post_id": 49288384, "comment_id": 85580179, "body": "I pasted more code, I guess it&#39;s not possible?  if so i&#39;ll delete it..."}], "answers": [{"tags": [], "owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "is_accepted": true, "score": 1, "last_activity_date": 1521065815, "creation_date": 1521065815, "answer_id": 49288494, "question_id": 49288384, "link": "https://stackoverflow.com/questions/49288384/put-variable-in-quotes-from-a-list-loop/49288494#49288494", "title": "put variable in quotes from a list loop?", "body": "<p>It is probably easier (and efficient/Pythonic) to use a <code>for</code> loop to achieve this:</p>\n\n<pre><code>coin = [\"BTC\", \"NEO\", \"ETH\"]\n\nfor i in coin:\n    term = urllib.parse.quote(\"'\" + i + \"-BTC'\")\n    depth = client.get_order_book(term, limit=50)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7249782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9661ed5569bac02aa9554c30381fb4ac?s=128&d=identicon&r=PG&f=1", "display_name": "user7249782", "link": "https://stackoverflow.com/users/7249782/user7249782"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "closed_date": 1521073375, "accepted_answer_id": 49288494, "answer_count": 1, "score": -5, "last_activity_date": 1521065948, "creation_date": 1521065215, "last_edit_date": 1521065948, "question_id": 49288384, "link": "https://stackoverflow.com/questions/49288384/put-variable-in-quotes-from-a-list-loop", "closed_reason": "Needs details or clarity", "title": "put variable in quotes from a list loop?", "body": "<p>I am trying to loop through a list of coins using this code:</p>\n\n<pre><code>coin = [\"BTC\", \"NEO\", \"ETH\"]\n\n\nfor item in coin:\n    try:\n        term = urllib.parse.quote(\"'\" + coin + \"-BTC'\")\n        depth = client.get_order_book(term, limit=50)\n    except (KucoinAPIException, KucoinRequestException, KucoinResolutionException) as e:\n        print(e)\n        pass\n</code></pre>\n\n<p>and I receive the error:</p>\n\n<pre><code>TypeError: must be str, not list\n</code></pre>\n\n<p>What's the most efficient way to accomplish this?  Do I have to split up my list?  Thank you!</p>\n"}, {"tags": ["javascript", "python", "jquery", "ajax", "django"], "comments": [{"owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 2, "creation_date": 1521068666, "post_id": 49288352, "comment_id": 85581151, "body": "Change <code>data: {&#39;file&#39;: data}</code>, to <code>data: data</code>. I think that should fix it."}, {"owner": {"reputation": 319, "user_id": 5656921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e9cb0c98f1f2b981ee3beb9ca510d25f?s=128&d=identicon&r=PG&f=1", "display_name": "Rem", "link": "https://stackoverflow.com/users/5656921/rem"}, "reply_to_user": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 0, "creation_date": 1521069224, "post_id": 49288352, "comment_id": 85581320, "body": "that worked - thanks!"}], "owner": {"reputation": 319, "user_id": 5656921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e9cb0c98f1f2b981ee3beb9ca510d25f?s=128&d=identicon&r=PG&f=1", "display_name": "Rem", "link": "https://stackoverflow.com/users/5656921/rem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1654, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521068229, "creation_date": 1521065021, "last_edit_date": 1521068229, "question_id": 49288352, "link": "https://stackoverflow.com/questions/49288352/django-jquery-ajax-file-upload-no-file-in-post", "title": "Django Jquery/Ajax File Upload No File In POST", "body": "<p>i am trying to work on uploading a csv to a django app.  The issue that i'm having is I can't seem to pass the file and be able to access it with my view.  There are no errors</p>\n\n<p>form.py:</p>\n\n<pre><code>class FileUploadForm(forms.Form):\n   csv_file = forms.FileField()\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form action=\"{% url 'ajax-view' %}\" method=\"post\" \nenctype=\"multipart/form-data\" id=\"fileForm\"&gt;{% csrf_token %}\n{{ form.as_p }}\n&lt;input type=\"submit\" value=\"Upload\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>js file:</p>\n\n<pre><code>// i've tried to add this as well passing file and data to the ajax\n  var file;\n  $('#id_csv_file').on('change', function(){\n  file = event.target.files;\n});\n\n$('#fileForm').on('submit', function(e){\n  e.preventDefault();\n  var data = new FormData($('#fileForm').get(0));\n  data.append('file', $('#id_csv_file')[0].files);\n\n  var csrftoken = getCookie('csrftoken');\n\n$.ajax({\n      type: \"POST\",\n      headers: {'X-CSRFToken': csrftoken},\n      url: '/ajax/view',\n      data: {'file': data},\n      processData: false,\n      contentType: false,\n      dataType: \"json\",\n      success:function(data) {\n\n        // display the new data\n        console.log(data)\n\n      }\n  });\n</code></pre>\n\n<p>});</p>\n\n<p>My views are:</p>\n\n<pre><code>def view(request):\n    form = FileUploadForm()\n    return render(request, 'template.html', { 'form':form })\n\ndef ajax_view(request):\n    if request.method == \"POST\":\n      print request.POST\n      print request.FILES\n</code></pre>\n\n<p>the above prints just show: \n<code>\n&lt;QueryDict: {}&gt;\n&lt;MultiValueDict: {}&gt;\n</code></p>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 1526, "user_id": 6242649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3799dd24776a7842835b9a2aec3a9a05?s=128&d=identicon&r=PG", "display_name": "Udayraj Deshmukh", "link": "https://stackoverflow.com/users/6242649/udayraj-deshmukh"}, "edited": false, "score": 0, "creation_date": 1521065691, "post_id": 49288350, "comment_id": 85580086, "body": "What research have you done? If any, mention it in the question"}, {"owner": {"reputation": 493, "user_id": 9195600, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/23729e04ebdc9fe643fc4c24ad46c3ea?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed osama", "link": "https://stackoverflow.com/users/9195600/ahmed-osama"}, "reply_to_user": {"reputation": 1526, "user_id": 6242649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3799dd24776a7842835b9a2aec3a9a05?s=128&d=identicon&r=PG", "display_name": "Udayraj Deshmukh", "link": "https://stackoverflow.com/users/6242649/udayraj-deshmukh"}, "edited": false, "score": 0, "creation_date": 1521065831, "post_id": 49288350, "comment_id": 85580142, "body": "sure , will edit it and add the steps i have done for other also"}, {"owner": {"reputation": 493, "user_id": 9195600, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/23729e04ebdc9fe643fc4c24ad46c3ea?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed osama", "link": "https://stackoverflow.com/users/9195600/ahmed-osama"}, "reply_to_user": {"reputation": 1526, "user_id": 6242649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3799dd24776a7842835b9a2aec3a9a05?s=128&d=identicon&r=PG", "display_name": "Udayraj Deshmukh", "link": "https://stackoverflow.com/users/6242649/udayraj-deshmukh"}, "edited": false, "score": 0, "creation_date": 1521066356, "post_id": 49288350, "comment_id": 85580347, "body": "@UdayrajDeshmukh , edited the post. what I would like to understand here the best way to get a color cutting edge"}], "owner": {"reputation": 493, "user_id": 9195600, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/23729e04ebdc9fe643fc4c24ad46c3ea?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed osama", "link": "https://stackoverflow.com/users/9195600/ahmed-osama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521066702, "creation_date": 1521065015, "last_edit_date": 1521066702, "question_id": 49288350, "link": "https://stackoverflow.com/questions/49288350/cutting-an-images-at-the-boundary-of-gray-colour-using-opencv-and-python", "title": "cutting an images at the boundary of gray colour using opencv and python", "body": "<p>I would like to cut an image based on the boundary of a color </p>\n\n<p>As here I have an image, I would like to grab the part of the image that under the gray color i.e. just the T-shirt in this case <br> <a href=\"https://i.stack.imgur.com/0csBV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0csBV.png\" alt=\"enter image description here\"></a></p>\n\n<p><br>I would like also to neglect the hair on the top.</p>\n\n<p>what I have done  </p>\n\n<p>I have tried the upper and lower boundary to get the mask </p>\n\n<pre><code>def maskGen (lower, upper,frame):\n\n\n\n#frame = cv2.imread('queries\\\\cristiano_ronaldo.png',1)\n#frame = resize(frame, width = 400)\nconverted = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)\nMask = cv2.inRange(converted, lower, upper)\n\n# apply a series of erosions and dilations to the mask\n# using an elliptical kernel\nkernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (11, 11))\nMask = cv2.erode(Mask, kernel, iterations = 1)\nMask = cv2.dilate(Mask, kernel, iterations = 2)\n\n\n\n# blur the mask to help remove noise, then apply the\n# mask to the frame\nMask = cv2.GaussianBlur(Mask, (3, 3), 0)\n\nreturn Mask\n</code></pre>\n\n<p>calling the function using the boundaries from </p>\n\n<pre><code>lower = np.array([240,240,220], dtype = \"uint8\")\n\nupper = np.array([247,243,242], dtype = \"uint8\")\n</code></pre>\n\n<p>but getting a black image.</p>\n"}, {"tags": ["python", "json", "python-3.x"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 2, "creation_date": 1521064836, "post_id": 49288285, "comment_id": 85579697, "body": "You&#39;re dumping the wrong thing: <code>json.dump(json_data, json_file)</code>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1521064923, "post_id": 49288285, "comment_id": 85579732, "body": "Nothing to explain, you were just dumping the wrong thing"}, {"owner": {"reputation": 2822, "user_id": 4603295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYo4w.jpg?s=128&g=1", "display_name": "Adriano", "link": "https://stackoverflow.com/users/4603295/adriano"}, "edited": false, "score": 1, "creation_date": 1521064928, "post_id": 49288285, "comment_id": 85579735, "body": "Is it because you are adding the data as a <code>list</code>, whereas the JSON data is more like a <code>dictionary</code>?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 2822, "user_id": 4603295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYo4w.jpg?s=128&g=1", "display_name": "Adriano", "link": "https://stackoverflow.com/users/4603295/adriano"}, "edited": false, "score": 0, "creation_date": 1521065214, "post_id": 49288285, "comment_id": 85579877, "body": "@Adriano There can be just as many lists as dictionaries in JSON, they just make accessing the data more cumbersome. But that doesn&#39;t in itself make them any less valid."}], "answers": [{"tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 3, "last_activity_date": 1521143305, "last_edit_date": 1521143305, "creation_date": 1521064850, "answer_id": 49288314, "question_id": 49288285, "link": "https://stackoverflow.com/questions/49288285/append-list-in-json-file-with-python/49288314#49288314", "title": "Append list in JSON file with Python", "body": "<p>You need to write the whole data dictionary, not just the list</p>\n\n<pre><code>with open('data/users.json', 'r') as json_file:\n    json_data = json.load(json_file)\n    json_data[\"users\"].append(name)\nwith open('data/users.json', 'w') as json_file:\n    json.dump(json_data, json_file)\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 6427986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94a3356db92d117bfd8c11d3e2d85016?s=128&d=identicon&r=PG&f=1", "display_name": "J. Jesper", "link": "https://stackoverflow.com/users/6427986/j-jesper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 49288314, "answer_count": 1, "score": 0, "last_activity_date": 1521143305, "creation_date": 1521064737, "last_edit_date": 1521067812, "question_id": 49288285, "link": "https://stackoverflow.com/questions/49288285/append-list-in-json-file-with-python", "title": "Append list in JSON file with Python", "body": "<p>I'm trying to append a list with new names in a json file.</p>\n\n<p>JSON structure:</p>\n\n<pre><code>{\n    \"users\": [\n        \"User1\",\n        \"User2\",\n        \"User3\"\n    ]\n}\n</code></pre>\n\n<p>I have tried this: </p>\n\n<pre><code>with open('data/users.json', 'r') as json_file:\n    json_data = json.load(json_file)\n    user_list = json_data[\"users\"]\n with open('data/users.json', 'w') as json_file:\n    user_list.append(name)\n    json.dump(user_list, json_file)\n</code></pre>\n\n<p>But it turns out like this:</p>\n\n<pre><code>[\"User1\", \"User2\", \"User3\", \"User4\"]\n</code></pre>\n\n<p>Why and how do I fix it?</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 1, "last_activity_date": 1521066949, "last_edit_date": 1521066949, "creation_date": 1521065815, "answer_id": 49288493, "question_id": 49288255, "link": "https://stackoverflow.com/questions/49288255/sqlalchemy-batch-insert-with-database-functions/49288493#49288493", "title": "SQLAlchemy batch insert with database functions", "body": "<p>This is covered in <a href=\"http://docs.sqlalchemy.org/en/latest/core/tutorial.html#inserts-updates-and-deletes\" rel=\"nofollow noreferrer\">\"Inserts, Updates and Deletes\"</a>:</p>\n\n<blockquote>\n  <p>However, if we wish to use explicitly targeted named parameters with composed expressions, we need to use the <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.bindparam\" rel=\"nofollow noreferrer\"><code>bindparam()</code></a> construct. </p>\n</blockquote>\n\n<p>Create the insert statement with the function call, but with <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.bindparam\" rel=\"nofollow noreferrer\"><code>bindparam()</code></a> constructs as arguments:</p>\n\n<pre><code>stmt = example_table.insert().\\\n    values(example_field=func.concat(bindparam('a'), bindparam('b')))\n\nconn.execute(stmt, [\n    {\"id\": 17, \"a\": \"foo\", \"b\": \"bar\"},\n    {\"id\": 18, \"a\": \"bar\", \"b\": \"baz\"}])\n</code></pre>\n\n<p>The <code>concat(:concat_1, :concat_2)</code> strings are (probably) the result of your DB-API driver converting the function expression objects to strings implicitly:</p>\n\n<pre><code>In [5]: str(func.concat(\"foo\", \"bar\"))\nOut[5]: 'concat(:concat_1, :concat_2)'\n</code></pre>\n\n<p>As a comparison <a href=\"http://initd.org/psycopg/\" rel=\"nofollow noreferrer\">psycopg2</a> errors out, because it doesn't know what to do with them.</p>\n"}], "owner": {"reputation": 2130, "user_id": 1705685, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/72d3b495a54d313812149f2a274b2a9d?s=128&d=identicon&r=PG", "display_name": "Beowulfenator", "link": "https://stackoverflow.com/users/1705685/beowulfenator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 0, "accepted_answer_id": 49288493, "answer_count": 1, "score": 1, "last_activity_date": 1521066949, "creation_date": 1521064581, "last_edit_date": 1521065801, "question_id": 49288255, "link": "https://stackoverflow.com/questions/49288255/sqlalchemy-batch-insert-with-database-functions", "title": "SQLAlchemy batch insert with database functions", "body": "<p>Is it possible to use database functions when inserting multiple values into a table using SQLAlchemy?</p>\n\n<p>If I insert a single row, the following code works fine:</p>\n\n<pre><code>conn.execute(\n    example_table.insert().values(\n        id=17,\n        example_field=db.func.concat(\"foo\", \"bar\")\n    )\n)\n</code></pre>\n\n<p>The field <code>example_field</code> contains the string <code>foobar</code>. However, trying to insert multiple rows this way produces unexpected results:</p>\n\n<pre><code>conn.execute(example_table.insert(), [{\n    \"id\": 17,\n    \"example_field\": db.func.concat(\"foo\", \"bar\")\n}, {\n    \"id\": 18,\n    \"example_field\": db.func.concat(\"bar\", \"baz\")\n}])\n</code></pre>\n\n<p>The field <code>example_field</code> is filled with the string <code>concat(:concat_1, :concat_2)</code>.</p>\n\n<p>What is the proper way to insert multiple rows into a table with functions?</p>\n"}, {"tags": ["python", "sqlalchemy"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 1, "creation_date": 1521064926, "post_id": 49288254, "comment_id": 85579734, "body": "If your database supports partial indexes, then yes: <a href=\"https://stackoverflow.com/questions/27976683/creating-partial-unique-index-with-sqlalchemy-on-postgres\" title=\"creating partial unique index with sqlalchemy on postgres\">stackoverflow.com/questions/27976683/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 561, "user_id": 3073859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UdWqS.png?s=128&g=1", "display_name": "ricekab", "link": "https://stackoverflow.com/users/3073859/ricekab"}, "is_accepted": false, "score": 1, "last_activity_date": 1521127233, "creation_date": 1521127233, "answer_id": 49303215, "question_id": 49288254, "link": "https://stackoverflow.com/questions/49288254/sqlachemy-uniqueconstraint-with-conditional/49303215#49303215", "title": "sqlachemy UniqueConstraint with conditional?", "body": "<p>So from what I understand you want the group (col1, col2, col3) to be unique only if col3 has the value 'ready'?</p>\n\n<p>I don't think that is possible using unique constraints. It could be done with a CheckConstraint, assuming your database supports it.</p>\n\n<p>You can read up on it <a href=\"http://docs.sqlalchemy.org/en/latest/core/constraints.html#check-constraint\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 18398, "user_id": 953553, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0c156e74c158d068b6308eb7b0e5eedc?s=128&d=identicon&r=PG", "display_name": "andilabs", "link": "https://stackoverflow.com/users/953553/andilabs"}, "edited": false, "score": 0, "creation_date": 1571151303, "post_id": 52733277, "comment_id": 103140443, "body": "can one via <code>Index</code> with <code>unique=True</code> enforce unique together like via using <code>UniqueConstraint </code>?"}], "tags": [], "owner": {"reputation": 1177, "user_id": 4564156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff0db7eb380f134a95557e70d57e582?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsenasm", "link": "https://stackoverflow.com/users/4564156/mohsenasm"}, "is_accepted": true, "score": 4, "last_activity_date": 1547729841, "last_edit_date": 1547729841, "creation_date": 1539149959, "answer_id": 52733277, "question_id": 49288254, "link": "https://stackoverflow.com/questions/49288254/sqlachemy-uniqueconstraint-with-conditional/52733277#52733277", "title": "sqlachemy UniqueConstraint with conditional?", "body": "<p>There is a full example on this <a href=\"https://www.johbo.com/2016/creating-a-partial-unique-index-with-sqlalchemy-in-postgresql.html\" rel=\"nofollow noreferrer\">link</a>:</p>\n\n<pre><code>class ExampleTable(Base):\n\n    __tablename__ = 'example_table'\n    __table_args__ = (\n        Index(\n            'ix_unique_primary_content',  # Index name\n            'object_type', 'object_id',  # Columns which are part of the index\n        unique=True,\n        postgresql_where=Column('is_primary')),  # The condition\n    )\n\n    id = Column(Integer, primary_key=True)\n    object_type = Column(Unicode(50))\n    object_id = Column(Integer)\n    is_primary = Column(Boolean)\n</code></pre>\n\n<p>so you can use something like this:</p>\n\n<pre><code>Index(\n    'col1', 'col2',  # Columns which are part of the index\n    unique=True,\n    postgresql_where=Column(\"col3='ready'\")),  # The condition\n</code></pre>\n"}], "owner": {"reputation": 778, "user_id": 2702043, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/FF8gH.png?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/2702043/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1569, "favorite_count": 0, "closed_date": 1552480848, "accepted_answer_id": 52733277, "answer_count": 2, "score": 4, "last_activity_date": 1547729841, "creation_date": 1521064571, "question_id": 49288254, "link": "https://stackoverflow.com/questions/49288254/sqlachemy-uniqueconstraint-with-conditional", "closed_reason": "Duplicate", "title": "sqlachemy UniqueConstraint with conditional?", "body": "<p>Is it possible to create a contraint on a table and specify a value on one or more of the columns? Condsider this example:</p>\n\n<pre><code>mytable = Table('mytable', meta,\n\n    # per-column anonymous unique constraint\n    Column('col1', Integer,),\n    Column('col2', Integer),\n    Column('col3', ENUM('ready', 'pass', 'fail'),\n\n    UniqueConstraint('col2', 'col2', 'col3', name='uix_1')\n    )\n</code></pre>\n\n<p>But I dont only want uniqueness when col3 is equal to something like a state of 'ready' (I WANT multiple success or failures).</p>\n\n<pre><code>    UniqueConstraint('col2', 'col2', 'col3 == ready', name='uix_1')\n</code></pre>\n\n<p>Is this possible in the sqlalchemy api?</p>\n"}, {"tags": ["python", "cython", "python-import"], "answers": [{"tags": [], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "is_accepted": true, "score": 1, "last_activity_date": 1521064225, "creation_date": 1521064225, "answer_id": 49288182, "question_id": 49288181, "link": "https://stackoverflow.com/questions/49288181/parent-module-not-loaded-for-cython-library/49288182#49288182", "title": "Parent module not loaded for Cython library", "body": "<p>In the process of trimming out all the unrelated code to post this question, I found the problem: the <code>__init__.py</code> file. As mentioned in <a href=\"https://stackoverflow.com/q/34653047/4794\">this question</a> and <a href=\"https://stackoverflow.com/q/31847561/4794\">this one</a>, an <code>__init__.py</code> file will make Cython compile the library into a subfolder. I didn't find those questions at first, because I was looking for my import error message, not the fact that the library was written to a subfolder.</p>\n\n<p>That's fine, because I didn't really need the <code>__init__.py</code> file. I think it was left over from an old version of the project. Deleting it solved the problem.</p>\n"}], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 49288182, "answer_count": 1, "score": 0, "last_activity_date": 1521064225, "creation_date": 1521064225, "question_id": 49288181, "link": "https://stackoverflow.com/questions/49288181/parent-module-not-loaded-for-cython-library", "title": "Parent module not loaded for Cython library", "body": "<p>I'm trying out Cython, and I wrote a small module to compile. However, when I compile it, the library is written to a subdirectory. Copying that library out of the subdirectory breaks the importing with this message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"driver.py\", line 1, in &lt;module&gt;\n    from sum_func import sum_func\n  File \"sum_func.pyx\", line 1, in init cython_fail.sum_func\n    from itertools import count\nSystemError: Parent module 'sum_func' not loaded, cannot perform relative import\n</code></pre>\n\n<p>Why is the import broken, or why is the library being written to a subdirectory in the first place?</p>\n\n<p>I posted the whole project to <a href=\"https://github.com/donkirkby/cython_fail\" rel=\"nofollow noreferrer\">GitHub</a>, but the module is pretty simple:</p>\n\n<pre><code># sum_func.pyx\nfrom itertools import count\n\ndef sum_func(x):\n    n = 0\n    for i in count():\n        n += i\n        if n &gt;= x:\n            return -i\n</code></pre>\n\n<p>The setup file is a straight copy from the tutorial:</p>\n\n<pre><code>from distutils.core import setup\nfrom Cython.Build import cythonize\n\nsetup(ext_modules=cythonize(\"sum_func.pyx\"))\n</code></pre>\n\n<p>The driver just calls the library module.</p>\n\n<pre><code>from sum_func import sum_func\n\nprint(sum_func(10))\nprint(sum_func(100))\nprint(sum_func(1000))\n</code></pre>\n\n<p>And the <code>__init__.py</code> file is empty.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521064454, "post_id": 49288164, "comment_id": 85579538, "body": "You need the change the data in it, or you&#39;ve changed the data and just need to get it to refresh its display?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521064543, "post_id": 49288164, "comment_id": 85579568, "body": "Or do you know how to do both of those, but you don&#39;t know how to trigger them to happen automatically when you add data to the database?"}, {"owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521065469, "post_id": 49288164, "comment_id": 85579980, "body": "yes I do both of them, but I have to restart the program to see the optionmenu updated with the new data, I need to refresh its display, it is already being updated when i add data to db , but need  to restart the GUI to see it changed for user"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521065743, "post_id": 49288164, "comment_id": 85580110, "body": "That response seems to be contradictory. You say you refresh its display, and then that you need to refresh its display. Can you just give us a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a> of code that demonstrates the problem, instead of trying to explain it? Also, you should edit your question to have all the information needed to answer it, not just reply in comments. People won&#39;t see the comments from the feed, search indexes won&#39;t see them either, etc."}, {"owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521066735, "post_id": 49288164, "comment_id": 85580489, "body": "Sorry for not adding enough information , i think it is better now"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521067358, "post_id": 49288164, "comment_id": 85580732, "body": "OK, so you&#39;re <i>not</i> changing the data in the option menu, and that&#39;s the part you need to know how to do. You can either manually <code>add_command</code> the new value to the option menu (assuming you want it to go to the end, or some other location you can specify), or you can clear it out, redo the select query, and add each value. So I think this is ultimately a dup of <a href=\"https://stackoverflow.com/questions/17580218/changing-the-options-of-a-optionmenu-when-clicking-a-button\">this question</a>. But if that doesn&#39;t help you, explain what I&#39;m missing."}, {"owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521104505, "post_id": 49288164, "comment_id": 85592424, "body": "@abarnert I couldn&#39;t manually <code>add_command</code> it still returns an error...info updated on the question itself"}, {"owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521130362, "post_id": 49288164, "comment_id": 85610662, "body": "redoing the select query worked. thank man :)"}], "owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1521067373, "answer_count": 0, "score": 0, "last_activity_date": 1521130267, "creation_date": 1521064131, "last_edit_date": 1521130267, "question_id": 49288164, "link": "https://stackoverflow.com/questions/49288164/trying-to-refresh-optionmenu-in-tkinter-when-am-back-to-root", "closed_reason": "Duplicate", "title": "Trying to refresh OptionMenu in tkinter when am back to root", "body": "<p>I have a <strong>OptionMenu</strong> widget in my root window, it takes the data from <strong>sqlite3</strong> database file\nWhen I add data to the file I need to make the <strong>OptionMenu</strong> refresh without the need to restart my the program. how to do it?</p>\n\n<p>The <strong>OptionMenu</strong> code :</p>\n\n<pre><code>    variable = StringVar(main_frame)\n    variable.set(\"\u0627\u062e\u062a\u0627\u0631 \u0627\u0644\u0641\u0626\u0629 \")  # default value\n\n    c.execute(\"SELECT category_name FROM categories\")\n    llist = c.fetchall()\n\n    cat_option = OptionMenu(main_frame, variable, *llist)\n    cat_option.config(width=45, bg='#4422ee', fg='white')\n    cat_option.grid(row=0, column=1, sticky=S, pady=10)\n</code></pre>\n\n<p>The entry filed where i take the new string from : </p>\n\n<pre><code>        new_categ = StringVar()\n        entry_cat = Entry(add_cat_frame, textvariable=new_categ)\n        entry_cat.config(width=50)\n        entry_cat.grid(row=1, column=1)\n</code></pre>\n\n<p>and here is the function that should change :</p>\n\n<pre><code>            def adding_new_cat():\n            nc = new_categ.get()\n            c.execute(\"CREATE TABLE IF NOT EXISTS categories(id INTEGER PRIMARY KEY AUTOINCREMENT, \"\n                      \"category_name TEXT NOT NULL )\")\n            c.execute(\"INSERT INTO categories (category_name) VALUES (?)\", (nc,))\n            conn.commit()\n</code></pre>\n\n<p>What happens that it really changes but I need to reopen my program to see changes appears ( the new item in the optionmenu ) , before restarting it shows the old list of values without the new added one </p>\n\n<hr>\n\n<p>Tried to add-command and used this code : </p>\n\n<pre><code>                # Reset var and delete all old options\n            variable.set('')\n            cat_option['menu'].delete(0, 'end')\n\n            # Insert list of new options (tk._setit hooks them up to var)\n            new_choices = llist # the list from db\n            for choice in new_choices:\n                cat_option['menu'].add_command(label=choice, command=Tk._setit(variable, choice))\n</code></pre>\n\n<p>and still, it gives me an error about the _setit att. </p>\n\n<pre><code>Exception in Tkinter callback\nTraceback (most recent call last):\nFile \"C:\\Python27\\lib\\lib-tk\\Tkinter.py\", line 1541, in __call__\nreturn self.func(*args)\nFile \"C:/python/warehouse/main.py\", line 328, in exit_add_cat\ncat_option['menu'].add_command(label=choice, command=Tk._setit(variable, \nchoice))\nAttributeError: class Tk has no attribute '_setit'\n</code></pre>\n\n<p>Please note that I tried using    <code>Tk._setit</code>  and <code>Tkinter._setit</code> and it still gives me the same error </p>\n\n<hr>\n\n<p><strong>SOLVED</strong> </p>\n\n<p>by redoing the select query and adding it to the button that should add or modify values in the optionmenu</p>\n\n<p>Added this code to the button</p>\n\n<pre><code>    c.execute(\"SELECT category_name FROM categories\")\nllist = c.fetchall()\n\ncat_option = OptionMenu(main_frame, variable, *llist)\ncat_option.config(width=45, bg='#4422ee', fg='white')\ncat_option.grid(row=0, column=1, sticky=S, pady=10)\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "split", "delimiter"], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 8917496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/289e090f63ea1c8a846dd1449a4d1b88?s=128&d=identicon&r=PG&f=1", "display_name": "scatter", "link": "https://stackoverflow.com/users/8917496/scatter"}, "edited": false, "score": 1, "creation_date": 1521064464, "post_id": 49288145, "comment_id": 85579541, "body": "Thanks @COLDSPEED Thanks so much. Haha One of those OMG moments, all that extra (attempted) problem solving when all I needed was a minus! it even worked without n=1. Cheers"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1521064497, "last_edit_date": 1521064497, "creation_date": 1521064028, "answer_id": 49288145, "question_id": 49288117, "link": "https://stackoverflow.com/questions/49288117/remove-everything-before-a-delimiter-when-not-all-cells-contain-that-delimiter/49288145#49288145", "title": "Remove everything before a delimiter when not all cells contain that delimiter", "body": "<p>Restrict the number of splits to <code>1</code> (required when the delimiter could occur more than once), and then use <code>str[-1]</code> instead of <code>str[1]</code>:</p>\n\n<pre><code>df   \n       timezone\n0  country/city\n1           foo\n2           bar\n\ndf['timezone'] = df['timezone'].str.split('/', n=1).str[-1]\ndf\n\n  timezone\n0     city\n1      foo\n2      bar\n</code></pre>\n\n<p><code>str[-1]</code> adequately handles those cases where there was nothing to split on.</p>\n"}], "owner": {"reputation": 146, "user_id": 8917496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/289e090f63ea1c8a846dd1449a4d1b88?s=128&d=identicon&r=PG&f=1", "display_name": "scatter", "link": "https://stackoverflow.com/users/8917496/scatter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 49288145, "answer_count": 1, "score": 1, "last_activity_date": 1521064497, "creation_date": 1521063900, "last_edit_date": 1521064272, "question_id": 49288117, "link": "https://stackoverflow.com/questions/49288117/remove-everything-before-a-delimiter-when-not-all-cells-contain-that-delimiter", "title": "Remove everything before a delimiter when not all cells contain that delimiter", "body": "<p>I have a dataframe with a 'timezone' column. Some of the entries are listed as 'country/city'. I want them to just be 'city'. There were similar questions on stackoverflow, from which I came up with the following. </p>\n\n<pre><code>df['timezone'] = df['timezone'].str.split('/').str[1]\n</code></pre>\n\n<p>However, this deleted the entries without a '/' in. So I tried various other adaptations but couldn't get any to work. </p>\n\n<p>Next I tried to construct a lambda function and use map, doing various adaptions of below, this didn't work either.</p>\n\n<pre><code>df['timezone'] = df['timezone'].map(lambda x: x.split('/').str[1]) \n\n#AttributeError: 'list' object has no attribute 'str'\n</code></pre>\n\n<p>Finally, I decided to write a loop, below. Python took a while working through it, I was hopeful, but in the end nothing seemed to happen.</p>\n\n<pre><code>x = df['timezone']\n\nfor entry in x.items() :\n    if x.str.contains('/') is True:\n        x.str.split('/').str[1] \n        update(x) \n    else:\n        pass\n</code></pre>\n\n<p>Any help or advice much appreciated, thanks.</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 47598, "user_id": 712995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c7ImO.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/712995/maxim"}, "edited": false, "score": 0, "creation_date": 1521092848, "post_id": 49288083, "comment_id": 85587204, "body": "See this question - <a href=\"https://stackoverflow.com/q/49114306/712995\">stackoverflow.com/q/49114306/712995</a>"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 8075619, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/32cb70f7f1fa80d224904f8487db2bdd?s=128&d=identicon&r=PG&f=1", "display_name": "ALeex", "link": "https://stackoverflow.com/users/8075619/aleex"}, "edited": false, "score": 0, "creation_date": 1521064173, "post_id": 49288131, "comment_id": 85579433, "body": "Is there any way to reset the value of the variable at the end of the loop?"}, {"owner": {"reputation": 912, "user_id": 8069325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745c2570cdce2331ea5ae3d40326c02b?s=128&d=identicon&r=PG&f=1", "display_name": "Matan Hugi", "link": "https://stackoverflow.com/users/8069325/matan-hugi"}, "reply_to_user": {"reputation": 167, "user_id": 8075619, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/32cb70f7f1fa80d224904f8487db2bdd?s=128&d=identicon&r=PG&f=1", "display_name": "ALeex", "link": "https://stackoverflow.com/users/8075619/aleex"}, "edited": false, "score": 0, "creation_date": 1521064268, "post_id": 49288131, "comment_id": 85579477, "body": "yes - for variable x: assign_op = x.assign(1) ;  sess.run(assign_op)"}, {"owner": {"reputation": 167, "user_id": 8075619, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/32cb70f7f1fa80d224904f8487db2bdd?s=128&d=identicon&r=PG&f=1", "display_name": "ALeex", "link": "https://stackoverflow.com/users/8075619/aleex"}, "edited": false, "score": 0, "creation_date": 1521065978, "post_id": 49288131, "comment_id": 85580205, "body": "Thank you so much for your answer, I just tried on it and there is still some problem, I added the code to my question if you could take a look at it."}], "tags": [], "owner": {"reputation": 912, "user_id": 8069325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745c2570cdce2331ea5ae3d40326c02b?s=128&d=identicon&r=PG&f=1", "display_name": "Matan Hugi", "link": "https://stackoverflow.com/users/8069325/matan-hugi"}, "is_accepted": false, "score": 0, "last_activity_date": 1521063985, "creation_date": 1521063985, "answer_id": 49288131, "question_id": 49288083, "link": "https://stackoverflow.com/questions/49288083/how-to-operate-on-tensors-in-a-loop-without-creating-more-node-in-tensorflow/49288131#49288131", "title": "How to operate on tensors in a loop without creating more node in TensorFlow", "body": "<p>If you're referring to nodes which are variables - you should use the tf.get_variable() method.\nfrom the <a href=\"https://www.tensorflow.org/api_docs/python/tf/get_variable\" rel=\"nofollow noreferrer\">official TensorFlow documentation</a>: \"Gets an existing variable with these parameters or create a new one\"</p>\n"}], "owner": {"reputation": 167, "user_id": 8075619, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/32cb70f7f1fa80d224904f8487db2bdd?s=128&d=identicon&r=PG&f=1", "display_name": "ALeex", "link": "https://stackoverflow.com/users/8075619/aleex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521065927, "creation_date": 1521063764, "last_edit_date": 1521065927, "question_id": 49288083, "link": "https://stackoverflow.com/questions/49288083/how-to-operate-on-tensors-in-a-loop-without-creating-more-node-in-tensorflow", "title": "How to operate on tensors in a loop without creating more node in TensorFlow", "body": "<p>I'm trying to do some operation on a tf node in two loops. However, TensorFlow tends to create more nodes to the graph in each iteration of the loop. Is there any way to do multiple operations on a tf node in a Python way, say without creating all the nodes but simply iterate through the loop and do operations?</p>\n\n<p>To give an example with the code below, it seems that TensorFlow creates all the node (xi, xj, and loss here) while going through the loop:</p>\n\n<pre><code>def get_marginal_loss(features, labels, threshold, margin):\nwith tf.variable_scope(\"marginal\", reuse=tf.AUTO_REUSE):\n    xi = tf.get_variable('xi', [], dtype=tf.float32, initializer=tf.constant_initializer(0), trainable=False)\n    xj = tf.get_variable('xj', [], dtype=tf.float32, initializer=tf.constant_initializer(0), trainable=False)\n    loss = tf.get_variable('marginalLoss', [], dtype=tf.float32, initializer=tf.constant_initializer(0), trainable=False)\nassign_op = loss.assign(0), xi.assign(0), xj.assign(0)\nfor i in range(batch_size):\n    for j in range(batch_size):\n        if i == j: break\n        xi = features[i] / tf.norm(features[i], ord=1)\n        xj = features[j] / tf.norm(features[j], ord=1)\n        print(xi)\n        print(xj)\n        dis = tf.norm(xi-xj, ord=2)**2\n        print(dis)\n        y = 1 if labels[i] == labels[j] else -1\n        loss = loss + tf.maximum(margin - y * (threshold - dis), 0)\nreturn loss / (batch_size*(batch_size - 1)), assign_op\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy", "matplotlib", "aws-lambda"], "comments": [{"owner": {"reputation": 676, "user_id": 2146559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCp0g.jpg?s=128&g=1", "display_name": "Deividi Silva", "link": "https://stackoverflow.com/users/2146559/deividi-silva"}, "edited": false, "score": 0, "creation_date": 1521076841, "post_id": 49288021, "comment_id": 85583301, "body": "On the AWS Lambda console, go to Actions &gt; Export function &gt; Download deployment package. Check if the multiarray module is part of the downloaded package. If not, make sure you have your deployment package when you upload look the same as your local environment."}, {"owner": {"reputation": 201, "user_id": 8907386, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gYSS4YfkNrU/AAAAAAAAAAI/AAAAAAAAAAo/z5hLDHdM2r0/photo.jpg?sz=128", "display_name": "Bas", "link": "https://stackoverflow.com/users/8907386/bas"}, "reply_to_user": {"reputation": 676, "user_id": 2146559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCp0g.jpg?s=128&g=1", "display_name": "Deividi Silva", "link": "https://stackoverflow.com/users/2146559/deividi-silva"}, "edited": false, "score": 0, "creation_date": 1521078221, "post_id": 49288021, "comment_id": 85583620, "body": "@DeividiSilva, thanks.... I did what you said and, indeed, it does look exactly the same (especially the numpy package which seems to be causing the problem). Is there anything I can do about it? Tks."}, {"owner": {"reputation": 676, "user_id": 2146559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCp0g.jpg?s=128&g=1", "display_name": "Deividi Silva", "link": "https://stackoverflow.com/users/2146559/deividi-silva"}, "edited": false, "score": 0, "creation_date": 1521138234, "post_id": 49288021, "comment_id": 85615538, "body": "Did you locally install numpy and then zip it into your package for deployment? Check out this document on creating the deployment package: <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/lambda-python-how-to-create-deployment-package.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/&hellip;</a>"}, {"owner": {"reputation": 201, "user_id": 8907386, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gYSS4YfkNrU/AAAAAAAAAAI/AAAAAAAAAAo/z5hLDHdM2r0/photo.jpg?sz=128", "display_name": "Bas", "link": "https://stackoverflow.com/users/8907386/bas"}, "reply_to_user": {"reputation": 676, "user_id": 2146559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCp0g.jpg?s=128&g=1", "display_name": "Deividi Silva", "link": "https://stackoverflow.com/users/2146559/deividi-silva"}, "edited": false, "score": 0, "creation_date": 1521144384, "post_id": 49288021, "comment_id": 85618715, "body": "yes off course we did..... we&#39;ve deployed much more complicated stuff on AWS Lambda (with lots of packages) using either cloudformation or SAM, so the issue is not there. Plus as mentioned earlier, the downloaded package looks EXACTLY like the one running locally ....."}, {"owner": {"reputation": 676, "user_id": 2146559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCp0g.jpg?s=128&g=1", "display_name": "Deividi Silva", "link": "https://stackoverflow.com/users/2146559/deividi-silva"}, "edited": false, "score": 0, "creation_date": 1521196955, "post_id": 49288021, "comment_id": 85638563, "body": "Check out this thread: <a href=\"https://github.com/numpy/numpy/issues/9272\" rel=\"nofollow noreferrer\">github.com/numpy/numpy/issues/9272</a> . Maybe the problem is with the python version being different in aws lambda."}, {"owner": {"reputation": 201, "user_id": 8907386, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gYSS4YfkNrU/AAAAAAAAAAI/AAAAAAAAAAo/z5hLDHdM2r0/photo.jpg?sz=128", "display_name": "Bas", "link": "https://stackoverflow.com/users/8907386/bas"}, "reply_to_user": {"reputation": 676, "user_id": 2146559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCp0g.jpg?s=128&g=1", "display_name": "Deividi Silva", "link": "https://stackoverflow.com/users/2146559/deividi-silva"}, "edited": false, "score": 0, "creation_date": 1521214483, "post_id": 49288021, "comment_id": 85650299, "body": "could very well be......I guess my only choice is to ask AWS team to solve it in this case."}], "owner": {"reputation": 201, "user_id": 8907386, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gYSS4YfkNrU/AAAAAAAAAAI/AAAAAAAAAAo/z5hLDHdM2r0/photo.jpg?sz=128", "display_name": "Bas", "link": "https://stackoverflow.com/users/8907386/bas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1104, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1521063454, "creation_date": 1521063454, "question_id": 49288021, "link": "https://stackoverflow.com/questions/49288021/numpy-not-working-with-aws-lambda", "title": "Numpy not working with AWS Lambda", "body": "<p>I am trying to create bar charts (using Matplotlib) to be saved in an AWS S3 bucket. It works perfectly from my laptop but when I upload the code to AWS Lambda (with the right packages installed) I get an error. Here is the code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom boto3 import Session\nimport io\n\nfrom datetime import date\n\nmonths = [date(2018, month, 1).strftime('%b') for month in range(1, 13)]\nfilename = 'barplot.png'\nBUCKET = 'my_bucket_name'\n\nimg_data = io.BytesIO()\n\ncounts = [\n    [606, 124, 759, 998, 234],\n    [762, 912, 639, 591, 135],\n    [492, 92, 119, 1131, 999],\n]\n\nplt.figure()\nplt.title('Fantastic Title Goes Here')\nplt.xlabel('Timeline')\nplt.ylabel('base count')\n\nx1 = [2.0, 4.0, 6.0, 8.0, 10.0]\nx2 = [x - 0.5 for x in x1]\nx3 = [x + 0.5 for x in x1]\n\nplt.xticks(x1, months)\n\nplt.bar(x3, counts[2], width=0.4, color=\"#ff0000\", label=\"Bar 3 Label\")\nplt.bar(x2, counts[1], width=0.4, color=\"#87CEEB\", label=\"Bar 2 Label\")\nplt.bar(x1, counts[0], width=0.4, color=\"#F4A460\", label=\"Bar 1 Label\")\n\nplt.legend()\n\nplt.axis([0.5, 25, 0, 1500])\n# NOTE saving to a file: plt.savefig(filename)\n\nplt.savefig(img_data, format='png')\nimg_data.seek(0)\n\n\ns3 = Session().client('s3')\n\nresponse = s3.put_object(Body=img_data, Bucket=BUCKET, ContentType='image/png',\n                         Key=filename, ACL='public-read')\n</code></pre>\n\n<p>I am getting the following error:\n<strong>ImportError: cannot import name 'multiarray'</strong></p>\n\n<p>Here's the error Traceback:</p>\n\n<pre><code>Traceback(most recent call last):\nFile \"/var/task/support_functions/catch_exceptions.py\", line 19, in wrapper\nreturn function(*args, **kwargs)\nFile \"/var/task/jokes/flow_jokes.py\", line 13, in get_joke\nimport support_functions.charts\nFile \"/var/task/support_functions/charts.py\", line 1, in &lt; module &gt;\nimport matplotlib.pyplot as plt\nFile \"/var/task/matplotlib/__init__.py\", line 127, in &lt; module &gt;\nfrom . import cbook\nFile \"/var/task/matplotlib/cbook/__init__.py\", line 35, in &lt; module &gt;\nimport numpy as np\nFile \"/var/task/numpy/__init__.py\", line 142, in &lt; module &gt;\nfrom . import add_newdocs\nFile \"/var/task/numpy/add_newdocs.py\", line 13, in &lt; module &gt;\nfrom numpy.lib import add_newdoc\nFile \"/var/task/numpy/lib/__init__.py\", line 8, in &lt; module &gt;\nfrom .type_check import *\nFile \"/var/task/numpy/lib/type_check.py\", line 11, in &lt; module &gt;\nimport numpy.core.numeric as _nx\nFile \"/var/task/numpy/core/__init__.py\", line 26, in &lt; module &gt;\nraise ImportError(msg)\nImportError:\nImporting the multiarray numpy extension module failed. Most\nlikely you are trying to import a failed build of numpy.\nIf you're working with a numpy git repo, try `git clean - xdf` (removes all\n                                                                files not under version control). Otherwise reinstall numpy.\n\nOriginal error was: cannot import name 'multiarray'\n</code></pre>\n\n<p>Obviously I tried to uninstall and reinstall numpy and matplotlib jointly and seperately several times with no success. </p>\n\n<p>Tks.</p>\n"}, {"tags": ["python", "numpy", "hdf5"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1521063703, "post_id": 49288016, "comment_id": 85579248, "body": "What&#39;s the time for <code>x=hdf5_file[&#39;col_1&#39;][...]</code>?  That is, simply loading one dataset."}, {"owner": {"reputation": 293, "user_id": 6878574, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2721dd31ca4fb59a161189cb5c7cca9a?s=128&d=identicon&r=PG&f=1", "display_name": "J0HN_TIT0R", "link": "https://stackoverflow.com/users/6878574/j0hn-tit0r"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1521065103, "post_id": 49288016, "comment_id": 85579823, "body": "According to <code>timeit.default_timer()</code>, only 1.6437843441963196e-06 seconds. That must mean that there&#39;s something wring with how I&#39;m building my array right?"}, {"owner": {"reputation": 293, "user_id": 6878574, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2721dd31ca4fb59a161189cb5c7cca9a?s=128&d=identicon&r=PG&f=1", "display_name": "J0HN_TIT0R", "link": "https://stackoverflow.com/users/6878574/j0hn-tit0r"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1521066230, "post_id": 49288016, "comment_id": 85580293, "body": "But if I do <code>x = np.array(hdf5_file[&#39;col_1&#39;])</code>, it&#39;s 20.615581781603396, and <code>x = np.array([hdf5_file[&#39;col_1&#39;], hdf5_file[&#39;col_1&#39;]])</code> doesn&#39;t seem like it will complete in a suitable runtime."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1521071026, "post_id": 49288016, "comment_id": 85581843, "body": "I&#39;d first load the 3 arrays.  What&#39;s the shape and dtype of each?  <code>np.array</code> loads them and then concatenates on a new initial axis.  You might want to delay that until after selecting the top 300."}, {"owner": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "edited": false, "score": 0, "creation_date": 1521103843, "post_id": 49288016, "comment_id": 85592016, "body": "How about RAM usage? (Are you running out of physical RAM)? Shape and Chunkshape of your dataset? Insufficent chunk-cache can lead even to slow sequential reading for example: <a href=\"https://stackoverflow.com/a/48446301/4045774\">stackoverflow.com/a/48446301/4045774</a>"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1521116147, "post_id": 49288016, "comment_id": 85600042, "body": "Provided it fits all easily in memory, <code>hdf5_arr = np.array([hdf5_file[&#39;col_1&#39;][:], hdf5_file[&#39;col_2&#39;][:], hdf5_file[&#39;col_3&#39;][:]])</code> will load the data as NumPy arrays directly and <i>then</i> process them. In some situations, indexing directly h5py datasets is slow and it is better to load the data in RAM."}], "owner": {"reputation": 293, "user_id": 6878574, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2721dd31ca4fb59a161189cb5c7cca9a?s=128&d=identicon&r=PG&f=1", "display_name": "J0HN_TIT0R", "link": "https://stackoverflow.com/users/6878574/j0hn-tit0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521063442, "creation_date": 1521063442, "question_id": 49288016, "link": "https://stackoverflow.com/questions/49288016/slow-runtime-when-converting-hdf5-file-datasets-into-a-three-dimensional-numpy", "title": "Slow runtime when converting HDF5 file datasets into a three -dimensional numpy array in Python", "body": "<p>I have a HDF5 file with three datasets; one containing names and the other two containing associated values. The datasets are large with almost 100,000,000 elements each. I'd like to print the top 300 name-value pairs to a file in tab-delimited format, however, I'm having an issue with implementing my solution.</p>\n\n<p>I want to combine the three datasets into a three-dimensional numpy array, so that I can sort the values by the second column and pull out the top 300 rows. However, my program doesn't appear to be able to construct the three-dimensional numpy array, at least not in a reasonable runtime. My code is seen below.</p>\n\n<pre><code>#!/usr/bin/env python3\n\n# Importing modules.\nimport h5py\nimport numpy as np\n\n# Creating path for HDF5 file.\nHDF5_PATH = ('/path/to/hdf5_file.hdf5')\n\n# Creating path for outfile.\nOUTFILE_PATH = ('/path/to/outfile.tsv')\n\n# Loading HDF5 file.\nhdf5_file = h5py.File(HDF5_PATH, 'r')\n\n# Getting 3D array of datasets.\nprint('Building array')\nhdf5_arr = np.array([hdf5_file['col_1'], hdf5_file['col_2'], hdf5_file['col_3']])\n\n# Getting top 300 rows by second column.\nprint('Getting top 300 values')\ntop_300_arr = hdf5_arr[np.argpartition(hdf5_arr, axis=1)]\n\n# Printing top 300 rows.\nprint('Printing top 300 values')\n    with open(OUTFILE_PATH, 'a') as outfile:\n        np.savetxt(outfile, top_300_arr, delimiter=\"\\t\", fmt='%s')\n</code></pre>\n\n<p>I've added print statements to monitor progress, and currently, my code prints out <code>Building array</code> and doesn't appear to progress for at least an hour. That would mean that my issues is with the line <code>hdf5_arr = np.array([hdf5_file['col_1'], hdf5_file['col_2'], hdf5_file['col_3']])</code>. Is there any way I can improve my code so that it can work in a suitable runtime?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 3, "creation_date": 1521063504, "post_id": 49287997, "comment_id": 85579164, "body": "You never actually <i>do</i> anything. I assume at the end of the file you want to call <code>main_interface()</code> to kick things off? All you did was define some functions"}, {"owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "edited": false, "score": 0, "creation_date": 1521063711, "post_id": 49287997, "comment_id": 85579254, "body": "See also: <code>if __name__ == &quot;__main__&quot;</code> as a python idiom for things to happen if the script is the primary script being invoked."}, {"owner": {"reputation": 1, "user_id": 9095377, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g76kTR1bFNM/AAAAAAAAAAI/AAAAAAAAAfY/Wx5GeGASO1A/photo.jpg?sz=128", "display_name": "Dillon Gere", "link": "https://stackoverflow.com/users/9095377/dillon-gere"}, "edited": false, "score": 0, "creation_date": 1521063852, "post_id": 49287997, "comment_id": 85585728, "body": "I would start with how you are prompting the user, and then look at how that raw input is being stored in <code>input()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1102, "user_id": 9363594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPexN.png?s=128&g=1", "display_name": "Lyxal", "link": "https://stackoverflow.com/users/9363594/lyxal"}, "is_accepted": false, "score": 2, "last_activity_date": 1521063938, "creation_date": 1521063938, "answer_id": 49288125, "question_id": 49287997, "link": "https://stackoverflow.com/questions/49287997/what-have-i-done-wrong-python-code-not-running/49288125#49288125", "title": "What Have I Done Wrong? | Python Code Not Running", "body": "<p>The reason why IDLE/Pycharm is not doing anything is because your code isn't doing anything. What I mean is that no functions are being called by your program - it's just a bunch of functions.</p>\n\n<p>To fix it, just call a function in your program (write this outside of a function).</p>\n\n<p>It's a simple mistake to make, but it is completely understandable given that you beginning python.</p>\n\n<p><br>\nBut also, I see that there is no <code>new_game()</code> function defined, which you call in the <code>main_interface()</code> function. Also, in the <code>audio_interface()</code> function, the <code>input()</code> function is returning a <code>str</code> not an <code>int</code>, so you would want to convert the result to an <code>int</code> like so:</p>\n\n<p><code>volume = int(input())</code></p>\n\n<p>Happy Learning!</p>\n"}, {"comments": [{"owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "edited": false, "score": 0, "creation_date": 1521074204, "post_id": 49288134, "comment_id": 85582688, "body": "he should change it to <code>loading_choose.title()</code> this will capitalise the first letter which is what the options are.."}], "tags": [], "owner": {"reputation": 82, "user_id": 2952903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad934f4ddb10016eaa4a816452a9caed?s=128&d=identicon&r=PG&f=1", "display_name": "user2952903", "link": "https://stackoverflow.com/users/2952903/user2952903"}, "is_accepted": false, "score": 0, "last_activity_date": 1521063994, "creation_date": 1521063994, "answer_id": 49288134, "question_id": 49287997, "link": "https://stackoverflow.com/questions/49287997/what-have-i-done-wrong-python-code-not-running/49288134#49288134", "title": "What Have I Done Wrong? | Python Code Not Running", "body": "<p>add </p>\n\n<pre><code>main_interface()\n</code></pre>\n\n<p>to end of script to run function main_interface.</p>\n\n<p>remove line <code>loading_choose = loading_choose.lower()</code>\nbecause it turns input text to lowercase and it won't mach any option.</p>\n"}], "owner": {"reputation": 19, "user_id": 9398528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61651a5ace40c87bf7672edde03fdff3?s=128&d=identicon&r=PG&f=1", "display_name": "Steelingsword94", "link": "https://stackoverflow.com/users/9398528/steelingsword94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1521100894, "answer_count": 2, "score": 0, "last_activity_date": 1521100885, "creation_date": 1521063360, "last_edit_date": 1521100885, "question_id": 49287997, "link": "https://stackoverflow.com/questions/49287997/what-have-i-done-wrong-python-code-not-running", "closed_reason": "Not suitable for this site", "title": "What Have I Done Wrong? | Python Code Not Running", "body": "<p>Why python code dose not seem to want to run and i have tried everything on IDLE it says \"RESTART\" and then the file name and on PyCharm it said's \"Process finished with exit code 0\" so i have no idea what I've done wrong.</p>\n\n<p>I would also like to add that if there is something stupid I've missed am sorry I've just started Python not to long ago and this is a starting project i wanted to make.</p>\n\n<p>Help would be well appreciated.</p>\n\n<pre><code>import time\nimport os\n\ndef main_interface():\n    print(\"Welcome to The Adventures!\")\n    print('''/nNew Game/nOptions/nExit''')\n    loading_choose = input()\n    loading_choose = loading_choose.lower()\n\n    if loading_choose == 'New Game':\n        new_game()\n\n    elif loading_choose == 'Options':\n        options()\n\n\ndef options():\n    print(\"Welcome To Options\")\n    time.sleep(1)\n    print(\"\\nGraphics\\nAudio\\nExit\")\n    options = input()\n    options.lower()\n\n    if options == 'Graphics':\n        graphic_interface()\n\n    elif options == 'Audio':\n        audio_interface()\n\n    elif options == 'Exit':\n        main_interface()\n\ndef graphic_interface():\n    print(\"What Graphics Would You Like?\")\n    print(\"\\nLow\\nMedium\\nHigh\")\n    graphics = input()\n    graphics = graphics.lower()\n\n    if graphics == 'Low':\n        print(\"Graphics Set To Low\")\n        options()\n\n    elif graphics == 'Medium':\n        print(\"Graphics Set To Medium\")\n        time.sleep(1)\n        options()\n\n    elif graphics == 'High':\n        print(\"Graphics Set To High\")\n        time.sleep(1)\n        options()\n\ndef audio_interface():\n    print(\"What Do You Want Your Volume To Be?\")\n    print(\"0-100\")\n    volume = input()\n\n    if volume &lt;100:\n        print(\"Volume Greater Then 100\")\n        time.sleep(1)\n        print(\"Try Again!\")\n        audio_interface()\n    else:\n        print(\"Volume Set To\"+volume)\n        options()\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 4159, "user_id": 8212173, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ApXfoDEeNA/AAAAAAAAAAI/AAAAAAAAADc/9wpTVfHMarU/photo.jpg?sz=128", "display_name": "amanb", "link": "https://stackoverflow.com/users/8212173/amanb"}, "edited": false, "score": 0, "creation_date": 1521063456, "post_id": 49287971, "comment_id": 85579137, "body": "where is the code? Please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete &amp; Verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 7002317, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e598840cda58dd3f0c1b4f08aaf07a4d?s=128&d=identicon&r=PG&f=1", "display_name": "bob", "link": "https://stackoverflow.com/users/7002317/bob"}, "edited": false, "score": 0, "creation_date": 1521094407, "post_id": 49288253, "comment_id": 85587756, "body": "Thanks for help...I really appreciate that"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1521064570, "creation_date": 1521064570, "answer_id": 49288253, "question_id": 49287971, "link": "https://stackoverflow.com/questions/49287971/sending-emails-to-subgroups-supergroups-nested-dictionaries/49288253#49288253", "title": "Sending emails to subgroups/supergroups - Nested dictionaries?", "body": "<p>You can parse the string with regex and group to create a list of nested dictionaries:</p>\n\n<pre><code>import re\ns = \"\"\"\nGroup1: it@group.foobar.com, Group1: it@group.foobar.com  \nGroup2: man@foobar.com, Group2: man@foobar.com  \nGroup3: xyz@foobar.com, test-grp: yz@foobar.com, grp-t: new@foobar.com, test-contract: new_g@foobar.com, grp0: ij@foobar.com, grp8: turu@foobar.com  \nGroup_test: iu@foobar.com, gvgrp: in@foobar.com, rsgrp: ij@foobar.com, dev: mp@foobar.com, rs: uru@foobar.com\n\"\"\"\nlistings = [re.findall('[a-zA-Z0-9\\-\\_]+(?=:\\s)|(?&lt;=:\\s)[a-zA-Z0-9@\\._]+', i) for i in filter(None, s.split('\\n'))]\nnew_groups = [{**{i[0]:i[1]}, **{'subgroups':dict([(i[2:][b], i[2:][b+1]) for b in range(0, len(i)-2, 2)])}} for i in listings]\ndef get_flattened_listing(d):\n   return [i for b in [[b] if not isinstance(b, dict) else get_flattened_listing(b) for a, b in d.items()] for i in b]\n\ndef send_email(structure, body='Testing new system'):\n   yield from ['To: {}\\n\\nBody: {}'.format(', '.join(get_flattened_listing(i)), body) for i in structure]\n\nfor message in send_email(new_groups):\n  print(message)\n  print('-'*10)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>To: it@group.foobar.com, it@group.foobar.com\n\nBody: Testing new system\n----------\nTo: man@foobar.com, man@foobar.com\n\nBody: Testing new system\n----------\nTo: xyz@foobar.com, yz@foobar.com, new@foobar.com, new_g@foobar.com, ij@foobar.com, turu@foobar.com\n\nBody: Testing new system\n----------\nTo: iu@foobar.com, in@foobar.com, ij@foobar.com, mp@foobar.com, uru@foobar.com\n\nBody: Testing new system\n----------\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7002317, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e598840cda58dd3f0c1b4f08aaf07a4d?s=128&d=identicon&r=PG&f=1", "display_name": "bob", "link": "https://stackoverflow.com/users/7002317/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521064570, "creation_date": 1521063197, "question_id": 49287971, "link": "https://stackoverflow.com/questions/49287971/sending-emails-to-subgroups-supergroups-nested-dictionaries", "title": "Sending emails to subgroups/supergroups - Nested dictionaries?", "body": "<p>I have the file with following records. This represents group'name:emailadd'</p>\n\n<pre><code>Group1: it@group.foobar.com, Group1: it@group.foobar.com  \nGroup2: man@foobar.com, Group2: man@foobar.com  \nGroup3: xyz@foobar.com, test-grp: yz@foobar.com, grp-t: new@foobar.com, test-contract: new_g@foobar.com, grp0: ij@foobar.com, grp8: turu@foobar.com  \nGroup_test: iu@foobar.com, gvgrp: in@foobar.com, rsgrp: ij@foobar.com, dev: mp@foobar.com, rs: uru@foobar.com  \n</code></pre>\n\n<p>Assume very first field:email is supergrpup and other is nested groups\nthat means </p>\n\n<p>Supegroups:</p>\n\n<pre><code>Group1: it@group.foobar.com  \nGroup2: man@foobar.com   \nGroup3: xyz@foobar.com  \nGroup_test: iu@foobar.com  \n</code></pre>\n\n<p>Subgroups:</p>\n\n<pre><code>Group1: it@group.foobar.com \nGroup2: man@foobar.com\ntest-grp: yz@foobar.com, grp-t: new@foobar.com, test-contract: new_g@foobar.com, grp0: ij@foobar.com, grp8: turu@foobar.com \ngvgrp: in@foobar.com, rsgrp: ij@foobar.com, dev: mp@foobar.com, rs: uru@foobar.com\n</code></pre>\n\n<p>Now I want to send email to these groups to address ( separated by ':')</p>\n\n<p>But the email should be send to supergroups and its respective subgroups</p>\n\n<p>Like for  line:  </p>\n\n<pre><code>  Group3: xyz@foobar.com, test-grp: yz@foobar.com, grp-t: new@foobar.com, test-contract: new_g@foobar.com, grp0: ij@foobar.com, grp8: turu@foobar.com \n</code></pre>\n\n<p>It should send email to supergroup email and all subgroups email address and use their  groupnames in body of email.</p>\n\n<hr>\n\n<pre><code>To: xyz@foobar.com, yz@foobar.com, new@foobar.com, new_g@foobar.com, \nij@foobar.com,  turu@foobar.com \n\nBody:\nFailed because of groupnames :  Group3, test-grp, grp-t, test-contract, \ngrp0, grp8 ---------&gt; These are all  group associated with email specified \nin \"To\":\n</code></pre>\n\n<p>I am not sure how I should do that? I was trying to create dictionaries but again its not working... </p>\n\n<p>It would be great help , if someone can have a look and help me out?</p>\n\n<p>Many thanks\nBob</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 1912, "user_id": 4691830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-lqbwtD6n1nc/AAAAAAAAAAI/AAAAAAAAABg/vE8KR-oSqqE/photo.jpg?sz=128", "display_name": "Joooeey", "link": "https://stackoverflow.com/users/4691830/joooeey"}, "edited": false, "score": 1, "creation_date": 1521063376, "post_id": 49287957, "comment_id": 85579097, "body": "what does xyz std away from the mean mean? std is the standard deviation or sample standard deviation? Which value are you even referring to? Sales or Refunds or what? What&#39;s the expected output? I assume it&#39;s not a DF with an extra empty column (like you show)?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521063477, "post_id": 49287957, "comment_id": 85579148, "body": "What is xyz? Can you explain a bit more? Away from the mean of what?"}, {"owner": {"reputation": 323, "user_id": 8963676, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b3cb23dd50cc20342e0338db7911b16?s=128&d=identicon&r=PG&f=1", "display_name": "aiden rosenblatt", "link": "https://stackoverflow.com/users/8963676/aiden-rosenblatt"}, "reply_to_user": {"reputation": 1912, "user_id": 4691830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-lqbwtD6n1nc/AAAAAAAAAAI/AAAAAAAAABg/vE8KR-oSqqE/photo.jpg?sz=128", "display_name": "Joooeey", "link": "https://stackoverflow.com/users/4691830/joooeey"}, "edited": false, "score": 0, "creation_date": 1521063479, "post_id": 49287957, "comment_id": 85579152, "body": "thanks for your comments @joooeey , i added an edit to the post"}], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1521063802, "creation_date": 1521063802, "answer_id": 49288095, "question_id": 49287957, "link": "https://stackoverflow.com/questions/49287957/filtering-results-for-std-away-from-the-mean/49288095#49288095", "title": "Filtering results for std away from the mean", "body": "<pre><code>def abs_z(s):\n    return s.sub(s.mean()).div(s.std(ddof=0)).abs()\n\ndf[abs_z(df.Sales_ct).ge(2)]\n\n   Cashier#  Store  Sales_ct  Refunds_ct\n2         3      1       900           8\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 3886071, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/0e0fe737a69237bfef844a55e2cf0294?s=128&d=identicon&r=PG&f=1", "display_name": "n3utrino", "link": "https://stackoverflow.com/users/3886071/n3utrino"}, "is_accepted": false, "score": 2, "last_activity_date": 1521063878, "creation_date": 1521063878, "answer_id": 49288111, "question_id": 49287957, "link": "https://stackoverflow.com/questions/49287957/filtering-results-for-std-away-from-the-mean/49288111#49288111", "title": "Filtering results for std away from the mean", "body": "<p>Can calculate the mean and std of the Sales_ct column with</p>\n\n<pre><code>sales_mean = np.mean(df.Sales_ct)\nsales_std = np.std(df.Sales_ct)\n</code></pre>\n\n<p>Then make a new column as you noted</p>\n\n<pre><code>df['sales_std_away_mean'] = np.abs((df.Sales_ct - sales_mean)/sales_std)\n</code></pre>\n\n<p>Then slice to select the rows above a threshold:</p>\n\n<pre><code>subdf = df[df.sales_std_away_mean &gt; 2.]\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 8963676, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b3cb23dd50cc20342e0338db7911b16?s=128&d=identicon&r=PG&f=1", "display_name": "aiden rosenblatt", "link": "https://stackoverflow.com/users/8963676/aiden-rosenblatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521063878, "creation_date": 1521063126, "last_edit_date": 1521063483, "question_id": 49287957, "link": "https://stackoverflow.com/questions/49287957/filtering-results-for-std-away-from-the-mean", "title": "Filtering results for std away from the mean", "body": "<p>I been trying to filter the results for std away from the mean in the most efficient manner</p>\n\n<p>DF</p>\n\n<pre><code> Cashier# Store Sales_ct Refunds_ct   \n 001      001   100      10\n 002      001   200      9\n 003      001   900      8\n 004      002   200      10\n 005      002   400      9 \n 006      002   200      8\n</code></pre>\n\n<p>How to get the results that are 2 std away from the mean to return</p>\n\n<pre><code> Cashier# Store Sales_ct Refunds_ct  sales_std_away_mean \n 003      001   900      8\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9258, "user_id": 5665870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQBw0.png?s=128&g=1", "display_name": "Sphinx", "link": "https://stackoverflow.com/users/5665870/sphinx"}, "edited": false, "score": 1, "creation_date": 1521062978, "post_id": 49287892, "comment_id": 85578924, "body": "check this <a href=\"http://python-textbok.readthedocs.io/en/1.0/Variables_and_Scope.html\" rel=\"nofollow noreferrer\">Variables and Scope</a>"}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1521064374, "last_edit_date": 1521064374, "creation_date": 1521063066, "answer_id": 49287940, "question_id": 49287892, "link": "https://stackoverflow.com/questions/49287892/python-user-defined-list-not-being-recognised-within-a-while-true-loop/49287940#49287940", "title": "Python user defined list not being recognised within a while true loop", "body": "<p>I'm not sure exactly what you mean by \"not being recognized\", but <code>our_list</code> is a local variable inside <code>main</code>, so it can't be used anywhere but inside <code>main</code>. </p>\n\n<p>So, if you try to use it elsewhere, you should get a <code>NameError</code>.</p>\n\n<p>If your code actually has a global variable with the same name as the local variable that we aren't seeing here, things can be more confusing\u2014you won't get a <code>NameError</code>, you'll get the value of the global variable, which isn't what you want.</p>\n\n<p>The best solution here is to return the value from the function, and then have the caller use the returned value. For example:</p>\n\n<pre><code>def main():\n    our_list = []\n    ne = int(input('How many numbers do you wish to enter?  '))\n    for i in range(0, (ne)): # set up loop to run user specified number of time\n        number=int(input('Choose a number:-  '))\n        our_list.append(number) # append to our_list\n    print ('The list of numbers you have entered is ') \n    print (our_list) \n    return our_list\n\nthe_list = main()\n\nwhile True:\n    op = input ('For the mean type &lt;1&gt;, for the median type &lt;2&gt;, for the mode type &lt;3&gt;, to enter a new set of numbers type &lt;4&gt; or 5 to exit')\n    import statistics\n    if op == \"1\":\n        mn = statistics.mean(the_list)\n        print (\"The mean of the values you have entered is:- \",mn)\n    if op == \"2\":\n        me = statistics.median(the_list)\n        print (\"The median of the values you have entered is:- \",me)\n    if op == \"3\":\n        mo = statistics.mode(the_list)\n        print (\"The mode of the values you have entered is:- \",mo)\n    if op == \"5\":\n        the_list = main()\n    else:\n        print(\"Goodbye\")\n        break\n</code></pre>\n\n<p>There are other options\u2014you could pass in an empty list for <code>main</code> to fill, or use a global variable (or, better, a more restricted equivalent like an attribute on a class instance or a closure variable), or refactor your code so everyone who needs to access <code>our_list</code> is inside the same function\u2026 but I think this is the cleanest way to do what you're trying to do here.</p>\n\n<hr>\n\n<p>By the way, this isn't <em>quite</em> the last hurdle\u2014but you're very close:</p>\n\n<ul>\n<li>After any mean, median, or mode, it's going to hit the \"Goodbye\" and exit instead of going back through the loop. Do you know about <code>elif</code>?</li>\n<li>You mixed up <code>'5'</code> and <code>'4'</code> in the menu.</li>\n<li>If the user enters <code>2</code> and <code>3</code> and asks for the mode, your code will dump a <code>ValueError</code> traceback to the screen; probably not what you want. Do you know <code>try</code>/<code>except</code>?</li>\n</ul>\n\n<p>That's all I noticed, and they're all pretty simple things to add, so congrats in advance.</p>\n"}, {"tags": [], "owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1521063070, "creation_date": 1521063070, "answer_id": 49287941, "question_id": 49287892, "link": "https://stackoverflow.com/questions/49287892/python-user-defined-list-not-being-recognised-within-a-while-true-loop/49287941#49287941", "title": "Python user defined list not being recognised within a while true loop", "body": "<p>The issue is that <code>our_list</code> was defined in the <code>main()</code> function, and is not visible outside of the <code>main()</code> function scope. </p>\n\n<p>Since you're doing everything in one chunk, you could remove line 1 and 6, taking the code from your <code>main()</code> function and putting it on the same indentation level as the code which follows. </p>\n"}, {"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521063164, "post_id": 49287943, "comment_id": 85578993, "body": "<code>global</code> usually ends up with horrible code. It should be reserved for cases where it really is needed and the rest of the time you can just <code>return</code> values to the caller."}], "tags": [], "owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "is_accepted": false, "score": 0, "last_activity_date": 1521063073, "creation_date": 1521063073, "answer_id": 49287943, "question_id": 49287892, "link": "https://stackoverflow.com/questions/49287892/python-user-defined-list-not-being-recognised-within-a-while-true-loop/49287943#49287943", "title": "Python user defined list not being recognised within a while true loop", "body": "<p>This seems to be because you defined our_list within the main() function. You should probably define it as a global variable by creating it outside the main() function.</p>\n\n<p>You could also put the while loop inside a function and pass in our_list as a parameter to the list.</p>\n"}], "owner": {"reputation": 11, "user_id": 9494014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7SaCZ.jpg?s=128&g=1", "display_name": "B McG", "link": "https://stackoverflow.com/users/9494014/b-mcg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522772931, "creation_date": 1521062841, "question_id": 49287892, "link": "https://stackoverflow.com/questions/49287892/python-user-defined-list-not-being-recognised-within-a-while-true-loop", "title": "Python user defined list not being recognised within a while true loop", "body": "<p>Thanks firstly for bearing with me as a relative newcomer to the world of Python.  I'm working on a simple set of code and have been racking my brain to understand where I am going wrong.  I suspect it is a relatively simple thing to correct but all searches so far have been fruitless.  If this has been covered before then please be gentle, I have looked for a couple of days! </p>\n\n<p>I'm working on the following and after catching and correcting a number of issues I suspect that I'm on the last hurdle:- </p>\n\n<pre><code>def main():\n    our_list = []\n    ne = int(input('How many numbers do you wish to enter?  '))\n    for i in range(0, (ne)): # set up loop to run user specified number of time\n        number=int(input('Choose a number:-  '))\n        our_list.append(number) # append to our_list\n    print ('The list of numbers you have entered is ') \n    print (our_list) \nmain()\n\nwhile True:\n    op = input ('For the mean type &lt;1&gt;, for the median type &lt;2&gt;, for the mode type &lt;3&gt;, to enter a new set of numbers type &lt;4&gt; or 5 to exit')\n    import statistics\n    if op == \"1\":\n        mn = statistics.mean(our_list)\n        print (\"The mean of the values you have entered is:- \",mn)\n    if op == \"2\":\n        me = statistics.median(our_list)\n        print (\"The median of the values you have entered is:- \",me)\n    if op == \"3\":\n        mo = statistics.mode(our_list)\n        print (\"The mode of the values you have entered is:- \",mo)\n    if op == \"5\":\n        main()\n    else:\n        print(\"Goodbye\")\n        break`\n</code></pre>\n\n<p>For some reason the appended (our_list) is not being recognised within the while true loop rendering the statistics calculation void. Any steer would be really appreciated as to where I am missing the obvious, thanks in advance.</p>\n\n<p>Cheers\nBryan</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 185, "user_id": 4715414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10202646252877966/picture?type=large", "display_name": "The Impossible Squish", "link": "https://stackoverflow.com/users/4715414/the-impossible-squish"}, "edited": false, "score": 0, "creation_date": 1526289424, "post_id": 49287855, "comment_id": 87669332, "body": "I have the same question. Does anyone know how to print the prediction?"}], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 2271092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1ogg.jpg?s=128&g=1", "display_name": "ac2051", "link": "https://stackoverflow.com/users/2271092/ac2051"}, "edited": false, "score": 0, "creation_date": 1535991498, "post_id": 50592002, "comment_id": 91256859, "body": "This seems to print only the first prediction. Moreover, <code>for i in range(300): print(list(predictions)[0])</code> does not work. Any advice on how to get the following predictions?"}], "tags": [], "owner": {"reputation": 11, "user_id": 9063669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f8249a202a22c782b88388e6e2fe4fc?s=128&d=identicon&r=PG&f=1", "display_name": "Qing Wang", "link": "https://stackoverflow.com/users/9063669/qing-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1527623756, "creation_date": 1527623756, "answer_id": 50592002, "question_id": 49287855, "link": "https://stackoverflow.com/questions/49287855/tensorflow-1-6-get-the-prediction-output-from-estimator-predict/50592002#50592002", "title": "Tensorflow 1.6 get the prediction output from estimator.predict()", "body": "<p>It is a generator object and, to print it, you should use</p>\n\n<p><code>print(list(predictions)[0])</code></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8600814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zp3HN.jpg?s=128&g=1", "display_name": "Apoorv Purwar", "link": "https://stackoverflow.com/users/8600814/apoorv-purwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1539319269, "creation_date": 1539319269, "answer_id": 52772391, "question_id": 49287855, "link": "https://stackoverflow.com/questions/49287855/tensorflow-1-6-get-the-prediction-output-from-estimator-predict/52772391#52772391", "title": "Tensorflow 1.6 get the prediction output from estimator.predict()", "body": "<p>Following should print all the predictions - </p>\n\n<pre><code>   for i in range(300):\n\n        print(list(predictions)[0])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 2565184, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/KMfMP.jpg?s=128&g=1", "display_name": "SNEH PANDYA", "link": "https://stackoverflow.com/users/2565184/sneh-pandya"}, "is_accepted": false, "score": 0, "last_activity_date": 1553183672, "creation_date": 1553183672, "answer_id": 55284431, "question_id": 49287855, "link": "https://stackoverflow.com/questions/49287855/tensorflow-1-6-get-the-prediction-output-from-estimator-predict/55284431#55284431", "title": "Tensorflow 1.6 get the prediction output from estimator.predict()", "body": "<p>This should work</p>\n\n<pre><code> outputs = [list(next(predictions).values())[0] for i in range(300)] \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 11028326, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KXJKNyzytjQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMHevfUdKw1-uhGy8TyHt4Cew3xIA/mo/photo.jpg?sz=128", "display_name": "hatim bennis", "link": "https://stackoverflow.com/users/11028326/hatim-bennis"}, "is_accepted": false, "score": 1, "last_activity_date": 1561642050, "creation_date": 1561642050, "answer_id": 56792127, "question_id": 49287855, "link": "https://stackoverflow.com/questions/49287855/tensorflow-1-6-get-the-prediction-output-from-estimator-predict/56792127#56792127", "title": "Tensorflow 1.6 get the prediction output from estimator.predict()", "body": "<p>try this:</p>\n\n<pre><code>training_predictions = linear_regressor.predict(input_fn=predict_training_input_fn)\ntraining_predictions = np.array([item['predictions'][0] for item in training_predictions])\nvalidation_predictions = linear_regressor.predict(input_fn=predict_validation_input_fn)\nvalidation_predictions = np.array([item['predictions'][0] for item in validation_predictions])\n</code></pre>\n"}], "owner": {"reputation": 400, "user_id": 3241790, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/980f985497574359f46b635060f50433?s=128&d=identicon&r=PG&f=1", "display_name": "Zaher88abd", "link": "https://stackoverflow.com/users/3241790/zaher88abd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3303, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1561642050, "creation_date": 1521062707, "last_edit_date": 1521062829, "question_id": 49287855, "link": "https://stackoverflow.com/questions/49287855/tensorflow-1-6-get-the-prediction-output-from-estimator-predict", "title": "Tensorflow 1.6 get the prediction output from estimator.predict()", "body": "<p>I have this code which just Mnist tesorflow example and I would to do get the prediction for test data</p>\n\n<pre><code>from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\n# Imports\nimport numpy as np\nimport tensorflow as tf\n\ntf.logging.set_verbosity(tf.logging.INFO)\n\n\n# Our application logic will be added here\ndef cnn_model_fn(features, labels, mode):\n\"\"\"Model function for CNN.\"\"\"\n# Input Layer\ninput_layer = tf.reshape(features[\"x\"], [-1, 28, 28, 1])\n\n# Convolutional Layer #1\nconv1 = tf.layers.conv2d(\n    inputs=input_layer,\n    filters=32,\n    kernel_size=[5, 5],\n    padding=\"same\",\n    activation=tf.nn.relu)\n\n# Pooling Layer #1\npool1 = tf.layers.max_pooling2d(inputs=conv1, pool_size=[2, 2], strides=2)\n\n# Convolutional Layer #2 and Pooling Layer #2\nconv2 = tf.layers.conv2d(\n    inputs=pool1,\n    filters=64,\n    kernel_size=[5, 5],\n    padding=\"same\",\n    activation=tf.nn.relu)\npool2 = tf.layers.max_pooling2d(inputs=conv2, pool_size=[2, 2], strides=2)\n\n# Dense Layer\npool2_flat = tf.reshape(pool2, [-1, 7 * 7 * 64])\ndense = tf.layers.dense(inputs=pool2_flat, units=1024, activation=tf.nn.relu)\ndropout = tf.layers.dropout(\n    inputs=dense, rate=0.4, training=mode == tf.estimator.ModeKeys.TRAIN)\n\n# Logits Layer\nlogits = tf.layers.dense(inputs=dropout, units=10)\n\npredictions = {\n    # Generate predictions (for PREDICT and EVAL mode)\n    \"classes\": tf.argmax(input=logits, axis=1),\n    # Add `softmax_tensor` to the graph. It is used for PREDICT and by the\n    # `logging_hook`.\n    \"probabilities\": tf.nn.softmax(logits, name=\"softmax_tensor\")\n}\n\nif mode == tf.estimator.ModeKeys.PREDICT:\n    return tf.estimator.EstimatorSpec(mode=mode, predictions=predictions)\n\n# Calculate Loss (for both TRAIN and EVAL modes)\nloss = tf.losses.sparse_softmax_cross_entropy(labels=labels, logits=logits)\n\n# Configure the Training Op (for TRAIN mode)\nif mode == tf.estimator.ModeKeys.TRAIN:\n    optimizer = tf.train.GradientDescentOptimizer(learning_rate=0.001)\n    train_op = optimizer.minimize(\n        loss=loss,\n        global_step=tf.train.get_global_step())\n\n    return tf.estimator.EstimatorSpec(mode=mode, loss=loss, \ntrain_op=train_op)\n\n# Add evaluation metrics (for EVAL mode)\nif mode == tf.estimator.ModeKeys.EVAL:\n    eval_metric_ops = {\n        \"accuracy\": tf.metrics.accuracy(\n            labels=labels, predictions=predictions[\"classes\"])}\n    return tf.estimator.EstimatorSpec(\n        mode=mode, loss=loss, eval_metric_ops=eval_metric_ops)\npredicted_classes = tf.argmax(logits, 1)\nif mode == tf.estimator.ModeKeys.PREDICT:\n    predictions = {\n        'class_ids': predicted_classes[:, tf.newaxis],\n        'probabilities': tf.nn.softmax(logits),\n        'logits': logits,\n    }\n    return tf.estimator.EstimatorSpec(mode, predictions=predictions)\n\n\ndef main(unused_argv):\n# Load training and eval data\nmnist = tf.contrib.learn.datasets.load_dataset(\"mnist\")\ntrain_data = mnist.train.images[:54000]  # Returns np.array\ntrain_labels = np.asarray(mnist.train.labels, dtype=np.int32)[:54000]\neval_data = train_data[:500]  # Returns np.array\neval_labels = train_labels[:500]  # np.asarray(mnist.test.labels, \ndtype=np.int32)\ntest_data = train_data[1000:]\ntest_label = train_labels[1000:]\n# eval_data = mnist.test.images  # Returns np.array\n# eval_labels = np.asarray(mnist.test.labels, dtype=np.int32)\n\n# Create the Estimator\nmnist_classifier = tf.estimator.Estimator(\n    model_fn=cnn_model_fn, model_dir=\"./tmp/mnist_convnet_model\")\n# Set up logging for predictions\ntensors_train_to_log = {\"probabilities\": \"softmax_tensor\"}\n# tensors_eval_to_log = {\"accuracy\": \"classes\"}\nlogging_train_hook = tf.train.LoggingTensorHook(\n    tensors=tensors_train_to_log, every_n_iter=6000)\n# logging_eval_hook = tf.train.LoggingTensorHook(\n#     tensors=tensors_eval_to_log, every_n_iter=1000)\n# Train the model\nprint(\"Training Data length:\", np.shape(train_data))\ntrain_input_fn = tf.estimator.inputs.numpy_input_fn(\n    x={\"x\": train_data},\n    y=train_labels,\n    batch_size=10,\n    num_epochs=1,\n    shuffle=True)\n\neval_input_fn = tf.estimator.inputs.numpy_input_fn(\n    x={\"x\": eval_data},\n    y=eval_labels,\n    num_epochs=1,\n    shuffle=True)\n#     input_fn=train_input_fn,\n#     steps=20000,\n#     hooks=[logging_hook])\n# Evaluate the model and print results\n\n# eval_results = mnist_classifier.evaluate(input_fn=eval_input_fn)\n# print(eval_results)\ntrain_spec = tf.estimator.TrainSpec(input_fn=train_input_fn, max_steps=6500)\neval_spec = tf.estimator.EvalSpec(input_fn=eval_input_fn)\ntf.estimator.train_and_evaluate(estimator=mnist_classifier, \ntrain_spec=train_spec,eval_spec=eval_spec)\n\ntest_input_fn = tf.estimator.inputs.numpy_input_fn(\n    x={\"x\": test_data[0]},\n    y=test_label,\n    num_epochs=1,\n    shuffle=True)\n# mnist_classifier.train(\ntest_spec = tf.estimator.EvalSpec(input_fn=test_input_fn)\npredictions = mnist_classifier.predict(test_spec)\n\nprint(predictions[\"logits\"][0])\n# print(predictions[\"logits\"])\n\n#I got an error when I tried to print this\nif __name__ == \"__main__\":\ntf.app.run()\n</code></pre>\n\n<p>the code work will like I got trained model but still when I tried to print the prediction I could find a way to do that. So, any one did this example and print the pridected data not just the evaluation accuracy.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1997, "user_id": 7836530, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f11697069f27f74c1f2af72df755ef95?s=128&d=identicon&r=PG&f=1", "display_name": "JamesHudson81", "link": "https://stackoverflow.com/users/7836530/jameshudson81"}, "edited": false, "score": 0, "creation_date": 1521062797, "post_id": 49287849, "comment_id": 85578849, "body": "Didnt knew about <code>iat</code> existence , very useful!! Thank you!"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1521062667, "creation_date": 1521062667, "answer_id": 49287849, "question_id": 49287830, "link": "https://stackoverflow.com/questions/49287830/replacing-a-positioned-value-in-dataframe/49287849#49287849", "title": "replacing a positioned value in dataframe", "body": "<p>Pass positional indexers to <code>iat</code>:</p>\n\n<pre><code>df.iat[0, 0] = 'j'\n</code></pre>\n\n<p>Or, pass labels to <code>at</code>:</p>\n\n<pre><code>df.at[0, 'A'] = 'j'\n</code></pre>\n\n<p></p>\n\n<pre><code>df\n\n   A  B  C\n0  j  d  f\n1  3  5  3\n2  4  4  5\n3  6  6  6\n</code></pre>\n"}], "owner": {"reputation": 1997, "user_id": 7836530, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f11697069f27f74c1f2af72df755ef95?s=128&d=identicon&r=PG&f=1", "display_name": "JamesHudson81", "link": "https://stackoverflow.com/users/7836530/jameshudson81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 49287849, "answer_count": 1, "score": 1, "last_activity_date": 1521063468, "creation_date": 1521062582, "last_edit_date": 1521063468, "question_id": 49287830, "link": "https://stackoverflow.com/questions/49287830/replacing-a-positioned-value-in-dataframe", "title": "replacing a positioned value in dataframe", "body": "<p>I have the following df:</p>\n\n<pre><code>    A  B  C \n0   s  d  f\n1   3  5  3 \n2   4  4  5\n3   6  6  6\n</code></pre>\n\n<p>I would like to replace the value at <code>df.iloc[[0],[0]]</code> from <code>s</code> to <code>j</code> . How can I do so?</p>\n"}, {"tags": ["python", "checkbox", "nuke"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 1297905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48a7cb823d2966e7f0ec0d22e6878de?s=128&d=identicon&r=PG", "display_name": "jaimex127", "link": "https://stackoverflow.com/users/1297905/jaimex127"}, "edited": false, "score": 0, "creation_date": 1521835805, "post_id": 49432360, "comment_id": 85918107, "body": "Thanks for the answer, I&#39;ve tried creating the subclass, what I&#39;ve got is this:  <code>NameError: name &#39;nodeNames&#39;</code> is not defined. Don&#39;t know what Im doing wrong, by the way, this method keeps and return the names of the nodes in my list?"}], "tags": [], "owner": {"reputation": 305, "user_id": 2344699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e307aeaa9a096ad908f88bde3103812e?s=128&d=identicon&r=PG", "display_name": "tk421storm", "link": "https://stackoverflow.com/users/2344699/tk421storm"}, "is_accepted": false, "score": 2, "last_activity_date": 1521731915, "creation_date": 1521731915, "answer_id": 49432360, "question_id": 49287828, "link": "https://stackoverflow.com/questions/49287828/create-a-checkbox-for-each-item-in-a-list-in-nuke/49432360#49432360", "title": "Create a checkBox for each item in a list in Nuke", "body": "<p>You'll need to create your own subclass of PythonPanel if you want to return information from the panel. Something like this:</p>\n\n<pre><code>class WritesPanel( nukescripts.PythonPanel ):\n    def __init__( self , nodeNames):\n        nukescripts.PythonPanel.__init__( self, \"Write Nodes\", \"unique.panel.id\" )\n\n        self.nodeNames=nodeNames\n\n        for nodeName in nodeNames:\n            self.k = nuke.Boolean_Knob(nodeName, nodeName)\n\n            self.addKnob( self.k )\n\n    # The next function shows the dialog as a modal dialog. Doing this \n    # automatically adds the 'OK' and 'Cancel' buttons to the dialog.\n\n    def showModalDialog( self ):\n        result = nukescripts.PythonPanel.showModalDialog( self )\n        if result:\n            results={}\n            for nodeName in self.nodeNames:\n                results[nodeName]=self.knobs()[nodeName].value()\n            return results\n        else:\n            return None\n\n# The following function calls WritesPanel\n\ndef launchWritesPanel(nodeNames):\n    return WritesPanel(nodeNames).showModalDialog()\n</code></pre>\n\n<p>Call <code>launchWritesPanel</code> with your nodeNames list, and the panel will return a dictionary of <code>{nodeName:True/False}</code> if the user presses OK, or <code>None</code> if the user cancels.</p>\n"}], "owner": {"reputation": 9, "user_id": 1297905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48a7cb823d2966e7f0ec0d22e6878de?s=128&d=identicon&r=PG", "display_name": "jaimex127", "link": "https://stackoverflow.com/users/1297905/jaimex127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1606421326, "creation_date": 1521062578, "last_edit_date": 1606421326, "question_id": 49287828, "link": "https://stackoverflow.com/questions/49287828/create-a-checkbox-for-each-item-in-a-list-in-nuke", "title": "Create a checkBox for each item in a list in Nuke", "body": "<p>This is my problem :</p>\n<p>I want to create a CheckBox for each node selected. I've managed to create the CheckBoxes for each node with the correct names but the problem is that where they are selected in the checkbox and print the result only return the first node selected or a boolean result (True or False), no matter what check box is selected. I can't find the answer.</p>\n<p>Thanks for everything!</p>\n<pre><code>import nuke\n\nnodeNames = [n.name() for n in nuke.allNodes('Write')]\n\nnames = []\nfor s in nuke.allNodes('Write'):\n    n = s['name'].value()\n    names.append(n)\n#print names\n#len(names)\n\nwriteNodes = ( &quot;, &quot;.join( str(e) for e in names ) )\n\n\np = nuke.Panel ('TEST')\n\nfor items in names:\n    de = p.addBooleanCheckBox(items,'True')    \n\np.show()\n</code></pre>\n"}, {"tags": ["python", "django-models", "django-forms"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521063045, "post_id": 49287794, "comment_id": 85578953, "body": "You should add some logging statements. I suspect that <code>data</code> is not what you expect here. If the DictWord queryset is empty, <code>delete()</code> will return <code>0</code>, otherwise it will return the number of rows deleted."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521063372, "post_id": 49287794, "comment_id": 85579096, "body": "You can also add a success message to display to the user. <code>messages.success(request, f&#39;{deleted} records with name &quot;{data}&quot; deleted&#39;)</code>"}, {"owner": {"reputation": 2408, "user_id": 7013263, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/41kW6.jpg?s=128&g=1", "display_name": "dejdej", "link": "https://stackoverflow.com/users/7013263/dejdej"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521065787, "post_id": 49287794, "comment_id": 85580129, "body": "Yes you are right, but the strange thing is that if the data matches with one of the name  attribute in the models, somehow it is empty (it is not printed) else if it is any other thing that is not in my models it is ok , it gets printed:                                                                                             <code>data = form.cleaned_data[&#39;name&#39;] </code> or I even tried                                                   <code>data = request.POST.get(&#39;name&#39;)  print(data)</code>"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521073220, "post_id": 49287794, "comment_id": 85582445, "body": "Not printed? Where do you try printing?"}, {"owner": {"reputation": 2408, "user_id": 7013263, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/41kW6.jpg?s=128&g=1", "display_name": "dejdej", "link": "https://stackoverflow.com/users/7013263/dejdej"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521105799, "post_id": 49287794, "comment_id": 85593242, "body": "<code>data = str(form.cleaned_data[&#39;name&#39;])     #data = request.POST.get(&#39;name&#39;)             print(data)             try:                 #DictWord.objects.filter(name=data).delete()                model_instance = DictWord.objects.get(name=data)                model_instance.delete()             except:                 print(&quot;NOK&quot;)</code> In the first print I try to print the data taken from form, but the issue is that if the data (which is a string that corresponds to name attribute of the object) exist in my db , it will  not print it, else if is another string it will print it."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1521107452, "post_id": 49287794, "comment_id": 85594328, "body": "Are you sure <code>form.is_valid()</code> doesn&#39;t return<code>False</code>? Do you actually display the errors when the form is invalid? You should pass the form that you called <code>is_valid()</code> in the context. <code>is_valid</code> will modify the form object and add error messages that will be rendered in the template. Move the line <code>dict_DictWord = {&#39;words&#39;: query_list,&quot;form&quot;:form}</code> to just before the final <code>return render</code> line. Then the invalid <code>form</code> will be included in the context if validation failed."}, {"owner": {"reputation": 2408, "user_id": 7013263, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/41kW6.jpg?s=128&g=1", "display_name": "dejdej", "link": "https://stackoverflow.com/users/7013263/dejdej"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521114390, "post_id": 49287794, "comment_id": 85598955, "body": "Yes you are right, so I used on else branch of if form.is_valid() , <code>print(form.errors)</code> and it appears that actually the POST method want to add to models <code>&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;name&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Dict word with this Name already exists.&lt;&#47;li&gt;&lt;&#47;ul&gt;&lt;&#47;li&gt;&lt;&#47;ul&gt;</code>, but I don&#39;t understand why ?"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521118081, "post_id": 49287794, "comment_id": 85601401, "body": "Is SecondForm a ModelForm? That would explain it. This is not the intended usage of ModelForm."}, {"owner": {"reputation": 2408, "user_id": 7013263, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/41kW6.jpg?s=128&g=1", "display_name": "dejdej", "link": "https://stackoverflow.com/users/7013263/dejdej"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521148615, "post_id": 49287794, "comment_id": 85620843, "body": "Yes, is a ModelForm, basically I wanted to take the user input and then delete the object from models. Could you please point me to a resource that explains what is the best practice concerning this subject?  Thank you for your help, you are awesome"}, {"owner": {"reputation": 2408, "user_id": 7013263, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/41kW6.jpg?s=128&g=1", "display_name": "dejdej", "link": "https://stackoverflow.com/users/7013263/dejdej"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521148968, "post_id": 49287794, "comment_id": 85620993, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166919/discussion-between-distrobyte-and-haken-lid\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1521106768, "post_id": 49292136, "comment_id": 85593883, "body": "Although your code snippet might solve the issue, you should describe what\u2019s the purpose of your code (how it solves the problem). Furthermore, you might want to check <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}, {"owner": {"reputation": 26, "user_id": 9480784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7254bcc360446873882c602372bea22e?s=128&d=identicon&r=PG&f=1", "display_name": "Veera", "link": "https://stackoverflow.com/users/9480784/veera"}, "reply_to_user": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1521108418, "post_id": 49292136, "comment_id": 85595007, "body": "Model.objects.filter(name=data).delete() this results in deletion of bulk data,but as you want to delete a single record it is better to use Model.objects.get(name=data).delete()"}], "tags": [], "owner": {"reputation": 26, "user_id": 9480784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7254bcc360446873882c602372bea22e?s=128&d=identicon&r=PG&f=1", "display_name": "Veera", "link": "https://stackoverflow.com/users/9480784/veera"}, "is_accepted": false, "score": 0, "last_activity_date": 1521104825, "last_edit_date": 1521104825, "creation_date": 1521091522, "answer_id": 49292136, "question_id": 49287794, "link": "https://stackoverflow.com/questions/49287794/django-delete-models-based-on-form-input/49292136#49292136", "title": "Django delete models based on form input", "body": "<pre><code>#try this     \nrecord=DictWord.objects.get(name=data)\nrecord.delete()\n\n        return render(request, 'appone/index.html', context = dict_DictWord)\n</code></pre>\n"}], "owner": {"reputation": 2408, "user_id": 7013263, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/41kW6.jpg?s=128&g=1", "display_name": "dejdej", "link": "https://stackoverflow.com/users/7013263/dejdej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521104825, "creation_date": 1521062347, "last_edit_date": 1521063584, "question_id": 49287794, "link": "https://stackoverflow.com/questions/49287794/django-delete-models-based-on-form-input", "title": "Django delete models based on form input", "body": "<p>I have a form and a model, in my views I take the data from form and use it to delete the object from my model, but it does not delete the object at all, even though if I use the shell and create the same query set with the same syntax it works. What am I missing here?? Thx</p>\n\n<p>Code from views:</p>\n\n<pre><code>form = SecondForm()\n\nquery_list = DictWord.objects.all()\ndict_DictWord = {'words': query_list,\"form\":form}\nif request.method == \"POST\":\n    form = SecondForm(request.POST)\n    if form.is_valid():\n        ##Does not delete the object from models\n        data = form.cleaned_data['name']\n        DictWord.objects.filter(name=data).delete()\n        return render(request, 'appone/index.html', context = dict_DictWord)\n    else:\n        messages.error(request, \"Error\")\n\nreturn render(request,'appone/index.html',context=dict_DictWord)\n</code></pre>\n\n<p>But if I use manage.py shell, I import my model and this syntax works, and it returns the dict with the deleted object:</p>\n\n<pre><code>from app.models import DictWord\nDictWord.objects.filter(name=\"SomeName\").delete()\n</code></pre>\n"}, {"tags": ["python", "class", "python-attrs"], "answers": [{"tags": [], "owner": {"reputation": 2050, "user_id": 3126298, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uIBJ7.gif?s=128&g=1", "display_name": "n1k31t4", "link": "https://stackoverflow.com/users/3126298/n1k31t4"}, "is_accepted": false, "score": 0, "last_activity_date": 1521063557, "creation_date": 1521063557, "answer_id": 49288040, "question_id": 49287776, "link": "https://stackoverflow.com/questions/49287776/storing-passed-data-in-object-twice-with-attrs-package/49288040#49288040", "title": "Storing passed data in object twice with `attrs` package", "body": "<p>After looking through <a href=\"http://www.attrs.org/en/stable/examples.html?highlight=init#other-goodies\" rel=\"nofollow noreferrer\">the documentation a little more deeply</a> (scroll right to the bottom), I found that there is a kind of post-init hook for classes that are created by <code>attrs</code>.</p>\n\n<p>You can just include a special <code>__attrs_post_init__</code> method that can do the more complicated things one might want to do in an <code>__init__</code> method, beyond simple assignment.</p>\n\n<p>Here is my final working code:</p>\n\n<pre><code>In [1]: @attr.s\n     ...: class DataContainer(object):\n     ...:    \"\"\"Interface for managing data. Reads and write data,\n     ...:    acts as a provider to other classes.\n     ...:    \"\"\"\n     ...: \n     ...:    data = attr.ib()\n     ...: \n     ...:    def __attrs_post_init__(self):\n     ...:        \"\"\"Perform additional init work on instantiation.\n     ...:        Make a copy of the raw input data.\n     ...:        \"\"\"\n     ...:        self.data_copy = self.data.copy()\n\n\n\nIn [2]: some_data = np.array([[1, 2, 3], [4, 5, 6]])\n\nIn [3]: foo = DataContainer(some_data)\n\nIn [4]: foo.data\nOut[5]: \narray([[1, 2, 3],\n       [4, 5, 6]])\n\nIn [6]: foo.data_copy\nOut[7]: \narray([[1, 2, 3],\n       [4, 5, 6]])\n</code></pre>\n\n<p>Just to be doubly sure, I checked to see that the two attributes are not referencing the same object. In this case they are not, which is likely thanks to the <code>copy</code> method on the NumPy array.</p>\n\n<pre><code>In [8]: foo.data[0,0] = 999\n\nIn [9]: foo.data\nOut[10]: \narray([[999,   2,   3],\n       [  4,   5,   6]])\n\nIn [11]: foo.data_copy\nOut[12]: \narray([[1, 2, 3],\n       [4, 5, 6]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2050, "user_id": 3126298, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uIBJ7.gif?s=128&g=1", "display_name": "n1k31t4", "link": "https://stackoverflow.com/users/3126298/n1k31t4"}, "edited": false, "score": 0, "creation_date": 1521710051, "post_id": 49422250, "comment_id": 85850181, "body": "Thanks for the hints! One question: where/when does <code>_copy_x(self)</code> get executed? Is the @_x_backup.default a standard decorator? Can&#39;t believe I missed your last point about just pointing to the same object twice."}, {"owner": {"reputation": 2388, "user_id": 476759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/174e7b0ff60963f821d0b9a4f1a3ef52?s=128&d=identicon&r=PG", "display_name": "hynek", "link": "https://stackoverflow.com/users/476759/hynek"}, "reply_to_user": {"reputation": 2050, "user_id": 3126298, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uIBJ7.gif?s=128&g=1", "display_name": "n1k31t4", "link": "https://stackoverflow.com/users/3126298/n1k31t4"}, "edited": false, "score": 1, "creation_date": 1521728455, "post_id": 49422250, "comment_id": 85863791, "body": "The <code>@_x_backup.default</code> notation is a way to define a default factory with having <code>self</code> passed into it: <code>attr.ib(default=attr.Factory(lambda self: self.x.copy(), takes_self=True))</code>. As such, it&#39;s executed in the <code>__init__</code> that is created by <code>attrs</code>."}], "tags": [], "owner": {"reputation": 2388, "user_id": 476759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/174e7b0ff60963f821d0b9a4f1a3ef52?s=128&d=identicon&r=PG", "display_name": "hynek", "link": "https://stackoverflow.com/users/476759/hynek"}, "is_accepted": true, "score": 1, "last_activity_date": 1521701342, "creation_date": 1521701342, "answer_id": 49422250, "question_id": 49287776, "link": "https://stackoverflow.com/questions/49287776/storing-passed-data-in-object-twice-with-attrs-package/49422250#49422250", "title": "Storing passed data in object twice with `attrs` package", "body": "<p>You can do two things here.</p>\n\n<p>The first one you've found yourself: you use <code>__attr_post_init__</code>.</p>\n\n<p>The second one is to have a default:</p>\n\n<pre><code>&gt;&gt;&gt; import attr\n&gt;&gt;&gt; @attr.s\n... class C:\n...     x = attr.ib()\n...     _x_backup = attr.ib()\n...     @_x_backup.default\n...     def _copy_x(self):\n...         return self.x.copy()\n&gt;&gt;&gt; l = [1, 2, 3]\n&gt;&gt;&gt; i = C(l)\n&gt;&gt;&gt; i\nC(x=[1, 2, 3], _x_backup=[1, 2, 3])\n&gt;&gt;&gt; i.x.append(4)\n&gt;&gt;&gt; i\nC(x=[1, 2, 3, 4], _x_backup=[1, 2, 3])\n</code></pre>\n\n<p>JFTR, you example of</p>\n\n<pre><code>def __init__(self, data):\n    self.data = data\n    self.data_copy = data\n</code></pre>\n\n<p>is wrong because you\u2019d assign the same object twice which means that modifying <code>self.data</code> also modifies <code>self.data_copy</code> and vice versa.</p>\n"}], "owner": {"reputation": 2050, "user_id": 3126298, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uIBJ7.gif?s=128&g=1", "display_name": "n1k31t4", "link": "https://stackoverflow.com/users/3126298/n1k31t4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 49422250, "answer_count": 2, "score": 0, "last_activity_date": 1521729276, "creation_date": 1521062266, "last_edit_date": 1521729276, "question_id": 49287776, "link": "https://stackoverflow.com/questions/49287776/storing-passed-data-in-object-twice-with-attrs-package", "title": "Storing passed data in object twice with `attrs` package", "body": "<p>I am creating a data provider class that will hold data, perform transformations and make it available to other classes.</p>\n\n<p>If the user creates and instance of this class and passes some data at instantiation, I would like to store it twice: once for all transformations and once as a copy of the original data. Let's assume the data itself has a <code>copy</code> method.</p>\n\n<p>I am using the <code>attrs</code> package to create classes, but would also be interested in best approaches to this in general (perhaps there is a better way of getting what I am after?)</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>@attr.s\nclass DataContainer(object):\n    \"\"\"Interface for managing data. Reads and write data, acts as a provider to other classes.\n    \"\"\"\n\n    data = attr.ib(default=attr.Factory(list))\n    data_copy = data.copy()\n\n    def my_func(self, param1='all'):\n        \"\"\"Do something useful\"\"\"\n        return param1\n</code></pre>\n\n<p>This doesn't work: <code>AttributeError: '_CountingAttr' object has no attribute 'copy'</code></p>\n\n<p>I also cannot call <code>data_copy = self.data.copy()</code>, I get the error: <code>NameError: name 'self' is not defined</code>.</p>\n\n<p>The working equivalent without the <code>attrs</code> package would be:</p>\n\n<pre><code>class DataContainer(object):\n    \"\"\"Interface for managing data. Reads and write data, acts as a provider to other classes.\n    \"\"\"\n    def __init__(self, data):\n        \"Init method, saving passed data and a backup copy\"\n        self.data = data\n        self.data_copy = data\n</code></pre>\n\n<h3>EDIT:</h3>\n\n<p>As pointed out by @hynek, my simple init method above needs to be corrected to make an actual copy of the data: i.e. <code>self.data_copy = data.copy()</code>. Otherwise both <code>self.data</code> and <code>self.data_copy</code> would point to the same object.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521062486, "post_id": 49287747, "comment_id": 85578689, "body": "Your question is confusing. First, you say your end result is a list with all the data in one <i>column</i>, but what you show us looks like a single <i>row</i>. Also, is that actually copied and pasted from the resulting CSV file? Because if so, it looks like you may have elements of your dicts that are lists\u2014that&#39;s the only obvious way you&#39;re going to get quoted strings inside brackets like that."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521062553, "post_id": 49287747, "comment_id": 85578730, "body": "More generally: Please show us the actual <code>scraped_data</code> (or, better yet, a stripped-down version with only, say, two rows), and the same for the CSV file, and the expected version of the CSV file that you&#39;re not getting. That way, you don&#39;t have to explain it in words, we can just see it."}, {"owner": {"reputation": 2116, "user_id": 6929467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8QLhMqjbYUU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZX1kiTbhsA5xQMiKWekx9fqT5Yw/photo.jpg?sz=128", "display_name": "Yono", "link": "https://stackoverflow.com/users/6929467/yono"}, "edited": false, "score": 0, "creation_date": 1521063445, "post_id": 49287747, "comment_id": 85579132, "body": "You don&#39;t have an issue with within this code.  Try <code>print (scraped_data[0]) </code>you&#39;ll  see the issue there. Your data is not being properly parsed. Take care!"}, {"owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521064961, "post_id": 49287747, "comment_id": 85579743, "body": "@abarnert I&#39;ve added the scraped_data.  I&#39;ve also correct it where I said it appears in one column.  You are right it should have said one row."}, {"owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "reply_to_user": {"reputation": 2116, "user_id": 6929467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8QLhMqjbYUU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZX1kiTbhsA5xQMiKWekx9fqT5Yw/photo.jpg?sz=128", "display_name": "Yono", "link": "https://stackoverflow.com/users/6929467/yono"}, "edited": false, "score": 0, "creation_date": 1521064992, "post_id": 49287747, "comment_id": 85579762, "body": "@Elvir Muslic I&#39;ve added how scraped_data appears.  How should it be parsed?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521065138, "post_id": 49287747, "comment_id": 85579841, "body": "Well, there&#39;s your problem: the scraped data is a single dict, which includes such fun things as a list of addresses in the <code>address</code> field, and a bunch of phone numbers concatenated together with no delimiters into one big string in the <code>city</code> field, and a bunch of names similarly concatenated in the <code>real estate provider</code> field, and so on. Garbage in, garbage out."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521065396, "post_id": 49287747, "comment_id": 85579957, "body": "Where does this scraped data come from? If you&#39;re scraping it wrong, that&#39;s what you need to fix, not this code. If you&#39;re stuck with this data, you need to figure out what it&#39;s supposed to mean before you can write code to parse it. Maybe you can un-concatenate the phone numbers (fixed format?) and maybe even the names (everyone has 2 names, properly capitalized, and no McFly?), and then zip together all the lists and concatenated lists (hopefully same length?), although you can&#39;t recover stuff like whatever was supposed to be in <code>city</code> and isn&#39;t here at all\u2026"}, {"owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521072982, "post_id": 49287747, "comment_id": 85582388, "body": "@abarnert I gave pbo the answer cause he submitted it as an answer but you and Elvir were right on.  I was going over the area once and putting all the data in one list together."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 1526191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d996bdee0824cc1a7ad02248003cf2?s=128&d=identicon&r=PG&f=1", "display_name": "pbo", "link": "https://stackoverflow.com/users/1526191/pbo"}, "is_accepted": true, "score": 0, "last_activity_date": 1521066659, "creation_date": 1521066659, "answer_id": 49288666, "question_id": 49287747, "link": "https://stackoverflow.com/questions/49287747/python-2-7-create-new-line-for-record-in-csvunicodecsv/49288666#49288666", "title": "Python 2.7 create new line for record in csv(unicodecsv)", "body": "<p>Your <code>scraped_data</code> should be a list of dictionaries for <code>csv.DictWriter</code> to work. For instance:\n</p>\n\n<pre><code>import csv \n\n# mock data\nscraped_data = list()\nrow = {\n    'title': 'My Sweet Home',\n    'address': '1000, Abc St.',\n    'city': 'San Diego',\n    'facts and features': 'Miniramp in the backyard',\n    'postal_code': '000000',\n    'price': 1000000,\n    'real estate provider': 'Abc Real Estate',\n    'state': 'CA',\n    'url': 'www.mysweethome.com'\n}\nscraped_data.append(row)\n\nfieldnames = [\n    'title', 'address', 'city', 'state', 'postal_code', 'price', \n    'facts and features', 'real estate provider', 'url'\n]\n\n# writing CSV file\nwith open('ogtest.csv', 'w') as csvfile:\n    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n    writer.writeheader()\n    for row in scraped_data:\n        writer.writerow(row)\n</code></pre>\n\n<p>Hope it helps.</p>\n\n<p>Cheers</p>\n"}], "owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49288666, "answer_count": 1, "score": 0, "last_activity_date": 1521066659, "creation_date": 1521062142, "last_edit_date": 1521064910, "question_id": 49287747, "link": "https://stackoverflow.com/questions/49287747/python-2-7-create-new-line-for-record-in-csvunicodecsv", "title": "Python 2.7 create new line for record in csv(unicodecsv)", "body": "<p>I currently have a list of data containing these properties:</p>\n\n<pre><code>properties = {\n                'address':address,\n                'city':city,\n                'state':state,\n                'postal_code':postal_code,\n                'price':price,\n                'facts and features':info,\n                'real estate provider':broker,\n                'url':property_url,\n                'title':title\n                        }\n</code></pre>\n\n<p>These are populated with about 25 rows.\nI am attempting to write them to a csv file using this:</p>\n\n<pre><code>                with open(\"ogtest-%s-%s.csv\" % (listValue, zipCodes),'w') as csvfile:\n                fieldnames = ['title','address','city','state','postal_code','price','facts and features','real estate provider','url']\n                writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n                writer.writeheader()\n                for row in scraped_data:\n                    writer.writerow(row)\n</code></pre>\n\n<p>my end csv result is a list with the data in one row.  Each area such as address has title and below it ALL the values.  <a href=\"https://i.stack.imgur.com/hMsN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMsN6.png\" alt=\"enter image description here\"></a></p>\n\n<p>['/profile/Colin-Welman/', '/profile/andreagressinger/', '/profile/Regina-Vannicola/', '/profile/Kathryn-Perkins/', etc</p>\n\n<p>The scraped_data appears like this:\n{'city': '(844) 292-5128(310) 505-7493(310) 562-8483(310) 422-9001(310) 439-5303(323) 736-4891(310) 383-8111(310) 482-2033(646) 872-4990(310) 963-1648', 'state': None, 'postal_code': None, 'facts and features': u'', 'address': ['/profile/Jonathan-Pearson/', '/profile/margret2/', '/profile/user89580694/', '/profile/Rinde-Philippe/', '/profile/RogerPerryLA/', '/profile/tamaramattox/', '/profile/JFKdogtownrealty/', '/profile/The-Cunningham-Group/', '/profile/TheHeatherGroup/', '/profile/EitanSeanConstine1/'], 'url': None, 'title': None, 'price': None, 'real estate provider': 'Jonathan PearsonMargret EricksonSusan &amp; Rachael RosalesRinde PhilippeRoger PerryTamara Mattoxjeff koneckeThe Cunningham GroupHeather Shawver &amp; Heather RogersEitan Sean Constine'}</p>\n\n<p>My goal is for each item to be on it's own row.\nI've tried this: adding 'newline' in the with open (it gives an error)\nadding delimiter to csv.Dictwriter (this added individual columns for each record not rows)</p>\n\n<p>Any help would be much appreciated.</p>\n"}, {"tags": ["python", "zapier"], "comments": [{"owner": {"reputation": 261, "user_id": 3735221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a6e4503729f80f0760e4f22e2caad5?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Dent", "link": "https://stackoverflow.com/users/3735221/arthur-dent"}, "edited": false, "score": 1, "creation_date": 1521062244, "post_id": 49287732, "comment_id": 85578575, "body": "Use a line break before indenting code in order to make it look right."}, {"owner": {"reputation": 4350, "user_id": 1825390, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0bb91ca3e4bded511a38e4a01c26efb2?s=128&d=identicon&r=PG", "display_name": "xavdid", "link": "https://stackoverflow.com/users/1825390/xavdid"}, "edited": false, "score": 0, "creation_date": 1521063415, "post_id": 49287732, "comment_id": 85579111, "body": "can you post some sample input and some of the errors you&#39;re getting?"}, {"owner": {"reputation": 11, "user_id": 8122475, "user_type": "registered", "profile_image": "https://graph.facebook.com/1561475183926228/picture?type=large", "display_name": "Robin Alberg", "link": "https://stackoverflow.com/users/8122475/robin-alberg"}, "edited": false, "score": 0, "creation_date": 1521071511, "post_id": 49287732, "comment_id": 85581987, "body": "Errors:       Traceback (most recent call last):   File &quot;/usr/lib64/python2.7/json/__init__.py&quot;, line 251, in dumps     sort_keys=sort_keys, **kw).encode(obj)   File &quot;/usr/lib64/python2.7/json/encoder.py&quot;, line 207, in encode     chunks = self.iterencode(o, _one_shot=True)   File &quot;/usr/lib64/python2.7/json/encoder.py&quot;, line 270, in iterencode     return _iterencode(o, 0)   File &quot;/var/runtime/awslambda/bootstrap.py&quot;, line 110, in decimal_serializer     raise TypeError(repr(o) + &quot; is not JSON serializable&quot;) TypeError: set([&#39;&lt; p &gt; H i    n e w b i e  &lt; / p &gt;&#39;]) is not JSON serializable"}, {"owner": {"reputation": 11, "user_id": 8122475, "user_type": "registered", "profile_image": "https://graph.facebook.com/1561475183926228/picture?type=large", "display_name": "Robin Alberg", "link": "https://stackoverflow.com/users/8122475/robin-alberg"}, "edited": false, "score": 0, "creation_date": 1521071682, "post_id": 49287732, "comment_id": 85582038, "body": "Sample input data:      &lt;p&gt;Ok, I see your request. Give me just a minute to get it set up &lt;/p&gt;,&lt;p&gt;ok&lt;/p&gt;,&lt;p&gt;You should see the email shortly. When you get logged in, let me know if you have any other questions, I&#39;m happy to help &lt;/p&gt;,&lt;p&gt;cool&lt;/p&gt;,&lt;p&gt;More Pipedrive testing&lt;/p&gt;"}, {"owner": {"reputation": 11, "user_id": 8122475, "user_type": "registered", "profile_image": "https://graph.facebook.com/1561475183926228/picture?type=large", "display_name": "Robin Alberg", "link": "https://stackoverflow.com/users/8122475/robin-alberg"}, "edited": false, "score": 0, "creation_date": 1521071893, "post_id": 49287732, "comment_id": 85582103, "body": "Input data is a conversation from a support tool. Feeds to zapier as a &quot;line item&quot; and Zapier puts those commas in between each value in the array. I&#39;m trying to get rid of the commas (by changing the line-item &quot;type&quot; to a regular string within this code), and only return the last five values of the line item."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8122475, "user_type": "registered", "profile_image": "https://graph.facebook.com/1561475183926228/picture?type=large", "display_name": "Robin Alberg", "link": "https://stackoverflow.com/users/8122475/robin-alberg"}, "edited": false, "score": 0, "creation_date": 1521135007, "post_id": 49290749, "comment_id": 85613703, "body": "Thank you SO much."}, {"owner": {"reputation": 4350, "user_id": 1825390, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0bb91ca3e4bded511a38e4a01c26efb2?s=128&d=identicon&r=PG", "display_name": "xavdid", "link": "https://stackoverflow.com/users/1825390/xavdid"}, "reply_to_user": {"reputation": 11, "user_id": 8122475, "user_type": "registered", "profile_image": "https://graph.facebook.com/1561475183926228/picture?type=large", "display_name": "Robin Alberg", "link": "https://stackoverflow.com/users/8122475/robin-alberg"}, "edited": false, "score": 0, "creation_date": 1521136905, "post_id": 49290749, "comment_id": 85614821, "body": "No problem! If this answer solved your problem, make sure to upvote it and select it as correct (<a href=\"https://stackoverflow.com/help/someone-answers\">info</a>)"}], "tags": [], "owner": {"reputation": 4350, "user_id": 1825390, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0bb91ca3e4bded511a38e4a01c26efb2?s=128&d=identicon&r=PG", "display_name": "xavdid", "link": "https://stackoverflow.com/users/1825390/xavdid"}, "is_accepted": false, "score": 0, "last_activity_date": 1521081877, "creation_date": 1521081877, "answer_id": 49290749, "question_id": 49287732, "link": "https://stackoverflow.com/questions/49287732/zapier-line-item-manipulation-with-python/49290749#49290749", "title": "Zapier line item manipulation with python", "body": "<p>Cool! So your issue is that you're returning a python <code>set</code> from your code step, which Zapier can't turn into json. </p>\n\n<p>That's happening because you've got a string between curlies. See:</p>\n\n<pre><code>&gt;&gt;&gt; {'asdf'}\nset(['asdf'])\n</code></pre>\n\n<p>Your input is a big string with html in it. It seems like you could split on <code>&lt;/p&gt;,&lt;p&gt;</code> and join on <code>' '</code>.</p>\n\n<p>In either case, you need to return your output as a value:</p>\n\n<pre><code>&gt;&gt;&gt; {'result': \" \".join(str(x) for x in L.split('&lt;/p&gt;,&lt;p&gt;'))}\n{'result': \"&lt;p&gt;Ok, I see your request. Give me just a minute to get it set up  ok You should see the email shortly. When you get logged in, let me know if you have any other questions, I'm happy to help  cool More Pipedrive testing&lt;/p&gt;\"}\n</code></pre>\n\n<p>You could also pull of the leading and trailing <code>&lt;p&gt;</code> tags if you'd like. </p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 11, "user_id": 8122475, "user_type": "registered", "profile_image": "https://graph.facebook.com/1561475183926228/picture?type=large", "display_name": "Robin Alberg", "link": "https://stackoverflow.com/users/8122475/robin-alberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521087928, "creation_date": 1521062068, "last_edit_date": 1521087928, "question_id": 49287732, "link": "https://stackoverflow.com/questions/49287732/zapier-line-item-manipulation-with-python", "title": "Zapier line item manipulation with python", "body": "<p>My zap runs a GET from Intercom which places all messages in a convo into a line-item field.</p>\n\n<p>I want to change the entire line item field into a string without all the commas that zapier puts in when it joins all the values. So I can write the conversation as a text note elsewhere. </p>\n\n<p>Someone at zapier suggested I should use join in code to do this but ofcourse they aren't allowed to give me the actual code. </p>\n\n<p>Input:</p>\n\n<pre><code>input_data = {\n    \"values\": \"&lt;p&gt;Ok, I see your request. Give me just a minute to get it set up &lt;/p&gt;,&lt;p&gt;ok&lt;/p&gt;,&lt;p&gt;You should see the email shortly. When you get logged in, let me know if you have any other questions, I'm happy to help &lt;/p&gt;,&lt;p&gt;cool&lt;/p&gt;,&lt;p&gt;More Pipedrive testing&lt;/p&gt;\"\n}\n</code></pre>\n\n<p>I tried the following code:  </p>\n\n<pre><code>L = input_data['values']  \nreturn {\" \".join(str(x) for x in L)}\n</code></pre>\n\n<p>But got the following errors: </p>\n\n<pre><code>TypeError(repr(o) + \" is not JSON serializable\") \nTypeError: set(['&lt; p &gt; H i n e w b i e &lt; / p &gt;']) is not JSON serializable\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "edited": false, "score": 1, "creation_date": 1521062546, "post_id": 49287707, "comment_id": 85578725, "body": "Sounds like the function actually has to be a callable that takes an x-value as input and yields a y-value as output. I guess you need a function which can give you a smooth curve from the histogram, so probably some kind of interpolation function."}, {"owner": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "edited": false, "score": 1, "creation_date": 1521062662, "post_id": 49287707, "comment_id": 85578779, "body": "That said, I feel like you will become beholden to the errors of the interpolation function, so your integral will not be exact <i>anyway</i>. You might be better off computing the integral using only the data points you actually <i>know</i>. That way you can probably estimate the extent of error in your integral better."}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1521062718, "post_id": 49287707, "comment_id": 85578804, "body": "What do you mean by &quot;samples&quot; at some positions of a continuous function?  Doesn&#39;t a function have a specific <i>value</i> at each position?"}, {"owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1521062776, "post_id": 49287707, "comment_id": 85578833, "body": "@PaulCornelius yes sorry that&#39;s maybe not the best English. I just mean to say that I do not have a callable function but just a list of representative values"}, {"owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "reply_to_user": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "edited": false, "score": 0, "creation_date": 1521062849, "post_id": 49287707, "comment_id": 85578874, "body": "@Praveen very good point. Then how would you suggest that I sould compute the integral? Perhaps some more refined way than just a trapezoidal rule"}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1521062951, "post_id": 49287707, "comment_id": 85578908, "body": "In that case perhaps you don&#39;t have a &quot;histogram&quot; at all but just a list of (x, y) values, where the y&#39;s are the function values for each x?"}, {"owner": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "edited": false, "score": 0, "creation_date": 1521063026, "post_id": 49287707, "comment_id": 85578944, "body": "Good question. Honestly, I don&#39;t know what the best way is. If I did, I&#39;d have posted an answer instead :-)"}, {"owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1521063043, "post_id": 49287707, "comment_id": 85578951, "body": "@PaulCornelius indeed"}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 1, "creation_date": 1521063230, "post_id": 49287707, "comment_id": 85579027, "body": "Then I would suggest that you have already solved the problem mathematically with the trapezoidal rule.  If you don&#39;t know what the function actually is, you have no valid way to interpolate between known points.  The only thing you can do is to integrate as best you can with the data points you&#39;ve got."}], "owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 412, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521061991, "creation_date": 1521061952, "last_edit_date": 1521061991, "question_id": 49287707, "link": "https://stackoverflow.com/questions/49287707/rombergs-method-in-python-creating-function-out-of-a-list", "title": "Romberg&#39;s method in Python - creating function out of a list", "body": "<p>I have an histogram <code>histo</code>, representing samples from a continuous function. I want to calculate the area underneath this curve. The histogram samples the function at positions corresponding to an array <code>x</code>.</p>\n\n<p>First of all I use a trapezoidal rule:</p>\n\n<pre><code>dx = x[1:] - x[:-1]\nresult = np.sum(0.5 * (histo[1:] + histo[:-1]) * dx)\n</code></pre>\n\n<p>That works fine, but I want to do better than that.\nTherefore I want to perform the integration with Romberg's method. To this purpose I want to use <code>scipy.integrate.romberg</code> (not a necessity, but I guess in Python it's the only way).</p>\n\n<p>So I first make the <code>histo</code> a function, say something like</p>\n\n<pre><code>lambda z: function_histo(z)\n</code></pre>\n\n<p>and then I use the method</p>\n\n<pre><code>integrate.romb(histo_function, min, max)\n</code></pre>\n\n<p>where <code>min</code> and <code>max</code> are the extremes of integration.</p>\n\n<p>My question is: how would I need to create this \"function\" <code>histo_function</code>? </p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 2577, "user_id": 6263317, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Imx4J.jpg?s=128&g=1", "display_name": "Jon Deaton", "link": "https://stackoverflow.com/users/6263317/jon-deaton"}, "is_accepted": false, "score": 0, "last_activity_date": 1521063179, "last_edit_date": 1521063179, "creation_date": 1521062787, "answer_id": 49287877, "question_id": 49287690, "link": "https://stackoverflow.com/questions/49287690/creating-subplots-with-matplotlib-with-different-titles-python/49287877#49287877", "title": "Creating subplots with matplotlib with different titles Python", "body": "<p>You'll want to use matplotlib's <a href=\"https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplots.html\" rel=\"nofollow noreferrer\"><code>subplots</code></a> command. You pass <code>plt.subplots</code> the number of rows that you want and the number of columns. It will return in a tuple the figure that it has created with the specified number of rows and columns, and an \"axis array\" which is a <code>numpy</code> array of dimension num rows by num cols. You can access a specific set of axes in the axis array like accessing a numpy array.</p>\n\n<p>The common syntax would be like this:</p>\n\n<pre><code>fig, axarr = plt.subplots(2, 2) # generate figure and axis array\n\naxarr[0][0].plot(some_x_data, some_y_data)\naxarr[0][0].set_title(\"Upper left-hand plot\")\naxarr[0][0].set_xlabel(\"x\")\naxarr[0][0].set_ylabel(\"y\")\n\naxarr[0][1].scatter(some_x_data, some_y_data)\naxarr[0][1].set_title(\"Upper right plot\")\n\naxarr[1][0].scatter(some_x_data, some_y_data)\naxarr[1][0].set_title(\"Lower left plot\")\n\naxarr[1][1].scatter(some_x_data, some_y_data)\naxarr[1][1].set_title(\"Lower right plot\")\n</code></pre>\n\n<p>Give this a try for starters</p>\n\n<pre><code>#_______________ polinomial ________________\n\nkoeficienti_polinom = np.polyfit(X, Y, 2)\n\na=koeficienti_polinom[0]\nb=koeficienti_polinom[1]\nc=koeficienti_polinom[2]\n\nxval=np.linspace(np.min(X), np.max(X))\n\nregression=a * xval**2 + b*xval + c\n\npredX = float(input(\"Enter: \"))\npredY = a * predX**2 + b*predX + c\n\n\nfig, axarr = plt.subplots(2, 2)\n\naxarr[0][0].scatter(X,Y, s=20, color=\"blue\" )\naxarr[0][0].scatter(predX, predY, color=\"red\")\naxarr[0][0].plot(xval, regression, color=\"black\", linewidth=1)\naxarr[0][0].set_title(\"Polynomial\")\naxarr[0][0].grid()\n\nprint(\"Polynomial: \",round(predY,2))\n\n#________________ linear _________________\n\nkoeficienti_linear = np.polyfit(X, Y, 1)\n\na1=koeficienti_linear[0]\nb1=koeficienti_linear[1]\n\nxval1=np.linspace(np.min(X), np.max(X))\n\nregression1=a1 * xval1 + b1\n\npredY1 = a1 * predX+ b1\n\n# idk what this plot is but its just a dot.\naxarr[0][1].scatter(predX, predY1, color=\"red\")\naxarr[0][1].set_title(\"predX vs predY1\")\naxarr[0][1].set_xlabel(\"predX\")\naxarr[0][1].set_ylabel(\"predY1\")\n\n# this one looks like its the linear one you want\naxarr[1][0].plot(xval1, regression1, color=\"black\", linewidth=1)\naxarr[1][0].set_xlabel(\"Size\")\naxarr[1][0].set_ylabel(\"Costs\")\naxarr[1][0].set_title(\"Cost Prediction Graph\")\naxarr[1][0].grid()\n\nfig.tight_layout()\nprint(\"Linear: \", round(predY1, 2))\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 9344032, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/152470108740850/picture?type=large", "display_name": "Aleksandar Beat", "link": "https://stackoverflow.com/users/9344032/aleksandar-beat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "closed_date": 1521063294, "answer_count": 1, "score": 0, "last_activity_date": 1521063179, "creation_date": 1521061868, "question_id": 49287690, "link": "https://stackoverflow.com/questions/49287690/creating-subplots-with-matplotlib-with-different-titles-python", "closed_reason": "Duplicate", "title": "Creating subplots with matplotlib with different titles Python", "body": "<p>I created a small program that does linear and polynomial regression. \nFor now, both regressions are on the same graph. I want to put them to two different graphs (to make subplots), but also I want to have different titles (Linear regression and Polynomial regression).</p>\n\n<p>I do not know how to do this, can you please help me?</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport math\n\nX = np.array([1,2,3,5,6,7,4,7,8,9,5,10,11,7,6,6,10,11,11,12,13,13,14])\nY = np.array([2,3,5,8,11,14,9,19,15,19,15,16,14,7,13,13,14,13,23,25,26,27,33])\n\n#_______________ polinomial ________________\n\nkoeficienti_polinom = np.polyfit(X, Y, 2)\n\na=koeficienti_polinom[0]\nb=koeficienti_polinom[1]\nc=koeficienti_polinom[2]\n\nxval=np.linspace(np.min(X), np.max(X))\n\nregression=a * xval**2 + b*xval + c \n\npredX = float(input(\"Enter: \"))    \npredY = a * predX**2 + b*predX + c       \n\nplt.scatter(X,Y, s=20, color=\"blue\" )      \nplt.scatter(predX, predY, color=\"red\")  \nplt.plot(xval, regression, color=\"black\", linewidth=1) \n\nprint(\"Polynomial: \",round(predY,2))\n\n#________________ linear _________________\n\nkoeficienti_linear = np.polyfit(X, Y, 1)\n\na1=koeficienti_linear[0]\nb1=koeficienti_linear[1]\n\nxval1=np.linspace(np.min(X), np.max(X)) \n\nregression1=a1 * xval1 + b1 \n\npredY1 = a1 * predX+ b1 \n\nplt.scatter(predX, predY1, color=\"red\")  \nplt.subplot(2,2,2)\n\nplt.plot(xval1, regression1, color=\"black\", linewidth=1) \n\n\nplt.xlabel(\"Size\")\nplt.ylabel(\"Costs\") \nplt.title(\"Cost Prediction Graph\")  \nplt.grid()  \n\nprint(\"Linear: \", round(predY1,2))\n\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "multithreading", "multiprocessing", "scapy"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1521061970, "post_id": 49287685, "comment_id": 85578425, "body": "&quot; I used the code below to try to generate packets using 2 separate threads at what should be ~30Mbps in each thread. However it seems like each thread running took a performance penalty, with each thread only generating ~15Mbps of data. &quot; Classic behaviour of the <a href=\"https://wiki.python.org/moin/GlobalInterpreterLock\" rel=\"nofollow noreferrer\">Global Interpreter Lock</a>. Your other use case is more akin to <a href=\"https://docs.python.org/3/library/multiprocessing.html\" rel=\"nofollow noreferrer\"><code>multiprocessing</code></a> where each individual process is restricted by its own GIL."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521062115, "post_id": 49287685, "comment_id": 85578496, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20939299/does-python-support-multithreading-can-it-speed-up-execution-time\">Does Python support multithreading? Can it speed up execution time?</a>"}, {"owner": {"reputation": 419, "user_id": 3878723, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/566726f89bb35db7ce1c1b992c9513c6?s=128&d=identicon&r=PG&f=1", "display_name": "tyler124", "link": "https://stackoverflow.com/users/3878723/tyler124"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1521157956, "post_id": 49287685, "comment_id": 85624088, "body": "That does appear to be the issue. I created a new process using multiprocess instead and was able to generate the full amount of data. Learned something new today, thanks!"}], "owner": {"reputation": 419, "user_id": 3878723, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/566726f89bb35db7ce1c1b992c9513c6?s=128&d=identicon&r=PG&f=1", "display_name": "tyler124", "link": "https://stackoverflow.com/users/3878723/tyler124"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1521062060, "creation_date": 1521061850, "last_edit_date": 1521062060, "question_id": 49287685, "link": "https://stackoverflow.com/questions/49287685/able-to-send-packets-much-faster-using-separate-python-instances-rather-than-thr", "title": "Able to send packets much faster using separate Python instances rather than threads", "body": "<p>I have a program where I'm sending a list of packets out on a Scapy level 2 socket. </p>\n\n<pre><code>def burstPackets(packetList, socket, rateHz, executeTimes):\n\n    rate = Decimal(1)/Decimal(rateHz)\n\n    for i in range(0, executeTimes):\n        for packet in packetList:\n            socket.send(packet)\n            time.sleep(rate) \n\n\ndef executeRecordingTest():\n\n    DFI_PACKET_SIZE = 1250\n    DFI_PACKET_RATE_HZ = 3000\n    DFI_SECONDS_OF_PACKETS_TO_GENERATE = 30\n    DFI_THREAD_EXECUTION_CYCLES = 1\n\n    packetList3328 = generatePacketList(3328, DFI_PACKET_SIZE, DFI_PACKET_RATE_HZ, DFI_SECONDS_OF_PACKETS_TO_GENERATE)\n\n\n    myIfaces=ifaces.data.keys()\n    ODN_INTERFACE = myIfaces[1]\n\n    socket3328 = conf.L2socket(iface=ODN_INTERFACE)\n\n    burstPackets(packetList3328, socket3328, DFI_PACKET_RATE_HZ, DFI_THREAD_EXECUTION_CYCLES)\n</code></pre>\n\n<p>I can run multiple instances of this code by opening up multiple command line windows and running the same python script in each one of them. Each separate instance of the Python script is able to generate ~30Mbps of packets, with 3 windows generating ~90Mbps. However, i'd like to generate a large amount of packets in a single script using threading. I used the code below to try to generate packets using 2 separate threads at what should be ~30Mbps in each thread. However it seems like each thread running took a performance penalty, with each thread only generating ~15Mbps of data. How do the multiple instances not incur the performance penalty that running multiple threads do in this case? </p>\n\n<pre><code>def burstPackets(packetList, socket, rateHz, executeTimes):\n\n    rate = Decimal(1)/Decimal(rateHz)\n\n    for i in range(0, executeTimes):\n        for packet in packetList:\n            socket.send(packet)\n            time.sleep(rate) \n\n\ndef executeRecordingTest():\n\n    DFI_PACKET_SIZE = 1250\n    DFI_PACKET_RATE_HZ = 3000\n    DFI_SECONDS_OF_PACKETS_TO_GENERATE = 30\n    DFI_THREAD_EXECUTION_CYCLES = 1\n\n    packetList3328 = generatePacketList(3328, DFI_PACKET_SIZE, DFI_PACKET_RATE_HZ, DFI_SECONDS_OF_PACKETS_TO_GENERATE)\n\n\n    myIfaces=ifaces.data.keys()\n    ODN_INTERFACE = myIfaces[1]\n\n    socket3328 = conf.L2socket(iface=ODN_INTERFACE)\n    socket3328_2 = conf.L2socket(iface=ODN_INTERFACE)\n\n    thread1 = threading.Thread(target=burstPackets, args=(packetList3328, socket3328, DFI_PACKET_RATE_HZ, DFI_THREAD_EXECUTION_CYCLES) )\n    thread2 = threading.Thread(target=burstPackets, args=(packetList3328, socket3328_2, DFI_PACKET_RATE_HZ, DFI_THREAD_EXECUTION_CYCLES) )\n\n    thread1.start()\n    thread2.start()\n    thread1.join()\n    thread2.join()\n</code></pre>\n"}, {"tags": ["python", "nameerror"], "comments": [{"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1521061761, "post_id": 49287627, "comment_id": 85578337, "body": "Notice that this is not a <code>NameError</code> but an UnboundLocalError. When you assign to a variable somewhere later in the same scope, python recognizes this (even before you come to the command!) and thinks the variable is local. You have to explicitly say that the variable is global via <code>global variable</code>. Also the <code>global</code> in your <code>config.py</code> is superflous, the variable is already global."}, {"owner": {"reputation": 1, "user_id": 2432959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b972ef45443ffb15e263e2a1112a1fa?s=128&d=identicon&r=PG", "display_name": "user2432959", "link": "https://stackoverflow.com/users/2432959/user2432959"}, "reply_to_user": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1521070251, "post_id": 49287627, "comment_id": 85581635, "body": "Thank you, I somehow missed the different error code, and the duplicate you identified and your comment helped me resolve the issue."}], "owner": {"reputation": 1, "user_id": 2432959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b972ef45443ffb15e263e2a1112a1fa?s=128&d=identicon&r=PG", "display_name": "user2432959", "link": "https://stackoverflow.com/users/2432959/user2432959"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1521061768, "answer_count": 0, "score": 0, "last_activity_date": 1521061550, "creation_date": 1521061550, "question_id": 49287627, "link": "https://stackoverflow.com/questions/49287627/why-future-code-cause-nameerror-in-python", "closed_reason": "Duplicate", "title": "Why future code cause NameError in Python", "body": "<p>I have a Python 3.6.4 program on windows which uses a configuration file, config.py, to define global variables, as well as the main.py script which does other stuff. My config.py contains a string named \"variable\" with \"value\" as its value:</p>\n\n<pre><code># config.py\nglobal variable\nvariable = \"value\"\n</code></pre>\n\n<p>If I import all variables in main.py and try to print(variable), it works fine. But if I try: variable AFTERWARDS, then it fails on the first print(variable). Sorry for the long code, I tried to reproduce the issue with smaller pieces of code and it worked fine, which really confuses me:</p>\n\n<pre><code># main.py\nimport argparse, logging, sys\nfrom config import *\n\ndef main():\n    parser = argparse.ArgumentParser()\n    parser.add_argument('-v',\n                    '--verbose',\n                    action='store_true',\n                    help=\"Rapporter davantage d'information.\")\n    parser.add_argument('-l',\n                    '--journal',\n                    action='store',\n                    default=None,\n                    help=\"Sp\u00e9cifier le nom du journal.\")\n    parser.add_argument('--csv',\n                    action=\"store_true\",\n                    help=\"Exporter les r\u00e9sultats vers un fichier de sortie CSV.\")\n    args = parser.parse_args()\n\n    # Configuration du journal\n    log_frmt = \"%(asctime)s[%(levelname)s] %(message)s\"\n    date_frmt = \"%Y-%m-%d %H:%M:%S \"\n    if args.verbose:\n        log_lvl = logging.DEBUG\n    else:\n        log_lvl = logging.INFO\n\n    logging.basicConfig(filename=args.journal,\n                    format=log_frmt,\n                    datefmt=date_frmt,\n                    level=log_lvl)\n\n    logging.info(f\"Journal initi\u00e9 : {args.journal}\")\n\n    if args.csv:\n        print(variable)\n        sys.exit()\n\n        #try:\n            #print(variable)\n            #variable\n            #logging.debug(f\"variable = {variable}\")\n            #sys.exit()\n        #except NameError:\n            #variable = None\n            #logging.warning(\"variable non-d\u00e9fini, initialis\u00e9 \u00e0 None\")\n            #sys.exit()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>$ python main.py --csv\n2018-03-14 16:44:20 [INFO] Journal initi\u00e9 : None\nvalue\n</code></pre>\n\n<p>...which is what you'd expect. But if I uncomment the last part, AFTER sys.exit():</p>\n\n<pre><code>    ...\n    logging.info(f\"Journal initi\u00e9 : {args.journal}\")\n\n    if args.csv:\n        print(variable)\n        sys.exit()\n\n        try:\n            print(variable)\n            variable\n            logging.debug(f\"variable = {variable}\")\n            sys.exit()\n        except NameError:\n            variable = None\n            logging.warning(\"variable non-d\u00e9fini, initialis\u00e9 \u00e0 None\")\n            sys.exit()\n\nif __name__ == '__main__':\nmain()\n</code></pre>\n\n<p>...it fails on the first print(variable):</p>\n\n<pre><code>$ python main.py --csv\n2018-03-14 16:55:58 [INFO] Journal initi\u00e9 : None\nTraceback (most recent call last):\n  File \"main.py\", line 52, in &lt;module&gt;\n    main()\n  File \"main.py\", line 38, in main\n    print(variable)\nUnboundLocalError: local variable 'variable' referenced before assignment\n</code></pre>\n\n<p>What could possibly be causing this? Nothing else changed, I saved my script, reloaded python (I run it from git bash, not from the python console which doesn't reload modules)... what else can I try?</p>\n\n<p>I tried reproducing this with a simpler script, with no logging and no argparse, but could reproduce it.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "string", "pandas", "dataframe", "concatenation"], "answers": [{"comments": [{"owner": {"reputation": 1098, "user_id": 2143578, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7cfb98ea957d0c10697ea721726c7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Zubo", "link": "https://stackoverflow.com/users/2143578/zubo"}, "edited": false, "score": 0, "creation_date": 1521061730, "post_id": 49287592, "comment_id": 85578316, "body": "doesn&#39;t work for me, unfortunately: I get a <code>TypeError: must be str, not map</code>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521062230, "post_id": 49287592, "comment_id": 85578568, "body": "Always prefer <code>astype</code> when performing type conversions in numpy/pandas. Also, your code works only in python2 only, unless you collect the output of <code>map</code> to a list."}, {"owner": {"reputation": 930, "user_id": 3886071, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/0e0fe737a69237bfef844a55e2cf0294?s=128&d=identicon&r=PG&f=1", "display_name": "n3utrino", "link": "https://stackoverflow.com/users/3886071/n3utrino"}, "reply_to_user": {"reputation": 1098, "user_id": 2143578, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7cfb98ea957d0c10697ea721726c7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Zubo", "link": "https://stackoverflow.com/users/2143578/zubo"}, "edited": false, "score": 0, "creation_date": 1521062374, "post_id": 49287592, "comment_id": 85578637, "body": "@Zubo Your columns A and B must not already be strings types then. I edited my post with .astype(str) commands to convert them to strings. Sorry for the confusion. Thanks for the tip COLDSPEED."}], "tags": [], "owner": {"reputation": 930, "user_id": 3886071, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/0e0fe737a69237bfef844a55e2cf0294?s=128&d=identicon&r=PG&f=1", "display_name": "n3utrino", "link": "https://stackoverflow.com/users/3886071/n3utrino"}, "is_accepted": false, "score": 0, "last_activity_date": 1521062318, "last_edit_date": 1521062318, "creation_date": 1521061405, "answer_id": 49287592, "question_id": 49287528, "link": "https://stackoverflow.com/questions/49287528/concatenate-string-columns-and-index/49287592#49287592", "title": "Concatenate string columns and index", "body": "<pre><code>df['C'] = df['A'].astype(str) + df['B'].astype(str) + np.array(map(str, df.index.values))\n</code></pre>\n\n<p>Basically you access the df index with df.index, and to turn that into a numpy array you add the .values, and to convert that into a string (to easily add to the previous columns, which are strings), you can use a map function.</p>\n\n<p>Edit: added .astype(str) to columns A and B, to convert them to strings. If they are already strings, this won't be necessary.</p>\n"}, {"comments": [{"owner": {"reputation": 1098, "user_id": 2143578, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7cfb98ea957d0c10697ea721726c7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Zubo", "link": "https://stackoverflow.com/users/2143578/zubo"}, "edited": false, "score": 2, "creation_date": 1521061909, "post_id": 49287660, "comment_id": 85578399, "body": "Beautiful. Thanks a lot!"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 4, "last_activity_date": 1521061734, "creation_date": 1521061734, "answer_id": 49287660, "question_id": 49287528, "link": "https://stackoverflow.com/questions/49287528/concatenate-string-columns-and-index/49287660#49287660", "title": "Concatenate string columns and index", "body": "<p><strong>Option 1</strong><br>\nFor better scalability, use <code>assign</code> + <code>agg</code>:</p>\n\n<pre><code>df['C'] = df.assign(index=df.index.astype(str)).agg(''.join, 1)\ndf\n\n   A  B    C\n0  c  d  cd0\n1  e  f  ef1\n</code></pre>\n\n<p>Or, using <code>np.add.reduce</code> in a similar fashion:</p>\n\n<pre><code>df['C'] = np.add.reduce(df.assign(index=df.index.astype(str)), axis=1)\ndf\n\n   A  B    C\n0  c  d  cd0\n1  e  f  ef1\n</code></pre>\n\n<hr>\n\n<p><strong>Option 2</strong><br>\nA less scalable option using vectorised string concatenation:</p>\n\n<pre><code>df['C'] = df['A'] + df['B'] + df.index.astype(str)\ndf\n\n   A  B    C\n0  c  d  cd0\n1  e  f  ef1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1521063345, "last_edit_date": 1521063345, "creation_date": 1521062814, "answer_id": 49287884, "question_id": 49287528, "link": "https://stackoverflow.com/questions/49287528/concatenate-string-columns-and-index/49287884#49287884", "title": "Concatenate string columns and index", "body": "<p><strong>With <code>pd.DataFrame.itertuples</code></strong><br>\nPython 3.6</p>\n\n<pre><code>df.assign(C=[f'{a}{b}{i}' for i, a, b in df.itertuples()])\n\n   A  B    C\n0  c  d  cd0\n1  e  f  ef1\n</code></pre>\n\n<hr>\n\n<p><strong>With <code>pd.Series.str.cat</code></strong>  </p>\n\n<pre><code>df.assign(C=df.A.str.cat(df.B).str.cat(df.index.astype(str)))\n\n   A  B    C\n0  c  d  cd0\n1  e  f  ef1\n</code></pre>\n\n<hr>\n\n<p><strong>Mish/Mash</strong>  </p>\n\n<pre><code>from operator import add\nfrom functools import reduce\nfrom itertools import chain\n\ndf.assign(C=reduce(add, chain((df[c] for c in df), [df.index.astype(str)])))\n\n   A  B    C\n0  c  d  cd0\n1  e  f  ef1\n</code></pre>\n\n<hr>\n\n<p><strong>Summation</strong>  </p>\n\n<pre><code>df.assign(C=df.sum(1) + df.index.astype(str))\n\n   A  B    C\n0  c  d  cd0\n1  e  f  ef1\n</code></pre>\n"}], "owner": {"reputation": 1098, "user_id": 2143578, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7cfb98ea957d0c10697ea721726c7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Zubo", "link": "https://stackoverflow.com/users/2143578/zubo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 0, "accepted_answer_id": 49287660, "answer_count": 3, "score": 2, "last_activity_date": 1547408121, "creation_date": 1521061168, "last_edit_date": 1547408121, "question_id": 49287528, "link": "https://stackoverflow.com/questions/49287528/concatenate-string-columns-and-index", "title": "Concatenate string columns and index", "body": "<p>I have a <code>DataFrame</code> like this: </p>\n\n<pre><code>A    B\n----------\nc    d\ne    f\n</code></pre>\n\n<p>I'd like to introduce a third column, made up of a concatenation of <code>A</code>, <code>B</code> and the index, so that the <code>DataFrame</code> becomes: </p>\n\n<pre><code>A    B    C\n---------------\nc    d    cd0\ne    f    ef1\n</code></pre>\n\n<p>I'd like to do that like so: </p>\n\n<pre><code>df['C'] = df['A'] + df['B'] + # and here I don't know how to reference the row index. \n</code></pre>\n\n<p>How can I do this? </p>\n"}, {"tags": ["python", "syntax-error", "newline", "console.writeline"], "comments": [{"owner": {"reputation": 2597, "user_id": 3032364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zN0X3.jpg?s=128&g=1", "display_name": "Gsk", "link": "https://stackoverflow.com/users/3032364/gsk"}, "edited": false, "score": 3, "creation_date": 1521061260, "post_id": 49287498, "comment_id": 85578080, "body": "I do not understand what you&#39;re trying to achieve, but <code>if colour == &quot;Red&quot; or &quot;red&quot;</code> will always evaluate to True. If you want to check if colour is Red or red, use <code>if colour.lower() == &quot;red&quot;</code> or  <code>if colour == &quot;Red&quot; or colour == &quot;red&quot;</code>"}, {"owner": {"reputation": 8215, "user_id": 367319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cLGQd.jpg?s=128&g=1", "display_name": "Saher Ahwal", "link": "https://stackoverflow.com/users/367319/saher-ahwal"}, "edited": false, "score": 0, "creation_date": 1521061863, "post_id": 49287498, "comment_id": 85578379, "body": "paste the stack trace of error please"}], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 5003848, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12b681a7a5cab103fa1ea1165685555b?s=128&d=identicon&r=PG&f=1", "display_name": "tonysdg", "link": "https://stackoverflow.com/users/5003848/tonysdg"}, "is_accepted": false, "score": 0, "last_activity_date": 1521061450, "creation_date": 1521061450, "answer_id": 49287604, "question_id": 49287498, "link": "https://stackoverflow.com/questions/49287498/create-new-lines-in-output-text-python/49287604#49287604", "title": "Create new lines in output text - Python", "body": "<p>I'm not sure exactly what class you're using (what is <code>cat</code>?), but presumably you need to add newline characters (<code>'\\n'</code>) to each <code>cat.write(...)</code> call.</p>\n"}], "owner": {"reputation": 1, "user_id": 9264259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwCJa.jpg?s=128&g=1", "display_name": "Hana", "link": "https://stackoverflow.com/users/9264259/hana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1521101043, "creation_date": 1521061024, "last_edit_date": 1521101043, "question_id": 49287498, "link": "https://stackoverflow.com/questions/49287498/create-new-lines-in-output-text-python", "title": "Create new lines in output text - Python", "body": "<p>I'm writing a code in Python IDLE 3.6 that prints out a user's name in their own choice of style and colour and everything is working fine apart from this. Somehow it won't print out the three highlighted lines underneath each other and I've tried multiple methods but they all keep ending up with unexpected character after line continuation character. Please help?</p>\n\n<pre><code>if style == \":\":\n        if colour == \"Red\" or \"red\":\n            cat.write(( \":\" * (len(name) + 4)), \"stderr\")\n            cat.write((\":\", name, \":\"), \"stderr\")\n            cat.write((\":\" * (len(name) + 4)), \"stderr\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pickle"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1521062539, "post_id": 49287489, "comment_id": 85578720, "body": "If you don&#39;t have anything in place to separate your pickles from each other, you probably don&#39;t have anything in place to make sure your pickles stay in one piece, either. Make sure you don&#39;t end up trying to load half a pickle, or half of two pickles put together."}, {"owner": {"reputation": 1285, "user_id": 5003848, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12b681a7a5cab103fa1ea1165685555b?s=128&d=identicon&r=PG&f=1", "display_name": "tonysdg", "link": "https://stackoverflow.com/users/5003848/tonysdg"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1521134861, "post_id": 49287489, "comment_id": 85613595, "body": "@user2357112: I ultimately ended up fixing the length of messages I&#39;m passing at 8192 bytes -- anything longer raises an exceptions, shorter gets padded. It&#39;s a hack, but it solves the problem for now (it&#39;s a research prototype, so it&#39;s an acceptable hack). That solves the &quot;half a pickle&quot; problem -- as for the &quot;half of two pickle&quot; problems, I avoid that by using a message queue for each network connection."}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1521061695, "post_id": 49287568, "comment_id": 85578301, "body": "@user2357112: If you don&#39;t break out of loop, it will load them all. That&#39;s the point of the infinite loop in the generator, and the point of the answer the OP linked."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1521061903, "post_id": 49287568, "comment_id": 85578395, "body": "I reverted the edit because I&#39;m intentionally mimicking <a href=\"https://stackoverflow.com/a/28745948/5003848\">the OP&#39;s linked answer</a>; I agree the name <code>load</code> isn&#39;t great, but I&#39;d prefer to perform minimal changes to keep the concepts in sync."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1521062442, "post_id": 49287568, "comment_id": 85578669, "body": "I was actually in the middle of editing the linked answer too, to change the function name and add a bit more explanation."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 2, "last_activity_date": 1521061819, "last_edit_date": 1521061819, "creation_date": 1521061311, "answer_id": 49287568, "question_id": 49287489, "link": "https://stackoverflow.com/questions/49287489/how-do-i-unpickle-multiple-pickled-items-in-a-single-bytes-object/49287568#49287568", "title": "How do I unpickle multiple pickled items in a single bytes object?", "body": "<p>Follow the pattern in your linked answer, but <a href=\"https://docs.python.org/3/library/io.html#io.BytesIO\" rel=\"nofollow noreferrer\">use <code>io.BytesIO</code> to make an in-memory file-like object</a>, e.g.:</p>\n\n<pre><code># Changed to receive open file-like object instead of name\ndef load(fileobj):\n    while True:\n        try:\n            yield pickle.load(fileobj)\n        except EOFError:\n            break\n\ntest = pickle.dumps(\"hello\")\ntest += pickle.dumps(\"world\")\n\nwith io.BytesIO(test) as f:\n    for obj in load(f):\n        ... do stuff with obj ...\n</code></pre>\n"}], "owner": {"reputation": 1285, "user_id": 5003848, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/12b681a7a5cab103fa1ea1165685555b?s=128&d=identicon&r=PG&f=1", "display_name": "tonysdg", "link": "https://stackoverflow.com/users/5003848/tonysdg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 49287568, "answer_count": 1, "score": 1, "last_activity_date": 1521061819, "creation_date": 1521061001, "last_edit_date": 1521061113, "question_id": 49287489, "link": "https://stackoverflow.com/questions/49287489/how-do-i-unpickle-multiple-pickled-items-in-a-single-bytes-object", "title": "How do I unpickle multiple pickled items in a single bytes object?", "body": "<p><a href=\"https://stackoverflow.com/a/28745948/5003848\">This answer</a> explains how you would unpickle multiple items in a <em>file</em>.</p>\n\n<p>However, I'm sending pickled objects across the network. If two pickled objects are sent in rapid succession, they could end up read into the same buffer.</p>\n\n<p>How do I replicate the behavior in the linked answer with <code>bytes</code> objects? Is there a well-defined terminator I can split on, or a way to \"advance\" the <code>bytes</code> object?</p>\n\n<p>Ex:</p>\n\n<pre><code>test = pickle.dumps(\"hello\")\ntest += pickle.dumps(\"world\")\n\nprint(pickle.loads(test)) # Prints \"hello\" -- how do I get \"world\"?\n</code></pre>\n"}, {"tags": ["python", "docker", "pip", "virtualenv", "dockerfile"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1521060857, "post_id": 49287441, "comment_id": 85577904, "body": "I think you misunderstand how Docker builds work - they don&#39;t occur at container start time."}], "answers": [{"comments": [{"owner": {"reputation": 743, "user_id": 9493938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f968cb2eea84731ff68387cb55d99cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Baily", "link": "https://stackoverflow.com/users/9493938/baily"}, "edited": false, "score": 0, "creation_date": 1521061426, "post_id": 49287543, "comment_id": 85578160, "body": "However for the sake of debugging, is there an alternative to building and running new images when things are changed? My current work flow has been making edits to docker -&gt; docker build -&gt; docker run. Each time creating new images, which is obviously bad practice, and takes hours when there are 15 different requirements.txt files that are installed each build."}, {"owner": {"reputation": 121, "user_id": 9493710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699786e81ded1fe22bddd179bada8253?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Platonov", "link": "https://stackoverflow.com/users/9493710/dmitry-platonov"}, "reply_to_user": {"reputation": 743, "user_id": 9493938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f968cb2eea84731ff68387cb55d99cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Baily", "link": "https://stackoverflow.com/users/9493938/baily"}, "edited": false, "score": 1, "creation_date": 1521062360, "post_id": 49287543, "comment_id": 85578630, "body": "For debugging, you can attach to your container with <code>docker exec -it &lt;container&gt; &#47;bin&#47;bash</code> and make edits, probably using volume for sources. If you have multiple containers with same dependencies, you can build intermediate image with all the dependencies and build other images <code>FROM</code> it."}], "tags": [], "owner": {"reputation": 121, "user_id": 9493710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699786e81ded1fe22bddd179bada8253?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Platonov", "link": "https://stackoverflow.com/users/9493710/dmitry-platonov"}, "is_accepted": false, "score": 2, "last_activity_date": 1521066459, "last_edit_date": 1521066459, "creation_date": 1521061217, "answer_id": 49287543, "question_id": 49287441, "link": "https://stackoverflow.com/questions/49287441/transfer-virtualenv-to-docker-image/49287543#49287543", "title": "Transfer virtualenv to docker image", "body": "<p>While possible, it's not recommended.</p>\n\n<ul>\n<li>Dependencies (library versions, globally installed packages) can be different on host machine and container.</li>\n<li>Image builds will not be 100% reproducible on other hosts.</li>\n<li>Impact of pip install is not big. Each RUN command creates it's own layer, which are cached locally and also in repository, so pip install will be re-run only when requirements.txt is changed (or previous layers are rebuilt).</li>\n</ul>\n\n<p>To trigger pip install only on requirements.txt changes, Dockerfile should start this way:</p>\n\n<p><code>...\nCOPY requirements.txt ./\nRUN pip install -r requirements.txt\nCOPY src/ ./\n...\n</code></p>\n\n<p>Also, it will be run only on image build, not container startup.</p>\n\n<p>If you have multiple containers with same dependencies, you can build intermediate image with all the dependencies and build other images <code>FROM</code> it.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 4013382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s2BQkpj90I0/AAAAAAAAAAI/AAAAAAAAAAA/vztD9Nd_b7M/photo.jpg?sz=128", "display_name": "Indradeep Biswas", "link": "https://stackoverflow.com/users/4013382/indradeep-biswas"}, "is_accepted": true, "score": 5, "last_activity_date": 1521063695, "creation_date": 1521063695, "answer_id": 49288072, "question_id": 49287441, "link": "https://stackoverflow.com/questions/49287441/transfer-virtualenv-to-docker-image/49288072#49288072", "title": "Transfer virtualenv to docker image", "body": "<p>We had run into this problem earlier and here are a few things we considered:</p>\n\n<ol>\n<li>Consider building base images that have common packages installed.  The app containers can then use the one of these base containers and install the differential.  </li>\n<li><a href=\"https://packaging.python.org/guides/index-mirrors-and-caches/\" rel=\"noreferrer\" title=\"Package Caching\">Cache the Pip packages</a> on a local path that can be mounted on the container.  That'll save the time to download the packages.  </li>\n</ol>\n\n<p>Depending on the complexity of your project one may suit better than the other - you may also consider a hybrid approach to find maximum optimization.</p>\n"}], "owner": {"reputation": 743, "user_id": 9493938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f968cb2eea84731ff68387cb55d99cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Baily", "link": "https://stackoverflow.com/users/9493938/baily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3365, "favorite_count": 1, "accepted_answer_id": 49288072, "answer_count": 2, "score": 6, "last_activity_date": 1521066459, "creation_date": 1521060791, "question_id": 49287441, "link": "https://stackoverflow.com/questions/49287441/transfer-virtualenv-to-docker-image", "title": "Transfer virtualenv to docker image", "body": "<p>Is it possible to transfer virtual environment data from a local host to a docker image via the ADD command? </p>\n\n<p>Rather than doing pip installs inside the container, I would rather the user have all of that done locally and simply transfer the virtual environment into the container. Granted all of the files are the same name locally as in the docker container, along with all directories being nested properly. </p>\n\n<p>This would save minutes to hours if it was possible to transfer virtual environment settings into a docker image. Maybe I am thinking about this in the wrong abstract. </p>\n\n<p>It just feels very inefficient doing pip installs via a requirements.txt that was passed into the container, as opposed to doing it all locally, otherwise each time the image is started up it has to re-install the same dependencies that have not changed from each image's build.</p>\n"}, {"tags": ["python", "python-3.x", "basehttpserver"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1521061016, "post_id": 49287434, "comment_id": 85577967, "body": "<code>otherImages</code> returns <code>None</code>"}], "answers": [{"comments": [{"owner": {"reputation": 781, "user_id": 8644283, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f848eda3b3994c341f237c9e53f2923b?s=128&d=identicon&r=PG&f=1", "display_name": "Kade Williams", "link": "https://stackoverflow.com/users/8644283/kade-williams"}, "edited": false, "score": 0, "creation_date": 1521062275, "post_id": 49287473, "comment_id": 85578587, "body": "Why is not returning anything?"}, {"owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "reply_to_user": {"reputation": 781, "user_id": 8644283, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f848eda3b3994c341f237c9e53f2923b?s=128&d=identicon&r=PG&f=1", "display_name": "Kade Williams", "link": "https://stackoverflow.com/users/8644283/kade-williams"}, "edited": false, "score": 0, "creation_date": 1521062407, "post_id": 49287473, "comment_id": 85578652, "body": "Because you don&#39;t have a <code>return</code> statement.  The only body of that method (at least, as far as you&#39;ve shown us) is to write some data to a file."}, {"owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "reply_to_user": {"reputation": 781, "user_id": 8644283, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f848eda3b3994c341f237c9e53f2923b?s=128&d=identicon&r=PG&f=1", "display_name": "Kade Williams", "link": "https://stackoverflow.com/users/8644283/kade-williams"}, "edited": false, "score": 0, "creation_date": 1521063105, "post_id": 49287473, "comment_id": 85578973, "body": "You&#39;re still misunderstanding what&#39;s going on, unfortunately.  <code>self.wfile.write</code> is a <i>method</i> that sends data to a <i>socket</i> somewhere.  It&#39;s <i>return value</i> is an integer, which can&#39;t be iterated over any more than <code>None</code> can be iterated over.  You&#39;re confusing return values with output in a way that&#39;s difficult to explain more clearly.  Writing to a file (or socket, or whatever) sends that data <i>somewhere else</i>.  When you <i>return</i> something, you are making it available to the <i>calling method</i>."}, {"owner": {"reputation": 781, "user_id": 8644283, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f848eda3b3994c341f237c9e53f2923b?s=128&d=identicon&r=PG&f=1", "display_name": "Kade Williams", "link": "https://stackoverflow.com/users/8644283/kade-williams"}, "edited": false, "score": 0, "creation_date": 1521063656, "post_id": 49287473, "comment_id": 85579228, "body": "I think I understand now.  So I could probably make &#39;otherImages&#39; method return a string instead of writing.  Then manipulate that string in the &#39;narrow&#39; method and take the output and write that."}], "tags": [], "owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "is_accepted": false, "score": 3, "last_activity_date": 1521060944, "creation_date": 1521060944, "answer_id": 49287473, "question_id": 49287434, "link": "https://stackoverflow.com/questions/49287434/object-is-not-iterable-when-replacing-word-called-by-function/49287473#49287473", "title": "Object is not iterable when replacing word called by function", "body": "<p><code>self.otherImages</code> doesn't <code>return</code> anything!  When a function does not return an explicit value in python, it returns <code>None</code>.  You cannot iterate over <code>None</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2793, "user_id": 182894, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/df52847e53e2233d2927c5fe09d2f62b?s=128&d=identicon&r=PG", "display_name": "roydukkey", "link": "https://stackoverflow.com/users/182894/roydukkey"}, "edited": false, "score": 1, "creation_date": 1521067923, "post_id": 49288150, "comment_id": 85580939, "body": "What changes were made? Why?"}, {"owner": {"reputation": 781, "user_id": 8644283, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f848eda3b3994c341f237c9e53f2923b?s=128&d=identicon&r=PG&f=1", "display_name": "Kade Williams", "link": "https://stackoverflow.com/users/8644283/kade-williams"}, "edited": false, "score": 0, "creation_date": 1521069571, "post_id": 49288150, "comment_id": 85581432, "body": "I should have clarified.  The question was that I wanted to know how to edit the string in method &#39;otherImages&#39; when I call it from the &#39;narrow&#39; method.  I posted the answer here.  The changes I made up top were adding some code such as the reply method and clarifying my question.  This post does answer my question."}], "tags": [], "owner": {"reputation": 781, "user_id": 8644283, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f848eda3b3994c341f237c9e53f2923b?s=128&d=identicon&r=PG&f=1", "display_name": "Kade Williams", "link": "https://stackoverflow.com/users/8644283/kade-williams"}, "is_accepted": true, "score": 0, "last_activity_date": 1521069357, "last_edit_date": 1521069357, "creation_date": 1521064068, "answer_id": 49288150, "question_id": 49287434, "link": "https://stackoverflow.com/questions/49287434/object-is-not-iterable-when-replacing-word-called-by-function/49288150#49288150", "title": "Object is not iterable when replacing word called by function", "body": "<p>Here are the changes I made which solves my problem.  It allows me to edit the string when called from the 'narrow' method.</p>\n\n<pre><code>def otherImages(self):\n    return[\"&lt;div id='menu_button'&gt;&lt;a href='/narrow'&gt;&lt;img src='../images/menu_button.png'&gt;&lt;/a&gt;&lt;/div&gt;\"]\n\n\ndef narrow(self):\n    try:\n        self.reply()\n        self.contentList('onlineSection')   # removed onlineSectionv\n        for words in self.otherImages():\n            words = words.replace(\"/narrow\", \"/\")\n            self.wfile.write(bytes(words, \"utf8\"))\n        return      \n</code></pre>\n"}], "owner": {"reputation": 781, "user_id": 8644283, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f848eda3b3994c341f237c9e53f2923b?s=128&d=identicon&r=PG&f=1", "display_name": "Kade Williams", "link": "https://stackoverflow.com/users/8644283/kade-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 49288150, "answer_count": 2, "score": -1, "last_activity_date": 1521263604, "creation_date": 1521060754, "last_edit_date": 1521263604, "question_id": 49287434, "link": "https://stackoverflow.com/questions/49287434/object-is-not-iterable-when-replacing-word-called-by-function", "title": "Object is not iterable when replacing word called by function", "body": "<p>How do I get otherImages to return the string in it so that I can replace a word within it when called from 'narrow' method?</p>\n\n<pre><code>    def otherImages(self):\n        self.wfile.write(bytes(\"&lt;div id='menu_button'&gt;&lt;a href='/narrow'&gt;&lt;img src='../images/menu_button.png'&gt;&lt;/a&gt;&lt;/div&gt;\", \"utf8\"))\n                                                               #^word I want to replace\n    def contentList(self, skip_name=''):  # All content methods in list \n        methods = [self.title, self.containerDIV, self.heading, self.stopSection, self.offlineSection, self.onlineSection, self.endDIV, self.otherImages]\n        for m in methods:\n            if m.__name__ != skip_name:\n                m()\n\n    def narrow(self):\n        try:\n            self.reply()\n            self.contentList('onlineSection')   # removed onlineSection\n            for words in self.otherImages():\n                words.replace(\"narrow\", \"index\")\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "keras", "convolution"], "answers": [{"tags": [], "owner": {"reputation": 587, "user_id": 6853923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5251146726ef750b497888da15c32e89?s=128&d=identicon&r=PG&f=1", "display_name": "hikaru", "link": "https://stackoverflow.com/users/6853923/hikaru"}, "is_accepted": false, "score": 1, "last_activity_date": 1521083472, "creation_date": 1521083472, "answer_id": 49290972, "question_id": 49287407, "link": "https://stackoverflow.com/questions/49287407/keras-tensorflow-cnn-input-shape/49290972#49290972", "title": "Keras/Tensorflow CNN input shape", "body": "<p>I think changing from <code>input_shape = (1308, 13, 216)</code> to <code>input_shape = (13, 216)</code> should work.</p>\n"}, {"tags": [], "owner": {"reputation": 290, "user_id": 4889363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/03022af746953a92c3aa0b110d3c54ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asdf11", "link": "https://stackoverflow.com/users/4889363/asdf11"}, "is_accepted": false, "score": 2, "last_activity_date": 1521148675, "creation_date": 1521148675, "answer_id": 49309394, "question_id": 49287407, "link": "https://stackoverflow.com/questions/49287407/keras-tensorflow-cnn-input-shape/49309394#49309394", "title": "Keras/Tensorflow CNN input shape", "body": "<p>I needed to change it into </p>\n\n<pre><code>input_shape = (13, 216, 1)\n</code></pre>\n"}], "owner": {"reputation": 290, "user_id": 4889363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/03022af746953a92c3aa0b110d3c54ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asdf11", "link": "https://stackoverflow.com/users/4889363/asdf11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1956, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1521148675, "creation_date": 1521060665, "last_edit_date": 1521066613, "question_id": 49287407, "link": "https://stackoverflow.com/questions/49287407/keras-tensorflow-cnn-input-shape", "title": "Keras/Tensorflow CNN input shape", "body": "<p>I have a textfile that is ~ 10k lines long. There are always 216 lines describe a fact with a total of 17 values. I want to build a tensor that is 216 lines high, 13 columns wide and about 1000 layers deep. That would be the input.</p>\n\n<p>The output would be one line high, 4 columns wide and also about 1000 layers deep.</p>\n\n<p>Current status:</p>\n\n<pre><code>x_train = x_train.reshape (1308, 13, 216)\ny_train = y_train.reshape (1308, 4, 216)\nresult = y_train [:,:, 0]\n</code></pre>\n\n<p>Conv:</p>\n\n<pre><code>model.add (Convolution2D (1, kernel_size = (13, 5), activation = 'relu', input_shape = (1308, 13, 216)))\n</code></pre>\n\n<p>Afterwards little maxpooling, etc., which should not disturb. I absolutely do not get along with the reshapes rightly. Would be very bad if someone could help me.</p>\n\n<p>Current error message:</p>\n\n<blockquote>\n  <p>Input arrays should have the same number of samples as target arrays.\n  Found 1 input samples and 1308 target samples.</p>\n</blockquote>\n\n<p>Many Thanks</p>\n"}, {"tags": ["python", "numpy", "matrix", "binary"], "comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1521063260, "post_id": 49287398, "comment_id": 85579039, "body": "SAGE appears to support <a href=\"http://doc.sagemath.org/html/en/tutorial/tour_linalg.html\" rel=\"nofollow noreferrer\">linear algebra over finite fields</a>."}], "answers": [{"comments": [{"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1608626200, "post_id": 65403541, "comment_id": 115633913, "body": "I guess you are doing factorization stuff too. I don&#39;t think it&#39;s worth doing in python really. It&#39;s just not the right language for it."}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "reply_to_user": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1608651617, "post_id": 65403541, "comment_id": 115644879, "body": "I&#39;m going to take a crack at block lazcos early next year for fun, I&#39;ll post it here it it ends up being useful or super quick"}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "reply_to_user": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1609006479, "post_id": 65403541, "comment_id": 115729289, "body": "@qwr , i found a very quick Gaussian Elimination routine in skollmans factorise.py and put it together with a Quadratic Sieve function i was working on to show that the linear algebra step is so fast that the holdup is sieving. Even with SIQS using factorise,py, the sieving part is much slower than the linear algebra step he uses. I thought this was a good find and wanted to share with you."}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1609058764, "post_id": 65403541, "comment_id": 115737907, "body": "I have used msieve before and that is my experience. 3 days sieving and a few hours on the linear algebra. Btw you can get more info on this stuff on mersenneforum if you didn&#39;t know already."}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1609058920, "post_id": 65403541, "comment_id": 115737937, "body": "IIRC the sieving step is very parallel so GPU use could speed up the process by an order of magnitude or more."}], "tags": [], "owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "is_accepted": false, "score": 0, "last_activity_date": 1609011448, "last_edit_date": 1609011448, "creation_date": 1608613847, "answer_id": 65403541, "question_id": 49287398, "link": "https://stackoverflow.com/questions/49287398/finding-null-space-of-binary-matrix-in-python/65403541#65403541", "title": "Finding null space of binary matrix in python", "body": "<p>qwr, I found a very fast gaussian elimination routine that finishes so qiuckly that the slow point is the Quadratic Sieving or SIQS Sieving step. The gaussian elimination functions were taken from skollmans factorise.py at <a href=\"https://raw.githubusercontent.com/skollmann/PyFactorise/master/factorise.py\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/skollmann/PyFactorise/master/factorise.py</a></p>\n<p>I'll soon be working on a SIQS/GNFS implementation from scratch, and hope to write something super quick for python with multithreading and possiblly cython. In the meantime, if you want something that compiles C (Alpertons ECM Engine) but uses python, you can use: <a href=\"https://github.com/oppressionslayer/primalitytest/\" rel=\"nofollow noreferrer\">https://github.com/oppressionslayer/primalitytest/</a>  which requires you to cd into calculators directory and run make before importing p2ecm with from sfactorint import p2ecm. With that you can factorise 60 digit numbers in a few seconds.</p>\n<pre><code>\n# Requires sympy and numpy to be installed\n# Adjust B and I accordingly. Set for 32 length number\n# Usage:\n# N=1009732533765251*1896182711927299\n# factorise(N, 5000, 25000000) # Takes about 45-60 seconds on a newer computer\n# N=1009732533765251*581120948477 \n# Linear Algebra Step finishes in 1 second, if that                                                                                                                     \n# N=factorise(N, 5000, 2500000) # Takes about 5 seconds on a newer computer                                                                                                                           \n# #Out[1]: 581120948477\n\n\n\nimport math\nimport numpy as np\nfrom sympy import isprime  \n    \n#\n# siqs_ functions are the Gaussian Elimination routines right from\n# skollmans factorise.py. It is the fastest Gaussian Elimination that i have\n# found in python    \n#\n    \ndef siqs_factor_from_square(n, square_indices, smooth_relations):\n    &quot;&quot;&quot;Given one of the solutions returned by siqs_solve_matrix_opt,\n    return the factor f determined by f = gcd(a - b, n), where\n    a, b are calculated from the solution such that a*a = b*b (mod n).\n    Return f, a factor of n (possibly a trivial one).\n    &quot;&quot;&quot;\n    sqrt1, sqrt2 = siqs_calc_sqrts(square_indices, smooth_relations)\n    assert (sqrt1 * sqrt1) % n == (sqrt2 * sqrt2) % n\n    return math.gcd(abs(sqrt1 - sqrt2), n)\n    \ndef siqs_find_factors(n, perfect_squares, smooth_relations):\n    &quot;&quot;&quot;Perform the last step of the Self-Initialising Quadratic Field.\n    Given the solutions returned by siqs_solve_matrix_opt, attempt to\n    identify a number of (not necessarily prime) factors of n, and\n    return them.\n    &quot;&quot;&quot;\n    factors = []\n    rem = n\n    non_prime_factors = set()\n    prime_factors = set()\n    for square_indices in perfect_squares:\n        fact = siqs_factor_from_square(n, square_indices, smooth_relations)\n        if fact != 1 and fact != rem:\n            if isprime(fact):\n                if fact not in prime_factors:\n                    print (&quot;SIQS: Prime factor found: %d&quot; % fact)\n                    prime_factors.add(fact)\n\n                while rem % fact == 0:\n                    factors.append(fact)\n                    rem //= fact\n\n                if rem == 1:\n                    break\n                if isprime(rem):\n                    factors.append(rem)\n                    rem = 1\n                    break\n            else:\n                if fact not in non_prime_factors:\n                    print (&quot;SIQS: Non-prime factor found: %d&quot; % fact)\n                    non_prime_factors.add(fact)\n\n    if rem != 1 and non_prime_factors:\n        non_prime_factors.add(rem)\n        for fact in sorted(siqs_find_more_factors_gcd(non_prime_factors)):\n            while fact != 1 and rem % fact == 0:\n                print (&quot;SIQS: Prime factor found: %d&quot; % fact)\n                factors.append(fact)\n                rem //= fact\n            if rem == 1 or sfactorint_isprime(rem):\n                break\n\n    if rem != 1:\n        factors.append(rem)\n    return factors\n\ndef add_column_opt(M_opt, tgt, src):\n    &quot;&quot;&quot;For a matrix produced by siqs_build_matrix_opt, add the column\n    src to the column target (mod 2).\n    &quot;&quot;&quot;\n    M_opt[tgt] ^= M_opt[src]\n\n\ndef find_pivot_column_opt(M_opt, j):\n    &quot;&quot;&quot;For a matrix produced by siqs_build_matrix_opt, return the row of\n    the first non-zero entry in column j, or None if no such row exists.\n    &quot;&quot;&quot;\n    if M_opt[j] == 0:\n        return None\n    return lars_last_powers_of_two_trailing(M_opt[j] + 1)\n\ndef siqs_build_matrix_opt(M):\n    &quot;&quot;&quot;Convert the given matrix M of 0s and 1s into a list of numbers m\n    that correspond to the columns of the matrix.\n    The j-th number encodes the j-th column of matrix M in binary:\n    The i-th bit of m[i] is equal to M[i][j].\n    &quot;&quot;&quot;\n    m = len(M[0])\n    cols_binary = [&quot;&quot;] * m\n    for mi in M:\n        for j, mij in enumerate(mi):\n            cols_binary[j] += &quot;1&quot; if mij else &quot;0&quot;\n    return [int(cols_bin[::-1], 2) for cols_bin in cols_binary], len(M), m\n\n\ndef siqs_solve_matrix_opt(M_opt, n, m):\n    &quot;&quot;&quot;\n    Perform the linear algebra step of the SIQS. Perform fast\n    Gaussian elimination to determine pairs of perfect squares mod n.\n    Use the optimisations described in [1].\n\n    [1] Ko\u00e7, \u00c7etin K., and Sarath N. Arachchige. 'A Fast Algorithm for\n        Gaussian Elimination over GF (2) and its Implementation on the\n        GAPP.' Journal of Parallel and Distributed Computing 13.1\n        (1991): 118-122.\n    &quot;&quot;&quot;\n    row_is_marked = [False] * n\n    pivots = [-1] * m\n    for j in range(m):\n        i = find_pivot_column_opt(M_opt, j)\n        if i is not None:\n            pivots[j] = i\n            row_is_marked[i] = True\n            for k in range(m):\n                if k != j and (M_opt[k] &gt;&gt; i) &amp; 1:  # test M[i][k] == 1\n                    add_column_opt(M_opt, k, j)\n    perf_squares = []\n    for i in range(n):\n        if not row_is_marked[i]:\n            perfect_sq_indices = [i]\n            for j in range(m):\n                if (M_opt[j] &gt;&gt; i) &amp; 1:  # test M[i][j] == 1\n                    perfect_sq_indices.append(pivots[j])\n            perf_squares.append(perfect_sq_indices)\n    return perf_squares\n\ndef sqrt_int(N):\n  Nsqrt = math.isqrt(N)\n  assert Nsqrt * Nsqrt == N\n  return Nsqrt\n\ndef siqs_calc_sqrts(square_indices, smooth_relations):\n    &quot;&quot;&quot;Given on of the solutions returned by siqs_solve_matrix_opt and\n    the corresponding smooth relations, calculate the pair [a, b], such\n    that a^2 = b^2 (mod n).\n    &quot;&quot;&quot;\n    res = [1, 1]\n    for idx in square_indices:\n        res[0] *= smooth_relations[idx][0]\n        res[1] *= smooth_relations[idx][1]\n    res[1] = sqrt_int(res[1])\n    return res\n    \n\ndef quad_residue(a,n):\n    l=1\n    q=(n-1)//2\n    x = q**l\n    if x==0:\n        return 1\n        \n    a =a%n\n    z=1\n    while x!= 0:\n        if x%2==0:\n            a=(a **2) % n\n            x//= 2\n        else:\n            x-=1\n            z=(z*a) % n\n\n    return z\n    \ndef STonelli(n, p):\n    assert quad_residue(n, p) == 1, &quot;not a square (mod p)&quot;\n    q = p - 1\n    s = 0\n    \n    while q % 2 == 0:\n        q //= 2\n        s += 1\n    if s == 1:\n        r = pow(n, (p + 1) // 4, p)\n        return r,p-r\n    for z in range(2, p):\n        #print(quad_residue(z, p))\n        if p - 1 == quad_residue(z, p):\n            break\n    c = pow(z, q, p)\n    r = pow(n, (q + 1) // 2, p)\n    t = pow(n, q, p)\n    m = s\n    t2 = 0\n    while (t - 1) % p != 0:\n        t2 = (t * t) % p\n        for i in range(1, m):\n            if (t2 - 1) % p == 0:\n                break\n            t2 = (t2 * t2) % p\n        b = pow(c, 1 &lt;&lt; (m - i - 1), p)\n        r = (r * b) % p\n        c = (b * b) % p\n        t = (t * c) % p\n        m = i\n\n    return (r,p-r)\n    \ndef build_smooth_relations(smooth_base, root_base):\n   smooth_relations = []\n   \n   for xx in range(len(smooth_base)):\n     smooth_relations.append((root_base[xx], smooth_base[xx], xx))   \n   \n   return smooth_relations \n   \n\ndef strailing(N):\n   return N&gt;&gt;lars_last_powers_of_two_trailing(N)\n\n\ndef lars_last_powers_of_two_trailing(N):\n  p,y=1,2\n  orign = N\n  #if orign &lt; 17: N = N%16\n  N = N&amp;15\n  if N == 1: \n     if ((orign -1) &amp; (orign -2)) == 0: return orign.bit_length()-1\n     while orign&amp;y == 0:\n       p+=1\n       y&lt;&lt;=1\n     return p\n  if N in [3, 7, 11, 15]: return 1\n  if N in [5, 13]: return 2\n  if N == 9: return 3\n  return 0\n   \ndef build_matrix(factor_base, smooth_base):\n  factor_base = factor_base.copy()\n  factor_base.insert(0, 2)\n  \n  sparse_matrix = []\n  col = 0\n  \n  for xx in smooth_base:\n    sparse_matrix.append([])\n    for fx in factor_base:\n      count = 0\n      factor_found = False\n      while xx % fx == 0:\n        factor_found = True\n        xx=xx//fx\n        count+=1\n      if count % 2 == 0:\n        sparse_matrix[col].append(0)\n        continue\n      else:\n        if factor_found == True:\n          sparse_matrix[col].append(1)\n        else:\n          sparse_matrix[col].append(0)\n    col+=1\n                \n  return np.transpose(sparse_matrix)  \n\ndef get_mod_congruence(root, N, withstats=False):\n  r = root - N \n  if withstats==True:\n    print(f&quot;{root} \u2261 {r} mod {N}&quot;)\n  return r\n  \ndef primes_sieve2(limit):\n    a = np.ones(limit, dtype=bool)\n    a[0] = a[1] = False\n\n    for (i, isprime) in enumerate(a):\n        if isprime:\n            yield i\n            for n in range(i*i, limit, i):\n                a[n] = False  \n                \ndef remove_singletons(XX):\n  no_singletons = []\n\n  for xx in XX:\n    if len(xx) != 1:\n      no_singletons.append(xx)\n       \n  return no_singletons\n                \ndef fb_sm(N, B, I):\n\n   factor_base, sieve_base, sieve_list, smooth_base, root_base = [], [], [], [], []\n\n   primes = list(primes_sieve2(B))\n   \n   i,root=-1,math.isqrt(N)\n   \n   for x in primes[1:]:\n       if quad_residue(N, x) == 1:\n         factor_base.append(x)\n\n   for x in range(I):\n      xx = get_mod_congruence((root+x)**2, N)\n      sieve_list.append(xx)\n      if xx % 2 == 0:\n        xx = strailing(xx+1) # using lars_last_modulus_powers_of_two(xx) bit trick\n      sieve_base.append(xx)\n\n\n   for p in factor_base:\n       residues = STonelli(N, p)\n     \n       for r in residues:\n          for i in range((r-root) % p, len(sieve_list), p):\n            while sieve_base[i] % p == 0: \n              sieve_base[i] //= p\n\n   for o in range(len(sieve_list)):\n     # This is set to 350, which is only good for numbers \n     # of len &lt; 32. Modify\n     # to be more dynamic for larger numbers.\n     if len(smooth_base) &gt;= 350:\n         break\n     if sieve_base[o] == 1:\n        smooth_base.append(sieve_list[o])\n        root_base.append(root+o)\n  \n   return factor_base, smooth_base, root_base\n   \ndef isSquare(hm):\n  cr=math.isqrt(hm)\n  if cr*cr == hm:\n     return True\n  return False \n  \ndef find_square(smooth_base):\n   for x in smooth_base: \n      if isSquare(x): \n          return (True, smooth_base.index(x)) \n      else:\n          return (False, -1)\n\nt_matrix=[]   \nprimes=list(primes_sieve2(1000000))\n\n\ndef factorise(N, B=10000, I=10000000):\n\n   global primes, t_matrix\n   \n   if isprime(N):\n     return N\n   \n   for xx in primes:\n      if N%xx == 0:\n         return xx\n   \n   factor_base, smooth_base, root_base = fb_sm(N,B,I)\n   \n   issquare, t_matrix = find_square(smooth_base)\n   if issquare == True:\n      return math.gcd(math.isqrt(smooth_base[t_matrix])+get_mod_congruence(root_base[t_matrix], N), N)\n      \n   t_matrix = build_matrix(factor_base, smooth_base)\n   smooth_relations = build_smooth_relations(smooth_base, root_base)\n   M_opt, M_n, M_m = siqs_build_matrix_opt(np.transpose(t_matrix))\n   perfect_squares = remove_singletons(siqs_solve_matrix_opt(M_opt, M_n, M_m))\n   factors = siqs_find_factors(N, perfect_squares, smooth_relations)\n\n   return factors\n\n</code></pre>\n"}], "owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 489, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1609011448, "creation_date": 1521060639, "question_id": 49287398, "link": "https://stackoverflow.com/questions/49287398/finding-null-space-of-binary-matrix-in-python", "title": "Finding null space of binary matrix in python", "body": "<p>In factoring methods based on the quadratic sieve, finding the left null space of a <strong>binary</strong> matrix (values computed mod 2) is a crucial step. (This is also the null space of the transpose.) Does numpy or scipy have tools to do this quickly? </p>\n\n<p>For reference, here is my current code:</p>\n\n<pre><code># Row-reduce binary matrix\ndef binary_rr(m):\n    rows, cols = m.shape\n    l = 0\n    for k in range(min(rows, cols)):\n        print(k)\n        if l &gt;= cols: break\n        # Swap with pivot if m[k,l] is 0\n        if m[k,l] == 0:\n            found_pivot = False\n            while not found_pivot:\n                if l &gt;= cols: break\n                for i in range(k+1, rows):\n                    if m[i,l]:\n                        m[[i,k]] = m[[k,i]]  # Swap rows\n                        found_pivot = True\n                        break\n\n                if not found_pivot: l += 1\n\n        if l &gt;= cols: break  # No more rows\n\n        # For rows below pivot, subtract row\n        for i in range(k+1, rows):\n            if m[i,l]: m[i] ^= m[k]\n\n        l += 1\n\n    return m\n</code></pre>\n\n<p>It is pretty much a straightforward implementation of Gaussian elimination, but since it's written in python it is very slow. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 592, "user_id": 3346210, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6H2pa.jpg?s=128&g=1", "display_name": "Zhiya", "link": "https://stackoverflow.com/users/3346210/zhiya"}, "edited": false, "score": 1, "creation_date": 1521060760, "post_id": 49287397, "comment_id": 85577858, "body": "Do your pseudo duplicates have exactly the same contents in info1 and info2 clumns? If so, just use those two to remove duplicates."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9493851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c555c3037fc244864529eebde44ec9f6?s=128&d=identicon&r=PG&f=1", "display_name": "Aristodog", "link": "https://stackoverflow.com/users/9493851/aristodog"}, "edited": false, "score": 0, "creation_date": 1521097273, "post_id": 49287475, "comment_id": 85588972, "body": "What if the id objects are not sortable?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 1, "user_id": 9493851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c555c3037fc244864529eebde44ec9f6?s=128&d=identicon&r=PG&f=1", "display_name": "Aristodog", "link": "https://stackoverflow.com/users/9493851/aristodog"}, "edited": false, "score": 0, "creation_date": 1521098503, "post_id": 49287475, "comment_id": 85589487, "body": "@Aristodog They better be, or else there&#39;s no point to your question"}, {"owner": {"reputation": 1, "user_id": 9493851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c555c3037fc244864529eebde44ec9f6?s=128&d=identicon&r=PG&f=1", "display_name": "Aristodog", "link": "https://stackoverflow.com/users/9493851/aristodog"}, "edited": false, "score": 0, "creation_date": 1521099782, "post_id": 49287475, "comment_id": 85590054, "body": "Some objects can be compared (equal or different) but there may not be a natural order (so they cannot be sorted). Can we proceed without sort?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 1, "user_id": 9493851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c555c3037fc244864529eebde44ec9f6?s=128&d=identicon&r=PG&f=1", "display_name": "Aristodog", "link": "https://stackoverflow.com/users/9493851/aristodog"}, "edited": false, "score": 0, "creation_date": 1521099884, "post_id": 49287475, "comment_id": 85590096, "body": "@Aristodog If they can be compared, that&#39;s enough for <code>np.sort</code> to work, because it will sort all pairs the <i>same way</i>, regardless of whether that order is to your liking or not. That&#39;s why this should work. Did you try it at least? What errors do you get?"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 1, "last_activity_date": 1521060955, "creation_date": 1521060955, "answer_id": 49287475, "question_id": 49287397, "link": "https://stackoverflow.com/questions/49287397/remove-pseudo-duplicates-pandas/49287475#49287475", "title": "Remove pseudo duplicates pandas", "body": "<p>Sort the <code>ids</code> and then call <code>drop_duplicates</code>:</p>\n\n<pre><code>df[['id1', 'id2']] = np.sort(df[['id1', 'id2']], axis=1)\ndf.drop_duplicates(['id1', 'id2'])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9493851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c555c3037fc244864529eebde44ec9f6?s=128&d=identicon&r=PG&f=1", "display_name": "Aristodog", "link": "https://stackoverflow.com/users/9493851/aristodog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521060955, "creation_date": 1521060637, "question_id": 49287397, "link": "https://stackoverflow.com/questions/49287397/remove-pseudo-duplicates-pandas", "title": "Remove pseudo duplicates pandas", "body": "<p>I have a Pandas dataframe with four columns 'id1', 'id2', 'info1' and 'info2'.\nI want to remove duplicates not only in the classical sense but also if id1 and id2 are exchanged.</p>\n\n<p>Example:</p>\n\n<p>'Joe', 'Jane', 1.2, 'Blue'</p>\n\n<p>and</p>\n\n<p>'Jane', 'Joe', 1.2, 'Blue'</p>\n\n<p>must be regarded as duplicates.</p>\n\n<p>id1 and id2 can be of any type, not only integer, float, or string. </p>\n"}, {"tags": ["python", "pandas", "dataframe", "merge"], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1521125049, "post_id": 49287772, "comment_id": 85606624, "body": "This is what I had thought of but was hoping for a solution that didn&#39;t require so many merges."}], "tags": [], "owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "is_accepted": true, "score": 0, "last_activity_date": 1521062254, "creation_date": 1521062254, "answer_id": 49287772, "question_id": 49287395, "link": "https://stackoverflow.com/questions/49287395/pandas-dataframe-merge-data-sets-using-partial-strings-based-on-3-separate-con/49287772#49287772", "title": "Pandas Dataframe - Merge data sets using partial strings based on 3 separate conditions", "body": "<p>If you know that all of your codes are 4 digits and that 0 is not a valid digit (other than to pad), you can consider splitting the problem up into 3 joins. One on 4 digit codes to 4 digit codes, one on 3 to 3 and the other on 2 to 2. You can accomplish this by first subsetting CodeA data set into those with no trailing 0s, 1 0 and 2 0s. Then split the CodeA and CodeB fields to be 4, 3, and 2 digits long, respectively. Do the three joins separately and then concatenate. An example is below. (The data is not exactly the same as yours). </p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame(data=[[2500, 1],\n                         [2525, 2],\n                         [5345, 3],\n                         [2520, 4]],\n                  columns=['CodeA', 'Field1'])\ndf_2 = pd.DataFrame(data=[[2525, 1],\n                          [2532, 2],\n                          [5345, 2]],\n                    columns=['CodeB', 'Field2'])\n\ndf['CodeA'] = df['CodeA'].astype(str)\ndf_2['CodeB'] = df_2['CodeB'].astype(str)\n\ndf_2['CodeB2'] = df_2['CodeB'].str.slice(0, 2)\ndf_2['CodeB3'] = df_2['CodeB'].str.slice(0, 3)\n\ndf['CodeA2'] = df['CodeA'].str.slice(0, 2)\ndf['CodeA3'] = df['CodeA'].str.slice(0, 3)\n\ndf['Use2'] = df['CodeA'].str.slice(2) == '00'\ndf['Use3'] = (df['CodeA'].str.slice(3) == '0') &amp; (~df['Use2'])\n\ndf_use_all = df[(~df['Use2']) &amp; (~df['Use3'])]\ndf_use_2 = df[df['Use2']]\ndf_use_3 = df[df['Use3']]\n\ndf_use_all = df_use_all.merge(df_2, left_on=['CodeA'], right_on=['CodeB'], how='left')\ndf_use_2 = df_use_2.merge(df_2, left_on=['CodeA2'], right_on=['CodeB2'], how='left')\ndf_use_3 = df_use_3.merge(df_2, left_on=['CodeA3'], right_on=['CodeB3'], how='left')\n\ndf_all = pd.concat([df_use_all, df_use_2, df_use_3])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1521125100, "post_id": 49289415, "comment_id": 85606656, "body": "In trying to implement this I&#39;m curious what to do if I actually have a large number of other columns in each data set that need to be carried over without listing them all out?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1521125423, "post_id": 49289415, "comment_id": 85606915, "body": "There are many ways to split a column of lists into multiple rows, see <a href=\"https://stackoverflow.com/questions/39011511/pandas-expand-rows-from-list-data-available-in-column\">1</a>, <a href=\"https://stackoverflow.com/questions/27263805/pandas-when-cell-contents-are-lists-create-a-row-for-each-element-in-the-list\">2</a>, <a href=\"https://stackoverflow.com/questions/32468402/how-to-explode-a-list-inside-a-dataframe-cell-into-separate-rows/32470490\">3</a>, and many more.. You can choose a method that works for you."}, {"owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1521125789, "post_id": 49289415, "comment_id": 85607231, "body": "What I meant was if I have df2[&#39;Field3&#39;], df2[&#39;Field4&#39;], etc, etc and df1[&#39;Field5&#39;], df1[&#39;Field6&#39;], etc, etc. Do I have to list all these out in order to maintain them in the merge?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1521125849, "post_id": 49289415, "comment_id": 85607292, "body": "In this method, yes, but this bit of the code can be replaced by many other algorithms (I provided links to them in my previous comment). Really what we are doing is splitting a column of lists into rows.. which has many different solutions."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1521125955, "post_id": 49289415, "comment_id": 85607373, "body": "Also, if you&#39;re comfortable with dictionaries, you could use a dictionary comprehension to construct a dictionary of values, e.g. <code>{i: np.repeat(df[i], lens) for i in (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)}</code>."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1521071536, "creation_date": 1521071536, "answer_id": 49289415, "question_id": 49287395, "link": "https://stackoverflow.com/questions/49287395/pandas-dataframe-merge-data-sets-using-partial-strings-based-on-3-separate-con/49289415#49289415", "title": "Pandas Dataframe - Merge data sets using partial strings based on 3 separate conditions", "body": "<p>This is one solution via <code>collections.defaultdict</code>. The triple-merge method (as detailed by <a href=\"https://stackoverflow.com/a/49287772/9209546\">@scomes</a>) is the conventional algorithm, but you might find this one easier to maintain.</p>\n\n<p>In the solution below, <code>df1</code> is CodeA dataset and <code>df2</code> is CodeB dataset.</p>\n\n<pre><code>from collections import defaultdict\nfrom itertools import chain\n\nd = defaultdict(list)\n\n# create full set from df2 and test set from df1\nfull_set = list(zip(df2['CodeB'].astype(str), df2['Field2']))\ntest_set = set(df1['CodeA'].astype(str).str.rstrip('0'))\n\n# create dictionary of mapping (loopy)\nfor k in test_set:\n    d[k].extend([i for i in full_set if i[0].startswith(k)])\n\n# map dictionary\ndf1['Mapped'] = df1['CodeA'].astype(str).str.rstrip('0').map(d)\n\n# expand column of list of tuples\nlens = list(map(len, df1['Mapped']))\n\nres = pd.DataFrame({'Example': np.repeat(df1['Example'], lens),\n                    'CodeA': np.repeat(df1['CodeA'], lens),\n                    'Field1': np.repeat(df1['Field1'], lens),\n                    'Mapped': list(chain.from_iterable(df1['Mapped']))})\n\n# split column of tuples\nres[['CodeB', 'Field2']] = res['Mapped'].apply(pd.Series)\n\n# drop helper column\nres = res.drop('Mapped', 1)\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>   CodeA  Example Field1 CodeB Field2\n0   2500        1      w  2525      b\n0   2500        1      w  2522      f\n1   4110        2      x  4113      c\n2   2525        3      y  2525      b\n3   5345        4      z  5345      h\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 49287772, "answer_count": 2, "score": 1, "last_activity_date": 1521071609, "creation_date": 1521060629, "last_edit_date": 1521071609, "question_id": 49287395, "link": "https://stackoverflow.com/questions/49287395/pandas-dataframe-merge-data-sets-using-partial-strings-based-on-3-separate-con", "title": "Pandas Dataframe - Merge data sets using partial strings based on 3 separate conditions", "body": "<p>I am trying to left join two data sets based on a four digit code in each. One data set has the codes filled in to varying degrees (2,3, or all 4 digits) with trailing zeroes as needed. </p>\n\n<p>The other data set has the codes completed to all four digits. </p>\n\n<p>If the last two digits of CodeA are 00 then I want to join to any CodeB with the same first two digits. If only the last digit of CodeA is 0 then I want to join to all CodeBs that have the same first three digits. If CodeA has all four digits then I want to join to those exact same codes in CodeB.</p>\n\n<p>Example:</p>\n\n<pre><code>CodeA data set\n\nExample CodeA   Field1\n1   2500    w\n2   4110    x\n3   2525    y\n4   5345    z\n\n\n\nCodeB data set\nCodeB   Field2\n1234    a\n2525    b\n4113    c\n6543    d\n5341    e\n2522    f\n4122    g\n5345    h\n</code></pre>\n\n<p>I want my result data set to look like this:</p>\n\n<pre><code>Ex  CodeA   Field1  CodeB   Field2\n1   2500    w   2525    b\n1   2500    w   2522    f\n2   4110    x   4113    c\n3   2525    y   2525    b\n4   5345    z   5345    h\n</code></pre>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe", "multi-index"], "answers": [{"tags": [], "owner": {"reputation": 1633, "user_id": 6915507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XnOmr.jpg?s=128&g=1", "display_name": "VictorGGl", "link": "https://stackoverflow.com/users/6915507/victorggl"}, "is_accepted": false, "score": 1, "last_activity_date": 1521063695, "creation_date": 1521063695, "answer_id": 49288073, "question_id": 49287359, "link": "https://stackoverflow.com/questions/49287359/i-need-to-create-a-dataframe-in-pandas-with-multiindex-from-a-dictionary-that-co/49288073#49288073", "title": "I need to create a DataFrame in Pandas with MultiIndex from a dictionary that contains a list", "body": "<p>I'm guessing you'd have a bunch of those dicts where every name should go as index of the DataFrame. In that case you can do something like the following:</p>\n\n<p>1.Retrieve the name and delete that from the dict original dict:</p>\n\n<pre><code>name = my_dict['name']\ndel my_dict['name']\n</code></pre>\n\n<p>2.Transform your dict to an appropiate shape:</p>\n\n<pre><code> my_dict_exploded = {(k,innerk):innerv for k,v in my_dict.items() for element in v for innerk,innerv in element.items()}\n</code></pre>\n\n<p>df1 = pandas.DataFrame(my_dict_exploded,index=[name])</p>\n\n<p>Your DataFrame will look like this:</p>\n\n<pre><code>        a       b   c        d   e   f    \n      bar foo foo bar  foo foo bar bar foo\nbrian  30   1   3  25  184   6   4   1  12\n</code></pre>\n\n<p>This is similar to this other post: <a href=\"https://stackoverflow.com/questions/24988131/nested-dictionary-to-multiindex-dataframe-where-dictionary-keys-are-column-label\">Nested dictionary to multiindex dataframe where dictionary keys are column labels</a> where the answer by @BrenBarn is really useful.</p>\n"}], "owner": {"reputation": 21, "user_id": 8138373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b309ba9d8e24f0b1eb2b7d367f9beee2?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Serra", "link": "https://stackoverflow.com/users/8138373/victor-serra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1521063695, "creation_date": 1521060444, "question_id": 49287359, "link": "https://stackoverflow.com/questions/49287359/i-need-to-create-a-dataframe-in-pandas-with-multiindex-from-a-dictionary-that-co", "title": "I need to create a DataFrame in Pandas with MultiIndex from a dictionary that contains a list", "body": "<p>Ok so I have this dictionary:</p>\n\n<pre><code> {'a': [{'foo': '1'}, {'bar': '30'}],\n 'b': [{'foo': '3'}],\n 'c': [{'foo': '184'}, {'bar': '25'}],\n 'd': [{'foo': '6'}],\n 'e': [{'bar': '4'}],\n 'f': [{'foo': '12'},{'bar': '1'}],\n'name': 'brian'}\n</code></pre>\n\n<p>And I would like to transform it to a dataframe with multiindexing like this:</p>\n\n<pre><code>            a        b        c       d          e         f\n         foo bar  foo bar  foo bar  foo bar    foo bar   foo bar\n  brian  1   30    3   0   184  25   6   0     0    4     12   1\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 5, "creation_date": 1521060409, "post_id": 49287331, "comment_id": 85577708, "body": "Does your (unknown) OS preserve that information for each file?"}, {"owner": {"reputation": 1, "user_id": 9406516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90240b14eacf292e1c395213392224f1?s=128&d=identicon&r=PG&f=1", "display_name": "jjurgens", "link": "https://stackoverflow.com/users/9406516/jjurgens"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1522097098, "post_id": 49287331, "comment_id": 86004653, "body": "I am actually accessing the file on SharePoint.  The SharePoint site does indicate who last modified the file.  I believe it is similar to a Windows file system (WebDAV?)"}], "answers": [{"tags": [], "owner": {"reputation": 4159, "user_id": 8212173, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ApXfoDEeNA/AAAAAAAAAAI/AAAAAAAAADc/9wpTVfHMarU/photo.jpg?sz=128", "display_name": "amanb", "link": "https://stackoverflow.com/users/8212173/amanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1521063213, "last_edit_date": 1521063213, "creation_date": 1521062903, "answer_id": 49287906, "question_id": 49287331, "link": "https://stackoverflow.com/questions/49287331/retrieving-user-name-properties-for-a-file/49287906#49287906", "title": "Retrieving user name properties for a file", "body": "<p>This is not a perfect solution, but you can get the user's name by prompting the user to enter a password(if you password protect the file). The getpass() function in the getpass module will prompt the user to enter a password when they try modifying the file. At this point, the getuser() function will fetch the user's name from <code>os.environ.get('USERNAME')</code>.</p>\n\n<pre><code>import time\nimport getpass\nfile = \"test.txt\"\nif file:\n    getpass.getpass()\n    user = getpass.getuser()\n    size = str(os.path.getsize(file))\n    lastModified = str(time.ctime(os.path.getmtime(file)))\n    print(size, lastModified, user) #316139 Thu Mar 15 02:11:33 2018 user_name\n</code></pre>\n\n<p>Depending upon your OS configuration and whether the files are stored locally or on the network (such as shared Active Directory sites), the solution will be different. In this case, your question should be more elaborate.</p>\n"}], "owner": {"reputation": 1, "user_id": 9406516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90240b14eacf292e1c395213392224f1?s=128&d=identicon&r=PG&f=1", "display_name": "jjurgens", "link": "https://stackoverflow.com/users/9406516/jjurgens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521063213, "creation_date": 1521060335, "question_id": 49287331, "link": "https://stackoverflow.com/questions/49287331/retrieving-user-name-properties-for-a-file", "title": "Retrieving user name properties for a file", "body": "<p>I am able to use the following code to get the size and last modified date.  How can I get the user the file was last modified by?</p>\n\n<pre><code>file = \"myFileName.xlsx\"\nsize = str(os.path.getsize(file))\nlastModified = str(time.ctime(os.path.getmtime(file)))\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "beautifulsoup", "pycurl"], "comments": [{"owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521062402, "post_id": 49287325, "comment_id": 85578650, "body": "What&#39;s the reason for using PyCurl over something like requests?"}, {"owner": {"reputation": 19, "user_id": 8801892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f8e34a09b3d1c58ef2848dd12b6ce3?s=128&d=identicon&r=PG&f=1", "display_name": "Spyderz", "link": "https://stackoverflow.com/users/8801892/spyderz"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521063236, "post_id": 49287325, "comment_id": 85579030, "body": "I&#39;ve just heard pycurl was faster for me to get the result.  <a href=\"https://stackoverflow.com/questions/15461995/python-requests-vs-pycurl-performance\" title=\"python requests vs pycurl performance\">stackoverflow.com/questions/15461995/&hellip;</a>"}, {"owner": {"reputation": 19, "user_id": 8801892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f8e34a09b3d1c58ef2848dd12b6ce3?s=128&d=identicon&r=PG&f=1", "display_name": "Spyderz", "link": "https://stackoverflow.com/users/8801892/spyderz"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521067865, "post_id": 49287325, "comment_id": 85580915, "body": "The urllib2 section is just for beautiful soup to grab the href links on the page.The script as a whole is just for traffic generation, so for the most part I don&#39;t care about the response from the web server."}, {"owner": {"reputation": 19, "user_id": 8801892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f8e34a09b3d1c58ef2848dd12b6ce3?s=128&d=identicon&r=PG&f=1", "display_name": "Spyderz", "link": "https://stackoverflow.com/users/8801892/spyderz"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521069017, "post_id": 49287325, "comment_id": 85581249, "body": "I am trying to fill up an http traffic logging device. It&#39;s not necessarily the pycurl that takes 5 seconds it just takes about 5 seconds per loop in the for loop. Since pycurl is faster I am having that do most of the requests and urllib only gets the href links."}, {"owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521069088, "post_id": 49287325, "comment_id": 85581272, "body": "Have you thought about using <a href=\"https://scrapy.org/\" rel=\"nofollow noreferrer\"><code>Scrapy</code></a>? It&#39;s asynchronous and would probably be able to send a lot more traffic and grab the links for you too. Or do your requests have to be one after the other (synchronous)?"}, {"owner": {"reputation": 19, "user_id": 8801892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f8e34a09b3d1c58ef2848dd12b6ce3?s=128&d=identicon&r=PG&f=1", "display_name": "Spyderz", "link": "https://stackoverflow.com/users/8801892/spyderz"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521069535, "post_id": 49287325, "comment_id": 85581417, "body": "I found and considered scrapy one I had most of the script done. Didn&#39;t know it was async. Can you async with scrapy on python 2.7? Or is that exclusive to 3.4+?"}, {"owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521069630, "post_id": 49287325, "comment_id": 85581443, "body": "Scrapy works on both 2 &amp; 3 (I think it uses twisted for async). Yeah, <a href=\"https://docs.scrapy.org/en/latest/intro/install.html#installing-scrapy\" rel=\"nofollow noreferrer\">2.7 and 3.4+</a>"}, {"owner": {"reputation": 19, "user_id": 8801892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f8e34a09b3d1c58ef2848dd12b6ce3?s=128&d=identicon&r=PG&f=1", "display_name": "Spyderz", "link": "https://stackoverflow.com/users/8801892/spyderz"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521070009, "post_id": 49287325, "comment_id": 85581558, "body": "Thanks I&#39;ll have to try it out. Async would definitely help generate traffic faster. Do you have any links to an example code that would help me out in my situation?"}], "owner": {"reputation": 19, "user_id": 8801892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f8e34a09b3d1c58ef2848dd12b6ce3?s=128&d=identicon&r=PG&f=1", "display_name": "Spyderz", "link": "https://stackoverflow.com/users/8801892/spyderz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521060308, "creation_date": 1521060308, "question_id": 49287325, "link": "https://stackoverflow.com/questions/49287325/how-would-i-speed-up-my-python-pycurl-looping-requests", "title": "how would I speed up my python pycurl looping requests", "body": "<p>I am attempting to just generate traffic on the network by having a large list of sites that I am opening from a text file.</p>\n\n<p>I then would like to get the site and all the href links. Go to those links and then the site, then proceed onto the next site in the text document. </p>\n\n<p>My problem (that I have been noticing) is that it taking a while to execute these statements, Upwards of 5 seconds per curl. Is this because of my excessive use of try except loops? I'm just trying to understand where the problem may be.</p>\n\n<p>2018-03-14 16:30:32.590135</p>\n\n<h2><a href=\"http://www.ipostparcels.com/parcel-delivery/amazon-parcel-delivery\" rel=\"nofollow noreferrer\">http://www.ipostparcels.com/parcel-delivery/amazon-parcel-delivery</a></h2>\n\n<p>2018-03-14 16:30:37.653522</p>\n\n<h2><a href=\"http://www.ipostparcels.com/parcel-delivery/abot-ipostparcels\" rel=\"nofollow noreferrer\">http://www.ipostparcels.com/parcel-delivery/abot-ipostparcels</a></h2>\n\n<p>2018-03-14 16:30:42.716842</p>\n\n<h2><a href=\"http://www.ipostparcels.com/parcel-delivery/parcel-delivery-rates\" rel=\"nofollow noreferrer\">http://www.ipostparcels.com/parcel-delivery/parcel-delivery-rates</a></h2>\n\n<p>2018-03-14 16:30:47.762127</p>\n\n<h2><a href=\"http://www.ipostparcels.com/parcel-delivery/parcel-collection-and-delivery\" rel=\"nofollow noreferrer\">http://www.ipostparcels.com/parcel-delivery/parcel-collection-and-delivery</a></h2>\n\n<p>2018-03-14 16:30:52.809792</p>\n\n<h2><a href=\"http://www.ipostparcels.com/parcel-delivery/post-for-a-post\" rel=\"nofollow noreferrer\">http://www.ipostparcels.com/parcel-delivery/post-for-a-post</a></h2>\n\n<p>2018-03-14 16:30:57.876936</p>\n\n<h2><a href=\"http://www.ipostparcels.com/parcel-delivery/discont-codes-and-offers\" rel=\"nofollow noreferrer\">http://www.ipostparcels.com/parcel-delivery/discont-codes-and-offers</a></h2>\n\n<p>2018-03-14 16:31:02.947123</p>\n\n<h2><a href=\"http://www.ipostparcels.com/corier/ebay-corier-service\" rel=\"nofollow noreferrer\">http://www.ipostparcels.com/corier/ebay-corier-service</a></h2>\n\n<pre><code>#!/usr/bin/python\nfrom bs4 import BeautifulSoup\nimport urllib2\nimport pycurl\nfrom io import BytesIO\nimport os\nimport re\nimport sys\nimport random\nfrom datetime import datetime\n\nlinks = []\n\nwhile True:\n  with open(\"topdomains3.txt\", \"r\") as f:\n      domains = list(f)\n      joker=random.randint(1, len(domains))\n      for i in domains[joker:len(domains)]:\n        i=i.replace(\"\\\\n\", \"\")\n        i=i.replace(\"None\", \"\")\n        i=i.rstrip()\n        print i\n        try:\n          c = pycurl.Curl()\n          c.setopt(c.URL, i)\n          c.setopt(pycurl.TIMEOUT, 3)\n          c.setopt(c.FOLLOWLOCATION, True)\n          c.setopt(c.MAXREDIRS , 5)\n          try:\n            i='http://' + i\n            html_page = urllib2.urlopen(i)\n            soup = BeautifulSoup(html_page, 'html5lib')\n          except Exception,e:\n            print e\n            continue\n          for link in soup.findAll('a', attrs={'href': re.compile(\"^http\")}):\n\n            links.append(link.get('href').replace(\"u\", \"\"))\n          for a in links:\n            try:\n              print \"----------------------------------------------------------\"\n              print str(datetime.now())\n              print a\n              d = pycurl.Curl()\n              #c.setopt(c.VERBOSE, True)\n              d.setopt(d.URL, str(a))\n              #c.setopt(c.WRITEDATA, buffer)\n              d.setopt(d.TIMEOUT, 3)\n              d.setopt(d.FOLLOWLOCATION, True)\n              d.setopt(d.MAXREDIRS , 5)\n              #d.setopt(pycurl.WRITEFUNCTION, lambda x: None)\n              d.perform()\n              d.close()\n            except pycurl.error:\n              continue\n          c.perform()\n          c.close()\n        except pycurl.error:\n          continue\n</code></pre>\n\n<p>any assistance would be appreciated.</p>\n"}, {"tags": ["python", "pandas", "jupyter-notebook"], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 3886071, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/0e0fe737a69237bfef844a55e2cf0294?s=128&d=identicon&r=PG&f=1", "display_name": "n3utrino", "link": "https://stackoverflow.com/users/3886071/n3utrino"}, "is_accepted": true, "score": 4, "last_activity_date": 1521061199, "creation_date": 1521061199, "answer_id": 49287538, "question_id": 49287271, "link": "https://stackoverflow.com/questions/49287271/formatting-multiple-columns-in-a-pandas-dataframe/49287538#49287538", "title": "Formatting Multiple Columns in a Pandas Dataframe", "body": "<p>The first way doesn't seem bad if you can automatically build that dictionary... you can generate a list of all columns fitting the *.cost description with something like</p>\n\n<pre><code>costcols = [x for x in df.columns.values if x[-5:] == '.cost']\n</code></pre>\n\n<p>then build your dict like:</p>\n\n<pre><code>formatdict = {}\nfor costcol in costcols: formatdict[costcol] = \"${:,.2f}\"\n</code></pre>\n\n<p>then as you suggested:</p>\n\n<pre><code>cost_calc.style.format(formatdict)\n</code></pre>\n\n<p>You can easily add the .pct cases similarly. Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 274, "user_id": 9318297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVDKv.jpg?s=128&g=1", "display_name": "patricio", "link": "https://stackoverflow.com/users/9318297/patricio"}, "is_accepted": false, "score": 1, "last_activity_date": 1521061847, "creation_date": 1521061847, "answer_id": 49287683, "question_id": 49287271, "link": "https://stackoverflow.com/questions/49287271/formatting-multiple-columns-in-a-pandas-dataframe/49287683#49287683", "title": "Formatting Multiple Columns in a Pandas Dataframe", "body": "<p>I would use regEx with dict generators:</p>\n\n<pre><code>import re\nmylist = cost_calc.columns\n\nr = re.compile(r'.*cost')\ncost_cols = {key: \"${:,.2f}\" for key in mylist if r.match(key)}\n\nr = re.compile(r'.*pct')\npct_cols = {key: \"${:,.2f}\" for key in mylist if r.match(key)}\n\ncost_calc.style.format({**cost_cols, **pct_cols})\n</code></pre>\n\n<p>note: code for Python 2.7 and 3 onwards</p>\n"}], "owner": {"reputation": 51, "user_id": 7973392, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cyVbvfELFQg/AAAAAAAAAAI/AAAAAAAAB18/NyfF4rdiTYA/photo.jpg?sz=128", "display_name": "chris", "link": "https://stackoverflow.com/users/7973392/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2471, "favorite_count": 0, "accepted_answer_id": 49287538, "answer_count": 2, "score": 0, "last_activity_date": 1521061847, "creation_date": 1521060082, "question_id": 49287271, "link": "https://stackoverflow.com/questions/49287271/formatting-multiple-columns-in-a-pandas-dataframe", "title": "Formatting Multiple Columns in a Pandas Dataframe", "body": "<p>I have a dataframe I'm working with that has a large number of columns, and I'm trying to format them as efficiently as possible. I have a bunch of columns that all end in .pct that need to be formatted as percentages, some that end in .cost that need to be formatted as currency, etc.</p>\n\n<p>I know I can do something like this:</p>\n\n<pre><code>cost_calc.style.format({'c.somecolumn.cost'       : \"${:,.2f}\",\n                        'c.somecolumn.cost'       : \"${:,.2f}\",\n                        'e.somecolumn.cost'       : \"${:,.2f}\",\n                        'e.somecolumn.cost'       : \"${:,.2f}\",...\n</code></pre>\n\n<p>and format each column individually, but I was hoping there was a way to do something similar to this:</p>\n\n<pre><code>cost_calc.style.format({'*.cost'       : \"${:,.2f}\",\n                        '*.pct'        : \"{:,.2%}\",...\n</code></pre>\n\n<p>Any ideas? Thanks!</p>\n"}, {"tags": ["python", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1521063586, "post_id": 49287227, "comment_id": 85579199, "body": "Calculate the coordinates of the other two corners, and then draw a closed <code>polyline</code> connecting them all."}], "answers": [{"tags": [], "owner": {"reputation": 17633, "user_id": 2858170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4263428b9b0e0aed365e264c7a2b044?s=128&d=identicon&r=PG&f=1", "display_name": "Piglet", "link": "https://stackoverflow.com/users/2858170/piglet"}, "is_accepted": false, "score": 1, "last_activity_date": 1521110849, "creation_date": 1521110849, "answer_id": 49297426, "question_id": 49287227, "link": "https://stackoverflow.com/questions/49287227/draw-a-rotated-box-in-opencv-in-python/49297426#49297426", "title": "Draw a rotated box in openCV in python", "body": "<p>There are many ways to draw a rectangle in OpenCV.</p>\n\n<p>From the OpenCV documentatation: <a href=\"https://docs.opencv.org/3.0-beta/modules/imgproc/doc/drawing_functions.html\" rel=\"nofollow noreferrer\">Drawing Functions</a></p>\n\n<blockquote>\n  <p><strong>rectangle</strong></p>\n  \n  <p>Draws a simple, thick, or filled up-right rectangle.</p>\n</blockquote>\n\n<p>So this function doesn't help as you want to draw it rotated.</p>\n\n<p>A rectangle is nothing but a special 4-sided polygon. So simply use the function for drawing polygons instead.</p>\n\n<blockquote>\n  <p><strong>polylines</strong></p>\n  \n  <p>Draws several polygonal curves.</p>\n  \n  <p>Python: </p>\n\n<pre><code>cv2.polylines(img, pts, isClosed, color[, thickness[, lineType[, shift]]]) \u2192 img\n</code></pre>\n</blockquote>\n\n<p>and insert the 4 vertices of your rotated rectangle</p>\n\n<p>or draw the 4 sides separately using</p>\n\n<blockquote>\n  <p><strong>line</strong></p>\n  \n  <p>Draws a line segment connecting two points.</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p><strong>drawContours</strong></p>\n  \n  <p>Draws contours outlines or filled contours.</p>\n</blockquote>\n\n<p>The points can be obtained using simple math or for example using OpenCV's  RotatedRect <a href=\"https://docs.opencv.org/2.4/modules/core/doc/basic_structures.html#rotatedrect\" rel=\"nofollow noreferrer\">https://docs.opencv.org/2.4/modules/core/doc/basic_structures.html#rotatedrect</a></p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 6110879, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207618313428663/picture?type=large", "display_name": "Richard Price-Jones", "link": "https://stackoverflow.com/users/6110879/richard-price-jones"}, "is_accepted": false, "score": 0, "last_activity_date": 1584752817, "last_edit_date": 1584752817, "creation_date": 1584752420, "answer_id": 60783484, "question_id": 49287227, "link": "https://stackoverflow.com/questions/49287227/draw-a-rotated-box-in-opencv-in-python/60783484#60783484", "title": "Draw a rotated box in openCV in python", "body": "<pre><code>   class Point:\n\n        def __init__(self, x, y):\n            self.x = int(x)\n            self.y = int(y)\n\n\n    class Rectangle:\n\n        def __init__(self, x, y, w, h, angle):\n\n            # Center Point\n            self.x = x\n            self.y = y\n            # Height and Width\n            self.w = w\n            self.h = h\n            self.angle = angle\n\n        def rotate_rectangle(self, theta):\n            pt0, pt1, pt2, pt3 = self.get_vertices_points()\n\n            # Point 0\n            rotated_x = math.cos(theta) * (pt0.x - self.x) - math.sin(theta) * (pt0.y - self.y) + self.x\n            rotated_y = math.sin(theta) * (pt0.x - self.x) + math.cos(theta) * (pt0.y - self.y) + self.y\n            point_0 = Point(rotated_x, rotated_y)\n\n            # Point 1\n            rotated_x = math.cos(theta) * (pt1.x - self.x) - math.sin(theta) * (pt1.y - self.y) + self.x\n            rotated_y = math.sin(theta) * (pt1.x - self.x) + math.cos(theta) * (pt1.y - self.y) + self.y\n            point_1 = Point(rotated_x, rotated_y)\n\n            # Point 2\n            rotated_x = math.cos(theta) * (pt2.x - self.x) - math.sin(theta) * (pt2.y - self.y) + self.x\n            rotated_y = math.sin(theta) * (pt2.x - self.x) + math.cos(theta) * (pt2.y - self.y) + self.y\n            point_2 = Point(rotated_x, rotated_y)\n\n            # Point 3\n            rotated_x = math.cos(theta) * (pt3.x - self.x) - math.sin(theta) * (pt3.y - self.y) + self.x\n            rotated_y = math.sin(theta) * (pt3.x - self.x) + math.cos(theta) * (pt3.y - self.y) + self.y\n            point_3 = Point(rotated_x, rotated_y)\n\n            return point_0, point_1, point_2, point_3\n</code></pre>\n\n<p>Returns four new points that have been translated by theta</p>\n\n<p><a href=\"https://github.com/rij12/YOPO/blob/yopo/darkflow/net/yopo/calulating_IOU.py\" rel=\"nofollow noreferrer\">https://github.com/rij12/YOPO/blob/yopo/darkflow/net/yopo/calulating_IOU.py</a></p>\n"}], "owner": {"reputation": 66, "user_id": 6110879, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207618313428663/picture?type=large", "display_name": "Richard Price-Jones", "link": "https://stackoverflow.com/users/6110879/richard-price-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2703, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1584752817, "creation_date": 1521059896, "question_id": 49287227, "link": "https://stackoverflow.com/questions/49287227/draw-a-rotated-box-in-opencv-in-python", "title": "Draw a rotated box in openCV in python", "body": "<p>I would like to draw a rotated rectangle I've got the top left point and bottom right point, width and height of box. As well as the angle. But I can't seem work out how you draw the rotated rectangle using OpenCV in <strong>Python</strong>. Please note that I do not want to rotate the image. </p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 987825, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/059a35121a76ce6bf1dcbe1194965cad?s=128&d=identicon&r=PG&f=1", "display_name": "madridista", "link": "https://stackoverflow.com/users/987825/madridista"}, "edited": false, "score": 0, "creation_date": 1521061967, "post_id": 49287346, "comment_id": 85578421, "body": "Awesome. Thanks!"}], "tags": [], "owner": {"reputation": 1914, "user_id": 2599940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZvDA3.jpg?s=128&g=1", "display_name": "kevswanberg", "link": "https://stackoverflow.com/users/2599940/kevswanberg"}, "is_accepted": true, "score": 1, "last_activity_date": 1521062522, "last_edit_date": 1521062522, "creation_date": 1521060400, "answer_id": 49287346, "question_id": 49287209, "link": "https://stackoverflow.com/questions/49287209/modify-url-path-generated-by-serializers-hyperlinkedidentityfield/49287346#49287346", "title": "Modify url path generated by serializers.HyperlinkedIdentityField", "body": "<p>Change the view to the view that includes download in the url</p>\n\n<p>or</p>\n\n<p>Subclass HyperlinkedIdentityField and override get_url to include /download</p>\n\n<pre><code>class HyperlinkedDownloadIdentityField(HyperlinkedIdentityField):\n      def get_url(self, *args):\n             url = super().get_url(*args)\n             return url+\"/download\"\n</code></pre>\n\n<p>and the serializer</p>\n\n<pre><code>...\nurl_download = HyperlinkedDownloadIdentityField(view_name=\"api:v1:abc-detail\") \n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 987825, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/059a35121a76ce6bf1dcbe1194965cad?s=128&d=identicon&r=PG&f=1", "display_name": "madridista", "link": "https://stackoverflow.com/users/987825/madridista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 49287346, "answer_count": 1, "score": 1, "last_activity_date": 1521062522, "creation_date": 1521059797, "question_id": 49287209, "link": "https://stackoverflow.com/questions/49287209/modify-url-path-generated-by-serializers-hyperlinkedidentityfield", "title": "Modify url path generated by serializers.HyperlinkedIdentityField", "body": "<p>Is there an easy way to modify the hyperlink generated by <code>serializers.HyperlinkedIdentityField</code>? Specifically, I want to append <code>/download</code> to the url path.</p>\n\n<pre><code>&gt; class AbcSerializer(serializers.HyperlinkedModelSerializer):\n&gt;     url = serializers.HyperlinkedIdentityField(view_name=\"api:v1:abc-detail\")\n&gt;     url_download = serializers.HyperlinkedIdentityField(view_name=\"api:v1:abc-detail\") #append /download to this url\n&gt; \n&gt; class Meta:\n&gt;     model = abc\n&gt;     fields = ('url', 'url_download')\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 2042, "user_id": 1497418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YXClT.jpg?s=128&g=1", "display_name": "Walucas", "link": "https://stackoverflow.com/users/1497418/walucas"}, "edited": false, "score": 0, "creation_date": 1521060972, "post_id": 49287205, "comment_id": 85577949, "body": "well..... looks fine for me.... another option would be using the viewset of DRF, specifically the ListModelMixin..."}], "answers": [{"tags": [], "owner": {"reputation": 685, "user_id": 1002485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/398d0d081246ce7955556411570d58f6?s=128&d=identicon&r=PG", "display_name": "Shaumux", "link": "https://stackoverflow.com/users/1002485/shaumux"}, "is_accepted": true, "score": 1, "last_activity_date": 1521625811, "creation_date": 1521625811, "answer_id": 49402980, "question_id": 49287205, "link": "https://stackoverflow.com/questions/49287205/creating-a-base-response-for-api-calls/49402980#49402980", "title": "Creating a base response for API calls", "body": "<p>You can create a Custom Renderer instead. Something like</p>\n\n<pre><code>class CustomRenderer(JSONRenderer):\n\n    def render(self, data, accepted_media_type=None, renderer_context=None):\n        resp = {\n        'data': data\n        }\n        return super(CustomRenderer, self).render(resp, accepted_media_type, renderer_context)\n</code></pre>\n\n<p>Then create a middleware like</p>\n\n<pre><code>class CustomResponseMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        response = self.get_response(request)\n        response.data.update({'success': is_client_error(response.status_code) or is_server_error(response.status_code)})\n    return response\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4310965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NxvcV.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/4310965/alec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "accepted_answer_id": 49402980, "answer_count": 1, "score": 2, "last_activity_date": 1521625811, "creation_date": 1521059788, "question_id": 49287205, "link": "https://stackoverflow.com/questions/49287205/creating-a-base-response-for-api-calls", "title": "Creating a base response for API calls", "body": "<p>I want to create an API by using django-rest-framework. So far I've managed to setup one endpoint of API and managed to fetch all items. A basic response (without the BaseResponse class described later) would look like this:</p>\n\n<pre><code>[\n    {\n        \"uuid\": \"1db6a08d-ec63-4beb-8b41-9b042c53ab83\",\n        \"created_at\": \"2018-03-12T19:25:07.073620Z\",\n        \"updated_at\": \"2018-03-12T19:25:37.904350Z\",\n        \"deleted_at\": null,\n        \"random_name\": \"random name\"\n    }\n]\n</code></pre>\n\n<p>The result I would like to achieve would be something like this: </p>\n\n<pre><code>[\n    \"success\": true\n    \"message\": \"Some exception message\",\n    \"data\" :{\n        \"uuid\": \"1db6a08d-ec63-4beb-8b41-9b042c53ab83\",\n        \"created_at\": \"2018-03-12T19:25:07.073620Z\",\n        \"updated_at\": \"2018-03-12T19:25:37.904350Z\",\n        \"deleted_at\": null,\n        \"random_name\": \"random name\"\n    }\n]\n</code></pre>\n\n<p>I managed to achieve this by creating a <code>BaseReponse</code> class and in view I simply return BaseResponse.to_dict() (a method that I have created inside of class). </p>\n\n<pre><code>class BaseResponse(object):\n\n    data = None\n    success = False\n    message = None\n\n    def __init__(self, data, exception):\n        self.data = data\n        self.message = str(exception) if exception is not None else None\n        self.success = exception is None\n\n    def to_dict(self):\n        return {\n            'success': self.success,\n            'message': self.message,\n            'data': self.data,\n        }\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>class RandomModelList(APIView):\n\n    def get(self, request, format=None):\n        exception = None\n        models = None\n        try:\n            models = RandomModel.objects.all()\n        except Exception as e:\n            exception = e\n        serializer = RandomModelSerializer(models, many=True)\n\n        base_response = BaseResponse(data=serializer.data, exception=exception)\n\n        return Response(base_response.to_dict())\n</code></pre>\n\n<p>I want to mention that with the current code everything its working as expected but I have a huge double about the code (I just feel like I reinvented the wheel). Can someone tell me if this is the optimal solution for my problem and if not what should I change/use?</p>\n"}, {"tags": ["python", "python-unittest"], "comments": [{"owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 2, "creation_date": 1521060139, "post_id": 49287203, "comment_id": 85577601, "body": "Couldn&#39;t you just test <code>{&quot;y&quot;: &quot;yval&quot;, &quot;v&quot;: &quot;y1val&quot;} in mylist</code>?"}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1521061316, "post_id": 49287203, "comment_id": 85578108, "body": "What causes your assertion to fail: (1) the list contains no dictionary satisfying the requirement; (2) the list contains a dictionary that doesn&#39;t satisfy the requirement?  Also the requirement itself is complicated in that you must test the value of &quot;y&quot; before deciding whether to check &quot;v&quot;.  You almost certainly will have to write a small function to implement this logic."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521061332, "post_id": 49287203, "comment_id": 85578116, "body": "@DeliriousLettuce solution seems good. Can you have multiple dict with &#39;yval&#39; or is it unique?"}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "reply_to_user": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "edited": false, "score": 0, "creation_date": 1521061682, "post_id": 49287203, "comment_id": 85578290, "body": "@DeliriousLettuce This would fail: `{&quot;y&quot;: &quot;yval&quot;, &quot;v&quot;: &quot;y1val&quot;, &quot;a&quot; : &quot;aval&quot;} although it satisfies the stated criterion."}, {"owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1521061727, "post_id": 49287203, "comment_id": 85578315, "body": "@PaulCornelius Yes, for sure. That&#39;s why I phrased it as a question to try and get some clarification as to the specifics. Your example could happen but it also might never happen, who knows until OP clarifies."}], "answers": [{"comments": [{"owner": {"reputation": 10570, "user_id": 222279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3bbfbf318fab2f44ff5a51f9851cda10?s=128&d=identicon&r=PG", "display_name": "GregH", "link": "https://stackoverflow.com/users/222279/gregh"}, "edited": false, "score": 0, "creation_date": 1521062483, "post_id": 49287517, "comment_id": 85578687, "body": "I guess that kind of answers my question.  I was wondering if there was a way to create a single direct assertion to do this test.  It seems I have to wrap the assertion in some logic/loop to determine it it is true."}], "tags": [], "owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "is_accepted": true, "score": 0, "last_activity_date": 1521089255, "last_edit_date": 1521089255, "creation_date": 1521061116, "answer_id": 49287517, "question_id": 49287203, "link": "https://stackoverflow.com/questions/49287203/what-assertion-would-i-use-for-validating-a-list-of-dictionaries-contains-a-spec/49287517#49287517", "title": "What assertion would I use for validating a list of dictionaries contains a specific value", "body": "<p>There is no unittest assertion that can directly test that, but you can use a loop.</p>\n\n<pre><code># This is inside a TestCase method\nfor d in mylist:\n    if d['y'] == 'yval':\n        self.assertEqual(d['v'], 'y1val')\n</code></pre>\n\n<p>This can be generalized to associate each <code>'y'</code> entry with an allowed <code>'v'</code> entry.</p>\n\n<pre><code>expected= {\n    'xval': 'x1val',\n    'yval': 'y1val',\n    'zval': 'z1val'\n}\n\n# This is in a TestCase method\nfor d in mylist:\n    self.assertEqual(d['v'], expected[d['y']])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3887, "user_id": 1076965, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lpCol.jpg?s=128&g=1", "display_name": "Arindam Roychowdhury", "link": "https://stackoverflow.com/users/1076965/arindam-roychowdhury"}, "is_accepted": false, "score": 0, "last_activity_date": 1521090012, "creation_date": 1521090012, "answer_id": 49291907, "question_id": 49287203, "link": "https://stackoverflow.com/questions/49287203/what-assertion-would-i-use-for-validating-a-list-of-dictionaries-contains-a-spec/49291907#49291907", "title": "What assertion would I use for validating a list of dictionaries contains a specific value", "body": "<p>You can try some schema validation module to validate your structure:</p>\n\n<pre><code>&gt;&gt;&gt;from voluptuous import Schema\n\n&gt;&gt;&gt;Schema([{'y':str, 'v':str}])\n&gt;&gt;&gt; s([{\"y\": \"xval\", \"v\": \"x1val\"}, \n          {\"y\": \"yval\", \"v\": \"y1val\"},\n          {\"y\": \"zval\", \"v\": \"z1val\"}])\n[{'y': 'xval', 'v': 'x1val'}, {'y': 'yval', 'v': 'y1val'}, {'y': 'zval', 'v': 'z1val'}]\n</code></pre>\n\n<p>To install this module, you can use : pip install voluptuous</p>\n"}], "owner": {"reputation": 10570, "user_id": 222279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3bbfbf318fab2f44ff5a51f9851cda10?s=128&d=identicon&r=PG", "display_name": "GregH", "link": "https://stackoverflow.com/users/222279/gregh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 49287517, "answer_count": 2, "score": 0, "last_activity_date": 1521090012, "creation_date": 1521059783, "question_id": 49287203, "link": "https://stackoverflow.com/questions/49287203/what-assertion-would-i-use-for-validating-a-list-of-dictionaries-contains-a-spec", "title": "What assertion would I use for validating a list of dictionaries contains a specific value", "body": "<p>I am new to unittest and still understanding how things work.  If I have a list of dictionaries...eg:</p>\n\n<pre><code>mylist = [{\"y\": \"xval\", \"v\": \"x1val\"}, \n          {\"y\": \"yval\", \"v\": \"y1val\"},\n          {\"y\": \"zval\", \"v\": \"z1val\"}]\n</code></pre>\n\n<p>What sort of assertion/test would I perform to validate that the value for \"v\" is \"y1val\" when \"y\" = \"yval\"? It may also be the case that the dictionary y:yval does not exist in the list.</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 8721926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717c44ec70e9ef22c3ef39ec06dab151?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/8721926/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1521838077, "creation_date": 1521838077, "answer_id": 49458096, "question_id": 49287202, "link": "https://stackoverflow.com/questions/49287202/how-to-periodically-save-tensorflow-model-using-saved-model-api/49458096#49458096", "title": "How to periodically save tensorflow model using saved_model API?", "body": "<p>Well, after looking through the tensorflow code <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.6/tensorflow/python/saved_model/builder_impl.py\" rel=\"nofollow noreferrer\">here</a> and elsewhere, it looks like the answer is \"you can't\".  <code>SavedModelBuilder</code> is really just designed for models outside of the training phase, and it allows you to add metagraphs and choose which sets of variables to load/save (i.e. TRAINING vs. SERVING) but that's it.  <code>SavedModelBuilder.add_meta_graph_and_variables</code>, for example, can be called exactly once, and there is no <code>SavedModelBuilder.update_variables</code> or anything like that.  While training, on the other hand, you need to use the <code>Saver</code> class and save checkpoints and those associated files.  Why there isn't a unified system for this I have no idea but apparently that's the way it is.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5275633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2a4f0bd1e1c5d407ef569ed930e474?s=128&d=identicon&r=PG", "display_name": "sjchao", "link": "https://stackoverflow.com/users/5275633/sjchao"}, "is_accepted": false, "score": 0, "last_activity_date": 1545890964, "creation_date": 1545890964, "answer_id": 53940475, "question_id": 49287202, "link": "https://stackoverflow.com/questions/49287202/how-to-periodically-save-tensorflow-model-using-saved-model-api/53940475#53940475", "title": "How to periodically save tensorflow model using saved_model API?", "body": "<p>The variables are saved when you call <code>builder.add_meta_graph_and_variables()</code>, because <code>saver.save()</code> is called inside it. <a href=\"https://github.com/tensorflow/tensorflow/blob/a6d8ffae097d0132989ae4688d224121ec6d8f35/tensorflow/python/saved_model/builder_impl.py#L421\" rel=\"nofollow noreferrer\">See here</a></p>\n\n<p>Solution:</p>\n\n<p>Just call <code>saver.save(sess, export_dir+'/variables/variables', write_meta_graph=False, write_state=False)</code> before <code>builder.save()</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 8721926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717c44ec70e9ef22c3ef39ec06dab151?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/8721926/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 2, "accepted_answer_id": 49458096, "answer_count": 2, "score": 2, "last_activity_date": 1545890964, "creation_date": 1521059780, "question_id": 49287202, "link": "https://stackoverflow.com/questions/49287202/how-to-periodically-save-tensorflow-model-using-saved-model-api", "title": "How to periodically save tensorflow model using saved_model API?", "body": "<p>So for various reasons (such as its language-independence) I want to use tensorflow's <a href=\"https://www.tensorflow.org/programmers_guide/saved_model#apis_to_build_and_load_a_savedmodel\" rel=\"nofollow noreferrer\">saved_model</a> API for saving/loading models.  I can save everything (and restore it successfully) with a call to <code>builder.add_meta_graph_and_variables()</code> at the end of training, but I don't see any way to save periodically.  Tensorflow docs on this are very sparse, and the template code they provide (<a href=\"https://www.tensorflow.org/api_docs/python/tf/saved_model/builder/SavedModelBuilder\" rel=\"nofollow noreferrer\">here</a>) doesn't help me:</p>\n\n<pre><code>...\nbuilder = tf.saved_model.builder.SavedModelBuilder(export_dir)\n\nwith tf.Session(graph=tf.Graph()) as sess:\n  ...\n  builder.add_meta_graph_and_variables(sess,\n                                  [\"foo-tag\"],\n                                  signature_def_map=foo_signatures,\n                                  assets_collection=foo_assets)\n...\n\nwith tf.Session(graph=tf.Graph()) as sess:\n  ...\n  builder.add_meta_graph([\"bar-tag\", \"baz-tag\"])\n...\n\nbuilder.save()\n</code></pre>\n\n<p>Calling <code>builder.save()</code> does not save the new variables into the model.  It just updates the model protobuf.  </p>\n\n<p>What am I missing?  How do I save after e.g. the nth epoch using <code>saved_model</code>?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1521059631, "post_id": 49287132, "comment_id": 85577383, "body": "Did you try escaping it? <code>&quot;*\\\\&quot;</code>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521059777, "post_id": 49287132, "comment_id": 85577444, "body": "Your title says <code>\\*</code>, your description says <code>&#47;*</code>, and your code does `*`. You realize these are all completely different things, and searching for one of them isn&#39;t going to find the other two, right?"}, {"owner": {"reputation": 2011, "user_id": 9445557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ybcW.gif?s=128&g=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/9445557/artemis"}, "edited": false, "score": 0, "creation_date": 1521060265, "post_id": 49287132, "comment_id": 85577650, "body": "*, /* or * which are you searching for"}], "answers": [{"tags": [], "owner": {"reputation": 2597, "user_id": 3032364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zN0X3.jpg?s=128&g=1", "display_name": "Gsk", "link": "https://stackoverflow.com/users/3032364/gsk"}, "is_accepted": false, "score": 4, "last_activity_date": 1521059702, "creation_date": 1521059702, "answer_id": 49287186, "question_id": 49287132, "link": "https://stackoverflow.com/questions/49287132/searching-for-a-in-a-string/49287186#49287186", "title": "searching for a &quot;\\*&quot; in a string", "body": "<p>actually you have to escape the escape backslash</p>\n\n<pre><code>strk = \"*\\\\\"\nif strk in num:\n   print (\"here it is\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 388, "user_id": 9170199, "user_type": "registered", "profile_image": "https://graph.facebook.com/1179686118828793/picture?type=large", "display_name": "Max Collier", "link": "https://stackoverflow.com/users/9170199/max-collier"}, "is_accepted": false, "score": 1, "last_activity_date": 1605694786, "last_edit_date": 1605694786, "creation_date": 1521060204, "answer_id": 49287299, "question_id": 49287132, "link": "https://stackoverflow.com/questions/49287132/searching-for-a-in-a-string/49287299#49287299", "title": "searching for a &quot;\\*&quot; in a string", "body": "<p>There are two errors seen with your code.</p>\n<p>The first is that when write backslashes (<code>\\</code>) into code, you should use two back slashes like <code>\\\\</code>. A single backslash is used in many languages for interpreting special characters, e.g <code>\\n</code> stands for a new line and <code>\\t</code> stands for tab.</p>\n<p>The second error is with your if statement where you are missing a colon from the end of your if statement. I would also recommend you make your code like:</p>\n<pre><code>if &quot;*\\\\&quot; in word: \n   print(word)\n</code></pre>\n<p>where <code>word</code> could be any string.</p>\n"}, {"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 4, "last_activity_date": 1521060217, "creation_date": 1521060217, "answer_id": 49287305, "question_id": 49287132, "link": "https://stackoverflow.com/questions/49287132/searching-for-a-in-a-string/49287305#49287305", "title": "searching for a &quot;\\*&quot; in a string", "body": "<blockquote>\n  <p>How to make the interpreter distinguish between \"\\\" used as a string element and \"\\\" as the newline character ?</p>\n</blockquote>\n\n<p>OK, first, <code>\\</code> is not a newline character. <code>\\n</code> is a newline character. And <code>\\t</code> is a tab character. And so on. You've already found the whole list of them in some third-party docs, so I won't list them here.</p>\n\n<p>So, how does the interpreter<sup>*</sup> distinguish between <code>\\</code> meaning an actual backslash, vs. <code>\\</code> meaning the first character of an escape sequence?</p>\n\n<p>The rule is pretty simple:<sup>**</sup> It looks at the next character, and if it's a <code>n</code> or <code>t</code> or <code>x</code> or anything else on that list you found, then the <code>\\</code> is the first character of an escape sequence; otherwise, it's just a plain backslash. (There's a separate rule for raw strings, but let's not worry about that here.<sup>***</sup>)</p>\n\n<p>If you want to make sure you have a plain backslash: notice that <code>\\\\</code> is an escape sequence for <code>\\</code>. So, just escape the backslash to make sure it's a backslash instead of an escape for something else:</p>\n\n<pre><code>strk = \"*\\\\\"\n</code></pre>\n\n<p>Or, to put it in terms that don't make your head hurt: Double all your backslashes in source-code string literals.</p>\n\n<hr>\n\n<p><sub>* Actually, by the time it gets to the interpreter, it's just a string constant object somewhere; it's the compiler that handles escape sequences. But that doesn't matter here.</sub></p>\n\n<p><sub>** But it's not the same rule used by C. For example, in Python, <code>\\Q</code> means a backslash followed by a Q, but in C, it's just the Q. Most other languages have either copied C, or just made it an error to use a backslash that isn't part of a documented escape sequence.</sub></p>\n\n<p><sub>*** For most cases of backslash-related confusion, raw strings make everything a lot easier. But for the specific case of a backslash at the very end of the string, they instead make things slightly more confusing.</sub></p>\n"}], "owner": {"reputation": 1, "user_id": 9475421, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kshiteez bizalom", "link": "https://stackoverflow.com/users/9475421/kshiteez-bizalom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 49287305, "answer_count": 3, "score": -1, "last_activity_date": 1605694786, "creation_date": 1521059473, "last_edit_date": 1521059767, "question_id": 49287132, "link": "https://stackoverflow.com/questions/49287132/searching-for-a-in-a-string", "title": "searching for a &quot;\\*&quot; in a string", "body": "<p>I am trying to find the presence of a string pattern like '/*' in a string using python .\nI tried a code snippet like the following :</p>\n\n<pre><code>strk = \"*\\\"\nif strk in num \n   print (\"here it is\")\n</code></pre>\n\n<p>But at the first line Ii got an error stating :</p>\n\n<p>syntax error : \"EOL while scanning string literal .</p>\n\n<p>How to make the interpreter distinguish between \"\\\" used as a string element and \"\\\" as the newline character ?\nI. .being inspired by the following link,  tried using </p>\n\n<pre><code>strk = \"*(\\)\"\n</code></pre>\n\n<p>But this didn't work .</p>\n\n<p><a href=\"http://python-reference.readthedocs.io/en/latest/docs/str/escapes.html\" rel=\"nofollow noreferrer\">http://python-reference.readthedocs.io/en/latest/docs/str/escapes.html</a></p>\n"}, {"tags": ["python", "rest", "api"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521059548, "post_id": 49287116, "comment_id": 85577338, "body": "You haven&#39;t shown what the JSON response actually is - have you used <code>print(r.json())</code> to see what the API sends back?"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1521059572, "post_id": 49287116, "comment_id": 85577354, "body": "First of all, <code>print(customer)</code> to see what it contains. If it doesn&#39;t contain what you want, then you&#39;re using the API the wrong way and should consult its docs."}], "answers": [{"tags": [], "owner": {"reputation": 611, "user_id": 7218869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89fa1fa74da5809fcba8db6d49a1717?s=128&d=identicon&r=PG&f=1", "display_name": "py-D", "link": "https://stackoverflow.com/users/7218869/py-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1521062676, "creation_date": 1521062676, "answer_id": 49287851, "question_id": 49287116, "link": "https://stackoverflow.com/questions/49287116/connecting-to-api-issues/49287851#49287851", "title": "Connecting to API issues", "body": "<p>You are getting key error because your dictionary/JOSN <code>customer</code> does not contain key <code>total_count</code></p>\n"}], "owner": {"reputation": 123, "user_id": 8653174, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c6a77ec8b62e7bdcdd21026e4216bc89?s=128&d=identicon&r=PG&f=1", "display_name": "marklar", "link": "https://stackoverflow.com/users/8653174/marklar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521062676, "creation_date": 1521059394, "question_id": 49287116, "link": "https://stackoverflow.com/questions/49287116/connecting-to-api-issues", "title": "Connecting to API issues", "body": "<p>I am new to Python and am trying to use it to connect to Americommerce API. They have an example on git. \nIt doesn't seem to work though. I add the url to STORE_DOMAIN, key to ACCESS_TOKEN, and app id to STORE_ID.</p>\n\n<p>The only one that seems to matter is the web url. If I mispell it I get coonection errors, however the key and id I can enter whatever I want there and get the same results. here is the script</p>\n\n<pre><code>#!/usr/bin/env python3\n\n# The 'requests' module is available via pip: \"pip install requests\"\n# You can find more documentation about requests at http://docs.python-requests.org/en/latest/\nimport requests\nimport json\nimport locale\nimport sys\n\nSTORE_DOMAIN = \"http://www.example.com\"\nACCESS_TOKEN = \"key\"\nSTORE_ID = \"app_id\"  # This should reflect your store's ID\n\nlocale.setlocale(locale.LC_ALL, '')\n\n# Searches for and returns the customer that matches the info passed in,\n# if no customer is found a new one is created and returned\ndef get_customer(firstName, lastName, email):\n\n    # setup headers\n    headers = {\n        'X-AC-Auth-Token': ACCESS_TOKEN,\n        'Content-Type': 'application/json'\n    }\n\n    # build API call to check if customer already exists (using email)\n    uri = '{}/api/v1/customers?email={}'.format(STORE_DOMAIN, email)\n\n    # include verify=False if using dev certificate\n    # r = requests.get(uri, headers = headers, verify=False)\n    r = requests.get(uri, headers = headers)\n\n    # see if a customer was found\n    customer = r.json()\n    if (customer['total_count'] &gt; 0):\n        return customer['customers'][0]\n\n    # no customer found, so lets create a new one\n    data = {\n        'last_name': doe,\n        'first_name': john,\n        'email': johndoe@email.com,\n        'store_id': 4\n    }\n\n    # build API call to post a new customer\n    uri = '{}/api/v1/customers'.format(STORE_DOMAIN)\n\n    # include verify=False if using dev certificate\n    # r = requests.post(uri, headers=headers, data = json.dumps(data), verify=False)\n    r = requests.post(uri, headers=headers, data = json.dumps(data))\n\n    # return newly created customer\n    return r.json()\n\nif __name__ == '__main__':\n    customer = get_customer('John', 'Doe', 'JohnDoe@email.com')\n    first_name = customer['first_name'].encode('utf-8')\n    last_name = ',{}\\n'.format(customer['last_name']).encode('utf-8')\n    email = customer['email'].encode('utf-8')\n    sys.stdout.buffer.write(first_name + last_name + email)\n</code></pre>\n\n<p>I get this result when I run this:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./getStuff.py\", line 57, in &lt;module&gt;\n    customer = get_customer('John', 'Doe', 'JohnDoe@email.com')\n  File \"./getStuff.py\", line 35, in get_customer\n    if (customer['total_count'] &gt; 0):\nKeyError: 'total_count'\n</code></pre>\n\n<p>Please, a little help here would be appreciated. Ive been stuck on this for a bit now.</p>\n"}, {"tags": ["python", "autocomplete"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1521059708, "post_id": 49287102, "comment_id": 85577415, "body": "Python 2 or 3? This should happen automatically on Python 3."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 9493710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699786e81ded1fe22bddd179bada8253?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Platonov", "link": "https://stackoverflow.com/users/9493710/dmitry-platonov"}, "is_accepted": true, "score": 1, "last_activity_date": 1521059950, "creation_date": 1521059950, "answer_id": 49287241, "question_id": 49287102, "link": "https://stackoverflow.com/questions/49287102/where-to-put-tab-completion-configuration-in-python/49287241#49287241", "title": "Where to put tab completion configuration in python?", "body": "<p>You need to set <a href=\"https://docs.python.org/3/using/cmdline.html#envvar-PYTHONSTARTUP\" rel=\"nofollow noreferrer\">PYTHONSTARTUP</a> environment variable to ~/.pythonrc. Put <code>PYTHONSTARTUP=~/.pythonrc</code> into your .bash_profile</p>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1521076067, "post_id": 49288091, "comment_id": 85583137, "body": "You can do that, but it&#39;s going to affect a lot more than just Python if you do. That may be a good thing or a bad thing."}], "tags": [], "owner": {"reputation": 6964, "user_id": 1424739, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/19d3c927744b5ad3b94afbf88e1c3844?s=128&d=identicon&r=PG", "display_name": "user1424739", "link": "https://stackoverflow.com/users/1424739/user1424739"}, "is_accepted": false, "score": 1, "last_activity_date": 1521063786, "creation_date": 1521063786, "answer_id": 49288091, "question_id": 49287102, "link": "https://stackoverflow.com/questions/49287102/where-to-put-tab-completion-configuration-in-python/49288091#49288091", "title": "Where to put tab completion configuration in python?", "body": "<p>Actually, there is no need to set <code>~/.pythonrc</code>. For Mac, one just needs to set <code>~/.editrc</code> with the following content. </p>\n\n<pre><code>bind -v\nbind ^I rl_complete\n</code></pre>\n"}], "owner": {"reputation": 6964, "user_id": 1424739, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/19d3c927744b5ad3b94afbf88e1c3844?s=128&d=identicon&r=PG", "display_name": "user1424739", "link": "https://stackoverflow.com/users/1424739/user1424739"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 49287241, "answer_count": 2, "score": 0, "last_activity_date": 1521063786, "creation_date": 1521059349, "question_id": 49287102, "link": "https://stackoverflow.com/questions/49287102/where-to-put-tab-completion-configuration-in-python", "title": "Where to put tab completion configuration in python?", "body": "<p><a href=\"https://stackoverflow.com/questions/7116038/python-tab-completion-mac-osx-10-7-lion\">python tab completion Mac OSX 10.7 (Lion)</a></p>\n\n<p>The above link shows that the following code can be used for autocompletion in python.</p>\n\n<pre><code>import readline\nimport rlcompleter\nif 'libedit' in readline.__doc__:\n    readline.parse_and_bind(\"bind ^I rl_complete\")\nelse:\n    readline.parse_and_bind(\"tab: complete\")\n</code></pre>\n\n<p>But I don't see where to put it so that it can be loaded at startup. I tried <code>~/.pythonrc</code>, but it did not work.</p>\n\n<p>Does anybody know what is the current way to load such a configuration automatically for an interactive python session?</p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 378, "user_id": 9110408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2615eabeb12929ed3a7b9633f8c307d6?s=128&d=identicon&r=PG&f=1", "display_name": "jk622", "link": "https://stackoverflow.com/users/9110408/jk622"}, "edited": false, "score": 1, "creation_date": 1521062710, "post_id": 49287073, "comment_id": 85578802, "body": "<code>subjects.grid(column = 0, row = 1, rowspan = 3)</code> to <code>subjects.grid(column = 0, row = 0, rowspan = 3)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 2774491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bac04ea212352de085076b1c3d2f851?s=128&d=identicon&r=PG", "display_name": "user7628", "link": "https://stackoverflow.com/users/2774491/user7628"}, "edited": false, "score": 0, "creation_date": 1521066498, "post_id": 49288480, "comment_id": 85580399, "body": "Thanks man, exactly how I wanted it ^^ Just thought it could all fit into one Frame,"}], "tags": [], "owner": {"reputation": 51, "user_id": 9469290, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J9TDkuBr2lI/AAAAAAAAAAI/AAAAAAAAACg/uwuMD0ACWxw/photo.jpg?sz=128", "display_name": "Nathan Stanton", "link": "https://stackoverflow.com/users/9469290/nathan-stanton"}, "is_accepted": true, "score": 1, "last_activity_date": 1521066061, "last_edit_date": 1521066061, "creation_date": 1521065754, "answer_id": 49288480, "question_id": 49287073, "link": "https://stackoverflow.com/questions/49287073/putting-a-listbox-and-three-buttons-next-to-each-other-tkinter/49288480#49288480", "title": "Putting a Listbox and three Buttons next to each other (tkinter)", "body": "<p>This related question may be useful to you:\n<a href=\"https://stackoverflow.com/questions/34276663/tkinter-gui-layout-using-frames-and-grid]\">tkinter gui layout using frames and grid</a><a href=\"https://i.stack.imgur.com/rk1mQ.png\" rel=\"nofollow noreferrer\">1</a></p>\n\n<p>Applying this to your code you might get something like this:</p>\n\n<pre><code>import glob\nfrom Tkinter import *\n\n\nroot = Tk()\nroot.title('Model Definition')\nroot.geometry('{}x{}'.format(600, 600))\n\n# create all of the main containers\ncenter = Frame(root, bg='gray2', width=590, height=590, padx=3, pady=3)\n\n# layout all of the main containers\nroot.grid_rowconfigure(1, weight=1)\nroot.grid_columnconfigure(0, weight=1)\n\ncenter.grid(row=1, sticky=\"nsew\")\n\n# create the center widgets\ncenter.grid_rowconfigure(0, weight=1)\ncenter.grid_columnconfigure(1, weight=1)\n\nctr_left = Frame(center, bg='blue', width=295, height=590, padx=50, pady=50)\nctr_right = Frame(center, bg='green', width=295, height=590, padx=70, pady=50)\n\nctr_left.grid(row=0, column=0, sticky=\"ns\")\nctr_right.grid(row=0, column=2, sticky=\"ns\")\n\n# create right sub widgets\nctr_right.grid_rowconfigure(1, weight=1)\nctr_right.grid_columnconfigure(0, weight=1)\n\nright_top = Frame(ctr_right, bg='yellow', width=295, height=194)\nright_center = Frame(ctr_right, bg='red', width=295, height=194)\nright_bottom = Frame(ctr_right, bg='purple', width=295, height=194)\n\nright_top.grid(row=0, column=0, sticky=\"ew\")\nright_center.grid(row=1, column=0, sticky=\"ew\")\nright_bottom.grid(row=2, column=0, sticky=\"ew\")\n\n#\n# make the Listbox and buttons\n#\n\n# Creates Listbox of existing subjects, from .txt files in directory of program\nsubjects = Listbox(ctr_left,\n                   width=32,\n                   height=30)\nfor this_file in glob.glob(\"*.txt\"):\n    subjects.insert(0, this_file.split('.')[0])\nsubjects.grid(column=0, row=0, sticky=\"e\")\n\n# Creates a button for selecting the subject in the Listbox\nselect_subject = Button(right_top,\n                        text='Select subject',\n                        command=lambda: subject_menu(subjects, root),\n                        width=20,\n                        height=3)\nselect_subject.grid(column=0, row=0, sticky=\"e\")\n\n# Creates a \"make new subject\" button\nmake_subject = Button(right_center,\n                      text='Make new subject',\n                      command=lambda: new_subject(root),\n                      width=20,\n                      height=3)\nmake_subject.grid(column=0, row=0, sticky=\"e\")\n\n# Creates an \"import subject\" button\nimport_sub = Button(right_bottom,\n                    text='Import a subject',\n                    command=import_subject,\n                    width=20,\n                    height=3)\nimport_sub.grid(column=0, row=0, sticky=\"e\")\n\nroot.mainloop()\n</code></pre>\n\n<p>Note that adding a width or height to the Listbox or Buttons uses a measurement of characters rather than pixels. This code also adds colors to make it easier to see where the frames are going, and the result is as shown here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rk1mQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rk1mQ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 7, "user_id": 2774491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bac04ea212352de085076b1c3d2f851?s=128&d=identicon&r=PG", "display_name": "user7628", "link": "https://stackoverflow.com/users/2774491/user7628"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1541, "favorite_count": 0, "accepted_answer_id": 49288480, "answer_count": 1, "score": 0, "last_activity_date": 1521066061, "creation_date": 1521059202, "question_id": 49287073, "link": "https://stackoverflow.com/questions/49287073/putting-a-listbox-and-three-buttons-next-to-each-other-tkinter", "title": "Putting a Listbox and three Buttons next to each other (tkinter)", "body": "<p>I've tried for several hours to build a Frame that fills the window, and which contains a Listbox on one side and three buttons evenly spaced: <a href=\"https://i.stack.imgur.com/8e9JL.png\" rel=\"nofollow noreferrer\">how I want the layout to be</a></p>\n\n<p>Instead, with the current code I have, the result looks like  <a href=\"https://i.stack.imgur.com/nehxz.png\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>Can anyone point out what I'm doing wrong, and how I can change the code to get it to the way I want it to be?</p>\n\n<p>Current code: `    </p>\n\n<pre><code># Creates window\nroot = Tk()\nroot.title(\"MyMemory\")\nroot.geometry(\"600x600\")\nroot[\"bg\"] = \"sienna1\"\n\n# Frames the window\nmainframe = ttk.Frame(root, padding=\"3 3 12 12\")\nmainframe.grid(column=0, row=0, sticky=(N, W, E, S))\nmainframe.columnconfigure(0, weight=1)\nmainframe.rowconfigure(0, weight=1)\nmainframe.pack(fill=BOTH, expand = True)\n\n# Creates Listbox of existing subjects, from .txt files in directory of \nprogram\nsubjects = Listbox(mainframe)\nfor file in glob.glob(\"*.txt\"):\n    subjects.insert(0,file.split('.')[0])\nsubjects.grid(column = 0, row = 1, rowspan = 3)\n\n# Creates a button for selecting the subject in the Listbox\nselect_subject = Button(mainframe, text = 'Select subject', command = \nlambda: subject_menu(subjects, root))\nselect_subject.grid(column = 1, row = 0, sticky = (N))\n\n# Creates a \"make new subject\" button\nmake_subject = Button(mainframe, text = 'Make new subject', command = \nlambda: new_subject(root))\nmake_subject.grid(column = 1, row = 1, sticky = (N))\n\n# Creates an \"import subject\" button\nimport_sub = Button(mainframe, text = 'Import a subject', command = \nimport_subject)\nimport_sub.grid(column = 1, row = 2, sticky = (N))\n\n# Creates an \"exit program\" button\n#close = Button(root, text = 'Exit program', command = ))\n#close.pack(pady=20, padx = 20)    \n\n\n# Starts the loop\nroot.mainloop()`\n</code></pre>\n"}, {"tags": ["python", "virtualenv", "conda"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1521065384, "post_id": 49287061, "comment_id": 85579950, "body": "By default, I&#39;m pretty sure that conda symlinks packages from the directory where they get unzipped. So this should &quot;just work&quot;..."}, {"owner": {"reputation": 663, "user_id": 3214482, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3n1JJ.jpg?s=128&g=1", "display_name": "username123", "link": "https://stackoverflow.com/users/3214482/username123"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1521125780, "post_id": 49287061, "comment_id": 85607220, "body": "@darthbith &quot;conda create -n newroot --clone root&quot; still downloads packages and still counts in my storage quota.  Is there any other way to actually create &quot;soft link&quot;?"}, {"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1521131258, "post_id": 49287061, "comment_id": 85611197, "body": "Sorry, not sure... It&#39;s possible the administrators have cleaned out the cache of the root environment to save space there, causing packages to be re-downloaded."}], "owner": {"reputation": 663, "user_id": 3214482, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3n1JJ.jpg?s=128&g=1", "display_name": "username123", "link": "https://stackoverflow.com/users/3214482/username123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1521085103, "answer_count": 0, "score": 0, "last_activity_date": 1521059129, "creation_date": 1521059129, "question_id": 49287061, "link": "https://stackoverflow.com/questions/49287061/conda-environment-install-only-new-or-upgraded-packages-in-an-environment", "closed_reason": "Duplicate", "title": "conda environment: install only new or upgraded packages in an environment?", "body": "<p>I am trying to create a new conda environment for my project on a server.  The problem is I have only 2GB in my home directory, of which roughly 1GB would be used for the conda environment.  Since my project depends on a lot of packages, which would sum up to over 2GB, and many of them (e.g. numpy/scipy/etc) have already been installed in the root environment (which I cannot modify without root permission).  I wonder if it is possible to install only packages that are not available in root environment or those with different versions in root environment so that I could possibly save a lot of space?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "python-3.x", "dictionary", "save", "output"], "comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 1, "creation_date": 1521059312, "post_id": 49287058, "comment_id": 85577242, "body": "So what is it you&#39;re asking for? How to search through your text or how to save your text to a dictionary?"}], "answers": [{"comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1521059574, "post_id": 49287082, "comment_id": 85577355, "body": "This assumes that you are entering in the exact sentence to search for.  This doesn&#39;t handle a partial search, which is what I&#39;m assuming the OP actually wants.  Not entering in the exact string to search for would not generate any matches and the code would throw <code>KeyError</code> exception."}, {"owner": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 0, "creation_date": 1521060458, "post_id": 49287082, "comment_id": 85577727, "body": "Thank you, but I&#39;m sitll getting an error:   line 59, in &lt;listcomp&gt;     [v for k,v in line_dict.items() if usr_in in k]))  TypeError: argument of type &#39;int&#39; is not iterable"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1521060579, "post_id": 49287082, "comment_id": 85577787, "body": "in your <code>with open</code> loop, try replacing <code>my_dict[line.strip()] = cnt</code> with <code>my_dict[str(line.strip())] = cnt</code> and see if that helps"}, {"owner": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 0, "creation_date": 1521061586, "post_id": 49287082, "comment_id": 85578238, "body": "Now it works, but I don&#39;t always getting a line in return of my imput. Working: enter text to search: moon That text is found at line(s) [8] Not working: enter text to search: dream That text is found at line(s) []  Can I solve this somehow?"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1521061808, "post_id": 49287082, "comment_id": 85578357, "body": "It will be case sensitive, could that be the problem?"}, {"owner": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 0, "creation_date": 1521062152, "post_id": 49287082, "comment_id": 85578521, "body": "That could be it! Thanks!"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 1, "creation_date": 1521062827, "post_id": 49287082, "comment_id": 85578864, "body": "@StrikeX To help with the case insensitivity, it&#39;s common to convert the search query and a line in your text both to lower case to normalize the casing prior to comparison.  Only do this when you&#39;re searching, not when you&#39;re actually entering the text in the dictionary. This way if you want to display the actual text entered, it&#39;s the true text and not the converted lowercase form. Replace the line in the comprehension with: <code>[v for k,v in my_dict.items() if usr_in.lower() in k.lower()]</code>"}, {"owner": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1521138183, "post_id": 49287082, "comment_id": 85615510, "body": "@rayryeng thank you, it&#39;s working just fine! One final question: I wan&#39;t to have another user input right after the other, where the user can type in the number of the line and in return the whole line shows up as an output. I&#39;ve tried to alter this code without any result:  <code>usr_in = input(&#39;enter text to search: &#39;)  print(&#39;That text is found at line(s) {}&#39;.format(                   [v for k,v in my_dict.items() if usr_in in k]))</code>"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 0, "creation_date": 1521138372, "post_id": 49287082, "comment_id": 85615605, "body": "@StrikeX, please consider asking another question, as the comments are not meant to expand to a separate issue (long conversations are usually discouraged from comments, and this is a separate issue with respects to your original question)"}, {"owner": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 0, "creation_date": 1521139133, "post_id": 49287082, "comment_id": 85615983, "body": "@sacul got it!!"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 0, "creation_date": 1521156877, "post_id": 49287082, "comment_id": 85623819, "body": "@StrikeX I would definitely be happy to answer, but please ask this in another question. This is going well beyond what you originally intended."}, {"owner": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "edited": false, "score": 0, "creation_date": 1521159350, "post_id": 49287082, "comment_id": 85624542, "body": "@rayreng yes I know. I&#39;ve started another question a few hours ago: <a href=\"https://stackoverflow.com/questions/49307023/change-up-the-user-input-in-python/49307421#49307421\" title=\"change up the user input in python\">stackoverflow.com/questions/49307023/&hellip;</a>"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 1, "last_activity_date": 1521060652, "last_edit_date": 1521060652, "creation_date": 1521059264, "answer_id": 49287082, "question_id": 49287058, "link": "https://stackoverflow.com/questions/49287058/is-it-possible-to-save-the-print-output-in-a-dict-with-python/49287082#49287082", "title": "Is it possible to save the print-output in a dict with python?", "body": "<p>This should do it (using the code you provided as a framework, it only takes one extra line to store it in a dictionary):</p>\n\n<pre><code>my_dict={}\n\nfilepath = 'myfile.txt'  \nwith open(filepath) as fp:  \n   line = fp.readline()\n   cnt = 1\n   while line:\n       # print(\"Line {}: {}\".format(cnt, line.strip()))\n       my_dict[str(line.strip())] = cnt\n       line = fp.readline()\n       cnt += 1\n</code></pre>\n\n<p>Then, you can prompt for user input like this:</p>\n\n<pre><code>usr_in = input('enter text to search: ')\n\nprint('That text is found at line(s) {}'.format(\n                  [v for k,v in my_dict.items() if usr_in in k]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "is_accepted": false, "score": 1, "last_activity_date": 1521060175, "creation_date": 1521060175, "answer_id": 49287291, "question_id": 49287058, "link": "https://stackoverflow.com/questions/49287058/is-it-possible-to-save-the-print-output-in-a-dict-with-python/49287291#49287291", "title": "Is it possible to save the print-output in a dict with python?", "body": "<p>For storing the line string value as key in dictionary and line number as value, you can try something like:</p>\n\n<pre><code>filepath = 'myfile.txt' \n\nresult_dict = {}\nwith open(filepath) as fp:  \n    for line_num, line in enumerate(fp.readlines()):\n        result_dict[line.strip()] = line_num+1\n</code></pre>\n\n<p>Or, using <code>dictionary comprehension</code>, above code can be:</p>\n\n<pre><code>filepath = 'myfile.txt' \n\nwith open(filepath) as fp:  \n    result_dict = {line.strip(): line_num+1 \n                        for line_num, line in enumerate(fp.readlines())}\n</code></pre>\n\n<p>Now to search and return all the lines with words:</p>\n\n<pre><code>search_result = [{key: value} for key, value in result_dict.items() \n                                  if search_word in key]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8159807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5e93aeb4221e20bc0e941ec16b8695?s=128&d=identicon&r=PG&f=1", "display_name": "StrikeX", "link": "https://stackoverflow.com/users/8159807/strikex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1425, "favorite_count": 1, "accepted_answer_id": 49287082, "answer_count": 2, "score": 0, "last_activity_date": 1521060652, "creation_date": 1521059104, "question_id": 49287058, "link": "https://stackoverflow.com/questions/49287058/is-it-possible-to-save-the-print-output-in-a-dict-with-python", "title": "Is it possible to save the print-output in a dict with python?", "body": "<p>I want to know, if it's possible to save the output of this code into a dictionary (maybe it's also the wrong data-type). I'm not expirienced in coding yet, so I can't think of a way it could work.\nI want to create a dicitionary that has the lines of the txt.-file in it alongside the value of the corresponding line. In the end, I want to create a code, where the user has the option to search for a word in the line through an input - the output should return the corresponding line. Has anyone a suggestion? Thanks in advance! Cheers!</p>\n\n<pre><code>filepath = 'myfile.txt'  \nwith open(filepath) as fp:  \n   line = fp.readline()\n   cnt = 1\n   while line:\n       print(\"Line {}: {}\".format(cnt, line.strip()))\n       line = fp.readline()\n       cnt += 1\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "avro", "avro-tools"], "comments": [{"owner": {"reputation": 3966, "user_id": 868546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c689f8a9d6a545795c89c6118f47db?s=128&d=identicon&r=PG", "display_name": "Drise", "link": "https://stackoverflow.com/users/868546/drise"}, "edited": false, "score": 0, "creation_date": 1521059244, "post_id": 49286955, "comment_id": 85577206, "body": "The <a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> tag is enough to convey you are using python. Don&#39;t add it unnecessarily to the title. See <a href=\"https://meta.stackexchange.com/a/112966/186397\">The Bad</a> section if you are curious why."}, {"owner": {"reputation": 3826, "user_id": 374601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uL80U.jpg?s=128&g=1", "display_name": "Erty Seidohl", "link": "https://stackoverflow.com/users/374601/erty-seidohl"}, "reply_to_user": {"reputation": 3966, "user_id": 868546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c689f8a9d6a545795c89c6118f47db?s=128&d=identicon&r=PG", "display_name": "Drise", "link": "https://stackoverflow.com/users/868546/drise"}, "edited": false, "score": 0, "creation_date": 1521059274, "post_id": 49286955, "comment_id": 85577222, "body": "sounds good, thanks for the edits."}, {"owner": {"reputation": 3826, "user_id": 374601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uL80U.jpg?s=128&g=1", "display_name": "Erty Seidohl", "link": "https://stackoverflow.com/users/374601/erty-seidohl"}, "reply_to_user": {"reputation": 3966, "user_id": 868546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c689f8a9d6a545795c89c6118f47db?s=128&d=identicon&r=PG", "display_name": "Drise", "link": "https://stackoverflow.com/users/868546/drise"}, "edited": false, "score": 0, "creation_date": 1521064709, "post_id": 49286955, "comment_id": 85579643, "body": "I was using the wrong tool to read the file. I should have used <code>avro-tools tojson .&#47;record.avro</code> instead of fragtojson as in the question. The difference is that fragtojson is used for a single avro datum, whereas tojson is used for an entire file."}], "answers": [{"tags": [], "owner": {"reputation": 3826, "user_id": 374601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uL80U.jpg?s=128&g=1", "display_name": "Erty Seidohl", "link": "https://stackoverflow.com/users/374601/erty-seidohl"}, "is_accepted": true, "score": 0, "last_activity_date": 1521060905, "creation_date": 1521060905, "answer_id": 49287466, "question_id": 49286955, "link": "https://stackoverflow.com/questions/49286955/writing-invalid-avro-file-length-is-negative-40/49287466#49287466", "title": "Writing Invalid avro file: length is negative: -40", "body": "<p>I was using the wrong tool to read the file. I should have used </p>\n\n<pre><code>avro-tools tojson ./record.avro\n</code></pre>\n\n<p>instead of <code>fragtojson</code> as in the question. The difference is that <code>fragtojson</code> is used for a single avro datum, whereas <code>tojson</code> is used for an entire file.</p>\n"}, {"comments": [{"owner": {"reputation": 3826, "user_id": 374601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uL80U.jpg?s=128&g=1", "display_name": "Erty Seidohl", "link": "https://stackoverflow.com/users/374601/erty-seidohl"}, "edited": false, "score": 0, "creation_date": 1521065038, "post_id": 49287887, "comment_id": 85579784, "body": "If I do that, the schema isn&#39;t included in the output avro file, is that correct?"}, {"owner": {"reputation": 3826, "user_id": 374601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uL80U.jpg?s=128&g=1", "display_name": "Erty Seidohl", "link": "https://stackoverflow.com/users/374601/erty-seidohl"}, "edited": false, "score": 0, "creation_date": 1521065054, "post_id": 49287887, "comment_id": 85579793, "body": "My understanding is that the schema should be included in the payload that I send to aws"}, {"owner": {"reputation": 91, "user_id": 5214489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VKZBB.jpg?s=128&g=1", "display_name": "Tuki", "link": "https://stackoverflow.com/users/5214489/tuki"}, "reply_to_user": {"reputation": 3826, "user_id": 374601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uL80U.jpg?s=128&g=1", "display_name": "Erty Seidohl", "link": "https://stackoverflow.com/users/374601/erty-seidohl"}, "edited": false, "score": 0, "creation_date": 1521067574, "post_id": 49287887, "comment_id": 85580813, "body": "@ErtySeidohl yes, the schema isn&#39;t included, only the binary data, but nothing prevents you from transmitting the schema in another way, wrapping your data_bytes with other metadata in the same kinesis flow for example... it&#39;s worth a try :)"}], "tags": [], "owner": {"reputation": 91, "user_id": 5214489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VKZBB.jpg?s=128&g=1", "display_name": "Tuki", "link": "https://stackoverflow.com/users/5214489/tuki"}, "is_accepted": false, "score": 0, "last_activity_date": 1521062822, "creation_date": 1521062822, "answer_id": 49287887, "question_id": 49286955, "link": "https://stackoverflow.com/questions/49286955/writing-invalid-avro-file-length-is-negative-40/49287887#49287887", "title": "Writing Invalid avro file: length is negative: -40", "body": "<blockquote>\n  <p>I want to write to a bytes array (instead of directly to a file like in the example) because ultimately I'm going to ship this avro buffer off to AWS Kinesis Firehose using boto3.</p>\n</blockquote>\n\n<p>So you don't need to use DataFileWriter, what you need is this :</p>\n\n<pre><code>datum_writer = io.DatumWriter(avro_schema)\n\noutput = io.BytesIO()\nencoder = avro.io.BinaryEncoder(output)\nfor i in range(1000):\n    datum_writer.write(_generate_fake_data(), encoder)\n\ndata_bytes = output.getvalue()\n</code></pre>\n\n<p>If you want to print the content of data_bytes, you have just to decode it using BinaryDecoder</p>\n"}], "owner": {"reputation": 3826, "user_id": 374601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uL80U.jpg?s=128&g=1", "display_name": "Erty Seidohl", "link": "https://stackoverflow.com/users/374601/erty-seidohl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1418, "favorite_count": 1, "accepted_answer_id": 49287466, "answer_count": 2, "score": -1, "last_activity_date": 1521062822, "creation_date": 1521058681, "last_edit_date": 1521059154, "question_id": 49286955, "link": "https://stackoverflow.com/questions/49286955/writing-invalid-avro-file-length-is-negative-40", "title": "Writing Invalid avro file: length is negative: -40", "body": "<p>I'm attempting to write an avro file from python, for the most part following the <a href=\"https://avro.apache.org/docs/1.8.2/gettingstartedpython.html\" rel=\"nofollow noreferrer\">official tutorial</a>.</p>\n\n<p>I have what appears to be a valid schema:</p>\n\n<pre><code>{\"namespace\": \"example.avro\",\n \"type\": \"record\",\n \"name\": \"Stock\",\n \"fields\": [\n     {\"name\": \"ticker_symbol\", \"type\": \"string\"},\n     {\"name\": \"sector\",  \"type\": \"string\"},\n     {\"name\": \"change\", \"type\": \"float\"},\n     {\"name\": \"price\",  \"type\": \"float\"}\n ]\n}\n</code></pre>\n\n<p>Here is the relevant code</p>\n\n<pre><code>avro_schema = schema.parse(open(\"stock.avsc\", \"rb\").read())\noutput = BytesIO()\nwriter = DataFileWriter(output, DatumWriter(), avro_schema)\n\nfor i in range(1000):\n    writer.append(_generate_fake_data())\nwriter.flush()\n\nwith open('record.avro', 'wb') as f:\n    f.write(output.getvalue())\n</code></pre>\n\n<p>However, when I try to read the output from this file using the cli avro-tools:</p>\n\n<pre><code>avro-tools fragtojson --schema-file stock.avsc ./record.avro  --no-pretty\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (org.apache.hadoop.metrics2.lib.MutableMetricsFactory).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/usr/local/Cellar/avro-tools/1.8.2/libexec/avro-tools-1.8.2.jar) to method sun.security.krb5.Config.getInstance()\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nException in thread \"main\" org.apache.avro.AvroRuntimeException: Malformed data. Length is negative: -40\n    at org.apache.avro.io.BinaryDecoder.doReadBytes(BinaryDecoder.java:336)\n    at org.apache.avro.io.BinaryDecoder.readString(BinaryDecoder.java:263)\n    at org.apache.avro.io.ResolvingDecoder.readString(ResolvingDecoder.java:201)\n    at org.apache.avro.generic.GenericDatumReader.readString(GenericDatumReader.java:422)\n    at org.apache.avro.generic.GenericDatumReader.readString(GenericDatumReader.java:414)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:181)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:153)\n    at org.apache.avro.generic.GenericDatumReader.readField(GenericDatumReader.java:232)\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:222)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:175)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:153)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:145)\n    at org.apache.avro.tool.BinaryFragmentToJsonTool.run(BinaryFragmentToJsonTool.java:82)\n    at org.apache.avro.tool.Main.run(Main.java:87)\n    at org.apache.avro.tool.Main.main(Main.java:76)\n</code></pre>\n\n<p>I'm pretty sure the relevant error is </p>\n\n<pre><code> Malformed data. Length is negative: -40\n</code></pre>\n\n<p>But I can't tell what I'm doing wrong. My suspicion is that I'm writing the avro file incorrectly.</p>\n\n<p>I want to write to a bytes array (instead of directly to a file like in the example) because ultimately I'm going to ship this avro buffer off to AWS Kinesis Firehose using <code>boto3</code>.</p>\n"}, {"tags": ["python", "django", "rest", "api", "django-rest-framework"], "comments": [{"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 1, "creation_date": 1521080000, "post_id": 49286928, "comment_id": 85584032, "body": "did you tried this, <code>path(&#39;blogs&#47;&lt;int:blog_pk&gt;&#47;authors&#47;&lt;int:author_pk&gt;&#39;, views.BlogAuthorList.as_view(), name=&#39;blogauthor-detail&#39;),</code>"}, {"owner": {"reputation": 616, "user_id": 1999465, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2ade8748f0026c202fc7444e42696b?s=128&d=identicon&r=PG", "display_name": "Why", "link": "https://stackoverflow.com/users/1999465/why"}, "reply_to_user": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 0, "creation_date": 1521096895, "post_id": 49286928, "comment_id": 85588814, "body": "yes but to no avail. @JerinPeterGeorge"}, {"owner": {"reputation": 616, "user_id": 1999465, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2ade8748f0026c202fc7444e42696b?s=128&d=identicon&r=PG", "display_name": "Why", "link": "https://stackoverflow.com/users/1999465/why"}, "reply_to_user": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 0, "creation_date": 1521097881, "post_id": 49286928, "comment_id": 85589225, "body": "well i restarted everything and not atleast the create part is working however i am not quite sure about the list view and detail view aspects"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 1, "creation_date": 1521098047, "post_id": 49286928, "comment_id": 85589299, "body": "<code>List View</code> will show all the instances in your respective <code>Model</code> (with/without pagination) while <code>Detail View</code> show the details of <b>One Instance</b> which is selected with an input_id"}, {"owner": {"reputation": 616, "user_id": 1999465, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2ade8748f0026c202fc7444e42696b?s=128&d=identicon&r=PG", "display_name": "Why", "link": "https://stackoverflow.com/users/1999465/why"}, "reply_to_user": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 0, "creation_date": 1521098200, "post_id": 49286928, "comment_id": 85589357, "body": "Thanks for the quick response. Have fixed that part and added a few more details. What i am asking for, i guess, is something similar to a group-by query maybe ? Not sure though.  Just to be clear: I am trig to arrove at this: GET /blogs/1/author : to get a list of authors for the blog identified by id 1 Sample Output: {                  id: 1,                  blog_id:1,                  authors:[1,2,3] #or authors:{1,2,3}                }"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 0, "creation_date": 1521103952, "post_id": 49286928, "comment_id": 85592078, "body": "I think your GET&lt;POST and DELETE API&#39;s are not a standard one (in my opinion). you can write <code>.create()</code> inside your serializer to create new foreign key instances"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "edited": false, "score": 0, "creation_date": 1521104026, "post_id": 49286928, "comment_id": 85592120, "body": "I can help you more if you share your project"}], "owner": {"reputation": 616, "user_id": 1999465, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2ade8748f0026c202fc7444e42696b?s=128&d=identicon&r=PG", "display_name": "Why", "link": "https://stackoverflow.com/users/1999465/why"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521098421, "creation_date": 1521058574, "last_edit_date": 1521098421, "question_id": 49286928, "link": "https://stackoverflow.com/questions/49286928/django-rest-framework-listcreateapi-and-retrieveupdatedelete-api-for-complex-f", "title": "Django REST Framework : ListCreateAPI and RetrieveUpdateDelete Api for complex foreign key relationships", "body": "<p>Apologies if this seems trivial but i want to know what is the most Django way to do this. Below are the models, views and serializers listed for reference.</p>\n\n<p>There are 3 models. I am just showing the relevant fields for each, though they have multiple fields. Now, one blog can have multiple authors contribute to it. Similarly one author or contributor can contribute to multiple blogs.</p>\n\n<pre><code>class Blog(models.Model):\n    title = models.CharField(max_length=\"120\")\n    ...\n\nclass Author(models.Model):\n    title = models.CharField(max_length=\"120\")\n    ...\n\nclass BlogAuthor(models.Model):\n    blog = models.ForeignKey('Blog') \n    author = models.ForeignKey('Author')\n    creator = models.ForeignKey('auth.User')\n    # Should the above relations be a Foreign Key or ManyToMany Field\n</code></pre>\n\n<p>I am using DRF 3.0 to create the below APIs:</p>\n\n<pre><code>        GET /blogs/1/author : to get a list of authors for the blog identified by id 1\nSample Output: {\n                 id: 1,\n                 blog_id:1,\n                 authors:[1,2,3] #or authors:{1,2,3}\n               }\n        POST /blogs/1/author: create which authors are related to the blog 1\n        GET /blogs/1/author/1: show details of the author 1 in context of the blog 1; for ex, author 1 may have contributed 300 words to blog 1 so this would return that along with some other details, say name of the author, picture of the author etc\n        DELETE /blogs/1/author/1 : deletes the relation between blog 1 and author 1, thought both entities exist; just the relationship between them is deleted\n</code></pre>\n\n<p>The relevant urls:</p>\n\n<pre><code>path('blogs/&lt;int:blog_pk&gt;/authors/', views.BlogAuthorList.as_view(), name='blogauthor-list'),\npath('blogs/&lt;int:blog_pk&gt;/authors/&lt;int:pk&gt;', views.BlogAuthorList.as_view(), name='blogauthor-detail'),\n</code></pre>\n\n<p>I have also created the views and the serializers but i am not very sure. </p>\n\n<pre><code>Serializer:\nclass BlogAuthor(serializers.ModelSerializer):\n        creator = serializers.ReadOnlyField(source='creator.username')\n\n        class Meta:\n            model = BlogAuthor\n            fields = ('id', 'blog', 'author', 'creator')\n\n    View:\n    class BlogAuthorList(generics.ListCreateAPIView):\n        queryset = BlogAuthor.objects.all() # notsure\n        serializer_class = BlogAuthorSerializer\n        permission_classes = (permissions.IsAuthenticatedOrReadOnly,)\n\n        #The below was working early but since i introduced the new URLs, see paths above am getting error as shown above\n        def create(self, request, *args, **kwargs):\n            public_personas = request.data.get('authors')\n    #To handle multiple authors sent from API, ie, to handle requests such as #: \n   # {\n   #     \"blog\": 1,\n   #     \"author\": [1,3]\n   # }\n            data = {}\n            response_data = []\n            response_dict = {}\n            for author in authors:\n                data['blog'] = request.data.get('blog')\n                data['author'] = author\n                serializer = self.get_serializer(data=data)\n                if serializer.is_valid():\n                    self.perform_create(serializer)\n                    headers = self.get_success_headers(serializer.data)\n                    response_data.append(serializer.data)\n                else:\n                    return Response(data=serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n            response_dict['data'] = response_data\n            return Response(response_dict, status=status.HTTP_201_CREATED, headers=headers)\n\n        def perform_create(self, serializer):\n            serializer.save(creator=self.request.user)\n\n        # def list(self, request):\n        #   Not Sure How To Do This\n\n\n    #Not sure about this.\n    class BlogAuthor(generics.RetrieveDestroyAPIView):\n        ???\n</code></pre>\n\n<p>Thats quite a long question. Sorry about that. Do let me know your thoughts and point me in the right direction on how to do this. I feel this is quite a common occurence so should be straight forward but have scratched my head for quite some time now.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "numpy", "scipy", "sparse-matrix"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1521058718, "post_id": 49286903, "comment_id": 85576929, "body": "See <a href=\"https://stackoverflow.com/questions/12305021/efficient-way-to-normalize-a-scipy-sparse-matrix\" title=\"efficient way to normalize a scipy sparse matrix\">stackoverflow.com/questions/12305021/&hellip;</a>"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1521058779, "post_id": 49286903, "comment_id": 85576959, "body": "... and <a href=\"https://stackoverflow.com/questions/30260642/normalizing-matrix-row-scipy-matrix\" title=\"normalizing matrix row scipy matrix\">stackoverflow.com/questions/30260642/&hellip;</a>"}, {"owner": {"reputation": 4919, "user_id": 1627234, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7221be6ffff63be791929d2ffc624071?s=128&d=identicon&r=PG", "display_name": "Pavlin", "link": "https://stackoverflow.com/users/1627234/pavlin"}, "edited": false, "score": 0, "creation_date": 1521059071, "post_id": 49286903, "comment_id": 85577129, "body": "I have no wish to depend on either scikit learn or networkx. This is not very helpful."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1521059229, "post_id": 49286903, "comment_id": 85577198, "body": "<i>&quot;I have no wish to depend on either scikit learn or networkx.&quot;</i> Well, if you put that in the question, then we would <i>know</i> that those suggestions are not helpful.  We can&#39;t read your mind!"}, {"owner": {"reputation": 4919, "user_id": 1627234, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7221be6ffff63be791929d2ffc624071?s=128&d=identicon&r=PG", "display_name": "Pavlin", "link": "https://stackoverflow.com/users/1627234/pavlin"}, "edited": false, "score": 0, "creation_date": 1521059326, "post_id": 49286903, "comment_id": 85577249, "body": "You&#39;re right, I should&#39;ve made that explicit."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1521059399, "post_id": 49286903, "comment_id": 85577284, "body": "The second answer in the suggested duplicate by 0x01 shows how to do it without scikit-learn.  Also, the second answer in the second suggested duplicate by Warren Weckesser."}, {"owner": {"reputation": 4919, "user_id": 1627234, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7221be6ffff63be791929d2ffc624071?s=128&d=identicon&r=PG", "display_name": "Pavlin", "link": "https://stackoverflow.com/users/1627234/pavlin"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1521059520, "post_id": 49286903, "comment_id": 85577325, "body": "@rayryeng Yes, however it is done using nested for loops, something I did make explicit that I don&#39;t want to do. My question is simply whether there is an elegant solution for this using numpy or scipy to get the nice speed benefits of those."}], "answers": [{"comments": [{"owner": {"reputation": 4919, "user_id": 1627234, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7221be6ffff63be791929d2ffc624071?s=128&d=identicon&r=PG", "display_name": "Pavlin", "link": "https://stackoverflow.com/users/1627234/pavlin"}, "edited": false, "score": 0, "creation_date": 1521059698, "post_id": 49287160, "comment_id": 85577412, "body": "Thank you! This is exactly what I was looking for!"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1521059796, "post_id": 49287160, "comment_id": 85577448, "body": "This is good to know. Thanks. +1."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1521063544, "post_id": 49287160, "comment_id": 85579179, "body": "On a 1000x800 random matrix, your answer is faster than even the <code>sklearn.preprocessing.normalize</code>."}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 4, "last_activity_date": 1521059609, "creation_date": 1521059609, "answer_id": 49287160, "question_id": 49286903, "link": "https://stackoverflow.com/questions/49286903/normalize-sparse-row-probability-matrix/49287160#49287160", "title": "Normalize sparse row probability matrix", "body": "<p>You can always use <code>csr</code> internals:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; from scipy import sparse\n&gt;&gt;&gt; \n&gt;&gt;&gt; x = sparse.csr_matrix([[0, 1, 1], [2, 3, 0]]) \n&gt;&gt;&gt; \n&gt;&gt;&gt; x.data = x.data / np.repeat(np.add.reduceat(x.data, x.indptr[:-1]), np.diff(x.indptr))\n&gt;&gt;&gt; x\n&lt;2x3 sparse matrix of type '&lt;class 'numpy.float64'&gt;'\n        with 4 stored elements in Compressed Sparse Row format&gt;\n&gt;&gt;&gt; x.A\narray([[0. , 0.5, 0.5],\n       [0.4, 0.6, 0. ]])\n</code></pre>\n"}], "owner": {"reputation": 4919, "user_id": 1627234, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7221be6ffff63be791929d2ffc624071?s=128&d=identicon&r=PG", "display_name": "Pavlin", "link": "https://stackoverflow.com/users/1627234/pavlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 0, "closed_date": 1521060377, "accepted_answer_id": 49287160, "answer_count": 1, "score": 0, "last_activity_date": 1521059609, "creation_date": 1521058480, "last_edit_date": 1521059191, "question_id": 49286903, "link": "https://stackoverflow.com/questions/49286903/normalize-sparse-row-probability-matrix", "closed_reason": "Duplicate", "title": "Normalize sparse row probability matrix", "body": "<p>I've got a sparse matrix with a few elements. Now I would like to row normalize it. However, when I do this, it gets converted to a numpy array, which is not acceptable from a performance standpoint.</p>\n\n<p>To make things more concrete, consider the following example:</p>\n\n<pre><code>x = csr_matrix([[0, 1, 1], [2, 3, 0]])  # sparse\nnormalization = x.sum(axis=1)  # dense, this is OK\n\nx / normalization  # this is dense, not OK, can be huge\n</code></pre>\n\n<p>Is there an elegant way to do this without having to resort to for loops?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Yes, this can be done using <code>sklearn.preprocessing.normalize</code> using 'l1' normalization, however, I have no wish to depend on sklearn. </p>\n"}, {"tags": ["python", "list", "loops"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 2, "creation_date": 1521058465, "post_id": 49286883, "comment_id": 85576813, "body": "Take out the brackets around <code>enteredID.upper()</code>  You have a nested list, you don&#39;t want that"}, {"owner": {"reputation": 25, "user_id": 9302284, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4GZn0YYf-3w/AAAAAAAAAAI/AAAAAAAAANw/RMkHOIJe4NA/photo.jpg?sz=128", "display_name": "SM23", "link": "https://stackoverflow.com/users/9302284/sm23"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1521058599, "post_id": 49286883, "comment_id": 85576873, "body": "Thanks for the quick reply. I tried idList =enteredID.upper() and it prints out i,d,1,i,d,2,i,d,3 at the print(eid)"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1521058631, "post_id": 49286883, "comment_id": 85576891, "body": "Then use <code>split(&#39;,&#39;)</code>"}, {"owner": {"reputation": 25, "user_id": 9302284, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4GZn0YYf-3w/AAAAAAAAAAI/AAAAAAAAANw/RMkHOIJe4NA/photo.jpg?sz=128", "display_name": "SM23", "link": "https://stackoverflow.com/users/9302284/sm23"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1521058863, "post_id": 49286883, "comment_id": 85577010, "body": "Thanks so much, i knew it was some stupidly simple like this."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9302284, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4GZn0YYf-3w/AAAAAAAAAAI/AAAAAAAAANw/RMkHOIJe4NA/photo.jpg?sz=128", "display_name": "SM23", "link": "https://stackoverflow.com/users/9302284/sm23"}, "edited": false, "score": 0, "creation_date": 1521058879, "post_id": 49286913, "comment_id": 85577014, "body": "Thanks so much, i knew it was some stupidly simple like this."}], "tags": [], "owner": {"reputation": 1066, "user_id": 1212526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11badd2a99cfb8290ade0313673b5d5d?s=128&d=identicon&r=PG", "display_name": "Tan&#233; Tachyon", "link": "https://stackoverflow.com/users/1212526/tan%c3%a9-tachyon"}, "is_accepted": true, "score": 5, "last_activity_date": 1521058532, "creation_date": 1521058532, "answer_id": 49286913, "question_id": 49286883, "link": "https://stackoverflow.com/questions/49286883/creating-list-tuple-from-string/49286913#49286913", "title": "creating list/tuple from string", "body": "<p>You need to do\n<code>\nidList = enteredID.upper().split(\",\")\n</code></p>\n"}], "owner": {"reputation": 25, "user_id": 9302284, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4GZn0YYf-3w/AAAAAAAAAAI/AAAAAAAAANw/RMkHOIJe4NA/photo.jpg?sz=128", "display_name": "SM23", "link": "https://stackoverflow.com/users/9302284/sm23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 49286913, "answer_count": 1, "score": 0, "last_activity_date": 1521058532, "creation_date": 1521058380, "question_id": 49286883, "link": "https://stackoverflow.com/questions/49286883/creating-list-tuple-from-string", "title": "creating list/tuple from string", "body": "<p>Sorry if this has been asked,I wasnt able to find it. I am building a slackbot and was looking to be able to loop through inputted data. The user would entered in IDs and the script would loop through those ids and return values. I am able to get it working if a single ID is entered but I was looking to have it search multiple IDs at once.</p>\n\n<p>Entered in slack </p>\n\n<pre><code>@SlackBot search id1,id2,id3\n</code></pre>\n\n<p>I tried to enter the info from the chat into a list separated by a comma but python treats every character as a new asset in the list. (i,d,1, ,i,d,2,..)\nI was able to have the data entered into a dictionary and when printed it shows as </p>\n\n<pre><code>[id1,id2,id3]\n</code></pre>\n\n<p>So i tried to loop through the dictionary but it treats that string as one object and doesnt loop.</p>\n\n<pre><code>def assetSearch(enteredID): \n    idList =[enteredID.upper()]\n    searchedIDs = list()\n    for eid in idList:\n        print(eid) # This is here to see what its looking at\n        for k, v in Content.items():\n            if v['AssetID'] == eid:\n</code></pre>\n\n<p>the current print(eid) prints [id1,id2,id3] instead of id1, then id2.</p>\n\n<p>Could someone point me in the correct direction?</p>\n"}, {"tags": ["python", "python-3.x", "oop"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 5, "creation_date": 1521058543, "post_id": 49286876, "comment_id": 85576846, "body": "When you&#39;ll run the code you posted there will be no output in the first place. Please post the actual code."}, {"owner": {"reputation": 263, "user_id": 9493223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d817606be28b945d476d0ca477e288d?s=128&d=identicon&r=PG&f=1", "display_name": "In&#234;s", "link": "https://stackoverflow.com/users/9493223/in%c3%aas"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1521060492, "post_id": 49286876, "comment_id": 85577743, "body": "@ForceBru I run the code creating an ColHe object with a file name as an input and then print the result"}, {"owner": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "edited": false, "score": 0, "creation_date": 1521060713, "post_id": 49286876, "comment_id": 85577842, "body": "@In&#234;s:  It is very hard to help with a question like this if we cannot run the code ourselves.  Please provide a simple sample file, and the exact instructions or running your code so we can verify your output, and offer help."}, {"owner": {"reputation": 263, "user_id": 9493223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d817606be28b945d476d0ca477e288d?s=128&d=identicon&r=PG&f=1", "display_name": "In&#234;s", "link": "https://stackoverflow.com/users/9493223/in%c3%aas"}, "reply_to_user": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "edited": false, "score": 0, "creation_date": 1521062509, "post_id": 49286876, "comment_id": 85578706, "body": "@EthanFurman I edited my question for better understanding, I hope it helped."}], "answers": [{"tags": [], "owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1521061439, "creation_date": 1521061439, "answer_id": 49287602, "question_id": 49286876, "link": "https://stackoverflow.com/questions/49286876/output-error-using-oop/49287602#49287602", "title": "Output error using OOP", "body": "<p>When you print something in python, you don't print the <em>name</em> you have it stored under, you print its <em>value</em>.  IE:</p>\n\n<pre><code>print(self._date) # print whatever is stored in _date\nprint(\"self._date\") # print the static string 'self._date'\n</code></pre>\n\n<p>There's no <em>reasonable</em> way to get to your desired output from your demonstrated input.  You're misunderstanding core concepts about what values are, where they are stored, and what happens when you reference them.</p>\n"}, {"comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1521062803, "post_id": 49287820, "comment_id": 85578852, "body": "This is the general method of creating pretty printing output when you convert a class instance to a string. But I don&#39;t really understand what you are trying to do with those classes, so you also have to make sure the object actually has those attributes."}], "tags": [], "owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "is_accepted": false, "score": 0, "last_activity_date": 1521062534, "creation_date": 1521062534, "answer_id": 49287820, "question_id": 49286876, "link": "https://stackoverflow.com/questions/49286876/output-error-using-oop/49287820#49287820", "title": "Output error using OOP", "body": "<p>Use str.format (or f-strings if your code is python 3.6+ only) </p>\n\n<pre><code>def __str__(self):\n    return 'Day:\\n{self._day}\\nTime:\\n{self._time}\\nCompany:\\n{self._company}'.format(self=self)\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 9493223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d817606be28b945d476d0ca477e288d?s=128&d=identicon&r=PG&f=1", "display_name": "In&#234;s", "link": "https://stackoverflow.com/users/9493223/in%c3%aas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1521062534, "creation_date": 1521058358, "last_edit_date": 1521062211, "question_id": 49286876, "link": "https://stackoverflow.com/questions/49286876/output-error-using-oop", "title": "Output error using OOP", "body": "<p>I'm having trouble finding the error in my code. I'm working with the class ColHe which is a collection of objects of type Header, and the main goal is to read a file's header and obtain a list with it's elements.</p>\n\n<p>This is my Header class:</p>\n\n<pre><code>class Header:\n    def __init__(self, col):\n        self._day = 'Day:'\n        self._date = col[1]\n        self._time = 'Time:'\n        self._hours = col[3]\n        self._company = 'Company:'\n        self._name = 'NSHF'\n\n    def __str__(self):\n        return str(self._day + self._date + \", \" + self._time + self._hours\n                     + \", \" + self._company + self._name)\n</code></pre>\n\n<p>Along with its methods of getters and setters. And this is my <code>ColHe</code> class:</p>\n\n<pre><code>from collections import UserList\nfrom copy import deepcopy\nimport constants\nfrom Header import Header\n\nclass ColHe(UserList):\n    def __init__(self, file_name):\n        super().__init__()\n        in_file=open(file_name)\n        for i in range(constants.HEADER):\n                self.append(Header((in_file.readline().strip())))\n        in_file.close()\n\n    def getData(self):\n        return deepcopy(self)\n\n    def __str__(self):\n        st = \"\"\n        for he in self:\n            st+=str(he)\n        return st\n</code></pre>\n\n<p>Where constants.Header equals 6.\nI ran the program with:</p>\n\n<pre><code>a=ColHe(\"file.txt\")\nprint(a.getData())\n</code></pre>\n\n<p>And got this as an output:</p>\n\n<pre><code>Day:a, Time::, Company:NSHFDay:6, Time:1, Company:NSHFDay:i, Time:e, Company:NSHFDay:4, Time:5, Company:NSHFDay:o, Time:p, Company:NSHFDay:S, Time:F, Company:NSHF\n</code></pre>\n\n<p>However, the output I'm looking for looks more like this:</p>\n\n<pre><code>[\"Day:\", self._date, \"Time:\", self._time, \"Company:\", \"NSHF\"]\n</code></pre>\n\n<p>An example of the content of a file would be:</p>\n\n<pre><code>Day:\n06:11:2017\nTime:\n14:55\nCompany:\nNSHF\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "aws-lambda", "aws-api-gateway"], "comments": [{"owner": {"reputation": 2675, "user_id": 1081990, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/90bc565e5e1bde42eedb6aab704bd59f?s=128&d=identicon&r=PG", "display_name": "Jarred Olson", "link": "https://stackoverflow.com/users/1081990/jarred-olson"}, "edited": false, "score": 0, "creation_date": 1521058738, "post_id": 49286852, "comment_id": 85576941, "body": "In the API Gateway on the Integration Request do you have &#39;Use Lambda Proxy integration&#39; checked?"}, {"owner": {"reputation": 35, "user_id": 5394916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156296d6c2f4d74f7555b7a4591438a7?s=128&d=identicon&r=PG&f=1", "display_name": "zdavidmm", "link": "https://stackoverflow.com/users/5394916/zdavidmm"}, "reply_to_user": {"reputation": 2675, "user_id": 1081990, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/90bc565e5e1bde42eedb6aab704bd59f?s=128&d=identicon&r=PG", "display_name": "Jarred Olson", "link": "https://stackoverflow.com/users/1081990/jarred-olson"}, "edited": false, "score": 0, "creation_date": 1521059035, "post_id": 49286852, "comment_id": 85577110, "body": "yes, I also have it linked up to my lambda function"}, {"owner": {"reputation": 7383, "user_id": 562721, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8f6ef5e2c4cb0e53d8309342a70131c5?s=128&d=identicon&r=PG", "display_name": "jny", "link": "https://stackoverflow.com/users/562721/jny"}, "edited": false, "score": 0, "creation_date": 1521062953, "post_id": 49286852, "comment_id": 85578910, "body": "Did you create a deployment to prod stage? Did you test the API gateway itself?"}, {"owner": {"reputation": 35, "user_id": 5394916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156296d6c2f4d74f7555b7a4591438a7?s=128&d=identicon&r=PG&f=1", "display_name": "zdavidmm", "link": "https://stackoverflow.com/users/5394916/zdavidmm"}, "edited": false, "score": 0, "creation_date": 1521065068, "post_id": 49286852, "comment_id": 85579804, "body": "I deployed it to prod, but have not been able to get the API gateway work. When I enter a test query string for prod I get {&quot;message&quot;: &quot;Internal server error&quot;}"}, {"owner": {"reputation": 138108, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1521070019, "post_id": 49286852, "comment_id": 85581563, "body": "Is your requests.request really sending JSON?  There&#39;s either some magical behavior here, or it isn&#39;t doing what you think.  <a href=\"https://stackoverflow.com/a/26344315/1695906\">stackoverflow.com/a/26344315/1695906</a>"}, {"owner": {"reputation": 2675, "user_id": 1081990, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/90bc565e5e1bde42eedb6aab704bd59f?s=128&d=identicon&r=PG", "display_name": "Jarred Olson", "link": "https://stackoverflow.com/users/1081990/jarred-olson"}, "edited": false, "score": 0, "creation_date": 1521135477, "post_id": 49286852, "comment_id": 85613977, "body": "Is the request invoking the lambda or is it failing in the api gateway?"}], "owner": {"reputation": 35, "user_id": 5394916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156296d6c2f4d74f7555b7a4591438a7?s=128&d=identicon&r=PG&f=1", "display_name": "zdavidmm", "link": "https://stackoverflow.com/users/5394916/zdavidmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1521058249, "creation_date": 1521058249, "question_id": 49286852, "link": "https://stackoverflow.com/questions/49286852/pass-input-through-api-gateway-to-lambda-using-python", "title": "Pass Input through API Gateway to Lambda using Python", "body": "<p>I want to pass a JSON object like <code>{'inputNum': 8}</code> from a python script on my local machine through a request and have the body return with whether the number is even or odd. I have a simple lambda function that checks this and it works with my test cases, but I do not know how to configure API Gateway to accept input from a request. This is my current code to request the API</p>\n\n<pre><code>if __name__ == '__main__':\n    method = 'GET'\n    headers = {'content-type': 'application/json'}\n    body = {'inputNum': '8'}\n    url = \"****.amazon/prod/testEven\"\n    response = requests.request(method, url, data=body, headers=headers)\n    print(response.text)\n</code></pre>\n\n<p>but it gives me <code>{\"message\": \"Internal server error\"}</code> </p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["python", "multiprocess"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 8333845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b71cdd1b1c137ddd3c5beab55114f7e?s=128&d=identicon&r=PG&f=1", "display_name": "nb12345", "link": "https://stackoverflow.com/users/8333845/nb12345"}, "edited": false, "score": 0, "creation_date": 1521058540, "post_id": 49286901, "comment_id": 85576843, "body": "Can&#39;t believe I missed something so simple. Thanks for pointing this out"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 3, "last_activity_date": 1521058704, "last_edit_date": 1521058704, "creation_date": 1521058467, "answer_id": 49286901, "question_id": 49286818, "link": "https://stackoverflow.com/questions/49286818/multiprocess-message-queue-not-receiving-messages/49286901#49286901", "title": "Multiprocess message queue not receiving messages", "body": "<p>The problem is that you're using <a href=\"https://docs.python.org/2/library/queue.html#module-queue\" rel=\"nofollow noreferrer\"><code>Queue.Queue</code></a>, which only handles multiple threads within the same process, not multiple processes.</p>\n\n<p>The <code>multiprocessing</code> module comes with its own replacement, <a href=\"https://docs.python.org/2/library/multiprocessing.html#exchanging-objects-between-processes\" rel=\"nofollow noreferrer\"><code>multiprocessing.Queue</code></a>, which provides the same functionality, but works with <em>both</em> threads and processes.</p>\n\n<p>See <a href=\"https://docs.python.org/2/library/multiprocessing.html#pipes-and-queues\" rel=\"nofollow noreferrer\">Pipes and Queues</a> in the <code>multiprocessing</code> doc for more details\u2014but you probably don't need any more details; the <code>multiprocessing.Queue</code> is meant to be as close to a multi-process clone of <code>Queue.Queue</code> as possible.</p>\n\n<hr>\n\n<p>If you want to understand the under-the-covers difference:</p>\n\n<p>A <code>Queue.Queue</code> is a deque with condition variables wrapped around it. It relies on the fact that code running in the same interpreter can access the same objects to share the deque, and uses the condition variables to protect the deque from races as well as for signaling.</p>\n\n<p>A <code>multiprocessing.Queue</code> is a more complicated thing that pickles objects and passes them over a pipe between the processes. Races aren't a problem, but signaling still is, so it also has the equivalent of condition variables, but obviously not the ones from <code>threading</code>.</p>\n"}], "owner": {"reputation": 135, "user_id": 8333845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b71cdd1b1c137ddd3c5beab55114f7e?s=128&d=identicon&r=PG&f=1", "display_name": "nb12345", "link": "https://stackoverflow.com/users/8333845/nb12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 49286901, "answer_count": 1, "score": 1, "last_activity_date": 1521058704, "creation_date": 1521058121, "question_id": 49286818, "link": "https://stackoverflow.com/questions/49286818/multiprocess-message-queue-not-receiving-messages", "title": "Multiprocess message queue not receiving messages", "body": "<p>I have a script that creates a class and try's to launch an object of that class in a separate process;</p>\n\n<pre><code>class Task():\n  def __init__(self, messageQueue):\n    self.messageQueue = messageQueue\n\n  def run(self):\n    startTime = time.time()\n    while time.time() -startTime &lt; 60:\n      try:\n        message = self.messageQueue.get_nowait()\n        print message\n        self.messageQueue.task_done()\n      except Queue.Empty:\n        print \"No messages\"\n      time.sleep(1)\n\ndef test(messageQueue):\n  task = Task(messageQueue)\n  task.run()\n\nif __name__ == '__main__':\n  messageQueue = Queue.Queue()\n  p = Process(target=test, args=(messageQueue,))\n  p.start()\n  time.sleep(5)\n  messageQueue.put(\"hello\")\n</code></pre>\n\n<p>Instead of seeing the message \"hello\" printed out after 5 seconds, I just get a continuous stream of \"No messages\". What am I doing wrong?    </p>\n"}, {"tags": ["python", "emacs"], "answers": [{"comments": [{"owner": {"reputation": 1165, "user_id": 2990344, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4541d7050a05707748ef30b0529407bd?s=128&d=identicon&r=PG&f=1", "display_name": "xdavidliu", "link": "https://stackoverflow.com/users/2990344/xdavidliu"}, "edited": false, "score": 0, "creation_date": 1521090529, "post_id": 49290496, "comment_id": 85586544, "body": "i&#39;ve filed a bug report with the emacs mailing list."}], "tags": [], "owner": {"reputation": 28248, "user_id": 2415684, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e0fb12778bde5d0dddddd3b8b619681b?s=128&d=identicon&r=PG", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/2415684/rorschach"}, "is_accepted": true, "score": 0, "last_activity_date": 1521079977, "creation_date": 1521079977, "answer_id": 49290496, "question_id": 49286811, "link": "https://stackoverflow.com/questions/49286811/emacs-python-shell-send-defun-skips-first-line-in-buffer/49290496#49290496", "title": "emacs `python-shell-send-defun` skips first line in buffer", "body": "<p>Yes, this looks like a bug and should be reported as one. That function should probably be rewritten to have a check as follows</p>\n\n<pre><code>(defun python-shell-send-defun (&amp;optional arg msg)\n  \"Send the current defun to inferior Python process.\nWhen argument ARG is non-nil do not include decorators.  When\noptional argument MSG is non-nil, forces display of a\nuser-friendly message if there's no process running; defaults to\nt when called interactively.\"\n  (interactive (list current-prefix-arg t))\n  (save-excursion\n    (python-shell-send-region\n     (progn\n       (end-of-line 1)\n       (while (and (or (python-nav-beginning-of-defun)\n                       (beginning-of-line 1))\n                   (&gt; (current-indentation) 0)))\n       (when (not arg)\n         (while (and (forward-line -1)\n                     (looking-at (python-rx decorator))))\n         ;; add a check here to see if we are on the first line\n         (and (not (bobp)) (forward-line 1)))\n       (point-marker))\n     (progn\n       (or (python-nav-end-of-defun)\n           (end-of-line 1))\n       (point-marker))\n     nil  ;; noop\n     msg)))\n</code></pre>\n"}], "owner": {"reputation": 1165, "user_id": 2990344, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4541d7050a05707748ef30b0529407bd?s=128&d=identicon&r=PG&f=1", "display_name": "xdavidliu", "link": "https://stackoverflow.com/users/2990344/xdavidliu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 49290496, "answer_count": 1, "score": 3, "last_activity_date": 1521134723, "creation_date": 1521058108, "last_edit_date": 1521134723, "question_id": 49286811, "link": "https://stackoverflow.com/questions/49286811/emacs-python-shell-send-defun-skips-first-line-in-buffer", "title": "emacs `python-shell-send-defun` skips first line in buffer", "body": "<p>There appears to be a pretty significant bug in <code>C-M-x</code>, a.k.a. <code>python-shell-send-defun</code> in the builtin python mode </p>\n\n<ol>\n<li>start emacs</li>\n<li>create a new file, let's call it <code>test.py</code></li>\n<li><code>C-c C-p</code> to <code>run-python</code></li>\n<li><p>in the <code>test.py</code> buffer, type some simple function, like</p>\n\n<pre><code>def f(x):\n    return x+1\n</code></pre></li>\n<li><p><code>C-M-x</code> for <code>python-shell-send-defun</code></p></li>\n</ol>\n\n<p>we get:</p>\n\n<pre><code>    return x+1\nSyntaxError: 'return' outside function\n</code></pre>\n\n<p>So what's happening here is that <code>python-shell-send-defun</code> is only sending one line, not both lines as we would expect it to (the corresponding command in emacs lisp major mode for instance works correctly in sending the entire multiline defun prior to the cursor). What's going on here? I tested this in both emacs 25 gui version in Mac OS as well as emacs 24 in Ubuntu. Both exhibit the same error.</p>\n\n<p>Is this a bug, or am I misunderstanding what <code>python-shell-send-defun</code> actually does?</p>\n\n<p>Update: with some further testing, it appears that this error only occurs for functions that start on the very first line. If we insert a blank line right above <code>def f(x):</code>, <code>C-M-x</code> works perfectly.</p>\n"}, {"tags": ["python", "algorithm"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521059178, "post_id": 49286784, "comment_id": 85577176, "body": "The final flattened list is going to be of length <code>O(n*m)</code>, right? So any algorithm that returns a list (rather than a lazy iterator) pretty much <i>has</i> to be at least <code>O(n*m)</code> space."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1521059271, "post_id": 49286784, "comment_id": 85577221, "body": "Also, you seem to be counting things like deleting and inserting into the middle of a list, or concatenating two lists, or copying the tail of a list, as constant-time steps. But each one of those actually takes <code>O(p)</code> work for a list of length p."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521059629, "post_id": 49286784, "comment_id": 85577382, "body": "By the way, If you know how to write the <code>yield from flatten(elem)</code> lazy recursive version, you may want to try to analyze that first, because it may easier to work through\u2014no list shifting or concatenating operations, no temp storage besides the stack, just counting up <code>O(1)</code> steps."}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521060211, "post_id": 49286784, "comment_id": 85577636, "body": "Ah, I didn&#39;t know that about <code>O(p)</code>. Are you talking about something like:  <code>def iter_flatten(iterable):   it = iter(iterable)   for e in it:     if isinstance(e, list):       for f in iter_flatten(e):         yield f     else:       yield e</code>?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521060845, "post_id": 49286784, "comment_id": 85577895, "body": "Think about it this way: Python lists are just arrays, right? And after you pop element 1, the old element 8 is now element 7, which means it must have been moved. So a <code>pop(i)</code> with arbitrary <code>i</code> potentially moves every element in the list. In practice, the constant factor on this kind of bulk move of a bunch of contiguous elements can be so low that it&#39;s often the best choice, but you&#39;re looking at algorithmic complexity, not real-world performance."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521060889, "post_id": 49286784, "comment_id": 85577911, "body": "And yes, <code>iter_flatten</code> is what I&#39;m talking about\u2014except that if you&#39;re using Python 3.3+ you can just do <code>yield from iter_flatten(e)</code> instead of <code>for f in iter_flatten(e): yield f</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521062194, "post_id": 49286784, "comment_id": 85578550, "body": "One more thing: It may be easier to work out the complexity in terms of the length of the final list (i.e., the total number of elements) rather than the length of the initial list and the depth. (But I&#39;m pretty sure you do still need the depth, to handle the complexity of the <code>[[[[[[[[[[0]]]]]]]]]]</code> case, which obviously isn&#39;t any function of either the initial length 1 or the final length 1.)"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521062523, "post_id": 49286784, "comment_id": 85578710, "body": "Thanks for the note on the cost of popping. Is it safe to say that there is not an <code>O(n)</code> solution for this? Another question: are you saying the time complexity of the iter_flatten() is the same as function 1, but with better space usage?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1521062795, "post_id": 49286784, "comment_id": 85578848, "body": "If n is the initial list length, there can&#39;t be an <code>O(n)</code> solution, given the <code>[[[[[[[[[[0]]]]]]]]]]</code> case, where n is 1 but the minimum possible steps are 9. I think the best solution is <code>O(n*m)</code> (or, if you use <code>n</code> for the final list size instead of initial, <code>O(n+m)</code>). I think you can get that with <code>iter_flatten</code>, and you can also get that with <code>flattenIterable</code> if you use something constant-spliceable like a single-linked list instead of an array. But I&#39;m not sure without thinking about it more."}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521062922, "post_id": 49286784, "comment_id": 85578899, "body": "That makes sense. Last clarification: the <code>+ m</code> in your above equation is coming from the <code>arr[i: i + 1] = arr[i]</code> or the <code>yield e</code>, is that right?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521063183, "post_id": 49286784, "comment_id": 85579001, "body": "@ColinRicardo Slight correction to my explanation of your first algorithm, based on the discussion with abarnert. The other thing is, I consider N to be the number of elements in the final flattened list, and discuss complexity accordingly, so you might see a difference in notation between my answer and abarnert&#39;s comments."}], "answers": [{"comments": [{"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1521060342, "post_id": 49286854, "comment_id": 85577684, "body": "Ah, that first sentence makes sense now. With regards your second point, why <code>O(1)</code> and not <code>O(m)</code> times per iteration?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1521060518, "post_id": 49286854, "comment_id": 85577761, "body": "@ColinRicardo because you iterate over each element once, to re-assign it."}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1521060584, "post_id": 49286854, "comment_id": 85577791, "body": "Yes, sorry, I was confusing myself. Thanks for clarifying."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521061098, "post_id": 49286854, "comment_id": 85578001, "body": "But <code>arr[i: i + 1] = arr[i]</code> is not constant time. It moves every element from <code>[i+1:]</code> up, which takes <code>O(n)</code> moves (and then it copies <code>len(arr[i]))</code> values into the now-vacant slots, which takes more than <code>O(1)</code> but less than <code>O(n)</code>, so I think we can ignore it)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521061254, "post_id": 49286854, "comment_id": 85578078, "body": "Plus, I think you&#39;re missing the fact that the depth can be arbitrarily high. For example, consider <code>[[[[[[[[[[0]]]]]]]]]]</code>. It clearly doesn&#39;t take only 1 step to flatten this. Why? Because before you can copy the <code>0</code>, you have to copy the <code>[0]</code>, and before that you have to copy the <code>[[0]]</code>, and so on. So, it&#39;s worst-case <code>O(m)</code> steps for this step for each element. Put that together with the other point, and the <code>n</code> steps that you&#39;re counting each take <code>n+m</code> times, so it&#39;s <code>O(n**2 + n*m)</code>, which is just as quadratic as the recursive version."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521061292, "post_id": 49286854, "comment_id": 85578093, "body": "@abarnert Interesting... you make some valid points I didn&#39;t consider before. Thanks, edited."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 2, "last_activity_date": 1521061424, "last_edit_date": 1521061424, "creation_date": 1521058257, "answer_id": 49286854, "question_id": 49286784, "link": "https://stackoverflow.com/questions/49286784/time-complexity-of-list-flattening/49286854#49286854", "title": "Time Complexity of list flattening", "body": "<p>I don't think so. There are N elements, so you will need to visit each element at least once. Overall, your algorithm will run for O(N) iterations. The deciding factor is what happens <em>per iteration</em>.</p>\n\n<p>Your first algorithm has 2 loops, but if you observe carefully, it is still iterating over each element O(1) times per iteration. However, as @abarnert pointed out, the <code>arr[i: i + 1] = arr[i]</code> moves every element from <code>arr[i+1:]</code> up, which is O(N) again.</p>\n\n<p>Your second algorithm is similar, but you are adding lists in this case (in the previous case, it was a simple slice assignment), and unfortunately, list addition is linear in complexity. </p>\n\n<p>In summary, both your algorithms are quadratic. </p>\n"}], "owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1521061424, "creation_date": 1521057969, "question_id": 49286784, "link": "https://stackoverflow.com/questions/49286784/time-complexity-of-list-flattening", "title": "Time Complexity of list flattening", "body": "<p>I have two functions, both of which flatten an arbitrarily nested list of lists in Python. </p>\n\n<p>I am trying to figure out the time complexity of both, to see which is more efficient, but I haven't found anything definitive on SO anything so far. There are lots of questions about lists of lists, but not to the nth degree of nesting.</p>\n\n<h2>function 1 (iterative)</h2>\n\n<pre><code>def flattenIterative(arr):\n    i = 0\n\n    while i &lt; len(arr):\n        while isinstance(arr[i], list):\n            if not arr[i]:\n                arr.pop(i)\n                i -= 1\n                break\n            else:\n                arr[i: i + 1] = arr[i]\n        i += 1\n    return arr\n</code></pre>\n\n<h2>function 2 (recursive)</h2>\n\n<pre><code>def flattenRecursive(arr):\n    if not arr:\n        return arr\n\n    if isinstance(arr[0], list):\n        return flattenRecursive(arr[0]) + flattenRecursive(arr[1:])\n    return arr[:1] + flattenRecursiveweb(arr[1:])\n</code></pre>\n\n<p>My thoughts are below:</p>\n\n<h3>function 1 complexity</h3>\n\n<p>I think that the time complexity for the iterative version is <code>O(n * m)</code>, where <code>n</code> is the length of the initial array, and <code>m</code> is the amount of nesting. I think space complexity of <code>O(n)</code> where <code>n</code> is the length of the initial array.</p>\n\n<h3>function 2 complexity</h3>\n\n<p>I think that the time complexity for the recursive version will be <code>O(n)</code> where <code>n</code> is the length of the input array. I think space complexity of <code>O(n * m)</code> where <code>n</code> is the length of the initial array, and <code>m</code> is the depth of nesting.</p>\n\n<h3>summary</h3>\n\n<p>So, to me it seems that the iterative function is slower, but more efficient with space. Conversely, the recursive function is faster, but less efficient with space. Is this correct?</p>\n"}, {"tags": ["python", "django", "pip", "virtualenv"], "comments": [{"owner": {"reputation": 362, "user_id": 2264800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/4tMqX.jpg?s=128&g=1", "display_name": "Tigran Muradyan", "link": "https://stackoverflow.com/users/2264800/tigran-muradyan"}, "edited": false, "score": 2, "creation_date": 1521058332, "post_id": 49286763, "comment_id": 85576748, "body": "You should google before asking questions :) Look for the answer <a href=\"https://stackoverflow.com/questions/34827566/attributeerror-module-html-parser-has-no-attribute-htmlparseerror\">here</a>"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1521061946, "post_id": 49286763, "comment_id": 85578412, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34827566/attributeerror-module-html-parser-has-no-attribute-htmlparseerror\">AttributeError: module &#39;html.parser&#39; has no attribute &#39;HTMLParseError&#39;</a>"}], "owner": {"reputation": 2344, "user_id": 8461786, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/55878061e134ad81c5d169881b3c6d2e?s=128&d=identicon&r=PG&f=1", "display_name": "barciewicz", "link": "https://stackoverflow.com/users/8461786/barciewicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521058557, "creation_date": 1521057862, "last_edit_date": 1521058557, "question_id": 49286763, "link": "https://stackoverflow.com/questions/49286763/how-to-install-downloaded-django-project-in-virtualenv", "title": "How to install downloaded django project in virtualenv", "body": "<p>I am trying to follow the instructions from this Django/Ajax tutorial: <a href=\"https://realpython.com/blog/python/django-and-ajax-form-submissions/\" rel=\"nofollow noreferrer\">https://realpython.com/blog/python/django-and-ajax-form-submissions/</a>. They say:</p>\n\n<ul>\n<li>Download the compressed pre-ajax Django Project from the repo <a href=\"https://github.com/realpython/django-form-fun/tree/master/part1\" rel=\"nofollow noreferrer\">https://github.com/realpython/django-form-fun/tree/master/part1</a></li>\n<li>Activate a virtualenv</li>\n<li>Install the requirements</li>\n<li>Sync the database</li>\n<li>Fire up the server</li>\n</ul>\n\n<p>Here is what I am doing:</p>\n\n<ol>\n<li>Create new virtualenv using <code>virtualenv -p /usr/bin/python3 ajaxenv</code> inside <code>home/ajaxtutorial/</code> folder</li>\n<li>Download the repo and unpack its <code>django-form-fun/part1/pre-ajax/talk_project/</code> folder in the <code>home/ajaxtutorial</code> folder.  </li>\n<li>Put the <code>requirements.txt</code> provided with the downloaded repo in <code>ajaxenv/bin</code></li>\n<li>Run <code>pip install -r requirements.txt</code> inside ajaxenv. At this point I can see that Django gets installed.</li>\n</ol>\n\n<p>At this point the tutorial says to \"sync the database\". The only way I know how to do this is to use <code>python manage.py migrate</code>, but this throws an error. I guess this method requires starting the project or an app first, which is not a case here, since both the app and the project are downloaded, not created by me.</p>\n\n<p>I don't know how to proceed from here. <code>python manage.py migrate</code> throws the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/core/management/__init__.py\", line 399, in execute_from_command_line\n    utility.execute()\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/core/management/__init__.py\", line 392, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/core/management/__init__.py\", line 261, in fetch_command\n    commands = get_commands()\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/core/management/__init__.py\", line 107, in get_commands\n    apps = settings.INSTALLED_APPS\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/conf/__init__.py\", line 54, in __getattr__\n    self._setup(name)\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/conf/__init__.py\", line 50, in _setup\n    self._configure_logging()\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/conf/__init__.py\", line 72, in _configure_logging\n    from django.utils.log import DEFAULT_LOGGING\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/utils/log.py\", line 7, in &lt;module&gt;\n    from django.views.debug import ExceptionReporter, get_exception_reporter_filter\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/views/debug.py\", line 12, in &lt;module&gt;\n    from django.template import Template, Context, TemplateDoesNotExist\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/template/__init__.py\", line 53, in &lt;module&gt;\n    from django.template.base import (ALLOWED_VARIABLE_CHARS, BLOCK_TAG_END,\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/template/base.py\", line 19, in &lt;module&gt;\n    from django.utils.html import escape\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/utils/html.py\", line 14, in &lt;module&gt;\n    from .html_parser import HTMLParser, HTMLParseError\n  File \"/home/bart/ajaxtutorial/ajaxenv/lib/python3.5/site-packages/django/utils/html_parser.py\", line 12, in &lt;module&gt;\n    HTMLParseError = _html_parser.HTMLParseError\nAttributeError: module 'html.parser' has no attribute 'HTMLParseError'\n</code></pre>\n"}, {"tags": ["python", "selenium", "web-scraping", "beautifulsoup", "python-requests"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 1, "creation_date": 1521067242, "post_id": 49286760, "comment_id": 85580690, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8049520/web-scraping-javascript-page-with-python\">Web-scraping JavaScript page with Python</a>"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1521100036, "post_id": 49286760, "comment_id": 85590149, "body": "Update the question with your code trials."}, {"owner": {"reputation": 476, "user_id": 8810517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba89110be60880d5608b14d8de20ab76?s=128&d=identicon&r=PG", "display_name": "Abhay", "link": "https://stackoverflow.com/users/8810517/abhay"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1521220750, "post_id": 49286760, "comment_id": 85654160, "body": "@DebanjanB have updated the question with my code trials."}], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 9205667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f05f8cfcba1028a960cbdfc9657aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Maokai", "link": "https://stackoverflow.com/users/9205667/maokai"}, "is_accepted": false, "score": 2, "last_activity_date": 1521058469, "creation_date": 1521058469, "answer_id": 49286902, "question_id": 49286760, "link": "https://stackoverflow.com/questions/49286760/how-to-scrape-dynamic-javascript-based-website-using-python-requests-and-beautif/49286902#49286902", "title": "How to scrape Dynamic JavaScript based website using Python REQUESTS and BeautifulSoup?", "body": "<p>You don't need to know what its Javascript does. Just click the link and use your browser inspector to observe the network request.</p>\n\n<p>In your specific case, the Javascript sends a POST request to \"/nationalCategoryList/NationalCategoryList/loadMoreCourses/\". So you can send the same request and you'll get back a new HTML string. You can parse that string using BeautifulSoup and get the data you need.</p>\n\n<p>There is an extra step above because the POST request needs a payload that specifies parameters. You should be able to find these parameters in the original page. Once you find them, you can look at their surrounding HTML elements and either use BeautifulSoup to extract them, or use regular expression to find them.</p>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 476, "user_id": 8810517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba89110be60880d5608b14d8de20ab76?s=128&d=identicon&r=PG", "display_name": "Abhay", "link": "https://stackoverflow.com/users/8810517/abhay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2330, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1611853389, "creation_date": 1521057845, "last_edit_date": 1611853389, "question_id": 49286760, "link": "https://stackoverflow.com/questions/49286760/how-to-scrape-dynamic-javascript-based-website-using-python-requests-and-beautif", "title": "How to scrape Dynamic JavaScript based website using Python REQUESTS and BeautifulSoup?", "body": "<p>I am Scraping <a href=\"https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all\" rel=\"nofollow noreferrer\">https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all</a> to collect college informations.</p>\n\n<p>On the webpage below each College only one Course Name is given and rest of courses are scripted in JavaScript.\nFor eg. +13 More Courses+</p>\n\n<p>So I don't get their info when I use <code>requests.get(url)</code> .</p>\n\n<p>How I can scrape such details using REQUESTS and BeautifulSoup?\nI use Anaconda Jupyter Notebook as IDE.</p>\n\n<p>I have heard about Selenium but don't know about it.\nSince Selenium is bit heavy is there any possible lite alternative to load all the JavaScript contents at once.</p>\n\n<p>I have also heard about Splash framework. If anyone knows about it and how to integrate it with Python Requests and BeautifulSoup please answer. </p>\n\n<p>Things I have tried</p>\n\n<p><strong>1.PyQt</strong></p>\n\n<p>Reference: <a href=\"https://www.youtube.com/watch?v=FSH77vnOGqU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=FSH77vnOGqU</a></p>\n\n<p>I have imported different libraries than in video depending on PyQt version in anaconda.</p>\n\n<pre><code>import sys\nfrom PyQt5.QtWidgets import QApplication\nfrom PyQt5.QtCore import QUrl\nfrom PyQt5.QtWebKitWidgets import QWebPage\nimport requests\nfrom bs4 import BeautifulSoup\n\nclass Client(QWebPage):\n    def __init__(self, url):\n        self.app = QApplication(sys.argv)\n        QWebPage.__init__(self)\n        self.loadFinished.connect(self.on_page_load)\n        self.mainFrame().load(QUrl(url))\n        self.app.exec_()\n    def on_page_load(self):\n        self.app.quit()\n\nurl=\"https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all\"\nclient_response=Client(url)\nsrc=client_response.mainFrame().toHtml()\nsoup = BeautifulSoup(src,\"lxml\")\ntpm = soup.find_all(\"section\",{\"class\":\"tpl-curse-dtls more_46905_0\"})\nprint(tpm)\n</code></pre>\n\n<p>Output: []</p>\n\n<p><strong>2. json() in Requests Module</strong></p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl=\"https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all\"\n\nr=requests.get(url)\n\na=r.json()\n</code></pre>\n\n<p>OUTPUT:\nJSONDecodeError: Expecting value: line 3 column 1 (char 3)</p>\n\n<p><strong>3. json.loads() from json module</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/XGEQY.png\" rel=\"nofollow noreferrer\">Inspection Details on clicking</a></p>\n\n<pre><code>import json\n\nj_url='https://www.shiksha.com//nationalCategoryList/NationalCategoryList/loadMoreCourses/'\n\ndef j_data(url=j_url):\n\n    dt = tp[0].find_all(\"input\",{\"id\":\"remainingCourseIds_46905\"})\n\n    output = dt[0]['value']\n\n    data = {\n        'courseIds': '231298,231294,231304,231306',\n        'loadedCourseCount': 0\n        #'page':page\n        }\n    response = requests.post(url, data=data)\n    return json.loads(r.content)\nprint(j_data())\n</code></pre>\n\n<p>OUTPUT:\nJSONDecodeError: Expecting value: line 3 column 1 (char 3)</p>\n\n<p>DRYSCRAPE is not available for Windows</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9455968"}, "edited": false, "score": 0, "creation_date": 1521058543, "post_id": 49286755, "comment_id": 85576847, "body": "I see no code that attempts to do what you describe."}, {"owner": {"reputation": 45, "user_id": 8660644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cbbeea0dacf970dc0ed782a6cb7b2dc?s=128&d=identicon&r=PG&f=1", "display_name": "UKD28", "link": "https://stackoverflow.com/users/8660644/ukd28"}, "edited": false, "score": 0, "creation_date": 1521059038, "post_id": 49286755, "comment_id": 85577115, "body": "well i attempted to access by .index() method and it stated that no such element exists in the list. beyond index() method ,loops are also not helping that&#39;s why i asked here, how can i access grade ,given that roll no. and course code i am able to access."}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1521060306, "post_id": 49286755, "comment_id": 85577667, "body": "Could you <a href=\"https://stackoverflow.com/posts/49286755/edit\">edit</a> the question to show what the nested dictionary should look like."}, {"owner": {"reputation": 45, "user_id": 8660644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cbbeea0dacf970dc0ed782a6cb7b2dc?s=128&d=identicon&r=PG&f=1", "display_name": "UKD28", "link": "https://stackoverflow.com/users/8660644/ukd28"}, "edited": false, "score": 0, "creation_date": 1521060632, "post_id": 49286755, "comment_id": 85577813, "body": "yaah ,sorry i forgot that, ok."}], "answers": [{"tags": [], "owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "is_accepted": true, "score": 0, "last_activity_date": 1521061921, "last_edit_date": 1521061921, "creation_date": 1521059336, "answer_id": 49287098, "question_id": 49286755, "link": "https://stackoverflow.com/questions/49286755/how-to-get-an-index-of-an-element-of-tuple-or-list-which-itself-is-an-element-of/49287098#49287098", "title": "how to get an index of an element of tuple or list which itself is an element of a list", "body": "<p>Here's a way of doing it using <code>defaultdict</code> module.</p>\n\n<pre><code># load library\nfrom collections import defaultdict\n\n# convert to dictionary as this will help in mapping course names\nCour_det = dict(Cour_det)\nStu_det = dict(Stu_det)\n\n\n# create a dictionary for grades\ngrades_dict = defaultdict(list)\nfor x in Grades:\n    grades_dict[x[0]].append(x[1:])\n\n# create a new dict to save output\nnew_dict = defaultdict(dict)\n\n# loop through previous dictionary and replace course codes with names\nfor k,v in grades_dict.items():\n\n    for val in v:\n        temp = list(val)\n        temp[0] = Cour_det[temp[0]]\n        new_dict[k].update({val[0]: tuple(temp)})\n\n# print output        \nprint(new_dict)\ndefaultdict(dict,\n        {'UGM2018001': {'MA101': ('Calculus', 'AB'),\n          'PH101': ('Mechanics', 'B')},\n         'UGP2018132': {'PH101': ('Mechanics', 'B')}})\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8660644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cbbeea0dacf970dc0ed782a6cb7b2dc?s=128&d=identicon&r=PG&f=1", "display_name": "UKD28", "link": "https://stackoverflow.com/users/8660644/ukd28"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 49287098, "answer_count": 1, "score": 0, "last_activity_date": 1521061921, "creation_date": 1521057830, "last_edit_date": 1521061029, "question_id": 49286755, "link": "https://stackoverflow.com/questions/49286755/how-to-get-an-index-of-an-element-of-tuple-or-list-which-itself-is-an-element-of", "title": "how to get an index of an element of tuple or list which itself is an element of a list", "body": "<p>The codes:</p>\n\n<pre><code> Cour_det = [(\"MA101\",\"Calculus\"),(\"PH101\",\"Mechanics\"),(\"HU101\",\"English\")];\n Stu_det = [(\"UGM2018001\",\"Rohit Grewal\"),(\"UGP2018132\",\"Neha Talwar\")];\n Grades = [(\"UGM2018001\", \"MA101\", \"AB\"),(\"UGP2018132\", \"PH101\", \"B\"),\n (\"UGM2018001\", \"PH101\", \"B\")];\n Cour_det = sorted(Cour_det, key = lambda x : x[0]);\n Stu_det = sorted(Stu_det, key = lambda x : x[0]);\n Grades = sorted(Grades, key = lambda x : x[1]);\n Grades = sorted(Grades, key =lambda x : x[0]);\n B={}\n #code by which i tried to add grade to nested list\n for i in range(len(Stu_det)):\n     for j in range(len(Cour_det)):\n         B[Stu_det[i][0]][Cour_det[j][0]]=(Cour_det[j][1],Grades[][])\n         #here i am stuck on how to access grade of the course that i am adding\n #it should look like this\n B={\"UGM2018001\":{\"MA101\":(\"Calculus\",\"AB'),\"PH101\":(\"Mechanics\",\"B\")}}\n #above list for roll no UGM2018001,similarly other roll no.s as keys and\n #course code can be keys of nested list for those roll no.s\n</code></pre>\n\n<p>In this code i want to make a nested dictionary in which the outer keys will be the roll no as what first element of every tuple of List Stu_det is(<strong>like UGM2018001)</strong> and then the nested keys will be the course code(<strong>like MA101</strong>) and then the element of each nested key will be a tuple or list which will have two elements, first element will be the course name(<strong>like Calculus</strong>) and second element i want the grade mentioned (<strong>like AB</strong>) but accessing the grade is becoming problem ,how to access it or to get its index. I am unable to get Grade of subject after making roll no. and course code key.</p>\n"}, {"tags": ["python", "xml", "python-3.x", "lxml"], "answers": [{"tags": [], "owner": {"reputation": 446, "user_id": 8929814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2ccd9997b512a76e7b3e2d8a393b4b62?s=128&d=identicon&r=PG&f=1", "display_name": "CopyPasteIt", "link": "https://stackoverflow.com/users/8929814/copypasteit"}, "is_accepted": false, "score": 0, "last_activity_date": 1521065620, "creation_date": 1521065620, "answer_id": 49288457, "question_id": 49286753, "link": "https://stackoverflow.com/questions/49286753/html-table-to-list-parsing-tbody-monkey-wrench-for-both-xml-and-lxml/49288457#49288457", "title": "HTML Table to List Parsing - &lt;TBODY&gt; monkey wrench for both xml and lxml", "body": "<p>While waiting for some help showing how to do this in a 'Pythonic way', I came up with an easy brute force method:</p>\n\n<p>With the string <code>s</code> set to the 2nd option, with the given <code>&lt;thead&gt;</code> and <code>&lt;tbody&gt;</code> labels, apply the following code:</p>\n\n<pre><code>s = ''.join(s.split('&lt;tbody&gt;'))\ns = ''.join(s.split('&lt;/tbody&gt;'))\ns = ''.join(s.split('&lt;thead&gt;'))\ns = ''.join(s.split('&lt;/thead&gt;'))\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 8929814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2ccd9997b512a76e7b3e2d8a393b4b62?s=128&d=identicon&r=PG&f=1", "display_name": "CopyPasteIt", "link": "https://stackoverflow.com/users/8929814/copypasteit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 570, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521065620, "creation_date": 1521057817, "question_id": 49286753, "link": "https://stackoverflow.com/questions/49286753/html-table-to-list-parsing-tbody-monkey-wrench-for-both-xml-and-lxml", "title": "HTML Table to List Parsing - &lt;TBODY&gt; monkey wrench for both xml and lxml", "body": "<p>I read the answers to <a href=\"https://stackoverflow.com/q/6325216/8929814\">Parse HTML table to Python list?</a> and tried to use the ideas to read/process my local html downloaded from a web site<br>\n(the files contain one table and start with the <code>&lt;table class=\"table\"&gt;</code> label). I ran into problems due to the presence of two html tags.</p>\n\n<p>With the <code>&lt;thead&gt;</code> label the parse doesn't pick up the header, and the <code>&lt;tbody&gt;</code> causes both xml and lxml to completely fail.</p>\n\n<p>I tried googling for a solution but the answer most likely is embedded in some documentation somewhere for xml and/or lxml.</p>\n\n<p>I'm just trying to plug into xml or lxml in the simplest way possible, but would be happy if the community here pointed the way to other 'stable/trusted' modules that might be more appropriate.</p>\n\n<p>I realized I could edit the strings in python to remove the tags, but that is not too elegant, and I'm trying to learn new things.</p>\n\n<p>Here is the stripped down sample code illustrating the problem:</p>\n\n<pre><code>#--------*---------*---------*---------*---------*---------*---------*---------*\n# Desc: Parse HTML table to list\n#--------*---------*---------*---------*---------*---------*---------*---------*\nimport os, sys\nfrom xml.etree import ElementTree as ET\nfrom lxml import etree\n\n\n#                  # this setting blows up\n\ns     = \"\"\"&lt;table class=\"table\"&gt;\n&lt;thead&gt;\n&lt;tr&gt;&lt;th&gt;PU&lt;/th&gt;&lt;th&gt;CA&lt;/th&gt;&lt;th&gt;OC&lt;/th&gt;&lt;th&gt;Range&lt;/th&gt;&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;UTG&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\n&lt;/td&gt;&lt;td&gt;2.7%, KK+ AQs+ A5s AKo &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;&lt;td&gt;BB&lt;/td&gt;&lt;td&gt;\n&lt;/td&gt;&lt;td&gt;10.6%, 55+ A9s+ A9o+ &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n\"\"\"\n\n#                  # open this up for clear sailing\nif False:\n    s     = \"\"\"&lt;table class=\"table\"&gt;\n\n&lt;tr&gt;&lt;th&gt;PU&lt;/th&gt;&lt;th&gt;CA&lt;/th&gt;&lt;th&gt;OC&lt;/th&gt;&lt;th&gt;Range&lt;/th&gt;&lt;/tr&gt;\n\n\n&lt;tr&gt;\n&lt;td&gt;UTG&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\n&lt;/td&gt;&lt;td&gt;2.7%, KK+ AQs+ A5s AKo &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;&lt;td&gt;BB&lt;/td&gt;&lt;td&gt;\n&lt;/td&gt;&lt;td&gt;10.6%, 55+ A9s+ A9o+ &lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;/table&gt;\n\"\"\"\n\ns = s.replace('\\n','')\nprint('0:\\n'+s)\n\nwhile True:\n    table = ET.XML(s)\n    rows = iter(table)\n    for row in rows:\n        values = [col.text for col in row]\n        print('1:')\n        print(values)\n    break\n\nwhile True:\n    table = etree.HTML(s).find(\"body/table\")\n    rows = iter(table)\n    for row in rows:\n        values = [col.text for col in row]\n        print('2:')\n        print(values)\n    break\n\nsys.exit()\n</code></pre>\n"}]