[{"tags": ["c#", "xamarin.forms"], "comments": [{"owner": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "edited": false, "score": 0, "creation_date": 1522307226, "post_id": 49545953, "comment_id": 86107021, "body": "Sounds like a concurrency issue. Use the <code>volatile</code> keyword  or the <code>lock</code> statement to prevent this.   MSDN Lock <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/lock-statement\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}, {"owner": {"reputation": 5260, "user_id": 492482, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c5d99b3cfb389c0b439851242982900c?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/492482/emil"}, "reply_to_user": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "edited": false, "score": 0, "creation_date": 1522316741, "post_id": 49545953, "comment_id": 86112838, "body": "@apineda please see my updated question"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 12379767, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fgbWFaGNXFQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcKnrL5GMCaR5J8oqci9MkxOMqzfw/photo.jpg?sz=128", "display_name": "Mariusz Baranski", "link": "https://stackoverflow.com/users/12379767/mariusz-baranski"}, "is_accepted": false, "score": 0, "last_activity_date": 1604484685, "creation_date": 1604484685, "answer_id": 64678035, "question_id": 49545953, "link": "https://stackoverflow.com/questions/49545953/how-to-ensure-xamarin-device-starttimer-runs-only-1-instance/64678035#64678035", "title": "How to Ensure Xamarin Device.StartTimer runs only 1 instance?", "body": "<p><strong>return true; // runs again, or false to stop</strong></p>\n<pre><code>\n\n    Device.StartTimer (new TimeSpan (0, 0, 60), () =>;\n    {\n        // do something every 60 seconds\n        Device.BeginInvokeOnMainThread (() =>; \n        {\n          // interact with UI elements\n        });\n        return true; // runs again, or false to stop\n    });\n\n</code></pre>\n"}], "owner": {"reputation": 5260, "user_id": 492482, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c5d99b3cfb389c0b439851242982900c?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/492482/emil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 767, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1604484685, "creation_date": 1522281125, "last_edit_date": 1522329444, "question_id": 49545953, "link": "https://stackoverflow.com/questions/49545953/how-to-ensure-xamarin-device-starttimer-runs-only-1-instance", "title": "How to Ensure Xamarin Device.StartTimer runs only 1 instance?", "body": "<p>I have timer running in xamarin forms application as below and a button click command stops it by _isTimerTaskRunning  parameter false and start a new timer. \nBut I believe I have a mistake in my design which is not thread safe and it starts a new timer without finishing previous one. How can I ensure that only 1 DeviceTimer is running here?  I tried Thread.Sleep to wait before starting a new one. it is kind of working but i feel not still not so secure. I couldnt find any method event to check if there is already running DeviceTimer before starting a new one.</p>\n\n<pre><code> this.CompleteTimerClick = new Command(async () =&gt;\n            {\n                _isTimerTaskRunning = false;                 \n                 var success = await RunTimer();\n            }\n\n        public bool _isTimerTaskRunning { get; set; } = false;\n\n private async Task RunTimer()\n        {\n     sw = Stopwatch.StartNew();\n\n   TimeSpan totalPause = TimeSpan.FromSeconds(totalSecs);\n  _isTimerTaskRunning = true;\n\n            Device.StartTimer(TimeSpan.FromMilliseconds(1000), () =&gt;\n                       {\n                           if (_isTimerTaskRunning)\n                           {\n                           ts = totalPause - sw.Elapsed;\n\n                              if (ts.TotalSeconds &lt;= 0)\n                               {\n                                   Device.BeginInvokeOnMainThread(async () =&gt;\n                                   {\n                                       await DoSomething();\n                                   });\n\n                                   return CompleteTimer();\n                               }\n\n                               return true;\n                           }\n                           else\n                           {\n\n                               return CompleteTimer();\n                           }\n                       });\n\n                       }\n\n          private bool CompleteTimer()\n        {\n\n            _isTimerTaskRunning = false;\n            sw.Stop();\n\n            return false;\n        }\n</code></pre>\n\n<p>I tried adding Lock around </p>\n\n<pre><code> private Object thisLock = new Object();\n      lock (thisLock)\n   {\n     Task.Run(async () =&gt; await RunTimer());\n     }\n</code></pre>\n\n<p>as well as within the timer like below but it doesnt seem to help. </p>\n\n<pre><code>Device.StartTimer(TimeSpan.FromMilliseconds(1000), () =&gt;\n            {\n                lock (thisLock)\n                {\n if (_isTimerTaskRunning)\n                           {\n                           ts = totalPause - sw.Elapsed;\n\n                              if (ts.TotalSeconds &lt;= 0)\n                               {\n                                   Device.BeginInvokeOnMainThread(async () =&gt;\n                                   {\n                                       await DoSomething();\n                                   });\n\n                                   return CompleteTimer();\n                               }\n\n                               return true;\n                           }\n                           else\n                           {\n\n                               return CompleteTimer();\n                           }\n                       });\n\n                       }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "simd", "system.numerics"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1522284295, "post_id": 49545905, "comment_id": 86100094, "body": "it is the same as double c = cond ? a : b;  but for multiple values at the same time."}], "answers": [{"comments": [{"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 1, "creation_date": 1534253682, "post_id": 51842415, "comment_id": 90638586, "body": "Related: <a href=\"https://stackoverflow.com/q/38006616\">How to use if condition in intrinsics</a> has some other comments and examples on how to branchlessly handle per-element conditions with SIMD.  Sometimes you can use a simple AND instead of <code>ConditionalSelect</code>, if making some elements of the input or output all-zero works.  (zero is the identity value for integer add/sub/xor/or, and for FP add/sub.)  Another example with C++ intrinsics: caseflip ASCII letters only: <a href=\"https://stackoverflow.com/a/35936844\">How to access a char array and change lower case letters to upper case, and vice versa</a>"}], "tags": [], "owner": {"reputation": 1989, "user_id": 276500, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d1366b45f8499de563eddd9a259067c8?s=128&d=identicon&r=PG", "display_name": "johnildergleidisson", "link": "https://stackoverflow.com/users/276500/johnildergleidisson"}, "is_accepted": true, "score": 1, "last_activity_date": 1534252546, "creation_date": 1534252546, "answer_id": 51842415, "question_id": 49545905, "link": "https://stackoverflow.com/questions/49545905/what-is-system-numerics-vector-conditionalselect-used-for/51842415#51842415", "title": "What is System.Numerics.Vector.ConditionalSelect used for?", "body": "<p>The <code>condition</code> parameter is actually <code>Vector&lt;int&gt;</code> when using 4 byte overloads of the <code>ConditionalSelect</code> such as the ones with <code>Vector&lt;int&gt;</code> or <code>Vector&lt;float&gt;</code> arguments. <code>condition</code> is <code>Vector&lt;long&gt;</code> when using 8 byte versions, etc.</p>\n\n<p>To expand on @Hans' comment in your question, <code>condition</code> means something like: <code>double c = cond == -1 ? a : b;</code>. That is, when <code>cond == -1</code>, it selects the left values. When <code>cond == 0</code>, it selects the right values. </p>\n\n<p>When <code>cond</code> is something else, I saw some results I don't particularly understand yet and didn't actually research.</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        //Length depends on your Vector&lt;int&gt;.Count. In my computer it is 4\n        Vector&lt;int&gt; vector1 = new Vector&lt;int&gt;(4); //vector1 == {&lt;4, 4, 4, 4&gt;}\n        Vector&lt;int&gt; vector2 = new Vector&lt;int&gt;(5); //vector2 == {&lt;5, 5, 5, 5&gt;}\n        Vector&lt;int&gt; mask = Vector.GreaterThan(vector1, vector2); //mask == {&lt;0, 0, 0, 0&gt;}\n        Vector&lt;int&gt; selected = Vector.ConditionalSelect(mask, vector1, vector2); //selected == {&lt;5, 5, 5, 5&gt;}\n\n        vector1 = new Vector&lt;int&gt;(4); //vector1 == {&lt;4, 4, 4, 4&gt;}\n        vector2 = new Vector&lt;int&gt;(3); //vector2 == {&lt;3, 3, 3, 3&gt;}\n        mask = Vector.GreaterThan(vector1, vector2); //mask == {&lt;-1, -1, -1, -1&gt;}\n        selected = Vector.ConditionalSelect(mask, vector1, vector2); //selected == {&lt;4, 4, 4, 4&gt;}\n\n        mask = new Vector&lt;int&gt;(123); //mask == {&lt;123, 123, 123, 123&gt;}\n        selected = Vector.ConditionalSelect(mask, vector1, vector2); //selected == {&lt;0, 0, 0, 0&gt;}\n\n        mask = new Vector&lt;int&gt;(4);\n        selected = Vector.ConditionalSelect(mask, vector1, vector2); //selected == {&lt;7, 7, 7, 7&gt;}\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 1, "accepted_answer_id": 51842415, "answer_count": 1, "score": 3, "last_activity_date": 1534252546, "creation_date": 1522280701, "question_id": 49545905, "link": "https://stackoverflow.com/questions/49545905/what-is-system-numerics-vector-conditionalselect-used-for", "title": "What is System.Numerics.Vector.ConditionalSelect used for?", "body": "<p>Can anyone explain preferably with an example what/when/how <code>System.Numerics.Vector.ConditionalSelect</code> can be used?</p>\n\n<p>I cannot understand much from the <a href=\"https://msdn.microsoft.com/en-us/library/dn889226(v=vs.111).aspx\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}, {"tags": ["c#", "stored-procedures"], "comments": [{"owner": {"reputation": 16909, "user_id": 240424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c0a5abec6f92b89177d044ced69acf8?s=128&d=identicon&r=PG", "display_name": "Yakimych", "link": "https://stackoverflow.com/users/240424/yakimych"}, "edited": false, "score": 1, "creation_date": 1522280888, "post_id": 49545904, "comment_id": 86099269, "body": "It&#39;s not entirely clear what your question is. Is there something that is not working as expected? In that case, could you provide more information as to what error you get and at which point?"}, {"owner": {"reputation": 31, "user_id": 7927009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0829274af10f1666a25972b91c2e76?s=128&d=identicon&r=PG&f=1", "display_name": "Shiela L", "link": "https://stackoverflow.com/users/7927009/shiela-l"}, "reply_to_user": {"reputation": 16909, "user_id": 240424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c0a5abec6f92b89177d044ced69acf8?s=128&d=identicon&r=PG", "display_name": "Yakimych", "link": "https://stackoverflow.com/users/240424/yakimych"}, "edited": false, "score": 0, "creation_date": 1522281233, "post_id": 49545904, "comment_id": 86099352, "body": "Hello there! Actually my question is, how do I code my btnCommit_Click to call my class to insert data in the database?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7927009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0829274af10f1666a25972b91c2e76?s=128&d=identicon&r=PG&f=1", "display_name": "Shiela L", "link": "https://stackoverflow.com/users/7927009/shiela-l"}, "edited": false, "score": 0, "creation_date": 1522286140, "post_id": 49546060, "comment_id": 86100550, "body": "Hello Greg, Thank you for the quick response. I will try that and let you know. :)"}], "tags": [], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "is_accepted": true, "score": 1, "last_activity_date": 1522281937, "creation_date": 1522281937, "answer_id": 49546060, "question_id": 49545904, "link": "https://stackoverflow.com/questions/49545904/what-to-put-in-the-commit-button-to-insert-data-to-the-database-i-am-using-st/49546060#49546060", "title": "What to put in the &quot;Commit&quot; button to insert data to the database? I am using stored procedure. C#", "body": "<pre><code>public class PayrollContext : IPayrollRepository\n{\n     public void InsertPayroll(params SqlParameter[] parameters)\n     {\n         using(var connection = new SqlConnection(dbConnection))\n              using(var command = new SqlCommand(query, connection))\n              {\n                   connection.Open();\n                   command.Parameters.AddRange(parameters);\n                   command.ExecuteNonQuery();\n              }\n     }\n}\n</code></pre>\n\n<p>Then to call the code to inserter into your database, you would simply do the following:</p>\n\n<pre><code>protected void btnCommit(object sender, EventArgs e) =&gt; new PayrollContext().InsertPayroll(new SqlParameter() \n{\n     Name = \"Hours\",\n     SqlDbType = SqlDbType.Decimal,\n     Value = txtHours.Text\n}\n</code></pre>\n\n<p>Okay, let me explain the code.  The <code>IPayrollRepository</code>, <code>dbConnection</code>, and <code>query</code> are all items I didn't define.  The interface would be to abstract outward for reusability should you seek that need.  The two variables are pretty straight forward, you need to define a connection to the database and your query/stored procedure.</p>\n\n<p>Then in your button event you build the class that access your database, you call the desired method, then you would pass all the parameters your supposed to insert into the database.</p>\n\n<p>Now, I don't have null checks.  Including a null on your params.  Which are optional, so if nothing exists this code will explode.  As well as other particular data sanitizing checks.  But this should be a decent starting point.</p>\n"}], "owner": {"reputation": 31, "user_id": 7927009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0829274af10f1666a25972b91c2e76?s=128&d=identicon&r=PG&f=1", "display_name": "Shiela L", "link": "https://stackoverflow.com/users/7927009/shiela-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 49546060, "answer_count": 1, "score": 0, "last_activity_date": 1522281937, "creation_date": 1522280683, "last_edit_date": 1522281377, "question_id": 49545904, "link": "https://stackoverflow.com/questions/49545904/what-to-put-in-the-commit-button-to-insert-data-to-the-database-i-am-using-st", "title": "What to put in the &quot;Commit&quot; button to insert data to the database? I am using stored procedure. C#", "body": "<p>Good day everybody! </p>\n\n<p>I am working on a school project and would like to ask for your expert assistance. Please accept my apologies in advance if this is something that is easy. </p>\n\n<p>Program expectation:\n    \"Commit\" button should insert data in the database using the stored procedure pre-set.</p>\n\n<p>I have stored procedure that I will use to insert data in the database.</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[InsertPayroll]\n@EmpID int,\n@WeekEnding nchar(8),\n@HoursWorked decimal(7,2)\nAS\n--*************************************************\n--** Insert a new pay record into the Payroll table\n--*************************************************\nSET NOCOUNT ON;\nDECLARE @ErrCode int;\n\nINSERT INTO [dbo].[Payroll] ([EmpID],[WeekEnding],[HoursWorked])\nVALUES (@EmpID,@WeekEnding,@HoursWorked);\n\nSET @ErrCode = @@ERROR;\n\nSET NOCOUNT OFF;\nRETURN @ErrCode;`\n</code></pre>\n\n<p>Then I have created a method from my global class:</p>\n\n<pre><code>public static DataSet InsertPayrollInfo(Int32 intEmpID, String strWeekEnd, Decimal decHoursWorked)\n{\n    SqlConnection cnSQL;\n    SqlCommand cmdSQL;\n    SqlDataAdapter daSQL;\n    DataSet dsSQL = null;\n    Boolean blnErrorOccured = false;\n\n    cnSQL = AcquireConnection();\n    if (cnSQL == null)\n    {\n        blnErrorOccured = true;\n    }\n    else\n    {\n        //**Build command to execute stored procedure\n        cmdSQL = new SqlCommand();\n        cmdSQL.Connection = cnSQL;\n        cmdSQL.CommandType = CommandType.StoredProcedure;\n        cmdSQL.CommandText = \"InsertPayroll\";\n\n        cmdSQL.Parameters.Add(new SqlParameter(\"@EmpID\", SqlDbType.Int));\n        cmdSQL.Parameters[\"@EmpID\"].Direction = ParameterDirection.Input;\n        cmdSQL.Parameters[\"@EmpID\"].Value = intEmpID;\n\n        cmdSQL.Parameters.Add(new SqlParameter(\"@WeekEnding\", SqlDbType.NChar));\n        cmdSQL.Parameters[\"@WeekEnding\"].Direction = ParameterDirection.Input;\n        cmdSQL.Parameters[\"@WeekEnding\"].Value = strWeekEnd;\n\n        cmdSQL.Parameters.Add(new SqlParameter(\"@HoursWorked\", SqlDbType.Decimal));\n        cmdSQL.Parameters[\"@HoursWorked\"].Direction = ParameterDirection.Input;\n        cmdSQL.Parameters[\"@HoursWorked\"].Value = decHoursWorked;\n\n        cmdSQL.Parameters.Add(new SqlParameter(\"@ErrCode\", SqlDbType.Int));\n        cmdSQL.Parameters[\"@ErrCode\"].Direction = ParameterDirection.ReturnValue;\n\n        dsSQL = new DataSet();\n\n        try\n        {\n            daSQL = new SqlDataAdapter(cmdSQL);\n            daSQL.Fill(dsSQL);\n            daSQL.Dispose();\n        }\n        catch (Exception ex)\n        {\n            blnErrorOccured = true;\n            dsSQL.Dispose();\n        }\n        finally\n        {\n            cmdSQL.Parameters.Clear();\n            cmdSQL.Dispose();\n            cnSQL.Close();\n            cnSQL.Dispose();\n        }\n    }\n\n    if (blnErrorOccured)\n    {\n        return null;\n    }\n    else\n    {\n        return dsSQL;\n    }\n}\n</code></pre>\n\n<p>Now I was trying to use my commit button to insert data in the database using the stored procedure and class procedure. Below is my code.</p>\n\n<pre><code>private void btnCommit_Click(object sender, EventArgs e)\n{\n    if (insertPayroll == null)\n    {\n        lblError.Text = \"Error committing payroll information.\";\n        insertPayroll.Dispose();\n    }\n    else\n    {\n        for (Int32 i = 0; i &lt; dtPay.Rows.Count; i++)\n        {\n            insertPayroll = clsDataBase.InsertPayrollInfo(dtPay.Rows[i][\"EmpID\"]);\n            return;\n        }\n    }\n}\n</code></pre>\n\n<p>I appreciate any assistance and have a great evening!</p>\n"}, {"tags": ["c#", "asynchronous", "recursion", "task"], "comments": [{"owner": {"reputation": 948, "user_id": 3248293, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/73cecaf9434e9cd6655d5980923ba514?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola.Lukovic", "link": "https://stackoverflow.com/users/3248293/nikola-lukovic"}, "edited": false, "score": 1, "creation_date": 1522281945, "post_id": 49545879, "comment_id": 86099534, "body": "I&#39;m sorry but i have to ask, are you even sure you have to solve the problem you have like this? It looks difficult to maintain, difficult to understand and difficult to execute."}, {"owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "reply_to_user": {"reputation": 948, "user_id": 3248293, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/73cecaf9434e9cd6655d5980923ba514?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola.Lukovic", "link": "https://stackoverflow.com/users/3248293/nikola-lukovic"}, "edited": false, "score": 0, "creation_date": 1522283262, "post_id": 49545879, "comment_id": 86099846, "body": "@Nikola.Lukovic That&#39;s a fair question! I guess some of this comes from my fondness for functional programming where defining types recursively is very standard (lists, trees, etc.). But also, I don&#39;t know of any other way to represent it. I mean I could do away with the interface and just have type <code>A</code> and represent <code>B</code> as a kind of <code>A</code> (get rid of the distinction between terminal and non-terminal nodes) but the question about asynchronously applying a recursive operation would still apply."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1522283443, "post_id": 49545879, "comment_id": 86099886, "body": "With this approach, any task might end in any order, are you OK with that?"}, {"owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522283971, "post_id": 49545879, "comment_id": 86100006, "body": "@CamiloTerevinto Yup they&#39;re independent tasks. The only concern is that some might take longer than others so I don&#39;t want a bottleneck anywhere. Basically what I want at the end of the <code>OperateRecursively</code> is a <code>List</code> of <code>Task</code>s that I can use <code>Task.WaitAll()</code> on. But this approach returns nested <code>List&lt;Task&gt;</code>s which doesn&#39;t optimal."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 2, "creation_date": 1522284120, "post_id": 49545879, "comment_id": 86100043, "body": "What does <code>OperateRecursively</code> do? Because I don&#39;t see recursion here, and I see <code>OperateRecursivelyA</code> return <code>List&lt;Task&gt;</code> rather than <code>Task&lt;List&lt;Task&gt;&gt;</code>"}, {"owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522284722, "post_id": 49545879, "comment_id": 86100201, "body": "@CamiloTerevinto The recursion is here: <code>tasks.Add(OperateRecursively(child));</code>. Also, isn&#39;t the whole idea that the <code>Task&lt;TResult&gt;</code> return type is used for an async method that contains a return statement in which the operand has type <code>TResult</code>?  <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/async-return-types\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1522286475, "post_id": 49545879, "comment_id": 86100635, "body": "Do not do a <code>GetType()</code> to check to see if a thing is a <code>B</code>.  If there is a subtype of <code>B</code>, say <code>FancyB</code>, then its <code>GetType</code> will return <code>typeof(FancyB)</code> and not <code>typeof(B)</code>.  Use <code>is</code> to test whether an expression is of a particular type.  In C# 7 you can use the new <code>is</code> pattern to declare a new variable."}, {"owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1522286677, "post_id": 49545879, "comment_id": 86100669, "body": "@EricLippert Thank you for the tip!"}], "answers": [{"comments": [{"owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "edited": false, "score": 0, "creation_date": 1522285319, "post_id": 49546437, "comment_id": 86100345, "body": "Thank you! That is exactly what I was trying to do! It&#39;s just that I had a couple of <code>await</code> operations in <code>OperateRecursively</code> but I suppose I can always just <code>Result</code> to make it synchronous."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "edited": false, "score": 4, "creation_date": 1522285978, "post_id": 49546437, "comment_id": 86100511, "body": "@ZacharyLim: No no no, do NOT use <code>Result</code>. That will give you deadlocks! I don&#39;t have time to answer your question today but composing sequence coroutines with async coroutines is still a little tricky. This article might help: <a href=\"http://davesexton.com/blog/post/async-iterators.aspx\" rel=\"nofollow noreferrer\">davesexton.com/blog/post/async-iterators.aspx</a>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "edited": false, "score": 1, "creation_date": 1522286091, "post_id": 49546437, "comment_id": 86100538, "body": "@ZacharyLim Ah... That&#39;s why you should always post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If you edit your question with that I&#39;ll edit my answer, but there&#39;s a reason I used <code>await Task.WhenAll</code> rather than <code>Task.WaitAll</code>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "edited": false, "score": 1, "creation_date": 1522286325, "post_id": 49546437, "comment_id": 86100588, "body": "@ZacharyLim: Note also that the solution in this answer does <i>not</i> lazily compute the sequence of tasks. It walks the entire transitive closure of the child relation. If there are a million nodes in that tree, it produces a list with a million tasks in it, rather than fetching them out one at a time on demand as you might expect an <code>IEnumerable&lt;T&gt;</code> to do.  If that&#39;s a requirement then again, there are ways to do that, but you need to say more clearly what your requirements are."}, {"owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "edited": false, "score": 0, "creation_date": 1522286922, "post_id": 49546437, "comment_id": 86100729, "body": "@CamiloTerevinto Sorry about that! But the asynchronous portion of the method really is insignificant and since I shouldn&#39;t use <code>Result</code> (as pointed out by other users) I can also wrap <code>OperateRecursively</code> in an asynchronous method and pass in the results as parameters."}, {"owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1522287048, "post_id": 49546437, "comment_id": 86100755, "body": "@EricLippert I have read multiple warnings about not using <code>Result</code> but I guess I was too shortsighted to worry about it. Would it be better if I wrap <code>OperateRecursively</code> in an asynchronous method that handles the minor <code>await</code> operations and pass in the results as parameters?"}], "tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": true, "score": 3, "last_activity_date": 1522285075, "creation_date": 1522285075, "answer_id": 49546437, "question_id": 49545879, "link": "https://stackoverflow.com/questions/49545879/using-tasklisttask-for-asynchronous-recursive-operation-in-c/49546437#49546437", "title": "Using Task&lt;List&lt;Task&gt;&gt; for asynchronous recursive operation in C#", "body": "<p>I think you just got a little confused with the syntax. This should be what you are looking for:</p>\n\n<pre><code>// fix method signature, this doesn't run asynchronous code so it needs not be a Task\npublic IEnumerable&lt;Task&gt; OperateRecursively(A root)\n{\n    List&lt;Task&gt; tasks = new List&lt;Task&gt;();\n\n    foreach (IAorB child in root.Children)\n    {\n        if (child is B)\n        {\n            tasks.Add(SomeOperation(child));\n        }\n        else\n        {\n            // 1. change to AddRange since you are adding multiple elements, not one\n            // 2. fix name for actual recursion\n            // 3. cast child to A since otherwise it wouldn't compile\n            tasks.AddRange(OperateRecursivelyA(child as A));\n        }\n    }\n\n    tasks.Add(SomeOperation(root));\n\n    return tasks;\n}\n</code></pre>\n\n<p>Which you would then simply use as</p>\n\n<pre><code>await Task.WhenAll(OperateRecursivelyA(someRoot));\n</code></pre>\n"}], "owner": {"reputation": 212, "user_id": 6587318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNfzA.jpg?s=128&g=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6587318/zachary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 49546437, "answer_count": 1, "score": 1, "last_activity_date": 1522285075, "creation_date": 1522280504, "last_edit_date": 1522285053, "question_id": 49545879, "link": "https://stackoverflow.com/questions/49545879/using-tasklisttask-for-asynchronous-recursive-operation-in-c", "title": "Using Task&lt;List&lt;Task&gt;&gt; for asynchronous recursive operation in C#", "body": "<p>Say I have two classes <code>A</code> and <code>B</code> that derive from an interface (say <code>IAorB</code>). <code>A</code> contains a list of <code>IAorB</code> objects:</p>\n\n<pre><code>public interface IAorB { ... }\n\npublic class A \n{\n    ...\n    public List&lt;IAorB&gt; Children { get; set; }\n    ...\n}\n\npublic class B { ... }\n</code></pre>\n\n<p>If I wanted apply an operation to an <code>IAorB</code> object and all its children (if any) asynchronously, would the following approach be recommended? If not, is there a better way?</p>\n\n<pre><code>public Task SomeOperation(IAorB object) { ... } //May take some time\n\npublic Task&lt;List&lt;Task&gt;&gt; OperateRecursively(A root)\n{\n    List&lt;Task&gt; tasks = new List&lt;Task&gt;();\n\n    foreach (IAorB child in root.Children)\n    {\n        if (child.GetType() == typeof(B))\n        {\n            tasks.Add(SomeOperation(child));\n        }\n        else\n        {\n            tasks.Add(OperateRecursively(child as A));\n        }\n    }\n\n    tasks.Add(SomeOperation(root));\n\n    return tasks;\n}\n</code></pre>\n\n<p>Optimally, <code>OperateRecursively</code> would return a <code>List</code> of <code>Tasks</code> that I can use <code>Task.WaitAll()</code> on. But this approach returns nested <code>List&lt;Task&gt;</code>s, which probably isn't optimal.</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "asp.net-web-api2", "windows-authentication"], "answers": [{"comments": [{"owner": {"reputation": 1187, "user_id": 9393635, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a956540dcbaa39914322d6a5e442125?s=128&d=identicon&r=PG&f=1", "display_name": "user9393635", "link": "https://stackoverflow.com/users/9393635/user9393635"}, "edited": false, "score": 0, "creation_date": 1522428013, "post_id": 49546382, "comment_id": 86163701, "body": "I updated my original post based on your feedback.  Please see the updated info under the &quot;UPDATE&quot; header."}], "tags": [], "owner": {"reputation": 6492, "user_id": 1682401, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/186d34c49dcbf2300c4d7a9a6e7eef2a?s=128&d=identicon&r=PG", "display_name": "Hussein Salman", "link": "https://stackoverflow.com/users/1682401/hussein-salman"}, "is_accepted": true, "score": 5, "last_activity_date": 1522284967, "last_edit_date": 1522284967, "creation_date": 1522284572, "answer_id": 49546382, "question_id": 49545659, "link": "https://stackoverflow.com/questions/49545659/proper-implementation-of-windows-authentication-in-web-api/49546382#49546382", "title": "proper implementation of &quot;windows&quot; authentication in web api?", "body": "<p>If you are using <strong>IIS Express</strong>, you need to update <code>applicationhost.config</code> file.</p>\n\n<p>This is the file version of the IIS configuration tool where you can configure the web server itself. you can find this file in the following directory:</p>\n\n<pre><code>%userprofile%\\documents\\iisexpress\\config\\applicationhost.config\n</code></pre>\n\n<p>or</p>\n\n<pre><code>%userprofile%\\my documents\\iisexpress\\config\\applicationhost.config\n</code></pre>\n\n<p>When you find it, update it as:</p>\n\n<pre><code>&lt;windowsAuthentication enabled=\"true\"&gt;\n    &lt;providers&gt;\n        &lt;add value=\"Negotiate\" /&gt;\n        &lt;add value=\"NTLM\" /&gt;\n    &lt;/providers&gt;\n&lt;/windowsAuthentication&gt;\n</code></pre>\n\n<p><strong>For IIS:</strong></p>\n\n<ol>\n<li>Select your Application</li>\n<li>Double Click - 'Authentication'</li>\n<li>Enable Windows Authentication</li>\n<li>Restart IIS Server</li>\n</ol>\n\n<p>Check this for more <a href=\"https://stackoverflow.com/questions/49523888/how-to-get-windows-user-name-when-enabling-both-windows-authentication-and-anony/49524106#49524106\">details</a></p>\n"}, {"comments": [{"owner": {"reputation": 767, "user_id": 2159433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d7afb34dfef505fbf0f5e2c35de9c6db?s=128&d=identicon&r=PG", "display_name": "RichieMN", "link": "https://stackoverflow.com/users/2159433/richiemn"}, "edited": false, "score": 0, "creation_date": 1568661378, "post_id": 49552494, "comment_id": 102337403, "body": "Thank you!  For core 2.2 and running this within IIS, I really only needed to add the three lines from your small web.config section you mentioned above.  Because my controller is not inheriting from ApiController, but ControllerBase, with an class attribute of [ApiController], I did need to change the output type to IActionResult.  Thanks again!"}], "tags": [], "owner": {"reputation": 246, "user_id": 8837640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ea42ac4c74dd9aad335a7233b3837f?s=128&d=identicon&r=PG&f=1", "display_name": "Mrunalini", "link": "https://stackoverflow.com/users/8837640/mrunalini"}, "is_accepted": false, "score": 3, "last_activity_date": 1538150224, "last_edit_date": 1538150224, "creation_date": 1522315770, "answer_id": 49552494, "question_id": 49545659, "link": "https://stackoverflow.com/questions/49545659/proper-implementation-of-windows-authentication-in-web-api/49552494#49552494", "title": "proper implementation of &quot;windows&quot; authentication in web api?", "body": "<p>Windows authentication that uses the local domain user and that is intended for intranet sites.</p>\n\n<p>Example : </p>\n\n<p>I implemented a <code>TestAuthentication</code> method/action with a fixed route path. For the demo I do not include Authorize attributes yet. The code checks the <code>User</code> property of the <code>ApiController</code>. This contains the same data as <code>Thread.CurrentPrincipal</code> or <code>HttpContext.Current.User</code>. Make sure Anonymous Authentication in IIS is disabled otherwise the <code>Identity.Name</code> will be empty.</p>\n\n<pre><code>public class WinAuthController : ApiController\n{\n    [HttpGet]\n    [Route(\"api/testauthentication\")]\n    public IHttpActionResult TestAutentication()\n    {\n        Debug.Write(\"AuthenticationType:\" + User.Identity.AuthenticationType);\n        Debug.Write(\"IsAuthenticated:\" + User.Identity.IsAuthenticated);\n        Debug.Write(\"Name:\" + User.Identity.Name);\n\n        if (User.Identity.IsAuthenticated)\n        {\n            return Ok(\"Authenticated: \" + User.Identity.Name);\n        }\n        else\n        {\n            return BadRequest(\"Not authenticated\");\n        }\n    }\n}\n</code></pre>\n\n<p>In Web.config file : </p>\n\n<pre><code>&lt;system.web&gt;\n   &lt;authentication mode=\"Windows\" /&gt;\n &lt;/system.web&gt; \n</code></pre>\n\n<p>In IE you can check the setting with Tools > Internet Options > Advanced and look for a setting Enable Windows Integrated Authentication. When you go to the tab Security and then Intranet and Custom Level, then you will find a setting at the bottom to specify if IE should logon automatically or prompt for the username and password.</p>\n\n<p><a href=\"https://i.stack.imgur.com/z49b4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z49b4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please visit below link, it has proper steps to follow for WEP API Windows authentication : </p>\n\n<p><a href=\"http://www.scip.be/index.php?Page=ArticlesNET38&amp;Lang=EN\" rel=\"nofollow noreferrer\">http://www.scip.be/index.php?Page=ArticlesNET38&amp;Lang=EN</a></p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 8794761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyuoU.jpg?s=128&g=1", "display_name": "SUBHAJIT GANGULI", "link": "https://stackoverflow.com/users/8794761/subhajit-ganguli"}, "is_accepted": false, "score": 2, "last_activity_date": 1579767983, "last_edit_date": 1579767983, "creation_date": 1553587408, "answer_id": 55352349, "question_id": 49545659, "link": "https://stackoverflow.com/questions/49545659/proper-implementation-of-windows-authentication-in-web-api/55352349#55352349", "title": "proper implementation of &quot;windows&quot; authentication in web api?", "body": "<p>Below are the steps to configure windows authentication in web api for both local and server (IIS).</p>\n\n<p>1) <strong>For Local</strong>:</p>\n\n<p>a) To create a web api project in windows authentication mode, follow below steps:</p>\n\n<p>After choosing <strong>ASP.Net Web Application</strong>, select <strong>Web API template</strong> and from the right side click <strong>Change Authentication</strong> button and select <strong>Windows Authentication</strong>.</p>\n\n<p>b) For an existing web api project, just add the following lines in your <code>applicationhost.config</code> file.</p>\n\n<pre><code>&lt;location path=\"YourProjectName\"&gt;\n        &lt;system.webServer&gt;\n            &lt;security&gt;\n                &lt;authentication&gt;\n                    &lt;anonymousAuthentication enabled=\"false\" /&gt;\n                    &lt;windowsAuthentication enabled=\"true\" /&gt;\n                &lt;/authentication&gt;\n            &lt;/security&gt;\n        &lt;/system.webServer&gt;\n    &lt;/location&gt;\n</code></pre>\n\n<p>2) <strong>For Server (IIS)</strong></p>\n\n<p>To run windows authentication after hosting the application in IIS just add following lines in your <code>web.config</code> file inside <code>system.web</code> node: </p>\n\n<pre><code>&lt;authentication mode=\"Windows\" /&gt;\n    &lt;authorization&gt;\n      &lt;allow verbs=\"OPTIONS\" users=\"?\" /&gt;\n      &lt;deny users=\"?\" /&gt;\n    &lt;/authorization&gt;\n</code></pre>\n\n<p>In both the cases, just use the following lines in your code that windows authentication is working properly:</p>\n\n<pre><code>if(User.Identity.IsAuthenticated)\n{\n    //do work\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 6, "last_activity_date": 1553675095, "creation_date": 1553675095, "answer_id": 55372654, "question_id": 49545659, "link": "https://stackoverflow.com/questions/49545659/proper-implementation-of-windows-authentication-in-web-api/55372654#55372654", "title": "proper implementation of &quot;windows&quot; authentication in web api?", "body": "<p>In addition to the previous answers, we also need to  Pass <strong>credentials</strong> in cross-origin requests.</p>\n\n<p><strong>Server Side (Web API):</strong></p>\n\n<p>Set the <strong>SupportsCredentials</strong> property to <code>true</code> on the <code>[EnableCors]</code> attribute:</p>\n\n<pre><code>[EnableCors(origins: \"http://exampleclient.com\", headers: \"*\", \nmethods: \"*\", SupportsCredentials = true)]\n</code></pre>\n\n<p><strong>Client Side (UI):</strong></p>\n\n<p>Set <strong>XMLHttpRequest.withCredentials</strong> to <code>true</code>.</p>\n\n<p><strong>jQuery:</strong></p>\n\n<pre><code>$.ajax({\n  type: 'get',\n  url: 'http://www.example.com/api/auth',\n  xhrFields: {\n    withCredentials: true\n  }\n</code></pre>\n\n<p><strong>Angular:</strong></p>\n\n<pre><code>this.http.get('http://www.example.com/api/auth', { withCredentials: true }).subscribe((resp: any) =&gt; {\n  console.log(resp)\n}\n</code></pre>\n\n<p><strong>XMLHttpRequest:</strong></p>\n\n<pre><code>var xhr = new XMLHttpRequest();\nxhr.open('get', 'http://www.example.com/api/auth');\nxhr.withCredentials = true;\n</code></pre>\n"}], "owner": {"reputation": 1187, "user_id": 9393635, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a956540dcbaa39914322d6a5e442125?s=128&d=identicon&r=PG&f=1", "display_name": "user9393635", "link": "https://stackoverflow.com/users/9393635/user9393635"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18901, "favorite_count": 6, "accepted_answer_id": 49546382, "answer_count": 4, "score": 15, "last_activity_date": 1579767983, "creation_date": 1522279001, "last_edit_date": 1522427945, "question_id": 49545659, "link": "https://stackoverflow.com/questions/49545659/proper-implementation-of-windows-authentication-in-web-api", "title": "proper implementation of &quot;windows&quot; authentication in web api?", "body": "<p>I've created a Web Api 2 app which will only be used on the corporate network. I've read about Windows authentication in Web API so it seems to be possible. But I need to figure out the proper implementation for this. I've included the following xml in my Web.config:</p>\n\n<pre><code>&lt;system.web&gt;\n  &lt;authentication mode=\"Windows\" /&gt;   \n&lt;/system.web&gt;\n</code></pre>\n\n<p>I seem to remember some type of event hook in old school webforms app. Something like BeginRequest() where a security check could be made before rendering a page. I included the following line of code as the first line in one of my controller methods but the returned value appears to just be an empty object without any meaningful info:</p>\n\n<pre><code>var identity = HttpContext.Current.User.Identity as WindowsIdentity;\n</code></pre>\n\n<p>Does Web API 2 support Windows authentication?  Am I missing a step?  Should Windows authentication work if I submit a general request from Postman for testing?  I also tried this code but got a similar empty object:</p>\n\n<pre><code>var x = RequestContext.Principal;\n</code></pre>\n\n<p>I vaguely recall an IIS setting like \"Enable Integrated Security.\" Can you please specify the exact setting?  And would I be able to accomplish this if I'm running the app on IIS Express?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I followed the steps for IIS Express mentioned in one of the answers below but the code samples that I provided in my original post still didn't get a populated user object. I also updated applicationhost.config file to turn off anonymous authentication:</p>\n\n<pre><code>&lt;anonymousAuthentication enabled=\"false\" userName=\"\" /&gt;\n</code></pre>\n\n<p>After I made that updated I resubmitted my test request via Postman but I get the following error:</p>\n\n<pre><code>    &lt;h3&gt;HTTP Error 401.2 - Unauthorized&lt;/h3&gt;\n    &lt;h4&gt;You are not authorized to view this page due to invalid authentication headers.&lt;/h4&gt;\n&lt;/div&gt;\n&lt;div class=\"content-container\"&gt;\n    &lt;fieldset&gt;\n        &lt;h4&gt;Most likely causes:&lt;/h4&gt;\n        &lt;ul&gt;\n            &lt;li&gt;No authentication protocol (including anonymous) is selected in IIS.&lt;/li&gt;\n            &lt;li&gt;Only integrated authentication is enabled, and a client browser was used that does not support integrated authentication.&lt;/li&gt;\n            &lt;li&gt;Integrated authentication is enabled and the request was sent through a proxy that changed the authentication headers before they reach the Web server.&lt;/li&gt;\n            &lt;li&gt;The Web server is not configured for anonymous access and a required authorization header was not received.&lt;/li&gt;\n            &lt;li&gt;The \"configuration/system.webServer/authorization\" configuration section may be explicitly denying the user access.&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/fieldset&gt;\n&lt;/div&gt;\n&lt;div class=\"content-container\"&gt;\n    &lt;fieldset&gt;\n        &lt;h4&gt;Things you can try:&lt;/h4&gt;\n        &lt;ul&gt;\n            &lt;li&gt;Verify the authentication setting for the resource and then try requesting the resource using that authentication method.&lt;/li&gt;\n            &lt;li&gt;Verify that the client browser supports Integrated authentication.&lt;/li&gt;\n            &lt;li&gt;Verify that the request is not going through a proxy when Integrated authentication is used.&lt;/li&gt;\n            &lt;li&gt;Verify that the user is not explicitly denied access in the \"configuration/system.webServer/authorization\" configuration section.&lt;/li&gt;\n            &lt;li&gt;Check the failed request tracing logs for additional information about this error. For more information, click \n                &lt;a href=\"http://go.microsoft.com/fwlink/?LinkID=66439\"&gt;here&lt;/a&gt;.\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/fieldset&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Do I need to configure my Postman request with some type of special header in order for this to work?</p>\n"}, {"tags": ["c#", ".net", "outlook", "smtp"], "comments": [{"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 1, "creation_date": 1522279579, "post_id": 49545653, "comment_id": 86098931, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18358534/send-inline-image-in-email\">Send inline image in email</a>"}, {"owner": {"reputation": 216, "user_id": 3092549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d6ee9900670ecc7a6ee0113118a4a143?s=128&d=identicon&r=PG&f=1", "display_name": "Super1337", "link": "https://stackoverflow.com/users/3092549/super1337"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1522280306, "post_id": 49545653, "comment_id": 86099122, "body": "That is close to what I am trying to do but not quite. That is to embed an image into the body... I.E. to show a JPG in when the user opens the email. I am trying to attach PDF files in the body of the email (similar to the image attached to my question). Outlook does this when you drag a file onto the body of the email."}, {"owner": {"reputation": 555, "user_id": 1062614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42d1416ea421ade94ed7ef2a23e9a09?s=128&d=identicon&r=PG", "display_name": "ejohnson", "link": "https://stackoverflow.com/users/1062614/ejohnson"}, "edited": false, "score": 1, "creation_date": 1522295411, "post_id": 49545653, "comment_id": 86102789, "body": "I think that&#39;s governed by the email format, RTF vs. HTML. I can see in your screenshot that your example is RTF-formatted. Can you duplicate that behavior manually in an HTML-formatted email?"}], "answers": [{"comments": [{"owner": {"reputation": 216, "user_id": 3092549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d6ee9900670ecc7a6ee0113118a4a143?s=128&d=identicon&r=PG&f=1", "display_name": "Super1337", "link": "https://stackoverflow.com/users/3092549/super1337"}, "edited": false, "score": 0, "creation_date": 1522333851, "post_id": 49548218, "comment_id": 86125190, "body": "Thanks for the info... do you know of an RTF example of how to do that?"}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 216, "user_id": 3092549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d6ee9900670ecc7a6ee0113118a4a143?s=128&d=identicon&r=PG&f=1", "display_name": "Super1337", "link": "https://stackoverflow.com/users/3092549/super1337"}, "edited": false, "score": 0, "creation_date": 1522367570, "post_id": 49548218, "comment_id": 86141554, "body": "Sure, just call Attachments.Add and specify the right position."}], "tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1547096381, "last_edit_date": 1547096381, "creation_date": 1522298782, "answer_id": 49548218, "question_id": 49545653, "link": "https://stackoverflow.com/questions/49545653/programmatically-create-an-embedded-file-attachment/49548218#49548218", "title": "Programmatically create an embedded file attachment", "body": "<p>No, HTML will only let you have embedded images.<br>\nRTF actually inserts icons inside special placeholders in the RTF body. \nThe icon position is specified by the Position parameter when calling Attachments.Add.</p>\n"}], "owner": {"reputation": 216, "user_id": 3092549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d6ee9900670ecc7a6ee0113118a4a143?s=128&d=identicon&r=PG&f=1", "display_name": "Super1337", "link": "https://stackoverflow.com/users/3092549/super1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 1, "accepted_answer_id": 49548218, "answer_count": 1, "score": 1, "last_activity_date": 1547096381, "creation_date": 1522278967, "last_edit_date": 1522279286, "question_id": 49545653, "link": "https://stackoverflow.com/questions/49545653/programmatically-create-an-embedded-file-attachment", "title": "Programmatically create an embedded file attachment", "body": "<p><a href=\"https://i.stack.imgur.com/7NZYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7NZYK.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I use Microsoft Outlook, it allows me to place file attachments in the body of the email rather than just attach them to the message. Is there a way to replicate this behavior using an HTML formatted email in C#? I am sending an automated email out with lots of attachments and it would help keep everything organized for the end user. I found ways to embed an image file into the email but not how to put attachments in. I believe these are called \"inline\" or \"embedded\" attachments.</p>\n"}, {"tags": ["c#", "sql-server", "orm", "sql-server-2017"], "comments": [{"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522278650, "post_id": 49545567, "comment_id": 86098692, "body": "<a href=\"https://stackoverflow.com/questions/6334777/what-does-a-timestamp-in-t-sql-mean-in-c\" title=\"what does a timestamp in t sql mean in c\">stackoverflow.com/questions/6334777/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3375, "user_id": 1306784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/def6fc5a65ffb7361ef83abea0175210?s=128&d=identicon&r=PG", "display_name": "Xedni", "link": "https://stackoverflow.com/users/1306784/xedni"}, "is_accepted": true, "score": 1, "last_activity_date": 1522287473, "creation_date": 1522287473, "answer_id": 49546709, "question_id": 49545567, "link": "https://stackoverflow.com/questions/49545567/what-datatype-in-c-should-i-use-if-mapping-a-database-column-of-type-timestamp/49546709#49546709", "title": "What datatype in C# should I use if mapping a database column of type Timestamp?", "body": "<p>It would be a byte array as that's what you'd use for varbinary.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/sql-server-data-type-mappings\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/sql-server-data-type-mappings</a></p>\n"}], "owner": {"reputation": 7279, "user_id": 415559, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TDc9T.jpg?s=128&g=1", "display_name": "barrypicker", "link": "https://stackoverflow.com/users/415559/barrypicker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "closed_date": 1522300015, "accepted_answer_id": 49546709, "answer_count": 1, "score": 0, "last_activity_date": 1522326136, "creation_date": 1522278357, "last_edit_date": 1522326136, "question_id": 49545567, "link": "https://stackoverflow.com/questions/49545567/what-datatype-in-c-should-i-use-if-mapping-a-database-column-of-type-timestamp", "closed_reason": "Duplicate", "title": "What datatype in C# should I use if mapping a database column of type Timestamp?", "body": "<p>My client is using <a href=\"https://github.com/jonwagner/Insight.Database\" rel=\"nofollow noreferrer\">Insight.Database</a> for SQL Server ORM, using C# as the client.  I have encountered a SQL Server 2017 database datatype 'Timestamp' and I am unsure what the C# entity type should be?  I have downloaded the code for the Insight.Database and have globally searched for Timestamp, but results are empty.</p>\n\n<p>Any ideas what datatype in C# would best represent a SQL Server Timestamp datatype?</p>\n"}, {"tags": ["c#", "arrays"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9085973, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Mu7FZCAkIXg/AAAAAAAAAAI/AAAAAAAAAA4/6_Gvk1qQQhI/photo.jpg?sz=128", "display_name": "Colton Slayden", "link": "https://stackoverflow.com/users/9085973/colton-slayden"}, "edited": false, "score": 0, "creation_date": 1522279134, "post_id": 49545595, "comment_id": 86098804, "body": "Thank you for the life of me I couldn&#39;t figure it out."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1522278936, "last_edit_date": 1522278936, "creation_date": 1522278508, "answer_id": 49545595, "question_id": 49545541, "link": "https://stackoverflow.com/questions/49545541/reading-data-from-an-array-in-a-separate-class/49545595#49545595", "title": "Reading Data from an array in a separate class", "body": "<p>The symbol <code>monsterCards</code> is declared as a local variable and is inaccessible anywhere outside the local (method) scope. </p>\n\n<p>You could move the variable to class scope, like this:</p>\n\n<pre><code>class GameInfo\n{\n    private string[,] monsterCards = new string[,] { { \"Bob\", \"500\" }, { etc...\n\n    public static void CardInfo()\n    {\n        //Stuff\n    }\n}\n</code></pre>\n\n<p>Then add a property to make it available outside the class:</p>\n\n<pre><code>class GameInfo\n{\n    ....\n    public string[,] GetMonsterCards()\n    {\n        return this.monsterCards;\n    }\n}\n</code></pre>\n\n<p>And now you can read it from the other class:</p>\n\n<pre><code> public static void BattleStart()\n {\n     BigChance();\n     GameInfo CardInfo = new GameInfo();\n     Random pickMonster = new Random();\n     int monster = pickMonster.Next(0, (CardInfo.GetMonsterCards().Length) / 2);\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1522278681, "creation_date": 1522278681, "answer_id": 49545622, "question_id": 49545541, "link": "https://stackoverflow.com/questions/49545541/reading-data-from-an-array-in-a-separate-class/49545622#49545622", "title": "Reading Data from an array in a separate class", "body": "<p>If you want the array of the <code>GameInfo</code> class to be accessible to other classes, make it a public property: <code>public</code> property:</p>\n\n<pre><code>class GameInfo\n{\n    public string[,] monsterCards;\n\n    public static void GameInfo()\n    {\n        //Array for Monster Cards {Name, HP}\n        monsterCards = new string[,] \n        { \n            { \"Bob\", \"500\" }, { \"Billy\", \"600\" }, { \"Joe\", \"700\" }, \n            { \"Frank\", \"750\" }, { \"BillyBob\", \"850\" } \n        };\n    }           \n}\n</code></pre>\n\n<p>Then in your other method you can access it like:</p>\n\n<pre><code>public static void BattleStart()\n{\n    BigChance();\n    GameInfo CardInfo = new GameInfo();\n    Random pickMonster = new Random();\n    int monster = pickMonster.Next(0, (CardInfo.monsterCards.Length) / 2);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 0, "last_activity_date": 1522290607, "creation_date": 1522290607, "answer_id": 49547085, "question_id": 49545541, "link": "https://stackoverflow.com/questions/49545541/reading-data-from-an-array-in-a-separate-class/49547085#49547085", "title": "Reading Data from an array in a separate class", "body": "<p>You probably want something more like this:</p>\n\n<pre><code>class GameInfo\n{\n    public Dictionary&lt;string, int&gt; MonsterCards { get; private set; }\n    public GameInfo()\n    {\n        this.MonsterCards = new Dictionary&lt;string, int&gt;()\n        {\n            { \"Bob\", 500 }, { \"Billy\", 600 }, { \"Joe\", 700 }, { \"Frank\", 750 }, { \"BillyBob\", 850 }\n        };\n    }\n}\n\nclass Battle\n{\n    private Random _random = new Random();\n    public bool Big { get; private set; }\n    public void BigChance()\n    {\n        this.Big = _random.NextDouble() &gt;= 0.95;\n    }\n\n    public void BattleStart()\n    {\n        this.BigChance();\n        GameInfo gameInfo = new GameInfo();\n        int monster = _random.Next(0, (gameInfo.MonsterCards.Count) / 2);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9085973, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Mu7FZCAkIXg/AAAAAAAAAAI/AAAAAAAAAA4/6_Gvk1qQQhI/photo.jpg?sz=128", "display_name": "Colton Slayden", "link": "https://stackoverflow.com/users/9085973/colton-slayden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522290607, "creation_date": 1522278216, "last_edit_date": 1522283970, "question_id": 49545541, "link": "https://stackoverflow.com/questions/49545541/reading-data-from-an-array-in-a-separate-class", "title": "Reading Data from an array in a separate class", "body": "<p>I am trying to read data from an array I have in one class from another array. </p>\n\n<p>The first class:</p>\n\n<pre><code>using System;\nusing static System.Console;\n\nnamespace Munchkin\n{\n    class GameInfo\n    {\n        public static void CardInfo()\n        {\n\n            //Array for Monster Cards {Name, HP}\n            string[,] monsterCards = new string[,] { { \"Bob\", \"500\" }, { \"Billy\", \"600\" }, { \"Joe\", \"700\" }, { \"Frank\", \"750\" }, { \"BillyBob\", \"850\" } };\n            //for (int i = 0; i &lt; ((monsterCards.Length) / 2); i++)\n            //{\n            //  WriteLine(\"Monster name {0}, Health Points {1}\", monsterCards[i, 0], monsterCards[i, 1]);\n            //}\n        }\n\n    }\n}\n</code></pre>\n\n<p>My other class is:</p>\n\n<pre><code>using System;\nusing static System.Console;\nusing System.Threading;\n\n\nnamespace Munchkin\n{\n    class Battle\n    {\n        public static bool Big;\n        public static void BigChance()\n        {\n            int chance;\n            Random rand1 = new Random();\n            chance = rand1.Next(1, 101);\n\n            if(chance &gt; 95)\n            {\n                Big = true;\n            }\n            else\n            {\n                Big = false;\n            }\n        }\n\n        public static void BattleStart()\n        {\n            BigChance();\n            GameInfo CardInfo = new GameInfo();\n            Random pickMonster = new Random();\n            int monster = pickMonster.Next(0, (monsterCards.Length) / 2);\n        }\n    }\n}\n</code></pre>\n\n<p>I have tried various things, including changing permissions, and I can't seem to be able to read the data or pass the data in any way. </p>\n"}, {"tags": ["c#", "xml", "xml-parsing", "linq-to-xml"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1522280929, "post_id": 49545539, "comment_id": 86099281, "body": "Can&#39;t reproduce, see <a href=\"https://dotnetfiddle.net/yX6xDx\" rel=\"nofollow noreferrer\">dotnetfiddle.net/yX6xDx</a> which shows that <code>locations.First().standardized_operation_hours</code> is what you expect.  But why the additional <code>.Value</code>?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1522281229, "post_id": 49545539, "comment_id": 86099350, "body": "Maybe you want <code>locations.First().standardized_operation_hours.Elements().To&zwnj;&#8203;List()</code>?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1522292016, "post_id": 49545539, "comment_id": 86101920, "body": "Try following : standardized_operation_hours = location.Element(&quot;standardized_operation_hours&quot;).Elements().&zwnj;&#8203;Select(x =&gt; new {day = x.Name.LocalName, time = (string)x}).ToArray()"}, {"owner": {"reputation": 63, "user_id": 3921458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd40c014fa568ca22a780e64d4e32aa?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Jami", "link": "https://stackoverflow.com/users/3921458/santosh-jami"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1522293588, "post_id": 49545539, "comment_id": 86102327, "body": "Thanks @dbc. This is what I was looking for"}], "owner": {"reputation": 63, "user_id": 3921458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd40c014fa568ca22a780e64d4e32aa?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Jami", "link": "https://stackoverflow.com/users/3921458/santosh-jami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522280536, "creation_date": 1522278190, "last_edit_date": 1522280536, "question_id": 49545539, "link": "https://stackoverflow.com/questions/49545539/retrieve-xdocument-immediate-node-value-linq-to-xml", "title": "Retrieve XDocument Immediate Node Value linq to xml", "body": "<p>I have the following XML data:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;response version=\"1.0\"&gt;\n    &lt;respcode&gt;200&lt;/respcode&gt;\n    &lt;respmessage&gt;Success&lt;/respmessage&gt;\n    &lt;datetime&gt;Thu, 18 Jan 2018 06:20:25 +0000&lt;/datetime&gt;\n    &lt;location&gt;\n        &lt;site_code&gt;COH&lt;/site_code&gt;\n        &lt;phone&gt;781-383-0180&lt;/phone&gt;\n        &lt;fax&gt;781-383-9093&lt;/fax&gt;\n        &lt;standardized_operation_hours&gt;\n            &lt;Monday&gt;07:30-17:00&lt;/Monday&gt;\n            &lt;Tuesday&gt;07:30-17:00&lt;/Tuesday&gt;\n            &lt;Wednesday&gt;07:30-17:00&lt;/Wednesday&gt;\n            &lt;Thursday&gt;07:30-17:00&lt;/Thursday&gt;\n            &lt;Friday&gt;07:30-17:00&lt;/Friday&gt;\n            &lt;Saturday&gt;X&lt;/Saturday&gt;\n            &lt;Sunday&gt;X&lt;/Sunday&gt;\n    &lt;/standardized_operation_hours&gt;\n    &lt;scheduling&gt;YES&lt;/scheduling&gt;\n    &lt;time_zone&gt;America/New_York&lt;/time_zone&gt;\n    &lt;/location&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>Here is my code to parse and retrieve values of the child elements:</p>\n\n<pre><code>XDocument document = XDocument.Load(@\"F:\\Appointment Scheduling\n  Info\\CompleteFacilities.xml\");\n\nvar locations = from location in document.Descendants(\"location\")\n                select new\n                {\n                    siteCode = location.Element(\"site_code\").Value,\n                    phone = location.Element(\"phone\").Value,\n                    fax = location.Element(\"fax\").Value,\n                    standardized_operation_hours = location.Element(\"standardized_operation_hours\"),\n                    timeZone = location.Element(\"time_zone\") != null ? location.Element(\"time_zone\").Value : null,\n                    scheduling = location.Element(\"scheduling\") != null ? location.Element(\"scheduling\").Value : null                                \n                };\n</code></pre>\n\n<p>Question:\nI can retrieve the PhoneNUmber using: locations.First().phone</p>\n\n<p>But when I access, locations.First().standardized_operation_hours.Value - I was expecting to get the child node value:</p>\n\n<pre><code>&lt;Monday&gt;07:30-17:00&lt;/Monday&gt;\n&lt;Tuesday&gt;07:30-17:00&lt;/Tuesday&gt;\n&lt;Wednesday&gt;07:30-17:00&lt;/Wednesday&gt;\n&lt;Thursday&gt;07:30-17:00&lt;/Thursday&gt;\n&lt;Friday&gt;07:30-17:00&lt;/Friday&gt;\n&lt;Saturday&gt;X&lt;/Saturday&gt;\n&lt;Sunday&gt;X&lt;/Sunday&gt;`\n</code></pre>\n\n<p>What is retrieved is the leaf value: \"07:30-17:0007:30-17:0007:30-17:0007:30-17:0007:30-17:00XX\"</p>\n\n<p>How do I retrieve the above expected value with complete child node info containing Monday / Tuesday..?</p>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 999, "user_id": 5185389, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c63dbf6d7df7773c3757322d70486b7?s=128&d=identicon&r=PG&f=1", "display_name": "DevilSuichiro", "link": "https://stackoverflow.com/users/5185389/devilsuichiro"}, "edited": false, "score": 0, "creation_date": 1522307308, "post_id": 49545513, "comment_id": 86107065, "body": "the SQL query that is generated with the include is a left join. Your problem is that you don&#39;t want all related data, but only a subset of all matching tuples. Filtering of included tuples is currently not supported in EF&#39;s .Include()."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1522308454, "post_id": 49545513, "comment_id": 86107727, "body": "You asked for products <i>with images</i> whose location is <code>home_slider</code>, not products without images or only home_sliders."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1522309248, "post_id": 49545513, "comment_id": 86108137, "body": "Please tag the appropriate EF version."}], "answers": [{"comments": [{"owner": {"reputation": 17287, "user_id": 202382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ebe33d5d32e4a0489b19f7d7b6c6a48?s=128&d=identicon&r=PG", "display_name": "Richard77", "link": "https://stackoverflow.com/users/202382/richard77"}, "edited": false, "score": 0, "creation_date": 1522286372, "post_id": 49546533, "comment_id": 86100600, "body": "I thought using 2 sources will have adverse consequences to performance. That&#39;s why I&#39;ve avoided so far any linq query related to 2 or more sources."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3188639"}, "reply_to_user": {"reputation": 17287, "user_id": 202382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ebe33d5d32e4a0489b19f7d7b6c6a48?s=128&d=identicon&r=PG", "display_name": "Richard77", "link": "https://stackoverflow.com/users/202382/richard77"}, "edited": false, "score": 1, "creation_date": 1522371278, "post_id": 49546533, "comment_id": 86142401, "body": "There&#39;s only one join, and the generated SQL is almost the same as yours. See my edit."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3188639"}, "is_accepted": false, "score": 0, "last_activity_date": 1522371232, "last_edit_date": 1522371232, "creation_date": 1522285883, "answer_id": 49546533, "question_id": 49545513, "link": "https://stackoverflow.com/questions/49545513/how-to-express-left-join-when-2-entities-are-linked-by-a-navigation-properties/49546533#49546533", "title": "How to express LEFT JOIN when 2 entities are linked by a navigation properties", "body": "<blockquote>\n  <p>Is there a way to accomplish a left join without having to use 2 sources data?</p>\n</blockquote>\n\n<p>I don't think there is. In your SQL query you are joining with a new set, not the photos related to your products.</p>\n\n<p>I believe that the best you can do is something like this:</p>\n\n<pre><code>var q = from prod in ctx.Products.Include(p =&gt; p.Photos) \n        join img in (\n            from ph in ctx.Photos where ph.PageLocation == 1 select new { ph.ProductId, PageLocation = (int?)ph.PageLocation }\n        ) on prod.Id equals img.ProductId into pjoin\n        from pj in pjoin.DefaultIfEmpty()\n        select new { prod, photo = pj, pj.PageLocation };\n\nforeach (var p in q)\n{\n     Console.WriteLine($\"{p.prod.Id} - {p.photo} - {p.PageLocation}\");\n}\n</code></pre>\n\n<p>EDIT: There is only one join in this query, as can be seen from the generated SQL:</p>\n\n<pre><code>SELECT \n[Extent1].[Id] AS [Id], \n[Extent1].[Name] AS [Name], \n[Extent2].[PageLocation] AS [PageLocation], \n[Extent2].[ProductId] AS [ProductId]\nFROM  [dbo].[Product] AS [Extent1]\nLEFT OUTER JOIN [dbo].[Photo] AS [Extent2] ON (1 = [Extent2].[PageLocation]) AND ([Extent1].[Id] = [Extent2].[ProductId])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1522308750, "post_id": 49549397, "comment_id": 86107874, "body": "That&#39;s just a blog post, you can&#39;t use it as a source and claim <code>Include</code> performs inner joins. If it did, you wouldn&#39;t be able to load root entities without children even if no <code>Where</code> existed. Something that is obviously wrong"}, {"owner": {"reputation": 2619, "user_id": 8330148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EeOB2.jpg?s=128&g=1", "display_name": "ChW", "link": "https://stackoverflow.com/users/8330148/chw"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1522310493, "post_id": 49549397, "comment_id": 86108803, "body": "Thanks, was my fault and I removed it, because it was not explained enough from my side. As far as I know <code>Include</code> works internally with <code>CASE WHEN</code> and sets a flag if a <code>join</code> should be executed or not. Therefore it works for your mentioned case. Well, it is a blog post, but after own tries and experience I can confirm that behavior for navigation properties and like described <code>Include</code>. But I will do some more researches for better sources. Thanks for the hint."}], "tags": [], "owner": {"reputation": 2619, "user_id": 8330148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EeOB2.jpg?s=128&g=1", "display_name": "ChW", "link": "https://stackoverflow.com/users/8330148/chw"}, "is_accepted": false, "score": 0, "last_activity_date": 1522309039, "last_edit_date": 1522309039, "creation_date": 1522304957, "answer_id": 49549397, "question_id": 49545513, "link": "https://stackoverflow.com/questions/49545513/how-to-express-left-join-when-2-entities-are-linked-by-a-navigation-properties/49549397#49549397", "title": "How to express LEFT JOIN when 2 entities are linked by a navigation properties", "body": "<p>Well, if you use the navigation property EF will generate a SQL statement that has an <code>inner join</code> though.</p>\n\n<blockquote>\n  <p><strong>How Navigation property works</strong></p>\n  \n  <p>When we apply navigation property in our code, it means we are asking EF to  automatically perform a join between the two tables.</p>\n</blockquote>\n\n<p><em>source:</em> <a href=\"https://www.c-sharpcorner.com/article/navigation-property-with-code-first-navigation-property-in-ef/\" rel=\"nofollow noreferrer\">Navigation Property With Code First (Navigation Property In EF)</a></p>\n\n<p>So you could use the example you already found on <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/linq/perform-left-outer-joins\" rel=\"nofollow noreferrer\">MS docs - Perform left outer joins</a> - to realize your query. Your SQL example has two sources too. First <code>Products</code> table and as second the <code>PhotoImages</code> table or I misunderstood what you mean.</p>\n\n<p>An approach for your query could be:</p>\n\n<pre><code>var products = (\n    from p in _context.Products\n    join pi in _context.PhotoImages on p.Id equals pi.ProductId\n    into productsWithImages\n\n    from pwi in productsWithImages.Where(pwi =&gt; pwi.PageLocation == 1).DefaultIfEmpty()\n    select new ExtendedProduct\n    {\n        p.Id,\n        p.Name,\n        photoId = (int?)pwi.Id,\n        pwi.PageLocation,\n        pwi.Url\n    }\n)\n</code></pre>\n"}], "owner": {"reputation": 17287, "user_id": 202382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ebe33d5d32e4a0489b19f7d7b6c6a48?s=128&d=identicon&r=PG", "display_name": "Richard77", "link": "https://stackoverflow.com/users/202382/richard77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522371232, "creation_date": 1522278043, "last_edit_date": 1522308184, "question_id": 49545513, "link": "https://stackoverflow.com/questions/49545513/how-to-express-left-join-when-2-entities-are-linked-by-a-navigation-properties", "title": "How to express LEFT JOIN when 2 entities are linked by a navigation properties", "body": "<p>Let say I have these 2 Entities</p>\n\n<pre><code>public class Product\n{\n   //..\n   public ICollection&lt;Photo&gt; Photos { get; set; }\n          = new List&lt;Photo&gt;();\n}\n\npublic class Photo\n{\n  //..\n  public PageLocation PageLocation { get; set; }\n  public int ProductId { get; set; }\n  public Product Product { get; set; }\n}\n</code></pre>\n\n<p>I use this code to select a list of products. Each of them will associated with an image given the location where the product will be displayed. </p>\n\n<pre><code>var productList = GetAll().Include(p =&gt; p.PhotoImages)\n        .Where(p =&gt;\n               p.PhotoImages.Any(\n                     i =&gt; i.PageLocation == PageLocation.Home_Slider));\n</code></pre>\n\n<p>The problem is that when a product has no image for that location, then the product is not selected. </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/linq/perform-left-outer-joins\" rel=\"nofollow noreferrer\">Every examples</a> that I've seen on left join show how to use 2 sources. In my case, I don't need 2 sources because I've a navigation property between Product and Image.</p>\n\n<p>Is there a way to accomplish a left join without having to use 2 sources data? Something like this</p>\n\n<pre><code>SELECT *\nFROM [dbo].[Products] p\nLEFT JOIN \n(\n  SELECT *\n  FROM [dbo].[PhotoImages] \n  WHERE PageLocation = 1\n )img\nON p.Id = img.ProductId\n</code></pre>\n\n<p>Thanks for helping</p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1522277761, "post_id": 49545449, "comment_id": 86098455, "body": "Because <code>Product</code> is <code>null</code>. Where are you setting it?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 4, "creation_date": 1522277823, "post_id": 49545449, "comment_id": 86098473, "body": "This is not related to ASP.NET MVC nor Core, please don&#39;t spam tags. If you are using Entity Framework Core this will only work if you included <code>Product</code> as part of the query, but you didn&#39;t post your query nor what framework you are using, so we can only guess. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 9, "user_id": 2884954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739990de621cf8f8f82364f5834eb024?s=128&d=identicon&r=PG&f=1", "display_name": "user2884954", "link": "https://stackoverflow.com/users/2884954/user2884954"}, "edited": false, "score": 0, "creation_date": 1522278380, "post_id": 49545449, "comment_id": 86098622, "body": "am passing product from a shoppingcart controller through a &quot;public static void&quot; function."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1522278479, "post_id": 49545449, "comment_id": 86098653, "body": "@user2884954 and? Use the debugger to check its value at that moment. Presumbly, it&#39;s null, or the weight property is null, or the quantity property in the shopping cart object is null. One of them is, you need to discover which one. The code above doesn&#39;t provide the answer definitively, but debugging will. Of course you need to be checking this at the time that the TotalWeight property is reference. Set a breakpoint in that get; method"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 2, "creation_date": 1522279376, "post_id": 49545449, "comment_id": 86098877, "body": "I&#39;m personally not a fan of these approaches, if your data model or domain model don&#39;t represent the proper view data, then transform it into a proper representation.  Don&#39;t hold a computed property that the ORM should ignore, just clutters and is harder to isolate."}], "answers": [{"comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522278658, "post_id": 49545598, "comment_id": 86098695, "body": "This is not an answer, it is at best a bad comment. As I commented, the OP is most likely used to lazy loading of EF6 and doesn&#39;t expect the lack of lazy loading of EF Core"}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522278935, "post_id": 49545598, "comment_id": 86098762, "body": "Quantity (and Weight most likely) is int, so it cannot be null."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "reply_to_user": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 1, "creation_date": 1522279153, "post_id": 49545598, "comment_id": 86098813, "body": "@MBakardzhiev Yeah, but if Entity Framework hasn&#39;t loaded the associated object within the model the root Product would more than likely be null. Without more information can&#39;t verify though."}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1522279309, "post_id": 49545598, "comment_id": 86098856, "body": "@Greg Yes, so this means the post opener needs to eagerly load Product (I am 99% sure he didn&#39;t)."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "reply_to_user": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522279402, "post_id": 49545598, "comment_id": 86098884, "body": "@MBakardzhiev Yeah, exactly.  That&#39;s why I mentioned that at the end of my answer."}, {"owner": {"reputation": 9, "user_id": 2884954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739990de621cf8f8f82364f5834eb024?s=128&d=identicon&r=PG&f=1", "display_name": "user2884954", "link": "https://stackoverflow.com/users/2884954/user2884954"}, "edited": false, "score": 0, "creation_date": 1522280307, "post_id": 49545598, "comment_id": 86099125, "body": "var applicationDbContext = _context.ShoppingCarts.Include(s =&gt; s.ApplicationUser).Include(s =&gt; s.Product);"}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "reply_to_user": {"reputation": 9, "user_id": 2884954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739990de621cf8f8f82364f5834eb024?s=128&d=identicon&r=PG&f=1", "display_name": "user2884954", "link": "https://stackoverflow.com/users/2884954/user2884954"}, "edited": false, "score": 0, "creation_date": 1522281843, "post_id": 49545598, "comment_id": 86099502, "body": "@user2884954 What is your relation type? 0/1 to 0/1? Maybe this shopping cart has no associated product."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1522312043, "post_id": 49545598, "comment_id": 86109684, "body": "this doesn&#39;t answer the question and provide a solution, it merely suggests how to debug"}, {"owner": {"reputation": 5293, "user_id": 3603502, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/db938ae499b9f8e3233142edfa41ecbf?s=128&d=identicon&r=PG", "display_name": "Gil Sand", "link": "https://stackoverflow.com/users/3603502/gil-sand"}, "edited": false, "score": 0, "creation_date": 1522330204, "post_id": 49545598, "comment_id": 86122244, "body": "Considering the amount of information available, I can&#39;t give a more precise answer. I don&#39;t know if these are POCO or primitives, I don&#39;t know what happened before, and I don&#39;t want to suggest simply adding <code>if != null</code> everywhere because it is just defensive programming and bad practice. To get to the root of the problem, I believe he&#39;s gotta find where the null is coming from. Hence my debugging suggestion."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1522387431, "post_id": 49545598, "comment_id": 86145703, "body": "Yes but that&#39;s why it should be a comment and not an answer. It&#39;s a request for more information, which can then be used to provide a real answer"}], "tags": [], "owner": {"reputation": 5293, "user_id": 3603502, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/db938ae499b9f8e3233142edfa41ecbf?s=128&d=identicon&r=PG", "display_name": "Gil Sand", "link": "https://stackoverflow.com/users/3603502/gil-sand"}, "is_accepted": false, "score": -1, "last_activity_date": 1522278539, "creation_date": 1522278539, "answer_id": 49545598, "question_id": 49545449, "link": "https://stackoverflow.com/questions/49545449/computed-property-returned-a-null-reference/49545598#49545598", "title": "Computed property returned a null reference", "body": "<p>I strongly believe either Quantity or Product or Weight ar simply null.</p>\n\n<p>To find out which, use a breakpoint at the line</p>\n\n<pre><code>return this.Quantity * this.Product.Weight;\n</code></pre>\n\n<p>From there you will see which variable is null, and will be able to work your way up to see where you should initialize the object in question.</p>\n\n<p>An unexpected nullref usually comes from another null object not being set in the first place</p>\n"}, {"tags": [], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "is_accepted": false, "score": 2, "last_activity_date": 1522279106, "creation_date": 1522279106, "answer_id": 49545676, "question_id": 49545449, "link": "https://stackoverflow.com/questions/49545449/computed-property-returned-a-null-reference/49545676#49545676", "title": "Computed property returned a null reference", "body": "<p>You should validate the computed property, since you do run the possibility of weight, product, and sub properties within product being null.  Not sure if you encounter a failure what you would like to occur, but something along these lines should rectify.</p>\n\n<pre><code>public int TotalWeight \n{\n     get\n     {\n         if(Weight == null || Product?.Weight == null)\n              return 0;\n\n         return Weight * Product.Weight;\n     }\n}\n</code></pre>\n\n<p>That would rectify your error, but you might have an issue with Entity Framework.  You might not want to use the default lazy loading, but instead use eager loading.</p>\n\n<blockquote>\n  <p>Eager loading. When the entity is read, related data is retrieved\n  along with it. This typically results in a single join query that\n  retrieves all of the data that's needed. You specify eager loading in\n  Entity Framework Core by using the Include and ThenInclude methods.</p>\n</blockquote>\n\n<p>Some examples on it can be found <a href=\"https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/read-related-data\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 9, "user_id": 2884954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739990de621cf8f8f82364f5834eb024?s=128&d=identicon&r=PG&f=1", "display_name": "user2884954", "link": "https://stackoverflow.com/users/2884954/user2884954"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "closed_date": 1522279321, "answer_count": 2, "score": -1, "last_activity_date": 1522279106, "creation_date": 1522277671, "last_edit_date": 1522277751, "question_id": 49545449, "link": "https://stackoverflow.com/questions/49545449/computed-property-returned-a-null-reference", "closed_reason": "Duplicate", "title": "Computed property returned a null reference", "body": "<p>am using a computed property inside a ShoppingCart model, but the product property is getting a null reference and throw a null reference error, can you please inform me if am computing the TotalWeight property properly.</p>\n\n<pre><code>[Key]\npublic int Id { get; set; }\n\npublic int ProductId { get; set; }\npublic virtual Products Product { get; set; }\n\n[Display(Name = \"Quantity\")]\npublic int Quantity { get; set; }\n\n\n[NotMapped]\npublic int TotalWeight\n{\n    get\n    {\n        return this.Quantity * this.Product.Weight;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 2, "creation_date": 1522276640, "post_id": 49545247, "comment_id": 86098151, "body": "<code>DateTime</code> has a <code>Date</code> property you can use. Also, you&#39;re blindly assuming that <code>StartDate</code> isn&#39;t null."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522278207, "post_id": 49545247, "comment_id": 86098567, "body": "I don&#39;t understand when you say <i>&quot;I still want a DateTime? object&quot;</i>. <code>StartDate</code> <i>is</i> a <code>DateTime?</code> object. You don&#39;t need another one, do you?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9367513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae4d4482da4c2e89fe5ce0f9d5b3b1d1?s=128&d=identicon&r=PG&f=1", "display_name": "testuser1231234", "link": "https://stackoverflow.com/users/9367513/testuser1231234"}, "edited": false, "score": 0, "creation_date": 1522276755, "post_id": 49545274, "comment_id": 86098174, "body": "I tried this way too, and it still gives me the 12:00:00AM version I don&#39;t know why."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 47, "user_id": 9367513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae4d4482da4c2e89fe5ce0f9d5b3b1d1?s=128&d=identicon&r=PG&f=1", "display_name": "testuser1231234", "link": "https://stackoverflow.com/users/9367513/testuser1231234"}, "edited": false, "score": 4, "creation_date": 1522276838, "post_id": 49545274, "comment_id": 86098203, "body": "Now you&#39;re talking about formatting dates for display then. a <code>DateTime</code> always has a time component, you can&#39;t just get rid of it. Instead it seems you need to tell your UI how to display it."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1522276865, "post_id": 49545274, "comment_id": 86098209, "body": "The <code>DateTime</code> struct is <i>always</i> going to have the time component. You just have to display it without it."}, {"owner": {"reputation": 47, "user_id": 9367513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae4d4482da4c2e89fe5ce0f9d5b3b1d1?s=128&d=identicon&r=PG&f=1", "display_name": "testuser1231234", "link": "https://stackoverflow.com/users/9367513/testuser1231234"}, "edited": false, "score": 0, "creation_date": 1522277092, "post_id": 49545274, "comment_id": 86098282, "body": "Wow. Thank you so much. I feel so dumb now. That worked."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1522277374, "post_id": 49545274, "comment_id": 86098348, "body": "@DavidG Couldn&#39;t you simplify with a <code>??</code>?  <code>DateTime? date = StartDate.Value.Date ?? null;</code> syntax?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1522277624, "post_id": 49545274, "comment_id": 86098421, "body": "@Greg No that&#39;s a syntax error, but you can use null-conditional operator which I&#39;ve added."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522277643, "post_id": 49545274, "comment_id": 86098429, "body": "Or <code>DateTime? x = StartDate.GetValueOrDefault().Date;</code>, but that would hide the fact that it may have been <code>null</code>."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1522277689, "post_id": 49545274, "comment_id": 86098440, "body": "@DavidG I forgot the null would cause the <code>.Value</code> to throw a NRE.  You&#39;re correct."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522277815, "post_id": 49545274, "comment_id": 86098469, "body": "@RufusL Yeah, I don&#39;t like losing the null, and that would result in a datetime of <code>01&#47;01&#47;0001 00:00:00</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522278025, "post_id": 49545274, "comment_id": 86098521, "body": "So was there really a problem to solve? We&#39;re just creating a <code>DateTime?</code> from another <code>DateTime?</code>, but setting the <code>Time</code> portion to midnight."}, {"owner": {"reputation": 47, "user_id": 9367513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae4d4482da4c2e89fe5ce0f9d5b3b1d1?s=128&d=identicon&r=PG&f=1", "display_name": "testuser1231234", "link": "https://stackoverflow.com/users/9367513/testuser1231234"}, "edited": false, "score": 0, "creation_date": 1522278143, "post_id": 49545274, "comment_id": 86098550, "body": "I thought to display only the Date portion in the UI, i had to convert it but I was converting it in the wrong place. I just used StartDate.ToShortDateString to display it. Before I was trying to set the value to DateTime?"}], "tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": true, "score": 7, "last_activity_date": 1522277605, "last_edit_date": 1522277605, "creation_date": 1522276635, "answer_id": 49545274, "question_id": 49545247, "link": "https://stackoverflow.com/questions/49545247/convert-datetime-to-date-only-and-then-back-to-datetime-possible/49545274#49545274", "title": "Convert DateTime? to Date only and then back to DateTime? (Possible?)", "body": "<p>You can do this:</p>\n\n<pre><code>DateTime? x = StartDate.HasValue //Handle when value is null\n    ? StartDate.Value.Date       //If not null, get date part\n    : (DateTime?)null;           //otherwise just return null\n</code></pre>\n\n<p>A simpler version uing the null-conditional operator would be:</p>\n\n<pre><code>DateTime? x = StartDate2?.Date;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "is_accepted": false, "score": 1, "last_activity_date": 1522278216, "last_edit_date": 1522278216, "creation_date": 1522277353, "answer_id": 49545392, "question_id": 49545247, "link": "https://stackoverflow.com/questions/49545247/convert-datetime-to-date-only-and-then-back-to-datetime-possible/49545392#49545392", "title": "Convert DateTime? to Date only and then back to DateTime? (Possible?)", "body": "<p>In case you need how to format to display only the date component, I included this as well.</p>\n\n<pre><code>DateTime? onlyDate = oldData?.Date;\n        if (onlyDate.HasValue)\n        {\n            string formattedDate = onlyDate.Value.ToString(\"dd/MM/yyyy\"));  \n            //or dd-MM-yyyy\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 2, "last_activity_date": 1522278339, "last_edit_date": 1522278339, "creation_date": 1522278020, "answer_id": 49545510, "question_id": 49545247, "link": "https://stackoverflow.com/questions/49545247/convert-datetime-to-date-only-and-then-back-to-datetime-possible/49545510#49545510", "title": "Convert DateTime? to Date only and then back to DateTime? (Possible?)", "body": "<p>Try this</p>\n\n<pre><code>DateTime? date = StartDate?.Date;\n</code></pre>\n\n<p>That's really all you need to write. The <code>Date</code> property is actually of type <code>DateTime</code> simply returning an instance starting at the top of the day. Since your <code>StartDate</code> is nullable, using the null conditional (<code>?.</code>) operator means that the resulting value will be nullable as well.</p>\n\n<p>It implies that if its left hand side is null so too will its right hand side be. Therefore the result is of the correct type <code>DateTime?</code>.</p>\n\n<p>This approach is safe, concise, idiomatic, and robust.</p>\n"}], "owner": {"reputation": 47, "user_id": 9367513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae4d4482da4c2e89fe5ce0f9d5b3b1d1?s=128&d=identicon&r=PG&f=1", "display_name": "testuser1231234", "link": "https://stackoverflow.com/users/9367513/testuser1231234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 49545274, "answer_count": 3, "score": 3, "last_activity_date": 1522278339, "creation_date": 1522276491, "last_edit_date": 1522276548, "question_id": 49545247, "link": "https://stackoverflow.com/questions/49545247/convert-datetime-to-date-only-and-then-back-to-datetime-possible", "title": "Convert DateTime? to Date only and then back to DateTime? (Possible?)", "body": "<p>I don't know if this makes sense but I have a DateTime? object and I only want the date portion of it, but I need it to convert it back to a DateTime? and store it with only Date value. Is this possible?</p>\n\n<p>This is what I tried:</p>\n\n<pre><code>public DateTime? StartDate{ get; set; };\nDateTime? x = Convert.ToDateTime(StartDate.Value.ToString(\"MM-dd-yyyy\"));\n</code></pre>\n\n<p>If I just keep</p>\n\n<pre><code>StartDate.Value.ToString(\"MM-dd-yyyy\")\n</code></pre>\n\n<p>it works but I still want a DateTime? object because that is how my database is storing it. How can I achieve this?</p>\n"}, {"tags": ["c#", "android", "sqlite", "xamarin"], "comments": [{"owner": {"reputation": 31, "user_id": 9566657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c892e76fed08c3163fcfcc520aed782e?s=128&d=identicon&r=PG&f=1", "display_name": "partis", "link": "https://stackoverflow.com/users/9566657/partis"}, "edited": false, "score": 0, "creation_date": 1522279291, "post_id": 49545159, "comment_id": 86098852, "body": "And now i just found solution. I added OnAppearing() after sqlite-part, and now it is working. Should i or can i delete this post somehow? Or is it necessary? This was my first post."}, {"owner": {"reputation": 4088, "user_id": 8632294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VLTU.jpg?s=128&g=1", "display_name": "Robbit", "link": "https://stackoverflow.com/users/8632294/robbit"}, "edited": false, "score": 0, "creation_date": 1522284696, "post_id": 49545159, "comment_id": 86100196, "body": "Hi, you post an answer, and accept it to close this case."}, {"owner": {"reputation": 999, "user_id": 5611425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8zIph.png?s=128&g=1", "display_name": "Fahadsk", "link": "https://stackoverflow.com/users/5611425/fahadsk"}, "edited": false, "score": 0, "creation_date": 1522306142, "post_id": 49545159, "comment_id": 86106499, "body": "seems like you haven&#39;t updated your list item source after deleting record from db, you don&#39;t need <code>onAppearing()</code> to get this work"}], "owner": {"reputation": 31, "user_id": 9566657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c892e76fed08c3163fcfcc520aed782e?s=128&d=identicon&r=PG&f=1", "display_name": "partis", "link": "https://stackoverflow.com/users/9566657/partis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1522276627, "creation_date": 1522275948, "last_edit_date": 1522276627, "question_id": 49545159, "link": "https://stackoverflow.com/questions/49545159/cant-delete-listview-item-on-a-first-try", "title": "Can&#39;t delete listview item on a first try", "body": "<p>So here's my problem. I'm creating simple android app and I want to remove item from a List view. My code kind of works, the problem is that item is deleted after second click (remove button). Also i need to select item second time.</p>\n\n<p>What I wanna do is to select an item one time, and delete it by clicking remove button.</p>\n\n<p>Here is my code for Remove-button.</p>\n\n<pre><code>private void Remove_Activated(object sender, EventArgs e)\n{\n\n    using (SQLite.SQLiteConnection conn = new SQLite.SQLiteConnection(App.DB_PATH))\n    {\n        conn.CreateTable&lt;Book&gt;();\n\n        var books = conn.Table&lt;Book&gt;().ToList();\n        booksListView.ItemsSource = books;\n\n        var selItem = (Book)booksListView.SelectedItem;\n\n        Book remBook = new Book()\n        {\n            Id = selItem.Id,\n            Name = selItem.Name,\n            Author = selItem.Author\n        };\n\n        conn.Delete(remBook);\n    };\n} \n</code></pre>\n\n<p>I have also overrided OnAppearing(), can this be the problem?</p>\n\n<pre><code>protected override void OnAppearing()\n{\n    base.OnAppearing();\n\n    Title = \"Booklist\";\n\n    using (SQLite.SQLiteConnection conn = new SQLite.SQLiteConnection(App.DB_PATH))\n    {\n        conn.CreateTable&lt;Book&gt;();\n\n        var books = conn.Table&lt;Book&gt;().ToList();\n\n        booksListView.ItemsSource = books;\n    }\n}\n</code></pre>\n\n<p>I have done the adding part like this guy in this tutorial: <a href=\"https://www.youtube.com/watch?v=JhWwBOoqXQ8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=JhWwBOoqXQ8</a></p>\n"}, {"tags": ["javascript", "c#", "datetime", "double"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1522275941, "post_id": 49545124, "comment_id": 86097923, "body": "And I thought that ISO DateTime formats existed for this kind of interoperability... Seriously, what made you think this was the easiest/fastest solution? Any JSON formatter knows how to serialize into JavaScript--valid format"}, {"owner": {"reputation": 1079, "user_id": 388976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2cd2d68533b6dc75a9f8718caec6efb?s=128&d=identicon&r=PG", "display_name": "Gauthier", "link": "https://stackoverflow.com/users/388976/gauthier"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522279435, "post_id": 49545124, "comment_id": 86098895, "body": "well going from c# to c# apps it works out just fine. I also didnt think this would be easy or fast. I was hoping for something ludicrous and clever. The application was never developed for other environments. Im guessing ill need to spend the to time to send separate bytes to the web-socket."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522301251, "post_id": 49545124, "comment_id": 86104400, "body": "If you decided to represent your date as a single number - you could have at least chosen some more reasonable number than <code>Ticks</code>, such as unix timestamp."}], "answers": [{"tags": [], "owner": {"reputation": 4530, "user_id": 1078753, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c97a66302509102c6e04d69b018bf6c2?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan F.", "link": "https://stackoverflow.com/users/1078753/ruslan-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1522278189, "creation_date": 1522278189, "answer_id": 49545538, "question_id": 49545124, "link": "https://stackoverflow.com/questions/49545124/converting-8-bytes-c-datetime-ticks-to-javascript-datetime/49545538#49545538", "title": "Converting 8 bytes (c# datetime ticks) to javascript datetime", "body": "<p>You should use BitConverter again</p>\n\n<pre><code>var ticks = BitConverter.ToInt64(received_Uint8Array);\nvar dateTime = new DateTime(ticks);\n</code></pre>\n\n<p>But as <strong>Camilo Terevinto</strong> mentioned C# has wide system for serealization</p>\n"}], "owner": {"reputation": 1079, "user_id": 388976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2cd2d68533b6dc75a9f8718caec6efb?s=128&d=identicon&r=PG", "display_name": "Gauthier", "link": "https://stackoverflow.com/users/388976/gauthier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522278189, "creation_date": 1522275765, "question_id": 49545124, "link": "https://stackoverflow.com/questions/49545124/converting-8-bytes-c-datetime-ticks-to-javascript-datetime", "title": "Converting 8 bytes (c# datetime ticks) to javascript datetime", "body": "<p>I have a server service that moniters and keeps a bunch of c# client apps updated. some of my packets have dates being sent to the clients. The latest attempt to make some of the clients better (as they all have web browsers that can use websockets. However the c# code has issues sometimes) I figure i could just send the same packets to javascript and parse out what i need.</p>\n\n<p>I would prefer not to change the existing packet and to not create another byte[] with different data to send to the web. Is there anyway to extract the date time from those 8 bytes?</p>\n\n<p>The obvious issue is there is no true long in javascript.\nTherefore the c# way of reconstructing the long will not work</p>\n\n<pre><code>; javascript code to convert 8 bytes into a long\n; shifting the number over 32 bits doesnt work as it goes into javascripts special place.\nvar num = ((arr[0 + offset] | (arr[1 + offset] &lt;&lt; 8)) | (arr[2 + offset] &lt;&lt; 0x10)) | (arr[3 + offset] &lt;&lt; 0x18);\nvar num2 = ((arr[4 + offset] | (arr[5 + offset] &lt;&lt; 8)) | (arr[6 + offset] &lt;&lt; 0x10)) | (arr[7 + offset] &lt;&lt; 0x18);\nreturn num | (num2 &lt;&lt; 0x20);\n</code></pre>\n\n<p>Is there a way to convert the long to javascript datetime?</p>\n\n<pre><code>; C # code\n\n; Time | 3/28/2018 5:40:07 PM\n; actual bytes = [28, 107, 42, 75, 215, 148, 213, 8]\nvar bytes = BitConverter.GetBytes(DateTime.Now.Ticks);\n\n; go through web socket to javascript \n\nvar received_Uint8Array = socket.receive();\n; how to create date from 8 bytes\n</code></pre>\n"}, {"tags": ["c#", "windows", "service"], "comments": [{"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 1, "creation_date": 1522278456, "post_id": 49545110, "comment_id": 86098650, "body": "Is there an actual question here?"}], "answers": [{"tags": [], "owner": {"reputation": 4530, "user_id": 1078753, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c97a66302509102c6e04d69b018bf6c2?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan F.", "link": "https://stackoverflow.com/users/1078753/ruslan-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1522279034, "last_edit_date": 1522279034, "creation_date": 1522278573, "answer_id": 49545604, "question_id": 49545110, "link": "https://stackoverflow.com/questions/49545110/how-to-debug-a-windows-service-in-visual-studio/49545604#49545604", "title": "How to Debug a Windows Service in Visual Studio", "body": "<p>There is anotehr way. I don't know it it will work for Windows Service.<br>\nPut some where in your code from where you want to start debuging </p>\n\n<pre><code>System.Diagnostics.Debugger.Launch();\n</code></pre>\n\n<p>After that you may start your service via service manager or any other way you usally do this.\nThan you will have a promt to select a debuger. Choose an instance of Visual Studio with opened project.</p>\n\n<p>You may not see your instance of Visual Studio until you launch it with admin rights.</p>\n"}], "owner": {"reputation": 11, "user_id": 9566559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ed89ff080a95453bea0848594452a?s=128&d=identicon&r=PG&f=1", "display_name": "terrym", "link": "https://stackoverflow.com/users/9566559/terrym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522279034, "creation_date": 1522275657, "question_id": 49545110, "link": "https://stackoverflow.com/questions/49545110/how-to-debug-a-windows-service-in-visual-studio", "title": "How to Debug a Windows Service in Visual Studio", "body": "<p>I am writing a C# Windows Service to manage two System Services that will help prevent Microsoft from upgrading W10AU (Anniversary Update) to W10CU (Creators Update). Recently Microsoft \"made an error\" and forced updates from v1607 to v17xx even if the user has a Metered Con-nection <em>and</em> had updates disabled or delayed or blocked.</p>\n\n<p>I first wrote a simple C# service 'CronService' based on a tutorial. I have it working, but would like to be able to debug in VS2017. I have debugged DLLs before by loading the DLL, setting breakpoints in the code and then doing 'Run with debug'. This is harder.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-debug-windows-service-applications\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-debug-windows-service-applications</a></p>\n\n<p>This is not as easy as it appears! If you follow the above instructions you will find all breakpoints are disabled \"Breakpoint will not be hit. Symbols are not loaded.\" If you look further, you will find that you have to jump thru hoops by writing another dummy service or ??</p>\n\n<p><a href=\"https://stackoverflow.com/questions/125964/easier-way-to-debug-a-windows-service\">Easier way to debug a Windows service</a></p>\n\n<p>Following one of the suggestions worked for me. Instead of</p>\n\n<pre><code>    public static void Main() {\n        ServiceBase.Run(new CronService());\n    }\n</code></pre>\n\n<p>you code Main() as</p>\n\n<pre><code>    public static void Main() {\n        if (Environment.UserInteractive) {\n            RunInteractive(new CronService());\n        } else {\n            ServiceBase.Run(new CronService());\n        }\n    }\n</code></pre>\n\n<p>then add a function RunInteractive() which you can get from the above link. This method uses Reflection to invoke OnStart() and OnStop().</p>\n\n<p>You still need to compile, install and start the service in the normal way. To debug, follow these steps:-</p>\n\n<ol>\n<li><p>have the project open in VS2017</p></li>\n<li><p>start cron.exe from cmd line; the service should be Running</p>\n\n<p>the cmd window will say \"Press any key to stop the service\"</p></li>\n<li><p>set breakpoints; they are not disabled!</p>\n\n<p>you can even set a breakpoint in OnStart() and OnStop()</p></li>\n<li><p>[>] Start with debug</p>\n\n<p>breakpoints will be hit!</p></li>\n<li><p>to stop debugging press any key in cmd window</p></li>\n</ol>\n"}, {"tags": ["c#", ".net", "unit-testing", "amazon-s3", "moq"], "answers": [{"tags": [], "owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "is_accepted": false, "score": 10, "last_activity_date": 1522274829, "creation_date": 1522274829, "answer_id": 49544952, "question_id": 49544951, "link": "https://stackoverflow.com/questions/49544951/how-to-mock-amazon-s3-client-for-a-net-unit-test/49544952#49544952", "title": "How to mock Amazon S3 Client for a .NET unit test", "body": "<p>Using <code>Moq</code>, adding these constructor args seemed to work okay:</p>\n\n<pre><code>s3ClientMock= new Mock&lt;AmazonS3Client&gt;(\n    FallbackCredentialsFactory.GetCredentials(true), \n    new AmazonS3Config{RegionEndpoint = RegionEndpoint.EUWest1});\n</code></pre>\n\n<p>and then I could setup as normal</p>\n\n<pre><code>Stream GivenDocInS3Bucket(string pathToTestDoc)\n{\n  var docStream = new FileInfo(pathToTestDoc).OpenRead();\n\n  s3ClientMock\n    .Setup(x =&gt; x.GetObjectAsync(\n       It.IsAny&lt;string&gt;(), \n       It.IsAny&lt;string&gt;(), \n       It.IsAny&lt;CancellationToken&gt;()))\n    .ReturnsAsync(\n       (string bucket, string key, CancellationToken ct) =&gt;\n         new GetObjectResponse\n         {\n           BucketName = bucket,\n           Key = key,\n           HttpStatusCode = HttpStatusCode.OK,\n           ResponseStream = docStream,\n         });\n\n  return docStream;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 1, "creation_date": 1522291144, "post_id": 49546748, "comment_id": 86101710, "body": "Or even better - introduce own interface which will wrap required functionality to methods you actually need. Which protect main code base from possible changes Amazon interface will have in the future."}, {"owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "edited": false, "score": 0, "creation_date": 1522341903, "post_id": 49546748, "comment_id": 86130506, "body": "So it does. Now I&#39;m embarrassed I missed it and am torn between accepting your answer and just deleting the question."}, {"owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "reply_to_user": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1522341985, "post_id": 49546748, "comment_id": 86130548, "body": "@Fabio -- why do you think that&#39;s better? More code is worse."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "edited": false, "score": 2, "creation_date": 1522342050, "post_id": 49546748, "comment_id": 86130604, "body": "@ChrisFCarroll it is a valid point. It allows your API to be less fragile to changes made by Amazon to their SDK. As demonstrated by the update you had to make to my answer to take the new SDK versions into consideration."}, {"owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "edited": false, "score": 0, "creation_date": 1522534891, "post_id": 49546748, "comment_id": 86193560, "body": "In most codebases, I think not, because if the SDK changes, your adapter code will likely change in step. My experience of people writing adapters is that it rarely improves a decent API (which someone at least thought about long enough to publish) ; and they often adapt towards specific requirements at the time they adapt. Which sometimes \u2013 not always \u2013 results in adapted adapted code when requirements evolve. So personally I would take the rule of thumb &quot;less is better&quot; before going with &quot;the API might be fragile&quot;"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "edited": false, "score": 0, "creation_date": 1522535062, "post_id": 49546748, "comment_id": 86193604, "body": "@ChrisFCarroll you point is also very valid. I would say do what works best for you."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 16, "last_activity_date": 1522341869, "last_edit_date": 1522341869, "creation_date": 1522287828, "answer_id": 49546748, "question_id": 49544951, "link": "https://stackoverflow.com/questions/49544951/how-to-mock-amazon-s3-client-for-a-net-unit-test/49546748#49546748", "title": "How to mock Amazon S3 Client for a .NET unit test", "body": "<p>Instead of tightly coupling the code to implementation concerns, take note that <a href=\"https://docs.aws.amazon.com/sdkfornet1/latest/apidocs/html/T_Amazon_S3_AmazonS3Client.htm\" rel=\"noreferrer\"><code>AmazonS3Client</code></a> class implements <a href=\"https://docs.aws.amazon.com/sdkfornet/v3/apidocs/items/S3/TIS3.html\" rel=\"noreferrer\"><code>IAmazonS3</code></a> (v2,v3) or <a href=\"https://docs.aws.amazon.com/sdkfornet1/latest/apidocs/html/T_Amazon_S3_AmazonS3.htm\" rel=\"noreferrer\"><code>AmazonS3</code></a> (v1) interface according to referenced AWS SDK for .NET Documentation.</p>\n\n<pre><code>public class AmazonS3Client : IAmazonS3, IDisposable {\n    //...\n}\n</code></pre>\n\n<p>I would suggest you have your code depend on the abstraction (<em>interface</em>) and not on the implementation (<em>class</em>).</p>\n\n<pre><code>public class MyClass {\n    private readonly IAmazonS3 client;\n\n    public MyClass(IAmazonS3 client) {\n        this.client = client;\n    }\n\n    //...\n}\n</code></pre>\n\n<p>That would then allow greater flexibility when swapping dependencies with mocks when testing in isolation. </p>\n\n<p>You have already experienced that added dependencies needed to mock the implementation of <code>AmazonS3Client</code> which can be avoided if the interface is used as the dependency.</p>\n\n<pre><code>s3ClientMock = new Mock&lt;IAmazonS3&gt;();\n</code></pre>\n\n<p>The <code>Setup</code> of the mocked interface can be done as you would normally as already demonstrated in your answer.</p>\n\n<p>In production the properly configured implementation can be injected into dependent classes.</p>\n"}], "owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8754, "favorite_count": 3, "accepted_answer_id": 49546748, "answer_count": 2, "score": 7, "last_activity_date": 1522341869, "creation_date": 1522274829, "last_edit_date": 1522287944, "question_id": 49544951, "link": "https://stackoverflow.com/questions/49544951/how-to-mock-amazon-s3-client-for-a-net-unit-test", "title": "How to mock Amazon S3 Client for a .NET unit test", "body": "<p>I note that the important members of <code>AmazonS3Client</code> are <em>virtual</em>, so a <code>Mock&lt;AmazonS3Client&gt;</code> should be easy. But</p>\n\n<pre><code>new Mock&lt;AmazonS3Client&gt;()\n</code></pre>\n\n<p>using Moq, got me an error saying that there was no valid <code>RegionEndpoint</code>.</p>\n\n<p>So obviously a little more is required.</p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1522279090, "post_id": 49544942, "comment_id": 86098793, "body": "What errors you are getting? Where is the code which narrows down the nearest bust stop?"}], "answers": [{"tags": [], "owner": {"reputation": 1155, "user_id": 7738142, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NLEMk.jpg?s=128&g=1", "display_name": "McMurphy", "link": "https://stackoverflow.com/users/7738142/mcmurphy"}, "is_accepted": true, "score": 0, "last_activity_date": 1522285726, "creation_date": 1522285726, "answer_id": 49546516, "question_id": 49544942, "link": "https://stackoverflow.com/questions/49544942/how-to-display-closest-location-on-google-map-from-a-list-of-locations-based-on/49546516#49546516", "title": "How to display closest location on google map from a list of locations based on lat and lng", "body": "<p>A question I've been meaning to ask is the best way to first narrow search down to city or the lat/lng coordinates of the screen but to answer your question: -</p>\n\n<p>Throws a circle around the user's location of Xm radius and then search for bus stops in/out of the circle: -</p>\n\n<pre><code>Tier3Toolbox.EARTH_RADIUS = 6378137; /* Equitorial Radius instead of 6371000 */\nTier3Toolbox.toRad = \n    function (num) {\n        return num * Math.PI / 180;\n    };  \nTier3Toolbox.calculateDistance =\n    function(lat1, lon1, lat2, lon2){\n        var dLat = this.toRad(lat2 - lat1);\n        var dLon = this.toRad(lon2 - lon1);\n        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(this.toRad(lat1)) * \n                Math.cos(this.toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n        var distance = this.EARTH_RADIUS * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        return distance;\n    }\n</code></pre>\n\n<p>Then I use a worker to do the filtering so that the UI event loop is free: -</p>\n\n<pre><code>importScripts(\"Tier3Toolbox.js\");\n\nvar currVintage = 0;\nvar inBounds = false;\nvar facFilter = [];\nvar imageProlog = \"&lt;div style='height:5em; width:5em; display:inline-block;vertical-align:middle;'&gt;\" +\n                  \"&lt;img style='height:100%; width: 100%; max-height:100%; max-width:100%' src='\";\nvar imageEpilog = \"' &gt;&lt;/div&gt;\";\nvar facilityTable, lineBreak;\n\nself.addEventListener('message', function(e) \n{\n  var data = e.data;\n  switch (data.cmd) {\n    case 'init':\n      initThread(data.load);\n      break;\n    case 'initFilter':\n      for (var i=0; i&lt;data.filterTable.length; i++) {\n        facFilter[data.filterTable[i].locTypeId] = {'icon':data.filterTable[i].icon};\n      }\n      break;\n    case 'filter':\n      facFilter = [];\n      for (var i=0; i&lt;data.filterTable.length; i++) {\n        if (data.filterTable[i].facSelected)\n          facFilter[data.filterTable[i].locTypeId] = {'icon':data.filterTable[i].icon};\n      }\n      break;\n    case 'search':\n      var searchVintage = ++currVintage;\n      var tableSearch = new searcher(searchVintage, data);\n      break;\n    case 'reset':\n      reset();\n      self.postMessage({'reset': true});\n      break;\n    case 'stop':\n      self.postMessage({'success' : true});\n      self.close(); \n      break;\n    default:\n      self.postMessage({'success' : false, 'msg' : data.msg});\n  };\n}, false);\n\nfunction initThread(msg) \n{\n    facilityTable = JSON.parse(msg);\n    reset();\n\n    self.postMessage({'success' : true, \n                      'cnt'     : facilityTable.length\n                    });     \n}   \n\nfunction reset() \n{\n    for (var i=0; i&lt;facilityTable.length; i++) {\n        facilityTable[i].visible=false\n    }\n    currVintage = 0;\n}   \n\nfunction searcher(searchVintage, msg)\n{\n    var myVintage = searchVintage;\n    var facIndex  = -1;\n    var msg       = msg;\n\n    var checkLoop = function()\n    {\n        if (myVintage != currVintage)\n            return;\n\n        if (++facIndex == facilityTable.length)\n            return;\n\n        inBounds = geoFencer.call(this, msg);\n\n        if (inBounds) {\n            var facMatch = 0;\n            var bubbleHTML = \"\";\n            for (var i=0; i&lt;facilityTable[facIndex].facilities.length; i++){\n                var currFac = facilityTable[facIndex].facilities[i];\n                if (facFilter[currFac.locTypeId] != undefined) {\n                    if (facMatch != 0) {\n                        lineBreak = (facMatch / 3);\n                        if (lineBreak == lineBreak.toFixed(0)) {\n                            bubbleHTML += \"&lt;br /&gt;\";\n                        }\n                    }\n                    facMatch++;\n                    bubbleHTML += imageProlog + facFilter[currFac.locTypeId].icon + imageEpilog;\n\n                }\n            }\n            if (facMatch == 0) {\n                inBounds = false;\n            }\n        }\n\n        if (inBounds != facilityTable[facIndex].visible) {\n            self.postMessage({'match'       : inBounds,\n                              'facIndex'    : facIndex,\n                              'scopeVintage': msg.scopeVintage,\n                              'bubbleHTML'  : bubbleHTML,\n                              'success'     : true\n                            }); \n            facilityTable[facIndex].visible = inBounds;\n        }\n\n        setTimeout(checkLoop,0);\n    }\n\n    var circleCheck = function(msg) \n    {\n        var diff = Tier3Toolbox.calculateDistance(\n                        msg.centerLat,\n                        msg.centerLng,\n                        facilityTable[facIndex].searchLat,\n                        facilityTable[facIndex].searchLng);\n\n        if (msg.radius &gt; diff)\n            return true;        \n\n        return false;\n    }\n\n    var rectangleCheck = function(msg) \n    {\n        if (facilityTable[facIndex].searchLat &gt; msg.SWLat &amp;&amp;\n            facilityTable[facIndex].searchLat &lt; msg.NELat &amp;&amp;\n            facilityTable[facIndex].searchLng &gt; msg.SWLng &amp;&amp;\n            facilityTable[facIndex].searchLng &lt; msg.NELng)\n            return true;        \n\n        return false;\n    }\n\n    var GEOFENCER = [circleCheck,rectangleCheck];\n    var geoFencer = GEOFENCER[msg.checker];\n\n    setTimeout(checkLoop,0);\n    return this;\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9546599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bac326b79be41a554482bad90482310?s=128&d=identicon&r=PG&f=1", "display_name": "Student04", "link": "https://stackoverflow.com/users/9546599/student04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 49546516, "answer_count": 1, "score": 0, "last_activity_date": 1522285726, "creation_date": 1522274799, "last_edit_date": 1522285419, "question_id": 49544942, "link": "https://stackoverflow.com/questions/49544942/how-to-display-closest-location-on-google-map-from-a-list-of-locations-based-on", "title": "How to display closest location on google map from a list of locations based on lat and lng", "body": "<p>So I have list of latitudes and longitudes of bus stops that I passed from controller to view (javascript). </p>\n\n<p>We are able to display all bus stops on google map using their lat and lng. </p>\n\n<p>sample code:\nindex.cshtml</p>\n\n<pre><code>&lt;script&gt;\n\n\nvar x = document.getElementById(\"demo\");\n\nfunction getLocation() {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(showPosition);\n    } else { \n        x.innerHTML = \"Geolocation is not supported by this browser.\";\n    }\n}\n\n//get my current lat and lng\nfunction showPosition(position) {\n    x.innerHTML = \"Latitude: \" + position.coords.latitude + \n    \"&lt;br&gt;Longitude: \" + position.coords.longitude;\n}\n\nvar markersArray = [];\n\n    @foreach (var item in ViewBag.stoplatLngList){\n\n       &lt;text&gt;\n\n             markersArray.push(new google.maps.Marker({\n                 draggable: true,\n                 position: new google.maps.LatLng('@item.stop_Lat', '@item.stop_Lng', false),\n                 title: 'Whatever title',\n                 map: map\n             }));\n        &lt;/text&gt;\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>we also have the user's current lat and lng. however, when we try to narrow the total list of bus stops to just ones within a specified range of the user's lat and lng. ideally we were considering an IF statement where we could subtract or use absolute value to establish the range within which we could get bus stops. however, we have been unsuccessful. </p>\n\n<p>basically, how can we narrow the complete list of bus stops just to ones within user's range?</p>\n\n<p>and just a little bit of my controller code</p>\n\n<p>controller.cs</p>\n\n<pre><code>List&lt;StopLatLng&gt; stoplatLngList = new List&lt;StopLatLng&gt;();\nViewData[\"stoplatLngList\"] = stoplatLngList;\nreturn View();\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1522274263, "post_id": 49544795, "comment_id": 86097328, "body": "What do you mean multiple id&#39;s, instead of returning a specific id you want to grab a batch of records with those id&#39;s?"}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1522274274, "post_id": 49544795, "comment_id": 86097338, "body": "<code>($&quot;SELECT * FROM SOMEOBJECT WHERE id IN (1,2,3,4)&quot;)</code>"}, {"owner": {"reputation": 3402, "user_id": 3628863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1lHi.jpg?s=128&g=1", "display_name": "Joe Farrell", "link": "https://stackoverflow.com/users/3628863/joe-farrell"}, "edited": false, "score": 0, "creation_date": 1522274450, "post_id": 49544795, "comment_id": 86097411, "body": "<a href=\"https://stackoverflow.com/questions/5595353/how-to-pass-table-value-parameters-to-stored-procedure-from-net-code\" title=\"how to pass table value parameters to stored procedure from net code\">stackoverflow.com/questions/5595353/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9566597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgWen.jpg?s=128&g=1", "display_name": "Maya Rager", "link": "https://stackoverflow.com/users/9566597/maya-rager"}, "edited": false, "score": 1, "creation_date": 1522274546, "post_id": 49544833, "comment_id": 86097445, "body": "thank you this sovled the issue, i can not vote, but will accept this"}], "tags": [], "owner": {"reputation": 21321, "user_id": 3088349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5cbe13d76e559198ea6857799b044b?s=128&d=identicon&r=PG", "display_name": "maytham-\u026f\u0250\u0265\u0287\u028e\u0250\u026f", "link": "https://stackoverflow.com/users/3088349/maytham-%c9%af%c9%90%c9%a5%ca%87%ca%8e%c9%90%c9%af"}, "is_accepted": true, "score": 6, "last_activity_date": 1552556925, "last_edit_date": 1552556925, "creation_date": 1522274333, "answer_id": 49544833, "question_id": 49544795, "link": "https://stackoverflow.com/questions/49544795/sql-query-with-multiple-ids-in-net/49544833#49544833", "title": "Sql query with multiple ids in .NET", "body": "<p>This can be achieved different ways. I would suggest one way to go is using <code>Join</code> method.</p>\n\n<pre><code>var ids = string.Join(\",\", listOfIds)\n</code></pre>\n\n<p>This would return a list of <code>{1, 2, 3}</code> to string of <code>1, 2, 3</code></p>\n\n<p>So putting that together with your final method would look like this:</p>\n\n<pre><code>public List&lt;SomeObj&gt; LoadSomeData(List&lt;int&gt; listOfIds)\n{\n    var ids = string.Join(\",\", listOfIds)\n    using (var context = new KmdDataContext())\n    {\n        var result = \n            context.Database.SqlQuery&lt;SomeObj&gt;\n            ($\"SELECT * FROM SOMEOBJECT WHERE id IN ({Ids})\")\n        return result;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "is_accepted": false, "score": 4, "last_activity_date": 1522274690, "last_edit_date": 1522274690, "creation_date": 1522274346, "answer_id": 49544838, "question_id": 49544795, "link": "https://stackoverflow.com/questions/49544795/sql-query-with-multiple-ids-in-net/49544838#49544838", "title": "Sql query with multiple ids in .NET", "body": "<p>You can pass them by generating the list:</p>\n\n<pre><code>var idList = string.Join(\",\", listOfIds);\n$\"SELECT * FROM SOMEOBJECT WHERE id IN ({idList})\")\n</code></pre>\n\n<p>But if the list gets big (from memory, more than 2000 or so) that will fail. If you need more than that, use a <a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/tables/use-table-valued-parameters-database-engine\" rel=\"nofollow noreferrer\">Table-Valued Parameter</a> - a bit more effort to set up, but they are very neat and scalable.</p>\n"}, {"comments": [{"owner": {"reputation": 736, "user_id": 7120278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZeMc.jpg?s=128&g=1", "display_name": "Ahmad.Tr", "link": "https://stackoverflow.com/users/7120278/ahmad-tr"}, "edited": false, "score": 0, "creation_date": 1522274563, "post_id": 49544863, "comment_id": 86097454, "body": "I guess i was a bit slow , the guys answered the same as i did . +1  for them"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1522276255, "post_id": 49544863, "comment_id": 86098034, "body": "Since .Net 4 you don&#39;t have to create an array with <code>ToArray()</code> as you can pass an <code>IEnumerable&lt;string&gt;</code>"}, {"owner": {"reputation": 21321, "user_id": 3088349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5cbe13d76e559198ea6857799b044b?s=128&d=identicon&r=PG", "display_name": "maytham-\u026f\u0250\u0265\u0287\u028e\u0250\u026f", "link": "https://stackoverflow.com/users/3088349/maytham-%c9%af%c9%90%c9%a5%ca%87%ca%8e%c9%90%c9%af"}, "edited": false, "score": 1, "creation_date": 1522276352, "post_id": 49544863, "comment_id": 86098067, "body": "Ahmad listofids already a list why would you convert it to array? and join is with capital Join. but else you get my vote as well."}], "tags": [], "owner": {"reputation": 736, "user_id": 7120278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZeMc.jpg?s=128&g=1", "display_name": "Ahmad.Tr", "link": "https://stackoverflow.com/users/7120278/ahmad-tr"}, "is_accepted": false, "score": 2, "last_activity_date": 1522276474, "last_edit_date": 1522276474, "creation_date": 1522274425, "answer_id": 49544863, "question_id": 49544795, "link": "https://stackoverflow.com/questions/49544795/sql-query-with-multiple-ids-in-net/49544863#49544863", "title": "Sql query with multiple ids in .NET", "body": "<p>Try <code>String.Join(\",\", listofids)</code> to convert the list into a comma separated string that you can use in the In part of the sql query</p>\n"}, {"comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1522275243, "post_id": 49544940, "comment_id": 86097720, "body": ".. where do the values 5 and 10 come from?"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1522275618, "post_id": 49544940, "comment_id": 86097840, "body": "@stuartd Just used it as a basic where clause to filter the collection down to place the range.  Assuming the list has more than he would like to actually query against."}], "tags": [], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "is_accepted": false, "score": 1, "last_activity_date": 1522274772, "creation_date": 1522274772, "answer_id": 49544940, "question_id": 49544795, "link": "https://stackoverflow.com/questions/49544795/sql-query-with-multiple-ids-in-net/49544940#49544940", "title": "Sql query with multiple ids in .NET", "body": "<p>If you already have a collection, you could simply do.</p>\n\n<pre><code>var ids = String.Join(\",\", parameters.Where(value =&gt; value &gt; 5 &amp;&amp; value &lt; 10));\n</code></pre>\n\n<p>Now you would be able to pass the variable to query.</p>\n\n<pre><code>var query = $\"SELECT * FROM ... WHERE Id IN ({ids})\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "is_accepted": false, "score": 0, "last_activity_date": 1522277877, "creation_date": 1522277877, "answer_id": 49545492, "question_id": 49544795, "link": "https://stackoverflow.com/questions/49544795/sql-query-with-multiple-ids-in-net/49545492#49545492", "title": "Sql query with multiple ids in .NET", "body": "<p>Here is an approach using <code>LINQ</code> and <code>Entity Framework</code>.  From your example, there is no apparent need to use raw <code>SQL</code>.</p>\n\n<pre><code>public List&lt;SomeObj&gt; LoadSomeData(List&lt;int&gt; listOfIds)\n{\n    using (var context = new DataContext())\n    {\n        return context.SomeObj.Where(x =&gt; listOfIds.Contains(x.id)).ToList();\n    }\n}\n</code></pre>\n\n<p>This is the equivalent to <code>WHERE id in (1,2,3)</code></p>\n"}], "owner": {"reputation": 55, "user_id": 9566597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgWen.jpg?s=128&g=1", "display_name": "Maya Rager", "link": "https://stackoverflow.com/users/9566597/maya-rager"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "accepted_answer_id": 49544833, "answer_count": 5, "score": 3, "last_activity_date": 1552556925, "creation_date": 1522274078, "last_edit_date": 1522367870, "question_id": 49544795, "link": "https://stackoverflow.com/questions/49544795/sql-query-with-multiple-ids-in-net", "title": "Sql query with multiple ids in .NET", "body": "<p>I have following method</p>\n\n<pre><code>public SomeObj LoadSomeData(int id)\n{\n    using (var context = new DataContext())\n    {\n        var result = \n            context.Database.SqlQuery&lt;SomeObj&gt;\n            ($\"SELECT * FROM SOMEOBJECT WHERE id = {id}\")\n        return result;\n    }\n}\n</code></pre>\n\n<p>This works fine, now the specification has changed, and I need to lookup multiple <code>ids</code>. I get ids as list of int and return a list. I read a bit about Sql Query and I can use <code>IN</code> and pass multiple values. So this is my changes:</p>\n\n<pre><code>public List&lt;SomeObj&gt; LoadSomeData(List&lt;int&gt; listOfIds)\n{\n    using (var context = new DataContext())\n    {\n        var result = \n            context.Database.SqlQuery&lt;SomeObj&gt;\n            ($\"SELECT * FROM SOMEOBJECT WHERE id IN ({id})\") &lt;-- I am not sure how to pass list in \n        return result;\n    }\n}\n</code></pre>\n\n<p>The second method works when I pass values manually to the query like 1,2,3 etc. but how can I pass list of to query?</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1522274390, "post_id": 49544770, "comment_id": 86097389, "body": "Why do you want to do this?  The whole point of most ORMs is to materialize run-time classes that represent rows in a database."}, {"owner": {"reputation": 4450, "user_id": 1831054, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2fb38aeeabb5903d65185c35a05ae352?s=128&d=identicon&r=PG", "display_name": "Suamere", "link": "https://stackoverflow.com/users/1831054/suamere"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1522276597, "post_id": 49544770, "comment_id": 86098136, "body": "@ErikPhilips This is the standard method for selecting specific columns (or, IOW, omitting specific columns) when selecting data.  If a table has an inordinate number of columns, or certain columns with an inordinate amount of data, which is unnecessary to pull back from the database, you perform an anonymous selection on the queryable, then re-materialize it into the Entity."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1522279017, "post_id": 49544770, "comment_id": 86098777, "body": "Then don&#39;t use Entity FrameWork or any ORM for that matter when doing that.  <a href=\"https://stackoverflow.com/questions/4873607/how-to-use-dbcontext-database-sqlquerytelementsql-params-with-stored-proced\">You can use EF to make your own calls via <code>DbContext.Database.SqlQuery&lt;T&gt;()</code></a> and materialize the objects with the properties you don&#39;t need.  Otherwise don&#39;t use EF if you aren&#39;t going to map them to real objects."}], "owner": {"reputation": 4450, "user_id": 1831054, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2fb38aeeabb5903d65185c35a05ae352?s=128&d=identicon&r=PG", "display_name": "Suamere", "link": "https://stackoverflow.com/users/1831054/suamere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522274339, "creation_date": 1522273929, "last_edit_date": 1522274339, "question_id": 49544770, "link": "https://stackoverflow.com/questions/49544770/select-specific-columns-with-multi-depth-include", "title": "Select Specific Columns with Multi-Depth Include", "body": "<p>I am selecting an Anonymous Object in Entity Framework.  I am including Sub-Properties into the Anonymous Object.</p>\n\n<p>This is very similar to the <a href=\"https://stackoverflow.com/questions/29449038/select-specific-columns-when-using-include-statement-with-entity-framework\">question here</a>.  The difference is, I am including multiple (two) levels deep.</p>\n\n<p>For example:</p>\n\n<pre><code>context.Items.Include(x =&gt; x.ChildItems.Select(y =&gt; y.House)).ToList();\n//                                     ^^^^^^^^^^^^^^^^^^^^^\n</code></pre>\n\n<p>With the basic selection above, ChildItems and their associated House are all populated.  But if I try to select an anonymous object like below, the ChildItems exist, but their House item is null.</p>\n\n<pre><code>context.Items.Include(x =&gt; x.ChildItems.Select(y =&gt; y.House))\n    .Select(x =&gt; new\n    {\n        x.ItemID,\n        x.OtherInfo,\n        x.ChildItems,\n    }).ToList();\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 0, "creation_date": 1522273390, "post_id": 49544607, "comment_id": 86096988, "body": "<a href=\"https://stackoverflow.com/a/38574489/84206\">stackoverflow.com/a/38574489/84206</a>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1522273899, "post_id": 49544607, "comment_id": 86097190, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31243068/access-the-current-httpcontext-in-asp-net-core\">Access the current HttpContext in ASP.NET Core</a>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 1, "creation_date": 1522274032, "post_id": 49544607, "comment_id": 86097242, "body": "@JuanR It&#39;s weird to need that in ASP.NET Core. You should first ask where the OP is attempting to get the URL before blindly injecting that accessor"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1522274899, "post_id": 49544607, "comment_id": 86097588, "body": "What are you trying to do exactly?"}, {"owner": {"reputation": 5363, "user_id": 2588374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16c7f89aef99ff0fb791c6d5cd7671d?s=128&d=identicon&r=PG", "display_name": "Tratcher", "link": "https://stackoverflow.com/users/2588374/tratcher"}, "edited": false, "score": 0, "creation_date": 1522284583, "post_id": 49544607, "comment_id": 86100158, "body": "The full URL is at best a reconstruction, it&#39;s not transmitted like that in the request. You also need to consider the encoding."}, {"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1522356558, "post_id": 49544607, "comment_id": 86137799, "body": "Are you trying to get the URL of <i>current</i> page, or <i>another</i> page?"}, {"owner": {"reputation": 36, "user_id": 8612328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d7de60b017212ef7fb775aa9e6eeb4?s=128&d=identicon&r=PG&f=1", "display_name": "Austin VB", "link": "https://stackoverflow.com/users/8612328/austin-vb"}, "reply_to_user": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1522430284, "post_id": 49544607, "comment_id": 86164772, "body": "@NightOwl888 The current page."}], "owner": {"reputation": 36, "user_id": 8612328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d7de60b017212ef7fb775aa9e6eeb4?s=128&d=identicon&r=PG&f=1", "display_name": "Austin VB", "link": "https://stackoverflow.com/users/8612328/austin-vb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522273992, "creation_date": 1522273152, "last_edit_date": 1522273992, "question_id": 49544607, "link": "https://stackoverflow.com/questions/49544607/how-do-i-get-full-url-of-a-page", "title": "How do I get full URL of a page?", "body": "<p>I am trying to get the full URL of a page using C# Razor code (ex: <code>https://stackoverflow.com/questions/ask</code>). </p>\n\n<p>When I tried looking up how to do this, everyone has access to <code>Request.Url</code>, <code>HttpContent.Current.Request</code>, or something similar. However, these are not available to me (I'm assuming becuase I am using .NET Core, not sure).</p>\n\n<p>Has anyone found a way to do this?</p>\n"}, {"tags": ["c#", ".net", "dynamic", "mono"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1522273281, "post_id": 49544591, "comment_id": 86096943, "body": "What JSON provider are you using? What happens if you try your syntax? You can&#39;t generate a class at runtime and use it at compile/development time."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 3, "creation_date": 1522273338, "post_id": 49544591, "comment_id": 86096966, "body": "You can use <a href=\"https://www.c-sharpcorner.com/article/how-to-paste-json-as-classes-or-xml-as-classes-in-visual-stu/\" rel=\"nofollow noreferrer\">Paste JSON as Classes</a>"}, {"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1522273608, "post_id": 49544591, "comment_id": 86097078, "body": "The only way to do this is to know ahead of time what the JSON format/class will be, and create that class."}, {"owner": {"reputation": 102, "user_id": 1973207, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/557d7fa74d7ec23c6726f1c16986b032?s=128&d=identicon&r=PG", "display_name": "DuckQueen", "link": "https://stackoverflow.com/users/1973207/duckqueen"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1522275163, "post_id": 49544591, "comment_id": 86097692, "body": "@JSteward: It solved it all for me!=)))"}], "answers": [{"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 3, "last_activity_date": 1522281502, "creation_date": 1522281502, "answer_id": 49545998, "question_id": 49544591, "link": "https://stackoverflow.com/questions/49544591/how-to-create-c-class-code-from-dynamic-object/49545998#49545998", "title": "How to create C# class code from dynamic object?", "body": "<p>Generating a type at run-time isn't going to help you much because you need the type at compile time in order to get early binding, type safety, and Intellisense. A much more practical idea would be to do the following:</p>\n\n<ol>\n<li><p>Get a representative sample of a JSON string from your logs.</p></li>\n<li><p><a href=\"https://www.c-sharpcorner.com/article/how-to-paste-json-as-classes-or-xml-as-classes-in-visual-stu/\" rel=\"nofollow noreferrer\">Paste the JSON</a> into a class and save it as c# code in your project.</p></li>\n<li><p>Start using the class as the type argument to your deserialization call.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/fN2Se.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fN2Se.png\" alt=\"enter image description here\"></a></p>\n\n<p>After you do this, you will have the correct class in your code base and you can compile against it. If the folks that send you the JSON decide to change the message, any new fields will be ignored. If they start removing things though then you have problems, just as if they had changed the WSDL for a SOAP service. You will have to repeat the above steps, and correct any breaking changes in your code. The nice thing is that you will <em>have</em> the breaking changes to guide you at compile time :)</p>\n"}], "owner": {"reputation": 102, "user_id": 1973207, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/557d7fa74d7ec23c6726f1c16986b032?s=128&d=identicon&r=PG", "display_name": "DuckQueen", "link": "https://stackoverflow.com/users/1973207/duckqueen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 49545998, "answer_count": 1, "score": 0, "last_activity_date": 1522281502, "creation_date": 1522273059, "question_id": 49544591, "link": "https://stackoverflow.com/questions/49544591/how-to-create-c-class-code-from-dynamic-object", "title": "How to create C# class code from dynamic object?", "body": "<p>Someone send JSON to me. It has same format each time. It can be deserialised into dynamic object with <code>var dyn = JsonConvert.DeserializeObject&lt;dynamic&gt;(rawJson);</code>. Documentation is bad for my current version or JSON provider while I want to have code-hilighting on all the fields I get. </p>\n\n<p>How to get C# class code from dynamic object so that I could then deserialise into that generated type instead of dynamic object with <code>var oldschool = JsonConvert.DeserializeObject&lt;GeneratedTypeFromDynamicObject&gt;(rawJson);</code>?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-identity", "smartadmin"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 3, "creation_date": 1522282671, "post_id": 49544588, "comment_id": 86099703, "body": "You are not comparing the password anywhere in the code. You are just getting user details by email from database and signs in the user if user exists. You need to check the password too if user is found and if password matches then only you should sign in the user."}, {"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 0, "creation_date": 1522414856, "post_id": 49544588, "comment_id": 86157216, "body": "what does <code>SignInAsync</code> method look like?"}, {"owner": {"reputation": 1664, "user_id": 1181309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b596f6463cf41af696196501024145f?s=128&d=identicon&r=PG", "display_name": "tintyethan", "link": "https://stackoverflow.com/users/1181309/tintyethan"}, "edited": false, "score": 0, "creation_date": 1522428204, "post_id": 49544588, "comment_id": 86163784, "body": "added signinasync"}], "answers": [{"comments": [{"owner": {"reputation": 11466, "user_id": 3667938, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/60005b5f4fa0a22e7e1cfbc9032da272?s=128&d=identicon&r=PG&f=1", "display_name": "Kahbazi", "link": "https://stackoverflow.com/users/3667938/kahbazi"}, "reply_to_user": {"reputation": 1664, "user_id": 1181309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b596f6463cf41af696196501024145f?s=128&d=identicon&r=PG", "display_name": "tintyethan", "link": "https://stackoverflow.com/users/1181309/tintyethan"}, "edited": false, "score": 1, "creation_date": 1522435543, "post_id": 49560604, "comment_id": 86167207, "body": "The source is in the github"}], "tags": [], "owner": {"reputation": 11466, "user_id": 3667938, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/60005b5f4fa0a22e7e1cfbc9032da272?s=128&d=identicon&r=PG&f=1", "display_name": "Kahbazi", "link": "https://stackoverflow.com/users/3667938/kahbazi"}, "is_accepted": true, "score": 2, "last_activity_date": 1522339694, "creation_date": 1522339694, "answer_id": 49560604, "question_id": 49544588, "link": "https://stackoverflow.com/questions/49544588/any-password-is-working-with-smartadmin-mvc/49560604#49560604", "title": "Any password is working with SmartAdmin MVC", "body": "<p>If <code>username</code> in your system is <code>email</code>, you should use </p>\n\n<pre><code>var user = _manager.FindAsync(viewModel.Email, viewModel.Password);\n</code></pre>\n\n<p>and then signin the user if it's not null.</p>\n\n<p>If <code>username</code> is not <code>email</code>, you should first get the <code>user</code> and then check for password</p>\n\n<pre><code>var user = _manager.FindByEmail(viewModel.Email);\nbool isPasswordCorrect = await _manager.CheckPasswordAsync(user, viewModel.Password);\n</code></pre>\n"}], "owner": {"reputation": 1664, "user_id": 1181309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b596f6463cf41af696196501024145f?s=128&d=identicon&r=PG", "display_name": "tintyethan", "link": "https://stackoverflow.com/users/1181309/tintyethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 49560604, "answer_count": 1, "score": 1, "last_activity_date": 1522428182, "creation_date": 1522273041, "last_edit_date": 1522428182, "question_id": 49544588, "link": "https://stackoverflow.com/questions/49544588/any-password-is-working-with-smartadmin-mvc", "title": "Any password is working with SmartAdmin MVC", "body": "<p>I'm able to authenticate using anything for a password. The email has to be a valid registered email, but the pwd doesn't matter. Everything else is working normally.</p>\n\n<p>Any suggestions on where to start trouble shooting this? I haven't found any similar issues in web searches.</p>\n\n<p>My view...</p>\n\n<p>My action in the account controller...</p>\n\n<pre><code> [HttpPost]\n    [AllowAnonymous]\n    [ValidateAntiForgeryToken]\n    public async Task&lt;ActionResult&gt; Login(AccountLoginModel viewModel)\n    {\n        if (!ModelState.IsValid)\n            return View(viewModel);\n\n        var user = _manager.FindByEmail(viewModel.Email);\n\n        if (user != null)\n        {\n            await SignInAsync(user, viewModel.RememberMe);\n\n            string uid = user.Id;\n            return RedirectToLocal(viewModel.ReturnUrl);\n        }\n\n        ModelState.AddModelError(\"\", \"Invalid username or password.\");\n\n        return View(viewModel);\n    }\n</code></pre>\n\n<p>and the signinasync method...</p>\n\n<pre><code>private async Task SignInAsync(IdentityUser user, bool isPersistent)\n    {\n        // Clear any lingering authencation data\n        FormsAuthentication.SignOut();\n\n        // Create a claims based identity for the current user\n        var identity = await _manager.CreateIdentityAsync(user, DefaultAuthenticationTypes.ApplicationCookie);\n\n        // Write the authentication cookie\n        FormsAuthentication.SetAuthCookie(identity.Name, isPersistent);\n    }\n</code></pre>\n\n<p>I did create a seperate MVC web project to see the scaffolded login action, which is quite a bit different. The SmartAdmin template is customized enough that its difficult to start changing things without knowing what I'm effecting. Any direction is appreciated.</p>\n"}, {"tags": ["c#", "wcf"], "comments": [{"owner": {"reputation": 364, "user_id": 2313323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qkiTu.png?s=128&g=1", "display_name": "pagratios", "link": "https://stackoverflow.com/users/2313323/pagratios"}, "edited": false, "score": 0, "creation_date": 1522277393, "post_id": 49544580, "comment_id": 86098353, "body": "If you try a concrete class instead of ICollection etc List&lt;Organization&gt; does it change anything?"}, {"owner": {"reputation": 1, "user_id": 9566469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07a1a11d596432193d985ece9d07dab9?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna Ramsey", "link": "https://stackoverflow.com/users/9566469/jenna-ramsey"}, "reply_to_user": {"reputation": 364, "user_id": 2313323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qkiTu.png?s=128&g=1", "display_name": "pagratios", "link": "https://stackoverflow.com/users/2313323/pagratios"}, "edited": false, "score": 0, "creation_date": 1522325605, "post_id": 49544580, "comment_id": 86118813, "body": "Nope, I thought of that and the same behavior persists.  Considering that Soap UI can serialize to the service without issue, I think there&#39;s something wrong with my test app.  It&#39;s a simple console app in which I added a service reference to the WCF service... nothing I haven&#39;t done a thousand times before.  I&#39;m truly stumped here."}, {"owner": {"reputation": 364, "user_id": 2313323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qkiTu.png?s=128&g=1", "display_name": "pagratios", "link": "https://stackoverflow.com/users/2313323/pagratios"}, "edited": false, "score": 0, "creation_date": 1522351626, "post_id": 49544580, "comment_id": 86135465, "body": "Does this answer <a href=\"https://stackoverflow.com/questions/9780766/wcf-serialization-exception-netdatacontractserializer\" title=\"wcf serialization exception netdatacontractserializer\">stackoverflow.com/questions/9780766/&hellip;</a> helps?"}], "owner": {"reputation": 1, "user_id": 9566469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07a1a11d596432193d985ece9d07dab9?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna Ramsey", "link": "https://stackoverflow.com/users/9566469/jenna-ramsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522273269, "creation_date": 1522273003, "last_edit_date": 1522273269, "question_id": 49544580, "link": "https://stackoverflow.com/questions/49544580/wcf-returning-serialization-exception-when-using-net-client-but-not-soap-ui", "title": "WCF returning serialization exception when using .Net client but not Soap UI", "body": "<p>I have an object called Organization that represents different rows in a database table called ORGANIZATION.  Some organizations represent merchants and the merchant can have a \"MerchantAux\" record.  </p>\n\n<p>The Organization class looks like this:</p>\n\n<pre><code>    [DataContract]\n    public class Organization : Core.Framework.BaseEntity\n    {\n        [Key]\n        [DataMember]\n        public int Id { get; set; }\n        [DataMember]\n        public string Name { get; set; }\n\n        [DataMember]\n        public virtual MerchantAux MerchantAuxRecord { get; set; }\n\n        public Organization()\n        {\n        }\n    }\n</code></pre>\n\n<p>The MerchantAux class looks like this:</p>\n\n<pre><code>    [DataContract]\n    public class MerchantAux : BaseEntity\n    {\n        [Key]\n        [DataMember]\n        public int Code { get; set; }\n        [DataMember]\n        public int SettlementDelay { get; set; }\n        [DataMember]\n        public Nullable&lt;System.Guid&gt; WalletSiteId { get; set; }\n        [DataMember]\n        public bool? AddCardNotPresent { get; set; }\n        [DataMember]\n        public bool? BatchEmailNotification { get; set; }\n        [DataMember]\n        public string CsvEmailRecipients { get; set; }\n\n        [IgnoreDataMember]\n        public virtual ICollection&lt;Organization&gt; Organizations { get; set; }\n\n        public MerchantAux()\n        {\n             Organizations = new List&lt;Organization&gt;();\n        }\n    }\n</code></pre>\n\n<p>These objects are defined in a Models assembly.  The WCF Service Assembly has a ServiceContract and OperationContracts to Get and Save Organizations.  </p>\n\n<p>Getting an organization works without issue.  Saving an organization is failing with a VERY strange result.</p>\n\n<blockquote>\n  <p>The formatter threw an exception while trying to deserialize the message: There was an error while trying to deserialize parameter boardingservice:organization. The InnerException message was 'The use of type 'MerchantAux' as a get-only collection is not supported with NetDataContractSerializer.  Consider marking the type with the CollectionDataContractAttribute attribute or the SerializableAttribute attribute or adding a setter to the property.'.  Please see InnerException for more details.</p>\n</blockquote>\n\n<p>And there is no inner exception.</p>\n\n<p>Oh yeah... Soap UI has no problem calling the Save method, but a .Net client throws the above error.  Has anyone else seen this behavior where the serializer thinks that an object is a collection? </p>\n\n<p>For the curious, I did try changing it to CollectionDataContract instead, but of course it fails straight away with an exception saying that MerchantAux doesn't implement IEnumerable (duh).   Anyway... any ideas would be great.</p>\n"}, {"tags": ["c#", "linq", "datatable", "xelement"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1522272225, "post_id": 49544376, "comment_id": 86096533, "body": "What have you tried? Have you written any code?"}, {"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 1, "creation_date": 1522272985, "post_id": 49544376, "comment_id": 86096841, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7602581/load-xelement-into-a-datatable\">load xelement into a datatable</a>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1522274227, "post_id": 49544376, "comment_id": 86097315, "body": "If you know the schema in advance, see <a href=\"https://stackoverflow.com/q/32139449/3744182\">How to get a tablerow out of an xelement?</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2522, "user_id": 5976576, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9ec90d5b8c13f25c3eae9fe8a9df6fc8?s=128&d=identicon&r=PG&f=1", "display_name": "MotKohn", "link": "https://stackoverflow.com/users/5976576/motkohn"}, "edited": false, "score": 0, "creation_date": 1600194398, "post_id": 49544578, "comment_id": 113009487, "body": "This throws <code>DataTable does not support schema inference from Xml.</code>"}], "tags": [], "owner": {"reputation": 1459, "user_id": 2054603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/avdC3.jpg?s=128&g=1", "display_name": "Sailesh Babu Doppalapudi", "link": "https://stackoverflow.com/users/2054603/sailesh-babu-doppalapudi"}, "is_accepted": true, "score": 4, "last_activity_date": 1522272995, "creation_date": 1522272995, "answer_id": 49544578, "question_id": 49544376, "link": "https://stackoverflow.com/questions/49544376/convert-listxelement-to-datatable/49544578#49544578", "title": "Convert List&lt;XElement&gt; to DataTable", "body": "<p>DataTable has a function named ReadXml which is used to read Xml.</p>\n\n<pre><code>string xml = XElements.ToString();\nDataTable dt = new DataTable();\ndt.ReadXml(new System.IO.StringReader(xml));\n</code></pre>\n"}], "owner": {"reputation": 426, "user_id": 2271264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3b5ef03d4059402b90fee7d8d6ca81?s=128&d=identicon&r=PG&f=1", "display_name": "AverageJoe", "link": "https://stackoverflow.com/users/2271264/averagejoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3316, "favorite_count": 1, "accepted_answer_id": 49544578, "answer_count": 1, "score": 2, "last_activity_date": 1522273208, "creation_date": 1522272032, "last_edit_date": 1522273208, "question_id": 49544376, "link": "https://stackoverflow.com/questions/49544376/convert-listxelement-to-datatable", "title": "Convert List&lt;XElement&gt; to DataTable", "body": "<p>I'm new to C# so this could be a simple answer. I have a List of XElements coming in from an API. I need to convert it to a datatable. How can I do that?</p>\n\n<p>List of XElements:</p>\n\n<pre><code>&lt;person&gt;&lt;personid&gt;1&lt;/personid&gt;&lt;name&gt;person1&lt;/name&gt;&lt;/person&gt;\n&lt;person&gt;&lt;personid&gt;2&lt;/personid&gt;&lt;name&gt;person2&lt;/name&gt;&lt;/person&gt;\n</code></pre>\n\n<p>I need it in the following data table format</p>\n\n<pre><code>    PersonID | Name\n    --------------\n    1         person1\n    2         person2\n</code></pre>\n\n<p>Another thing is I dont know the nodes at design time. So the XElement could be of the format</p>\n\n<pre><code>&lt;anyrootnode&gt;&lt;anynumberofchildnodes/&gt;&lt;/anyrootnode&gt;\n</code></pre>\n"}, {"tags": ["c#", ".net", "wmi"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 2, "creation_date": 1522272560, "post_id": 49544315, "comment_id": 86096673, "body": "I don&#39;t know how this is run in c# in order to answer, BUT, running the powershell shows me that the <code>PermanentAddress</code> property returns an unformatted MAC address (<code>AA-BB-CC-DD-EE-FF</code> in <code>ipconfig -all</code> VS <code>AABBCCDDEEFF</code> in <code>MSFT_NetAdapter</code>)"}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522273181, "post_id": 49544315, "comment_id": 86096911, "body": "@CamiloTerevinto Thanks! That might be it. Though <code>Win32_NetworkAdapter</code> has both. And their description is different than one another."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522273317, "post_id": 49544315, "comment_id": 86096958, "body": "Yep, they differ a lot in fact. But I didn&#39;t see anything else close to my MAC in that class"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1566338190, "creation_date": 1522271772, "question_id": 49544315, "link": "https://stackoverflow.com/questions/49544315/where-is-macaddress-in-msft-netadapter", "title": "Where is MACAddress in MSFT_NetAdapter?", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/aa394216(v=vs.85).aspx\" rel=\"nofollow noreferrer\">documentation for Win32_NetworkAdapter</a> tells us that:</p>\n\n<blockquote>\n  <p>The Win32_NetworkAdapter class is deprecated. Use the MSFT_NetAdapter\n  class instead.</p>\n</blockquote>\n\n<p>However, the <a href=\"https://msdn.microsoft.com/en-us/library/hh968170(v=vs.85).aspx\" rel=\"nofollow noreferrer\">documentation for MSFT_NetAdapter</a> lacks a <code>MACAddress</code> property.</p>\n\n<p>So what is the correct way for getting the <code>MACAddress</code>?</p>\n"}, {"tags": ["c#", "performance", "entity-framework", "ienumerable"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1522272079, "post_id": 49544308, "comment_id": 86096470, "body": "In the <code>Select</code> in your first query: is <code>new Users</code> meant to  be <code>new User</code>?"}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1522272129, "post_id": 49544308, "comment_id": 86096499, "body": "@JSteward no, it&#39;s an existing record from DB, if this is what you mean ?"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 2, "creation_date": 1522272301, "post_id": 49544308, "comment_id": 86096561, "body": "No I mean the <code>new Users</code> piece it seems odd to new up a class with plural name in the select. If however you meant to new up a new <code>User</code> that would make sense. So what exactly is the type <code>Users</code>?"}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1522272466, "post_id": 49544308, "comment_id": 86096634, "body": "@JSteward Users is a class generated from a DB... It&#39;s basically a DB class. But yes good point it&#39;s useless in my case to use a new operator in this one... I should just do: .select(y=&gt;y.UserId).FirstOrDefault() ? But would it be a performance improvement over just using: FirstOrDefault(...) directly?"}], "answers": [{"comments": [{"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "edited": false, "score": 0, "creation_date": 1522272398, "post_id": 49544425, "comment_id": 86096603, "body": "Zdravko, thanks for the reply... How much performance improvement would this be over the second query, if at all ??"}, {"owner": {"reputation": 11775, "user_id": 1735918, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oo9j7.jpg?s=128&g=1", "display_name": "Z. Danev", "link": "https://stackoverflow.com/users/1735918/z-danev"}, "reply_to_user": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "edited": false, "score": 1, "creation_date": 1522272551, "post_id": 49544425, "comment_id": 86096670, "body": "perf improvement - probably not much (in this case). having said that, there are other perfectly good reasons to select only what you are going to use."}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "edited": false, "score": 0, "creation_date": 1522272701, "post_id": 49544425, "comment_id": 86096723, "body": "Ah okay thanks zdravko... Which ones for example, could you just name a few? I&#39;m trying to learn a few more things here that I can keep a note of :)"}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "reply_to_user": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "edited": false, "score": 1, "creation_date": 1522273802, "post_id": 49544425, "comment_id": 86097151, "body": "@User987 It saves memory (you create smaller objects), and also provides encapsulation (the recipient of your data doesn&#39;t know more than it needs to know about the data). As for speed, FirstOrDefault() and Where().FirstOrDefault() perform almost equally."}], "tags": [], "owner": {"reputation": 11775, "user_id": 1735918, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oo9j7.jpg?s=128&g=1", "display_name": "Z. Danev", "link": "https://stackoverflow.com/users/1735918/z-danev"}, "is_accepted": true, "score": 1, "last_activity_date": 1522272299, "creation_date": 1522272299, "answer_id": 49544425, "question_id": 49544308, "link": "https://stackoverflow.com/questions/49544308/fetching-only-one-column-from-a-table-via-where-and-select-linq-statement/49544425#49544425", "title": "Fetching only one column from a table via where and select LINQ statement", "body": "<p>you can declare a DTO or you can use an anonymous type like this:</p>\n\n<pre><code>var user = ctx.Users\n   .Where(u =&gt; u.Email == email)\n   .Select(u =&gt; new { UserId = u.UserId })\n   .FirstOrDefault()    \n</code></pre>\n"}], "owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 49544425, "answer_count": 1, "score": 1, "last_activity_date": 1522272334, "creation_date": 1522271745, "last_edit_date": 1522272334, "question_id": 49544308, "link": "https://stackoverflow.com/questions/49544308/fetching-only-one-column-from-a-table-via-where-and-select-linq-statement", "title": "Fetching only one column from a table via where and select LINQ statement", "body": "<p>I have written two queries which look like:</p>\n\n<pre><code>  var loggedUser2 = ctx.Users.Where(y =&gt; y.Email == User.Identity.Name).Select(usr =&gt; new Users { UserId = usr.UserId }).AsEnumerable();\n</code></pre>\n\n<p>And second query looks like this:</p>\n\n<pre><code>var loggedUser = ctx.Users.FirstOrDefault(y =&gt; y.Email == User.Identity.Name);\n</code></pre>\n\n<p>The second query noticabely takes much more time to pull a single record from a table from a remote server as I can tell.</p>\n\n<p>For the first query I'm getting an error:</p>\n\n<blockquote>\n  <p>The entity or complex type 'Users' cannot be constructed in a LINQ to Entities query.</p>\n</blockquote>\n\n<p>when I try to access the property UserId of the \"Users\" object.</p>\n\n<p>Now I have a couple of questions:</p>\n\n<ol>\n<li>Why do I get this error and how do I actually access a property of a collection which is IEnumerable? I get it that I can materialize the query by using .ToList() and then have it accessed at [0].UserId, but I don't think this is the right way to do it?</li>\n<li>What is the most efficient way to select a single column for a single records from a table (UserId in my case)? How would that query looks like (besides using a stored procedure).</li>\n</ol>\n\n<p>Can someone help me out ? :)</p>\n"}, {"tags": ["c#", "debugging", "visual-studio-2017", "c#-6.0", "using-directives"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1522341114, "post_id": 49544245, "comment_id": 86129983, "body": "It does look like something you should report on Connect (or whatever that is now)."}, {"owner": {"reputation": 14755, "user_id": 93394, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/942b14d020c6788c24369cb9ed3a6cb3?s=128&d=identicon&r=PG", "display_name": "kmote", "link": "https://stackoverflow.com/users/93394/kmote"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1522362319, "post_id": 49544245, "comment_id": 86140123, "body": "Done. You can vote here: <a href=\"https://developercommunity.visualstudio.com/content/problem/225579/using-static-directive-doesnt-cooperate-with-watch.html\" rel=\"nofollow noreferrer\">developercommunity.visualstudio.com/content/problem/225579/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1522341074, "post_id": 49559595, "comment_id": 86129957, "body": "That assumes the debugger (only) looks at the literal sourcecode. I don&#39;t know but it also has Reflection and PDB files to rely on."}, {"owner": {"reputation": 11361, "user_id": 13188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd489db75dbecc2a74b6ed0defdd152b?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/13188/pedro"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1522347531, "post_id": 49559595, "comment_id": 86133413, "body": "Actually, it assumes the debugger is not using the literal sourcecode. Instead it is working off the compiled binary."}], "tags": [], "owner": {"reputation": 11361, "user_id": 13188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd489db75dbecc2a74b6ed0defdd152b?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/13188/pedro"}, "is_accepted": false, "score": 1, "last_activity_date": 1522336508, "creation_date": 1522336508, "answer_id": 49559595, "question_id": 49544245, "link": "https://stackoverflow.com/questions/49544245/using-static-directive-doesnt-cooperate-with-watch-window/49559595#49559595", "title": "&quot;using static&quot; directive doesn&#39;t cooperate with Watch window", "body": "<p>I ran your sample application through Reflector and this is the resulting Main method:</p>\n\n<pre><code>Dictionary&lt;MyEnumType, int&gt; dictionary = new Dictionary&lt;MyEnumType, int&gt;();\ndictionary.set_Item(MyEnumType.thing1, 1);\ndictionary.set_Item(MyEnumType.thing2, 2);\n</code></pre>\n\n<p>The compiler is adding <code>MyEnumType</code> to the beginning of <code>thing2</code>.  Since it appears to be a compiler feature, you aren't able to use the shortcut at runtime (in either the Watch or Immediate windows.)</p>\n"}], "owner": {"reputation": 14755, "user_id": 93394, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/942b14d020c6788c24369cb9ed3a6cb3?s=128&d=identicon&r=PG", "display_name": "kmote", "link": "https://stackoverflow.com/users/93394/kmote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1548259522, "creation_date": 1522271452, "last_edit_date": 1548259522, "question_id": 49544245, "link": "https://stackoverflow.com/questions/49544245/using-static-directive-doesnt-cooperate-with-watch-window", "title": "&quot;using static&quot; directive doesn&#39;t cooperate with Watch window", "body": "<p>I am employing the <code>using static</code> directive from <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-static\" rel=\"nofollow noreferrer\">C#6</a> to reference the values of an enum without providing its typename, which is great for readability. Unfortunately, when I try to add such a reference to the Watch window during debugging, it gives me a CS0103 error. Here's an example:</p>\n\n<pre><code>using System.Collections.Generic;\nusing static ConsoleApplication1.MyEnumType;\n\nnamespace ConsoleApplication1\n{\n    public enum MyEnumType\n    {\n        thing1,\n        thing2,\n    }\n    class Program\n    {\n        static void Main()\n        {\n            Dictionary&lt;MyEnumType, int&gt; dict = new Dictionary&lt;MyEnumType, int&gt;();\n\n            // add the left-hand side of these expressions to watch window:\n            dict[MyEnumType.thing1] = 1;  //Watch Value = 1\n            dict[thing2] = 2;             //Watch Value = error CS0103: The name 'thing2' does not exist in the current context\n        }\n    }\n}\n</code></pre>\n\n<p>That final line of code compiles fine because of the using static Directive. But while debugging, if I try to add <code>dict[thing2]</code> to a Watch window I get the error. Is there any way around this?</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> This is a known bug which <a href=\"https://github.com/dotnet/roslyn/issues/26084\" rel=\"nofollow noreferrer\">has been reported</a>, but as of today (9 months after I submitted the bug report), there has been no attempts to address it. Of course, the workaround is to simply add the type name to the watch window (which, though embarrassingly obvious, escaped me when I first posted this).</p>\n"}, {"tags": ["c#", "wpf", "rotation", "border"], "comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1522272051, "post_id": 49544093, "comment_id": 86096451, "body": "should be possible, you&#39;d rotate a lineargradientbrush using its startpoint and endpoint co-ordinates or by applying a rotatetransform to the gradient. <a href=\"https://stackoverflow.com/a/34538098/1132334\">stackoverflow.com/a/34538098/1132334</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9435044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c6978211f46aebf9db1ef442d897c9?s=128&d=identicon&r=PG&f=1", "display_name": "Axel M", "link": "https://stackoverflow.com/users/9435044/axel-m"}, "edited": false, "score": 0, "creation_date": 1522280837, "post_id": 49544595, "comment_id": 86099261, "body": "Okay, thank you for your help. Is it possible to make the rotating colour gradient seamless (0 - 360 degrees)?"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "reply_to_user": {"reputation": 3, "user_id": 9435044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c6978211f46aebf9db1ef442d897c9?s=128&d=identicon&r=PG&f=1", "display_name": "Axel M", "link": "https://stackoverflow.com/users/9435044/axel-m"}, "edited": false, "score": 0, "creation_date": 1522311405, "post_id": 49544595, "comment_id": 86109303, "body": "You might prefer the effect of the rotatetransform I added to my post."}], "tags": [], "owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "is_accepted": true, "score": 0, "last_activity_date": 1522311381, "last_edit_date": 1522311381, "creation_date": 1522273073, "answer_id": 49544595, "question_id": 49544093, "link": "https://stackoverflow.com/questions/49544093/wpf-rotate-automatically-endless-border-lineargradientbrush-clockwise-without-ro/49544595#49544595", "title": "WPF rotate automatically endless Border LinearGradientBrush clockwise without rotate the rest", "body": "<p>I didn't bother with the rounded corners, used different colours rather than guess at yours and every second made me feel a bit dizzy, but this rotates the colour gradient:</p>\n\n<pre><code>&lt;Border BorderThickness=\"10\"&gt;\n    &lt;Border.BorderBrush&gt;\n        &lt;LinearGradientBrush x:Name=\"bbrush\"&gt;\n            &lt;GradientStop Color=\"Blue\" Offset=\"0\" /&gt;\n            &lt;GradientStop Color=\"Yellow\" Offset=\"0.5\" /&gt;\n            &lt;GradientStop Color=\"Red\" Offset=\"1.0\" /&gt;\n        &lt;/LinearGradientBrush&gt;\n        &lt;/Border.BorderBrush&gt;\n    &lt;Border.Style&gt;\n        &lt;Style TargetType=\"Border\"&gt;\n            &lt;Style.Triggers&gt;\n                &lt;EventTrigger RoutedEvent=\"Border.Loaded\"&gt;\n                    &lt;BeginStoryboard&gt;\n                        &lt;Storyboard RepeatBehavior=\"Forever\"&gt;\n                            &lt;PointAnimation Storyboard.TargetProperty=\"BorderBrush.(LinearGradientBrush.StartPoint)\" From=\"1, 0\" To=\"0, 1\" Duration=\"00:00:10\" /&gt;\n                            &lt;PointAnimation Storyboard.TargetProperty=\"BorderBrush.(LinearGradientBrush.StartPoint)\" From=\"0, 1\" To=\"1, 0\" Duration=\"00:00:10\"/&gt;\n                        &lt;/Storyboard&gt;\n                    &lt;/BeginStoryboard&gt;\n                &lt;/EventTrigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/Border.Style&gt;\n&lt;/Border&gt;\n</code></pre>\n\n<p>Here's another way of doing this, by rotating the brush.\nThe things to watch out for when doing this are the rather tortuous path syntax and the fact a brush has a relativetransform rather than rendertransform.</p>\n\n<pre><code>    &lt;Border BorderThickness=\"10\"&gt;\n        &lt;Border.BorderBrush&gt;\n            &lt;LinearGradientBrush x:Name=\"bbrush\"&gt;\n                &lt;GradientStop Color=\"Blue\" Offset=\"0\" /&gt;\n                &lt;GradientStop Color=\"Yellow\" Offset=\"0.5\" /&gt;\n                &lt;GradientStop Color=\"Red\" Offset=\"1.0\" /&gt;\n                &lt;LinearGradientBrush.RelativeTransform&gt;\n                    &lt;RotateTransform CenterX=\"0.5\" CenterY=\"0.5\" x:Name=\"rotateBrush\" /&gt;\n                &lt;/LinearGradientBrush.RelativeTransform&gt;\n            &lt;/LinearGradientBrush&gt;\n            &lt;/Border.BorderBrush&gt;\n        &lt;Border.Style&gt;\n            &lt;Style TargetType=\"Border\"&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;EventTrigger RoutedEvent=\"Border.Loaded\"&gt;\n                        &lt;BeginStoryboard&gt;\n                            &lt;Storyboard RepeatBehavior=\"Forever\"&gt;\n                                &lt;DoubleAnimation Storyboard.TargetProperty=\"(Border.BorderBrush).(Brush.RelativeTransform).(RotateTransform.Angle)\" \n                                                 From=\"0\"\n                                                 To=\"359\"\n                                                 Duration=\"00:00:10\" /&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/BeginStoryboard&gt;\n                    &lt;/EventTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/Border.Style&gt;\n    &lt;/Border&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9435044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c6978211f46aebf9db1ef442d897c9?s=128&d=identicon&r=PG&f=1", "display_name": "Axel M", "link": "https://stackoverflow.com/users/9435044/axel-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 49544595, "answer_count": 1, "score": 0, "last_activity_date": 1522311381, "creation_date": 1522270779, "last_edit_date": 1522272332, "question_id": 49544093, "link": "https://stackoverflow.com/questions/49544093/wpf-rotate-automatically-endless-border-lineargradientbrush-clockwise-without-ro", "title": "WPF rotate automatically endless Border LinearGradientBrush clockwise without rotate the rest", "body": "<p>I created in WPF C# a window without style. For the new window I use the <em>Border</em> element. Within I use gradient colors. My question, is it possible to rotate automatically the <em>LinearGradientBrush</em> without rotating the rest? I want rotate automatically endless in every second or similar only the border clockwise, not more.</p>\n\n<p>Window with gradient Border element</p>\n\n<p><a href=\"https://i.stack.imgur.com/nfATj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfATj.png\" alt=\"Window with gradient Border element\"></a></p>\n\n<p>Example demonstration what I mean</p>\n\n<p><a href=\"https://i.stack.imgur.com/3JcnF.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3JcnF.gif\" alt=\"Example demonstration what I mean\"></a></p>\n"}, {"tags": ["c#", "ado.net"], "comments": [{"owner": {"reputation": 6327, "user_id": 1558122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf742b852e0cd3758246cfa57c519e58?s=128&d=identicon&r=PG", "display_name": "p e p", "link": "https://stackoverflow.com/users/1558122/p-e-p"}, "edited": false, "score": 2, "creation_date": 1522271039, "post_id": 49544047, "comment_id": 86095977, "body": "Yes, you do have everything wrapped in try/catch, but don&#39;t forget code within <code>catch</code> can throw its own exceptions.The unhandled <code>NullReferenceException</code> is almost definitely coming from the <code>catch</code> block&#39;s <code>values.Clear()</code>. Before the <code>try</code>, you initialize <code>values</code> to <code>null</code>. You must not be getting far enough in the <code>try</code> to initialize <code>values</code>, so that&#39;s a hint."}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1522271113, "post_id": 49544047, "comment_id": 86096019, "body": "Anything you found in <code>error_log.txt</code>?"}, {"owner": {"reputation": 6327, "user_id": 1558122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf742b852e0cd3758246cfa57c519e58?s=128&d=identicon&r=PG", "display_name": "p e p", "link": "https://stackoverflow.com/users/1558122/p-e-p"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1522271172, "post_id": 49544047, "comment_id": 86096049, "body": "@ChetanRanpariya based on what I am saying in my first comment, I expect there should definitely be useful info (the original exception&#39;s error message) logged in that text file."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1522272126, "post_id": 49544047, "comment_id": 86096497, "body": "Creating a file in the root of the system drive is not wise. You need to have a lot of permissions to do it. Move the log file in a folder where you can give read/write permissions to everyone. Do you have a file with that name in the root of the system drive?"}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1522305731, "post_id": 49544047, "comment_id": 86106294, "body": "Also, use a local variable inside a using statement for SQLConnection. Currently, when you have an exception, nothing will be disposed."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9566323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea639f9822a54f2aba078e5a19a07af?s=128&d=identicon&r=PG&f=1", "display_name": "jchristo", "link": "https://stackoverflow.com/users/9566323/jchristo"}, "edited": false, "score": 0, "creation_date": 1522347004, "post_id": 49550057, "comment_id": 86133163, "body": "Thank you @zohar-peled and everyone else for your responses. I will incorporate your changes into my code and test in my system."}, {"owner": {"reputation": 11, "user_id": 9566323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea639f9822a54f2aba078e5a19a07af?s=128&d=identicon&r=PG&f=1", "display_name": "jchristo", "link": "https://stackoverflow.com/users/9566323/jchristo"}, "edited": false, "score": 0, "creation_date": 1522348685, "post_id": 49550057, "comment_id": 86134003, "body": "Okay, I made the changes but was still getting a nullreference error at SharenetIFF.SearchFiles.LookforIFFFiles(). I went back to the ServiceInstallerProcess and switched account from &#39;User&#39; to &#39;LocalSystem&#39;, then rebuilt and reinstalled. Now I get this in the EventLog: &#39;Login failed for user &#39;NT AUTHORITY\\SYSTEM&#39;. Reason: Failed to open the explicitly specified database &#39;Sharenet&#39;. [CLIENT: &lt;local machine&gt;]&#39;. Any ideas?"}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "reply_to_user": {"reputation": 11, "user_id": 9566323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea639f9822a54f2aba078e5a19a07af?s=128&d=identicon&r=PG&f=1", "display_name": "jchristo", "link": "https://stackoverflow.com/users/9566323/jchristo"}, "edited": false, "score": 0, "creation_date": 1522349996, "post_id": 49550057, "comment_id": 86134692, "body": "Now the exception is in another method, isn&#39;t it? I thonk The login faild because the system user does not have access to the database, but that&#39;s a good thing - you want to restrict acess to the databse as much as possible. Change the user back and Debug the method that throw the exception"}, {"owner": {"reputation": 11, "user_id": 9566323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea639f9822a54f2aba078e5a19a07af?s=128&d=identicon&r=PG&f=1", "display_name": "jchristo", "link": "https://stackoverflow.com/users/9566323/jchristo"}, "edited": false, "score": 0, "creation_date": 1522356920, "post_id": 49550057, "comment_id": 86137965, "body": "Found the null reference! Now I only get this Event log: Login failed for user &#39;NT AUTHORITY\\SYSTEM&#39;. Reason: Failed to open the explicitly specified database &#39;Sharenet&#39;. [CLIENT: &lt;local machine&gt;]"}], "tags": [], "owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "is_accepted": true, "score": 0, "last_activity_date": 1522307923, "last_edit_date": 1522307923, "creation_date": 1522307611, "answer_id": 49550057, "question_id": 49544047, "link": "https://stackoverflow.com/questions/49544047/service-bombs-out-when-released/49550057#49550057", "title": "Service bombs out when released", "body": "<p>This started out as a comment, but got too long, so...</p>\n\n<p>It's not entirely clear what the method should do. On one hand, you populate the properties of the instance. On the other hand, you return a list of <code>int</code>, but you convert the values to <code>Int16</code> (that's <code>short</code>) instead of to <code>Int32</code>. You populate that list <strong>after</strong> the loop, meaning you get only the last values returned from your select statement, that has no order by clause meaning the rows are returned in an arbitrary order, and you do not use the <code>Id</code> property at all.</p>\n\n<p>Also, please note Steve's comment about saving files directly to <code>C:\\</code>.</p>\n\n<p>That's before we even touched the fact that you are using a field for <code>SQLConnection</code>, instead of a local variable inside the <code>using</code> statement, which will make sure it will be closed and disposed once you are done with it, or the fact that you only dispose everything inside the <code>try</code> block, meaning that if you have an exception before your code reaches there, nothing gets disposed, or the fact that table columns in the database might be nullable, so <code>Convert.ToInt</code> might fail if the reader contains <code>DBNull.Value</code> instead of an actual value.</p>\n\n<p>That being said, Here is an improved version of your current code. I've only modified it to the point it should dispose everything correctly, gets the values from the dataReader safely and not throw the <code>NullReferenceException</code>, but as I said, it's not very clear to me what you try to achieve in this method.</p>\n\n<pre><code>class RunValues\n{\n    public int id { get; set; }\n    public int runTimeSpan { get; set; }\n    public int numberOfRunTime { get; set; }\n\n    public List&lt;int&gt; GetRunValues()\n    {\n        var values = new List&lt;int&gt;();\n\n        // I'm guessing it needs \" where id = @id\" here...\n        var mySQL = \"select RunFreq, RunTimes from IFFRunValues\"; \n        using(var myCon = new SqlConnection(ConfigurationManager.ConnectionStrings[\"DatabaseConn\"].ConnectionString))\n        {\n            using(var myCmd = new SqlCommand(mySQL, myCon))\n            {\n                try\n                {\n                    myCon.Open();\n                    SqlDataReader runValuesReader = myCmd.ExecuteReader();\n                    if (runValuesReader.HasRows)\n                    {\n                        while (runValuesReader.Read())\n                        {\n                            runTimeSpan = runValuesReader.GetValueOrDefault&lt;int&gt;(\"RunFreq\");\n                            numberOfRunTime = runValuesReader.GetValueOrDefault&lt;int&gt;(\"RunTimes\");\n                            values.Add(runTimeSpan);\n                            values.Add(numberOfRunTime);\n                        }\n                    }\n                }\n                catch (Exception ex)\n                {\n                    var destPath = Path.Combine(\"C:\\\\\",  \"error_log.txt\");\n                    File.AppendAllText(destPath, ex.Message);\n                    values.Clear();\n                }\n            }\n        }            \n        return values;\n    }\n}\n</code></pre>\n\n<p>The <code>GetValueOrDefault&lt;T&gt;</code> is an extension method I've been using so long I can't even remember where I first encountered it - here is the class that contains it:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Provides extension methods for IDataReader.\n/// &lt;/summary&gt;\npublic static class IDataReaderExtensions\n{\n    /// &lt;summary&gt;\n    /// Gets the value of type T from the column specified by the index parameter, or default(T) if it's null.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;The type of the value to get.&lt;/typeparam&gt;\n    /// &lt;param name=\"reader\"&gt;An instance of a class implementing IDataReader.&lt;/param&gt;\n    /// &lt;param name=\"index\"&gt;The index of the column from where to get the value.&lt;/param&gt;\n    /// &lt;returns&gt;The value of type T from the specified column, default(T) if null.&lt;/returns&gt;\n    public static T GetValueOrDefault&lt;T&gt;(this IDataReader reader, int index)\n    {\n        return (Convert.IsDBNull(reader[index])) ? default(T) : (T)reader.GetValue(index);\n    }\n\n    /// &lt;summary&gt;\n    /// Gets the value of type T from the column specified by the name parameter, or default(T) if it's null.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;The type of the value to get.&lt;/typeparam&gt;\n    /// &lt;param name=\"reader\"&gt;An instance of a class implementing IDataReader.&lt;/param&gt;\n    /// &lt;param name=\"name\"&gt;The name of the column from where to get the value.&lt;/param&gt;\n    /// &lt;returns&gt;The value of type T from the specified column, default(T) if null.&lt;/returns&gt;\n    public static T GetValueOrDefault&lt;T&gt;(this IDataReader reader, string name)\n    {\n        return reader.GetValueOrDefault&lt;T&gt;(reader.GetOrdinal(name));\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9566323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea639f9822a54f2aba078e5a19a07af?s=128&d=identicon&r=PG&f=1", "display_name": "jchristo", "link": "https://stackoverflow.com/users/9566323/jchristo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1522313970, "accepted_answer_id": 49550057, "answer_count": 1, "score": -2, "last_activity_date": 1522307923, "creation_date": 1522270596, "last_edit_date": 1522272070, "question_id": 49544047, "link": "https://stackoverflow.com/questions/49544047/service-bombs-out-when-released", "closed_reason": "Duplicate", "title": "Service bombs out when released", "body": "<p>Hope I can get some help here. </p>\n\n<p>On a DEV server I created a C# windows service in Visual Studio 2013 Community. I have tested it in debug mode:\nIn Main()</p>\n\n<pre><code>#if DEBUG\n   ...run debug code...\n#else\n   ...run service code...\n#endif\n</code></pre>\n\n<p>In debug mode it runs perfectly fine. I then added an installer class and successfully installed the service on the <strong><em>same</em></strong> server and started it in the Services window. However, it doesn't do anything. I checked the Event log and saw this error message: </p>\n\n<pre><code>Application: SharenetIFF.exe\nFramework Version: v4.0.30319\nDescription: The process was terminated due to an unhandled exception.\nException Info: System.NullReferenceException\nat SharenetIFF.RunValues.GetRunValues()\nat SharenetIFF.SearchFiles.LookforIFFFiles(Int32)\nat SharenetIFF.Program.DoThis()\nat System.Threading.ThreadHelper.ThreadStart_Context(System.Object)\nat System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)\nat System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)\nat System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object)\nat System.Threading.ThreadHelper.ThreadStart()\n</code></pre>\n\n<p>Here is the code in RunValues:</p>\n\n<pre><code>class RunValues\n{\n    public int id { get; set; }\n    public int runTimeSpan { get; set; }\n    public int numberOfRunTime { get; set; }\n    private SqlConnection myCon = new SqlConnection();\n\n    public List&lt;int&gt; GetRunValues()\n    {\n        List&lt;int&gt; values = null;\n        string destPath = \"\";\n\n        try\n        {\n            string mySQL = \"select RunFreq, RunTimes from IFFRunValues\";\n\n            myCon.ConnectionString = ConfigurationManager.ConnectionStrings[\"DatabaseConn\"].ConnectionString;                \n            myCon.Open();\n\n            SqlCommand myCmd = new SqlCommand(mySQL, myCon);\n            SqlDataReader runValuesReader = myCmd.ExecuteReader();\n            if (runValuesReader.HasRows)\n            {\n                while (runValuesReader.Read())\n                {\n                    runTimeSpan = Convert.ToInt16(runValuesReader[\"RunFreq\"]);\n                    numberOfRunTime = Convert.ToInt16(runValuesReader[\"RunTimes\"]);\n                }\n                values = new List&lt;int&gt;();\n                values.Add(runTimeSpan);\n                values.Add(numberOfRunTime);\n            }\n            runValuesReader.Close();\n            myCon.Close();\n            runValuesReader.Dispose();\n            myCmd.Dispose();\n            myCon.Dispose();\n        }\n        catch (Exception ex)\n        {\n            destPath = Path.Combine(\"C:\\\\\",  \"error_log.txt\");\n            File.AppendAllText(destPath, ex.Message);\n            values.Clear();\n        }\n\n        return values;\n    }\n}\n</code></pre>\n\n<p>I am thinking it is failing on connection string, mostly because there is nothing else here. But no idea why. All the code is in the try/catch blocks, so how is an unhandled exception even possible? If the service is released to the same development machine it was developed on, does a service need different permissions if running outside of visual studio? </p>\n"}, {"tags": ["c#", "webforms", "visual-studio-2017", "asp.net-4.6"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522270642, "post_id": 49544039, "comment_id": 86095781, "body": "Why would you use a string field for this?  Its just a boolean <code>Required:true|false</code> which is far better represented as a checkbox in a UI"}, {"owner": {"reputation": 125, "user_id": 6471570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/DvCk2.png?s=128&g=1", "display_name": "NMeneses", "link": "https://stackoverflow.com/users/6471570/nmeneses"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522350798, "post_id": 49544039, "comment_id": 86135063, "body": "Yes, I do understand that, and had I written the database that&#39;s exactly what I would have done.  However, I did not develop the DB so I have to work with what I was given.  Thank you though.  Hopefully that helps someone else."}, {"owner": {"reputation": 2023, "user_id": 872054, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DFrju.png?s=128&g=1", "display_name": "kman", "link": "https://stackoverflow.com/users/872054/kman"}, "edited": false, "score": 0, "creation_date": 1522628751, "post_id": 49544039, "comment_id": 86214952, "body": "Why no SelectedValue=&#39;&lt;%# Bind (&quot;IsRequired&quot;) %&gt;&#39; on the dropdown?"}], "owner": {"reputation": 125, "user_id": 6471570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/DvCk2.png?s=128&g=1", "display_name": "NMeneses", "link": "https://stackoverflow.com/users/6471570/nmeneses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522270577, "creation_date": 1522270577, "question_id": 49544039, "link": "https://stackoverflow.com/questions/49544039/asp-net-4-6-conversion-failed-when-converting-the-varchar-value-yes-to-data-ty", "title": "ASP.NET 4.6 Conversion failed when converting the varchar value &#39;YES&#39; to data type int", "body": "<p>Please help as this is a time sensitive issue I'm having with a project.  The problem is that I have a GridView and in that GridView I have one column that requires a 'YES' or 'NO' response.  I'm using a dropdownlist in the EditItemTemplate to grab distinct or unique choices from the database.  Everything loads and displays fine from the datasource as you can see in this picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/A46GM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A46GM.png\" alt=\"GridView from datasource when page loads\"></a></p>\n\n<p>When I click the edit button the fields display appropriately as well as you can see from this picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mAXL2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mAXL2.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, when I select either 'YES' or 'NO', and click Update; I get the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/STeIh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/STeIh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the snippet of my .aspx code</p>\n\n<pre><code>&lt;asp:TemplateField HeaderText=\"Required\" SortExpression=\"IsRequired\"&gt;\n                &lt;EditItemTemplate&gt;\n                    &lt;asp:DropDownList ID=\"DropDownList2\" runat=\"server\" AutoPostBack=\"True\" DataSourceID=\"dsIsRequiredDDL\" DataTextField=\"IsRequired\" DataValueField=\"IsRequired\"&gt;&lt;/asp:DropDownList&gt;\n                    &lt;asp:SqlDataSource ID=\"dsIsRequiredDDL\" runat=\"server\" ConnectionString=\"&lt;%$ ConnectionStrings:BITSDevConnectionString %&gt;\" SelectCommand=\"SELECT DISTINCT [IsRequired] FROM [EmpCertType]\"&gt;&lt;/asp:SqlDataSource&gt;\n                &lt;/EditItemTemplate&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Bind(\"IsRequired\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n</code></pre>\n\n<p>And he is a picture of the table in my database:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oBon7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oBon7.png\" alt=\"enter image description here\"></a></p>\n\n<p>For the record, all data in the database is test (fictitious) data so there are no PII concerns.</p>\n\n<p>So the questions are: What is going on?  Why am I getting this error?  And most importantly, how do I correct this?</p>\n\n<p>I've tried using a radiobuttonlist and got an error with that as well. I've tried hard coding the selections in the dropdownlist and got the same error I got here, and I've done hours and hours of research on this one problem alone.</p>\n\n<p>Any and all help is greatly appreciated!</p>\n"}, {"tags": ["c#", "asp.net", "drop-down-menu"], "comments": [{"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1522271053, "post_id": 49543786, "comment_id": 86095985, "body": "I am missing what you are having a problem with here. A slight detour perhaps but AddWithValue is not a good way to add parameters when you are doing ad hoc queries. It can interpret datatypes incorrectly and a few other interesting surprises. <a href=\"http://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">blogs.msmvps.com/jcoehoorn/blog/2014/05/12/&hellip;</a>"}, {"owner": {"reputation": 532, "user_id": 1169644, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2762eb5c168af11e2c19c099243aa5bf?s=128&d=identicon&r=PG", "display_name": "Poosh", "link": "https://stackoverflow.com/users/1169644/poosh"}, "edited": false, "score": 0, "creation_date": 1522272471, "post_id": 49543786, "comment_id": 86096637, "body": "In tour_update.aspx.cs, the <code>GetTour</code> method looks potentially problematic. Are you sure the drop down lists should be bound within a <code>foreach</code> loop over all the rows in the data table?"}, {"owner": {"reputation": 37, "user_id": 2384846, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e275a8c937469f9b037b08f0c57a7a80?s=128&d=identicon&r=PG", "display_name": "bickyz", "link": "https://stackoverflow.com/users/2384846/bickyz"}, "edited": false, "score": 0, "creation_date": 1522318698, "post_id": 49543786, "comment_id": 86114156, "body": "I am not sure on this, I am a learner on this and trying to get hands on this college project, I learned few bits here n there from YouTube. I guess there must be a better way of doing this, please advise, will be very grateful. All I want is, each field  to be bind with the SQL query including the dropdown list, however with the dropdown list it should also list the other Schools/Students."}], "owner": {"reputation": 37, "user_id": 2384846, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e275a8c937469f9b037b08f0c57a7a80?s=128&d=identicon&r=PG", "display_name": "bickyz", "link": "https://stackoverflow.com/users/2384846/bickyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522271259, "creation_date": 1522269577, "last_edit_date": 1522271259, "question_id": 49543786, "link": "https://stackoverflow.com/questions/49543786/dropdown-list-in-record-update-page-not-listing-other-records", "title": "dropdown list in record update page not listing other records", "body": "<p>I have a record update page which seems to populate all the fields, however the dropdown lists will only list the data from that particular record, it is not listing the other School Names and the Student Names. The two dropdown lists are cascaded i.e. selecting the School Name ddl should list only the Students that are from that school in the Student ddl.</p>\n\n<p>Any help on this will be much appreciated, thank you.</p>\n\n<p><strong>Gridview code on tours.aspx</strong></p>\n\n<pre><code>    &lt;asp:GridView ID=\"GridView1\" runat=\"server\" AutoGenerateColumns=\"False\" AllowPaging=\"true\" OnPageIndexChanging=\"GridView1_PageIndexChanging\" OnEditCommand=\"EditAddress\" PageSize=\"5\"&gt;\n                &lt;Columns&gt;\n                    &lt;asp:HyperLinkField Text=\"Update\" DataNavigateUrlFields=\"TourId\" DataNavigateUrlFormatString=\"~/abcrud1/tours_update.aspx?TourId={0}\" /&gt;\n                    &lt;asp:BoundField DataField=\"TourId\" HeaderText=\"TourId\" HtmlEncode=\"false\" /&gt;\n                    &lt;asp:BoundField DataField=\"VisitorName\" HeaderText=\"VisitorName\" HtmlEncode=\"false\" /&gt;\n                    &lt;asp:BoundField DataField=\"VisitorSchoolId\" HeaderText=\"VisitorSchoolId\" HtmlEncode=\"false\" /&gt;\n                    &lt;asp:BoundField DataField=\"SchName\" HeaderText=\"SchName\" HtmlEncode=\"false\" /&gt;\n                    &lt;asp:BoundField DataField=\"TourDate\" HeaderText=\"TourDate\" HtmlEncode=\"false\" /&gt;\n                    &lt;asp:BoundField DataField=\"StudentId\" HeaderText=\"StudentId\" HtmlEncode=\"false\" /&gt;\n                    &lt;asp:BoundField DataField=\"FirstName\" HeaderText=\"FirstName\" HtmlEncode=\"false\" /&gt;\n                    &lt;asp:BoundField DataField=\"LastName\" HeaderText=\"LastName\" HtmlEncode=\"false\" /&gt;\n                &lt;/Columns&gt;\n&lt;/asp:GridView&gt;\n</code></pre>\n\n<p><strong>tour_update.aspx</strong></p>\n\n<pre><code>&lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;div&gt;\n        &lt;table style=\"width: 50%;\"&gt;\n            &lt;tr&gt;\n                &lt;td style=\"width: 50%;\"&gt;Tour Id:&lt;/td&gt;\n                &lt;td style=\"width: 50%;\"&gt;\n                    &lt;asp:TextBox ID=\"txttourid\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td style=\"width: 50%;\"&gt;Visitor Name:&lt;/td&gt;\n                &lt;td style=\"width: 50%;\"&gt;\n                    &lt;asp:TextBox ID=\"txtvisname\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td style=\"width: 50%;\"&gt;Visitor School:&lt;/td&gt;\n                &lt;td style=\"width: 50%;\"&gt;\n                    &lt;asp:DropDownList ID=\"ddlvisschool\" runat=\"server\" AutoPostBack=\"true\"&gt;&lt;/asp:DropDownList&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td style=\"width: 50%;\"&gt;Tour Date:&lt;/td&gt;\n                &lt;td style=\"width: 50%;\"&gt;\n                    &lt;asp:TextBox ID=\"txttourdate\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td style=\"width: 50%;\"&gt;Student:&lt;/td&gt;\n                &lt;td style=\"width: 50%;\"&gt;\n                    &lt;asp:DropDownList ID=\"ddlstudent\" runat=\"server\"&gt;&lt;/asp:DropDownList&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;asp:Button ID=\"btnUpdate\" Text=\"Update\" runat=\"server\"  OnClick=\"TourUpdate_click\" /&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>tour_update.aspx.cs</strong></p>\n\n<pre><code>{\n    public partial class tours_update : System.Web.UI.Page\n    {\n        string constr = ConfigurationManager.ConnectionStrings[\"SQLConnectionString2\"].ConnectionString;\n        protected void Page_Load(object sender, EventArgs e)\n        {\n            {\n                if (!IsPostBack)\n                {\n                    this.GetTour();\n                }\n            }\n        }\n\n        protected void TourUpdate_click(object sender, EventArgs e)\n        {\n            this.TourUpdate();\n        }\n\n        private int id\n        {\n            get\n            {\n                return !string.IsNullOrEmpty(Request.QueryString[\"TourId\"]) ? int.Parse(Request.QueryString[\"TourId\"]) : 0;\n            }\n        }\n\n        private void TourUpdate()\n        {\n            using (SqlConnection con = new SqlConnection(constr))\n            {\n                using (SqlCommand cmd = new SqlCommand(\"UPDATE tblCRUD1_Tour SET VisitorName=@VisitorName, VisitorSchoolId=@VisitorSchoolId, TourDate=@TourDate, StudentId=@StudentId WHERE TourId=@TourId\", con))\n                {\n                    cmd.Parameters.AddWithValue(\"@TourId\", id);\n                    cmd.Parameters.AddWithValue(\"@VisitorName\", txtvisname.Text);\n                    cmd.Parameters.AddWithValue(\"@VisitorSchoolId\", ddlvisschool.SelectedItem.Value);\n                    cmd.Parameters.AddWithValue(\"@TourDate\", txttourdate.Text);\n                    cmd.Parameters.AddWithValue(\"@StudentId\", ddlstudent.SelectedItem.Value);\n                    con.Open();\n                    cmd.ExecuteNonQuery();\n                    con.Close();\n                    Response.Redirect(\"~/abcrud1/tours.aspx\");\n                }\n            }\n        }\n\n        private void GetTour()\n        {\n            using (SqlConnection con = new SqlConnection(constr))\n            {\n                using (SqlCommand cmd = new SqlCommand(@\"SELECT tblCRUD1_Tour.TourId, tblCRUD1_Tour.VisitorName, tblCRUD1_Tour.VisitorSchoolId, tblCRUD1_School.SchName, tblCRUD1_Tour.TourDate, tblCRUD1_Tour.StudentId, tblCRUD1_Student.FirstName, tblCRUD1_Student.LastName \n                                                        FROM tblCRUD1_Tour\n                                                        INNER JOIN tblCRUD1_Student ON tblCRUD1_Tour.StudentId = tblCRUD1_Student.StudentId\n                                                        INNER JOIN tblCRUD1_School ON tblCRUD1_Student.LastSchoolId = tblCRUD1_School.SchId\n                                                        WHERE tblCRUD1_Tour.TourId=@TourId\", con))\n                {\n                    cmd.Parameters.AddWithValue(\"@TourId\", id);\n                    using (SqlDataAdapter da = new SqlDataAdapter(cmd))\n                    {\n                        DataTable dt = new DataTable();\n                        da.Fill(dt);\n                        foreach (DataRow dr in dt.Rows)\n                        {\n\n                            this.txttourid.Text = dr[\"TourId\"].ToString();\n                            this.txtvisname.Text = dr[\"VisitorName\"].ToString();\n                            this.txttourdate.Text = dr[\"TourDate\"].ToString();\n\n                            ddlvisschool.DataSource = dt;\n                            ddlvisschool.DataTextField = \"SchName\";\n                            ddlvisschool.DataValueField = \"VisitorSchoolId\";\n                            ddlvisschool.DataBind();\n\n                            ddlstudent.DataSource = dt;\n                            ddlstudent.DataTextField = \"LastName\";\n                            ddlstudent.DataValueField = \"StudentId\";\n                            ddlstudent.DataBind();\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>tours_add.aspx.cs</strong></p>\n\n<pre><code>{\n    public partial class tours_add : System.Web.UI.Page\n    {\n        SqlConnection con = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings[\"SQLConnectionString2\"].ConnectionString);\n        protected void Page_Load(object sender, EventArgs e)\n        {\n            if (!IsPostBack)\n            {\n                Bindddlvisschool();\n                ddlstudent.Items.Insert(0, \" Select Pupil \");\n            }\n        }\n\n        private void Bindddlvisschool()\n        {\n            con.Open();\n            string str = @\"Select * FROM tblCRUD1_School ORDER BY SchName ASC\";\n            SqlCommand cmd = new SqlCommand(str, con);\n            SqlDataAdapter da = new SqlDataAdapter(cmd);\n            DataTable dt = new DataTable();\n            da.Fill(dt);\n            ddlvisschool.DataSource = dt;\n            ddlvisschool.DataTextField = \"SchName\";\n            ddlvisschool.DataValueField = \"SchId\";\n            ddlvisschool.DataBind();\n            ddlvisschool.Items.Insert(0, new ListItem(\" Choose Last School \", \"0\"));\n            ddlvisschool.SelectedIndex = 0;\n            con.Close();\n        }\n\n        protected void TourAdd_click(object sender, EventArgs e)\n        {\n            con.Open();\n            string str = @\"INSERT INTO tblCRUD1_Tour (VisitorName,VisitorSchoolId,TourDate,StudentId) VALUES (@VisitorName,@VisitorSchoolId,@TourDate,@StudentId)\";\n            SqlCommand cmd = new SqlCommand(str, con);\n            cmd.Parameters.AddWithValue(\"@VisitorName\", txtvisname.Text);\n            cmd.Parameters.AddWithValue(\"@VisitorSchoolId\", ddlvisschool.Text);\n            cmd.Parameters.AddWithValue(\"@TourDate\", txttourdate.Text);\n            cmd.Parameters.AddWithValue(\"@StudentId\", ddlstudent.Text);\n            cmd.ExecuteNonQuery();\n            lblmessage1.Text = \"Tour added successfully\";\n            con.Close();\n            Response.AddHeader(\"REFRESH\", \"3;URL=tours.aspx\");\n        }\n\n        protected void ddlvisschool_SelectedIndexChanged(object sender, EventArgs e)\n        {\n            string get_SchId;\n            string get_SchName;\n            get_SchId = ddlvisschool.SelectedValue.ToString();\n            get_SchName = ddlvisschool.SelectedItem.Text;\n\n            if (get_SchId != \"0\")\n            {\n                con.Open();\n                SqlDataAdapter da;\n                DataSet ds = new DataSet();\n                string query;\n\n                query = \"SELECT tblCRUD1_Tour.TourId, tblCRUD1_Tour.VisitorName, tblCRUD1_Tour.VisitorSchoolId, tblCRUD1_School.SchName, tblCRUD1_Tour.TourDate, tblCRUD1_Tour.StudentId, tblCRUD1_Student.FirstName, tblCRUD1_Student.LastName \"\n                        + \"FROM tblCRUD1_Tour \"\n                        + \"INNER JOIN tblCRUD1_Student ON tblCRUD1_Tour.StudentId = tblCRUD1_Student.StudentId \"\n                        + \"INNER JOIN tblCRUD1_School ON tblCRUD1_Student.LastSchoolId = tblCRUD1_School.SchId \"\n                        + \"WHERE tblCRUD1_Tour.VisitorSchoolId='\" + get_SchId.ToString() + \"' ORDER BY tblCRUD1_Student.LastName ASC\";\n\n                da = new SqlDataAdapter(query, con);\n                da.Fill(ds);\n                if (ds.Tables[0].Rows.Count &gt; 0)\n                {\n                    ddlstudent.DataSource = ds;\n                    ddlstudent.DataTextField = \"LastName\";\n                    ddlstudent.DataValueField = \"StudentId\";\n                    ddlstudent.DataBind();\n                    //ddlstudent.Items.Insert(0, new ListItem(get_SchName.ToString(), \"0\"));\n                    ddlstudent.SelectedIndex = 0;\n                }\n                else\n                {\n                    ddlstudent.Items.Insert(0, \"No Student\");\n                    ddlstudent.DataBind();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "switch-statement", "polymorphism"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522270094, "post_id": 49543746, "comment_id": 86095475, "body": "I believe you are looking for this? <a href=\"https://stackoverflow.com/questions/11107536/convert-string-to-type-in-c-sharp\" title=\"convert string to type in c sharp\">stackoverflow.com/questions/11107536/&hellip;</a>"}, {"owner": {"reputation": 1769, "user_id": 384044, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/17d291c6289f74487f86212e30c58062?s=128&d=identicon&r=PG", "display_name": "alex440", "link": "https://stackoverflow.com/users/384044/alex440"}, "edited": false, "score": 0, "creation_date": 1522270199, "post_id": 49543746, "comment_id": 86095535, "body": "Why won&#39;t you just use inheritance? You can subclass TaxonomicGroup with Furniture, and further subclass Furniture with Table. Each can override the getSize to the best of his ability, and also have &quot;getIdentifier&quot; that can be stored in a hashmap of some factory to parse the user input."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522270466, "post_id": 49543746, "comment_id": 86095680, "body": "What is Kingdom, Family, and Species? You have them specified as strings. Do they actually have a real relationship? If so, then that should be enforced in code. It seems like they have an &quot;is-a&quot; relationship, which would imply inheritance (i.e. a <code>Stool</code> is-a <code>Chair</code> is-a <code>Furniture</code>). This sounds like the inheritance you would use."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522270783, "post_id": 49543746, "comment_id": 86095852, "body": "You might consider creating a class called <code>Size</code> that has all the properties that a size might have (length, width, height, depth, volume, etc.) Size could have a property called <code>Units</code> as well, which would help indicate how it should be displayed. Then each Kindgom/Family/Species would have a <code>Size</code> property, and you would just set the values that you care about. The <code>Furniture</code> class would have a default way to display a size for all types furniture, but sub classes could override it if they needed to."}, {"owner": {"reputation": 151, "user_id": 8412474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruSQT.jpg?s=128&g=1", "display_name": "Isaiah Shiner", "link": "https://stackoverflow.com/users/8412474/isaiah-shiner"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522271484, "post_id": 49543746, "comment_id": 86096189, "body": "@CamiloTerevinto That was one of the first things I considered, but I thought it would be too fragile. I will return to it if these other suggestions do not pan out."}, {"owner": {"reputation": 151, "user_id": 8412474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruSQT.jpg?s=128&g=1", "display_name": "Isaiah Shiner", "link": "https://stackoverflow.com/users/8412474/isaiah-shiner"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522272714, "post_id": 49543746, "comment_id": 86096727, "body": "@RufusL I should have been more clear that the OO is not really the focus, its just a possibility. Your OO implementation definitely works better than mine, but it really doesn&#39;t solve the matching taxonomy to algorithm issue."}, {"owner": {"reputation": 1037, "user_id": 2655263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l2sZ0.jpg?s=128&g=1", "display_name": "Kevin Fichter", "link": "https://stackoverflow.com/users/2655263/kevin-fichter"}, "edited": false, "score": 0, "creation_date": 1522277908, "post_id": 49543746, "comment_id": 86098494, "body": "It seems like the forest is getting lost for the trees... A taxonomic structure seems quite brittle to me. So, what are the similarities between each item, and what&#39;s the end result you want?  It sounds like you could achieve what you want by focusing on a generic &quot;unit&quot; metric, and each item will have some quantity of that unit.  A simple int and a double, and a string for UI-display to say what the unit is. Maybe the unit is area, length, bd-ft, volume, count, weight, longest-dimension, shelf-area, etc. For a rug, it&#39;ll have an area (qty x unit) (a sortable double), and a description(LxW)."}], "answers": [{"comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522271573, "post_id": 49544151, "comment_id": 86096235, "body": "How does this solve the multi-level switch with an if? The first part of the answer is right, the second is not"}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522272218, "post_id": 49544151, "comment_id": 86096528, "body": "@CamiloTerevinto With this approach, multi-level switch case is not required. I don&#39;t believe the OP will have separate calculation logic each combination of kingdom/family/species. So, he can assign the most common logic as the default one. Then based on the criteria he can add conditions for the special cases. For instance, if all the families and species of <i>KingdomA</i> has the same logic, there will be only one condition for that and without any multi-level nested switch/if-else."}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522272287, "post_id": 49544151, "comment_id": 86096555, "body": "In any case, if you believe my answer will solve <i>half</i> of the problem, there is no reason to down vote it."}, {"owner": {"reputation": 151, "user_id": 8412474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruSQT.jpg?s=128&g=1", "display_name": "Isaiah Shiner", "link": "https://stackoverflow.com/users/8412474/isaiah-shiner"}, "edited": false, "score": 0, "creation_date": 1522272415, "post_id": 49544151, "comment_id": 86096610, "body": "Yes, this is exactly what I was trying to avoid. That method will balloon to be extremely complicated. Remember that there are an arbitrarily large number of ways to calculate the size (or anything else) of a product, even down to the individual exact product, not just the product family."}], "tags": [], "owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "is_accepted": false, "score": 0, "last_activity_date": 1522271751, "last_edit_date": 1522271751, "creation_date": 1522271059, "answer_id": 49544151, "question_id": 49543746, "link": "https://stackoverflow.com/questions/49543746/design-pattern-choose-arbitrary-functionality-based-on-input-parameters-without/49544151#49544151", "title": "Design Pattern: Choose arbitrary functionality based on input parameters without large switch/if statements", "body": "<p>Strategy pattern can be useful here. Create strategies for different ways for calculations and plug them in during run-time based on the given <em>Kingdom</em>, <em>Family</em> and <em>Species</em>.</p>\n\n<p>First create an interface to define the <code>GetSize</code> method.</p>\n\n<pre><code>public interface ISizeCalculator\n{\n    string GetSize(int width, int length, int height);\n}\n</code></pre>\n\n<p>Then identify what are the different ways of calculation you need and create separate class for each of them. Give the classes some self-explanatory names.</p>\n\n<pre><code>public class ASimpleCalculation : ISizeCalculator\n{\n    public string GetSize(int width, int length, int height)\n    {\n        return string.Format(\"{0} x {1} x {2}\", width, length, height);\n    }\n}\n\npublic class AnotherCalculation : ISizeCalculator\n{\n    public string GetSize(int width, int length, int height)\n    {\n        return (width * length * height).ToString();\n    }\n}\n\n...\n...\n</code></pre>\n\n<p>Then assign the appropriate class instance based on the given Kingdom/Family/Species value. You don't have to create condition for every combination of Kingdom/Family/Species. Create a default calculation and create condition only for those which need special calculation.</p>\n\n<pre><code>public class TestClass\n{\n    public void Test(string kingdom, string family, string species)\n    {\n        ISizeCalculator calculator = null;\n        if (kingdom == \"A\")\n        {\n            calculator = new ASimpleCalculation();\n        }\n        else if (kingdom == \"B\" &amp;&amp; family == \"123\")\n        {\n            calculator = new AnotherCalculation();\n        }\n        else if (new string[] { \"X\", \"Y\", \"Z\" }.Contains(species))\n        {\n            calculator = new ASimpleCalculation();\n        }\n        // add more criteria as per your requirements\n        else\n        {\n            calculator = new DefaultCalculation();\n        }\n        string result = calculator.GetSize(1, 2, 3);\n    }\n}\n</code></pre>\n\n<p>I don't see using <code>if else</code> as a problem for this case. The other alternatives can reduce the code readability or can cause performance issue.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 8412474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruSQT.jpg?s=128&g=1", "display_name": "Isaiah Shiner", "link": "https://stackoverflow.com/users/8412474/isaiah-shiner"}, "edited": false, "score": 0, "creation_date": 1522272206, "post_id": 49544260, "comment_id": 86096526, "body": "That does not solve my problem, because i still need a way to choose the correct interface to use. There could be 50 different implementations of the size interface. How do I choose the right one?"}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "reply_to_user": {"reputation": 151, "user_id": 8412474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruSQT.jpg?s=128&g=1", "display_name": "Isaiah Shiner", "link": "https://stackoverflow.com/users/8412474/isaiah-shiner"}, "edited": false, "score": 0, "creation_date": 1522272388, "post_id": 49544260, "comment_id": 86096597, "body": "50 isn&#39;t that much.  What about a simple Factory pattern?"}], "tags": [], "owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "is_accepted": false, "score": 0, "last_activity_date": 1522272052, "last_edit_date": 1522272052, "creation_date": 1522271521, "answer_id": 49544260, "question_id": 49543746, "link": "https://stackoverflow.com/questions/49543746/design-pattern-choose-arbitrary-functionality-based-on-input-parameters-without/49544260#49544260", "title": "Design Pattern: Choose arbitrary functionality based on input parameters without large switch/if statements", "body": "<p>First of all, I agree with you in that you are going off the deep end somewhere.  </p>\n\n<p>You said</p>\n\n<blockquote>\n  <p>All products are slightly different.  For example, the size of\n  furniture is usually given as</p>\n</blockquote>\n\n<p>You gave many examples of <em>different algorithms</em> that all do the same thing which is calculate size.  All you need to solve this kind of a problem is various implementations of an interface with a <code>Size</code> method.  Or possibly a Decorator Pattern depending on your actual needs.  There's no need for taxonomy or hierarchical relationships to solve this kind of a problem.  So I feel the remainder of the question is where things go off track.</p>\n\n<p>OO doesn't solve everything.  Recommended reading: <a href=\"https://www.sicpers.info/2018/03/why-inheritance-never-made-any-sense/\" rel=\"nofollow noreferrer\">https://www.sicpers.info/2018/03/why-inheritance-never-made-any-sense/</a></p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 8412474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruSQT.jpg?s=128&g=1", "display_name": "Isaiah Shiner", "link": "https://stackoverflow.com/users/8412474/isaiah-shiner"}, "edited": false, "score": 0, "creation_date": 1522333951, "post_id": 49545220, "comment_id": 86125280, "body": "This is the most helpful answer here. I think I will structure my OO like this, but the truth is that it still doesn&#39;t solve my original problem of going from string kingdom, string family, and string species to the correct class. I think the best bet is the very first answer(comment) on here, which was to get the class directly, using Type.Get(&quot;Plush Rug&quot;); Thank you for the help though!"}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1522276661, "last_edit_date": 1522276661, "creation_date": 1522276338, "answer_id": 49545220, "question_id": 49543746, "link": "https://stackoverflow.com/questions/49543746/design-pattern-choose-arbitrary-functionality-based-on-input-parameters-without/49545220#49545220", "title": "Design Pattern: Choose arbitrary functionality based on input parameters without large switch/if statements", "body": "<p>Here's the OO approach I was talking about, though I'm not sure it meets your needs based on your comment to me.</p>\n\n<p>First a <code>Size</code> class that represents all the properties a size could have (obviously this is just an example, though):</p>\n\n<pre><code>enum UnitOfMeasure\n{\n    Inches, Feet, Yards, Centimeters, Meters\n}\n\nclass Size\n{\n    public int Length { get; set; }\n    public int Width { get; set; }\n    public int Height { get; set; }\n    public int Depth { get; set; }\n    public UnitOfMeasure Units { get; set; }\n}\n</code></pre>\n\n<p>And you could create a conversion class that might come in handy for converting <code>200 inches</code> to a proper string that looks like <code>16'8\"</code>:</p>\n\n<pre><code>static class Convert\n{\n    public static string ToFeetAndInches(int inches)\n    {\n        var feet = inches / 12;\n        var remainingInches = inches % 12;\n\n        var footStr = feet &gt; 0 ? $\"{feet}'\" : \"\";\n        var inchStr = remainingInches &gt; 0 ? $\"{remainingInches}\\\"\" : \"\";\n\n        return footStr + inchStr;\n    }\n\n    public static string ToMetersAndCentimeters(int centimeters)\n    {\n        var meters = centimeters / 10;\n        var remainingCm = centimeters % 10;\n\n        var meterStr = meters &gt; 0 ? $\"{meters}m \" : \"\";\n        var centimeterStr = remainingCm &gt; 0 ? $\"{remainingCm}cm\" : \"\";\n\n        return meterStr + centimeterStr;\n    }\n}\n</code></pre>\n\n<p>Then a \"Kingdom\" class that has a default way to present the size:</p>\n\n<pre><code>class Decor\n{\n    public Size Size { get; set; }\n\n    public string GetSize()\n    {\n        switch (Size.Units)\n        {\n            case UnitOfMeasure.Inches:\n                return string.Format(\"{0} x {1} x {2}\",\n                    Convert.ToFeetAndInches(Size.Width),\n                    Convert.ToFeetAndInches(Size.Length),\n                    Convert.ToFeetAndInches(Size.Height));\n            case UnitOfMeasure.Feet:\n                return $\"{Size.Width}' x {Size.Length}' x {Size.Height}'\";\n            case UnitOfMeasure.Centimeters:\n                return string.Format(\"{0} x {1} x {2}\",\n                    Convert.ToMetersAndCentimeters(Size.Width),\n                    Convert.ToMetersAndCentimeters(Size.Length),\n                    Convert.ToMetersAndCentimeters(Size.Height));\n            case UnitOfMeasure.Meters:\n                return $\"{Size.Width}m x {Size.Length}m x {Size.Height}m\";\n        }\n\n        return $\"{Size.Width} x {Size.Length} x {Size.Height}\";\n    }\n}\n</code></pre>\n\n<p>A couple of \"Family\" classes, one that just inherits the Kingdom version of <code>GetSize</code> and another that hides it with it's own implementation:</p>\n\n<pre><code>class Lamp : Decor\n{\n}\n\nclass Rug : Decor\n{\n    public new string GetSize()\n    {\n        var baseSize = base.GetSize();\n        var lastX = baseSize.LastIndexOf(\"x\");\n        return baseSize.Substring(0, lastX - 1).Trim();  // Only show Width and Length\n    }\n}\n</code></pre>\n\n<p>And then a \"Species\" class that hides it's <code>Family</code> implementation:</p>\n\n<pre><code>class Chandelier : Lamp\n{\n    public new string GetSize()\n    {\n        var baseSize = base.GetSize();\n        return baseSize.Split('x')[1].Trim();  // Only show the length\n    }\n}\n</code></pre>\n\n<p>An example of how these all display their sizes differently (even when using the same <code>Size</code> object) would look like:</p>\n\n<pre><code>static void Main()\n{\n    var genericSize = new Size\n    {\n        Width = 20,\n        Height = 30,\n        Length = 40,\n        Units = UnitOfMeasure.Inches\n    };\n\n    var brassLamp = new Lamp { Size = genericSize };\n    var glassChandelier = new Chandelier { Size = genericSize };\n    var plushRug = new Rug { Size = genericSize };\n\n    Console.WriteLine($\"Brass lamp: {brassLamp.GetSize()}\");\n    Console.WriteLine($\"Chandelier: {glassChandelier.GetSize()}\");\n    Console.WriteLine($\"Plush Rug: {plushRug.GetSize()}\");\n\n    Console.WriteLine(\"\\nDone!\\nPress any key to exit...\");\n    Console.ReadKey();\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/MjQF0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MjQF0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "is_accepted": false, "score": 0, "last_activity_date": 1522280800, "creation_date": 1522280800, "answer_id": 49545916, "question_id": 49543746, "link": "https://stackoverflow.com/questions/49543746/design-pattern-choose-arbitrary-functionality-based-on-input-parameters-without/49545916#49545916", "title": "Design Pattern: Choose arbitrary functionality based on input parameters without large switch/if statements", "body": "<blockquote>\n  <p>In summary, is there a design pattern for connecting arbitrarily complex types to correct functionality? An adapter, connector, some other additional OOP that I can throw at this?</p>\n</blockquote>\n\n<p>Yes, but it entails mapping types to functionality, something you seem to want to avoid through some magical pattern. There isn't, if you are slapping some specific functionality to concrete types, you'll have to somewhere say what functionality goes with what type... how are you planning to avoid this?</p>\n\n<p>Another option you've outright discarded:</p>\n\n<blockquote>\n  <p>I do NOT need to use polymorphism/inheritance</p>\n</blockquote>\n\n<p>Is simply having each object know how to do its thing. If this is not an option then your stuck with some kind of mapping infrastructure.</p>\n"}], "owner": {"reputation": 151, "user_id": 8412474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruSQT.jpg?s=128&g=1", "display_name": "Isaiah Shiner", "link": "https://stackoverflow.com/users/8412474/isaiah-shiner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 49545220, "answer_count": 4, "score": 0, "last_activity_date": 1522280800, "creation_date": 1522269434, "last_edit_date": 1522272172, "question_id": 49543746, "link": "https://stackoverflow.com/questions/49543746/design-pattern-choose-arbitrary-functionality-based-on-input-parameters-without", "title": "Design Pattern: Choose arbitrary functionality based on input parameters without large switch/if statements", "body": "<p>Edit: I talked a lot about polymorphism here, but that is not the focus of the problem. I do NOT need to use polymorphism/inheritance. The main problem is matching the taxonomy to the algorithm. If something is a stool, it needs one algorithm, and if its a rug, it needs another algorithm. Interfaces, dictionaries, etc. don't directly help me. I have to get that \"Stool\" means I need GetSizeForSool() without using ifs.</p>\n\n<p>I'm making a system to set values for products that will appear on a website. The methods I have come up with seem way too complicated, so I'm looking for what the best practices for something like this are. Is there a design pattern for it?</p>\n\n<p>All products are slightly different. For example, the size of furniture is usually given as 24\" x 56\" x 78\", but a rug is usually more like 8'6\" x 10'6\".</p>\n\n<p>So, I need a method for each one, right? But what if the product is a Cow Hide, that needs an estimated size, since they vary? Or a chandelier where only the length matters?</p>\n\n<p>So I made a clear taxonomy for each product. For this example, I'm using Kingdom, Family, and Species, so only 3 categories. Ideally this would be an array. One product might be Furniture -> Table -> Dining Table.</p>\n\n<p>So I know what every product is, and know what method to use for each one. But how do I go from the taxonomy to the correct method? I want to be able to tell certain groups of products to do something, or possibly very specific groups of products</p>\n\n<p>Naive solution: nested switch/if statements</p>\n\n<pre><code>public string GetSize(int width, int length, int height, string productKingdom, string productFamily, string productSpecies)\n{\n    switch(productKingdom)\n    {\n        case \"Furniture\":\n            switch (productFamily)\n            {\n                case \"Table\":\n                    return GetSize_Furniture_Table_Any(width, length, height);\n                default:\n                    return null;\n            }\n        case \"Rug\":\n            return GetSize_Rug_Any_Any(width, length, height);\n        default:\n            return null;\n    }\n}\n\npublic static string GetSize_Furniture_Table_Any(int width, int length, int height)\n{\n    return width + \" x \" + length + \" x \" + height;\n}\n</code></pre>\n\n<p>This seems doomed to fail to me. Plus, it must be replicated for every value (such as price, attributes, description, etc) that requires checking based on its taxonomy, which will make it even messier.</p>\n\n<p>What about a dictionary that contains each taxonomy as the key, and the correct Func to run as the value?</p>\n\n<p>I don't have a code snippet for this, because it really was worse than the switch statement. It ended up being less readable because the enormous dictionaries had to be constructed when the format process began, and so if you wanted to add a new type or modify an existing one, you had to modify other classes besides where you put the implementation. There was also a lot of code duplication because the types of the functions had to be explicit and could not be generalized. If you can generalize this without making it extremely confusing, I would be interested.</p>\n\n<p>Surely polymorphism is the answer?</p>\n\n<pre><code>public abstract class TaxonomicGroup\n{\n    abstract public string Kingdom { get; }\n    abstract public string Family { get; }\n    abstract public string Species { get; }\n\n    public abstract string GetSize(int width, int length, int height);\n}\n\npublic class Furniture_Any_Any : TaxonomicGroup\n{\n    public override string Kingdom { get; }\n    public override string Family { get; }\n    public override string Species { get; }\n\n    public Furniture_Any_Any()\n    {\n        Kingdom = \"Furniture\";\n        Family = null;\n        Species = null;\n    }\n\n    public override string GetSize(int width, int length, int height)\n    {\n        return width + \" x \" + length + \" x \" + height;\n    }\n}\n\npublic class Decor_Rug_Any : TaxonomicGroup\n{\n    public override string Kingdom { get; }\n    public override string Family { get; }\n    public override string Species { get; }\n\n    public Decor_Rug_Any()\n    {\n        Kingdom = \"Decor\";\n        Family = \"Rug\";\n        Species = null;\n    }\n\n    public override string GetSize(int width, int length, int height)\n    {\n        string widthFootInch = GetFootInchFromInch(width);\n        string lengthFootInch = GetFootInchFromInch(length);\n\n        return widthFootInch + \" x \" + lengthFootInch;\n    }\n}\n</code></pre>\n\n<p>This seems perfect. I can define all the things that should not change depending on the taxonomy in the abstract class, or maybe the Any_Any_Any class, and configure as much functionality as I want. But I don't think this actually solves my original problem of case statements!</p>\n\n<p>If I want to get the TaxonomicGroup like this:</p>\n\n<pre><code>TaxonomicGroup taxonomy = Functions.GetTaxonomicGroup(kingdom, family, species);\n</code></pre>\n\n<p>I need some kind of list or dictionary of every possible TaxonomicGroup, and search through them. That dictionary will be enormous, and need to be maintained every time you add a new class. This also assumes that the properties are static, which doesn't work with my current implementation.</p>\n\n<pre><code>public TaxonomicGroup GetTaxonomicGroup(string kingdom, string family, string species)\n{\n    Type[] allProductTypes = { typeof(Any_Any_Any), typeof(Rug_Rug_Any) };\n\n    //Some kind of search Function?\n    foreach(TaxonomicGroup tax in allProductTypes)\n        if(tax.Kingdom.Equals(kingdom)\n            //More evaluation logic\n}\n</code></pre>\n\n<p>In summary, is there a design pattern for connecting arbitrarily complex types to correct functionality? An adapter, connector, some other additional OOP that I can throw at this?</p>\n"}, {"tags": ["c#", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 1282, "user_id": 1052495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/24f800d9750220e912c876f011d22ca6?s=128&d=identicon&r=PG", "display_name": "Juan", "link": "https://stackoverflow.com/users/1052495/juan"}, "edited": false, "score": 0, "creation_date": 1522269013, "post_id": 49543586, "comment_id": 86094885, "body": "Maybe you can just use a case to convert the results"}, {"owner": {"reputation": 421, "user_id": 9493203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6FCFL.jpg?s=128&g=1", "display_name": "Katerine459", "link": "https://stackoverflow.com/users/9493203/katerine459"}, "edited": false, "score": 0, "creation_date": 1522269279, "post_id": 49543586, "comment_id": 86095030, "body": "I&#39;ve updated the question with more error details.  mjwills: I hadn&#39;t even thought of that! Kind of silly in retrospect. :) (So used to 0 just automatically being recognized as a boolean value.) I&#39;ll give it a shot now."}], "answers": [{"tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": true, "score": 1, "last_activity_date": 1522269565, "creation_date": 1522269565, "answer_id": 49543781, "question_id": 49543586, "link": "https://stackoverflow.com/questions/49543586/error-when-using-a-union-query-with-a-boolean-value-and-setting-it-to-a-checkbox/49543781#49543781", "title": "Error when using a union query with a boolean value and setting it to a checkbox asp.net", "body": "<p>Your</p>\n\n<pre><code>0 AS [IsActive]\n</code></pre>\n\n<p>means \"0 as integer\" rather than \"0 as bit\".</p>\n\n<p>You can fix this using <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/functions/cast-and-convert-transact-sql\" rel=\"nofollow noreferrer\"><code>CAST</code></a>:</p>\n\n<pre><code>CAST(0 AS BIT) AS [IsActive]\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 9493203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6FCFL.jpg?s=128&g=1", "display_name": "Katerine459", "link": "https://stackoverflow.com/users/9493203/katerine459"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 49543781, "answer_count": 1, "score": 0, "last_activity_date": 1522269565, "creation_date": 1522268767, "last_edit_date": 1522269186, "question_id": 49543586, "link": "https://stackoverflow.com/questions/49543586/error-when-using-a-union-query-with-a-boolean-value-and-setting-it-to-a-checkbox", "title": "Error when using a union query with a boolean value and setting it to a checkbox asp.net", "body": "<p>I have an ASP.NET page that has a gridview with a checkbox control, which is bound to a query (simplified version below):</p>\n\n<pre><code>&lt;asp:SqlDataSource ID=\"gvPhonesDataSource\" runat=\"server\" OnInserted=\"gvPhonesDataSource_Inserted\"\n    ConnectionString=\"&lt;%$ ConnectionStrings:ConnString %&gt;\" \n    SelectCommand=\"SELECT p.[CustomerPhoneID]\n                ,p.[IsActive]\n            FROM [dbo].[CustomerPhones] p\n            WHERE p.CustomerContactID = @CustomerContactID\n            UNION SELECT -1 AS CustomerPhoneID, 0 AS [IsActive]\"\n    &lt;SelectParameters&gt;\n        &lt;asp:ControlParameter Name=\"CustomerContactID\" Type=\"Int32\" ControlID=\"contactid\" PropertyName=\"Text\" /&gt;\n    &lt;/SelectParameters&gt;\n&lt;/asp:SqlDataSource&gt;\n\n&lt;asp:gridview ID=\"gvPhones\" runat=\"server\" DataSourceID=\"gvPhonesDataSource\"\n    AutoGenerateColumns=\"False\" DataKeyNames=\"CustomerPhoneID\" \n    CssClass=\"searchresultsgrid\" ShowFooter=\"True\" OnRowCommand=\"gvPhones_RowCommand\" AllowSorting=\"True\"\n    OnRowDataBound=\"gvPhones_RowDataBound\"&gt;\n    &lt;Columns&gt;\n        &lt;asp:BoundField DataField=\"CustomerPhoneID\" InsertVisible=\"false\" ReadOnly=\"true\" Visible=\"False\" /&gt;\n\n        &lt;asp:TemplateField HeaderText=\"Active?\" SortExpression=\"IsActive\"&gt;\n            &lt;FooterTemplate&gt;\n                &lt;asp:CheckBox runat=\"server\" Checked='&lt;%# Bind(\"IsActive\") %&gt;' ID=\"chkPhoneIsActive\"&gt;&lt;/asp:CheckBox&gt;\n            &lt;/FooterTemplate&gt;\n            &lt;EditItemTemplate&gt;\n                &lt;asp:CheckBox runat=\"server\" Checked='&lt;%# Bind(\"IsActive\") %&gt;' ID=\"chkPhoneIsActive\"&gt;&lt;/asp:CheckBox&gt;\n            &lt;/EditItemTemplate&gt;\n            &lt;ItemTemplate&gt;\n                &lt;asp:Label runat=\"server\" Text='&lt;%# Bind(\"IsActive\") %&gt;' ID=\"lblPhoneIsActive\"&gt;&lt;/asp:Label&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:TemplateField&gt;\n\n\n        &lt;asp:TemplateField ShowHeader=\"False\"&gt;\n            &lt;EditItemTemplate&gt;\n                &lt;asp:LinkButton runat=\"server\" Text=\"Update\" CommandName=\"Update\" CausesValidation=\"True\" ID=\"PhoneUpdate\"&gt;&lt;/asp:LinkButton&gt;&amp;nbsp;&lt;asp:LinkButton runat=\"server\" Text=\"Cancel\" CommandName=\"Cancel\" CausesValidation=\"False\" ID=\"PhoneEditCancel\"&gt;&lt;/asp:LinkButton&gt;\n            &lt;/EditItemTemplate&gt;\n            &lt;ItemTemplate&gt;\n                &lt;asp:LinkButton runat=\"server\" Text=\"Edit\" CommandName=\"Edit\" CausesValidation=\"False\" ID=\"PhoneEdit\"&gt;&lt;/asp:LinkButton&gt;&amp;nbsp;&lt;asp:LinkButton runat=\"server\" Text=\"Delete\" CommandName=\"Delete\" CausesValidation=\"False\" ID=\"PhoneDelete\"&gt;&lt;/asp:LinkButton&gt;\n            &lt;/ItemTemplate&gt;\n            &lt;FooterTemplate&gt;\n                &lt;asp:LinkButton runat=\"server\" Text=\"Save New Phone\" CommandName=\"FooterInsert\" CausesValidation=\"True\" ID=\"PhoneInsert\"&gt;&lt;/asp:LinkButton&gt;\n            &lt;/FooterTemplate&gt;\n        &lt;/asp:TemplateField&gt;\n    &lt;/Columns&gt;\n&lt;/asp:gridview&gt;\n</code></pre>\n\n<p>Everything works fine, without the UNION SELECT in the SelectCommand in the SqlDataSource. But when I put in the UNION SELECT, the values in the gridview's IsActive column stop being listed as \"Yes\" or \"No,\" and start being listed as \"1\" or \"0,\" and when I try to go in to edit (which tries to bind IsActive to a checkbox), I get the following error:</p>\n\n<pre><code>Exception Details: System.InvalidCastException: Specified cast is not valid.\n\nSource Error: \n\nLine 143:                            &lt;/FooterTemplate&gt;\nLine 144:                            &lt;EditItemTemplate&gt;\nLine 145:                                &lt;asp:CheckBox runat=\"server\" Checked='&lt;%# Bind(\"IsActive\") %&gt;' ID=\"chkPhoneIsActive\"&gt;&lt;/asp:CheckBox&gt;\nLine 146:                            &lt;/EditItemTemplate&gt;\nLine 147:                            &lt;ItemTemplate&gt;\n\nSource File: ...\\ContactEdit.aspx    Line: 145 \n</code></pre>\n\n<p>I suspect the issue is in the query... that the UNION is causing the bound IsActive column to be returned as string, and not as boolean (that's what the compiler thinks, anyway). How do I fix the UNION so that IsActive continues to be considered a boolean?</p>\n\n<p>FYI, the relevant parts of the table (SQL Server 2014) is as follows:</p>\n\n<pre><code>CREATE TABLE [dbo].[CustomerPhones](\n    [CustomerPhoneID] [int] IDENTITY(1,1) NOT NULL,\n    [IsActive] [bit] NOT NULL CONSTRAINT [DF_CustomerPhones_IsActive]  DEFAULT ((1)),\n CONSTRAINT [PK_CustomerPhones] PRIMARY KEY CLUSTERED \n(\n    [CustomerPhoneID] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY]\n</code></pre>\n\n<p>Many thanks!</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 0, "last_activity_date": 1522272147, "creation_date": 1522272147, "answer_id": 49544395, "question_id": 49543580, "link": "https://stackoverflow.com/questions/49543580/hierarchical-list-based-on-two-different-properties-of-same-list/49544395#49544395", "title": "Hierarchical list based on two different properties of same List", "body": "<p>Finding the parent quests is easy, simply get a list of IDs not in any Grant.</p>\n\n<p>Using a convenient extension method:</p>\n\n<pre><code>public static HashSet&lt;T&gt; ToHashSet&lt;T&gt;(this IEnumerable&lt;T&gt; source) =&gt; new HashSet&lt;T&gt;(source);\n</code></pre>\n\n<p>You can gather all the GrantIDs and find the EndIDs that aren't there:</p>\n\n<pre><code>var grants = questsList.Select(q =&gt; q.questGrantID).ToHashSet();\nvar parents = questsList.Select(q =&gt; q.questEndID).Where(q =&gt; !grants.Contains(q));\n</code></pre>\n\n<p>Now since your chain is recursive, you need a loop to follow the chain. Write another extension method to produce the quest chain from a starting point:</p>\n\n<pre><code>public static IEnumerable&lt;string&gt; questChain(this List&lt;quests&gt; allQuests, string curQuestID) {\n    yield return curQuestID;\n\n    var nextQuest = allQuests.ToDictionary(q =&gt; q.questEndID, q =&gt; q.questGrantID);\n\n    for (; nextQuest.TryGetValue(curQuestID, out var nextQuestID); curQuestID = nextQuestID)\n        yield return nextQuestID;\n}\n</code></pre>\n\n<p>Now you can call that on all the parents to get all the chains:</p>\n\n<pre><code>var questChains = parents.Select(pq =&gt; questsList.questChain(pq));\n</code></pre>\n\n<p>Now if you really want the order,quest pair, you can number each chain:</p>\n\n<pre><code>var orderedQuests = questChains.Select(qc =&gt; qc.Select((quest, i) =&gt; new { order = i+1, quest } ));\n</code></pre>\n\n<p>If you want the numbering to be continuous across the chains, you will need to track it outside the query:</p>\n\n<pre><code>var curOrder = 1;\nvar orderedQuestsContinuous = questChains.Select(qc =&gt; qc.Select(quest =&gt; new { order = curOrder++, quest }));\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 1149456, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pSpwg.jpg?s=128&g=1", "display_name": "strykstaguy", "link": "https://stackoverflow.com/users/1149456/strykstaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 49544395, "answer_count": 1, "score": 1, "last_activity_date": 1522272246, "creation_date": 1522268748, "last_edit_date": 1522272246, "question_id": 49543580, "link": "https://stackoverflow.com/questions/49543580/hierarchical-list-based-on-two-different-properties-of-same-list", "title": "Hierarchical list based on two different properties of same List", "body": "<p>I have a list of 'quests' with a quest that is 'granted' when one 'ends'. The quests are not stored in sequential order so I'm attempting to find two things.</p>\n\n<pre><code>class quests\n{\n    public string questGrantID { get; set; }\n    public string questEndID { get; set; }\n}\n</code></pre>\n\n<p>Example</p>\n\n<pre>\n+--------------+--------------+\n| grants       | ends         |\n+--------------+--------------+\n| quest234     | quest567     |\n| quest987     | quest234     |\n| quest654     | quest987     |\n+--------------+--------------+\n</pre>\n\n<p><strong>Parent Quests</strong>: In this example I would know the 'Parent' quest is <strong><em>quest567</em></strong> because the parent is found under questEndID but not under questGrantID. </p>\n\n<p><strong>Children Quests</strong>: In this example, after <strong><em>quest567</em></strong> is completed, the user is granted <strong><em>quest234</em></strong>. When quest <strong><em>quest234</em></strong> ends, <strong><em>quest987</em></strong> is granted and so on.</p>\n\n<p>I don't know where to start, i've looked up example of joining two separate list, not the same. I assume this will be two different functions, one to find the parents and the other finding the children. From there i will create a new list.</p>\n\n<p>Example</p>\n\n<pre>\n+--------------+--------------+\n| order        | quest        |\n+--------------+--------------+\n| 1            | quest567     |\n| 2            | quest234     |\n| 3            | quest987     |\n| 4            | quest654     |\n+--------------+--------------+\n</pre>\n"}, {"tags": ["c#", ".net", "ibm-mq"], "comments": [{"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522274871, "post_id": 49543563, "comment_id": 86097580, "body": "Are you using MQ in unmanaged mode (with full MQ client install) or in managed mode with just the amqmdnet.dll present?"}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522274897, "post_id": 49543563, "comment_id": 86097586, "body": "Can you provide some sample code around how you are passing the the connection details and key store information."}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522274942, "post_id": 49543563, "comment_id": 86097603, "body": "Also JKS is Java Key Store and you can not use this directly from C# as far as I know, you would need to convert it to something else and the answer that would depend on the mode you use (unmanaged or managed mode)."}, {"owner": {"reputation": 13, "user_id": 1871707, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d51f21bbab507fe2b6cb5a62aaffef26?s=128&d=identicon&r=PG", "display_name": "JavaJo", "link": "https://stackoverflow.com/users/1871707/javajo"}, "reply_to_user": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522275241, "post_id": 49543563, "comment_id": 86097719, "body": "@JoshMc- I have the full MQ client installed. Yes, this is what I believe too that JKS cannot be used directly so I looked up a little and found out that I need to used CMS but I am not sure how to convert JKS to CMS."}, {"owner": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "edited": false, "score": 0, "creation_date": 1522275402, "post_id": 49543563, "comment_id": 86133946, "body": "Other people have posted C# MQ SSL questions - you should check the answers: <a href=\"https://stackoverflow.com/questions/2663231/net-client-connecting-to-ibm-mq-over-ssl\" title=\"net client connecting to ibm mq over ssl\">stackoverflow.com/questions/2663231/&hellip;</a> <a href=\"https://stackoverflow.com/questions/26898528/connecting-to-ibm-mq-over-ssl-via-net-client\" title=\"connecting to ibm mq over ssl via net client\">stackoverflow.com/questions/26898528/&hellip;</a> developerWorks C# MQ SSL blog posting: <a href=\"https://www.ibm.com/developerworks/community/blogs/messaging/entry/mq_v8_dot_net_samples_can_create_ssl_connection_in_managed_mode?lang=en\" rel=\"nofollow noreferrer\">ibm.com/developerworks/community/blogs/messaging/entry/&hellip;</a> Slideshare C# MQ SSL Sending/Receiving messages: <a href=\"https://www.slideshare.net/ShreeshaRao3/ibm-mq-with-c-sending-and-receiving-messages\" rel=\"nofollow noreferrer\">slideshare.net/ShreeshaRao3/&hellip;</a>"}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522276266, "post_id": 49543563, "comment_id": 86098035, "body": "Can you confirm you are not specifying manged mode with something like setting the property <code>MQC.TRANSPORT_PROPERTY</code> to <code>MQC.TRANSPORT_MQSERIES_MANAGED</code>?"}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522276356, "post_id": 49543563, "comment_id": 86098070, "body": "The reason I&#39;m asking is that Managed mode does not support TLS unto v8.  Also note that v7.1 has been out of support since April 30th 2017.  Please provide the code that shows how you are setting hostname, port, sslciph, channel, etc in order to help.  Read the help senter on the topic: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522276491, "post_id": 49543563, "comment_id": 86098105, "body": "The runmqckm command can be used to take a JKS as input and output a KDB file.  Can you give an example of what you specify for the value of <code>sslKeyRepository</code> in your example."}, {"owner": {"reputation": 13, "user_id": 1871707, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d51f21bbab507fe2b6cb5a62aaffef26?s=128&d=identicon&r=PG", "display_name": "JavaJo", "link": "https://stackoverflow.com/users/1871707/javajo"}, "reply_to_user": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522276527, "post_id": 49543563, "comment_id": 86098116, "body": "I have updated the connection properties I am using. And also, Yes, I have set MQC.TRANSPORT_PROPERTY to MQC.TRANSPORT_MQSERIES_MANAGED. Earlier I had set it to TRANSPORT_MQSERIES_CLIENT.  I changed it because using MQSERIES.MANAGED  I am able to make a connection to the MQ server as I confirmed it with the MQ team that they are seeing the connection requests."}, {"owner": {"reputation": 13, "user_id": 1871707, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d51f21bbab507fe2b6cb5a62aaffef26?s=128&d=identicon&r=PG", "display_name": "JavaJo", "link": "https://stackoverflow.com/users/1871707/javajo"}, "reply_to_user": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522276797, "post_id": 49543563, "comment_id": 86098190, "body": "MQ team said they are seeing below exception when I make a connection request using MQC.TRANSPORT_MQSERIES_MANAGED: Remote channel  did not specify a CipherSpec when the local channel expected one to be specified"}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522276888, "post_id": 49543563, "comment_id": 86098215, "body": "See above, managed mode client did not support TLS until v8.  7.1 and 7.5 do not support it.  With that being said, even with v8/v9 it is not as configurable as unmanaged mode, you can not specify a specific cipherspec without modifying the windows policy which is a machine wide setting for any program that uses SSLStream."}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522276957, "post_id": 49543563, "comment_id": 86098234, "body": "Likely it gets further and &quot;connects&quot; because it is ignoring the cipher/keystore settings and with unmanaged it fails because of an error with one of those settings.  Can you please provide what those two variables are set to (sanitize if you need to but make them look as similar to what you are actually specifying as possible."}, {"owner": {"reputation": 13, "user_id": 1871707, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d51f21bbab507fe2b6cb5a62aaffef26?s=128&d=identicon&r=PG", "display_name": "JavaJo", "link": "https://stackoverflow.com/users/1871707/javajo"}, "reply_to_user": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522277544, "post_id": 49543563, "comment_id": 86098401, "body": "@JoshMc - I have updated my question with the sslkeyrepository being used."}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1522283550, "post_id": 49543563, "comment_id": 86099909, "body": "Does anything show up in your local file called <code>C:\\Program Files (x86)\\IBM\\WebSphere MQ\\AMQERR01.LOG</code>?  It looks like your problem is that you are specifying the CipherSpec as <code>SSL_RSA_WITH_DES_CBC_SHA</code> which is a IBM JRE CipherSuite  name.  You would want to specify exactly what the MQ admin has put on the <code>SVRCONN</code> channel, it could  be either <code>DES_SHA_EXPORT</code> or <code>TLS_RSA_WITH_DES_CBC_SHA</code>, however unless the queue manager and the client set some setting to allow weak ciphers both are disabled in 7.1.0.7 and higher.  APAR IV73396 and IV73287."}], "owner": {"reputation": 13, "user_id": 1871707, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d51f21bbab507fe2b6cb5a62aaffef26?s=128&d=identicon&r=PG", "display_name": "JavaJo", "link": "https://stackoverflow.com/users/1871707/javajo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522277833, "creation_date": 1522268676, "last_edit_date": 1522277833, "question_id": 49543563, "link": "https://stackoverflow.com/questions/49543563/connecting-to-mq-from-c-application-using-jks-file", "title": "Connecting to MQ from C# application using .JKS file", "body": "<p>I am working on a C# application that needs to make connection to WMQ queue(remote server) that is SSL secured.\nHowever it is failing with:</p>\n\n<blockquote>\n  <p>MQQueueManager error occurred: \n  msg: MQRC_SSL_INITIALIZATION_ERROR</p>\n</blockquote>\n\n<p>I am using MQ client version 7.1.0.9.\nI doubt if I am passing the SSL configuration correctly. I am provided a .JKS keystore that I am converting to .KDB but that did not help.</p>\n\n<p>Below are the properties I am using :</p>\n\n<pre><code>sslKeyRepository = @\"C:\\Program Files (x86)\\IBM\\WebSphere MQ\\SSL\\key\"\ncipherSpec = SSL_RSA_WITH_DES_CBC_SHA\nconnectionProperties.Add(MQC.HOST_NAME_PROPERTY, hostName);\nconnectionProperties.Add(MQC.PORT_PROPERTY, port);\nconnectionProperties.Add(MQC.CHANNEL_PROPERTY, channel);\nconnectionProperties.Add(MQC.SSL_CIPHER_SPEC_PROPERTY, cipherSpec);\nconnectionProperties.Add(MQC.SSL_CERT_STORE_PROPERTY, sslKeyRepository);\n\nMQQueueManager qMgr = new MQQueueManager(qManager, connectionProperties);\n</code></pre>\n\n<blockquote>\n  <p>\"key\" in the sslKeyRepository above is the name of the .KDB file I have generated from JKS.</p>\n</blockquote>\n\n<p>How can I use the provided .JKS file with my C# code to access the MQ?</p>\n"}, {"tags": ["c#", "object-property"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1522268740, "post_id": 49543550, "comment_id": 86094734, "body": "The code does not make a whole lot of sense.  You have a variable named <code>object</code>?  I <i>sincerely</i> doubt that.  What is the intention of this code?  It feels like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1522269216, "post_id": 49543550, "comment_id": 86095002, "body": "This sounds like a <a href=\"https://codereview.stackexchange.com/\">Code Review</a> and that would make it off-topic for this site"}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 2, "creation_date": 1522269458, "post_id": 49543550, "comment_id": 86095113, "body": "Alternatively you can use switch-case or create a Dictionary where keys are values of DayOfWeek and values are values of &quot;object&quot;."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 1, "creation_date": 1522269733, "post_id": 49543550, "comment_id": 86095277, "body": "You <i>could</i> put them in an array and then cast the <code>DayOfWeek</code> enum to an <code>int</code> to select from that array BUT it wouldn&#39;t be much better and it would require another allocation on the heap."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1522269828, "post_id": 49543550, "comment_id": 86095343, "body": "If you want to call your object &#39;object&#39; it needs to be <code>@object</code> but don&#39;t ever do that :)"}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1522269527, "post_id": 49543754, "comment_id": 86095151, "body": "It seems like reflection is a bad idea here, we should figure out some more details from the OP"}], "tags": [], "owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "is_accepted": true, "score": 0, "last_activity_date": 1522269577, "last_edit_date": 1522269577, "creation_date": 1522269454, "answer_id": 49543754, "question_id": 49543550, "link": "https://stackoverflow.com/questions/49543550/eliminating-multiple-if-statements-for-pulling-a-specific-object-property/49543754#49543754", "title": "Eliminating Multiple If Statements For Pulling A Specific Object Property", "body": "<p>Something like this probably (did not compiled this code though)</p>\n\n<pre><code>object.GetType().GetProperty(today.DayOfWeek.ToSring()).GetValue(object)\n</code></pre>\n\n<p>use reflection to get property value,with only condition that <code>DayOfWeek</code> enum member has to have <em>exact</em> name of the property present in <code>object</code> type. </p>\n"}, {"tags": [], "owner": {"reputation": 683, "user_id": 4863942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26386bfd6dd2401314de7f1f4af90717?s=128&d=identicon&r=PG&f=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/4863942/cory"}, "is_accepted": false, "score": 1, "last_activity_date": 1522271798, "last_edit_date": 1522271798, "creation_date": 1522269718, "answer_id": 49543823, "question_id": 49543550, "link": "https://stackoverflow.com/questions/49543550/eliminating-multiple-if-statements-for-pulling-a-specific-object-property/49543823#49543823", "title": "Eliminating Multiple If Statements For Pulling A Specific Object Property", "body": "<p>If you are able to modify the class of the <code>object</code> that makes up your <code>objectList</code> variable, then try using a <code>Dictionary&lt;DayOfWeek, TimeSpan?&gt;</code> in that class. <code>DayOfWeek</code> would be the <code>key</code> and <code>TimeSpan?</code> would be the <code>value</code>. This would simplify the class as well as eliminate the long <code>if-else</code> logic. </p>\n\n<p>Also, if I'm not mistaken, this method would also be faster than using reflection and wouldn't rely on the property names of your <code>object</code> to be spelled exactly the same of the days of the week in <code>DayOfWeek</code> (if you needed to refactor for some reason in the future).</p>\n\n<p>Here is an example:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    List&lt;WeekObject&gt; weekObjs = new List&lt;WeekObject&gt;();\n\n    foreach (var obj in weekObjs)\n    {\n        SaveTime(obj.ID, obj.weekDictionary[DateTime.Today.DayOfWeek]);\n    }\n}\n\nclass WeekObject\n{\n    public int ID { get; set; }\n    public Dictionary&lt;DayOfWeek, TimeSpan?&gt; weekDictionary { get; set; } = new Dictionary&lt;DayOfWeek, TimeSpan?&gt;();\n\n    public WeekObject ()\n    {\n        // Initialize dictionary here if you'd like\n        weekDictionary.Add(DayOfWeek.Sunday, null);\n    }\n}\n\npublic static void SaveTime(int ID, TimeSpan? timeSpan)\n{\n    // Your code here\n}\n</code></pre>\n"}], "owner": {"reputation": 88, "user_id": 3312597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a77e0fae7bc59a704b2d485cf35bdfe?s=128&d=identicon&r=PG", "display_name": "Dan Walsh", "link": "https://stackoverflow.com/users/3312597/dan-walsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1522273935, "accepted_answer_id": 49543754, "answer_count": 2, "score": -1, "last_activity_date": 1522271798, "creation_date": 1522268621, "question_id": 49543550, "link": "https://stackoverflow.com/questions/49543550/eliminating-multiple-if-statements-for-pulling-a-specific-object-property", "closed_reason": "Needs details or clarity", "title": "Eliminating Multiple If Statements For Pulling A Specific Object Property", "body": "<p>I have the following solution (removed some unrelated code for easy reading) that iterates through a list of objects and pulls a specific property depending on a condition (in this sceneario, what day it is). </p>\n\n<p>It works, but is there a more elegant solution than this?</p>\n\n<pre><code>foreach (var object in objectList)\n{\n    var time = new TimeSpan?();\n\n    if (today.DayOfWeek == DayOfWeek.Monday)\n        time = object.Monday;\n    else if (today.DayOfWeek == DayOfWeek.Tuesday)\n        time = object.Tuesday;\n    else if (today.DayOfWeek == DayOfWeek.Wednesday)\n        time = object.Wednesday;\n    else if (today.DayOfWeek == DayOfWeek.Thursday)\n        time = object.Thursday;\n    else if (today.DayOfWeek == DayOfWeek.Friday)\n        time = object.Friday;\n    else if (today.DayOfWeek == DayOfWeek.Saturday)\n        time = object.Saturday;\n    else if (today.DayOfWeek == DayOfWeek.Sunday)\n        time = object.Sunday;\n\n    SaveTime(object.Id, time);\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "linq", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522268724, "post_id": 49543479, "comment_id": 86094720, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15764572/ef-linq-include-multiple-and-nested-entities\">EF LINQ include multiple and nested entities</a> - see the answer by @NickN"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522268766, "post_id": 49543479, "comment_id": 86094745, "body": "Or this question: <a href=\"https://stackoverflow.com/questions/40181872/ef-core-include-on-multiple-sub-level-collections?rq=1\" title=\"ef core include on multiple sub level collections\">stackoverflow.com/questions/40181872/&hellip;</a>"}, {"owner": {"reputation": 2255, "user_id": 7897176, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3a552cdc067239869f8571f314912e86?s=128&d=identicon&r=PG&f=1", "display_name": "Valuator", "link": "https://stackoverflow.com/users/7897176/valuator"}, "edited": false, "score": 0, "creation_date": 1522268797, "post_id": 49543479, "comment_id": 86094764, "body": "AFAIK that&#39;s the only way to include multiple sub- navigation properties. The new Lazy Loading features coming in EF Core 2.1 might alleviate having to write stuff like this so often."}, {"owner": {"reputation": 919, "user_id": 2088245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTsG0.jpg?s=128&g=1", "display_name": "Kevbo", "link": "https://stackoverflow.com/users/2088245/kevbo"}, "edited": false, "score": 0, "creation_date": 1522268824, "post_id": 49543479, "comment_id": 86094779, "body": "I dont see any relationship for advisor to your StudentCourses.  This will result in a Cartesian join"}, {"owner": {"reputation": 16833, "user_id": 295302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e4a70d9f7a3b7d59268b765399d7e36?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/295302/steven"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522269016, "post_id": 49543479, "comment_id": 86094891, "body": "@CamiloTerevinto - thanks for those, so it looks like what I&#39;m doing IS the correct way to do it, just looks strange"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522269051, "post_id": 49543479, "comment_id": 86094916, "body": "It certainly does, but been using EF Core since 1.0 preview and there&#39;s no other way... yet"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1522276571, "post_id": 49543479, "comment_id": 86098130, "body": "<i>is this the only way</i> No, you can also use projection -- <code>select new { ... }</code> -- and pick the exact properties you need &quot;(like Name)&quot;."}], "owner": {"reputation": 16833, "user_id": 295302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e4a70d9f7a3b7d59268b765399d7e36?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/295302/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1466, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522269461, "creation_date": 1522268369, "question_id": 49543479, "link": "https://stackoverflow.com/questions/49543479/including-related-entities-with-a-many-to-many-relationship-between", "title": "Including related entities with a many-to-many relationship between", "body": "<p>I have a many-to-many relationship set up with Entity Framework like this:</p>\n\n<pre><code>public class Student\n{\n    public int StudentId { get; set; }\n    public string Name { get; set; }\n\n    public ICollection&lt;StudentCourse&gt; StudentCourses { get; set; }\n}\n\npublic class Course\n{\n    public int CourseId { get; set; }\n    public string Name { get; set; }\n\n    public ICollection&lt;StudentCourse&gt; StudentCourses { get; set; }\n}\n\npublic class StudentCourse\n{\n    public int StudentId { get; set; }\n    public Student Student { get; set; }\n\n    public int CourseId { get; set; }\n    public Course Course { get; set; }\n}\n</code></pre>\n\n<p>This works great, I have Students and I have Courses, and StudentCourses is the many-to-many relationship between them.</p>\n\n<p>I also have an Advisor class, which has a collection of StudentCourses that the Advisor is in charge of:</p>\n\n<pre><code>public class Advisor\n{\n    public int AdvisorId { get; set; }\n    public ICollection&lt;StudentCourse&gt; StudentCourses { get; set; }\n}\n</code></pre>\n\n<p>I would like to get a collection of Advisors and the StudentCourses they're in charge of, but also the data properties from the Student and Course objects (like Name), all at once. This works for me:</p>\n\n<pre><code>var advisors = await _dbContext.Advisors\n    .Include(a =&gt; a.StudentCourses)\n         .ThenInclude(sc =&gt; sc.Student)\n    Include(a =&gt; a.StudentCourses)\n        .ThenInclude(sc =&gt; sc.Course)\n    .ToListAsync();\n</code></pre>\n\n<p>But is this the only way I can do that? Seems wrong to have that duplicate Include statement</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-apicontroller"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 0, "creation_date": 1522271905, "post_id": 49543733, "comment_id": 86096369, "body": "Hi Johnny, I did as instructions and I get the error &quot;The modifier &#39;virtual&#39; is not valid for this item&quot;."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 0, "creation_date": 1522271937, "post_id": 49543733, "comment_id": 86096389, "body": "sorry the derrived class should use the keyword override"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 0, "creation_date": 1522271967, "post_id": 49543733, "comment_id": 86096401, "body": "@ana I&#39;ve updated my answer,  If that works for you please upvote and mark as correct ;p"}, {"owner": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 1, "creation_date": 1522272376, "post_id": 49543733, "comment_id": 86096591, "body": "Also, I&#39;ve changed the =&gt; to just &#39;=&#39; because of sintax errors;"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 0, "creation_date": 1522272437, "post_id": 49543733, "comment_id": 86096622, "body": "@Ana that syntax is for properties I guess your not on C# 7 Hold on Ill make another update"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 0, "creation_date": 1522272597, "post_id": 49543733, "comment_id": 86096685, "body": "@Ana when you switched to use = that changed the properties to a field.  The =&gt; is short hand for Property Getter syntax in c# 7.0"}, {"owner": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 0, "creation_date": 1522273494, "post_id": 49543733, "comment_id": 86097025, "body": "I&#39;ve market as useful, but I don&#39;t have enought reputation for now. As soon I get more points I will be back. promisse"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "edited": false, "score": 0, "creation_date": 1522273980, "post_id": 49543733, "comment_id": 86097220, "body": "@Ana there should be there is a checkmark next to the answer you can click, which marks it as answered.  there also is an up arrow to upvote the question"}], "tags": [], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "is_accepted": true, "score": 0, "last_activity_date": 1522272475, "last_edit_date": 1522272475, "creation_date": 1522269406, "answer_id": 49543733, "question_id": 49543403, "link": "https://stackoverflow.com/questions/49543403/setting-parameters-before-api-controller-initializes/49543733#49543733", "title": "Setting Parameters before api Controller initializes", "body": "<p>Create an virtual property in your base class to represent the <code>idEmpresa</code></p>\n\n<pre><code>public class BaseAPIController\n{\n     //Set the default to whatever it is used normally\n     public virtual int idEmpresa { get {return 1;} }\n}\n</code></pre>\n\n<p>then in your derrived class you override that property</p>\n\n<pre><code>public class ListagemProjetoEletricoWebController :BaseAPIController&lt;ListagemProjetoEletricoBusiness&gt;\n{\n    public override int idEmpresa { get { return 7;} } \n}\n</code></pre>\n\n<p>Then when you set your business idEmpresa use the property instead</p>\n\n<pre><code>this.business.idEmpresa = this.idEmpresa;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8181056, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586981924667871/picture?type=large", "display_name": "Ana", "link": "https://stackoverflow.com/users/8181056/ana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 49543733, "answer_count": 1, "score": 3, "last_activity_date": 1522272475, "creation_date": 1522268107, "last_edit_date": 1522268374, "question_id": 49543403, "link": "https://stackoverflow.com/questions/49543403/setting-parameters-before-api-controller-initializes", "title": "Setting Parameters before api Controller initializes", "body": "<p>I'm trying to pass a parameter for database connection purposes in my apiController constructor.\nfor example by default in my baseAPIController i neeed the code to be '1'. But in this specific controller I need to change that parameter to '7'. \nThe problem is that my BaseAPIController instanciates with '1' and after instantiated even if I send '7' in the property it doesn't change.\nHow can I set \"7\" in this specific controller before the baseAPI is initialized?</p>\n\n<pre><code>public class ListagemProjetoEletricoWebController :BaseAPIController&lt;ListagemProjetoEletricoBusiness&gt;\n{       \n    public List&lt;ListagemProjeto&gt; Get(String cpf)\n    {\n        business.idEmpresa = 7;\n        List&lt;ListagemProjeto&gt; listProjetoEletricoWeb = business.GetProjetoEletricoLista(cpf);\n        return listProjetoEletricoWeb;\n    }\n}\n</code></pre>\n\n<p>and in my baseAPIcontroller I have.</p>\n\n<pre><code>protected override void Initialize(HttpControllerContext controllerContext)\n{\n    this.business = new TBusiness();\n    this.business.idEmpresa = 1;\n\n    this.business.db = new BaseBusiness(this.business.idEmpresa).db; \n\n    base.Initialize(controllerContext);\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "serial-port"], "comments": [{"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "edited": false, "score": 0, "creation_date": 1522272234, "post_id": 49543343, "comment_id": 86096540, "body": "serialPort1.ReadLine(); why you use it for getting last line?   <code>string lastLine = serialPort1.ReadLine(); label1.Text = string.IsNullOrEmpty(lastLine) ? label1.Text  : $&quot;{lastLine}{Environment.NewLine}{label1.Text}&quot;;</code>"}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "reply_to_user": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "edited": false, "score": 0, "creation_date": 1522273021, "post_id": 49543343, "comment_id": 86096854, "body": "@AdemCatamak thank you so much, I just have one more question, I need it to update every second but a while loop doesn&#39;t seem to work, is there a way I can fix this?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522274354, "post_id": 49544734, "comment_id": 86097374, "body": "it updates it in a weird way, I linked an image of what it&#39;s doing at the very top"}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522275087, "post_id": 49544734, "comment_id": 86097664, "body": "Also I had to change  Thread.Sleep(TimeSpan.FromSeconds(1)); to Task.Delay(10).Wait(); because the first one gave me an error"}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522275430, "post_id": 49544734, "comment_id": 86097781, "body": "I edit my answer a little bit. <code>serialPort1.ReadLine();</code> return last line for you, after than if you call ReadLine again it give you the same value again. Hence, I add <code>string.Equals(tailValue, line)</code> condition."}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522276069, "post_id": 49544734, "comment_id": 86097975, "body": "): It still seems to be acting weird, I updated the image at the top"}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522276234, "post_id": 49544734, "comment_id": 86098026, "body": "Can you modified <code>Task.Delay(10).Wait();</code>  to <code>Task.Delay(TimeSpan.FromSeconds(1)).Wait();</code> or <code>Task.Delay(1000).Wait();</code>  10 means 10 milliseconds. Probably threads try to update label content the same time. This may leads to absurd content like screenshot"}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522276584, "post_id": 49544734, "comment_id": 86098131, "body": "I was using Task.Delay(1000).Wait(); and I had the same results"}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522277413, "post_id": 49544734, "comment_id": 86098360, "body": "I edit my code. But I do not have opinion about real reason why program result look likes that. I&#39;m guessing in the light of the screenshoots.  Moreover, in past, I could not get satisfactory results with the System.IO.Ports -SerialPort- library. I hope you can reach your goal"}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522277823, "post_id": 49544734, "comment_id": 86098474, "body": "Okay, I updated the original code at the top, does it add up?"}], "tags": [], "owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "is_accepted": false, "score": 0, "last_activity_date": 1522277201, "last_edit_date": 1522277201, "creation_date": 1522273767, "answer_id": 49544734, "question_id": 49543343, "link": "https://stackoverflow.com/questions/49543343/visual-studio-serial-input-from-arduino/49544734#49544734", "title": "Visual Studio Serial input from Arduino", "body": "<p>This may not be your golden solution but I hope this gives you a lead.</p>\n\n<pre><code>public Form1()\n{\n    InitializeComponent();\n\n    serialPort1.Open();\n\n    string currentLine = string.Empty;\n    object mylock = new object();\n    Task.Run(() =&gt;\n             {\n                 while (true)\n                 {\n                     lock (mylock)\n                     {\n                         string previousLine = currentLine;\n                         currentLine = serialPort1.ReadLine();\n                         string line = currentLine;\n                         label1.BeginInvoke(new Action\n                                                (() =&gt;\n                                                 {\n                                                     label1.Text = string.IsNullOrEmpty(line) || string.Equals(previousLine, line)\n                                                                       ? label1.Text\n                                                                       : $\"{line}{Environment.NewLine}{label1.Text}\";\n                                                 }\n                                                ));\n\n                         Task.Delay(TimeSpan.FromSeconds(1)).Wait();\n                     }\n                 }\n             });\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522277788, "creation_date": 1522267878, "last_edit_date": 1522277788, "question_id": 49543343, "link": "https://stackoverflow.com/questions/49543343/visual-studio-serial-input-from-arduino", "title": "Visual Studio Serial input from Arduino", "body": "<p>this is the updated version of the code does this add up with all the edits you made? I think it's mostly accurate but you can also try with visual studio, if you already did is it working on yours?</p>\n\n<pre><code>    namespace Lexis\n    {\n        public partial class Form1 : Form\n        {\n\n            public Form1()\n            {\n                InitializeComponent();\n\n                serialPort1.Open();\n                string lastLine = string.Empty;\n                Task.Run(() =&gt;\n                {\n                    while (true)\n                    {\n                        string tailValue = lastLine;\n                        lastLine = serialPort1.ReadLine();\n                        string line = lastLine;\n                        label1.BeginInvoke(new Action\n                                               (() =&gt;\n                                               {\n                                                   label1.Text = string.IsNullOrEmpty(line) || string.Equals(tailValue, line)\n                                                                  ? label1.Text\n                                                                  : $\"{line}{Environment.NewLine}{label1.Text}\";\n                                               }\n                                               ));\n\n                        Task.Delay(1000).Wait();\n\n\n\n\n\n\n\n                    }\n                });\n\n\n            }\n            private void label1_Click(object sender, EventArgs e)\n            {\n\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "geolocation", "trigonometry"], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 6718764, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dYZcF.jpg?s=128&g=1", "display_name": "Tiaan", "link": "https://stackoverflow.com/users/6718764/tiaan"}, "edited": false, "score": 0, "creation_date": 1522270850, "post_id": 49543594, "comment_id": 86095888, "body": "Oh dear... I&#39;ll blame that on all the different variations of functions I pulled from the internet..."}, {"owner": {"reputation": 649, "user_id": 6718764, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dYZcF.jpg?s=128&g=1", "display_name": "Tiaan", "link": "https://stackoverflow.com/users/6718764/tiaan"}, "edited": false, "score": 0, "creation_date": 1522270937, "post_id": 49543594, "comment_id": 86095924, "body": "The distance calculation is still not great but definitely better with this latest function. Thanks for the help and sorry for the waste of time! haha"}, {"owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "reply_to_user": {"reputation": 649, "user_id": 6718764, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dYZcF.jpg?s=128&g=1", "display_name": "Tiaan", "link": "https://stackoverflow.com/users/6718764/tiaan"}, "edited": false, "score": 0, "creation_date": 1522273762, "post_id": 49543594, "comment_id": 86097133, "body": "No worries. Takes a second set of eyes sometimes!"}], "tags": [], "owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "is_accepted": true, "score": 2, "last_activity_date": 1522268820, "creation_date": 1522268820, "answer_id": 49543594, "question_id": 49543292, "link": "https://stackoverflow.com/questions/49543292/unity3d-inaccurate-location-data/49543594#49543594", "title": "Unity3D inaccurate location data", "body": "<p>You are feeding the variables into the function (or using them) in the wrong order. </p>\n\n<p>You currently have:</p>\n\n<pre><code>float Distance = Haversine (PreviousLocation.Latitude, RecentLocation.Latitude, PreviousLocation.Longitude, RecentLocation.Longitude);\n</code></pre>\n\n<p>According to how you are using the variables, however, I'm guessing you mean to do:</p>\n\n<pre><code>float Distance = Haversine (PreviousLocation.Latitude, PreviousLocation.Longitude, RecentLocation.Latitude, RecentLocation.Longitude);\n</code></pre>\n"}], "owner": {"reputation": 649, "user_id": 6718764, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dYZcF.jpg?s=128&g=1", "display_name": "Tiaan", "link": "https://stackoverflow.com/users/6718764/tiaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 49543594, "answer_count": 1, "score": 0, "last_activity_date": 1522268820, "creation_date": 1522267682, "question_id": 49543292, "link": "https://stackoverflow.com/questions/49543292/unity3d-inaccurate-location-data", "title": "Unity3D inaccurate location data", "body": "<p>I am trying to calculate distance for in an app I am prototyping in Unity. I have implemented several C# versions of the Harvestine equation I have found online and they all behave the exact same way...</p>\n\n<pre><code>public static float Haversine(float lat1, float lon1, float lat2, float lon2) {\n    float R = 6372.8f; // In kilometers\n    float dLat = toRadians(lat2 - lat1);\n    float dLon = toRadians(lon2 - lon1);\n    lat1 = toRadians(lat1);\n    lat2 = toRadians(lat2);\n\n    float a = Mathf.Sin(dLat / 2) * Mathf.Sin(dLat / 2) + Mathf.Sin(dLon / 2) * Mathf.Sin(dLon / 2) * Mathf.Cos(lat1) * Mathf.Cos(lat2);\n    float c = 2 * Mathf.Asin(Mathf.Sqrt(a));\n    return R * 2 * Mathf.Asin(Mathf.Sqrt(a));\n}\n\npublic static float toRadians(float angle) {\n    return Mathf.PI * angle / 180f;\n}\n</code></pre>\n\n<p>This is the Haversine C# function I am using...</p>\n\n<p>But for some reason, without any variables changing, my total distance keeps increasing.\nNote this function is called every 250ms, it's output then another var is used for testing to store a total distance travelled like this:</p>\n\n<pre><code>float Distance = Haversine (PreviousLocation.Latitude, RecentLocation.Latitude, PreviousLocation.Longitude, RecentLocation.Longitude);\n\nTotalDistanceTravelled = TotalDistanceTravelled + Distance;\n</code></pre>\n\n<p>RecentLocation and PreviousLocation comes from a var storing location history, this data is the same as displayed in the video below</p>\n\n<p>This is the output I get, note this is not the case in the editor, only in the build:</p>\n\n<p><a href=\"https://youtu.be/5B--WWJHOYE\" rel=\"nofollow noreferrer\">https://youtu.be/5B--WWJHOYE</a></p>\n\n<p>Any help explaining this or suggesting some better code will be greatly appreciated! (I have a hunch it could have something to do with the radius?)</p>\n"}, {"tags": ["c#", "bitcoin"], "comments": [{"owner": {"reputation": 211, "user_id": 6673051, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc0889cf073edf3a762a2e4841aa5311?s=128&d=identicon&r=PG&f=1", "display_name": "Lolidze", "link": "https://stackoverflow.com/users/6673051/lolidze"}, "edited": false, "score": 0, "creation_date": 1522314686, "post_id": 49543289, "comment_id": 86111308, "body": "when the transaction received 88 confirmations QBitNinjaClient showed the balance. Created a new transaction, it again does not see. Can I somehow reduce the number of confirmations for QBitNinjaClient ?"}], "owner": {"reputation": 211, "user_id": 6673051, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc0889cf073edf3a762a2e4841aa5311?s=128&d=identicon&r=PG&f=1", "display_name": "Lolidze", "link": "https://stackoverflow.com/users/6673051/lolidze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 851, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1522308427, "creation_date": 1522267674, "last_edit_date": 1522308427, "question_id": 49543289, "link": "https://stackoverflow.com/questions/49543289/qbitninjaclient-get-balance-c", "title": "QBitNinjaClient Get Balance c#", "body": "<p>I generated 5 adresses</p>\n\n<pre><code>1KmjtM8aibtBqbPiJahYYEwcEAH2Duk9QH\n1HV55k5erZrFA3SirFLULf1rTs4sKvvqQg\n1B1Tx9wXVVmmySSDSFYekM7cy7xCTybEMg\n1Py6rXFPepLa7nacuRhYsJWYcfFLYE6zkw\n1GRHuGiHqtuLY3A6roH7fT9bjbbiG1foWM\n</code></pre>\n\n<p>on each of them transferred money</p>\n\n<p>trying to check the balance</p>\n\n<pre><code>public static void GetBalance(string ssAddress, bool ssIsUnspentOnly, bool ssIsTestNet, out decimal ssBalance, out decimal ssConfirmedBalance)\n{\n    Network net;\n    if (ssIsTestNet)\n        net = Network.TestNet;\n    else\n        net = Network.Main;\n    QBitNinjaClient client = new QBitNinjaClient(net);\n    var balance = client.GetBalance(new BitcoinPubKeyAddress(ssAddress), ssIsUnspentOnly).Result;\n    ssBalance = 0.0M;\n    ssConfirmedBalance = 0.0M;\n    if (balance.Operations.Count &gt; 0)\n    {\n        var unspentCoins = new List&lt;Coin&gt;();\n        var unspentCoinsConfirmed = new List&lt;Coin&gt;();\n        foreach (var operation in balance.Operations)\n        {\n            unspentCoins.AddRange(operation.ReceivedCoins.Select(coin =&gt; coin as Coin));\n            if (operation.Confirmations &gt; 0)\n                unspentCoinsConfirmed.AddRange(operation.ReceivedCoins.Select(coin =&gt; coin as Coin));\n        }\n        ssBalance = unspentCoins.Sum(x =&gt; x.Amount.ToDecimal(MoneyUnit.BTC));\n        ssConfirmedBalance = unspentCoinsConfirmed.Sum(x =&gt; x.Amount.ToDecimal(MoneyUnit.BTC));\n    }\n}\n\n\ndecimal addressBalance = 0;\ndecimal addressBalanceConfirmed = 0;\nGetBalance(\"1Py6rXFPepLa7nacuRhYsJWYcfFLYE6zkw\", true, false, out addressBalance, out addressBalanceConfirmed);\n</code></pre>\n\n<p>on the first three adresses shows the balance, and the last 2 no (balance.Operations.Count =0) But <a href=\"https://blockchain.info/tx/ffc21524760be4c4b3d4ede57d4189edac586b44dd7f62e446d1db341631d8e5\" rel=\"nofollow noreferrer\">link1</a>, <a href=\"https://blockchain.info/tx/54c41856a8b11ed9971f90f6fb3fb2ab7cc591860856db84cdd60112e37ba50d\" rel=\"nofollow noreferrer\">link2</a>.</p>\n\n<p>What i am doing wrong ?</p>\n"}, {"tags": ["c#", "winforms", "generics", "casting"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1522267740, "post_id": 49543270, "comment_id": 86094164, "body": "If using C# 7: <a href=\"https://stackoverflow.com/questions/43080505/c-sharp-7-0-switch-on-system-type\" title=\"c sharp 7 0 switch on system type\">stackoverflow.com/questions/43080505/&hellip;</a>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1522267899, "post_id": 49543270, "comment_id": 86094270, "body": "Lets say you were allowed to cast it.  What then.  What are you going to do with the result of that cast that you couldn&#39;t have done before?"}, {"owner": {"reputation": 896, "user_id": 3456351, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100006528991956/picture?type=large", "display_name": "As\u0131m G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/3456351/as%c4%b1m-g%c3%bcnd%c3%bcz"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522268479, "post_id": 49543270, "comment_id": 86094574, "body": "@Servy, the text box has a button, when clicked on the button opens a browse form where when I can search the SPOTS table where I can search by name, ref no, or other table properties. select the value and returns it to the textbox. I want to use this control instead of combobox when I have a lot of records. (sorry for bad english)"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1522269374, "post_id": 49543270, "comment_id": 86095069, "body": "@Licentia But how could you possibly expect to write code that uses that type when you don&#39;t know what type it&#39;s going to be, as it could be <i>any</i> type?"}, {"owner": {"reputation": 896, "user_id": 3456351, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100006528991956/picture?type=large", "display_name": "As\u0131m G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/3456351/as%c4%b1m-g%c3%bcnd%c3%bcz"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522271808, "post_id": 49543270, "comment_id": 86096324, "body": "@servy the text box has an information panel which is a user control and has a datasource on it, say I have a customer and countries 1to1 I make a browseform for countries, the browse forms have search add edit idle buttons. So I create a search form for b\u0131th pocos among with their Crud forms. Then for countries I create a user control that displays country name and continent. After that on the textbox Properties I type usercontrol name because it has datasource on it I get the poco name at runtime and set it to create the browse form email me for details a.gunduz@live.com"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522271975, "post_id": 49543270, "comment_id": 86096407, "body": "That doesn&#39;t answer my question at all.  Again, what are you actually going to do with this variable once you&#39;ve cast it that you couldn&#39;t have done without casting it."}, {"owner": {"reputation": 896, "user_id": 3456351, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100006528991956/picture?type=large", "display_name": "As\u0131m G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/3456351/as%c4%b1m-g%c3%bcnd%c3%bcz"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522272277, "post_id": 49543270, "comment_id": 86096553, "body": "@servy oh now I get it:) I could create it and cast it to dynamic and call the showdialog.. well it&#39;s midnight and been working since 9 \ud83d\ude05 thx for pointing it out :))"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522272432, "post_id": 49543270, "comment_id": 86096618, "body": "@Licentia If you know it&#39;s a <code>Form</code> and you want to call <code>ShowDialog</code> then cast it to a <code>Form</code> and remove all of the dynamic code entirely."}, {"owner": {"reputation": 896, "user_id": 3456351, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100006528991956/picture?type=large", "display_name": "As\u0131m G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/3456351/as%c4%b1m-g%c3%bcnd%c3%bcz"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522272681, "post_id": 49543270, "comment_id": 86096718, "body": "@Servy yes I could do that but there are a few more properties I set in there, I did&#39;t post that part of the code because it was unnecessary, so if casted to form I would still need reflection to access the properties"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522272724, "post_id": 49543270, "comment_id": 86096732, "body": "@Licentia If a bunch of objects are all expected to provide a certain set of functionality then they should all implement an interface."}, {"owner": {"reputation": 919, "user_id": 2088245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTsG0.jpg?s=128&g=1", "display_name": "Kevbo", "link": "https://stackoverflow.com/users/2088245/kevbo"}, "edited": false, "score": 0, "creation_date": 1522354002, "post_id": 49543270, "comment_id": 86136519, "body": "Have you thought about creating a base form class that has these few properties in it and then derive your other forms from that?  Then you wont need to use reflection.  Just check if derives from the base and then cast it to the base if it does.  then your stuff is available in intellisense too."}], "owner": {"reputation": 896, "user_id": 3456351, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100006528991956/picture?type=large", "display_name": "As\u0131m G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/3456351/as%c4%b1m-g%c3%bcnd%c3%bcz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "closed_date": 1522268646, "answer_count": 0, "score": 0, "last_activity_date": 1522267859, "creation_date": 1522267606, "last_edit_date": 1522267735, "question_id": 49543270, "link": "https://stackoverflow.com/questions/49543270/how-to-cast-to-generic-type-at-runtime-if-t-is-not-available", "closed_reason": "Duplicate", "title": "How to cast to generic type at runtime if &lt;T&gt; is not available", "body": "<p>I have the following code</p>\n\n<pre><code>var type = Type.GetType(BrowseDialogName);\nvar browseForm = Activator.CreateInstance(type) as MyBrowseForm&lt;SPORTS&gt;;\n</code></pre>\n\n<p>I'm using entity framework and SPORTS is the name of the poco class</p>\n\n<p>my problem here is that this code is inside a custom textbox that has a button and I'm not able to get <code>&lt;T&gt;</code> , at runtime I have the name of the poco class.</p>\n\n<p>so I was wondering if I could do the casting at runtime.</p>\n\n<p>any help or guide is very appreciated</p>\n"}, {"tags": ["c#", "exchangewebservices", "ews-managed-api"], "comments": [{"owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "edited": false, "score": 1, "creation_date": 1522283295, "post_id": 49543239, "comment_id": 86099851, "body": "It really sounds like an issue in your code eg different property sets being used between finditems and LoadPropertiesForItems you really need to post your code as it will be obvious if that is the error to anybody looking. Streamable properties are those props greater then 512 KB which you need to use GetItem to retrieve (which LoadPropertiesForItems does)"}, {"owner": {"reputation": 1052, "user_id": 1059744, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/89ba3d253294da14f841a90ace0a0677?s=128&d=identicon&r=PG", "display_name": "Haris Osmanagi\u0107", "link": "https://stackoverflow.com/users/1059744/haris-osmanagi%c4%87"}, "reply_to_user": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "edited": false, "score": 0, "creation_date": 1522310472, "post_id": 49543239, "comment_id": 86108795, "body": "@GlenScales Thanks for the comment! I&#39;ll add some code snippets in a bit."}, {"owner": {"reputation": 1052, "user_id": 1059744, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/89ba3d253294da14f841a90ace0a0677?s=128&d=identicon&r=PG", "display_name": "Haris Osmanagi\u0107", "link": "https://stackoverflow.com/users/1059744/haris-osmanagi%c4%87"}, "reply_to_user": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "edited": false, "score": 0, "creation_date": 1522320265, "post_id": 49543239, "comment_id": 86115187, "body": "I&#39;ve added some excerpts from the code. It is true that we are using different property sets between FindItems and LoadPropertiesForItems, but most of the time, this works."}, {"owner": {"reputation": 1052, "user_id": 1059744, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/89ba3d253294da14f841a90ace0a0677?s=128&d=identicon&r=PG", "display_name": "Haris Osmanagi\u0107", "link": "https://stackoverflow.com/users/1059744/haris-osmanagi%c4%87"}, "reply_to_user": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "edited": false, "score": 0, "creation_date": 1522428338, "post_id": 49543239, "comment_id": 86163849, "body": "@GlenScales Updated. : )"}, {"owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "edited": false, "score": 0, "creation_date": 1522624883, "post_id": 49543239, "comment_id": 86214277, "body": "Are you actually defining and using PR_INTERNET_REFERENCES I can&#39;t see that in your code. Basically you should avoid using PR_INTERNET_REFERENCES in FindItems because this property could grow beyond what FindItem can return based on the number or responses etc. On which line is it throwing the error ? the next thing would be to do some tracing <a href=\"https://msdn.microsoft.com/en-us/library/office/dd633676(v=exchg.80).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/office/&hellip;</a>"}, {"owner": {"reputation": 1052, "user_id": 1059744, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/89ba3d253294da14f841a90ace0a0677?s=128&d=identicon&r=PG", "display_name": "Haris Osmanagi\u0107", "link": "https://stackoverflow.com/users/1059744/haris-osmanagi%c4%87"}, "reply_to_user": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "edited": false, "score": 0, "creation_date": 1522662204, "post_id": 49543239, "comment_id": 86224228, "body": "It&#39;s the &quot;verifying properties&quot; block of code which &quot;throws up&quot;. I&#39;ll add some more logs to be 100% sure which property cannot be loaded. My humble suspicion is that item.MimeContent cannot be loaded. However, I find it mysterious that it&#39;s failing after a LoadProperties() call, not FindItems()."}, {"owner": {"reputation": 1052, "user_id": 1059744, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/89ba3d253294da14f841a90ace0a0677?s=128&d=identicon&r=PG", "display_name": "Haris Osmanagi\u0107", "link": "https://stackoverflow.com/users/1059744/haris-osmanagi%c4%87"}, "reply_to_user": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "edited": false, "score": 0, "creation_date": 1522662247, "post_id": 49543239, "comment_id": 86224245, "body": "Thanks, for the tip for tracing! I&#39;m pretty new with this, and the first time I see that you can trace EWS requests!"}], "owner": {"reputation": 1052, "user_id": 1059744, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/89ba3d253294da14f841a90ace0a0677?s=128&d=identicon&r=PG", "display_name": "Haris Osmanagi\u0107", "link": "https://stackoverflow.com/users/1059744/haris-osmanagi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3688, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522320194, "creation_date": 1522267465, "last_edit_date": 1522320194, "question_id": 49543239, "link": "https://stackoverflow.com/questions/49543239/whats-the-cause-for-pr-internet-references-is-too-large-and-requires-streaming", "title": "What&#39;s the cause for &quot;PR_INTERNET_REFERENCES is too large and requires streaming&quot; when using EWS Managed API?", "body": "<p>An application uses EWS Managed API to fetch and process large quantities of Exchange items. The items are loaded using <code>ExchangeService.LoadPropertiesForItems(items, propertySet)</code>.</p>\n\n<p>During the items' processing, when a property of an item is being accessed, the following exception is thrown: </p>\n\n<pre><code>Microsoft.Exchange.WebServices.Data.ServiceResponseException: Data is corrupt., The object data is corrupted. The value of property [0x1039001f] PR_INTERNET_REFERENCES is too large and requires streaming.\n</code></pre>\n\n<p>The only thing I could find so far is an advice to use <code>BindToItems()</code> instead of <code>LoadPropertiesForItems()</code>, but I didn't try it out yet (I cannot reproduce the issue consistently).</p>\n\n<p>My question, then, is: How do I do the streaming mentioned in the error (if that is what I need to do at all)?</p>\n\n<p><strong>Update</strong> (added some code examples)</p>\n\n<pre><code>var basicPropertySet = new PropertySet(BasePropertySet.IdOnly, ItemSchema.LastModifiedTime, ItemSchema.ParentFolderId)\n{\n    new ExtendedPropertyDefinition(0x300B, MapiPropertyType.Binary)\n};\n\nvar detailsPropset = new PropertySet(ItemSchema.Id, ItemSchema.LastModifiedTime, ItemSchema.DateTimeReceived,\n    ItemSchema.ParentFolderId, EmailMessageSchema.IsRead, ItemSchema.Subject, EmailMessageSchema.From)\n    {\n        new ExtendedPropertyDefinition(0x300B, MapiPropertyType.Binary), ItemSchema.MimeContent\n    };\n\nvar filter = new SearchFilter.SearchFilterCollection\n    {\n        new SearchFilter.IsGreaterThanOrEqualTo(ItemSchema.LastModifiedTime, modifiedSince),\n        new SearchFilter.IsLessThanOrEqualTo(ItemSchema.LastModifiedTime, modifiedBefore),\n        new SearchFilter.IsEqualTo(ItemSchema.ItemClass, itemClass),\n    };\n\nvar view = new ItemView(pageSize, 0, OffsetBasePoint.Beginning)\n    {\n        PropertySet = basicPropertySet\n    };\n\n    view.OrderBy.Add(ItemSchema.LastModifiedTime, SortDirection.Ascending);\n// view.Offset is getting updated during the process\n\nvar items = exchangeService.FindItems(folderToScan.Id, searchFilter, view);\n\nvar ids = items.Select(item =&gt; item.Id).ToList();\n\nexchangeService.LoadPropertiesForItems(items, detailedPropertySet);\n\nforeach (var item in items)\n{\n    // verify properties are loaded, by simply accessing them\n    // this is where the exception is thrown.\n    itemx.From;\n    item.LastModifiedTime;\n    item.Id;\n    item.MimeContent;\n    item.Subject;\n}\n</code></pre>\n"}, {"tags": ["c#", "dll", "msbuild", "dependencies", "azure-web-app-service"], "comments": [{"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1522269773, "post_id": 49543162, "comment_id": 86095311, "body": "I somewhat reproduced this locally.  I used a Azure API app as my .csproj.  Then I had a similar problem to yours when I packaged using msbuild.  I was able to get past this by going to visual studio &gt; right click project &gt; Properties &gt; Package/Publish Web &gt; Items to deploy &gt; change to &quot;All files in this project&quot;."}, {"owner": {"reputation": 5586, "user_id": 4046605, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ecc6747b75c8b0ddf8b3ac9df18ee7d7?s=128&d=identicon&r=PG", "display_name": "Scotty H", "link": "https://stackoverflow.com/users/4046605/scotty-h"}, "reply_to_user": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1522270124, "post_id": 49543162, "comment_id": 86095492, "body": "@P.Brian.Mackey Thanks, but I already have it set to &quot;All files in this project folder&quot;, which is even broader in scope."}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1522270627, "post_id": 49543162, "comment_id": 86095773, "body": "Does this help?  <a href=\"https://github.com/Azure/service-fabric-issues/issues/257\" rel=\"nofollow noreferrer\">github.com/Azure/service-fabric-issues/issues/257</a>"}, {"owner": {"reputation": 5586, "user_id": 4046605, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ecc6747b75c8b0ddf8b3ac9df18ee7d7?s=128&d=identicon&r=PG", "display_name": "Scotty H", "link": "https://stackoverflow.com/users/4046605/scotty-h"}, "reply_to_user": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1522333028, "post_id": 49543162, "comment_id": 86124532, "body": "@P.Brian.Mackey It seems related, but I&#39;m not sure what actionable items I can take from it, especially since it&#39;s still open."}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1522333155, "post_id": 49543162, "comment_id": 86124645, "body": "There are a few workarounds that may help you in the thread.  If it is the same issue, it&#39;s good to know that the bug report already exists."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1531592499, "post_id": 49543162, "comment_id": 89657785, "body": "This normally comes to a good end, but the question is too vague to have a shot at guessing at the cause.  You need to show us.  Add /verbosity:detailed so MSBuild starts generating a lot more info about what it does.  Redirect output to a file and copy/paste its content to a public paste bin."}], "answers": [{"comments": [{"owner": {"reputation": 5586, "user_id": 4046605, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ecc6747b75c8b0ddf8b3ac9df18ee7d7?s=128&d=identicon&r=PG", "display_name": "Scotty H", "link": "https://stackoverflow.com/users/4046605/scotty-h"}, "edited": false, "score": 0, "creation_date": 1522332965, "post_id": 49550543, "comment_id": 86124474, "body": "In my question I am <code>msbuild</code>ing a csproj, not a solution, so is this relevant? Can you edit your answer to make it clear which csproj the proposed edit goes in? X.csproj right?"}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 1, "creation_date": 1522334257, "post_id": 49550543, "comment_id": 86125510, "body": "You are not supposed to use sln files to build packages.  This answer is more about msbuild w/ a build target not a package target. It is not relevant.  If anything, the OP should go the opposite direction and build each package independently.  That is a workaround to the issue."}], "tags": [], "owner": {"reputation": 15383, "user_id": 8557999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e949becd6429559b4ae1e7d124475788?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Cai", "link": "https://stackoverflow.com/users/8557999/joey-cai"}, "is_accepted": false, "score": 1, "last_activity_date": 1522309317, "creation_date": 1522309317, "answer_id": 49550543, "question_id": 49543162, "link": "https://stackoverflow.com/questions/49543162/c-grandchild-project-dlls-not-included-in-msbuild-package/49550543#49550543", "title": "C# grandchild project DLLs not included in msbuild package", "body": "<p><strong>Why does this happen</strong></p>\n\n<p>X.csproj was invoked, and because it has a project reference to Y.csproj, it invokes Y.csproj \u2014 it \u201cgoes around the back\u201d. Z.csproj hasn\u2019t necessarily built yet, so the build breaks.</p>\n\n<p><strong>How to fix</strong></p>\n\n<p>Follow this <strong>principle</strong>: do not use dependencies expressed in the solution file at all. </p>\n\n<p>You could put a project reference in the project instead.\n It would look like this \u2013 note the metadata element, and all this is inside an <code>&lt;ItemGroup&gt;</code> tag of course:</p>\n\n<pre><code>&lt;ProjectReference Include=\u201d\u2026 foo.csproj\u201d&gt; \n    &lt;ReferenceOutputAssembly&gt;false&lt;/ReferenceOutputAssembly&gt; \n&lt;/ProjectReference&gt;\n</code></pre>\n\n<p>Although it\u2019s tiresome to have to edit your projects in this way to make the bug go away, it\u2019s a best practice to use project references instead and consider the solution file merely a \u201cview\u201d. </p>\n\n<p>You\u2019ll end up with projects that if you want can be built without a solution file.</p>\n\n<p>For more details about how to fix the problem, you could refer to this <a href=\"https://blogs.msdn.microsoft.com/visualstudio/2010/12/21/incorrect-solution-build-ordering-when-using-msbuild-exe/\" rel=\"nofollow noreferrer\">blog</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1229, "user_id": 2844065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O2SEL.jpg?s=128&g=1", "display_name": "ThePretendProgrammer", "link": "https://stackoverflow.com/users/2844065/thepretendprogrammer"}, "is_accepted": false, "score": 1, "last_activity_date": 1531763612, "creation_date": 1531763612, "answer_id": 51367558, "question_id": 49543162, "link": "https://stackoverflow.com/questions/49543162/c-grandchild-project-dlls-not-included-in-msbuild-package/51367558#51367558", "title": "C# grandchild project DLLs not included in msbuild package", "body": "<p>There is no straightforward way to do this, even though this issue has been raised multiple times with msbuild. In terms of workarounds, the most popular ones are to make some use of the 'Z' project assembly (create a dummy instance of some class from the 'Z' project in the 'X' project) or to add a direct reference in the 'X' project to the 'Z' project. </p>\n\n<p>The most clean workaround in my opinion is explained in this <a href=\"http://blog.alexyakunin.com/2009/09/making-msbuild-visual-studio-to.html\" rel=\"nofollow noreferrer\">blog</a>. Essentially, it involves creating a separate <code>.targets</code> file, which is nothing but instructions for msbuild to ensure that while it builds and packages the DLLs, it also includes all transitive dependencies. This <code>.targets</code> file then needs to be added to your <code>X.csproj</code> file so that on building it using msbuild, this targets file gets invoked.</p>\n"}], "owner": {"reputation": 5586, "user_id": 4046605, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ecc6747b75c8b0ddf8b3ac9df18ee7d7?s=128&d=identicon&r=PG", "display_name": "Scotty H", "link": "https://stackoverflow.com/users/4046605/scotty-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "answer_count": 2, "score": 16, "last_activity_date": 1531763612, "creation_date": 1522267179, "question_id": 49543162, "link": "https://stackoverflow.com/questions/49543162/c-grandchild-project-dlls-not-included-in-msbuild-package", "title": "C# grandchild project DLLs not included in msbuild package", "body": "<p>I have a C# project X that references a C# project Y that references a C# project Z. So the dependency chain looks like this: X => Y => Z. There is no direct/explicit dependency X => Z. When I build a package for publication using msbuild command</p>\n\n<pre><code>msbuild DesignService.csproj /m /p:Configuration=\"Debug\" /p:Platform=\"AnyCPU\" /verbosity:quiet /t:Package /p:PackageLocation=X.zip /p:PackageAsSingleFile=True\n</code></pre>\n\n<p>I get a zip file that has DLLs for X and Y, but not Z. Then when the package is published (to an Azure App Service) I get runtime errors when a call is made to code in Z, saying the DLL can not be found. If I add Z as a direct/explicit reference in X, it works just fine. But I don't think I should have to do this. </p>\n\n<p>How can I get DLLs for Z in my publish package from msbuild without adding an explicit reference in X?</p>\n"}, {"tags": ["c#", "function", "unity3d"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1522306283, "post_id": 49543089, "comment_id": 86106553, "body": "Stop using <code>OnGui</code> and use <a href=\"https://unity3d.com/learn/tutorials/modules/beginner/live-training-archive/the-new-ui\" rel=\"nofollow noreferrer\">the new UI</a>"}], "answers": [{"comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1522306247, "post_id": 49543803, "comment_id": 86106542, "body": "Also: stop using <code>OnGui</code> and use <a href=\"https://unity3d.com/learn/tutorials/modules/beginner/live-training-archive/the-new-ui\" rel=\"nofollow noreferrer\">the new UI</a>"}], "tags": [], "owner": {"reputation": 2062, "user_id": 8585023, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-400p9YGOAIk/AAAAAAAAAAI/AAAAAAAAAKs/j0ha2zSXOsM/photo.jpg=k-s128", "display_name": "Doh09", "link": "https://stackoverflow.com/users/8585023/doh09"}, "is_accepted": false, "score": 0, "last_activity_date": 1522269982, "last_edit_date": 1592644375, "creation_date": 1522269643, "answer_id": 49543803, "question_id": 49543089, "link": "https://stackoverflow.com/questions/49543089/stop-a-function-from-being-called-every-frame-c/49543803#49543803", "title": "stop a function from being called every frame c#", "body": "<p><a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnGUI.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnGUI.html</a></p>\n<blockquote>\n<p>OnGUI is called for rendering and handling GUI events.</p>\n<p><strong>This means that your OnGUI implementation might be called several times per frame</strong> (one call per event). For more information on GUI events see the Event reference. If the MonoBehaviour's enabled property is set to false, OnGUI() will not be called.</p>\n</blockquote>\n<p>You should probably use another way to call your method, or use a boolean value to check whether or not it has already been called.</p>\n<p>Please refer to the image below to better understand the Unity lifecycle methods.</p>\n<p><a href=\"https://i.stack.imgur.com/gmvWn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gmvWn.png\" alt=\"Unity lifecycle\" /></a></p>\n<p>More information about Unity's Lifecycle can be found at: <a href=\"https://docs.unity3d.com/Manual/ExecutionOrder.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Manual/ExecutionOrder.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 12632, "user_id": 101197, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/61fb18b11cf4c7552c2589f6013ed715?s=128&d=identicon&r=PG", "display_name": "McAden", "link": "https://stackoverflow.com/users/101197/mcaden"}, "is_accepted": false, "score": 1, "last_activity_date": 1522269752, "creation_date": 1522269752, "answer_id": 49543829, "question_id": 49543089, "link": "https://stackoverflow.com/questions/49543089/stop-a-function-from-being-called-every-frame-c/49543829#49543829", "title": "stop a function from being called every frame c#", "body": "<p>From the <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnGUI.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>OnGUI is called for rendering and handling GUI events.</p>\n  \n  <p>This means that your OnGUI implementation might be called several\n  times per frame (one call per event). For more information on GUI\n  events see the Event reference. If the MonoBehaviour's enabled\n  property is set to false, OnGUI() will not be called.</p>\n</blockquote>\n\n<p>You need to reevaluate how you're doing your GUI. As mentioned in their <a href=\"https://docs.unity3d.com/Manual/GUIScriptingGuide.html\" rel=\"nofollow noreferrer\">GUI scripting guide</a> you should probably use their <a href=\"https://docs.unity3d.com/Manual/UISystem.html\" rel=\"nofollow noreferrer\">UI system</a>.</p>\n\n<p>You especially don't want to be making one or more <code>WWW</code> calls per frame, or doing a bunch of sorting every frame.</p>\n"}, {"comments": [{"owner": {"reputation": 435, "user_id": 3579846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bd745449dce745db6ffc2433c9ff097?s=128&d=identicon&r=PG&f=1", "display_name": "Aj_", "link": "https://stackoverflow.com/users/3579846/aj"}, "edited": false, "score": 0, "creation_date": 1522276283, "post_id": 49543835, "comment_id": 86098040, "body": "Agree, or make FullList a local variable."}, {"owner": {"reputation": 51, "user_id": 9377091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1702270266522926/picture?type=large", "display_name": "Oscar Dawe", "link": "https://stackoverflow.com/users/9377091/oscar-dawe"}, "edited": false, "score": 0, "creation_date": 1522316422, "post_id": 49543835, "comment_id": 86112594, "body": "This I believe will work however it now gives me a NullReferenceException on the line `        scrollPosition = GUI.BeginScrollView(new Rect(Screen.width / 6, Screen.height / 6, 350, 250), scrollPosition, new Rect(0, 0, 300, 40 * SortedStudentArray.Length));`"}, {"owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "reply_to_user": {"reputation": 51, "user_id": 9377091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1702270266522926/picture?type=large", "display_name": "Oscar Dawe", "link": "https://stackoverflow.com/users/9377091/oscar-dawe"}, "edited": false, "score": 0, "creation_date": 1522334457, "post_id": 49543835, "comment_id": 86125665, "body": "@OscarDawe - Yes, moving the web request to an earlier stage in the pipeline doesn&#39;t necessarily mean that it&#39;ll be ready by the time Unity calls into your <code>WindowFunction</code>. I&#39;ll update my post to demonstrate a simple way to account for this."}], "tags": [], "owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "is_accepted": true, "score": 2, "last_activity_date": 1522334676, "last_edit_date": 1522334676, "creation_date": 1522269796, "answer_id": 49543835, "question_id": 49543089, "link": "https://stackoverflow.com/questions/49543089/stop-a-function-from-being-called-every-frame-c/49543835#49543835", "title": "stop a function from being called every frame c#", "body": "<p><code>FullList</code> is continually being populated which will eventually lead to a crash.</p>\n\n<p>Call <code>SortStudentList</code> in <code>Awake</code>, such as;</p>\n\n<pre><code>string[,] SortedStudentArray;\n\nvoid Awake ()\n{    \n    //Calls the SortStudentArray method\n    SortedStudentArray = SortStudentList();\n}\n</code></pre>\n\n<p>Then;</p>\n\n<pre><code>public void WindowFunction(int windowID)\n{\n    // Prevent further execution until SortedStudentArray is ready\n    if (SortedStudentArray == null) return;\n\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9377091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1702270266522926/picture?type=large", "display_name": "Oscar Dawe", "link": "https://stackoverflow.com/users/9377091/oscar-dawe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 49543835, "answer_count": 3, "score": 0, "last_activity_date": 1522334676, "creation_date": 1522266963, "question_id": 49543089, "link": "https://stackoverflow.com/questions/49543089/stop-a-function-from-being-called-every-frame-c", "title": "stop a function from being called every frame c#", "body": "<p>I am trying to create a list of buttons using information collected from www forms in my program. The problem I am having is that when I create the buttons, it infinitely creates them, and thusly unity crashes. I have two theories as to why this is happening, the first being that the function is being called each frame and is therefore creating too many buttons and the second is that for some reason when I check the length of a multidimensional array it has a length of 33 when it should only have a length of 3 (it should have 3 arrays of arrays). The whole script is below.</p>\n\n<pre><code>using Boo.Lang;\nusing System.Collections;\nusing SCG = System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\nusing System;\n\npublic class MeetingRequestViewer : MonoBehaviour\n{\n//This script contains the code on how to display information about the students to the staff                                                                       \n//it displays each student in a different row\n\nprivate Rect windowRect = new Rect(0, 0, Screen.width, Screen.height);\npublic Vector2 scrollPosition = Vector2.zero;\nprivate int BSpace;\npublic string[,] SortedStudentArray;\nprivate int j;\nprivate string[][] MeetRequests;\nprivate string[] temp;\nprivate SCG.List&lt;string&gt; H_Priority = new SCG.List&lt;string&gt;();\nprivate SCG.List&lt;string&gt; M_Priority = new SCG.List&lt;string&gt;();\nprivate SCG.List&lt;string&gt; L_Priority = new SCG.List&lt;string&gt;();\nprivate SCG.List&lt;string&gt; FullList = new SCG.List&lt;string&gt;();\nprivate SCG.List&lt;string&gt; UAList;\nprivate SCG.List&lt;object&gt; StudentButtonList = new SCG.List&lt;object&gt;();\nprivate string[] Holding = new string[5];\nprivate string[] SearchTerms;\npublic int ButtonSpacing = 10;\npublic int ButtonWidth = 80;\npublic int ButtonHeight = 30;\n\n\npublic void OnGUI()\n{\n    //create a window\n    GUI.Window(0, windowRect, WindowFunction, \"Meeting Request Viewer\");\n}\npublic void WindowFunction(int windowID)\n{\n\n        //Fetches all user Data\n        string[][] userArray = GetComponent&lt;Userdata&gt;().CallDetail();\n\n        string[][] StudentArray = GetComponent&lt;Userdata&gt;().UserSorting(userArray);\n\n        //Calls the SortStudentArray method\n        string[,] SortedStudentArray = SortStudentList();\n\n        //Creates a box with a scrolling bar to taverse the y axis\n        scrollPosition = GUI.BeginScrollView(new Rect(Screen.width / 6, Screen.height / 6, 350, 250), scrollPosition, new Rect(0, 0, 300, 40 * SortedStudentArray.Length));\n\n        //for each row in the sorted student array\n        for (int x = 0; x &lt; SortedStudentArray.Length - 1; x++)\n        {\n            //This keeps the gap between each button consistent\n            var y = ButtonSpacing + ButtonHeight;\n\n            //Regular Meeting Request\n            if (SortedStudentArray[x, 7] == \"1\")\n            {\n                //Urgent Meeting Request\n                if (SortedStudentArray[x, 8] == \"1\")\n                {\n                    Debug.Log(\"Even Here\");\n                    //Create Button coloured red\n                    GUI.backgroundColor = Color.red;\n                }\n                //Regular Meeting Request\n                else\n                {\n                    //Create Button coloured yellow\n                    GUI.backgroundColor = Color.yellow;\n                }\n            }\n\n            //No Meeting Request \n            else\n            {\n                //Create Button coloured green\n                GUI.backgroundColor = Color.green;\n            }\n            GUI.Button(new Rect(ButtonSpacing, ButtonSpacing + x * y, ButtonWidth, ButtonHeight), SortedStudentArray[x, 6]);\n        }\n\n        GUI.EndScrollView();\n        ButtonsCreated = true;\n\n}\n\nprivate string[,] SortStudentList()\n{\n    //This method is used to fetch the meeting request data, split it into a jagged array and then again so that each \n    //row is a new user and each item in the row is a different peice of information relating to the user\n    //The Jagged array is then sorted using the bubble sort algorithm so that the students that require urgent meetings\n    //appear at the topo of the request table\n\n    //call website with the data store\n    WWW MeetReqData = new WWW(\"http://localhost/Wellbeing/meetingrequest.php\");\n    //until WWW is finished do nothing\n    while (MeetReqData.isDone == false)\n    {\n\n    }\n    //convert the returned value into a string\n    string MeetReqString = MeetReqData.text;\n\n    //split the text into a string list\n    string[] mrq = MeetReqString.Split(';');\n\n    //convert the string list into a jagged array\n    MeetRequests = new string[mrq.Length][];\n\n    int i = 0;\n\n    //for each item in the list\n    foreach (string s in mrq)\n    {\n        //split it into its individual peice of information\n        string[] g = s.Split('|');\n        //store the information about a user on a new line\n        MeetRequests[i] = g;\n        ++i;\n    }\n\n    for (int n = 0; n &lt; MeetRequests.Length - 1; n++)\n    {\n        if (MeetRequests[n][1] == \"1\" &amp;&amp; MeetRequests[n][2] == \"1\")\n        {\n            H_Priority.Add(MeetRequests[n][0]);\n        }\n        else if (MeetRequests[n][1] == \"1\" &amp;&amp; MeetRequests[n][2] == \"0\")\n        {\n            M_Priority.Add(MeetRequests[n][0]);\n        }\n        else\n        {\n            L_Priority.Add(MeetRequests[n][0]);\n        }\n    }\n\n    //Combines all lists into a larger list of priorities\n    FullList.AddRange(H_Priority);\n    FullList.AddRange(M_Priority);\n    FullList.AddRange(L_Priority);\n\n\n    //convertFullList into an array for easier mainpulation and comparisons\n    string[][] feelingsArray = GetComponent&lt;Userdata&gt;().CallFeelings();\n\n    //FullList only contains 3 values\n    Debug.Log(FullList.Count);\n\n    //Info array about each user\n    string[,] SortedStudentArray = new string[FullList.Count, 11];\n\n    //SortedStudentArray contains 33 rows \n    Debug.Log(\"This thing Here\");\n    Debug.Log(SortedStudentArray.Length);\n\n    //Line Counter\n    int SSAPos = 0;\n\n    // For every element in FullList\n    foreach (var item in FullList)\n    {\n        Debug.Log(FullList.Count);\n        //For each user in userArray\n        for (int y = 0; y &lt; Userdata.userArray.Length; y++)\n        {\n            if (Userdata.userArray[y][0] == item)\n            {\n                for (int n = 0; n &lt; Userdata.userArray; n++)\n                SortedStudentArray[SSAPos, n] = Userdata.userArray[y][n];\n                break;\n            }\n        }\n        Debug.Log(SortedStudentArray.Length);\n        //For each user in userArray\n        for (int y = 0; y &lt; MeetRequests.Length; y++)\n        {\n            if (MeetRequests[y][0] == item)\n            {\n                SortedStudentArray[SSAPos, 7] = MeetRequests[y][1];\n                SortedStudentArray[SSAPos, 8] = MeetRequests[y][2];\n                break;\n            }\n        }\n        Debug.Log(SortedStudentArray.Length);\n        SSAPos += 1;\n    }\n\n    return SortedStudentArray;\n\n}\n\n// Update is called once per frame\nvoid Update ()\n{\n    //if (GUI.Button(new Rect(Screen.width / 4, Screen.height / 7, Screen.width / 2, Screen.height / 8), \"Log Out\"))\n    //{\n    //    Debug.Log(\"Logged Out\");\n    //    SceneManager.LoadScene(\"Login\");\n    //}\n}\n</code></pre>\n\n<p>I did try to use a while loop around the section of code however it made no difference to the creation of buttons, they were still created more times than were needed</p>\n"}, {"tags": ["c#", "okuma"], "comments": [{"owner": {"reputation": 661, "user_id": 245181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/557b7a8d5f9a28e15425c7f997bc2cdd?s=128&d=identicon&r=PG&f=1", "display_name": "jweaver", "link": "https://stackoverflow.com/users/245181/jweaver"}, "edited": false, "score": 0, "creation_date": 1522322924, "post_id": 49543079, "comment_id": 86116993, "body": "Great idea.  You could write an app that would toggle Program Buffering on/off via a common variable.  You could also turn it back on automatically whenever it has been turned off and the cycle has ended in case someone forgets to turn it back on."}], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 245181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/557b7a8d5f9a28e15425c7f997bc2cdd?s=128&d=identicon&r=PG&f=1", "display_name": "jweaver", "link": "https://stackoverflow.com/users/245181/jweaver"}, "edited": false, "score": 0, "creation_date": 1522322652, "post_id": 49551340, "comment_id": 86116820, "body": "M331 only works on lathes.  I&#39;ve also had cases where the M331 did not work at all on the lathe and I had to use other methods to stop look ahead."}], "tags": [], "owner": {"reputation": 1420, "user_id": 2043621, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ngBOJ.png?s=128&g=1", "display_name": "Still.Tony", "link": "https://stackoverflow.com/users/2043621/still-tony"}, "is_accepted": false, "score": 1, "last_activity_date": 1522312189, "creation_date": 1522312189, "answer_id": 49551340, "question_id": 49543079, "link": "https://stackoverflow.com/questions/49543079/change-program-buffering-okuma-osp-300m/49551340#49551340", "title": "Change Program Buffering Okuma OSP-300M", "body": "<p>What about M331 to prevent read ahead? (I won\u2019t be at a control for a few days to verify usage, I\u2019m holding my newborn and it\u2019s 4am right now but I <em>think</em> it can go either on the line where you read variable on or the line before.)</p>\n\n<pre><code>NLOOP G04 F1 M331 (buffering prohibit)\nIF[VC890 EQ 0] GOTO NRTS\nGOTO NLOOP\nNRTS RTS\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3577, "user_id": 2596334, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/30ba99c74af2eff0394b66c550486f59?s=128&d=identicon&r=PG", "display_name": "Scott Solmer", "link": "https://stackoverflow.com/users/2596334/scott-solmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1522343481, "creation_date": 1522343481, "answer_id": 49561700, "question_id": 49543079, "link": "https://stackoverflow.com/questions/49543079/change-program-buffering-okuma-osp-300m/49561700#49561700", "title": "Change Program Buffering Okuma OSP-300M", "body": "<p>The <code>SetNCOptionalParameterBit()</code> function is capable of setting NO. 2, BIT 7. </p>\n\n<p>However, depending on what version of API you have, the THINC API test application might fail to do so. I confirmed there is a bug in the test app for API 1.17.2.0. And it was fixed by the time 1.18.0.0 was released.</p>\n\n<p>So just be aware of that. Even if your machine has an older API such as 1.17.2.0, you should still be able to write code that uses this function successfully. Just ignore the test app results.</p>\n"}, {"comments": [{"owner": {"reputation": 661, "user_id": 245181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/557b7a8d5f9a28e15425c7f997bc2cdd?s=128&d=identicon&r=PG&f=1", "display_name": "jweaver", "link": "https://stackoverflow.com/users/245181/jweaver"}, "edited": false, "score": 0, "creation_date": 1530281628, "post_id": 49566384, "comment_id": 89194670, "body": "The problem with this method is that if the operator stops the program before you turn it back on and then runs some other program buffering will be turned off again.  It might be worth doing it in an app via the API so that if the program stops the app will turn buffering back on"}], "tags": [], "owner": {"reputation": 85, "user_id": 9370957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2TGdf.png?s=128&g=1", "display_name": "nathanbussey", "link": "https://stackoverflow.com/users/9370957/nathanbussey"}, "is_accepted": true, "score": 1, "last_activity_date": 1522677486, "last_edit_date": 1522677486, "creation_date": 1522365469, "answer_id": 49566384, "question_id": 49543079, "link": "https://stackoverflow.com/questions/49543079/change-program-buffering-okuma-osp-300m/49566384#49566384", "title": "Change Program Buffering Okuma OSP-300M", "body": "<p>The best solution for my scenario was saving the current value of NC Optional Parameter 2 into a common variable, then changing it to Does Not buffer then running my code, then putting it back to whatever it was before.</p>\n\n<p>in Gcode:</p>\n\n<pre><code>VC892 = VOPRB[2] (save current NC Optional Parameter bit 2 value)\nVOPRB[2] = [VOPRB[2] OR 128] (bit magic to flip bit 7 to a 1 if its not)\n(insert code to be run without buffering)\nVOPRB[2] = VC892 (put back saved NC Optional Parameter bit 2 value)\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 9370957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2TGdf.png?s=128&g=1", "display_name": "nathanbussey", "link": "https://stackoverflow.com/users/9370957/nathanbussey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 49566384, "answer_count": 3, "score": 3, "last_activity_date": 1522677486, "creation_date": 1522266927, "last_edit_date": 1522341479, "question_id": 49543079, "link": "https://stackoverflow.com/questions/49543079/change-program-buffering-okuma-osp-300m", "title": "Change Program Buffering Okuma OSP-300M", "body": "<p>I'm currently running a small loop in g-code that has to wait for a common variable to change values. With Program Buffering ON, my g-code program <strong>does not</strong> see changes to the variables!</p>\n\n<p>What is the best way to turn Program Buffering OFF while I am in this g-code loop?</p>\n\n<p>If I <em>manually</em> set Program Buffering (NC Optional Parameter Bit No.2 Bit 7 to \"DOES NOT\". Then my loop behaves appropriately and the controller properly checks the value of the common variable each loop.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sPdwz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sPdwz.png\" alt=\"NC Optional Parameter NO. 2, BIT 7\"></a></p>\n\n<pre><code>NLOOP G04 F1\nIF[VC890 EQ 0] GOTO NRTS\nGOTO NLOOP\nNRTS RTS\n</code></pre>\n\n<p>Very straight forward loop. Maybe it needs to be more complex.<br>\nPerhaps if it was longer the buffer wouldn't matter? </p>\n\n<p>I expect my customer's will want Program Buffering turned on.<br>\nCan I turn it off temporarily with the THINC API?<br>\nBecause if it works, this would be great:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public void SetNCOptionalParameterBit(\n    int intBitIndex,\n    int intBitNo,\n    OnOffStateEnum enValue);\n</code></pre>\n\n<p>If this function will let me set param bit no 2 bit 7 on and off then this would probably be a valid work around. </p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>Okuma.CMDATAPI.DataAPI.COptionalParameter myCOPtionalParameter;\nmyCOptionalParameter = new Okuma.CMDATAPI.DataAPI.COptionalParameter();\n\nmyCOPtionalParameter.SetNCOptionalParameterBit(2, 7,\n    Okuma.CMDATAPI.Enumerations.OnOffStateEnum.On);    \n</code></pre>\n"}, {"tags": ["c#", "performance", "stream", "compare", "readline"], "comments": [{"owner": {"reputation": 185, "user_id": 2343336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hPdfj.jpg?s=128&g=1", "display_name": "Rogerson Naz&#225;rio", "link": "https://stackoverflow.com/users/2343336/rogerson-naz%c3%a1rio"}, "edited": false, "score": 0, "creation_date": 1522267528, "post_id": 49543043, "comment_id": 86094048, "body": "Do you must use byte array converted from string? I mean, can&#39;t you manipulate the first received string before to do convertions?"}, {"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1522267683, "post_id": 49543043, "comment_id": 86094131, "body": "What are you planning on doing with the left over 3 bytes? Also, its a bad idea to try to pre-optimize your code, you may be pleasantly surprised what you write is fast enough :)"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522267750, "post_id": 49543043, "comment_id": 86094170, "body": "Depends on what you mean by &quot;stop reading&quot;, because StreamReader.ReadLine might very well consume more bytes from underlying stream than just until newline."}, {"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1522267954, "post_id": 49543043, "comment_id": 86094306, "body": "I know you are terminating your messages with end of line characters but a really performant way many wire protocols use is something called Message Framing. Tell the server or client how big the message is and stop when the byte count reaches it."}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 185, "user_id": 2343336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hPdfj.jpg?s=128&g=1", "display_name": "Rogerson Naz&#225;rio", "link": "https://stackoverflow.com/users/2343336/rogerson-naz%c3%a1rio"}, "edited": false, "score": 0, "creation_date": 1522267972, "post_id": 49543043, "comment_id": 86094315, "body": "@RogersonNaz&#225;rio Well, as far as I understand, you are forced to use byte[] for stream read and write so I have no choise other than convert string to byte[], send to stream, read byte[] from stream and convert it to string."}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1522268334, "post_id": 49543043, "comment_id": 86094494, "body": "@SamMarion regarding leftover 3 bytes - I just described a problem where array like [1, 5, 20, 13, 10, 13, 10] can&#39;t be read properly using Read(buff, 0, 4) because StreamReader will be stuck when he will try to read part that left in the end ([10, 13, 10]). On the other hand, reading one byte at time will solve this problem. Regarding speed - I&#39;d be happy if it&#39;s fast enough, I am just not sure, reading one byte at time looks horrible to me in terms of perfomance."}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1522268348, "post_id": 49543043, "comment_id": 86094502, "body": "@SamMarion Regarding Message Framing - sadly it&#39;s a big No to me because I read from stream that I do not control - I just know that last 4 bytes will be [13,10,13,10] (I am reading HTTP packets from browser and websites)."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1522268478, "post_id": 49543043, "comment_id": 86094573, "body": "<code>what method is preferable in terms of perfomance</code> <a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">ericlippert.com/2012/12/17/performance-rant</a>"}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522268486, "post_id": 49543043, "comment_id": 86094581, "body": "@Evk Isn&#39;t ReadLine reads data from stream strictly until it encounter &quot;\\r&quot;, &quot;\\n&quot; or &quot;\\r\\n&quot;? I&#39;d honestly prefer first method (read one byte at time) or any other method, I just don&#39;t know if it&#39;s good in terms of perfomance or not."}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522268615, "post_id": 49543043, "comment_id": 86094653, "body": "@mjwills I actually will do that soon, I just wanted to know if there are far better ways than my both methods or if one of my methods significantly worse than other and it&#39;s common knowledge to most."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522268653, "post_id": 49543043, "comment_id": 86094674, "body": "It uses a buffer of given size (by default 1024 bytes as I rememeber). So it will always consume at least that number of bytes from underlying stream (unless end of stream is sooner of course). That doesn&#39;t necessary mean that it&#39;s a problem, that&#39;s why I ask. Usually it&#39;s fine."}, {"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1522268657, "post_id": 49543043, "comment_id": 86094676, "body": "I would be surprised if reading one byte at a time is going to be your bottle neck. I would go that route. If that&#39;s too slow I would try something from there but if you don&#39;t have a message length I think that&#39;s your best bet."}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522268827, "post_id": 49543043, "comment_id": 86094783, "body": "@Evk I actually didn&#39;t know that. If that&#39;s a case then this method is pretty bad for me, then it would be better to just read 1024 bytes myself and search for \\r\\n\\r\\n."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522268929, "post_id": 49543043, "comment_id": 86094835, "body": "But that is exactly what it does, so why do it yourself? Why is it a problem to read more from socket? You usually will read the rest later anyway."}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1522269098, "post_id": 49543043, "comment_id": 86094945, "body": "@SamMarion Well, reading byte by byte may be fast, but I am more concerned about converting whole MemoryStream to array, using .Skip() and then SequenceEqual every single byte. It looks like it&#39;ll take alot of time to process files that are couple of MBytes of size."}, {"owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522269353, "post_id": 49543043, "comment_id": 86095063, "body": "@Evk problem is that I read HTTP packets from browser so I need to get exactly one Request from stream, not more and not less and then send it to website. Then do exact same thing for website - precisely read one Response and send it to browser and then repeat. Another problem is that Browser maybe can send some data after first packet, but maybe not and I can&#39;t wait after I get first request."}], "answers": [{"tags": [], "owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "is_accepted": false, "score": -1, "last_activity_date": 1522268765, "creation_date": 1522268765, "answer_id": 49543585, "question_id": 49543043, "link": "https://stackoverflow.com/questions/49543043/fastest-way-to-determine-sequence-from-stream-in-c/49543585#49543585", "title": "Fastest way to determine sequence from stream in c#", "body": "<p>I am drunk, but maybe it will help:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\n\nnamespace ConsoleApp5\n{\n    class Program\n    {\n        static void Main (string[] args)\n        {\n            var ms = new MemoryStream (new byte[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 });\n\n            var sequence = new byte[] { 6, 7, 8 };\n\n            var buffer = new byte[1];\n            var queue = new Queue&lt;byte&gt; ();\n            int position = 0;\n\n            while (true)\n            {\n                int count = ms.Read (buffer, 0, 1);\n\n                if (count == 0) return;\n\n                queue.Enqueue (buffer[0]);\n                position++;\n\n                if (IsSequenceFound (queue, sequence))\n                {\n                    Console.WriteLine (\"Found sequence at position: \" + (position - queue.Count));\n                    return;\n                }\n\n                if (queue.Count == sequence.Length) queue.Dequeue ();\n            }\n        }\n\n        static bool IsSequenceFound (Queue&lt;byte&gt; queue, byte[] sequence)\n        {\n            return queue.SequenceEqual (sequence);\n            // normal for (int i ...) can be faster\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 9333236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47d9a144488d3f651a41519c818e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u041c\u0435\u0448\u0430\u0432\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/9333236/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%9c%d0%b5%d1%88%d0%b0%d0%b2%d0%ba%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522268765, "creation_date": 1522266786, "question_id": 49543043, "link": "https://stackoverflow.com/questions/49543043/fastest-way-to-determine-sequence-from-stream-in-c", "title": "Fastest way to determine sequence from stream in c#", "body": "<p>I need to read bytes (converted from string to byte array and then sent to stream) from stream and stop reading as soon as I encounter specific sequence, in my case it's [13, 10, 13, 10] or \"\\r\\n\\r\\n\" if converted to string (ASCII).</p>\n\n<p>Currently I have two versions of the same process:<br>\n1) Read from stream one byte at time and check EVERY byte if last 4 bytes of read sequence equals [13, 10, 13, 10] <strong>(note that I can't read and check every 4 bytes as sequence can be 7 bytes long, for example, so it'll read first 4 bytes and then stuck because only 3 of 4 bytes are available)</strong>:</p>\n\n<pre><code>NetworkStream streamBrowser = tcpclientBrowser.GetStream();\nbyte[] data;\nusing (MemoryStream ms = new MemoryStream())\n{\n    byte[] check = new byte[4] { 13, 10, 13, 10 };\n    byte[] buff = new byte[1];\n    do\n    {\n        streamBrowser.Read(buff, 0, 1);\n        ms.Write(buff, 0, 1);\n        data = ms.ToArray();\n    } while (!data.Skip(data.Length - 4).SequenceEqual(check));\n}\n</code></pre>\n\n<p>2) Use <em>StreamReader.ReadLine</em> to read until \"\\r\\n\" and then read again to see if returned line is <em>null</em>, and then add to first returned string \"\\r\\n\", that way I'll get string that ends with \"\\r\\n\\r\\n\".</p>\n\n<p>My question is - <strong>what method is preferable in terms of perfomance</strong> (if any, it may be that both are too slow and there are better way which I really would want to know)?</p>\n"}, {"tags": ["c#", "authentication", "authorization", "servicestack"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 1128886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf34e7d8c849df0fc5fc55123af93940?s=128&d=identicon&r=PG", "display_name": "s0dz", "link": "https://stackoverflow.com/users/1128886/s0dz"}, "edited": false, "score": 1, "creation_date": 1523568258, "post_id": 49543161, "comment_id": 86626965, "body": "I just wanted to say thank you. Following your suggestions, I was able to accomplish what I needed to."}], "tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": true, "score": 2, "last_activity_date": 1522267178, "creation_date": 1522267178, "answer_id": 49543161, "question_id": 49542953, "link": "https://stackoverflow.com/questions/49542953/multiple-roles-for-a-user-belonging-to-multiple-organizations/49543161#49543161", "title": "Multiple Roles for a User belonging to multiple Organizations", "body": "<p>The simplest solution would be to assign custom <code>org1.Admin</code>, <code>org2.Member</code> Roles or permissions, that way you can use ServiceStack's built-in <code>[RequiresRole]</code> to validate access.</p>\n\n<p>The bespoke alternative is to create a <a href=\"http://docs.servicestack.net/sessions#using-typed-sessions-in-servicestack\" rel=\"nofollow noreferrer\">Custom UserSession</a> and the appropriate typed metadata collections to your <code>AuthUserSession</code> object. Then use a custom  <a href=\"http://docs.servicestack.net/filter-attributes#request-filter-attributes\" rel=\"nofollow noreferrer\">RequestFilterAttribute</a> to check the UserSession has the appropriate access.</p>\n"}], "owner": {"reputation": 121, "user_id": 1128886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf34e7d8c849df0fc5fc55123af93940?s=128&d=identicon&r=PG", "display_name": "s0dz", "link": "https://stackoverflow.com/users/1128886/s0dz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 49543161, "answer_count": 1, "score": 2, "last_activity_date": 1522267178, "creation_date": 1522266427, "question_id": 49542953, "link": "https://stackoverflow.com/questions/49542953/multiple-roles-for-a-user-belonging-to-multiple-organizations", "title": "Multiple Roles for a User belonging to multiple Organizations", "body": "<p>I am working on a web application where a User belongs to multiple Organizations. The  Role to be used is determined by what Organization the User is currently viewing the web application as. Once logged in, the User has the ability to easily switch between their different Organizations that they belong to. For some Organizations, a User may be an ADMIN while just being a MEMBER in others.</p>\n\n<p>In ServiceStack, what is the best way to accomplish this? Would it make sense to leverage the <code>Dictionary&lt;string, string&gt; Meta</code> property of the <code>Authenticate</code> Request DTO? Or creating a custom <code>AuthProvider</code> that overrides the <code>IsAuthorized</code> method? Or a different technique?</p>\n"}, {"tags": ["c#", "android", "multithreading", "xamarin.forms"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 5112505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f73dae4f86d6413c2e1a8f288a36fcc?s=128&d=identicon&r=PG", "display_name": "Andrej", "link": "https://stackoverflow.com/users/5112505/andrej"}, "is_accepted": false, "score": 0, "last_activity_date": 1522351155, "creation_date": 1522351155, "answer_id": 49563572, "question_id": 49542868, "link": "https://stackoverflow.com/questions/49542868/xamarin-crashes-when-mixing-action-and-api-calls-threading-concern/49563572#49563572", "title": "Xamarin crashes when mixing Action and API calls (threading concern?)", "body": "<p>OK, my apologies. The symptoms above were correct and the application did crash without providing any feedback. But the concern seems related to the target page I'm PushingAsync to into the OnLoadSuccessful method in MainPage.xaml.cs.</p>\n\n<p>Why this happens is still totally unclear but please disregard this question.</p>\n"}], "owner": {"reputation": 91, "user_id": 5112505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f73dae4f86d6413c2e1a8f288a36fcc?s=128&d=identicon&r=PG", "display_name": "Andrej", "link": "https://stackoverflow.com/users/5112505/andrej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522351155, "creation_date": 1522266089, "last_edit_date": 1522266443, "question_id": 49542868, "link": "https://stackoverflow.com/questions/49542868/xamarin-crashes-when-mixing-action-and-api-calls-threading-concern", "title": "Xamarin crashes when mixing Action and API calls (threading concern?)", "body": "<p>I'm having issues - with an \"Assertion crash\" - mixing Action and API calls in Xamarin.</p>\n\n<p><strong>MainPage.xaml.cs</strong></p>\n\n<pre><code>private void Button_clicked(...) {\n  serialLoader.Load(targetID, OnLoadSuccessful):\n}\n\nprivate void OnLoadSuccessful(TargetResult result) {\n  // Do something\n}\n</code></pre>\n\n<p><strong>SerialLoader.cs</strong></p>\n\n<pre><code>public void Load(string targetID, Action&lt;TargetResult&gt; OnLoadSuccessful) {\n  // API service call that \"forces\" me to use the following\n  client.LoadCompleted += (sender, e) =&gt; OnSerialLoadCompleted(sender, e, targetID, OnLoadSuccessful);\n  client.LoadAsync(...) // I don't think this call is \"really async\" as return type is void.\n}\n\npublic void OnSerialLoadCompleted(object sender, LoadCompletedEventArgs e, string targetID, Action&lt;TargetResult&gt; OnLoadSuccessful) {\n  if (...) { // If loaded successfully...\n  // .. call the Action passing the result so that I can handle it in the MainPage.xaml.cs \n    OnLoadSuccessful(e.Result);\n  }\n}\n</code></pre>\n\n<p>This crashes the application with the following errors</p>\n\n<p>EMULATOR </p>\n\n<pre><code>03-28 19:12:01.169 W/        (22852): Thread 0xcddbacd0 may have been prematurely finalized\n03-28 19:12:01.169 W/        (22852): Thread 0xcddbacd0 may have been prematurely finalized\n03-28 19:12:01.169 F/        (22852): * Assertion at /Users/builder/jenkins/workspace/xamarin-android-d15-6/xamarin-android/external/mono/mono/utils/mono-threads.c:563, condition `info' not met\n</code></pre>\n\n<p>SMARTPHONE (API 21)</p>\n\n<pre><code>03-28 21:29:27.467 E/mono-rt (28909): =================================================================\n03-28 21:29:27.467 E/mono-rt (28909): Got a SIGSEGV while executing native code. This usually indicates\n03-28 21:29:27.467 E/mono-rt (28909): a fatal error in the mono runtime or one of the native libraries \n03-28 21:29:27.467 E/mono-rt (28909): used by your application.\n03-28 21:29:27.467 E/mono-rt (28909): =================================================================\n03-28 21:29:27.467 E/mono-rt (28909): \n03-28 21:29:27.467 F/libc    (28909): Fatal signal 11 (SIGSEGV), code 2, fault addr 0x9b691fd8 in tid 29095 (Threadpool work)\n</code></pre>\n\n<p>I assume this is related to executions on multiple threads; I've tried adding \"Device.BeginInvokeOnMainThread\" (didn't work) and tried to replace my Action by Func but with no luck. Also, I'm surprised both the emulator and the smartphone crash so badly!</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Additional details:\nVS2017 Community 15.6.4 on Windows 10\nXamarin Forms 2.5.0.280555\nTarget Android SDK  8.1 (API 27 - Oreo)</p>\n"}, {"tags": ["c#", "android", "ios", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 1, "creation_date": 1522266268, "post_id": 49542832, "comment_id": 86093358, "body": "iOS does <i>not</i> allow unlimited background processing time except for apps with special entilitement, review : <a href=\"https://docs.microsoft.com/en-us/xamarin/ios/app-fundamentals/backgrounding/ios-backgrounding-techniques/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/xamarin/ios/app-fundamentals/&hellip;</a> Also you will need to create an Android foregrounded service (at a min.) as your Android technique will not on later APIs."}, {"owner": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1522267030, "post_id": 49542832, "comment_id": 86093742, "body": "So I will need to implement platform specific code on ios as well as enable background modes in info.plst and on android my target platform is 8.1, when will this method stop working?"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1522267105, "post_id": 49542832, "comment_id": 86093780, "body": "Android 8.0+ <a href=\"https://developer.android.com/about/versions/oreo/background.html\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/oreo/background.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "edited": false, "score": 0, "creation_date": 1522284948, "post_id": 49543446, "comment_id": 86100252, "body": "&quot;ServiceLocator does not exist in this context.&quot;"}, {"owner": {"reputation": 377, "user_id": 2074945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355805635e37d9732e60e979b59270e5?s=128&d=identicon&r=PG", "display_name": "user2074945", "link": "https://stackoverflow.com/users/2074945/user2074945"}, "reply_to_user": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "edited": false, "score": 0, "creation_date": 1522296652, "post_id": 49543446, "comment_id": 86103118, "body": "Sorry, I thought you already have this set up, I think it\u2019s even part of most of the xamarin project templates. Anyway, take a look here: <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/dependency-service/introduction\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundament&zwnj;&#8203;als/&hellip;</a>"}, {"owner": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "edited": false, "score": 0, "creation_date": 1522344311, "post_id": 49543446, "comment_id": 86131790, "body": "I the link referenced above they use DependencyService.Get in what looks to be where you have ServiceLocator.Instance. Is this correct?"}, {"owner": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "edited": false, "score": 0, "creation_date": 1522354339, "post_id": 49543446, "comment_id": 86136679, "body": "<a href=\"https://pastebin.com/kAz3ayZf\" rel=\"nofollow noreferrer\">App.xaml.cs</a> The same behavior is observed on ios, it will not run in the background but instead when you resume the app. But on Android, it works even on api level 26"}, {"owner": {"reputation": 377, "user_id": 2074945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355805635e37d9732e60e979b59270e5?s=128&d=identicon&r=PG", "display_name": "user2074945", "link": "https://stackoverflow.com/users/2074945/user2074945"}, "reply_to_user": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "edited": false, "score": 0, "creation_date": 1522354759, "post_id": 49543446, "comment_id": 86136918, "body": "hmm, what is logged on iOS for &quot;Background task time remaining:&quot;? Maybe there is an issue with updating the UI from the background (Device.BeginInvokeOnMainThread). Can you try it with a background task, that only logs to console every second? To make sure, the problem is not caused by some other parts of your code."}, {"owner": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "reply_to_user": {"reputation": 377, "user_id": 2074945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355805635e37d9732e60e979b59270e5?s=128&d=identicon&r=PG", "display_name": "user2074945", "link": "https://stackoverflow.com/users/2074945/user2074945"}, "edited": false, "score": 0, "creation_date": 1522359781, "post_id": 49543446, "comment_id": 86139207, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/167839/discussion-between-jacob-ernst-and-user2074945\">continue this discussion in chat</a>."}, {"owner": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "edited": false, "score": 1, "creation_date": 1522363239, "post_id": 49543446, "comment_id": 86140410, "body": "Discussion synopsis; Make sure //your code here; contains a async method that can be await"}], "tags": [], "owner": {"reputation": 377, "user_id": 2074945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355805635e37d9732e60e979b59270e5?s=128&d=identicon&r=PG", "display_name": "user2074945", "link": "https://stackoverflow.com/users/2074945/user2074945"}, "is_accepted": true, "score": 2, "last_activity_date": 1522268246, "creation_date": 1522268246, "answer_id": 49543446, "question_id": 49542832, "link": "https://stackoverflow.com/questions/49542832/xamarin-forms-background-tasks-run-only-when-app-is-open-on-ios/49543446#49543446", "title": "Xamarin forms background tasks run only when app is open on ios", "body": "<p>On iOS, apps that don't request to be run in the Background, can not run in the Background for longer than 10 seconds. In order to make some code run in the Background you could implement a DependencyService on iOS and on android. You would put the following code inside that service on iOS:</p>\n\n<pre><code>public async Task RunCodeInBackgroundMode(Func&lt;Task&gt; action, string name = \"MyBackgroundTaskName\")\n    {\n        nint taskId = 0;\n        var taskEnded = false;\n        taskId = UIApplication.SharedApplication.BeginBackgroundTask(name, () =&gt;\n        {\n            //when time is up and task has not finished, call this method to finish the task to prevent the app from being terminated\n            Console.WriteLine($\"Background task '{name}' got killed\");\n            taskEnded = true;\n            UIApplication.SharedApplication.EndBackgroundTask(taskId);\n        });\n        await Task.Factory.StartNew(async () =&gt;\n        {\n            //here we run the actual task\n            Console.WriteLine($\"Background task '{name}' started\");\n            await action();\n            taskEnded = true;\n            UIApplication.SharedApplication.EndBackgroundTask(taskId);\n            Console.WriteLine($\"Background task '{name}' finished\");\n        });\n\n        await Task.Factory.StartNew(async () =&gt;\n        {\n            //Just a method that logs how much time we have remaining. Usually a background task has around 180 seconds to complete. \n            while (!taskEnded)\n            {\n                Console.WriteLine($\"Background task '{name}' time remaining: {UIApplication.SharedApplication.BackgroundTimeRemaining}\");\n                await Task.Delay(1000);\n            }\n        });\n    }\n</code></pre>\n\n<p>On Android you could use the following code:</p>\n\n<pre><code>public async Task RunCodeInBackgroundMode(Func&lt;Task&gt; action, string name = \"MyBackgroundTaskName\")\n        {\n            var powerManager = (PowerManager)Application.Context.GetSystemService(Context.PowerService);\n            var wakeLock = powerManager.NewWakeLock(WakeLockFlags.Partial,\n                                                    name);\n            //acquire a partial wakelock. This prevents the phone from going to sleep as long as it is not released.\n            wakeLock.Acquire();\n            var taskEnded = false;\n\n            await Task.Factory.StartNew(async () =&gt;\n            {\n                //here we run the actual code\n                Console.WriteLine($\"Background task '{name}' started\");\n                await action();\n                Console.WriteLine($\"Background task '{name}' finished\");\n                wakeLock.Release();\n                taskEnded = true;\n            });\n\n            await Task.Factory.StartNew(async () =&gt;\n            {\n                //just a method to keep track of how long the task runs\n                var stopwatch = new Stopwatch();\n                stopwatch.Start();\n                while (!taskEnded)\n                {\n                    Console.WriteLine($\"Background '{name}' task with wakelock still running ({stopwatch.Elapsed.TotalSeconds} seconds)\");\n                    await Task.Delay(1000);\n                }\n                stopwatch.Stop();\n            });\n        }\n</code></pre>\n\n<p>Inside the shared project, you could call those methods in the following way:</p>\n\n<pre><code>var deviceInfoServic = ServiceLocator.Instance.Get&lt;YourService Interface here&gt;();\nawait deviceInfoServic.RunCodeInBackgroundMode(async () =&gt;\n{\n    //your code here\n});\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5614564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FASls.jpg?s=128&g=1", "display_name": "Jacob Ernst", "link": "https://stackoverflow.com/users/5614564/jacob-ernst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5795, "favorite_count": 0, "accepted_answer_id": 49543446, "answer_count": 1, "score": 2, "last_activity_date": 1522268246, "creation_date": 1522265931, "question_id": 49542832, "link": "https://stackoverflow.com/questions/49542832/xamarin-forms-background-tasks-run-only-when-app-is-open-on-ios", "title": "Xamarin forms background tasks run only when app is open on ios", "body": "<ol>\n<li>Expected behavior\n\n<ul>\n<li>ios\n\n<ul>\n<li>When the app is minimized and notifications come in every 5 seconds.</li>\n</ul></li>\n<li>Android\n\n<ul>\n<li>When the app is minimized and notifications come in every 5 seconds.</li>\n</ul></li>\n</ul></li>\n<li>Actual behavior\n\n<ul>\n<li>ios\n\n<ul>\n<li>App minimizes and no notifications come in, opening the app causes notifications to come in every 5 seconds.</li>\n</ul></li>\n<li>Android\n\n<ul>\n<li>When the app is minimized and notifications come in every 5 seconds.\n\n<blockquote>\n<pre><code>//from app.xaml.cs\nprotected override void OnSleep()\n    {\n        void ScheduleNotification()\n        {\n            // Start a timer that runs after 5 seconds.\n            Device.StartTimer(TimeSpan.FromSeconds(5), () =&gt;\n            {\n                System.Threading.Tasks.Task.Factory.StartNew( () =&gt;\n                {\n                    // Do the actual request and wait for it to finish.\n                     PerformNotification();\n                    // Switch back to the UI thread to update the UI\n                    Device.BeginInvokeOnMainThread(() =&gt;\n                    {\n                        // Update the UI\n                        // ...\n                        // Now repeat by scheduling a new request\n                        ScheduleNotification();\n                        count++;\n                    });\n                }, CancellationToken.None, TaskCreationOptions.DenyChildAttach, TaskScheduler.Default);\n\n                // Don't repeat the timer (we will start a new timer when the request is finished)\n                return false;\n            });\n        }\n       void PerformNotification()\n        {\n            CrossLocalNotifications.Current.Show(\"title\", \"body\"+ count.ToString());\n\n        }\n        ScheduleNotification();\n    }\n</code></pre>\n</blockquote></li>\n</ul></li>\n</ul></li>\n</ol>\n"}, {"tags": ["c#", "winforms", "combobox", "focus", "user-experience"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522266292, "post_id": 49542819, "comment_id": 86093374, "body": "why not as soon as the drop down menu closes,you focus on the form ?"}, {"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522266959, "post_id": 49542819, "comment_id": 86093708, "body": "This seemed like a great idea, but calling <code>this.Focus()</code> on the <code>DropDownClosed</code> event will not prevent the <code>ComboBox</code> from interfering with the focus. Spy++ still shows that <code>WM_SETFOCUS</code> is not sent as tab/shift+tab are pressed."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522267211, "post_id": 49542819, "comment_id": 86093849, "body": "are u sure my idea won&#39;t work ? why nt create a txtbox,hide it and set focus to it on drop down close ? i know its not the best practice but worth a shot right ?"}, {"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522267239, "post_id": 49542819, "comment_id": 86093866, "body": "For kicks, I even wrapped that in a timer to trigger 1 second after closing the drop-down to ensure that it wasn&#39;t being overridden. Still no luck, but as  OP indicates, selecting an item still fixes the focus-lock ;)"}, {"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522267726, "post_id": 49542819, "comment_id": 86094152, "body": "@zackraiyan As described, I was not able to produce an MVCE...will update OP as more information is found."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1522267946, "post_id": 49542819, "comment_id": 86094301, "body": "Sigh, if only I could copy/paste code instead of having my eyes assaulted by an animated gif.  My crystal ball says that you need to pay  attention to WM_ACTIVATE, it is a known problem with ToolStrip."}, {"owner": {"reputation": 6472, "user_id": 2321042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea2250b729654f9c6a61d9b1c43e545?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2321042/andrew"}, "edited": false, "score": 0, "creation_date": 1522276250, "post_id": 49542819, "comment_id": 86098031, "body": "Why do you say that focus is stolen? It took me quite a while to understand this. Nothing is stolen, you are in the dropdown so the focus stays there. Collapsing it won&#39;t make the dropdown lose the focus. That wouldn&#39;t be the standard behavior of any application. Are you saying the the control you set focus to after collapsing it is not actually in focus?"}, {"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 0, "creation_date": 1522293931, "post_id": 49542819, "comment_id": 86102418, "body": "It&#39;s perhaps the best I way I understand how to describe this behavior. Truly, the issue is that upon exiting the dropdown, it is not possible to set the focus to any other control. At least not until the item is selected. I recognize this is not the standard behavior of the combo-box, so there is likely some side-effect that causes the combo-box to exhibit this behavior."}, {"owner": {"reputation": 159, "user_id": 2945169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000658489882/picture?type=large", "display_name": "Sabri", "link": "https://stackoverflow.com/users/2945169/sabri"}, "edited": false, "score": 0, "creation_date": 1522299831, "post_id": 49542819, "comment_id": 86103950, "body": "Not sure what you are talking about here. I tried creating a sample app and when I close the combobox without selecting an item, I still can close the form with Alt F4, tab to other controls etc."}], "answers": [{"comments": [{"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 1, "creation_date": 1522443872, "post_id": 49581391, "comment_id": 86170817, "body": "Perfect! This was it!"}], "tags": [], "owner": {"reputation": 164, "user_id": 2363460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa994c3ea4735bf9534dab5d9ca76d06?s=128&d=identicon&r=PG", "display_name": "Dru Steeby", "link": "https://stackoverflow.com/users/2363460/dru-steeby"}, "is_accepted": true, "score": 1, "last_activity_date": 1522443728, "creation_date": 1522443728, "answer_id": 49581391, "question_id": 49542819, "link": "https://stackoverflow.com/questions/49542819/windows-forms-combobox-steals-focus-until-an-item-is-selected/49581391#49581391", "title": "Windows Forms ComboBox Steals Focus Until an Item is Selected", "body": "<p>You might want to check out this topic here: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/290629/cannot-tab-out-of-databound-winforms-dropdown-list\">Cannot tab out of databound Winforms dropdown list</a></p>\n\n<p>The databinding might be throwing an exception in the data validation behind the scenes.</p>\n"}], "owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 49581391, "answer_count": 1, "score": 2, "last_activity_date": 1522443728, "creation_date": 1522265895, "last_edit_date": 1592644375, "question_id": 49542819, "link": "https://stackoverflow.com/questions/49542819/windows-forms-combobox-steals-focus-until-an-item-is-selected", "title": "Windows Forms ComboBox Steals Focus Until an Item is Selected", "body": "<p>I've run into a peculiar issue while using the standard Windows Forms <code>ComboBox</code>.\nEssentially, if I click the <code>ComboBox</code>, then click it a second time or hit escape to exit the drop-down, focus is stolen. The animation below shows how this is done:</p>\n<p><a href=\"https://i.stack.imgur.com/YKf2b.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKf2b.gif\" alt=\"ComboBox Stealing Focus\" /></a></p>\n<p>When the focus is stolen, <code>WM_SETFOCUS</code> messages are not received, and this has some interesting consequences:</p>\n<ul>\n<li><kbd>Alt</kbd> + <kbd>F4</kbd> command does not close the activated window.</li>\n<li>Clicking tabs on a <code>TabControl</code> does not switch pages.</li>\n<li>The focused control cannot be switched using <kbd>Tab</kbd> or <kbd>Shift</kbd> + <kbd>Tab</kbd>.</li>\n</ul>\n<p>As one can imagine, this leaves the application in an unacceptable state because users may not know why, or more importantly, how to resolve this focusing issue and are left thinking there is a bug because of the unresponsiveness.</p>\n<p>After some testing, I found that focus can be restored by selecting an item from the offending <code>ComboBox</code>.</p>\n<h3>What can be done to prevent the combo-box from stealing the focus when the drop-down list is exited without selecting an item?</h3>\n<hr>\n<p>I've gathered some logs from Spy++ that demonstrate the third bullet (switching focus).\nAs can be seen, the tab key is pressed but <code>WM_SETFOCUS</code> is not monitored by Spy++.</p>\n<pre><code>&lt;000434&gt; 0025574E R WM_NCCALCSIZE fuValidRect:0000 lpncsp:007CE9CC\n&lt;000435&gt; 0025574E S WM_NCCALCSIZE fCalcValidRects:True lpncsp:007CE9CC\n&lt;000436&gt; 0025574E R WM_NCCALCSIZE fuValidRect:0000 lpncsp:007CE9CC\n&lt;000437&gt; 0025574A P WM_LBUTTONUP fwKeys:0000 xPos:237 yPos:26\n&lt;000438&gt; 0025574E P WM_LBUTTONDOWN fwKeys:MK_LBUTTON xPos:236 yPos:-7\n&lt;000439&gt; 0025574A P WM_LBUTTONUP fwKeys:0000 xPos:237 yPos:26\n&lt;000440&gt; 0025574A P WM_KEYDOWN nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:0 fUp:0\n&lt;000441&gt; 0025574A P WM_KEYUP nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:1 fUp:1\n&lt;000442&gt; 0025574A P WM_KEYDOWN nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:0 fUp:0\n&lt;000443&gt; 0025574A P WM_KEYUP nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:1 fUp:1\n&lt;000444&gt; 0025574A P WM_KEYDOWN nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:0 fUp:0\n&lt;000445&gt; 0025574A P WM_KEYUP nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:1 fUp:1\n&lt;000446&gt; 0025574A P WM_KEYDOWN nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:0 fUp:0\n</code></pre>\n<p>However, after we select and item in the drop-down list, focus is able to change and Spy++ captures <code>WM_SETFOCUS</code> messages.</p>\n<pre><code>&lt;000742&gt; 002555E0 S WM_NCCALCSIZE fCalcValidRects:True lpncsp:007CCFA4\n&lt;000743&gt; 002555E0 R WM_NCCALCSIZE fuValidRect:0000 lpncsp:007CCFA4\n&lt;000744&gt; 002555E0 S WM_NCCALCSIZE fCalcValidRects:True lpncsp:007CCC94\n&lt;000745&gt; 002555E0 R WM_NCCALCSIZE fuValidRect:0000 lpncsp:007CCC94\n&lt;000746&gt; 0025574E R WM_KEYDOWN\n&lt;000747&gt; 0025574A P WM_KEYUP nVirtKey:VK_DOWN cRepeat:1 ScanCode:50 fExtended:1 fAltDown:0 fRepeat:1 fUp:1\n&lt;000748&gt; 0025574A P WM_KEYDOWN nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:0 fUp:0\n&lt;000749&gt; 0025574A S WM_KILLFOCUS hwndGetFocus:00265748\n&lt;000750&gt; 0025574A R WM_KILLFOCUS\n&lt;000751&gt; 00265748 S WM_SETFOCUS hwndLoseFocus:0025574A\n&lt;000752&gt; 00265748 R WM_SETFOCUS\n&lt;000753&gt; 00265748 P WM_KEYUP nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:1 fUp:1\n&lt;000754&gt; 00265748 P WM_KEYDOWN nVirtKey:VK_TAB cRepeat:1 ScanCode:0F fExtended:0 fAltDown:0 fRepeat:0 fUp:0\n&lt;000755&gt; 00265748 S WM_KILLFOCUS hwndGetFocus:00255770\n&lt;000756&gt; 00265748 R WM_KILLFOCUS\n</code></pre>\n<p>I had initially thought that act of stealing focus was a side-effect of the <code>ComboBox</code> creating a new window for the drop-down display without properly re-activating the parent window. But clicking the application icon in the task bar will cause the <code>WM_ACTIVATE</code> message to appear in Spy++ without retrieving focus again.</p>\n"}, {"tags": ["c#", "linq", "task"], "comments": [{"owner": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "edited": false, "score": 0, "creation_date": 1522265514, "post_id": 49542515, "comment_id": 86092927, "body": "Looks fine, but I would not put it into production =) It is just strange that you trying to avoid &quot;DB heat&quot; by implementing throttling on client, rather than do it on server. You basically spreading this load, not avoiding it. Just write optimal one-call query for all integers or process them in batches."}, {"owner": {"reputation": 38985, "user_id": 56621, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c9f0a88b23e72c4c297f2d563fa90c6?s=128&d=identicon&r=PG", "display_name": "Alex from Jitbit", "link": "https://stackoverflow.com/users/56621/alex-from-jitbit"}, "reply_to_user": {"reputation": 5538, "user_id": 5639688, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/5GBLX.jpg?s=128&g=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/5639688/eocron"}, "edited": false, "score": 0, "creation_date": 1522265624, "post_id": 49542515, "comment_id": 86092999, "body": "@eocron thanks! PS. Well, in RL it&#39;s way more complicated than integers. Super complicated business-logic, and we need to add &quot;bulk-actions&quot; to the app."}], "owner": {"reputation": 38985, "user_id": 56621, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c9f0a88b23e72c4c297f2d563fa90c6?s=128&d=identicon&r=PG", "display_name": "Alex from Jitbit", "link": "https://stackoverflow.com/users/56621/alex-from-jitbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522265176, "creation_date": 1522264666, "last_edit_date": 1522265176, "question_id": 49542515, "link": "https://stackoverflow.com/questions/49542515/run-an-action-for-every-item-in-collection-one-by-one-with-a-pause", "title": "Run an action for every item in collection, one by one WITH A PAUSE", "body": "<p>I need to execute a task for each item in a collection, one by one (not in parallel) <strong>with a pause</strong> to prevent DB-server heat. Here's a method I wrote:</p>\n\n<pre><code>public static Task ForEachWithPause&lt;T&gt;(this IEnumerable&lt;T&gt; enumeration, Action&lt;T&gt; action, int milliseconds)\n{\n    return Task.Run(async () =&gt;\n    {\n        foreach (T item in enumeration)\n        {\n            action(item);\n            await Task.Delay(milliseconds);\n        }\n    });\n}\n\n//usage\nintCollection..ForEachWithPause(integer =&gt;\n    {\n        //do something with integer\n    }, 500);\n</code></pre>\n\n<p>Anyone sees any problem with it? I'm very new to tasks and <code>async</code></p>\n"}, {"tags": ["c#", "vbscript"], "comments": [{"owner": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "edited": false, "score": 2, "creation_date": 1522264955, "post_id": 49542393, "comment_id": 86092600, "body": "Hard to say without a little more code for context.  Perhaps related to <a href=\"https://stackoverflow.com/questions/31720595/pin-program-to-taskbar-using-ps-in-windows-10/38880235#38880235\">pinning an item to the taskbar</a>?"}, {"owner": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "reply_to_user": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "edited": false, "score": 0, "creation_date": 1522265008, "post_id": 49542393, "comment_id": 86092623, "body": "@ashleedawg wow your Google-fu is impressive! It&#39;s gotta be it!"}, {"owner": {"reputation": 200, "user_id": 8471730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpFIu.png?s=128&g=1", "display_name": "Greenkiller", "link": "https://stackoverflow.com/users/8471730/greenkiller"}, "edited": false, "score": 0, "creation_date": 1522265052, "post_id": 49542393, "comment_id": 86092646, "body": "Yes this is exactly what I am trying to do. The others lines I understand how it works and how to do it in C# but not these 5 lines"}, {"owner": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "edited": false, "score": 0, "creation_date": 1522265109, "post_id": 49542393, "comment_id": 86092686, "body": "Well then, that code is pinning <code>objFile</code> to the task bar"}, {"owner": {"reputation": 200, "user_id": 8471730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpFIu.png?s=128&g=1", "display_name": "Greenkiller", "link": "https://stackoverflow.com/users/8471730/greenkiller"}, "edited": false, "score": 0, "creation_date": 1522265207, "post_id": 49542393, "comment_id": 86092735, "body": "I just want to know how to do an invokeverb(&quot;{:}&quot;) in C#"}, {"owner": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "edited": false, "score": 0, "creation_date": 1522265227, "post_id": 49542393, "comment_id": 86092755, "body": "lol, I&#39;ve been a longtime beleiver that Google skill is more important than Coding skill, and should be the centre of Coding 101.  In my opinion, the secret to coding-related Google-fu is always choosing <b><code>Tools</code>\u2192 <code>Vertbatim</code></b> (or using this link for the same result <b><code>https:&#47;&#47;www.google.ca&#47;?tbs=li:1</code></b>)"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1522265227, "post_id": 49542393, "comment_id": 86092756, "body": "Have you looked at this: <a href=\"https://stackoverflow.com/questions/6872103/pin-lnk-file-to-windows-7-taskbar-using-c-sharp\" title=\"pin lnk file to windows 7 taskbar using c sharp\">stackoverflow.com/questions/6872103/&hellip;</a>"}, {"owner": {"reputation": 200, "user_id": 8471730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpFIu.png?s=128&g=1", "display_name": "Greenkiller", "link": "https://stackoverflow.com/users/8471730/greenkiller"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522265310, "post_id": 49542393, "comment_id": 86092805, "body": "@Rufus L Thank you I will try with that :D"}], "answers": [{"comments": [{"owner": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "edited": false, "score": 1, "creation_date": 1522266532, "post_id": 49542732, "comment_id": 86093485, "body": "Congrats on your 6K! Next stop, 10K!"}, {"owner": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "reply_to_user": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "edited": false, "score": 0, "creation_date": 1522267158, "post_id": 49542732, "comment_id": 86093816, "body": "@MathieuGuindon -Maybe a <i>couple</i> stops in between here and there  but <b>thanks</b>! :-) That&#39;s what I get for answer a question for a language I&#39;ve never touched in my life, about a VBA command I&#39;ve never used..."}], "tags": [], "owner": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "is_accepted": true, "score": 3, "last_activity_date": 1522265529, "creation_date": 1522265529, "answer_id": 49542732, "question_id": 49542393, "link": "https://stackoverflow.com/questions/49542393/what-does-invokeverb-do-and-how-do-i-do-it-in-c/49542732#49542732", "title": "What does InvokeVerb(&quot;{:}&quot;) do, and how do I do it in C#?", "body": "<p>That's be related to <strong>pinning an item to the taskbar</strong> in Windows 10.</p>\n\n<hr>\n\n<h2>More Information:</h2>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/31720595/pin-program-to-taskbar-using-ps-in-windows-10/38880235#38880235\">Pin program to taskbar using PS in Windows 10</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/6872103/pin-lnk-file-to-windows-7-taskbar-using-c-sharp?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Pin *.lnk file to Windows 7 Taskbar using C#</a></p></li>\n<li><p><a href=\"https://social.msdn.microsoft.com/Forums/windowsdesktop/en-US/a1660523-fdeb-4307-af4c-2cb188b882ae/how-to-programatically-pin-and-unpin-my-program-to-windows7-taskbar?forum=windowsuidevelopment\" rel=\"nofollow noreferrer\">How to programatically pin and unpin my program to Windows7 taskbar</a></p></li>\n</ul>\n"}], "owner": {"reputation": 200, "user_id": 8471730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpFIu.png?s=128&g=1", "display_name": "Greenkiller", "link": "https://stackoverflow.com/users/8471730/greenkiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "closed_date": 1522265785, "accepted_answer_id": 49542732, "answer_count": 1, "score": 0, "last_activity_date": 1522265759, "creation_date": 1522264237, "last_edit_date": 1522265759, "question_id": 49542393, "link": "https://stackoverflow.com/questions/49542393/what-does-invokeverb-do-and-how-do-i-do-it-in-c", "closed_reason": "Duplicate", "title": "What does InvokeVerb(&quot;{:}&quot;) do, and how do I do it in C#?", "body": "<p>Hello can someone please help me to find an alternative to this code in C# wpf.</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>With WScript.CreateObject(\"Shell.Application\")\n    With .Namespace(objFSO.GetParentFolderName(objFile))\n        .ParseName(objFSO.GetFileName(objFile)).InvokeVerb(\"{:}\")\n    End With\nEnd With\n</code></pre>\n\n<p>I can't find an equivalent in C# for <code>InvokeVerb(\"{:}\")</code>. Can someone tell me at least what these lines are doing?</p>\n\n<p>Thanks anyway :D</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1522297759, "post_id": 49542171, "comment_id": 86103388, "body": "Are the <code>CustomerNumbers</code> in the nested objects guaranteed to be a subset of the <code>CustomerNumbers</code> in the enclosing object? or could it be ({&quot;1&quot;, &quot;2&quot;}, ({&quot;3&quot;}, {&quot;4&quot;})) and if so, what on earth would you expect as the output?"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1522298370, "post_id": 49542171, "comment_id": 86103539, "body": "Assuming it&#39;s guaranteed, see updated answer, you can use the initial customer numbers to generate the Select that causes each row of the output to be created and can use DefaultIfEmpty to fill in the missing items."}, {"owner": {"reputation": 363, "user_id": 3850567, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NEj6M.jpg?s=128&g=1", "display_name": "dumbchemistry", "link": "https://stackoverflow.com/users/3850567/dumbchemistry"}, "reply_to_user": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1522335233, "post_id": 49542171, "comment_id": 86126245, "body": "Yeah, they&#39;re guaranteed to be a subset."}], "answers": [{"tags": [], "owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "is_accepted": true, "score": 1, "last_activity_date": 1522298307, "last_edit_date": 1522298307, "creation_date": 1522264124, "answer_id": 49542357, "question_id": 49542171, "link": "https://stackoverflow.com/questions/49542171/flatten-and-group-complex-objects-in-linq-and-preserve-null-children/49542357#49542357", "title": "Flatten and group complex objects in Linq and preserve null children", "body": "<p>You can use LINQ's <code>DefaultIfEmpty</code> to insert the empty values that you need when the <code>Sections</code> collection is empty. See <a href=\"https://msdn.microsoft.com/en-us/library/bb355419(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/bb355419(v=vs.110).aspx</a></p>\n\n<p>On the end of the second<code>.SelectMany(...)</code> add:</p>\n\n<pre><code>.DefaultIfEmpty(new { rt, null, null, cystNum })\n</code></pre>\n\n<p>Which does 'for each route that has no sections, create a dummy result'.</p>\n\n<p>EDIT: Given your changed requirement it would look like this:</p>\n\n<pre><code> var res = data.SelectMany(r =&gt; r.CustomerNumbers\n            .SelectMany(c =&gt; r.Sections.Where(s =&gt; s.CustomerNumbers.Contains(c))\n                .SelectMany(s =&gt; s.Sequences\n                  .Select(seq =&gt; new { CustomerNumber = c, Route = r, Section = s, Sequence = seq }))\n                .DefaultIfEmpty(new { CustomerNumber = c, Route = r, Section = (SectionExport)null, Sequence = (SequenceExport)null })))\n                .ToList();\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 3850567, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NEj6M.jpg?s=128&g=1", "display_name": "dumbchemistry", "link": "https://stackoverflow.com/users/3850567/dumbchemistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 49542357, "answer_count": 1, "score": 4, "last_activity_date": 1522314010, "creation_date": 1522263361, "last_edit_date": 1522271837, "question_id": 49542171, "link": "https://stackoverflow.com/questions/49542171/flatten-and-group-complex-objects-in-linq-and-preserve-null-children", "title": "Flatten and group complex objects in Linq and preserve null children", "body": "<p>I have a list of a complex object called <code>RouteExport</code> that I am attempting to flatten and group based on a <code>CustomerNumber</code> value such that it returns an anonymous object that looks like </p>\n\n<pre><code>{ CustomerNumber = \"1235\", Route = route1, Section = section2, Sequence = sequence2 } \n</code></pre>\n\n<p>or</p>\n\n<pre><code>{ CustomerNumber = \"1234\", Route = route1, Section = null, Sequence = null }\n</code></pre>\n\n<p>The models look like this: </p>\n\n<pre><code>public class RouteExport\n{\n    public string Name { get; set; }\n    public string Term { get; set; }\n    public List&lt;string&gt; CustomerNumbers { get; set; }\n    public List&lt;SectionExport&gt; Sections { get; set; }\n}\n\npublic class SectionExport\n{\n    public string Name { get; set; }\n    public List&lt;string&gt; CustomerNumbers { get; set; }\n    public List&lt;SequenceExport&gt; Sequences { get; set; }\n}\n\npublic class SequenceExport\n{\n    public string Name { get; set; }\n    public List&lt;string&gt; CustomerNumbers { get; set; }\n}\n</code></pre>\n\n<p>Each of the objects has a CustomerNumber list that contains a customer's number if they're in that route/section/sequence. I would like to make group of each object based on that customer number. So far I have been using this:</p>\n\n<pre><code>var flattendExport = exportViewModel.ExportContainer.Routes\n            .SelectMany(rt =&gt; rt.Sections\n                .SelectMany(sec =&gt; sec.Sequences\n                    .SelectMany(seq =&gt; seq.CustomerNumbers\n                        .Select(custNum =&gt; new { rt, sec, seq, custNum })))).ToList();\n</code></pre>\n\n<p>which flattens the object but does not group by the <code>CustomerNumber</code> nor return null for the section or sequence.</p>\n\n<p>How can I make a query that would return a flattened list that groups by each object's <code>CustomerNumbers</code> and returns <code>null</code> if they are not in a section or sequence? </p>\n\n<p><strong>Update with test case</strong></p>\n\n<p>I didn't phrase the original question adequately so have made a few edits. I would like to group on the customer's number such that this data:</p>\n\n<pre><code>var data = new List&lt;RouteExport&gt;\n{\n    new RouteExport\n    {\n        CustomerNumbers = new List&lt;string&gt; { \"1\", \"2\" },\n        Sections = new List&lt;SectionExport&gt;\n        {\n            new SectionExport()\n            {\n                CustomerNumbers = new List&lt;string&gt; { \"1\" },\n                Sequences = new List&lt;SequenceExport&gt; {\n                    new SequenceExport()\n                    {\n                        CustomerNumbers = new List&lt;string&gt; { \"1\" }\n                    }\n                }\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>returns the following result:</p>\n\n<pre><code>{ CustomerNumber = \"1\", Route = route1, Section = section1, Sequence = sequence1},\n{ CustomerNumber = \"2\", Route = route1, Section = null, Sequence = null}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 2238, "user_id": 2780300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0f8fbffb43125296bc27d421fe383c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/2780300/kevin"}, "edited": false, "score": 0, "creation_date": 1522263773, "post_id": 49542125, "comment_id": 86092003, "body": "you can&#39;t add directly to dropdown, please see <a href=\"https://stackoverflow.com/questions/11374880/insert-item-in-combobox-after-binding-it-from-a-dataset-in-c-sharp\" title=\"insert item in combobox after binding it from a dataset in c sharp\">stackoverflow.com/questions/11374880/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 904, "user_id": 3302585, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c6b5312ed99b82272b5e7a78e9f2b065?s=128&d=identicon&r=PG&f=1", "display_name": "RubberChickenLeader", "link": "https://stackoverflow.com/users/3302585/rubberchickenleader"}, "is_accepted": false, "score": 0, "last_activity_date": 1522263566, "creation_date": 1522263566, "answer_id": 49542218, "question_id": 49542125, "link": "https://stackoverflow.com/questions/49542125/using-lists-from-datasource-but-including-a-not-selected-item/49542218#49542218", "title": "Using Lists From DataSource but including a Not Selected Item", "body": "<p>When I was managing a \"Default\" value I would set it either in the JavaScript (the front end data binding library we used had a way to set a null initially selected value with display text, we used <code>--- Select ---</code> but it was customizable per control) or on the server inserting it as the first item in the list after building from my data store.</p>\n\n<p>Both are a valid option of handling a null, however I found the front end library easier since it would just pass a null for the value and I didn't have to transform a blank / default into a null server side to store.</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 3502865, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/579324229/picture?type=large", "display_name": "user3502865", "link": "https://stackoverflow.com/users/3502865/user3502865"}, "edited": false, "score": 0, "creation_date": 1522336564, "post_id": 49544577, "comment_id": 86127147, "body": "The list is of Type Component which has a serial number and  a product property which has a manufacturer. property.      The list I&#39;m displaying generates a description based upon the product and manufacturer names and hence it is not a simple property on a single entity.   So creating first entity ends up being more complicated.  I was thinking about having a button next to the list which simply sets the value to null.   It is simple and works but I think it is cludgy."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1522272991, "creation_date": 1522272991, "answer_id": 49544577, "question_id": 49542125, "link": "https://stackoverflow.com/questions/49542125/using-lists-from-datasource-but-including-a-not-selected-item/49544577#49544577", "title": "Using Lists From DataSource but including a Not Selected Item", "body": "<p>You could use an extension method to add a null value on your <code>IList</code>:</p>\n\n<pre><code>public static IEnumerable&lt;T&gt; AsSingleton&lt;T&gt;(this T first) {\n    yield return first;\n}\n\npublic static IEnumerable&lt;T&gt; FollowedBy&lt;T&gt;(this T first, IEnumerable&lt;T&gt; rest) =&gt; first.AsSingleton().Concat(rest);\n</code></pre>\n\n<p>Then set the datasource as</p>\n\n<pre><code>ddlPick.DataSource = \"\".FollowedBy(query);\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 3502865, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/579324229/picture?type=large", "display_name": "user3502865", "link": "https://stackoverflow.com/users/3502865/user3502865"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522272991, "creation_date": 1522263213, "question_id": 49542125, "link": "https://stackoverflow.com/questions/49542125/using-lists-from-datasource-but-including-a-not-selected-item", "title": "Using Lists From DataSource but including a Not Selected Item", "body": "<p>I have an UI both web and winds which has a dropdown control that is used to populate a field on an the object.</p>\n\n<p>It is not required to be set.   I'm thinking that having an additional item \"\" in the dropdown would be a good way and then detecting this when saving and setting its value to null.</p>\n\n<p>However as the datasource is a IList coming from LINQ query of an EF/SQL database I really don't want to create additional records in the database but want to add these purely for UI controls.</p>\n\n<p>Is this a good strategy ?</p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 706, "user_id": 6631692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f793996a579e84247020586abbf8b655?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/6631692/ahmad"}, "edited": false, "score": 0, "creation_date": 1522267695, "post_id": 49542113, "comment_id": 86094141, "body": "Do you want a c# code for it ? do you want to select random male or female for radio button in C#?"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 1, "creation_date": 1522270221, "post_id": 49542113, "comment_id": 86095548, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2706500/how-do-i-generate-a-random-int-number-in-c\">How do I generate a random int number in C#?</a>"}, {"owner": {"reputation": 21, "user_id": 7888075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e239fdcd82c19417da79e79a0962ef2?s=128&d=identicon&r=PG&f=1", "display_name": "Banu", "link": "https://stackoverflow.com/users/7888075/banu"}, "edited": false, "score": 0, "creation_date": 1522306326, "post_id": 49542113, "comment_id": 86106568, "body": "I can go with what Miguel said, i know how to write that in C#. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1522270239, "post_id": 49542656, "comment_id": 86095559, "body": "OP is looking for C# answers"}], "tags": [], "owner": {"reputation": 106, "user_id": 5398214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Nmp.jpg?s=128&g=1", "display_name": "Miguel D&#39;Alessio", "link": "https://stackoverflow.com/users/5398214/miguel-dalessio"}, "is_accepted": true, "score": 0, "last_activity_date": 1522265228, "creation_date": 1522265228, "answer_id": 49542656, "question_id": 49542113, "link": "https://stackoverflow.com/questions/49542113/c-selenium-click-a-random-button-when-i-have-two-radio-buttons/49542656#49542656", "title": "C# Selenium click a random button when i have two radio buttons", "body": "<p>you can generate a random 0 or 1 where if it is 0 select man, if it is 1 woman,\nfor example:</p>\n\n<p><strong>JAVA</strong></p>\n\n<p>Random</p>\n\n<pre><code>int max = 1\nint min = 0\n\nint num = random.nextInt(max - min + 1) + min\n\nif(num == 1){\n\n    driver.findElement(By.Xpath(\"/WOMEN\"))\n\n}else{\n\n    driver.findElement(By.Xpath(\"/MEN\"))\n</code></pre>\n\n<p>}</p>\n\n<p><strong>OR</strong></p>\n\n<p>in your xpath:</p>\n\n<pre><code>public By womenOrMen(value){\n\nreturn By.Xpath(\"//div/div/div/span[1]/input[@id='\"+ value +\"']\");\n\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7888075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e239fdcd82c19417da79e79a0962ef2?s=128&d=identicon&r=PG&f=1", "display_name": "Banu", "link": "https://stackoverflow.com/users/7888075/banu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 49542656, "answer_count": 1, "score": -1, "last_activity_date": 1522265228, "creation_date": 1522263160, "question_id": 49542113, "link": "https://stackoverflow.com/questions/49542113/c-selenium-click-a-random-button-when-i-have-two-radio-buttons", "title": "C# Selenium click a random button when i have two radio buttons", "body": "<p>I'm trying to make a script that types some random data in a form but on the page i also have the options to select the gender: Male / Female, each gender is in a radion button (different id's/xpath etc) how can i make the button selection random?.\nLets say button Male has id = 12 and button female has id = 23\nHow can i make it select 12 or 23 or xpath 1 vs xpath2</p>\n"}, {"tags": ["c#", "ajax", "model-view-controller"], "comments": [{"owner": {"reputation": 4541, "user_id": 3427252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phvBb.png?s=128&g=1", "display_name": "Ramy M. Mousa", "link": "https://stackoverflow.com/users/3427252/ramy-m-mousa"}, "edited": false, "score": 1, "creation_date": 1522264010, "post_id": 49542045, "comment_id": 86092127, "body": "Do you submit the data when the user clicks on a &quot;Save&quot; button or you&#39;re doing it when any data field is changed?"}, {"owner": {"reputation": 81, "user_id": 4019746, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-XiDLcZ7__AQ/AAAAAAAAAAI/AAAAAAAANcg/1xqzhoECJU0/photo.jpg?sz=128", "display_name": "Fr&#233;d&#233;ric Marcotte Pich&#233;", "link": "https://stackoverflow.com/users/4019746/fr%c3%a9d%c3%a9ric-marcotte-pich%c3%a9"}, "reply_to_user": {"reputation": 4541, "user_id": 3427252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phvBb.png?s=128&g=1", "display_name": "Ramy M. Mousa", "link": "https://stackoverflow.com/users/3427252/ramy-m-mousa"}, "edited": false, "score": 0, "creation_date": 1522265110, "post_id": 49542045, "comment_id": 86092689, "body": "It is submitted using a Save button, I&#39;ll add that detail to the question!"}], "owner": {"reputation": 81, "user_id": 4019746, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-XiDLcZ7__AQ/AAAAAAAAAAI/AAAAAAAANcg/1xqzhoECJU0/photo.jpg?sz=128", "display_name": "Fr&#233;d&#233;ric Marcotte Pich&#233;", "link": "https://stackoverflow.com/users/4019746/fr%c3%a9d%c3%a9ric-marcotte-pich%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522265188, "creation_date": 1522262932, "last_edit_date": 1522265188, "question_id": 49542045, "link": "https://stackoverflow.com/questions/49542045/multiple-individual-ajax-calls-vs-one-call-with-pairs-of-data", "title": "Multiple individual ajax calls VS one call with pairs of data", "body": "<p>I'm not exactly \"stuck\" on a problem, but would rather like to know which is best practice between sending a single ajax call with a dataset to be handled by the controller, or looping through each input field (up to 100 of them) and sending one ajax call for each.</p>\n\n<p>Here is what my table looks like, it's built using bootstrap.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kuUua.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kuUua.png\" alt=\"My table example\"></a></p>\n\n<p>When the user clicks on a cell of that table, it generates an input field inside the cell. The cell has data properties allowing me to know exactly which row and column it belongs to.</p>\n\n<p>Once the user clicks on a Save button, it needs to submit the data from the active input fields on the page to my database.</p>\n\n<p><strong>My current options are:</strong></p>\n\n<ol>\n<li>Use $.each() and send one ajax request per filled cell.</li>\n<li>Use $.each() to fill a variable containing all the key-value pairs, and then send it through a single ajax request.</li>\n</ol>\n\n<p>I've never done the second, but I'm fairly confident it can be done without too much trouble.</p>\n\n<p>My question is:</p>\n\n<p><strong>What are the pros and cons</strong> of each method?</p>\n\n<p>I'm curious about the impacts on performance, and other aspects I might be overlooking.</p>\n\n<p>Thanks for your help!!</p>\n"}, {"tags": ["c#", "entity-framework", "reflection", "lambda", "linq-to-entities"], "comments": [{"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522267198, "post_id": 49542031, "comment_id": 86093842, "body": "Does it work with DateTime? If it does, just use the Value of the Nullable&lt;DateTime&gt; to order."}, {"owner": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "edited": false, "score": 0, "creation_date": 1522267271, "post_id": 49542031, "comment_id": 86093887, "body": "Hmmm, you could try to CAST it in <code>(DateTime)</code>, but it will result in null value being probably turned into DateTime.MinValue... which is not all that great"}, {"owner": {"reputation": 957, "user_id": 4151075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100001381091762/picture?type=large", "display_name": "Marek", "link": "https://stackoverflow.com/users/4151075/marek"}, "reply_to_user": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522339387, "post_id": 49542031, "comment_id": 86128970, "body": "@MBakardzhiev 1st part of code doesn&#39;t work with DateTime, afaik it works only with primitives."}], "owner": {"reputation": 957, "user_id": 4151075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100001381091762/picture?type=large", "display_name": "Marek", "link": "https://stackoverflow.com/users/4151075/marek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522265032, "creation_date": 1522262885, "last_edit_date": 1522265032, "question_id": 49542031, "link": "https://stackoverflow.com/questions/49542031/ef-order-by-nullable-datetime-using-string-and-nested-reflection", "title": "EF Order by Nullable DateTime using string and nested reflection", "body": "<p>According to this <a href=\"https://stackoverflow.com/questions/48895095/entityframework-linq-order-using-string-and-nested-reflection\">question</a> I have created my methods for ordering data sets.</p>\n\n<pre><code>public static IOrderedQueryable&lt;T&gt; Order&lt;T&gt;(this IQueryable&lt;T&gt; source, string propertyName,\n    ListSortDirection direction = ListSortDirection.Ascending)\n{\n    return ListSortDirection.Ascending == direction\n        ? source.OrderBy(ToLambda&lt;T&gt;(propertyName))\n        : source.OrderByDescending(ToLambda&lt;T&gt;(propertyName));\n}\n\nprivate static Expression&lt;Func&lt;T, object&gt;&gt; ToLambda&lt;T&gt;(string propertyName)\n{\n    var propertyNames = propertyName.Split('.');\n    var parameter = Expression.Parameter(typeof(T));\n    var body = propertyNames.Aggregate&lt;string, Expression&gt;(parameter, Expression.Property);\n\n    return Expression.Lambda&lt;Func&lt;T, object&gt;&gt;(Expression.Convert(body, typeof(object)), parameter);\n//            return Expression.Lambda&lt;Func&lt;T, object&gt;&gt;(body, parameter);\n}\n</code></pre>\n\n<p>It was fine until I have tried to use it with <code>Nullable&lt;DateTime&gt;</code>, I have called <code>Expression.Convert</code> to box the <code>Nullable&lt;DateTime&gt;</code>, but unfortunately it throws</p>\n\n<pre><code>Unable to cast the type 'System.Nullable`1[[System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]' to type 'System.Object'. LINQ to Entities only supports casting EDM primitive or enumeration types.\n</code></pre>\n\n<p>I would like to make this more generic, but cannot came with a good idea.</p>\n\n<p>I have done this, but it's dumb AF :D</p>\n\n<pre><code>public static IOrderedQueryable&lt;T&gt; Order&lt;T&gt;(this IQueryable&lt;T&gt; source, string propertyName,\n    ListSortDirection direction = ListSortDirection.Ascending)\n{\n    if (propertyName.Contains(\"date\", StringComparison.CurrentCultureIgnoreCase))\n    {\n        return ListSortDirection.Ascending == direction\n            ? source.OrderBy(ToLambda&lt;T, DateTime?&gt;(propertyName))\n            : source.OrderByDescending(ToLambda&lt;T, DateTime?&gt;(propertyName));\n\n    }\n    return ListSortDirection.Ascending == direction\n        ? source.OrderBy(ToLambda&lt;T, object&gt;(propertyName))\n        : source.OrderByDescending(ToLambda&lt;T, object&gt;(propertyName));\n}\n\nprivate static Expression&lt;Func&lt;T, A&gt;&gt; ToLambda&lt;T, A&gt;(string propertyName)\n{\n    var propertyNames = propertyName.Split('.');\n    var parameter = Expression.Parameter(typeof(T));\n    var body = propertyNames.Aggregate&lt;string, Expression&gt;(parameter, Expression.Property);\n\n    return Expression.Lambda&lt;Func&lt;T, A&gt;&gt;(Expression.Convert(body, typeof(A)), parameter);\n//            return Expression.Lambda&lt;Func&lt;T, object&gt;&gt;(body, parameter);\n}\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "properties", "mocking", "moq"], "comments": [{"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1522267071, "post_id": 49542015, "comment_id": 86093760, "body": "Shouldn&#39;t you be passing <code>var testee = new VM(m_externalEntities.Object)</code> instead of <code>var testee = new VM(externalEntity.Object)</code>?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1522267925, "post_id": 49542015, "comment_id": 86094288, "body": "The question in its current state is incomplete and therefore unclear. Read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then <a href=\"https://stackoverflow.com/posts/49542015/edit\">edit</a> the question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be used to reproduce the problem, allowing a better understanding of what is being asked."}], "answers": [{"tags": [], "owner": {"reputation": 1985, "user_id": 2267817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oErq5.jpg?s=128&g=1", "display_name": "Always Learning", "link": "https://stackoverflow.com/users/2267817/always-learning"}, "is_accepted": false, "score": 1, "last_activity_date": 1522268046, "creation_date": 1522268046, "answer_id": 49543391, "question_id": 49542015, "link": "https://stackoverflow.com/questions/49542015/c-how-to-mock-code-line-with-several-properties/49543391#49543391", "title": "c# how to mock code line with several properties", "body": "<p>You had a lot of compilation errors and missing pieces in your code. It was not compiling as-is. That being said, I fixed it up for you. Not sure what your trying to accomplish but this works.</p>\n\n<pre><code>public interface IVm\n{\n    IVm MyVm { get; set; }\n}\n\npublic class VM : IVm\n{\n    public IVm MyVm { get; set; }\n    public VM(IExternalEntities externalEntities)\n    {\n        MyVm = externalEntities.Reflaction.VM;\n    }\n\n    public bool IsVmPowerOn()\n    {\n        //Do something\n        return true;\n    }\n\n}\n\npublic interface IExternalEntities\n{\n    IReflection Reflaction { get; set; }\n}\n\npublic class ExternalEntities : IExternalEntities\n{\n    public IReflection Reflaction { get; set; }\n\n    public ExternalEntities()\n    {\n        Reflaction = new Reflection();\n    }\n}\n\npublic interface IReflection\n{\n    IVm VM { get; set; }\n}\n\npublic class Reflection : IReflection\n{\n    public IVm VM { get; set; }\n\n    public Reflection()\n    {\n        VM = new VM(null);\n    }\n}\n</code></pre>\n\n<p>Then using that, your test would look like this.</p>\n\n<pre><code>[TestMethod]\n    public void TestVM()\n    {\n        Mock&lt;IExternalEntities&gt; m_externalEntities = new Mock&lt;IExternalEntities&gt;();\n        Mock&lt;IReflection&gt; m_reflection = new Mock&lt;IReflection&gt;();\n        Mock&lt;IVm&gt; m_vm = new Mock&lt;IVm&gt;();\n\n        m_externalEntities.Setup(x =&gt; x.Reflaction).Returns(m_reflection.Object);\n        m_reflection.Setup(x =&gt; x.VM).Returns(m_vm.Object);\n\n        var testee = new VM(m_externalEntities.Object);\n        var ans = testee.IsVmPowerOn();\n\n        Assert.IsTrue(ans);\n    }\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 3545804, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000308807127/picture?type=large", "display_name": "Yossich", "link": "https://stackoverflow.com/users/3545804/yossich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522268485, "creation_date": 1522262846, "last_edit_date": 1522268485, "question_id": 49542015, "link": "https://stackoverflow.com/questions/49542015/c-how-to-mock-code-line-with-several-properties", "title": "c# how to mock code line with several properties", "body": "<p>I have this code:</p>\n\n<pre><code>Class VM\n{\n    var MyVm;\n\n    public VM(ExternalEntities externalEntities){\n        MyVm = externalEntities.Reflcation.VM;\n    }\n\n    public bool IsVmPowerOn(){\n        //Do something  \n    }\n}\n\n[TestMethod]\npublic void TestVM()\n{\n    private Mock&lt;IExternalEntities&gt; m_externalEntities = new Mock&lt;IExternalEntities&gt;();\n    private Mock&lt;IReflection&gt; m_reflection = new Mock&lt;IReflection&gt;();\n    private Mock&lt;IVm&gt; m_vm= new Mock&lt;IVm&gt;();\n\n    m_externalEntities.Setup(x =&gt; x.Reflaction).Return(m_reflection.object);\n    m_reflection.Setup(x =&gt; x.VM).Return(m_vm.Object);\n\n    var testee = new VM(externalEntity.Object)\n    var ans = testee.IsVmPowerOn();\n\n    Assert.IsTrue(ans);\n}\n</code></pre>\n\n<p>The problem is that <code>externalEntities.Reflcation</code> is <code>null</code> and the test throws a <code>NullReferenceException</code> so it can't activate the Vm property.\nThe test can't pass constructor.</p>\n\n<p>The following code also throws a <code>NullReferenceException</code>:</p>\n\n<pre><code>m_externalEntities.Setup(x =&gt; x.Reflaction.VM).Return(m_vm.object);\n</code></pre>\n\n<p>How do you test this kind of code?\nWhy do I receive null after the setup and not the mock object?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1522263213, "post_id": 49541960, "comment_id": 86091666, "body": "Windows Task Manager <a href=\"https://msdn.microsoft.com/en-us/library/dn342825.aspx\" rel=\"nofollow noreferrer\">does not show memory in use by managed processes</a>. You have to use a memory profiler to determine this."}, {"owner": {"reputation": 706, "user_id": 6631692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f793996a579e84247020586abbf8b655?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/6631692/ahmad"}, "edited": false, "score": 0, "creation_date": 1522267999, "post_id": 49541960, "comment_id": 86094331, "body": "did you checked your code memory in Visual studio Diagnostic Tool ?"}, {"owner": {"reputation": 2556, "user_id": 979033, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/84cf0d215903615c3d8d5af05e132227?s=128&d=identicon&r=PG", "display_name": "user979033", "link": "https://stackoverflow.com/users/979033/user979033"}, "edited": false, "score": 0, "creation_date": 1522292372, "post_id": 49541960, "comment_id": 86101999, "body": "no, this should be different ?"}, {"owner": {"reputation": 2556, "user_id": 979033, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/84cf0d215903615c3d8d5af05e132227?s=128&d=identicon&r=PG", "display_name": "user979033", "link": "https://stackoverflow.com/users/979033/user979033"}, "edited": false, "score": 0, "creation_date": 1522304667, "post_id": 49541960, "comment_id": 86105760, "body": "And also what is the correct memory usage? The one from Task manager or the one I get from my code?"}], "owner": {"reputation": 2556, "user_id": 979033, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/84cf0d215903615c3d8d5af05e132227?s=128&d=identicon&r=PG", "display_name": "user979033", "link": "https://stackoverflow.com/users/979033/user979033"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522262658, "creation_date": 1522262658, "question_id": 49541960, "link": "https://stackoverflow.com/questions/49541960/wpf-get-application-usage-memory", "title": "WPF: get application usage memory", "body": "<p>I want to get <code>application</code> usage memory so iam using this code:</p>\n\n<pre><code>Process applicationProcess = Process.GetCurrentProcess();\nint nProcessID = applicationProcess.Id;\nlong memoryUsed = applicationProcess.WorkingSet64;\nstring mem = ConvertBytesToMegabytes(memoryUsed).ToString();\n\nprivate double ConvertBytesToMegabytes(long bytes)\n{\n    return (bytes / 1024f) / 1024f;\n}\n</code></pre>\n\n<p>And the problem is that according <code>Windows task Manager</code> my <code>application</code> memory  usage is <code>~50MB</code> and according this code is <code>~130MB</code> (i also compare the <code>process</code> id)</p>\n\n<p>Not even close.\nAny idea what can cause this gap ?</p>\n"}, {"tags": ["c#", "elasticsearch", "nest"], "comments": [{"owner": {"reputation": 2512, "user_id": 1050389, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9544928845a390ba53444700e96064b4?s=128&d=identicon&r=PG", "display_name": "aclowkay", "link": "https://stackoverflow.com/users/1050389/aclowkay"}, "edited": false, "score": 0, "creation_date": 1522313250, "post_id": 49541922, "comment_id": 86110384, "body": "How are you indexing your data?"}, {"owner": {"reputation": 371, "user_id": 1697615, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3859e9a71238b6bbcfa89472d74a10?s=128&d=identicon&r=PG", "display_name": "Jose Ramirez", "link": "https://stackoverflow.com/users/1697615/jose-ramirez"}, "reply_to_user": {"reputation": 2512, "user_id": 1050389, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9544928845a390ba53444700e96064b4?s=128&d=identicon&r=PG", "display_name": "aclowkay", "link": "https://stackoverflow.com/users/1050389/aclowkay"}, "edited": false, "score": 0, "creation_date": 1522333030, "post_id": 49541922, "comment_id": 86124534, "body": "mostly defaults, letting the client infer the mappings and such: <code>client.IndexDocumentAsync(obj)</code>"}, {"owner": {"reputation": 2512, "user_id": 1050389, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9544928845a390ba53444700e96064b4?s=128&d=identicon&r=PG", "display_name": "aclowkay", "link": "https://stackoverflow.com/users/1050389/aclowkay"}, "edited": false, "score": 0, "creation_date": 1522333935, "post_id": 49541922, "comment_id": 86125260, "body": "It depends on the implementation of the library you&#39;re using. Which is it?"}, {"owner": {"reputation": 371, "user_id": 1697615, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3859e9a71238b6bbcfa89472d74a10?s=128&d=identicon&r=PG", "display_name": "Jose Ramirez", "link": "https://stackoverflow.com/users/1697615/jose-ramirez"}, "reply_to_user": {"reputation": 2512, "user_id": 1050389, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9544928845a390ba53444700e96064b4?s=128&d=identicon&r=PG", "display_name": "aclowkay", "link": "https://stackoverflow.com/users/1050389/aclowkay"}, "edited": false, "score": 0, "creation_date": 1522335666, "post_id": 49541922, "comment_id": 86126550, "body": "I used NEST 6.0.2"}], "answers": [{"tags": [], "owner": {"reputation": 117216, "user_id": 1831, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6Pq36.jpg?s=128&g=1", "display_name": "Russ Cam", "link": "https://stackoverflow.com/users/1831/russ-cam"}, "is_accepted": false, "score": 3, "last_activity_date": 1522476555, "creation_date": 1522476555, "answer_id": 49584810, "question_id": 49541922, "link": "https://stackoverflow.com/questions/49541922/id-field-inside-object-nest-for-elasticsearch/49584810#49584810", "title": "id field inside object, NEST for elasticsearch", "body": "<p>This is a feature known as <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/net-api/current/ids-inference.html\" rel=\"nofollow noreferrer\">Id inference</a>. If you would prefer NEST not do it, I would recommend either</p>\n\n<ul>\n<li>Renaming your <code>Id</code> property on the POCO to something else</li>\n<li>Attribute the POCO with <code>ElasticsearchType</code> and assign a non-existent property name to <code>IdProperty</code></li>\n</ul>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[ElasticsearchType(IdProperty = \"do_not_infer_id\")]\npublic class MyDocument\n{\n    public int Id { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 1697615, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3859e9a71238b6bbcfa89472d74a10?s=128&d=identicon&r=PG", "display_name": "Jose Ramirez", "link": "https://stackoverflow.com/users/1697615/jose-ramirez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522476555, "creation_date": 1522262541, "last_edit_date": 1522335707, "question_id": 49541922, "link": "https://stackoverflow.com/questions/49541922/id-field-inside-object-nest-for-elasticsearch", "title": "id field inside object, NEST for elasticsearch", "body": "<p>So, I have an object with an <code>Id</code> field; when I index it, the resulting document has the <code>_source.id</code> field as expected, but the <code>_id</code> field has the same value as <code>_source.id</code>.</p>\n\n<p>For instance, I have this object:</p>\n\n<pre><code>var obj = new Obj {\n    ...\n    Id = 'some_value',\n    ...\n};\n</code></pre>\n\n<p>After indexing, I see that the ES document is like so:</p>\n\n<pre><code>{\n    ...\n    \"_id: \"some_value\",\n    ...\n    \"_source\" : {\n        ...\n        \"id\" : \"some_value\",\n        ...\n    }\n}\n</code></pre>\n\n<p>The question is: is it possible to somehow disable this behavior? like, how can I let Elasticsearch generate the value for <code>_id</code> (if possible)?</p>\n"}, {"tags": ["c#", "visual-studio", "serial-port", "labels"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1522262577, "post_id": 49541905, "comment_id": 86091265, "body": "serialPort1.ReadLine() will only get you the first line of data received by the Port, if you want to show all data, you need to read each line into a string variable and then set your label text property to that. Check out my answer below."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1522262724, "post_id": 49541905, "comment_id": 86091358, "body": "Just google the exception you get, lots and lots of hits."}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522262748, "post_id": 49541905, "comment_id": 86091370, "body": "Ryan, How would I go about doing that? I&#39;m fairly new to Visual Studio"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1522263083, "post_id": 49541905, "comment_id": 86091589, "body": "@AlexanderSacco Please see my answer below. Nevermind, actually try other person&#39;s answer below."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522264053, "post_id": 49541981, "comment_id": 86092140, "body": "Okay, I got it to work but how do you only leave the last line that was displayed on the label @scor4er"}, {"owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "reply_to_user": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522264349, "post_id": 49541981, "comment_id": 86092294, "body": "I&#39;m not quite got what you mean. Do you want to put a data from the serial port to the new label&#39;s line every time you receive it?"}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522265253, "post_id": 49541981, "comment_id": 86092769, "body": "Yeah, whenever data is received from the serial port it should overwrite the previous data @scor4er"}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522265989, "post_id": 49541981, "comment_id": 86093187, "body": "Anyone have an answer to this?"}, {"owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "reply_to_user": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522271535, "post_id": 49541981, "comment_id": 86096221, "body": "Still don&#39;t understand how is it different comaping with what you have now? The label text currently is overwritten every time you receive a data."}, {"owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522272472, "post_id": 49541981, "comment_id": 86096638, "body": "look at the top, I have an image in the form of a link that shows the issue im having @scor4er"}, {"owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "reply_to_user": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "edited": false, "score": 0, "creation_date": 1522277456, "post_id": 49541981, "comment_id": 86098375, "body": "Hm, you could try to set: serialPort1.NewLine = &quot;&quot;; before you open your port."}], "tags": [], "owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "is_accepted": false, "score": 0, "last_activity_date": 1522263168, "last_edit_date": 1522263168, "creation_date": 1522262710, "answer_id": 49541981, "question_id": 49541905, "link": "https://stackoverflow.com/questions/49541905/visual-studio-serial-communications/49541981#49541981", "title": "Visual Studio serial communications", "body": "<pre><code>private void serialPort1_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)\n{\n    var dataLength = serialPort1.BytesToRead;\n    var data = new byte[dataLength];\n    var nbrDataRead = serialPort1.Read(data, 0, dataLength);\n\n    if (nbrDataRead == 0)\n        return;\n\n    Label1.Text = System.Text.Encoding.UTF8.GetString(data, 0, data.Length);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7308485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8551806494a20200240712c1007b4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Sacco", "link": "https://stackoverflow.com/users/7308485/alexander-sacco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1522272291, "creation_date": 1522262471, "last_edit_date": 1522272291, "question_id": 49541905, "link": "https://stackoverflow.com/questions/49541905/visual-studio-serial-communications", "title": "Visual Studio serial communications", "body": "<p><a href=\"https://i.stack.imgur.com/AGesw.png\" rel=\"nofollow noreferrer\">IMAGEEEEEEE</a> I'm using Visual Studio c# forms and I can't get the label to display everything the serial port reads, is there an easy way to fix this?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp2\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n            serialPort1.Open();\n        }\n\n        private void serialPort1_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)\n        {\n            Label1.Text = serialPort1.ReadLine();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 1, "user_id": 9565481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJx5g.jpg?s=128&g=1", "display_name": "TrailRunner-MF", "link": "https://stackoverflow.com/users/9565481/trailrunner-mf"}, "edited": false, "score": 0, "creation_date": 1522387400, "post_id": 49541898, "comment_id": 86145699, "body": "The problem was solved. Please refer to this.  <a href=\"https://github.com/SeleniumHQ/selenium/issues/5705\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/issues/5705</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9565481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJx5g.jpg?s=128&g=1", "display_name": "TrailRunner-MF", "link": "https://stackoverflow.com/users/9565481/trailrunner-mf"}, "is_accepted": false, "score": 0, "last_activity_date": 1522387637, "creation_date": 1522387637, "answer_id": 49568874, "question_id": 49541898, "link": "https://stackoverflow.com/questions/49541898/c-chromedriver-throws-exception-when-executed-dynamically-by-reflection/49568874#49568874", "title": "C# ChromeDriver throws exception when executed dynamically by reflection", "body": "<p>The problem was solved. Please refer to this.</p>\n\n<p>The custom TestRunner application didn't refer to the latest chrome-driver version. I had to install selenium.webdrivers not only to the testclass, but also to the testrunner program.</p>\n\n<p>For further information, please refer to the following issue in GitHUB.</p>\n\n<p><a href=\"https://github.com/SeleniumHQ/selenium/issues/5705\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/5705</a></p>\n"}], "owner": {"reputation": 1, "user_id": 9565481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJx5g.jpg?s=128&g=1", "display_name": "TrailRunner-MF", "link": "https://stackoverflow.com/users/9565481/trailrunner-mf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 870, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522387637, "creation_date": 1522262465, "last_edit_date": 1522305114, "question_id": 49541898, "link": "https://stackoverflow.com/questions/49541898/c-chromedriver-throws-exception-when-executed-dynamically-by-reflection", "title": "C# ChromeDriver throws exception when executed dynamically by reflection", "body": "<p>I'm trying to execute test program which uses selenium web driver in custom test runner.</p>\n\n<p>In the test runner, selenium web driver equiped test method is invoked by reflection.</p>\n\n<p>When the test program is run by Visual Studio Test Explorer, it works fine.\nProblem occurs when it is run dynamically by reflection.</p>\n\n<h2>The test program is as follows.</h2>\n\n<pre><code>namespace TrialWebUnitTest\n{\n    public class WebDriverTest01\n    {\n        private IWebDriver driver;\n\n        [TestMethod]\n        public void NavigateToSeleniumHQByChrome()\n        {\n            string TargetUrl = \"https://www.seleniumhq.org/projects/webdriver/\";\n            this.driver = new ChromeDriver();\n            driver.Manage().Window.Size = new System.Drawing.Size(1000, 800);\u3000// &lt;- driver throws exception here.\n            this.driver.Navigate().GoToUrl(TargetUrl);\n            this.driver.Dispose();\n        }\n    }\n}\n</code></pre>\n\n<h2>The custom test runner's core test executing method is as follows.</h2>\n\n<pre><code>namespace TrialWebUnitTestRunner\n{\n    public partial class TestForm : Form\n    {\n\n        // test button click's event handler.\n        private void TestButton_Click(object sender, EventArgs e)\n        {\n            string retErrorMsg = string.Empty;\n            if (!ExecTestDynamically(ref retErrorMsg))\n            {\n                // show error information in UI textbox.\n                this.this.ResultMessage.Text = retErrorMsg;\n            }\n        }\n\n        internal bool ExecTestDynamically(ref string retErrorMsg)\n        {\n            var target = new TrialWebUnitTest.WebDriverTest01();\n            System.Type targetType = typeof(TrialWebUnitTest.WebDriverTest01);\n            var method = targetType.GetMethod(\"NavigateToSeleniumHQByChrome\");\n            try\n            {\n                method.Invoke(target, null);\n                return true\n            }\n            catch (Exception exp)\n            {\n                retErrorMsg = exp.Message + Environment.NewLine + exp.StackTrance;\n                return false;\n            }\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>Exception information</h2>\n\n<blockquote>\n  <p>System.InvalidOperationException:<br>\n  disconnected: unable to connect to renderer<br>\n    (Session info: chrome=65.0.3325.181)<br>\n    (Driver info: chromedriver=2.31.488763 </p>\n</blockquote>\n\n<hr>\n\n<h2>Sample program</h2>\n\n<p>I've written a sample program to reproduce the error.\nPlease download it from my dropbox url: <a href=\"https://db.tt/HqUTMOKWBl\" rel=\"nofollow noreferrer\">https://db.tt/HqUTMOKWBl</a></p>\n\n<p>You can click the link and download 'TrialWebTestForInspection.zip'.\nPlease extract it in any arbitrary folder and find TrialWebTestForInspection.sln.</p>\n\n<p>The solution consists of two projects, \"TrialWebUnitTest\" and \"TrialWebUnitTestRunner\".\nThe first one is MS Unit Test, and you can run 3 test methods from Visual Studio Test Explorer.</p>\n\n<p>The 3 test methods are very simple. They just launch the browser correspond to the webdriver, and navigate to Selenium HQ site.</p>\n\n<p>The other project is a WindowsForm application which provide a very simple test runner.\nIt kicks the test methods in previous test project.</p>\n\n<p>When you choose the test method using IE or FireFox driver, it works fine.\nOn the other hand, when you choose Chrome driver test, it thows exception which I mentioned above.</p>\n\n<hr>\n\n<h2>Things I'd like to know.</h2>\n\n<p>First I'd like to know, if it is a bug of current Chrome driver version, or it is a part of specification.</p>\n\n<p>Then I'd like to know, if there is a way to avoid this problem or not.</p>\n\n<p>What I'm afraid of is the possibility that IWebDriver specification originally does not support correct action whent it is run by reflection.</p>\n\n<hr>\n\n<h2>spec of sample program</h2>\n\n<p>.NET Framework version 4.6.1</p>\n\n<p>nuget package</p>\n\n<ul>\n<li>MSTest.TestFramework.1.2.0 MSTest.TestAdapter.1.2.0\nSelenium.WebDriver.3.11.0 Selenium.WebDriver.ChromeDriver.2.37.0\nSelenium.WebDriver.IEDriver.3.11.1 Selenium.Firefox.WebDriver.0.20.0</li>\n</ul>\n\n<p>Chrome Browser version 65.0.3325.181\uff08Official Build\uff09(64 bit)</p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "edited": false, "score": 0, "creation_date": 1522262584, "post_id": 49541886, "comment_id": 86091272, "body": "What are your Web settings in your project?  Are you using local IIS?"}, {"owner": {"reputation": 992, "user_id": 5753992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-zsEy7WVbToY/AAAAAAAAAAI/AAAAAAAABLA/u5ioilnnjuA/photo.jpg?sz=128", "display_name": "Lester", "link": "https://stackoverflow.com/users/5753992/lester"}, "edited": false, "score": 0, "creation_date": 1522262637, "post_id": 49541886, "comment_id": 86091309, "body": "have you tried useing ip address instead of using the server name?"}, {"owner": {"reputation": 4931, "user_id": 5021687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vqtsd-tYBo4/AAAAAAAAAAI/AAAAAAAADyc/_HNZtCokCCM/photo.jpg?sz=128", "display_name": "Alexander Volok", "link": "https://stackoverflow.com/users/5021687/alexander-volok"}, "edited": false, "score": 0, "creation_date": 1522262686, "post_id": 49541886, "comment_id": 86091337, "body": "Can be that issue with this &quot;CLEAVEN\\\\SQLEXPRESS&quot;. Normally, named instances have single slash: &quot;CLEAVEN\\SQLEXPRESS&quot;"}, {"owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "reply_to_user": {"reputation": 4931, "user_id": 5021687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vqtsd-tYBo4/AAAAAAAAAAI/AAAAAAAADyc/_HNZtCokCCM/photo.jpg?sz=128", "display_name": "Alexander Volok", "link": "https://stackoverflow.com/users/5021687/alexander-volok"}, "edited": false, "score": 0, "creation_date": 1522262973, "post_id": 49541886, "comment_id": 86091528, "body": "@AlexanderVolok I&#39;ve updated my question to answer your comment"}, {"owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "reply_to_user": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "edited": false, "score": 0, "creation_date": 1522263036, "post_id": 49541886, "comment_id": 86091556, "body": "@squillman yes using local IIS but it will be deployed onto an actual server later in the year"}, {"owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "reply_to_user": {"reputation": 992, "user_id": 5753992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-zsEy7WVbToY/AAAAAAAAAAI/AAAAAAAABLA/u5ioilnnjuA/photo.jpg?sz=128", "display_name": "Lester", "link": "https://stackoverflow.com/users/5753992/lester"}, "edited": false, "score": 0, "creation_date": 1522263078, "post_id": 49541886, "comment_id": 86091585, "body": "@Lester I have never tried that, would you just replace the connection string with an ip address"}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522263098, "post_id": 49541886, "comment_id": 86091600, "body": "Try using a verbatim string as to rule out any escaping issues, and change the server name to a dot. <code>@&quot;Data Source=.\\SQLEXPRESS;...&quot;</code>. A single backslash needs to be escaped on Windows regardless though."}, {"owner": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "reply_to_user": {"reputation": 4931, "user_id": 5021687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vqtsd-tYBo4/AAAAAAAAAAI/AAAAAAAADyc/_HNZtCokCCM/photo.jpg?sz=128", "display_name": "Alexander Volok", "link": "https://stackoverflow.com/users/5021687/alexander-volok"}, "edited": false, "score": 0, "creation_date": 1522263147, "post_id": 49541886, "comment_id": 86091631, "body": "@alexander The debugger adds the double slash automatically during display"}, {"owner": {"reputation": 4931, "user_id": 5021687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vqtsd-tYBo4/AAAAAAAAAAI/AAAAAAAADyc/_HNZtCokCCM/photo.jpg?sz=128", "display_name": "Alexander Volok", "link": "https://stackoverflow.com/users/5021687/alexander-volok"}, "edited": false, "score": 0, "creation_date": 1522263185, "post_id": 49541886, "comment_id": 86091650, "body": "@Cleaven when you enabled tcp you also restarted sql service? Also, it can be caused simply by firewall. If you stopped  it do you still have the issue?"}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522263237, "post_id": 49541886, "comment_id": 86091682, "body": "You&#39;re trying to connect to a SQLEXPRESS instance running under your local user account. Are you sure it&#39;s running there and not under the machine account? (hence the dot)"}, {"owner": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "edited": false, "score": 0, "creation_date": 1522263285, "post_id": 49541886, "comment_id": 86091714, "body": "@Cleaven Sorry, I was meaning are you using Local IIS or IIS Express?"}, {"owner": {"reputation": 782, "user_id": 3436184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kiJRw.jpg?s=128&g=1", "display_name": "Emdad", "link": "https://stackoverflow.com/users/3436184/emdad"}, "edited": false, "score": 0, "creation_date": 1522263457, "post_id": 49541886, "comment_id": 86091818, "body": "@Cleaven, can you access your database from SQL server management studio?"}, {"owner": {"reputation": 4931, "user_id": 5021687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vqtsd-tYBo4/AAAAAAAAAAI/AAAAAAAADyc/_HNZtCokCCM/photo.jpg?sz=128", "display_name": "Alexander Volok", "link": "https://stackoverflow.com/users/5021687/alexander-volok"}, "edited": false, "score": 0, "creation_date": 1522263538, "post_id": 49541886, "comment_id": 86091868, "body": "Laptop has other name that cleaven. Can you try to replace cleaven with a real laptop name?"}, {"owner": {"reputation": 992, "user_id": 5753992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-zsEy7WVbToY/AAAAAAAAAAI/AAAAAAAABLA/u5ioilnnjuA/photo.jpg?sz=128", "display_name": "Lester", "link": "https://stackoverflow.com/users/5753992/lester"}, "edited": false, "score": 0, "creation_date": 1522263574, "post_id": 49541886, "comment_id": 86091891, "body": "try this: const string connString = &quot;Data Source=xxx.xxx.xxx.xxx;Initial Catalog= ....  replace the xxx.xxx.xxx.xxx to the sql-server ip"}, {"owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "reply_to_user": {"reputation": 782, "user_id": 3436184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kiJRw.jpg?s=128&g=1", "display_name": "Emdad", "link": "https://stackoverflow.com/users/3436184/emdad"}, "edited": false, "score": 0, "creation_date": 1522263829, "post_id": 49541886, "comment_id": 86092024, "body": "@Emdad Yes I can"}, {"owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "reply_to_user": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "edited": false, "score": 0, "creation_date": 1522263895, "post_id": 49541886, "comment_id": 86092057, "body": "@squillman I&#39;m not sure, where can I find out?"}, {"owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "reply_to_user": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522263915, "post_id": 49541886, "comment_id": 86092069, "body": "@FredKleuver Yes i did restart, and firewall is off"}, {"owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "reply_to_user": {"reputation": 4931, "user_id": 5021687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vqtsd-tYBo4/AAAAAAAAAAI/AAAAAAAADyc/_HNZtCokCCM/photo.jpg?sz=128", "display_name": "Alexander Volok", "link": "https://stackoverflow.com/users/5021687/alexander-volok"}, "edited": false, "score": 0, "creation_date": 1522264041, "post_id": 49541886, "comment_id": 86092134, "body": "@AlexanderVolok would that be local service or local system"}, {"owner": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "edited": false, "score": 1, "creation_date": 1522264070, "post_id": 49541886, "comment_id": 86092149, "body": "@Cleaven look at your project properties, there is a Web section.  It&#39;ll have options for Local IIS or IIS Express.  If you don&#39;t remember setting it it&#39;s probably IIS Express."}], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "is_accepted": true, "score": 0, "last_activity_date": 1522265090, "creation_date": 1522265090, "answer_id": 49542617, "question_id": 49541886, "link": "https://stackoverflow.com/questions/49541886/unable-to-connect-to-sql-server-on-windows-10-and-using-visual-studio-2017/49542617#49542617", "title": "Unable to connect to SQL Server on Windows 10 and using Visual Studio 2017", "body": "<p>I found what was wrong.</p>\n\n<p>Silly silly mistake.</p>\n\n<p>In the Web.config</p>\n\n<p>I did not change my connection string. Once I changed it there, all was solved.</p>\n\n<p>Thank you to everyone</p>\n"}], "owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 49542617, "answer_count": 1, "score": 0, "last_activity_date": 1522265090, "creation_date": 1522262430, "last_edit_date": 1522265077, "question_id": 49541886, "link": "https://stackoverflow.com/questions/49541886/unable-to-connect-to-sql-server-on-windows-10-and-using-visual-studio-2017", "title": "Unable to connect to SQL Server on Windows 10 and using Visual Studio 2017", "body": "<p>I am using Windows 10 and Visual Studio 2017. I am trying to connect to a database in SQL Server 2014.</p>\n\n<p>Visual Studio does pick up the database as shown in the screenshot here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0AKuG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0AKuG.png\" alt=\"VisualStudioPickup\"></a></p>\n\n<p>The connection string is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZxTBM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZxTBM.png\" alt=\"ConnectionString\"></a></p>\n\n<p>The code is:</p>\n\n<pre><code>const string connString = \"Data Source=CLEAVEN\\\\SQLEXPRESS;Initial Catalog=EduAssistR;Integrated Security=True\";\n</code></pre>\n\n<p>But I still get error 26 in the browser:</p>\n\n<p><a href=\"https://i.stack.imgur.com/o34Hf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o34Hf.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've restarted the SQL Server Browser and enable TCP and Remote connections but I still get the error.</p>\n\n<p>If I use <code>CLEAVEN\\SQLEXPRESS</code> instead of <code>CLEAVEN\\\\SQLEXPRESS</code>, I get this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QO8YV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QO8YV.png\" alt=\"oneslash\"></a></p>\n\n<p>What could be wrong?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c#", "nullreferenceexception", "compareto"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1522262503, "post_id": 49541838, "comment_id": 86091218, "body": "I recommend you read the duplicate, there are many helpful debugging tips in there that will help you solve your problem. I also recommend you learn how to use your IDE so you can break when an Exception is thrown and then learn how to inspect the state of the application (local variables, watches, etc)."}], "owner": {"reputation": 546, "user_id": 7512010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCoZW.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/7512010/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 1, "closed_date": 1522262348, "answer_count": 0, "score": 1, "last_activity_date": 1522262257, "creation_date": 1522262257, "question_id": 49541838, "link": "https://stackoverflow.com/questions/49541838/error-in-my-source-code-with-compareto-in-c", "closed_reason": "Duplicate", "title": "Error in my source code with CompareTo in C#", "body": "<p>In this program I'm just trying to sort some data in a SortedSet. My error occurs in the CompareTo-method in the Person Class, at this line:</p>\n\n<pre><code>ret = Birthday.CompareTo(p.Birthday);\n</code></pre>\n\n<p>That line throws a System.NullReferenceException because \"object instance is not set to an instance of an object\"</p>\n\n<p>Can somebody please tell me where my bug is?</p>\n\n<p>Main Class:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\n\nnamespace CollectionsPractice\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            SortedSet&lt;Person&gt; sortedSet = new SortedSet&lt;Person&gt;();\n            Person[] people = new Person[] \n            {\n                new Person(\"Hans\", \"Gruber\", new Date(1, 6, 2000)),\n                new Person(\"Werner\", \"M\u00fcller\", new Date(1, 9, 2000)),\n                new Person(\"Alois\", \"Gringer\", new Date(1, 1, 2010)),\n                new Person(\"G\u00fcnther\", \"Gruber\", new Date(7, 10, 2003)),\n                new Person(\"Michael\", \"Leberwurst\", new Date(9, 11, 2000)),\n                new Person(\"Thomas\", \"Unge\", new Date(1, 12, 2004)),\n                new Person(\"Elias\", \"Hunger\", new Date(11, 12, 2001)),\n                new Person(\"Yoda\", \"Jedi\", new Date(21, 2, 1880)),\n                new Person(\"Yoda\", \"Jedi\", new Date(21, 2, 1881))\n            };\n\n            Console.WriteLine(\"Unsorted:\");\n            foreach(Person p in people) \n            {\n                sortedSet.Add(p);\n                Console.WriteLine(\"{0}\", p);\n            }\n\n            Console.WriteLine(\"Sorted:\");\n            foreach(Person p in sortedSet)\n            {\n                Console.WriteLine(p);   \n            }\n\n\n            Console.ReadKey();\n        }\n    }\n}\n</code></pre>\n\n<p>Person Class (the data I want to sort):</p>\n\n<pre><code>using System;\n\nnamespace CollectionsPractice\n{\n    public class Person : IComparable\n    {\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public Date Birthday { get; set; }\n\n        public Person(string Vorname, string Nachname, Date Geburtsdatum) \n        {\n            this.FirstName = Vorname;\n            this.LastName = Nachname;\n            this.Birthday = Birthday;\n        }\n\n        public override string ToString()\n        {\n            return string.Format(\"[Person: FirstName={0}, LastName={1}, Birthday={2}]\", FirstName, LastName, Birthday);\n        }\n\n        public int CompareTo(object obj)\n        {\n            if ((obj == null) || !(GetType().Equals(obj.GetType())))\n                return -1;\n            else\n            {\n                Person p = obj as Person;\n                int ret = FirstName.CompareTo(p.FirstName);\n                if (ret == 0) \n                {\n                    ret = LastName.CompareTo(p.LastName);\n                    if (ret == 0) \n                    {\n                        ret = Birthday.CompareTo(p.Birthday);\n                    }\n                }\n                return ret;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Date Class:</p>\n\n<pre><code>using System;\nnamespace CollectionsPractice\n{\n    public class Date : IComparable\n    {\n        public int Day { get; set; }\n        public int Month { get; set; }\n        public int Year { get; set; }\n\n        public Date (int Day, int Month, int Year) \n        {\n            this.Day = Day;\n            this.Month = Month;\n            this.Year = Year;\n        }\n\n        public override string ToString()\n        {\n            return string.Format(\"{0}.{1}.{2}\", Day, Month, Year);\n        }\n\n        public int CompareTo(object obj)\n        {\n            if ((obj == null) || !(GetType().Equals(obj.GetType())))\n                return -1;\n            else\n            {\n                Date d = obj as Date;\n                int ret = Day - d.Day;\n                if (ret == 0)\n                {\n                    ret = Month - d.Month;\n                    if (ret == 0)\n                    {\n                        ret = Year - d.Year;\n                    }\n                }\n                return ret;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "string", "memory", "clr"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1655141"}, "edited": false, "score": 0, "creation_date": 1522262325, "post_id": 49541801, "comment_id": 86091123, "body": "As you know, the C#(CLR) using reflections. I don&#39;t know packing of memory exactly but it might be related with the reflection(RTTI)."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1522264050, "post_id": 49541801, "comment_id": 86092139, "body": "Before CLR v4, the String type used to have an extra field.  You see m_stringLength, there used to also be an m_arrayLength.  It was dropped, but they did not also make the allocation 4 bytes shorter.  The exact reason for that is mysterious, but I bet it was because that would make a lot of existing pinvoke code now get to corrupt the heap.  Passing a string instead of a StringBuilder, required when the native code mutates the string, is a very common mistake."}, {"owner": {"reputation": 3646, "user_id": 1083855, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93fa537cb535181c440f752815a244d8?s=128&d=identicon&r=PG", "display_name": "tigrou", "link": "https://stackoverflow.com/users/1083855/tigrou"}, "edited": false, "score": 0, "creation_date": 1522265101, "post_id": 49541801, "comment_id": 86092681, "body": "Could that m_arrayLength be 8 bytes in x64 ? I found out that the internal field which store array length is indeed 8 bytes in x64. That would explain the extra 8 byte chunk at the end each string."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1522265491, "post_id": 49541801, "comment_id": 86092914, "body": "No, it was declared Int32, 4 bytes long.  There is no &#39;internal field&#39; nor 8 extra bytes, just 4.  0 bytes (beyond the zero-terminator and those 4 extra ones) are generated to make the entire object a multiple of 8 bytes."}, {"owner": {"reputation": 3646, "user_id": 1083855, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93fa537cb535181c440f752815a244d8?s=128&d=identicon&r=PG", "display_name": "tigrou", "link": "https://stackoverflow.com/users/1083855/tigrou"}, "edited": false, "score": 0, "creation_date": 1522266610, "post_id": 49541801, "comment_id": 86093528, "body": "Tests seems to confirm what you say : 8 bytes alignment seems to be done after 4 extra bytes have been added (along with 2 bytes for null terminator). so 6 bytes in total. Strangely, this only apply for x64. In x32 there is no extra 4 bytes added (only 2 bytes terminator then 4 bytes alignement is done)"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1522282118, "post_id": 49541801, "comment_id": 86099585, "body": "Oh, wait, these objects don&#39;t live on the heap at all.  They are interned strings because you used a literal in the code.  I never did find the interning code in the CLR yet.  Consider trying it with a string expression instead of a literal to get more truth."}], "answers": [{"tags": [], "owner": {"reputation": 3646, "user_id": 1083855, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93fa537cb535181c440f752815a244d8?s=128&d=identicon&r=PG", "display_name": "tigrou", "link": "https://stackoverflow.com/users/1083855/tigrou"}, "is_accepted": true, "score": 0, "last_activity_date": 1525696038, "last_edit_date": 1525696038, "creation_date": 1525691968, "answer_id": 50212994, "question_id": 49541801, "link": "https://stackoverflow.com/questions/49541801/how-many-bytes-does-a-string-take-up-in-x64/50212994#50212994", "title": "How many bytes does a string take up in x64?", "body": "<p>As Hans Passant suggested, there is an extra field added at the end of string object which is 4 bytes (in x64, it might require another 4 bytes extra, for padding).</p>\n\n<p>So in the end we have :</p>\n\n<pre><code>= 8 (sync) + 8 (type) + 4 (length) + 4(extra field) + 2 (null terminator) + 2 * length \n= 26 + 2 * length\n</code></pre>\n\n<p>So Jon Skeet's blog post was right (how could it be wrong ?)</p>\n"}], "owner": {"reputation": 3646, "user_id": 1083855, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93fa537cb535181c440f752815a244d8?s=128&d=identicon&r=PG", "display_name": "tigrou", "link": "https://stackoverflow.com/users/1083855/tigrou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 50212994, "answer_count": 1, "score": 8, "last_activity_date": 1525696038, "creation_date": 1522262132, "last_edit_date": 1522273190, "question_id": 49541801, "link": "https://stackoverflow.com/questions/49541801/how-many-bytes-does-a-string-take-up-in-x64", "title": "How many bytes does a string take up in x64?", "body": "<p>For the purpose of learning, I'm trying to understand how C# strings are internally stored in memory.</p>\n\n<p>According to this <a href=\"https://codeblog.jonskeet.uk/2011/04/05/of-memory-and-strings/\" rel=\"nofollow noreferrer\">blog post</a>, C# string size is (x64 with .NET framework 4.0) :</p>\n\n<pre><code>26 + 2 * length\n</code></pre>\n\n<p>A string with a single character will take <code>(26 + 2 * 1) / 8 * 8 = 32 bytes</code> .\nThis is indeed similar to what I measured.</p>\n\n<p>What puzzle me is what is in that 26 bytes overhead.</p>\n\n<p>I have run the following code and inspected memory : </p>\n\n<pre><code>string abc = \"abcdeg\";\nstring aaa = \"x\";\nstring ccc = \"zzzzz\";\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LPiup.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LPiup.png\" alt=\"enter image description here\"></a></p>\n\n<p>AFAIK those blocks are the following :</p>\n\n<ul>\n<li>Green : Sync block (8 bytes)</li>\n<li>Cyan : Type info (8 bytes)</li>\n<li>Yellow : Length (4 bytes)</li>\n<li>Pink : The actual characters : 2 bytes per char + 2 bytes for NULL terminator. </li>\n</ul>\n\n<p>Look at the \"x\" string. It is indeed 32 bytes (as calculated).</p>\n\n<p>Anyway it looks like the end of the string if padded with zeroes.\nThe \"x\" string could end up after the two bytes for NULL terminator and still be memory aligned (thus being 24 bytes).\nWhy do we need an extra 8 bytes ?</p>\n\n<p>I have experimented similar results with other (bigger) string sizes. \nIt looks like there is always an extra 8 bytes.</p>\n"}, {"tags": ["c#", "tcp", "ms-wopi"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 1, "creation_date": 1522262174, "post_id": 49541786, "comment_id": 86091057, "body": "put your server&#39;s IP into the url instead of <i>localhost</i>"}, {"owner": {"reputation": 6649, "user_id": 1332034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktUV2.jpg?s=128&g=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/1332034/rocky"}, "edited": false, "score": 0, "creation_date": 1523260440, "post_id": 49541786, "comment_id": 86469729, "body": "Exactly, if your OWA server doesn&#39;t run on the exact same machine as the listener, <code>localhost</code> won&#39;t work. You have to use either IP or hostname of your machine."}], "owner": {"reputation": 1, "user_id": 8132847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce217a0ef4f36dd49bb5d15635a4ed71?s=128&d=identicon&r=PG&f=1", "display_name": "user8132847", "link": "https://stackoverflow.com/users/8132847/user8132847"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522359031, "creation_date": 1522262076, "last_edit_date": 1522359031, "question_id": 49541786, "link": "https://stackoverflow.com/questions/49541786/trying-to-implement-a-wopihost", "title": "Trying to implement a WOPIHOST", "body": "<p>I have downloaded a significant number of samples but with limited success. Many from GitHub.  I am trying now, at the simplest, to simply have a listener (which i downloaded) that will parse the WOPI Request.  My listener will listen for anything on port 8080.  To test the listener, if I access the url <a href=\"http://localhost:8080/sometest\" rel=\"nofollow noreferrer\">http://localhost:8080/sometest</a> my listener responds. Awesome. But when I try to access my wopi host with this url:</p>\n\n<pre><code>http://&lt;my 2016 owa not on my local box&gt;/x/_layouts/xlviewerinternal.aspx?WOPISrc=http%3a%2f%2flocalhost%3a8080%2fwopi%2ffiles%2ftest.xlsx&amp;access_token=rykC%2fPgFQOs%3dRJT%2fPULGbsyZKGVnQmcO5tqJgEKoY3MIfAE3sh15shw%3d\n</code></pre>\n\n<p>My listener is not called.  Shouldn't the listener be receiving a message from my OWA 2016 server? </p>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["c#", "wpf", "uwp", "windows-10"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 1, "creation_date": 1522265185, "post_id": 49541592, "comment_id": 86092720, "body": "Did you try setting keyboard focus? It seems a bit obvious, but..."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1522270558, "post_id": 49541592, "comment_id": 86095735, "body": "Thanks I hadn&#39;t tried that.  Unfortunately no it didn&#39;t work.  I&#39;ll add it to the question."}], "answers": [{"comments": [{"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522292393, "post_id": 49546669, "comment_id": 86102003, "body": "Nice!  I read about the new restart app feature but must have missed this."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522318584, "post_id": 49546669, "comment_id": 86114079, "body": "Do you know of any documentation on how to implement AppResourceGroupInfo in the manifest?"}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 1, "creation_date": 1522330081, "post_id": 49546669, "comment_id": 86122149, "body": "I have added a code snippet to the answer. Let me know if anything else is needed."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522373286, "post_id": 49546669, "comment_id": 86142838, "body": "The first line throws &#39;Element not found&#39; Exception."}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522417019, "post_id": 49546669, "comment_id": 86158323, "body": "Are you calling this from your UWP or WPF app? The snippet I put in the answer assumes it&#39;s being called from the UWP, i.e. the app that is supposed to get suspended."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522426278, "post_id": 49546669, "comment_id": 86162950, "body": "Yes of course UWP.  I&#39;m pretty sure it wouldn&#39;t even build in WPF.  Targeting 1803. &#39;await AppDiagnosticInfo.RequestInfoForAppAsync()&#39; throws &#39;Element not found&#39; when it&#39;s called at runtime."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522429437, "post_id": 49546669, "comment_id": 86164370, "body": "I tried the overload, same error: AppDiagnosticInfo appInfo = (await AppDiagnosticInfo.RequestInfoAsync()).First();             IList&lt;AppDiagnosticInfo&gt; infos = await AppDiagnosticInfo.RequestInfoForAppAsync(appInfo.AppInfo.App&zwnj;&#8203;UserModelId);"}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522429729, "post_id": 49546669, "comment_id": 86164518, "body": "I also tried targeting Fall Creators and commented out StartSuspendAsync.  Still got the same error with RequestInfoForAppAsync()."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522429813, "post_id": 49546669, "comment_id": 86164560, "body": "I just tried it on a completely new UWP project and solution, targeting Spring Creators.  Added a button to MainPage.xaml and put your snippet in a tapped event handler.  Same error."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522429864, "post_id": 49546669, "comment_id": 86164585, "body": "Running VS2017 15.6.4.  Running 64-bit Win10."}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 1, "creation_date": 1522443704, "post_id": 49546669, "comment_id": 86170742, "body": "I have updated the answer with a link to a complete sample app. Yes, you need the capability on current build. You shouldn&#39;t actually require it when calling this for your own app, so we are looking at this as a bug. Also note that you can call this from WPF app as well. It will compile fine as long as you reference the correct Windows.winmd file. Also you will then need to call the overload with the appid, to specify which app you want to suspend."}, {"owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522462528, "post_id": 49546669, "comment_id": 86175213, "body": "Thank your for taking time into this.  The error is gone when adding restricted capability appDiagnostics (I had added the wrong rescap before).  FYI the new method works, but not if the app is in full screen mode."}, {"owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "reply_to_user": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "edited": false, "score": 0, "creation_date": 1522508120, "post_id": 49546669, "comment_id": 86185797, "body": "Thanks for letting me know. Looking into the fullscreen mode behavior."}], "tags": [], "owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "is_accepted": true, "score": 3, "last_activity_date": 1522443552, "last_edit_date": 1522443552, "creation_date": 1522287092, "answer_id": 49546669, "question_id": 49541592, "link": "https://stackoverflow.com/questions/49541592/how-can-my-win32-app-steal-focus-from-my-uwp-app/49546669#49546669", "title": "How Can My Win32 App Steal Focus From My UWP App?", "body": "<p>The supported way of suspending a UWP programmatically is available in the Spring 2018 update for Windows 10. It's already available in Insider builds/SDKs. This is the API to call: </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.system.appresourcegroupinfo.startsuspendasync#Windows_System_AppResourceGroupInfo_StartSuspendAsync\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/uwp/api/windows.system.appresourcegroupinfo.startsuspendasync#Windows_System_AppResourceGroupInfo_StartSuspendAsync</a></p>\n\n<pre><code>IList&lt;AppDiagnosticInfo&gt; infos = await AppDiagnosticInfo.RequestInfoForAppAsync();\nIList&lt;AppResourceGroupInfo&gt; resourceInfos = infos[0].GetResourceGroups();\nawait resourceInfos[0].StartSuspendAsync();\n</code></pre>\n\n<p>Here is a trivial sample app:\n<a href=\"https://1drv.ms/u/s!AovTwKUMywTNoYQ3PrmBfZIGXmbULA\" rel=\"nofollow noreferrer\">https://1drv.ms/u/s!AovTwKUMywTNoYQ3PrmBfZIGXmbULA</a></p>\n"}], "owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 1, "accepted_answer_id": 49546669, "answer_count": 1, "score": 0, "last_activity_date": 1522443552, "creation_date": 1522261415, "last_edit_date": 1522271031, "question_id": 49541592, "link": "https://stackoverflow.com/questions/49541592/how-can-my-win32-app-steal-focus-from-my-uwp-app", "title": "How Can My Win32 App Steal Focus From My UWP App?", "body": "<p>I've tried the following code:</p>\n\n<pre><code>[DllImport(\"user32.dll\")]\nprivate static extern int ShowWindow(IntPtr hwnd, int nCmdShow);\n\n[DllImport(\"user32.dll\")]\nprivate static extern bool SetForegroundWindow(IntPtr hWnd);\n\n[DllImport(\"user32.dll\")]\nprivate static extern IntPtr SetFocus(IntPtr hwnd);\n\nvoid TakeFocus()\n{\n    var process = Process.GetProcessesByName(\"myProcess\").FirstOrDefault();\n    if (process != null)\n    {\n        // Tried each of the following:\n        ShowWindow(process.MainWindowHandle, 1);\n        ShowWindow(process.MainWindowHandle, 3);\n        ShowWindow(process.MainWindowHandle, 9);\n        ShowWindow(process.MainWindowHandle, 5);\n        SetFocus(process.MainWindowHandle);\n        SetForegroundWindow(process.MainWindowHandle);\n    }\n}\n</code></pre>\n\n<p>I have a WPF companion app which runs in the background while a UWP app is running in the foreground.  They communicate via WebSocket.  I'm trying to create a method in the WPF app so it (or any other window) can steal focus from an activated UWP app, sending it into suspended state.  Nothing I try seems to work, and there's no way to programatically make a UWP app suspend itself AFAIK without using the Launcher class (not an option for me, unless there's a way to call it without actually launching something-I haven't been able to do this). Normally I would assume it can't be done but I've seen programs that do it.  Steam Big Picture Mode, for example, will steal focus from a UWP app when it is launched from a background process.</p>\n"}, {"tags": ["c#", "discord", "discord.net"], "comments": [{"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1522265148, "post_id": 49541591, "comment_id": 86092707, "body": "Hard to tell from just your snippet what the problem is. It does seem that you are facing a classic case of &quot;<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>&quot; though."}, {"owner": {"reputation": 17, "user_id": 9010938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc8fe44219b2550285386e18fd5fbf?s=128&d=identicon&r=PG&f=1", "display_name": "Brannon Penrod", "link": "https://stackoverflow.com/users/9010938/brannon-penrod"}, "reply_to_user": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1522265619, "post_id": 49541591, "comment_id": 86092992, "body": "I can post the rest of the method, if that would help. I did leave out some file read/write lines."}, {"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1522265772, "post_id": 49541591, "comment_id": 86093079, "body": "If you are using visual studio, you can set up the debugger to stop when an exception is thrown. This will tell you exactly which line of code is the problem. Currently we don&#39;t know which line is failing."}, {"owner": {"reputation": 17, "user_id": 9010938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc8fe44219b2550285386e18fd5fbf?s=128&d=identicon&r=PG&f=1", "display_name": "Brannon Penrod", "link": "https://stackoverflow.com/users/9010938/brannon-penrod"}, "reply_to_user": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1522266790, "post_id": 49541591, "comment_id": 86093619, "body": "I see. Will do."}], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 6811345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b7ef9738cfd6cd4f5be04fa7e00b4885?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner H.", "link": "https://stackoverflow.com/users/6811345/tanner-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1522273586, "creation_date": 1522273586, "answer_id": 49544692, "question_id": 49541591, "link": "https://stackoverflow.com/questions/49541591/discord-net-bot-not-processing-input/49544692#49544692", "title": "Discord.NET: Bot not processing input", "body": "<p>If I remember correctly, the parameter SocketGuildUser is a little picky. You might want to try this:</p>\n\n<pre><code>public async Task WarnPlayer(SocketUser u)\n{\n    SocketGuildUser user = (SocketGuildUser)u;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 5309285, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fMAV5.jpg?s=128&g=1", "display_name": "JanMer", "link": "https://stackoverflow.com/users/5309285/janmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1522331770, "creation_date": 1522331770, "answer_id": 49557999, "question_id": 49541591, "link": "https://stackoverflow.com/questions/49541591/discord-net-bot-not-processing-input/49557999#49557999", "title": "Discord.NET: Bot not processing input", "body": "<p>in my SLN the SocketUser works fine, maybe you should catch it too if no user was tagged (added it for you with the default value)</p>\n\n<pre><code>    [Command(\"warn\")]\n    public async Task WarnPlayer(SocketUser user = null)\n    {\n        if (user != null)\n        {\n\n        Dictionary&lt;string, uint&gt; PlayerWarnings = JsonConvert\n            .DeserializeObject&lt;Dictionary&lt;string, uint&gt;&gt;(File.ReadAllText(warningText));\n\n        PlayerWarnings.Add(user.Username, 1);\n\n        PlayerWarnings.TryGetValue(user.Username, out uint warningNum);\n\n        EmbedBuilder builder = new EmbedBuilder();\n\n        builder.WithDescription\n                ($\"{user.Username} has been given a warning. They now have {warningNum}\")\n            .WithColor(Color.Gold)\n            .WithThumbnailUrl(user.GetAvatarUrl());\n\n        await ReplyAsync(\"\", false, builder.Build());\n        }\n        else\n        {\n            EmbedBuilder builder = new EmbedBuilder();\n\n            builder.WithDescription\n                    ($\"Please select a user to warn.\")\n                .WithColor(Color.Red)\n                .WithThumbnailUrl(user.GetAvatarUrl());\n\n            await ReplyAsync(\"\", false, builder.Build());\n        }\n    }\n</code></pre>\n\n<p>EDIT: Maybe you also want to change the <code>user.Username</code> to a <code>user.DiscordId</code> because I think the Username can be changed.</p>\n"}], "owner": {"reputation": 17, "user_id": 9010938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc8fe44219b2550285386e18fd5fbf?s=128&d=identicon&r=PG&f=1", "display_name": "Brannon Penrod", "link": "https://stackoverflow.com/users/9010938/brannon-penrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522362576, "creation_date": 1522261415, "last_edit_date": 1522362576, "question_id": 49541591, "link": "https://stackoverflow.com/questions/49541591/discord-net-bot-not-processing-input", "title": "Discord.NET: Bot not processing input", "body": "<p>I'm trying to make a \"warning\" command for a bot which takes a SocketGuildUser parameter, adds 1 to a warning int. However, when I try to enter a user @mention for SocketGuildUser, which should work, an exception is thrown.</p>\n\n<pre><code>[Command(\"warn\")]\n    public async Task WarnUser(SocketGuildUser user)\n    {\n        string warningDirectory = @\"D:\\HumbleBot\\HumbleBot\\Warnings\";\n        string warningText = @\"D:\\HumbleBot\\HumbleBot\\Warnings\\warnings.json\";\n\n        if (!Directory.Exists(warningDirectory))\n            Directory.CreateDirectory(warningDirectory);\n\n        Dictionary&lt;ulong, uint&gt; UserWarnings = new Dictionary&lt;ulong, uint&gt;();\n        UserWarnings = JsonConvert.DeserializeObject\n                       &lt;Dictionary&lt;ulong, uint&gt;&gt;\n                       (File.ReadAllText(warningText));\n\n        if (!UserWarnings.ContainsKey(id)) //Exception thrown here\n            UserWarnings.Add(id, 0);\n\n        UserWarnings.TryGetValue(id, out uint warningNum);\n        UserWarnings[id] = warningNum++;\n\n        string json = JsonConvert.SerializeObject(UserWarnings);\n        File.WriteAllText(warningText, json);\n        //builder\n    }\n</code></pre>\n\n<p>Input: ~warn @Stratus#6727\nOutput (in Console): Object reference not set to an instance of an object.</p>\n\n<p>EDIT: Added the rest of the code; as it turns out it has something to do with that and not what I'd added. It probably has something to do with the file reading/writing, or I'm using JsonConvert the wrong way.</p>\n"}, {"tags": ["c#", "linq", "lambda"], "comments": [{"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 2, "creation_date": 1522260467, "post_id": 49541350, "comment_id": 86090057, "body": "I don&#39;t think there&#39;s anything wrong with your code. Are you sure that you are using the exact same data source locally and on the server? What does <code>loadItems()</code> do? Can you include the code for that just in case?"}, {"owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "reply_to_user": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 0, "creation_date": 1522260613, "post_id": 49541350, "comment_id": 86090125, "body": "EXACTLY the same.  And the thing is, list = loadItems() returns 28 records.  So I&#39;m baffled here.  It errors out on Count().  I put in int test = matchinvalues.Count() and get the error."}, {"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 0, "creation_date": 1522260794, "post_id": 49541350, "comment_id": 86090241, "body": "Which object is <code>null</code>, <code>matchingvalues</code> or something else? The <code>matchingvalues</code> is lazy-loaded when you call <code>.Count()</code> on it, so it&#39;s not doing the <code>.Where</code> filtering until you try to <code>.Count()</code> them. The source of the exception you got will be the biggest clue."}, {"owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "edited": false, "score": 0, "creation_date": 1522261002, "post_id": 49541350, "comment_id": 86090368, "body": "I&#39;m importing the exact same Excel spreadhseet and comparing with the exact same Company file.  The only difference is the versions of Quickbooks.  One is Quickbooks Pro, and one is Quickbooks Premier, otherwise, same data  files."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1522261412, "post_id": 49541350, "comment_id": 86090597, "body": "I see your new image. Only thing I can think of is <code>importing</code> is null and it blew during iteration. Perhaps check that and paste the stacktrace? Actually, <code>ItemRef</code> might be null as Contains will throw a null reference exception when you pass in null: <a href=\"https://msdn.microsoft.com/en-us/library/dy85x1sa(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dy85x1sa(v=vs.110).aspx</a>"}, {"owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "edited": false, "score": 0, "creation_date": 1522261583, "post_id": 49541350, "comment_id": 86090688, "body": "You would think that, but importing is not null.  I can hover and read the string."}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522261613, "post_id": 49541350, "comment_id": 86090709, "body": "<code>matchingvalues</code> clearly shows as null there, and you&#39;re doing a <code>.Count()</code> on that. That&#39;s what throws.."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "reply_to_user": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522261658, "post_id": 49541350, "comment_id": 86090733, "body": "@FredKleuver We get that, but trying to figure out how that is even possible and what is causing it. Based on code it should just be an IEnumerable that either iterates 0 or more items."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1655141"}, "edited": false, "score": 0, "creation_date": 1522261727, "post_id": 49541350, "comment_id": 86090780, "body": "It seems OK in my opinion as well. If the server is not Windows(.NET), it can be a bug of Mono."}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522261740, "post_id": 49541350, "comment_id": 86090790, "body": "The underlying query that is called by <code>loadItems()</code> is choking somewhere. The <code>.where</code> expression doesn&#39;t throw because it doesn&#39;t immediately execute the query, but the <code>.count()</code> will. Can you show the code in <code>loadItems()</code>?"}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522261830, "post_id": 49541350, "comment_id": 86090856, "body": "You&#39;re also talking about different versions of QuickBooks. Could be a configuration or state problem in the installation or userprofile that doesn&#39;t allow you to load the file."}, {"owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "edited": false, "score": 0, "creation_date": 1522261861, "post_id": 49541350, "comment_id": 86090872, "body": "loadItems() returns 27 records.The Quickbooks files is loaded and returns 27 records.  By the time it gets to the code above, Quickbooks should be out of the mix."}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522262409, "post_id": 49541350, "comment_id": 86091170, "body": "Have you tried writing out the <code>.where</code> expression as a <code>foreach</code> loop? <code>var matchingvalues = new List&lt;string&gt;()</code>, then loop through the list, check for <code>.Contains</code> and add value to the list if it matches. Might expose what&#39;s going on."}, {"owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "edited": false, "score": 0, "creation_date": 1522262593, "post_id": 49541350, "comment_id": 86091275, "body": "I&#39;m working on iterating both list with foreach loop. now."}, {"owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "edited": false, "score": 0, "creation_date": 1522262904, "post_id": 49541350, "comment_id": 86091477, "body": "Side note, you could rewrite your if check to this: <code>if (!list.Any(l =&gt; l.Contains(importing.ItemRef)))</code>, but that&#39;s for after this issue is solved I suppose.."}], "owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522270073, "creation_date": 1522260373, "last_edit_date": 1522270073, "question_id": 49541350, "link": "https://stackoverflow.com/questions/49541350/linq-expression-works-on-desktop-but-errors-on-server", "title": "Linq Expression works on Desktop but errors on Server", "body": "<p>This is the strangest thing I've ever seen, but hopefully someone else has because I am clueless.  I have the following code:</p>\n\n<pre><code> DataTable dt = (DataTable)dataGridView1.DataSource;\n        List&lt;InvoiceItem&gt; itemList = new List&lt;InvoiceItem&gt;();\n        int listSize = 30;\n        int listIndex = 0;\n        try\n        {\n            itemList = (from DataRow dr in dt.Rows\n                        select new InvoiceItem()\n                        {\n                            CustomerRef = dr[\"CustomerRef\"].ToString(),\n                            Description = dr[\"Description\"].ToString(),\n                            ItemRef = dr[\"ItemRef\"].ToString(),\n                            Rate = Convert.ToDouble(dr[\"Rate\"].ToString()),\n                            Quantity = Convert.ToDouble(dr[\"Quantity\"].ToString()),\n                            PONumber = dr[\"PONumber\"].ToString(),\n                            UnitOfMeasure = dr[\"UnitOfMeasure\"].ToString(),\n                            RefNumber = dr[\"RefNumber\"].ToString(),\n                            Total = Convert.ToDouble(dr[\"Total\"].ToString()),\n                            Address1 = dr[\"Address1\"].ToString(),\n                            Address2 = dr[\"Address2\"].ToString(),\n                            Address3 = dr[\"Address3\"].ToString(),\n                            Address4 = dr[\"Address4\"].ToString(),\n                            City = dr[\"City\"].ToString(),\n                            State = dr[\"State\"].ToString(),\n                            PostalCode = dr[\"PostalCode\"].ToString(),\n                            ServiceDate = string.IsNullOrEmpty(dr[\"ServiceDate\"].ToString()) ? (DateTime?)null : DateTime.Parse(dr[\"ServiceDate\"].ToString()),\n                            TxnDate = string.IsNullOrEmpty(dr[\"TxnDate\"].ToString()) ? DateTime.Now : DateTime.Parse(dr[\"TxnDate\"].ToString()),\n                            Note = dr[\"Note\"].ToString()\n\n\n\n                        }).ToList();\n\n            List&lt;string&gt; list = new List&lt;string&gt;();\n            list = loadItems();\n            List&lt;InvoiceItem&gt; createNewItemsList = new List&lt;InvoiceItem&gt;();\n            foreach (var importing in itemList)\n            {\n                var matchingvalues = list.Where(l =&gt; l.Contains(importing.ItemRef));\n                //If there is no match in Quickbooks already...\n                if (matchingvalues.Count() &lt; 1)\n                {\n                    createNewItemsList.Add(new InvoiceItem\n                    {\n                        ItemRef = importing.ItemRef,\n                        UnitOfMeasure = importing.UnitOfMeasure\n                    });\n                }\n            }\n</code></pre>\n\n<p>Here is the Code for loadItems():</p>\n\n<pre><code>        private List&lt;string&gt; loadItems()\n    {\n        string request = \"ItemQueryRq\";\n        connectToQB();\n        int count = getCount(request);\n        IMsgSetResponse responseMsgSet = sessionManager.processRequestFromQB(BuildItemQuery());\n        string[] itemList = parseItemQueryRs(responseMsgSet, count);\n\n        disconnectFromQB();\n        List&lt;string&gt; list = new List&lt;string&gt;(itemList);\n        return list;\n    }\n</code></pre>\n\n<p>Here is a view of the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/p6jbS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p6jbS.png\" alt=\"enter image description here\"></a></p>\n\n<p>here shows list count:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kix9q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kix9q.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I run this code on my deskotp, if <strong>matchingvalues.Count() = 0</strong> it executes the code correctly.  However, when I run the exact same code in debug on the server, that line of code errors out with \"Object reference not set to an instance of an object.\"  Can anybody explain why this might happen and if there is any work around for it?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "sharepoint-2013", "sharepoint-online"], "comments": [{"owner": {"reputation": 11446, "user_id": 1435722, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6f9ffc8ece263d0e13b1bae341bd6dd?s=128&d=identicon&r=PG", "display_name": "Guruparan Giritharan", "link": "https://stackoverflow.com/users/1435722/guruparan-giritharan"}, "edited": false, "score": 1, "creation_date": 1522301149, "post_id": 49541349, "comment_id": 86104367, "body": "If you have a service account store the credentials in web config and have a column in the sharepoint library for the person who uploaded it, we had do to the same as its complex to use the authentication and if you miss to add the user to the site it will also be a problem, just my thoughts"}, {"owner": {"reputation": 993, "user_id": 1499873, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ab4517fa2419608176ea721014e5e79a?s=128&d=identicon&r=PG", "display_name": "kabichan", "link": "https://stackoverflow.com/users/1499873/kabichan"}, "reply_to_user": {"reputation": 11446, "user_id": 1435722, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6f9ffc8ece263d0e13b1bae341bd6dd?s=128&d=identicon&r=PG", "display_name": "Guruparan Giritharan", "link": "https://stackoverflow.com/users/1435722/guruparan-giritharan"}, "edited": false, "score": 0, "creation_date": 1522349351, "post_id": 49541349, "comment_id": 86134335, "body": "@GuruparanGiritharan Thank you. I totally agree. We decided to use a service account for this"}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 867125, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/3d1d54eb01212ee0d212dc0b9b4de0a2?s=128&d=identicon&r=PG&f=1", "display_name": "TechTurtle", "link": "https://stackoverflow.com/users/867125/techturtle"}, "edited": false, "score": 0, "creation_date": 1541081920, "post_id": 49567908, "comment_id": 93101609, "body": "pls tell, where is the authentication part here?"}, {"owner": {"reputation": 1307, "user_id": 867125, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/3d1d54eb01212ee0d212dc0b9b4de0a2?s=128&d=identicon&r=PG&f=1", "display_name": "TechTurtle", "link": "https://stackoverflow.com/users/867125/techturtle"}, "edited": false, "score": 0, "creation_date": 1541081946, "post_id": 49567908, "comment_id": 93101627, "body": "also how about doing it for Office 365"}], "tags": [], "owner": {"reputation": 1592, "user_id": 9250455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gw3oT.jpg?s=128&g=1", "display_name": "Lee Liu", "link": "https://stackoverflow.com/users/9250455/lee-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1522389160, "last_edit_date": 1522389160, "creation_date": 1522379685, "answer_id": 49567908, "question_id": 49541349, "link": "https://stackoverflow.com/questions/49541349/upload-file-to-sharepoint-online-library-via-web-application/49567908#49567908", "title": "Upload File to SharePoint Online Library via Web Application", "body": "<p>We can get Access token to upload file via REST API, here is an article for your reference:\n<a href=\"http://paulryan.com.au/2014/spo-remote-authentication-rest/\" rel=\"nofollow noreferrer\">SharePoint Online remote authentication (and Doc upload)</a></p>\n\n<p>About how to Upload file to document via CSOM, here is a demo for your reference:</p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// upload file to document library\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"siteUrl\"&gt;http://sp/sites/DevSite&lt;/param&gt;\n    /// &lt;param name=\"filePath\"&gt;C:\\\\&lt;/param&gt;\n    /// &lt;param name=\"fileName\"&gt;hello2.txt&lt;/param&gt;\n    /// &lt;param name=\"docLibName\"&gt;MyDocLib&lt;/param&gt;\n    public static void uploadFile(string siteUrl, string filePath, string fileName, string docLibName)\n    {\n        siteUrl = siteUrl.EndsWith(\"/\") ? siteUrl.Substring(0, siteUrl.Length - 1) : siteUrl;           \n        ClientContext context = new ClientContext(siteUrl);\n        List docLib = context.Web.Lists.GetByTitle(docLibName);\n        context.Load(docLib);\n        context.ExecuteQuery();\n\n        Byte[] bytes = System.IO.File.ReadAllBytes(filePath + fileName);\n\n        FileCreationInformation createFile = new FileCreationInformation();\n\n        createFile.Content = bytes;\n        createFile.Url = siteUrl + \"/\" + docLibName + \"/\" + fileName;\n        createFile.Overwrite = true;\n        Microsoft.SharePoint.Client.File newFile = docLib.RootFolder.Files.Add(createFile);\n        newFile.ListItemAllFields.Update();\n        context.ExecuteQuery();\n    }\n</code></pre>\n"}], "owner": {"reputation": 993, "user_id": 1499873, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ab4517fa2419608176ea721014e5e79a?s=128&d=identicon&r=PG", "display_name": "kabichan", "link": "https://stackoverflow.com/users/1499873/kabichan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4425, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1522389160, "creation_date": 1522260372, "last_edit_date": 1522261488, "question_id": 49541349, "link": "https://stackoverflow.com/questions/49541349/upload-file-to-sharepoint-online-library-via-web-application", "title": "Upload File to SharePoint Online Library via Web Application", "body": "<p>I am trying to create a web application (ASP.NET MVC with C#) that allows a user to upload files to a SharePoint Online site. </p>\n\n<p>This code works when in SharePoint online <strong>only if</strong> I use my actual email and password.</p>\n\n<pre><code>    using (ClientContext context = new ClientContext(url))\n    {\n\n        var password = new SecureString();\n\n        foreach(var c in \"password\")\n        {\n            password.AppendChar(c);\n        }\n\n        context.Credentials = new SharePointOnlineCredentials(email, password);\n\n        //code to upload file\n    }\n</code></pre>\n\n<p>But I do not want to use my credential for all the users of this web application. So, I've been doing some research on this and found about the Claim-based authentication.\n<a href=\"https://code.msdn.microsoft.com/Remote-Authentication-in-b7b6f43c#content\" rel=\"nofollow noreferrer\">https://code.msdn.microsoft.com/Remote-Authentication-in-b7b6f43c#content</a></p>\n\n<p>I'll definitely try this, but I'm still wondering if this is the only way to achieve what I want to do. The web application authenticates users with windows authentication, and so does the sharepoint online site. Is it really true that there's no way for the sharepoint online site to get the credential from the web application?</p>\n"}, {"tags": ["c#", "casting", "type-conversion", "rounding", "mscorlib"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1522260640, "post_id": 49541320, "comment_id": 86090146, "body": "You should include assignments for <code>amount</code> and <code>taxPercentage</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522261265, "post_id": 49541320, "comment_id": 86090517, "body": "In other words, this is not reproducing for me when I use <code>100</code> and <code>-.00025</code>. But doubles and decimals definitely have different precisions. Also, your first sample (the &quot;un-rounded&quot; result) does not compile unless you cast to a decimal."}, {"owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 0, "creation_date": 1522261654, "post_id": 49541320, "comment_id": 86090729, "body": "What does <code>$&quot;{ amount * taxPercentage : G20}&quot;</code> print out? And <code>$&quot;{ (decimal)(amount * taxPercentage) : G20}&quot;</code>? Spot any diference?"}, {"owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 2, "creation_date": 1522262151, "post_id": 49541320, "comment_id": 86091049, "body": "Also, you should be avoiding this issue altogether. <code>decimal</code> is in the language precisely for financial calculations that require exact calculations. Don&#39;t use <code>double</code> when money is involved because these kind of unpleasantnesses tend to appear."}, {"owner": {"reputation": 37, "user_id": 6351688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100630468029479/picture?type=large", "display_name": "Daniel Mitchell", "link": "https://stackoverflow.com/users/6351688/daniel-mitchell"}, "reply_to_user": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 0, "creation_date": 1522265983, "post_id": 49541320, "comment_id": 86093185, "body": "@InBetween I am aware of this and have said something. Database design is not up to me. I am trying to fix incorrect code and came across this."}, {"owner": {"reputation": 37, "user_id": 6351688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100630468029479/picture?type=large", "display_name": "Daniel Mitchell", "link": "https://stackoverflow.com/users/6351688/daniel-mitchell"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522266072, "post_id": 49541320, "comment_id": 86093235, "body": "@RufusL You are right. I was just being lazy. I edited and included the exact assignments and results."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1522267089, "post_id": 49541320, "comment_id": 86093771, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7453900/c-sharp-double-to-decimal-precision-loss\">C# double to decimal precision loss</a>"}, {"owner": {"reputation": 37, "user_id": 6351688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100630468029479/picture?type=large", "display_name": "Daniel Mitchell", "link": "https://stackoverflow.com/users/6351688/daniel-mitchell"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522270595, "post_id": 49541320, "comment_id": 86095755, "body": "@RufusL Not really, since I was primarily concerned with how type affected rounding."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522271235, "post_id": 49541320, "comment_id": 86096077, "body": "Oh, I thought you were wondering why <code>amount * taxPercentage = 0.22499999999999998</code> but <code>(decimal)(amount * taxPercentage) == 0.225</code> (i.e. without any call to <code>Math.Round</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 74, "user_id": 6434970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N6yJq.png?s=128&g=1", "display_name": "Coding Tumbleweed", "link": "https://stackoverflow.com/users/6434970/coding-tumbleweed"}, "is_accepted": true, "score": 1, "last_activity_date": 1522262847, "creation_date": 1522262847, "answer_id": 49542016, "question_id": 49541320, "link": "https://stackoverflow.com/questions/49541320/math-round-while-casting-and-calculating-returning-wrong-result/49542016#49542016", "title": "Math.Round() while casting and calculating returning wrong result", "body": "<p>Indeed. Double (like float) is base-2 number and is actually an approximation of a decimal value. Unlike decimal values, it can't represent infinite precision numbers so your -0.025 values might really be -0.024999999999</p>\n"}], "owner": {"reputation": 37, "user_id": 6351688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100630468029479/picture?type=large", "display_name": "Daniel Mitchell", "link": "https://stackoverflow.com/users/6351688/daniel-mitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 49542016, "answer_count": 1, "score": 0, "last_activity_date": 1522270770, "creation_date": 1522260282, "last_edit_date": 1522270770, "question_id": 49541320, "link": "https://stackoverflow.com/questions/49541320/math-round-while-casting-and-calculating-returning-wrong-result", "title": "Math.Round() while casting and calculating returning wrong result", "body": "<p>I was just curious if anyone could explain to me why these different data types round differently in my code? (note: this is not how the variables are actually declared, it is how they are stored. I just displayed them like this for clarity)</p>\n\n<pre><code>double amount = 15 ;\ndouble taxPercentage = 0.015;\ndecimal itemTax;\n</code></pre>\n\n<p>First, the un-rounded result:</p>\n\n<pre><code>itemTax = (decimal)(amount * taxPercentage);\n  // itemTax returns -0.225\n</code></pre>\n\n<p>If I round first, then cast to decimal:</p>\n\n<pre><code>itemTax = (decimal)(Math.Round(amount * taxPercentage, 2, MidpointRounding.AwayFromZero));\n  // itemTax returns -0.22 \n</code></pre>\n\n<p>If I cast to decimal first, then round:</p>\n\n<pre><code>itemTax = (decimal)(amount * taxPercentage);\nitemTax = Math.Round(itemTax,2,MidpointRounding.AwayFromZero);\n //  itemTax returns -0.23\n</code></pre>\n\n<p>Does this have something to do with the way double types round vs. decimal types?</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "asprepeater"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522260936, "post_id": 49541298, "comment_id": 86090329, "body": "What is it that u want ?"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522261065, "post_id": 49541298, "comment_id": 86090408, "body": "and a <code>DataReader</code> is always better than a <code>DataAdapter</code> regarding performance"}, {"owner": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522261339, "post_id": 49541298, "comment_id": 86090560, "body": "See Image for clarification.Repeater bind all  data from database but i want .a column that have same data in each row ..grouped and show on label at once..using repeater.."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522261721, "post_id": 49541298, "comment_id": 86090774, "body": "I&#39;ve seen ur image but still don&#39;t understand ? U pointed out 2014 and 2015..So,what are u trying to achieve,can u explain in words ?"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1522261978, "post_id": 49541298, "comment_id": 86090932, "body": "Here is a great place to start. <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1522262014, "post_id": 49541298, "comment_id": 86090963, "body": "You also need to read about and start using parameterized queries. What you have is open to sql injection."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522262165, "post_id": 49541298, "comment_id": 86091053, "body": "@AdeelRana,asSeanLange pointed out,your sql query looks horrible as it is open to sql injection :( .... Why not use parameters instead bro ? I know this is not ur main issue now but why to leave a loop hole ?? :)"}, {"owner": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "edited": false, "score": 0, "creation_date": 1522262787, "post_id": 49541298, "comment_id": 86091403, "body": "i am trying to develop marks sheet .for this my database have 5 columns..c_code,Subject,Cr_hour,total marks and last column is year that have registered students from 2014 to 2018 .student who have register subject in 2014..show 2014 on top of table and below this the subjects and other related data show according to year..after show 2014 than same that like image show 2015 on top and than subject and other data that student learn in 2015 ..up to so on same like this till 2018... explain this according to ur logic .."}, {"owner": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "edited": false, "score": 0, "creation_date": 1522262935, "post_id": 49541298, "comment_id": 86091496, "body": "that is c# code     conn.Close();             sda = new SqlDataAdapter(&quot;SELECT  * from  [All_Semester_Result] where Roll_Number=&#39;&quot; + Session[&quot;RollNumb&quot;] + &quot;&#39;    &quot;, conn);             dt = new DataTable();             sda.Fill(dt);             outer.DataSource = dt;             outer.DataBind();             conn.Close();"}, {"owner": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522263145, "post_id": 49541298, "comment_id": 86091627, "body": "@zackraiyan according to ur answer use DataReader..also trying using DataReader..Now r u clear?"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522263233, "post_id": 49541298, "comment_id": 86091676, "body": "using a datareader is fast that&#39;s why i suggested...happy that u implemented it"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "edited": false, "score": 0, "creation_date": 1522264147, "post_id": 49542239, "comment_id": 86092197, "body": "Thnx for Suggestion near to my problem fell happy u understand this problem"}, {"owner": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "edited": false, "score": 0, "creation_date": 1522264488, "post_id": 49542239, "comment_id": 86092359, "body": "Data in the column like this Fall(2014) Fall(2014) Spring(2015) Spring(2015) Fall(2015) Fall(2015) Spring(2016) Fall(2016) Spring(2017) Fall(2017)   how bind repeater for get this data one time."}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "reply_to_user": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "edited": false, "score": 0, "creation_date": 1522265226, "post_id": 49542239, "comment_id": 86092752, "body": "You have to make sure that <code>currentYear</code> becomes the delimiter on which to split your data in the Repeater. Therefore there has to be a column in the dataset that acts as that delimiter, like a DateTime field."}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": true, "score": 0, "last_activity_date": 1522263653, "creation_date": 1522263653, "answer_id": 49542239, "question_id": 49541298, "link": "https://stackoverflow.com/questions/49541298/how-get-data-from-database-column-as-a-heading-using-repeater-in-asp-net/49542239#49542239", "title": "How get data from database column as a heading using Repeater in ASP.NET", "body": "<p>I think you are looking for something like this. First create a public variable in code behind.</p>\n\n<pre><code>public int currentYear = 2000;\n\nprotected void Page_Load(object sender, EventArgs e)\n{\n}\n</code></pre>\n\n<p>Then change the Repeater to something like this:</p>\n\n<pre><code>&lt;table border=\"1\"&gt;\n    &lt;asp:Repeater ID=\"Repeater1\" runat=\"server\"&gt;\n        &lt;ItemTemplate&gt;\n\n            &lt;%# Convert.ToDateTime(Eval(\"myYear\")).Year != currentYear &amp;&amp; Container.ItemIndex &gt; 0 ? \"&lt;tr&gt;&lt;td colspan=\\\"5\\\"&gt;\" + Eval(\"myYear\") + \"&lt;/td&gt;&lt;/tr&gt;\" : \"\" %&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;\n                    normal rows here\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;%# currentYear = Convert.ToDateTime(Eval(\"myYear\")).Year %&gt;\n\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:Repeater&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>What will happen is that the value of <code>currentYear</code> is compared to the current row value. If it does not match a new row will be created. Then the value of <code>currentYear</code> is updated to be checked in the next row bound to the Repeater.</p>\n"}], "owner": {"reputation": 25, "user_id": 8674750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f88ab6603ffb9654b4f0497c9f613b?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Rana", "link": "https://stackoverflow.com/users/8674750/adeel-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 49542239, "answer_count": 1, "score": 0, "last_activity_date": 1522314801, "creation_date": 1522260213, "last_edit_date": 1522314801, "question_id": 49541298, "link": "https://stackoverflow.com/questions/49541298/how-get-data-from-database-column-as-a-heading-using-repeater-in-asp-net", "title": "How get data from database column as a heading using Repeater in ASP.NET", "body": "<p><a href=\"https://i.stack.imgur.com/yBUno.jpg\" rel=\"nofollow noreferrer\">image</a> \nThe Upper portion of present my database table structure and lower portion that in which form i want to show data.</p>\n\n<pre><code>&lt;table class=\"table table-bordered table-hover\"&gt;\n  &lt;thead&gt;\n    &lt;tr class=\"text-center\"&gt;\n      &lt;th&gt;Course Code&lt;/th&gt;\n      &lt;th&gt;Subject&lt;/th&gt;\n      &lt;th&gt;Cr.Hours&lt;/th&gt;\n      &lt;th&gt;Grade&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td colspan=\"4\"&gt;\n        &lt;asp:Label ID=\"Label5\" runat=\"server\" Text=\"Label\"&gt;&lt;/asp:Label&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n\n    &lt;asp:Repeater ID=\"outer\" runat=\"server\"&gt;\n\n      &lt;ItemTemplate&gt;\n        &lt;tr&gt;\n          &lt;td&gt;\n            &lt;asp:Label Text='&lt;%#Eval(\"[SpringFall]\")%&gt;' Style=\"text-align: center; display: none; font-size: 18px; font-family: 'Times New Roman'\" ID=\"Label4\" runat=\"server\" Font-Bold=\"true\"&gt; &lt;/asp:Label&gt;\n\n          &lt;/td&gt;\n          &lt;td&gt;\n            &lt;asp:Label ID=\"AllCcode\" runat=\"server\" Text='&lt;%#Eval(\"[Course_Code]\") %&gt;'&gt;&lt;/asp:Label&gt;\n          &lt;/td&gt;\n          &lt;td&gt;\n            &lt;asp:Label ID=\"AllSubject\" runat=\"server\" Text='&lt;%#Eval(\"[Subject]\") %&gt;'&gt;&lt;/asp:Label&gt;\n          &lt;/td&gt;\n          &lt;td&gt;\n            &lt;asp:Label ID=\"AllCrHr\" runat=\"server\" Text='&lt;%#Eval(\"[Credit_Hours]\") %&gt;'&gt;&lt;/asp:Label&gt;\n          &lt;/td&gt;\n          &lt;td&gt;\n            &lt;asp:Label ID=\"AllGrade\" Font-Bold=\"true\" runat=\"server\" Text='&lt;%#Eval(\"[Total_Marks]\") %&gt;'&gt;&lt;/asp:Label&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/ItemTemplate&gt;\n    &lt;/asp:Repeater&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Here Is my code..bind repeater on button click event using c# with simple sql SELECT query.Any query for bind repeater with more efficient working and show data in given form.</p>\n\n<pre><code>protected void AttendencBtn_Click(object sender, EventArgs e)\n{\n  //  MultiView1.ActiveViewIndex = 8;\n    conn.Open();\n    sda = new SqlDataAdapter(\"SELECT * FROM  Attendence where Roll_Number='\" + Session[\"RollNumb\"] + \"' \", conn);\n    dt = new DataTable();\n    sda.Fill(dt);\n    AttendencRpt.DataSource = dt;\n    AttendencRpt.DataBind();\n    conn.Close();\n}\n</code></pre>\n"}, {"tags": ["c#", "controller", "action", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 0, "creation_date": 1522264114, "post_id": 49541188, "comment_id": 86092173, "body": "I don&#39;t follow your question. These look like two separate endpoints that don&#39;t talk to each other at all."}, {"owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "reply_to_user": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 0, "creation_date": 1522264313, "post_id": 49541188, "comment_id": 86092272, "body": "SomeOtherAction calls Index, and I wanted the system to return the View Index (in IndexByName) and stop executing in SomeOtherAction."}, {"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 1, "creation_date": 1522265259, "post_id": 49541188, "comment_id": 86092775, "body": "And <code>return IndexByName(&quot;something&quot;);</code> isn&#39;t doing that?"}, {"owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "reply_to_user": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 0, "creation_date": 1522267204, "post_id": 49541188, "comment_id": 86093848, "body": "I did not try that.  I thought the other method would do it because it has a return View, not a &quot;regular&quot; return."}, {"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 0, "creation_date": 1522270596, "post_id": 49541188, "comment_id": 86095756, "body": "There&#39;s no &quot;regular&quot; return, there is just what you have declared in your method as return type, which is <code>ActionResult</code>. <code>View()</code> just construct and returns a <code>ViewResult</code> which, of course, inherits from <code>ActionResult</code>."}], "answers": [{"comments": [{"owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 1, "creation_date": 1522420292, "post_id": 49559449, "comment_id": 86159915, "body": "Thanks.  I figured it would be like a redirect and just send me to the View.  No."}], "tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": true, "score": 1, "last_activity_date": 1522336043, "creation_date": 1522336043, "answer_id": 49559449, "question_id": 49541188, "link": "https://stackoverflow.com/questions/49541188/how-do-i-call-a-method-in-the-same-controller-and-have-the-calling-function-stop/49559449#49559449", "title": "How do I call a method in the same controller and have the calling function stop execution on a return View?", "body": "<p>In C#, the <code>return</code> keyword will exist the current method and return control to it's calling method. From the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/return\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The <code>return</code> statement terminates execution of the method in which it appears and returns control to the calling method. It can also return an optional value. If the method is a <code>void</code> type, the <code>return</code> statement can be omitted.</p>\n</blockquote>\n\n<p>So for example, you could use this:</p>\n\n<pre><code>public ActionResult IndexByName(string lastName)\n{\n    return View(\"Index\", myObject);\n}\n\npublic ActionResult SomeOtherAction(IFormCollection collection)\n{\n    if (collection[\"somekey\"] == \"search\")\n    {\n        // This will return the result of IndexByName()\n        // and exist the SomeOtherAction method\n        return IndexByName(collection[\"lastname\"]); \n    }\n    else\n    {\n        // This will return the View SomeOtherView\n        // and exist the SomeOtherAction method\n        return View(\"SomeOtherView\");\n    }\n\n    // In theorty this would  return an HTTP 200\n    // but it is NEVER hit. All execution paths \n    // within this method resolved before we \n    // ever got here.\n    return Ok();\n}\n</code></pre>\n"}], "owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 49559449, "answer_count": 1, "score": 1, "last_activity_date": 1522336043, "creation_date": 1522259801, "last_edit_date": 1522265587, "question_id": 49541188, "link": "https://stackoverflow.com/questions/49541188/how-do-i-call-a-method-in-the-same-controller-and-have-the-calling-function-stop", "title": "How do I call a method in the same controller and have the calling function stop execution on a return View?", "body": "<p>I have this,</p>\n\n<pre><code>public ActionResult IndexByName(string lastName)\n{\n    //find the name\n    return View(\"Index\", myObject);\n}\n\npublic ActionResult SomeOtherAction(IFormCollection collection)\n{\n    if (collection[\"somekey\"] == \"search\")\n    {\n        this.IndexByName(collection[\"lastname\"]);\n    }\n    //other stuff in this method that I don't want to run if it says search\n}\n</code></pre>\n\n<p>How can I keep the rest of the method SomeOtherAction from continuing?  I wanted the application to return to the View(\"Index\") in the other method.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 595, "user_id": 4411297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bac0fc34da57c7aec9313fb3e2e56798?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Gale", "link": "https://stackoverflow.com/users/4411297/daniel-gale"}, "edited": false, "score": 0, "creation_date": 1522259915, "post_id": 49541186, "comment_id": 86089725, "body": "Probably the same as KB but divide by 1024 again. <a href=\"https://www.gbmb.org/megabytes\" rel=\"nofollow noreferrer\">gbmb.org/megabytes</a>"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1522260040, "post_id": 49541186, "comment_id": 86089794, "body": "<a href=\"https://stackoverflow.com/questions/37774694/dividing-two-numbers\" title=\"dividing two numbers\">stackoverflow.com/questions/37774694/dividing-two-numbers</a>"}, {"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1522260200, "post_id": 49541186, "comment_id": 86089911, "body": "long is a long integer, and dividing two integers in C# gives you an integer."}, {"owner": {"reputation": 163, "user_id": 9466693, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185310788273127/picture?type=large", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/9466693/ankit-singh"}, "edited": false, "score": 0, "creation_date": 1522260250, "post_id": 49541186, "comment_id": 86089932, "body": "Even if I convert to float i can&#39;t work"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1522261103, "post_id": 49541186, "comment_id": 86090430, "body": "Your code can be much shorter... <b><code>long size = 1024 * 1024 * 892 + 256 * 1000;             var XB = new[] { &quot; Bytes&quot;, &quot; KB&quot;, &quot; MB&quot;, &quot; GB&quot;, &quot; TB&quot;, &quot; PB&quot; };             var inx = (int)Math.Log(size, 1024);             var text = (size &#47; Math.Pow(1024, inx)).ToString(&quot;#.00&quot;) + XB[inx];</code></b>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1522261829, "post_id": 49541186, "comment_id": 86090855, "body": "Use result = ContentLength / 1048576.0; and ensure you declared result as a double."}], "answers": [{"comments": [{"owner": {"reputation": 5640, "user_id": 1938826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gTGEx.jpg?s=128&g=1", "display_name": "an earwig", "link": "https://stackoverflow.com/users/1938826/an-earwig"}, "edited": false, "score": 0, "creation_date": 1522261732, "post_id": 49541569, "comment_id": 86090785, "body": "Ok, I&#39;m liking the look of Tuples"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 1, "creation_date": 1522262576, "post_id": 49541569, "comment_id": 86091264, "body": "You reopened the question and answered the same? Dub answer already stated it is an integer division"}], "tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1522261638, "last_edit_date": 1522261638, "creation_date": 1522261329, "answer_id": 49541569, "question_id": 49541186, "link": "https://stackoverflow.com/questions/49541186/convert-bytes-to-mb-with-0-00-format/49541569#49541569", "title": "convert bytes to mb with 0.00 format", "body": "<p>The problem is you are working entirely in integral types that don't provide any space for decimal storage. You need to convert to a double or decimal. If you're using C# 7 (supports Tuples) you can do this:</p>\n\n<pre><code>public (double, string) AdjustFileSize(long fileSizeInBytes)\n{\n    var names = {\"BYTES\", \"KB\", \"MB\", \"GB\"};\n\n    double sizeResult = fileSizeInBytes * 1.0;\n    int nameIndex = 0;\n    while (sizeResult &gt; 1024 &amp;&amp; nameIndex &lt; names.Length)\n    {\n        sizeResult /= 1024; \n        nameIndex++;\n    }\n\n    return (sizeResult, names[nameIndex]);\n}\n</code></pre>\n\n<p>Here's another fun way:</p>\n\n<pre><code>public (double, string) AdjustFileSize(long fileSizeInBytes)\n{\n    if (fileSizeInBytes &lt;= 0) return (0.0, \"BYTES\");\n\n    var names = {\"BYTES\", \"KB\", \"MB\", \"GB\"};\n    var sizes = {1.0, 1024.0, 1048576.0, 1073741824.0};\n\n    var index = Math.Log(fileSizeInBytes, 1024);\n    return (fileSizeInBytes / sizes[index], names[index]);\n}\n</code></pre>\n\n<p>Then call either version like this:</p>\n\n<pre><code>long ContentLength = 0;\nif (long.TryParse(resp.Headers.Get(\"Content-Length\"), out ContentLength))\n{\n    var size = AdjustFileSize(ContentLength);\n    sizevaluelabel.Text = size.Item1.ToString(\"0.00\");\n    kbmbgb.Text = size.Item2;\n}\n</code></pre>\n\n<p>If you can't use Tuples, I'd define a small class to communicate the same info, or maybe even a struct given the small size.</p>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 9466693, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185310788273127/picture?type=large", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/9466693/ankit-singh"}, "edited": false, "score": 0, "creation_date": 1522264077, "post_id": 49542328, "comment_id": 86092155, "body": "just change long to double"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1522267566, "post_id": 49542328, "comment_id": 86094067, "body": "What was for ex too hard to understand in <i>&quot;Most of the above answer&quot;</i>?"}, {"owner": {"reputation": 163, "user_id": 9466693, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185310788273127/picture?type=large", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/9466693/ankit-singh"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1522268015, "post_id": 49542328, "comment_id": 86094338, "body": "coding doesn&#39;t need to be complex it can be easy and anyways most of them tried to use to hard methods and none of them looked for the flaw in the code"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1522268566, "post_id": 49542328, "comment_id": 86094621, "body": "See <b>Hans Passant&#39;s</b> comment. what is hard to understand? what is hard to implement? All you need to do is adding a <code>.0</code> to your constants (BTW your second 0s in doubles <code>xxx.00</code>  is unnecessary). What is hard with <b>Chris&#39;s</b> comment? that link explains the integer division problem. <b>Tim</b> also said the same this"}], "tags": [], "owner": {"reputation": 163, "user_id": 9466693, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185310788273127/picture?type=large", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/9466693/ankit-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1522264006, "creation_date": 1522264006, "answer_id": 49542328, "question_id": 49541186, "link": "https://stackoverflow.com/questions/49541186/convert-bytes-to-mb-with-0-00-format/49542328#49542328", "title": "convert bytes to mb with 0.00 format", "body": "<p>Most of the above answer was too hard to understand to the beginners so after few trying and trying i found my own way. here is the answer.</p>\n\n<pre><code>                double ContentLength = 0;\n                double result;\n                if (double.TryParse(resp.Headers.Get(\"Content-Length\"), out ContentLength))\n                {\n                    string File_Size;\n\n                    if (ContentLength &gt;= 1073741824.00)\n                    {\n                        result = ContentLength / 1073741824.00;\n                        kbmbgb.Text = \"GB\";\n                    }\n                    else if (ContentLength &gt;= 1048576.00)\n                    {\n                        result = ContentLength / 1048576.00;\n                        kbmbgb.Text = \"MB\";\n                    }\n                    else if (ContentLength &gt;= 1024.00)\n                    {\n                        result = ContentLength / 1024.00;\n                        kbmbgb.Text = \"KB\";\n                    }\n                    else\n                    {\n                        result = ContentLength;\n                        kbmbgb.Text = \"BYTE\";\n\n                    }\n                    File_Size = result.ToString(\"0.00\");\n                    sizevaluelabel.Text = File_Size;\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 9466693, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185310788273127/picture?type=large", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/9466693/ankit-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2280, "favorite_count": 0, "accepted_answer_id": 49542328, "answer_count": 2, "score": -1, "last_activity_date": 1522264006, "creation_date": 1522259792, "last_edit_date": 1522260062, "question_id": 49541186, "link": "https://stackoverflow.com/questions/49541186/convert-bytes-to-mb-with-0-00-format", "title": "convert bytes to mb with 0.00 format", "body": "<p>I have created a header data retriever where the user enters the URL and it returns size in mb<br>\nMy code works fine but it does not shows the floating value</p>\n\n<pre><code>if (long.TryParse(resp.Headers.Get(\"Content-Length\"), out ContentLength))\n{\n    string File_Size;\n\n    if (ContentLength &gt;= 1073741824)\n    {\n        result = ContentLength / 1073741824;\n\n        kbmbgb.Text = \"GB\";\n    }\n    else if (ContentLength &gt;= 1048576)\n    {\n        result = ContentLength / 1048576;\n\n        kbmbgb.Text = \"MB\";\n    }\n    else if (ContentLength &gt;= 1024)\n    {\n        result = ContentLength / 1024;\n\n        kbmbgb.Text = \"KB\";\n    }\n    else\n    {\n        result = ContentLength;\n        kbmbgb.Text = \"BYTE\";\n\n    }\n\n    File_Size = result.ToString(\"0.00\");\n    sizevaluelabel.Text = File_Size;\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "edited": false, "score": 2, "creation_date": 1522260836, "post_id": 49541182, "comment_id": 86090274, "body": "I don&#39;t believe it&#39;s possible in that direction. You can of course do the opposite, and have an object in the hierarchy hold a reference to the scriptableobject."}], "answers": [{"tags": [], "owner": {"reputation": 3673, "user_id": 7256853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7H077BfRVB0/AAAAAAAAAAI/AAAAAAAAAEA/3S1Dq2-H8GE/photo.jpg?sz=128", "display_name": "Galandil", "link": "https://stackoverflow.com/users/7256853/galandil"}, "is_accepted": false, "score": 0, "last_activity_date": 1522266032, "creation_date": 1522266032, "answer_id": 49542852, "question_id": 49541182, "link": "https://stackoverflow.com/questions/49541182/events-in-scriptable-objects/49542852#49542852", "title": "Events in scriptable objects", "body": "<p>Yes and no.\nYou can get an SO to GO reference and the reverse, but only during runtime.\nWhen outside runtime, you can only get a SO to GO reference, an SO created in the editor outside of runtime can't reference any game object (it wouldn't know from which scene to get the GO).</p>\n\n<p>Following is the code showing how to achieve this.</p>\n\n<p><strong>Scriptable Object Code</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing UnityEngine;\n\n[CreateAssetMenu(menuName = \"Dog\", fileName = \"New Dog\")]\npublic class Dog : ScriptableObject {\n    public GameObject Go;\n    public static event Action&lt;string&gt; ScriptableToGameobjectEvent;\n\n    private void Awake() {\n        EventScript.GameobjectToScriptableEvent += InstanceCreated;     \n        if (Application.isPlaying) {\n            ScriptableToGameobjectEvent(\"Dog Created\");\n        }\n    }\n\n    private void InstanceCreated(GameObject go) {\n        Go = go;\n        Debug.Log(Go.name);\n    }\n}\n</code></pre>\n\n<p><strong>Game Object Code</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using UnityEngine;\nusing System;\n\npublic class EventScript : MonoBehaviour {\n\n    public static event Action&lt;GameObject&gt; GameobjectToScriptableEvent;\n    public ScriptableObject myScriptable;\n\n    private void Awake() {\n        Dog.ScriptableToGameobjectEvent += DogCreated;\n    }\n\n    private void Start() {      \n        myScriptable = ScriptableObject.CreateInstance&lt;Dog&gt;();\n    }\n\n    private void DogCreated(string str) {\n        Debug.Log(str);\n        GameobjectToScriptableEvent(gameObject);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2381, "user_id": 817455, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/05190443d2f9608ac849809aaeb79209?s=128&d=identicon&r=PG&f=1", "display_name": "Daarwin", "link": "https://stackoverflow.com/users/817455/daarwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1520, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522266032, "creation_date": 1522259767, "question_id": 49541182, "link": "https://stackoverflow.com/questions/49541182/events-in-scriptable-objects", "title": "Events in scriptable objects", "body": "<p>Is it possible to use UnityEvents and/or UnityActions in scriptable objects? \nMy attempt looks like this: </p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.Events;\n\n[CreateAssetMenu(menuName =\"Dog\", fileName =\"New Dog\")]\npublic class Dog : ScriptableObject\n{\n    public string Id;\n    public string Text;\n    public UnityEvent WhenFinished;\n    public GameObject Go;\n\n\n}\n</code></pre>\n\n<p>Is it possible to make a scriptable object hold a reference to a GO in the hierarchy or have an event point to a listener in the hierarchy. Is there anyway a scriptable object can communicate with the logic in the hierarchy? </p>\n"}, {"tags": ["c#", "linq", "automapper", "entity-framework-core", "asp.net-core-identity"], "comments": [{"owner": {"reputation": 403, "user_id": 807941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b8bade7b49a03b8c2d2eef9cc3e6468e?s=128&d=identicon&r=PG", "display_name": "Bombinosh", "link": "https://stackoverflow.com/users/807941/bombinosh"}, "edited": false, "score": 1, "creation_date": 1522260842, "post_id": 49541107, "comment_id": 86090278, "body": "What do you want to flatten exactly? As is, your method return a IEnumerable, not a nested IEnumerable."}, {"owner": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "reply_to_user": {"reputation": 403, "user_id": 807941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b8bade7b49a03b8c2d2eef9cc3e6468e?s=128&d=identicon&r=PG", "display_name": "Bombinosh", "link": "https://stackoverflow.com/users/807941/bombinosh"}, "edited": false, "score": 1, "creation_date": 1522263853, "post_id": 49541107, "comment_id": 86092033, "body": "I&#39;ll edit the question to show what the method is returning back and what I want it to return instead"}], "answers": [{"comments": [{"owner": {"reputation": 2255, "user_id": 7897176, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3a552cdc067239869f8571f314912e86?s=128&d=identicon&r=PG&f=1", "display_name": "Valuator", "link": "https://stackoverflow.com/users/7897176/valuator"}, "edited": false, "score": 0, "creation_date": 1522262752, "post_id": 49541767, "comment_id": 86091376, "body": "In EF Core an explicit join class/table is required for many-to-many relationships. <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/relationships#other-relationship-patterns\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/modeling/&hellip;</a>"}, {"owner": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "edited": false, "score": 0, "creation_date": 1522264596, "post_id": 49541767, "comment_id": 86092416, "body": "I edited the question to note that I added the migration properties so that they are included in the entities (they aren&#39;t included by Identity Framework core automatically. The table are generated correctly and I can get data out, I just need it flattened for displaying in a view"}, {"owner": {"reputation": 43, "user_id": 5463105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919966aaf11decaeec6dcf3fd065f817?s=128&d=identicon&r=PG&f=1", "display_name": "LLLL_easycomeeasygo", "link": "https://stackoverflow.com/users/5463105/llll-easycomeeasygo"}, "reply_to_user": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "edited": false, "score": 0, "creation_date": 1522266054, "post_id": 49541767, "comment_id": 86093227, "body": "@Alex I edited  my answer the result would lock like this [ {     &quot;firstName&quot;: &quot;Alex&quot;,     &quot;lastName&quot;: &quot;Florin&quot;,     &quot;RoleName&quot;: [ &quot;Role1&quot;, &quot;Role2&quot; ], }, {     &quot;firstName&quot;: &quot;Alex&quot;,     &quot;lastName&quot;: &quot;Florin&quot;,     &quot;RoleName&quot;: [ &quot;Role1&quot;, &quot;Role2&quot; ], }, {     &quot;firstName&quot;: &quot;Jon&quot;,     &quot;lastName&quot;: &quot;Smith&quot;,     &quot;RoleName&quot;: [ &quot;Role1&quot;, &quot;Role2&quot; ], }, ]"}, {"owner": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "edited": false, "score": 0, "creation_date": 1522270352, "post_id": 49541767, "comment_id": 86095615, "body": "Thanks for that article. I&#39;ll look it over and try to implement it based on your answer. The output you listed is closer. I assume I could then user SelectMany to further flatten the result? What would that look like?"}, {"owner": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "edited": false, "score": 0, "creation_date": 1522276589, "post_id": 49541767, "comment_id": 86098133, "body": "Converting the entities per the article and trying to make the model builder not break the Identity tables during migration is not working. I would much prefer trying to use LINQ to get the structure I was looking for."}, {"owner": {"reputation": 43, "user_id": 5463105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919966aaf11decaeec6dcf3fd065f817?s=128&d=identicon&r=PG&f=1", "display_name": "LLLL_easycomeeasygo", "link": "https://stackoverflow.com/users/5463105/llll-easycomeeasygo"}, "reply_to_user": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "edited": false, "score": 0, "creation_date": 1522310953, "post_id": 49541767, "comment_id": 86109060, "body": "@Alex Wouldn&#39;t you answer be the equivalent to query the AppUserRole table directly?"}], "tags": [], "owner": {"reputation": 43, "user_id": 5463105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919966aaf11decaeec6dcf3fd065f817?s=128&d=identicon&r=PG&f=1", "display_name": "LLLL_easycomeeasygo", "link": "https://stackoverflow.com/users/5463105/llll-easycomeeasygo"}, "is_accepted": false, "score": 0, "last_activity_date": 1522265841, "last_edit_date": 1522265841, "creation_date": 1522262027, "answer_id": 49541767, "question_id": 49541107, "link": "https://stackoverflow.com/questions/49541107/how-to-flatten-entity-core-many-to-many-collections-using-linq/49541767#49541767", "title": "How to flatten Entity Core many-to-many collections using Linq", "body": "<p>Not sure what you want to flatten exactly, to Select all Roles from User </p>\n\n<pre><code>users.Select(p =&gt; p.UserRoles.Role)\n</code></pre>\n\n<p>To Select all Users from Role </p>\n\n<pre><code>roles.Select(p =&gt; p.UserRoles.User)\n</code></pre>\n\n<p>Edit: </p>\n\n<p>I think this exmaple will help you <a href=\"https://blog.oneunicorn.com/2017/09/25/many-to-many-relationships-in-ef-core-2-0-part-2-hiding-as-ienumerable/\" rel=\"nofollow noreferrer\">https://blog.oneunicorn.com/2017/09/25/many-to-many-relationships-in-ef-core-2-0-part-2-hiding-as-ienumerable/</a></p>\n\n<p>Your Model could look like this </p>\n\n<pre><code>public class AppUser : IdentityUser&lt;long&gt; {\n\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n\n    private ICollection&lt;AppRole&gt; UserRoles{ get; } = new List&lt;PostTag&gt;();\n\n    [NotMapped]\n    public IEnumerable&lt;string&gt; RoleNames =&gt; UserRole.Role.Name\n\n}\n\npublic class AppRole : IdentityRole&lt;long&gt; {\n    private ICollection&lt;AppRole&gt; UserRoles{ get; } = new List&lt;PostTag&gt;();\n\n    [NotMapped]\n    public IEnumerable&lt;AppRole&gt; Users =&gt; UserRole.User\n}\n\npublic class AppUserRole : IdentityUserRole&lt;long&gt; {\n    public long UserID{ get; set; }\n    public AppUser User { get; set; }\n\n    public long RoleID { get; set; }\n    public Role Role { get; set; }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "is_accepted": true, "score": 0, "last_activity_date": 1522280990, "creation_date": 1522280990, "answer_id": 49545935, "question_id": 49541107, "link": "https://stackoverflow.com/questions/49541107/how-to-flatten-entity-core-many-to-many-collections-using-linq/49545935#49545935", "title": "How to flatten Entity Core many-to-many collections using Linq", "body": "<p>I figured it out. The one issue is that it excludes any users with UserRoles = null but since all users are guaranteed to have at least one role in our system, it should be fine.</p>\n\n<pre><code>    public async Task&lt;IEnumerable&lt;UserEditorViewModel&gt;&gt; GetAllWithRoles() {\n\n        return await _dbSet\n            .AsNoTracking()\n            .SelectMany(u =&gt; u.UserRoles)\n            .Select(ur =&gt; new UserEditorViewModel {\n                FirstName = ur.User.FirstName,\n                LastName = ur.User.LastName,\n                RoleName = ur.Role.Name\n            })\n            .ToListAsync();\n    }\n</code></pre>\n"}], "owner": {"reputation": 1091, "user_id": 3547170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd2d3ed322abb95c2d414ad608ba10e9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3547170/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1943, "favorite_count": 0, "accepted_answer_id": 49545935, "answer_count": 2, "score": 1, "last_activity_date": 1522280990, "creation_date": 1522259501, "last_edit_date": 1522273050, "question_id": 49541107, "link": "https://stackoverflow.com/questions/49541107/how-to-flatten-entity-core-many-to-many-collections-using-linq", "title": "How to flatten Entity Core many-to-many collections using Linq", "body": "<p>I can't figure out how to flatten a many to many collection. The entities are for the Identity tables created with Entity Framework Core. They contain navigation properties I added manually because the Identity entities don't include these by default (along with custom model builder code that is not shown)</p>\n\n<pre><code>public class AppUser : IdentityUser&lt;long&gt; {\n\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n\n    public virtual List&lt;AppUserRole&gt; UserRoles { get; set; } = new List&lt;AppUserRole&gt;();\n\n}\n\npublic class AppRole : IdentityRole&lt;long&gt; {\n\n    public virtual List&lt;AppUserRole&gt; UserRoles { get; set; } = new List&lt;AppUserRole&gt;();\n\n}\n\npublic class AppUserRole : IdentityUserRole&lt;long&gt; {\n\n    public virtual AppUser User { get; set; }\n    public virtual AppRole Role { get; set; }\n\n}\n</code></pre>\n\n<p>This is the call in my repo:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;AppUser&gt;&gt; GetAllWithRoles() \n{\n    return await _dbSet\n        .AsNoTracking()\n        .Include(u =&gt; u.UserRoles)\n        .ThenInclude(ur =&gt; ur.Role)\n        .ToListAsync();\n}\n</code></pre>\n\n<p>The above call returns back this structure:</p>\n\n<pre><code>[\n{\n    \"firstName\": \"XXXX\",\n    \"lastName\": \"YYYYY\",\n    \"userRoles\": [\n        {\n            \"role\": {\n                \"userRoles\": [],\n                \"id\": 1,\n                \"name\": \"xxx\",\n                \"normalizedName\": \"xxxx\",\n                \"concurrencyStamp\": \"1617fe40-77e2-46cb-9c1c-df597d09775c\"\n            },\n            \"userId\": 1,\n            \"roleId\": 1\n        }\n    ]       \n}\n]\n</code></pre>\n\n<p>what I want is this:</p>\n\n<pre><code>[\n{\n    \"firstName\": \"Alex\",\n    \"lastName\": \"Florin\",\n    \"RoleName\": \"Role1\",\n},\n{\n    \"firstName\": \"Alex\",\n    \"lastName\": \"Florin\",\n    \"RoleName\": \"Role2\",\n},\n{\n    \"firstName\": \"Jon\",\n    \"lastName\": \"Smith\",\n    \"RoleName\": \"Role1\",\n},\n]\n</code></pre>\n\n<p>What I want is to flatten the collection. I have looked into SelectMany but I can't figure out how to use it with a many to many collection as I am fairly new to Linq. And I know the call function's type needs to be change to a viewmodel that matches my desired structure.</p>\n\n<p>Automapper is another option as I'm using that to create the viewmodels for my simpler entities but I'm not clear how to set use that to flatten a many-to-many relationship</p>\n"}, {"tags": ["c#", "unity3d", "crash", "transform", "freeze"], "answers": [{"tags": [], "owner": {"reputation": 1591, "user_id": 2242315, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0hQMc.jpg?s=128&g=1", "display_name": "Ryanas", "link": "https://stackoverflow.com/users/2242315/ryanas"}, "is_accepted": false, "score": 1, "last_activity_date": 1522260146, "creation_date": 1522260146, "answer_id": 49541275, "question_id": 49541079, "link": "https://stackoverflow.com/questions/49541079/while-loop-freezes-game-is-there-anything-else-which-can-rotate-an-object/49541275#49541275", "title": "While loop freezes game - Is there anything else which can rotate an object?", "body": "<p>I would suggest using a coroutine here.</p>\n\n<pre><code>void Move_Lights(int t)\n{\n    //phase detection, set angle variable\n\n    if (t % 2 == 0)\n    {    \n        StartCoroutine(RotateLight());\n    }\n}\n\nIEnumerable RotateLight()\n{\n    while (transform.eulerAngles.x != angle)\n    {\n        transform.Rotate(Vector3.right * Time.deltaTime, Space.World);\n        yield return null;\n    }\n    yield break;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8150891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OdoEf.jpg?s=128&g=1", "display_name": "Rich Cat", "link": "https://stackoverflow.com/users/8150891/rich-cat"}, "edited": false, "score": 0, "creation_date": 1522336835, "post_id": 49542020, "comment_id": 86127319, "body": "Thanks! I got it working, with a combination of both answers."}, {"owner": {"reputation": 17, "user_id": 8150891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OdoEf.jpg?s=128&g=1", "display_name": "Rich Cat", "link": "https://stackoverflow.com/users/8150891/rich-cat"}, "edited": false, "score": 0, "creation_date": 1522344493, "post_id": 49542020, "comment_id": 86131895, "body": "Problem - When Angle is set to a value between 90 and 270, the program goes right past the rotation needed. What do i do?!? I&#39;ve looked everyehere and no-one has an awnser!"}], "tags": [], "owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "is_accepted": true, "score": 1, "last_activity_date": 1522262858, "creation_date": 1522262858, "answer_id": 49542020, "question_id": 49541079, "link": "https://stackoverflow.com/questions/49541079/while-loop-freezes-game-is-there-anything-else-which-can-rotate-an-object/49542020#49542020", "title": "While loop freezes game - Is there anything else which can rotate an object?", "body": "<p>Your game freezes because it's caught in an infinite loop with your inequality. The while loop only exits when the float value of your transform is equal to your <code>angle</code>, which will virtually never be true because of the precision of a float. When using equalities with floats you should be putting a tolerance on your comparison. If you are looking for an exact angle, this of course will not be the approach you want to use.</p>\n\n<pre><code>// while the transforms angle is not within .5f of the desired...\nwhile (Mathf.abs(transform.eulerAngles.x-angle) &gt; .5f)\n{\n    transform.Rotate(Vector3.right * Time.deltaTime, Space.World);\n    yield return null;\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8150891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OdoEf.jpg?s=128&g=1", "display_name": "Rich Cat", "link": "https://stackoverflow.com/users/8150891/rich-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1522269763, "accepted_answer_id": 49542020, "answer_count": 2, "score": -1, "last_activity_date": 1522269737, "creation_date": 1522259373, "last_edit_date": 1522269737, "question_id": 49541079, "link": "https://stackoverflow.com/questions/49541079/while-loop-freezes-game-is-there-anything-else-which-can-rotate-an-object", "closed_reason": "Duplicate", "title": "While loop freezes game - Is there anything else which can rotate an object?", "body": "<p>I am trying to create a rotating light source for a TBS game, which will rotate at the end of the turn. For this purpose I have used events; I have two scripts, one which advances the turn:</p>\n\n<pre><code>public delegate void Time(int t);\npublic static event Time Time_Change;\npublic int t = 1;\n\nvoid Update()\n{\n    if (Input.GetKeyDown(KeyCode.Return))\n    {\n        t = t + 1;\n        if (t &gt; 8) { t = 1; }\n        Debug.Log(t);\n        if (Time_Change != null)\n        {\n            Time_Change(t);\n        }\n    }\n</code></pre>\n\n<p>(There are eight day/night Phases) and one that receives the signal and moves the light it is attached to:</p>\n\n<pre><code>public int angle = 85;\n\nvoid Start () {\n    Time_Controller.Time_Change += Move_Lights;\n}\n\n\nvoid Move_Lights(int t)\n{\n\n//phase detection, set angle variable\n\nif (t % 2 == 0)\n    {    \n        //----------------------------------------       \n        while (transform.eulerAngles.x != angle)\n        {\n            transform.Rotate(Vector3.right * Time.deltaTime, Space.World);\n        }\n        //----------------------------------------\n    }\n}\n</code></pre>\n\n<p>The problem is that when I run the game and press enter, Everything freezes and the only way to close Unity is through task manager (which also shows a spike in Unity's CPU usage while the game is frozen). I have, by process of elimination, (everything works fine without it) tracked the faulty line down to be</p>\n\n<pre><code>while (transform.eulerAngles.x != angle)\n{\n    transform.Rotate(Vector3.right * Time.deltaTime, Space.World);\n}\n</code></pre>\n\n<p>as marked out above. What do I do? I've tried various ways of rotating the light source, but anything is yet to even prevent a crash.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm", "datatemplate"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522259108, "post_id": 49540960, "comment_id": 86089264, "body": "A suggestion : Why not create own userControl ?"}, {"owner": {"reputation": 177, "user_id": 730656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a35a8023593a49a4ca508b9fddaa1f8b?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/730656/vinay"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522259336, "post_id": 49540960, "comment_id": 86089401, "body": "I am stuck here, can you suggest me a way to do that, which can achieve my requirement."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522259395, "post_id": 49540960, "comment_id": 86089440, "body": "Add an image of what you want so that i can customize the template per urrequirement"}, {"owner": {"reputation": 177, "user_id": 730656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a35a8023593a49a4ca508b9fddaa1f8b?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/730656/vinay"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522259734, "post_id": 49540960, "comment_id": 86089630, "body": "I have added the image to the ticket, which i am trying to achieve."}], "answers": [{"comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522260772, "post_id": 49541217, "comment_id": 86090221, "body": "nvm but why does it look so incomplete ?"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522260808, "post_id": 49541217, "comment_id": 86090252, "body": "and i don&#39;t see any databinding ? How will he even set the headers ?"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522262587, "post_id": 49541217, "comment_id": 86091273, "body": "I added a bit about the bindings. I don&#39;t know that this is really intended to be generic. Maybe the headings are fixed and don&#39;t need to be bound at all. Not sure what you mean about incomplete. I don&#39;t know enough about what he wants to write the full thing."}, {"owner": {"reputation": 177, "user_id": 730656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a35a8023593a49a4ca508b9fddaa1f8b?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/730656/vinay"}, "edited": false, "score": 0, "creation_date": 1522262655, "post_id": 49541217, "comment_id": 86091319, "body": "I tried what Andy suggested in a different solution, but i am facing trouble getting the headers and datacolumn getting synced. I have updated the ticket with the implementation what Andy provided. COuld you plz help me in syncying the headers and its corresponding columns."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1522263102, "post_id": 49541217, "comment_id": 86091604, "body": "You have the SharedSizeGroups set but the parent of everything needs to set Grid.IsSharedSizeScope=&quot;True&quot;.  This can be tricky to get right but you want that on the parent of both grids like in that article."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1522263207, "post_id": 49541217, "comment_id": 86091663, "body": "And it&#39;ll need to be INSIDE the popup. That will have a separate namescope, I think."}, {"owner": {"reputation": 177, "user_id": 730656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a35a8023593a49a4ca508b9fddaa1f8b?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/730656/vinay"}, "edited": false, "score": 0, "creation_date": 1522263341, "post_id": 49541217, "comment_id": 86091747, "body": "It would be of great help if could provide a sample code or link where combobox with multicolumn headers is achieved. I am stuck with this for about 4 days now."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 1, "creation_date": 1522264854, "post_id": 49541217, "comment_id": 86092547, "body": "I&#39;ve uploaded a sample, link is in my post above. This is rather quick and dirty but the columns sort of line up with headers."}, {"owner": {"reputation": 177, "user_id": 730656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a35a8023593a49a4ca508b9fddaa1f8b?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/730656/vinay"}, "edited": false, "score": 0, "creation_date": 1522270037, "post_id": 49541217, "comment_id": 86095446, "body": "Thank you for your valudable feed back, i am working on those. Meanwhile i tried one solution which is uploaded in the google drive link in my question above. I am unable to get the combobox to display in the view after extending it. Would you be able to suggest anything for the same."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 1, "creation_date": 1522333079, "post_id": 49541217, "comment_id": 86124574, "body": "The way a combo works, the thing marked &quot;IsItemsHost&quot; gets all the items. If you put something like a datagrid in that popup then that mechanism isn&#39;t going to work. You would need to write some sort of custom control or a usercontrol with textbox and popup. If you fancy that route then you could take a look at this <a href=\"https://gallery.technet.microsoft.com/WPF-Multi-Select-Combo-d4b02a34\" rel=\"nofollow noreferrer\">gallery.technet.microsoft.com/WPF-Multi-Select-Combo-d4b02a3&zwnj;&#8203;4</a>"}], "tags": [], "owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "is_accepted": true, "score": 0, "last_activity_date": 1522264738, "last_edit_date": 1522264738, "creation_date": 1522259910, "answer_id": 49541217, "question_id": 49540960, "link": "https://stackoverflow.com/questions/49540960/wpf-multicolumn-combox-with-headers/49541217#49541217", "title": "WPF Multicolumn combox with Headers", "body": "<p>If I follow your question.\nWhen you drop down your combox, you want to see something like a listview.</p>\n\n<p>If you take a look at the combobox template the bit you're interested in looks like:</p>\n\n<pre><code>      &lt;Popup \n        Name=\"Popup\"\n        Placement=\"Bottom\"\n        IsOpen=\"{TemplateBinding IsDropDownOpen}\"\n        AllowsTransparency=\"True\" \n        Focusable=\"False\"\n        PopupAnimation=\"Slide\"&gt;\n        &lt;Grid \n          Name=\"DropDown\"\n          SnapsToDevicePixels=\"True\"                \n          MinWidth=\"{TemplateBinding ActualWidth}\"\n          MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"&gt;\n          &lt;Border \n            x:Name=\"DropDownBorder\"\n            Background=\"{StaticResource WindowBackgroundBrush}\"\n            BorderThickness=\"1\"\n            BorderBrush=\"{StaticResource SolidBorderBrush}\"/&gt;\n          &lt;ScrollViewer Margin=\"4,6,4,6\" SnapsToDevicePixels=\"True\"&gt;\n            &lt;StackPanel IsItemsHost=\"True\" KeyboardNavigation.DirectionalNavigation=\"Contained\" /&gt;\n          &lt;/ScrollViewer&gt;\n        &lt;/Grid&gt;\n      &lt;/Popup&gt;\n</code></pre>\n\n<p>That popup is the thing appears when you click the combo to drop it down.\nNotice that stackpanel with IsItemsHost=true.\nThat will host your items, which you can template with that datatemplate.\nYou also need something above them for the header.\nUse a Grid and put it in the template above that scrollviewer. You will also need rowdefinitions on that existing grid so it gets some space.\nDefine columns and stick Labels or Borders with your headings in them in those columns.\nNext problem you will have is getting the columns to line up.\nYou can do that by using shared size scope. As explained here:\n<a href=\"https://wpf.2000things.com/tag/sharedsizegroup/\" rel=\"nofollow noreferrer\">https://wpf.2000things.com/tag/sharedsizegroup/</a></p>\n\n<p>A popup is not in the same datacontext as the combo so you'd also need some way to set the headings. Assuming you really wanted to bind them. Simplest would be to set the datacontext of their grid using placementtarget.\nroughly</p>\n\n<pre><code>DataContext=\"{Binding PlacementTarget.DataContext, RelativeSource={RelativeSource AncestorType=PopUp}\"\n</code></pre>\n\n<p>(That bit is air code.)</p>\n\n<p>This is a quick and dirty implementation, still needs a bit of work:\n<a href=\"https://1drv.ms/u/s!AmPvL3r385QhgpgPutGprfx5CBUFBw\" rel=\"nofollow noreferrer\">https://1drv.ms/u/s!AmPvL3r385QhgpgPutGprfx5CBUFBw</a></p>\n\n<p>The items are indented, so it still needs a bit of work to shift them left AND you probably want a bit of a gap between the columns.</p>\n"}], "owner": {"reputation": 177, "user_id": 730656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a35a8023593a49a4ca508b9fddaa1f8b?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/730656/vinay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 49541217, "answer_count": 1, "score": 0, "last_activity_date": 1522270153, "creation_date": 1522258971, "last_edit_date": 1522270153, "question_id": 49540960, "link": "https://stackoverflow.com/questions/49540960/wpf-multicolumn-combox-with-headers", "title": "WPF Multicolumn combox with Headers", "body": "<p>I am trying to implement multi column combobox with header and contains search functionality.\nI was able to achieve contains search filtering by extending the combobox control.\nBut i am unable to achieve Multi column display with Headers.\nI have gone through most of the googled articles, but was of no help,</p>\n\n<p>Below is my xaml of extended combobox control,</p>\n\n<pre><code>&lt;wpf:FilteredComboBox DisplayMemberPath=\"Description\"\n                                        IsEditable=\"True\"\n                                        IsTextSearchEnabled=\"False\"\n                                        ItemTemplate=\"{StaticResource SearchGridTemplate}\"\n                                        ItemsSource=\"{Binding DataContext.MaterialsList,\n                                                              RelativeSource={RelativeSource Mode=FindAncestor,\n                                                                                             AncestorType={x:Type UserControl}}}\"\n                                        StaysOpenOnEdit=\"True\"&gt;\n\n                                        &lt;wpf:FilteredComboBox.ItemsPanel&gt;\n                                            &lt;ItemsPanelTemplate&gt;\n                                                &lt;VirtualizingStackPanel VirtualizationMode=\"Recycling\" /&gt;\n                                            &lt;/ItemsPanelTemplate&gt;\n                                        &lt;/wpf:FilteredComboBox.ItemsPanel&gt;\n                                    &lt;/wpf:FilteredComboBox&gt;\n</code></pre>\n\n<p>Below is the data template which is applied to ItemTemplate property of FilteredComboboxControl, I need to modify this template such that the data are displayed in columns with headers.</p>\n\n<pre><code>&lt;DataTemplate x:Key=\"SearchGridTemplate\"&gt;\n            &lt;Border\n                Margin=\"2\"\n                BorderBrush=\"Gray\"\n                BorderThickness=\"1\"&gt;\n                &lt;Grid MinWidth=\"200\"&gt;\n                    &lt;Grid.ColumnDefinitions&gt;\n                        &lt;ColumnDefinition Width=\"Auto\" /&gt;\n                        &lt;ColumnDefinition Width=\"Auto\" /&gt;\n                        &lt;ColumnDefinition Width=\"300\" /&gt;\n                    &lt;/Grid.ColumnDefinitions&gt;\n                    &lt;Grid.RowDefinitions&gt;\n                        &lt;RowDefinition /&gt;\n                        &lt;RowDefinition /&gt;\n                        &lt;RowDefinition /&gt;\n                    &lt;/Grid.RowDefinitions&gt;\n                    &lt;TextBlock\n                        Grid.Row=\"0\"\n                        Grid.Column=\"0\"\n                        Margin=\"5\"\n                        FontWeight=\"Bold\"\n                        Text=\"Part Number\" /&gt;\n                    &lt;TextBlock\n                        Grid.Row=\"0\"\n                        Grid.Column=\"1\"\n                        Margin=\"0,5,0,0\"\n                        FontWeight=\"Bold\"\n                        Text=\":\" /&gt;\n                    &lt;TextBlock\n                        Grid.Row=\"0\"\n                        Grid.Column=\"2\"\n                        Margin=\"5\"\n                        Text=\"{Binding PartNumber}\"\n                        TextTrimming=\"WordEllipsis\"\n                        ToolTip=\"{Binding Text,\n                                          RelativeSource={RelativeSource Self}}\" /&gt;\n                    &lt;Border\n                        Grid.Row=\"1\"\n                        Grid.Column=\"0\"\n                        Grid.ColumnSpan=\"3\"\n                        BorderBrush=\"Gray\"\n                        BorderThickness=\"0.5\" /&gt;\n                    &lt;TextBlock\n                        Grid.Row=\"2\"\n                        Grid.Column=\"0\"\n                        Margin=\"5\"\n                        FontWeight=\"Bold\"\n                        Text=\"Material Name\" /&gt;\n                    &lt;TextBlock\n                        Grid.Row=\"2\"\n                        Grid.Column=\"1\"\n                        Margin=\"0,5,0,0\"\n                        FontWeight=\"Bold\"\n                        Text=\":\" /&gt;\n                    &lt;TextBlock\n                        Grid.Row=\"2\"\n                        Grid.Column=\"2\"\n                        Margin=\"5\"\n                        Text=\"{Binding Description}\"\n                        TextTrimming=\"WordEllipsis\"\n                        ToolTip=\"{Binding Text,\n                                          RelativeSource={RelativeSource Self}}\" /&gt;\n                &lt;/Grid&gt;\n            &lt;/Border&gt;\n        &lt;/DataTemplate&gt;\n</code></pre>\n\n<p>I need to achieve something like this,\n<a href=\"https://i.stack.imgur.com/SPjMJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SPjMJ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>By using Popup Template :</strong> I am able to get the header and corresponding data. But if the value is large the headers are not syncying properly,</p>\n\n<pre><code>&lt;UserControl\nx:Class=\"MultiColumnSearchComboBox.MultiColumnSearchView\"\nxmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\nxmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\nxmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\nxmlns:local=\"clr-namespace:MultiColumnSearchComboBox\"\nxmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\nx:Name=\"ucAdvCombo\"\nd:DesignHeight=\"80\"\nd:DesignWidth=\"600\"\nmc:Ignorable=\"d\"&gt;\n&lt;UserControl.Resources&gt;\n    &lt;!--  Toggle Button Template  --&gt;\n    &lt;ControlTemplate x:Key=\"ComboBoxToggleButton\" TargetType=\"ToggleButton\"&gt;\n        &lt;Grid x:Name=\"gd\"&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition /&gt;\n                &lt;ColumnDefinition Width=\"30\" /&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n            &lt;Border\n                x:Name=\"Border\"\n                Grid.ColumnSpan=\"2\"\n                Background=\"White\"\n                BorderBrush=\"LightGray\"\n                BorderThickness=\"1\"\n                SnapsToDevicePixels=\"True\" /&gt;\n            &lt;Border\n                x:Name=\"Boredr1\"\n                Grid.Column=\"0\"\n                Margin=\"1\"\n                Background=\"White\"\n                BorderBrush=\"LightGray\"\n                BorderThickness=\"0,0,1,0\"\n                SnapsToDevicePixels=\"True\" /&gt;\n            &lt;Path\n                x:Name=\"Arrow\"\n                Grid.Column=\"1\"\n                HorizontalAlignment=\"Center\"\n                VerticalAlignment=\"Center\"\n                Data=\"M 0 0 L 6 6 L 12 0 Z\"\n                Fill=\"Black\"\n                SnapsToDevicePixels=\"True\" /&gt;\n            &lt;ContentPresenter Grid.Column=\"0\" TextElement.Foreground=\"Orange\" /&gt;\n        &lt;/Grid&gt;\n        &lt;ControlTemplate.Triggers&gt;\n            &lt;Trigger Property=\"ToggleButton.IsMouseOver\" Value=\"True\"&gt;\n                &lt;Setter TargetName=\"Border\" Property=\"BorderBrush\" Value=\"Black\" /&gt;\n                &lt;Setter TargetName=\"Boredr1\" Property=\"BorderBrush\" Value=\"Black\" /&gt;\n            &lt;/Trigger&gt;\n            &lt;Trigger Property=\"ToggleButton.IsChecked\" Value=\"True\"&gt;\n                &lt;Setter TargetName=\"Arrow\" Property=\"Data\" Value=\"M 0 0 L 5 5 L 10 0\" /&gt;\n                &lt;Setter TargetName=\"Arrow\" Property=\"Fill\" Value=\"White\" /&gt;\n                &lt;Setter TargetName=\"Arrow\" Property=\"Stroke\" Value=\"Black\" /&gt;\n                &lt;Setter TargetName=\"Arrow\" Property=\"StrokeThickness\" Value=\"1.5\" /&gt;\n            &lt;/Trigger&gt;\n            &lt;Trigger Property=\"IsEnabled\" Value=\"False\"&gt;\n                &lt;Setter TargetName=\"gd\" Property=\"Visibility\" Value=\"Visible\" /&gt;\n            &lt;/Trigger&gt;\n        &lt;/ControlTemplate.Triggers&gt;\n    &lt;/ControlTemplate&gt;\n\n    &lt;!--  TextBox Template  --&gt;\n    &lt;ControlTemplate x:Key=\"ComboBoxTextBox\" TargetType=\"TextBox\"&gt;\n        &lt;ScrollViewer x:Name=\"PART_ContentHost\" Focusable=\"False\" /&gt;\n    &lt;/ControlTemplate&gt;\n\n    &lt;!--  Style with Scroll Bar  --&gt;\n    &lt;Style x:Key=\"EditableComboBoxStyle\" TargetType=\"ComboBox\"&gt;\n        &lt;Setter Property=\"SnapsToDevicePixels\" Value=\"true\" /&gt;\n        &lt;Setter Property=\"OverridesDefaultStyle\" Value=\"true\" /&gt;\n        &lt;Setter Property=\"ScrollViewer.HorizontalScrollBarVisibility\" Value=\"Auto\" /&gt;\n        &lt;Setter Property=\"ScrollViewer.VerticalScrollBarVisibility\" Value=\"Auto\" /&gt;\n        &lt;Setter Property=\"ScrollViewer.CanContentScroll\" Value=\"true\" /&gt;\n        &lt;Setter Property=\"Height\" Value=\"40\" /&gt;\n        &lt;Setter Property=\"MinWidth\" Value=\"120\" /&gt;\n        &lt;Setter Property=\"MinHeight\" Value=\"20\" /&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"ComboBox\"&gt;\n                    &lt;Grid&gt;\n                        &lt;ToggleButton\n                            Name=\"ToggleButton\"\n                            ClickMode=\"Press\"\n                            Focusable=\"false\"\n                            Foreground=\"Black\"\n                            IsChecked=\"{Binding Path=IsDropDownOpen,\n                                                Mode=TwoWay,\n                                                RelativeSource={RelativeSource TemplatedParent}}\"\n                            Template=\"{StaticResource ComboBoxToggleButton}\" /&gt;\n                        &lt;ContentPresenter\n                            Name=\"ContentSite\"\n                            Margin=\"3,3,23,3\"\n                            HorizontalAlignment=\"Left\"\n                            VerticalAlignment=\"Center\"\n                            Content=\"{TemplateBinding SelectionBoxItem}\"\n                            ContentTemplate=\"{TemplateBinding SelectionBoxItemTemplate}\"\n                            ContentTemplateSelector=\"{TemplateBinding ItemTemplateSelector}\"\n                            IsHitTestVisible=\"False\" /&gt;\n                        &lt;TextBox\n                            x:Name=\"PART_EditableTextBox\"\n                            Margin=\"0,0,30,0\"\n                            HorizontalAlignment=\"Left\"\n                            VerticalAlignment=\"Center\"\n                            CaretBrush=\"Black\"\n                            Focusable=\"True\"\n                            FontFamily=\"B Koodak\"\n                            FontSize=\"15\"\n                            Foreground=\"Black\"\n                            IsReadOnly=\"{TemplateBinding IsReadOnly}\"\n                            OverridesDefaultStyle=\"True\"\n                            SelectionBrush=\"Gray\"\n                            Style=\"{x:Null}\"\n                            Template=\"{StaticResource ComboBoxTextBox}\"\n                            TextWrapping=\"NoWrap\"\n                            Visibility=\"Hidden\" /&gt;\n                        &lt;Popup\n                            Name=\"Popup\"\n                            Grid.ColumnSpan=\"2\"\n                            AllowsTransparency=\"True\"\n                            Focusable=\"False\"\n                            IsOpen=\"{TemplateBinding IsDropDownOpen}\"\n                            Placement=\"Bottom\"\n                            PopupAnimation=\"Fade\"&gt;\n                            &lt;Grid\n                                MinWidth=\"{TemplateBinding ActualWidth}\"\n                                MaxWidth=\"{TemplateBinding ActualWidth}\"\n                                MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"\n                                SnapsToDevicePixels=\"True\"&gt;\n                                &lt;Grid.ColumnDefinitions&gt;\n                                    &lt;ColumnDefinition SharedSizeGroup=\"A\" /&gt;\n                                    &lt;ColumnDefinition Width=\"5\" /&gt;\n                                    &lt;ColumnDefinition SharedSizeGroup=\"B\" /&gt;\n                                &lt;/Grid.ColumnDefinitions&gt;\n                                &lt;Grid\n                                    Grid.Row=\"0\"\n                                    Grid.Column=\"0\"\n                                    Background=\"#C8E6E6\"&gt;\n                                    &lt;TextBlock\n                                        Height=\"30\"\n                                        Padding=\"5\"\n                                        HorizontalAlignment=\"Center\"\n                                        VerticalAlignment=\"Top\"\n                                        FontFamily=\"Arial\"\n                                        FontSize=\"14\"\n                                        FontWeight=\"Bold\"\n                                        Foreground=\"Black\"\n                                        Text=\"{Binding DataContext.ColumnNames[0],\n                                                       RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}\" /&gt;\n                                &lt;/Grid&gt;\n                                &lt;Border\n                                    x:Name=\"DropDownBorder\"\n                                    Grid.RowSpan=\"2\"\n                                    Grid.ColumnSpan=\"4\"\n                                    MaxWidth=\"{TemplateBinding ActualWidth}\"\n                                    Background=\"Transparent\"\n                                    BorderBrush=\"LightGray\"\n                                    BorderThickness=\"1\"\n                                    SnapsToDevicePixels=\"True\" /&gt;\n                                &lt;Grid\n                                    Grid.Row=\"0\"\n                                    Grid.Column=\"2\"\n                                    Background=\"#C8E6E6\"&gt;\n                                    &lt;TextBlock\n                                        Padding=\"5\"\n                                        HorizontalAlignment=\"Center\"\n                                        VerticalAlignment=\"Top\"\n                                        FontFamily=\"Arial\"\n                                        FontSize=\"14\"\n                                        FontWeight=\"Bold\"\n                                        Foreground=\"Black\"\n                                        Text=\"{Binding DataContext.ColumnNames[1],\n                                                       RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}\" /&gt;\n                                &lt;/Grid&gt;\n                                &lt;ScrollViewer\n                                    Grid.ColumnSpan=\"3\"\n                                    Margin=\"0,30,0,0\"\n                                    ScrollViewer.CanContentScroll=\"False\"\n                                    SnapsToDevicePixels=\"True\"&gt;\n                                    &lt;StackPanel Background=\"Transparent\" IsItemsHost=\"True\" /&gt;\n                                &lt;/ScrollViewer&gt;\n                            &lt;/Grid&gt;\n                        &lt;/Popup&gt;\n                    &lt;/Grid&gt;\n                    &lt;ControlTemplate.Triggers&gt;\n                        &lt;Trigger Property=\"IsEditable\" Value=\"true\"&gt;\n                            &lt;Setter Property=\"IsTabStop\" Value=\"false\" /&gt;\n                            &lt;Setter TargetName=\"PART_EditableTextBox\" Property=\"Background\" Value=\"White\" /&gt;\n                            &lt;Setter TargetName=\"PART_EditableTextBox\" Property=\"Visibility\" Value=\"Visible\" /&gt;\n                            &lt;Setter TargetName=\"PART_EditableTextBox\" Property=\"Foreground\" Value=\"Black\" /&gt;\n                            &lt;Setter TargetName=\"ContentSite\" Property=\"Visibility\" Value=\"Hidden\" /&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger Property=\"HasItems\" Value=\"false\"&gt;\n                            &lt;!--&lt;Setter TargetName=\"DropDownBorder\" Property=\"MinHeight\" Value=\"95\" /&gt;--&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n                            &lt;Setter Property=\"IsTabStop\" Value=\"false\" /&gt;\n                            &lt;Setter TargetName=\"PART_EditableTextBox\" Property=\"Visibility\" Value=\"Visible\" /&gt;\n                            &lt;Setter TargetName=\"PART_EditableTextBox\" Property=\"Foreground\" Value=\"Black\" /&gt;\n                            &lt;Setter TargetName=\"PART_EditableTextBox\" Property=\"IsEnabled\" Value=\"False\" /&gt;\n                            &lt;Setter TargetName=\"PART_EditableTextBox\" Property=\"Background\" Value=\"White\" /&gt;\n                            &lt;Setter TargetName=\"ContentSite\" Property=\"Visibility\" Value=\"Hidden\" /&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger Property=\"IsGrouping\" Value=\"true\"&gt;\n                            &lt;Setter Property=\"ScrollViewer.CanContentScroll\" Value=\"false\" /&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger SourceName=\"Popup\" Property=\"Popup.AllowsTransparency\" Value=\"true\"&gt;\n                            &lt;!--&lt;Setter TargetName=\"DropDownBorder\" Property=\"Margin\" Value=\"0,2,0,0\" /&gt;--&gt;\n                        &lt;/Trigger&gt;\n                    &lt;/ControlTemplate.Triggers&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n\n    &lt;!--  combobox item style  --&gt;\n    &lt;Style x:Key=\"Column_CmbItem\" TargetType=\"ComboBoxItem\"&gt;\n        &lt;Setter Property=\"SnapsToDevicePixels\" Value=\"True\" /&gt;\n        &lt;Setter Property=\"OverridesDefaultStyle\" Value=\"True\" /&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"ComboBoxItem\"&gt;\n                    &lt;Grid\n                        x:Name=\"Border\"\n                        Margin=\"1,0,1,1\"\n                        Background=\"White\"&gt;\n                        &lt;ContentPresenter /&gt;\n                    &lt;/Grid&gt;\n                    &lt;ControlTemplate.Triggers&gt;\n                        &lt;Trigger Property=\"ComboBoxItem.IsSelected\" Value=\"True\"&gt;\n                            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"Gray\" /&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger Property=\"ComboBoxItem.IsMouseOver\" Value=\"True\"&gt;\n                            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"LightBlue\" /&gt;\n                        &lt;/Trigger&gt;\n                    &lt;/ControlTemplate.Triggers&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n&lt;/UserControl.Resources&gt;\n&lt;Grid&gt;\n    &lt;ComboBox\n        x:Name=\"Combobox\"\n        Width=\"550\"\n        Height=\"25\"\n        HorizontalAlignment=\"Left\"\n        local:ComboBoxItemsSourceDecorator.ItemsSource=\"{Binding Path=ItemsCollectionView,\n                                                                 ValidatesOnDataErrors=True,\n                                                                 UpdateSourceTrigger=PropertyChanged,\n                                                                 Mode=OneWay}\"\n        IsEditable=\"True\"\n        IsTextSearchCaseSensitive=\"False\"\n        IsTextSearchEnabled=\"True\"\n        ItemContainerStyle=\"{StaticResource Column_CmbItem}\"\n        SelectedValue=\"{Binding SelectedItem}\"\n        StaysOpenOnEdit=\"True\"\n        Style=\"{StaticResource EditableComboBoxStyle}\"\n        Text=\"{Binding FilterCriteria}\"\n        TextSearch.TextPath=\"FirstColumn\"&gt;\n        &lt;ComboBox.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Grid\n                    x:Name=\"multiColumnComboBox\"\n                    Background=\"Transparent\"\n                    SnapsToDevicePixels=\"True\"&gt;\n                    &lt;Grid.ColumnDefinitions&gt;\n                        &lt;ColumnDefinition SharedSizeGroup=\"A\" /&gt;\n                        &lt;ColumnDefinition Width=\"20\" /&gt;\n                        &lt;ColumnDefinition SharedSizeGroup=\"B\" /&gt;\n                    &lt;/Grid.ColumnDefinitions&gt;\n                    &lt;TextBlock\n                        Grid.Column=\"0\"\n                        HorizontalAlignment=\"Left\"\n                        VerticalAlignment=\"Center\"\n                        FontSize=\"14\"\n                        Foreground=\"Black\"\n                        Text=\"{Binding FirstColumn}\"\n                        TextTrimming=\"CharacterEllipsis\" /&gt;\n                    &lt;TextBlock\n                        Grid.Column=\"2\"\n                        HorizontalAlignment=\"Left\"\n                        VerticalAlignment=\"Center\"\n                        FontSize=\"14\"\n                        Foreground=\"Black\"\n                        Text=\"{Binding SecondColumn}\" /&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ComboBox.ItemTemplate&gt;\n    &lt;/ComboBox&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>The result of above user control is shown below, Here we can see the first row second column data is moving towards column 1.\n<a href=\"https://i.stack.imgur.com/zEbUK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zEbUK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below is the link where i have sample project of DataGrid inside Combobox, But i am unable to get the combobox displayed in the view,\n<a href=\"https://drive.google.com/file/d/1WVMEJk5pwQt8zGghqN_M2phgw9OGH6Qj/view?usp=sharing\" rel=\"nofollow noreferrer\">Extended Datagrid Inside Combobox</a></p>\n"}, {"tags": ["c#", "asp.net", ".net", "rest", "asp.net-web-api"], "comments": [{"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1522260606, "post_id": 49540914, "comment_id": 86090119, "body": "You might want to look at <a href=\"http://docs.identityserver.io/en/release/\" rel=\"nofollow noreferrer\">Identity Server 4</a>."}, {"owner": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1522271361, "post_id": 49540914, "comment_id": 86096131, "body": "@Win But does not this only work in .NET Core? I am using the .NET Full Framework."}], "owner": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522258795, "creation_date": 1522258795, "question_id": 49540914, "link": "https://stackoverflow.com/questions/49540914/validate-user-token-of-multiple-applications-in-a-single-oauth2-based-authentica", "title": "Validate user token of multiple applications in a single OAuth2-based authentication WebAPI", "body": "<p>I am in the following scenario:</p>\n\n<p>I developed an API that only serves for authentication and authorization of the company's users, which I am calling SecurityAPI. All services work as expected and the API is based on OAuth2.</p>\n\n<p>In the company I have several applications and each application has its API with specific business rules.</p>\n\n<p>Considering the situation where, for example, I log in by making a request to the SecurityAPI that returns me the generated Token and the same one being saved in the session, then I want to make a request of a SPA application in angular for the API with business rules application. How could I send the Token information to the security API to authenticate and / or authorize the requesting user according to the generated Token?</p>\n"}, {"tags": ["c#", "sql-server", "type-conversion"], "comments": [{"owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 0, "creation_date": 1522258808, "post_id": 49540896, "comment_id": 86089098, "body": "What&#39;s the value of <code>txbValorFiltro.Text</code> and what&#39;s the decimal separator in your Operative System?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1522258869, "post_id": 49540896, "comment_id": 86089137, "body": "Did you check to make sure all the values can actually be converted to numeric? Seems like the most obvious step to do. And don&#39;t store numeric values in the database as non-numeric."}, {"owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1522259229, "post_id": 49540896, "comment_id": 86089332, "body": "You need to remove the single quotes around the parameter name: <code>SELECT IdVendas AS &#39;Venda&#39; FROM tbVendas WHERE ValorTotalVendas = @valorTotal</code>. Otherwise, it sees it as the string instead of seeing it as a parameter name."}], "answers": [{"comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 1, "creation_date": 1522259305, "post_id": 49541034, "comment_id": 86089383, "body": "It would be better if you explain this :)"}, {"owner": {"reputation": 781, "user_id": 2404084, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wn2FG.jpg?s=128&g=1", "display_name": "Aay Que", "link": "https://stackoverflow.com/users/2404084/aay-que"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522259431, "post_id": 49541034, "comment_id": 86089467, "body": "@zackraiyan just explained."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522262023, "post_id": 49541034, "comment_id": 86090970, "body": "Sorry but not much of an explanation ... But i appreciate you posted an answer...You can take a look at mine if u want :) .. We&#39;re all here to help each other right ?:)"}, {"owner": {"reputation": 781, "user_id": 2404084, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wn2FG.jpg?s=128&g=1", "display_name": "Aay Que", "link": "https://stackoverflow.com/users/2404084/aay-que"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522262360, "post_id": 49541034, "comment_id": 86091145, "body": "@zackraiyan when the issue is identified, you can definitely explain it. we have answered the question wat too long before you started :)"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522262419, "post_id": 49541034, "comment_id": 86091179, "body": ",i don&#39;t mean to hurt u man :( ... I just pointed out so that u get a few more upvotes :("}, {"owner": {"reputation": 781, "user_id": 2404084, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wn2FG.jpg?s=128&g=1", "display_name": "Aay Que", "link": "https://stackoverflow.com/users/2404084/aay-que"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522262530, "post_id": 49541034, "comment_id": 86091236, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/167760/discussion-between-aay-que-and-zack-raiyan\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 781, "user_id": 2404084, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wn2FG.jpg?s=128&g=1", "display_name": "Aay Que", "link": "https://stackoverflow.com/users/2404084/aay-que"}, "is_accepted": false, "score": 0, "last_activity_date": 1522259356, "last_edit_date": 1522259356, "creation_date": 1522259224, "answer_id": 49541034, "question_id": 49540896, "link": "https://stackoverflow.com/questions/49540896/error-converting-datatype-varchar-to-numeric-in-sqldataadapter/49541034#49541034", "title": "Error converting datatype varchar to numeric in SqlDataAdapter", "body": "<p>try this</p>\n\n<pre><code>SELECT IdVendas AS 'Venda' FROM tbVendas WHERE ValorTotalVendas = @valorTotal\n</code></pre>\n\n<p>you are facing the error because of the <code>'@valorTotal'</code> , you will no more face this issue after changing it to <code>@valorTotal</code></p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 7601484, "user_type": "registered", "profile_image": "https://graph.facebook.com/1273054216124389/picture?type=large", "display_name": "Thiago Coelho", "link": "https://stackoverflow.com/users/7601484/thiago-coelho"}, "is_accepted": false, "score": 0, "last_activity_date": 1522259255, "creation_date": 1522259255, "answer_id": 49541042, "question_id": 49540896, "link": "https://stackoverflow.com/questions/49540896/error-converting-datatype-varchar-to-numeric-in-sqldataadapter/49541042#49541042", "title": "Error converting datatype varchar to numeric in SqlDataAdapter", "body": "<p>Rafael,</p>\n\n<p>You must remove the single quote of your query:</p>\n\n<pre><code>\"SELECT IdVendas AS 'Venda' FROM tbVendas WHERE ValorTotalVendas = @valorTotal\"\n</code></pre>\n\n<p>The SQL Server is interpreting '@valorTotal' as a VARCHAR instead of DECIMAL.</p>\n\n<p>Thanks.</p>\n"}, {"tags": [], "owner": {"reputation": 6890, "user_id": 1761307, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QQQps.jpg?s=128&g=1", "display_name": "Eray Balkanli", "link": "https://stackoverflow.com/users/1761307/eray-balkanli"}, "is_accepted": false, "score": 0, "last_activity_date": 1522259297, "creation_date": 1522259297, "answer_id": 49541054, "question_id": 49540896, "link": "https://stackoverflow.com/questions/49540896/error-converting-datatype-varchar-to-numeric-in-sqldataadapter/49541054#49541054", "title": "Error converting datatype varchar to numeric in SqlDataAdapter", "body": "<p>You can try to add a safe-mechanism like below to prevent potential bata-based future errors:</p>\n\n<pre><code>decimal amount;\nbool checkValue = Decimal.TryParse(txbValorFiltro.Text, out amount);\n\nif(checkValue)\n   comando.Parameters[\"@valorTotal\"].Value = amount;\nelse\n   comando.Parameters[\"@valorTotal\"].Value = -1; //or null, if field is nullable\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "is_accepted": false, "score": 1, "last_activity_date": 1522261676, "creation_date": 1522261676, "answer_id": 49541669, "question_id": 49540896, "link": "https://stackoverflow.com/questions/49540896/error-converting-datatype-varchar-to-numeric-in-sqldataadapter/49541669#49541669", "title": "Error converting datatype varchar to numeric in SqlDataAdapter", "body": "<p>Your select statement looks as follows :</p>\n\n<pre><code>SELECT IdVendas AS 'Venda' FROM tbVendas WHERE ValorTotalVendas = '@valorTotal'\n</code></pre>\n\n<p>Take a clear look at <code>'@valorTotal'</code>.In any sql statement, <code>''</code> is used to pass a value to any column or so.But when you use '@' , it means you are passing a parameter to the column/cell so that you can use it in future for multiple operations.</p>\n\n<p>So the basic problem is,you want to pass a parameter but you are passing it as a value instead.So,either you pass a value or a parameter :</p>\n\n<pre><code>  SELECT IdVendas AS 'Venda' FROM tbVendas WHERE ValorTotalVendas = 'YourValueHere'\n\n ///Or\n\n SELECT IdVendas AS 'Venda' FROM tbVendas WHERE ValorTotalVendas = @parameterHere\n</code></pre>\n\n<p>Hope you understand.</p>\n"}], "owner": {"reputation": 11, "user_id": 9565570, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rafael Mazzetto", "link": "https://stackoverflow.com/users/9565570/rafael-mazzetto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1522265469, "creation_date": 1522258714, "last_edit_date": 1522265469, "question_id": 49540896, "link": "https://stackoverflow.com/questions/49540896/error-converting-datatype-varchar-to-numeric-in-sqldataadapter", "title": "Error converting datatype varchar to numeric in SqlDataAdapter", "body": "<p>I'm trying to retrieve an amount from SQL.</p>\n\n<p>I have a table <code>tbVendas</code> with a column <code>ValorTotalVendas</code> of datatype <code>DECIMAL</code>.</p>\n\n<p>I have the following select query </p>\n\n<pre><code>SELECT IdVendas AS 'Venda' \nFROM tbVendas \nWHERE ValorTotalVendas = '@valorTotal'\n</code></pre>\n\n<p>And below my command </p>\n\n<pre><code>SqlCommand comando = new SqlCommand(strSql, conn);\ncomando.Parameters.Add(\"@valorTotal\", SqlDbType.Decimal);\ncomando.Parameters[\"@valorTotal\"].Value = Convert.ToDecimal(txbValorFiltro.Text);\n\nDataTable vendas = new DataTable();\n\nconn.Open();\n\nSqlDataAdapter sqdDA = new SqlDataAdapter(strSql, conn);\nsqdDA.Fill(vendas);\n</code></pre>\n\n<p>But I get this error:</p>\n\n<blockquote>\n  <p>Error converting datatype varchar to numeric</p>\n</blockquote>\n\n<p>Can anyone please help me?</p>\n"}, {"tags": ["c#", "xml", "xml-deserialization"], "answers": [{"tags": [], "owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "is_accepted": true, "score": 1, "last_activity_date": 1522259891, "creation_date": 1522259891, "answer_id": 49541212, "question_id": 49540870, "link": "https://stackoverflow.com/questions/49540870/deserialize-xml-to-listt-with-custom-elementname/49541212#49541212", "title": "Deserialize xml to List&lt;T&gt; with custom elementName", "body": "<p>Change the attribute for the <code>child</code> elements to <code>XMLType</code></p>\n\n<pre><code>[XmlType(\"child\")]\npublic class Status\n</code></pre>\n\n<p>Xml has only one root, but multiple types.</p>\n"}], "owner": {"reputation": 29, "user_id": 3896018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1750da74846d1c61838a026f6e91f6c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas B", "link": "https://stackoverflow.com/users/3896018/jonas-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 49541212, "answer_count": 1, "score": 1, "last_activity_date": 1522259891, "creation_date": 1522258618, "question_id": 49540870, "link": "https://stackoverflow.com/questions/49540870/deserialize-xml-to-listt-with-custom-elementname", "title": "Deserialize xml to List&lt;T&gt; with custom elementName", "body": "<p>Today I am trying to deserialize some xml to an <code>List&lt;Status&gt;</code> were the XML elementname is completely different. The XML is, for example, as follows:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;child id=\"1\"&gt;Lorum&lt;/child&gt;\n    &lt;child id=\"2\"&gt;Ipsum&lt;/child&gt;\n    &lt;child id=\"3\"&gt;Dolor&lt;/child&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>To convert this into a <code>List&lt;T&gt;</code>, it is possible to create objects with the same name as the elements are. But that is in my case, unwanted.</p>\n\n<p>Below the code which I have copied from <a href=\"https://dotnetfiddle.net\" rel=\"nofollow noreferrer\">dotnetfiddle.net</a>:</p>\n\n<pre><code>using System;\nusing System.Xml;\nusing System.Xml.Serialization;\nusing System.Collections.Generic;\nusing System.IO;\n\n[XmlRoot(\"root\")]\npublic class Statuses : List&lt;Status&gt;\n{\n\n}\n\n[XmlRoot(\"child\")]\npublic class Status\n{\n    [XmlAttribute(\"id\")]\n    public int ID;\n\n    [XmlText]\n    public string Value;\n}\n\npublic static class Program\n{\n    private static string xml = \"&lt;root&gt;&lt;child id=\\\"1\\\"&gt;Lorum&lt;/child&gt;&lt;child id=\\\"2\\\"&gt;Ipsum&lt;/child&gt;&lt;child id=\\\"3\\\"&gt;Dolor&lt;/child&gt;&lt;/root&gt;\";\n\n    public static void Main()\n    {\n        using (StringReader sw = new StringReader(xml))\n        {\n            XmlSerializer serializer = new XmlSerializer(typeof(Statuses));\n            Statuses statuses = (Statuses)serializer.Deserialize(sw);\n\n            Console.WriteLine(statuses.Count);\n        }\n    }\n}\n</code></pre>\n\n<p>The question now is how to get the list filled easily.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1522258878, "post_id": 49540843, "comment_id": 86089146, "body": "I think your <code>UserService</code> needs to also accept a generic for <code>UserModel</code> to be passed."}, {"owner": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "reply_to_user": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1522258927, "post_id": 49540843, "comment_id": 86089165, "body": "@Tim: Can you give me a example?"}, {"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1522258997, "post_id": 49540843, "comment_id": 86089202, "body": "<code>public class UserService&lt;UserModel&gt; : IUserStore&lt;UserModel&gt;...</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15642, "user_id": 10639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c597b3072e5050deea4025b3deb7e740?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/10639/jason"}, "edited": false, "score": 0, "creation_date": 1522259289, "post_id": 49540952, "comment_id": 86089367, "body": "I&#39;m assuming that you control <code>IUserService</code>, if not you need to cast <code>_userService</code> to <code>IUserStore[UserModel]</code> to pass it into the function, which is ugly because it couples the implementation to the interface..  not all <code>IUserService</code> instances cam be cast like that"}, {"owner": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "edited": false, "score": 0, "creation_date": 1522259341, "post_id": 49540952, "comment_id": 86089406, "body": "When I try to add IUserStore[UserModel] to my interface, I only get the following: Array size cannot be specified in a variable declaration..."}, {"owner": {"reputation": 15642, "user_id": 10639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c597b3072e5050deea4025b3deb7e740?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/10639/jason"}, "reply_to_user": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "edited": false, "score": 0, "creation_date": 1522259396, "post_id": 49540952, "comment_id": 86089441, "body": "sorry, im used to scala, i think you want angle brackets for c# - updated"}, {"owner": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "edited": false, "score": 0, "creation_date": 1522259573, "post_id": 49540952, "comment_id": 86089544, "body": "Jason: Thank you for your answer. But where should I add public IUserStore&lt;UserModel&gt; asUserStore() = this;? In my factory class?"}, {"owner": {"reputation": 15642, "user_id": 10639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c597b3072e5050deea4025b3deb7e740?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/10639/jason"}, "reply_to_user": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "edited": false, "score": 0, "creation_date": 1522259878, "post_id": 49540952, "comment_id": 86089705, "body": "in the <code>UserService</code> class"}, {"owner": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "edited": false, "score": 0, "creation_date": 1522259978, "post_id": 49540952, "comment_id": 86089763, "body": "But what should that method return? :P"}, {"owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "edited": false, "score": 0, "creation_date": 1522260529, "post_id": 49540952, "comment_id": 86090089, "body": "In op&#39;s code, not all IUserService implementations will support IUserStore&lt;UserModel&gt; interface potentially. So this common method you proposed is not so common. A better solution is to implement IUserStore and other interfaces within IUserService interface, not within UserService class."}, {"owner": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "reply_to_user": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "edited": false, "score": 0, "creation_date": 1522261103, "post_id": 49540952, "comment_id": 86090431, "body": "@scor4er: Can you give me an example what you are thinking?"}, {"owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "edited": false, "score": 0, "creation_date": 1522261419, "post_id": 49540952, "comment_id": 86090600, "body": "Compare this two guys:  <code>public class UserService : IUserStore&lt;UserModel&gt;, IUserService</code>, <code>public class UserService2 : IUserService</code>. That&#39;s why you don&#39;t want to add AsUserStore() method to the IUserService interface. Because IUserService has nothing common with IUserStore currently."}, {"owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "edited": false, "score": 0, "creation_date": 1522261516, "post_id": 49540952, "comment_id": 86090663, "body": "But if you just move IUserStore&lt;UserModel&gt; implementation from UserService class to IUserService interface it will make your design cleaner. See my answer nearby."}], "tags": [], "owner": {"reputation": 15642, "user_id": 10639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c597b3072e5050deea4025b3deb7e740?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/10639/jason"}, "is_accepted": false, "score": -1, "last_activity_date": 1522260168, "last_edit_date": 1522260168, "creation_date": 1522258951, "answer_id": 49540952, "question_id": 49540843, "link": "https://stackoverflow.com/questions/49540843/create-a-usermanager-from-a-service/49540952#49540952", "title": "Create a usermanager from a Service", "body": "<p>add a method to <code>IUserService</code> that returns an <code>IUserStore&lt;UserModel&gt;</code></p>\n\n<pre><code>IUserStore&lt;UserModel&gt; asUserStore()\n</code></pre>\n\n<p>In your implementation, since the <code>IdentityService</code> implements <code>IUserStore&lt;UserModel&gt;</code> it can return itself</p>\n\n<pre><code>public IUserStore&lt;UserModel&gt; asUserStore() = {\n  return this;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "edited": false, "score": 0, "creation_date": 1522262412, "post_id": 49540996, "comment_id": 86091173, "body": "@score4er: Thank you buddy :)"}], "tags": [], "owner": {"reputation": 1354, "user_id": 984299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UYp2h.jpg?s=128&g=1", "display_name": "scor4er", "link": "https://stackoverflow.com/users/984299/scor4er"}, "is_accepted": true, "score": 0, "last_activity_date": 1522261704, "last_edit_date": 1522261704, "creation_date": 1522259052, "answer_id": 49540996, "question_id": 49540843, "link": "https://stackoverflow.com/questions/49540843/create-a-usermanager-from-a-service/49540996#49540996", "title": "Create a usermanager from a Service", "body": "<p>Just make interface <code>IUserService</code> implement an interface <code>IUserStore&lt;UserModel&gt;</code></p>\n\n<p>Something like this:</p>\n\n<pre><code>public class UserService : IUserService\n{\n    private readonly IUserRepository _userRepository;\n\n    public UserService(IUserRepository userRepository)\n    {\n        _userRepository = userRepository;\n    }\n    //create the user\n}\n\npublic interface IUserService : IUserStore&lt;UserModel&gt;, IUserLoginStore&lt;UserModel&gt;, IUserPasswordStore&lt;UserModel&gt;, IUserSecurityStampStore&lt;UserModel&gt;\n{\n   ...\n}\n</code></pre>\n\n<p>You could also make IUserService generic if you want.</p>\n"}], "owner": {"reputation": 2773, "user_id": 4444267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a7632f5a251040387049060315abe0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4444267/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 1, "accepted_answer_id": 49540996, "answer_count": 2, "score": 3, "last_activity_date": 1534076081, "creation_date": 1522258510, "last_edit_date": 1534076081, "question_id": 49540843, "link": "https://stackoverflow.com/questions/49540843/create-a-usermanager-from-a-service", "title": "Create a usermanager from a Service", "body": "<p>I have a UserService that looks like this:</p>\n\n<pre><code>public class UserService : IUserStore&lt;UserModel&gt;, IUserLoginStore&lt;UserModel&gt;, IUserPasswordStore&lt;UserModel&gt;, IUserSecurityStampStore&lt;UserModel&gt;, IUserService\n{\n    private readonly IUserRepository _userRepository;\n\n    public UserService(IUserRepository userRepository)\n    {\n        _userRepository = userRepository;\n    }\n    //create the user\n}\n</code></pre>\n\n<p>I want to create a usermanager from this service. I have created a class that I call IdentityStartup, and I looks like this:</p>\n\n<pre><code>public class IdentityStartup\n{\n    public static Func&lt;UserManager&lt;UserModel&gt;&gt; UserManagerFactory { get; private set; }\n    private readonly IUserService _userService;\n    //public static Func&lt;RoleManager&lt;Role&gt;&gt; RoleManagerFactory { get; private set; }\n\n    public IdentityStartup(IUserService userService)\n    {\n        _userService = userService;\n    }\n\n\n    public void Configuration(IAppBuilder app)\n    {\n        app.UseCookieAuthentication(new CookieAuthenticationOptions\n        {\n            AuthenticationType = \"ApplicationCookie\",\n            LoginPath = new PathString(\"/home/index\")\n        });\n\n        // configure the user manager\n        UserManagerFactory = () =&gt;\n        {\n            var usermanager = new UserManager&lt;UserModel&gt;(_userService);\n\n            // allow alphanumeric characters in username\n            usermanager.UserValidator = new UserValidator&lt;UserModel&gt;(new UserService())\n            {\n                AllowOnlyAlphanumericUserNames = false\n            };\n            return usermanager;\n        };\n\n    }\n}\n</code></pre>\n\n<p>As you can see, I'm trying to pass _userService as a parameter, but that don't work, because it don't work to convert from IUserService to Microsoft.AspNet.Identity.IUserStore</p>\n\n<p>I want to use my UserService as the UserStore.</p>\n"}, {"tags": ["c#", "azure", "azure-functions"], "comments": [{"owner": {"reputation": 937, "user_id": 3945848, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/27b5d8dcc6b3626fea53800a91b6977e?s=128&d=identicon&r=PG&f=1", "display_name": "M0rty", "link": "https://stackoverflow.com/users/3945848/m0rty"}, "edited": false, "score": 0, "creation_date": 1553143168, "post_id": 49540814, "comment_id": 97278464, "body": "Has anyone found the actual solution to this problem? I have the same issue where I&#39;m referencing a ASP.NET project and instead of looking for the .pubxml in the Functions project it looks for it in the ASP.NET project."}], "answers": [{"comments": [{"owner": {"reputation": 1882, "user_id": 2882307, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ec8370b53eef1b4e53bccdcdf605a282?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2882307/john-smith"}, "edited": false, "score": 2, "creation_date": 1522416182, "post_id": 49543136, "comment_id": 86157858, "body": "Yes. I gave up using Azure Functions. Nothing but problems. In the 2 days i have tried to use it I had 9 issues."}, {"owner": {"reputation": 3199, "user_id": 209555, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/07995ab10178efba6e51018f74fedc5b?s=128&d=identicon&r=PG", "display_name": "NicoJuicy", "link": "https://stackoverflow.com/users/209555/nicojuicy"}, "edited": false, "score": 0, "creation_date": 1557818910, "post_id": 49543136, "comment_id": 98882149, "body": "Publishing the Azure Function using the &quot;Azure Publish Wizard&quot; worked, instead of importing the profile from the Azure console.  It also used the publish settings of that source code folder, instead of c:/program files/.netstadard1.0/... ( i used netcoreapp2.1, which made it seem weird). It also uses zip deploy now, instead of &quot;Web Deploy&quot;"}], "tags": [], "owner": {"reputation": 564, "user_id": 1552172, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e10451a40468a834d5c33f7bc9a2f083?s=128&d=identicon&r=PG", "display_name": "user1552172", "link": "https://stackoverflow.com/users/1552172/user1552172"}, "is_accepted": false, "score": 1, "last_activity_date": 1522267079, "creation_date": 1522267079, "answer_id": 49543136, "question_id": 49540814, "link": "https://stackoverflow.com/questions/49540814/cant-publish-azure-function/49543136#49543136", "title": "Can&#39;t publish Azure Function", "body": "<p>It looks like the file for the web publish profile is missing, try running through the publish setup from the start and see if that fixes your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 2425, "user_id": 732673, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/44c8925e7622641fcbf73c0d0c23672b?s=128&d=identicon&r=PG", "display_name": "Josh Noe", "link": "https://stackoverflow.com/users/732673/josh-noe"}, "is_accepted": false, "score": 0, "last_activity_date": 1536852378, "creation_date": 1536852378, "answer_id": 52316979, "question_id": 49540814, "link": "https://stackoverflow.com/questions/49540814/cant-publish-azure-function/52316979#52316979", "title": "Can&#39;t publish Azure Function", "body": "<p>Workarounds:</p>\n\n<p>A. If there's already a <code>PublishProfiles</code> folder at the location stated in the error, remove or rename this folder.</p>\n\n<p>B. Move your Azure Job <code>.pubxml</code> and <code>.pubxml.user</code> files to the folder stated in the error.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 2190674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd603cdc3723fbbd069e3be2f35ecde3?s=128&d=identicon&r=PG", "display_name": "Alex Ayscough", "link": "https://stackoverflow.com/users/2190674/alex-ayscough"}, "is_accepted": false, "score": 0, "last_activity_date": 1557850419, "creation_date": 1557850419, "answer_id": 56134617, "question_id": 49540814, "link": "https://stackoverflow.com/questions/49540814/cant-publish-azure-function/56134617#56134617", "title": "Can&#39;t publish Azure Function", "body": "<p>Publishing Azure functions from Visual Studio seems very inconsistent. Some things which might help include:</p>\n\n<ol>\n<li>Creating a new function and moving over the existing code.</li>\n<li>Stopping the function in the Azure Portal.</li>\n<li>Make sure you click on Manage Application Settings</li>\n</ol>\n\n<p>Currently on Visual Studio Professional 2017. .Net Core 2.1 Function is using an Http Trigger. </p>\n"}], "owner": {"reputation": 1882, "user_id": 2882307, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ec8370b53eef1b4e53bccdcdf605a282?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2882307/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1586, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1557850419, "creation_date": 1522258419, "question_id": 49540814, "link": "https://stackoverflow.com/questions/49540814/cant-publish-azure-function", "title": "Can&#39;t publish Azure Function", "body": "<p>I have created a new Azure function which references a few of my other projects in my solution. Then I Try to publish my function to Azure by using visual studio and I get the following errors:</p>\n\n<pre><code> Publish Started\n  Backend.Core -&gt; C:\\Projects\\Backend.Core\\bin\\Release\\Backend.Core.dll\n  Backend.EntityFramework -&gt; C:\\Projects\\Backend.EntityFramework\\bin\\Backend.EntityFramework.dll\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Microsoft\\VisualStudio\\v15.0\\Web\\Microsoft.Web.Publishing.targets(4368,5): error : The value for PublishProfile is set to 'State-Persistance-Handler - Web Deploy', expected to find the file at 'C:\\Projects\\Backend.EntityFramework\\Properties\\PublishProfiles\\State-Persistance-Handler - Web Deploy.pubxml' but it could not be found. [C:\\Projects\\Backend.EntityFramework\\Backend.EntityFramework.csproj]\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Microsoft\\VisualStudio\\v15.0\\Web\\Microsoft.Web.Publishing.targets(4375,4): error : PublishProfile(State-Persistance-Handler - Web Deploy) is set. But the $(WebPublishMethod) does not have a valid value.  Current Value is \"\". [C:\\Projects\\Backend.EntityFramework\\Backend.EntityFramework.csproj]\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\Microsoft\\VisualStudio\\v15.0\\Web\\Microsoft.Web.Publishing.targets(4382,5): error : Target ValidatePublishProfileSettings Failed [C:\\Projects\\Backend.EntityFramework\\Backend.EntityFramework.csproj]\n</code></pre>\n\n<p>For some reason it looks somewhere else for the publish profile. I have no clue how this can be. Unfortunately I don't really have more information then this...</p>\n\n<p>Any help is appreciated!</p>\n\n<p>I am using Visual studio community 2017, Version 15.5.6</p>\n"}, {"tags": ["c#", "asp.net", "firebase-authentication", "actions-on-google", "dialogflow-es"], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 3562497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/y8OaB.jpg?s=128&g=1", "display_name": "ntdog22", "link": "https://stackoverflow.com/users/3562497/ntdog22"}, "edited": false, "score": 0, "creation_date": 1522267733, "post_id": 49543233, "comment_id": 86094157, "body": "thank you very much for the in depth response! I definitely have a better understanding of the auth flow now."}], "tags": [], "owner": {"reputation": 48099, "user_id": 1405634, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/218ed9884ff6fa541a821187836ade50?s=128&d=identicon&r=PG", "display_name": "Prisoner", "link": "https://stackoverflow.com/users/1405634/prisoner"}, "is_accepted": true, "score": 7, "last_activity_date": 1522267447, "creation_date": 1522267447, "answer_id": 49543233, "question_id": 49540805, "link": "https://stackoverflow.com/questions/49540805/dialogflow-google-account-linking-and-asp-net-core-api-webhook/49543233#49543233", "title": "Dialogflow, Google Account Linking and ASP.NET Core API (Webhook)", "body": "<p>Lots of questions. Let's take them one by one and try to clear up some things.</p>\n\n<p><em>What is the correct way to implement Google Account Linking [between the Google Assistant and my system]?</em></p>\n\n<p>First - you need to understand what Account Linking <em>is</em>.</p>\n\n<p>It lets you provide a way for you to authorize a user access to your services. Google uses this to connect a Google Assistant account to an account on your system.</p>\n\n<p>Since this is against your system, the \"correct way\" depends on your infrastructure. But in general - it means that you'll be issuing OAuth tokens for Google to use and hand back to your webhook. Details for what is expected are in the <a href=\"https://developers.google.com/actions/identity/\" rel=\"noreferrer\">Actions on Google documentation</a>.</p>\n\n<p>To be clear - <strong>you need to be an OAuth server</strong>.</p>\n\n<p><em>What does Google Account linking provide for registering/authenticating users via Dialogflow?</em></p>\n\n<p>Nothing.</p>\n\n<p>Well, mostly nothing.</p>\n\n<p>All it will do is hand the user off to your OAuth authorization endpoint if it does not already have authorization for that user. It expects you to hand back tokens that it will use.</p>\n\n<p><em>Does Account Linking return a bearer token in the header back to Dialogflow and thus, back to my handler? Or do I have to parse the <code>originalRequest</code> JSON object...</em></p>\n\n<p>The auth token (which you have issued, because you're the OAuth server) will be sent in the JSON object at <code>originalRequest.data.user.accessToken</code>.</p>\n\n<p><em>...to get the user information then validate it against the identity provider?</em></p>\n\n<p>You are responsible for validating that the access token is one that you issued and is still valid and then... doing whatever you want with it. One assumes that you'll use it to figure out who the user is, however. How you do that (looking it up in a table, passing it to another service, getting the info out of a JWT, etc) is entirely up to you and how you've implemented the OAuth service and what the format of the token is.</p>\n\n<p><em>How can I get the user's information from the Dialogflow request?</em></p>\n\n<p>It depends what \"user information\" you're expecting. By default, Actions on Google and Dialogflow won't give you any information unless you ask for it - and you don't ask for it via Account Linking. You ask for it via using the <a href=\"https://developers.google.com/actions/identity/user-info#user_name_and_location\" rel=\"noreferrer\">Actions on Google permission system</a>. But even the permission system won't give you information you may want (most people want email address - which you can't request).</p>\n\n<p>If you want to do it via account linking - you need to request that information when you setup their account.</p>\n\n<p><em>Do I have to parse the originalRequest JSON object to get the user info?</em></p>\n\n<p>If you are using permissions, then yes.</p>\n\n<p>If you're not, then while you can parse the JSON to get whatever is sent (the anonymous user ID), it won't just give you information from their Google Assistant account.</p>\n\n<p>Account linking isn't about getting access to their Actions on Google account - it is about getting access to the account in your system when they access your service via the Google Assistant.</p>\n\n<p><em>HttpContext should be populated after verifying the JWT token</em></p>\n\n<p>That article talks about using Firebase Authentication as the OAuth server and how to handle it as a client.</p>\n\n<p>Actions on Google turns this around. <em>You</em> need to be the server. <em>It</em> is the client.</p>\n\n<p>It is certainly possible to build a server that uses Firebase Authentication to authenticate users if that is what you wish to do, and to issue JWT tokens as your bearer tokens, but neither of those are requirements.</p>\n"}], "owner": {"reputation": 249, "user_id": 3562497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/y8OaB.jpg?s=128&g=1", "display_name": "ntdog22", "link": "https://stackoverflow.com/users/3562497/ntdog22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 2, "accepted_answer_id": 49543233, "answer_count": 1, "score": 3, "last_activity_date": 1522267447, "creation_date": 1522258390, "last_edit_date": 1522265823, "question_id": 49540805, "link": "https://stackoverflow.com/questions/49540805/dialogflow-google-account-linking-and-asp-net-core-api-webhook", "title": "Dialogflow, Google Account Linking and ASP.NET Core API (Webhook)", "body": "<p>I am a student working on a NLP app for the Google Home for my senior design project. I am wondering specifically:</p>\n\n<ol>\n<li>What is the correct way to implement Google Account Linking and what does Google Account linking provide for registering/authenticating users via Dialogflow (i.e. what the dataflow looks like from initial query to Google logging in, back to Dialogflow, then to my ASP.NET Core API handler).</li>\n<li>Does Account Linking return a bearer token in the header back to Dialogflow and thus, back to my handler? Or do I have to parse the <strong>originalRequest</strong> JSON object to get the user information then validate it against the identity provider?</li>\n<li>How can I get the user\u2019s information from the Dialogflow request in my webhook (ASP.NET Core API)? Do I have to parse the originalRequest JSON object to get the user info? From my understanding, and from this awesome <a href=\"https://blog.markvincze.com/secure-an-asp-net-core-api-with-firebase/\" rel=\"nofollow noreferrer\">tutorial</a>, the <strong>HttpContext</strong> should be populated after verifying the JWT token. What is still unclear, is how to get the token from Dialogflow and Google Account linking.  </li>\n</ol>\n\n<p>I appreciate any help or guidance you can provide for implementing user authentication/authorization from Dialogflow to my .NET webhook.</p>\n"}, {"tags": ["c#", "asp.net", "visual-studio-code", "nuget-package", "pushsharp"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1522258484, "post_id": 49540789, "comment_id": 86088927, "body": "Are you asking how to install a Nuget package?"}, {"owner": {"reputation": 2038, "user_id": 7129076, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a190b1b49a5ce2f6d1ead8ccbb11dc35?s=128&d=identicon&r=PG&f=1", "display_name": "gilliduck", "link": "https://stackoverflow.com/users/7129076/gilliduck"}, "edited": false, "score": 0, "creation_date": 1522258496, "post_id": 49540789, "comment_id": 86088932, "body": "Their github site appears to have a lot of very useful info."}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1522258804, "post_id": 49540789, "comment_id": 86089096, "body": "<a href=\"https://stackoverflow.com/questions/40675162/install-a-nuget-package-in-visual-studio-code\" title=\"install a nuget package in visual studio code\">stackoverflow.com/questions/40675162/&hellip;</a> - I followed this to install PushSharp into my project. I&#39;m going to test it out now. First time installing a package into c# project so I wasn&#39;t sure how it worked. Thanks though everyone!"}], "owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522262584, "creation_date": 1522258334, "last_edit_date": 1522262584, "question_id": 49540789, "link": "https://stackoverflow.com/questions/49540789/how-to-use-pushsharp-in-existing-c-project", "title": "How to use pushsharp in existing c# project", "body": "<p>There doesn't seem to be an installation guide in the <a href=\"https://github.com/Redth/PushSharp\" rel=\"nofollow noreferrer\">PushSharp readme</a> or the wiki link. I noticed that there's a NuGet installation for it, but I am not sure how it works. How would one incorporate it into an existing c# asp.NET project?</p>\n\n<p>Edit:</p>\n\n<p>It seems like the one from the NuGet package does not support dotNet core 1.1.</p>\n\n<p>I found this that might support it: <a href=\"https://github.com/geeklearningio/PushSharp-Core\" rel=\"nofollow noreferrer\">https://github.com/geeklearningio/PushSharp-Core</a></p>\n\n<p>But I'm not sure how to incorporate this into my existing project.\nNevermind^ there's a NuGet package for the above, but it looks like its only support for dotnetcore2.0</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6", "firebird", "firebird2.5"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1522260049, "post_id": 49540768, "comment_id": 86089798, "body": "Exactly what is the problem? The SQL you show is valid SQL for Firebird (unless you use a dialect 1 database, which you shouldn&#39;t be using as dialect 1 was deprecated 18 years ago). The only thing I see is that the <code>where</code> clause is missing. The SQL supported by Firebird is pretty close to the syntax defined in the ISO SQL standard, so you will need to be more specific than just saying <i>&quot;generating &#39;normal&#39; sql instead of Firebird sql&quot;</i>. If you get an error, then please show that error, or otherwise explicitly specify what is wrong."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1522261443, "post_id": 49540768, "comment_id": 86090615, "body": "Please edit your question to add information like that."}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "reply_to_user": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1522261531, "post_id": 49540768, "comment_id": 86090672, "body": "I checked and it is indeed dialect 1"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1522261953, "post_id": 49540768, "comment_id": 86090925, "body": "Ah, that is a different problem than what I wrote my answer for. I&#39;m not sure if there is a way to get it to generate SQL without double quotes. In dialect 1, double quotes delimit strings, instead of quoted object names. Is this an &#39;old&#39; database for an application that depends on the legacy behavior of dialect 1? If it is a new application, it might be better to start from scratch with dialect 3, if it is an existing database, then you&#39;ll need to recreate the database as dialect 3 and pump the data (and of course test if your application isn&#39;t relying on the legacy behavior of dialect 1)."}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "reply_to_user": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1522262201, "post_id": 49540768, "comment_id": 86091072, "body": "This company has existed for over 20 years and I believe the original owner was somehow involved with firebird development, they have thousands of instances of it here. I cannot say why things are the way they are, I just have to deal with it."}, {"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1522315294, "post_id": 49540768, "comment_id": 86111742, "body": "&quot;for over 20 years &quot; - so they started when Dialect 1 was primary or even only language and Dialect 3 was new and maybe was considered shaky. They just did not invested into rewriting the working application when dialect 3 was just out, and later when their app grew larger and larger they has still less incentive to do so. I remember there were subtle problems in FB3 with Dialect 1, guess this app is anchored in FB2 forever. /// On unrelated note, this is SO FB question #2600, such a &quot;round number&quot; :-D"}], "answers": [{"comments": [{"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1522262273, "post_id": 49541732, "comment_id": 86091102, "body": "There was a point it was adding the plural &#39;s&#39; when I didn&#39;t want to which I had to use the decorator to avoid but alas it was not the root of the issue."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "reply_to_user": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1522262731, "post_id": 49541732, "comment_id": 86091360, "body": "That automatic pluralization can be removed by <code>modelBuilder.Conventions.Remove&lt;PluralizingEntitySetNameConv&zwnj;&#8203;ention&gt;();</code> in <code>OnModelCreating</code>; maybe there is a similar configuration for quoting object names. But I haven&#39;t found one."}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1522263400, "post_id": 49541732, "comment_id": 86091786, "body": "I&#39;m giving you the answer credit because this indeed seems to be the case -&gt; <a href=\"http://tracker.firebirdsql.org/browse/DNET-580\" rel=\"nofollow noreferrer\">tracker.firebirdsql.org/browse/DNET-580</a>"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "reply_to_user": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1522263492, "post_id": 49541732, "comment_id": 86091840, "body": "@PaulSwetz Yes, I just found that one as well. I&#39;ll try to see if I can find anything else, but I&#39;m not hopeful."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "reply_to_user": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1522263833, "post_id": 49541732, "comment_id": 86092025, "body": "@PaulSwetz <a href=\"https://stackoverflow.com/a/10812201/466862\">This answer</a> suggests it is not possible to disable quoting."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "reply_to_user": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1522264246, "post_id": 49541732, "comment_id": 86092248, "body": "@PaulSwetz It might be possible to workaround this by explicitly specifying dialect 3 as the connection dialect, but I don&#39;t have the time to verify that right now. You would still have to map the names to their uppercase equivalents."}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1522265542, "post_id": 49541732, "comment_id": 86092944, "body": "well I&#39;ve spun up an interceptor that can remove the quotes but this will probably turn into a maintenance nightmare."}, {"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1522314979, "post_id": 49541732, "comment_id": 86111522, "body": "Even if it will be possible to &quot;disable quoting&quot; it will still be subject to Heisenbugs over every other difference between the Dialects. The library either does support D1 or not. Frankly, even if it would be possible to suppress quotes I would suggest against that very fragile and undetermenistic hack."}, {"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1522315048, "post_id": 49541732, "comment_id": 86111564, "body": "That said, the DNET-580 Reporter: Jar Jar Binks said he made EF fork that supports D1, maybe that fork can be still found and used instead of vanilla provider."}], "tags": [], "owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "is_accepted": true, "score": 2, "last_activity_date": 1522421066, "last_edit_date": 1522421066, "creation_date": 1522261888, "answer_id": 49541732, "question_id": 49540768, "link": "https://stackoverflow.com/questions/49540768/entity-framework-and-firebird-db-dialect-1-not-generating-compatible-sql/49541732#49541732", "title": "Entity Framework and Firebird DB Dialect 1 - not generating compatible sql", "body": "<p>The problem is that your database is dialect 1, and Entity Framework is quoting the object names. Unfortunately quoted object names are not supported in dialect 1, and are instead interpreted as strings. This leads to the token unknown errors, as the parser isn't expecting strings, but object names.</p>\n\n<p>It has been a while since I did anything with entity framework (I normally program in Java), and I'm not sure if there is an option to disable quoting.</p>\n\n<p>According to this ticket in the Firebird bug tracker, the Firebird Entity Framework support does not and will not support dialect 1: <a href=\"http://tracker.firebirdsql.org/browse/DNET-580\" rel=\"nofollow noreferrer\">DNET-580</a>.</p>\n\n<p>So unless you upgrade your database to dialect 3, it looks like you will not be able to use Entity Framework. Be aware that upgrading from dialect 1 to dialect 3 may not be simple, especially not if your application(s) rely on dialect 1 specific syntax (eg double quotes for strings) or behaviour (floating point division for integers).</p>\n\n<h2>Workaround</h2>\n\n<p>A potential workaround is to explicitly specify your connection dialect as dialect 3 (connection property <code>Dialect=3</code> for the Firebird ADO.net provider). This will allow you to query the database using dialect 3 syntax. Be aware there might be some differences in behavior, as dialect 3 has a number of different rules.</p>\n\n<p>I'm a bit surprised though, because I tested a number of recent versions of the Firebird ADO.net provider and it defaults to dialect 3 unless explicitly set to 1, so this shouldn't be an issue at all.</p>\n\n<h1>Similar problems with dialect 3</h1>\n\n<p>This part of the answer assumes a dialect 3 database where the table is actually called <code>ACCOUNTS</code>, and not <code>Accounts</code>. This would not result in a token unknown, but in a table unknown error.</p>\n\n<p>In this situation, the problem is that the default configuration derives names from objects, and it will quote names. Quoted names in dialect 3 are case sensitive (unquoted names are case insensitive but are stored (and compared) as uppercase). </p>\n\n<p>What you can do is override the table name by annotating your object:</p>\n\n<pre><code>[Table(\"ACCOUNTS\")]\npublic class Account\n{\n    [Key]\n    public int OBJID { get; set; }\n}\n</code></pre>\n\n<p>Another option you could use is the fluent API, but I have never used it myself, so I'm not entirely sure where you need to specify this (I think in your <code>DbContext</code>).</p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n{\n  //Changing Database table name to Metadata\n  modelBuilder.Entity&lt;Account&gt;()\n      .ToTable(\"ACCOUNTS\");\n}\n</code></pre>\n\n<p>There might be other options to influence naming conventions.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/21656617/entity-framework-code-first-changing-a-table-name\">Entity Framework Code First - Changing a Table Name</a></p>\n"}], "owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 49541732, "answer_count": 1, "score": 2, "last_activity_date": 1522421066, "creation_date": 1522258229, "last_edit_date": 1522265979, "question_id": 49540768, "link": "https://stackoverflow.com/questions/49540768/entity-framework-and-firebird-db-dialect-1-not-generating-compatible-sql", "title": "Entity Framework and Firebird DB Dialect 1 - not generating compatible sql", "body": "<p>I am trying to setup a project with EF on top of a firebird DB but it is generating extra quotes that the Firebird db is rejecting.</p>\n\n<p>The db already exists and there is a matching record for this query there.\nError is\nFbException: Dynamic SQL Error\nSQL error code = -104\nToken unknown - line 2, column 4\n.</p>\n\n<p>However if I remove the quotes it generates in the sql the query runs.</p>\n\n<p>Example </p>\n\n<pre><code>using (var context = new ContextManager())\n{\n     var accounts = context.Accounts.Where(x =&gt; x.OBJID == 1).ToList();\n}\n</code></pre>\n\n<p>generates sql </p>\n\n<pre><code>SELECT \n\"A\".\"OBJID\" AS \"OBJID\"\nFROM \"ACCOUNT\" AS \"A\"\n</code></pre>\n\n<p>Config file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"entityFramework\" type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" requirePermission=\"false\" /&gt;\n    &lt;!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --&gt;\n  &lt;/configSections&gt;\n  &lt;startup&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.6.1\" /&gt;\n  &lt;/startup&gt;\n  &lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"FirebirdSql.Data.EntityFramework6.FbConnectionFactory, EntityFramework.Firebird\" /&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"FirebirdSql.Data.FirebirdClient\" type=\"FirebirdSql.Data.EntityFramework6.FbProviderServices, EntityFramework.Firebird\" /&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n  &lt;runtime&gt;\n    &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"FirebirdSql.Data.FirebirdClient\" publicKeyToken=\"3750abcc3150b00c\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-5.0.0.0\" newVersion=\"5.0.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n    &lt;/assemblyBinding&gt;\n  &lt;/runtime&gt;\n\n&lt;system.data&gt;\n        &lt;DbProviderFactories&gt;\n            &lt;remove invariant=\"FirebirdSql.Data.FirebirdClient\" /&gt;\n            &lt;add name=\"FirebirdClient Data Provider\" invariant=\"FirebirdSql.Data.FirebirdClient\" description=\".NET Framework Data Provider for Firebird\" type=\"FirebirdSql.Data.FirebirdClient.FirebirdClientFactory, FirebirdSql.Data.FirebirdClient\" /&gt;\n        &lt;/DbProviderFactories&gt;\n    &lt;/system.data&gt;&lt;/configuration&gt;\n</code></pre>\n\n<p>Context class</p>\n\n<pre><code>public class ContextManager : DbContext\n    {\n        public ContextManager() : base(new FbConnection(\"database=xxxx.fdb;DataSource=localhost;user=xxx;password=xxxxx\"),true)\n        {\n\n        }\n\n        public ContextManager(string connString) : base(new FbConnection(connString), true)\n        {\n            //this.Configuration.LazyLoadingEnabled = false;\n        }\n\n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n        }\n\n        public DbSet&lt;Account&gt; Accounts { get; set; }\n    }\n</code></pre>\n\n<p>Account Model</p>\n\n<pre><code>[Table(\"ACCOUNT\")]\n    public class Account\n        {\n            [Key]\n            public int OBJID { get; set; }\n        }\n</code></pre>\n\n<p>Update - checked and saw dialect 1 was set so I updated the query string to denote it, the query did not change but the error did\nFbException: Dynamic SQL Error\nSQL error code = -104\nToken unknown - line 2, column 4\n.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8Rh5t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Rh5t.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "batch-file"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1522258241, "post_id": 49540713, "comment_id": 86088803, "body": "I&#39;m almost sure that you need to run <code>cmd.exe</code> and pass the <code>.bat</code> file in as a parameter. Batch files are just command line sequences, and need the command line to run."}], "answers": [{"tags": [], "owner": {"reputation": 22888, "user_id": 6535399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5vsS.jpg?s=128&g=1", "display_name": "bartonjs", "link": "https://stackoverflow.com/users/6535399/bartonjs"}, "is_accepted": false, "score": 1, "last_activity_date": 1522258337, "creation_date": 1522258337, "answer_id": 49540790, "question_id": 49540713, "link": "https://stackoverflow.com/questions/49540713/running-a-bat-file-from-c-doesnt-work-as-opening-the-bat-file/49540790#49540790", "title": "Running a .bat file from C# doesn&#39;t work as opening the .bat file", "body": "<p>You need to run the process <code>cmd.exe /c [path]</code> (aka the process is \"cmd.exe\", and your arguments are <code>$\"/c {path}\"</code>.</p>\n\n<p>When you're on the command prompt you get \"program execution\" and \".bat/.cmd interactive scripting\".  Since you want to execute a batch file you need to tell CreateProcess that cmd.exe is what's actually running it.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 9320790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cb341b14d1dc640a67d97829406c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Tsvetomir Bonev", "link": "https://stackoverflow.com/users/9320790/tsvetomir-bonev"}, "is_accepted": false, "score": 0, "last_activity_date": 1522258422, "creation_date": 1522258422, "answer_id": 49540816, "question_id": 49540713, "link": "https://stackoverflow.com/questions/49540713/running-a-bat-file-from-c-doesnt-work-as-opening-the-bat-file/49540816#49540816", "title": "Running a .bat file from C# doesn&#39;t work as opening the .bat file", "body": "<p>The issue was just what I thought. The .bat file doesn't work properly when launched from an elevated app. To fix it I used this:</p>\n\n<pre><code>Process.Start(\"explorer.exe\", path);\n</code></pre>\n\n<p>Worked perfectly. Fixed it really quickly but thought I'd leave this here if anybody finds himself stuck with the same thing.</p>\n"}], "owner": {"reputation": 23, "user_id": 9320790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cb341b14d1dc640a67d97829406c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Tsvetomir Bonev", "link": "https://stackoverflow.com/users/9320790/tsvetomir-bonev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1830, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522258422, "creation_date": 1522258044, "question_id": 49540713, "link": "https://stackoverflow.com/questions/49540713/running-a-bat-file-from-c-doesnt-work-as-opening-the-bat-file", "title": "Running a .bat file from C# doesn&#39;t work as opening the .bat file", "body": "<p>I am trying to get the output of a process. I've achieved this by using a .bat, which contains the following text:</p>\n\n<pre><code>program.exe &gt; output.txt &lt; input.txt\n</code></pre>\n\n<p>where program.exe is my executable, output.txt is the file I want to output the data to and input.txt is just an empty file since the program wants key inputs from time to time. The .bat file works perfectly when I run it myself, but when I attempt to run it using C# code, it just doesn't finish properly.\nI am trying to run it using the following code:</p>\n\n<pre><code>Process.Start(path);\n</code></pre>\n\n<p>I've tried a lot of different stuff but this is the code that I last tried but none of my attempts worked. Also, the .bat file doesn't run properly when you run it as an administrator and the C# program  I am using is requiring administrator permissions. Could this be the issue and not the actual process running?</p>\n"}, {"tags": ["c#", "nest-api"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9320152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468edfa794f0f3e73c39b246e079f6eb?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmoy", "link": "https://stackoverflow.com/users/9320152/tanmoy"}, "edited": false, "score": 0, "creation_date": 1522301225, "post_id": 49541536, "comment_id": 86104391, "body": "Latest FireSharp Nuget doesn&#39;t allow to create new object of Firebase due to permission levels. Tried with old version of the package, yet didn&#39;t work out"}], "tags": [], "owner": {"reputation": 16, "user_id": 8830872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847bc9183b235ab2f38f26214a122351?s=128&d=identicon&r=PG&f=1", "display_name": "bhuvaneswary rajasekaran", "link": "https://stackoverflow.com/users/8830872/bhuvaneswary-rajasekaran"}, "is_accepted": true, "score": 0, "last_activity_date": 1522261180, "creation_date": 1522261180, "answer_id": 49541536, "question_id": 49540651, "link": "https://stackoverflow.com/questions/49540651/how-to-listen-for-changes-in-values-of-nest-device-parameters-in-c-console-appl/49541536#49541536", "title": "How to listen for changes in values of nest device parameters in c# console application?", "body": "<p>Refer the below, this should give you a head start.. </p>\n\n<p><a href=\"https://www.codeproject.com/Articles/818265/NET-Works-with-Nest-Guide-to-calling-Nest-API-fro\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/818265/NET-Works-with-Nest-Guide-to-calling-Nest-API-fro</a></p>\n\n<p>You can witness the real time updates using FireSharp whenever you  change the temperature in the nest simulator. </p>\n"}], "owner": {"reputation": 55, "user_id": 9320152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468edfa794f0f3e73c39b246e079f6eb?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmoy", "link": "https://stackoverflow.com/users/9320152/tanmoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 49541536, "answer_count": 1, "score": -3, "last_activity_date": 1522261180, "creation_date": 1522257785, "last_edit_date": 1522258196, "question_id": 49540651, "link": "https://stackoverflow.com/questions/49540651/how-to-listen-for-changes-in-values-of-nest-device-parameters-in-c-console-appl", "title": "How to listen for changes in values of nest device parameters in c# console application?", "body": "<p>I am working on a c# code where whenever there is any change in parameters of nest device, a message must be put on the command line.\nFor eg : If the humidity of thermostat changes from 50 to 67. a message must be written on to the console saying \"change in humidity\".\nMay need to continuously listen to nest device. Can anyone give me a head start like if there are any api's that i should look into?</p>\n"}, {"tags": ["c#", "asp.net", "datatables"], "comments": [{"owner": {"reputation": 2292, "user_id": 2393001, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OYjty.jpg?s=128&g=1", "display_name": "Afnan Ahmad", "link": "https://stackoverflow.com/users/2393001/afnan-ahmad"}, "edited": false, "score": 0, "creation_date": 1522257974, "post_id": 49540635, "comment_id": 86088622, "body": "It will be done by  <code>$(&#39;#fcTable&#39;).dataTable( {   &quot;ordering&quot;: false } );</code> <code>https:&#47;&#47;datatables.net&#47;reference&#47;option&#47;ordering</code>"}, {"owner": {"reputation": 1745, "user_id": 1210350, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/krY4V.jpg?s=128&g=1", "display_name": "NoBullMan", "link": "https://stackoverflow.com/users/1210350/nobullman"}, "reply_to_user": {"reputation": 2292, "user_id": 2393001, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OYjty.jpg?s=128&g=1", "display_name": "Afnan Ahmad", "link": "https://stackoverflow.com/users/2393001/afnan-ahmad"}, "edited": false, "score": 0, "creation_date": 1522259216, "post_id": 49540635, "comment_id": 86089327, "body": "would that completely remove ordering? If so, I just need to remove ordering for two columns: column 0 and column 4."}, {"owner": {"reputation": 2292, "user_id": 2393001, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OYjty.jpg?s=128&g=1", "display_name": "Afnan Ahmad", "link": "https://stackoverflow.com/users/2393001/afnan-ahmad"}, "edited": false, "score": 0, "creation_date": 1522408593, "post_id": 49540635, "comment_id": 86154102, "body": "Yes it will set it on all columns. For individual columns please follow <code>https:&#47;&#47;datatables.net&#47;reference&#47;option&#47;columns.data</code> and set it like <code>&quot;columns&quot;: [     { &quot;data&quot;: &quot;ColumnName&quot;, orderable: false }   ]</code> @NoBullMan"}], "owner": {"reputation": 1745, "user_id": 1210350, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/krY4V.jpg?s=128&g=1", "display_name": "NoBullMan", "link": "https://stackoverflow.com/users/1210350/nobullman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1522257732, "creation_date": 1522257732, "question_id": 49540635, "link": "https://stackoverflow.com/questions/49540635/jquery-datatable-cant-stop-sorting-on-selected-columns", "title": "jQuery Datatable, Cant&#39; stop sorting on selected columns", "body": "<p>I am trying to remove sorting from some columns in a jQuery data table and can't get it to go away.I am using a repeater to populate the table. I set orderable, sortable and searchable to false for the two columns I am trying to remove sorting but it still shows the sorting arrows.</p>\n\n<pre><code>&lt;asp:Repeater runat=\"server\" ID=\"rptTableData\" OnItemCommand=\"rptTableData_ItemCommand\"&gt;\n    &lt;HeaderTemplate&gt;\n        &lt;div id=\"divFCTable\"&gt;\n            &lt;table id=\"fcTable\" class=\"table table-striped table-bordered table-hover\"&gt;\n                &lt;thead&gt;\n                    &lt;tr class=\"info\"&gt;\n                        &lt;th&gt;&lt;/th&gt;\n                        &lt;th&gt;Certificate&lt;/th&gt;\n                        &lt;th&gt;Response Due Date&lt;/th&gt;\n                        &lt;th&gt;Frequency&lt;/th&gt;\n                        &lt;th&gt;Question&lt;/th&gt;\n                        &lt;th&gt;Requires Attachment&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n            &lt;/HeaderTemplate&gt;\n            &lt;FooterTemplate&gt;\n                &lt;/tbody&gt;\n                    &lt;tfooter&gt;\n                        &lt;tr class=\"info\"&gt;\n                            &lt;th&gt;&lt;/th&gt;\n                            &lt;th&gt;Certificate&lt;/th&gt;\n                            &lt;th&gt;Response Due Date&lt;/th&gt;\n                            &lt;th&gt;Frequency&lt;/th&gt;\n                            &lt;th&gt;Question&lt;/th&gt;\n                            &lt;th&gt;Requires Attachment&lt;/th&gt;\n                        &lt;/tr&gt;\n                &lt;/tfooter&gt;\n                    &lt;/table&gt;\n                &lt;/div&gt;\n                &lt;/FooterTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;\n                                &lt;asp:LinkButton runat=\"server\" ID=\"lbDetails\" CommandArgument='&lt;%= Eval(\"CertItemName\") %&gt;' Text=\"Respond\" /&gt;\n                            &lt;/td&gt;\n                            &lt;td runat=\"server\" id=\"tdCertItemName\"&gt;&lt;%# Eval(\"CertItemName\") %&gt;&lt;/td&gt;\n                            &lt;td runat=\"server\" id=\"tdResponseDueDate\"&gt;&lt;%# Eval(\"ResponseDueDate\", \"{0:MM/dd/yyyy}\") %&gt;&lt;/td&gt;\n                            &lt;td runat=\"server\" id=\"tdFrequency\"&gt;&lt;%# Eval(\"Frequency\") %&gt;&lt;/td&gt;\n                            &lt;td runat=\"server\" id=\"tdQuestionText\"&gt;&lt;%# Eval(\"QuestionText\") %&gt;&lt;/td&gt;\n                            &lt;td runat=\"server\" id=\"tdRequireAttachment\"&gt;&lt;%# Convert.ToBoolean(Eval(\"RequireAttachment\")) ? \"Yes\" : \"No\" %&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:Repeater&gt;\n\n&lt;script&gt;\n    $(document).ready(function () {\n        table = $('#fcTable').DataTable({\n            \"lengthMenu\": [[10, 25, 50, -1], [10, 25, 50, \"All\"]],\n            order: [[2, \"asc\"], [1, \"asc\"]],\n            \"columnDefs\": [\n                { \"sortable\": false, \"targets\": [0,4] },\n                { \"orderable\": false, \"targets\": [0,4] },\n                { \"searchable\": false, \"targets\": [0,4] }\n            ],\n            select: true,\n            processing: true,\n            \"pageLength\": 10,\n            \"rowCallback\": function (row, data, index) {\n                if (moment(new Date()).isAfter(data[2], 'day')) {\n                    var $cell = $('td:eq(2)', row);\n                    $cell.css('color', 'red');\n                    $cell.attr('title', 'Overdue Response Submission');\n                }\n            }\n        });\n    })\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["c#", "class", "listview", "uwp", "bind"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5149155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1d87de5a0cd1593e092df8abf026be?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas Kleven", "link": "https://stackoverflow.com/users/5149155/andreas-kleven"}, "is_accepted": false, "score": 0, "last_activity_date": 1522266223, "creation_date": 1522266223, "answer_id": 49542908, "question_id": 49540460, "link": "https://stackoverflow.com/questions/49540460/bind-objects-from-external-class/49542908#49542908", "title": "Bind objects from external class", "body": "<pre><code>&lt;ListView ItemsSource=\"{Binding Source={x:Static local:CreateObject.Items}}\" /&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7342089"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522266223, "creation_date": 1522257081, "question_id": 49540460, "link": "https://stackoverflow.com/questions/49540460/bind-objects-from-external-class", "title": "Bind objects from external class", "body": "<p>I want to list objects created in \"CreateObjects.cs\" to MainPage here is my code:</p>\n\n<p>CreateObjects.cs:</p>\n\n<pre><code>class CreateObject\n{\nstatic public List&lt;Item&gt; Items;\n\npublic static void AddNewItem()\n{\nItem item = new Item(ID, Name);\n}\nnew List&lt;FileItem&gt;();\n}\n</code></pre>\n\n<p>Now I want to bind List to ListView control on Mainpage.xaml.\nIs there a way to read that list on Mainpage?</p>\n"}, {"tags": ["c#", ".net", "task-parallel-library", "tpl-dataflow"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1522257445, "post_id": 49540435, "comment_id": 86088343, "body": "The <code>JoinBlock</code> joins items from each of it&#39;s targets. You&#39;re only posting one item to <code>second_source</code> so how do you expect to get 6 or 4? What are you really trying to accomplish since this seems like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 2754893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0329fac6014ed97056879af47f8750d?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Ramzan", "link": "https://stackoverflow.com/users/2754893/muhammad-ramzan"}, "edited": false, "score": 0, "creation_date": 1522312839, "post_id": 49543291, "comment_id": 86110126, "body": "yes you understand my Quesion right, I know joinBlock behaviour and I want cartesion product so that target block perform for each input of source when any source posted new value, I don&#39;t have good understanding of greedy and non greedy whether we can use that or some other setting in linking these blocks."}, {"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "reply_to_user": {"reputation": 302, "user_id": 2754893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0329fac6014ed97056879af47f8750d?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Ramzan", "link": "https://stackoverflow.com/users/2754893/muhammad-ramzan"}, "edited": false, "score": 0, "creation_date": 1522333319, "post_id": 49543291, "comment_id": 86124774, "body": "As I said, you need to implement that by yourself, there is no possibility to do that by using only base blocks"}], "tags": [], "owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "is_accepted": false, "score": 0, "last_activity_date": 1522267681, "creation_date": 1522267681, "answer_id": 49543291, "question_id": 49540435, "link": "https://stackoverflow.com/questions/49540435/two-sources-with-joinblock-executed-only-once/49543291#49543291", "title": "Two sources with joinBlock executed only once", "body": "<p>You probably have wrong understanding of how <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources\" rel=\"nofollow noreferrer\"><code>JoinBlock</code></a> works - for some reason you think that it will return the first element from second source for all elements of first source, which is wrong. It works as <code>zip</code> operation - for each input sequences it creates tuple with corresponding items:</p>\n\n<pre><code>3  2  1\n6  -  -\n</code></pre>\n\n<p>So, you should post additional two <code>6</code> to get results you need, or (if you really need a Cartesian product of inputs) implement it by yourself, as <code>TPL Dataflow</code> doesn't contain any out-of-box solutions for such situations.</p>\n\n<p>PS: do not use <code>snake_casing</code> for variables in C#, use lower camel case instead: <code>firstSource</code> and <code>secondSource</code>.</p>\n"}], "owner": {"reputation": 302, "user_id": 2754893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0329fac6014ed97056879af47f8750d?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Ramzan", "link": "https://stackoverflow.com/users/2754893/muhammad-ramzan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522267750, "creation_date": 1522257005, "last_edit_date": 1522267750, "question_id": 49540435, "link": "https://stackoverflow.com/questions/49540435/two-sources-with-joinblock-executed-only-once", "title": "Two sources with joinBlock executed only once", "body": "<p>Which Block should I use so that action block get called every time <code>first_source</code> posted its value,</p>\n\n<p>I have tried like following and it only prints</p>\n\n<pre><code>8\n</code></pre>\n\n<p>But I want following output on screen.  </p>\n\n<pre><code>8  \n6\n4\n</code></pre>\n\n<p>Action Block only get called once but I want it to be executed every time <code>first_source</code> posted its value.</p>\n\n<pre><code>TransformBlock&lt;int, int&gt; first_source = new TransformBlock&lt;int, int&gt;((val) =&gt; { return val * 2; });\nTransformBlock&lt;int, int&gt; second_source = new TransformBlock&lt;int, int&gt;((val) =&gt; { return val/3; });\nJoinBlock&lt;int, int&gt; joinBlock = new JoinBlock&lt;int, int&gt;();\n\nActionBlock&lt;Tuple&lt;int, int&gt;&gt; actionBlock = new ActionBlock&lt;Tuple&lt;int, int&gt;&gt;((valTuple) =&gt; {\n    Console.WriteLine(valTuple.Item1 + valTuple.Item2);\n});\n\nvar options = new DataflowLinkOptions()\n{\n    PropagateCompletion = true\n};\n\nfirst_source.LinkTo(joinBlock.Target1, options);\nsecond_source.LinkTo(joinBlock.Target2, options);\njoinBlock.LinkTo(actionBlock, options);\n\nfirst_source.Post(3);\nfirst_source.Post(2);\nfirst_source.Post(1);\nsecond_source.Post(6);\nsecond_source.Complete();\nfirst_source.Complete();\n</code></pre>\n"}, {"tags": ["c#", "xamarin.forms", "azure-storage", "signalr.net-client"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 9526422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a922a28af8c6c813d03bda1cfbbb5c80?s=128&d=identicon&r=PG&f=1", "display_name": "Parmendra", "link": "https://stackoverflow.com/users/9526422/parmendra"}, "edited": false, "score": 0, "creation_date": 1522288638, "post_id": 49543202, "comment_id": 86101102, "body": "I am successfully send image to blob but now how i send the blob uri to client."}, {"owner": {"reputation": 2255, "user_id": 6591675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvSsj.jpg?s=128&g=1", "display_name": "Adam Smith - Microsoft Azure", "link": "https://stackoverflow.com/users/6591675/adam-smith-microsoft-azure"}, "reply_to_user": {"reputation": 105, "user_id": 9526422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a922a28af8c6c813d03bda1cfbbb5c80?s=128&d=identicon&r=PG&f=1", "display_name": "Parmendra", "link": "https://stackoverflow.com/users/9526422/parmendra"}, "edited": false, "score": 0, "creation_date": 1522289025, "post_id": 49543202, "comment_id": 86101184, "body": "Refer to the following link:<a href=\"https://docs.microsoft.com/en-us/azure/storage/blobs/storage-custom-domain-name\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/storage/blobs/&hellip;</a> you can customize the blob uri"}, {"owner": {"reputation": 2255, "user_id": 6591675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvSsj.jpg?s=128&g=1", "display_name": "Adam Smith - Microsoft Azure", "link": "https://stackoverflow.com/users/6591675/adam-smith-microsoft-azure"}, "reply_to_user": {"reputation": 105, "user_id": 9526422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a922a28af8c6c813d03bda1cfbbb5c80?s=128&d=identicon&r=PG&f=1", "display_name": "Parmendra", "link": "https://stackoverflow.com/users/9526422/parmendra"}, "edited": false, "score": 0, "creation_date": 1522289422, "post_id": 49543202, "comment_id": 86101280, "body": "@Parmendra refer to this link <a href=\"https://docs.microsoft.com/en-us/azure/storage/blobs/storage-custom-domain-name\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/storage/blobs/&hellip;</a> it allows you to customize the blob name. Please upvote or mark as answer if answer was helpful to you. This would help future users looking for similar answers. Thanks"}, {"owner": {"reputation": 105, "user_id": 9526422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a922a28af8c6c813d03bda1cfbbb5c80?s=128&d=identicon&r=PG&f=1", "display_name": "Parmendra", "link": "https://stackoverflow.com/users/9526422/parmendra"}, "edited": false, "score": 0, "creation_date": 1522297996, "post_id": 49543202, "comment_id": 86103441, "body": "I have upload image to blob by:   using (var memoryStream = new MemoryStream())                 {                     activityIndicator.IsRunning = true;                     file.GetStream().CopyTo(memoryStream);                     file.Dispose();                     // return memoryStream.ToArray();                     uploadedFilename = await AzureStorage.UploadFileAsync(ContainerType.Image, new MemoryStream(memoryStream.ToArray()));                     activityIndicator.IsRunning = false;                 }"}, {"owner": {"reputation": 105, "user_id": 9526422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a922a28af8c6c813d03bda1cfbbb5c80?s=128&d=identicon&r=PG&f=1", "display_name": "Parmendra", "link": "https://stackoverflow.com/users/9526422/parmendra"}, "edited": false, "score": 0, "creation_date": 1522298117, "post_id": 49543202, "comment_id": 86103471, "body": "Recieved:   var imageData = await AzureStorage.GetFileAsync(ContainerType.Image, uploadedFilename);var img = ImageSource.FromStream(() =&gt; new MemoryStream(imageData));"}], "tags": [], "owner": {"reputation": 2255, "user_id": 6591675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvSsj.jpg?s=128&g=1", "display_name": "Adam Smith - Microsoft Azure", "link": "https://stackoverflow.com/users/6591675/adam-smith-microsoft-azure"}, "is_accepted": true, "score": 0, "last_activity_date": 1522267301, "creation_date": 1522267301, "answer_id": 49543202, "question_id": 49540428, "link": "https://stackoverflow.com/questions/49540428/how-to-upload-image-in-azure-blob-with-signalr/49543202#49543202", "title": "How to upload image in azure blob with SignalR", "body": "<p>You could upload the image files to an azure blob container, then from the server side send the direct blob's URI to the clients. I'd recommend checking the following thread: <strong><a href=\"https://stackoverflow.com/questions/24304673/signalr-chat-application-sending-images\">SignalR chat application sending images</a></strong></p>\n"}], "owner": {"reputation": 105, "user_id": 9526422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a922a28af8c6c813d03bda1cfbbb5c80?s=128&d=identicon&r=PG&f=1", "display_name": "Parmendra", "link": "https://stackoverflow.com/users/9526422/parmendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "accepted_answer_id": 49543202, "answer_count": 1, "score": 0, "last_activity_date": 1522267301, "creation_date": 1522256978, "question_id": 49540428, "link": "https://stackoverflow.com/questions/49540428/how-to-upload-image-in-azure-blob-with-signalr", "title": "How to upload image in azure blob with SignalR", "body": "<p>I am working on chat application how to upload and recieve image to azure blob with signalR.  Is there any other service better then SignalR for image upload to blob</p>\n"}, {"tags": ["c#", "asp.net-mvc", "lambda", "html-helper"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "is_accepted": true, "score": 5, "last_activity_date": 1522272462, "creation_date": 1522272462, "answer_id": 49544460, "question_id": 49540399, "link": "https://stackoverflow.com/questions/49540399/custom-html-helper-how-do-i-get-the-value-of-the-lambda-expression/49544460#49544460", "title": "Custom HTML helper : how do I get the value of the lambda expression?", "body": "<p>Your can read it from the <a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.modelmetadata(v=vs.118).aspx\" rel=\"noreferrer\">ModelMetadata</a>. Note that since your extension method uses a lambda, convention is that its name should be <code>ImageFor()</code></p>\n\n<pre><code>public static IHtmlString ImageFor&lt;TModel, TValue&gt;(this HtmlHelper&lt;TModel&gt; html,\n    Expression&lt;Func&lt;TModel, TValue&gt;&gt; imagePath)\n{\n    ModelMetadata metadata = ModelMetadata.FromLambdaExpression(expression, html.ViewData);\n    // Get the property name\n    string name = ExpressionHelper.GetExpressionText(expression);\n    // Get the property type\n    Type type = metadata.ModelType;\n    // Get the property value\n    object value = metadata.Model;\n</code></pre>\n\n<p>Note if you want the the model to always be <code>string</code>, then the signature can be</p>\n\n<pre><code>public static IHtmlString ImageFor&lt;TModel&gt;(this HtmlHelper&lt;TModel&gt; html,\n    Expression&lt;Func&lt;TModel, string&gt;&gt; imagePath)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 1814401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bd6123f986c3bda1b49527b8560534?s=128&d=identicon&r=PG", "display_name": "kahoona", "link": "https://stackoverflow.com/users/1814401/kahoona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 1, "accepted_answer_id": 49544460, "answer_count": 1, "score": 0, "last_activity_date": 1522275119, "creation_date": 1522256832, "last_edit_date": 1522275119, "question_id": 49540399, "link": "https://stackoverflow.com/questions/49540399/custom-html-helper-how-do-i-get-the-value-of-the-lambda-expression", "title": "Custom HTML helper : how do I get the value of the lambda expression?", "body": "<p>I want to create a custom HTML helper (Image) that is used in views of a mvc5 app. It is going to be called with a lambda expression, just like the out-of-the-box helper EditorFor</p>\n\n<pre><code>@Html.EditorFor(model =&gt; model.Name)\n@Html.Image(model =&gt; model.ImagePath)\n</code></pre>\n\n<p>Below is the empty helper I have. I need to get the value of the model.ImagePath variable (to create the img-tag). How is that done ? (I already know how to create the rest of the helper)</p>\n\n<pre><code>public static IHtmlString Image&lt;TModel, TValue&gt;(this HtmlHelper&lt;TModel&gt; html, Expression&lt;Func&lt;TModel, TValue&gt;&gt; imagePath) {\n\n}\n</code></pre>\n"}, {"tags": ["c#", ".net-core", "asp.net-core-2.0", "dllimport"], "comments": [{"owner": {"reputation": 66, "user_id": 1452988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d838fe7024810dab232e4a3e847c937?s=128&d=identicon&r=PG", "display_name": "Xavier", "link": "https://stackoverflow.com/users/1452988/xavier"}, "edited": false, "score": 0, "creation_date": 1522256782, "post_id": 49540369, "comment_id": 86087957, "body": "The staging env is a Windows server 2016 with .NET Core 2.1.4"}, {"owner": {"reputation": 196, "user_id": 4459963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44b694f04655be7aff3766ae56a3d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew D", "link": "https://stackoverflow.com/users/4459963/matthew-d"}, "edited": false, "score": 0, "creation_date": 1522257426, "post_id": 49540369, "comment_id": 86088331, "body": "Is the target DLL present in the system &quot;Path&quot; variable if it&#39;s not in the execution folder?"}, {"owner": {"reputation": 66, "user_id": 1452988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d838fe7024810dab232e4a3e847c937?s=128&d=identicon&r=PG", "display_name": "Xavier", "link": "https://stackoverflow.com/users/1452988/xavier"}, "reply_to_user": {"reputation": 196, "user_id": 4459963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44b694f04655be7aff3766ae56a3d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew D", "link": "https://stackoverflow.com/users/4459963/matthew-d"}, "edited": false, "score": 0, "creation_date": 1522307073, "post_id": 49540369, "comment_id": 86106939, "body": "Yes I&#39;ve tried that also. But to be clear: the dll is in the same folder as the executable."}, {"owner": {"reputation": 4484, "user_id": 2952453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ce6904d840f47967e884cde22b9bd16?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2952453/thomas"}, "edited": false, "score": 0, "creation_date": 1522659528, "post_id": 49540369, "comment_id": 86223009, "body": "Have you considered second level dependencies"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 1452988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d838fe7024810dab232e4a3e847c937?s=128&d=identicon&r=PG", "display_name": "Xavier", "link": "https://stackoverflow.com/users/1452988/xavier"}, "is_accepted": true, "score": 0, "last_activity_date": 1522741824, "creation_date": 1522741824, "answer_id": 49624898, "question_id": 49540369, "link": "https://stackoverflow.com/questions/49540369/unable-to-load-dll-when-process-not-started-in-the-current-directory-net-core/49624898#49624898", "title": "Unable to load DLL when process not started in the current directory (.NET Core 2.1.4)", "body": "<p>As Thomas suggested, it was related to the c++ runtime: it works in all situations if dependencies are all present in the current executable directory. A bit confusing as it worked in some cases without copying these dependencies (maybe a problem with the runtime installation) </p>\n"}], "owner": {"reputation": 66, "user_id": 1452988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d838fe7024810dab232e4a3e847c937?s=128&d=identicon&r=PG", "display_name": "Xavier", "link": "https://stackoverflow.com/users/1452988/xavier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 49624898, "answer_count": 1, "score": 0, "last_activity_date": 1522741824, "creation_date": 1522256745, "question_id": 49540369, "link": "https://stackoverflow.com/questions/49540369/unable-to-load-dll-when-process-not-started-in-the-current-directory-net-core", "title": "Unable to load DLL when process not started in the current directory (.NET Core 2.1.4)", "body": "<p>This is a .NET Core 2.0 console app that loads a C++ dll (DllImport). It \"works on my machine\" (windows 10, .NET Core 2.1.103) in all situations. \nBut when deployed in the staging env. it does not work if the exe is not executed from its current directory: if I run the executable from the parent directory, I get a <code>System.DllNotFoundException: Unable to load DLL '***' : The specified module could not be found. (Exception from HRESULT: 0x8007007E)</code></p>\n\n<p>The problem is that this process is started this way and I have no other choices! (i.e. started from a parent process located in a parent folder)</p>\n\n<p>I have tried to add a <code>SetCurrentDirectory</code> + <code>SetDllDirectory</code> in the <code>Main</code> method w/o any effects.</p>\n\n<p>To summarize:</p>\n\n<ul>\n<li>If the app is started from the CLI using <code>dotnet ***.dll</code>, it works from any directory</li>\n<li>If the app is started the same way from another process using <code>Process.Start()</code>, it fails</li>\n<li>If the app is published as an executable, it works using the CLI from its current directory</li>\n<li>But it fails from the parent directory and of course, also using <code>Process.Start()</code> (which is the final use case)</li>\n</ul>\n\n<p>Last detail: the <code>DllImport</code> is done in the context of an <code>Activator.CreateInstance</code> (using Windsor)</p>\n\n<p>A bit upset...</p>\n"}, {"tags": ["c#", "string"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 2, "creation_date": 1522256822, "post_id": 49540358, "comment_id": 86087984, "body": "I only see two lines why should there be 6 return numbers...can you give a clearer example?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522256917, "post_id": 49540358, "comment_id": 86088039, "body": "Yeah I cannot really understand what you are asking, I suggest editing your question."}, {"owner": {"reputation": 919, "user_id": 2088245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTsG0.jpg?s=128&g=1", "display_name": "Kevbo", "link": "https://stackoverflow.com/users/2088245/kevbo"}, "edited": false, "score": 0, "creation_date": 1522256987, "post_id": 49540358, "comment_id": 86088082, "body": "are you always grabbing the words at fixed positions or can it vary which words you want to grab?  Are you looking for the same words each time?  Your question is very vague."}, {"owner": {"reputation": 40193, "user_id": 3201, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc910d77c4d32a846860a8c51e9d6d71?s=128&d=identicon&r=PG", "display_name": "Galwegian", "link": "https://stackoverflow.com/users/3201/galwegian"}, "edited": false, "score": 0, "creation_date": 1522257151, "post_id": 49540358, "comment_id": 86088175, "body": "The 6 numbers are the indexes of the start and end of the three sections of underscores - the first &#39;blank&#39; starts at index 1 and ends at index 7, the second starts at position 9 and ends at 21 etc. Does that makes sense? Thanks"}, {"owner": {"reputation": 40193, "user_id": 3201, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc910d77c4d32a846860a8c51e9d6d71?s=128&d=identicon&r=PG", "display_name": "Galwegian", "link": "https://stackoverflow.com/users/3201/galwegian"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1522257254, "post_id": 49540358, "comment_id": 86088223, "body": "@Steve - there&#39;s a space between the fist two blanks."}, {"owner": {"reputation": 40193, "user_id": 3201, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc910d77c4d32a846860a8c51e9d6d71?s=128&d=identicon&r=PG", "display_name": "Galwegian", "link": "https://stackoverflow.com/users/3201/galwegian"}, "reply_to_user": {"reputation": 919, "user_id": 2088245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTsG0.jpg?s=128&g=1", "display_name": "Kevbo", "link": "https://stackoverflow.com/users/2088245/kevbo"}, "edited": false, "score": 0, "creation_date": 1522257313, "post_id": 49540358, "comment_id": 86088264, "body": "@Kevbo - I&#39;m always looking for the starting and end positions of the underscored areas. Thanks"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1522257449, "post_id": 49540358, "comment_id": 86088347, "body": "Take a look at <code>RegEx</code> and match groups, you could do what you ask in one line."}, {"owner": {"reputation": 919, "user_id": 2088245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTsG0.jpg?s=128&g=1", "display_name": "Kevbo", "link": "https://stackoverflow.com/users/2088245/kevbo"}, "edited": false, "score": 0, "creation_date": 1522257646, "post_id": 49540358, "comment_id": 86088454, "body": "based on what you said i dont think there is an easier method other than what you are doing.  Since you need the start and end index of each occurrence you are going to have to do the looping.  Hopefully someone else will have a better solution."}], "answers": [{"tags": [], "owner": {"reputation": 124629, "user_id": 7586, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ryqtb.jpg?s=128&g=1", "display_name": "Kobi", "link": "https://stackoverflow.com/users/7586/kobi"}, "is_accepted": true, "score": 4, "last_activity_date": 1522257811, "last_edit_date": 1522257811, "creation_date": 1522257460, "answer_id": 49540566, "question_id": 49540358, "link": "https://stackoverflow.com/questions/49540358/find-start-index-and-end-index-of-substring/49540566#49540566", "title": "Find start index and end index of substring", "body": "<p>You can use a simple regular expression for that:</p>\n\n<pre><code>var matches = Regex.Matches(s, \"_+\");\nvar result = new List&lt;int&gt;();\nforeach(Match m in matches)\n{\n    result.Add(m.Index);\n    result.Add(m.Index + m.Length - 1);\n}\nConsole.WriteLine(String.Join(\", \", result));\n</code></pre>\n\n<p>Working example: <a href=\"https://dotnetfiddle.net/GX9MXR\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/GX9MXR</a></p>\n\n<p>If you want to avoid underscored within words you can also use <code>@\"\\b_+\\b\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "is_accepted": false, "score": 3, "last_activity_date": 1522257529, "creation_date": 1522257529, "answer_id": 49540583, "question_id": 49540358, "link": "https://stackoverflow.com/questions/49540358/find-start-index-and-end-index-of-substring/49540583#49540583", "title": "Find start index and end index of substring", "body": "<p>This seems to do what you want, if you're averse to regular expressions:</p>\n\n<pre><code>public List&lt;int&gt; GetUnderscorePositions(string source)\n{\n   List&lt;int&gt; positions = new List&lt;int&gt;();\n   bool withinUnderscore = false;\n\n   for (int i = 0; i &lt; source.Length; i++) {\n        var c = source[i];\n        if (c == '_') {\n            if (withinUnderscore) {\n                continue;\n            }\n            else {\n                withinUnderscore = true;\n                positions.Add(i);\n            }\n        }\n        else if (withinUnderscore) {\n            withinUnderscore = false;\n            positions.Add(i - 1);   \n       }\n    }\n\n    return positions;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 124629, "user_id": 7586, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ryqtb.jpg?s=128&g=1", "display_name": "Kobi", "link": "https://stackoverflow.com/users/7586/kobi"}, "edited": false, "score": 0, "creation_date": 1522257935, "post_id": 49540662, "comment_id": 86088595, "body": "Nice trick. An edge case here is when the last block is at the end: <code>&quot;hello _____&quot;</code> - in this case <code>&quot;_ &quot;</code> will not be found."}, {"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "reply_to_user": {"reputation": 124629, "user_id": 7586, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ryqtb.jpg?s=128&g=1", "display_name": "Kobi", "link": "https://stackoverflow.com/users/7586/kobi"}, "edited": false, "score": 0, "creation_date": 1522258839, "post_id": 49540662, "comment_id": 86089121, "body": "Good point.  I&#39;m sure there is a way to tweak it.  I just wanted to point out it could be done using only the string library.  Also, I really like that regex answer, it&#39;s almost too simple to be true!"}], "tags": [], "owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "is_accepted": false, "score": 2, "last_activity_date": 1522257844, "creation_date": 1522257844, "answer_id": 49540662, "question_id": 49540358, "link": "https://stackoverflow.com/questions/49540358/find-start-index-and-end-index-of-substring/49540662#49540662", "title": "Find start index and end index of substring", "body": "<p>You can find all of these using the various overloads of string.IndexOf().</p>\n\n<p>You can get the start of the first \"blank\" with:</p>\n\n<pre><code>sourceString.IndexOf('_');\n</code></pre>\n\n<p>Then the end of the first blank with:</p>\n\n<pre><code>sourceString.IndexOf(\"_ \");\n</code></pre>\n\n<p>The start of the second \"blank\" with:</p>\n\n<pre><code>sourceString.IndexOf('_', endBlank1Index + 1);\n</code></pre>\n\n<p>The end of the second \"blank\" with:</p>\n\n<pre><code>sourceString.IndexOf(\"_ \", startBlank2Index);\n</code></pre>\n\n<p>Rinse and repeat until no other occurrences are found.</p>\n"}], "owner": {"reputation": 40193, "user_id": 3201, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc910d77c4d32a846860a8c51e9d6d71?s=128&d=identicon&r=PG", "display_name": "Galwegian", "link": "https://stackoverflow.com/users/3201/galwegian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2426, "favorite_count": 1, "accepted_answer_id": 49540566, "answer_count": 3, "score": 2, "last_activity_date": 1522257844, "creation_date": 1522256697, "last_edit_date": 1522257197, "question_id": 49540358, "link": "https://stackoverflow.com/questions/49540358/find-start-index-and-end-index-of-substring", "title": "Find start index and end index of substring", "body": "<p>I have a string like \"________ _____________ occurs when a behaviour is immediately followed by the removal of an aversive ________ that increases the future frequency of the behaviour\"</p>\n\n<p>I want to return and array or list that has the first and last index position of each underscored area.</p>\n\n<p>e.g. in my example, I'd get (0, 7, 9, 21, 101, 108)</p>\n\n<p>The 6 numbers are the indexes of the start and end of the three sections of underscores - the first 'blank' starts at index 1 and ends at index 7, the second starts at position 9 and ends at 21 etc.</p>\n\n<p>This is what I've done so far but I'm stuck</p>\n\n<pre><code>public List&lt;int&gt; GetPositions(string source, string searchString)\n{\n    List&lt;int&gt; ret = new List&lt;int&gt;();\n    int len = searchString.Length;\n    int start = -len;\n    while (true)\n    {\n        start = source.IndexOf(searchString, start + len);\n        if (start == -1)\n        {\n            break;\n        }\n        else\n        {\n            ret.Add(start);\n        }\n    }\n    return ret;\n}\n</code></pre>\n"}, {"tags": ["c#", "azure", "azure-storage"], "comments": [{"owner": {"reputation": 1479, "user_id": 9151900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/527e08cf48386a0fc8d86a54f9486511?s=128&d=identicon&r=PG&f=1", "display_name": "Janley Zhang", "link": "https://stackoverflow.com/users/9151900/janley-zhang"}, "edited": false, "score": 0, "creation_date": 1522292172, "post_id": 49540343, "comment_id": 86101955, "body": "According to your error message, I suppose it is related with the file access permissions.  I find a <a href=\"https://stackoverflow.com/questions/20928736/system-unauthorizedaccessexception-occurred-in-mscorlib-dll-while-trying-to\">thread</a> which has similar issue. You could refer to. And you could set a break point to check your code lines one by one. Besides, you could also provide the screenshot about running result  for us."}, {"owner": {"reputation": 155, "user_id": 5881517, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ddcc53f62fab84a82bce777dcdc911af?s=128&d=identicon&r=PG&f=1", "display_name": "raghav", "link": "https://stackoverflow.com/users/5881517/raghav"}, "reply_to_user": {"reputation": 1479, "user_id": 9151900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/527e08cf48386a0fc8d86a54f9486511?s=128&d=identicon&r=PG&f=1", "display_name": "Janley Zhang", "link": "https://stackoverflow.com/users/9151900/janley-zhang"}, "edited": false, "score": 0, "creation_date": 1522315672, "post_id": 49540343, "comment_id": 86112017, "body": "@JanleyZhang Can you post me a link or something where I can get a code for zip download."}, {"owner": {"reputation": 1479, "user_id": 9151900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/527e08cf48386a0fc8d86a54f9486511?s=128&d=identicon&r=PG&f=1", "display_name": "Janley Zhang", "link": "https://stackoverflow.com/users/9151900/janley-zhang"}, "edited": false, "score": 0, "creation_date": 1522316992, "post_id": 49540343, "comment_id": 86112995, "body": "Did you mean you have unzipped your zip file in azure container, you want to download all files to local folder?"}, {"owner": {"reputation": 155, "user_id": 5881517, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ddcc53f62fab84a82bce777dcdc911af?s=128&d=identicon&r=PG&f=1", "display_name": "raghav", "link": "https://stackoverflow.com/users/5881517/raghav"}, "reply_to_user": {"reputation": 1479, "user_id": 9151900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/527e08cf48386a0fc8d86a54f9486511?s=128&d=identicon&r=PG&f=1", "display_name": "Janley Zhang", "link": "https://stackoverflow.com/users/9151900/janley-zhang"}, "edited": false, "score": 0, "creation_date": 1522317123, "post_id": 49540343, "comment_id": 86113079, "body": "No i don want to put it any folder i just wont to download the zip file then unzipping it and whatever file it has just return it from the filestramreasult so that it get downloaded"}], "answers": [{"tags": [], "owner": {"reputation": 22308, "user_id": 7005159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550c3427cedf0d13b6d2b03bf25a793f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Sun - MSFT", "link": "https://stackoverflow.com/users/7005159/tom-sun-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1522377303, "creation_date": 1522377303, "answer_id": 49567667, "question_id": 49540343, "link": "https://stackoverflow.com/questions/49540343/download-a-file-after-unzipping-it-from-azure-in-c/49567667#49567667", "title": "Download a file after unzipping it from azure in c#", "body": "<p>We could get the unzip stream with following code. </p>\n\n<pre><code>public MemoryStream GetFile(string strPath)\n        {\n            try\n            {\n                var filename = Path.GetFileName(strPath);\n                string account = ConfigurationManager.AppSettings[\"accountName\"];\n                string key = ConfigurationManager.AppSettings[\"accountKey\"];\n                string containerName = \"test\";\n                string connectionString =$\"DefaultEndpointsProtocol=https;AccountName={account};AccountKey={key}\";\n                CloudStorageAccount storageAccount = CloudStorageAccount.Parse(connectionString);\n                var blobClient = storageAccount.CreateCloudBlobClient();\n                CloudBlobContainer container = blobClient.GetContainerReference(containerName);\n                CloudBlockBlob blob = container.GetBlockBlobReference(filename);\n                MemoryStream memory = new MemoryStream();\n                blob.DownloadToStream(memory);\n                var zipArchive = new ZipArchive(memory, ZipArchiveMode.Read, true);\n                var entry = zipArchive.Entries.First();\n                if (entry != null)\n                {\n                    var stream = entry.Open();\n                    memory = new MemoryStream();\n                    stream.CopyTo(memory);\n                    memory.Position = 0;\n                    return memory;\n                }\n\n                return null;\n            }\n            catch (Exception)\n            {\n                // download failed\n                // handle exception\n                throw;\n            }\n        }\n</code></pre>\n\n<p>If we want to down to file, then we could use  <code>File.WriteAllBytes(strPath,memory.ToArray());</code> or  <code>fileStream.Write(memory.ToArray(),0,memory.ToArray().Length-1);</code></p>\n\n<pre><code> public void Download(string strPath)\n    {\n            var memory = GetFile(strPath);\n\n            string filename = \"Report_\" + DateTime.Now;\n            var fileStream = new FileStream(filename,\n            FileMode.CreateNew,\n            FileAccess.ReadWrite);\n            // File.WriteAllBytes(strPath,memory.ToArray());\n            fileStream.Write(memory.ToArray(),0,memory.ToArray().Length-1);\n    }\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 5881517, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ddcc53f62fab84a82bce777dcdc911af?s=128&d=identicon&r=PG&f=1", "display_name": "raghav", "link": "https://stackoverflow.com/users/5881517/raghav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522377303, "creation_date": 1522256644, "last_edit_date": 1522304705, "question_id": 49540343, "link": "https://stackoverflow.com/questions/49540343/download-a-file-after-unzipping-it-from-azure-in-c", "title": "Download a file after unzipping it from azure in c#", "body": "<p>I have zipped a file and upload to a blob in azure , but I am unable to download it after unzipping it. I have tried the below code but it is throwing error:</p>\n\n<pre><code>public FileStream Download(string strPath)\n{\n    Stream fs = GetFile(strPath);\n    using (ZipArchive zip = new ZipArchive(fs))\n    {\n        var entry = zip.Entries.First();\n        var memoryStream = entry.Open();\n        string filename = \"Report_\" + GetUploadTime();\n        using (var fileStream = new FileStream(filename,\n                                               FileMode.CreateNew,\n                                               FileAccess.ReadWrite))\n        {\n            memoryStream.CopyTo(fileStream); // fileStream is not populated\n            return fileStream;\n        }\n    }\n}\n</code></pre>\n\n<p><code>System.UnauthorizedAccessException</code> occurred in mscorlib.dll but was not handled in user code, I do not want to create any folder or keep it anywhere just unzip and download how to do it.</p>\n\n<pre><code>public Stream GetFile(string strPath)\n{\n    try\n    {\n        var filename = Path.GetFileName(strPath);\n        string account = ConfigurationManager.AppSettings[\"BlobContainer\"];\n        string key = ConfigurationManager.AppSettings[\"BlobKey\"];\n        string connectionString =\n            string.Format(\"DefaultEndpointsProtocol=https;AccountName={0};AccountKey={1}\",\n                          account, key);\n        CloudStorageAccount storageAccount =\n        CloudStorageAccount.Parse(connectionString);\n        var blobClient = storageAccount.CreateCloudBlobClient();\n\n        CloudBlobContainer container = blobClient.GetContainerReference(\"reportportalblob\");\n        CloudBlockBlob blob = container.GetBlockBlobReference(filename);\n\n        Stream blobStream = blob.OpenRead();\n\n        return blobStream;\n    }\n    catch (Exception)\n    {\n        // download failed\n        // handle exception\n        throw;\n    }\n}\n</code></pre>\n\n<p>I have search for some code but I am not getting anything, please help.</p>\n"}, {"tags": ["c#", "c#-4.0", "net-sftp"], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 3153960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCpFC.png?s=128&g=1", "display_name": "SazooCat", "link": "https://stackoverflow.com/users/3153960/sazoocat"}, "is_accepted": false, "score": 0, "last_activity_date": 1550045446, "creation_date": 1550045446, "answer_id": 54665316, "question_id": 49540327, "link": "https://stackoverflow.com/questions/49540327/how-to-read-the-content-in-a-file-which-is-residing-in-sftp-using-c/54665316#54665316", "title": "How to read the content in a file which is residing in SFTP using c#", "body": "<p>I do not believe that is possible, in order to have read the content you will by definition have brought the bytes of data locally.</p>\n\n<p>Do you mean you want to avoid saving it to disk? You should be able to download it directly into memory rather than disk, write it to a memory stream instead of a file?</p>\n\n<p>This question has been sat here a long time you've probably found a different solution by now.  You could answer your own question now?</p>\n"}], "owner": {"reputation": 43, "user_id": 9534846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Bnq5PL2pegs/AAAAAAAAAAI/AAAAAAAAABY/SEJb7urs3es/photo.jpg?sz=128", "display_name": "sreeprasad k s", "link": "https://stackoverflow.com/users/9534846/sreeprasad-k-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550045446, "creation_date": 1522256560, "last_edit_date": 1522256655, "question_id": 49540327, "link": "https://stackoverflow.com/questions/49540327/how-to-read-the-content-in-a-file-which-is-residing-in-sftp-using-c", "title": "How to read the content in a file which is residing in SFTP using c#", "body": "<p>I want to read the content in a file which is residing in SFTP using c#. I'm able to fetch the file from the SFTP and download it. I want to read the data in the file without downloading. Could anyone help me on this?</p>\n\n<pre><code>    foreach (var fi in listDirectory)\n                {\n                    Console.WriteLine(fi.Name);\n                    if (fi.Name.Contains(\".xml\") )\n                    {\n                        string remoteFileName = fi.Name;\n                        using (Stream file1 = File.OpenRead(target + remoteFileName))\n                     {                     \n                                Console.WriteLine(file1);\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "android", "xamarin"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1522256296, "post_id": 49540225, "comment_id": 86087674, "body": "What is the specific problem you&#39;re having?  Are you getting an error or exception?  Which line is causing the problem?"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 1, "creation_date": 1522257003, "post_id": 49540225, "comment_id": 86088091, "body": "On Android, <code>MyDocuments</code> is mapped to <code>&#47;files</code>, so did you check there and didn&#39;t find the file?"}], "answers": [{"tags": [], "owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "is_accepted": false, "score": 0, "last_activity_date": 1522710615, "creation_date": 1522710615, "answer_id": 49620009, "question_id": 49540225, "link": "https://stackoverflow.com/questions/49540225/cant-create-txt-file-with-xamarin-forms-c-in-android/49620009#49620009", "title": "Can&#39;t Create Txt file with xamarin.forms c# in Android", "body": "<p>I recommend using Isolated Storage. It is a library that puts a layer over all the platforms and will store data in the device's local storage in an isolated way so that only your app can access it.</p>\n\n<p><a href=\"https://developer.xamarin.com/api/namespace/System.IO.IsolatedStorage/\" rel=\"nofollow noreferrer\">https://developer.xamarin.com/api/namespace/System.IO.IsolatedStorage/</a></p>\n\n<p>It's similar to using normal C# file access but you don't have to worry about the device's full path as that's not relevant to you unless you need to expose the file to other applications.</p>\n"}], "owner": {"reputation": 1, "user_id": 5505602, "user_type": "registered", "profile_image": "https://graph.facebook.com/931972920227430/picture?type=large", "display_name": "Brandon Reyna", "link": "https://stackoverflow.com/users/5505602/brandon-reyna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 639, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522710615, "creation_date": 1522256179, "last_edit_date": 1522256676, "question_id": 49540225, "link": "https://stackoverflow.com/questions/49540225/cant-create-txt-file-with-xamarin-forms-c-in-android", "title": "Can&#39;t Create Txt file with xamarin.forms c# in Android", "body": "<p>So I'm trying to create a txt file for every new day using standard c#. I don't know if I need permission from the OS or something. I set you breakpoints it the code goes as if it did create the txt file but when I check the storage in the device it's nowhere to be found. This is my code:</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Collections.Generic;\n\nnamespace TacosSales.Helpers\n{\n    public class RegisterSale\n    {\n        public void DailySale(int sale, int sodas, int tacos)\n        {\n            var documents = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments);\n            var filename = System.IO.Path.Combine(documents, $\"ventas_{DateTime.Today.ToString(\"yy-MMM-dd\")}.txt\");\n            string time = DateTime.Now.ToString(\"t\");\n            if (!File.Exists(filename))\n            {\n                File.WriteAllText(filename, $\"{time}\\n--------------\\nVenta: {sale}\\nTacos: {tacos}\\nSodas: {sodas}\\n\");\n\n            }\n            else\n            {\n                using (StreamWriter file = new StreamWriter(myFile, true))\n                {\n                    file.WriteLine($\"{time}: {sale}\\nTacos: {tacos}\\nSodas: {sodas}\\n\");\n                }\n            }\n\n        }\n</code></pre>\n\n<p>Any guidance will be appreciated. </p>\n"}, {"tags": ["c#", ".net", "json", "asp.net-core"], "comments": [{"owner": {"reputation": 2893, "user_id": 815558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa03437714f1eee7f21f31c24b642775?s=128&d=identicon&r=PG", "display_name": "Lee O.", "link": "https://stackoverflow.com/users/815558/lee-o"}, "edited": false, "score": 1, "creation_date": 1522256359, "post_id": 49540145, "comment_id": 86087718, "body": "The linq statement doesn&#39;t seem like it does anything other than copy the original list and return that. I&#39;d think you could remove it and just return premiumDetails."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1522257832, "post_id": 49540145, "comment_id": 86088547, "body": "<a href=\"https://aspnetmonsters.com/2016/08/2016-08-27-httpclientwrong/\" rel=\"nofollow noreferrer\">You&#39;re using HttpClient wrong and it&#39;s destabilizing your software</a>. I recommend you look into <a href=\"http://tmenier.github.io/Flurl/fluent-http/\" rel=\"nofollow noreferrer\">Flurl.Http</a> or <a href=\"http://restsharp.org/\" rel=\"nofollow noreferrer\">RestSharp</a> which simplifies working with HTTP services and avoids the pitfalls associated with HttpClient."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1522257949, "post_id": 49540145, "comment_id": 86088606, "body": "Do not access <code>.Result</code> on an asynchronous call. That can cause problems. If you need the result, then call <code>await</code> on the method. Please read <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">Async/Await - Best Practices in Asynchronous Programming</a>."}], "answers": [{"comments": [{"owner": {"reputation": 792, "user_id": 9464133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxWk0MGo77I/AAAAAAAAAAI/AAAAAAAAAFk/yuV6jFZDsWA/photo.jpg?sz=128", "display_name": "thenolin", "link": "https://stackoverflow.com/users/9464133/thenolin"}, "edited": false, "score": 0, "creation_date": 1522259952, "post_id": 49540273, "comment_id": 86089746, "body": "What is the CultureInfo.InvariantCulture supposed to reference near the end?"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1522262401, "post_id": 49540273, "comment_id": 86091162, "body": "You don&#39;t need the <code>ToString(CultureInfo.InvariantCulture</code>)` if you change <code>CoveragePremium.premiumAnnual</code> to <code>double</code> or <code>decimal</code>. The reason it is there in the answer is to convert from <code>double</code> to <code>string</code>."}, {"owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "reply_to_user": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1522263768, "post_id": 49540273, "comment_id": 86092001, "body": "@RacilHilan says right. If you change <code>CoveragePremium.premiumAnnual</code> to double or decimal there is no needs to <code>ToString</code>, but I do not want to change your return type. Hence, I have to convert double to string.   I configure my IDE for adding <code>CultureInfo.InvariantCulture</code> automatically. Development and Production environment has not the same culture some times,so that I generally try to execute cast/convertion operation with InvariantCulture options. You can use <code>ToString()</code> also."}], "tags": [], "owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "is_accepted": false, "score": 0, "last_activity_date": 1522258060, "last_edit_date": 1522258060, "creation_date": 1522256355, "answer_id": 49540273, "question_id": 49540145, "link": "https://stackoverflow.com/questions/49540145/extract-json-info-and-put-into-object/49540273#49540273", "title": "Extract JSON info and put into object", "body": "<p>Your data example structure is valid json form. </p>\n\n<pre><code>{\"data\":{\"coverageOptions\":[{\"premiumAnnual\":11257.9284 }],\"errorMessages\":[],\"success\":true}}\n</code></pre>\n\n<p>I presume your sample likes above.</p>\n\n<pre><code>public class CoveragePremium\n{\n    public string premiumAnnual { get; set; }\n}\n\npublic class CoverageOption\n{\n    public double premiumAnnual { get; set; }\n}\n\npublic class Data\n{\n    public List&lt;CoverageOption&gt; coverageOptions { get; set; }\n    public List&lt;string&gt; errorMessages { get; set; }\n    public bool success { get; set; }\n}\n\npublic class ResultObject\n{\n    public Data data { get; set; }\n}\n\nstatic void Main(string[] args)\n{\n    string getPremiumResult = \"{\\\"data\\\":{\\\"coverageOptions\\\":[{\\\"premiumAnnual\\\":11257.9284 }],\\\"errorMessages\\\":[],\\\"success\\\":true}}\";\n    var result = JsonConvert.DeserializeObject&lt;ResultObject&gt;(getPremiumResult);\n\n    IEnumerable&lt;CoveragePremium&gt; premiumResults = from value in result.data.coverageOptions\n                                                      select new CoveragePremium\n                                                      {\n                                                          premiumAnnual = value.premiumAnnual.ToString(CultureInfo.InvariantCulture)\n                                                      };\n\n    Console.ReadKey();\n}\n</code></pre>\n\n<p>I hope this structure is meet your needs</p>\n"}, {"tags": [], "owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "is_accepted": true, "score": 0, "last_activity_date": 1522263674, "creation_date": 1522263674, "answer_id": 49542245, "question_id": 49540145, "link": "https://stackoverflow.com/questions/49540145/extract-json-info-and-put-into-object/49542245#49542245", "title": "Extract JSON info and put into object", "body": "<p>The error that you're getting is clear. The JSON that you're getting has one single object and you're trying to deserialize it to a list <code>List&lt;CoveragePremium&gt;</code>. I would've told you to remove the <code>List&lt;&gt;</code>:</p>\n\n<pre><code>var premiumDetails = JsonConvert.DeserializeObject&lt;CoveragePremium&gt;(getPremiumResult);\n</code></pre>\n\n<p>But that wouldn't work because your <code>CoveragePremium</code> class doesn't match the JSON object that you're getting. The two must match, or the deserialization will fail. If you don't want the <code>errorMessages</code> and <code>success</code>, and all you care about is the <code>premiumAnnual</code> inside <code>coverageOptions</code>, then you need to create those classes and properties at minimum:</p>\n\n<pre><code>public class RootObject {\n    public Data data { get; set; }\n}\n\npublic class Data {\n    public List&lt;CoverageOption&gt; coverageOptions { get; set; }\n    //If you want to include the other properties, uncomment the lines below:\n    //public List&lt;string&gt; errorMessages { get; set; }\n    //public bool success { get; set; }\n}\n\npublic class CoverageOption {\n    public decimal premiumAnnual { get; set; }\n}\n</code></pre>\n\n<p>Now you can change your line to:</p>\n\n<pre><code>var premiumDetails = JsonConvert.DeserializeObject&lt;RootObject&gt;(getPremiumResult);\n</code></pre>\n\n<p>However, in your LINQ, you're selecting <code>premiumAnnual</code> into a <code>CoveragePremium</code> object which has its <code>premiumAnnual</code> as <code>string</code>. It is probably better to change it to <code>decimal</code> so you can use the value later as a number instead of a string:</p>\n\n<pre><code>public class CoveragePremium {\n    public decimal premiumAnnual { get; set; }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 792, "user_id": 9464133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxWk0MGo77I/AAAAAAAAAAI/AAAAAAAAAFk/yuV6jFZDsWA/photo.jpg?sz=128", "display_name": "thenolin", "link": "https://stackoverflow.com/users/9464133/thenolin"}, "edited": false, "score": 1, "creation_date": 1522329013, "post_id": 49542595, "comment_id": 86121369, "body": "This along with the other answers worked out perfect. Thanks for helping me out!"}], "tags": [], "owner": {"reputation": 866, "user_id": 4644650, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZMYJD.jpg?s=128&g=1", "display_name": "Coke", "link": "https://stackoverflow.com/users/4644650/coke"}, "is_accepted": false, "score": 0, "last_activity_date": 1522265014, "creation_date": 1522265014, "answer_id": 49542595, "question_id": 49540145, "link": "https://stackoverflow.com/questions/49540145/extract-json-info-and-put-into-object/49542595#49542595", "title": "Extract JSON info and put into object", "body": "<p>To avoid errors while creating JSON classes in .NET, you can copy your JSON file and go to Visual Studio=>Edit=>Paste Special=>Paste JSON as classes. Once you do it, it will transform your JSON formatted file into classes:</p>\n\n<pre><code>public class Rootobject\n{\n    public Data data { get; set; }\n}\n\npublic class Data\n{\n    public Coverageoption[] coverageOptions { get; set; }\n    public object[] errorMessages { get; set; }\n    public bool success { get; set; }\n}\n\npublic class Coverageoption\n{\n    public float premiumAnnual { get; set; }\n}\n\n\nstring yourJsonString= \"{\"data\":{\"coverageOptions\":[{\"premiumAnnual\":11257.9284 }],\"errorMessages\":[],\"success\":true}}\";\nvar result = JsonConvert.DeserializeObject&lt;Rootobject&gt;(yourJsonString);\n</code></pre>\n\n<p>Now you can access your data as:</p>\n\n<pre><code>var ifSuccess = result.data.success;\nvar coverageOption = result.data.coverageOptions[0].premiumAnnual;\n</code></pre>\n"}], "owner": {"reputation": 792, "user_id": 9464133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxWk0MGo77I/AAAAAAAAAAI/AAAAAAAAAFk/yuV6jFZDsWA/photo.jpg?sz=128", "display_name": "thenolin", "link": "https://stackoverflow.com/users/9464133/thenolin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 49542245, "answer_count": 3, "score": 1, "last_activity_date": 1536774232, "creation_date": 1522255842, "last_edit_date": 1536774232, "question_id": 49540145, "link": "https://stackoverflow.com/questions/49540145/extract-json-info-and-put-into-object", "title": "Extract JSON info and put into object", "body": "<p>So far I'm getting a valid response from my service with the populated JSON. My issue is how I'm supposed to parse through the JSON in order to put the <code>pAnn</code> into my object. I'm designing this for potential future use in the case that I need to assign more values from this JSON to objects. If there is an easier way to go about this, please let me know.  </p>\n\n<pre><code>public IEnumerable&lt;CP&gt; GetP()\n{\n    string pURL, getPResult;\n    var handler = new HttpClientHandler();\n\n    handler.Credentials = new NetworkCredential(\"username\", \"password\");\n\n    using (HttpClient client = new HttpClient(handler))\n    {\n        pURL = String.Concat(validurl + 5854);\n        client.BaseAddress = new Uri(pURL);                \n        HttpResponseMessage result = client.GetAsync(client.BaseAddress).Result;       \n\n        if (!result.IsSuccessStatusCode)\n        {\n            throw new WebException();\n        }\n        else\n        {\n            getPResult = result.Content.ReadAsStringAsync().Result;\n        }                 \n\n        var pDetails = JsonConvert.DeserializeObject&lt;List&lt;CP&gt;&gt;(getPResult);\n\n        IEnumerable&lt;CP&gt; pResults = from cOpt in pDetails\n                                                      select new CP\n                                                      {\n                                                          pAnn = cO.pAnn\n                                                      };\n        return pResults;\n    }\n}\n</code></pre>\n\n<p>Here is my object:       </p>\n\n<pre><code>public class CP\n{\n    public string pAnn { get; set; }\n}\n</code></pre>\n\n<p>Here is my JSON info I'm getting back:</p>\n\n<pre><code>{\"data\":{.... \"cO\":[{..... \"pAnn\":11111.11 .... },\"errorMessages\":[],\"success\":true}\n</code></pre>\n\n<p>I get an error at the <code>JsonConvert.DeserializeObject</code> line:</p>\n\n<blockquote>\n  <p>Newtonsoft.Json.JsonSerializationException occurred Message=Cannot\n  deserialize the current JSON object (e.g. {\"name\":\"value\"}) into type\n  'System.Collections.Generic.List because the type requires a JSON\n  array (e.g. [1,2,3]) to deserialize correctly. To fix this error\n  either change the JSON to a JSON array (e.g. [1,2,3]) or change the\n  deserialized type so that it is a normal .NET type (e.g. not a\n  primitive type like integer, not a collection type like an array or\n  List) that can be deserialized from a JSON object.\n  JsonObjectAttribute can also be added to the type to force it to\n  deserialize from a JSON object.</p>\n</blockquote>\n"}]