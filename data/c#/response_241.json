[{"tags": ["c#", "math", "precision"], "comments": [{"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1566432007, "post_id": 57600416, "comment_id": 101658137, "body": "Disregarding the fact this has errors in it (which you should have fixed) and your wording is ambiguous. are you saying if i input the other values scattered around in comments, that it should equal false or true? As both tests equal true for me"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1566432169, "post_id": 57600416, "comment_id": 101658158, "body": "Can you perhaps, fix your errors, and make 2 simple tests to prove your point with the expected results"}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1566433354, "post_id": 57600416, "comment_id": 101658339, "body": "Your <code>Equals</code> function is a bit strange. Surely you want <code>if (a &lt;= tolerance)</code>?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 1, "creation_date": 1566434235, "post_id": 57600416, "comment_id": 101658474, "body": "@John: it may or may not be the best way for them to write the method, but it seems clear that it is what they <i>want</i>. That is, the method scales <code>d1</code> by the <code>tolerance</code> value, and uses that as the threshold for equality. Personally, I think that&#39;s wrong, because how far apart two numbers need to be for them to not be equal any more shouldn&#39;t have anything to do with the <i>magnitude</i> of those numbers -- after all, doing it this way would mean that nothing could be equal to <code>0</code>, while very large numbers can be far apart and still equal."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 1, "creation_date": 1566434318, "post_id": 57600416, "comment_id": 101658486, "body": "As @TheGeneral suggests, your question is in great need of improvement. Please fix it so it includes a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, with a detailed explanation of what that code does, what you expected/wanted it to do instead, and what <i>specifically</i> you need help with. What have you done to try to figure it out, and where are you stuck? (The code above is clearly just bogus, because you can&#39;t return a <code>bool</code> in a method declared as returning <code>int</code>)"}, {"owner": {"reputation": 101, "user_id": 3581488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ldxvX.jpg?s=128&g=1", "display_name": "fr332lanc3", "link": "https://stackoverflow.com/users/3581488/fr332lanc3"}, "edited": false, "score": 0, "creation_date": 1566512895, "post_id": 57600416, "comment_id": 101690234, "body": "Sorry about that, changed int to bool (error when copying over the console application test)."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 3581488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ldxvX.jpg?s=128&g=1", "display_name": "fr332lanc3", "link": "https://stackoverflow.com/users/3581488/fr332lanc3"}, "edited": false, "score": 0, "creation_date": 1566513085, "post_id": 57600874, "comment_id": 101690277, "body": "Thank you, The goal was to use one calculation that identified if it fell on a line or could be considered &quot;inside / to the left&quot; or &quot;outside / to the right&quot; and begin working towards a way to identify points could be contained inside some other complex shape.  Struggling with basic examples I am hoping to slowly build up the solution working with CAD drawings."}, {"owner": {"reputation": 2804, "user_id": 11652943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qw3Ef.png?s=128&g=1", "display_name": "AbdelAziz AbdelLatef", "link": "https://stackoverflow.com/users/11652943/abdelaziz-abdellatef"}, "reply_to_user": {"reputation": 101, "user_id": 3581488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ldxvX.jpg?s=128&g=1", "display_name": "fr332lanc3", "link": "https://stackoverflow.com/users/3581488/fr332lanc3"}, "edited": false, "score": 0, "creation_date": 1566515083, "post_id": 57600874, "comment_id": 101690710, "body": "Then you should make these two tasks separately. First check if it is on the line using <code>return Equals(value, 0)</code> and if it is not on the line you can use <code>Math.Sign(value)</code> to determine its position secondly."}], "tags": [], "owner": {"reputation": 2804, "user_id": 11652943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qw3Ef.png?s=128&g=1", "display_name": "AbdelAziz AbdelLatef", "link": "https://stackoverflow.com/users/11652943/abdelaziz-abdellatef"}, "is_accepted": true, "score": 1, "last_activity_date": 1566436363, "creation_date": 1566436363, "answer_id": 57600874, "question_id": 57600416, "link": "https://stackoverflow.com/questions/57600416/checking-if-a-point-is-on-a-line-segment-works-except-in-some-cases-rounding-e/57600874#57600874", "title": "Checking if a point is on a line segment, works except in some cases (rounding error?)", "body": "<p>You made two mistakes. First, you used Sign function in \"Return Equals(Math.Sign(value), 0);\", which will give you the value of 1 for any positive number and value of -1 for any negative number. This will destroy your attempt to use tolerance. Second, you tried to compare the difference with a ratio of the first number \"b = Math.Abs(d1 * tolerance)\", which will always return False. I recommend you compare it with tolerance itself, like this.</p>\n\n<pre><code>public static bool Sign(Point Point1, Point Point2, Point point)\n{\n    double value = (Point2.X - Point1.X) * (point.Y - Point1.Y) - (Point2.Y - Point1.Y) * (point.X - Point1.X);\n    return Equals(value, 0);\n}\n\npublic static bool Equals(double d1, double d2, double tolerance = 0.000001)\n{\n    double a = Math.Abs(d1 - d2);\n    if (a &lt;= tolerance)\n        return true;\n    return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 3581488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ldxvX.jpg?s=128&g=1", "display_name": "fr332lanc3", "link": "https://stackoverflow.com/users/3581488/fr332lanc3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 57600874, "answer_count": 1, "score": 1, "last_activity_date": 1566512865, "creation_date": 1566431134, "last_edit_date": 1566512865, "question_id": 57600416, "link": "https://stackoverflow.com/questions/57600416/checking-if-a-point-is-on-a-line-segment-works-except-in-some-cases-rounding-e", "title": "Checking if a point is on a line segment, works except in some cases (rounding error?)", "body": "<p>For the issue below, is it a matter of I'm so close to zero but comparing zero with a tolerance won't work? The more precise the numbers, the more my check for an arc's point on a line fails and the less precise the more it works. The CAD drawing does have an arc that has a point on a line segment and that is where I get my input co-ordinates from for this test.</p>\n\n<pre><code>class Line\n{\n   public Point Point1 {get;set;}\n   public Point Point2 {get;set;}\n   public Line(double x1, double y1, double x2, double y2)\n   {\n      Point1 = new Point(x1,y1); Point2 = new Point(x2,y2);\n   }\n}\n\nclass Point\n{ \n   public double X {get;set;}\n   public double Y {get;set;}\n   public Point (double x, double y)\n   {\n       X = x; Y = y;\n  }\n}\n\n//4 decimal place numbers, works\nPoint arcEnd = new Point(3.8421, 16.9538); // these numbers don't \n//3.84212141717697, \n//16.9538136440052\nPoint arcStart = new Point(4.0921, 17.2038);\n\n//test an arc point on/off the line\nLine line = new Line(3.9336, 16.9538, 3.7171, 16.9538); \n//these numbers don't 3.93362776812308, 16.9538136440053, \n//3.71712141717697, 16.9538136440054\n\nbool on_line = Sign(line.Point1, line.Point2, arcEnd) //true\n\n//more precise numbers, from CAD / dxf drawing for line and arc, arc end \n//point touches somewhere on the line (included in comments above, fail)\n//so on_line = true for the above inputs and the Sign function gives zero, \n//but when using the commented precise numbers sign gives back 1 and the \n//value computed in sign is 3.0639866299190109E-14.\n\n\n\n\npublic static bool Sign(Point Point1, Point Point2, Point point)\n{\n    double value = (Point2.X - Point1.X) * (p.Y - Point1.Y) - (Point2.Y - Point1.Y) * (p.X - Point1.X);\n\n    return Equals(Math.Sign(value), 0);\n}\n\npublic static bool Equals(double d1, double d2, double tolerance=0.000001)\n{\n    double a = Math.Abs(d1 - d2);\n    double b = Math.Abs(d1 * tolerance);\n\n    if (a &lt;= b)\n    {\n       return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>Reviewed formulas and stack overflow, the algorithm works a majority of the time but found cases it fails and I traced it to the included example and identified my check is giving back Sign = 1 not Sign = 0 for the above inputs and more precision.</p>\n"}, {"tags": ["c#", "audio", "video", "c++-cli", "ms-media-foundation"], "comments": [{"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566477166, "post_id": 57600395, "comment_id": 101674136, "body": "You&#39;ll need separate threads and queues for audio and video processing. Each thread will wait for the time corresponding to the first sample in its queue and will send the sample to the renderer/writer when it is time for it."}, {"owner": {"reputation": 13, "user_id": 11736332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJ935.jpg?s=128&g=1", "display_name": "Victor Reis", "link": "https://stackoverflow.com/users/11736332/victor-reis"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566508822, "post_id": 57600395, "comment_id": 101689228, "body": "Thanks for answering. I already have the threads for each stream and their corresponding sample queues. By the way you commented, you mean I have to use the values of (Duration and the sample presentation time obtained from the queue)? If so, should I implement a delay with the sample presentation time? I&#39;m kind of lost yet. How will I process the sample at the time of presentation of the same?"}, {"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566542196, "post_id": 57600395, "comment_id": 101696022, "body": "Yes, you keep the samples in corresponding queues (the samples are reference counted and if the source uses some memory pool it might get blocked if too many samples are queued). You must have a producer thread for each queue and one consumer thread. The consumer thread polls the queues and finds the smallest presentation time sample from the queues. Then the consumer thread fetches that sample from its queue (removes it from the queue) and sends it to the rest of the pipeline (writer/renderer)."}, {"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566584923, "post_id": 57600395, "comment_id": 101716421, "body": "The renderers will properly delay each sample that is sent to them. You don\u2019t need to delay it. Otherwise if you only use writers for muxing then you\u2019ll need the samples to be processed as quickly as possible"}, {"owner": {"reputation": 13, "user_id": 11736332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJ935.jpg?s=128&g=1", "display_name": "Victor Reis", "link": "https://stackoverflow.com/users/11736332/victor-reis"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566591757, "post_id": 57600395, "comment_id": 101718567, "body": "Before making any changes to the code let me know if I understand. The (production) threads are like &quot;Factory&quot;, they will be monitoring the amount of samples in their queues and will be requesting new ones for the reader (IMFSourceReader). The thread (Consumer) is like a &quot;Client&quot;, it will look in both buffers (Audio and Video) which has the shortest presentation time and send it to the appropriate renderer (SAR or EVR), excluding it from the buffer from which it was obtained. Let me know if this is what you wanted to teach me!"}, {"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566593133, "post_id": 57600395, "comment_id": 101718995, "body": "Yes if by shortest you mean soonest"}, {"owner": {"reputation": 13, "user_id": 11736332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJ935.jpg?s=128&g=1", "display_name": "Victor Reis", "link": "https://stackoverflow.com/users/11736332/victor-reis"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566690651, "post_id": 57600395, "comment_id": 101736172, "body": "Please see the edit I made in my question. I implemented the system you taught me. Unfortunately, the video keeps crashing! :("}, {"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566726010, "post_id": 57600395, "comment_id": 101740912, "body": "I don\u2019t have time to look into your code in details but from a quick look I took I don\u2019t think you implemented it exactly as I described it. I don\u2019t see any threads and queues. Also you don\u2019t have to limit the buffers yourself. The reference counting and memory pool will take care of it. I\u2019ll need the complete code in order to help you further."}, {"owner": {"reputation": 13, "user_id": 11736332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJ935.jpg?s=128&g=1", "display_name": "Victor Reis", "link": "https://stackoverflow.com/users/11736332/victor-reis"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566746878, "post_id": 57600395, "comment_id": 101745534, "body": "I am translating the Player code into English and I provide you. I solved the crash problem, it was because I wasn&#39;t using IMFSinkWriter to render the video. But it continues without synchronization with the audio."}, {"owner": {"reputation": 13, "user_id": 11736332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJ935.jpg?s=128&g=1", "display_name": "Victor Reis", "link": "https://stackoverflow.com/users/11736332/victor-reis"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566776636, "post_id": 57600395, "comment_id": 101751405, "body": "This is the link you can use to access my OneDrive and view the code file. Contains all the Threading scheme I am using and the rendering process. <a href=\"https://1drv.ms/u/s!Alv3Toc22kjtg8AbAg7OgeLdQ_DQIg?e=jv5bQV\" rel=\"nofollow noreferrer\">1drv.ms/u/s!Alv3Toc22kjtg8AbAg7OgeLdQ_DQIg?e=jv5bQV</a>. Please take your time, I know it must be very busy."}, {"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566825002, "post_id": 57600395, "comment_id": 101766587, "body": "I checked your code briefly and I think you could try to set LengthMaximumBuffer to a much bigger value, or you should remove the check if the queue has more than LengthMaximumBuffer packets. I also think that your synchronization problem might be due to the  Media Foundation .NET. I don&#39;t believe that Media Foundation should be utilized through .NET, due to performance reasons (data marshaling etc.). Media Foundation is meant for C++. IMO, it is much better if you implement all the Media Foundation Playback part in a C++/CLI dll and reference it from your C# app."}, {"owner": {"reputation": 13, "user_id": 11736332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJ935.jpg?s=128&g=1", "display_name": "Victor Reis", "link": "https://stackoverflow.com/users/11736332/victor-reis"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1566830501, "post_id": 57600395, "comment_id": 101769503, "body": "I do not use (Media Foundation .NET) available from SourceForge. I have my own API that I developed in C++/ CLI. About the buffer size you mentioned, I&#39;ve tried the options and I was unsuccessful, in fact, the amount is not below 4 so fast it processes. I have the IMFMediaSession and MediaEngine interfaces that work very well in C#. I don&#39;t have (video rendering delay), on the contrary, it renders so quickly that audio is left behind. That&#39;s why I disregarded the marshaling time between C# and C++. I can be talking bullshit too. Thank you so much for your time on this issue !!"}], "owner": {"reputation": 13, "user_id": 11736332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJ935.jpg?s=128&g=1", "display_name": "Victor Reis", "link": "https://stackoverflow.com/users/11736332/victor-reis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1566832484, "creation_date": 1566430836, "last_edit_date": 1592644375, "question_id": 57600395, "link": "https://stackoverflow.com/questions/57600395/how-can-i-sync-video-and-audio-in-real-time-with-the-primitive-media-foundation", "title": "How can I sync video and audio in real time with the primitive Media Foundation APIs?", "body": "<p>I am trying to sync Audio and Video into a presentation using the <strong>Primitive Media Foundation Interfaces</strong>: <code>IMFSourceReader</code>; <code>EVR</code>; <code>SAR</code>. I've tried some techniques and yet Audio is ahead of Video.</p>\n<p>To summarize the structure of playback of Video and Audio: I have <strong>two buffers</strong> (Audio and Video) that hold 6 samples each, each sample processed, plus one is requested from <code>IMFSourceReader</code>. Each type (Audio or Video) contains its <strong>TASK</strong> for processing buffer samples.\nThe presentation clock, according to <strong>MSDN</strong>, is good to use SAR to <strong>improve synchronization</strong>, and that's what I'm doing here.</p>\n<p>Attempt implemented for synchronization: To try to display the video at the correct time, I am performing a delay that I calculated as follows:</p>\n<pre><code>//Calculates the Media Frame Rate. The Numerator and Denominator were obtained from IMFMediaType from the video file loaded locally by IMFSourceReader.\nvar FrameRate = Math.Round((Numerator / Denominator)).\n\n//Calculates the delay that will be used to call the next sample. Video processing time is 8 to 11ms.\nvar Delay = Math.Round((1000 - Video Sample Processing Time) / FrameRate) - 12.\n</code></pre>\n<p><strong>Video sample processing time</strong> = + or - 10ms.</p>\n<p>The subtracted value from every division (<strong>-12</strong>) is because if I implemented the resulting delay value, the video would crash. In my tests, what is possible to perceive to human eyes, about 13ms, was the best result that I achieved in sync with Audio. It starts well, but it falls behind in relation to Audio.</p>\n<p>I don't have much to show code. But I'll show you how I'm trying to play the media loaded from a local file.</p>\n<h1>Video Processing Task:</h1>\n<pre><code>//Get the next video sample available in the buffer.\nIMFSample VideoSample = BufferVideo.Next();\n\n//Calls the method that will copy the read sample data to the IMFVideoSampleAllocator sample. The sample is accessed for the IMF2DBuffer2 interface as recommended by MSDN.\nProcessVideoSample(VideoSample);\n\n//I call IMFSourceReader to read the next available video sample. This method is thread safe. The sample reader is in Asynchronous mode.\nRequestNextSample(TypeSample.Video);\n\n//Delay to read the next sample. The delay is calculated as shown above.\nawait Task.Delay(DelayFrameRate);\n\n</code></pre>\n<p>In the case of audio, the process is the same, except that it calls the audio buffer.</p>\n<p>The delay time here is a problem, I don't know the time I should implement. In several tests, I noticed that a delay over <strong>16ms</strong> starts to make squeaks in the audio playback. Therefore, the Audio delay I left as <strong>15ms</strong>.</p>\n<p>I have tried to synchronize Audio processing with Video processing, I did not get a good result, the audio crashes too much during playback.</p>\n<h1>1 Update - 08/24/2019</h1>\n<p>I modified the code according to what <strong>VuVirt</strong> gave me, but unfortunately I was unsuccessful at some points.\nNow I can keep Audio synchronized properly, because I'm rendering at the correct rendering time.\nUnfortunately, the video did not follow the same process. It keeps crashing during playback, and as I suspected, if you use a delay it can display acceptably. Which makes me wonder, maybe the EVR isn't delaying what it should.</p>\n<p>presentation time of the samples is correct as follows, then discarded the process that selects the samples.</p>\n<p><img src=\"https://i.stack.imgur.com/lVbrw.jpg\" alt=\"Image Debug Player\" /></p>\n<p>Video samples are processed so quickly by EVR that the sample buffer does not track, in a test, I could not even get the ms time it took for EVR to render the buffer. Speed was below millisecond range</p>\n<p>Below I have the code inside the task that is checking and requesting samples for the buffer:</p>\n<pre><code>//Variable that will contain the Stream type\nStreamType Tp = StreamType.TP_Audio;\n\n//wait for the presentation clock to start.\nwhile (StatusPresentationClock != EnumStatusClock.Started)\n{\n\n}\n\n// Create the loop that will be checking and ordering the samples.\nwhile (VideoPlayer.Permission)\n{\n//Checks if the amount of audio buffer samples is below the total size.\nif (BufferSamplesAudio.Count &lt;= (LengthBuffer))\n{\n                            //Continue\n}\nelse\n{\n//The buffer has the maximum number of samples. Even taking this delay, at various times evr renders faster.\nawait Task.Delay(1);\ngoto Done;\n}\n\n//Checks if the audio stream has not reached its end\nif(VideoPlayer.EndStreamAudio)\n{\n//The audio stream is over\nSendCon.Send(&quot;Audio Task&quot;, &quot;Stream End!!&quot;);\n\n//Exit\nbreak;\n}\n\n//Defines that you are reading an audio sample\nAudioRender.ReadingAudioSample = true;\n\n//Calls the method that will request a sample from the reader.\nResultCode Result = RequestNewSample(Tp);\n\n//Check call result\nif (Result != ResultCode.SS_OK)\n{\n//Call Exception\nthrow new Exception(&quot;ERROR&quot;);\n}\n                     \n//Waits for the reading process to be completed.\nwhile (AudioRender.ReadingAudioSample)\n{\n                           \n}\n                        \nDone:;\n}\n</code></pre>\n<p>Following is the code I used to create the EVR:</p>\n<pre><code>                //Calls the method for creating a Media Sink trigger that will be used to render the video.\n                Result = CarenEVR.CreateInstanceVideoRender(SurfaceVideo.Handle, out VideoRender.AtivadorVideoSink);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Calls the method to create an instance of EVR.\n                Result = VideoRender.ActivatorVideoSink.ActivateObject(InterfacesMediaFoundation.IID_IMFMediaSink, out ICarenQuery MediaSinkEVR);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Converts the interface to the MediaSink.\n                VideoRender.VideoSinkRender = ConvertInterfaceBase&lt;ICaren_MidiaSink&gt;(ref MediaSinkEVR);\n\n                //Get interface that represents the real video renderer\n                Result = VideoRender.VideoSinkRender.QueryInterface(InterfacesMediaFoundation.IID_IVideoRenderer, out ICarenQuery OutInterfaceSolictada);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Convert interface to real video renderer\n                VideoRender.EVR = ConvertInterfaceBase&lt;ICaren_EVR&gt;(ref OutInterfaceSolictada);\n\n                //Initializes the video renderer in standard mode.\n                Result = VideoRender.EVR.InitializeVideoRender(null, null);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Queries the service interface for the video renderer\n                Result = VideoRender.EVR.QueryInterface(InterfacesMediaFoundation.IID_IMFGetService, out ICarenQuery OutInterfaceServico);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Converts and defines the interface.\n                VideoRender.ServiceInterface = ConvertInterfaceBase&lt;ICaren_ObterInterface&gt;(ref OutInterfaceServico);\n\n                //Calls the method to get the EVR from the service interface exposed by the video renderer.\n                Result = VideoRender.ServiceInterface.GetService(MFServiceInterfaces.MR_VIDEO_RENDER_SERVICE, InterfacesMediaFoundation.IID_IMFVideoDisplayControl, out ICarenQuery OutInterfaceDisplayControl);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Converts and define the interface.\n                VideoRender.VideoControler = ConvertInterfaceBase&lt;ICaren_ControladorVideo&gt;(ref OutInterfaceDisplayControl);\n\n                //Defines the surface handle that will display the video frames.\n                Result = VideoRender.VideoControler.SetHandleSurface(SufarceVideo.Handle);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Sets video window position\n                Result = VideoRender.VideoControler.SetVideoPosition(null, new CA_Rectangle() { Rigth = SurfaceVideo.Width, Bottom = SurfaceVideo.Height });\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Get Direct3D Manager\n                Result = VideoRender.VideoSinkRender.ConsultarServiceInterface(MFServiceInterfaces.MR_VIDEO_ACCELERATION_SERVICE, InterfacesDirectX.IID_IDirect3DDeviceManager9, out ICarenQuery OutInterfaceD3DManager);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Convert interface\n                VideoRender.Direct3DManager = ConvertInterfaceBase&lt;ICaren_Direct3DDeviceManager9&gt;(ref OutInterfaceD3DManager);\n\n\n\n                //Sets the presentation clock for the media source.\n\n                //Defines the presentation clock that will be used by the player.\n                Result = VideoRender.VideoSinkRender.SetPresentationClock(VideoPlayer.PresentationClock);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n\n\n                //Configures the Media Stream Sink and the sample allocator.\n\n                //Configures the Media Stream Sink and the sample allocator.\n                Result = VideoRender.VideoSinkRender.GetStreamSinkByIndex(0, out VideoRender.StreamVideo);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n\n                //Get media type handler\n                Result = VideoRender.StreamVideo.GetMediaTypeHandle(out VideoRender.MediaTypeHandler);\n\n                //Checks for no operation error\n                if (Result != ResultCode.SS_OK)\n                {\n                    //Exit Method\n                    goto Done;\n                }\n</code></pre>\n<p>The code for the presentation clock:</p>\n<pre><code> //Create the presentation clock\n            ResultCode Result = CarenPresentationClock.CreateIntance(out VideoPlayer.PresentationClock);\n\n            //Check Result of Operation\n            if (Result != ResultCode.SS_OK)\n            {\n                //Get out of the method\n                goto Done;\n            }\n\n            //Create time source for presentation clock\n            Result = CarenPresentationClockSourceTime.CreateIntance(out VideoPlayer.SourcePresentationClock);\n\n            //Check Result of Operation\n            if (Result != ResultCode.SS_OK)\n            {\n                //Get out of the method\n                goto Done;\n            }\n\n            //Creates the status notification clock for the presentation clock.\n            Result = CarenClockStateSink.CreateIntance(out VideoPlayer.NotificationPresentationClock);\n\n            //Check Result of Operation\n            if (Result != ResultCode.SS_OK)\n            {\n                //Get out of the method\n                goto Done;\n            }\n\n\n            //Configures the clock events.\n            VideoPlayer.NotificationPresentationClock.OnClockStart += NotificationPresentationClock_OnClockStart;\n            VideoPlayer.NotificationPresentationClock.OnClockPause += NotificationPresentationClock_OnClockPause;\n            VideoPlayer.NotificationPresentationClock.OnClockRestart += NotificationPresentationClock_OnClockRestart;\n            VideoPlayer.NotificationPresentationClock.OnClockStop += NotificationPresentationClock_OnClockStop;\n            VideoPlayer.NotificationPresentationClock.OnClockSetRate += NotificationPresentationClock_OnClockSetRate;\n\n            //This method will log the events of the generated Clock in the native interface and send to managed code.\n            VideoPlayer.NotificationPresentationClock.RegisterCallback();\n\n\n            //Sets the presentation clock.\n\n\n            //Sets the clock time source in the presentation clock.\n            Result = VideoPlayer.PresentationClock.SetSourceTime(VideoPlayer.SourcePresentationClock);\n\n            //Check Result of Operation\n            if (Result != ResultCode.SS_OK)\n            {\n                //Get out of the method\n                goto Done;\n            }\n       \n            //Sets the notification clock.\n            Result = VideoPlayer.PresentationClock.RegisterObjectNotification(VideoPlayer.NotificationPresentationClock);\n\n            //Check Result of Operation\n            if (Result != ResultCode.SS_OK)\n            {\n                //Get out of the method\n                goto Done;\n            }\n            \n        Done:;\n            //Return the result\n            return Result;\n</code></pre>\n<p>Note: I'm using DXVA2 for decoding acceleration in IMFSourceReader, could this have anything to do with video crashes during playback?</p>\n<h1>2 Update - 08/25/2019</h1>\n<p>The problem with Video crashing was because I was not using <strong>IMFSinkWriter</strong> to render Video samples. Looking at your information, I noticed that it prevents samples from being rendered too fast.\n<strong>But the video is still out of sync with Audio.</strong></p>\n"}, {"tags": ["c#", "class", "oop", "inheritance", "prompt"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1566430173, "post_id": 57600294, "comment_id": 101657808, "body": "It looks like you&#39;re creating an instance of the <code>Data_Storage</code> class <i>before</i> you have any values set in the variables you&#39;re passing to the constructor. You should create the instance <i>after</i> the user has entered the values."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1566430181, "post_id": 57600294, "comment_id": 101657810, "body": "You&#39;re creating <code>user</code> instance with variables before getting input into variables."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1566430365, "post_id": 57600294, "comment_id": 101657850, "body": "You really need to learn <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">how to use a debugger</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7388736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sFC3vp5fWyg/AAAAAAAAAAI/AAAAAAAAABA/vkdTqx20t5s/photo.jpg?sz=128", "display_name": "Zacchary Sumrall", "link": "https://stackoverflow.com/users/7388736/zacchary-sumrall"}, "edited": false, "score": 0, "creation_date": 1566485191, "post_id": 57600332, "comment_id": 101679150, "body": "This worked perfectly! I guess I had my syntax and logic mixed up. Thank you again for the quick fix!"}], "tags": [], "owner": {"reputation": 1159, "user_id": 989962, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zMiu3.jpg?s=128&g=1", "display_name": "BlueSky", "link": "https://stackoverflow.com/users/989962/bluesky"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430255, "creation_date": 1566430255, "answer_id": 57600332, "question_id": 57600294, "link": "https://stackoverflow.com/questions/57600294/prompting-user-to-input-data-info-through-multiple-classes/57600332#57600332", "title": "Prompting user to input data info through multiple classes", "body": "<p>Instead of:</p>\n\n<pre><code>userFirst = Console.ReadLine();\n</code></pre>\n\n<p>Do this:</p>\n\n<pre><code>user.firstName = Console.ReadLine();\n</code></pre>\n\n<p>and repeat this for all of your other properties.  This will solve your problem.  You can also remove your whole constructor, so instead of this:</p>\n\n<pre><code>Data_Storage user = new Data_Storage(userFirst, userLast, userGender, userAge);\n</code></pre>\n\n<p>Do this:</p>\n\n<pre><code>var user = new Data_Storage();\n</code></pre>\n\n<p>You can also remove this:</p>\n\n<pre><code>static string userFirst, userLast, userGender;\nstatic int userAge;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430494, "creation_date": 1566430494, "answer_id": 57600355, "question_id": 57600294, "link": "https://stackoverflow.com/questions/57600294/prompting-user-to-input-data-info-through-multiple-classes/57600355#57600355", "title": "Prompting user to input data info through multiple classes", "body": "<p>The problem here is that at the time you call this constructor:</p>\n\n<pre><code>Data_Storage user = new Data_Storage(userFirst, userLast, userGender, userAge);\n</code></pre>\n\n<p>You have not set values to any of the variables being passed in. Instead, you can move this line after you've collected the info from the user.</p>\n\n<p>You could also shorten the code some by creating the class using the default constructor and then setting the properties directly:</p>\n\n<pre><code>Data_Storage user = new Data_Storage();\n\nConsole.WriteLine(\"Please input First Name: \");\nuser.firstName = Console.ReadLine();\n\nConsole.WriteLine(\"Please input Last Name: \");\nuser.lastName = Console.ReadLine();\n\nConsole.WriteLine(\"Please input Gender: \");\nuser.gender = Console.ReadLine();\n\nConsole.WriteLine(\"Please input Age: \");\nuser.age = Convert.ToInt32(Console.ReadLine());\n\nConsole.WriteLine(user);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7388736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sFC3vp5fWyg/AAAAAAAAAAI/AAAAAAAAABA/vkdTqx20t5s/photo.jpg?sz=128", "display_name": "Zacchary Sumrall", "link": "https://stackoverflow.com/users/7388736/zacchary-sumrall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1566430651, "creation_date": 1566429862, "last_edit_date": 1566430085, "question_id": 57600294, "link": "https://stackoverflow.com/questions/57600294/prompting-user-to-input-data-info-through-multiple-classes", "title": "Prompting user to input data info through multiple classes", "body": "<p>I'm trying to create a Data Base program by using OOP. I've tried solving this several months, and can't seem to find the answer I'm looking for. Went through examples and even a Udemy course, but circles back to what I know to the limit. </p>\n\n<p>My objective is to allow the user input data and have it stored safely under another class. When the program ends, it'll output the user info from the other class vs. all in one class. </p>\n\n<p>I've reviewed Udemy courses such as C# Master and look up on C# tutorials from Microsoft.</p>\n\n<p>Code sheet 1</p>\n\n<pre><code>using System;\n\nnamespace DataBase\n{\n    public class Data\n    {\n        static string userFirst, userLast, userGender;\n        static int userAge;\n        static void Main(string[] args)\n        {\n            Data_Storage user = new Data_Storage(userFirst, userLast, userGender, userAge);\n\n            Console.WriteLine(\"Please input First Name: \");\n            userFirst = Console.ReadLine();\n\n            Console.WriteLine(\"Please input Last Name: \");\n            userLast = Console.ReadLine();\n\n            Console.WriteLine(\"Please input Gender: \");\n            userGender = Console.ReadLine();\n\n            Console.WriteLine(\"Please input Age: \");\n            userAge = Convert.ToInt32(Console.ReadLine());\n\n            Console.WriteLine(user.ToString());\n        }\n</code></pre>\n\n<p>Code sheet 2</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Text;\n\nnamespace DataBase\n{\n    class Data_Storage\n    {\n        public string firstName { get; set; }\n        public string lastName { get; set; }\n        public string gender { get; set; }\n        public int age { get; set; }\n\n        //Implicitly\n        public Data_Storage()\n        {\n            firstName = \"First\";\n            lastName = \"Last\";\n            gender = \"Null\";\n            age = 0;\n        }\n\n        //Instance constructor\n        public Data_Storage(string userFirst, string userLast, string userGender, int userAge)\n        {\n            this.firstName = userFirst;\n            this.lastName = userLast;\n            this.gender = userGender;\n            this.age = userAge;\n        }\n\n        public override string ToString()\n        {\n            return String.Format(this.firstName + \"\\n\" + this.lastName + \"\\n\" + this.gender + \"\\n\" + this.age);\n        }\n\n    }\n}\n</code></pre>\n\n<p>When testing this code, it'll only return the default constructor I made instead of referencing my instance constructor.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11953718"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1566429841, "post_id": 57600277, "comment_id": 101657740, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/floating-point-numeric-types\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1566430019, "post_id": 57600277, "comment_id": 101657780, "body": "That&#39;s an awkward definition of &quot;range&quot;... Clearly whoever wrote the article wanted to say &quot;smallest representable non-zero value and largest representable non-infinity number&quot; but shortened it to a &quot;range&quot; which is not range..."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 1, "creation_date": 1566430106, "post_id": 57600277, "comment_id": 101657796, "body": "1.5 x 10^-45 isn&#39;t wrong, that&#39;s the smallest non-zero number, but a denormal. If you take the smallest <i>normalized</i> number, then it would be 1.1755 x 10^-38"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 2, "creation_date": 1566430297, "post_id": 57600277, "comment_id": 101657840, "body": "(Side note: answers will likely have to rehash usual <a href=\"https://stackoverflow.com/questions/1334353/range-of-floating-point-numbers-in-net\" title=\"range of floating point numbers in net\">stackoverflow.com/questions/1334353/&hellip;</a> so consider if you want to just stick with it as duplicate)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11953718"}, "edited": false, "score": 0, "creation_date": 1566431150, "post_id": 57600277, "comment_id": 101658002, "body": "Thank you, for the float type there are 8 bits for the exponent 1 bit for the sign and 23 significant bits 2^8 =256, log(2^256) = 10^77, 77/2=38.5 so the lowest non zero value should be 10^-38 not 10^-45"}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1566432110, "post_id": 57600277, "comment_id": 101658149, "body": "@Vector yes, but you have not considered denormals in that calculation. E: you can check the example on the <a href=\"https://en.wikipedia.org/wiki/Single-precision_floating-point_format#Single-precision_examples\" rel=\"nofollow noreferrer\">wiki page</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11953718"}, "reply_to_user": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1566432590, "post_id": 57600277, "comment_id": 101658221, "body": "@harold Thanks a lot this is exactly what am looking for much appreciated."}], "owner": {"user_type": "does_not_exist", "display_name": "user11953718"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1566430355, "answer_count": 0, "score": 1, "last_activity_date": 1566431836, "creation_date": 1566429627, "last_edit_date": 1566431836, "question_id": 57600277, "link": "https://stackoverflow.com/questions/57600277/how-the-float-type-range-is-calculated-%c2%b11-5-e%e2%88%9245-to-%c2%b13-4-e38", "closed_reason": "Duplicate", "title": "How the float type range is calculated (&#177;1.5 * E\u221245 to &#177;3.4 * E+38)?", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/floating-point-numeric-types\" rel=\"nofollow noreferrer\">Floating-point numeric types (C# reference)</a></p>\n\n<p>Says \"Approximate range\" for <code>float</code> is \u00b11.5 x 10\u221245 to \u00b13.4 x 1038.</p>\n\n<p>Why the negative exponent <strong>(-45)</strong> not (-38) ? and where 1.5 and 3.4 come from?</p>\n\n<p>for the float type there are 8 bits for the exponent 1 bit for the sign and 23 significant bits 2^8 =256, log(2^256) = 77, 77/2=38.5 so the lowest non zero value should be 10^-38 not 10^-45</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1566430627, "post_id": 57600262, "comment_id": 101657899, "body": "It looks fairly straight-forward. Please post what you&#39;ve got so we can see what you&#39;re missing."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1566431062, "post_id": 57600262, "comment_id": 101657990, "body": "You can search for &quot;powershell shr&quot; and find the operators <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#right-shift-operator-\" rel=\"nofollow noreferrer\">here</a>, then look up the c# equivalents. <code>-shr</code> is bitwise <code>Shift Right</code>, in c# that&#39;s <code>&gt;&gt;</code>. And <code>-band</code> is bitwise <code>AND</code>, in c# that&#39;s <code>&amp;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 2, "last_activity_date": 1566463769, "last_edit_date": 1566463769, "creation_date": 1566432268, "answer_id": 57600528, "question_id": 57600262, "link": "https://stackoverflow.com/questions/57600262/how-do-i-convert-this-powershell-code-to-c/57600528#57600528", "title": "How do I convert this PowerShell code to C#", "body": "<p>I spent the whole night thinking about this posting.  I knew the algorithm looked familiar (some sort of IBM encoding), but what was really bothering me was the input and output.  Finally realized the input and outputs needed to be an array of 4 bytes.  Then I realized what the code was actually doing.  The alphabet was the first 26 characters and the digits the next 10 characters.  Max size of each byte was 0x3F. </p>\n\n<p>ASCII the first 48 characters are special characters with the digit zero being 48 (0x30).  So to determine if old format (IBM) or new format (ASCII) is being used the person who wrote code used the highest byte and if less than 36 it was old format and greater new format.</p>\n\n<p>To convert a digits (26 to 35) from IBM to ASCII (48 to 57) I subtracted 26 then added 48 (the character '0'). </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n        }\n        static byte[] Script(byte[] byteTag)\n        {\n            uint tag =  (byte[0] &lt;&lt; 24) | (byte[1] &lt;&lt; 16) | (byte[2] &lt;&lt; 8) | byte[3];\n            uint maxNumericTag = 0x0000FFFF;\n            int minOldSchemeHighByteValue = 36;// 36th characters in symbolSpace\n            byte[] results = new byte[5];\n            results[4] = '\\0';  //null terminate if less than 5 characters. \n\n            if (tag &lt;= maxNumericTag)\n            {\n                results = byteTag;\n            }\n            else\n            {\n                if (minOldSchemeHighByteValue &lt;= (tag &gt;&gt; 24))\n                {\n                    results = byteTag; //script is just converting an int to a byte[]\n                }\n                else\n                {\n                   results[0] = (byte)((((tag &gt;&gt; 24) &amp; 0x3F) - 26) + (byte)'0');\n                   results[1] = (byte)((((tag &gt;&gt; 18) &amp; 0x3F) - 26) + (byte)'0');\n                   results[2] = (byte)((((tag &gt;&gt; 12) &amp; 0x3F) - 26) + (byte)'0');\n                   results[3] = (byte)((((tag &gt;&gt; 6) &amp; 0x3F) - 26) + (byte)'0');\n                   results[4] = (byte)(((tag &amp; 0x3F) - 26) + (byte)'0');\n                }\n            }\n            return results;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 2384227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a6efa09da271062a2450274473b0b1?s=128&d=identicon&r=PG", "display_name": "Nisha Shukla", "link": "https://stackoverflow.com/users/2384227/nisha-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1566461681, "answer_count": 1, "score": -1, "last_activity_date": 1566463769, "creation_date": 1566429498, "last_edit_date": 1566461244, "question_id": 57600262, "link": "https://stackoverflow.com/questions/57600262/how-do-i-convert-this-powershell-code-to-c", "closed_reason": "Needs more focus", "title": "How do I convert this PowerShell code to C#", "body": "<p>I need to convert this piece of code to C# and I am not familiar with PowerShell script to understand what this is doing and then write it in C#. It is basically taking an integer and returning a corresponding tag.</p>\n\n<p>I tried to write it myself but just did not seem right.</p>\n\n<pre><code>param\n(\n   [ Parameter( Mandatory = $true ) ]\n   [ int ]\n   $Tag\n)\n\n$maxNumericTag = 0x0000FFFF;\n$minOldSchemeHighByteValue = 36;\n$symbolSpace = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n\nif( $Tag -le $maxNumericTag )\n{\n   return $Tag;\n}\nelseif( $minOldSchemeHighByteValue -le ( $Tag -shr 24 ) )\n{\n   return [ char ]( $Tag -shr 24 -band 0xFF ) + [ char ]( $Tag -shr 16 -band 0xFF ) + \n          [ char ]( $Tag -shr 8 -band 0xFF ) + [ char ]( $Tag -band 0xFF );\n}\nelse\n{\n   return \n       $symbolSpace[ $Tag -shr 24 -band 0x3F ] + $symbolSpace[ $Tag -shr 18 -band 0x3F ] + \n       $symbolSpace[ $Tag -shr 12 -band 0x3F ] + $symbolSpace[ $Tag -shr 6 -band 0x3F ] + \n       $symbolSpace[ $Tag -band 0x3F ];\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "oracle", ".net-core", "entity-framework-core"], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 4262003, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006455666420/picture?type=large", "display_name": "Wael Mourad", "link": "https://stackoverflow.com/users/4262003/wael-mourad"}, "is_accepted": false, "score": 1, "last_activity_date": 1566507226, "creation_date": 1566507226, "answer_id": 57616915, "question_id": 57600221, "link": "https://stackoverflow.com/questions/57600221/execute-oracle-stored-procedure-in-entity-framework-core/57616915#57616915", "title": "Execute Oracle stored procedure in Entity Framework Core", "body": "<p>Here is the answer with example:</p>\n\n<p>.: Oracle Stored Procedure:</p>\n\n<pre><code>create or replace Procedure GET_DEPT_PROC (\np_ParentSiteId number,\nP_SiteId number,\nP_LoggedUserId number, curParam OUT sys_REFCURSOR,curParam2 OUT sys_REFCURSOR )\nas\nBegin\nOPEN curParam FOR \nselect 1 Id, 2 EntityAlmostOnRenewalTrans, 3 EntityVerifiedTrans, 4 EntityCompletedTrans, 5 EntityClosedTrans, 6 MyVerifiedTrans, 7 MyCreatedTrans, 8 MyDraftedTrans, 9 MyRejectedTrans FROM DUAL;\nOPEN curParam2 FOR\nselect 1 Id, 2 EntityAlmostOnRenewalTrans, 3 EntityVerifiedTrans, 4 EntityCompletedTrans, 5 EntityClosedTrans, 6 MyVerifiedTrans, 7 MyCreatedTrans, 8 MyDraftedTrans, 9 MyRejectedTrans FROM DUAL;\nEnd; \n</code></pre>\n\n<p>.: Execute SP in Oracle:</p>\n\n<pre><code>DECLARE\nCUR1 SYS_REFCURSOR;\nCUR2 SYS_REFCURSOR;\nBEGIN\nTestOracleSP (1,2,3,CUR1,CUR2) ;\nEND;\n</code></pre>\n\n<p>.: Execute in Code using FromSQL Method:</p>\n\n<pre><code> public virtual DashBoardData GetDashBoardData(short parentSiteId, short siteId, int loggedUserId)\n{\n\ntry\n        {\n\n\n            OracleParameter p1 = new OracleParameter(\"p_ParentSiteId\", parentSiteId);\n            OracleParameter p2 = new OracleParameter(\"p_SiteId\", siteId);\n            OracleParameter p3 = new OracleParameter(\"p_LoggedUserId\", loggedUserId);\n            OracleParameter p4 = new OracleParameter(\"CUR\", OracleDbType.RefCursor, ParameterDirection.Output);\n            OracleParameter p5 = new OracleParameter(\"CUR2\", OracleDbType.RefCursor, ParameterDirection.Output);\n\n            string sql = \"BEGIN GET_DEPT_PROC(:p_ParentSiteId, :p_SiteId, :p_LoggedUserId, :CUR2, :CUR);END;\";\n            var res = context.Set&lt;DashBoardData&gt;().FromSql(sql, p1, p2, p3, p4, p5).ToList();\n\n            return res[0];\n\n        }\n        catch (Exception x)\n        {\n            XLogger.Error(\"Exception : \" + x);\n            return null;\n        }\n  }\n</code></pre>\n"}], "owner": {"reputation": 64, "user_id": 4262003, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006455666420/picture?type=large", "display_name": "Wael Mourad", "link": "https://stackoverflow.com/users/4262003/wael-mourad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4651, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566507226, "creation_date": 1566429056, "last_edit_date": 1566446898, "question_id": 57600221, "link": "https://stackoverflow.com/questions/57600221/execute-oracle-stored-procedure-in-entity-framework-core", "title": "Execute Oracle stored procedure in Entity Framework Core", "body": "<p>When I tried to execute an Oracle stored procedure with Entity Framework Core, I get this exception :</p>\n\n<blockquote>\n  <p>No mapping to a relational type can be found for the CLR type 'OracleParameter[]</p>\n</blockquote>\n\n<p>I tried <code>ExecuteSqlCommand</code> and <code>FromSQL</code> methods, both cause the same exception.</p>\n\n<p>Oracle stored procedure code :</p>\n\n<pre><code>CREATE OR REPLACE Procedure GET_DEPT_PROC (\np_ParentSiteId number,\nP_SiteId number,P_LoggedUserId number, P_curParam OUT sys_REFCURSOR) as\nBegin\nOPEN curParam FOR \nselect 1 Id, 2 EntityAlmostOnRenewalTrans, 3 EntityVerifiedTrans, 4 \nEntityCompletedTrans, 5 EntityClosedTrans, 6 MyVerifiedTrans, 7 \nMyCreatedTrans, 8 MyDraftedTrans, 9 MyRejectedTrans FROM DUAL;\n\nEnd;\n</code></pre>\n\n<p>C# method to execute this stored procedure:</p>\n\n<pre><code>public virtual DashBoardData GetDashBoardData(short parentSiteId, short siteId, int loggedUserId)\n{\n     var parameters = new OracleParameter[]\n            {                        \n                    new OracleParameter(\"@p_ParentSiteId\", parentSiteId),\n                    new OracleParameter(\"@p_SiteId\", siteId),\n                    new OracleParameter(\"@p_LoggedUserId\", loggedUserId),                        \n                    new OracleParameter(\"@p_curParam\", OracleDbType.RefCursor, ParameterDirection.Output)};\n\n     string sql = \"EXEC GET_DEPT_PROC(@p_ParentSiteId,@p_SiteId,@p_LoggedUserId:@p_curParam);\";\n\n     var res = XDB.FromSql&lt;DashBoardData&gt;(base.context, sql, parameters).ToList()[0];\n}\n</code></pre>\n\n<p>FromSQL Method in XDB class:</p>\n\n<pre><code>public static IQueryable&lt;TEntity&gt; FromSql&lt;TEntity&gt;(DbContext EFContext,RawSqlString sql, IEnumerable&lt;OracleParameter&gt; op) where TEntity : class\n{\n     return EFContext.Set&lt;TEntity&gt;().FromSql(sql, op);\n}\n</code></pre>\n"}, {"tags": ["c#", "azure", "botframework", "chatbot"], "comments": [{"owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "edited": false, "score": 0, "creation_date": 1566430005, "post_id": 57600209, "comment_id": 101657777, "body": "Most probably one for each as the bots are most likely stateful"}, {"owner": {"reputation": 581, "user_id": 7366631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mv1Nq.jpg?s=128&g=1", "display_name": "sidecus", "link": "https://stackoverflow.com/users/7366631/sidecus"}, "edited": false, "score": 0, "creation_date": 1566440247, "post_id": 57600209, "comment_id": 101659433, "body": "A \u201cbot\u201d is just a web api endpoint (/api/messages by default). If your clients are different, you can have one deployment hosting multiple api endpoints and have one bot for each client running on each endpoint. Note this is different from channels - a channel is how a bot is exposed. You can expose one bot to multiple channels but these channel share the same bot behavior."}], "answers": [{"comments": [{"owner": {"reputation": 883, "user_id": 10096436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hKBUJ.png?s=128&g=1", "display_name": "Micromuncher", "link": "https://stackoverflow.com/users/10096436/micromuncher"}, "edited": false, "score": 1, "creation_date": 1566575581, "post_id": 57600727, "comment_id": 101712652, "body": "This is kinda true.  It breaks when the channels have architectural differences.  For example, OAuth.  Botframework and Cortana oauth work differently, so you need to build that into your code.  IMHO, you can share a core bot&#39;s code and branch, but each bot would be its own service."}], "tags": [], "owner": {"reputation": 1202, "user_id": 9781122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRL3o.jpg?s=128&g=1", "display_name": "Zeryth", "link": "https://stackoverflow.com/users/9781122/zeryth"}, "is_accepted": false, "score": 0, "last_activity_date": 1566434795, "creation_date": 1566434795, "answer_id": 57600727, "question_id": 57600209, "link": "https://stackoverflow.com/questions/57600209/do-i-need-a-bot-for-each-client-or-can-i-have-one-that-serves-all-clients/57600727#57600727", "title": "Do I need a bot for each client or can I have one that serves all clients?", "body": "<p>You could technically build 1 bot and connect it to multiple \"channels\", as is the vocabulary that we use in the Bot Framework. From the <a href=\"https://docs.microsoft.com/en-us/azure/bot-service/bot-service-manage-channels?view=azure-bot-service-4.0\" rel=\"nofollow noreferrer\">Microsoft docs</a>:</p>\n\n<blockquote>\n  <p>The Bot Framework Service, configured through the Azure portal,\n  connects your bot to these channels and facilitates communication\n  between your bot and the user. You can connect to many popular\n  services, such as <strong>Cortana, Facebook Messenger, Kik, and Slack</strong>, as well\n  as several others. The Web Chat channel is pre-configured for you. In\n  addition to standard channels provided with the Bot Connector Service,\n  you can also connect your bot to your own client application using\n  Direct Line as your channel.</p>\n</blockquote>\n\n<p>Additionally, the Bot Framework is an attempt to allow developers to make bots in a \"channels-agnostic\" way. However, when developing your bot, you must also bear in mind that certain channels might not support certain UI aspects that others do. For example, FB Messenger might not support Adaptive Cards whereas Microsoft Teams does. </p>\n\n<p>So the TL;DR: you can develop 1 bot and connect it to multiple channels, bearing in mind it's up to you to investigate whether or not the multiple channels support XYZ features.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eqa1u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eqa1u.png\" alt=\"enter image description here\"></a>\nAzure portal displaying the different channels that 1 bot is connected to next to star; below additional channels that it suggests you could connect to</p>\n"}], "owner": {"reputation": 1, "user_id": 11959524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mByzMn0nvRMtR9FgUh-jvBqeCkTWnAXiVgjkhDDp20=k-s128", "display_name": "Christian Col&#243;n", "link": "https://stackoverflow.com/users/11959524/christian-col%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566434795, "creation_date": 1566428949, "question_id": 57600209, "link": "https://stackoverflow.com/questions/57600209/do-i-need-a-bot-for-each-client-or-can-i-have-one-that-serves-all-clients", "title": "Do I need a bot for each client or can I have one that serves all clients?", "body": "<p>I have multiple clients that are using chatbots. I'm currently doing the setup of the chatbots and was wondering if there is a way to have one bot that I can deploy or do I need one for each client and/or service?</p>\n\n<p>I'm new to the chatbot development and Azure. Have been reading on the documentation that Microsoft provides but can't seem to find any solid answers. I've been trying to develop from the samples they provide. I've gotten as far as the QnA answering correctly, but wish to keep implementing other functions and understand how all of it works.</p>\n\n<p>My current code is the samples that Microsoft provides. Like I said I'm fairly new to this.</p>\n\n<p>My expected result would be to have 1 bot that depending on the client/business it will provide the according answers or services.</p>\n"}, {"tags": ["c#", "unity3d", "ibm-watson", "sendbird", "websocket-sharp"], "answers": [{"tags": [], "owner": {"reputation": 988, "user_id": 6621960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed523a8b718285bd8524df6bc875ddd?s=128&d=identicon&r=PG", "display_name": "taj", "link": "https://stackoverflow.com/users/6621960/taj"}, "is_accepted": false, "score": 0, "last_activity_date": 1570116663, "creation_date": 1570116663, "answer_id": 58222434, "question_id": 57600068, "link": "https://stackoverflow.com/questions/57600068/unity-ibm-watson-and-sendbird-sdk-websocket-sharp-conflicts-with-each-other-t/58222434#58222434", "title": "Unity - IBM watson and SendBird SDK, websocket-sharp conflicts with each other they both have the same Namespace", "body": "<p>As a workaround you can delete the websocket-sharp library from the Unity SDK Core.</p>\n\n<pre><code>Plugins/websocket-sharp.dll\n</code></pre>\n\n<p>We will need to create a new dll with an ibm-specific namespace.</p>\n"}], "owner": {"reputation": 23, "user_id": 11780673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zFUToVZxA98/AAAAAAAAAAI/AAAAAAAAAB4/4FwXipyDrq0/photo.jpg?sz=128", "display_name": "aaryan madhan", "link": "https://stackoverflow.com/users/11780673/aaryan-madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1570116663, "creation_date": 1566427882, "last_edit_date": 1566438496, "question_id": 57600068, "link": "https://stackoverflow.com/questions/57600068/unity-ibm-watson-and-sendbird-sdk-websocket-sharp-conflicts-with-each-other-t", "title": "Unity - IBM watson and SendBird SDK, websocket-sharp conflicts with each other they both have the same Namespace", "body": "<p>Development Environment:</p>\n\n<ul>\n<li>Unity 2018.3.5f1</li>\n<li>IBM Waston SDK: unity-sdk-3.4.1, unity-sdk-core-0.3.0 </li>\n<li>SendBird .NET SDK</li>\n<li>Windows 7</li>\n</ul>\n\n<p>Problem :\nBoth have the same name for websocket-sharp which causing conflicts with code, unable to use both in one project.</p>\n\n<blockquote>\n  <p>Error : PrecompiledAssemblyException: Multiple precompiled assemblies\n  with the same name websocket-sharp.dll included for the current\n  platform. Only one assembly with the same name is allowed per\n  platform.</p>\n</blockquote>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1566427118, "post_id": 57599952, "comment_id": 101657154, "body": "That&#39;s a pretty straight-forward LINQ statement: <code>list.Where(item =&gt; keys.Contains(item.Key)).Select(item =&gt; item.Value);</code>"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1566427263, "post_id": 57599952, "comment_id": 101657191, "body": "@itsme86 this is not how that interview question is answered... must be O(n) and not O(n^2) as your suggestion - should carefully walk both in parallel to match"}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1566427407, "post_id": 57599952, "comment_id": 101657223, "body": "it&#39;s not an interview question :D I&#39;m moving a small dataset from a database to ram, so I&#39;m trying rebuild the basic queries that were done in mongo to straight code. It&#39;s about 20k records, so while not huge speed still matters."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1566427429, "post_id": 57599952, "comment_id": 101657226, "body": "What does your <code>SomeClass</code> look like? You need to provide a minimal and complete example that can be used to verify."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1566429527, "post_id": 57599952, "comment_id": 101657658, "body": "@Thomas - the accepted answer makes no sense based on so much emphasis on having both arrays sorted... Consider editing your question to match accepted answer. (Consider also clarifying that this is not an interview question so performance does not matter)."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1566429697, "post_id": 57599952, "comment_id": 101657697, "body": "where is the confusion? the context is that it is the backend of an aviation app and there are constant lookups for plane info; since all the info holds in memory, I removed the mongo table and I&#39;m trying to provide the objects matching a list of ids as fast as possible. I think the question fits that context and the answer fit precisely the question. where do you see a mismatch?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1566430838, "post_id": 57599952, "comment_id": 101657948, "body": "@Thomas I did not realize that you talk about <code>SortedList</code> and not &quot;sorted list&quot;. Still I think you should comment that performance does not matter (especially since O(len_list_of_ids) solution <code>ids.Select(i =&gt; l[i]).ToList();</code> is provided in the question already and accepted is O(len_values * len_list_of_ids) )."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1566431133, "post_id": 57599952, "comment_id": 101657996, "body": "but performance does matter, which is why I did mongo-&gt;ram and also why I&#39;m using a sorted list instead of just doing a where in an unsorted list; unfortunately, I didn&#39;t provide enough details at the beginning of the question so it became an iterative process where I added chunks of information as questions came, so the scope got narrowed progressively. In practice, the data is never updated once it is loaded, but is queried in read-only fashion quite a lot, so SortedList seems to be a good candidate."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1566433284, "post_id": 57599952, "comment_id": 101658334, "body": "&quot;but performance does matter&quot; - so that&#39;s why you&#39;ve accepted answer that has worse performance than you had provided in question :)... (Note that the question is not asking about whether reading from DB is slow or not, it simply asks about one particular operation that has nothing to do with DB - and it looks like for that particular step performance does not matter, presumably because you already got gains you need from caching DB in memory... )"}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1566466032, "post_id": 57599952, "comment_id": 101667972, "body": "The one is the question is faster, but it fails when the id list contains elements that are not in the data. The only improvement I can think about would be to sort the list of ids, so looking for them would require a single scan of the list keys; what else do you have in mind?"}], "answers": [{"comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1566436533, "post_id": 57600235, "comment_id": 101658848, "body": "If <code>ids</code> was sorted (and particularly if it was large) I&#39;d strongly suggested using <code>BinarySearch</code> over <code>Contains</code>. <code>BinarySearch</code> helps you achieve a performance benefit since it tells you where to start your <i>next</i> search."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1566437793, "post_id": 57600235, "comment_id": 101659055, "body": "@mjwills Better yet, make <code>ids</code> a <code>HashSet&lt;string&gt;</code> so that <code>Contains</code> runs in constant time."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1566438647, "post_id": 57600235, "comment_id": 101659177, "body": "@juharr Sometimes <code>BinarySearch</code> will outperform it (since you avoid the cost of creating the <code>HashSet</code>), and you can search only a subset of the list. But yes, <code>HashSet</code> will likely perform and scale much better than the current answer."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1566438795, "post_id": 57600235, "comment_id": 101659198, "body": "@mjwills Yes it really depends on the sizes of the lists whether O(m + n) or O(m log n) would be better.  It&#39;s much more likely that your answer is better as I&#39;d expect a list of lookup ids to be smaller than the collection the lookup is done on."}], "tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": true, "score": -1, "last_activity_date": 1566429371, "last_edit_date": 1566429371, "creation_date": 1566429213, "answer_id": 57600235, "question_id": 57599952, "link": "https://stackoverflow.com/questions/57599952/get-a-list-of-elements-from-a-sortedlist-using-a-list-of-keys-using-linq-in/57600235#57600235", "title": "Get a list of elements, from a sortedlist, using a list of keys, using LINQ, in C#", "body": "<p>So, this will work?</p>\n\n<pre><code>var list = new SortedList&lt;string, SomeClass&gt;\n{\n    [\"aa\"] = new SomeClass { Key = \"aa\" },\n    [\"bb\"] = new SomeClass { Key = \"bb\" },\n    [\"cc\"] = new SomeClass { Key = \"cc\" },\n    [\"dd\"] = new SomeClass { Key = \"dd\" }\n};\n\nvar ids = new List&lt;string&gt; { \"bb\", \"cc\" };\n\nvar results = list.Where(x =&gt; ids.Contains(x.Key)).ToList();\n</code></pre>\n\n<p>If you need only the <code>SomeClass</code> list:</p>\n\n<pre><code>var someClassList = list.Where(x =&gt; ids.Contains(x.Key)).Select(y =&gt; y.Value);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": false, "score": 0, "last_activity_date": 1566436253, "creation_date": 1566436253, "answer_id": 57600861, "question_id": 57599952, "link": "https://stackoverflow.com/questions/57599952/get-a-list-of-elements-from-a-sortedlist-using-a-list-of-keys-using-linq-in/57600861#57600861", "title": "Get a list of elements, from a sortedlist, using a list of keys, using LINQ, in C#", "body": "<p>Depending on the size of the <code>SortedList</code> and the size of <code>ids</code>, the below code maybe worth considering (to avoid iterating over the entirety of <code>SortedList</code>). <em>It will be particularly beneficial if <code>ids</code> is small and <code>list</code> is large.</em></p>\n\n<pre><code>using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\nnamespace ConsoleApp12\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var list = new SortedList&lt;string, SomeClass&gt;\n            {\n                [\"aa\"] = new SomeClass { Key = \"aa\" },\n                [\"bb\"] = new SomeClass { Key = \"bb\" },\n                [\"cc\"] = new SomeClass { Key = \"cc\" },\n                [\"dd\"] = new SomeClass { Key = \"dd\" }\n            };\n\n            var ids = new List&lt;string&gt; { \"bb\", \"cc\" };\n\n            var results = ids.Select(x =&gt;\n            {\n                list.TryGetValue(x, out var matching);\n                return matching;\n            }).Where(z =&gt; z != null);\n\n            // Output to show the results\n            Console.WriteLine(string.Join(\",\", results.Select(z =&gt; z.Key)));\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 57600235, "answer_count": 2, "score": 0, "last_activity_date": 1566436253, "creation_date": 1566426870, "last_edit_date": 1566428384, "question_id": 57599952, "link": "https://stackoverflow.com/questions/57599952/get-a-list-of-elements-from-a-sortedlist-using-a-list-of-keys-using-linq-in", "title": "Get a list of elements, from a sortedlist, using a list of keys, using LINQ, in C#", "body": "<p>With a sorted list:</p>\n\n<pre><code>[11] = \"a\"\n[22] = \"b\"\n[35] = \"c\"\n[40] = \"d\"\n[45] = \"e\"\n</code></pre>\n\n<p>and a list of keys:</p>\n\n<pre><code>[35, 40, 45]\n</code></pre>\n\n<p>how can I get the data matching the list of keys.\nthe output should be:</p>\n\n<pre><code>[\"c\", \"d\", \"e\"]\n</code></pre>\n\n<p>Edit:</p>\n\n<p>The type is SortedList()\nthe class 'SomeClass' contains the key value as well.\nan example would be:</p>\n\n<pre><code>class SomeClass\n{\n    string Key;\n    ... some other fields\n}\n</code></pre>\n\n<p>my attempt was:</p>\n\n<pre><code>MyList.Values.Where(_ =&gt; keys.Contains(_.key)).ToList();\n</code></pre>\n\n<p>but this is not using the index.</p>\n\n<p>This works as long as all elements can be found:</p>\n\n<pre><code>    public class A\n    {\n        public string Key;\n        public string SomeValue;\n    }\n\n        var l = new SortedList&lt;string, A&gt;\n        {\n            [\"aa\"] = new A { Key = \"aa\" },\n            [\"bb\"] = new A { Key = \"bb\" },\n            [\"cc\"] = new A { Key = \"cc\" },\n            [\"dd\"] = new A { Key = \"dd\" }\n        };\n\n        var ids = new List&lt;string&gt; { \"bb\", \"cc\" };\n\n        var r = ids.Select(i =&gt; l[i]).ToList();\n</code></pre>\n\n<p>Following the advice of using TryGetValue is good, but I'm not sure how to combine it with select.</p>\n"}, {"tags": ["c#", "asp.net", "screen-scraping"], "comments": [{"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1566429051, "post_id": 57599925, "comment_id": 101657550, "body": "What&#39;s happening within the Strip() method? I tested your code and it works without hanging but I don&#39;t know what the Strip() method logic is doing."}, {"owner": {"reputation": 5811, "user_id": 1038866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-6zydemrOVos/AAAAAAAAAAI/AAAAAAAAABE/J4ZvWM6D2Ts/photo.jpg?sz=128", "display_name": "bgmCoder", "link": "https://stackoverflow.com/users/1038866/bgmcoder"}, "reply_to_user": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1566431365, "post_id": 57599925, "comment_id": 101658040, "body": "oh, that...  actually, that was accidentally posted.  I was trying to strip some html and display just the text that got fetched.  I&#39;ll remove it from my posted code.  You say yours works?  Mine just keeps trying to load and load and the page keeps flashing and no text ever appears - just the image.  It seems like it doesn&#39;t wait for the data to load - I have to use the debugger, I think."}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1566435260, "post_id": 57599925, "comment_id": 101658614, "body": "The code you posted works fine for me. Are you sure your client is actually connecting to the server and not getting hung-up trying to start the connection? You can use something like Fiddler to see the traffic and the response to determine if you are in fact making the connection."}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1566435447, "post_id": 57599925, "comment_id": 101658643, "body": "Since your&#39;re trying to do this from within a webpage.. .check this out... <a href=\"https://stackoverflow.com/questions/302775/call-a-webpage-from-c-sharp-in-code\" title=\"call a webpage from c sharp in code\">stackoverflow.com/questions/302775/&hellip;</a>"}, {"owner": {"reputation": 5811, "user_id": 1038866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-6zydemrOVos/AAAAAAAAAAI/AAAAAAAAABE/J4ZvWM6D2Ts/photo.jpg?sz=128", "display_name": "bgmCoder", "link": "https://stackoverflow.com/users/1038866/bgmcoder"}, "reply_to_user": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1566435711, "post_id": 57599925, "comment_id": 101658708, "body": "Actually, I have it working.  I figured out a url parameter and can specify a date.  If I do that, it load perfectly.  Now I just have to filter out the correct html section for display."}, {"owner": {"reputation": 5811, "user_id": 1038866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-6zydemrOVos/AAAAAAAAAAI/AAAAAAAAABE/J4ZvWM6D2Ts/photo.jpg?sz=128", "display_name": "bgmCoder", "link": "https://stackoverflow.com/users/1038866/bgmcoder"}, "reply_to_user": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1566532631, "post_id": 57599925, "comment_id": 101693674, "body": "@quaabaam How can you put asp.net coed in fiddler?  This is all server side code, not javascript."}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1566576923, "post_id": 57599925, "comment_id": 101713249, "body": "This fiddler, <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">telerik.com/fiddler</a>, it&#39;s a known and free tool that allows you to see the communication between your application and the server. So you would see the call from your app.. the wait and maybe see where the waiting happens"}], "answers": [{"tags": [], "owner": {"reputation": 5811, "user_id": 1038866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-6zydemrOVos/AAAAAAAAAAI/AAAAAAAAABE/J4ZvWM6D2Ts/photo.jpg?sz=128", "display_name": "bgmCoder", "link": "https://stackoverflow.com/users/1038866/bgmcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1566483820, "creation_date": 1566483820, "answer_id": 57611543, "question_id": 57599925, "link": "https://stackoverflow.com/questions/57599925/how-to-fetch-text-block-from-dynamic-ssl-page-via-c-only/57611543#57611543", "title": "How to fetch Text Block from dynamic SSL page via c# only", "body": "<p>Now, I think the webclient couldn't deal with the page-load itself, but I figured out how to load the current day via url parameters, and now it works perfectly.  Just grab today's date and custom format it and add it to the query string.</p>\n\n<pre><code>        string ordohtml = \"Ordo here...\";\n        string ordotext = \"\";\n\n        string ordodate;\n        DateTime dt = new DateTime(System.DateTime.Now.Year, System.DateTime.Now.Month, System.DateTime.Now.Day);\n        ordodate = DateTime.Now.ToString(\"yyyyMMd\");\n\n        string ordourl = \"https://1962ordo.today?date=\" + ordodate;\n\n        ServicePointManager.SecurityProtocol = (SecurityProtocolType)3072;\n        using (WebClient webClient = new WebClient()) {\n            webClient.Headers[\"User-Agent\"] = \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.6) Gecko/20100625 Firefox/3.6.6 (.NET CLR 3.5.30729)\";\n            webClient.Headers[\"Accept\"] = \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\";\n            webClient.Headers[\"Accept-Language\"] = \"en-us,en;q=0.5\";\n            webClient.Headers[\"Accept-Encoding\"] = \"gzip,deflate\";\n            webClient.Headers[\"Accept-Charset\"] = \"ISO-8859-1,utf-8;q=0.7,*;q=0.7\";\n            StreamReader sr = new StreamReader(webClient.OpenRead(ordourl));\n            ordohtml = sr.ReadToEnd();\n            div_ordo = ordohtml.InnerHtml;\n\n        };\n</code></pre>\n"}], "owner": {"reputation": 5811, "user_id": 1038866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-6zydemrOVos/AAAAAAAAAAI/AAAAAAAAABE/J4ZvWM6D2Ts/photo.jpg?sz=128", "display_name": "bgmCoder", "link": "https://stackoverflow.com/users/1038866/bgmcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566483820, "creation_date": 1566426665, "last_edit_date": 1566433310, "question_id": 57599925, "link": "https://stackoverflow.com/questions/57599925/how-to-fetch-text-block-from-dynamic-ssl-page-via-c-only", "title": "How to fetch Text Block from dynamic SSL page via c# only", "body": "<p>In my C# code, I want to use only server-side code to fetch the content of the page here: </p>\n\n<p><a href=\"https://1962ordo.today\" rel=\"nofollow noreferrer\">https://1962ordo.today</a></p>\n\n<p>Problem is, that the dynamic part is appended upon page load, so today it looks like this, but tomorrow it will look different.</p>\n\n<p><a href=\"https://1962ordo.today/day/sts-cosmas-and-damian-2-2-4/\" rel=\"nofollow noreferrer\">https://1962ordo.today/day/sts-cosmas-and-damian-2-2-4/</a></p>\n\n<p>I want to fetch the text only of the <code>container</code> tag, and nothing else, but would like to keep the <code>&lt;br&gt;</code> tags in place.</p>\n\n<p>I've tried using a <a href=\"https://stackoverflow.com/questions/20064505/requesting-html-over-https-with-c-sharp-webclient\">streamreader with SSL capabilities</a>, but it doesn't seem to work correctly.</p>\n\n<p>In the end, I need a simple html string that I can load into my page.</p>\n\n<p>So far, this is what I've come up with; it tries to load the content, but keeps trying to load and never resolves (I have it in the asp.net page_load part):</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e) {\n\n    string ordourl;\n    ordourl = \"https://1962ordo.today\";\n\n    ServicePointManager.SecurityProtocol = (SecurityProtocolType)3072;\n\n    using (WebClient webClient = new WebClient()) {\n        webClient.Headers[\"User-Agent\"] = \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.6) Gecko/20100625 Firefox/3.6.6 (.NET CLR 3.5.30729)\";\n        webClient.Headers[\"Accept\"] = \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\";\n        webClient.Headers[\"Accept-Language\"] = \"en-us,en;q=0.5\";\n        webClient.Headers[\"Accept-Encoding\"] = \"gzip,deflate\";\n        webClient.Headers[\"Accept-Charset\"] = \"ISO-8859-1,utf-8;q=0.7,*;q=0.7\";\n        StreamReader sr = new StreamReader(webClient.OpenRead(ordourl));\n        string results = sr.ReadToEnd();\n        div_ordo.InnerHtml = results;\n    };\n\n}\n</code></pre>\n\n<p>If I use <code>InnerText</code> instead of <code>InnerHtml</code>, it loads into the page's <code>&lt;div&gt;</code> the underlying html, but amoungst that, none of it is the actual data for the day.  The Streamreader isn't getting the data which is the result of the actual page's final load.  It's just getting the actual page's html.  I need the code to wait for the database info to be loaded into that page and display the final results, not the initial page.</p>\n\n<p>I've tried this, and it does exactly the same thing:</p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e) {\n\n\n        string ordourl;\n        ordourl = \"https://1962ordo.today\";\n        string ordotext;\n        ordotext = \"\";\n\n        ServicePointManager.SecurityProtocol = (SecurityProtocolType)3072;\n\n        WebRequest request = WebRequest.Create(ordourl);\n        WebResponse response = request.GetResponse();\n        using (StreamReader reader = new StreamReader(response.GetResponseStream())) {\n            ordotext = reader.ReadToEnd();\n            div_ordo.InnerText = ordotext;\n            reader.Close();\n\n            }\n        response.Close();\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "unity3d"], "comments": [{"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 0, "creation_date": 1566427202, "post_id": 57599890, "comment_id": 101657178, "body": "Care to show us your declarations for DialogueActive?  A MCVE would be nice"}, {"owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "reply_to_user": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 0, "creation_date": 1566427681, "post_id": 57599890, "comment_id": 101657272, "body": "No idea what a &quot;MCVE&quot; is but here is where DialogueActive was declared in my NPCMaster script. <code>public bool DialogueActive = false; </code>"}, {"owner": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566428373, "post_id": 57599890, "comment_id": 101657411, "body": "This line: <code>obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = false;</code> What script contains it? &quot;NPC&quot;?"}, {"owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "reply_to_user": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566428609, "post_id": 57599890, "comment_id": 101657446, "body": "@Nitro557 That is done by the \u201cNPC\u201d script and it is changing the DialogueActive variable, which is stated in the \u201cNPCMaster\u201d script, the same script that contains the if statement, using the the DialogueActive variable. I have put that if statement in my original post. I could post the entire script if you want but its mostly unrelated."}, {"owner": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566428704, "post_id": 57599890, "comment_id": 101657468, "body": "@LiamMcCoy, ok. So, you currently have 2 objects with NPCMasterScr on the scene?"}, {"owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "reply_to_user": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566428895, "post_id": 57599890, "comment_id": 101657511, "body": "@Nitro557 In my OC the bottom code block is from the \u201cNPC\u201d script. This script is in both my NPC\u2019s the ones I interact with with raycast. So there is two instances of the NPC script. The top code block, is from \u201cNPCMaster\u201d which there is only one instance, in a empty in my entire scene."}, {"owner": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566429299, "post_id": 57599890, "comment_id": 101657607, "body": "@LiamMcCoy, okay, it&#39;s clear for me now, thanks"}, {"owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "reply_to_user": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566429336, "post_id": 57599890, "comment_id": 101657616, "body": "@Nitro557 Your welcome."}, {"owner": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566429748, "post_id": 57599890, "comment_id": 101657716, "body": "@LiamMcCoy, so, there&#39;s two objects on the scene with the &quot;NPC&quot; scripts, right? And one \u201cNPCMaster\u201d script. If you disable one of &quot;NPC&quot; script, the last one working correctly then?"}, {"owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "reply_to_user": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566429965, "post_id": 57599890, "comment_id": 101657768, "body": "@Nitro557 One of the NPC script works, while the other does not, while both are activated. For example. I have one NPC script in Bill, and the other in John. Bill will work while John will not. Or the other way around. But once I place Bill, or John in the editor, one will always work, no matter who I talk to in the game. I am explaining it terrible, but its hard to explain. But yes one NPCMaster script and two NPC scripts."}, {"owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "reply_to_user": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "edited": false, "score": 0, "creation_date": 1566430239, "post_id": 57599890, "comment_id": 101657821, "body": "@Nitro557 However, both of them activate DialogueActive fine. The problem happens when trying to detect whether DialogueActive is true through the if statement. Or at least that is what I have found when debugging."}, {"owner": {"reputation": 1209, "user_id": 7482033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vzQ8O.png?s=128&g=1", "display_name": "Ginxxx", "link": "https://stackoverflow.com/users/7482033/ginxxx"}, "edited": false, "score": 0, "creation_date": 1566453849, "post_id": 57599890, "comment_id": 101662224, "body": "If you are just new to unity you could use some triggers instead of raycast. It&#39;s more easy to use :)"}, {"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 0, "creation_date": 1566484097, "post_id": 57599890, "comment_id": 101678491, "body": "@LiamMcCoy a MCVE is a minimum complete verifiable example as explained here: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> producing one gives us the ability to reproduce and debug your problem."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "edited": false, "score": 0, "creation_date": 1566430908, "post_id": 57600366, "comment_id": 101657961, "body": "Thank you! How would I go about doing this differently then?"}], "tags": [], "owner": {"reputation": 244, "user_id": 11941211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a28c110a75964383ee0b663ecad03f?s=128&d=identicon&r=PG&f=1", "display_name": "Nitro557", "link": "https://stackoverflow.com/users/11941211/nitro557"}, "is_accepted": true, "score": 0, "last_activity_date": 1566431656, "last_edit_date": 1566431656, "creation_date": 1566430572, "answer_id": 57600366, "question_id": 57599890, "link": "https://stackoverflow.com/questions/57599890/if-statement-working-when-a-variable-is-activated-by-one-script-but-not-another/57600366#57600366", "title": "If statement working when a variable is activated by one script, but not another", "body": "<p>Seems like your scripts doing some conflicting things. </p>\n\n<p>This part:</p>\n\n<pre><code> if (Interacting == true)\n    {\n        Debug.Log(\"Test1\");\n        obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = true;\n    }\n    else \n    {\n        obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = false;\n    }\n</code></pre>\n\n<p>This will work correctly on the script that is higher in the hierarchy. \nWhen the second script trying to do something when if = true, the first script blocking this via its <code>else</code>. So, when the second script trying to <code>obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = true;</code>, the first script does <code>obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = false;</code>. </p>\n\n<p><strong>Update 1:</strong>\nThe following code may help to understand the problem. </p>\n\n<pre><code>void Update()\n{\n    if (Interacting == true)\n    {\n        Debug.Log(\"Test1\");\n        obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = true;\n    }\n    if (Input.GetKeyDown(\"escape\"))\n    {\n        Interacting = false;\n        obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = false;\n    }\n}\n</code></pre>\n\n<p>HOW-TO-USE:</p>\n\n<ul>\n<li>Interact with the firs object</li>\n<li>Stop interacting</li>\n<li>Press Esc (interacting should be stopped before this step!)</li>\n<li>Interact with the second object</li>\n</ul>\n\n<p>... and control <code>DialogueActive</code> state for each step</p>\n"}], "owner": {"reputation": 23, "user_id": 11959409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDiupUL9pHqzA0cRMqrj6zTouQqfWYPWWpw4XwxTQ=k-s128", "display_name": "Liam McCoy", "link": "https://stackoverflow.com/users/11959409/liam-mccoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57600366, "answer_count": 1, "score": 2, "last_activity_date": 1566431656, "creation_date": 1566426414, "question_id": 57599890, "link": "https://stackoverflow.com/questions/57599890/if-statement-working-when-a-variable-is-activated-by-one-script-but-not-another", "title": "If statement working when a variable is activated by one script, but not another", "body": "<p>Essentially, I am using Unity C#, (I am very new, so I may be missing something obvious), and I have a script, which uses Raycast to \"talk to\" NPCs.</p>\n\n<p>Essentially what it then does, is the Raycast picks up what it collided with, and then opens the \"NPC\" script inside that object. I do this to differentiate the NPCs, as in the future I can change the code for different NPCs using Serialization. </p>\n\n<p>Okay, again this also works fine based on my debugging, my problem seems to be happening further ahead. </p>\n\n<p>This NPC script then activates a variable on another my \"NPCMaster\" script called \"DialogueActive\". According to my debugging this also works, the problem is, is that despite both my NPCs being pretty much exactly the same, and are both correctly activating this variable one of them will not activate the if statement checking if \"DialogueActive\" == true.</p>\n\n<p>The odd thing is, when I change their names, to both the same name, or change their names completely, or delete, and copy the prefab, the broken NPC changes. Yet once I place them, one NPC is broken and the other isn't, it is not depending on who I talk to first or anything. And I can talk to the non-broken NPC as many times as I want and it will always work.</p>\n\n<p>I have tried a bunch of things, I have tried changing how I activate the variable (despite it not being where the problem begins) I have tried deleting them both, duplicating them, making them have the same name, but then the broken NPC will just switch places. </p>\n\n<p>Like I said, I am new to C# unity, and pretty much coding in general so the problem likely results from my ignorance. </p>\n\n<p>//The if statement where the problem happens.</p>\n\n<pre><code>void Update()\n{\n    if (DialogueActive == true)\n    {\n        Debug.Log(\"Test2\");\n        panelexist.enabled = true;\n\n        maintext.text = dialogue;\n    }\n    else\n    {\n        panelexist.enabled = false;\n        maintext.text = \"\"; \n    }\n}\n</code></pre>\n\n<p>//The variable which activates the \"DialogueActive\" variable.</p>\n\n<pre><code>void Update()\n{\n    if (Interacting == true)\n    {\n        Debug.Log(\"Test1\");\n        obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = true;\n    }\n    else \n    {\n        obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = false;\n    }\n    if (Input.GetKeyUp(\"escape\"))\n    {\n        Interacting = false;\n        obj.GetComponent&lt;NPCMasterScr&gt; ().DialogueActive = false;\n    }\n}\n</code></pre>\n\n<p>I expected the if (DialogueActive == true) statement to activate the code below it, which it did in one case but not another.</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "generics"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1566426469, "post_id": 57599875, "comment_id": 101656985, "body": "Start with <code>where T : class, IInactive</code> and see where that takes you. Even if it doesn&#39;t solve this exact problem, you can skip the implementation check and prevent callers from using entity types that don&#39;t support this check (it&#39;s enforced by the compiler and the runtime!)."}, {"owner": {"reputation": 193, "user_id": 5058829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2NVGnHfIc3A/AAAAAAAAAAI/AAAAAAAABB4/GQ5k9WLIfoA/photo.jpg?sz=128", "display_name": "Bill Haack", "link": "https://stackoverflow.com/users/5058829/bill-haack"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1566426814, "post_id": 57599875, "comment_id": 101657069, "body": "Thanks, but I actually want to be able to call this method for all entities, even those that do not implement IInactive.  If the class does not implement IInactive, I want to return all records."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1566427262, "post_id": 57599875, "comment_id": 101657190, "body": "I have an idea but I have to test it to make sure it&#39;ll work. If it works and you don&#39;t have an answer yet, I&#39;ll post it."}, {"owner": {"reputation": 193, "user_id": 5058829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2NVGnHfIc3A/AAAAAAAAAAI/AAAAAAAABB4/GQ5k9WLIfoA/photo.jpg?sz=128", "display_name": "Bill Haack", "link": "https://stackoverflow.com/users/5058829/bill-haack"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1566427536, "post_id": 57599875, "comment_id": 101657248, "body": "Thanks madreflection, much appreciated."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 5058829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2NVGnHfIc3A/AAAAAAAAAAI/AAAAAAAABB4/GQ5k9WLIfoA/photo.jpg?sz=128", "display_name": "Bill Haack", "link": "https://stackoverflow.com/users/5058829/bill-haack"}, "edited": false, "score": 0, "creation_date": 1566429823, "post_id": 57600140, "comment_id": 101657737, "body": "Tom - Thanks that did the trick on the first issue.  That&#39;s a new one for me.  Any ideas on how to cast IQueryable&lt;IInactive&gt; to IQueryable&lt;T&gt;? Thanks!"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "reply_to_user": {"reputation": 193, "user_id": 5058829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2NVGnHfIc3A/AAAAAAAAAAI/AAAAAAAABB4/GQ5k9WLIfoA/photo.jpg?sz=128", "display_name": "Bill Haack", "link": "https://stackoverflow.com/users/5058829/bill-haack"}, "edited": false, "score": 0, "creation_date": 1566430501, "post_id": 57600140, "comment_id": 101657872, "body": "@BillHaack this is a completely different question"}, {"owner": {"reputation": 193, "user_id": 5058829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2NVGnHfIc3A/AAAAAAAAAAI/AAAAAAAABB4/GQ5k9WLIfoA/photo.jpg?sz=128", "display_name": "Bill Haack", "link": "https://stackoverflow.com/users/5058829/bill-haack"}, "edited": false, "score": 0, "creation_date": 1566432215, "post_id": 57600140, "comment_id": 101658161, "body": "Fair enough, I edited the question to just include the 1st issue.  I will create a second post for for the other issue."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3188639"}, "is_accepted": true, "score": 1, "last_activity_date": 1566428510, "creation_date": 1566428510, "answer_id": 57600140, "question_id": 57599875, "link": "https://stackoverflow.com/questions/57599875/linq-query-using-generics-interfaces/57600140#57600140", "title": "Linq query using generics &amp; interfaces", "body": "<p>Instead of</p>\n\n<pre><code>if (typeof(T) is IInactive)\n</code></pre>\n\n<p>try</p>\n\n<pre><code>if (typeof(IInactive).IsAssignableFrom(typeof(T)))\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 5058829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2NVGnHfIc3A/AAAAAAAAAAI/AAAAAAAABB4/GQ5k9WLIfoA/photo.jpg?sz=128", "display_name": "Bill Haack", "link": "https://stackoverflow.com/users/5058829/bill-haack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 57600140, "answer_count": 1, "score": 0, "last_activity_date": 1566432092, "creation_date": 1566426328, "last_edit_date": 1566432092, "question_id": 57599875, "link": "https://stackoverflow.com/questions/57599875/linq-query-using-generics-interfaces", "title": "Linq query using generics &amp; interfaces", "body": "<p>I have several entity framework classes that implement the following an IInactive interface.</p>\n\n<pre><code>public interface IInactive\n{\n    bool inactive { get; set; }\n}\n</code></pre>\n\n<p>For example, my Order class is defined as follows:</p>\n\n<pre><code>public class Order : IInactive\n{\n    [Key]\n    [Required]\n    public Guid orderId { get; set; }\n    ...\n    public bool inactive { get; set; }\n} \n</code></pre>\n\n<p>I am trying to implement a generic method that can be used against all objects (entities) whether they implement the IInactive interface or not. It would be called as follows:</p>\n\n<pre><code>var query = GetAllActive&lt;Order&gt;();\n</code></pre>\n\n<p>My code for this generic method looks like this:</p>\n\n<pre><code>public IQueryable&lt;T&gt; GetAllActive&lt;T&gt;() where T : class\n{\n    DbSet&lt;T&gt; dbSet = this._db.Set&lt;T&gt;();\n\n    // Does the entity implement the IInactive interface.\n    // If yes, only return \"active\" row, otherwise return all rows\n    if (typeof(T)is IInactive)\n    {\n        // Problem: the code in this block never executes, that is,\n        // (typeof(T)is IInactive) never evaluates to true\n\n       ...\n\n    }\n\n    return dbSet;\n}\n</code></pre>\n\n<p>I would greatly appreciate some help solving this issue! Thanks.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1566426121, "post_id": 57599831, "comment_id": 101656900, "body": "What is the functions signature in C/C++?  The <code>ref</code> keyword isn&#39;t needed in <i>general</i>, it&#39;s needed for the particular function you&#39;re trying to call."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1566426122, "post_id": 57599831, "comment_id": 101656902, "body": "I guess the native function is expecting an int pointer, not an int. If you pass the value of <code>devices</code> as an int, that value as interpreted as a pointer is unlikely to happen to point to a valid location in memory."}, {"owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 0, "creation_date": 1566426421, "post_id": 57599831, "comment_id": 101656972, "body": "DWORD SomeDLL_GetDevices (WORD *devices)"}, {"owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 0, "creation_date": 1566426459, "post_id": 57599831, "comment_id": 101656983, "body": "I guess if it was just a WORD it would be int, but WORD * is int pointer which is ref int. Tbh I missed the *... didn&#39;t see it..."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 1, "creation_date": 1566426583, "post_id": 57599854, "comment_id": 101657010, "body": "Thanks Eric. Advice taken. Tbh I got confused as I missed where the C++ signature said WORD * instead of WORD. I read it as just WORD that&#39;s why i was thinking why put ref there... But I can see it&#39;s a WORD pointer i.e. an int pointer. I&#39;ll brush up on my primitive type pointer &quot;number of bits&quot; knowledge as I&#39;m flakey on that. Thanks :D"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1566426644, "post_id": 57599854, "comment_id": 101657026, "body": "Although in this context <code>ref int</code> is a convention that declares that the function is expecting a pointer to a 32bit integer."}, {"owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 1, "creation_date": 1566426819, "post_id": 57599854, "comment_id": 101657070, "body": "Yes, rather than ref long which would be expecting a pointer to a 64-bit integer i.e. a long no?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 1, "creation_date": 1566427188, "post_id": 57599854, "comment_id": 101657172, "body": "@slickchick2: Correct."}, {"owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 0, "creation_date": 1566430771, "post_id": 57599854, "comment_id": 101657925, "body": "Eric what is the answer to your 3 param example? I&#39;m trying to figure out if the marshaller would treat them the same or different for each..."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 1, "creation_date": 1566442394, "post_id": 57599854, "comment_id": 101659765, "body": "@slickchick2: If it&#39;s a managed pointer to a variable then the runtime knows <i>everything</i> about it: whether it is movable, whether it is on the stack or the heap, what the type of the variable is, and so on. If it is an unmanaged pointer, the runtime knows that it is a pointer. If it is an IntPtr, that&#39;s just a number; the runtime cannot assume <i>anything</i> about it.  This can change what actions the runtime takes when marshaling the value to unmanaged code."}, {"owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 0, "creation_date": 1566475283, "post_id": 57599854, "comment_id": 101673096, "body": "Sweet, thanks Eric. Why would anyone want to use IntPtr in C# over ref? I can&#39;t see an advantage tbh..."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 2, "creation_date": 1566479290, "post_id": 57599854, "comment_id": 101675468, "body": "Eric mentions that messing up the signature can cause subtle failures.  <a href=\"https://stackoverflow.com/q/4147423/18192\">Here</a> is as an illustrative example of my own subtle failure.  The array I was marshalling seemed to work fine on 32bit machines, but only the first element of the array was accessible when the code ran on a 64bit machine."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 1, "creation_date": 1566480744, "post_id": 57599854, "comment_id": 101676393, "body": "@slickchick2: Suppose the operating system provides an API to, say, load a bitmap. Back in the bad old days, what it would hand you is a pointer to an internal, private Windows data structure that represented the bitmap. Naturally, people figured this out and started <i>writing</i> to the private fields via rather than using the APIs to write a robust program because that extra nanosecond makes all the difference to success or failure in the marketplace, not the quality of the software, right?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 1, "creation_date": 1566480883, "post_id": 57599854, "comment_id": 101676478, "body": "@slickchick2: Windows now hands out a pointer-sized integer that is not <i>necessarily</i> a pointer. It could be an index into a pointer table, or some other indirection; that&#39;s it&#39;s business. IntPtr emphasizes that this value is <i>something you have no business dereferencing</i>.  A pointer emphasizes <i>you must dereference this to use it</i>. So their use cases are opposites."}, {"owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 0, "creation_date": 1566481627, "post_id": 57599854, "comment_id": 101676910, "body": "I see... so essentially the IntPtr stops people from being silly.... and trying to do things they shouldn&#39;t with int pointers..."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "edited": false, "score": 0, "creation_date": 1566498050, "post_id": 57599854, "comment_id": 101685154, "body": "@slickchick2: Right. Make sure you understand the difference between <code>int*</code> and <code>IntPtr</code>.  An <code>int*</code> is a value which, when dereferenced, gives you a variable of type <code>int</code>.  An <code>IntPtr</code> is an integer that is the same <i>size</i> as a pointer. Don&#39;t fall into the trap of believing that <code>IntPtr</code> means anything even vaguely like &quot;pointer to integer&quot;, because it does not. The right way to think of it is: Int32 == 32 bit integer, Int64 == 64 bit integer, IntPtr == pointer-sized integer."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 7, "last_activity_date": 1566429672, "last_edit_date": 1566429672, "creation_date": 1566426156, "answer_id": 57599854, "question_id": 57599831, "link": "https://stackoverflow.com/questions/57599831/why-is-the-ref-keyword-needed-when-making-a-call-to-a-function-in-a-dll/57599854#57599854", "title": "Why is the &quot;ref&quot; keyword needed when making a call to a function in a DLL?", "body": "<p>The <code>ref int</code> says \"The callee is expecting a pointer to a 32 bit integer, and the marshaller is expecting that to be a managed pointer\". </p>\n\n<p>A managed pointer to an integer and an integer are two completely different things. One is pointer-sized -- typically 64 bits -- and one is definitely 32 bits. One is a value, one is a description of where to obtain a variable that contains a value.  They are not interchangeable and you are required to get it right. </p>\n\n<p>If you are unclear on the conventions used by the marshaling layer to get this all right, get clear on it before you write more marshaling code.  <strong>You are interfacing with a system that does not have the type safety or memory safety provided to you by C#, so you are required to ensure that invariants of the runtime are preserved</strong>.  Normally the runtime ensures that the runtime invariants are maintained, but you're describing how to interface with code that's not in the runtime, so make sure it is right.  </p>\n\n<p><strong>Trying stuff until it works is not a good technique</strong>.  You will likely introduce crashes, memory leaks, and more subtle errors (that is, <em>security holes</em>) if you continue to do so. Read the documentation, or books, or videos, or get a coworker to explain it to you <em>so that you understand how it works</em>. Then you'll be able to write p/invoke code with confidence, rather than guessing and hoping.</p>\n"}], "owner": {"reputation": 117, "user_id": 11831585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71b8dc05145c350334a5696dd185b28?s=128&d=identicon&r=PG&f=1", "display_name": "slickchick2", "link": "https://stackoverflow.com/users/11831585/slickchick2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 57599854, "answer_count": 1, "score": 0, "last_activity_date": 1566429672, "creation_date": 1566425958, "question_id": 57599831, "link": "https://stackoverflow.com/questions/57599831/why-is-the-ref-keyword-needed-when-making-a-call-to-a-function-in-a-dll", "title": "Why is the &quot;ref&quot; keyword needed when making a call to a function in a DLL?", "body": "<p>I'm trying to figure out why I needed to make a DLLImport function have its parameters as \"ref int XXX\" instead of just \"int XXX\". With the latter, this was causing the \"Attempted to read or write protected memory. This is often an indication that other memory is corrupt.\" issue.... but when i added \"ref\" to the parameters... it works just fine. For example:</p>\n\n<pre><code>    [DllImport(\"someDLL.dll\", CallingConvention = CallingConvention.StdCall)]\n    public static extern int SomeDLL_GetDevices(ref int devices);\n</code></pre>\n\n<p>^ the above works</p>\n\n<pre><code>    [DllImport(\"someDLL.dll\", CallingConvention = CallingConvention.StdCall)]\n    public static extern int SomeDLL_GetDevices(int devices);\n</code></pre>\n\n<p>^ the above crashes and burns</p>\n\n<p>I'm not an export with C++ calls from C# and the marshalling side of it, so if anyone could explain why one works and one doesn't, i'd appreciate it.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1566425957, "post_id": 57599808, "comment_id": 101656854, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 3, "creation_date": 1566426204, "post_id": 57599808, "comment_id": 101656926, "body": "&amp;&amp; has higher precedence than <code>?</code>. <a href=\"https://docs.microsoft.com/en-us/cpp/c-language/precedence-and-order-of-evaluation?view=vs-2019\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/cpp/c-language/&hellip;</a>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1566426278, "post_id": 57599808, "comment_id": 101656941, "body": "To understand why your logic breaks down, imagine the code was <code>Console.WriteLine(false &amp;&amp; true ? &quot;False1&quot; : &quot;True2&quot;);</code>. What would you expect that code to write to the console <b>and why</b>? <code>&amp;&amp;</code> doesn&#39;t mean &#39;don&#39;t do <b>anything else</b> to the right if <code>false</code>&#39;. Otherwise my example code could write a string <b>or a boolean</b> (which clearly isn&#39;t possible)."}, {"owner": {"reputation": 11483, "user_id": 55693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5IoC2.png?s=128&g=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/55693/crice"}, "edited": false, "score": 0, "creation_date": 1566434720, "post_id": 57599808, "comment_id": 101658553, "body": "It is not incorrect your expectation is. false &amp;&amp; true evaluates to false, and runs the false side of your ternary which says true."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 9529950, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Steve Wood", "link": "https://stackoverflow.com/users/9529950/steve-wood"}, "is_accepted": false, "score": 0, "last_activity_date": 1566501793, "last_edit_date": 1566501793, "creation_date": 1566426348, "answer_id": 57599879, "question_id": 57599808, "link": "https://stackoverflow.com/questions/57599808/why-does-a-shorthand-if-in-an-and-statement-without-parentheses-evaluate-incorre/57599879#57599879", "title": "Why does a shorthand if in an and statement without parentheses evaluate incorrectly?", "body": "<p>Special thanks to Stuartd &amp; MjWills.</p>\n\n<p>The explanation is the order of execution for the Conditional AND vs the conditional operations.</p>\n\n<p>Because of this, the execution looks something like this:</p>\n\n<p><code>False &amp;&amp; True</code> = <code>False</code> -> <code>False ? False : True</code> = <code>True</code>.</p>\n\n<p>Much appreciated!</p>\n"}], "owner": {"reputation": 9, "user_id": 9529950, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Steve Wood", "link": "https://stackoverflow.com/users/9529950/steve-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566501793, "creation_date": 1566425815, "question_id": 57599808, "link": "https://stackoverflow.com/questions/57599808/why-does-a-shorthand-if-in-an-and-statement-without-parentheses-evaluate-incorre", "title": "Why does a shorthand if in an and statement without parentheses evaluate incorrectly?", "body": "<p>We are going to use a simple example (I had a much more complicated piece of code evaluating incorrectly) that will demonstrate this issue as clearly as possible.</p>\n\n<p>My question is why this evaluates incorrectly until the parentheses are added?</p>\n\n<p>I have resolved the issue by adding the parentheses around the shorthand conditional, it was just a pain to locate the issue, because it read properly to me.</p>\n\n<pre><code>Console.WriteLine(false &amp;&amp; true ? false : true);\n</code></pre>\n\n<p>Expected Result: False.</p>\n\n<p>Actual Result: True.</p>\n\n<p>Now lets add parentheses:</p>\n\n<pre><code>Console.WriteLine(false &amp;&amp; (true ? false : true));\n</code></pre>\n\n<p>Expected Result: False.</p>\n\n<p>Actual Result: False.</p>\n\n<p>In my mind, the first part of the evaluation is false, so it shouldn't even bother to evaluate the latter part of the &amp;&amp; operation. What causes this behavior?</p>\n"}, {"tags": ["c#", "dialogflow-es"], "comments": [{"owner": {"reputation": 30548, "user_id": 3134215, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/D6VcW.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/3134215/ravi"}, "edited": false, "score": 0, "creation_date": 1566446795, "post_id": 57599794, "comment_id": 101660459, "body": "Refer <a href=\"https://stackoverflow.com/questions/56964982/how-to-create-table-in-dialogflow-fulfillment\">How to create table in dialogflow-fulfillment</a>"}], "answers": [{"comments": [{"owner": {"reputation": 912, "user_id": 8468496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CpmdYHySLQg/AAAAAAAAAAI/AAAAAAAAABM/OT-Bo98Hfho/photo.jpg?sz=128", "display_name": "Shiasu-sama", "link": "https://stackoverflow.com/users/8468496/shiasu-sama"}, "edited": false, "score": 0, "creation_date": 1567362395, "post_id": 57607105, "comment_id": 101934366, "body": "I&#39;ve tried adding my table card object into the payload field in a few different ways, but when I test it in the Google Assistant simulator; it doesn&#39;t work. It doesn&#39;t display. How can I find out in what format or in what way it should be added to the payload field; so the Google Assistant can interpret it correctly?"}, {"owner": {"reputation": 912, "user_id": 8468496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CpmdYHySLQg/AAAAAAAAAAI/AAAAAAAAABM/OT-Bo98Hfho/photo.jpg?sz=128", "display_name": "Shiasu-sama", "link": "https://stackoverflow.com/users/8468496/shiasu-sama"}, "edited": false, "score": 0, "creation_date": 1567441397, "post_id": 57607105, "comment_id": 101956300, "body": "I was able to find a solution. <a href=\"https://stackoverflow.com/questions/57755848/how-to-display-a-table-card-from-dialogflow-webhook-in-google-assistant/57760162#57760162\" title=\"how to display a table card from dialogflow webhook in google assistant\">stackoverflow.com/questions/57755848/&hellip;</a>"}], "tags": [], "owner": {"reputation": 48099, "user_id": 1405634, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/218ed9884ff6fa541a821187836ade50?s=128&d=identicon&r=PG", "display_name": "Prisoner", "link": "https://stackoverflow.com/users/1405634/prisoner"}, "is_accepted": true, "score": 1, "last_activity_date": 1566469143, "creation_date": 1566469143, "answer_id": 57607105, "question_id": 57599794, "link": "https://stackoverflow.com/questions/57599794/how-to-add-table-card-in-dialogflow-fulfillment/57607105#57607105", "title": "How to add Table Card in Dialogflow Fulfillment?", "body": "<p>The TableCard is available for the Google Assistant only. It is not available for other integration types. Using it puts the information in the platform-specific <code>Payload</code> field.</p>\n\n<p>You can put whatever you want in the <code>Payload</code> field - but it won't do you any good unless the platform that is receiving it knows what to do with it.</p>\n"}], "owner": {"reputation": 912, "user_id": 8468496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CpmdYHySLQg/AAAAAAAAAAI/AAAAAAAAABM/OT-Bo98Hfho/photo.jpg?sz=128", "display_name": "Shiasu-sama", "link": "https://stackoverflow.com/users/8468496/shiasu-sama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 0, "accepted_answer_id": 57607105, "answer_count": 1, "score": 0, "last_activity_date": 1566469143, "creation_date": 1566425723, "last_edit_date": 1566445940, "question_id": 57599794, "link": "https://stackoverflow.com/questions/57599794/how-to-add-table-card-in-dialogflow-fulfillment", "title": "How to add Table Card in Dialogflow Fulfillment?", "body": "<p>I've been working on my Dialogflow Fulfillment in my Webhook / Web API and I'm now looking at the Fulfillment Messages part of the response. I've realized it has to be a list of <code>GoogleCloudDialogflowV2IntentMessage</code>.</p>\n\n<p>Looking at the metadata of that class; I see this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j9j0c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9j0c.png\" alt=\"GoogleCloudDialogflowV2IntentMessageMeta\"></a></p>\n\n<p>It seems to support all these types of responses:</p>\n\n<ul>\n<li>Basic Card</li>\n<li>Card</li>\n<li>Carousel Select</li>\n<li>Image</li>\n<li>Link Out Suggestion</li>\n<li>List Select</li>\n<li>Payload</li>\n<li>Quick Replies</li>\n<li>Simple Responses</li>\n<li>Suggestions</li>\n<li>Text</li>\n</ul>\n\n<p>When I was working in the Dialogflow Console; if I clicked on 'Add Response' under the 'Google Assistant' responses; there were options that are not directly in this <code>GoogleCloudDialogflowV2IntentMessage</code> class. The option I'm interested in is: 'Table Card'.</p>\n\n<p>How can I make my API return a 'Table Card' as a response?</p>\n\n<p>Can I somehow pass details of a 'Table Card' in the 'Payload' property?</p>\n\n<p>Am I misunderstanding something somewhere along the lines?</p>\n\n<p>Help / Advice appreciated.</p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1566425790, "post_id": 57599786, "comment_id": 101656803, "body": "I&#39;m self-answering this because I&#39;ve come across this more than once, both here on the site and in real life. It&#39;s nearly identical to an answer I provided to another question, but the structure of that question made the connection to the answer unclear. I&#39;d rather create another question and self-answer than edit someone else&#39;s question to make the answer useful."}], "answers": [{"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1566425695, "last_edit_date": 1592644375, "creation_date": 1566425695, "answer_id": 57599788, "question_id": 57599786, "link": "https://stackoverflow.com/questions/57599786/ive-got-an-object-with-json-and-a-message-type-how-do-i-deserialize-the-json-a/57599788#57599788", "title": "I&#39;ve got an object with JSON and a message type. How do I deserialize the JSON and route it to a type-safe message handler class?", "body": "<p>Here is an approach.</p>\n<h3>Message classes and handlers</h3>\n<p>First, here's an interface to represent a handler for your existing <code>QueueMessage</code> class:</p>\n<pre><code>public interface IMessageHandler\n{\n    void HandleMessage(QueueMessage message);\n}\n</code></pre>\n<p>Then, in order to have a generic message handler we'll need a generic message class.</p>\n<pre><code>public class Message&lt;TContent&gt;\n{\n    public Message(TContent content, Guid id, DateTime received)\n    {\n        Content = content;\n        Id = id;\n        Received = received;\n    }\n\n    public TContent Content { get; }\n    public Guid Id { get; }\n    public DateTime Received { get; }\n}\n</code></pre>\n<p>This is an implementation of <code>IMessageHandler</code> which will take the non-generic message and forward it to a generic message handler. That's why it implements a non-generic class, but the class itself is generic.</p>\n<pre><code>public class MessageHandlerWrapper&lt;TContent&gt; : IMessageHandler\n{\n    private readonly IMessageHandler&lt;TContent&gt; _handler;\n\n    public MessageHandlerWrapper(IMessageHandler&lt;TContent&gt; handler)\n    {\n        _handler = handler;\n    }\n\n    public void HandleMessage(QueueMessage message)\n    {\n        var content = JsonConvert.DeserializeObject&lt;TContent&gt;(message.Body);\n        _handler.HandleMessage(\n            new Message&lt;TContent&gt;(\n                content,\n                message.Id,\n                message.Received));\n    }\n}\n</code></pre>\n<p>Next, we have an implementation of <code>IMessageHandler</code> which will act as a facade for the type-specific generic message handlers. Its job is just to receive a message and route it, so we'll call it <code>MessageRouter</code>.</p>\n<pre><code>public class MessageRouter : IMessageHandler\n{\n    private readonly IMessageHandlerFactory _messageHandlerFactory;\n\n    public MessageRouter(IMessageHandlerFactory messageHandlerFactory)\n    {\n        _messageHandlerFactory = messageHandlerFactory;\n    }\n\n    public void HandleMessage(QueueMessage message)\n    {\n        var handler = _messageHandlerFactory.GetHandler(message.MessageType);\n        handler.HandleMessage(message);\n    }\n}\n</code></pre>\n<p>This class depends on another abstraction, <code>IMessageHandlerFactory</code>. It represents something that creates and returns an implementation of <code>IMessageHandler</code> specific to the message type string:</p>\n<pre><code>public interface IMessageHandlerFactory\n{\n    IMessageHandler GetHandler(string messageType);\n}\n</code></pre>\n<p>How can we implement <code>IMessageHandlerFactory</code> so that it resolves message handlers from an IoC container without directly referencing the container? (That would be like a service locator, and it would also couple the factory to one specific IoC container.) Here's an implementation that accomplishes that:</p>\n<pre><code>public class MessageHandlerFactory : IMessageHandlerFactory\n{\n    private readonly Dictionary&lt;string, Func&lt;IMessageHandler&gt;&gt; _messageHandlers\n        = new Dictionary&lt;string, Func&lt;IMessageHandler&gt;&gt;(StringComparer.OrdinalIgnoreCase);\n\n    public void RegisterHandler(string messageType, Func&lt;IMessageHandler&gt; getHandlerFunction)\n    {\n        _messageHandlers[messageType] = getHandlerFunction;\n    }\n\n    public IMessageHandler GetHandler(string messageType)\n    {\n        if (_messageHandlers.ContainsKey(messageType))\n            return _messageHandlers[messageType]();\n        throw new InvalidOperationException($&quot;No handler is registered for message type {messageType}.&quot;);\n    }\n}\n</code></pre>\n<p>Instead of this class resolving an implementation from the container, we'll register functions it can invoke that return implementations of <code>IMessageHandler</code>. The function that's registered can resolve from the container (as you'll see later where we set up the container.) In other words, it's a trick that allows us to resolve from the container without referencing the container.</p>\n<p>Now, for the sake of example, let's way we have these two messages which represent content types:</p>\n<pre><code>public class MessageOne { ... }\npublic class MessageTwo { ... }\n</code></pre>\n<p>And then we have two classes - <code>MessageOneHandler</code> and <code>MessageTwoHandler</code>, which implement <code>IMessageHandler&lt;MessageOne&gt;</code> and <code>IMessageHandler&lt;MessageTwo&gt;</code>.</p>\n<h3>Registering all of this with <code>IServiceProvider</code>.</h3>\n<p>If we're using <code>Microsoft.Extensions.DependencyInjection</code> - that's <code>IServiceCollection</code> and <code>IServiceProvider</code> - how can we register all of this? Here's an extension:</p>\n<pre><code>public static class MessageHandlerServiceCollectionExtensions\n{\n    public static IServiceCollection AddMessageHandlers(this IServiceCollection services)\n    {\n        services.RegisterHandler&lt;MessageOne, MessageOneHandler&gt;();\n        services.RegisterHandler&lt;MessageTwo, MessageTwoHandler&gt;();\n\n        // some string constants for message types would be better.\n        services.AddSingleton&lt;IMessageHandlerFactory&gt;(serviceProvider =&gt;\n        {\n            var factory = new MessageHandlerFactory();\n            factory.RegisterHandler(&quot;MessageOne&quot;,\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;MessageOne&gt;&gt;);\n            factory.RegisterHandler(&quot;MessageTwo&quot;,\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;MessageTwo&gt;&gt;);\n            return factory;\n        });\n\n        services.AddSingleton&lt;IMessageHandler, MessageRouter&gt;();\n        return services;\n    }\n\n    static void RegisterHandler&lt;TMessageType, THandler&gt;(this IServiceCollection services)\n        where TMessageType : class\n        where THandler : IMessageHandler&lt;TMessageType&gt;\n    {\n        services.AddSingleton&lt;TMessageType&gt;();\n        services.AddSingleton(\n            serviceProvider =&gt; \n                new MessageHandlerWrapper&lt;TMessageType&gt;(serviceProvider.GetService&lt;THandler&gt;())\n        );\n    }\n}\n</code></pre>\n<p>I'll explain what's happening here.</p>\n<p>First:</p>\n<pre><code>services.RegisterHandler&lt;MessageOne, MessageOneHandler&gt;();\n</code></pre>\n<p>indicates that the concrete, generic implementation of <code>IMessageHandler&lt;MessageOne&gt;</code> will be <code>MessageOneHandler</code>. But what the <code>RegisterHandler</code> method is actually doing is wrapping the generic handler in an instance of <code>MessageHandlerWrapper&lt;TContent&gt;</code>.</p>\n<p>We're doing the same for <code>MessageTwo</code> and <code>MessageHandlerTwo</code>.</p>\n<p>Second, now that these types are registered and the container can resolve them, we're going to create an instance of <code>MessageHandlerFactory</code> and register with it message type names (strings) and functions which will return <code>IMessageHandler</code> implementations:</p>\n<pre><code>services.AddSingleton&lt;IMessageHandlerFactory&gt;(serviceProvider =&gt;\n{\n    var factory = new MessageHandlerFactory();\n    factory.RegisterHandler(&quot;MessageOne&quot;,\n        serviceProvider.GetService&lt;MessageHandlerWrapper&lt;MessageOne&gt;&gt;);\n    factory.RegisterHandler(&quot;MessageTwo&quot;,\n        serviceProvider.GetService&lt;MessageHandlerWrapper&lt;MessageTwo&gt;&gt;);\n    return factory;\n});\n</code></pre>\n<p>I'm using &quot;magic strings&quot; in this example. In a real application these would be constants.</p>\n<p>This is where we hide the call to the <code>IServiceProvider</code> so that there's no hard dependency on it. Also, in each case, while the function returns a generic implementation of <code>MessageHandlerWrapper&lt;TContent&gt;</code>, it's cast as <code>IMessageHandler</code>. Even though the class is generic, the consumer will interact with a non-generic interface.</p>\n<p>Now we can inject <code>IMessageHandlerFactory</code> because we've got a registered implementation.</p>\n<p>Finally, we'll register the only implementation of <code>IMessageHandler</code> that gets directly resolved and injected anywhere:</p>\n<pre><code>services.AddSingleton&lt;IMessageHandler, MessageRouter&gt;();\n</code></pre>\n<p>Now our application can resolve <code>IMessageHandler</code>, pass it a <code>QueueMessage</code>, and <code>MessageRouter</code> will resolve the correct generic concrete handler to process the message.</p>\n<p>We're not coupled to <code>IServiceProvider</code>. We can do this with <code>Autofac</code>, <code>Windsor</code>, or with no IoC container at all.</p>\n<h3>This is a lot of code. Is it worth it?</h3>\n<p>That's ultimately up to you. Personally I prefer type-safe code to working with <code>object</code>. In this we have to start off with <code>object</code>, but it's important to &quot;bridge&quot; this to type-safe code. The concrete message handlers are where the important work gets done, which is why they implement a type-safe generic interface.</p>\n<p>This also avoids using reflection, which has a way of creeping into things like this. Reflection isn't evil, but if it's a bit hard to see what's going on here, reflection would only make it harder.</p>\n<p>There's some slightly ugly code to match strings with types, but at least we can keep that in the composition root. The vast majority of the code won't have to deal with that ugliness.</p>\n<p>And to me it's worth the effort to be able to resolve everything from the container. If I'm calling constructors all over the place and then one class suddenly needs an extra dependency, that's easy if everything is getting resolved, but messy and coupled if I'm calling constructors.</p>\n<h3>Testing</h3>\n<p>In this case the dependency injection setup is as complicated as anything else, so I'd like to be able to test it. One test is to confirm that I can resolve a concrete message handler for every message type I expect to receive.</p>\n<p>That test would be easier to write if all of the message types were in an array or an <code>enum</code>. I could loop through all of them and make sure that I can resolve the message handler for each one. That would be a great way to make sure nothing gets missed. But for this example I'll just use a parameterized test:</p>\n<pre><code>[TestClass]\npublic class ServiceRegistrationTests\n{\n    [DataTestMethod]\n    [DataRow(&quot;MessageOne&quot;)]\n    [DataRow(&quot;MessageTwo&quot;)]\n    public void FactoryResolvesMessageHandlers(string messageType)\n    {\n        var provider = GetServiceProvider();\n        var factory = provider.GetService&lt;IMessageHandlerFactory&gt;();\n        var handler = factory.GetHandler(messageType);\n        Assert.IsNotNull(handler);\n    }\n\n    private IServiceProvider GetServiceProvider()\n    {\n        var services = new ServiceCollection();\n        services.AddMessageHandlers();\n        return services.BuildServiceProvider();\n    }\n}\n</code></pre>\n<p>Integration tests could resolve <code>IMessageHandler</code> (<code>MessageRouter</code>) and run a messages containing JSON end-to-end, confirming that messages get both routed and handled.</p>\n"}], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566425695, "creation_date": 1566425695, "question_id": 57599786, "link": "https://stackoverflow.com/questions/57599786/ive-got-an-object-with-json-and-a-message-type-how-do-i-deserialize-the-json-a", "title": "I&#39;ve got an object with JSON and a message type. How do I deserialize the JSON and route it to a type-safe message handler class?", "body": "<p>I'm dequeing a message that looks like this:</p>\n\n<pre><code>public class QueueMessage\n{\n    public Guid Id { get; set; }\n    public string MessageType { get; set; }\n    public string Body { get; set; }\n    public DateTime Received { get; set; }\n}\n</code></pre>\n\n<p>The <code>Body</code> is JSON. The <code>MessageType</code> indicates which type the JSON should be deserialized to. (For example, if <code>MessageType</code> equals \"MessageOne\" then I'll deserialize it to type <code>MessageOne</code>.</p>\n\n<p>I want my message handlers to be generic, like this:</p>\n\n<pre><code>public interface IMessageHandler&lt;TMessage&gt;\n{\n    void HandleMessage(Message&lt;TMessage&gt; message);\n}\n</code></pre>\n\n<p>There are currently several types and it will grow.</p>\n\n<p>But since the type is determined at runtime, I can't invoke generic types without going down a rabbit hole with reflection. I also want to resolve all <code>IMessageHandler&lt;TMessage&gt;</code> implementations from an IoC container. </p>\n\n<p>How can I set this up so that I can invoke generic message handlers from non-generic code?</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "prism", "syncfusion"], "answers": [{"tags": [], "owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1566447180, "creation_date": 1566447180, "answer_id": 57601955, "question_id": 57599739, "link": "https://stackoverflow.com/questions/57599739/how-to-bind-image-button-command-from-a-datatemplate-selector-to-a-viewmodel/57601955#57601955", "title": "How to bind Image Button command from a DataTemplate Selector to a ViewModel?", "body": "<p>You have probably wanted code from your list data templates to call commands from your view model directly and pass the current item to the view model to perform necessary actions, I suggest you can take a look:</p>\n\n<p><a href=\"https://doumer.me/xamarin-forms-listview-advanced-guide-with-mvvm/\" rel=\"nofollow noreferrer\">https://doumer.me/xamarin-forms-listview-advanced-guide-with-mvvm/</a></p>\n\n<p>1.We need to create properties in the list data templates. These properties will contain their\u2019s parent view\u2019s BindingContext and commands will be gotten from them.</p>\n\n<p>2.Pass the Binding context from xaml to the data template</p>\n\n<p>3.Receive the binding context in the data template, bind commands and pass the current item as the command\u2019s parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "edited": false, "score": 0, "creation_date": 1566588419, "post_id": 57602881, "comment_id": 101717475, "body": "How do you reference tree view from a different .xaml file? I&#39;m trying to handle the action in my SamplePageViewModel. I added code to reference the SamplePage like you mentioned but it still doesn&#39;t work =("}, {"owner": {"reputation": 7107, "user_id": 3421104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C4hij.jpg?s=128&g=1", "display_name": "Himanshu Dwivedi", "link": "https://stackoverflow.com/users/3421104/himanshu-dwivedi"}, "reply_to_user": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "edited": false, "score": 0, "creation_date": 1566622572, "post_id": 57602881, "comment_id": 101723252, "body": "In that case you should give x:name of the SampleTemplate&#39;s content page (Parent Content page) as x:reference"}], "tags": [], "owner": {"reputation": 7107, "user_id": 3421104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C4hij.jpg?s=128&g=1", "display_name": "Himanshu Dwivedi", "link": "https://stackoverflow.com/users/3421104/himanshu-dwivedi"}, "is_accepted": false, "score": 2, "last_activity_date": 1566454264, "last_edit_date": 1566454264, "creation_date": 1566453709, "answer_id": 57602881, "question_id": 57599739, "link": "https://stackoverflow.com/questions/57599739/how-to-bind-image-button-command-from-a-datatemplate-selector-to-a-viewmodel/57602881#57602881", "title": "How to bind Image Button command from a DataTemplate Selector to a ViewModel?", "body": "<p>Try this, probably you are missing the <code>x:Reference</code> for the command:</p>\n\n<pre><code>&lt;ImageButton Aspect=\"AspectFill\"\n             Grid.Row=\"0\" Grid.Column=\"3\" \n             HorizontalOptions=\"End\" \n             WidthRequest=\"90\" HeightRequest=\"90\" \n             Source=\"{xaml:ImageResource plus_Icon}\"\n             Command=\"{Binding Path=BindingContext.AddAsJobClickedCommand, Source={x:Reference treeView}}\"\n             CommandParameter=\"{x:Reference treeView}\"/&gt;\n</code></pre>\n\n<p>Note: Here <strong><code>treeView</code></strong> is the <code>x:Name</code> of SfTreeView</p>\n\n<p>Find <a href=\"https://help.syncfusion.com/xamarin/sflistview/mvvm#binding-command-of-button-inside-the-itemtemplate-of-xamarinforms-listview-to-viewmodel-command\" rel=\"nofollow noreferrer\">Reference</a> here</p>\n"}], "owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566588103, "creation_date": 1566425373, "last_edit_date": 1566588103, "question_id": 57599739, "link": "https://stackoverflow.com/questions/57599739/how-to-bind-image-button-command-from-a-datatemplate-selector-to-a-viewmodel", "title": "How to bind Image Button command from a DataTemplate Selector to a ViewModel?", "body": "<p>I am working with <a href=\"https://help.syncfusion.com/xamarin/sftreeview/apperance?cs-save-lang=1&amp;cs-lang=xaml\" rel=\"nofollow noreferrer\">SyncFusion's TreeView</a>. I have a TreeView with three separate DataTemplate/Custom View Cells. In my main XAML, I have the following tree view code below which binds to my DataTemplates.</p>\n\n<p>SamplePage.xaml</p>\n\n<pre><code>&lt;syncfusion:SfTreeView x:Name=\"treeView\"\n       QueryNodeSize=\"TreeView_QueryNodeSize\"\n       NodeSizeMode=\"Dynamic\"\n       AutoExpandMode=\"RootNodesExpanded\"\n       ChildPropertyName=\"SubFiles\"\n       ItemsSource=\"{Binding ImageNodeInfo}\" Indentation=\"0\" \n       ItemTemplate=\"{StaticResource TemplateSelector}\"&gt;\n&lt;/syncfusion:SfTreeView&gt;\n</code></pre>\n\n<p>I am now trying to bind my command from one of my data templates (code below) to my view model connected to my page but I can't seem to connect my data bindings. Most examples online shows the data template on the same xaml page of the view / viewModel. However, my code is using a data template selector which gives me a harder route to bind.</p>\n\n<p>SampleTemplate.xaml</p>\n\n<pre><code>&lt;ViewCell.BindingContext&gt;\n    &lt;local:SamplePage x:Key=\"SamplePage\"&gt;\n    &lt;/local:SamplePage&gt;\n&lt;/ViewCell.BindingContext&gt;\n\n\n\n   &lt;ImageButton Aspect=\"AspectFill\"\n      Grid.Row=\"0\" Grid.Column=\"3\" \n      HorizontalOptions=\"End\" \n      WidthRequest=\"90\" HeightRequest=\"90\" \n      Source=\"{xaml:ImageResource plus_Icon}\"\n      Command=\"{Binding Path=BindingContext.AddAsJobClickedCommand}, Source={x:Reference SamplePage}\" \n      CommandParameter=\"{Binding treeView}\" \n                                 /&gt;  \n</code></pre>\n"}, {"tags": ["javascript", "c#", "ajax", "asp.net-core"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1566426543, "post_id": 57599639, "comment_id": 101657003, "body": "<code>FileGuid</code>  !== <code>fileGuid</code> and similarly for <code>FileName</code> !== <code>fileName</code> - javascript is <i>case sensitive</i> about these things ... i.e. <code>window.location = &#39;Download?fileGuid=&#39; + element.fileGuid                             + &#39;&amp;filename=&#39; + element.fileName;</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1566426717, "post_id": 57599639, "comment_id": 101657046, "body": "<code>I&#39;m not totally sure if it would end up calling the Download file</code> well, I know nothing about asp, but based on the code you have shown, it seems you may want <code>&#39;@Url.Action(&quot;Download&quot;)?etc&#39;</code> - given how your AJAX request is <code>&#39;@Url.Action(&quot;CreateCsvFile&quot;)&#39;</code> - again, total speculation on my part"}], "answers": [{"tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566450803, "creation_date": 1566450803, "answer_id": 57602435, "question_id": 57599639, "link": "https://stackoverflow.com/questions/57599639/need-help-getting-ajax-call-to-download-file/57602435#57602435", "title": "Need help getting AJAX call to download file", "body": "<p>Since you could see the data as <code>{\"fileGuid\":\"0123\",\"fileName\":\"newreport.csv\"}</code> using <code>console.log(element)</code> in ajax success, then you also need to use same key <code>element.fileGuid</code> instead of <code>element.FileGuid</code>:</p>\n\n<pre><code>success: function (data) {            \n            if (data) {\n                var element = data;\n                console.log(element);\n                window.location = 'Download?fileGuid=' + element.fileGuid\n                       + '&amp;fileName=' + element.fileName;\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10242035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a1c40873183a938da3397b5f67d9d3?s=128&d=identicon&r=PG&f=1", "display_name": "Warbler", "link": "https://stackoverflow.com/users/10242035/warbler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566450803, "creation_date": 1566424813, "question_id": 57599639, "link": "https://stackoverflow.com/questions/57599639/need-help-getting-ajax-call-to-download-file", "title": "Need help getting AJAX call to download file", "body": "<p>So I am working on a website page where the user selects some elements to make a specific report. I then have them click on a button, which makes an ajax call. This call (correctly) calls a method in the controller that creates a .csv file based off of the parameters. </p>\n\n<p>However, the hard part is that, after I create this file, I want the user to download it in the usual manner-with the whole popup and putting it in the download folder and all that.</p>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/16670209/download-excel-file-via-ajax-mvc\">this</a> stack overflow question that is more or less doing what I am now. Except it was written pre-ASP.NET Core, and it's not really working with my code. Here is my code right now:</p>\n\n<pre><code>&lt;div class=\"mybutton\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" style=\"background-color:#587992\" id=\"CreateExcel\" onclick=\"CreateFile()\"&gt; Create an Excel File for this Data &lt;/button&gt;\n&lt;/div&gt;\n\n...\n\n&lt;script&gt;\n...\n\nfunction CreateFile(){\n   array = getParameters();\n    $.ajax({\n            type: \"POST\",\n\n            data: { 'array': array },\n            cache: false,\n            traditional: true,\n\n            url: '@Url.Action(\"CreateCsvFile\")',\n            success: function (data) {\n                if (data) {\n                    var element = data;\n                    window.location = 'Download?fileGuid=' + element.FileGuid \n                           + '&amp;filename=' + element.FileName;\n                }\n            }\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>And then here is my controller code:</p>\n\n<pre><code>public ActionResult CreateCsvFile(string[] array)\n        {\n            List&lt;OperatorInterventions&gt; TempList = new List&lt;OperatorInterventions&gt;();\n\n            //Logic to apply the List to the passed in parameters in this line...\n\n            var memoryStream = new MemoryStream();\n            using (var writer = new StreamWriter(memoryStream, Encoding.UTF8, 1024, true))\n\n            using (var csv = new CsvWriter(writer))\n            {\n                csv.WriteRecords(TempList);\n\n            }\n            string handle = Guid.NewGuid().ToString();\n            memoryStream.Position = 0;\n            TempData[handle] = memoryStream.ToArray();\n\n            //return File(memoryStream, \"text/csv\", \"clients.csv\");\n            return new JsonResult(new { FileGuid = handle, FileName = \"newreport.csv\" });\n\n\n        }\n\n\n        [HttpGet]\n        public virtual ActionResult Download(string fileGuid, string fileName)\n        {\n            if (TempData[fileGuid] != null)\n            {\n                byte[] data = TempData[fileGuid] as byte[];\n                return File(data, \"text/csv\", fileName);\n            }\n            else\n            {\n                // Problem - Log the error, generate a blank file,\n                //           redirect to another controller action - whatever fits with your application\n                return new EmptyResult();\n            }\n        }\n</code></pre>\n\n<p>Right now, when I return from the Ajax call to CreateCsvFile, I attempt to handle data. When I step through the call, I can see that data/element contains something like <code>\"{\"fileGuid\":\"0123\",\"fileName\":\"newreport.csv\"}\"</code>, but in the URL call that window.location uses, it element.FileGuid and element.FileName end up being \"undefined\". I previously had <code>JSON.parse(data)</code> in there, but that caused an error, and <code>JSON.stringify(data)</code> did nothing.</p>\n\n<p>Additionally, I suspect that even if I managed to get fileGuid and fileName to not be undefined in the url, I'm not totally sure if it would end up calling the Download file.</p>\n\n<p>Is there a way to fix the undefined? Is there a better way to do this Ajax call-to-download in general?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "sql-server", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 2, "creation_date": 1566424811, "post_id": 57599622, "comment_id": 101656516, "body": "I suggest avoiding the <code>sp_</code> prefix; it&#39;s reserved by Microsoft so can mean that one day <i>your</i> will suddenly stop working, and it lowers the performance of it: <a href=\"https://sqlperformance.com/2012/10/t-sql-queries/sp_prefix\" rel=\"nofollow noreferrer\">Is the sp_ prefix still a no-no?</a>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1566425807, "post_id": 57599622, "comment_id": 101656811, "body": "Have you read <a href=\"https://stackoverflow.com/questions/290652/get-output-parameter-value-in-ado-net\" title=\"get output parameter value in ado net\">stackoverflow.com/questions/290652/&hellip;</a> ?"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 2, "creation_date": 1566426278, "post_id": 57599622, "comment_id": 101656942, "body": "It <i>looks</i> like you&#39;re storing unhashed passwords in your database, I hope that&#39;s not the case."}, {"owner": {"reputation": 87, "user_id": 11828429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf38efcce21afa9fda650600d471f4cf?s=128&d=identicon&r=PG&f=1", "display_name": "dannyriv", "link": "https://stackoverflow.com/users/11828429/dannyriv"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1566428167, "post_id": 57599622, "comment_id": 101657379, "body": "Thank you @mjwills , that post helped me out"}, {"owner": {"reputation": 87, "user_id": 11828429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf38efcce21afa9fda650600d471f4cf?s=128&d=identicon&r=PG&f=1", "display_name": "dannyriv", "link": "https://stackoverflow.com/users/11828429/dannyriv"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1566428182, "post_id": 57599622, "comment_id": 101657382, "body": "@stuartd as of right now they are not hashed, I will look into hashing them soon."}, {"owner": {"reputation": 471, "user_id": 7472308, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MZOmLr4-aa0/AAAAAAAAAAI/AAAAAAAAV6A/MPlRPOkh5NM/photo.jpg?sz=128", "display_name": "Napoleon Ike Jones", "link": "https://stackoverflow.com/users/7472308/napoleon-ike-jones"}, "edited": false, "score": 0, "creation_date": 1566449594, "post_id": 57599622, "comment_id": 101661001, "body": "Do not store plain text passwords!!!!!!!"}], "owner": {"reputation": 87, "user_id": 11828429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf38efcce21afa9fda650600d471f4cf?s=128&d=identicon&r=PG&f=1", "display_name": "dannyriv", "link": "https://stackoverflow.com/users/11828429/dannyriv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566424681, "creation_date": 1566424681, "question_id": 57599622, "link": "https://stackoverflow.com/questions/57599622/implementing-a-stored-procedure-with-input-and-output-paramaters-in-net-core-2", "title": "Implementing a stored procedure with input and output paramaters in .net core 2.2 web app", "body": "<p>I am trying to implement a stored procedure called \"sp_ValidateUserLogin\" which takes input paramaters of UserName and Password and checks to see if the combination exists in the database.  </p>\n\n<p>I tried manipulating old code for another stored procedure that reads information returned from its query and creating a list (which is why I used ExecuteReader) but this does not appear to work the same way here.</p>\n\n<p>Stored Procedure</p>\n\n<pre><code>[dbo].[sp_ValidateUserLogin]\n@UserName VARCHAR(100),\n@Password VARCHAR(100),\n@IsValid INT OUTPUT\nAS\nBEGIN\n\n\nIF EXISTS(SELECT * FROM VisUser WHERE(UserName = @UserName AND UserPassword = @Password))\n    BEGIN \n        SET @IsValid = 1;\n    END \nELSE\n    BEGIN \n        SET @IsValid = 0;\n    END\nEND\n</code></pre>\n\n<p>Stored Procedure in DatabaseContext</p>\n\n<pre><code>public int ValidateUserLogin(string UserName, string Password)\n        {\n            int IsValid = 0;\n\n            using (SqlConnection con = new SqlConnection(connectionString))\n            {\n                using (SqlCommand cmd = new SqlCommand(\"sp_ValidateUserLogin\", con))\n                {\n                    cmd.CommandType = CommandType.StoredProcedure;\n                    cmd.Parameters.Add((\"@UserName\"), SqlDbType.VarChar).Value = UserName;\n                    cmd.Parameters.Add((\"@Password\"), SqlDbType.VarChar).Value = Password;\n                    con.Open();\n\n                    SqlDataReader rdr = cmd.ExecuteReader();\n                    //IsValid = rdr.Read();\n                    while (rdr.Read())\n                    {\n                        SubCategory subcategory = new SubCategory();\n\n                        subcategory.SubCategoryId = Convert.ToInt32(rdr[\"SubCategoryId\"]);\n                        subcategory.SubCategoryName = rdr[\"SubCategoryName\"].ToString();\n\n                        //lstsubcategory.Add(subcategory);\n                    }\n                    con.Close();\n                }\n            }\n\n            return IsValid;\n        }\n</code></pre>\n\n<p>Code behind RazorPage:</p>\n\n<pre><code>public ActionResult OnPost(string UserName, string Password)\n        {\n\n            if (!ModelState.IsValid)\n            {\n                return Page();\n            }\n\n            if(DatabaseContext.ValidateUserLogin(UserName, Password) == 1)\n            {\n                //send email\n            }\n            else\n            {\n                return Page();\n            }\n        }\n</code></pre>\n\n<p>I am unsure of how to implement a stored procedure with both input and output paramaters.  I would like for the stored procedure call in EF to return 1 if the combination exists and 0 otherwise.  The approach that I am taking with ExecuteReader which I used for another stored procedure does not work the same way for this stored procedure.  What is a good alternative approach for this?</p>\n"}, {"tags": ["c#", "asp.net-core", "dependency-injection", ".net-core", ".net-core-authorization"], "comments": [{"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1566424345, "post_id": 57599520, "comment_id": 101656375, "body": "Can you show how you register types in services configuration?"}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "reply_to_user": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1566424764, "post_id": 57599520, "comment_id": 101656503, "body": "@Fabio, done. Let me know if you need anything else."}, {"owner": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1566424783, "post_id": 57599520, "comment_id": 101656507, "body": "Why reinvent the wheel? How come you&#39;re not using GenericPrincipal and GenericIdentity classes and decorating your routes and methods with AuthorizeAttributes? You can add multiple AuthorizeAttributes for alternatives and the policies referenced by them can require multiple claims."}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "reply_to_user": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1566424941, "post_id": 57599520, "comment_id": 101656560, "body": "@AlwaysLearning, these handlers are for auth policies and added as Authorize attributes as allowed but the requirements for some of these cannot be met without imperative resource authorization. I don&#39;t see this as an issue with using GenericPrinciple or Identity, it&#39;s beyond claims."}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "reply_to_user": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1566425148, "post_id": 57599520, "comment_id": 101656613, "body": "@AlwaysLearning, can a case like this be solved that way: Given <code>a</code>, <code>b</code>, <code>c</code>, and <code>d</code> are roles and <code>e</code> is a resource to auth against. The logical problem is: (a || b) || ((c || d) &amp;&amp; e). I can clarify if that doesn&#39;t make sense. <code>e</code> has some properties that need to be matched on the user."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1566425210, "post_id": 57599520, "comment_id": 101656626, "body": "ServiceCollection will register both implementation types as a collection behind <code>IAuthorizationHandler</code>, then if some class will have collection of abstractions as constructor argument it will return a collection if singular instance expected it will return last one."}], "owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566426045, "creation_date": 1566424013, "last_edit_date": 1566426045, "question_id": 57599520, "link": "https://stackoverflow.com/questions/57599520/how-to-provide-base-classes-for-authorization-requirements", "title": "How to provide base classes for authorization requirements?", "body": "<p>I've got a few authorization requirement types that are very similar. The first type takes a <code>string[]</code> of roles to check the user's role against. The second type takes a <code>string[]</code> of elevated roles that can short-circuit the handler and another <code>string[]</code> of checked roles like the first. Let's say I then have the following:</p>\n\n<pre><code>public abstract class RoleRequirement : IAuthorizationRequirement\n{\n    internal string[] CheckedRoles { get; }\n\n    public RoleRequirement(string[] checkedRoles)\n    {\n        CheckedRoles = checkedRoles;\n    }\n}\n\npublic abstract class ElevatedRoleRequirement : RoleRequirement\n{\n    internal string[] ElevatedRoles { get; }\n\n    public ElevatedRoleRequirement(string[] elevatedRoles, string[] checkedRoles) \n    : base(checkedRoles)\n    {\n        ElevatedRoles = elevatedRoles;\n    }\n}\n</code></pre>\n\n<p>I have a few concrete variations of both types and the associated handlers accept those concrete types. The issue is DI is resolving them all as a base <code>RoleRequirement</code> even though the actual type passed to the handler is a concrete type. This causes the wrong handler to be invoked which can't deal with the given type.</p>\n\n<p>I've tried registering the handlers as both singletons and scoped without benefit though I'll most likely need scoped handlers. Each look like the following:</p>\n\n<pre><code> services.AddSingleton&lt;IAuthorizationHandler, SomeRoleRequirementHandler&gt;();\n services.AddSingleton&lt;IAuthorizationHandler, SomeElevatedRoleRequirementHandler&gt;();\n</code></pre>\n\n<p>Is it possible to design this in a way to keep this DRY?</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "ef-code-first"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1566424509, "post_id": 57599500, "comment_id": 101656435, "body": "Can you show us how you&#39;re trying to access the context?"}, {"owner": {"reputation": 153, "user_id": 535625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31897810db5449d41e7958876f62182?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/535625/sam"}, "edited": false, "score": 0, "creation_date": 1566425365, "post_id": 57599500, "comment_id": 101656675, "body": "When you try to use the scaffolding command to create a new controller with views and stuff, it asks to specify the context class... is the context available there?"}, {"owner": {"reputation": 3420, "user_id": 2072676, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebd06829dbe5de8a676efd44fdf8f271?s=128&d=identicon&r=PG", "display_name": "Giox", "link": "https://stackoverflow.com/users/2072676/giox"}, "reply_to_user": {"reputation": 153, "user_id": 535625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31897810db5449d41e7958876f62182?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/535625/sam"}, "edited": false, "score": 0, "creation_date": 1566425683, "post_id": 57599500, "comment_id": 101656774, "body": "@sam I&#39;ve tried to add an API controller, it doesn&#39;t ask for anything, just created and inserted it in the MyProject namespace as all the other existing files"}, {"owner": {"reputation": 3420, "user_id": 2072676, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebd06829dbe5de8a676efd44fdf8f271?s=128&d=identicon&r=PG", "display_name": "Giox", "link": "https://stackoverflow.com/users/2072676/giox"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1566425989, "post_id": 57599500, "comment_id": 101656861, "body": "@JonathonChase even if I type using MyProject.... the DataModel namespace is not listed."}, {"owner": {"reputation": 153, "user_id": 535625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31897810db5449d41e7958876f62182?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/535625/sam"}, "edited": false, "score": 0, "creation_date": 1566426106, "post_id": 57599500, "comment_id": 101656895, "body": "That might be the problem.. you cannot access the namespace.. myproject.datamodel.. So you can&#39;t even call any of the model classes from the controller? For ex: initialize like var countries = New Countries();"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1566426126, "post_id": 57599500, "comment_id": 101656905, "body": "What version of the framework are you targetting?"}, {"owner": {"reputation": 3420, "user_id": 2072676, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebd06829dbe5de8a676efd44fdf8f271?s=128&d=identicon&r=PG", "display_name": "Giox", "link": "https://stackoverflow.com/users/2072676/giox"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1566426378, "post_id": 57599500, "comment_id": 101656962, "body": "@JonathonChase latest 4.7.2"}, {"owner": {"reputation": 3420, "user_id": 2072676, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebd06829dbe5de8a676efd44fdf8f271?s=128&d=identicon&r=PG", "display_name": "Giox", "link": "https://stackoverflow.com/users/2072676/giox"}, "edited": false, "score": 0, "creation_date": 1566426531, "post_id": 57599500, "comment_id": 101657000, "body": "Found the issue...: All the classes created by the ADO.NET Wizard has set their Build Action to CONTENT!! instead of compile. CHanging to compile it works and I can access the namespace. Now the question is WHY has been set to Content, and HOW I can generate them with this property set to compile. (Almost 60 classes and I don&#39;t want to change them manaully)"}, {"owner": {"reputation": 153, "user_id": 535625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31897810db5449d41e7958876f62182?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/535625/sam"}, "edited": false, "score": 0, "creation_date": 1566426914, "post_id": 57599500, "comment_id": 101657090, "body": "Edit the .csproj file and  check if this is there:   &lt;ItemGroup&gt;     &lt;Folder Include=&quot;App_Data\\&quot; /&gt;     &lt;Folder Include=&quot;Models\\&quot; /&gt;   &lt;/ItemGroup&gt;"}, {"owner": {"reputation": 153, "user_id": 535625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31897810db5449d41e7958876f62182?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/535625/sam"}, "edited": false, "score": 0, "creation_date": 1566427229, "post_id": 57599500, "comment_id": 101657182, "body": "Also try to select multiple files using Shift+click and set the build action."}, {"owner": {"reputation": 153, "user_id": 535625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31897810db5449d41e7958876f62182?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/535625/sam"}, "edited": false, "score": 0, "creation_date": 1575675526, "post_id": 57599500, "comment_id": 104658552, "body": "Did you find an answer? If i answered your question, can i create an answer and you mark that as the accepted answer? @Giox"}], "answers": [{"comments": [{"owner": {"reputation": 3420, "user_id": 2072676, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebd06829dbe5de8a676efd44fdf8f271?s=128&d=identicon&r=PG", "display_name": "Giox", "link": "https://stackoverflow.com/users/2072676/giox"}, "edited": false, "score": 0, "creation_date": 1566424923, "post_id": 57599609, "comment_id": 101656549, "body": "no, only one project in the solution, and it contains only the data model, no other code for now, no other libraries, just created right now."}], "tags": [], "owner": {"reputation": 136, "user_id": 9921644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6c60c3129679c627d0e934ae034f0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Peterson V", "link": "https://stackoverflow.com/users/9921644/peterson-v"}, "is_accepted": true, "score": 0, "last_activity_date": 1566424622, "creation_date": 1566424622, "answer_id": 57599609, "question_id": 57599500, "link": "https://stackoverflow.com/questions/57599500/asp-net-web-application-namespace-not-recognized/57599609#57599609", "title": "ASP.NET web application namespace not recognized", "body": "<p>Have you more than a project in your solution?\nIf so, you should add a reference between the project where you want to use your DbContext and the project that contains it.</p>\n\n<p>From the official documentation:</p>\n\n<blockquote>\n  <p>To add a reference, right click on the References or Dependencies node in Solution Explorer and choose Add Reference\n  <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/managing-references-in-a-project?view=vs-2019\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n\n<p>Also, make sure that the project that contains the DbContext is being compiled.</p>\n"}], "owner": {"reputation": 3420, "user_id": 2072676, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebd06829dbe5de8a676efd44fdf8f271?s=128&d=identicon&r=PG", "display_name": "Giox", "link": "https://stackoverflow.com/users/2072676/giox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 57599609, "answer_count": 1, "score": 0, "last_activity_date": 1566425219, "creation_date": 1566423856, "last_edit_date": 1566424715, "question_id": 57599500, "link": "https://stackoverflow.com/questions/57599500/asp-net-web-application-namespace-not-recognized", "title": "ASP.NET web application namespace not recognized", "body": "<p>I have created an ASP.NET Web Application, Web Form.</p>\n\n<p>I have added EntityFramework 6.2</p>\n\n<p>I have mapped the DB using <strong>Code First From Existing Database</strong></p>\n\n<p>Everything went fine, I have all the classes with the context like below:</p>\n\n<pre><code>namespace MyProject.DataModel\n{\n    using System;\n    using System.Data.Entity;\n    using System.ComponentModel.DataAnnotations.Schema;\n    using System.Linq;\n\n    public partial class MyDBEntities : DbContext\n    {\n        public MyDBEntities ()\n            : base(\"name=MyDBEntities \")\n        {\n        }\n\n        public virtual DbSet&lt;Adm0&gt; Adm0 { get; set; }\n        public virtual DbSet&lt;Adm1&gt; Adm1 { get; set; }\n        public virtual DbSet&lt;Adm2&gt; Adm2 { get; set; }\n        public virtual DbSet&lt;Country&gt; Countries { get; set; }\n        ...\n</code></pre>\n\n<p>The connection string is:</p>\n\n<pre><code>  &lt;connectionStrings&gt;\n    &lt;add name=\"MyDBEntities\" connectionString=\"data source=10.11.xx.xx;initial catalog=xxxxxx;persist security info=True;user id=xxxx;password=xxxxxx;MultipleActiveResultSets=True;App=EntityFramework\" providerName=\"System.Data.SqlClient\" /&gt;\n  &lt;/connectionStrings&gt;\n</code></pre>\n\n<p>No error in the whole project, but if I try to access the DbContext there is no way!\nThe namespace DataModel doesn't exist anywhere, is completely ignored: </p>\n\n<p>Example:</p>\n\n<p>Typing <em>MyProject.</em> Intellisense doesn't suggest DataModel</p>\n\n<p>Typing <em>MyProject.DataModel</em> it gives error on DataModel saying that doesn't exist.</p>\n\n<p>Why??</p>\n"}, {"tags": ["c#", "hl7", "hl7-fhir"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566423338, "post_id": 57599373, "comment_id": 101656113, "body": "The HL7 format is probably XML and you must meet the schema requirements.  if you are working with string dates than you can&#39;t change from US to GB.  You MUST MEET the SCHEMA Requirements.  If your customers are using a schema than everything should be ok."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566429509, "post_id": 57599373, "comment_id": 101657653, "body": "The transfer of data between computers should always be in standard ISO format.You should never have an issue at the server.Server will always get ISO format.Client should always store the classes as DateTime objects and the serialize method should take a DateTime object and serializing to ISO and the deserialize method should take ISO and producing a DateTime object.Your only issue is at the client side where users need to parse a string date to a DateTime Object.Errors will only occur when users are parsing strings to DateTime.If user have PC set to local culture there will not be any issues"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6568185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da82e85991bd72678362da2c86ca2596?s=128&d=identicon&r=PG&f=1", "display_name": "vadl", "link": "https://stackoverflow.com/users/6568185/vadl"}, "edited": false, "score": 0, "creation_date": 1566457300, "post_id": 57599586, "comment_id": 101663624, "body": "sure, you are right &quot;1970-12-25&quot; in the real code, I did a mistake when created the post."}], "tags": [], "owner": {"reputation": 4505, "user_id": 2382420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/paQgG.jpg?s=128&g=1", "display_name": "Lloyd McKenzie", "link": "https://stackoverflow.com/users/2382420/lloyd-mckenzie"}, "is_accepted": false, "score": 1, "last_activity_date": 1566424533, "creation_date": 1566424533, "answer_id": 57599586, "question_id": 57599373, "link": "https://stackoverflow.com/questions/57599373/patient-birthdate-en-gb-partial-is-in-an-invalid-format-should-use-iso8601/57599586#57599586", "title": "Patient.BirthDate. en-GB &#39;Partial is in an invalid format, should use ISO8601&#39;", "body": "<p>YYYY-MM-DD is not a country-specific format.  It's intended to be a generic format and must be used regardless of locale.  I have no clue why <code>patientJson.BirthDate = \"12-25-1970\"</code> did not fail for you.  It's certainly not valid.  All date times, regardless of XML, JSON or RDF must adhere to the YYYY-MM-DD syntax.</p>\n"}], "owner": {"reputation": 11, "user_id": 6568185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da82e85991bd72678362da2c86ca2596?s=128&d=identicon&r=PG&f=1", "display_name": "vadl", "link": "https://stackoverflow.com/users/6568185/vadl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566457163, "creation_date": 1566422948, "last_edit_date": 1566457163, "question_id": 57599373, "link": "https://stackoverflow.com/questions/57599373/patient-birthdate-en-gb-partial-is-in-an-invalid-format-should-use-iso8601", "title": "Patient.BirthDate. en-GB &#39;Partial is in an invalid format, should use ISO8601&#39;", "body": "<p>FHIR server and FHIR client works in EU environment with locale \"en-GB\".\nboth uses Hl7-R4 .NET version from Firely team.</p>\n\n<p>if I set Patient's birth date something like that <code>patientJson.BirthDate = \"25-12-1970\"</code> and then sends the request to FHIR server I get an exception:</p>\n\n<pre><code>\"'Partial is in an invalid format, should use ISO8601 YYYY-MM-DDThh:mm:ss+TZ notation'. (at Patient.birthDate[0])\".\n</code></pre>\n\n<p>But if I set <code>patientJson.BirthDate = \"1970-12-25\"</code> everything is OK.\nI can't rely on that customers (most from EU) will remember to convert in US-format date before sending to fhir server.\nHow can I set correct formatting (for example \"en-GB\") for HL7 serializer?</p>\n\n<p>Tried to add this to Startup.cs</p>\n\n<pre><code>public virtual void Configure(IApplicationBuilder app)\n{\n    var supportedCultures = new[]\n    {\n        new CultureInfo(\"en-US\"),\n        new CultureInfo(\"en-GB\"), \n\n       };\n\n    app.UseRequestLocalization(new RequestLocalizationOptions\n    {\n        DefaultRequestCulture = new RequestCulture(\"en-GB\"),\n        // Formatting numbers, dates, etc.\n        SupportedCultures = supportedCultures,\n        // UI strings that we have localized.\n        SupportedUICultures = supportedCultures\n    });\n</code></pre>\n\n<p>it didn't help\nI've googled <a href=\"https://github.com/ewoutkramer/fhir-net-fhirpath/blob/master/src/Hl7.Fhir.Support/Model/PartialDateTime.cs\" rel=\"nofollow noreferrer\">this code</a></p>\n\n<pre><code>public static PartialDateTime Parse(string value)\n        {\n            try\n            {\n                var dummy = XmlConvert.ToDateTimeOffset(value);\n            }\n            catch\n            {\n                throw new FormatException(\"Partial is in an invalid format, should use ISO8601 YYYY-MM-DDThh:mm:ss+TZ notation\");\n            }\n</code></pre>\n\n<p>but this code doesn't mean that it can not be set to use something like that \"dd-mm-yyyy\" for serializing/deserializing.</p>\n"}, {"tags": ["c#", ".net", "dictionary", "getter-setter"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1566421687, "post_id": 57599159, "comment_id": 101655608, "body": "What is <code>ToDictionary.update()</code> supposed to mean? It&#39;s telling me that ToDictionary is a method, which is not valid in the given context. Also... it looks to me as if the getter returns a temporary object. Your setter calls the getter, gets the temp, and does something to that temporary object. Why? Also, <code>key</code> is undefined."}, {"owner": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1566421884, "post_id": 57599159, "comment_id": 101655665, "body": "@EdPlunkett yeah, it might not be. I&#39;m quite new to C# so I was just trying some stuff out. Probably the way I wrote set is completely wrong"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566422237, "post_id": 57599159, "comment_id": 101655788, "body": "I guess, for readability, testability, and maintainability you shouldn&#39;t be doing this. Create separate class, encapsulate all your logic inside the class."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 0, "creation_date": 1566423099, "post_id": 57599294, "comment_id": 101656028, "body": "Thanks a lot, @Rufus L. This does fix my problems. But you are right that I&#39;d rather now allow modification of <code>bigDict</code> from <code>smallDict</code>. Is there any way I can genuinely create a sliced dictionary from <code>bigDict</code>? Instead of a temporary type that gets/sets from <code>bigDict</code>. I tried doing it in a constructor but that didn&#39;t work because the JSON {get; set;} was not implemented before the creation of <code>smallDict</code> leading to an empty <code>smallDict</code>  Thanks again!"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 1, "creation_date": 1566423265, "post_id": 57599294, "comment_id": 101656091, "body": "I don&#39;t know what you mean by <i>&quot;Is there any way I can genuinely create a sliced dictionary from <code>bigDict</code>? &quot;</i> What is wrong with the code above? What needs to be changed?"}, {"owner": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 0, "creation_date": 1566423437, "post_id": 57599294, "comment_id": 101656150, "body": "Thanks for the response, @Rufus L. I guess I just want methods to be able to update or add to <code>smallDict</code> directly as though it were a normal dictionary instead of having <code>smallDict</code> pass the input on to <code>bigDict</code>."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 0, "creation_date": 1566424967, "post_id": 57599294, "comment_id": 101656565, "body": "It <i>is</i> a &quot;normal&quot; dictionary. If it doesn&#39;t need to be related to <code>bigDict</code> (i.e. you can update or add to it directly, without <code>bigDict</code>), then just expose it as it&#39;s own property. Then clients can do <code>smallDict.Add(&quot;someKey&quot;, &quot;someValue&quot;);</code>."}, {"owner": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 0, "creation_date": 1566425763, "post_id": 57599294, "comment_id": 101656795, "body": "Do something like  <code>set  {      smallDict = value.ToDictionary(x =&gt; x.Key, x =&gt; x.Value);  } </code> ?"}, {"owner": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 0, "creation_date": 1566429070, "post_id": 57599294, "comment_id": 101657553, "body": "So, I figured out that&#39;s a bad idea (goes into inf loop). Best to do it as @Rufus L suggested with a check to make sure the key doesn&#39;t already exist. If it does, we <code>Update</code>. If it doesn&#39;t, we <code>Add</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 0, "creation_date": 1566429974, "post_id": 57599294, "comment_id": 101657772, "body": "I&#39;m not exactly sure what the purpose of small dict is. Probably there&#39;s a better way to do whatever it is you&#39;re trying to do here."}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1566422744, "last_edit_date": 1566422744, "creation_date": 1566422419, "answer_id": 57599294, "question_id": 57599159, "link": "https://stackoverflow.com/questions/57599159/slicing-a-dictionary-in-c/57599294#57599294", "title": "Slicing a Dictionary in C#", "body": "<p>If I understand you correctly, you want to be able to create a <code>Dictionary&lt;string, SomeStruct&gt;</code> from a <code>Dictionary&lt;string, string&gt;</code>. In order to do this, you'd need to create an instance of the struct from the string Value. It can be done, but this means the <code>SomeStruct</code> value will only have the single property (<code>ElemFromStruct</code>) assigned during the <code>set</code>.</p>\n\n<p>Note that for any property, inside the <code>set</code> method, there is a <code>value</code> variable available that is the same type as the property (<code>Dictionary&lt;string, string&gt;</code> in this case), which represents the item that is being passed into the <code>set</code> method. This is used below as <code>value.ToDictionary(...</code></p>\n\n<p>For example:</p>\n\n<pre><code>public virtual Dictionary&lt;string, string&gt; SmallDict\n{\n    get\n    {\n        return BigDict.ToDictionary(x =&gt; x.Key, x =&gt; x.Value.ElemFromStruct);\n    }\n    set\n    {\n        BigDict = value.ToDictionary(x =&gt; x.Key,\n            x =&gt; new SomeStruct {ElemFromStruct = x.Value});\n    }\n}\n</code></pre>\n\n<p>If, however, the intent is just to provide a way to get a <code>SmallDict</code> from a <code>BigDict</code> (but not the other way around), then you can just remove the <code>set</code> method, since it may not make much sense to allow users to set the <code>BigDict</code> based on only a single string for each <code>SomeStruct</code> value:</p>\n\n<pre><code>public virtual Dictionary&lt;string, string&gt; SmallDict\n{\n    get\n    {\n        return BigDict.ToDictionary(x =&gt; x.Key, x =&gt; x.Value.ElemFromStruct);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 1, "creation_date": 1566430125, "post_id": 57600249, "comment_id": 101657802, "body": "Thanks so much for the excellent answer, @hugo! This worked for me. And you&#39;re right that I probably shouldn&#39;t be doing this, but it would be too much to refactor everything to use <code>bigDict</code> so I have to do the slice thingy"}, {"owner": {"reputation": 1588, "user_id": 1899494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8bff769c85b3fc72eec038070928ff?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1899494/hugo"}, "reply_to_user": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "edited": false, "score": 1, "creation_date": 1566430600, "post_id": 57600249, "comment_id": 101657895, "body": "As long as you know what you&#39;re doing :) Your question highlights one &quot;shortcoming&quot; of the C# type system -- this would have been an easy thing, say, in Javascript!"}], "tags": [], "owner": {"reputation": 1588, "user_id": 1899494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8bff769c85b3fc72eec038070928ff?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1899494/hugo"}, "is_accepted": true, "score": 2, "last_activity_date": 1566430150, "last_edit_date": 1566430150, "creation_date": 1566429356, "answer_id": 57600249, "question_id": 57599159, "link": "https://stackoverflow.com/questions/57599159/slicing-a-dictionary-in-c/57600249#57600249", "title": "Slicing a Dictionary in C#", "body": "<p>Define a \"one-off\" type <code>SmallDict</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public SmallDict&lt;string&gt; smallDict;\n\n    public myClass()\n    {\n        smallDict = new SmallDict&lt;string&gt;(bigDict);\n    }\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    class SmallDict&lt;TKey&gt;\n    {\n        public readonly Dictionary&lt;TKey, SomeStruct&gt; BigDict;\n\n        public SmallDict(Dictionary&lt;TKey, SomeStruct&gt; bigDict)\n        {\n            BigDict = bigDict;\n        }\n\n        public string this[TKey key]\n        {\n            get =&gt; BigDict[key].ElemFromStruct;\n            set {\n                var obj = BigDict[key];\n                obj.ElemFromStruct = value;\n                BigDict[key] = obj;\n            }\n        }\n    }\n</code></pre>\n\n<p>Use it as follows:</p>\n\n<pre><code>Console.WriteLine(smallDict[\"key1\"]); // Equivalent to printing bigDict[key].ElemFromStruct\nsmallDict[\"key1\"] = \"new value\";      // Equivalent to bigDict[key].ElemFromStruct = \"new value\"\n</code></pre>\n\n<p>It's a mere wrapper around a dictionary, so if you want more methods than plain indexing, you'll have to do all the plumbing manually.</p>\n\n<h2>Genericity</h2>\n\n<p>Notice how <code>SmallDict</code> only works for dictionaries of <code>SomeStruct</code>...</p>\n\n<p>I would have written a generic <strong>DictionarySlice</strong> class, but any attempt at actual genericity is thwarted by C#'s rigid type system: there is no sastisfying way to genericly tell which property to slice on.</p>\n\n<p><em>Possible solutions:</em></p>\n\n<ul>\n<li>Pass <em>getters</em> and <em>setters</em> as lambdas -- sure you can do that, you would have more code in your lambdas than in your actual class, mind you. It could be useful if you need to slice on many different properties.</li>\n<li>Make <code>SomeStruct</code> implement <code>IGetSetElemFromStruct</code> which the generic class would use -- not terribly elegant and potentially extremely cumbersome if you have many properties to slice on.</li>\n<li>Reflection -- included for completeness, but won't expand on it...</li>\n</ul>\n\n<h2>Large structures</h2>\n\n<p><strong>Avoid</strong> large structs; and more importantly <strong>avoid mutable structs</strong>, which are universally considered a <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2008/05/14/mutating-readonly-structs/\" rel=\"nofollow noreferrer\">Very Bad Thing(TM)</a> in C#. <em>From <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/struct\" rel=\"nofollow noreferrer\">Microsoft's design guidelines</a>, emphasis mine:</em></p>\n\n<blockquote>\n  <p>In general, structs can be very useful but should only be used for <strong>small</strong>, single, <strong>immutable</strong> values that will not be boxed frequently.</p>\n</blockquote>\n\n<pre><code>set {\n    var obj = BigDict[key];\n    obj.ElemFromStruct = value;\n    BigDict[key] = obj;\n}\n</code></pre>\n\n<p>Notice that in the setter above, I get a copy of the struct, modify it, and copy it back to the dictionary... not great. If it's gonna be large, do yourself a favor and <strong>use a <code>class</code></strong>. You would then simply write:</p>\n\n<pre><code>set { BigDict[key].ElemFromStruct = value; }\n</code></pre>\n\n<h2>Non-trivial operations in properties get/set</h2>\n\n<p>This is about the code you wrote as an example:</p>\n\n<pre><code>public virtual Dictionary&lt;string, string&gt; smallDict\n{\n    get =&gt; bigDict.ToDictionary(x =&gt; x.Key, x =&gt; x.Value.ElemFromStruct);   //works fine\n</code></pre>\n\n<p><strong>Avoid them as much as possible</strong>. There is no definite line saying what can go in properties getters/setters, but creating and populating a dictionary in a <code>get</code> is simply way too much by any reasonable standard: imagine if you had to doubt <em>every</em> property access.</p>\n\n<h2>Maybe don't use this <em>at all</em></h2>\n\n<p>This solution is the best I could come up with, but it's clunky and not terribly useful. You have to judge for yourself depending on your use-case, but generally <strong>accessing/mutating <code>bigDict[key].ElemFromStruct</code> directly would be better</strong>.</p>\n"}], "owner": {"reputation": 91, "user_id": 8531343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4bb14f4c363e2bb002d654a5fc00a?s=128&d=identicon&r=PG&f=1", "display_name": "srsrso", "link": "https://stackoverflow.com/users/8531343/srsrso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 57600249, "answer_count": 2, "score": 3, "last_activity_date": 1566433571, "creation_date": 1566421517, "last_edit_date": 1566433571, "question_id": 57599159, "link": "https://stackoverflow.com/questions/57599159/slicing-a-dictionary-in-c", "title": "Slicing a Dictionary in C#", "body": "<p>I'm trying to create a class in C# that has a dictionary (<code>bigDict</code>) it gets from a JSON file. <code>bigDict</code> maps a string to a big data structure. From this, I want to create another dictionary (<code>smallDict</code>) that maps each string from the key to just one element (a string) in <code>bigDict</code>'s data structure value.</p>\n\n<p>I've tried to use get and set to create <code>smallDict</code>. I was able to successfully use <code>get</code>, but I'm stuck at <code>set</code>.</p>\n\n<pre><code>class myClass\n{\n    public Dictionary&lt;string, SomeStruct&gt; bigDict{ get; set; } /*get and set from a JSON file*/\n\n    public virtual Dictionary&lt;string, string&gt; smallDict\n    {\n        get =&gt; bigDict.ToDictionary(x =&gt; x.Key, x =&gt; x.Value.ElemFromStruct);   //works fine\n\n        set =&gt; smallDict.ToDictionary.update(key , value); //doesn't work fine\n    }\n}\n</code></pre>\n\n<p>As a result of not being able to set properly, I'm getting <code>property or indexer cannot be assigned to, is readonly</code> errors in some pre-existing test cases (I'm refactoring code)</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1566421455, "post_id": 57599113, "comment_id": 101655532, "body": "Can you not call this method / set the property from inside the button click event?"}, {"owner": {"reputation": 3058, "user_id": 1345768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5Vru.png?s=128&g=1", "display_name": "Tim.Tang", "link": "https://stackoverflow.com/users/1345768/tim-tang"}, "edited": false, "score": 0, "creation_date": 1566421457, "post_id": 57599113, "comment_id": 101655535, "body": "Did you try to set the <code>UpgradeButton.interactable = false;</code> in the button click event?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1566421856, "post_id": 57599113, "comment_id": 101655660, "body": "Where are you calling <code>.interactable</code>? Are you doing it in <code>Start()</code>?"}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1566422059, "post_id": 57599113, "comment_id": 101655723, "body": "you know how to disable a button and you know how to write code that executes when a button is clicked. Put 2 and 2 together and you have a button that is disabled when you click it. I don&#39;t know what more information we could provide."}, {"owner": {"reputation": 35, "user_id": 11643889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da80d9fcd9da1143942770559a325e9?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Batsbak", "link": "https://stackoverflow.com/users/11643889/richard-batsbak"}, "edited": false, "score": 0, "creation_date": 1566422172, "post_id": 57599113, "comment_id": 101655765, "body": "Draco18s, yes its in the start()"}, {"owner": {"reputation": 35, "user_id": 11643889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da80d9fcd9da1143942770559a325e9?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Batsbak", "link": "https://stackoverflow.com/users/11643889/richard-batsbak"}, "edited": false, "score": 0, "creation_date": 1566422622, "post_id": 57599113, "comment_id": 101655882, "body": "It works now, the button stops being active after one click. The problem now is when i change to another scene and back the button becomes active again. Any possible solutions for this?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1566422808, "post_id": 57599113, "comment_id": 101655942, "body": "Side note: can you clarify why you explained one reason why button should be disabled (upgrade is available) but asking how to disable button on click? Those two things don&#39;t seem to be directly related..."}, {"owner": {"reputation": 35, "user_id": 11643889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da80d9fcd9da1143942770559a325e9?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Batsbak", "link": "https://stackoverflow.com/users/11643889/richard-batsbak"}, "edited": false, "score": 0, "creation_date": 1566423228, "post_id": 57599113, "comment_id": 101656080, "body": "Alexei beacause after the upgrade button is clicked, and thus the upgrade is unlocked, the player shouldnt be able to click the upgrade again with getting the same effect. Otherwise you can get the upgrade infinite times instead of just once."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11643889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da80d9fcd9da1143942770559a325e9?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Batsbak", "link": "https://stackoverflow.com/users/11643889/richard-batsbak"}, "edited": false, "score": 1, "creation_date": 1566421849, "post_id": 57599179, "comment_id": 101655656, "body": "Thank you i will try this, does it matter where in the script i put this?"}, {"owner": {"reputation": 35, "user_id": 11643889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da80d9fcd9da1143942770559a325e9?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Batsbak", "link": "https://stackoverflow.com/users/11643889/richard-batsbak"}, "edited": false, "score": 0, "creation_date": 1566422627, "post_id": 57599179, "comment_id": 101655887, "body": "It works now, the button stops being active after one click. The problem now is when i change to another scene and back the button becomes active again. Any possible solutions for this?"}, {"owner": {"reputation": 877, "user_id": 3083470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2eaf3ff220e9b9e393be2c75694815ef?s=128&d=identicon&r=PG&f=1", "display_name": "Taxel", "link": "https://stackoverflow.com/users/3083470/taxel"}, "reply_to_user": {"reputation": 35, "user_id": 11643889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da80d9fcd9da1143942770559a325e9?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Batsbak", "link": "https://stackoverflow.com/users/11643889/richard-batsbak"}, "edited": false, "score": 0, "creation_date": 1566423466, "post_id": 57599179, "comment_id": 101656162, "body": "You need to store a variable (like <code>didPerformUpgrade</code>) over a scene load. Some possibilities how to achieve that are listed here: <a href=\"https://gamedev.stackexchange.com/questions/110958/what-is-the-proper-way-to-handle-data-between-scenes\" title=\"what is the proper way to handle data between scenes\">gamedev.stackexchange.com/questions/110958/&hellip;</a>"}], "tags": [], "owner": {"reputation": 877, "user_id": 3083470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2eaf3ff220e9b9e393be2c75694815ef?s=128&d=identicon&r=PG&f=1", "display_name": "Taxel", "link": "https://stackoverflow.com/users/3083470/taxel"}, "is_accepted": false, "score": 1, "last_activity_date": 1566421635, "creation_date": 1566421635, "answer_id": 57599179, "question_id": 57599113, "link": "https://stackoverflow.com/questions/57599113/how-do-i-disable-a-button-after-clicking-it-in-other-words-have-a-button-that/57599179#57599179", "title": "How do i disable a button after clicking it. In other words, have a button that is only clickable ONCE", "body": "<p>Set the property from the button's <code>onClick</code> method (where you probably want to have your upgrade code as well)</p>\n\n<pre><code>using UnityEngine;\nusing UnityEngine.UI;\nusing System.Collections;\n\npublic class ClickExample : MonoBehaviour {\n    public Button yourButton;\n\n    void Start () {\n        Button btn = yourButton.GetComponent&lt;Button&gt;();\n        btn.onClick.AddListener(TaskOnClick);\n    }\n\n    void TaskOnClick(){\n        Debug.Log (\"You have clicked the button!\");\n        yourButton.interactable = false;\n    }\n}\n</code></pre>\n\n<p>(from <a href=\"https://docs.unity3d.com/530/Documentation/ScriptReference/UI.Button-onClick.html\" rel=\"nofollow noreferrer\">Unity Docs</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 9895930, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211230209701278/picture?type=large", "display_name": "Sara Kat", "link": "https://stackoverflow.com/users/9895930/sara-kat"}, "is_accepted": false, "score": 0, "last_activity_date": 1566426291, "creation_date": 1566426291, "answer_id": 57599871, "question_id": 57599113, "link": "https://stackoverflow.com/questions/57599113/how-do-i-disable-a-button-after-clicking-it-in-other-words-have-a-button-that/57599871#57599871", "title": "How do i disable a button after clicking it. In other words, have a button that is only clickable ONCE", "body": "<p>To make your button inactive you need this line of code:</p>\n\n<pre><code>btn.interactable = false;\n</code></pre>\n\n<p>However, moving from one scene to another, everything will reset. Therefore, you need to save it's state. The easiest way to do it is with playerprefs:</p>\n\n<pre><code>PlayerPrefs.GetInt(\"buttonState\");\nPlayerPrefs.SetInt(\"buttonState\",0);\nif(PlayerPrefs.HasKey(\"buttonState\"))\n</code></pre>\n\n<p>The final code will look something like that:</p>\n\n<pre><code>using UnityEngine;\nusing UnityEngine.UI;\nusing System.Collections;\n\npublic class ClickExample : MonoBehaviour {\n    public Button btn;\n    void Start()\n    {\n        if (PlayerPrefs.HasKey(\"buttonState\")) // if the button was saved in memory\n        {\n           if(PlayerPrefs.GetInt(\"buttonState\") == 0) //if the value is 0\n               btn.interactable = false; // make button disabled\n        }\n        else\n        {\n             PlayerPrefs.SetInt(\"buttonState\",1); // saving in memory that button is on\n        }\n\n    }\n\n    public void buttonCliked(){\n        btn.interactable = false; // making the button disabled\n        PlayerPrefs.SetInt(\"buttonState\",0); //saving in memory that button is off \n    }\n\n}\n</code></pre>\n\n<ul>\n<li>Add this code to an Empty game object and then head to your button =>\nButton Script => OnClick</li>\n<li>Press on the little + sign and assign your empty game object (the one you had the script on)</li>\n<li>Select buttonCliked from the list you have.</li>\n</ul>\n\n<p>Read more about playerprefs here:\n<a href=\"https://docs.unity3d.com/ScriptReference/PlayerPrefs.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/ScriptReference/PlayerPrefs.html</a></p>\n"}], "owner": {"reputation": 35, "user_id": 11643889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da80d9fcd9da1143942770559a325e9?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Batsbak", "link": "https://stackoverflow.com/users/11643889/richard-batsbak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1619018309, "creation_date": 1566421209, "question_id": 57599113, "link": "https://stackoverflow.com/questions/57599113/how-do-i-disable-a-button-after-clicking-it-in-other-words-have-a-button-that", "title": "How do i disable a button after clicking it. In other words, have a button that is only clickable ONCE", "body": "<p>I am making an upgrade button for a game i am making, Obviously i want the upgrade to be available only once, how do i code this?</p>\n\n<p>I looked around on the internet and every person suggested trying the following:</p>\n\n<p>gameObject.GetComponent().interactable = false;</p>\n\n<p>or</p>\n\n<p>UpgradeButton.interactable = false;</p>\n\n<p>or something of that sort. However this causes the button to be inactive from the start. I want it to be inactive after just one click.</p>\n\n<p>Anyone know how to solve this?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", "xml", "http", "httpwebrequest", "uri"], "comments": [{"owner": {"reputation": 45, "user_id": 6466389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a465fb3fcb83056aeaaab8a1c77ccc59?s=128&d=identicon&r=PG&f=1", "display_name": "Dillon Tucker", "link": "https://stackoverflow.com/users/6466389/dillon-tucker"}, "edited": false, "score": 1, "creation_date": 1566421826, "post_id": 57599071, "comment_id": 101655650, "body": "Found one thing wrong: when I clear the UrlPartTemp I was not adding the dropped param to it so there was a simple arithmetic mismatch when i do the temp test. Fixed it by doing UrlPartTemp = param; //tack on dropped param to temp instead of UrlPartTemp = &quot;&quot;;"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1566422330, "post_id": 57599071, "comment_id": 101655811, "body": "Why don&#39;t you do a <code>POST</code> request instead of stuffing data through URL?"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1566423192, "post_id": 57599071, "comment_id": 101656070, "body": "what happen if there are two elements with the same name? why dont you just upload the whole xml?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1566424117, "post_id": 57599071, "comment_id": 101656318, "body": "Since there are no real restrictions on length of url (<a href=\"https://stackoverflow.com/questions/1185739/asp-net-mvc-url-routing-maximum-path-url-length\" title=\"asp net mvc url routing maximum path url length\">stackoverflow.com/questions/1185739/&hellip;</a>) first part can&#39;t be answered here (you may want to talk to service owners so)\u2026 For the rest splitting your params into fixed size groups <a href=\"https://stackoverflow.com/questions/419019/split-list-into-sublists-with-linq\" title=\"split list into sublists with linq\">stackoverflow.com/questions/419019/&hellip;</a> may be easier"}, {"owner": {"reputation": 45, "user_id": 6466389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a465fb3fcb83056aeaaab8a1c77ccc59?s=128&d=identicon&r=PG&f=1", "display_name": "Dillon Tucker", "link": "https://stackoverflow.com/users/6466389/dillon-tucker"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1566428139, "post_id": 57599071, "comment_id": 101657372, "body": "@VladimirSerykh I figured out how to stuff all the parameters in the body with POST and it appears I can do it in one request now - its always more simple than meets the eye. This changes my approach to this entire software now. Should be able to get rid of a ton of unneeded bs. Thankyou!!!"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1566429794, "post_id": 57599071, "comment_id": 101657727, "body": "You&#39;re allowed to include request data in the body of a GET request, you know."}], "owner": {"reputation": 45, "user_id": 6466389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a465fb3fcb83056aeaaab8a1c77ccc59?s=128&d=identicon&r=PG&f=1", "display_name": "Dillon Tucker", "link": "https://stackoverflow.com/users/6466389/dillon-tucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566421196, "creation_date": 1566420895, "last_edit_date": 1566421196, "question_id": 57599071, "link": "https://stackoverflow.com/questions/57599071/need-simple-powerful-c-solution-to-dynamically-parse-and-shorten-uri-string", "title": "Need simple, powerful c# solution to dynamically parse and shorten Uri string", "body": "<p>I am feeding XML Nodes from an xml document into a string that creates a URI string in the format \"&amp;Name=Value=...etc\" for a HttpWebRequest. When I create the request the and once I reach somewhere between 7520-8981 (assuming its 8192 (2^13)) characters in my URI(absolute) the response is \"Request-URI Too Long.\"</p>\n\n<p>I have code that is now working but still getting \"Request-URI Too Long.\" sometimes.</p>\n\n<p>I need:\n1. What is the max characters I can have?\n2. Need function to split up the URI string into multiple web requests to accomplish my task. AKA if maxURIlength is reached - make new string and new request without dropping the current XML node. </p>\n\n<p>I can statically list out all the Node Names and break them up manually, but the list is getting very long and tedious to write out. Not to mention if it ever changes, it would be a code change.</p>\n\n<p>Also have tried doing separate web request for each parameter, but this takes wayyy to long to get through all of them.</p>\n\n<pre><code>//this is what I currently have started\ninternal static List&lt;string&gt; formatParameterString(string model)\n        {\n            XmlDocument xml = new XmlDocument();\n            xml.Load(&lt;xmlfile here&gt;);\n\n            XmlNodeList nodeList = xml.SelectNodes(\"/AcmDeviceParameterExport/ParameterList/Parameter\");\n\n            List&lt;string&gt; parameters = new List&lt;string&gt;(); //need to break up string - too long for Uri\n\n            //string parameters = \"\";\n            foreach (XmlNode xn in nodeList)\n            {\n                string Name = xn[\"Name\"].InnerText;\n                string Value = xn[\"Value\"].InnerText;\n\n                if (Value == \"\") { }\n\n                else {  parameters.Add(\"&amp;\" + Name + \"=\" + Value);   }\n        }\n\n//this is code for the function I need can this be cleaner???\ninternal static void configureParams(string IPaddr, string model)\n        {\n            List&lt;string&gt; parameters = formatParameterString(model);\n            string UrlHead = string.Format(@\"http://{0}\", IPaddr);\n            string UrlPart = \"\";\n            string UrlPartTemp = \"\";\n            string UriComplete = \"\";\n\n            foreach (string param in parameters)\n            {\n                //create temp uri for length test\n                UrlPartTemp += param;\n                UriComplete = UrlHead + UrlPartTemp;\n                UriComplete = UriComplete.Replace(\"#\", \"%23\"); //'#' chars become fragment when converting to Uri\n                Uri uri = new Uri(UriComplete);\n\n                if (uri.AbsoluteUri.Length &gt;= 8192)\n                {\n                    UriComplete = UrlHead + UrlPart;    //use real UrlPart\n                    UriComplete = UriComplete.Replace(\"#\", \"%23\"); //'#' chars become fragment when converting to Uri\n                    uri = new Uri(UriComplete);\n                    response = CallWebService(uri.AbsoluteUri);\n                    Console.WriteLine(response);\n\n                    //clear variables\n                    UrlPart = \"\";\n                    UrlPartTemp = \"\";\n                    UriComplete = \"\";\n                }\n                UrlPart += param;\n            }\n        }\n</code></pre>\n\n<p>I expect my code to check if its above the limit, stop concatenating Uri, send the request and then start new Uri without dropping the current parameter. How did I do?</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 1, "creation_date": 1566421768, "post_id": 57599045, "comment_id": 101655635, "body": "You can use editor templates to solve this, as mentioned in <a href=\"https://stackoverflow.com/questions/48452115/multi-select-checkboxlist-in-asp-net-mvc-5/48452379#48452379\">this post</a>. Also what is the point of multiple submit buttons when your form is outside the loop ? Clicking on any button for any row will submit all data."}, {"owner": {"reputation": 444, "user_id": 10881932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVMAo.jpg?s=128&g=1", "display_name": "Nathiel Paulino", "link": "https://stackoverflow.com/users/10881932/nathiel-paulino"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1566422016, "post_id": 57599045, "comment_id": 101655713, "body": "For each group I can assign one or more Lanes for this group."}, {"owner": {"reputation": 444, "user_id": 10881932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVMAo.jpg?s=128&g=1", "display_name": "Nathiel Paulino", "link": "https://stackoverflow.com/users/10881932/nathiel-paulino"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1566422443, "post_id": 57599045, "comment_id": 101655841, "body": "could you rearrange the view ?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1566422520, "post_id": 57599045, "comment_id": 101655857, "body": "What you mean ?"}, {"owner": {"reputation": 444, "user_id": 10881932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVMAo.jpg?s=128&g=1", "display_name": "Nathiel Paulino", "link": "https://stackoverflow.com/users/10881932/nathiel-paulino"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1566422658, "post_id": 57599045, "comment_id": 101655896, "body": "Imagine like this is a ListView and each row has a <code>onClick</code> method, what I want do is, if I click on the Button for this row, I get all the checked items value."}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1566422777, "post_id": 57599045, "comment_id": 101655931, "body": "You want it on client side ? then use javascript to listen to the click event and read the items from DOM."}, {"owner": {"reputation": 1901, "user_id": 4687359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e66NO.png?s=128&g=1", "display_name": "A. Nadjar", "link": "https://stackoverflow.com/users/4687359/a-nadjar"}, "edited": false, "score": 0, "creation_date": 1566454129, "post_id": 57599045, "comment_id": 101662330, "body": "Don&#39;t want to use Ajax?"}], "answers": [{"tags": [], "owner": {"reputation": 1901, "user_id": 4687359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e66NO.png?s=128&g=1", "display_name": "A. Nadjar", "link": "https://stackoverflow.com/users/4687359/a-nadjar"}, "is_accepted": false, "score": 0, "last_activity_date": 1566474245, "last_edit_date": 1566474245, "creation_date": 1566470145, "answer_id": 57607411, "question_id": 57599045, "link": "https://stackoverflow.com/questions/57599045/posting-nested-collection-from-mvc-view-to-controller/57607411#57607411", "title": "Posting nested collection from MVC view to Controller", "body": "<p>In your scenario, <strong>to post the data of selected line from view to controller</strong>, you can simply have:</p>\n\n<pre><code>@model List&lt;Path.To.Your.Models.Line&gt;\n\n@{\n    ViewBag.Title = \"test\";\n}\n\n&lt;h2&gt;test&lt;/h2&gt;\n\n\n\n@for (var i = 0; i &lt; Model.Count; i++)\n{    \n  &lt;form action=@Url.Action(\"ProcessLane\", new { IdGroup = Model[i].IdGroup}) method=\"post\"&gt;        \n    &lt;div class=\"row parentWrap\"&gt;\n        @for (var j = 0; j &lt; Model[i].RowLane.Count; j++)\n        {\n           &lt;div class=\"row\"&gt;\n               @Html.Hidden(\"[\" + j + \"].IdLane\", Model[i].RowLane[j].IdLane)\n               @Html.Hidden(\"[\" + j + \"].LaneName\", Model[i].RowLane[j].LaneName)\n               @Html.CheckBox(\"[\" + j + \"].IsChecked\")\n               @Html.Label(Model[i].RowLane[j].LaneName)\n           &lt;/div&gt;\n        }\n        &lt;input type=\"submit\" class=\"btn btn-primary sss\" value=\"send\" /&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n  &lt;hr /&gt;    \n}\n</code></pre>\n\n<p>and, some sample data to check in your Controller:</p>\n\n<pre><code>public ActionResult test()\n    {\n        IEnumerable&lt;Line&gt; line = new List&lt;Line&gt; \n            { new Line{\n                 IdGroup = 100,\n                 GroupName = \"Nojan\",\n                 RowLane = new List&lt;RowLane&gt; { new RowLane { IdLane = \"1\", IsChecked = true, LaneName = \"pizza\"},\n                                               new RowLane { IdLane = \"2\", IsChecked = false, LaneName = \"lazogna\"}\n                 }\n                },\n                 new Line{\n                 IdGroup = 101,\n                 GroupName = \"Noj\",\n                 RowLane = new List&lt;RowLane&gt; { new RowLane { IdLane = \"3\", IsChecked = false, LaneName = \"pizza\"},\n                                               new RowLane { IdLane = \"4\", IsChecked = false, LaneName = \"lazogna\"}\n                 }\n            }                     \n    };\n\n        return View(line.ToList());\n    }\n\n\npublic ActionResult ProcessLane(int? IdGroup, List&lt;RowLane&gt; input)\n{\n        // Code here as you wish, form is submitted to this method\n}\n</code></pre>\n\n<p>I ran and tested the code successfully. You may customize it as you please.</p>\n\n<p>Hope this helped :)</p>\n"}], "owner": {"reputation": 444, "user_id": 10881932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVMAo.jpg?s=128&g=1", "display_name": "Nathiel Paulino", "link": "https://stackoverflow.com/users/10881932/nathiel-paulino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566653917, "creation_date": 1566420735, "last_edit_date": 1566653917, "question_id": 57599045, "link": "https://stackoverflow.com/questions/57599045/posting-nested-collection-from-mvc-view-to-controller", "title": "Posting nested collection from MVC view to Controller", "body": "<p>I have a list of <code>Line</code> that contains a list of <code>RowLane</code>, for every line it has a list of <code>RowLane</code>.</p>\n\n<p>That's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ABcxi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ABcxi.png\" alt=\"enter image description here\"></a></p>\n\n<p>The view</p>\n\n<pre><code>&lt;table class=\"table\"&gt;\n&lt;tr&gt;\n    &lt;th&gt;\n        @Html.DisplayName(\"Nome do Grupo\")\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayName(\"Linhas\")\n    &lt;/th&gt;\n    &lt;th&gt;&lt;/th&gt;\n&lt;/tr&gt;\n@using (Html.BeginForm(\"Forms\", \"ProcessLane\", FormMethod.Post))\n{\n    foreach (var item in Model)\n    {\n        &lt;tr&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.GroupName)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @{\n                    foreach (var t in item.RowLane)\n                    {\n                        @Html.CheckBoxFor(model =&gt; t.IsChecked)\n                        @Html.DisplayFor(modelItem =&gt; t.LaneName)                           \n                    }\n                }\n            &lt;/td&gt;\n            &lt;td&gt;               \n                &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n                    &lt;input type=\"submit\" value=\"Adicionar\" class=\"btn btn-default\" /&gt;\n                &lt;/div&gt;                \n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n    }\n}\n</code></pre>\n\n<p>And classes :</p>\n\n<pre><code>public class Line\n{\n    public int IdGroup { get; set; }\n    public string GroupName { get; set; }\n\n    public List&lt;RowLane&gt; RowLane { get; set; }\n}\n\npublic class RowLane\n{\n    public string IdLane { get; set; }\n    public string LaneName { get; set; }\n    public bool IsChecked { get; set; }\n}\n</code></pre>\n\n<p>I need to collect only the GroupID and all the checked box from the row selected.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 764, "user_id": 11838196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de822c963ace03fc040584456265bea?s=128&d=identicon&r=PG&f=1", "display_name": "srk", "link": "https://stackoverflow.com/users/11838196/srk"}, "edited": false, "score": 2, "creation_date": 1566420538, "post_id": 57598973, "comment_id": 101655216, "body": "This code does not compile and is poorly-formatted. Please update with code that at least compiles."}], "answers": [{"tags": [], "owner": {"reputation": 764, "user_id": 11838196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de822c963ace03fc040584456265bea?s=128&d=identicon&r=PG&f=1", "display_name": "srk", "link": "https://stackoverflow.com/users/11838196/srk"}, "is_accepted": false, "score": 1, "last_activity_date": 1566421336, "last_edit_date": 1566421336, "creation_date": 1566420894, "answer_id": 57599069, "question_id": 57598973, "link": "https://stackoverflow.com/questions/57598973/errors-when-i-try-to-access-a-return-array-from-a-method/57599069#57599069", "title": "Errors when I try to access a return array from a method", "body": "<p>Your code is very confusing, because both the class name and variable name is <code>cars</code>. In c#, convention is to start class names with a capital letter. So the class name should be <code>Car</code>. You really can't reason about this code without making that simple fix first.</p>\n\n<p>In the <code>InitializeComponent</code> method, you have this line of code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>cars = cars.get_cars();\n</code></pre>\n\n<p>In this context, <code>cars</code> is an array of type <code>Car</code>. But of course, c# arrays do not define a method called <code>get_cars</code>. You need to update this line of code to reference the static method on the <code>Car</code> class instead:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>cars = Car.get_cars();\n</code></pre>\n\n<p>After you make that change, the static version of your <code>get_cars</code> method should work (after you fix the other compilation issues in your original code).</p>\n"}, {"tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": false, "score": 0, "last_activity_date": 1582590689, "last_edit_date": 1582590689, "creation_date": 1566420978, "answer_id": 57599077, "question_id": 57598973, "link": "https://stackoverflow.com/questions/57598973/errors-when-i-try-to-access-a-return-array-from-a-method/57599077#57599077", "title": "Errors when I try to access a return array from a method", "body": "<p>You're missing the opening curly brace after <code>get_cars()</code>. After that, nothing made sense to the compiler, and it struggled (and failed, as it so often does) to give you a meaningful error message. Your non-static version of the method had the same error. This method ought to be static, so we'll go with the static version. </p>\n\n<p>There's another error, less obvious, that the compiler couldn't see: <code>name</code> was static. That means that there was one <code>name</code> shared among all cars, instead of each car having its own name. You would have found that when <code>get_cars()</code> returned two cars, both of them would have been named <code>\"Car 01\"</code>, because that would have been the last thing you assigned to the static <code>name</code> field that all of them shared. </p>\n\n<p>I've fixed that, and I renamed the <code>car</code> class to <code>car</code>, since it represents only one car. </p>\n\n<pre><code>class car\n{\n    public string name;\n    public car()\n    {\n\n    }\n    public static car[] get_cars()\n    {\n        car[] cars = new car[2];\n        for (int k = 0; k&lt;cars.Length; k++)\n        {\n            cars[k] = new car();\n            cars[k].name = \"Car 0\" + k;\n        }\n        return cars;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 11959203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602e65fbab22f67b21f2fe12a404b939?s=128&d=identicon&r=PG&f=1", "display_name": "rankman", "link": "https://stackoverflow.com/users/11959203/rankman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1582590689, "creation_date": 1566420332, "last_edit_date": 1566438752, "question_id": 57598973, "link": "https://stackoverflow.com/questions/57598973/errors-when-i-try-to-access-a-return-array-from-a-method", "title": "Errors when I try to access a return array from a method", "body": "<p>when I try this, I got the error:\nname cannot be accessed with an instance reference; qualify it with a type name instead</p>\n\n<p>So I thought the reason are the static field name / static method:</p>\n\n<pre><code>class  cars\n{\n    public static string name;\n    public cars()\n    {\n    }\n    public  static cars[] get_cars()\n    cars[] cars = new cars[2];\n    for (int k = 0; k &lt; cars.Length; k++)\n    {\n        cars[k] = new carss();\n        name = \"Car 0\" + k;\n    }\n    return cars;\n}\nprivate void InitializeComponent()\n{\n    cars[] cars = new cars[2];\n    cars = cars.get_cars();\n    cars[0] = new cars();\n    set_label_header(cars[0].name);\n    cars[1] = new cars();\n    set_label_header(cars[1].name);\n}\n</code></pre>\n\n<p>Then I tried it with non static method und get a new error message. </p>\n\n<p>An object reference is required for the nonstatic field, method</p>\n\n<pre><code>class  cars\n{\n    public  string name;\n    public cars()\n    {\n    }\n    public   cars[] get_cars()\n    cars[] cars = new cars[2];\n    for (int k = 0; k &lt; cars.Length; k++)\n    {\n        cars[k] = new carss();\n        name = \"Car 0\" + k;\n    }\n    return cars;   \n}\nprivate void InitializeComponent()\n{\n    cars[] cars = new cars[2];\n    cars = cars.get_cars();\n    cars[0] = new cars();\n    set_label_header(cars[0].name);\n    cars[1] = new cars();\n    set_label_header(cars[1].name);\n}\n</code></pre>\n\n<p>What I'm doing wrong?</p>\n"}, {"tags": ["c#", "linq", "interface"], "comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566420527, "post_id": 57598944, "comment_id": 101655210, "body": "You should check what SQL is being generated. The code looks quite tricky. So it could be that you won&#39;t be happy with the final SQL query."}, {"owner": {"reputation": 571, "user_id": 230128, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/17fb4688eca31e2452cc699d10ec7867?s=128&d=identicon&r=PG", "display_name": "Evan Sevy", "link": "https://stackoverflow.com/users/230128/evan-sevy"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566420889, "post_id": 57598944, "comment_id": 101655350, "body": "@RufusL If I don&#39;t use &#39;AsEnumerable()&#39; before the where clause, I get the following error:  &quot;A lambda expression with a statement body cannot be converted to an expression tree.&quot;.  Strangely enough if I try replacing that with &#39;.AsQueryable()&#39; I get the same error.  This &#39;SO&#39; post, gave me the idea to use .AsEnumerable() - <a href=\"https://stackoverflow.com/a/15039292/230128\">stackoverflow.com/a/15039292/230128</a>"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1566421367, "post_id": 57598944, "comment_id": 101655497, "body": "That happens because Entity Framework can&#39;t convert your complex lambda to SQL. So, I guess, you&#39;ll load the whole collection <code>UserMessageTimelines</code> to the memory and only after that will apply <code>.Where()</code>. Therefore, there is no point to convert it back to <code>IQueryable</code>."}], "owner": {"reputation": 571, "user_id": 230128, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/17fb4688eca31e2452cc699d10ec7867?s=128&d=identicon&r=PG", "display_name": "Evan Sevy", "link": "https://stackoverflow.com/users/230128/evan-sevy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566420116, "creation_date": 1566420116, "question_id": 57598944, "link": "https://stackoverflow.com/questions/57598944/is-converting-between-a-subtype-interface-and-its-base-type-interface-and-back-a", "title": "Is Converting between a subtype interface and its base type interface and back again, a bad thing to do?", "body": "<p>I have an example where I want a IQueryable to convert to an IEnumerable (in order to use a multi-statement lambda), and then I immediately want to convert back to a IQueryable to use an extension method that requires IQueryable.  </p>\n\n<p>This is within a LINQ query if that matters?</p>\n\n<p>My question is whether this can be time or space intensive? Or, more plainly, should I avoid it for any reason?</p>\n\n<p>Here is the use case of this scenario:</p>\n\n<pre><code>var messageTimelines = ctx.UserMessageTimelines.AsEnumerable()\n    .Where(w =&gt;\n    {\n        var intersectCount = w.MessageTimelineParticipants.Intersect(timelineParticipants).Count();\n        return ((intersectCount == w.MessageTimelineParticipants.Count()) &amp;&amp; (intersectCount == timelineParticipants.Count()))\n            ? true : false;\n    }).AsQueryable().ProjectTo&lt;MessageTimeline&gt;(mapper.ConfigurationProvider);\n</code></pre>\n\n<p>As you can see I started off as a IQueryable and converted to 'AsEnumerable()' in order to utilize a multi-statement lambda.  I then converted back to 'AsQueryable()' in order to use an AutoMapper extension method called 'ProjectTo', which requires 'IQueryable'.</p>\n\n<p>To Note:</p>\n\n<ul>\n<li>This post almost answers my question, but doesn't speak of converting back to the sub-type IQueryable:  <a href=\"https://stackoverflow.com/questions/4061951/does-converting-iqueryable-to-ienumerable-execute-the-query-again\">does converting IQueryable to IEnumerable execute the query again?</a></li>\n</ul>\n"}, {"tags": ["c#", "asp.net", "json", "deserialization", "javascriptserializer"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 2, "creation_date": 1566419882, "post_id": 57598818, "comment_id": 101654957, "body": "You need to switch to a different serializer such as <a href=\"https://stackoverflow.com/questions/tagged/json.net\">json.net</a> or <a href=\"https://stackoverflow.com/questions/tagged/datacontractjsonserializer\">datacontractjsonserializer</a>, or deserialize manually with a custom <code>JavaScriptConverter</code>, because <code>JavaScriptSerializer</code> does not support renaming of properties.  See: <a href=\"https://stackoverflow.com/q/32487483/3744182\">JavaScriptSerializer - custom property name</a>."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 2, "creation_date": 1566420510, "post_id": 57598818, "comment_id": 101655204, "body": "In fact this may be a duplicate of <a href=\"https://stackoverflow.com/q/32487483/3744182\">JavaScriptSerializer - custom property name</a>.  Agree?"}], "answers": [{"comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 3, "creation_date": 1566420066, "post_id": 57598916, "comment_id": 101655028, "body": "<code>JsonPropertyAttribute</code> is used by the <a href=\"https://stackoverflow.com/questions/tagged/json.net\">json.net</a> serializer, but <b>OP is using <code>JavaScriptSerializer</code></b>.  <code>JsonPropertyAttribute</code> will not work in this situation."}, {"owner": {"reputation": 1048, "user_id": 5527646, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/28d6209af26307872aa4efc6fcd79452?s=128&d=identicon&r=PG", "display_name": "gwydion93", "link": "https://stackoverflow.com/users/5527646/gwydion93"}, "edited": false, "score": 0, "creation_date": 1566437287, "post_id": 57598916, "comment_id": 101658978, "body": "Yep. It worked once I added <code>&quot;JsonConvert.DeserializeObject&lt;List&lt;New_Events_Dataset&gt;&gt;(str&zwnj;&#8203;result);&quot;</code> and <code>[JsonProperty(&quot;&lt;Exact Name&quot;)]</code> to my class variables. Thanks!"}], "tags": [], "owner": {"reputation": 66, "user_id": 7872399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c67842146050873eb4eb8f3b67e3b8?s=128&d=identicon&r=PG&f=1", "display_name": "SSgumS", "link": "https://stackoverflow.com/users/7872399/ssgums"}, "is_accepted": true, "score": 4, "last_activity_date": 1566420943, "last_edit_date": 1566420943, "creation_date": 1566419977, "answer_id": 57598916, "question_id": 57598818, "link": "https://stackoverflow.com/questions/57598818/how-to-deserialize-json-with-spaces-in-the-attribute-names/57598916#57598916", "title": "How to deserialize JSON with spaces in the attribute names?", "body": "<p>Unfortunately keys must match exactly each other.<br/>\nOne of the best ways to solve your problem is to define JsonProperty attribute for each property to get Deserialized object correctly. You can specify property's json key name with it.<br/>\nYou can take a look to this question and it's answer for better understanding:\n<a href=\"https://stackoverflow.com/questions/53169837/deserializing-json-with-space-separated-property-names\">An example of JsonProperty</a></p>\n\n<p><strong>Edit:</strong><br/>\nAs in comments mentioned, because you are using <code>JavaScriptSerializer</code> <code>JsonPropertyAttribute</code> doesn't work in this situation.\nBut you can use it by adding <a href=\"https://www.nuget.org/packages/Newtonsoft.Json/\" rel=\"nofollow noreferrer\">Newtonsoft.Json</a> Nuget Package and using it's deserilizer this way:</p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;AzureResourceData&gt;(jsonString);\n</code></pre>\n"}], "owner": {"reputation": 1048, "user_id": 5527646, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/28d6209af26307872aa4efc6fcd79452?s=128&d=identicon&r=PG", "display_name": "gwydion93", "link": "https://stackoverflow.com/users/5527646/gwydion93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 0, "accepted_answer_id": 57598916, "answer_count": 1, "score": 1, "last_activity_date": 1566420943, "creation_date": 1566419409, "last_edit_date": 1566419789, "question_id": 57598818, "link": "https://stackoverflow.com/questions/57598818/how-to-deserialize-json-with-spaces-in-the-attribute-names", "title": "How to deserialize JSON with spaces in the attribute names?", "body": "<p>I have a string array that I want to deserialize. Essentially, it is just a list of objects. Note that the attributes have spaces in the names:</p>\n\n<pre><code>[    {        \\\"Event Name\\\": \\\"Hurricane Irma PR\\\",        \\\"Storm Start (LST)\\\": \\\"2017-08-30\\\",        \\\"Storm End (LST)\\\": \\\"2017-09-13\\\",        \\\"Grid Cell Number\\\": 16412,        \\\"Grid Cell State\\\": \\\"PR\\\",        \\\"Grid Cell Name\\\": \\\"Grid26_0\\\", ...\n</code></pre>\n\n<p>I created a <code>public class</code> to template the string based on specific attributes that I want ( I don't want all the data) but I am not sure how to handle for the spaces in the names of the attributes that I want.</p>\n\n<pre><code>    public class New_Events_Dataset\n    {\n        public string EventName { get; set; }\n        public string StormStart { get; set; }\n        public string StormEnd { get; set; }\n        public string GridCellState { get; set; }\n        public string GridCellName { get; set; }\n        public string USGSGageSiteNo { get; set; }\n        public string ReturnPeriodatGridCell { get; set; }\n    }\n</code></pre>\n\n<p>When I apply the deserializer with my class <code>New_Events_Dataset</code> like this:</p>\n\n<pre><code>    var jsonResponse = returnJson.Deserialize&lt;List&lt;New_Events_Dataset&gt;&gt;(strresult);\n    string json = new JavaScriptSerializer().Serialize(jsonResponse);\n                return json;\n</code></pre>\n\n<p>I end up returning something like this. What am I doing wrong?</p>\n\n<pre><code>[{\"EventName\":null,\"StormStart\":null,\"StormEnd\":null,\"GridCellState\":null,\"GridCellName\":null,\"USGSGageSiteNo\":null,\"ReturnPeriodatGridCell\":null}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-2015", "nunit-3.0"], "comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1566419939, "post_id": 57598642, "comment_id": 101654983, "body": "What test framework do you use? <code>NUnit2</code>, <code>NUnit3</code>, <code>XUnit</code>, <code>MSTest</code>?"}, {"owner": {"reputation": 1559, "user_id": 185633, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/223b4b2094092f3ff4e3af9a78925b5e?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/185633/jordan"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566433984, "post_id": 57598642, "comment_id": 101658433, "body": "I updated the tag to indicate nunit3"}], "answers": [{"comments": [{"owner": {"reputation": 1559, "user_id": 185633, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/223b4b2094092f3ff4e3af9a78925b5e?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/185633/jordan"}, "edited": false, "score": 0, "creation_date": 1567106791, "post_id": 57617478, "comment_id": 101875037, "body": "Is there a way to run explicit tests from the command line (i.e. using vstest.console.exe)?"}], "tags": [], "owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "is_accepted": true, "score": 1, "last_activity_date": 1566511644, "last_edit_date": 1566511644, "creation_date": 1566510891, "answer_id": 57617478, "question_id": 57598642, "link": "https://stackoverflow.com/questions/57598642/visual-studio-exclude-project-by-default-when-running-tests-from-test-explorer/57617478#57617478", "title": "Visual Studio: Exclude Project by default when running tests from test explorer", "body": "<p>There is a special attribute in <code>NUnit</code> to mark your tests that should not be run automatically.</p>\n\n<blockquote>\n  <p><code>[Explicit]</code></p>\n  \n  <p>The Explicit attribute causes a test or test fixture to be skipped unless it is explicitly selected for running.</p>\n  \n  <p><a href=\"https://github.com/nunit/docs/wiki/Explicit-Attribute\" rel=\"nofollow noreferrer\">https://github.com/nunit/docs/wiki/Explicit-Attribute</a></p>\n</blockquote>\n\n<p>You just put it on the class or method:</p>\n\n<pre><code>[TestFixture]\n[Explicit]\npublic class IntegrationTests\n{\n    // ...\n}\n\n[TestFixture]\npublic class UnitTests\n{\n    [Test]\n    public void ShouldNotFail()\n    {\n         // This will run\n    }\n\n    [Test]\n    [Explicit]\n    public void ManualTest()\n    {\n        // This will be ignored\n    }\n}\n</code></pre>\n\n<p>This is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iewoV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iewoV.png\" alt=\"Test results\"></a></p>\n"}], "owner": {"reputation": 1559, "user_id": 185633, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/223b4b2094092f3ff4e3af9a78925b5e?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/185633/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 57617478, "answer_count": 1, "score": 2, "last_activity_date": 1566511644, "creation_date": 1566418489, "last_edit_date": 1566433972, "question_id": 57598642, "link": "https://stackoverflow.com/questions/57598642/visual-studio-exclude-project-by-default-when-running-tests-from-test-explorer", "title": "Visual Studio: Exclude Project by default when running tests from test explorer", "body": "<p>I've added an integration test project to my solution and I'd like to not run them by default when using the test explorer.</p>\n\n<p>The only solution I've come across to isolate these tests is to manually categorize them and choose not to run tests with a particular trait from test explorer. Ideally, I could exclude them so that people on my project don't have to make this choice explicitly.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", ".net", "amazon-web-services", "docker"], "comments": [{"owner": {"reputation": 910, "user_id": 10030784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hy8Bx.jpg?s=128&g=1", "display_name": "VinDev", "link": "https://stackoverflow.com/users/10030784/vindev"}, "edited": false, "score": 0, "creation_date": 1566441121, "post_id": 57598480, "comment_id": 101659573, "body": "just to make sure the endpoint is working as expected, do you get a response if you curl the endpoint"}], "owner": {"reputation": 6121, "user_id": 1292432, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f70769a552866d6f1cc3cf283933cb81?s=128&d=identicon&r=PG", "display_name": "Unbreakable", "link": "https://stackoverflow.com/users/1292432/unbreakable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566417646, "creation_date": 1566417646, "question_id": 57598480, "link": "https://stackoverflow.com/questions/57598480/how-to-get-meta-data-information-about-the-task-metadata-in-aws", "title": "How to get meta data information about the task metadata in AWS", "body": "<p>I want to get the meta data information from the task which runs the docker container in AWS. As per the <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint-v2.html\" rel=\"nofollow noreferrer\">AWS Documentation</a>, I can hit <code>http://169.254.170.2/v2/metadata</code> end point from a container to fetch the info but I am getting <code>bad request</code> exception. Please guide me. Below is my attempt.</p>\n\n<pre><code> try\n{\n    string endpointUrl = \"http://169.254.170.2/v2/metadata\";\n\n    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(endpointUrl);\n    request.AutomaticDecompression = DecompressionMethods.GZip | DecompressionMethods.Deflate;\n\n    using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\n    using (Stream stream = response.GetResponseStream())\n    using (StreamReader reader = new StreamReader(stream))\n    {\n        var metadata = reader.ReadToEnd();\n        Console.WriteLine(metadata);\n    }\n}\ncatch (Exception ex)\n{\n    Console.WriteLine(ex?.Message);\n    Console.WriteLine(ex?.InnerException?.Message);\n}\n</code></pre>\n\n<blockquote>\n  <p>The remote server returned an error: (400) Bad Request.</p>\n</blockquote>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1566417593, "post_id": 57598384, "comment_id": 101654099, "body": "Your only other option is to reference the <code>AllMyThings</code> type inside the behavior of the attribute but you can&#39;t pass any values to your attributes outside of the restrictions mentioned in the exception message"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1566417647, "post_id": 57598384, "comment_id": 101654131, "body": "It looks that you are doing something wrong. There should be a valid solution for your case. But the case is unclear. Could you elaborate on real problem that you are trying to solve?"}, {"owner": {"reputation": 972, "user_id": 4593696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAum.jpg?s=128&g=1", "display_name": "iakobski", "link": "https://stackoverflow.com/users/4593696/iakobski"}, "edited": false, "score": 1, "creation_date": 1566418267, "post_id": 57598384, "comment_id": 101654353, "body": "Attributes have to be resolved at compile time, so you can&#39;t use things which can change at runtime. What exactly are you trying to do with the attribute?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1566420056, "post_id": 57598384, "comment_id": 101655023, "body": "There&#39;s not really a way to expose a referenced property as a constant. Could you make the constants <code>internal</code> so at least the exposure is limited to the current assembly?"}], "answers": [{"tags": [], "owner": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "is_accepted": false, "score": 0, "last_activity_date": 1566427230, "creation_date": 1566427230, "answer_id": 57600001, "question_id": 57598384, "link": "https://stackoverflow.com/questions/57598384/possible-for-a-class-instance-property-as-a-value-in-an-attribute/57600001#57600001", "title": "Possible for a class instance property as a value in an attribute", "body": "<p>There is a way but you have to use reflection for that. Here would be the attribute:</p>\n\n<pre><code>[MyAttribute(typeof(AllMyThings), nameof(AllMyThings.first))\npublic void MyMethod()\n</code></pre>\n\n<p>Now your attribute would compile fine but in order to get the value of the AllMyThings.first.name you would have to get the type of AllMyThings, find the static public property by the name and then retrieve the property value.</p>\n"}], "owner": {"reputation": 1248, "user_id": 3715648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/127fb47b5b0b348ba8c4098e939f2c16?s=128&d=identicon&r=PG&f=1", "display_name": "user3715648", "link": "https://stackoverflow.com/users/3715648/user3715648"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566427230, "creation_date": 1566417163, "question_id": 57598384, "link": "https://stackoverflow.com/questions/57598384/possible-for-a-class-instance-property-as-a-value-in-an-attribute", "title": "Possible for a class instance property as a value in an attribute", "body": "<p>I have a static class that contains a whole bunch of instances of my class. All instances of MyThing are defined here.</p>\n\n<pre><code>public static class AllMyThings\n{\n    public static MyThing first { get; } = new MyThing(name = \"Foo\", otherProperty = \"1\");\n    public static MyThing second { get; } = new MyThing(name = \"Bar\", otherProperty = \"50\");\n    ...\n}\n</code></pre>\n\n<p>Elsewhere in my code, I have methods I would like to add attributes to. I would like the values for these attributes to come from these class instances. Something like this</p>\n\n<pre><code>[MyAttribute(AllMyThings.first.name)\npublic void MyMethod()\n</code></pre>\n\n<p>Doing this gives me the error </p>\n\n<blockquote>\n  <p>An attribute argument must be a constant expression, typeof expression, or array creation expression of an attribute parameter type</p>\n</blockquote>\n\n<p>I can't define <code>first</code> as const, because it's an instance of <code>MyThing</code>. The only way I can think of to make this work is to have something like this</p>\n\n<pre><code>public static class AllMyThings\n    {\n        public const string firstName = \"Foo\";\n        public const string secondName = \"Bar\";\n\n        public static MyThing first { get; } = new MyThing(name = firstName, otherProperty = \"1\");\n        public static MyThing second { get; } = new MyThing(name = secondName, otherProperty = \"50\");\n    }\n\n[MyAttribute(AllMyThings.firstName)\npublic void MyMethod()\n</code></pre>\n\n<p>but i'd like to avoid other parts of code having to now about <code>first</code> and <code>firstName</code> as opposed to just <code>first</code>.</p>\n\n<p>Is there any other option? </p>\n"}, {"tags": ["c#", ".net", "json.net"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1566417237, "post_id": 57598313, "comment_id": 101653985, "body": "Your class doesn&#39;t have any properties, so its going to serialize as an empty object.  The implicit operators aren&#39;t going to affect Newtonsoft serialization.  You would need a custom type converter to serialize the class as a string."}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566417776, "post_id": 57598313, "comment_id": 101654181, "body": "Are you trying to avoid primitive obsession and have strong types instead of strings?"}, {"owner": {"reputation": 11793, "user_id": 10932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/EVx1v.jpg?s=128&g=1", "display_name": "Jakob Gade", "link": "https://stackoverflow.com/users/10932/jakob-gade"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566417823, "post_id": 57598313, "comment_id": 101654199, "body": "@VladimirSerykh, yes, that&#39;s exactly right. :)"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 1853, "user_id": 3000189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed62cc80ccc0e44e55cdf75ff3a83c?s=128&d=identicon&r=PG&f=1", "display_name": "glenebob", "link": "https://stackoverflow.com/users/3000189/glenebob"}, "edited": false, "score": 1, "creation_date": 1566419965, "post_id": 57598313, "comment_id": 101654989, "body": "@glenebob Structs are value types in c#."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1566420418, "post_id": 57598313, "comment_id": 101655161, "body": "Struct/Object/Value Type/Reference Type doesn&#39;t matter.  The Struct has no public properties so there is nothing to serialize."}], "answers": [{"comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1566419353, "post_id": 57598721, "comment_id": 101654767, "body": "Ping me if you need code snippet for Entity Framework Core."}, {"owner": {"reputation": 11793, "user_id": 10932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/EVx1v.jpg?s=128&g=1", "display_name": "Jakob Gade", "link": "https://stackoverflow.com/users/10932/jakob-gade"}, "edited": false, "score": 2, "creation_date": 1566419631, "post_id": 57598721, "comment_id": 101654871, "body": "That&#39;s a great answer - and very detailed too. Thanks. :)"}], "tags": [], "owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "is_accepted": true, "score": 3, "last_activity_date": 1566419244, "last_edit_date": 1566419244, "creation_date": 1566418851, "answer_id": 57598721, "question_id": 57598313, "link": "https://stackoverflow.com/questions/57598313/cant-json-net-automatically-handle-value-types-with-only-implicit-operators/57598721#57598721", "title": "Can&#39;t Json.NET automatically handle value types with only implicit operators?", "body": "<p>C# is strongly-typed language. However, people usually using <code>string</code> values everywhere. In that case strongly-typed origin of the language doesn't help. Such issue is called <a href=\"https://refactoring.guru/smells/primitive-obsession\" rel=\"nofollow noreferrer\">Primitive obsession</a>.</p>\n\n<p>.NET provides <code>TypeConverter</code> to convert values between different types. <code>Newtonsoft.Json</code> uses type converters implicitly.</p>\n\n<p>I came up with such solution:</p>\n\n<p><strong>Strongly-typed interface</strong></p>\n\n<p>First we define the interface to wrap the primitive value.</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Interface to make values strongly-typed with help of TypeConverters.\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"TInnerType\"&gt;Inner type&lt;/typeparam&gt;\npublic interface IStronglyTyped&lt;out TInnerType&gt;\n{\n    /// &lt;summary&gt;\n    /// Inner value.\n    /// &lt;/summary&gt;\n    TInnerType Value { get; }\n}\n</code></pre>\n\n<p><strong>Strongly-typed class</strong></p>\n\n<p>Then we define the class that implements that interface.</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Strongly-typed value based on inner type (e.g. &lt;see cref=\"string\"/&gt; or &lt;see cref=\"System.Uri\"/&gt;).\n/// If you need validation then implement \".IsValid()\" method.\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"TInnerType\"&gt;Type of the inner value.&lt;/typeparam&gt;\npublic abstract class StronglyTyped&lt;TInnerType&gt; : IStronglyTyped&lt;TInnerType&gt;\n{\n    /// &lt;summary&gt;\n    /// Validation error format. Should contain \"{0}\" placeholder.\n    /// &lt;/summary&gt;\n    protected virtual string ValidationErrorFormat =&gt; \"'{0}' is not valid value\";\n\n    /// &lt;summary&gt;\n    /// Inner value.\n    /// &lt;/summary&gt;\n    public TInnerType Value { get; }\n\n    /// &lt;inheritdoc /&gt;\n    protected StronglyTyped(TInnerType value)\n    {\n        Validate(value);\n\n        Value = value;\n    }\n\n    private void Validate(TInnerType value)\n    {\n        if (!IsValid(value)) throw new StrongTypeException(GetType(), String.Format(ValidationErrorFormat, value));\n    }\n\n    /// &lt;summary&gt;\n    /// Validates the value.\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;'true' if value is valid.&lt;/returns&gt;\n    protected virtual bool IsValid(TInnerType value)\n    {\n        return true;\n    }\n\n    /// &lt;inheritdoc /&gt;\n    public override string ToString()\n    {\n        return Value.ToString();\n    }\n\n    /// &lt;summary&gt;\n    /// Checks the equality of the inner values.\n    /// &lt;/summary&gt;\n    protected bool Equals(StronglyTyped&lt;TInnerType&gt; other)\n    {\n        return string.Equals(Value, other.Value);\n    }\n\n    /// &lt;inheritdoc /&gt;\n    public override bool Equals(object obj)\n    {\n        if (ReferenceEquals(null, obj)) return false;\n        if (ReferenceEquals(this, obj)) return true;\n        if (obj.GetType() != this.GetType()) return false;\n        return Equals((StronglyTyped&lt;TInnerType&gt;)obj);\n    }\n\n    /// &lt;inheritdoc /&gt;\n    public override int GetHashCode()\n    {\n        return (Value != null ? Value.GetHashCode() : 0);\n    }\n\n    /// &lt;summary&gt;\n    /// Implicit mapping to `string`.\n    /// &lt;/summary&gt;\n    public static implicit operator string(StronglyTyped&lt;TInnerType&gt; obj)\n    {\n        return obj?.ToString();\n    }\n}\n</code></pre>\n\n<p><strong>Type converter</strong></p>\n\n<p>After we have interface and class, we implement a generic type converter.</p>\n\n<p>It would help to convert primitive string values to strongly-typed <code>IStronglyTyped&lt;TValue&gt;</code>.</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Generic type converter for converting `string` to `TValue` (and other way around).\n/// &lt;/summary&gt;\npublic class StringTypeConverter&lt;TValue&gt; : TypeConverter\n{\n    /// &lt;inheritdoc /&gt;\n    public override bool CanConvertFrom(ITypeDescriptorContext context, Type sourceType)\n    {\n        return sourceType == typeof(string);\n    }\n\n    /// &lt;inheritdoc /&gt;\n    public override bool CanConvertTo(ITypeDescriptorContext context, Type destinationType)\n    {\n        return destinationType == typeof(string);\n    }\n\n    /// &lt;inheritdoc /&gt;\n    public override object ConvertFrom(ITypeDescriptorContext context, CultureInfo culture, object value)\n    {\n        if (value == null)\n        {\n            return null;\n        }\n\n        if (value is string stringValue)\n        {\n            return CreateInstance(stringValue);\n        }\n\n        throw new NotSupportedException($\"Can't convert `{value.GetType().Name}` to `{typeof(TValue)}`\");\n    }\n\n    /// &lt;summary&gt;\n    /// Creates instance of `TValue` from string value.\n    /// &lt;/summary&gt;\n    protected TValue CreateInstance(string value)\n    {\n        return CreateInstanceInternal(value);\n    }\n\n    /// &lt;summary&gt;\n    /// Creates instance of `TValue` from string value.\n    /// &lt;/summary&gt;\n    protected virtual TValue CreateInstanceInternal(string value)\n    {\n        if (typeof(IStronglyTyped&lt;string&gt;).IsAssignableFrom(typeof(TValue)))\n        {\n            return (TValue)Activator.CreateInstance(typeof(TValue), value);\n        }\n        else\n        {\n            var typeConverter = TypeDescriptor.GetConverter(typeof(TValue));\n            return (TValue)typeConverter.ConvertFromString(value);\n        }\n    }\n\n    /// &lt;inheritdoc /&gt;\n    public override object ConvertTo(ITypeDescriptorContext context, CultureInfo culture, object value, Type destinationType)\n    {\n        if (destinationType == typeof(string))\n        {\n            return ((TValue)value)?.ToString();\n        }\n\n        throw new NotSupportedException($\"Can't convert `{typeof(TValue)}` to `{destinationType.Name}`\");\n    }\n}\n</code></pre>\n\n<p><strong>Custom strongly-typed classes</strong></p>\n\n<pre><code>/// &lt;summary&gt;\n/// Phone number.\n/// &lt;/summary&gt;\n[TypeConverter(typeof(StringTypeConverter&lt;PhoneNumber&gt;))]\npublic class PhoneNumber : StronglyTyped&lt;string&gt;\n{\n    /// &lt;inheritdoc /&gt;\n    public PhoneNumber(string value)\n        : base(value.Trim())\n    {\n    }\n\n    /// &lt;inheritdoc /&gt;\n    protected override bool IsValid(string value)\n    {\n        if (value.Trim() == string.Empty)\n        {\n            return false;\n        }\n\n        // Validation logic goes here\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>That approach would work with <code>Newtonsoft.Json</code> without additional configuration.</p>\n\n<p><strong>UPD</strong></p>\n\n<p>Additionally, if you'd like to use these strongly-typed classes with Entity Framework Core, you need to teach it how to transform them to <code>string</code> values. It doesn't use <code>TypeConverter</code> but uses <code>ValueConverter&lt;,&gt;</code>.</p>\n\n<p>Therefore you need to define a custom value converter.</p>\n\n<p><strong>ValueConverter</strong></p>\n\n<pre><code>public class StronglyTypedValueConverter&lt;TStronglyTyped, TInner&gt; : ValueConverter&lt;TStronglyTyped, string&gt;\n    where TStronglyTyped : class, IStronglyTyped&lt;TInner&gt;\n{\n    private static readonly TypeConverter TYPE_CONVERTER = TypeDescriptor.GetConverter(typeof(TStronglyTyped));\n\n    public StronglyTypedValueConverter(ConverterMappingHints mappingHints = null)\n        : base(\n            stronglyTyped =&gt; FromStronglyTyped(stronglyTyped),\n            value =&gt; ToStronglyTyped(value),\n            mappingHints)\n    {\n    }\n\n    private static string FromStronglyTyped(TStronglyTyped stronglyTyped)\n    {\n        var result = TYPE_CONVERTER.ConvertToString(stronglyTyped);\n        return result;\n    }\n\n    private static TStronglyTyped ToStronglyTyped(object value)\n    {\n        var result = TYPE_CONVERTER.ConvertFrom(value);\n        return result as TStronglyTyped;\n    }\n}\n</code></pre>\n\n<p>Unfortunately, it's not enough. You have to register custom conversions for each property of any of your custom types. It's much trickier.</p>\n"}, {"comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566419487, "post_id": 57598757, "comment_id": 101654818, "body": "That&#39;s right, <code>TypeConverter</code>. With my solution you can wrap <code>Guid</code> or <code>Uri</code> into <code>IStronglyTyped&lt;&gt;</code> to provide additional validation and more specific type. This fixed primitive obsession not only for <code>string</code> values but for other generally used &quot;primitive&quot; types."}, {"owner": {"reputation": 11793, "user_id": 10932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/EVx1v.jpg?s=128&g=1", "display_name": "Jakob Gade", "link": "https://stackoverflow.com/users/10932/jakob-gade"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566419674, "post_id": 57598757, "comment_id": 101654885, "body": "@VladimirSerykh Thanks. You beat me to it by 3 minutes. Very impressive."}], "tags": [], "owner": {"reputation": 11793, "user_id": 10932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/EVx1v.jpg?s=128&g=1", "display_name": "Jakob Gade", "link": "https://stackoverflow.com/users/10932/jakob-gade"}, "is_accepted": false, "score": 0, "last_activity_date": 1566420118, "last_edit_date": 1566420118, "creation_date": 1566419036, "answer_id": 57598757, "question_id": 57598313, "link": "https://stackoverflow.com/questions/57598313/cant-json-net-automatically-handle-value-types-with-only-implicit-operators/57598757#57598757", "title": "Can&#39;t Json.NET automatically handle value types with only implicit operators?", "body": "<p>I noticed the mention of \"TypeConverter\" at the bottom of the list here: <a href=\"https://www.newtonsoft.com/json/help/html/SerializationGuide.htm#PrimitiveTypes\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com/json/help/html/SerializationGuide.htm#PrimitiveTypes</a>. </p>\n\n<p>Then I put together a very simple custom TypeConverter:</p>\n\n<pre><code>[TypeConverter(typeof(Converter))]\npublic class PhoneNumber\n{\n    private readonly string _phoneNumber;\n\n    public PhoneNumber(string phoneNumber)\n    {\n        _phoneNumber = _phoneNumber;\n    }\n\n    public static implicit operator PhoneNumber(string phoneNumber)\n    {\n        return new PhoneNumber(phoneNumber);\n    }\n\n    public static implicit operator string(PhoneNumber phoneNumber)\n    {\n        return phoneNumber.ToString();\n    }\n\n    public override string ToString()\n    {\n        return _phoneNumber;\n    }\n\n    public class Converter : TypeConverter\n    {\n        public override bool CanConvertFrom(ITypeDescriptorContext context, Type sourceType)\n        {\n            return sourceType == typeof(string);\n        }\n\n        public override bool CanConvertTo(ITypeDescriptorContext context, Type destinationType)\n        {\n            return destinationType == typeof(string);\n        }\n\n        public override object ConvertTo(ITypeDescriptorContext context, CultureInfo culture, object value, Type destinationType)\n        {\n            return value.ToString();\n        }\n    }\n}\n</code></pre>\n\n<p>Now, if I have a class with my custom PhoneNumber property, it serializes the way I want it to:</p>\n\n<pre><code>public class MyClass\n{\n    public PhoneNumber PhoneNumber { get; set; }\n}\n</code></pre>\n\n<p>Serialization: </p>\n\n<pre><code>var x = new MyClass\n{\n    PhoneNumber = new PhoneNumber(\"1234567890\")\n};\n\nvar json = JsonConvert.SerializeObject(x);\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>{ \"PhoneNumber\": \"1234567890\" }\n</code></pre>\n"}], "owner": {"reputation": 11793, "user_id": 10932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/EVx1v.jpg?s=128&g=1", "display_name": "Jakob Gade", "link": "https://stackoverflow.com/users/10932/jakob-gade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 57598721, "answer_count": 2, "score": 3, "last_activity_date": 1566420118, "creation_date": 1566416850, "last_edit_date": 1566418121, "question_id": 57598313, "link": "https://stackoverflow.com/questions/57598313/cant-json-net-automatically-handle-value-types-with-only-implicit-operators", "title": "Can&#39;t Json.NET automatically handle value types with only implicit operators?", "body": "<p>Here's my tiny custom value type class: </p>\n\n<pre><code>public struct PhoneNumber\n{\n    private readonly string _phoneNumber;\n\n    public PhoneNumber(string phoneNumber)\n    {\n        _phoneNumber = phoneNumber;\n        // ... lots more will happen here to validate the phone number\n    }\n\n    public static implicit operator PhoneNumber(string phoneNumber)\n    {\n        return new PhoneNumber(phoneNumber);\n    }\n\n    public static implicit operator string(PhoneNumber phoneNumber)\n    {\n        return phoneNumber.ToString();\n    }\n\n    public override string ToString()\n    {\n        return _phoneNumber;\n    }\n}\n</code></pre>\n\n<p>With implicit operators to/from strings and an overridden ToString method I would expect Json.NET should be able to serialize and deserialize an instance of this class. </p>\n\n<p>However, doing this:</p>\n\n<pre><code> var pn = new PhoneNumber(\"1234567890\");\n var json = JsonConvert.SerializeObject(pn);\n</code></pre>\n\n<p>... just returns an empty <code>{}</code>.</p>\n\n<p>I'd rather not apply attributes to my value type class or implement a custom serializor. </p>\n\n<p>Is there another convention I can follow to make Json.NET behave the way I like it to?</p>\n"}, {"tags": ["c#", "twilio"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1566415613, "post_id": 57598047, "comment_id": 101653289, "body": "Use String.Split (two times)"}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "edited": false, "score": 1, "creation_date": 1566416821, "post_id": 57598047, "comment_id": 101653832, "body": "Please edit your question to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "reply_to_user": {"reputation": 43, "user_id": 11579729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f01af8957c2f8cf3e0be20a86d9e7c?s=128&d=identicon&r=PG&f=1", "display_name": "brucecopper", "link": "https://stackoverflow.com/users/11579729/brucecopper"}, "edited": false, "score": 0, "creation_date": 1566422606, "post_id": 57598201, "comment_id": 101655875, "body": "You have exactly such result in the example. Just try the C# code: <a href=\"https://dotnetfiddle.net/1P4Z1x\" rel=\"nofollow noreferrer\">dotnetfiddle.net/1P4Z1x</a>"}], "tags": [], "owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "is_accepted": true, "score": 4, "last_activity_date": 1566416998, "last_edit_date": 1566416998, "creation_date": 1566416224, "answer_id": 57598201, "question_id": 57598047, "link": "https://stackoverflow.com/questions/57598047/parsing-in-c-to-get-a-callersid/57598201#57598201", "title": "parsing in c# to get a callersid", "body": "<p>You can do it with help of quite simple Regular Expression.</p>\n\n<p>There is very good article on that topic on <a href=\"https://www.dotnetperls.com/regex\" rel=\"nofollow noreferrer\">DotNetPerls</a>.</p>\n\n<pre><code>var input = \"=inbound&amp;CallerState=IN&amp;ToZip=&amp;CallSid=CA35b8f8162eeffebf07d4fc7c9aeadd94&amp;To=%2B123475&amp;CallerZip=406&amp;ToCountry=US&amp;ApiVersion=2010-04-01&amp;CalledZip=&amp;CalledCity=&amp;CallStatus=ringing&amp;From=%2B12606&amp;AccountSid=ACc6d06b4cb61ccbfa61bf461957a5a626&amp;CalledCountry=US&amp;CallerCity=AUBURN&amp;Caller=%2B1265506&amp;FromCountry=US&amp;ToCity=&amp;FromCity=AURN&amp;CalledState=IN&amp;FromZip=466&amp;FromState=IN\";\n\nvar regex = new Regex(@\"\\&amp;CallSid=([a-z0-9]+)\\&amp;\", RegexOptions.IgnoreCase | RegexOptions.Compiled);\n\nvar match = regex.Match(input);\nvar result = match\n    .Groups[1] // First round brackets has index \"1\"\n    .Captures[0] // You expect to have only one match\n    .Value;\n</code></pre>\n\n<p><strong>Regex options</strong></p>\n\n<p><code>RegexOptions.IgnoreCase</code></p>\n\n<p>Means that regular expression is not case sensitive.</p>\n\n<p><code>RegexOptions.Compiled</code></p>\n\n<p>It could be useful to precompile the regular expression if you are going to use it more than few times. This can slightly improve the performance.</p>\n\n<p><strong>Regex playground</strong></p>\n\n<p>Check out the playground to understand how it works: <a href=\"https://regex101.com/r/pU6KMz/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/pU6KMz/1</a></p>\n"}, {"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416778, "creation_date": 1566416778, "answer_id": 57598297, "question_id": 57598047, "link": "https://stackoverflow.com/questions/57598047/parsing-in-c-to-get-a-callersid/57598297#57598297", "title": "parsing in c# to get a callersid", "body": "<p>This is a non-Regex method.</p>\n\n<pre><code>const string BEGIN_MARKER = \"CallSid=\";\n\nvar str = \"=inbound&amp;CallerState=IN&amp;ToZip=&amp;CallSid=CA35b8f8162eeffebf07d4fc7c9aeadd94&amp;To=%2B123475&amp;CallerZip=406&amp;ToCountry=US&amp;ApiVersion=2010-04-01&amp;CalledZip=&amp;CalledCity=&amp;CallStatus=ringing&amp;From=%2B12606&amp;AccountSid=ACc6d06b4cb61ccbfa61bf461957a5a626&amp;CalledCountry=US&amp;CallerCity=AUBURN&amp;Caller=%2B1265506&amp;FromCountry=US&amp;ToCity=&amp;FromCity=AURN&amp;CalledState=IN&amp;FromZip=466&amp;FromState=IN\";\nvar begin = str.IndexOf(BEGIN_MARKER) + BEGIN_MARKER.Length;\nvar end = str.IndexOf('&amp;', begin);\n\nvar sid = str.Substring(begin, end - begin);\n</code></pre>\n\n<p>Using the <code>CallSid=</code> part, we retrieve the index of the first character of the <code>Sid</code>, then retrieve the end position of the <code>Sid</code> using that. When using <code>string.Substring(char value, int startIndex)</code>, the method starts to search beginning at the <code>startIndex</code>.</p>\n\n<p>Finally, use both values to extract a substring.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4508727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51def19f72d57f4863f3b177d1e71452?s=128&d=identicon&r=PG&f=1", "display_name": "deanna", "link": "https://stackoverflow.com/users/4508727/deanna"}, "is_accepted": false, "score": 3, "last_activity_date": 1566417068, "creation_date": 1566417068, "answer_id": 57598359, "question_id": 57598047, "link": "https://stackoverflow.com/questions/57598047/parsing-in-c-to-get-a-callersid/57598359#57598359", "title": "parsing in c# to get a callersid", "body": "<p>You can do it with System.Web.HttpUtility.ParseQueryString function, you would need to use the System.Web assembly, but it won't require a web context.</p>\n\n<pre><code>    string querystring = \"=inbound&amp;CallerState=IN&amp;ToZip=&amp;CallSid=CA35b8f8162eeffebf07d4fc7c9aeadd94&amp;To=%2B123475&amp;CallerZip=406&amp;ToCountry=US&amp;ApiVersion=2010-04-01&amp;CalledZip=&amp;CalledCity=&amp;CallStatus=ringing&amp;From=%2B12606&amp;AccountSid=ACc6d06b4cb61ccbfa61bf461957a5a626&amp;CalledCountry=US&amp;CallerCity=AUBURN&amp;Caller=%2B1265506&amp;FromCountry=US&amp;ToCity=&amp;FromCity=AURN&amp;CalledState=IN&amp;FromZip=466&amp;FromState=IN\";\n    NameValueCollection qscoll = HttpUtility.ParseQueryString(querystring);\n    string callSID = qscoll[\"CallSid\"];\n\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1566419225, "creation_date": 1566419225, "answer_id": 57598783, "question_id": 57598047, "link": "https://stackoverflow.com/questions/57598047/parsing-in-c-to-get-a-callersid/57598783#57598783", "title": "parsing in c# to get a callersid", "body": "<p>One simple way to do that is to split the string on the <code>&amp;</code> character, then find the part that starts with <code>\"CallSid=\"</code>, and if that exists, split it on the <code>=</code> character and take the second item (at index <code>1</code>):</p>\n\n<pre><code>var callSid = input\n    .Split('&amp;')\n    .FirstOrDefault(x =&gt; x.StartsWith(\"CallSid=\",\n        StringComparison.OrdinalIgnoreCase))\n    ?.Split('=')[1];  // '?.' is used here in case result is null\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11579729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f01af8957c2f8cf3e0be20a86d9e7c?s=128&d=identicon&r=PG&f=1", "display_name": "brucecopper", "link": "https://stackoverflow.com/users/11579729/brucecopper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1566439857, "accepted_answer_id": 57598201, "answer_count": 4, "score": -1, "last_activity_date": 1566419225, "creation_date": 1566415443, "last_edit_date": 1566416272, "question_id": 57598047, "link": "https://stackoverflow.com/questions/57598047/parsing-in-c-to-get-a-callersid", "closed_reason": "Needs more focus", "title": "parsing in c# to get a callersid", "body": "<p>I have this string </p>\n\n<blockquote>\n  <p>\"=inbound&amp;CallerState=IN&amp;ToZip=&amp;<strong>CallSid=CA35b8f8162eeffebf07d4fc7c9aeadd94</strong>&amp;To=%2B123475&amp;CallerZip=406&amp;ToCountry=US&amp;ApiVersion=2010-04-01&amp;CalledZip=&amp;CalledCity=&amp;CallStatus=ringing&amp;From=%2B12606&amp;AccountSid=ACc6d06b4cb61ccbfa61bf461957a5a626&amp;CalledCountry=US&amp;CallerCity=AUBURN&amp;Caller=%2B1265506&amp;FromCountry=US&amp;ToCity=&amp;FromCity=AURN&amp;CalledState=IN&amp;FromZip=466&amp;FromState=IN\"</p>\n</blockquote>\n\n<p>I would like to get the CallSid from this string. what would be the best way to achieving this?</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 3, "creation_date": 1566415449, "post_id": 57597984, "comment_id": 101653218, "body": "<i>Mscorlib_CollectionDebugView</i> oh, dear. No. Also, it&#39;s unclear what type of ListItem we&#39;re talking about here. There are several in the framework. I&#39;m unsure which it is but look for a Text or Value property on it. You&#39;re obviously debugging, so when debugging do a quickwatch on the variable and examine it&#39;s properties."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1566415466, "post_id": 57597984, "comment_id": 101653225, "body": "How did you populate the ListBox? Please show code for how you populated the ListBox. You can <b>edit your question</b> and paste the code into your question. Please don&#39;t put the code in a comment. Is this WPF or winforms?"}, {"owner": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "edited": false, "score": 0, "creation_date": 1566416022, "post_id": 57597984, "comment_id": 101653474, "body": "It is a Windows application forms. I am not sure how much code you want me to add here on how I populate. I will add the code in the main question under what I have tried"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "edited": false, "score": 0, "creation_date": 1566417684, "post_id": 57598416, "comment_id": 101654148, "body": "Tag is not available for me to use. When I click dot after staffEmail. Here is what is available Equals, GetHashCode, GetType, Text, ToString Value"}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "reply_to_user": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "edited": false, "score": 0, "creation_date": 1566418587, "post_id": 57598416, "comment_id": 101654488, "body": "Then try to use the Value field. I&#39;ve update my answer. Also, is this a WinForm application and are you using a Third Party control library?"}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "reply_to_user": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "edited": false, "score": 0, "creation_date": 1566418693, "post_id": 57598416, "comment_id": 101654517, "body": "Generally a drop list will have a display/text property and a backend key/value property."}, {"owner": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "edited": false, "score": 0, "creation_date": 1566419503, "post_id": 57598416, "comment_id": 101654824, "body": "When I use the value in the MailAddress, I get &#39;object&#39; does not contain a definition for &#39;Value&#39; and no accessible extension method &#39;Value&#39; accepting a first argument of type &#39;object&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "reply_to_user": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "edited": false, "score": 0, "creation_date": 1566420967, "post_id": 57598416, "comment_id": 101655375, "body": "When you listed the properties of teh staffEmail object I guess I took the final &#39;Value&#39; in your comment as one of the property names."}, {"owner": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "edited": false, "score": 0, "creation_date": 1566490601, "post_id": 57598416, "comment_id": 101681971, "body": "Value is available, however when I use Value  in MailAddress to =new MailAddress(ListItem.Value.ToString()) I am getting o&#39;object does not contain a definition for &#39;Value&#39; and no accessible extension method &#39;Value&#39; accepting a first argument of type &#39;object&#39; could be found (are you missing a using directive or an assembly reference?)"}], "tags": [], "owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "is_accepted": true, "score": 0, "last_activity_date": 1566419062, "last_edit_date": 1566419062, "creation_date": 1566417313, "answer_id": 57598416, "question_id": 57597984, "link": "https://stackoverflow.com/questions/57597984/how-do-i-get-email-from-selected-listitem-which-is-an-object/57598416#57598416", "title": "How do I get email from selected ListItem which is an object", "body": "<p>I'm doing some guessing here as to your environment but you could try...</p>\n\n<p>...populate the listbox using the Value property to store the email...</p>\n\n<pre><code>staffEmail.Text = staffEmails[i].DisplayName;\nstaffEmail.Value = staffEmails[i].Email; // set Value property to be email\n</code></pre>\n\n<p>.. and when sending the email...</p>\n\n<pre><code>foreach (var ListItem in MyListBox.SelectedItems)\n{\n    MailAddress to = new MailAddress(ListItem.Value.ToString()); // get email from Value property\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11710513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f1e82c8fc1a6b4182103aa7e885b97?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpLearner2019", "link": "https://stackoverflow.com/users/11710513/csharplearner2019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 57598416, "answer_count": 1, "score": 0, "last_activity_date": 1566420244, "creation_date": 1566415108, "last_edit_date": 1566420244, "question_id": 57597984, "link": "https://stackoverflow.com/questions/57597984/how-do-i-get-email-from-selected-listitem-which-is-an-object", "title": "How do I get email from selected ListItem which is an object", "body": "<p>I have a listbox which displays first and last name. The listbox has 16 objects and displays 16 names. \nEach item in the list is an object. Each object has a name which is displayed in the listbox. The object also have an email. My question is, how do I get the email of the selected name in the listbox and put it in a string? Later I will use this variable to send an email to any selected name in the listbox. </p>\n\n<p>The problem with my code is that ListItem.ToString()) holds a name that is displayed and not email. \nFor example Joe Doe is selected name (ListItem) in the listbox. The email of Joe Doe is inside the object. When I hover over the staffEmails which has 16 objects, I find Joe Doe email by copying Expression. Here is the expression for Joe Doe email </p>\n\n<pre><code>(new System.Collections.Generic.Mscorlib_CollectionDebugView\n    &lt;FTACaseReset.Models.GetRequestorInfoModel&gt;(staffEmails).Items[1]).Email\n\n\n\nmailMessage.To.Add(to);\nList&lt;GetRequestorInfoModel&gt; staffEmails = new List&lt;GetRequestorInfoModel&gt;();\nstaffEmails = \n    await FTACaseReset.Controllers.RequestorInfoController.GetAllRequestorInfoes();\nListBoxItem staffEmail = new ListBoxItem();\nstaffEmail.Text = staffEmails[0].Email;\n\nforeach (var ListItem in MyListBox.SelectedItems)\n{\n    MailAddress to = new MailAddress(ListItem.ToString());\n}\n</code></pre>\n\n<p>Here is the code on how I populate the listbox</p>\n\n<pre><code>public async void PopulateAdditionalStaffEmailListBox()\n    {\n        List&lt;GetRequestorInfoModel&gt; staffEmails = new List&lt;GetRequestorInfoModel&gt;();\n        try\n        {\n            staffEmails = await FTACaseReset.Controllers.RequestorInfoController.GetAllRequestorInfoes();\n            staffEmails = staffEmails.OrderBy(x =&gt; x.DisplayName).ToList();\n            for (int i = 0; i &lt; staffEmails.Count; i++)\n            {\n                ListBoxItem staffEmail = new ListBoxItem();\n                staffEmail.Text = staffEmails[i].DisplayName;\n                staffEmail.Text = staffEmails[i].Email;\n                AdditionalStaffEmailListBox.Items.Add(staffEmail.Text).ToString();\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "asp.net-apicontroller"], "comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566417432, "post_id": 57597861, "comment_id": 101654053, "body": "Actually it is not a unit testing. You shouldn&#39;t call controllers to test services. And there shouldn&#39;t be any business logic in controller. All the logic should stay in the service."}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566421489, "post_id": 57597861, "comment_id": 101655543, "body": "No, if you don&#39;t have any business logic in them. And you shouldn&#39;t have any."}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566423120, "post_id": 57597861, "comment_id": 101656041, "body": "You test the service without mocking it. But everything what is injected to the service through it&#39;s constructor should be mocked."}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566423736, "post_id": 57597861, "comment_id": 101656236, "body": "Trying to find a good article. Everywhere people are testing controllers. But it&#39;s just a waste of time. You better focus on the services. The article about thin controllers: <a href=\"https://adamtibi.net/06-2013/you-should-unit-test-your-controller-not\" rel=\"nofollow noreferrer\">adamtibi.net/06-2013/you-should-unit-test-your-controller-no&zwnj;&#8203;t</a>"}, {"owner": {"reputation": 39, "user_id": 10703915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dS4jo2HIe50/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gt20b4xBb_aOpZzORGP_yBSFqlPA/mo/photo.jpg?sz=128", "display_name": "ps_dev", "link": "https://stackoverflow.com/users/10703915/ps-dev"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566838532, "post_id": 57597861, "comment_id": 101772892, "body": "@VladimirSerykh Is it possible to do Unit Test for a Service when it does not have an interface?"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566903145, "post_id": 57597861, "comment_id": 101793163, "body": "You can try to Mock it. But better to have an interface. If both options don&#39;t fit, then you can create child class that does nothing. But it&#39;s not the best way of doing this."}, {"owner": {"reputation": 39, "user_id": 10703915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dS4jo2HIe50/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gt20b4xBb_aOpZzORGP_yBSFqlPA/mo/photo.jpg?sz=128", "display_name": "ps_dev", "link": "https://stackoverflow.com/users/10703915/ps-dev"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566949900, "post_id": 57597861, "comment_id": 101813097, "body": "Do you have any idea of which framework actually can mock out non-interface/virtual methods in a clean way?"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566979940, "post_id": 57597861, "comment_id": 101820509, "body": "Honestly, I&#39;m not sure. I&#39;m using <code>Moq</code>. But it can&#39;t do this because it&#39;s just implementing interface or creating derived class on-the-fly. Just found an answer that could be helpful: <a href=\"https://stackoverflow.com/a/11738166/3503521\">stackoverflow.com/a/11738166/3503521</a> But I encourage you or authors of the services to start using interfaces. SOLID principles really help to write better code."}, {"owner": {"reputation": 39, "user_id": 10703915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dS4jo2HIe50/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gt20b4xBb_aOpZzORGP_yBSFqlPA/mo/photo.jpg?sz=128", "display_name": "ps_dev", "link": "https://stackoverflow.com/users/10703915/ps-dev"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1567011458, "post_id": 57597861, "comment_id": 101838195, "body": "Thank you so much!"}], "answers": [{"tags": [], "owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "is_accepted": false, "score": 1, "last_activity_date": 1566424637, "creation_date": 1566424637, "answer_id": 57599611, "question_id": 57597861, "link": "https://stackoverflow.com/questions/57597861/contentresult-of-web-api-controller-in-unit-test-always-returning-null/57599611#57599611", "title": "ContentResult of Web Api controller in Unit Test always returning null", "body": "<p>There could be different approaches to build an API application.</p>\n\n<p>My approach is that the API should be build of 3 layers:</p>\n\n<ul>\n<li>Presentation layer: controllers</li>\n<li>Business logic: services</li>\n<li>Data layer: repositories</li>\n</ul>\n\n<p>Controllers and repositories should be as thin as possible. All the logic should be in service layer. In that case application would be maintainable, extendable, and testable.</p>\n\n<p><strong>Test example</strong></p>\n\n<p>Packages used:</p>\n\n<ul>\n<li><code>NUnit</code></li>\n<li><code>NUnit3TestAdapter</code></li>\n<li><code>Moq</code></li>\n</ul>\n\n<p>You can also use:</p>\n\n<ul>\n<li><code>FluentAssertions</code></li>\n<li><code>AutoFixture.NUnit3</code></li>\n</ul>\n\n<p>Example of test class for a service:</p>\n\n<pre><code>[TestFixture]\npublic class OrdersServiceTests\n{\n    private OrdersService _sut;\n\n    private Mock&lt;ICapacityService&gt; _capacityService;\n\n    private Mock&lt;IOrdersRepository&gt; _ordersRepository;\n\n    [SetUp]\n    public void Setup()\n    {\n        // Executed for each test. Mocks are recreated. Tests are not influencing each other.\n\n        _ordersRepository = new Mock&lt;IOrdersRepository&gt;();\n        _capacityService = new Mock&lt;ICapacityService&gt;();\n\n        _sut = new OrdersService(_ordersRepository.Object, _capacityService.Object);\n    }\n\n    [Test]\n    public async Task Should_CheckCapacity_WhenCreatingOrder()\n    {\n        //// Arrange\n\n        var orderEntity = new OrderEntity\n        {\n            Id = Guid.NewGuid(),\n        };\n\n        //// Act\n\n        await _sut.CreateAsync(orderEntity);\n\n        //// Assert\n\n        _capacityService\n            .Verify(\n                x =&gt; x.CheckCapacity(\n                    It.Is&lt;Guid&gt;(g =&gt; g.Equals(orderEntity.Id)))),\n                Times.Once);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12480194, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/a4a0955dbfb4a0ba76412e5d8bfc7981?s=128&d=identicon&r=PG", "display_name": "H.Salah", "link": "https://stackoverflow.com/users/12480194/h-salah"}, "is_accepted": false, "score": 1, "last_activity_date": 1575468209, "last_edit_date": 1575468209, "creation_date": 1575467237, "answer_id": 59177517, "question_id": 57597861, "link": "https://stackoverflow.com/questions/57597861/contentresult-of-web-api-controller-in-unit-test-always-returning-null/59177517#59177517", "title": "ContentResult of Web Api controller in Unit Test always returning null", "body": "<p>I had the same problem, and it turns out I forgot to call <code>Callbase = true</code> on the controller Mock.</p>\n"}], "owner": {"reputation": 39, "user_id": 10703915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dS4jo2HIe50/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gt20b4xBb_aOpZzORGP_yBSFqlPA/mo/photo.jpg?sz=128", "display_name": "ps_dev", "link": "https://stackoverflow.com/users/10703915/ps-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1575468209, "creation_date": 1566414526, "question_id": 57597861, "link": "https://stackoverflow.com/questions/57597861/contentresult-of-web-api-controller-in-unit-test-always-returning-null", "title": "ContentResult of Web Api controller in Unit Test always returning null", "body": "<p>The ContentResult I am trying to check in unit test of the getMethod(string id) is always returning null. The Service called by controller returns DTO Model.</p>\n\n<p>I have tried \nactionresult as OkNegotiatedContentResult \nactionresult as OkNegotiatedContentResult</p>\n\n<p>Unit Test:</p>\n\n<pre><code>      [TestMethod]\n      public void GetUserInformation_ReturnsUserDetails()\n        {\n            //Arrange\n               UserDetails userDetails = new UserDetails();\n               mockUserService.Setup(x =&gt; \n         x.GetuserInformation(It.IsAny&lt;string&gt; \n          ())).Returns(userDetails);\n             //Act\n             IHttpActionResult result = \n              userController.GetUserInformation(\"226\");\n              var contentResult = result as \n             OkNegotiatedContentResult&lt;UserDetails&gt;;\n            //Assert\n           //Validate Ok Result\n              Assert.IsNotNull(contentResult);//this fails\n              Assert.IsNotNull(contentResult.Content);\n              Assert.AreEqual(\"226\", contentResult.Content.userID);\n              Assert.IsInstanceOfType(result, \n              typeof(OkNegotiatedContentResult&lt;UserDetails&gt;));//this assert works\n\n            }\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public IHttpActionResult GetUserInformation(string userID)\n        {\n            if (!string.IsNullOrEmpty(userID))\n            {\n                var result = _userService.GetUserInformation(userID);\n                if (result != null)\n                {\n                    return Ok(result);\n                }\n                return InternalServerError();\n            }\n            else\n            {\n                return BadRequest(\"User Not Found\");\n            }\n        }\n</code></pre>\n\n<p>Service Layer:</p>\n\n<pre><code> public UserDetails GetUserInformation(string userID)\n        {\n            UserDetails userDetails = new UserDetails();\n            //business logic\n            return userDetails;\n        }\n</code></pre>\n\n<p>ContentNegotiator = '((System.Web.Http.Results.OkNegotiatedContentResult)result).ContentNegotiator' threw an exception of type 'System.InvalidOperationException'</p>\n\n<p>Request = '(result as OkNegotiatedContentResult).Request' threw an exception of type 'System.InvalidOperationException'</p>\n"}, {"tags": ["c#", "networking", "httplistener"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1566414599, "post_id": 57597759, "comment_id": 101652834, "body": "Welcome to StackOverflow. You should add a minimal code example to your question. Have a look at <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question\" rel=\"nofollow noreferrer\">writing the perfect question</a>."}, {"owner": {"reputation": 51, "user_id": 11958810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a90c36d3e95b9e210e8f88a00e7ec9?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/11958810/david"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1566414841, "post_id": 57597759, "comment_id": 101652929, "body": "Thank you Jeroen :) Thing is, I&#39;m asking this question because I don&#39;t know what code to write, If my question brings to any helpful answer, and I encounter other problems during realization, I&#39;ll be sure to do as you said. ;)"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1566415551, "post_id": 57597759, "comment_id": 101653262, "body": "You will want to describe what you want better. And, though Stackoverflow excels as a programming Q&amp;A site, it&#39;s not very good at &quot;how do I start&quot; questions.  Do you want to create a &quot;peer-to-peer&quot; chat application (by the way, that&#39;s the usual name) that works between two computers separated by the internet?  If so, because of security, that&#39;s very hard to do (and extremely hard to do in a secure fashion).  If you just want to have two apps on your desktop (or on two computers (on the same subnet) in your house), then that&#39;s a do-able thing.  Look for Peer to peer (P2P) samples"}, {"owner": {"reputation": 51, "user_id": 11958810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a90c36d3e95b9e210e8f88a00e7ec9?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/11958810/david"}, "edited": false, "score": 0, "creation_date": 1566415871, "post_id": 57597759, "comment_id": 101653402, "body": "Hi Flydog. :) My Idea is to simply have 2 console applications that send to each other strings over the internet. It is very hard for me because I&#39;m ignorant on the matter, although I already know how to code at a pretty decent level. Not something for business or serious use, of course, since it&#39;s just for learning. I just need to build something that works so to learn how to do it!  Thank you for your suggestions :)"}, {"owner": {"reputation": 51, "user_id": 11958810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a90c36d3e95b9e210e8f88a00e7ec9?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/11958810/david"}, "edited": false, "score": 0, "creation_date": 1566416025, "post_id": 57597759, "comment_id": 101653479, "body": "Oh and I&#39;ve already built a working app to make two processes on the same pc communicate. You are right in saying it&#39;s infinitely easier!"}], "owner": {"reputation": 51, "user_id": 11958810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a90c36d3e95b9e210e8f88a00e7ec9?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/11958810/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566414023, "creation_date": 1566414023, "question_id": 57597759, "link": "https://stackoverflow.com/questions/57597759/c-client2client", "title": "C# Client2Client", "body": "<p>I'm trying to create a simple Client2Client console chat, for learning purposes, using C# and, blame my lack of experience in networking, I'm stuck.</p>\n\n<p>From what I've been able to deduce, and correct me if I'm wrong, I should create a Server .exe and a Client .exe.\nThe thing is, I know how to use HttpListener to get requests from a client and then send a response to him, but I can't seem to find a clear answer on how to get data from a client and then send it to another client. </p>\n\n<p>I tried Google but my doubts are as strong as before. Any suggestion would be extremely helpful :)</p>\n"}, {"tags": ["c#", "tfs"], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 2813740, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a156419e2568b780b30eea823a7fc9fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2813740", "link": "https://stackoverflow.com/users/2813740/user2813740"}, "edited": false, "score": 0, "creation_date": 1566480399, "post_id": 57606469, "comment_id": 101676159, "body": "i need html Link so that once TFS workitem created Link for perticular workitem gets updated in one of out table in Database.....so that any one who will click on Link can Open TFS WorkItem directly to Check"}], "tags": [], "owner": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1566467021, "creation_date": 1566467021, "answer_id": 57606469, "question_id": 57597711, "link": "https://stackoverflow.com/questions/57597711/how-to-get-tfs-workitem-url-depending-on-workitem-id/57606469#57606469", "title": "How to Get TFS WorkItem URL depending on WorkItem ID", "body": "<p>You could use <a href=\"https://docs.microsoft.com/en-us/rest/api/azure/devops/wit/work%20items/get%20work%20item?view=azure-devops-rest-5.1\" rel=\"nofollow noreferrer\">Rest API</a> to directly return a single work item</p>\n\n<p><code>GET https://dev.azure.com/{organization}/{project}/_apis/wit/workitems/{id}?api-version=5.1</code></p>\n\n<p>However this will only get a url to the json data for the bug created, not the URL of the HTML page of the bug. Such as below output that I got</p>\n\n<pre><code>https://tfsurl:8080/_apis/wit/workItems/workitemID\n</code></pre>\n\n<p>When I load the above link in browser, I got JSON data, instead of the HTML page for the work item I created.</p>\n\n<p>Guess you want to fetch the url of HTML in web portal. </p>\n\n<p><a href=\"https://tfsurl:8080/tfs/DefaultCollection/PatrickProject/_workitems/edit/172/\" rel=\"nofollow noreferrer\">https://tfsurl:8080/tfs/DefaultCollection/PatrickProject/_workitems/edit/172/</a></p>\n\n<p>In my case it was this and here DefaultCollection is the collection name and the PatrickProject is the project name. I used this url and got rid of the id '172' in this case and use the ID of newly created work item. This would return the URL to go to the work item HTML page. </p>\n\n<p>So it's a fixed format, if you have Newly Created WorkItem ID and collection name , project name, you just need to follow above format and change the last value of work item ID. That's it , ignore of which work item type you created.</p>\n\n<p>Hope this Helps!</p>\n"}, {"tags": [], "owner": {"reputation": 485, "user_id": 2813740, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a156419e2568b780b30eea823a7fc9fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2813740", "link": "https://stackoverflow.com/users/2813740/user2813740"}, "is_accepted": true, "score": 0, "last_activity_date": 1566494626, "creation_date": 1566494626, "answer_id": 57614318, "question_id": 57597711, "link": "https://stackoverflow.com/questions/57597711/how-to-get-tfs-workitem-url-depending-on-workitem-id/57614318#57614318", "title": "How to Get TFS WorkItem URL depending on WorkItem ID", "body": "<p>I found solution after lots of research, may help to someone in future:</p>\n\n<pre><code>var tfsURI = new Uri(\"http://test:8080/tfs\");\nvar networkCredential1 = new NetworkCredential(\"test\", \"test!\");\n\n    ICredentials credential = (ICredentials)networkCredential1;\n    Microsoft.VisualStudio.Services.Common.WindowsCredential winCred = new Microsoft.VisualStudio.Services.Common.WindowsCredential(credential);\n    VssCredentials vssCredentials = new VssCredentials(winCred);\n\n    using (TfsTeamProjectCollection collection = new TfsTeamProjectCollection(tfsURI, vssCredentials))\n    {\n        collection.EnsureAuthenticated();\n        TswaClientHyperlinkService hyperlinkService = \n           collection.GetService&lt;TswaClientHyperlinkService&gt;();\n        String TFSurl = hyperlinkService.GetWorkItemEditorUrl(17648).ToString(); //17648 WorkItem ID\n    }\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 2813740, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a156419e2568b780b30eea823a7fc9fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2813740", "link": "https://stackoverflow.com/users/2813740/user2813740"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 57614318, "answer_count": 2, "score": 2, "last_activity_date": 1566494626, "creation_date": 1566413737, "last_edit_date": 1566480743, "question_id": 57597711, "link": "https://stackoverflow.com/questions/57597711/how-to-get-tfs-workitem-url-depending-on-workitem-id", "title": "How to Get TFS WorkItem URL depending on WorkItem ID", "body": "<p>i could successfully add bugs into TFS programmatically,</p>\n\n<pre><code>var tfsURI = new Uri(\"http://test:8080/tfs\");\nvar networkCredential1 = new NetworkCredential(\"test\", \"test!\");\n\nICredentials credential = (ICredentials)networkCredential1;\nMicrosoft.VisualStudio.Services.Common.WindowsCredential winCred = new Microsoft.VisualStudio.Services.Common.WindowsCredential(credential);\nVssCredentials vssCredentials = new VssCredentials(winCred);\n\nusing (TfsTeamProjectCollection collection = new TfsTeamProjectCollection(tfsURI, vssCredentials))\n{\n    collection.EnsureAuthenticated();\n    WorkItemStore workItemStore = collection.GetService&lt;WorkItemStore&gt;();\n    Project teamProject = workItemStore.Projects[\"Test\"];\n    WorkItemType workItemType = teamProject.WorkItemTypes[\"Bug\"];\n\n    WorkItem Defect = new WorkItem(workItemType);\n    FileInfo fi = new FileInfo(@\"C:\\\\Document.docx\");\n    Attachment tfsAttachment = new Attachment(fi.FullName);\n    Defect.Attachments.Add(tfsAttachment);\n\n    Defect.Title = \"Testing from VS to TFS Bug\";\n    Defect.Description = \"Testing from VS to entered Bug in to TFS.\";\n    Defect.Fields[\"Assigned To\"].Value = \"Test\";\n\n    Defect.Save();\n} \n</code></pre>\n\n<p>I have Newly Created WorkItem ID. Defect.ID provides me workitemID. </p>\n\n<p><strong>How can i get the URL of newly created WOrkItem by passing ID.</strong>\nLet Me know if any API available? i need HTML Link of Newly created WorkItem so that anyone when click on URL, created WorkItem will be Open.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1566413797, "post_id": 57597680, "comment_id": 101652495, "body": "Mandatory read for everyone programming in ASP.NET: <a href=\"https://docs.microsoft.com/en-us/previous-versions/ms178472(v=vs.140)\" rel=\"nofollow noreferrer\">ASP.NET Page LifeCycle</a>"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1566414023, "post_id": 57597680, "comment_id": 101652578, "body": "Also very useful is <a href=\"https://stackoverflow.com/questions/4251157/what-is-a-postback\">What is a PostBack?</a>"}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1566414281, "post_id": 57597680, "comment_id": 101652684, "body": "@Steve, <a href=\"https://stackoverflow.com/a/53152096/5836671\">ViewState</a> is also useful in this case."}], "owner": {"reputation": 25, "user_id": 11924087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f0b5e8689c67fda6f860ff8809d248f?s=128&d=identicon&r=PG&f=1", "display_name": "newbie2", "link": "https://stackoverflow.com/users/11924087/newbie2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 1, "closed_date": 1566414384, "answer_count": 0, "score": 0, "last_activity_date": 1566413540, "creation_date": 1566413540, "question_id": 57597680, "link": "https://stackoverflow.com/questions/57597680/timer-keep-reloading-the-page-in-c", "closed_reason": "Duplicate", "title": "Timer keep reloading the page in c#", "body": "<p>I have enabled the timer so when It count to 10, button should show up and timer should stop running. It keeps reloading the page every time it increments the count. Is there a quick fix for this? Below is the code. Thank in advance.</p>\n\n<p>public partial class mainUser : System.Web.UI.Page\n    {</p>\n\n<pre><code>private static int c = 0;\n\nprotected void Page_Load(object sender, EventArgs e)\n{\n   lvlTimer.Visible = false;\n\n\n\n    Timer1.Enabled = true;\n\n}\n\nprotected void btnTakeQuiz_Click(object sender, EventArgs e)\n{\n\n\n}\n\nprotected void Timer1_Tick(object sender, EventArgs e)\n{\n    Timer1.Interval = 1500;\n    c = c + 1;\n    lvlTimer.Text = c.ToString();\n    if (c == 10)\n    {\n        Timer1.Enabled = false;\n        btnTakeQuiz.Visible = true;\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "html", "razor"], "answers": [{"tags": [], "owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "is_accepted": true, "score": 0, "last_activity_date": 1566416046, "creation_date": 1566416046, "answer_id": 57598160, "question_id": 57597619, "link": "https://stackoverflow.com/questions/57597619/dynamic-and-nested-form-container/57598160#57598160", "title": "Dynamic and Nested Form Container", "body": "<p>since you are using razor, when you click the add button what you want to do is render a partial view. Razor syntax: @{Html.RenderPartial(\"_yourpartialview\");} </p>\n\n<p>_yourpartialview is essentially a cshtml file that will not inherit from layout.</p>\n"}], "owner": {"reputation": 33, "user_id": 9111383, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vluUQeT9CNw/AAAAAAAAAAI/AAAAAAAAAIk/cjS23jnpwW4/photo.jpg?sz=128", "display_name": "Andy Rivera", "link": "https://stackoverflow.com/users/9111383/andy-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57598160, "answer_count": 1, "score": 1, "last_activity_date": 1566416046, "creation_date": 1566413254, "question_id": 57597619, "link": "https://stackoverflow.com/questions/57597619/dynamic-and-nested-form-container", "title": "Dynamic and Nested Form Container", "body": "<p>I am quite new to front-end programming so I am probably lacking the correct terminology but I am simply looking to create a dynamic/nested form. As shown in the image, I am trying to find a way to contain my form in groups of panels one can say. In the image it will show my current web-page along with sketched out boarder of what I am trying to implement. I using Razor Pages from ASP.NET Core.</p>\n\n<p><a href=\"https://gyazo.com/c24e74fa2cdd55e4771b2d2715ec8085\" rel=\"nofollow noreferrer\">https://gyazo.com/c24e74fa2cdd55e4771b2d2715ec8085</a></p>\n\n<p>I am trying to figure out the correct container object for my form for which I can reproduce everything inside upon the first Add button click. Upon the second Add button click I want to do the same thing but only for the nested container. I want to know if something like this is even possible and if so what should I use to implement it</p>\n"}, {"tags": ["c#", "winforms", "shell", "process.start"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1566413682, "post_id": 57597606, "comment_id": 101652451, "body": "Take what is between <code>&quot;&quot;</code> as the process and the rest as command-line arguments."}, {"owner": {"reputation": 49, "user_id": 2685921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB2gA.gif?s=128&g=1", "display_name": "AlexanderT", "link": "https://stackoverflow.com/users/2685921/alexandert"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1566413797, "post_id": 57597606, "comment_id": 101652494, "body": "maybe there is a more elegant way"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1566416794, "post_id": 57597606, "comment_id": 101653819, "body": "<a href=\"https://stackoverflow.com/a/1469790/3110834\">stackoverflow.com/a/1469790/3110834</a>"}, {"owner": {"reputation": 49, "user_id": 2685921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB2gA.gif?s=128&g=1", "display_name": "AlexanderT", "link": "https://stackoverflow.com/users/2685921/alexandert"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1566496645, "post_id": 57597606, "comment_id": 101684541, "body": "Thanks, the issue is resolved, the /C option was missing"}], "answers": [{"comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1566415665, "post_id": 57597969, "comment_id": 101653312, "body": "If the command line has quotes in the arguments, this will not work. It works for the Outlook command line you found, but you can&#39;t be certain that some other client that&#39;s been set as the default won&#39;t have a quote in the arguments. What Reza Aghaei suggested is a more robust way to do it."}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1566415781, "post_id": 57597969, "comment_id": 101653363, "body": "^Not to mention this will also grab what is in between the double quotes (<code>&quot;</code>) , so <code>lines[2].Trim()</code> will most likely be <code>string.Empty</code>"}], "tags": [], "owner": {"reputation": 49, "user_id": 2685921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB2gA.gif?s=128&g=1", "display_name": "AlexanderT", "link": "https://stackoverflow.com/users/2685921/alexandert"}, "is_accepted": false, "score": 0, "last_activity_date": 1566472653, "last_edit_date": 1566472653, "creation_date": 1566415018, "answer_id": 57597969, "question_id": 57597606, "link": "https://stackoverflow.com/questions/57597606/how-to-execute-a-ready-made-windows-run-command/57597969#57597969", "title": "How to execute a ready-made Windows Run command", "body": "<p>Did so</p>\n\n<pre><code>string[] lines = cmd.Split('\"');\nif (lines.Length &gt; 1)\n{\n    ProcessStartInfo process = new ProcessStartInfo(lines[1].Trim());\n    process.UseShellExecute = true;\n    if (lines.Length &gt; 2)\n        process.Arguments = lines[2].Trim();\n    Process.Start(process);\n}\n</code></pre>\n\n<p>but don't eat it</p>\n\n<pre><code>%systemRoot%\\system32\\rundll32.exe \"%ProgramFiles%\\Internet Explorer\\hmmapi.dll\",OpenInboxHandler\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 2685921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB2gA.gif?s=128&g=1", "display_name": "AlexanderT", "link": "https://stackoverflow.com/users/2685921/alexandert"}, "is_accepted": true, "score": 0, "last_activity_date": 1566496898, "creation_date": 1566496898, "answer_id": 57614844, "question_id": 57597606, "link": "https://stackoverflow.com/questions/57597606/how-to-execute-a-ready-made-windows-run-command/57614844#57614844", "title": "How to execute a ready-made Windows Run command", "body": "<p>The issue is resolved!\nTo execute an arbitrary shell command, you need to specify the /C parameter for cmd.exe</p>\n\n<pre><code>public static void ExecuteShellCommand(string command)\n{\n    var ProcessInfo = new ProcessStartInfo(\"cmd.exe\", \"/C \" + command)\n    {\n        WindowStyle = ProcessWindowStyle.Hidden,\n        CreateNoWindow = true,\n        UseShellExecute = true\n    };\n    Process.Start(ProcessInfo);\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 2685921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB2gA.gif?s=128&g=1", "display_name": "AlexanderT", "link": "https://stackoverflow.com/users/2685921/alexandert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 57614844, "answer_count": 2, "score": -1, "last_activity_date": 1566496898, "creation_date": 1566413196, "last_edit_date": 1566496669, "question_id": 57597606, "link": "https://stackoverflow.com/questions/57597606/how-to-execute-a-ready-made-windows-run-command", "title": "How to execute a ready-made Windows Run command", "body": "<p>I need to start the default mail client using the command line received from windows registry. How to do it in C# ?\nProcess.Start cannot execute the whole line, it needs to be split, but i dont known what it will be</p>\n\n<p>I get a line to run for example here in registry</p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Clients\\Mail\\Microsoft Outlook\\shell\\open\\command\n</code></pre>\n\n<p>How to run this command line with c# ?</p>\n\n<pre><code>\"C:\\PROGRA~2\\MICROS~1\\Office16\\OUTLOOK.EXE\" /recycle\n</code></pre>\n\n<p>More complex example</p>\n\n<pre><code>%systemRoot%\\system32\\rundll32.exe \"%ProgramFiles%\\Internet Explorer\\hmmapi.dll\",OpenInboxHandler\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "razor"], "answers": [{"tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": false, "score": 1, "last_activity_date": 1566414055, "last_edit_date": 1566414055, "creation_date": 1566413702, "answer_id": 57597707, "question_id": 57597425, "link": "https://stackoverflow.com/questions/57597425/generate-list-based-on-selected-option/57597707#57597707", "title": "Generate list based on selected option", "body": "<p>You can use AJAX to achieve this.</p>\n\n<p>Here is a simple solution to start with. First, create an action method in your controller which accepts the roleId value and get's the rights associated with that role and return that as JSON array.</p>\n\n<p>In the below example, I am simply hard coding 2 rights. You can replace this implementation with however you want to get the data(may be from a database) using the <code>roleId</code> param value.</p>\n\n<pre><code>public JsonResult RoleDetails(int roleId)\n{\n    // Hard coded data.\n    // Replace with data from your db using roleId value\n    var rightList = new List&lt;string&gt; { \"Admin\", \"Editor\" };\n\n    return Json(rightList);\n}\n</code></pre>\n\n<p>So when called with a request URL like <code>/Home/RoleDetails?roleId=2</code>, this action method will return data like this(JSON array).</p>\n\n<pre><code>[\"Admin\",\"Editor\"]\n</code></pre>\n\n<p>Now, Render your select element with the Roles as options. We shall store the path to the action method in a data attribute on the SELECT element. For example, your rendered HTML should be like this.</p>\n\n<pre><code>&lt;select id=\"selectedRole\" data-url=\"/Home/RoleDetails\"&gt;\n    &lt;option&gt;Select one&lt;/option&gt;\n    &lt;option value=\"1\"&gt;Role A&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Role B&lt;/option&gt;\n    &lt;option value=\"3\"&gt;Role C&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;div id=\"role-details\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>We also rendered a div to show the details.</p>\n\n<p><em>I am assuming you know how to render a SELECT element. If you do not, please refer</em> </p>\n\n<p><a href=\"https://stackoverflow.com/questions/34624034/select-tag-helper-in-asp-net-core-mvc/34624217#34624217\">Select Tag Helper in ASP.NET Core MVC</a> post</p>\n\n<p><em>You can use the <code>Url.Action</code> helper to generate the correct path to the <code>RoleDetails</code> action method, for example,</em></p>\n\n<pre><code>&lt;select id=\"selectedRole\" data-url=\"@Url.Action(\"RoleDetails\",\"Home\")\"&gt;\n</code></pre>\n\n<p>Now you can use JavaScript to listen to the change event of the SELECT element, read the selected option value, make an ajax call to the action method we created above, get the data ,which is a JSON array, and update the UI using that.</p>\n\n<p>Here is a working sample using jQuery for DOM manipulations.</p>\n\n<pre><code>$(function () {\n\n    // Listen to \"change\" event on SELECT\n    $(\"#selectedRole\").change(function () {\n        //Get the value of selected option\n        var roleId = $(this).val();\n        var url = $(this).data(\"url\") + \"?roleId=\" + roleId;\n\n        //Make the AJAX call\n        $.getJSON(url).then(function (data) {\n            var list = \"\";\n            // Loop through the JSON array and build HTML for a list of P tags.\n            $.each(data, function (index, item) {\n                list += \"&lt;p&gt;\" + item + \"&lt;/p&gt;\";\n            });\n            // Update the Div content\n            $(\"#role-details\").html(list);\n        }).fail(function (e) {\n            $(\"#role-details\").html(\"Error getting data\");\n            console.warn(e);\n        });\n    });\n\n})\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9938669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf75b029ed86e87751ae6556bbefe840?s=128&d=identicon&r=PG&f=1", "display_name": "Freestob", "link": "https://stackoverflow.com/users/9938669/freestob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566414055, "creation_date": 1566412308, "question_id": 57597425, "link": "https://stackoverflow.com/questions/57597425/generate-list-based-on-selected-option", "title": "Generate list based on selected option", "body": "<p>I'm trying to create a page for admins to create new users. When these users are created they will also have a role that they are assigned, and each of those roles will have a list of associated rights. The role will be selected from a dropdownlist of roles. After the role has been selected, but before the user has been created I want the list of associated roles to be displayed on the side of the form so they can see if the rights associated with that role are what they want.</p>\n\n<p>I'm not entirely sure how to approach this problem without reloading the entire page after selecting a role. I'm sure how to have a refresh on a div when the information changes</p>\n"}, {"tags": ["c#", "microsoft-graph-api"], "comments": [{"owner": {"reputation": 471, "user_id": 868297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/svgZ0.jpg?s=128&g=1", "display_name": "Jaybird", "link": "https://stackoverflow.com/users/868297/jaybird"}, "edited": false, "score": 0, "creation_date": 1566416050, "post_id": 57597350, "comment_id": 101653492, "body": "You could write a non generic method that takes the pagination object and determines the NextPageRequest object and call that from your generic method."}, {"owner": {"reputation": 361, "user_id": 1821133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46448955c9ddeb819648e6e8f37fdd85?s=128&d=identicon&r=PG", "display_name": "johnnyjob", "link": "https://stackoverflow.com/users/1821133/johnnyjob"}, "edited": false, "score": 1, "creation_date": 1566585685, "post_id": 57597350, "comment_id": 101716625, "body": "It looks like a good place to use C# <i>dynamic</i> keyword."}, {"owner": {"reputation": 2181, "user_id": 749349, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/C4NpT.jpg?s=128&g=1", "display_name": "zaq", "link": "https://stackoverflow.com/users/749349/zaq"}, "reply_to_user": {"reputation": 361, "user_id": 1821133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46448955c9ddeb819648e6e8f37fdd85?s=128&d=identicon&r=PG", "display_name": "johnnyjob", "link": "https://stackoverflow.com/users/1821133/johnnyjob"}, "edited": false, "score": 0, "creation_date": 1566590058, "post_id": 57597350, "comment_id": 101718003, "body": "That is an interesting idea @johnnyjob, I&#39;ve never used dynamic before."}], "answers": [{"comments": [{"owner": {"reputation": 2181, "user_id": 749349, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/C4NpT.jpg?s=128&g=1", "display_name": "zaq", "link": "https://stackoverflow.com/users/749349/zaq"}, "edited": false, "score": 0, "creation_date": 1567008865, "post_id": 57633967, "comment_id": 101837151, "body": "This is an interesting solution. I didn&#39;t end up implementing it due to concerns around understandably issues for other developers down the road but it does address the question as presented."}], "tags": [], "owner": {"reputation": 361, "user_id": 1821133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46448955c9ddeb819648e6e8f37fdd85?s=128&d=identicon&r=PG", "display_name": "johnnyjob", "link": "https://stackoverflow.com/users/1821133/johnnyjob"}, "is_accepted": true, "score": 1, "last_activity_date": 1566602280, "creation_date": 1566602280, "answer_id": 57633967, "question_id": 57597350, "link": "https://stackoverflow.com/questions/57597350/reducing-code-duplication-with-microsoft-graph-client-library/57633967#57633967", "title": "Reducing code duplication with Microsoft Graph Client Library", "body": "<p>Thanks to Microsoft Graph API architects, it looks like we can only get rid of such sort of redundancy either by using reflection or dynamics. Since dynamics, in theory, should provide better performance, here's a version of sample code based on them:</p>\n\n<pre><code>private void ProcessAllResultPages&lt;TResult, TItem&gt;(IBaseRequest request,\n                                                   Action&lt;TResult&gt; processorDelegate)\n                                                   where TResult : ICollectionPage&lt;TItem&gt;\n{\n    do\n    {\n        Task&lt;TResult&gt; task = ((dynamic)request).GetAsync();\n        processorDelegate(task.Result); // This will implicitly call Wait() on the task.\n        request = ((dynamic)task.Result).NextPageRequest;\n    } while (request != null);\n}\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre><code>IGraphServiceGroupsCollectionRequest request = graphServiceClient.Groups.Request().\n                                                                         Filter(...).\n                                                                         Select(...).\n                                                                         Top(pageSize);\nProcessAllResultPages&lt;IGraphServiceGroupsCollectionPage, Group&gt;(request,\n    result =&gt;\n    {\n        // Process page results here.\n    });\n</code></pre>\n"}], "owner": {"reputation": 2181, "user_id": 749349, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/C4NpT.jpg?s=128&g=1", "display_name": "zaq", "link": "https://stackoverflow.com/users/749349/zaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 57633967, "answer_count": 1, "score": 2, "last_activity_date": 1566602280, "creation_date": 1566412058, "last_edit_date": 1566451017, "question_id": 57597350, "link": "https://stackoverflow.com/questions/57597350/reducing-code-duplication-with-microsoft-graph-client-library", "title": "Reducing code duplication with Microsoft Graph Client Library", "body": "<p>I'm working on a class responsible for communicating with O365 using the Microsoft Graph Client Library. In each method, the call to NextPageRequest.GetAsync() is on a different type which also returns a different type, but otherwise the pagination logic is identical:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task&lt;List&lt;Microsoft.Graph.User&gt;&gt; FindAllUsers()\n{\n    var usersFound = new List&lt;Microsoft.Graph.User&gt;();\n    var usersPage = await GraphClient.Users.Request().GetAsync();\n    usersFound.AddRange(usersPage);\n    while (usersPage.NextPageRequest != null)\n    {\n        usersPage = await usersPage.NextPageRequest.GetAsync();\n        usersFound.AddRange(usersPage);\n    }\n    return usersFound;\n}\n\npublic async Task&lt;List&lt;Microsoft.Graph.Group&gt;&gt; FindAllGroups()\n{\n    var groupsFound = new List&lt;Microsoft.Graph.Group&gt;();\n    var groupsPage = await GraphClient.Groups.Request().GetAsync();\n    groupsFound.AddRange(groupsPage);\n    while (groupsPage.NextPageRequest != null)\n    {\n        groupsPage = await groupsPage.NextPageRequest.GetAsync();\n        groupsFound.AddRange(groupsPage);\n    }\n    return groupsFound;\n}\n\npublic async Task&lt;List&lt;Microsoft.Graph.User&gt;&gt; FindGroupMembers(string groupId)\n{\n    var usersFound = new List&lt;Microsoft.Graph.User&gt;();\n    var membersPage = await GraphClient.Groups[groupId].Members.Request().GetAsync();\n    usersFound.AddRange(membersPage.Where(d =&gt; d.ODataType.Equals(\"#microsoft.graph.user\")).Cast&lt;Microsoft.Graph.User&gt;());\n    while (membersPage.NextPageRequest != null)\n    {\n        membersPage = await membersPage.NextPageRequest.GetAsync();\n        usersFound.AddRange((List&lt;Microsoft.Graph.User&gt;)membersPage);\n    }\n    return usersFound;\n}\n</code></pre>\n\n<p>I would like to write generic method to reduce duplication, but in each of the above methods, the return type of GetAsync is a different interface that defines its own NextPageRequest property on itself. This makes it impossible to tell the generic method what specific type it will need to call NextPageRequest on so that the method can compile.</p>\n\n<p>Is there a way to improve upon this, or do I just need to accept the duplicated logic for each query type I want to implement?</p>\n"}, {"tags": ["c#", "algorithm"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 4, "creation_date": 1566412205, "post_id": 57597318, "comment_id": 101651833, "body": "SO is not a free code-writing service. This is for good reason, as people learn best by doing. Please show what you&#39;ve tried and, if you get stuck, let us know  what exactly you&#39;re stuck on."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1566412651, "post_id": 57597318, "comment_id": 101652019, "body": "@ Maryom You can find similar questions by searching for <code>[c#] tax table</code> here on SO."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1566413728, "post_id": 57597318, "comment_id": 101652464, "body": "@MaryomShehadeh There&#39;s a search box at the top of this page. Type <code>[c#] tax table</code> into that search box and press enter."}], "answers": [{"tags": [], "owner": {"reputation": 375, "user_id": 1914092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Suuu.png?s=128&g=1", "display_name": "Dicekey", "link": "https://stackoverflow.com/users/1914092/dicekey"}, "is_accepted": true, "score": 1, "last_activity_date": 1566591652, "creation_date": 1566591652, "answer_id": 57632584, "question_id": 57597318, "link": "https://stackoverflow.com/questions/57597318/how-to-calculate-the-overhead-of-an-amount/57632584#57632584", "title": "How to calculate the overhead of an amount", "body": "<p>Try this</p>\n\n<pre><code> public class OverheadAmountScale\n {\n    public string ScaleTitle { get; set; }\n\n    public decimal Value { get; set; }\n\n    public decimal Rate { get; set; }\n\n    public decimal OverHeadAmount\n    {\n        get\n        {\n            return decimal.Round(Value * Rate, 2, MidpointRounding.AwayFromZero);\n        }\n    } \n }\n\n\n static List&lt;OverheadAmountScale&gt; GetScales(decimal amount)\n    {\n        var amountScales = new List&lt;OverheadAmountScale&gt;();\n\n        const decimal TOP_THRESHOLD = 5000000m;\n        const decimal HIGH_THRESHOLD = 1000000m;\n        const decimal MEDIUM_THRESHOLD = 100000m;\n        const decimal LOW_THRESHOLD = 10000m;\n        const decimal BASE_THRESHOLD = 0m;\n\n\n        const decimal TOP_THRESHOLD_FACTOR = .03m;\n        const decimal HIGH_THRESHOLD_FACTOR = .049m;\n        const decimal MEDIUM_THRESHOLD_FACTOR = .06m;\n        const decimal LOW_THRESHOLD_FACTOR = .08m;\n        const decimal BASE_THRESHOLD_FACTOR = .13m;\n\n        decimal amountWorkingRange = amount;\n\n        decimal OverheadDue = 0;\n\n        if (amountWorkingRange &gt; TOP_THRESHOLD)\n        {\n            var lineOverheadTOP = amountWorkingRange - TOP_THRESHOLD;\n            amountScales.Add(\n            new OverheadAmountScale\n            {\n                ScaleTitle = $\"&gt;= ${(TOP_THRESHOLD + 1).RoundResultNoDecimal().ToString(\"N0\")}\",\n                Value = lineOverheadTOP,\n                Rate = TOP_THRESHOLD_FACTOR,\n            });\n            amountWorkingRange = TOP_THRESHOLD;\n            OverheadDue += lineOverheadTOP;\n\n        }\n        if (amountWorkingRange &gt; HIGH_THRESHOLD)\n        {\n            var lineOverheadHIGH = amountWorkingRange - HIGH_THRESHOLD;\n            amountScales.Add(\n             new OverheadAmountScale\n             {\n                 ScaleTitle = $\"${(HIGH_THRESHOLD.RoundResultNoDecimal() + 1).ToString(\"N0\")} - ${TOP_THRESHOLD.RoundResultNoDecimal().ToString(\"N0\")}\",\n                 Value = lineOverheadHIGH,\n                 Rate = HIGH_THRESHOLD_FACTOR,\n             });\n            OverheadDue += lineOverheadHIGH;\n            amountWorkingRange = HIGH_THRESHOLD;\n        }\n        if (amountWorkingRange &gt; MEDIUM_THRESHOLD)\n        {\n            var lineOverheadMEDIUM = amountWorkingRange - MEDIUM_THRESHOLD;\n            amountScales.Add(\n             new OverheadAmountScale\n             {\n                 ScaleTitle = $\"${(MEDIUM_THRESHOLD + 1).RoundResultNoDecimal().ToString(\"N0\")} - ${HIGH_THRESHOLD.RoundResultNoDecimal().ToString(\"N0\")}\",\n                 Value = lineOverheadMEDIUM,\n                 Rate = MEDIUM_THRESHOLD_FACTOR,\n             });\n            OverheadDue += lineOverheadMEDIUM;\n            amountWorkingRange = MEDIUM_THRESHOLD;\n        }\n        if (amountWorkingRange &gt; LOW_THRESHOLD)\n        {\n            var lineOverheadLOW = amountWorkingRange - LOW_THRESHOLD;\n            amountScales.Add(\n             new OverheadAmountScale\n             {\n                 ScaleTitle = $\"{(LOW_THRESHOLD + 1).RoundResultNoDecimal().ToString(\"N0\")} - ${MEDIUM_THRESHOLD.RoundResultNoDecimal().ToString(\"N0\")}\",\n                 Value = lineOverheadLOW,\n                 Rate = LOW_THRESHOLD_FACTOR,\n             });\n            OverheadDue += lineOverheadLOW;\n            amountWorkingRange = LOW_THRESHOLD;\n        }\n        if (amountWorkingRange &gt; BASE_THRESHOLD)\n        {\n            var lineOverheadBASE = amountWorkingRange - BASE_THRESHOLD;\n            amountScales.Add(\n              new OverheadAmountScale\n              {\n                  ScaleTitle = $\"&lt;= ${LOW_THRESHOLD.RoundResultNoDecimal().ToString(\"N0\")}\",\n                  Value = lineOverheadBASE,\n                  Rate = BASE_THRESHOLD_FACTOR,\n              });\n\n            OverheadDue += lineOverheadBASE;\n            amountWorkingRange = BASE_THRESHOLD;\n        }\n        return amountScales;\n    }\n} \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11958610, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBsrK9I7FKJnBx3iK16JYz8_JolC_BA75Xn8NgN7g=k-s128", "display_name": "Maryom Shehadeh", "link": "https://stackoverflow.com/users/11958610/maryom-shehadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57632584, "answer_count": 1, "score": -3, "last_activity_date": 1566591652, "creation_date": 1566411877, "last_edit_date": 1566412903, "question_id": 57597318, "link": "https://stackoverflow.com/questions/57597318/how-to-calculate-the-overhead-of-an-amount", "title": "How to calculate the overhead of an amount", "body": "<p>I would like an algorithm to calculate the overhead of an amount based on</p>\n\n<p>Scale table : </p>\n\n<ul>\n<li><p>&lt; $10,000  =>  13% </p></li>\n<li><p>$10,001 - $100,000  => 8% </p></li>\n<li><p>$100,001 - $1,000,000  => 6% </p></li>\n<li><p>$1,000,001 - $5,000,000  => 4.9% </p></li>\n<li><p>$5,000,000  => 3%</p></li>\n</ul>\n\n<blockquote>\n  <p>if user enters $6,000,000</p>\n  \n  <p>the expected output </p>\n  \n  <p>$10,000 * 13% = $1,300 </p>\n  \n  <p>$90,000 * 8% = $7,200</p>\n  \n  <p>$900,000 * 6% = $54,000 </p>\n  \n  <p>$4,000,000 * 4.9% = $196,000</p>\n  \n  <p>$2,000,000 * 3% =  $60,000</p>\n  \n  <p>------------------------ Total: $ $318,000</p>\n  \n  <p>if user enters $5,000</p>\n  \n  <p>the expected output </p>\n  \n  <p>$10,000 = $5,000 + 13% = $650</p>\n  \n  <p>$90,000 = 0 + 8% = $0</p>\n  \n  <p>$900,000 = 0 + 6% = $0</p>\n  \n  <p>$4,000,000 = 0 + 4.9% =  $0</p>\n  \n  <p>$2,000,000 = 0 + 3% =  $0</p>\n  \n  <p>--------------------------- Total = $650</p>\n</blockquote>\n\n<p>Here is the code I have had so far:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        Console.Write(\"Amount: $\");\n\n        var amount = 115000m;\n        var scales = ScaleCalculator.GetScales(amount);\n\n\n\n        Console.ReadKey();\n    } \n\n\n}\npublic class OverheadAmountScale\n{\n    public string ScaleTitle { get; set; }\n\n    public decimal Value { get; set; }\n\n    public decimal Rate { get; set; }\n\n    public decimal Amount\n    {\n        get\n        {\n            return decimal.Round(Value * Rate, 2, MidpointRounding.AwayFromZero);\n        }\n    }\n\n    public override string ToString()\n    {\n        return $\"${this.Value} * {this.Rate}% = ${this.Amount}\";\n    }\n}\npublic class Scale\n{\n\n    public decimal Value { get; set; } \n\n    public decimal Rate { get; set; } \n\n}\n\npublic static class ScaleCalculator\n{\n    public static List&lt;OverheadAmountScale&gt; GetScales(decimal amount)\n    {\n        var amountScales = new List&lt;OverheadAmountScale&gt;();\n\n        var scales = new List&lt;OverheadAmountScale&gt; {\n            new OverheadAmountScale { ScaleTitle =\"&lt; $10,000\", Value = 10000m, Rate = 0.13m },\n            new OverheadAmountScale {  ScaleTitle =\"$10,001 - $100,100\",Value = 90000m, Rate = 0.08m },\n            new OverheadAmountScale { ScaleTitle =\"$100,001 - $1,000,000\",  Value = 900000m, Rate = 0.06m },\n            new OverheadAmountScale { ScaleTitle =\"$1,000,001 - $4,000,000\", Value = 4000000m, Rate = 0.049m },\n            new OverheadAmountScale { ScaleTitle =\"&gt; $5,000,000\", Value = 5000000m, Rate = 0.03m }\n        };\n\n        var scaleAmounts = new List&lt;OverheadAmountScale&gt; {\n            new OverheadAmountScale { ScaleTitle =\"&lt; $10,000\", Value = 0, Rate = 0.13m },\n            new OverheadAmountScale { ScaleTitle =\"$10,001 - $100,100\", Value = 0, Rate = 0.08m },\n            new OverheadAmountScale { ScaleTitle =\"$100,001 - $1,000,000\", Value = 0, Rate = 0.06m },\n            new OverheadAmountScale { ScaleTitle =\"$1,000,001 - $4,000,000\", Value = 0, Rate = 0.049m },\n            new OverheadAmountScale { ScaleTitle =\"&gt; $5,000,000\", Value = 0, Rate = 0.03m }\n        };\n\n        if (amount &lt;= 0)\n        {\n            return scaleAmounts;\n        }\n\n\n        var accumelatedValue = 0m;\n        scales.ForEach(s =&gt; {\n            // when above limit value\n            if(amount &gt;= s.Value)\n            {\n                amountScales.Add(\n                    new OverheadAmountScale\n                    {\n                        ScaleTitle = s.ScaleTitle,\n                        Value = s.Value,\n                        Rate = s.Rate\n                    });\n                accumelatedValue += s.Value;\n            }\n            else\n            { \n                amountScales.Add(\n                  new OverheadAmountScale\n                  {\n                      ScaleTitle = s.ScaleTitle,\n                      Value = amount - accumelatedValue,\n                      Rate = s.Rate\n                  });\n            }\n        });\n\n        return amountScales;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "http", "iis", "timeout"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1566412801, "post_id": 57597298, "comment_id": 101652082, "body": "Probably best not to indicate (by bailing or otherwise) that you&#39;ve detected a nefarious actor, lest they try to find a way around your detection. A general 401 (Unauthorized) or something like that would be better."}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 1, "creation_date": 1566418252, "post_id": 57597298, "comment_id": 101654346, "body": "It seems you would need to keep the request &#39;alive&#39; on your end to keep the client waiting. Which would defeat the purpose of limiting the annoyance to your server."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1566441363, "post_id": 57597298, "comment_id": 101659610, "body": "Are you using ASP.NET? Or ASP.NET Core? Or something else?"}, {"owner": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "edited": false, "score": 0, "creation_date": 1566442218, "post_id": 57597298, "comment_id": 101659744, "body": "ASP.NET. I&#39;ve edited the original question to include my code. Basically, if the &#39;syntax&#39; of the url doesn&#39;t map to a transaction handler, instead of terminating with CompleteRequest() which terminates immediately, I&#39;d like to stall the response to slow the client down, but not in a way which will consume resources on my server."}], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "edited": false, "score": 0, "creation_date": 1566512653, "post_id": 57601635, "comment_id": 101690178, "body": "Actually my implementation is within an HttpModule so I think I have the framework to do something like you suggest. My only question with regard to going into an asynchronous delay is will this tie up a communications resource for the duration of the delay? I agree with you that the server-side resources of the delay are going to be minimal but I am concerned if a hacker throws hundreds of request simultaneously I could shoot myself in the foot by blocking not only the client, but the server as well from accepting new requests."}, {"owner": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "edited": false, "score": 0, "creation_date": 1566512909, "post_id": 57601635, "comment_id": 101690236, "body": "Perhaps my best bet is to terminate immediately with an ApplicationInstance.CompleteRequest() and a status of 406. (I&#39;ll let whomever try to figure out what to do with the 406. :-)"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "edited": false, "score": 0, "creation_date": 1566525727, "post_id": 57601635, "comment_id": 101692533, "body": "Ha! Sorry, I totally missed that you had your own <code>HttpModule</code> already. I was just looking at your <code>OnBeginRequest</code> and was thinking it was in your Global.asax. But yes, I do agree that you&#39;re better off getting rid of the request as soon as you can. There are limits to the maximum concurrent requests, which is configurable, but there still is a max. You can read about it <a href=\"https://blogs.msdn.microsoft.com/benjaminperkins/2011/11/14/modify-the-request-queue-limit-requestqueuelimit-or-queue-length-in-iis-7/\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 0, "last_activity_date": 1566446720, "last_edit_date": 1566446720, "creation_date": 1566444159, "answer_id": 57601635, "question_id": 57597298, "link": "https://stackoverflow.com/questions/57597298/can-i-terminate-http-transaction-on-server-without-sending-response-to-client/57601635#57601635", "title": "Can I Terminate HTTP transaction on server WITHOUT sending response to client?", "body": "<p>I think the best thing you can do is use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httprequest.abort\" rel=\"nofollow noreferrer\"><code>HttpRequest.Abort()</code></a>, which doesn't leave the client hanging, but it does immediately sever the TCP connection. Even the docs say it is for this kind of scenario:</p>\n\n<blockquote>\n  <p>You might use this method in response to an attack by a malicious HTTP client.</p>\n</blockquote>\n\n<p>You would use it like this:</p>\n\n<pre><code>ctx.Request.Abort();\n</code></pre>\n\n<p>In a browser, you see a \"connection reset\" error.</p>\n\n<p>Another option is to send back an unexpected HTTP status, like 400, or my personal favourite, <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/418\" rel=\"nofollow noreferrer\">418</a>.</p>\n\n<p><em>Update:</em> If you <em>reaaallly</em> want to make the client wait, you could implement your own <code>HttpModule</code> so that you can make an asynchronous <code>BeginRequest</code> event and then use <code>Task.Delay()</code>.</p>\n\n<p>The <code>HttpModule</code> class would look something like this:</p>\n\n<pre><code>public class AsyncHttpModule : IHttpModule {\n    public void Dispose() { }\n\n    public void Init(HttpApplication app) {\n        var wrapper = new EventHandlerTaskAsyncHelper(DoAsyncWork);\n        app.AddOnBeginRequestAsync(wrapper.BeginEventHandler, wrapper.EndEventHandler);\n    }\n\n    private async Task DoAsyncWork(object sender, EventArgs e) {\n        var app = (HttpApplication) sender;\n        var ctx = app.Context;\n\n        if (shouldDie) { //whatever your criteria is\n            await Task.Delay(60000); //wait for one minute\n            ctx.Request.Abort(); //kill the connection without replying\n        }\n    }\n}\n</code></pre>\n\n<p>Then add the module in your web.config (replace the namespace with your app's namespace):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;system.webServer&gt;\n  &lt;modules&gt;\n    &lt;add name=\"AsyncHttpModule\" type=\"MyNamespace.AsyncHttpModule\" /&gt;\n  &lt;/modules&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p>Since this is asynchronous, it is not holding up a thread while it waits. Other requests that come in will use the same thread (I tested this).</p>\n\n<p>However, it is still keeping the request context in memory, because the request is still in progress. So if they hit you with 1000+ requests, all of those 1000+ requests are held in memory for 60 seconds. Whereas if you just use <code>HttpRequest.Abort()</code> right away, those get removed from memory right away.</p>\n"}], "owner": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566512412, "creation_date": 1566411804, "last_edit_date": 1566512412, "question_id": 57597298, "link": "https://stackoverflow.com/questions/57597298/can-i-terminate-http-transaction-on-server-without-sending-response-to-client", "title": "Can I Terminate HTTP transaction on server WITHOUT sending response to client?", "body": "<p>I'm writing a public-facing transaction processor. Naturally, we run on https:// and the payload carries all relevant detail so we'll only process legitimate transactions. However, as a public interface, any number of nefarious actors will no doubt be throwing shade at my server if for no other reason than to just be annoying.</p>\n\n<p>When I detect such a request, is there anyway I can terminate processing at my end - not going to waste time on the transaction - but NOT send a response to the client? Basically, I'd like to force the nefarious clients into a timeout situation so that, if nothing else, it diminishes their capacity to annoy my server.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>public class Webhook : IHttpModule\n{\n    /// &lt;summary&gt;\n    /// You will need to configure this module in the Web.config file of your\n    /// web and register it with IIS before being able to use it. For more information\n    /// see the following link: http://go.microsoft.com/?linkid=8101007\n    /// &lt;/summary&gt;\n\n    private bool m_sslRequired = false;\n\n    #region IHttpModule Members\n    &lt;snip...&gt;\n    #endregion\n\n    private void OnBeginRequest(object sender, EventArgs e)\n    {\n        WriteTrace(\"Begin OnBeginRequest\");\n        HttpContext ctx = HttpContext.Current;\n\n        try\n        {\n            string processor = ctx.Request.Params[\"p\"];\n            if (processor != null &amp;&amp; processor != \"\")\n            {\n                PluginProcessor(processor, ctx);\n            }\n        }\n        catch (Exception ex)\n        {\n            ctx.Response.StatusCode = 500;\n            ctx.Response.Write(\"ERROR\");\n        }\n\n        ctx.ApplicationInstance.CompleteRequest();\n\n        WriteTrace(\"End OnBeginRequest\");\n    }\n\n    private void PluginProcessor(string processor, HttpContext ctx)\n    {\n        string pluginSpec = AppConfig.GetAppSetting(processor.Trim().ToLower());\n\n        if (pluginSpec != \"\")\n        {\n            IWebhookProcessor proc = CreateProcessor(pluginSpec, ctx);\n            proc.Process(ctx);\n        }\n    }\n\n    private IWebhookProcessor CreateProcessor(string Processor, HttpContext ctx)\n    {\n        string assembly;\n        string typeName;\n\n        typeName = Processor.Substring(0, Processor.IndexOf(\",\")).Trim();\n        assembly = Path.Combine(ctx.Request.PhysicalApplicationPath, \"bin\", Processor.Substring(Processor.IndexOf(\",\") + 1).Trim());\n\n        var obj = Activator.CreateInstanceFrom(assembly, typeName);\n\n        return (Interfaces.IWebhookProcessor)obj.Unwrap();\n    }\n}\n</code></pre>\n\n<p>So if the request doesn't map to a transaction handler, I'd like to 'hang' the client, but not in a way which will tie up resources on the server.</p>\n\n<p>Thanks for your advice!</p>\n"}, {"tags": ["c#", "php", "encryption", "openssl"], "comments": [{"owner": {"reputation": 1592, "user_id": 2443226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n91x9.jpg?s=128&g=1", "display_name": "Lars Stegelitz", "link": "https://stackoverflow.com/users/2443226/lars-stegelitz"}, "edited": false, "score": 0, "creation_date": 1566412977, "post_id": 57597230, "comment_id": 101652170, "body": "Hm... why are you using a hashed password to decrypt? Encryption didn&#39;t use a hashed password, did it?"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 1592, "user_id": 2443226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n91x9.jpg?s=128&g=1", "display_name": "Lars Stegelitz", "link": "https://stackoverflow.com/users/2443226/lars-stegelitz"}, "edited": false, "score": 0, "creation_date": 1566413645, "post_id": 57597230, "comment_id": 101652434, "body": "@LarsStegelitz it is hashed actually, that is how the <code>key</code> is set from <code>FIELDS_KEY </code>... I left out the two fields on accident in the <code>c#</code> code."}, {"owner": {"reputation": 1592, "user_id": 2443226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n91x9.jpg?s=128&g=1", "display_name": "Lars Stegelitz", "link": "https://stackoverflow.com/users/2443226/lars-stegelitz"}, "edited": false, "score": 0, "creation_date": 1566414488, "post_id": 57597230, "comment_id": 101652780, "body": "Well.. then what about the different Passwords? C# &quot;PASSWORDHERE&quot;, PHP &quot;somepassword&quot;..."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 1592, "user_id": 2443226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n91x9.jpg?s=128&g=1", "display_name": "Lars Stegelitz", "link": "https://stackoverflow.com/users/2443226/lars-stegelitz"}, "edited": false, "score": 0, "creation_date": 1566414745, "post_id": 57597230, "comment_id": 101652888, "body": "@LarsStegelitz Those are the same on my end, that is just for posting on a public site and <i>are not real</i>."}, {"owner": {"reputation": 17201, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 1, "creation_date": 1566415869, "post_id": 57597230, "comment_id": 101653400, "body": "In the current PHP-code, the <a href=\"https://www.php.net/manual/en/function.hash.php\" rel=\"nofollow noreferrer\"><code>hash</code></a>-method returns the result as a hexadecimal string. Since <a href=\"https://www.php.net/manual/en/function.openssl-decrypt.php\" rel=\"nofollow noreferrer\"><code>openssl_decrypt</code></a> expects binary data, this string has to be converted with <code>hex2bin</code> afterwards. Alternatively, the third parameter <code>$raw_output</code> in the <code>hash</code>-method can be set to <code>TRUE</code>, so that the result is returned <i>directly</i> as binary data."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 17201, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 0, "creation_date": 1566416545, "post_id": 57597230, "comment_id": 101653721, "body": "@Topaco thanks for the suggestions, I tried them, unfortunately they didn&#39;t work. The output is still an empty string."}, {"owner": {"reputation": 1592, "user_id": 2443226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n91x9.jpg?s=128&g=1", "display_name": "Lars Stegelitz", "link": "https://stackoverflow.com/users/2443226/lars-stegelitz"}, "edited": false, "score": 0, "creation_date": 1566416803, "post_id": 57597230, "comment_id": 101653824, "body": "Dream code... you show different code than what you actually have - chances are, that the &quot;dream code&quot; doesn&#39;t even have the specific problem you&#39;re asking for (had this in other forums). Please always post real code - copy &amp; paste.  Suggestion: Build encrypt and decrypt in BOTH languages. Once you can successfully do both in both languages, mix them (encrypt here, decrypt there). Maybe your C# code is faulty already? There are also websites where you can encrypt/decrypt - use these to verify the output of your routines.."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 1592, "user_id": 2443226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n91x9.jpg?s=128&g=1", "display_name": "Lars Stegelitz", "link": "https://stackoverflow.com/users/2443226/lars-stegelitz"}, "edited": false, "score": 0, "creation_date": 1566417012, "post_id": 57597230, "comment_id": 101653901, "body": "@LarsStegelitz The only difference is the arg names because that is where the actual password goes; it&#39;s all <i>real</i> code and I can successfully encrypt and decrypt in c#. The issue I am facing is the <code>openssl</code> decrypt in <code>php</code>, no errors, just nothing is returned. Also, I did try a few to <i>test</i> the encryption and decryption and surprisingly they work."}, {"owner": {"reputation": 17201, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 1, "creation_date": 1566417356, "post_id": 57597230, "comment_id": 101654027, "body": "Can&#39;t reproduce the issue. The code <code>https:&#47;&#47;pastebin.com&#47;JFCHqtLi</code> runs e.g. on <code>https:&#47;&#47;repl.it&#47;languages&#47;php_cli</code>"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 17201, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 1, "creation_date": 1566417704, "post_id": 57597230, "comment_id": 101654157, "body": "Holy smokes @Topaco that works! <code>$hashPassword = hash(&#39;sha256&#39;, $password, $raw_output = true);</code> the <code>$raw_output=true</code> did it; I just had <code>true</code> there! Thank you so much, if you create an answer I&#39;ll be glad to accept it, thanks again!"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "reply_to_user": {"reputation": 17201, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 1, "creation_date": 1566424274, "post_id": 57597230, "comment_id": 101656357, "body": "Remember @Topaco, comments may disappear but answers are forever. We like answers here, hint, hint ;)"}], "answers": [{"comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1566478820, "post_id": 57609925, "comment_id": 101675140, "body": "Thank you again, that was giving me a headache to be honest."}], "tags": [], "owner": {"reputation": 17201, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "is_accepted": true, "score": 1, "last_activity_date": 1566478751, "creation_date": 1566478751, "answer_id": 57609925, "question_id": 57597230, "link": "https://stackoverflow.com/questions/57597230/decryption-of-string-returning-empty/57609925#57609925", "title": "Decryption of string returning empty", "body": "<p>The <a href=\"https://www.php.net/manual/en/function.hash.php\" rel=\"nofollow noreferrer\"><code>hash</code></a>-method returns the result as a hexadecimal string in the current PHP-code. However, the <a href=\"https://www.php.net/manual/en/function.openssl-decrypt.php\" rel=\"nofollow noreferrer\"><code>openssl_decrypt</code></a>-method requires the key as binary data, so that a conversion e.g. with <a href=\"https://www.php.net/manual/en/function.hex2bin.php\" rel=\"nofollow noreferrer\"><code>hex2bin</code></a> is necessary:</p>\n\n<pre><code>$hashPassword = hex2bin(hash('sha256', $password));  \n</code></pre>\n\n<p>Alternatively, the 3rd parameter (<code>raw_output</code>) of the <a href=\"https://www.php.net/manual/en/function.hash.php\" rel=\"nofollow noreferrer\"><code>hash</code></a>-method can be set to <code>TRUE</code>. This returns the result <em>directly</em> as binary data:</p>\n\n<pre><code>$hashPassword = hash('sha256', $password, $raw_output = true);\n</code></pre>\n"}], "owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 57609925, "answer_count": 1, "score": -1, "last_activity_date": 1566478751, "creation_date": 1566411500, "last_edit_date": 1566413579, "question_id": 57597230, "link": "https://stackoverflow.com/questions/57597230/decryption-of-string-returning-empty", "title": "Decryption of string returning empty", "body": "<p>I am working with trying to decrypt a string using <code>openssl_decrypt</code>. For some reason or another no matter what I have tried, this always returns empty. Here is a little function I am working with; <strong>not production code</strong>.</p>\n\n<p><strong>PHP Code</strong></p>\n\n<pre><code>public function Decrypt($string)\n    {\n        $password = \"somepassword\";\n        $method = \"aes-256-cbc\";\n        $hashPassword = hash('sha256', $password);\n        $iv = chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0) . chr(0x0);\n\n        return openssl_decrypt(base64_decode($string), $method, $hashPassword, OPENSSL_RAW_DATA, $iv);\n\n    }\n</code></pre>\n\n<p>On another note, the encryption happens on <code>c#</code> side, using <code>Xamarin</code> to make web calls. Below is the encrypt function I am using currently.</p>\n\n<p><strong>C# Code</strong></p>\n\n<pre><code> private static readonly byte[] FIELDS_KEY = SHA256.Create().ComputeHash(Encoding.ASCII.GetBytes(\"PASSWORDHERE\"));\n private static readonly byte[] FIELDS_IV = new byte[16] { 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0 };\n\n\npublic static string EncryptString(string plainText)\n        {\n            // Instantiate a new Aes object to perform string symmetric encryption\n            Aes encryptor = Aes.Create();\n\n            encryptor.Mode = CipherMode.CBC;\n\n            // Set key and IV\n            byte[] aesKey = new byte[32];\n            Array.Copy(FIELDS_KEY, 0, aesKey, 0, 32);\n            encryptor.Key = aesKey;\n            encryptor.IV = FIELDS_IV;\n\n            // Instantiate a new MemoryStream object to contain the encrypted bytes\n            MemoryStream memoryStream = new MemoryStream();\n\n            // Instantiate a new encryptor from our Aes object\n            ICryptoTransform aesEncryptor = encryptor.CreateEncryptor();\n\n            // Instantiate a new CryptoStream object to process the data and write it to the \n            // memory stream\n            CryptoStream cryptoStream = new CryptoStream(memoryStream, aesEncryptor, CryptoStreamMode.Write);\n\n            // Convert the plainText string into a byte array\n            byte[] plainBytes = Encoding.ASCII.GetBytes(plainText);\n\n            // Encrypt the input plaintext string\n            cryptoStream.Write(plainBytes, 0, plainBytes.Length);\n\n            // Complete the encryption process\n            cryptoStream.FlushFinalBlock();\n\n            // Convert the encrypted data from a MemoryStream to a byte array\n            byte[] cipherBytes = memoryStream.ToArray();\n\n            // Close both the MemoryStream and the CryptoStream\n            memoryStream.Close();\n            cryptoStream.Close();\n\n            // Convert the encrypted byte array to a base64 encoded string\n            string cipherText = Convert.ToBase64String(cipherBytes, 0, cipherBytes.Length);\n\n            // Return the encrypted data as a string\n            return cipherText;\n        }\n</code></pre>\n\n<p>I am really not sure what I am missing here to be honest, when I check the password coming in, checked the hashed password and IV all seem to checkout from the encrypt side of the <code>c#</code> function.</p>\n"}, {"tags": ["c#", "android", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 4544422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f61be50577fb08bdcd9c91381b62034c?s=128&d=identicon&r=PG", "display_name": "ammar", "link": "https://stackoverflow.com/users/4544422/ammar"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416751, "creation_date": 1566416751, "answer_id": 57598296, "question_id": 57597223, "link": "https://stackoverflow.com/questions/57597223/getting-stuck-when-started-on-editor-with-no-any-logs-perhaps-because-of-time-s/57598296#57598296", "title": "getting stuck when started on editor with no any logs (perhaps because of time string parsing)", "body": "<p>I solved the problem by deleting the PlayerPrefs from both the editor and android device which has the wrong datetime string parse. hope this helps someone else.</p>\n"}], "owner": {"reputation": 68, "user_id": 4544422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f61be50577fb08bdcd9c91381b62034c?s=128&d=identicon&r=PG", "display_name": "ammar", "link": "https://stackoverflow.com/users/4544422/ammar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566416751, "creation_date": 1566411463, "last_edit_date": 1566411901, "question_id": 57597223, "link": "https://stackoverflow.com/questions/57597223/getting-stuck-when-started-on-editor-with-no-any-logs-perhaps-because-of-time-s", "title": "getting stuck when started on editor with no any logs (perhaps because of time string parsing)", "body": "<p>I'm making a 3D game on unity, and want to add the energy increasing functionality. </p>\n\n<p>I tried the below code which made my game stuck when trying to test on editor</p>\n\n<pre><code> void Start()\n{\n\n    // to calculate time since player left app to be used for energy increment\n    currentTime = DateTime.Now.ToString();\n    lastTime = PlayerPrefs.GetString(\"lastTime\", currentTime);\n    if (Application.platform == RuntimePlatform.Android || Application.platform == RuntimePlatform.IPhonePlayer)\n    {\n\n    timeDT = Convert.ToDateTime(currentTime , null);\n    CurrentTimeDT = Convert.ToDateTime(lastTime, null);\n    timeSpan = timeDT.Subtract(CurrentTimeDT);\n    timeDifference = int.Parse(timeSpan.TotalSeconds.ToString());\n\n    } else if (Application.platform == RuntimePlatform.WindowsEditor)\n    {\n        lastTime = lastTime.Substring(10);\n        currentTime = currentTime.Substring(10);\n    timeDT = DateTime.ParseExact(currentTime, \"h:mm:ss tt\" , null);\n    CurrentTimeDT = DateTime.ParseExact(lastTime,\"h:mm:ss tt\", null);\n    timeSpan = timeDT.Subtract(CurrentTimeDT);\n    timeDifference = int.Parse(timeSpan.TotalSeconds.ToString());\n    }\n    energy = PlayerPrefs.GetInt(\"energy\", 5); //get last saved energy\n    energy += Mathf.Abs(timeDifference / 300); //add one energy every 5 minutes since the player left app\n    if (energy &gt; 5) // the maximum energy amount\n    {\n        energy = 5;\n    }\n</code></pre>\n\n<p>I expected it to increase energy by 1 for each 5 minutes since the player left the game. But I got the unity program stuck with no any outputs. I tried building the game for android I got some logging from logcat.</p>\n\n<pre><code>08-21 04:15:52.153 1747-1760/? I/ActivityManager: START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.Serv4Me.SlidingBall/com.unity3d.player.UnityPlayerActivity bnds=[8,618][149,848]} from uid 1000 on display 0\n08-21 04:15:52.153 1747-1760/? V/WindowManager: addAppToken: AppWindowToken{2efb58cd token=Token{24ade64 ActivityRecord{c6b2ff7 u0 com.Serv4Me.SlidingBall/com.unity3d.player.UnityPlayerActivity t39}}} to stack=1 task=39 at 0\n08-21 04:15:52.157 2042-2042/? W/ContextImpl: Calling a method in the system process without a qualified user: android.app.ContextImpl.sendBroadcast:1341 android.content.ContextWrapper.sendBroadcast:382 com.vphone.launcher.Stats.recordLaunch:129 com.vphone.launcher.Launcher.c:3766 com.vphone.launcher.Launcher.onClickAppShortcut:3718 \n08-21 04:15:52.161 1747-1770/? V/WindowManager: Adding window Window{28d195fc u0 Starting com.Serv4Me.SlidingBall} at 3 of 6 (after Window{759b336 u0 com.vphone.launcher/com.vphone.launcher.Launcher})\n08-21 04:15:52.201 2042-2252/? W/ContextImpl: Calling a method in the system process without a qualified user: android.app.ContextImpl.bindService:1770 android.content.ContextWrapper.bindService:539 com.google.android.gms.common.stats.zza.zza:-1 com.google.android.gms.common.stats.zza.zza:-1 com.google.android.gms.ads.identifier.AdvertisingIdClient.zzc:-1 \n\n    --------- beginning of main\n08-21 04:15:52.202 2042-2042/? D/yeshen: launcher onpause\n08-21 04:15:52.231 1747-2657/? I/ActivityManager: Start proc 10837:com.Serv4Me.SlidingBall/u0a47 for activity com.Serv4Me.SlidingBall/com.unity3d.player.UnityPlayerActivity\n08-21 04:15:52.242 10837-10837/? D/houdini: [10837] Initialize library(version: 5.0.7b_x.48396 RELEASE)... successfully.\n08-21 04:15:52.543 10837-10837/? D/houdini: [10837] Added shared library /data/app/com.Serv4Me.SlidingBall-1/lib/arm/libmain.so for ClassLoader by Native Bridge.\n08-21 04:15:52.619 1747-2032/? V/WindowManager: Adding window Window{5e10f3d u0 com.Serv4Me.SlidingBall/com.unity3d.player.UnityPlayerActivity} at 3 of 7 (before Window{28d195fc u0 Starting com.Serv4Me.SlidingBall})\n08-21 04:15:52.654 1747-1760/? V/WindowManager: Adding window Window{3ef00883 u0 SurfaceView} at 3 of 8 (before Window{5e10f3d u0 com.Serv4Me.SlidingBall/com.unity3d.player.UnityPlayerActivity})\n08-21 04:15:52.728 1747-1770/? I/ActivityManager: Displayed com.Serv4Me.SlidingBall/com.unity3d.player.UnityPlayerActivity: +526ms\n08-21 04:15:52.728 1747-2034/? W/ContextImpl: Calling a method in the system process without a qualified user: android.app.ContextImpl.sendBroadcast:1327 com.android.server.InputMethodManagerService.hideCurrentInputLocked:1992 com.android.server.InputMethodManagerService.windowGainedFocus:2082 com.android.internal.view.IInputMethodManager$Stub.onTransact:221 com.android.server.InputMethodManagerService.onTransact:873 \n08-21 04:15:52.738 2042-2042/? D/yeshen: launcher onstop\n08-21 04:15:52.738 2042-2042/? D/Tinker.DefaultAppLike: onTrimMemory level:20\n08-21 04:15:52.741 2042-2277/? W/DebugConnManager: getNetworkInfo() on networkType 1\n08-21 04:15:52.823 10837-10855/? I/Unity: SystemInfo CPU = ARMv7 VFPv3 NEON, Cores = 2, Memory = 2022mb\n08-21 04:15:52.823 10837-10855/? I/Unity: SystemInfo ARM big.LITTLE configuration: 2 big (mask: 0x3), 0 little (mask: 0x0)\n08-21 04:15:52.825 10837-10855/? I/Unity: ApplicationInfo com.Serv4Me.SlidingBall version 1.0 build 52251d08-2db4-4bc0-b627-11ed2dc44951\n08-21 04:15:52.825 10837-10855/? I/Unity: Built from '2019.2/staging' branch, Version '2019.2.1f1 (ca4d5af0be6f)', Build type 'Release', Scripting Backend 'mono', CPU 'armeabi-v7a', Stripping 'Disabled'\n08-21 04:15:53.267 10837-10855/? E/EGL_emulation: [eglGetConfigAttrib] Bad attribute idx 12513\n08-21 04:15:53.267 10837-10855/? E/EGL_emulation: tid 10855: eglGetConfigAttrib(761): error 0x3004 (EGL_BAD_ATTRIBUTE)\n08-21 04:15:53.267 10837-10855/? E/EGL_emulation: [eglGetConfigAttrib] Bad attribute idx 12514\n08-21 04:15:53.267 10837-10855/? E/EGL_emulation: tid 10855: eglGetConfigAttrib(761): error 0x3004 (EGL_BAD_ATTRIBUTE)\n08-21 04:15:53.267 10837-10855/? E/EGL_emulation: [eglGetConfigAttrib] Bad attribute idx 1\n08-21 04:15:53.267 10837-10855/? E/EGL_emulation: tid 10855: eglGetConfigAttrib(761): error 0x3004 (EGL_BAD_ATTRIBUTE)\n08-21 04:15:53.307 10837-10855/? D/Unity:  GL_EXT_debug_marker GL_OES_EGL_image GL_OES_EGL_image_external GL_OES_depth24 GL_OES_depth32 GL_OES_element_index_uint GL_OES_texture_float GL_OES_texture_float_linear GL_OES_compressed_paletted_texture GL_OES_compressed_ETC1_RGB8_texture GL_OES_depth_texture GL_EXT_texture_format_BGRA8888 GL_APPLE_texture_format_BGRA8888 GL_OES_texture_half_float GL_EXT_robustness GL_OES_texture_half_float_linear GL_OES_packed_depth_stencil GL_OES_vertex_half_float GL_OES_texture_npot GL_OES_rgb8_rgba8 GL_EXT_color_buffer_float ANDROID_gles_max_version_3_1 GL_OES_vertex_array_object\n08-21 04:15:54.693 7816-7869/? E/PlayCommon: [290] afxf.d(308): Failed to connect to server for server timestamp: java.net.UnknownHostException: Unable to resolve host \"play.googleapis.com\": No address associated with hostname\n08-21 04:15:54.753 2690-2690/? W/ChimeraUtils: Non Chimera context\n08-21 04:15:54.845 7816-7869/? I/PlayCommon: [290] afxf.d(124): Connecting to server: https://play.googleapis.com/play/log?format=raw&amp;proto_v2=true\n08-21 04:15:54.847 7816-7869/? E/PlayCommon: [290] afxf.d(287): Failed to connect to server: java.net.UnknownHostException: Unable to resolve host \"play.googleapis.com\": No address associated with hostname\n08-21 04:15:58.283 1747-1817/? D/ConnectivityService: releasing NetworkRequest NetworkRequest [ id=58, legacyType=-1, [ Capabilities: INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED] ]\n08-21 04:15:58.290 2042-2344/? D/ConnectivityManager.CallbackHandler: CM callback handler got msg 524296\n08-21 04:15:58.902 1747-2032/? W/SensorService: sensor 00000000 already enabled in connection 0xa15fb460 (ignoring)\n</code></pre>\n"}, {"tags": ["c#", "angular", "asp.net-core", ".net-core"], "comments": [{"owner": {"reputation": 664, "user_id": 8351493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f51ee7d1ce3d03323a059cb2f53f01d?s=128&d=identicon&r=PG&f=1", "display_name": "Barkha", "link": "https://stackoverflow.com/users/8351493/barkha"}, "edited": false, "score": 0, "creation_date": 1566412872, "post_id": 57597215, "comment_id": 101652115, "body": "Have you checked value of currenAction before calling post? If you are using post to get values, you should pass data in body and not in params"}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "reply_to_user": {"reputation": 664, "user_id": 8351493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f51ee7d1ce3d03323a059cb2f53f01d?s=128&d=identicon&r=PG&f=1", "display_name": "Barkha", "link": "https://stackoverflow.com/users/8351493/barkha"}, "edited": false, "score": 0, "creation_date": 1566486152, "post_id": 57597215, "comment_id": 101679703, "body": "Any update...i still need help with this"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566412217, "post_id": 57597309, "comment_id": 101651840, "body": "thanks.. still getting an error of Cannot read property &#39;sessionId&#39; of undefined. wonder what i&#39;m missing"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 1, "creation_date": 1566412583, "post_id": 57597309, "comment_id": 101651994, "body": "@KoryJ.Campbell oh I got it, you don&#39;t even reach the controller side. But you will need to add this to controller too. on action component, did you check if this  this.currentAction is really assigned or is it null?"}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566412641, "post_id": 57597309, "comment_id": 101652014, "body": "yeah it seems that I may be missing something that I&#39;m not reaching the server."}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 1, "creation_date": 1566412733, "post_id": 57597309, "comment_id": 101652052, "body": "@KoryJ.Campbell on action component, did you check if this this.currentAction is really assigned or is it null?"}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566413605, "post_id": 57597309, "comment_id": 101652417, "body": "currentAction is returning as undefined"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566413934, "post_id": 57597309, "comment_id": 101652542, "body": "@KoryJ.Campbell yes. you need to assign it properly first."}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566413976, "post_id": 57597309, "comment_id": 101652562, "body": "&amp; what am I doing wrong above where it&#39;s not being assigned properly?"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566415296, "post_id": 57597309, "comment_id": 101653155, "body": "@kjamp I don&#39;t know what you do in the rest of your code, where do you set this currentAction.sessionId?"}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566415795, "post_id": 57597309, "comment_id": 101653371, "body": "I just updated the action service angular code and action .net core controller... but it&#39;s set from there"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566527114, "post_id": 57597309, "comment_id": 101692785, "body": "@kjamp if you upload that part of your code somewhere accessible, like github, I can take a look."}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566814350, "post_id": 57597309, "comment_id": 101761479, "body": "definitely could use the help thank you <a href=\"https://gist.github.com/KoryJCampbell/c57f7bc861d636a386023c4e55ed7624\" rel=\"nofollow noreferrer\">gist.github.com/KoryJCampbell/c57f7bc861d636a386023c4e55ed76&zwnj;&#8203;24</a>"}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566849686, "post_id": 57597309, "comment_id": 101777270, "body": "any luck? still stuck with this"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566921336, "post_id": 57597309, "comment_id": 101803620, "body": "hello @kjamp, I looked at your code and do not understand what are you trying to achieve with this part         this.currentActionSubscription = this.actionService.currentAction.subscribe(action =&gt; {           this.currentAction = action;         });"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566921477, "post_id": 57597309, "comment_id": 101803702, "body": "And, in the service, you are not assigning any value -&gt;here you define:  public currentAction: Observable&lt;Action&gt;; and here you assign in your constructor : this.currentAction = this.currentActionSubject.asObservable(); why do you use it as observable, just make a public parameter, and access it, create a method to share it if you don&#39;t want to make it accessable."}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566921572, "post_id": 57597309, "comment_id": 101803751, "body": "instead of public currentAction: Observable&lt;Action&gt; do public currentAction: Action"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566921619, "post_id": 57597309, "comment_id": 101803770, "body": "instead of  this.currentAction = this.currentActionSubject.asObservable(); do  this.currentAction = this.currentActionSubject.[what you need];"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566921746, "post_id": 57597309, "comment_id": 101803823, "body": "and create a method like GetAction():Action{ return this.currentAction;} in your actual code instead of  this.currentActionSubscription = this.actionService.currentAction.subscribe(action =&gt; {           this.currentAction = action;         }); do this.currentAction = this.actionService.GetAction(); and put a breakpoint on service to see if currentAction is null or not."}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1567009602, "post_id": 57597309, "comment_id": 101837472, "body": "hmm ok .... this helps but i have one last question.. i don&#39;t understand the this.currentActionSubject.[what you need]; part. I&#39;m unsure what goes in that array, and how to set it"}, {"owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1567013175, "post_id": 57597309, "comment_id": 101838933, "body": "Actually I did not notice that this part creates confusion, I just don&#39;t know do you need the entire object or just one property of the object, that is why I added this part, you can ignore if you need the object itself, but if you need student id for example, you can use like student.studentId."}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1567015594, "post_id": 57597309, "comment_id": 101839879, "body": "Yeah I would need the entire object... but it looks like I&#39;m getting errors in the service because it still is using actions as an observable"}], "tags": [], "owner": {"reputation": 150, "user_id": 10475213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hWSid-PwYDA/AAAAAAAAAAI/AAAAAAAAAzk/EvvFfxeT5IM/photo.jpg?sz=128", "display_name": "Arthur Cam", "link": "https://stackoverflow.com/users/10475213/arthur-cam"}, "is_accepted": false, "score": 1, "last_activity_date": 1566411838, "creation_date": 1566411838, "answer_id": 57597309, "question_id": 57597215, "link": "https://stackoverflow.com/questions/57597215/get-data-from-post-request-angular-net-core/57597309#57597309", "title": "Get Data From Post Request Angular/.NET Core", "body": "<p>add [FromBody] to controller side service, before the parameter. Post method pass parameters in body.</p>\n\n<p>like</p>\n\n<pre><code>ActionResponse LaunchAction([FromBody]string sessionId, [FromBody]Tag actionTag, [FromBody]ActionParams args, [FromBody]UserState userState);\n</code></pre>\n\n<p>I don't know why microsoft did not decide to do this default.</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566412333, "post_id": 57597364, "comment_id": 101651885, "body": "removed thanks for this tidbit. I&#39;m still getting my original error however"}], "tags": [], "owner": {"reputation": 664, "user_id": 8351493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f51ee7d1ce3d03323a059cb2f53f01d?s=128&d=identicon&r=PG&f=1", "display_name": "Barkha", "link": "https://stackoverflow.com/users/8351493/barkha"}, "is_accepted": false, "score": 0, "last_activity_date": 1566412100, "creation_date": 1566412100, "answer_id": 57597364, "question_id": 57597215, "link": "https://stackoverflow.com/questions/57597215/get-data-from-post-request-angular-net-core/57597364#57597364", "title": "Get Data From Post Request Angular/.NET Core", "body": "<p>You should remove {} from data: {}\nBy doing this you are assigning an empty object to that </p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566413649, "post_id": 57597561, "comment_id": 101652437, "body": "I believe this may help, but my issue is probably because of this.currentAction returning as undefined?"}, {"owner": {"reputation": 64, "user_id": 9790414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jbaeha", "link": "https://stackoverflow.com/users/9790414/jbaeha"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566414893, "post_id": 57597561, "comment_id": 101652949, "body": "it could be. It&#39;s not clear from the code snippet that you provided, whether you have assign currentAction  or not"}, {"owner": {"reputation": 64, "user_id": 9790414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jbaeha", "link": "https://stackoverflow.com/users/9790414/jbaeha"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566415888, "post_id": 57597561, "comment_id": 101653408, "body": "based from the updated code snippet that you provided, the value of currentAction seems to be null when you pass it to Action Service.You&#39;ll need to assign the value of currentAction before you call this.getActions() in ngOnInit"}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566415944, "post_id": 57597561, "comment_id": 101653429, "body": "just updated the code; but I think it would be assigned in the service or am I wrong? I thought I did that assignment in the service"}, {"owner": {"reputation": 64, "user_id": 9790414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jbaeha", "link": "https://stackoverflow.com/users/9790414/jbaeha"}, "reply_to_user": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566416498, "post_id": 57597561, "comment_id": 101653696, "body": "I don&#39;t think you ever assign this value anywhere in your Action Component&#39;s code. So technically you pass a null object in when you call getActions().  In the Action Service&#39;s code you actually try to read the value of currentAction as request body to your .Net Core server. But because currentAction null, the console print that error."}, {"owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "edited": false, "score": 0, "creation_date": 1566437586, "post_id": 57597561, "comment_id": 101659024, "body": "So i looked through my code and I thought I assigned value to currentActions in the getActions public function.... the data source would be from the getActions function? subscription"}], "tags": [], "owner": {"reputation": 64, "user_id": 9790414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jbaeha", "link": "https://stackoverflow.com/users/9790414/jbaeha"}, "is_accepted": false, "score": 0, "last_activity_date": 1566412969, "creation_date": 1566412969, "answer_id": 57597561, "question_id": 57597215, "link": "https://stackoverflow.com/questions/57597215/get-data-from-post-request-angular-net-core/57597561#57597561", "title": "Get Data From Post Request Angular/.NET Core", "body": "<p>What if you remove the \"params\" word from your angular http post call ?</p>\n\n<p>So the http post call is this instead</p>\n\n<pre><code>return this.http.post&lt;Action[]&gt;(this.apiURL + '/actions/launchactions', \n     {\n        sessionId: action.sessionId,\n        tag: action.actionTag,\n        actionParams: action.actionParams\n     })\n    .pipe(\n      retry(1),\n      catchError(this.handleError)\n    );\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5091483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47941a4750bb6e438805a672ba15ce05?s=128&d=identicon&r=PG&f=1", "display_name": "kjamp", "link": "https://stackoverflow.com/users/5091483/kjamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1333, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1566479525, "creation_date": 1566411434, "last_edit_date": 1566415762, "question_id": 57597215, "link": "https://stackoverflow.com/questions/57597215/get-data-from-post-request-angular-net-core", "title": "Get Data From Post Request Angular/.NET Core", "body": "<p>I'm having trouble getting a JSON response from a POST Request from my .Net Core server. In essence I would be using this POST request like a GET request from the server. I believe I'm passing in the correct headers, however, in my console error I'm getting</p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 'sessionId' of undefined</p>\n</blockquote>\n\n<p>I suspect it's something that has to do with the type and/or model. Or possibly how I'm calling it in the service. If I need to add anything for clarification, lmk.</p>\n\n<p><em>.NET CORE Server Code</em></p>\n\n<p><strong>Action.Dto</strong></p>\n\n<pre><code>{\npublic class ActionDto\n{\n    public string SessionId { get; set; }\n    public Tag ActionTag { get; set; }\n    public ActionParams Args { get; set; }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>ActionService.cs</strong></p>\n\n<pre><code>    {\n    ActionResponse LaunchAction(string sessionId, Tag actionTag, ActionParams args, UserState userState);\n}\n</code></pre>\n\n<p><strong>Action Controller</strong> </p>\n\n<pre><code> public IActionResult LaunchAction([FromBody]ActionDto launchActionParameters)\n    {\n        var sessionId = launchActionParameters.SessionId;\n        var actionTag = launchActionParameters.ActionTag;\n        var args = launchActionParameters.Args;\n        UserState userState = null;\n        RunAction runAction = null;\n</code></pre>\n\n<p><em>Angular Client Code</em></p>\n\n<p><strong>Action Component</strong></p>\n\n<pre><code>       export interface ActionView {\n  actionName: string;\n  actionType: string;\n  primaryTable: string;\n  specialUse: string;\n  folder: string;\n  actionDescription: string;\n  actionTag: number;\n  chartType: string;\n  priority: number;\n}\n\nconst ACTION_DATA: ActionView[] = [];\n\n@Component({\n  templateUrl: 'home.component.html'\n})\nexport class HomeComponent implements OnInit, OnDestroy {\n\n    // User Fields\n    currentUser: User;\n    users: User[] = [];\n    currentUserSubscription: Subscription;\n\n    // Action Fields\n    currentAction: Action;\n    actions: Action[]  = [];\n\n\n    displayedColumns: string[] =\n    ['actionName', 'actionType', 'primaryTable', 'specialUse',\n    'folder', 'actionDescription', 'actionTag', 'chartType',\n     'priority'];\n\n    dataSource: any = new MatTableDataSource(ACTION_DATA);\n\n    constructor(\n        private authenticationService: AuthenticationService,\n        private iconRegistry: MatIconRegistry,\n        private sanitizer: DomSanitizer,\n        private httpClient: HttpClient,\n        private actionService: ActionService\n    ) {\n        this.currentUserSubscription = this.authenticationService.currentUser.subscribe(user =&gt; {\n            this.currentUser = user;\n        });\n        this.iconRegistry.addSvgIcon(\n          'thumbs-up',\n         this.sanitizer.bypassSecurityTrustResourceUrl('assets/img/examples/thumbup-icon.svg'));\n    }\n\n    @ViewChild(MatSort) sort: MatSort;\n\n   public getActions() {\n      console.log('test');\n\n      this.actionService.getActions(\n        this.currentAction).subscribe((data) =&gt; {\n          this.dataSource = data;\n        });\n    }\n\n    ngOnInit() {\n      this.dataSource.sort = this.sort;\n      this.getActions();\n    }\n\n    ngOnDestroy() {\n        // unsubscribe to ensure no memory leaks\n        this.currentUserSubscription.unsubscribe();\n    }\n}\n</code></pre>\n\n<p><strong>Action Service</strong></p>\n\n<pre><code>@Injectable({ providedIn: 'root' })\nexport class ActionService {\n\n  public apiURL = 'http://localhost:15217/api';\n  public currentUser: Observable&lt;User&gt;;\n  public currentAction: Observable&lt;Action&gt;;\n\n    constructor(private http: HttpClient) { }\n      // Http Options\n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n  getActions(action: Action): Observable&lt;Action[]&gt; {\n    return this.http.post&lt;Action[]&gt;(this.apiURL + '/actions/launchactions',\n    {\n        sessionId: action.sessionId,\n        tag: action.actionTag,\n        actionParams: action.actionParams\n     })\n    .pipe(\n      retry(1),\n      catchError(this.handleError)\n    );\n  }\n\n    // Error handling\n    handleError(error: any) {\n      let errorMessage = '';\n      if (error.error instanceof ErrorEvent) {\n        // Get client-side error\n        errorMessage = error.error.message;\n      } else {\n        // Get server-side error\n        errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n      }\n      window.alert(errorMessage);\n      return throwError(errorMessage);\n   }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "edited": false, "score": 0, "creation_date": 1566411562, "post_id": 57597161, "comment_id": 101651589, "body": "Yikes! I typo&#39;d. You are right and the numDistributions was wrong too! Edited and corrected. Thx."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1566411640, "post_id": 57597161, "comment_id": 101651619, "body": "I would probably go with <code>List&lt;float&gt;</code> as you only need two decimal places"}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1566411797, "post_id": 57597161, "comment_id": 101651682, "body": "What if the amount is 2.7? Do you expect the last distribution to be n.2 or n.5? You say <i>&quot;as evenly as possible&quot;</i>"}, {"owner": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "edited": false, "score": 1, "creation_date": 1566411865, "post_id": 57597161, "comment_id": 101651710, "body": "In the very first line I state that the input is guaranteed to be n.0 or n.5"}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1566411934, "post_id": 57597161, "comment_id": 101651738, "body": "Oh gotcha. Glossed over that. Thanks"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566423470, "post_id": 57597161, "comment_id": 101656164, "body": "The easiest way is use integers and then use 5 * ( x / 5).  Finally divide by 10."}], "answers": [{"comments": [{"owner": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "edited": false, "score": 0, "creation_date": 1566412135, "post_id": 57597265, "comment_id": 101651809, "body": "There is only a single (decimal) input amount provided along with the number of distributions needed (int). I&#39;m still trying to wrap my head around your logic. :S"}], "tags": [], "owner": {"reputation": 19714, "user_id": 340819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b3de81e79b2ad88d9a0d8d0a011a7f00?s=128&d=identicon&r=PG", "display_name": "Hammerite", "link": "https://stackoverflow.com/users/340819/hammerite"}, "is_accepted": false, "score": 0, "last_activity_date": 1566411690, "creation_date": 1566411690, "answer_id": 57597265, "question_id": 57597161, "link": "https://stackoverflow.com/questions/57597161/how-to-distribute-a-decimal-by-5-as-evenly-as-possible-with-no-rounding/57597265#57597265", "title": "How to distribute a decimal by .5 as evenly as possible with no rounding", "body": "<p>If you find the total of the numbers you're given and divide by the number of outputs required, you get the mean that's needed. If you divide this mean value by one-half (equivalently: multiply it by 2), take the floor of the result, and then multiply the result of that by one-half, you get the smaller of the two distinct numbers that need to be in your output list. It is simple from there to work out how many of the output numbers need to be increased by one-half.</p>\n"}, {"comments": [{"owner": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "edited": false, "score": 0, "creation_date": 1566411966, "post_id": 57597266, "comment_id": 101651741, "body": "There is only a single decimal amount provided as input. I think I&#39;m seeing how your logic would work though."}], "tags": [], "owner": {"reputation": 183, "user_id": 7757852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08f8ced3b37734762099205331ad37a?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy-Xavier Robillard", "link": "https://stackoverflow.com/users/7757852/tommy-xavier-robillard"}, "is_accepted": false, "score": 0, "last_activity_date": 1566411694, "creation_date": 1566411694, "answer_id": 57597266, "question_id": 57597161, "link": "https://stackoverflow.com/questions/57597161/how-to-distribute-a-decimal-by-5-as-evenly-as-possible-with-no-rounding/57597266#57597266", "title": "How to distribute a decimal by .5 as evenly as possible with no rounding", "body": "<p>Just multiply every number by two, and then distribute them evenly by increments of 1 in a for loop until your total is 0. Divide the result by 2. (Or just do it with floats, but you might get rounding errors)</p>\n"}, {"comments": [{"owner": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "edited": false, "score": 0, "creation_date": 1566443433, "post_id": 57598442, "comment_id": 101659931, "body": "This is very close to working for me. More times than not it succeeds. But I&#39;ve been trying to figure out how to fix it for <code>amount=9</code> and <code>numDistributions=5</code> (for example). Do you see why the code doesn&#39;t work with these inputs?"}, {"owner": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "edited": false, "score": 0, "creation_date": 1566444464, "post_id": 57598442, "comment_id": 101660091, "body": "Another example of inputs that don&#39;t work is <code>amount=999.5</code> and <code>numDistributions=5</code>"}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "reply_to_user": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "edited": false, "score": 0, "creation_date": 1566481465, "post_id": 57598442, "comment_id": 101676815, "body": "See the update.  I wasn&#39;t sure what your output needed to be for 9 and 5.  This code produces 2, 2, 2, 1.5, 1.5"}], "tags": [], "owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "is_accepted": true, "score": 2, "last_activity_date": 1566481410, "last_edit_date": 1566481410, "creation_date": 1566417462, "answer_id": 57598442, "question_id": 57597161, "link": "https://stackoverflow.com/questions/57597161/how-to-distribute-a-decimal-by-5-as-evenly-as-possible-with-no-rounding/57598442#57598442", "title": "How to distribute a decimal by .5 as evenly as possible with no rounding", "body": "<p>I would just divide the input amount by the number of distributions, ignoring any remainder and use that as the base value.  Then take the remainder and subtract 0.5 for each distribution until it is gone.  Something like this:</p>\n\n<pre><code>private List&lt;decimal&gt; DistributeEvenly(decimal amount, int numDistributions)\n{\n    var result = new List&lt;decimal&gt;();\n\n    //Determines the whole number part of each distribution\n    decimal baseValue = (int)(amount / numDistributions);\n\n    //Fill the list with the baseValue, numDistributions times\n    result.AddRange(Enumerable.Repeat(baseValue, numDistributions));\n\n    //The remainder will be distributed in amounts of 0.5 until it runs out\n    decimal remainder = amount - (baseValue * numDistributions);\n\n    int index = 0;\n\n    while (remainder &gt; 0)\n    {\n        result[index] += 0.5m;\n        index++;\n        if (index &gt;= numDistributions)\n        {\n            index = 0;\n        }\n\n        remainder -= 0.5m;\n    }\n\n    return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 5348, "user_id": 1357113, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7bdb1955c5c31b90536a81dba8260198?s=128&d=identicon&r=PG", "display_name": "rwkiii", "link": "https://stackoverflow.com/users/1357113/rwkiii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 57598442, "answer_count": 3, "score": -1, "last_activity_date": 1566481410, "creation_date": 1566411236, "last_edit_date": 1566411787, "question_id": 57597161, "link": "https://stackoverflow.com/questions/57597161/how-to-distribute-a-decimal-by-5-as-evenly-as-possible-with-no-rounding", "title": "How to distribute a decimal by .5 as evenly as possible with no rounding", "body": "<p>I have an input number that is guaranteed to be specified as <strong><em>n</em></strong>.0 or <strong><em>n</em></strong>.5</p>\n\n<p>Example inputs (only a single input is provided):</p>\n\n<pre><code>    0\n    0.5\n   13.0\n   13.5\n13337.5\n28091.0\n</code></pre>\n\n<p>I need to distribute this number by <strong><em>n</em></strong> values so that all values total the input exactly, but all values must be <strong><em>n</em></strong>.0 or <strong><em>n</em></strong>.5 with NO rounding allowed.</p>\n\n<p>For example, if 13.5 is input and needs to be distributed between 4, the resulting values would be:</p>\n\n<pre><code>3.5\n3.5\n3.5\n3.0\n</code></pre>\n\n<p>Another example, if 1.0 is specified and needs to be distributed between 4, the resulting values would be:</p>\n\n<pre><code>0.5\n0.5\n0.0\n0.0\n</code></pre>\n\n<p>I'm thinking the function signature would look similar to:</p>\n\n<pre><code>private List&lt;decimal&gt; DistributeEvenly(decimal amount, int numDistributions) \n{\n    ...\n}\n</code></pre>\n\n<p>I do find examples of how to distribute numbers evenly, but not with the <strong><em>n</em></strong>.0 and <strong><em>n</em></strong>.5 requirement and also not without rounding. How can this be accomplished?</p>\n"}, {"tags": ["c#", "asp.net-core", "powerbi", "msal", "powerbi-embedded"], "comments": [{"owner": {"reputation": 1505, "user_id": 2162330, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1zDX6.jpg?s=128&g=1", "display_name": "TiagoBrenck", "link": "https://stackoverflow.com/users/2162330/tiagobrenck"}, "edited": false, "score": 0, "creation_date": 1566415592, "post_id": 57597155, "comment_id": 101653279, "body": "Is there any useful information under <i>See details</i> link on the error page?"}, {"owner": {"reputation": 560, "user_id": 2766752, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c5bce3908119e55f5b0cbdb35ea75a06?s=128&d=identicon&r=PG", "display_name": "DJ Grossman", "link": "https://stackoverflow.com/users/2766752/dj-grossman"}, "reply_to_user": {"reputation": 1505, "user_id": 2162330, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1zDX6.jpg?s=128&g=1", "display_name": "TiagoBrenck", "link": "https://stackoverflow.com/users/2162330/tiagobrenck"}, "edited": false, "score": 0, "creation_date": 1566415718, "post_id": 57597155, "comment_id": 101653331, "body": "Nope, nothing worth sharing. Just some GUIDs I could send to Microsoft in a support ticket if I&#39;d like to (which I have, but am also exploring this avenue for help simultaneously)."}], "answers": [{"tags": [], "owner": {"reputation": 560, "user_id": 2766752, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c5bce3908119e55f5b0cbdb35ea75a06?s=128&d=identicon&r=PG", "display_name": "DJ Grossman", "link": "https://stackoverflow.com/users/2766752/dj-grossman"}, "is_accepted": false, "score": 1, "last_activity_date": 1569440456, "creation_date": 1569440456, "answer_id": 58105496, "question_id": 57597155, "link": "https://stackoverflow.com/questions/57597155/we-couldnt-retrieve-the-real-time-tile-history-when-using-iconfidentialclient/58105496#58105496", "title": "&quot;We couldn&#39;t retrieve the real-time tile history&quot; when using IConfidentialClientApplication WithClientSecret()", "body": "<p>I worked with Microsoft on this and after consulting with their product team, they told me that currently, streaming tiles are not supported in Service Principal (which is the technology behind the Client Secret methodology).</p>\n"}], "owner": {"reputation": 560, "user_id": 2766752, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c5bce3908119e55f5b0cbdb35ea75a06?s=128&d=identicon&r=PG", "display_name": "DJ Grossman", "link": "https://stackoverflow.com/users/2766752/dj-grossman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569440456, "creation_date": 1566411208, "last_edit_date": 1566415855, "question_id": 57597155, "link": "https://stackoverflow.com/questions/57597155/we-couldnt-retrieve-the-real-time-tile-history-when-using-iconfidentialclient", "title": "&quot;We couldn&#39;t retrieve the real-time tile history&quot; when using IConfidentialClientApplication WithClientSecret()", "body": "<p>I am experimenting with the app owns data (or \"embedding for your customers\") model for Power BI. I have set up a very basic test workspace with a real-time streaming dataset (with historic data analysis enabled, so it is actually push-streaming) and created a dashboard with a single tile to display the past minute of what that dataset has received. I believed I had been quite thorough in setting up the app in Azure and Power BI, granting it permissions, etc., but I appear to have missed something.</p>\n\n<p>I am using the Microsoft Authentication Library (<a href=\"https://www.nuget.org/packages/Microsoft.Identity.Client/\" rel=\"nofollow noreferrer\">Microsoft.Identity.Client</a>) and Microsoft Power BI API (<a href=\"https://www.nuget.org/packages/Microsoft.PowerBI.Api/\" rel=\"nofollow noreferrer\">Microsoft.PowerBI.Api</a>) in my ASP.NET Core 2.2 web application and am able to embed this dashboard and see the tile update in real-time if I use the <code>IPublicClientApplication AcquireTokenByUsernamePassword()</code> methodology for obtaining my access token:</p>\n\n<pre><code>using (SecureString securePassword = new SecureString())\n{\n    IPublicClientApplication publicClientApplication = PublicClientApplicationBuilder\n        .Create(\"MY-APPLICATION-ID\")\n        .WithAuthority(Path.Combine(\"https://login.microsoftonline.com/\", \"MY-TENANT-ID\"))\n        .Build();\n    string[] scopesDefault = new[] { Path.Combine(\"https://analysis.windows.net/powerbi/api/\", \".default\") };\n    \"MY-PASSWORD\".ToList().ForEach(x =&gt; securePassword.AppendChar(x));\n    AuthenticationResult authenticationResult = await publicClientApplication\n        .AcquireTokenByUsernamePassword(scopesDefault, \"MY-USERNAME\", securePassword).ExecuteAsync();\n    string accessToken = authenticationResult.AccessToken;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/bqXz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bqXz1.png\" alt=\"Working tile\"></a></p>\n\n<p>However, if I switch to the <code>IConfidentialClientApplication WithClientSecret()</code> methodology for obtaining my access token, which is preferred for security reasons, that same tile errors out like this (and there is no helpful information if I click \"See details\"):</p>\n\n<pre><code>IConfidentialClientApplication confidentialClientApplication = ConfidentialClientApplicationBuilder\n    .Create(\"MY-APPLICATION-ID\")\n    .WithClientSecret(\"MY-CLIENT-SECRET\")\n    .WithAuthority(Path.Combine(\"https://login.microsoftonline.com/\", \"MY-TENANT-ID\"))\n    .Build();\nstring[] scopesDefault = new[] { Path.Combine(\"https://analysis.windows.net/powerbi/api/\", \".default\") };\nAuthenticationResult authenticationResult = await confidentialClientApplication\n    .AcquireTokenForClient(scopesDefault).ExecuteAsync();\nstring accessToken = authenticationResult.AccessToken;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/FuBhS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FuBhS.png\" alt=\"Errored tile\"></a></p>\n\n<p>Curiously, pinned report visuals for this same real-time dataset show up just fine on this dashboard regardless of the authentication methodology I employ.</p>\n\n<p><strong>What must I do to get that tile to work with the <code>IConfidentialClientApplication WithClientSecret()</code> methodology so I don't have to use a username and password?</strong></p>\n"}, {"tags": ["c#", "winforms", "oledbconnection", "executenonquery"], "comments": [{"owner": {"reputation": 3083, "user_id": 1252303, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PcnRs.jpg?s=128&g=1", "display_name": "Saman Gholami", "link": "https://stackoverflow.com/users/1252303/saman-gholami"}, "edited": false, "score": 0, "creation_date": 1566411631, "post_id": 57597122, "comment_id": 101651616, "body": "Could you put the code related to <code>Module</code> class?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1566412348, "post_id": 57597122, "comment_id": 101651893, "body": "Don&#39;t leave your connections open like that.  Put those disposable objects into a using-block.  Use parameters to avoid sql injection and formatting errors."}, {"owner": {"reputation": 1, "user_id": 11071049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GN9Un9cRKts/AAAAAAAAAAI/AAAAAAAAAIk/s3TnWEl7WbQ/photo.jpg?sz=128", "display_name": "Andrea Alfo", "link": "https://stackoverflow.com/users/11071049/andrea-alfo"}, "edited": false, "score": 0, "creation_date": 1566413839, "post_id": 57597122, "comment_id": 101652511, "body": "@ Saman:using System; using System.Collections.Generic; using System.Linq; using System.Text; using System.Threading.Tasks; using System.Data.OleDb;  namespace Geraetverleich {    public class Module     {         public static OleDbConnection con = new OleDbConnection(&quot;Provider=MICROSOFT.ACE.OLEDB.12.0; Data Source=|DataDirectory|/Geraetverleih.accdb&quot;);     } }"}, {"owner": {"reputation": 1, "user_id": 11071049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GN9Un9cRKts/AAAAAAAAAAI/AAAAAAAAAIk/s3TnWEl7WbQ/photo.jpg?sz=128", "display_name": "Andrea Alfo", "link": "https://stackoverflow.com/users/11071049/andrea-alfo"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1566413929, "post_id": 57597122, "comment_id": 101652539, "body": "@Lars, but where is this opened? I thougt I&#39;m closing it with &quot;Module.con.Close(); or not?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1566415252, "post_id": 57597122, "comment_id": 101653134, "body": "You aren&#39;t closing it <code>if (lblGeraetid.Text == &quot;MaschineID&quot; ...</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3083, "user_id": 1252303, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PcnRs.jpg?s=128&g=1", "display_name": "Saman Gholami", "link": "https://stackoverflow.com/users/1252303/saman-gholami"}, "edited": false, "score": 0, "creation_date": 1566411883, "post_id": 57597285, "comment_id": 101651724, "body": "Could you say something about your solution? Just another connection is opened!"}, {"owner": {"reputation": 1, "user_id": 11071049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GN9Un9cRKts/AAAAAAAAAAI/AAAAAAAAAIk/s3TnWEl7WbQ/photo.jpg?sz=128", "display_name": "Andrea Alfo", "link": "https://stackoverflow.com/users/11071049/andrea-alfo"}, "reply_to_user": {"reputation": 3083, "user_id": 1252303, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PcnRs.jpg?s=128&g=1", "display_name": "Saman Gholami", "link": "https://stackoverflow.com/users/1252303/saman-gholami"}, "edited": false, "score": 0, "creation_date": 1566414001, "post_id": 57597285, "comment_id": 101652569, "body": "@SamanGholami, I&#39;ve already try with:  public static OleDbConnection ConnectTo()         {          //1. Objekt Verbindung erstellen              OleDbConnection Verbindung = new OleDbConnection(@&quot;Provider=Microsoft.ACE.OLEDB.12.0;Data Source=&quot;+ Application.StartupPath +&quot;\\\\Geraetverleih.accdb&quot;);             return Verbindung; }           and the connection in the query replacing the use of the class Module but I get the same error."}, {"owner": {"reputation": 1, "user_id": 11071049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GN9Un9cRKts/AAAAAAAAAAI/AAAAAAAAAIk/s3TnWEl7WbQ/photo.jpg?sz=128", "display_name": "Andrea Alfo", "link": "https://stackoverflow.com/users/11071049/andrea-alfo"}, "edited": false, "score": 0, "creation_date": 1566414563, "post_id": 57597285, "comment_id": 101652821, "body": "@Edney, it works now I have another error but it worked, Thank you."}], "tags": [], "owner": {"reputation": 855, "user_id": 3586517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxKQc.png?s=128&g=1", "display_name": "Edney Holder", "link": "https://stackoverflow.com/users/3586517/edney-holder"}, "is_accepted": false, "score": 0, "last_activity_date": 1566422814, "last_edit_date": 1566422814, "creation_date": 1566411768, "answer_id": 57597285, "question_id": 57597122, "link": "https://stackoverflow.com/questions/57597122/connection-not-open-error-visual-studio-c-oledb/57597285#57597285", "title": "Connection not open error Visual Studio c# OleDB", "body": "<p>The first issue I see it that you are opening a connect twice. I commented out one and put a comment beside it. </p>\n\n<p>I am not sure what Module contains so I codded a stand alone solution to the issue that you can take from.</p>\n\n<p>I put the connection in a using clause which is always a good practice so you so not have to worry about closing it.</p>\n\n<pre><code>public void bttnSpeichern_Click_1(System.Object sender, EventArgs e)\n{\n    //Module.con.Open(); &lt; -- Not needed it is done below\n\n    int geraetid = (int)(Conversion.Val(lblGeraetid.Text));\n    int bereichid = (int)(Conversion.Val(lblBereichID.Text));\n\n    if (lblGeraetid.Text == \"MaschineID\" || lblGeraetid.Text == null || txtGeraetName.Text == null || lblGeraetid.Text == \"BereichID\" || lblBereichID.Text == null)\n    {\n        Interaction.MsgBox(\"Bitte f\u00fcllen Sie die Faldern aus\", Constants.vbInformation, \"Hinweis\");\n    }\n    else\n    {\n        string b = System.Convert.ToString(Interaction.MsgBox(\"M\u00f6chten Sie die Eingaben best\u00e4tigen?\", (int)Constants.vbQuestion + Constants.vbYesNo, \"Anlegen\"));\n        if ( b == Constants.vbYes.ToString())\n        {\n            string geraete_anlegen = new OleDbCommand(\"INSERT INTO tblMaschine(MaschineID,Maschine,BereichID) VALUES (\\'\"+\n             lblGeraetid.Text + \"\\',\\'\"+\n             txtGeraetName.Text + \"\\',\\'\" +\n             lblBereichID.Text + \"\\',\\'\", Module.con);\n            using (OleDbConnection connection = new OleDbConnection(connectionString)) //&lt;-You need to supply a connection string\n            {\n                connection.Open();\n                OleDbCommand command = new OleDbCommand(geraete_anlegen, connection);\n                command.ExecuteNonQuery();\n            }\n\n            Interaction.MsgBox(\"Ger\u00e4t wurde erfolgreich angelegt!\", Constants.vbInformation, \"Neues Ger\u00e4t\");\n            //clear_text();\n            display_geraete();\n\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11071049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GN9Un9cRKts/AAAAAAAAAAI/AAAAAAAAAIk/s3TnWEl7WbQ/photo.jpg?sz=128", "display_name": "Andrea Alfo", "link": "https://stackoverflow.com/users/11071049/andrea-alfo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566422814, "creation_date": 1566411046, "question_id": 57597122, "link": "https://stackoverflow.com/questions/57597122/connection-not-open-error-visual-studio-c-oledb", "title": "Connection not open error Visual Studio c# OleDB", "body": "<p>I would like to put into a list the new ID-Machine (is not automatic), the name of the new machine and select the area (Bereich) where this type of machine belongs to.\nI try to change to string the ID-number (like in databease access) the ID to get the name of the area in the INSERT INTO query. But I dont know why VS shows that I didnt open the connection (ExecuteNonQuery requires an open and available Connection. The connection's current state is closed)... If anyone can help me, it will be great.</p>\n\n<pre><code>public void bttnSpeichern_Click_1(System.Object sender, EventArgs e)\n        {\n            Module.con.Open();\n\n            int geraetid = (int)(Conversion.Val(lblGeraetid.Text));\n            int bereichid = (int)(Conversion.Val(lblBereichID.Text));\n\n            if (lblGeraetid.Text == \"MaschineID\" || lblGeraetid.Text == null || txtGeraetName.Text == null || lblGeraetid.Text == \"BereichID\" || lblBereichID.Text == null)\n            {\n                Interaction.MsgBox(\"Bitte f\u00fcllen Sie die Faldern aus\", Constants.vbInformation, \"Hinweis\");\n            }\n            else\n            {\n                string b = System.Convert.ToString(Interaction.MsgBox(\"M\u00f6chten Sie die Eingaben best\u00e4tigen?\", (int)Constants.vbQuestion + Constants.vbYesNo, \"Anlegen\"));\n                if ( b == Constants.vbYes.ToString())\n                {\n                    Module.con.Open();\n                    OleDbCommand geraete_anlegen = new OleDbCommand(\"INSERT INTO tblMaschine(MaschineID,Maschine,BereichID) VALUES (\\'\"+\n                     lblGeraetid.Text + \"\\',\\'\"+\n                     txtGeraetName.Text + \"\\',\\'\" +\n                     lblBereichID.Text + \"\\',\\'\", Module.con);\n                    geraete_anlegen.ExecuteNonQuery();\n\n                    Interaction.MsgBox(\"Ger\u00e4t wurde erfolgreich angelegt!\", Constants.vbInformation, \"Neues Ger\u00e4t\");\n                    //clear_text();\n                    Module.con.Close();\n                    display_geraete();\n\n                }\n            }\n\n\n\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "routing", "asp.net-mvc-routing", "asp.net-core-3.0"], "answers": [{"comments": [{"owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "edited": false, "score": 0, "creation_date": 1566468923, "post_id": 57601556, "comment_id": 101669597, "body": "Thanks for the answer, but what would I use as my default router then?"}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "reply_to_user": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "edited": false, "score": 0, "creation_date": 1566539595, "post_id": 57601556, "comment_id": 101695163, "body": "@Twenty I am not clear about your question.Refer to <a href=\"https://medium.com/@lucaslra/asp-net-core-mvc-pipeline-routing-middleware-custom-irouter-d101202e0a14\" rel=\"nofollow noreferrer\">medium.com/@lucaslra/&hellip;</a>"}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": true, "score": 2, "last_activity_date": 1566538061, "last_edit_date": 1592644375, "creation_date": 1566443484, "answer_id": 57601556, "question_id": 57597111, "link": "https://stackoverflow.com/questions/57597111/what-is-the-use-of-the-getvirtualpath-method-in-the-irouter-interface/57601556#57601556", "title": "What is the use of the GetVirtualPath method in the IRouter interface", "body": "<p>The first method, GetVirtualPath, is used internally by the framework to generate urls based on this route in methods like the HTML.ActionLink one, the second method, RouteAsync, is where our logic will really reside.</p>\n<p>Our class should start with something like this:</p>\n<pre><code>public class MyRouter : IRouter\n{\n    private readonly IRouter _defaultRouter;\n\n    public MyRouter (IRouter defaultRouter)\n    {\n        _defaultRouter = defaultRouter;\n    }\n\n    public VirtualPathData GetVirtualPath(VirtualPathContext context)\n    {\n        return _defaultRouter.GetVirtualPath(context);\n    }\n\n    public async Task RouteAsync(RouteContext context)\n    {\n    } \n}\n</code></pre>\n<p>From the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/routing?view=aspnetcore-2.1#url-generation-with-linkgenerator\" rel=\"nofollow noreferrer\">URL generation with LinkGenerator</a></p>\n<blockquote>\n<p>URL generation is the process by which routing can create a URL path based on a set of route values. This allows for a logical separation between route handlers and the URLs that access them.</p>\n<p>URL generation follows a similar iterative process, but it starts with user or framework code calling into the GetVirtualPath method of the route collection. Each route has its GetVirtualPath method called in sequence until a non-null VirtualPathData is returned.</p>\n</blockquote>\n<p>Besides,asp.net core has Route class to implement of IRouter</p>\n<blockquote>\n<p>Routing provides the Route class as the standard implementation of IRouter. Route uses the route template syntax to define patterns to match against the URL path when RouteAsync is called. Route uses the same route template to generate a URL when GetVirtualPath is called.</p>\n</blockquote>\n"}], "owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "accepted_answer_id": 57601556, "answer_count": 1, "score": 0, "last_activity_date": 1566538061, "creation_date": 1566410978, "question_id": 57597111, "link": "https://stackoverflow.com/questions/57597111/what-is-the-use-of-the-getvirtualpath-method-in-the-irouter-interface", "title": "What is the use of the GetVirtualPath method in the IRouter interface", "body": "<p>So when you are writing your own Router you implement from the <code>IRouter</code> interface. Which forces you to implement the following two methods.</p>\n\n<ol>\n<li><code>VirtualPathData GetVirtualPath(VirtualPathContext context)</code></li>\n<li><code>Task RouteAsync(RouteContext routeContext)</code></li>\n</ol>\n\n<p>I understood that the <code>RouteAsync</code> method will get called upon every request and should handle the routing itself. So what about the <code>GetVirtualPath</code> method. For now I use it something along these lines:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public VirtualPathData GetVirtualPath(VirtualPathContext context)\n{\n    return null;\n}\n</code></pre>\n\n<p>Which works perfectly fine for now. Now the actual question</p>\n\n<ul>\n<li>Should I leave it like that?</li>\n<li>What is its purpose?</li>\n<li>And what code should it contain?</li>\n</ul>\n"}, {"tags": ["c#", "multithreading", "asynchronous", "visual-studio-2019", "vsix"], "comments": [{"owner": {"reputation": 14536, "user_id": 143684, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/iilWV.png?s=128&g=1", "display_name": "ygoe", "link": "https://stackoverflow.com/users/143684/ygoe"}, "edited": false, "score": 0, "creation_date": 1575494830, "post_id": 57597098, "comment_id": 104590116, "body": "Have you managed to resolve this? If I can&#39;t find a solution, I&#39;ll add code to ignore that warning. I&#39;m already ignoring other warnings that cannot be fixed. That&#39;s stupid."}], "answers": [{"comments": [{"owner": {"reputation": 13571, "user_id": 2769729, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/BowZi.png?s=128&g=1", "display_name": "Sarah Weinberger", "link": "https://stackoverflow.com/users/2769729/sarah-weinberger"}, "edited": false, "score": 0, "creation_date": 1566429712, "post_id": 57599448, "comment_id": 101657700, "body": "I added an update in response to your answer. Basically, this technique throws a <code>VSTHRD102</code> message. Code sample above."}], "tags": [], "owner": {"reputation": 23746, "user_id": 25071, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g92nf.jpg?s=128&g=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/25071/jimmy"}, "is_accepted": false, "score": 4, "last_activity_date": 1566451584, "last_edit_date": 1566451584, "creation_date": 1566423566, "answer_id": 57599448, "question_id": 57597098, "link": "https://stackoverflow.com/questions/57597098/vsthrd010-accessing-item-should-only-be-done-on-the-main-thread/57599448#57599448", "title": "VSTHRD010: Accessing item should only be done on the main thread", "body": "<p>When migrating to the AsyncPackage or other new async contexts, it might be easier to switch to the Main thread rather than assert/throw if you're not on it.  This is usually done with by awaiting <code>JoinableTaskFactory.SwitchToMainThreadAsync()</code>.</p>\n\n<p><code>JoinableTaskFactory</code> is inherited from <code>AsyncPackage</code>, or can also be accessed through <code>Microsoft.VisualStudio.Shell.ThreadHelper</code>.</p>\n\n<p>If you're in a synchronous method that is no longer on the UI thread and wish to delegate to it, a common pattern is:</p>\n\n<pre><code>// Fire-and-forget\nJoinableTaskFactory.RunAsync(async () =&gt;\n{\n    await ThreadHelper.JoinableTaskFactory.SwitchToMainThreadAsync();\n    DoWork();\n});\n\n// Synchronously block the current thread and wait.\n// Not recommended - can lead to thread pool starvation if over-used.\nJoinableTaskFactory.Run(async () =&gt;\n{\n    await ThreadHelper.JoinableTaskFactory.SwitchToMainThreadAsync();\n    DoWork();\n});\n</code></pre>\n\n<p>Way more information about this topic can be found in the <a href=\"https://github.com/Microsoft/vs-threading/blob/master/doc/cookbook_vs.md\" rel=\"nofollow noreferrer\">VS Threading Cookbook</a>.</p>\n\n<p>EDIT: a response to a response...</p>\n\n<p>The VSTHRD102 errors are from using synchronous waits.  As I mentioned, <code>JTF.Run()</code> blocks the current thread while work is done on the UI thread (ditto for <code>task.Wait()</code> or <code>task.Result</code>).  Basically you're consuming 2 threads while only actually utilizing one, hence the analyzer complains (do this too often and the thread pool will be depleted as all the threads end up in a synchronous blocked state).</p>\n\n<p>The threading design changes rolling out in VS will cause you to either:</p>\n\n<ul>\n<li>Convert your methods to <code>async Task&lt;T&gt;</code> so that you can await <code>JTF.RunAsync()</code> (or await <code>JTF.SwitchToMainThreadAsync()</code> directly).</li>\n<li>Convert your code to run via Fire-and-Forget style tasks using <code>JTF.RunAsync()</code> from non-async methods.</li>\n<li>Suppress these analyzer warnings.  Please only do this as a carefully considered last resort, as they are intended to mitigate common conditions that create performance issues or hangs in VS.</li>\n</ul>\n\n<p>Speaking of hangs in VS, in the EventOptionsDialog method in your example code, you're using <code>System.Threading.Tasks.Task.Run()</code>.  This can also be dangerous in VS (or presumably any other app with UI thread concerns), as Task.Run does not support re-entrancy.  For example, if something on the UI thread <em>awaits</em> Task.Run (which you didn't await, but for the sake of example), that will block the UI thread and if the delegated work tries to schedule more work back on the UI thread, it will deadlock and hang VS.  Using JTF will mitigate this issue, as it does track re-entrant scenarios to some degree.</p>\n"}], "owner": {"reputation": 13571, "user_id": 2769729, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/BowZi.png?s=128&g=1", "display_name": "Sarah Weinberger", "link": "https://stackoverflow.com/users/2769729/sarah-weinberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1185, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1566451584, "creation_date": 1566410944, "last_edit_date": 1566449882, "question_id": 57597098, "link": "https://stackoverflow.com/questions/57597098/vsthrd010-accessing-item-should-only-be-done-on-the-main-thread", "title": "VSTHRD010: Accessing item should only be done on the main thread", "body": "<p>Microsoft changed VSIX to asynchronous with VS2019 and with that came grief.</p>\n\n<p>I see many warnings that say:</p>\n\n<blockquote>\n  <p>Warning   VSTHRD010   Accessing \"Project\" should only be done on the main thread. Call Microsoft.VisualStudio.ProjectSystem.IProjectThreadingService.VerifyOnUIThread() first.</p>\n</blockquote>\n\n<p>I did add, though thinking of removing, the Nuget package <code>Microsoft.VisualStudio.ProjectSystem</code>, not that that helped.</p>\n\n<p>Adding that line to the top of a method yields:</p>\n\n<blockquote>\n  <p>Error CS0120  An object reference is required for the non-static field, method, or property 'IProjectThreadingService.VerifyOnUIThread()'</p>\n</blockquote>\n\n<p>A search was not helpful to resolve this last error.</p>\n\n<p>I tried adding:</p>\n\n<blockquote>\n  <p>`Microsoft.VisualStudio.Shell.ThreadHelper.ThrowIfNotOnUIThread();</p>\n</blockquote>\n\n<p>but that did not change things.</p>\n\n<p>Thoughts?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I presume the close vote was from the user that said to give code. There is no \"code\". Anyone who has done an upgrade from prior to VS2019 to VS2019 and ran into the synchronous VSIX to asynchronous VSIX will understand the issue. One cannot just use items like before. There are many of these warnings splattered because VS now classifies many elements as \"Main UI Accessible\" only. That means</p>\n\n<pre><code>if (null == oItems || 0 == oItems.Count)\n   return false;\n</code></pre>\n\n<p>no longer works. oItems is defined as EnvDTE.ProjectItems<code>. Hence the warning</code>Accessing ProjectItems<code>. Basically, anything in</code>EnvDTE` is off limits.</p>\n\n<p>The code will be anything that touches/uses EnvDTE objects.</p>\n\n<p><strong>RESPONSE FOR ANSWER 1</strong></p>\n\n<p>I implemented answer and got thrown a new error.</p>\n\n<pre><code>private void MenuItemCallback(object sender, EventArgs e)\n{\ninfo VSTHRD102 -&gt; this.packageVsi.JoinableTaskFactory.Run(async () =&gt;\n    {\n        await ThreadHelper.JoinableTaskFactory.SwitchToMainThreadAsync();\n        this.EventOptionsDialog();\n    });\n}\n\nprivate Task EventOptionsDialog()\n{\n    _ = System.Threading.Tasks.Task.Run(async () =&gt;\n    {\n        await this.packageVsi.DoTask1Async();\n    }\n    );\n\n    // Other tasks\n\n    return null;\n}\n</code></pre>\n\n<p>The informational message that comes back is:</p>\n\n<blockquote>\n  <p>Severity VSTHRD102   Limit use of synchronously blocking method calls such as JoinableTaskFactory.Run or Task.Result to public entrypoint members where you must be synchronous. Using it for internal members can needlessly add synchronous frames between asynchronous frames, leading to threadpool exhaustion.</p>\n</blockquote>\n\n<ol>\n<li>I want clean working code, so no messages, warnings, or errors.</li>\n<li>There is a heck of a lot of code that needs a solution, so if this technique exhausts the thread pool, then this answer is not good.</li>\n<li>There is a lot of downstream methods and from what I observed, VS2019 is stupid and does not know that a sub-method already has the main UI, though. The process complicates a bit, as some methods get called from multiple locations.</li>\n<li>I still want clean code without having many new code blocks added.</li>\n</ol>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "edited": false, "score": 0, "creation_date": 1566411071, "post_id": 57597040, "comment_id": 101651383, "body": "I&#39;m sorry, I&#39;m not sure what you&#39;re asking? You want to sort <code>lines</code> and return the sorted list as a separate list?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1566411088, "post_id": 57597040, "comment_id": 101651393, "body": "If you don&#39;t want to print them, remove the <code>Console.WriteLine</code> call."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566411094, "post_id": 57597040, "comment_id": 101651396, "body": "Are you saying you want to execute the LINQ query? <code>sort.ToList()</code> will do that. But Rufus makes a valid point: It&#39;s the <code>foreach</code> that realizes the query, not WriteLine(). Or are you saying you want to return <code>sort</code> instead of <code>null</code>?"}, {"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1566411152, "post_id": 57597040, "comment_id": 101651423, "body": "What do you want exactly - this is quite a bunch of nonsense. What makes words from lines? Do you want to return all <i>words</i> in lexicographical order from all lines?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1566411369, "post_id": 57597040, "comment_id": 101651516, "body": "Also, what is the <code>int number</code> parameter for? It&#39;s not used in the code."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1566411584, "post_id": 57597040, "comment_id": 101651598, "body": "Also, if you don&#39;t want to output the results inside the method, it can be reduced to one line: <code>return lines.OrderBy(line =&gt; line).ToList();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 1, "creation_date": 1566411567, "post_id": 57597197, "comment_id": 101651592, "body": "that&#39;s still unnecessary code.  He&#39;ll be copying lines into words instead of just using linq on lines"}, {"owner": {"reputation": 99, "user_id": 1108558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435fa3c02ef978f2b0f22436c2d690b7?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1108558/bruno"}, "reply_to_user": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1566411990, "post_id": 57597197, "comment_id": 101651747, "body": "That is correct, but doing it in the method would Change the original list as they are passed by reference. If it is what is intended the function could be void, but that would &quot;confuse&quot; someone using this method externally as the method is public."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1566412353, "post_id": 57597197, "comment_id": 101651897, "body": "<code>OrderBy</code> does not affect the original list - it returns a new <code>IOrderedEnumerable&lt;T&gt;</code>, so it&#39;s safe to do <code>return lines.OrderBy(x =&gt; x).ToList();</code>"}], "tags": [], "owner": {"reputation": 99, "user_id": 1108558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435fa3c02ef978f2b0f22436c2d690b7?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1108558/bruno"}, "is_accepted": false, "score": 3, "last_activity_date": 1566411366, "creation_date": 1566411366, "answer_id": 57597197, "question_id": 57597040, "link": "https://stackoverflow.com/questions/57597040/how-to-return-values-from-a-parameterized-liststring-int-number-liststring/57597197#57597197", "title": "How to return values from a parameterized List&lt;string&gt; (int number, List&lt;string&gt; lines)", "body": "<p>You are printing each line in the </p>\n\n<pre><code>foreach (var item in sort)  {    Console.WriteLine(item);    }\n</code></pre>\n\n<p>Block\nRemove the for loop and return \"sort.ToList()\" like</p>\n\n<pre><code>return sort.ToList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "is_accepted": true, "score": 3, "last_activity_date": 1566414209, "last_edit_date": 1566414209, "creation_date": 1566411676, "answer_id": 57597262, "question_id": 57597040, "link": "https://stackoverflow.com/questions/57597040/how-to-return-values-from-a-parameterized-liststring-int-number-liststring/57597262#57597262", "title": "How to return values from a parameterized List&lt;string&gt; (int number, List&lt;string&gt; lines)", "body": "<p>There was a bunch of unnecessary work going on in your original code.  This is all you need to sort your original list with linq and return it.</p>\n\n<pre><code>public static List&lt;string&gt; paragraph(int number, List&lt;string&gt; lines)\n{\n    return lines.OrderBy(x =&gt; x).ToList();\n}\n</code></pre>\n\n<p>edit:  fixed a missing arrow and simplified</p>\n"}, {"comments": [{"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 1, "creation_date": 1566438170, "post_id": 57597299, "comment_id": 101659106, "body": "you seem to be treating each entry in the line as its own list.  It will probably work but it&#39;s way above and beyond what he asked for."}], "tags": [], "owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "is_accepted": false, "score": -1, "last_activity_date": 1566453652, "last_edit_date": 1566453652, "creation_date": 1566411809, "answer_id": 57597299, "question_id": 57597040, "link": "https://stackoverflow.com/questions/57597040/how-to-return-values-from-a-parameterized-liststring-int-number-liststring/57597299#57597299", "title": "How to return values from a parameterized List&lt;string&gt; (int number, List&lt;string&gt; lines)", "body": "<p>Just a vague guess based on the name of the variables used (sort of intellectual reverse-engineering) - probably not what OP wants, but it is clear that he/she wants something else than what she/he asked for. </p>\n\n<pre><code>public static List&lt;string&gt; Words(int number, List&lt;string&gt; lines)\n{\n    var separators = new[] {',','.',';',' ','\\n','\\r'};\n    return lines\n                .SelectMany(l =&gt; l.Split(separators, StringSplitOptions.RemoveEmptyEntries)) // take all words from all lines\n                .Select(w =&gt; w.ToLowerInvariant()) // make them lowercase\n                .Distinct() // remove duplicates\n                .OrderBy(w =&gt; w)  // lexicographical ordering\n                .Take(number) // just to use the int parameter\n                .ToList() // materialize result             \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1566411939, "creation_date": 1566411939, "answer_id": 57597334, "question_id": 57597040, "link": "https://stackoverflow.com/questions/57597040/how-to-return-values-from-a-parameterized-liststring-int-number-liststring/57597334#57597334", "title": "How to return values from a parameterized List&lt;string&gt; (int number, List&lt;string&gt; lines)", "body": "<p>I interpret your question as:</p>\n\n<blockquote>\n  <p><em>How can I take a list of strings and re-arrange them in lexicographical order and return them without printing them out?</em></p>\n</blockquote>\n\n<p>If that's the case, you can just call <code>OrderBy</code> to order the lines, and then return the result of calling <code>ToList()</code>, which realizes the query:</p>\n\n<pre><code>public static List&lt;string&gt; GetOrderedLines(List&lt;string&gt; lines)\n{\n    return lines?.OrderBy(line =&gt; line).ToList();\n}\n</code></pre>\n"}], "owner": {"reputation": 1152, "user_id": 1712749, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/521f64c37d9d0bda7ad3ff95e92090d0?s=128&d=identicon&r=PG", "display_name": "Jacman", "link": "https://stackoverflow.com/users/1712749/jacman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 57597262, "answer_count": 4, "score": 0, "last_activity_date": 1566453652, "creation_date": 1566410616, "last_edit_date": 1566411250, "question_id": 57597040, "link": "https://stackoverflow.com/questions/57597040/how-to-return-values-from-a-parameterized-liststring-int-number-liststring", "title": "How to return values from a parameterized List&lt;string&gt; (int number, List&lt;string&gt; lines)", "body": "<p>How can I return a list of strings and execute the return <strong>without printing them out?</strong> The function takes them and re-arrange them in lexicographical order. My solution prints them out. I tried the following:</p>\n\n<pre><code>public static List&lt;string&gt; paragraph(int number, List&lt;string&gt; lines)\n    {\n        var words = lines.ToArray();\n\n        var sort = from x in words\n                   orderby x\n                   select x;\n\n        foreach (var item in sort)\n        {\n            Console.WriteLine(item);\n        }\n        return null;            \n    }\n</code></pre>\n\n<p>The only solution I could find was to print them out. I can see the result. But how can I stored the <code>item</code> that goes thru the loop and print them out in the main method? Thanks a lot for the help.</p>\n"}, {"tags": ["c#", "asynchronous", ".net-core"], "comments": [{"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1566410734, "post_id": 57596883, "comment_id": 101651237, "body": "In general @Xiaoy312&#39;s answer is right, but it depends on what you have inside <code>GetTORTDTransmissionOwners()</code>, what exactly does it return - is it materialized inside or not? And don&#39;t forget <code>ConfigureAwait(false)</code>."}, {"owner": {"reputation": 917, "user_id": 578011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b219fba85a0852f2aad3894aec4100c?s=128&d=identicon&r=PG", "display_name": "Paul Duer", "link": "https://stackoverflow.com/users/578011/paul-duer"}, "reply_to_user": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1566411266, "post_id": 57596883, "comment_id": 101651470, "body": "Can you eloborate on ConfigureAwait or suggest some other answers?"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1566424506, "post_id": 57596883, "comment_id": 101656433, "body": "Use <code>ToListAsync()</code> to keep asynchronous method."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1566424588, "post_id": 57596883, "comment_id": 101656464, "body": "@ZorgoZ, you don&#39;t need <code>ConfigureAwait</code> for dotnet core applications. But it would be good to have if you plan to use libraries with other .NET frameworks."}], "answers": [{"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 1, "last_activity_date": 1566410561, "last_edit_date": 1566410561, "creation_date": 1566410443, "answer_id": 57596992, "question_id": 57596883, "link": "https://stackoverflow.com/questions/57596883/how-do-i-best-avoid-possible-mutluple-enumerations-but-also-stay-async-at-the-s/57596992#57596992", "title": "How do I best avoid possible mutluple enumerations, but also stay async at the same time?", "body": "<p>You can also materialize after the async call returns:</p>\n\n<pre><code>transmissionOwners = \n    (await _toStakeholderUploadDataService.GetTORTDTransmissionOwners()).ToList();\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 578011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b219fba85a0852f2aad3894aec4100c?s=128&d=identicon&r=PG", "display_name": "Paul Duer", "link": "https://stackoverflow.com/users/578011/paul-duer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566410561, "creation_date": 1566409987, "last_edit_date": 1566410141, "question_id": 57596883, "link": "https://stackoverflow.com/questions/57596883/how-do-i-best-avoid-possible-mutluple-enumerations-but-also-stay-async-at-the-s", "title": "How do I best avoid possible mutluple enumerations, but also stay async at the same time?", "body": "<p>Consider the following method:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;TORTDTransmissionOwner&gt;&gt; ReturnActiveTransmissionOwnersForUser(User inputUser)\n{\n    _logger.LogDebug(\"ReturnActiveTransmissionOwnersForUser executing with user: {0}\", inputUser.Email);\n    IEnumerable&lt;TORTDTransmissionOwner&gt; transmissionOwners;\n    if (inputUser.IsAdmin || inputUser.IsApprover)\n    {\n        transmissionOwners = await _toStakeholderUploadDataService.GetTORTDTransmissionOwners();\n        _logger.LogDebug(\"User isAdmin or isApprover, count of TOs: {0}\", transmissionOwners.Count());\n    }\n    else\n    {\n        transmissionOwners = inputUser.TransmissionOwners.Where(to =&gt; to.IsImplemented)\n            .OrderBy(to =&gt; to.TORTDTransmissionOwner.Dbaname).Select(to =&gt; to.TORTDTransmissionOwner);\n        _logger.LogDebug(\"User is standard, count of TOs: {0}\", transmissionOwners.Count());\n    }\n    return transmissionOwners;\n}\n</code></pre>\n\n<p>Currently, ReSharper is giving me a warning that I will be causing multiple enumerations of the results from what is a database call. </p>\n\n<p>But, if I change the database call to be like: </p>\n\n<pre><code>public Task&lt;IEnumerable&lt;TORTDTransmissionOwner&gt;&gt; ReturnActiveTransmissionOwnersForUser(User inputUser)\n{\n    _logger.LogDebug(\"ReturnActiveTransmissionOwnersForUser executing with user: {0}\", inputUser.Email);\n    IEnumerable&lt;TORTDTransmissionOwner&gt; transmissionOwners;\n    if (inputUser.IsAdmin || inputUser.IsApprover)\n    {\n        transmissionOwners = _toStakeholderUploadDataService.GetTORTDTransmissionOwners().Result.ToList();\n        _logger.LogDebug(\"User isAdmin or isApprover, count of TOs: {0}\", transmissionOwners.Count());\n    }\n    else\n    {\n        transmissionOwners = inputUser.TransmissionOwners.Where(to =&gt; to.IsImplemented)\n            .OrderBy(to =&gt; to.TORTDTransmissionOwner.Dbaname).Select(to =&gt; to.TORTDTransmissionOwner).ToList();\n        _logger.LogDebug(\"User is standard, count of TOs: {0}\", transmissionOwners.Count());\n    }\n    return transmissionOwners;\n}\n</code></pre>\n\n<p>I've lost the need for Async and forced every database call to be syncronous. When I am not using debug logging, I would rather have async, right?</p>\n\n<p>So my question is, how do I choose the right approach here? Or is there a way to write this method better so that I can have both async and my debug statements if and when I need?</p>\n"}, {"tags": ["c#", "asp.net", "angularjs", "asp.net-mvc", "antiforgerytoken"], "owner": {"reputation": 657, "user_id": 3939022, "user_type": "registered", "accept_rate": 34, "profile_image": "https://graph.facebook.com/648802480/picture?type=large", "display_name": "Sormita Chakraborty", "link": "https://stackoverflow.com/users/3939022/sormita-chakraborty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1566728716, "creation_date": 1566409783, "last_edit_date": 1566728716, "question_id": 57596838, "link": "https://stackoverflow.com/questions/57596838/errorthe-anti-forgery-token-could-not-be-decrypted-for-machine-generated-key", "title": "Error:&quot;The anti-forgery token could not be decrypted.&quot; for machine generated key in ASP.Net MVC 5 app", "body": "<p>I'm trying to implement AntiForgeryToken in our existing Web application which is ASP.Net MVC 5 application with AngularJS front end.</p>\n\n<p>Following is the code for my BaseFilter:</p>\n\n<pre><code>public class BaseFilter : ActionFilterAttribute\n    {\n        private const string CLAIM_TYPE_EMAILADDRESS =\n            \"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\";\n\n        public override void OnActionExecuting(ActionExecutingContext filterContext)\n        {\n\n            Debug.WriteLine(\"Base filter started at ={0}\", DateTime.Now.ToString());\n\n            var baseController = filterContext.Controller as BaseController;\n            var routeData = filterContext.RouteData;\n\n            var controller = routeData.Values[\"controller\"].ToString();\n            var action = routeData.Values[\"action\"].ToString();\n\n            if (baseController != null)\n            {\n                var claims1 = ClaimsPrincipal.Current.Identities.First();\n                var emailId1 = claims1.Claims.FirstOrDefault(x =&gt; x.Type == CLAIM_TYPE_EMAILADDRESS).Value;\n                var roleName=claims1.Claims.FirstOrDefault(x =&gt; x.Type == \"Role\").Value;\n\n                baseController.GetCurrentUser();\n\n                if (roleName == \"Freemium\")\n                {                    \n                    baseController.GetFreemiumDaysLeft(emailId1);\n                }\n            }\n\n\n            //Calls should be made only in case of Page Request instead of Ajax Request\n            if (!filterContext.HttpContext.Request.IsAjaxRequest())\n            {\n                if (filterContext.HttpContext.Request.QueryString[\"contractId\"] != null)\n                {\n                    var contractId =\n                        Convert.ToInt32(new EncryptDecrypt().DecryptString(filterContext.HttpContext.Request.QueryString[\"contractId\"]));\n\n                    if (baseController != null)\n                    {                       \n                            baseController.GetContractProgressStatus(contractId, controller, filterContext);\n                    }\n\n                }\n                else\n                {\n                    if (\n                        controller != \"Dashboard\" &amp;&amp;\n                        controller != \"UserRegistration\" &amp;&amp;                        \n                         controller != \"Help\" &amp;&amp;\n                        controller != \"BasicInfo\" &amp;&amp; action == \"Index\")\n                        filterContext.Result = new RedirectToRouteResult(\n                            new RouteValueDictionary\n                            {\n                                {\"controller\", \"BasicInfo\"},\n                                {\"action\", \"Index\"}\n                            });\n                }\n            }\n\n            //if(controller)\n            string cookieToken = \"\";\n            string formToken = \"\";\n            if (filterContext.HttpContext.Request.HttpMethod != \"GET\")\n            {\n\n                var tokenHeaders = filterContext.HttpContext.Request.Headers.GetValues(\"RequestVerificationToken\").FirstOrDefault();\n                if (tokenHeaders != null)\n                {\n                    string[] tokens = tokenHeaders.Split(':');\n                    if (tokens.Length == 2)\n                    {\n                        cookieToken = tokens[0].Trim();\n                        formToken = tokens[1].Trim();\n                    }\n                }\n                System.Web.Helpers.AntiForgery.Validate(cookieToken, formToken);\n            }\n\n            base.OnActionExecuting(filterContext);\n\n\n        }\n    }\n</code></pre>\n\n<p>Following is the AntiForgery extension:</p>\n\n<pre><code>public static class AntiForgeryExtension\n    {\n        public static string RequestVerificationToken(this HtmlHelper helper)\n        {\n            return String.Format(\"__RequestVerificationToken={0}\", GetTokenHeaderValue());\n        }\n\n        private static string GetTokenHeaderValue()\n        {\n            string cookieToken, formToken;\n            System.Web.Helpers.AntiForgery.GetTokens(null, out cookieToken, out formToken);\n            return cookieToken + \":\" + formToken;\n        }\n    }\n</code></pre>\n\n<p>Following is my Index.cshtml:</p>\n\n<pre><code>@using MyProj.Web.AuthData\n&lt;script src=\"~/Scripts/DashboardVersion.js\"&gt;&lt;/script&gt;\n\n\n\n&lt;!-- Page header --&gt;\n&lt;div class=\"page-header page-header-ey-default title-height\"&gt;\n    &lt;div class=\"page-header-content\"&gt;\n        &lt;div class=\"page-title\"&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- /page header --&gt;\n\n\n&lt;section&gt;\n\n    &lt;div&gt;\n        &lt;div class=\"clear1\"&gt;&lt;/div&gt;\n\n        &lt;div ng-app=\"dashboardVersion\" ng-controller=\"DashboardController\" ng-cloak data-ng-init=\"antiForgeryToken='@Html.RequestVerificationToken()'\"&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>Following is the index.js post call:</p>\n\n<pre><code>$scope.saveVersion = function () {\n                if ($scope.SaveVersion.VersionName === undefined || $scope.SaveVersion.VersionName.toString().trim() === \"\") {\n                    showWarning(\"Please enter scenario name.\");\n                    return;\n                }\n                else if (_.find($scope.VersionsLowercase,\n                    { VersionName: $scope.SaveVersion.VersionName.toString().toLowerCase().trim() })) {\n                    showWarning(\"Version with similar name already exists.\");\n                }\n                else {\n                    var token = $scope.antiForgeryToken;\n                    var headers = {\n                        headers: {\n                            'RequestVerificationToken': token\n                        }};\n\n\n                    $scope.SaveVersion.VersionName = $scope.SaveVersion.VersionName.toString().trim();\n                    $http.post(\"/PortfolioVersion/SaveVersion/\", $scope.SaveVersion,  headers).then(function (response) {\n                        clearDirty();\n                        $(\"#version-modal\").modal(\"hide\");\n                        if (response.data == \"true\") {\n                            showSuccess(\"data successfully saved.\");\n                        }\n                        else if (response.data == \"false\") {\n                            showError(\"An error occured while saving .\");\n                        }\n                        $scope.init();\n                    });\n                }\n            };\n</code></pre>\n\n<p>Following code is added to Global.asax:</p>\n\n<pre><code>AntiForgeryConfig.UniqueClaimTypeIdentifier = ClaimTypes.NameIdentifier;\n</code></pre>\n\n<p>I have generated the machine key manually from IIS in my machine and added it in Web.config under ...:</p>\n\n<pre><code>&lt;machineKey\n    validationKey=\"myKey\"\n    decryptionKey=\"myKey\"\n    validation=\"SHA1\"\n    decryption=\"AES\"\n/&gt;\n</code></pre>\n\n<p>After adding all this, I'm getting the following error in TokenValidation:</p>\n\n<blockquote>\n  <p>Message=The anti-forgery token could not be decrypted. If this application is hosted by a Web Farm or cluster, ensure that all machines are running the same version of ASP.NET Web Pages and that the  configuration specifies explicit encryption and validation keys. AutoGenerate cannot be used in a cluster.</p>\n</blockquote>\n\n<p>I have followed all the answers given in the following link:\n<a href=\"https://stackoverflow.com/questions/23402210/the-anti-forgery-token-could-not-be-decrypted\">The anti-forgery token could not be decrypted</a></p>\n\n<p>But nothing seems to work for me. Please help resolve my issue.</p>\n"}, {"tags": ["c#", "azure-functions", "exit", "azure-functions-runtime"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1566409810, "post_id": 57596819, "comment_id": 101650870, "body": "Did you try it? What was the result?"}, {"owner": {"reputation": 607, "user_id": 1386924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a601c9a12cc45beb72950c3c3f248d02?s=128&d=identicon&r=PG", "display_name": "bech", "link": "https://stackoverflow.com/users/1386924/bech"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1566410309, "post_id": 57596819, "comment_id": 101651050, "body": "It is tricky to reason about concurrent operations in Azure Functions through sheer experimentation. I figure this must be something someone related to the team can properly explain."}], "answers": [{"comments": [{"owner": {"reputation": 607, "user_id": 1386924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a601c9a12cc45beb72950c3c3f248d02?s=128&d=identicon&r=PG", "display_name": "bech", "link": "https://stackoverflow.com/users/1386924/bech"}, "edited": false, "score": 0, "creation_date": 1566561974, "post_id": 57621448, "comment_id": 101705459, "body": "Thank you. I suspected that Environment.Exit would kill other concurrent runs also, but couldn&#39;t find it written anywhere."}], "tags": [], "owner": {"reputation": 20458, "user_id": 8198946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRGKD.png?s=128&g=1", "display_name": "Jay Gong", "link": "https://stackoverflow.com/users/8198946/jay-gong"}, "is_accepted": true, "score": 2, "last_activity_date": 1566544430, "creation_date": 1566544430, "answer_id": 57621448, "question_id": 57596819, "link": "https://stackoverflow.com/questions/57596819/what-does-environment-exit-do-when-run-in-azure-functions/57621448#57621448", "title": "What does Environment.Exit do when run in Azure Functions?", "body": "<p>Actually the method in the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.environment.exit?view=netframework-4.8\" rel=\"nofollow noreferrer\">doc</a> has described what <code>Environment.Exit</code> would do. If you run it local, it will just terminate the process and you app won't restart.</p>\n\n<p>However in azure the windows Azure Function is host with IIS, the IIS process couldn't be terminate totally. The method only kill the process temporarily and it won't restart it too, however if you try to request the HTTP trigger url or add the queue message with queue trigger, it will start the process.</p>\n\n<p>Also it won't just kill its own process, if you have HTTP trigger and Queue trigger functions, you use <code>Environment.Exit</code> kill one process, the other will be killed too it also need a time to start with trigger.</p>\n"}], "owner": {"reputation": 607, "user_id": 1386924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a601c9a12cc45beb72950c3c3f248d02?s=128&d=identicon&r=PG", "display_name": "bech", "link": "https://stackoverflow.com/users/1386924/bech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 57621448, "answer_count": 1, "score": 0, "last_activity_date": 1613396609, "creation_date": 1566409692, "last_edit_date": 1613396609, "question_id": 57596819, "link": "https://stackoverflow.com/questions/57596819/what-does-environment-exit-do-when-run-in-azure-functions", "title": "What does Environment.Exit do when run in Azure Functions?", "body": "<p>With Azure WebJobs, you can force a restart of a webjob process by calling <code>Environment.Exit</code> and returning. This forces a restart of the webjob which in my case reloaded a bugged out external dll that I had.. I\u00b4ve recently moved some code from WebJobs to functions (v1 for legacy reasons), and I haven't been able to find any information as to what happens when you use <code>Environment.Exit</code> in an Azure Function. Does the entire Function server exit? Does only the current invocation exit? What happens?</p>\n"}, {"tags": ["c#", "asp.net", "datatable", "dataset"], "comments": [{"owner": {"reputation": 127, "user_id": 11378299, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s-rW5nAae4M/AAAAAAAAAAI/AAAAAAAAAH8/vEhSkInZykE/photo.jpg?sz=128", "display_name": "Kuba Do", "link": "https://stackoverflow.com/users/11378299/kuba-do"}, "edited": false, "score": 0, "creation_date": 1566463986, "post_id": 57596738, "comment_id": 101666916, "body": "this may help You : <a href=\"https://stackoverflow.com/questions/16100900/select-multiple-fields-group-by-and-sum\" title=\"select multiple fields group by and sum\">stackoverflow.com/questions/16100900/&hellip;</a>"}, {"owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "reply_to_user": {"reputation": 127, "user_id": 11378299, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s-rW5nAae4M/AAAAAAAAAAI/AAAAAAAAAH8/vEhSkInZykE/photo.jpg?sz=128", "display_name": "Kuba Do", "link": "https://stackoverflow.com/users/11378299/kuba-do"}, "edited": false, "score": 0, "creation_date": 1566476623, "post_id": 57596738, "comment_id": 101673829, "body": "the above example it does not for datatables"}], "answers": [{"tags": [], "owner": {"reputation": 296, "user_id": 11992419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9915ee770d61ed463f5a4cb885b8ad81?s=128&d=identicon&r=PG&f=1", "display_name": "Mentat", "link": "https://stackoverflow.com/users/11992419/mentat"}, "is_accepted": true, "score": 3, "last_activity_date": 1567227442, "creation_date": 1567227442, "answer_id": 57735303, "question_id": 57596738, "link": "https://stackoverflow.com/questions/57596738/group-and-sum-datatable/57735303#57735303", "title": "Group and Sum DataTable", "body": "<p>rgoal</p>\n\n<p>Your question made me curious, so I did some digging on Stack Overflow.<br>\n<a href=\"https://stackoverflow.com/a/49654009/11992419\">esc's</a> answer appears will also solve your issue. It is posted under: <a href=\"https://stackoverflow.com/a/49654009/11992419\">How do I use SELECT GROUP BY in DataTable.Select(Expression)?</a>: </p>\n\n<p>Applying his method to your problem gave me this solution:</p>\n\n<pre><code>DataTable dt2 = dt.AsEnumerable()\n    .GroupBy(r =&gt; new { Number = r[\"Number\"], Type = r[\"Type\"], Order = r[\"Order\"] })\n    .Select(g =&gt;\n    {\n        var row = dt.NewRow();\n\n        row[\"Number\"] = g.Key.Number;\n        row[\"Type\"] = g.Key.Type;\n        row[\"Order\"] = g.Key.Order;\n        row[\"Count\"] = g.Count();\n\n        return row;\n\n    }).CopyToDataTable();\n</code></pre>\n\n<p>This will return a DataTable matching the schema of the input DataTable with the grouping and counts you requested.</p>\n\n<p>Here is the full code I use to verify in LINQPad:</p>\n\n<pre><code>DataTable dt = new DataTable(\"Demo\");\n\ndt.Columns.AddRange \n(\n    new DataColumn[] \n      {\n         new DataColumn ( \"Number\", typeof ( int ) ),\n         new DataColumn ( \"Type\", typeof ( int ) ),\n         new DataColumn ( \"Order\", typeof ( string ) ),\n         new DataColumn ( \"Count\", typeof ( int ) )  \n      }\n);\n\ndt.Rows.Add(new object[] { 1,1,\"R\", 1 });\ndt.Rows.Add(new object[] { 1,1,\"R\", 1 });\ndt.Rows.Add(new object[] { 1,1,\"R\", 1 });\ndt.Rows.Add(new object[] { 1,2,\"R\", 1 });\n\n\nDataTable dt2 = dt.AsEnumerable()\n    .GroupBy(r =&gt; new { Number = r[\"Number\"], Type = r[\"Type\"], Order = r[\"Order\"] })\n    .Select(g =&gt;\n    {\n        var row = dt.NewRow();\n\n        row[\"Number\"] = g.Key.Number;\n        row[\"Type\"] = g.Key.Type;\n        row[\"Order\"] = g.Key.Order;\n        row[\"Count\"] = g.Count();\n\n        return row;\n\n    }).CopyToDataTable();\n\n\nforeach (DataRow row in dt2.Rows)\n{\n    for (int i = 0; i &lt; dt2.Columns.Count; i++)\n        Console.Write(\"{0}{1}\",\n            row[i],                                                    // Print column data\n            (i &lt; dt2.Columns.Count - 1)? \"  \" : Environment.NewLine);  // Print column or row separator\n\n}\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>1  1  R  3\n1  2  R  1\n</code></pre>\n"}], "owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2367, "favorite_count": 0, "accepted_answer_id": 57735303, "answer_count": 1, "score": 0, "last_activity_date": 1567227442, "creation_date": 1566409286, "last_edit_date": 1566411369, "question_id": 57596738, "link": "https://stackoverflow.com/questions/57596738/group-and-sum-datatable", "title": "Group and Sum DataTable", "body": "<p>I have Data Table with the following data </p>\n\n<pre><code>Number   Type   Order  count\n1        1      R       1\n1        1      R       1\n1        1      R       1\n1        2      R       1\n</code></pre>\n\n<p>I am looking to get to this result</p>\n\n<pre><code>Number   Type   Order  count\n1        1      R       3\n1        2      R       1\n</code></pre>\n\n<p>How can I group by three columns </p>\n\n<pre><code>  var result = dt.AsEnumerable()\n                 .GroupBy(x =&gt; {x.Field&lt;string&gt;(\"Number\"))//need to group by Type and order  also need to sum te total counts\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 957, "user_id": 6219084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbUSA.png?s=128&g=1", "display_name": "yes", "link": "https://stackoverflow.com/users/6219084/yes"}, "edited": false, "score": 1, "creation_date": 1566432712, "post_id": 57596708, "comment_id": 101658249, "body": "Your spirte needs to have some <code>Collider</code>, there has to be a <code>PhysicsRaycaster</code> attached to the Camera (or the respective 2D equvialents if its a 2D game) and finally there ofc needs to be an <code>EventSystem</code>."}], "answers": [{"comments": [{"owner": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "edited": false, "score": 0, "creation_date": 1566410812, "post_id": 57596933, "comment_id": 101651277, "body": "Sorry, I tried <code>OnMouseDown</code> but still no response. I think that is also only for GUI elements"}, {"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "edited": false, "score": 0, "creation_date": 1566416413, "post_id": 57596933, "comment_id": 101653667, "body": "These functions only work if there is a collider attached to the object, so make sure you have a collider"}, {"owner": {"reputation": 957, "user_id": 6219084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbUSA.png?s=128&g=1", "display_name": "yes", "link": "https://stackoverflow.com/users/6219084/yes"}, "edited": false, "score": 2, "creation_date": 1566432624, "post_id": 57596933, "comment_id": 101658230, "body": "<code>IPointerDownHandler is only for UI input so can&#39;t be used with Sprites.</code> Thats not true. The sprite needs a collider and you need to add a PhysicsRaycaster (or their respective 2D version) to the camera - ofc also an EventSystem-"}, {"owner": {"reputation": 507, "user_id": 362376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oEF1x.jpg?s=128&g=1", "display_name": "eAi", "link": "https://stackoverflow.com/users/362376/eai"}, "reply_to_user": {"reputation": 957, "user_id": 6219084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbUSA.png?s=128&g=1", "display_name": "yes", "link": "https://stackoverflow.com/users/6219084/yes"}, "edited": false, "score": 1, "creation_date": 1566994157, "post_id": 57596933, "comment_id": 101828358, "body": "@yes - thanks for that, I&#39;d forgotten about that. I&#39;ve amended my answer."}], "tags": [], "owner": {"reputation": 507, "user_id": 362376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oEF1x.jpg?s=128&g=1", "display_name": "eAi", "link": "https://stackoverflow.com/users/362376/eai"}, "is_accepted": false, "score": 2, "last_activity_date": 1566994121, "last_edit_date": 1566994121, "creation_date": 1566410179, "answer_id": 57596933, "question_id": 57596708, "link": "https://stackoverflow.com/questions/57596708/unity-touch-event-for-sprite/57596933#57596933", "title": "Unity touch event for Sprite", "body": "<p>To use <code>IPointerDownHandler</code> with non-UI elements requires you to add a collider to the Sprite and <code>PhysicsRaycaster</code> to the Camera.</p>\n\n<p>Alternatively adding a collider and using <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnMouseDown.html\" rel=\"nofollow noreferrer\"><code>OnMouseDown</code></a> and <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnMouseUp.html\" rel=\"nofollow noreferrer\"><code>OnMouseUp</code></a> work fine on mobile, as long as you only are interested in a single touch - which you likely are. Unity doesn't recommend using this due to \"performance issues\" - but I don't believe these performance issues are very significant, at least for most projects. There's a chance that if you have many objects with these callbacks on you may have issues on low-end devices, but I've never encountered this on projects dating back to the iPhone 3GS.</p>\n\n<p>The alternative is to use the <code>Input.touches</code> array to check to see if touches are within your sprite. This requires a bit more work - so I'd suggest starting with OnMouseDown and see how you get on.</p>\n"}], "owner": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566994121, "creation_date": 1566409142, "question_id": 57596708, "link": "https://stackoverflow.com/questions/57596708/unity-touch-event-for-sprite", "title": "Unity touch event for Sprite", "body": "<p>I am try to check for a touch event for a <code>Sprite</code> but can only get this code to work on UI elements. I have seen examples for mouse events but I want to capture both mouse and touch because this game will be multi platform</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\nusing UnityEngine.EventSystems;\n\npublic class PlayButton : MonoBehaviour, IPointerDownHandler\n{\n    public void OnPointerDown(PointerEventData eventData)\n    {\n        Debug.Log(\"play\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "assemblies"], "owner": {"reputation": 449, "user_id": 6073048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/3NetH.jpg?s=128&g=1", "display_name": "Fabrice Dugas", "link": "https://stackoverflow.com/users/6073048/fabrice-dugas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566409261, "creation_date": 1566408892, "last_edit_date": 1566409261, "question_id": 57596652, "link": "https://stackoverflow.com/questions/57596652/unity-engine-binding-redirection", "title": "Unity Engine binding redirection", "body": "<p>I am using Unity Engine and the Nuget for Unity plugin. In our project we use multiple nuget plugins that refer to Newtonsoft.Json version 12.0.2. We also use Microsoft.Rest.ClientRuntime which refers to an older version of Newtonsoft.Json (10.0.3). This last plugin however always outputs an error in the Editor :</p>\n\n<blockquote>\n  <p>Unloading broken assembly\n  Assets/Packages/Microsoft.Rest.ClientRuntime.2.3.20/lib/netstandard2.0/Microsoft.Rest.ClientRuntime.dll,\n  this assembly can cause crashes in the runtime</p>\n</blockquote>\n\n<p>For some reason, we are still able to use classes from that library, but it causes issues when we try to use reflection.</p>\n\n<p>For example:</p>\n\n<pre><code>System.AppDomain.CurrentDomain.GetAssemblies()\n    .SelectMany(a =&gt; a.GetTypes())\n    .ToArray();\n</code></pre>\n\n<p>This throws a ReflectionTypeLoadException once it tries to call <code>GetTypes()</code> on the Microsoft.Rest.ClientRuntime assembly. The LoaderExceptions associated with the exception are all Newtonsoft.Json 10.0.0.0. I bet it's because we already use version 12 and it can't load the same assemblies for different versions.</p>\n\n<p>Now I wanted to use something like <code>&lt;bindingRedirect oldVersion=\"10.0.3.0\" newVersion=\"12.0.2.0\"/&gt;</code> but that doesn't seem to be possible in Unity. Is there something similar I can do? Or can I maybe fix my problem another way?</p>\n\n<p>P.S. I have temporarily fixed it by ignoring the assembly from the Linq query since we don't need it, but I don't like errors in my console and would like to solve the underlying cause.</p>\n"}, {"tags": ["c#", "wpf", "listview"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10004246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43a929968a4cd75e953796eb498929ff?s=128&d=identicon&r=PG", "display_name": "Mlol", "link": "https://stackoverflow.com/users/10004246/mlol"}, "edited": false, "score": 1, "creation_date": 1566410003, "post_id": 57596606, "comment_id": 101650933, "body": "Wow, it&#39;s not everyday you get two working solutions in one reply. It worked perfectly and exactly like I wanted. I also learned something new about the Output pane. Had no idea you could see binding issues there! Thanks alot. :)"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 25, "user_id": 10004246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43a929968a4cd75e953796eb498929ff?s=128&d=identicon&r=PG", "display_name": "Mlol", "link": "https://stackoverflow.com/users/10004246/mlol"}, "edited": false, "score": 0, "creation_date": 1566410110, "post_id": 57596606, "comment_id": 101650975, "body": "@Mlol Glad to help! You can get extremely detailed debugging info by adding <code>PresentationTraceSources.TraceLevel=High</code> to the binding."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 1, "last_activity_date": 1566415600, "last_edit_date": 1566415600, "creation_date": 1566408683, "answer_id": 57596606, "question_id": 57596550, "link": "https://stackoverflow.com/questions/57596550/listview-binding-selecteditem-to-textbox/57596606#57596606", "title": "ListView binding SelectedItem to Textbox", "body": "<p>You aren't using the ItemsSource binding to populate the listview; all that's doing is generating an error in Visual Studio's Output pane. So I've omitted it. If you bind something to ItemsSource, the \"something\" must be a collection of objects, not a single object like the <code>Recipe</code> property of your Page. </p>\n\n<p>I'm guessing that when the user clicks on a <code>Recipe</code> in the listview, you want that <code>Recipe</code> to be assigned to the <code>Recipe</code> property of your page. Once you've got that, you can bind the TextBox's Text to a property of that Recipe. </p>\n\n<pre><code>&lt;ListView Grid.Column=\"0\" \n    Name=\"listOfRecipes\" \n    Margin=\"10,10,10,240\" \n    Height=\"150\"\n    SelectedItem=\"{Binding Recipe, RelativeSource={RelativeSource AncestorType=Page}}\n    &gt;\n\n&lt;!-- snip --&gt;\n\n&lt;TextBox \n    Text=\"{Binding Recipe.Name, RelativeSource={RelativeSource AncestorType=Page}}\" \n    Grid.Column=\"1\" \n    Height=\"50\" \n    Margin=\"10,10,-10,340\"\n    /&gt;\n</code></pre>\n\n<p>Here's another way to do it. </p>\n\n<pre><code>&lt;TextBox \n    Text=\"{Binding SelectedItem.Name, ElementName=listOfRecipes}\" \n    Grid.Column=\"1\" \n    Height=\"50\" \n    Margin=\"10,10,-10,340\"\n    /&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10004246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43a929968a4cd75e953796eb498929ff?s=128&d=identicon&r=PG", "display_name": "Mlol", "link": "https://stackoverflow.com/users/10004246/mlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 57596606, "answer_count": 1, "score": 1, "last_activity_date": 1566415600, "creation_date": 1566408420, "question_id": 57596550, "link": "https://stackoverflow.com/questions/57596550/listview-binding-selecteditem-to-textbox", "title": "ListView binding SelectedItem to Textbox", "body": "<p>I am new to bindings and Im having trouble to get my <code>RecipeName</code> to be shown when I select an item in my <code>ListView</code>.</p>\n\n<p>Im trying to bind my selected item to my <code>TextBox</code>. I do get my items to be displayed correctly in the ListView, but it's not previewed in my TextBox when I select an item.</p>\n\n<p>What am I doing wrong here?</p>\n\n<p><strong>Xaml with the ListView and Textbox</strong></p>\n\n<pre><code>       &lt;ListView Grid.Column=\"0\" \n                  Name=\"listOfRecipes\" \n                  Margin=\"10,10,10,240\" \n                  Height=\"150\"\n                  ItemsSource=\"{Binding Path=Recipe}\" \n                  SelectedItem=\"{Binding Path=RecipeName, Mode=TwoWay}\"&gt;\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;TextBlock Text=\"{Binding Path=RecipeName, Mode=TwoWay}\"  /&gt; // This lists my items in the ListView Correctly\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n        &lt;/ListView&gt;\n        &lt;TextBox Text=\"{Binding Path=RecipeName, Mode=TwoWay}\" Grid.Column=\"1\" Height=\"50\" Margin=\"10,10,-10,340\"/&gt; // This doesn't preview the selected item.\n</code></pre>\n\n<p><strong>My class</strong>:</p>\n\n<pre><code>public partial class ViewAll : Page, INotifyPropertyChanged\n    {\n        private Recipe _recipe;\n        public Recipe Recipe\n        {\n            get { return _recipe; }\n            set\n            {\n                if(_recipe != value)\n                {\n                    _recipe = value;\n                    OnPropertyChanged(\"Recipe\");\n                }\n            }\n        }\n\n        public ViewAll()\n        {\n            InitializeComponent();\n            LoadItemTemplate();\n        }\n\n        public void LoadItemTemplate()\n        {\n            mrydendbEntities dbe = new mrydendbEntities();\n            listOfRecipes.ItemsSource = dbe.Recipe.ToList();\n            listOfRecipes.SelectedItem = dbe.Recipe.First();\n\n        }\n\n\n        public event PropertyChangedEventHandler PropertyChanged;\n        private void OnPropertyChanged([CallerMemberName] string propertyName = null)\n        {\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core"], "answers": [{"comments": [{"owner": {"reputation": 1129, "user_id": 371646, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/395f4dff7dc330eea8c016d4a8b312c5?s=128&d=identicon&r=PG", "display_name": "Help123", "link": "https://stackoverflow.com/users/371646/help123"}, "edited": false, "score": 0, "creation_date": 1566411358, "post_id": 57596695, "comment_id": 101651513, "body": "So essentially, have 2 collection of MenuItem properties in my User class (e.g. CreatedMenuItems, UpdatedMenuItems), and then define the relationships appropriately? I.e. map FK LastUpdatedID to UpdatedMenuItems property with delete-restrict, and map FK UserId to CreatedMenuItems?"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "reply_to_user": {"reputation": 1129, "user_id": 371646, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/395f4dff7dc330eea8c016d4a8b312c5?s=128&d=identicon&r=PG", "display_name": "Help123", "link": "https://stackoverflow.com/users/371646/help123"}, "edited": false, "score": 0, "creation_date": 1566412043, "post_id": 57596695, "comment_id": 101651772, "body": "Yes.  If User has navigation properties they have to be mapped.  And User can have 0, 1, or 2 MenuItem Navigation Properties."}, {"owner": {"reputation": 1129, "user_id": 371646, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/395f4dff7dc330eea8c016d4a8b312c5?s=128&d=identicon&r=PG", "display_name": "Help123", "link": "https://stackoverflow.com/users/371646/help123"}, "edited": false, "score": 0, "creation_date": 1566412802, "post_id": 57596695, "comment_id": 101652084, "body": "Thanks David. I was able to fix the issue. I did not realize that I needed to explicitly define a new property in Users to relate my duplicate navigation property in MenuItem. That fixed it. One question I had was, in the case where I did not have duplicate navigation properties, if I only had a single navigation property (i.e. CreatedBy) - do I need to explicitly define the inverse navigation in User? Per convention, the navigation property name should be named the same as the related class. Or is the one-to-many relation assumed due to the FK?"}, {"owner": {"reputation": 1129, "user_id": 371646, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/395f4dff7dc330eea8c016d4a8b312c5?s=128&d=identicon&r=PG", "display_name": "Help123", "link": "https://stackoverflow.com/users/371646/help123"}, "edited": false, "score": 0, "creation_date": 1566412896, "post_id": 57596695, "comment_id": 101652136, "body": "I.e. is the [InverseProperty(&quot;CreatedBy&quot;)] needed if I didn&#39;t have LastUpdatedBy and LastUpdatedById properties in my MenuItem class? Does convention already define a fully defined relationship or is that explicitly needed (due to my CreatedBy property not being called User instead?)"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "reply_to_user": {"reputation": 1129, "user_id": 371646, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/395f4dff7dc330eea8c016d4a8b312c5?s=128&d=identicon&r=PG", "display_name": "Help123", "link": "https://stackoverflow.com/users/371646/help123"}, "edited": false, "score": 0, "creation_date": 1566413042, "post_id": 57596695, "comment_id": 101652200, "body": "If there&#39;s only a single Navigation Property on each side, EF will match them up without explicit configuration."}, {"owner": {"reputation": 1129, "user_id": 371646, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/395f4dff7dc330eea8c016d4a8b312c5?s=128&d=identicon&r=PG", "display_name": "Help123", "link": "https://stackoverflow.com/users/371646/help123"}, "edited": false, "score": 0, "creation_date": 1566413173, "post_id": 57596695, "comment_id": 101652247, "body": "Great! Thanks for your help"}], "tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": true, "score": 1, "last_activity_date": 1566409095, "creation_date": 1566409095, "answer_id": 57596695, "question_id": 57596539, "link": "https://stackoverflow.com/questions/57596539/duplicate-navigation-property-cannot-be-used-due-to-single-relationship-error/57596695#57596695", "title": "Duplicate navigation property cannot be used due to single relationship error", "body": "<p>To get this to work you need to supress cascading deletes, and configure any inverse Navigation properties.  So something like:</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    var fks = from et in modelBuilder.Model.GetEntityTypes()\n              from fk in et.GetForeignKeys()\n              where typeof(User).IsAssignableFrom(fk.PrincipalEntityType.ClrType)\n              select fk;\n    foreach (var fk in fks)\n    {\n\n        fk.DeleteBehavior = DeleteBehavior.Restrict;\n\n    }\n\n    base.OnModelCreating(modelBuilder);\n}\n</code></pre>\n\n<p>And then either remove the Navigation Properties on User, as there will be a ton of them, and they are perhaps not very useful, or configure them so EF knows which relationship they use.  eg in User</p>\n\n<pre><code>    [InverseProperty(\"CreatedBy\")]\n    public ICollection&lt;MenuItem&gt; CreatedMenuItems { get; set; }\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 371646, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/395f4dff7dc330eea8c016d4a8b312c5?s=128&d=identicon&r=PG", "display_name": "Help123", "link": "https://stackoverflow.com/users/371646/help123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 57596695, "answer_count": 1, "score": 1, "last_activity_date": 1566413137, "creation_date": 1566408393, "last_edit_date": 1566413137, "question_id": 57596539, "link": "https://stackoverflow.com/questions/57596539/duplicate-navigation-property-cannot-be-used-due-to-single-relationship-error", "title": "Duplicate navigation property cannot be used due to single relationship error", "body": "<p>I am trying to solve a relatively simple setup but am wondering if there is a better way to set this relation one. </p>\n\n<p>I have a User class that is the starting point for all other relationships. Every other class unless specific conditions are met has a 1-to-many relationship to the User class (e.g. MenuItems is just one of them, there are other classes with the same relationship).</p>\n\n<p>I have a MenuItem class that has has the UserId as the foreign key. I also want to track the user that last updated the item. But if I add the <code>LastUpdatedById</code> and <code>LastUpdatedBy</code> properties, EF core will throw an error due to the navigation property <code>User</code> participating in more than one relationship. </p>\n\n<p>The whole point I was trying to solve this was when fetching the items, to include the <code>Created</code> and <code>LastUpdatedBy</code> properties so that I can easily access the user name + id. <strong><em>Is there a way to solve this or is the only option to make this a many-to-many relationship? If so, what would be the best method to accomplish that?</em></strong></p>\n\n<p>The simplest option would be to make the properties string values and just update them during relevant CRUD operations but I wanted this to be a little more dynamic.</p>\n\n<pre><code>public class User\n    {\n        [Key]\n        public Guid Id { get; set; }\n\n        [Required]\n        public string Name { get; set; }\n\n        [Required]\n        public DateTime Created { get; set; }\n\n        public ICollection&lt;MenuItem&gt; MenuItems { get; set; }\n    }\n\n\npublic class MenuItem\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public int Id { get; set; }\n\n        public ItemType Type { get; set; }\n\n        [Required]\n        public DateTime Created { get; set; }\n\n        public int? ParentMenuItemId { get; set; }\n\n        public MenuItem ParentMenuItem { get; set; }\n\n        public ICollection&lt;MenuItem&gt; ChildMenuItems { get; set; }\n\n        [Required]\n        public Guid UserId { get; set; }\n\n        [Required]\n        public User CreatedBy { get; set; }\n\n        [Required]\n        public Guid LastUpdatedById { get; set; }\n\n        [Required]\n        public User LastUpdatedBy { get; set; }\n    }\n</code></pre>\n\n<hr>\n\n<p>Thanks to David for my solution. I ended up going a slightly different route based on his answer:</p>\n\n<p>I created below 2 properties and deleted the original collection of MenuItem from User. </p>\n\n<pre><code>public ICollection&lt;MenuItem&gt; UpdatedMenuItems { get; set; }\npublic ICollection&lt;MenuItem&gt; CreatedMenuItems { get; set; }\n</code></pre>\n\n<p>I also used fluent API to explicitly define the relationship to make it fully defined.</p>\n\n<pre><code>modelBuilder.Entity&lt;MenuItem&gt;()\n    .HasOne(x =&gt; x.CreatedBy)\n    .WithMany(x =&gt; x.CreatedMenuItems)\n    .HasForeignKey(x =&gt; x.UserId)\n    .OnDelete(DeleteBehavior.Cascade);\n\n modelBuilder.Entity&lt;MenuItem&gt;()\n    .HasOne(x =&gt; x.LastUpdatedBy)\n    .WithMany(x =&gt; x.UpdatedMenuItems)\n    .HasForeignKey(p =&gt; p.LastUpdatedById)\n    .OnDelete(DeleteBehavior.Restrict);\n</code></pre>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 2780, "user_id": 3883866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsLP1.jpg?s=128&g=1", "display_name": "Jesse de Wit", "link": "https://stackoverflow.com/users/3883866/jesse-de-wit"}, "edited": false, "score": 1, "creation_date": 1566408597, "post_id": 57596401, "comment_id": 101650358, "body": "Your array is not a <code>List&lt;ClassB&gt;</code>, because it contains arrays as well. You&#39;ll have to write a <a href=\"https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\" rel=\"nofollow noreferrer\">custom JsonConverter</a> to handle that array. Or make <code>b</code> a <code>JArray</code> instead."}, {"owner": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "edited": false, "score": 0, "creation_date": 1566409265, "post_id": 57596401, "comment_id": 101650643, "body": "Use <a href=\"https://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">newtonsoft.com/json</a>"}], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 9790414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jbaeha", "link": "https://stackoverflow.com/users/9790414/jbaeha"}, "is_accepted": false, "score": 1, "last_activity_date": 1566411816, "creation_date": 1566411816, "answer_id": 57597301, "question_id": 57596401, "link": "https://stackoverflow.com/questions/57596401/deserialize-complex-json-into-object-getting-error-cannot-deserialize-the-curr/57597301#57597301", "title": "Deserialize complex JSON into Object - getting error Cannot deserialize the current JSON array (e.g. [1,2,3])", "body": "<p>The JSON that you use have different structure than the object class that you want to deserialize into.</p>\n\n<p>An example of JSON that match your object will be something like this</p>\n\n<pre><code>{\n  \"a\": \"2019-08-08T19:34:25Z\",\n  \"b\": [\n    {\n      \"c\": \"asdf\",\n      \"stringList1\": [\n        \"d\",\n        \"e\",\n        \"f\"\n      ],\n      \"g\": \"sdfg\",\n      \"h\": \"dfgh\",\n      \"i\": \"fghj\",\n      \"j\": \"ghjk\",\n      \"stringList2\": [\n        \"k\",\n        10,\n        10\n      ]\n    }\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 1366062, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/80b607abf7b50ecf2d17bdfc26e45b14?s=128&d=identicon&r=PG", "display_name": "user1366062", "link": "https://stackoverflow.com/users/1366062/user1366062"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566411816, "creation_date": 1566407764, "question_id": 57596401, "link": "https://stackoverflow.com/questions/57596401/deserialize-complex-json-into-object-getting-error-cannot-deserialize-the-curr", "title": "Deserialize complex JSON into Object - getting error Cannot deserialize the current JSON array (e.g. [1,2,3])", "body": "<p>I have a JSON object string I am trying to deserialize into a C# object that I've created, but I keep getting the error during deserialization Cannot deserialize the current JSON array (e.g. [1,2,3]) into type because the type requires a JSON object (e.g. {\\\"name\\\":\\\"value\\\"}) to deserialize correctly.</p>\n\n<p>The JSON appears to have arrays within an array and I suspect that is what is causing the problem but I have not had any luck figuring out the exact issue.  I must admit I am new when it comes to handling JSON data and so I find myself here.</p>\n\n<p>I've tried various things including an online tool to generate the class for me, but it's not giving me a desirable result.  None of the examples I've been able to find look quite like the JSON I am working with here which is causing me a bit of a roadblock.</p>\n\n<p>The JSON in question:</p>\n\n<pre><code>{\n  \"a\": \"2019-08-08T19:34:25Z\",\n  \"b\": [\n    {\n      \"c\": \"asdf\"\n    },\n    [\n      \"d\",\n      \"e\",\n      \"f\"\n    ],\n    {\n      \"g\": \"sdfg\"\n    },\n    {\n      \"h\": \"dfgh\"\n    },\n    {\n      \"i\": \"fghj\"\n    },\n    {\n      \"j\": \"ghjk\"\n    },\n    [\n      \"k\",\n      10,\n      10\n    ]\n  ]\n}\n</code></pre>\n\n<p>The objects I am trying to deserialize into:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public class ClassA\n    {\n        public DateTime a { get; set; }\n        public List&lt;ClassB&gt; b { get; set; }\n    }\n\n    public class ClassB\n    {\n        public string c { get; set; }\n        public List&lt;string&gt; stringList1 { get; set; }\n        public string g { get; set; }\n        public string h { get; set; }\n        public string i { get; set; }\n        public string j { get; set; }\n        public List&lt;string&gt; stringList2 { get; set; }\n    }\n</code></pre>\n\n<p>and lastly, the code I am using to deserialize:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>ClassA jclassa = JsonConvert.DeserializeObject&lt;ClassA&gt;(strdata);\n</code></pre>\n\n<p>I'm hoping I can load this JSON into this class without introducing too much exotic looking stuff.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 0, "creation_date": 1566408320, "post_id": 57596330, "comment_id": 101650247, "body": "Having an email that already exists isn&#39;t really an exception but rather a business rules. You need a way to combine business rules and display multiple to the user. Right now, only one can be displayed at a time. The save should fail but you&#39;ll need an other way to get the errors. It could be something like service.GetBusinessRuleErrors(). you could even have a service.AreBusinessRuleValid() before calling the save."}, {"owner": {"reputation": 2780, "user_id": 3883866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsLP1.jpg?s=128&g=1", "display_name": "Jesse de Wit", "link": "https://stackoverflow.com/users/3883866/jesse-de-wit"}, "edited": false, "score": 0, "creation_date": 1566408853, "post_id": 57596330, "comment_id": 101650470, "body": "Agree with the_lotus. Or you could make service.Save return a <code>SaveResult</code> which indicates success or failure with reason. This question is opinion based though, so not suitable for SO."}, {"owner": {"reputation": 83, "user_id": 1339551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49d25a945f1cccbbd9f051da9edaf1e9?s=128&d=identicon&r=PG", "display_name": "Oliver Schimmer", "link": "https://stackoverflow.com/users/1339551/oliver-schimmer"}, "reply_to_user": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 0, "creation_date": 1566413554, "post_id": 57596330, "comment_id": 101652398, "body": "I agree with @the_lotus - don&#39;t throw &quot;business logic exceptions&quot;. You&#39;re much better off reserving exceptions for things that can&#39;t happen if your application is being used normally. The main reasons are that catching and rethrowing exceptions gets messy real fast, it&#39;s hard to do useful stuff in a <code>catch</code> anyway, your code gets cluttered with Exception classes, and you can only throw one thing at a time. Validation logic can be an important part of your business layer. I tend to return container objects with a payload property and an <code>IsSuccessful</code> flag or maybe an error list."}], "owner": {"reputation": 469, "user_id": 5525964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436adde50368d78dc5cbcfc9c4974df0?s=128&d=identicon&r=PG&f=1", "display_name": "crrlos", "link": "https://stackoverflow.com/users/5525964/crrlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566407393, "creation_date": 1566407393, "question_id": 57596330, "link": "https://stackoverflow.com/questions/57596330/handling-exceptions-from-service-layer-applying-clean-code", "title": "Handling exceptions from service layer applying clean code", "body": "<p>I have a service that saves an employee, if the employee email or code already exists the service return an Exception that is catched in the controller and then add the error to return the view. I'm starting practicing clean code, and I want to know if this implementation is fine or if the <code>service.Save(e)</code> method should validate if email/code exists and just return a status code.</p>\n\n<pre><code>public async Task&lt;ActionResult&gt; Create(Employee e)\n    {\n\n          if (ModelState.IsValid)\n          {\n            try\n            {\n              service.Save(e);\n              RedirectToAction(\"Index\");\n            }\n            catch (EmailExistException ex)\n            {\n              ModelState.AddModelError(\"email\", ex.Message);\n            }\n            catch (CodeExistException ex)\n            {\n              ModelState.AddModelError(\"code\", ex.Message);\n            }\n\n\n          }\n\n          return View(e);\n    }\n</code></pre>\n"}, {"tags": ["c#", "class", "oop", "inheritance"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1566408562, "post_id": 57596318, "comment_id": 101650345, "body": "Given your interface declaration, the derived classes <i>must</i> return type <code>object</code>. If you are willing/able to modify the interface so that it&#39;s generic, and the <code>Message</code> property can have type <code>T</code> (i.e. the interface type parameter), then each implementing class would be able to specify its own type. Unfortunately, it&#39;s not clear from your question what is possible here."}, {"owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1566409017, "post_id": 57596318, "comment_id": 101650544, "body": "Thanks Peter. How would I change the message type in the interface as you suggest please?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1566409204, "post_id": 57596318, "comment_id": 101650619, "body": "See answer on marked duplicate. You may or may not need the non-generic base interface type shown in that answer, depending your exact scenario."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1566409700, "post_id": 57596318, "comment_id": 101650835, "body": "At some point you&#39;re going to need message handlers. How are you creating those? Are they resolved from an IoC container?"}, {"owner": {"reputation": 801, "user_id": 8773089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1759b23fe4823d0a961d9475253b9c?s=128&d=identicon&r=PG&f=1", "display_name": "StackOverthrow", "link": "https://stackoverflow.com/users/8773089/stackoverthrow"}, "edited": false, "score": 0, "creation_date": 1566409740, "post_id": 57596318, "comment_id": 101650842, "body": "It&#39;s not clear whether this is relevant in your case, but I&#39;m doing something similar with many different types of messages transmitted over a network. The header always has the same format, but the payload is completely different for each message type. My <code>Message</code> class has a <code>Memory&lt;byte&gt;</code> and a <code>GetPayload&lt;T&gt;</code> method where <code>T</code> is constrained to be a <code>struct</code>. The consumer checks the type value in the header and calls <code>GetPayload</code> with the appropriate type argument."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1566411284, "post_id": 57596318, "comment_id": 101651480, "body": "IMO the ideal situation is to end up with clean, type-safe message handler classes like <code>IMessageHandler&lt;TMessage&gt;</code>. Those classes will do the real work. Everything else is about getting the message to that class. From that standpoint I think it might be worth it if the code to &quot;bridge&quot; from non-generic <code>object</code> to <code>TMessage</code> might be worth it. I can offer some code, but the last step in the process depends on whether you&#39;re using IoC and if so, which one. It&#39;s a trade-off - some slightly complex and/or messy code which enables the message handlers to be type safe and testable."}, {"owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1566412217, "post_id": 57596318, "comment_id": 101651841, "body": "@ScottHannen It&#39;s a proof of concept app really. It&#39;s using .net Core so the IoC is already built in. There&#39;s a consumer service declared within that that starts at startup and listens for incoming events on the queue. The service receives all message types, so it&#39;s on the &quot;onMessageReceived&quot; event that the first opportunity would arise to do something like, e.g. <code>If (msg.contains(\\&quot;MessageType\\&quot;:\\&quot;MessageType1\\&quot;) {do some stuff in MessageHandler(IMessageType&lt;MessageType1&gt;) }</code> if that&#39;s the sort of approach you mean?"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1566997245, "post_id": 57596318, "comment_id": 101830182, "body": "That&#39;s part of what the unit test is for. If you want to resolve any issues along the way or just verify that it works, you can run and debug the unit test. It&#39;s faster, easier, and more focused than running the whole application. It&#39;s also better to ask new questions. These Q&amp;As are meant to be useful to anyone who reads the question. But now the question that I answered isn&#39;t the same one you originally asked."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1566997556, "post_id": 57596318, "comment_id": 101830391, "body": "What is the exception you&#39;re getting?"}, {"owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1567013714, "post_id": 57596318, "comment_id": 101839161, "body": "There is no exception. As I said in the edited question, the handle that should be available in the constructor is just null. I take your point about extending the question, but as the code doesn&#39;t work as is, it makes it better to resolve it I think?  Anyhow, I&#39;ll try debugging the test but I don&#39;t think it will work in quite the same way."}], "answers": [{"comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1566416138, "post_id": 57597920, "comment_id": 101653533, "body": "Another thought - consider how much simpler all of this becomes if there&#39;s any way you can avoid having your message typed as <code>object</code> in the first place. To me, that&#39;s where the complexity comes in. But I&#39;ve had to work through this pattern a few times, where some string identifies the type - maybe the message is JSON or something - and there&#39;s no choice but to write the code to bridge from <code>object</code> to something generic."}, {"owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1566416806, "post_id": 57597920, "comment_id": 101653825, "body": "thank you so much for that, it will take me a while to work through. You are right, it&#39;s json and cannot be changed, so a necessary evil. This looks great!"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1566417268, "post_id": 57597920, "comment_id": 101653996, "body": "In that case, the deserialization might make sense in <code>MessageHandlerWrapper&lt;TMessage&gt;</code>. Instead of <code>object</code> for the message content you could just leave it as a string. Right where the example above casts the message <code>object</code> as <code>TMessage</code> you could deserialize the JSON instead."}, {"owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1566421665, "post_id": 57597920, "comment_id": 101655599, "body": "I&#39;m working through this and have a question about what <code>&#47;&#47; MessageTypeOneHandler is the implementation of IMessageHandler&lt;MessageTypeOne&gt;</code> is in your comments above?  What purpose does this serve as I&#39;m struggling to understand, sorry. Where does this implementation come from? My intention is to just use Newtonsoft&#39;s json class to deserialize the string into the specific message class, e.g. MessageType1."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1566421802, "post_id": 57597920, "comment_id": 101655644, "body": "This means that once you&#39;ve determined the concrete type, like <code>MessageTypeOne</code> or <code>Type2Message</code>, you&#39;ll need a class that implements <code>IMessageHandler&lt;Type2Message&gt;</code>. I didn&#39;t include an implementation of that because I don&#39;t know what happens downstream when you actually process the message after deserialziing it. (I&#39;m also working up a separate self-answered version of this because it&#39;s a common problem, and by doing that the answer will more closely match the question.)"}, {"owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1566422161, "post_id": 57597920, "comment_id": 101655761, "body": "Ah, OK. Well in this case all that will happen is that the deserialized message will (now in its concrete form) be written to the relevant db table for subsequent processing. This app is really just a service to dequeue items and write them to a small db to allow another web api to pull items from that db and do something funky with them. I haven&#39;t got to that part of the app yet, but in my mind it was just a single class that was taking in a &lt;T&gt; model (whichever one of the message types it has deserialized into) and writing it to the relevant db table."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1566422311, "post_id": 57597920, "comment_id": 101655805, "body": "So in that case you could have a class that implements <code>IMessageHandler&lt;TypeA&gt;</code>, and that class does exactly that - it reads the properties of the message and writes them to a table. Another class implements <code>IMessageHandler&lt;TypeB&gt;</code> and writes different properties to a different table."}, {"owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "edited": false, "score": 0, "creation_date": 1566988431, "post_id": 57597920, "comment_id": 101825234, "body": "Sorry for delay. Been on other stuff and struggling to get this implemented. Have added a section at bottom of OP to show where there is one sticking point."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1566423569, "last_edit_date": 1566423569, "creation_date": 1566414798, "answer_id": 57597920, "question_id": 57596318, "link": "https://stackoverflow.com/questions/57596318/inheritance-and-extension-of-models-in-c-with-multiple-implementations-of-prope/57597920#57597920", "title": "Inheritance and extension of models in c# with multiple implementations of property within base", "body": "<p>Here's an approach. The intent of the design is to enable you to write type-safe generic message handler classes, but be able to call them when you're starting from a message of type <code>object</code>. Bridging from one to the other can be a pain, and I think it's at the heart of your question.</p>\n\n<p>This doesn't use inheritance for the messages. (You mentioned you were open to not inheriting.) I don't think it would add any value in this scenario, although this could be adapted to use inheritance.</p>\n\n<p>First, here's a generic <code>Message&lt;T&gt;</code> class. This doesn't replace your existing message class. It's just that in order to have a type-safe generic <em>handler</em>, you need a generic <em>message</em>.</p>\n\n<pre><code>public class Message&lt;T&gt;\n{\n    public Message(T content, Guid id, string messageType, DateTime consumeDate)\n    {\n        Content = content;\n        Id = id;\n        MessageType = messageType;\n        ConsumeDate = consumeDate;\n    }\n\n    public T Content { get; }\n    public Guid Id { get;  }\n    public string MessageType { get; }\n    public DateTime ConsumeDate { get;  }\n}\n</code></pre>\n\n<p>Next, here's an interface for a message handler. The implementation doesn't matter for this example. What matters is that whatever <code>T</code> is, you can write a class to handle it.</p>\n\n<pre><code>public interface IMessageHandler&lt;T&gt; \n{\n    void HandleMessage(Message&lt;T&gt; message);\n}\n</code></pre>\n\n<p>This next interface and class are intended to serve as a \"bridge\" from your non-generic message (which uses <code>object</code>) to your generic message handler:</p>\n\n<pre><code>public interface IMessageHandler\n{\n    void HandleMessage(IQueueMessage message);\n}\n\npublic class MessageHandlerWrapper&lt;TMessage&gt; : IMessageHandler\n{\n    private readonly IMessageHandler&lt;TMessage&gt; _handler;\n\n    public MessageHandlerWrapper(IMessageHandler&lt;TMessage&gt; handler)\n    {\n        _handler = handler;\n    }\n\n    // This is the critical part - it gets us from object to TMessage.\n    public void HandleMessage(IQueueMessage message)\n    {\n        _handler.HandleMessage(\n            new Message&lt;TMessage&gt;(\n                (TMessage)message.Message,\n                message.Id,\n                message.MessageType,\n                message.ConsumeDate));\n    }\n}\n</code></pre>\n\n<p>Then you'll need a factory that returns the correct <code>IMessageHandler</code> depending on the message type string:</p>\n\n<pre><code>public interface IMessageHandlerFactory\n{\n    IMessageHandler GetHandler(string messageType);\n}\n</code></pre>\n\n<p>Putting all of this together connects your non-generic message to your generic message handler:</p>\n\n<pre><code>public class MessageRouter : IMessageHandler\n{\n    private readonly IMessageHandlerFactory _messageHandlerFactory;\n\n    public MessageRouter(IMessageHandlerFactory messageHandlerFactory)\n    {\n        _messageHandlerFactory = messageHandlerFactory;\n    }\n\n    public void HandleMessage(IQueueMessage message)\n    {\n        var handler = _messageHandlerFactory.GetHandler(message.MessageType);\n        handler.HandleMessage(message);\n    }\n}\n</code></pre>\n\n<p>This class also implements <code>IMessageHandler</code>. It's going to take the message, without caring what the type is, use the factory to get a more specific handler, and route the message to that handler.</p>\n\n<p>Now we need to implement the factory. Here's an implementation which will allow us to resolve handlers from an <code>IServiceProvider</code> without resorting to a service locator:</p>\n\n<pre><code>public class MessageHandlerFactory : IMessageHandlerFactory\n{\n    private readonly Dictionary&lt;string, Func&lt;IMessageHandler&gt;&gt; _messageHandlers\n        = new Dictionary&lt;string, Func&lt;IMessageHandler&gt;&gt;(StringComparer.OrdinalIgnoreCase);\n\n    public void RegisterHandler(string messageType, Func&lt;IMessageHandler&gt; getHandlerFunction)\n    {\n        _messageHandlers[messageType] = getHandlerFunction;\n    }\n\n    public IMessageHandler GetHandler(string messageType)\n    {\n        if (_messageHandlers.ContainsKey(messageType))\n            return _messageHandlers[messageType]();\n        throw new InvalidOperationException($\"No handler is registered for message type {messageType}.\");\n        // Or you could return some default handler that does something else with \n        // unknown message types.\n    }\n}\n</code></pre>\n\n<p>Now we can register implementations as follows:</p>\n\n<pre><code>public static class MessageHandlerServiceCollectionExtensions\n{\n    public static IServiceCollection AddMessageHandlers(this IServiceCollection services)\n    {\n        void RegisterHandler&lt;TMessageType, THandler&gt;() \n            where TMessageType : class\n            where THandler : IMessageHandler&lt;TMessageType&gt;\n        {\n            services.AddSingleton&lt;TMessageType&gt;();\n            services.AddSingleton(\n                serviceProvider =&gt; new MessageHandlerWrapper&lt;TMessageType&gt;(serviceProvider.GetService&lt;THandler&gt;())\n            );\n        }\n\n        // MessageTypeOneHandler is the implementation of IMessageHandler&lt;MessageTypeOne&gt;\n        RegisterHandler&lt;MessageTypeOne, MessageTypeOneHandler&gt;();\n        RegisterHandler&lt;MessageTypeTwo, MessageTypeTwoHandler&gt;();\n\n        // some string constants for message types would be better.\n        services.AddSingleton&lt;IMessageHandlerFactory&gt;(serviceProvider =&gt;\n        {\n            var factory = new MessageHandlerFactory();\n            factory.RegisterHandler(\"messagetypeone\",\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;MessageTypeOne&gt;&gt;);\n            factory.RegisterHandler(\"messagetypetwo\",\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;MessageTypeTwo&gt;&gt;);\n            return factory;\n        });\n\n        services.AddSingleton&lt;IMessageHandler, MessageRouter&gt;();\n        return services;\n    }\n}\n</code></pre>\n\n<p>Having done all of this, does it seem a bit complex? It does to me, but I still consider it worth the effort. Why?</p>\n\n<ul>\n<li>The message handlers are type safe instead of allowing <code>object</code> to propagate through the code. We're containing it like a disease. We can create simple, testable, single-responsibility  classes that implement <code>IMessageHandler&lt;TMessage&gt;</code>. </li>\n<li>Everything gets resolved from the container. That means the message handlers could all have their own unique dependencies, and that would be okay.</li>\n<li>No reflection. It's not that reflection is evil, but once we go down that road it seems to get worse.</li>\n<li>There is a clear path forward for the you or the next developer if you need to add handlers for more types. Even if they have no idea how to register the handlers and they don't do it, the exceptions will give them a clear path forward, showing them what they need to do. If it's registered it will get resolved. If it's not, the factory will throw an exception.</li>\n</ul>\n\n<p>Finally, all of this is testable, even the factory. If the message types were an <code>enum</code> you could just run one test to ensure that there's a handler for every type.</p>\n\n<pre><code>[DataTestMethod]\n[DataRow(\"MessageTypeOne\")]\n[DataRow(\"MessageTypeTwo\")]\npublic void FactoryResolvesMessageHandlers(string messageType)\n{\n    var services = new ServiceCollection();\n    services.AddMessageHandlers();\n    var provider = services.BuildServiceProvider();\n    var factory = provider.GetService&lt;IMessageHandlerFactory&gt;();\n    var handler = factory.GetHandler(messageType);\n    Assert.IsNotNull(handler);\n}\n</code></pre>\n"}], "owner": {"reputation": 1471, "user_id": 1117626, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4985ce23001434fd908054272ef2ccf5?s=128&d=identicon&r=PG", "display_name": "TheMook", "link": "https://stackoverflow.com/users/1117626/themook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566988367, "creation_date": 1566407329, "last_edit_date": 1566988367, "question_id": 57596318, "link": "https://stackoverflow.com/questions/57596318/inheritance-and-extension-of-models-in-c-with-multiple-implementations-of-prope", "title": "Inheritance and extension of models in c# with multiple implementations of property within base", "body": "<p>I have a pub/sub queue that returns what I'll call QueueMessages.</p>\n\n<p>A QueueMessage has a Type and a Body. The type is always a string but the body varies depending on the type. I want the inheriting class to set the message type. I want to add my own local properties for storing on processing datatables.</p>\n\n<p>I was hoping to be able to define a generic object for the body and override in the inheriting classes but it fails as I'm changing the return type.</p>\n\n<p>Interface:</p>\n\n<pre><code>interface IBaseQueueMessage\n{\n    Guid Id { get; set; }\n    string MessageType { get; }\n    object Message { get; set; }\n    DateTime ConsumeDate { get; set; }\n}\n</code></pre>\n\n<p>Base class:</p>\n\n<pre><code>public abstract class BaseQueueMessage:IBaseQueueMessage\n{\n    public Guid Id { get; set; }\n    public abstract string MessageType { get; }\n    public abstract object Message { get; set; }\n    public DateTime ConsumeDate =&gt; DateTime.Now;\n}\n</code></pre>\n\n<p>Inheriting Classes (there are 7 or 8 different ones in total)</p>\n\n<pre><code>public sealed class Type1Message: BaseCallType\n{\n    public override string MessageType =&gt; \"Type1Message\";\n    public override Type1Message Message { get; set; }\n}\n\npublic class Type1Message\n{\n    public string aaa { get; set; }\n    public int bbb { get; set; }\n}\n\npublic sealed class Type2Message: BaseCallType\n{\n    public override string MessageType =&gt; \"Type2Message\";\n    public override Type2Message Message { get; set; }\n}\n\npublic class Type2Message\n{\n    public string aaa { get; set; }\n    public string bbb { get; set; }\n    public int ccc {get; set;}\n    public bool ddd {get; set;}\n}\n</code></pre>\n\n<p>The above fails as I'm trying to return a specific class instead of the generic object.  I understand why it would fail, but I'd like to know what would be the correct way of doing this please?  I could just define individual classes for each and to hell with the interface and inheritance but it feels wrong to approach it that way.  I intend to map the QueueMessage directly onto the inheriting classes for each different type so I want the model to match exactly what I pick up from the queue.</p>\n\n<p>Apologies in advance for probably missing something really obvious, it's been a while since I did any coding and this is a relatively new area to me.</p>\n\n<p><strong>Edited to add more details on implementation problem</strong></p>\n\n<p>Lots of this works, thanks. Where I still have a problem is in the MessageHandlerWrapper.  If I debug, then the handler object from the constructor that the method tries to use in <code>_handler = handler</code> is always null. </p>\n\n<p>In my .net core startup.cs I have: </p>\n\n<pre><code>        void RegisterHandler&lt;TMessageType, THandler&gt;()\n            where TMessageType : class\n            where THandler : IMessageHandler&lt;TMessageType&gt;\n        {\n            serviceCollection.AddSingleton&lt;TMessageType&gt;();\n            serviceCollection.AddSingleton(\n                serviceProvider =&gt; new MessageHandlerWrapper&lt;TMessageType&gt;(serviceProvider.GetService&lt;THandler&gt;(), serviceProvider)\n            );\n        }\n</code></pre>\n\n<p>...and it's the <code>...=&gt; new MessageHandlerWrapper&lt;...</code> near the end of that block that is resolved by the dependency when I'm debugging in the code mentioned above, so I can't see why the service isn't available at that point.</p>\n\n<p>Is there some way I can manually try to debug this by resolving the service to a concrete handler in MessageHandlerWrapper to see where the problem may lie?</p>\n\n<p>For completeness, the whole section in startup.cs is:</p>\n\n<pre><code>//set up message handlers\n        var msgFactory = new MessageHandlerFactory();\n\n        //create local function to make it easier to add service references\n        void RegisterHandler&lt;TMessageType, THandler&gt;()\n            where TMessageType : class\n            where THandler : IMessageHandler&lt;TMessageType&gt;\n        {\n            serviceCollection.AddSingleton&lt;TMessageType&gt;();\n            serviceCollection.AddSingleton(\n                serviceProvider =&gt; new MessageHandlerWrapper&lt;TMessageType&gt;(serviceProvider.GetService&lt;THandler&gt;(), serviceProvider)\n            );\n        }\n\n        // Type1MessageHandler, etc is the implementation of IMessageHandler&lt;Type1&gt;\n        RegisterHandler&lt;Type1, Type1MessageHandler&gt;();\n        RegisterHandler&lt;Type2, Type2MessageHandler&gt;();\n        RegisterHandler&lt;Type3, Type3MessageHandler&gt;();\n        RegisterHandler&lt;Type4, Type4MessageHandler&gt;();\n\n        // some string constants for message types would be better.\n        serviceCollection.AddSingleton&lt;IMessageHandlerFactory&gt;(serviceProvider =&gt;\n        {\n            msgFactory.RegisterHandler(\"Type1\",\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;Type1&gt;&gt;);\n            msgFactory.RegisterHandler(\"Type2\",\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;Type2&gt;&gt;);\n            msgFactory.RegisterHandler(\"Type3\",\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;Type3&gt;&gt;);\n            msgFactory.RegisterHandler(\"Type4\",\n                serviceProvider.GetService&lt;MessageHandlerWrapper&lt;Type4&gt;&gt;);\n            return msgFactory;\n        });\n\n        serviceCollection.AddSingleton&lt;IMessageHandler, MessageRouter&gt;();\n</code></pre>\n"}, {"tags": ["c#", "wpf", "teechart"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4532282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDehy8lW9K8/AAAAAAAAAAI/AAAAAAAAAj8/ATEPBJifvP8/photo.jpg?sz=128", "display_name": "Oleg Kucherenko", "link": "https://stackoverflow.com/users/4532282/oleg-kucherenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1566918376, "creation_date": 1566918376, "answer_id": 57677625, "question_id": 57596147, "link": "https://stackoverflow.com/questions/57596147/how-to-set-teechart-licenses-file-for-a-plugin-assembly/57677625#57677625", "title": "How to set TeeChart.licenses file for a plugin assembly", "body": "<p>TeeChart tutorial says there is on option to call <a href=\"http://www.teechart.net/docs/teechart/net/tutorials/html/TeeChartProNetTutorialsContentsTutorial17-DesigntimeandRuntimeLicenseRequirements.htm#USEINPLUGIN\" rel=\"nofollow noreferrer\">plugin-constructor</a> to manually pass an assembly which contains license: \nBut this doesn\u2019t work actually for Steema.TeeChart.WPF.TChart (as of steema.teechart.net.4.2019.8.8). I decompiled the code and verified that those plugin constructors do nothing with passed instances.</p>\n\n<p>Overall license pickup process looks like following:</p>\n\n<ol>\n<li>First it checks for the first resource named \u201c*TeeChart.licenses*\u201d embedded in a starting assembly.</li>\n<li>Then it checks for a file named \"TeeChart.licenses\" in a working directory.</li>\n<li>Then in checks for a resource file \u201csteema.resources\u201d at starting assembly location and takes resource named \u201cTeeChart\u201d from there.</li>\n<li>Then in checks for a resource file \u201cResX\\steema.resources\u201d at starting assembly location and takes resource named \u201cTeeChart\u201d from there.</li>\n</ol>\n\n<p>In my case I just created steema.resources file dynamically and embedded there the license from non-executing assembly:</p>\n\n<pre><code>    public static void FixTeeChartLicense(Assembly assembly)\n    {\n        var filename = \"steema.resources\";\n        if (File.Exists(filename))\n        {\n            return;\n        }\n\n        var resourceName = assembly.GetManifestResourceNames().FirstOrDefault(s =&gt; s.Contains(\"TeeChart.licenses\"));\n        if (resourceName == null)\n        {\n            return;\n        }\n\n        using (var resourceStream = assembly.GetManifestResourceStream(resourceName))\n        using (var resourceWriter = new ResourceWriter(filename))\n        {\n            resourceWriter.AddResource(\"TeeChart\", resourceStream);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4532282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDehy8lW9K8/AAAAAAAAAAI/AAAAAAAAAj8/ATEPBJifvP8/photo.jpg?sz=128", "display_name": "Oleg Kucherenko", "link": "https://stackoverflow.com/users/4532282/oleg-kucherenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566918376, "creation_date": 1566406420, "question_id": 57596147, "link": "https://stackoverflow.com/questions/57596147/how-to-set-teechart-licenses-file-for-a-plugin-assembly", "title": "How to set TeeChart.licenses file for a plugin assembly", "body": "<p>I use steema.teechart.net.4.2019.8.8 for WPF development.\nI need to specify a license in a non-exe assembly (A) which uses TChart control because I don't have an access to executing assembly (B). To do \nthat I:</p>\n\n<ul>\n<li>added TeeChart.licenses file as embedded resource to assembly A project.</li>\n<li>added a \"plugin-constructor\" call \"new TChart(this)\" before creation of any other TChart controls (where \"this\" is an instance of type from assembly A).</li>\n</ul>\n\n<p>But this didn't work, I still see \"This is an EVALUATION version ...\" during runtime; while designtime everything is fine.</p>\n\n<p>Can you please advise how to specify TeeChart.licenses not for an executing assembly, but for assembly actually using TChart?</p>\n\n<p>PS:</p>\n\n<ul>\n<li>Embedding TeeChart.licenses in an executing assembly works fine but this is not an option.</li>\n<li>Copying TeeChart.licenses to output directory works fine too, but this is undesirable.</li>\n</ul>\n"}, {"tags": ["c#", "linq", "linqpad"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1566406899, "post_id": 57596138, "comment_id": 101649744, "body": "FYI if you want to do a search this is known as a Pivot."}], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 2, "last_activity_date": 1566407717, "last_edit_date": 1566407717, "creation_date": 1566407561, "answer_id": 57596353, "question_id": 57596138, "link": "https://stackoverflow.com/questions/57596138/turn-flat-query-into-2d-table/57596353#57596353", "title": "Turn flat query into 2D table", "body": "<p>Create a pivot table like code below:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Data;\n\nnamespace ConsoleApplication1\n{\n    public class Program\n    {\n        static void Main(string[] args)\n        {\n            DataTable dt = new DataTable();\n            dt.Columns.Add(\"Date\", typeof(DateTime));\n            dt.Columns.Add(\"Prod\", typeof(string));\n            dt.Columns.Add(\"Qty\", typeof(int));\n\n            dt.Rows.Add(new object[] {DateTime.Parse(\"06/01/2018\"), \"ABC\", 10});\n            dt.Rows.Add(new object[] {DateTime.Parse(\"06/02/2018\"), \"ABC\", 5});\n            dt.Rows.Add(new object[] {DateTime.Parse(\"06/03/2018\"), \"ABC\", 3});\n            dt.Rows.Add(new object[] {DateTime.Parse(\"06/01/2018\"), \"DEF\", 2});\n            dt.Rows.Add(new object[] {DateTime.Parse(\"06/02/2018\"), \"DEF\", 8});\n            dt.Rows.Add(new object[] {DateTime.Parse(\"06/03/2018\"), \"DEF\", 11});\n            dt.Rows.Add(new object[] {DateTime.Parse(\"06/01/2018\"), \"GHI\", 1});\n\n            string[] uniqueProducts = dt.AsEnumerable().Select(x =&gt; x.Field&lt;string&gt;(\"Prod\")).OrderBy(x =&gt; x).Distinct().ToArray();\n\n            DataTable pivot = new DataTable();\n            pivot.Columns.Add(\"Date\", typeof(DateTime));\n            foreach (string prod in uniqueProducts)\n            {\n                pivot.Columns.Add(prod, typeof(int));\n            }\n\n            var groups = dt.AsEnumerable().OrderBy(x =&gt; x.Field&lt;DateTime&gt;(\"Date\")).GroupBy(x =&gt; x.Field&lt;DateTime&gt;(\"Date\").Date).ToList();\n\n            foreach(var group in groups)\n            {\n                DataRow newRow = pivot.Rows.Add();\n                newRow[\"Date\"] = group.Key;\n                foreach (DataRow row in group)\n                {\n                    newRow[row.Field&lt;string&gt;(\"Prod\")] = row.Field&lt;int&gt;(\"Qty\");\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 9238066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5305d77ad7b276102b901a8d010b9a81?s=128&d=identicon&r=PG&f=1", "display_name": "epursimuove", "link": "https://stackoverflow.com/users/9238066/epursimuove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57596353, "answer_count": 1, "score": 1, "last_activity_date": 1566407717, "creation_date": 1566406368, "last_edit_date": 1566407694, "question_id": 57596138, "link": "https://stackoverflow.com/questions/57596138/turn-flat-query-into-2d-table", "title": "Turn flat query into 2D table", "body": "<p>I have a database table where each row has (among other things), Date, Product and Quantity fields:</p>\n\n<pre><code>Date       Prod Qty\n06/01/2018 ABC 10\n06/02/2018 ABC 5\n06/03/2018 ABC 3\n...\n06/01/2018 DEF 2\n06/02/2018 DEF 8\n06/03/2018 DEF 11\n...\n06/01/2018 GHI 1\n</code></pre>\n\n<p>I would like to output a 2D table grouped by dates and products:</p>\n\n<pre><code>            ABC DEF GHI\n06/01/2018  10  2    1\n06/02/2018  5   8    2\n06/03/2018  3   11   4\n</code></pre>\n\n<p>I can see an ugly and un-LINQ-y way to do this (find distinct lists of dates and products, make a 2D array with dimensions matching these lists, manually go through the list to find the quantity associated with that row and column.) But is there something more elegant? </p>\n\n<p>The number of products is large, so manually joining a bunch of queries doesn't seem viable.</p>\n"}, {"tags": ["c#", "list"], "comments": [{"owner": {"reputation": 9156, "user_id": 1251376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gy16t.jpg?s=128&g=1", "display_name": "ssilas777", "link": "https://stackoverflow.com/users/1251376/ssilas777"}, "edited": false, "score": 0, "creation_date": 1566406838, "post_id": 57596130, "comment_id": 101649725, "body": "you are creating a new instance of List&lt;EmployeeDDL&gt; before accessing it, so it would be empty always."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "edited": false, "score": 0, "creation_date": 1566413122, "post_id": 57596857, "comment_id": 101652230, "body": "Hi Casey, my goal was to only create it in Page_Load and then use it later so how would I place it into the ViewState variable to use later? Or should I use a session variable? I guess there is no way to do what I want without storing in a variable?"}, {"owner": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "edited": false, "score": 0, "creation_date": 1566414753, "post_id": 57596857, "comment_id": 101652890, "body": "I wanted to create the list in page load so it doesn&#39;t reload on every postback. I also use the ddl in the footer of a repeater and could not access it to populate the ddl until the repeater loads. I do not know who downvoted this or why they did but it&#39;s bs."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "edited": false, "score": 0, "creation_date": 1566416343, "post_id": 57596857, "comment_id": 101653635, "body": "The best practice is to create and populate your variables at the moment you are going to use them, and not before.  In this case, if you are not going to use the list in the Page_Load, then you really should not be creating and filling it up there."}, {"owner": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "edited": false, "score": 0, "creation_date": 1566508661, "post_id": 57596857, "comment_id": 101689166, "body": "I was trying to speed things up as well as void repopulating the list on post back. Is there another way to accomplish this as users are complaining about load time while the ddl is populating."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "edited": false, "score": 0, "creation_date": 1566579666, "post_id": 57596857, "comment_id": 101714464, "body": "@DougFarrell, like I said.. if you want to load the data for the drop down list in the page-load method, that&#39;s fine!  But then you need to save that data into a ViewState variable so that it can be used later."}, {"owner": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "edited": false, "score": 0, "creation_date": 1566842744, "post_id": 57596857, "comment_id": 101774541, "body": "Casey, I marked your answer as the correct one however I added the list to a session variable instead of a ViewState variable."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "edited": false, "score": 0, "creation_date": 1566842942, "post_id": 57596857, "comment_id": 101774617, "body": "Ok, understood. Just make sure you understand the difference between the two. Both have advantages and disadvantages."}], "tags": [], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "is_accepted": true, "score": 0, "last_activity_date": 1566409887, "creation_date": 1566409887, "answer_id": 57596857, "question_id": 57596130, "link": "https://stackoverflow.com/questions/57596130/retrieve-list-values-loaded-in-page-load/57596857#57596857", "title": "Retrieve list values loaded in page_load", "body": "<p>You have two separate lists: <code>EmployeeDDL</code> and <code>employeeDDLs</code>.  You are trying to use <code>employeeDDLs</code> as the data source for your dropdown:</p>\n\n<pre><code>ddlEmployees.DataSource = employeeDDLs;\n</code></pre>\n\n<p>But a few lines above that, you are creating the list but never filling it up:</p>\n\n<pre><code>List&lt;EmployeeDDL&gt; employeeDDLs = new List&lt;EmployeeDDL&gt;();\n</code></pre>\n\n<p>As far as we can tell from what you have shown us, you never again use the list <code>EmployeeDDL</code>.</p>\n\n<p>Why are you creating <code>EmployeeDDL</code> in <code>Page_Load</code>?  Do you need it here?  If you are not going to use it until you populate the dropdown 'ddlEmployees', then just move all of the list creation and data access down to just above where 'ddlEmployees' is created and filled.</p>\n\n<p>If, however, you DO need the list <code>EmployeeDDL</code> in multiple places, and you need to persists it across page callbacks, then you'll want to place the list into a ViewState variable.</p>\n"}], "owner": {"reputation": 37, "user_id": 10514211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b219b47ddbdc9c52e098ebae13796d?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Farrell", "link": "https://stackoverflow.com/users/10514211/doug-farrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 57596857, "answer_count": 1, "score": -1, "last_activity_date": 1566413446, "creation_date": 1566406329, "last_edit_date": 1566413446, "question_id": 57596130, "link": "https://stackoverflow.com/questions/57596130/retrieve-list-values-loaded-in-page-load", "title": "Retrieve list values loaded in page_load", "body": "<p>I am populating a list in Page_Load that I want to access later to bind a ddl.</p>\n\n<p>I have tried to get the values using this however the list seems to be empty.</p>\n\n<pre><code>foreach (var E in employeeDDL)\n{\n   Response.Write(\"Value \" + E.ValueDDL);\n}\n</code></pre>\n\n<p>List</p>\n\n<pre><code>public class EmployeeDDL\n{\n    private string valueDDL;\n    private string textDDL;\n    public EmployeeDDL(string valueDDL, string textDDL)\n    {\n        this.valueDDL = valueDDL;\n        this.textDDL = textDDL;\n    }\n\n    public string ValueDDL\n    {\n        get { return valueDDL; }\n        set { valueDDL = value; }\n    }\n\n    public string TextDDL\n    {\n        get { return textDDL; }\n        set { textDDL = value; }\n    }\n}\n</code></pre>\n\n<p>Populate in Page Load</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n            List&lt;EmployeeDDL&gt; EmployeeDDL = new List&lt;EmployeeDDL&gt;();\n            using (MicrosoftDynamicsAXEntities db = new MicrosoftDynamicsAXEntities())\n            {\n                var employee = (from emp in db.Reports_EmplTable\n                                where emp.CostCenter != \"700\"\n                                &amp;&amp; emp.VALIDTO &gt; DbFunctions.AddDays(DateTime.Now, -30)\n                                &amp;&amp; emp.TimeTracking == \"daStreetSmart\"\n                                orderby emp.FULLNAME\n                                select new { emp.FULLNAME, emp.EMPLID } into x\n                                select new { x.EMPLID, TextFieldValue = x.EMPLID + \" - \" + x.FULLNAME }\n                ).ToList();\n                foreach (var em in employee)\n                {\n                    EmployeeDDL.Add(new EmployeeDDL(em.EMPLID, em.TextFieldValue));\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Need to retrieve later to bind ddl in the footer of a repeater.</p>\n\n<pre><code>protected void Insert(object sender, EventArgs e)\n{\nDropDownList ddlEmployees = AdvanceSummary.Controls[AdvanceSummary.Controls.Count - 1].FindControl(\"ddlEmployees\") as DropDownList;\nddlEmployees.Visible = true;\nddlEmployees.DataValueField = \"ValueDDL\"; //need to use it here\nddlEmployees.DataTextField = \"TextDDL\"; //need to use it here\nddlEmployees.DataSource = employeeDDL; //need to use it here\nddlEmployees.DataBind();\n}\n</code></pre>\n\n<p>I expect the ddl to load the employees retrieved from populating the list however the list is empty.</p>\n"}, {"tags": ["c#", "wpf", "datagrid"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566406717, "post_id": 57596111, "comment_id": 101649675, "body": "I&#39;d advise you not to do it that way. The cells are recycled because of virtualization and you&#39;ll have no end of headaches. Use a CellStyle on the grid and set the background with Style triggers."}, {"owner": {"reputation": 9, "user_id": 10180959, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-q4XU4lLBL4Y/AAAAAAAAAAI/AAAAAAAAF3Q/IjbX2pBhFcY/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/10180959/jason"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566406918, "post_id": 57596111, "comment_id": 101649755, "body": "Is there a way to check if column &quot;A&quot; &gt; &quot;B&quot; in XAML?  Or, is there a way to use a style trigger that has a binding on one cell, but changes the color of another?"}], "answers": [{"tags": [], "owner": {"reputation": 252, "user_id": 9982093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AFETzP0Sz8U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0Z0oTZojqSb8gT1sI0xa93qq606g/mo/photo.jpg?sz=128", "display_name": "Ghotekar Rahul", "link": "https://stackoverflow.com/users/9982093/ghotekar-rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1566452988, "creation_date": 1566452988, "answer_id": 57602753, "question_id": 57596111, "link": "https://stackoverflow.com/questions/57596111/how-can-i-change-a-datagrid-cell-color-based-on-conditional-comparing-cell-value/57602753#57602753", "title": "How can I change a datagrid cell color based on conditional comparing cell values?", "body": "<p>mvvm wpf datagrid chnage cell content Color </p>\n\n<p>XMAL Code </p>\n\n<pre><code>    &lt;UserControl x:Class=\"RetailSoft.Stock_Reports.FrmCurrentItemWiseStock\"\n\n.....\n\n\n      xmlns:Converter=\"clr-namespace:RetailSoft.Converter\"\n\n    &gt;\n\n\n\n    &lt;UserControl.Resources&gt;\n        &lt;Converter:PositiveNegativeConverter x:Key=\"PositiveNegativeConverter\"/&gt;\n &lt;/UserControl.Resources&gt;\n</code></pre>\n\n<p>DatagridColumns </p>\n\n<pre><code> &lt;DataGridTextColumn  \n                    Header=\"Stock\"\n                     MinWidth=\"70\" MaxWidth=\"1000\"\n                    x:Name=\"ProductName\"\n                    Binding=\"{Binding Stock}\" \n                    CellStyle=\"{StaticResource customCellStyle}\"\n                    &gt;\n                    &lt;DataGridTextColumn.ElementStyle&gt;\n                        &lt;Style TargetType=\"{x:Type TextBlock}\"&gt; \n                            &lt;Setter Property=\"TextBlock.Foreground\" Value=\"{Binding Stock,Converter={StaticResource PositiveNegativeConverter}}\"/&gt;\n                        &lt;/Style&gt;\n                    &lt;/DataGridTextColumn.ElementStyle&gt;\n\n                    &lt;DataGridTextColumn.HeaderStyle&gt;\n                        &lt;Style \n                            TargetType=\"DataGridColumnHeader\"&gt;\n                            &lt;Setter \n                                Property=\"Background\" \n                                Value=\"SteelBlue\"\n                                /&gt;\n                            &lt;Setter \n                                Property=\"HorizontalContentAlignment\" \n                                Value=\"Center\"\n                                /&gt;\n                            &lt;Setter \n                                Property=\"Foreground\" \n                                Value=\"White\"\n                                /&gt;\n                        &lt;/Style&gt;\n                    &lt;/DataGridTextColumn.HeaderStyle&gt;\n                &lt;/DataGridTextColumn&gt;\n</code></pre>\n\n<p>and Convert class Code </p>\n\n<pre><code>public class PositiveNegativeConverter :  IValueConverter\n{\n    public object Convert(object Stock, Type targetType, object parameter, System.Globalization.CultureInfo culture)\n    {\n        if (Stock==null)\n        {\n            Stock = \"\";\n        }\n        string Stocks = Stock.ToString();\n        bool revert = (Stocks as string).StartsWith(\"-\");\n        string stringValue = Stock as string;\n        string compareValue = parameter as string;\n        if (revert)\n        {\n\n            return Brushes.Tomato;\n\n        }\n        else\n            return Brushes.LimeGreen;\n\n    }\n    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)\n    {\n        throw new NotSupportedException();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10180959, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-q4XU4lLBL4Y/AAAAAAAAAAI/AAAAAAAAF3Q/IjbX2pBhFcY/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/10180959/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 570, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566452988, "creation_date": 1566406211, "question_id": 57596111, "link": "https://stackoverflow.com/questions/57596111/how-can-i-change-a-datagrid-cell-color-based-on-conditional-comparing-cell-value", "title": "How can I change a datagrid cell color based on conditional comparing cell values?", "body": "<p>I'm fairly new to WPF and C#, so forgive me if this is a novice question.  I have a datagrid that's populated with values from a datatable.  For each row in the datagrid, I want to highlight a specific cell if it's value is greater than another cell's value.  For example:</p>\n\n<pre><code>| \"A\" | \"B\" |\n|  5  |  4  | &lt;- A[0] would be highlighted yellow\n|  3  |  3  | &lt;- A[1] would not be highlighted yellow\n</code></pre>\n\n<p>I looked at creating a bool column that would be True if A>B, then tried to map a trigger to that column in the XAML code, but I couldn't figure out how to have the setter property be assigned to a cell different than the binding.  I've also tried the following recently:</p>\n\n<pre><code>    foreach (DataRowView row in dgTrending.Items)\n    {\n      if ((int)row.Row[\"A\"] &gt; (int)row.Row[\"B\"])\n      {\n        DataGridCell color = \n(DataGridCell)dgTrending.ItemContainerGenerator.ContainerFromItem(row.Row[\"A\"]);\n        color.Background = new SolidColorBrush(Colors.Yellow);\n      }\n    }\n</code></pre>\n\n<p>For the above code, the variable color gets set to null, so I'm obviously doing something wrong there.  I know looping through each row is inefficient, but I'm hard pressed to find a better way.  Ideally I can do this through the code behind since I can't add conditionals to XAML (at least not that I've seen).  Any help would be greatly appreciated.  Thanks!</p>\n"}, {"tags": ["c#", "visual-studio", "unity3d", "vuforia"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 2, "creation_date": 1566405393, "post_id": 57595911, "comment_id": 101649141, "body": "<a href=\"https://docs.unity3d.com/ScriptReference/Application.LoadLevel.html\" rel=\"nofollow noreferrer\">Application.LoadLevel</a> has an upcase L at the start of Level, while you&#39;ve written <code>Application.Loadlevel</code>. Please paste your code to the question directly instead of using an image."}], "answers": [{"tags": [], "owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "is_accepted": true, "score": 1, "last_activity_date": 1566405413, "last_edit_date": 1592644375, "creation_date": 1566405413, "answer_id": 57595957, "question_id": 57595911, "link": "https://stackoverflow.com/questions/57595911/how-to-fix-cs0117-error-in-unity-with-vuforia-framework/57595957#57595957", "title": "How to fix &quot;CS0117&quot; error in unity with vuforia framework", "body": "<p>From <a href=\"https://docs.unity3d.com/ScriptReference/Application.LoadLevel.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<h2>Application.LoadLevel</h2>\n<p>Obsolete public static void LoadLevel(int index);</p>\n<p>Description\nNote: This is now obsolete. Use <code>SceneManager.LoadScene</code> instead.</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 11956403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/814e138b17f8da43b8a9fbc260f14351?s=128&d=identicon&r=PG&f=1", "display_name": "AlperTemel", "link": "https://stackoverflow.com/users/11956403/alpertemel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "closed_date": 1566406988, "accepted_answer_id": 57595957, "answer_count": 1, "score": -4, "last_activity_date": 1566405413, "creation_date": 1566405176, "last_edit_date": 1592644375, "question_id": 57595911, "link": "https://stackoverflow.com/questions/57595911/how-to-fix-cs0117-error-in-unity-with-vuforia-framework", "closed_reason": "Not suitable for this site", "title": "How to fix &quot;CS0117&quot; error in unity with vuforia framework", "body": "<p>i develop augmanted reality project on unity with vuforia framework. I have to use many scene so i need to change screen button. when i write screen change script on button, i encounter this error:</p>\n<p><a href=\"https://i.stack.imgur.com/VHz8Y.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/VHz8Y.png</a></p>\n<p>also my script</p>\n<p><a href=\"https://i.stack.imgur.com/TuRB6.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TuRB6.png</a></p>\n<p>how can i fix this problem ?</p>\n"}, {"tags": ["c#", ".net", "azure", "azure-sql-database", "azure-sql-server"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566406140, "post_id": 57595874, "comment_id": 101649420, "body": "Read Package Reference Tab on following page : <a href=\"https://www.nuget.org/packages/Microsoft.Azure.Management.Sql/1.33.0-preview\" rel=\"nofollow noreferrer\">nuget.org/packages/Microsoft.Azure.Management.Sql/&hellip;</a>"}, {"owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566407162, "post_id": 57595874, "comment_id": 101649829, "body": "@jdweng Sorry, but I do not see any helpful information on Package Reference Tab.  Could you explain what do you mean more details?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566415144, "post_id": 57595874, "comment_id": 101653083, "body": "For projects that support PackageReference, copy this XML node into the project file to reference the package : Install-Package Microsoft.Azure.Management.Sql -Version 1.33.0-preview  Read the other tabs and notes below the tab window."}, {"owner": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "edited": false, "score": 0, "creation_date": 1566439346, "post_id": 57595874, "comment_id": 101659285, "body": "@AlexanderI. From the latest API document <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.management.sql.models?view=azure-dotnet\" rel=\"nofollow noreferrer\">Microsoft.Azure.Management.Sql.Models Namespace</a>, <code>RecommendedAction</code>, <code>IElasticPoolRecommendedActionsOperations</code>, <code>IElasticPoolAdvisorsOperations</code> are not exist."}, {"owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "reply_to_user": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "edited": false, "score": 0, "creation_date": 1566455171, "post_id": 57595874, "comment_id": 101662689, "body": "@LeonYue Thanks. It seems the classes were renamed or moved to other nuget. Is there any way to find this classes? Maybe exists analogs for these classes and I can rewrite code to reproduce previous behavior. But where I can find any documentation about it? I have reviewed all package, but I can&#39;t find analogs."}, {"owner": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "edited": false, "score": 0, "creation_date": 1566457727, "post_id": 57595874, "comment_id": 101663793, "body": "@AlexanderI. I also think so. I didn&#39;t find anything about this. But from the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.management.sql?view=azure-dotnet\" rel=\"nofollow noreferrer\">Microsoft.Azure.Management.Sql</a> , maybe we can find some similar inteface, such as <code>IElasticPoolActivitiesOperations </code> or <code>IElasticPoolOperations </code>. It looks like that you need to change your code and  fount the new renamed class or interface by yourself. Can I post this as the answer?"}, {"owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "reply_to_user": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "edited": false, "score": 0, "creation_date": 1566470126, "post_id": 57595874, "comment_id": 101670231, "body": "@LeonYue Yes, you can post answer, I will upvote your answer. But I can&#39; accept your answer. I will wait, maybe someone has ideas where I can find analogs of the classes."}, {"owner": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "edited": false, "score": 0, "creation_date": 1566522039, "post_id": 57595874, "comment_id": 101691865, "body": "@AlexanderI. That&#39;s all right. I also hope others can give good ideas for you. I&#39;m sorry that I don&#39;t know much about this. We can waiting for some days. If the error still with no anwser for a lang time, maybe you can think about accept it. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "edited": false, "score": 0, "creation_date": 1566549497, "post_id": 57618627, "comment_id": 101699089, "body": "Thanks. I will wait. But I think Microsoft developers moved all Recommendation features to separate nuget package. It seems we need to use <a href=\"https://www.nuget.org/packages/Microsoft.Azure.Management.Advisor\" rel=\"nofollow noreferrer\">Microsoft.Azure.Management.Advisor</a>."}, {"owner": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "reply_to_user": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "edited": false, "score": 0, "creation_date": 1566885367, "post_id": 57618627, "comment_id": 101784762, "body": "@AlexanderI.a Azure support still in follow up now."}, {"owner": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "reply_to_user": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "edited": false, "score": 0, "creation_date": 1567147748, "post_id": 57618627, "comment_id": 101884302, "body": "Hi @AlexanderI., Azure support replied me. They confirmed that these class and interfaces are included in <code>Microsoft.Azure.Management.Advisor</code>. You can use the new library! If my answer helped, please mark it as the answer, thank you very much!"}], "tags": [], "owner": {"reputation": 12181, "user_id": 10549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/751uv.jpg?s=128&g=1", "display_name": "Leon Yue", "link": "https://stackoverflow.com/users/10549281/leon-yue"}, "is_accepted": true, "score": 1, "last_activity_date": 1567147515, "last_edit_date": 1567147515, "creation_date": 1566522238, "answer_id": 57618627, "question_id": 57595874, "link": "https://stackoverflow.com/questions/57595874/trouble-with-update-nuget-microsoft-azure-management-sql-from-version-0-5-to-ver/57618627#57618627", "title": "Trouble with update nuget Microsoft.Azure.Management.Sql from version 0.5 to version 1.33", "body": "<p>From the latest API document <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.management.sql.models?view=azure-dotnet\" rel=\"nofollow noreferrer\"><code>Microsoft.Azure.Management.Sql.Models Namespace</code></a>, <code>RecommendedAction</code>, <code>IElasticPoolRecommendedActionsOperations</code>, <code>IElasticPoolAdvisorsOperations</code> are not exist now.</p>\n\n<p>As you said it seems the classes were renamed or moved to other nuget package.</p>\n\n<p>I didn't find anything talked about this. But from the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.management.sql?view=azure-dotnet\" rel=\"nofollow noreferrer\">Microsoft.Azure.Management.Sql</a>, maybe we can find some similar inteface, such as <code>IElasticPoolActivitiesOperations</code> or <code>IElasticPoolOperations</code> . It looks like that you need to change your code and fount the new renamed class or interface by yourself.</p>\n\n<p>I asked Azure Support, please wait for my update.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Yes, as you said in comment, Azure support replied me with the same result.</p>\n\n<p>Here's Email:</p>\n\n<p>Dear Leon,</p>\n\n<p>Good Morning.</p>\n\n<p>I got reply back from the product group developers. Kindly let me share the information.</p>\n\n<p>According to the developer, below 3 modules are included in this new Library: <a href=\"https://www.nuget.org/packages/Microsoft.Azure.Management.Advisor\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/Microsoft.Azure.Management.Advisor</a></p>\n\n<ol>\n<li>RecommendedAction from namespace Microsoft.Azure.Management.Sql.Models</li>\n<li>Interface IElasticPoolRecommendedActionsOperations</li>\n<li>Interface IElasticPoolAdvisorsOperations </li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/LrTU2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LrTU2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 57618627, "answer_count": 1, "score": 0, "last_activity_date": 1567147515, "creation_date": 1566404981, "question_id": 57595874, "link": "https://stackoverflow.com/questions/57595874/trouble-with-update-nuget-microsoft-azure-management-sql-from-version-0-5-to-ver", "title": "Trouble with update nuget Microsoft.Azure.Management.Sql from version 0.5 to version 1.33", "body": "<p>We use nuget <a href=\"https://www.nuget.org/packages/Microsoft.Azure.Management.Sql/0.50.0-prerelease\" rel=\"nofollow noreferrer\">Microsoft.Azure.Management.Sql</a> (<strong>version 0.5</strong>) in our project.</p>\n\n<p>But I have updated the <strong>version 0.5</strong> to <strong>version 1.33</strong> (last version on the current time).</p>\n\n<p>And I have a troubles with some models and methods:</p>\n\n<ol>\n<li>Class <code>RecommendedAction</code> from namespace <code>Microsoft.Azure.Management.Sql.Models</code> is missing</li>\n<li>Interface <code>IElasticPoolRecommendedActionsOperations</code> is missing</li>\n<li>Interface <code>IElasticPoolAdvisorsOperations</code> is missing</li>\n</ol>\n\n<p>It seems the missed classes are renamed or moved to other nuget package.</p>\n\n<p>Where I can find missing classes?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 7, "creation_date": 1566404851, "post_id": 57595815, "comment_id": 101648885, "body": "10000 words is peanuts in this age"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1566406165, "post_id": 57595815, "comment_id": 101649426, "body": "In general, <a href=\"https://stackoverflow.com/questions/16638637/whats-faster-regex-or-string-operations\">string operations are almost always more efficient than regex operations</a>. The code you have is fine. Note, however, that you&#39;re only comparing words at the same index in both strings, so it only returns matches where the word is identical (case-sensitive) <i>and</i> is in the same position in both strings."}], "answers": [{"comments": [{"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1566405645, "post_id": 57595961, "comment_id": 101649235, "body": "OP said he already has the desired output. He just wants to know if using a regular expression would be more memory efficient than string.split."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11783777"}, "edited": false, "score": 0, "creation_date": 1566405676, "post_id": 57595961, "comment_id": 101649249, "body": "will this work with streamreader? as in if I just got all the words from a file"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 3, "creation_date": 1566405975, "post_id": 57595961, "comment_id": 101649369, "body": "The code sample in the question only returns words that are identical <i>and are in the same position</i>. The code in this answer returns all words that match, regardless of position. Not sure if that matters."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11783777"}, "edited": false, "score": 0, "creation_date": 1566406584, "post_id": 57595961, "comment_id": 101649617, "body": "ahhh that makes more sense"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11783777"}, "edited": false, "score": 0, "creation_date": 1566408241, "post_id": 57595961, "comment_id": 101650214, "body": "so I implemented the &quot;IEnumerable&lt;string&gt; output = spaced1.Intersect(spaced2);&quot; code but it gives &quot;System.Linq.Enumerable+&lt;IntersectIterator&gt;d__77`1[System.St&zwnj;&#8203;ring]&quot; instead of the esired string, I understand that this is not an error but I have noo idea how to actually output it as such."}, {"owner": {"reputation": 972, "user_id": 4593696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAum.jpg?s=128&g=1", "display_name": "iakobski", "link": "https://stackoverflow.com/users/4593696/iakobski"}, "edited": false, "score": 0, "creation_date": 1566417584, "post_id": 57595961, "comment_id": 101654097, "body": "<code>output</code> is not a <code>string</code> so you can&#39;t just output it, it&#39;s a collection of strings, so you have to do something like <code>output.ToList&lt;string&gt;().ForEach (x =&gt; Console.WriteLine(x))</code>"}], "tags": [], "owner": {"reputation": 392, "user_id": 4795110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43415203ce1d0d06a454d2f4eae760a2?s=128&d=identicon&r=PG&f=1", "display_name": "touchofevil", "link": "https://stackoverflow.com/users/4795110/touchofevil"}, "is_accepted": false, "score": 0, "last_activity_date": 1566405460, "creation_date": 1566405460, "answer_id": 57595961, "question_id": 57595815, "link": "https://stackoverflow.com/questions/57595815/is-string-split-efficent-for-large-volumes-of-text/57595961#57595961", "title": "Is string.split efficent for large volumes of text", "body": "<p>Not entirely certain what you're trying to achieve here, but assuming it's a learning project.</p>\n\n<p>What you're doing is trying to find the items that exist in both of your arrays. For this you can use Intersect method.</p>\n\n<pre><code>string text1 = \"yeet went the black fox  cry went the chicken\";\nstring text2 = \"yeet  the  fox  cry  the \";\n\nstring[] spaced1 = text1.Split(' ');\nstring[] spaced2 = text2.Split(' ');\n\nIEnumerable&lt;string&gt; output = spaced1.Intersect(spaced2);\n</code></pre>\n\n<p>This would create your desired output. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11783777"}, "edited": false, "score": 0, "creation_date": 1566405608, "post_id": 57595981, "comment_id": 101649222, "body": "if I implement stream reader will the string.split work fine?"}, {"owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "edited": false, "score": 0, "creation_date": 1566405890, "post_id": 57595981, "comment_id": 101649347, "body": "You can have a look at this <a href=\"https://stackoverflow.com/a/8038746/9918730\">example</a>."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1566406317, "post_id": 57595981, "comment_id": 101649489, "body": "Of course. <code>Split</code> works on strings. It doesn&#39;t matter if they come from a file or some other source."}], "tags": [], "owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "is_accepted": true, "score": 0, "last_activity_date": 1566405537, "creation_date": 1566405537, "answer_id": 57595981, "question_id": 57595815, "link": "https://stackoverflow.com/questions/57595815/is-string-split-efficent-for-large-volumes-of-text/57595981#57595981", "title": "Is string.split efficent for large volumes of text", "body": "<p>If you have to deal with a large number of words I would expect that they are stored in some file. Then you can use a <code>Stream</code>. In the case of 10000 words, you don't have to worry as it is not a large number these times. You can have to look how many words you can have in a string <a href=\"https://stackoverflow.com/a/140704/9918730\">here</a>\nCheers</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11783777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1566422359, "accepted_answer_id": 57595981, "answer_count": 2, "score": 0, "last_activity_date": 1566405841, "creation_date": 1566404734, "last_edit_date": 1566405841, "question_id": 57595815, "link": "https://stackoverflow.com/questions/57595815/is-string-split-efficent-for-large-volumes-of-text", "closed_reason": "Needs more focus", "title": "Is string.split efficent for large volumes of text", "body": "<p>So I have created some lines of code that can take two strings, split them, and compared each word of 1 string to the other and said that the same word exists in both if so , but would this be an efficient way to compare words over a large volume of text, talking of 300- 10000 words, because string, split works by arrays so would it screw over the computer memory?\nsorry I'm still learning a level cs so hardly know any terminology.</p>\n\n<p>I heard that regex would be extremely good at this kind of thing but its pretty confusing.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    string text1 = \"yeet went the black fox  cry went the chicken\";\n    string text2 = \"yeet  the  fox  cry  the \";\n\n    string[] spaced1 = text1.Split(\" \");\n    string[] spaced2 = text2.Split(\" \");\n\n    for (int s = 0; s &lt; spaced1.Length; s++)\n    {\n        if (spaced1[s]== spaced2[s])\n        {\n            Console.WriteLine(\"same word\");\n            Console.WriteLine(spaced1[s]);            \n        }\n    }\n\n    Console.ReadLine();\n}\n</code></pre>\n\n<p>this specific code gives the results I want, and I still need to make it so it splits at comas and full stops etc.</p>\n"}, {"tags": ["c#", "dapper"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1566404318, "post_id": 57595670, "comment_id": 101648621, "body": "What is the schema of the table <i>public.people</i>?"}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1566406113, "post_id": 57595670, "comment_id": 101649406, "body": "What Steve said :)! At first glance (without reading every line of your code) this looks like the problem is in your SELECT statement. If you run that SELECT outside of Dapper, do you get the results you want?"}], "answers": [{"tags": [], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "is_accepted": false, "score": 0, "last_activity_date": 1566406314, "creation_date": 1566406314, "answer_id": 57596128, "question_id": 57595670, "link": "https://stackoverflow.com/questions/57595670/hydrating-an-enumeration-class-with-dapper/57596128#57596128", "title": "Hydrating an enumeration class with Dapper", "body": "<p>Maybe this is too simple, but, the column names you are selecting need to match the properties in the class to which you are mapping, otherwise Dapper won't know how to make the mappings match.</p>\n\n<p>So if your class is:</p>\n\n<pre><code>public class Person\n{\n    public Race Race {get;}\n    public Guid PersonId {get;}\n}\n</code></pre>\n\n<p>Then your query would need to match:</p>\n\n<pre><code>return connection.Query&lt;Person&gt;(sql: @\"\n    SELECT \n        Race\n       , person_id as PersonId\nFROM public.people\");\n</code></pre>\n\n<p>Note the upper case R on Race. (And for good measure, I like to keep them in the same order too, although I'm not sure this matters.)</p>\n\n<p>That aside, if you execute your query directly against the database, do you get back the results you expect?</p>\n"}, {"tags": [], "owner": {"reputation": 438, "user_id": 4054386, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh3.googleusercontent.com/-49Sb-Yaen8c/AAAAAAAAAAI/AAAAAAAAAEM/ch0v3Ojov3Y/photo.jpg?sz=128", "display_name": "Vic F", "link": "https://stackoverflow.com/users/4054386/vic-f"}, "is_accepted": true, "score": 0, "last_activity_date": 1566413195, "creation_date": 1566413195, "answer_id": 57597605, "question_id": 57595670, "link": "https://stackoverflow.com/questions/57595670/hydrating-an-enumeration-class-with-dapper/57597605#57597605", "title": "Hydrating an enumeration class with Dapper", "body": "<p>Ok, figured it out. Two things:</p>\n\n<p>First, splitOn is the way to do this. A different, but related final version looks like this:</p>\n\n<pre><code>return connection.Query&lt;Program,\n    AssistanceProgramCategory,\n    AssistanceProgramType,\n    AssistanceProgramLegalType,\n    ProgramAuthority,\n    Program&gt;(sql: Constants.SqlStatements.SELECT_PROGRAMS_SQL,\n    (program, category, programType, legalType, authority) =&gt;\n    {\n        program.AssistanceCategory = category;\n        program.ProgramType = programType;\n        program.ProgramLegalType = legalType;\n        program.Authority = authority;\n        return program;\n    }, splitOn: \"Name,Jurisdiction\");\n</code></pre>\n\n<p>where AssistanceProgramCategory, AssistanceProgramType, and AssistanceProgramLegalType are all children of Enumeration.</p>\n\n<p>Second, the SQL does  have to deliver the columns up with Name, as in:</p>\n\n<pre><code>SELECT global_id as GlobalId\n,tier\n,program_description as Name\n,program_type as Name\n,program_legal_type as Name\n,jurisdiction as Jurisdiction\n,customer_id as CustomerId\n,program_name as ProgramNameForJurisdiction\n,program_description as ProgramName\nFROM public.assistance_programs\n</code></pre>\n\n<p>Third, I only had to put \"Name\" in the splitOn once - every instance of Name caused a new object to be created.</p>\n\n<p>Finally, I had to swap Jurisdiction and CustomerId because CustomerId can be null, and when NULL, it doesn't fire the final hydration into ProgramAuthority. Jurisdiction is always present, so problem solved by swapping the columns in the SQL.</p>\n\n<p>Hope this helps someone.</p>\n\n<p>All the best,</p>\n\n<p>V</p>\n"}], "owner": {"reputation": 438, "user_id": 4054386, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh3.googleusercontent.com/-49Sb-Yaen8c/AAAAAAAAAAI/AAAAAAAAAEM/ch0v3Ojov3Y/photo.jpg?sz=128", "display_name": "Vic F", "link": "https://stackoverflow.com/users/4054386/vic-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 57597605, "answer_count": 2, "score": 0, "last_activity_date": 1566413195, "creation_date": 1566404089, "question_id": 57595670, "link": "https://stackoverflow.com/questions/57595670/hydrating-an-enumeration-class-with-dapper", "title": "Hydrating an enumeration class with Dapper", "body": "<p>I'm using Dapper to hydrate a C# class. I recently moved from collections of string constants to \"enumeration classes\" as defined here: <a href=\"https://docs.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/enumeration-classes-over-enum-types\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/enumeration-classes-over-enum-types</a></p>\n\n<p>My enumeration looks like this:</p>\n\n<pre><code>public abstract class Enumeration : IComparable\n    {\n        public string Name { get; }\n\n        protected Enumeration(string name)\n        {\n            Name = name;\n        }\n\n        public static IEnumerable&lt;T&gt; GetAll&lt;T&gt;() where T : Enumeration\n        {\n            var fields = typeof(T).GetFields(BindingFlags.Public |\n                                             BindingFlags.Static |\n                                             BindingFlags.DeclaredOnly);\n\n            return fields.Select(f =&gt; f.GetValue(null)).Cast&lt;T&gt;();\n        }\n\n        public static IEnumerable&lt;T&gt; ToSortedEnumerable&lt;T&gt;() where T : Enumeration\n        {\n            List&lt;T&gt; values = GetAll&lt;T&gt;().ToList();\n            values.Sort();\n            return values;\n        }\n\n        public int CompareTo(object other) =&gt;\n            string.Compare(Name, ((Enumeration) other).Name, StringComparison.Ordinal);\n\n        public static implicit operator string(Enumeration enumeration)\n        {\n            return enumeration?.ToString();\n        }\n\n        public static bool operator ==(Enumeration e1, Enumeration e2)\n        {\n            return Equals(e1, e2);\n        }\n\n        public static bool operator !=(Enumeration e1, Enumeration e2)\n        {\n            return !Equals(e1, e2);\n        }\n\n        public static bool HasValue&lt;T&gt;(string valueToCheck) where T : Enumeration\n        {\n            return Enumeration.GetAll&lt;T&gt;().Any(x =&gt; x.Name.Equals(valueToCheck, StringComparison.OrdinalIgnoreCase));\n        }\n\n        public static bool TryGetEnumeration&lt;T&gt;(string valueToCheck, out T result) where T : Enumeration\n        {\n            result = Enumeration.GetAll&lt;T&gt;()\n                                .FirstOrDefault(\n                                    x =&gt; x.Name.Equals(valueToCheck, StringComparison.OrdinalIgnoreCase));\n\n            return result != null;\n        }\n\n        public static T GetEnumeration&lt;T&gt;(string valueToCheck) where T : Enumeration\n        {\n            var result = Enumeration.GetAll&lt;T&gt;()\n                                .FirstOrDefault(\n                                    x =&gt; x.Name.Equals(valueToCheck, StringComparison.OrdinalIgnoreCase));\n\n            if (result == null)\n            {\n                throw new ArgumentException($\"Invalid {typeof(T).Name}: {valueToCheck}\");\n            }\n\n            return result;\n        }\n\n        public override bool Equals(object obj)\n        {\n            var otherValue = obj as Enumeration;\n\n            if (otherValue == null)\n                return false;\n\n            bool typeMatches = this.GetType() == obj.GetType();\n            bool valueMatches = this.Name.Equals(otherValue.Name);\n\n            return typeMatches &amp;&amp; valueMatches;\n        }\n\n        public override int GetHashCode()\n        {\n            return 539060726 + EqualityComparer&lt;string&gt;.Default.GetHashCode(this.Name);\n        }\n\n        public override string ToString() =&gt; this.Name;\n    }\n</code></pre>\n\n<p>and my Race class looks like this:</p>\n\n<pre><code>public class Race : Enumeration\n    {\n        public static Race White = new Race(\"White\");\n        public static Race Hawaiian = new Race(\"Native Hawaiian\");\n        public static Race Filipino = new Race(\"Filipino\");\n        public static Race Black = new Race(\"Black / African American\");\n        public static Race Chinese = new Race(\"Chinese\");\n        public static Race Japanese = new Race(\"Japanese\");\n        public static Race Korean = new Race(\"Korean\");\n        public static Race Vietnamese = new Race(\"Vietnamese\");\n        public static Race AsianIndian = new Race(\"Asian Indian\");\n        public static Race OtherAsian = new Race(\"Other Asian\");\n        public static Race Samoan = new Race(\"Samoan\");\n        public static Race AmericanIndian = new Race(\"American Indian\");\n        public static Race AlaskaNative = new Race(\"Alaska Native\");\n        public static Race Guamanian = new Race(\"Guamanian\");\n        public static Race Chamorro = new Race(\"Chamorro\");\n        public static Race OtherPacificIslander = new Race(\"Other Pacific Islander\");\n        public static Race Other = new Race(\"Other\");\n\n        public Race(string name) : base(name)\n        { }\n    }\n</code></pre>\n\n<p>My simplified Person object looks like this:</p>\n\n<pre><code>public class Person\n{\n    public Person(Guid personId, Race race){\n        PersonId = personId;\n        Race = race;\n    }\n    public Race Race {get;}\n    public Guid PersonId {get;}\n}\n</code></pre>\n\n<p>Here's a simplified Dapper command (talking to postgresql) that works (PersonId is hydrated correctly), but Race is always NULL.</p>\n\n<pre><code>return connection.Query&lt;Person&gt;(sql: @\"\n    SELECT person_id as PersonId\n    ,race\n    FROM public.people\");\n</code></pre>\n\n<p>I have tried adjusting my SQL to this:</p>\n\n<pre><code>return connection.Query&lt;Person&gt;(sql: @\"\n    SELECT person_id as PersonId\n    ,race as Name\n    FROM public.people\");\n</code></pre>\n\n<p>but that also results in a null value for Race.</p>\n\n<p>Is what I'm attempting even possible? Do I have to do a splitOn for this? I've avoided that because my real class has dozens of such properties and they'd all have to be Name and . . . well, I just didn't want to go there if I was missing something silly here. I honestly kind of thought that the </p>\n\n<pre><code>public static implicit operator string(Enumeration enumeration)\n</code></pre>\n\n<p>would take care of this for me.</p>\n\n<p>Thoughts anyone? Help is always appreciated.</p>\n"}, {"tags": ["c#", "wpf", "reactive"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566404362, "post_id": 57595514, "comment_id": 101648646, "body": "<i>&quot;Set data context in case it may have helped (but it did not)&quot;</i>. So all of your bindings to viewmodel properties are working, regardless of whether or not you have a viewmodel at all? Please <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">provide a reproducible example</a>. If <code>BackPayCategoryVisible</code> is a property of the <code>DataGridComboBoxColumn</code>&#39;s DataContext (I have no way of knowing if that&#39;s the case), and if the <code>DataGridComboBoxColumn</code>&#39;s DataContext raises <code>PropertyChanged</code> with <code>&quot;BackPayCategoryVisible&quot;</code> for a property name when it should, your code will work."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566405096, "post_id": 57595514, "comment_id": 101649008, "body": "&quot;for <i>the correct</i> property name when it should&quot; -- but I have no way of knowing whether that happens either. The problem certainly isn&#39;t in any code you&#39;ve shown us. Built-in <code>BooleanToVisibilityConverter</code> would work fine as well."}, {"owner": {"reputation": 134, "user_id": 6895271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/AsTtv.png?s=128&g=1", "display_name": "Oleg Kosuakiv", "link": "https://stackoverflow.com/users/6895271/oleg-kosuakiv"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566459543, "post_id": 57595514, "comment_id": 101664780, "body": "@EdPlunkett, I am using ReactiveUi binding for all the view, but for the DataGridColumns their data context is ItemsSource item, and for the binding of the columns I had to use WPF bindings. I will add more code to question."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566473431, "post_id": 57595514, "comment_id": 101672080, "body": "I can\u2019t reproduce the issue from that. Good luck with your problem."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1566477486, "post_id": 57595514, "comment_id": 101674325, "body": "At runtime, look in the Output pane in Visual Studio for binding errors. You can add PresentationTraceSources.TraceLevel=High to a broken binding and it&#39;ll give you a lot more detail in the Output pane about exactly how and where it runs into trouble resolving the source property."}], "answers": [{"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 1, "last_activity_date": 1566482488, "creation_date": 1566482488, "answer_id": 57611130, "question_id": 57595514, "link": "https://stackoverflow.com/questions/57595514/valueconverter-convert-methods-are-not-invoked-in-wpf/57611130#57611130", "title": "ValueConverter Convert Methods are not invoked in WPF", "body": "<p>A <code>DataGridColumn</code> doesn't inherit any <code>DataContext</code> by default, so your binding fails and that's why the converter is never invoked. This has nothing to do with ReactiveUI.</p>\n\n<p>You can get the binding to work by using a <code>Freezable</code> as suggested in this <a href=\"https://thomaslevesque.com/2011/03/21/wpf-how-to-bind-to-data-when-the-datacontext-is-not-inherited/\" rel=\"nofollow noreferrer\">blog</a> post:</p>\n\n<pre><code>public class BindingProxy : Freezable\n{\n    protected override Freezable CreateInstanceCore()\n    {\n        return new BindingProxy();\n    }\n\n    public object Data\n    {\n        get { return (object)GetValue(DataProperty); }\n        set { SetValue(DataProperty, value); }\n    }\n\n    public static readonly DependencyProperty DataProperty =\n        DependencyProperty.Register(\"Data\", typeof(object), typeof(BindingProxy), new UIPropertyMetadata(null));\n}\n</code></pre>\n\n<p><strong>XAML:</strong></p>\n\n<pre><code>&lt;DataGrid.Resources&gt;\n    &lt;local:BindingProxy x:Key=\"proxy\" Data=\"{Binding}\" /&gt;\n&lt;/DataGrid.Resources&gt;\n...\n&lt;DataGridTextColumn Header=\"Backpay Cat.\" Binding=\"{Binding Price}\"\n                    Visibility=\"{Binding Data.BackPayCategoryVisible,\n                        Converter={StaticResource Conv},\n                        Source={StaticResource proxy}}\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 134, "user_id": 6895271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/AsTtv.png?s=128&g=1", "display_name": "Oleg Kosuakiv", "link": "https://stackoverflow.com/users/6895271/oleg-kosuakiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 57611130, "answer_count": 1, "score": -1, "last_activity_date": 1566482488, "creation_date": 1566403523, "last_edit_date": 1566459667, "question_id": 57595514, "link": "https://stackoverflow.com/questions/57595514/valueconverter-convert-methods-are-not-invoked-in-wpf", "title": "ValueConverter Convert Methods are not invoked in WPF", "body": "<p>I am having ValueConverter which I am trying to use. \nAll bindings, including DataGrid content are working correctly, but I can't apply Value converter neither to the DataGridColumns, not to other fields, because it's methods are not invoked at all.</p>\n\n<p>Possible problematic place could be the fact that we are using <strong>Reactive UI</strong> as MVVM framework, so it can be a possible source of problem. I am setting Items Source of the DataGrid via Reactive UI bindings. </p>\n\n<p>But I have tried to set something like on the view:</p>\n\n<pre><code> public partial class OrderTimeSheetUserControl : OrderTimeSheetBaseUserControl\n    {\n        public OrderTimeSheetUserControl()\n        {\n            this.DataContext = ViewModel; // Set data context in case it may have helped (but it did not)\n            InitializeComponent();\n        }\n    }\n</code></pre>\n\n<p>P.S.: I have tried built-in BooleanToVisibilityConverter, as well as writing my converter with inheritance of MarkupExtension class and slightly different method of usage. (<a href=\"https://stackoverflow.com/questions/28501091/ivalueconverter-with-markupextension\">IValueConverter with MarkupExtension</a>)</p>\n\n<p><strong>Value Converter below:</strong></p>\n\n<pre><code>  [ValueConversion(typeof(bool), typeof(Visibility))]\npublic class BoolToCollapsedVisibilityValueConverter : IValueConverter\n{\n\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        if (value is bool == false)\n        {\n            throw new NotSupportedException($\"Conversion from {value.GetType().Name} is not supported by {nameof(BoolToCollapsedVisibilityValueConverter)}.\");\n        }\n\n        var boolValue = (bool) value;\n\n        return boolValue ? Visibility.Visible : Visibility.Collapsed;\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        throw new NotImplementedException();\n    }\n\n\n}\n</code></pre>\n\n<p><strong>And it's usage in the XAML page:</strong></p>\n\n<pre><code> &lt;userControls:OrderTimeSheetBaseUserControl.Resources&gt;\n\n &lt;wpfValueConverters:BoolToCollapsedVisibilityValueConverter x:Key=\"Conv\" /&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code> &lt;DataGrid&gt;\n     &lt;DataGrid.Columns&gt;\n         &lt;DataGridComboBoxColumn Visibility=\"{Binding BackPayCategoryVisible, Converter={StaticResource Conv}}\" Header=\"Backpay Cat.\"/&gt;\n     &lt;/DataGrid.Columns&gt;\n &lt;/DataGrid&gt;\n</code></pre>\n\n<p><strong>Reactive UI Binding of the ItemsSource of the DataGrid in xaml.cs:</strong></p>\n\n<pre><code>   this.OneWayBind(ViewModel,\n                    viewModel =&gt; viewModel.Employees,\n                    view =&gt; view.PersonsInOrderDataGrid.ItemsSource)\n                .DisposeWith(disposable);\n</code></pre>\n\n<p>So, all properties are bound correctly, but value converters are not working.</p>\n"}, {"tags": ["c#", ".net", "ajax", "asp.net-mvc"], "comments": [{"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1566405642, "post_id": 57595501, "comment_id": 101649234, "body": "What have you tried? Could you post any relevant code as well to reproduce the issue?"}, {"owner": {"reputation": 9156, "user_id": 1251376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gy16t.jpg?s=128&g=1", "display_name": "ssilas777", "link": "https://stackoverflow.com/users/1251376/ssilas777"}, "edited": false, "score": 0, "creation_date": 1566406175, "post_id": 57595501, "comment_id": 101649431, "body": "RedirectToAction(&quot;viewSearch&quot;,123(id)).. you might need to do something like this"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 2426616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F8RTG.jpg?s=128&g=1", "display_name": "Joel  Luevano", "link": "https://stackoverflow.com/users/2426616/joel-luevano"}, "edited": false, "score": 0, "creation_date": 1566408794, "post_id": 57596317, "comment_id": 101650451, "body": "Thanx for the answer, I&#39;m now reading about partial views and it seems to be what I need."}], "tags": [], "owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "is_accepted": true, "score": 1, "last_activity_date": 1566429268, "last_edit_date": 1566429268, "creation_date": 1566407327, "answer_id": 57596317, "question_id": 57595501, "link": "https://stackoverflow.com/questions/57595501/how-to-render-a-view-into-another-one-after-an-ajax-request-in-c-and-asp-net-m/57596317#57596317", "title": "How to render a view into another one, after an ajax request in C# and ASP.NET MVC?", "body": "<p>My recommendation is to use <code>Partial Views</code>.  Move your table to a partial view, your view can then load that partial view via Ajax when you want to access the corresponding url. You can also use </p>\n\n<pre><code>@{\n    Html.RenderPartial(\"_yourpartialview\");\n} \n</code></pre>\n\n<p>instead of an ajax call.</p>\n"}], "owner": {"reputation": 99, "user_id": 2426616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F8RTG.jpg?s=128&g=1", "display_name": "Joel  Luevano", "link": "https://stackoverflow.com/users/2426616/joel-luevano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57596317, "answer_count": 1, "score": 0, "last_activity_date": 1566429268, "creation_date": 1566403457, "last_edit_date": 1566405941, "question_id": 57595501, "link": "https://stackoverflow.com/questions/57595501/how-to-render-a-view-into-another-one-after-an-ajax-request-in-c-and-asp-net-m", "title": "How to render a view into another one, after an ajax request in C# and ASP.NET MVC?", "body": "<p>I'm new at programming using ASP.NET MVC with C#. My problem is the next, I have a form to do an advanced search, that send every field in an ajax request. In the controller I receive all information and then I save it into a SQL table. I can Access this search in another view by accessing the corresponding URL, for example <code>searches/viewSearch/123</code>. What I need is to render the view just after I saved the search in my table, in the same view where I have my form.</p>\n"}, {"tags": ["c#", "plugins", "dynamics-crm", "dynamics-365"], "comments": [{"owner": {"reputation": 13780, "user_id": 2191473, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IWd22.jpg?s=128&g=1", "display_name": "Guido Preite", "link": "https://stackoverflow.com/users/2191473/guido-preite"}, "edited": false, "score": 0, "creation_date": 1566406603, "post_id": 57595488, "comment_id": 101649621, "body": "did you write a plugin before?"}, {"owner": {"reputation": 3, "user_id": 8996037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a7450f382776c328a59685e6ee4723?s=128&d=identicon&r=PG&f=1", "display_name": "yonSon", "link": "https://stackoverflow.com/users/8996037/yonson"}, "reply_to_user": {"reputation": 13780, "user_id": 2191473, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IWd22.jpg?s=128&g=1", "display_name": "Guido Preite", "link": "https://stackoverflow.com/users/2191473/guido-preite"}, "edited": false, "score": 0, "creation_date": 1566407799, "post_id": 57595488, "comment_id": 101650038, "body": "no. First time. I&#39;ve written the sample plugin available from microsoft as practice."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8996037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a7450f382776c328a59685e6ee4723?s=128&d=identicon&r=PG&f=1", "display_name": "yonSon", "link": "https://stackoverflow.com/users/8996037/yonson"}, "edited": false, "score": 0, "creation_date": 1566409881, "post_id": 57596241, "comment_id": 101650895, "body": "Thank you! Much Appreciated!"}], "tags": [], "owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "is_accepted": true, "score": 1, "last_activity_date": 1566406924, "creation_date": 1566406924, "answer_id": 57596241, "question_id": 57595488, "link": "https://stackoverflow.com/questions/57595488/how-to-access-custom-entity-fields-in-dynamics-365-plugin/57596241#57596241", "title": "How to access Custom Entity fields in Dynamics 365 plugin", "body": "<p>You can do query the records in a plugin using Query Expression or FetchXML using <code>service.RetrieveMultiple</code>. For example, you can build the fetchxml using <a href=\"https://www.xrmtoolbox.com/plugins/Cinteros.Xrm.FetchXmlBuilder/\" rel=\"nofollow noreferrer\">XrmToolBox FetchXML builder</a> or simply download the fetchxml from CRM Advanced find builder and use it in below code sample. <a href=\"https://docs.microsoft.com/en-us/powerapps/developer/common-data-service/use-fetchxml-construct-query\" rel=\"nofollow noreferrer\">Read more</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8qHJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8qHJC.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    var fetchXml = $@\"\n        &lt;fetch&gt;\n          &lt;entity name='new_particpiant'&gt;\n            &lt;attribute name='new_average'/&gt;\n            &lt;filter type='and'&gt;\n              &lt;condition attribute='new_particpiant' operator='eq' value='{GUID}'/&gt;\n            &lt;/filter&gt;\n          &lt;/entity&gt;\n        &lt;/fetch&gt;\";\n\n    EntityCollection entities = service.RetrieveMultiple(new FetchExpression(fetchXml));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11733860, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-59G3HwXE7aQ/AAAAAAAAAAI/AAAAAAAAHyY/FbXvSJd7s_g/photo.jpg?sz=128", "display_name": "Agasti", "link": "https://stackoverflow.com/users/11733860/agasti"}, "is_accepted": false, "score": 0, "last_activity_date": 1566561512, "creation_date": 1566561512, "answer_id": 57625915, "question_id": 57595488, "link": "https://stackoverflow.com/questions/57595488/how-to-access-custom-entity-fields-in-dynamics-365-plugin/57625915#57625915", "title": "How to access Custom Entity fields in Dynamics 365 plugin", "body": "<p>Using Query Expression :</p>\n\n<pre><code>QueryExpression qe = new QueryExpression();\nqe.EntityName = \"new_particpiant\";\n\nColumnSet columns = new ColumnSet(\nnew string[1]\n{\n    \"new_average\",\n});\n\nConditionExpression ce = new ConditionExpression\n{\n    AttributeName = \"new_particpiant\",\n    Operator = ConditionOperator.Equal,\n    Values = { 'Your Guid' }\n};\n\nFilterExpression filterQuery = new FilterExpression();\nfilterQuery.FilterOperator = LogicalOperator.And;\nfilterQuery.AddCondition(ce);\n\nqe.ColumnSet = columns;\n\nEntityCollection ec = service.RetrieveMultiple(qe);\n\nEntity data = new Entity();\n\nif (ec.Entities.Count &gt; 0)\n{\n    data = ec.Entities[0];\n    string average = Convert.ToString(data.Attributes[\"new_average\"]);\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8996037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a7450f382776c328a59685e6ee4723?s=128&d=identicon&r=PG&f=1", "display_name": "yonSon", "link": "https://stackoverflow.com/users/8996037/yonson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 57596241, "answer_count": 2, "score": 0, "last_activity_date": 1566561512, "creation_date": 1566403409, "question_id": 57595488, "link": "https://stackoverflow.com/questions/57595488/how-to-access-custom-entity-fields-in-dynamics-365-plugin", "title": "How to access Custom Entity fields in Dynamics 365 plugin", "body": "<p>I have the following custom entities with the following fields:</p>\n\n<p>Student:</p>\n\n<ul>\n<li>Name</li>\n<li>ID</li>\n<li>Average</li>\n</ul>\n\n<p>Course:</p>\n\n<ul>\n<li>Name</li>\n<li>ID</li>\n</ul>\n\n<p>Participant (Holds a particular Student's score in a particular Course):</p>\n\n<ul>\n<li>Student (above)</li>\n<li>Course (above)</li>\n<li>Score</li>\n</ul>\n\n<p>I need to create a plugin which upon adding/updating a Participant's score, it updates the Participant's Student's Average accordingly.</p>\n\n<p>So my logic is as follows:</p>\n\n<ol>\n<li>Participant is created/updated</li>\n<li>Loop through all Participants to get the number of courses being taken by the given Participant's Student and sum their scores.</li>\n<li>Update Participant's Student's Average accordingly.</li>\n</ol>\n\n<p>There are a few things I'm having trouble with:</p>\n\n<ul>\n<li>Accessing all saved Participants.</li>\n<li>Accessing the Participants Student to first check against all Participants and to update their average.</li>\n<li>Accessing the Student's average (which is essentially the same issue as the previous one).</li>\n</ul>\n\n<p>Anyone who could give me some sample code to help with the aforementioned problems would really be helping me out.\nThanks in advance.</p>\n"}, {"tags": ["c#", "visual-studio", "xaml", "uwp", "uwp-xaml"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11362349"}, "edited": false, "score": 0, "creation_date": 1569328220, "post_id": 57595681, "comment_id": 102555000, "body": "hey in above snippet looks like you are adding task(appointment) to user calendar or google/iOS calendar ??"}, {"owner": {"reputation": 250, "user_id": 8154295, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_phkPxoOtA/AAAAAAAAAAI/AAAAAAAAAj4/g8nd0wTpOCM/photo.jpg?sz=128", "display_name": "Prithvi Venu", "link": "https://stackoverflow.com/users/8154295/prithvi-venu"}, "edited": false, "score": 0, "creation_date": 1569338629, "post_id": 57595681, "comment_id": 102561167, "body": "No bro it&#39;s different"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11362349"}, "edited": false, "score": 0, "creation_date": 1569387283, "post_id": 57595681, "comment_id": 102575349, "body": "do you have any idea how to add task to google calendar in uwp(desktop application) ? <a href=\"https://stackoverflow.com/q/58006274/11362349\">link</a>"}], "tags": [], "owner": {"reputation": 250, "user_id": 8154295, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_phkPxoOtA/AAAAAAAAAAI/AAAAAAAAAj4/g8nd0wTpOCM/photo.jpg?sz=128", "display_name": "Prithvi Venu", "link": "https://stackoverflow.com/users/8154295/prithvi-venu"}, "is_accepted": false, "score": 0, "last_activity_date": 1566404135, "creation_date": 1566404135, "answer_id": 57595681, "question_id": 57595472, "link": "https://stackoverflow.com/questions/57595472/textbox-does-not-stretch-horizontally-in-uwp/57595681#57595681", "title": "TextBox does not stretch horizontally in UWP", "body": "<p>Using Grid instead of relative panel worked for me</p>\n\n<pre><code> &lt;Grid Margin=\"10,10,20,10\"  HorizontalAlignment=\"Stretch\"  VerticalAlignment=\"Stretch\" &gt;\n            &lt;Grid.RowDefinitions&gt;\n                &lt;RowDefinition /&gt;\n                &lt;RowDefinition /&gt;\n            &lt;/Grid.RowDefinitions&gt;\n            &lt;TextBox  BorderThickness=\"0,0,0,0\" BorderBrush=\"#8888\" HorizontalContentAlignment=\"Stretch\"  KeyDown=\"Box_KeyDown\"  Name=\"SubTaskTitle\" PlaceholderText=\"+ Subtask\" FontSize=\"16\"   Margin=\"0\"/&gt;\n            &lt;Line Name=\"Line\" Stretch=\"Fill\" Margin=\"10 0 0 0\" Stroke=\"#8888\" X2=\"1\" Opacity=\"0.2\" Grid.Row=\"1\"/&gt;\n        &lt;/Grid&gt;\n</code></pre>\n\n<p>But I still am not able to figure out why it does not work with relative panel, Someone please post the answer using relative panel.</p>\n"}, {"comments": [{"owner": {"reputation": 250, "user_id": 8154295, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_phkPxoOtA/AAAAAAAAAAI/AAAAAAAAAj4/g8nd0wTpOCM/photo.jpg?sz=128", "display_name": "Prithvi Venu", "link": "https://stackoverflow.com/users/8154295/prithvi-venu"}, "edited": false, "score": 0, "creation_date": 1566451134, "post_id": 57595778, "comment_id": 101661380, "body": "Works Well Thanks"}], "tags": [], "owner": {"reputation": 4625, "user_id": 1964969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0879c1954a7ee8660f80eafdf9f66776?s=128&d=identicon&r=PG", "display_name": "Yury Schkatula", "link": "https://stackoverflow.com/users/1964969/yury-schkatula"}, "is_accepted": true, "score": 1, "last_activity_date": 1566404585, "creation_date": 1566404585, "answer_id": 57595778, "question_id": 57595472, "link": "https://stackoverflow.com/questions/57595472/textbox-does-not-stretch-horizontally-in-uwp/57595778#57595778", "title": "TextBox does not stretch horizontally in UWP", "body": "<p>I believe, this is due the lack of exact alignment instructions, as Relative Panel is a bit conservative to minimize potential conflicts between inner elements and their layout desires. So, could you try to explicitly set both left and right alignment, like this:</p>\n\n<pre><code>... RelativePanel.AlignLeftWithPanel=\"True\" RelativePanel.AlignRightWithPanel=\"True\" ...\n</code></pre>\n\n<p>Upd: and yes, it seems in your case the layout could be simplified by using Grid element because there are too few inner controls (just two) so it's not an issue to position them.</p>\n"}], "owner": {"reputation": 250, "user_id": 8154295, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_phkPxoOtA/AAAAAAAAAAI/AAAAAAAAAj4/g8nd0wTpOCM/photo.jpg?sz=128", "display_name": "Prithvi Venu", "link": "https://stackoverflow.com/users/8154295/prithvi-venu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57595778, "answer_count": 2, "score": 0, "last_activity_date": 1566404585, "creation_date": 1566403344, "question_id": 57595472, "link": "https://stackoverflow.com/questions/57595472/textbox-does-not-stretch-horizontally-in-uwp", "title": "TextBox does not stretch horizontally in UWP", "body": "<p><a href=\"https://i.stack.imgur.com/GxLec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GxLec.png\" alt=\"enter image description here\"></a></p>\n\n<p>The Blue Part is my textbox and red is my relative panel. The relative panel is placed in a list view</p>\n\n<pre><code>&lt;ListView RelativePanel.Below=\"Line\" Name=\"SubTasksListView\" Margin=\"10,10,10,0\"   HorizontalAlignment=\"Stretch\" HorizontalContentAlignment=\"Stretch\"   ItemsSource=\"{x:Bind subtasks}\" IsItemClickEnabled=\"True\" ItemClick=\"ItemClick\"   ItemTemplate=\"{StaticResource SubTaskDataTemplate}\"/&gt;\n\n\n\n &lt;DataTemplate x:DataType=\"data:ZTask\" x:Key=\"SubTaskDataTemplate\"&gt;\n &lt;RelativePanel Margin=\"10,10,20,10\"  HorizontalAlignment=\"Stretch\"  VerticalAlignment=\"Stretch\" Background=\"Red\" &gt;\n            &lt;TextBox Background=\"Aqua\" BorderThickness=\"0,0,0,0\" BorderBrush=\"#8888\" HorizontalContentAlignment=\"Stretch\"  KeyDown=\"Box_KeyDown\" RelativePanel.AlignLeftWithPanel=\"True\" Name=\"SubTaskTitle\" PlaceholderText=\"+ Subtask\" FontSize=\"16\"   Margin=\"0\"/&gt;\n            &lt;Line Name=\"Line\" Stretch=\"Fill\" Margin=\"10 0 0 0\" Stroke=\"#8888\" X2=\"1\" Opacity=\"0.2\" RelativePanel.Below=\"SubTaskTitle\"/&gt;\n&lt;/RelativePanel&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>I have tried HorizontalAlignment=\"Stretch\" and HorizontalContentAlignment=\"Stretch\" but it doesn't work.Please Help me solve this issue</p>\n"}, {"tags": ["c#", ".net", "owin"], "comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566407259, "post_id": 57595466, "comment_id": 101649860, "body": "The method <code>WebApiConfig.Configure()</code> is in place and actually has some configuration inside: <a href=\"https://github.com/auth0-samples/auth0-aspnet-owin-webapi-samples/blob/master/Quickstart/01-Authorization/WebApi/WebApi/App_Start/WebApiConfig.cs\" rel=\"nofollow noreferrer\">github.com/auth0-samples/auth0-aspnet-owin-webapi-samples/bl&zwnj;&#8203;ob/&hellip;</a>"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566407313, "post_id": 57595466, "comment_id": 101649876, "body": "Your <code>WebApiConfig</code> class looks similar but a bit different."}, {"owner": {"reputation": 792, "user_id": 7927849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f96911beb1a0c91a68c1d3fdfc804b7?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Born", "link": "https://stackoverflow.com/users/7927849/austin-born"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566408517, "post_id": 57595466, "comment_id": 101650324, "body": "Added in the Configure method to my WebApiConfig only to lead to find out that app.UseWebApi method, called in the Configure method, does not exist."}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 0, "creation_date": 1566409107, "post_id": 57595466, "comment_id": 101650580, "body": "The issue is not clear. Based on the code from your question it should throw <code>NotImplementedException</code>. What do you mean by &quot;does not exist&quot;?"}], "owner": {"reputation": 792, "user_id": 7927849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f96911beb1a0c91a68c1d3fdfc804b7?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Born", "link": "https://stackoverflow.com/users/7927849/austin-born"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566403486, "creation_date": 1566403319, "last_edit_date": 1566403486, "question_id": 57595466, "link": "https://stackoverflow.com/questions/57595466/webapiconfig-configure-does-not-exist-auth0-owin", "title": "WebApiConfig.Configure() does not exist (Auth0/OWIN)", "body": "<p>I am currently following this tutorial for implementing Auth0 in my WebApi, <a href=\"https://community.auth0.com/t/asp-net-web-api-tutorial/7335\" rel=\"nofollow noreferrer\">https://community.auth0.com/t/asp-net-web-api-tutorial/7335</a>. </p>\n\n<p>In the Startup class they say to implement WebApiConfig.Configure(app).</p>\n\n<p>But the method does not exist. What is this method suppose to contain.</p>\n\n<p>Startup.cs</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class Startup {\r\n\t\tpublic void Configuration(IAppBuilder app) {\r\n\t\t\tvar domain = $\"https://{ConfigurationManager.AppSettings[\"Auth0Domain\"]}/\";\r\n\t\t\tvar apiIdentifier = ConfigurationManager.AppSettings[\"Auth0ApiIdentifier\"];\r\n\r\n\t\t\tvar keyResolver = new OpenIdConnectSigningKeyResolver(domain);\r\n\t\t\tapp.UseJwtBearerAuthentication(\r\n\t\t\t\tnew JwtBearerAuthenticationOptions {\r\n\t\t\t\t\tAuthenticationMode = AuthenticationMode.Active,\r\n\t\t\t\t\tTokenValidationParameters = new TokenValidationParameters() {\r\n\t\t\t\t\t\tValidAudience = apiIdentifier,\r\n\t\t\t\t\t\tValidIssuer = domain,\r\n\t\t\t\t\t\tIssuerSigningKeyResolver = (token, securityToken, kid, parameters) =&gt;   keyResolver.GetSigningKey(kid)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t// Configure Web API\r\n\t\t\tWebApiConfig.Configure(app);\r\n\t\t}\r\n\t}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>WebApiConfig.cs</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public static class WebApiConfig {\r\n\t\tpublic static void Register(HttpConfiguration config) {\r\n\t\t\t// Web API configuration and services\r\n\r\n\t\t\t// Web API routes\r\n\t\t\tconfig.MapHttpAttributeRoutes();\r\n\r\n\t\t\tconfig.Routes.MapHttpRoute(\r\n\t\t\t\tname: \"DefaultApi\",\r\n\t\t\t\trouteTemplate: \"api/{controller}/{id}\",\r\n\t\t\t\tdefaults: new { id = RouteParameter.Optional }\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tinternal static void Configure(IAppBuilder app) {\r\n\t\t\tthrow new NotImplementedException();\r\n\t\t}\r\n\t}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "xamarin.android", "xamarin.uitest"], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 11958044, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K5dPDwwrpaY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVo_WLmx-7whzWO2YWVUZqUN1eWw/photo.jpg?sz=128", "display_name": "ssheode", "link": "https://stackoverflow.com/users/11958044/ssheode"}, "is_accepted": true, "score": 1, "last_activity_date": 1566410613, "creation_date": 1566410613, "answer_id": 57597038, "question_id": 57595457, "link": "https://stackoverflow.com/questions/57595457/xamarin-ui-test-giving-the-error-query-for-markedclick-me-gave-0-results/57597038#57597038", "title": "Xamarin UI test giving the error: Query for Marked(&quot;Click Me!&quot;) gave 0 results", "body": "<p>After further debugging and researching I found out that the \n<code>ClickButton = x =&gt; x.Marked(\"Click Me!\");</code> should have been identified via the ID and not the Text on the button because the text on the button changes when clicked. \nChanged the identifier to the following and the test passed: </p>\n\n<pre><code>ClickButton = x =&gt; x.Id(\"NoResourceEntry-3\");\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 11958044, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K5dPDwwrpaY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVo_WLmx-7whzWO2YWVUZqUN1eWw/photo.jpg?sz=128", "display_name": "ssheode", "link": "https://stackoverflow.com/users/11958044/ssheode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 57597038, "answer_count": 1, "score": 0, "last_activity_date": 1566410613, "creation_date": 1566403283, "question_id": 57595457, "link": "https://stackoverflow.com/questions/57595457/xamarin-ui-test-giving-the-error-query-for-markedclick-me-gave-0-results", "title": "Xamarin UI test giving the error: Query for Marked(&quot;Click Me!&quot;) gave 0 results", "body": "<p>I am implementing Page object Pattern framework for a sample Xamarin App and when I tried running a simple test to verify button click I am getting the following error: Query for Marked(\"Click Me!\") gave 0 results.</p>\n\n<p>I had tried running a test without setting up the framework and it was running fine but after setting up the framework it gives me the error. </p>\n\n<p>This is my Page Object file</p>\n\n<pre><code>namespace SampleUITests.Pages\n{\n    using Query = System.Func&lt;Xamarin.UITest.Queries.AppQuery, Xamarin.UITest.Queries.AppQuery&gt;;\n    public class WelcomePage : BasePage\n    {\n        readonly Query ClickButton;\n        readonly Query Label;\n        protected override PlatformQuery Trait =&gt; new PlatformQuery\n        {\n            Android = x =&gt; x.Marked(\"Click Me!\")\n            //Can add iOS trait as well \n        };\n        public WelcomePage()\n        {\n            if (OnAndroid)\n            {\n                Label = x =&gt; x.Marked(\"Welcome To Xamarin.Forms!\");\n                ClickButton = x =&gt; x.Marked(\"Click Me!\");\n            }\n\n            if (OniOS)\n            {\n                //add iOS identifiers here\n            }\n\n        }\n        public void OnClick()\n        {\n            app.Repl();\n            app.WaitForElement(ClickButton);\n            app.Tap(ClickButton);\n            Assert.Equals(\"You clicked 1 times.\", app.Query(ClickButton).First().Text);\n        }\n\n    }\n}\n</code></pre>\n\n<p>This is my code where I am calling the object for Page object and running the test. </p>\n\n<pre><code>namespace SampleUITests\n{\n    [TestFixture(Platform.Android)]\n    [TestFixture(Platform.iOS)]\n    public class Tests : BaseTestFixture\n    {\n\n        public Tests(Platform platform) : base(platform)\n        {\n            //this.platform = platform;\n        }\n\n        [Test]\n        public void VerifyButtonClick()\n        {\n            WelcomePage welcomepage = new WelcomePage();\n            welcomepage.OnClick();\n        }\n\n    }\n}\n</code></pre>\n\n<p>I am expecting the test to pass which verifies the button click and the text on the button (You clicked 1 times.) but I am getting the below error: </p>\n\n<pre><code>Android test running Xamarin.UITest version: 3.0.3 \nInitializing Android app on device emulator-5554 with apk: C:\\Users\\Sayali.Sheode\\AppData\\Local\\Xamarin\\Mono for Android\\Archives\\2019-08-16\\FirstXamarinApp.Android 8-16-19 9.17 AM.apkarchive\\com.companyname.firstxamarinapp.apk \nSkipping local screenshots. Can be enabled with EnableScreenshots() when configuring app. \nSigning apk with Xamarin keystore. \nSkipping installation: Already installed. \nWaiting for element matching Marked(\"Click Me!\"). \nWaiting for element matching Marked(\"Click Me!\").  Using element matching Marked(\"Click Me!\"). Tapping coordinates [ 540, 1731 ]. \nQuery for Marked(\"Click Me!\") gave 0 results.\n</code></pre>\n\n<p>Also this is the stack trace:</p>\n\n<pre><code>Message: \n        System.InvalidOperationException : Sequence contains no elements\n      Stack Trace: \n        at Enumerable.First[TSource](IEnumerable`1 source)\n        at WelcomePage.OnClick() in WelcomePage.cs line: 43\n        at Tests.VerifyButtonClick() in Tests.cs line: 36\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "uwp", "backgroundworker"], "comments": [{"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 1, "creation_date": 1566403354, "post_id": 57595438, "comment_id": 101648205, "body": "The BackgroundWorker has an <code>ProgressChanged</code> that is raised via the worker&#39;s <code>ReportProgress</code> method and invoked on the UI thread. You&#39;d need to set <code>worker.ReportsProgress</code> property to <code>true</code>."}, {"owner": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "edited": false, "score": 1, "creation_date": 1566405784, "post_id": 57595438, "comment_id": 101649292, "body": "I&#39;m not familiar with <code>uwp</code>, but if you&#39;re periodically checking something then updating the UI, would something like <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.dispatchertimer\" rel=\"nofollow noreferrer\"><code>DispatcherTimer</code></a> be a better choice than <code>BackgroundWorker</code>?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1566406104, "post_id": 57595438, "comment_id": 101649402, "body": "You can explicitly marshal the call to the correct thread using the advice found by searching on your error message, as in the marked duplicate. However, the other comments are correct: you can get <code>BackgroundWorker</code> to do this implicitly by using the <code>ProgressChanged</code> event, or you could just use a timing mechanism that itself implicitly runs in the UI thread. You could even just use a simple <code>async</code> method with a loop, a call to <code>await Task.Delay()</code> for timing, and then put the code to update the UI in the loop. Any of those four approaches are viable."}, {"owner": {"reputation": 13, "user_id": 11777406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nE64.jpg?s=128&g=1", "display_name": "Logan", "link": "https://stackoverflow.com/users/11777406/logan"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1566408537, "post_id": 57595438, "comment_id": 101650334, "body": "Thank you @PeterDuniho for the answer it was very helpful. I ended up using the <code>await Dispatcher.RunAsync</code> found on the link to the previous version of the question. Here is a link to the answer if anyone else needs it:  <a href=\"https://stackoverflow.com/a/27698035/11777406\">stackoverflow.com/a/27698035/11777406</a>"}], "owner": {"reputation": 13, "user_id": 11777406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nE64.jpg?s=128&g=1", "display_name": "Logan", "link": "https://stackoverflow.com/users/11777406/logan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1566405867, "answer_count": 0, "score": 0, "last_activity_date": 1566405985, "creation_date": 1566403222, "last_edit_date": 1566405985, "question_id": 57595438, "link": "https://stackoverflow.com/questions/57595438/how-to-call-a-function-in-a-backgroundworker-thread-that-is-to-be-completed-on-t", "closed_reason": "Duplicate", "title": "How to call a function in a backgroundworker thread that is to be completed on the main UI thread?", "body": "<p>I am using a <code>BackgroundWorker</code> to monitor if a bit has flipped on an external device every couple of seconds. I then want it to call a function that is to be run on the main UI thread, but is instead being run on the same thread as the <code>BackgroundWorker</code>. This is a problem because I am getting errors about the application interface being marshaled on a different thread.</p>\n\n<p>Currently when I call the function from the <code>BackgroundWorker</code> thread it is be computed on the same thread as the <code>BackgroundWorker</code>.</p>\n\n<pre><code>private void Task1()\n{\n    //Function does work before calling backgroundworker\n    BackGroundWorker.RunWorkerAsync();\n}\n\nprivate async void BackGroundWorker_DoWork(object sender, DoWorkEventArgs e)\n{\n    //Monitor for bit being flipped on external device\n    Task2();\n}\n\nprivate void Task2()\n{\n    //Work to be completed after the bit has been flipped\n}\n</code></pre>\n\n<p>I'm expecting that once the bit has been detected to have flipped, the <code>BackgroundWorker</code> thread calls the function to be completed on the main UI thread. </p>\n\n<p>What has actually been happening is that I get the following error because the function is being run on the same thread as the <code>BackgroundWorker</code>:</p>\n\n<blockquote>\n  <p>The application called an interface that was marshalled for a different thread. (Exception from HRESULT: 0x8001010E (RPC_E_WRONG_THREAD))</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1566850818, "post_id": 57595392, "comment_id": 101777705, "body": "Your <code>PuntoDeVenta_Load</code> mixes UI and Db code. You will have to split that up first."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 2097665, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GNtbF.jpg?s=128&g=1", "display_name": "Julio Garcia", "link": "https://stackoverflow.com/users/2097665/julio-garcia"}, "edited": false, "score": 0, "creation_date": 1566403531, "post_id": 57595446, "comment_id": 101648294, "body": "point taken, now let&#39;s add another job to the worker: I want to add items to this order in particular while someone else is adding items to another different order. PS: sorry if this sounds noobish, I am kind of a noob with this"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 383, "user_id": 2097665, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GNtbF.jpg?s=128&g=1", "display_name": "Julio Garcia", "link": "https://stackoverflow.com/users/2097665/julio-garcia"}, "edited": false, "score": 1, "creation_date": 1566403669, "post_id": 57595446, "comment_id": 101648355, "body": "@JulioGarcia: If an operation takes less than 30 milliseconds, make it synchronous single threaded. If it takes more than 30 milliseconds but does not consume CPU, make it single threaded asynchronous. If it takes more than 30 milliseconds and consumes CPU for that whole time, assign the work to a worker thread and make the workflow asynchronous."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 383, "user_id": 2097665, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GNtbF.jpg?s=128&g=1", "display_name": "Julio Garcia", "link": "https://stackoverflow.com/users/2097665/julio-garcia"}, "edited": false, "score": 3, "creation_date": 1566403724, "post_id": 57595446, "comment_id": 101648383, "body": "@JulioGarcia: Multithreaded workflows are <b>not for noobs</b>. They are one of the hardest things to get right in C#. I try to avoid multithreaded workflows if I possibly can. If I cannot, I try hard to only use them for cases where I have <i>lots of CPU intensive work</i>."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1566850724, "post_id": 57595446, "comment_id": 101777672, "body": "In WinForms you definitely would (should) &quot;hire a worker for your business whose only job was to do nothing except send a single letter, and then pay them to sleep while they waited for the reply?&quot;, when it would unburden the main GUI thread."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1566853929, "post_id": 57595446, "comment_id": 101778660, "body": "@HenkHolterman: In a well-designed event-driven program, an IO operation is not blocking to begin with; either it produces an event when the operation is complete, or it returns a Task that you can await. Wasting a thread to do IO is a sign of a bad design and we should be working to avoid creating APIs that require it."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1566881944, "post_id": 57595446, "comment_id": 101783883, "body": "@EricLippert - no argument that aync i/o is preferable. But plenty of older libraries don&#39;t offer aync (Task or event) yet. And in a Destop app, you do have some threads to spare."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 19, "last_activity_date": 1566403537, "last_edit_date": 1566403537, "creation_date": 1566403260, "answer_id": 57595446, "question_id": 57595392, "link": "https://stackoverflow.com/questions/57595392/should-i-use-a-thread-for-this/57595446#57595446", "title": "Should I use a thread for this?", "body": "<p>Think about threads the way you would think about hiring workers for a business. When do you hire workers for a business? <strong>Only when you have lots of work for them to do, because hiring is expensive</strong>.  </p>\n\n<p>Ideally you should make a new thread only when these conditions are met:</p>\n\n<ul>\n<li>The work to do is CPU intensive</li>\n<li>The work is long -- definitely more than 30 milliseconds, more like seconds or minutes of work.</li>\n<li>There is an idle CPU that can be 100% dedicated to servicing that thread.</li>\n</ul>\n\n<p>In your case, it looks like you're considering hiring a worker to run a database query. Well, would you hire a worker for your business whose only job was to do <em>nothing</em> except <em>send a single letter</em>, and then <em>pay them to sleep while they waited for the reply</em>? Of course not.  So don't hire a thread to do that either. If you have high-latency work to do that is not CPU-bound, <strong>make an asynchronous workflow on a single thread</strong>.</p>\n\n<p>An asynchronous workflow does not hire a new worker. Rather, it is like you send a letter, and while you're waiting for the reply to arrive you find other work to do, thereby making efficient use of your time. When the reply arrives, you pick up the \"letter workflow\" where you left off.</p>\n"}], "owner": {"reputation": 383, "user_id": 2097665, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GNtbF.jpg?s=128&g=1", "display_name": "Julio Garcia", "link": "https://stackoverflow.com/users/2097665/julio-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 1, "accepted_answer_id": 57595446, "answer_count": 1, "score": 4, "last_activity_date": 1566850749, "creation_date": 1566403009, "last_edit_date": 1566850749, "question_id": 57595392, "link": "https://stackoverflow.com/questions/57595392/should-i-use-a-thread-for-this", "title": "Should I use a thread for this?", "body": "<p>I am currently working on a sales point program that might be used by many computers using the same local database.</p>\n\n<p>I am asking the following question because right now I have everything set up so only one computer uses the program at a time, which is realistically naive. However, I also want to know if it's really viable for me to implement something like Threads and Locks on this or if I'm just going to waste time and valuable resources.</p>\n\n<p>Can anyone please tell me? Thank you! I will add an excerpt code that might be ran by different processes:</p>\n\n<pre><code> private void PuntoDeVenta_Load(object sender, EventArgs e)\n    {\n        //Connect to the local database and check if we successfully connected.\n        conn = new ConexionBD();\n        if (!conn.conectar())\n        {\n            MessageBox.Show(\"Hubo un error al conectarse a la base de datos. Favor de verificar.\", \"Error\", MessageBoxButtons.OK);\n            this.Close();\n        }\n        comboBox1.SelectedIndex = 0;\n        groupBox3.Enabled = false;\n        this.KeyUp += new System.Windows.Forms.KeyEventHandler(KeyEvent);\n        string[] detalle = conn.informacionEmpresa();\n        iva = Convert.ToInt16(detalle[10]);\n        label15.Text = \"Impuesto (\" + iva + \"%):\";\n        //Get the highest order number until now. Not sure if I need to use Thread here.\n        String maxPedido = conn.detalleNumeroPedidoMasReciente();\n        int n;\n        if (int.TryParse(maxPedido, out n))\n        {\n            maxPedido = (n + 1).ToString();\n        }\n        else\n        {\n            n = Convert.ToInt32(Regex.Match(maxPedido, @\"\\d+\").Value);\n            String nonNumeric = String.Concat(maxPedido.Where(c =&gt; !Char.IsDigit(c)));\n            maxPedido = nonNumeric + (n + 1).ToString();\n        }\n        textBox1.Text = maxPedido;\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "qr-code", "hololens"], "comments": [{"owner": {"reputation": 9897, "user_id": 2576706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ze8c.jpg?s=128&g=1", "display_name": "Ludovic Feltz", "link": "https://stackoverflow.com/users/2576706/ludovic-feltz"}, "edited": false, "score": 2, "creation_date": 1566402921, "post_id": 57595297, "comment_id": 101647992, "body": "Did you placed your dll in the <code>Plugins</code> folder? Have you configured your DLL to compile for this environment? Can you post a picture of the DLL and its configuration"}, {"owner": {"reputation": 23, "user_id": 10095965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c469340624290cd845a0a29e45cb1374?s=128&d=identicon&r=PG&f=1", "display_name": "ohmyhevans", "link": "https://stackoverflow.com/users/10095965/ohmyhevans"}, "reply_to_user": {"reputation": 9897, "user_id": 2576706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ze8c.jpg?s=128&g=1", "display_name": "Ludovic Feltz", "link": "https://stackoverflow.com/users/2576706/ludovic-feltz"}, "edited": false, "score": 0, "creation_date": 1566496420, "post_id": 57595297, "comment_id": 101684435, "body": "@LudovicFeltz I added a picture of the import settings"}, {"owner": {"reputation": 9897, "user_id": 2576706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ze8c.jpg?s=128&g=1", "display_name": "Ludovic Feltz", "link": "https://stackoverflow.com/users/2576706/ludovic-feltz"}, "edited": false, "score": 1, "creation_date": 1566546853, "post_id": 57595297, "comment_id": 101697922, "body": "Everything seems ok but i don&#39;t know what the check mark &#39;Don&#39;t process&#39; means and i don&#39;t find it in the documentation... Try un-checking it maybe. I&#39;m pretty sure the issue comes somewhere from this configuration. Maybe look at the <a href=\"https://docs.unity3d.com/2019.3/Documentation/Manual/PluginInspector.html\" rel=\"nofollow noreferrer\">documentation</a>"}, {"owner": {"reputation": 12138, "user_id": 437283, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fce00882cfb70e998436f0d2f1480bc?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/437283/kay"}, "edited": false, "score": 0, "creation_date": 1567076142, "post_id": 57595297, "comment_id": 101859339, "body": "In Unity 2018.4 the scripting backend is set to IL2CPP by default. If you did not change this to .NET which is marked as obesolete and removed in 2019, the build won&#39;t consider your DLL"}], "answers": [{"tags": [], "owner": {"reputation": 1904, "user_id": 11502506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c4d63c94b274420f3643f7c8e770cdf?s=128&d=identicon&r=PG&f=1", "display_name": "Hernando - MSFT", "link": "https://stackoverflow.com/users/11502506/hernando-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1566553956, "last_edit_date": 1566553956, "creation_date": 1566549064, "answer_id": 57622463, "question_id": 57595297, "link": "https://stackoverflow.com/questions/57595297/qr-scanning-in-hololens-dll-errors/57622463#57622463", "title": "QR Scanning in HoloLens - DLL errors", "body": "<p>It is recommended to try to build with unity2017. I built the unity project in repository with unity2017.4.31f1 and it seemed to  work fine.</p>\n\n<p>Update:</p>\n\n<p>I used 2018.4.3 to create a new project and did some simple tests, this error was not thrown after using such a Import Setting.</p>\n\n<p><a href=\"https://i.stack.imgur.com/x9NGq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x9NGq.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23, "user_id": 10095965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c469340624290cd845a0a29e45cb1374?s=128&d=identicon&r=PG&f=1", "display_name": "ohmyhevans", "link": "https://stackoverflow.com/users/10095965/ohmyhevans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 57622463, "answer_count": 1, "score": 0, "last_activity_date": 1566553956, "creation_date": 1566402614, "last_edit_date": 1566546449, "question_id": 57595297, "link": "https://stackoverflow.com/questions/57595297/qr-scanning-in-hololens-dll-errors", "title": "QR Scanning in HoloLens - DLL errors", "body": "<p>I am attempting to implement a QR Code reader from within HoloLens, working off of Mike Taulty's solution (<a href=\"https://mtaulty.com/2016/12/28/windows-10-uwp-qr-code-scanning-with-zxing-and-hololens/\" rel=\"nofollow noreferrer\">https://mtaulty.com/2016/12/28/windows-10-uwp-qr-code-scanning-with-zxing-and-hololens/</a>). However, I am having an issue with building out the project in Unity, as I am getting a build error: <code>\"Assets\\Placeholder.cs(20,9): error CS0103: The name 'MediaFrameQrProcessing' does not exist in the current context\"</code>, which seems to be implying that the DLLs aren't working properly? A already have a DLL by the same name in my project, and I would assume that this DLL would cover this issue, but it appear to not.</p>\n\n<p>I am running Unity 2018.4.1 and Visual Studio 2019. I am building on top of his GitHub repo (<a href=\"https://github.com/mtaulty/QrCodes\" rel=\"nofollow noreferrer\">https://github.com/mtaulty/QrCodes</a>).</p>\n\n<p>This is the block that throws the build error. <code>MediaFrameQrProcessing</code> cannot be found</p>\n\n<pre><code>public void OnScan()\n    {\n        this.textMesh.text = \"scanning for 30s\";\n        #if !UNITY_EDITOR\n        MediaFrameQrProcessing.Wrappers.ZXingQrCodeScanner.ScanFirstCameraForQrCode(\n            result =&gt;\n            {\n                UnityEngine.WSA.Application.InvokeOnAppThread(() =&gt;\n            {\n                  this.textMesh.text = result ?? \"not found\";\n              },\n            false);\n            },\n            TimeSpan.FromSeconds(30));\n        #endif\n    }\n</code></pre>\n\n<p>Expected: Project Builds w/o incident</p>\n\n<p>Actual Results: <code>Assets\\Placeholder.cs(20,9): error CS0103: The name 'MediaFrameQrProcessing' does not exist in the current context</code> build error. This should be covered by the DLL</p>\n\n<p>Screenshots of the import settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UeznC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeznC.png\" alt=\"Dll Import Settings\"></a></p>\n"}, {"tags": ["c#", "exception", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6290911, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M26ebsGpGVg/AAAAAAAAAAI/AAAAAAAAAkQ/gC5TVzaY2Nk/photo.jpg?sz=128", "display_name": "Viraj Kawthankar", "link": "https://stackoverflow.com/users/6290911/viraj-kawthankar"}, "edited": false, "score": 0, "creation_date": 1566409695, "post_id": 57596042, "comment_id": 101650831, "body": "Means i have to create this &#39;MyExceptionHandler&#39; class and register the above line in Application_Start() ? and when some exception is thrown in an api action will it hit the Handle method ?"}, {"owner": {"reputation": 520, "user_id": 6726527, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9ExZBMal-bw/AAAAAAAAAAI/AAAAAAAAABU/usEp9oG3VRo/photo.jpg?sz=128", "display_name": "masehhat", "link": "https://stackoverflow.com/users/6726527/masehhat"}, "reply_to_user": {"reputation": 55, "user_id": 6290911, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M26ebsGpGVg/AAAAAAAAAAI/AAAAAAAAAkQ/gC5TVzaY2Nk/photo.jpg?sz=128", "display_name": "Viraj Kawthankar", "link": "https://stackoverflow.com/users/6290911/viraj-kawthankar"}, "edited": false, "score": 0, "creation_date": 1566459425, "post_id": 57596042, "comment_id": 101664725, "body": "@VirajKawthankar Yeah, with this mechanism, for all exceptions, Handle method will catch them. You could also log exception details there."}], "tags": [], "owner": {"reputation": 520, "user_id": 6726527, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9ExZBMal-bw/AAAAAAAAAAI/AAAAAAAAABU/usEp9oG3VRo/photo.jpg?sz=128", "display_name": "masehhat", "link": "https://stackoverflow.com/users/6726527/masehhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1566405862, "creation_date": 1566405862, "answer_id": 57596042, "question_id": 57595296, "link": "https://stackoverflow.com/questions/57595296/how-to-make-api-action-to-hit-on-application-error-in-globalasax/57596042#57596042", "title": "How to Make Api Action to hit on Application_Error() in GlobalAsax", "body": "<p>I suggest you to use custom exception handler, in that case, you can to consider specific behavior for each exception in only one method (not catch block in every error prone code blocks), look at this simple example:</p>\n\n<pre><code>public class MyExceptionHandler : ExceptionHandler\n{\n    public override void Handle(ExceptionHandlerContext context)\n    {\n        if (context.Exception is SqlException)\n        {\n            //do something...\n        }\n        else if (context.Exception is HttpListenerException)\n        {\n            //do something...\n        }\n        else\n        {\n            //do something else...\n        }\n    }\n}\n</code></pre>\n\n<p>After that, you have to register your custom exception handler in global.asax:</p>\n\n<pre><code>config.Services.Replace(typeof(IExceptionHandler), new MyExceptionHandler());\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6290911, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M26ebsGpGVg/AAAAAAAAAAI/AAAAAAAAAkQ/gC5TVzaY2Nk/photo.jpg?sz=128", "display_name": "Viraj Kawthankar", "link": "https://stackoverflow.com/users/6290911/viraj-kawthankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566405862, "creation_date": 1566402612, "question_id": 57595296, "link": "https://stackoverflow.com/questions/57595296/how-to-make-api-action-to-hit-on-application-error-in-globalasax", "title": "How to Make Api Action to hit on Application_Error() in GlobalAsax", "body": "<p>I have an <strong>Application_Error() in Global.asax</strong> defined with some error handling code that will make the error redirect to the <strong>ErrorController</strong> to its specific action(say Error500). I have this working good for <strong>Web Actions</strong> like ActionResult.. </p>\n\n<p>But an WebApi action like IHttpActionResult or HttpResponseMessage doesnt redirect/hit on <strong>Application_Error()</strong> for GlobalAsax in WebApi. \nIm writing the action as for eg.</p>\n\n<pre><code>public IHttpActionResult PersonDetail(int id)\n{           \n   if(id == null)\n   {\n     throw new HttpResponseException(HttpStatusCode.InternalServerError);\n   }\n   else\n   {\n     return Ok();\n   }\n}\n</code></pre>\n\n<p>But this will display me as Error500 on that url/page but doesnt take me to Application_Error(). So what do i need to do make it hit Application_Error() so i can redirect it to ErrorController to handle it more nicely.. ?</p>\n"}, {"tags": ["c#", ".net", "entity-framework", "entity-framework-6", "mysql-connector"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 1895834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/trfDI.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/1895834/mike"}, "edited": false, "score": 0, "creation_date": 1566482975, "post_id": 57597474, "comment_id": 101677779, "body": "Thanks. That didn&#39;t quite do it... I&#39;m thinking it needs to be something in the constructor that reaffirms which provider to use, but I can&#39;t find any such guidance in the documentation from Microsoft or really anywhere..."}, {"owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "reply_to_user": {"reputation": 135, "user_id": 1895834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/trfDI.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/1895834/mike"}, "edited": false, "score": 0, "creation_date": 1566485217, "post_id": 57597474, "comment_id": 101679170, "body": "you didn&#39;t try changing the Context.cs right?  just in a different class (like a data repo or facade) in the same namespace, and add the partial class and constructor with connection string.  I have multipleactiveresultsets = true.  My providername is system.data.entityClient though, since I&#39;m using edmx."}, {"owner": {"reputation": 135, "user_id": 1895834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/trfDI.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/1895834/mike"}, "edited": false, "score": 0, "creation_date": 1566487226, "post_id": 57597474, "comment_id": 101680276, "body": "Then I get the following:  &quot;Missing partial modifier on declaration of type &#39;MySqlDbContext&#39;: another partial declaration of this type exists"}], "tags": [], "owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "is_accepted": false, "score": 1, "last_activity_date": 1566412538, "creation_date": 1566412538, "answer_id": 57597474, "question_id": 57595183, "link": "https://stackoverflow.com/questions/57595183/using-entity-framework-with-multiple-databases-and-providers-in-the-same-project/57597474#57597474", "title": "Using Entity Framework with Multiple Databases and Providers in the Same Project (SQL Server and MySql)", "body": "<p>you can use a partial class:</p>\n\n<pre><code> public partial class MySqlDBContext : DbContext\n    {\n        public MySqlDBContext(string FirstSQLServerDBContext)\n            : base(configmanager.connectionstrings(FirstSQLServerDBContext)...)\n        {\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1820, "user_id": 862948, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f5b387efe793ebd1b9df73f7dac6e8ab?s=128&d=identicon&r=PG", "display_name": "bjan", "link": "https://stackoverflow.com/users/862948/bjan"}, "edited": false, "score": 0, "creation_date": 1601966792, "post_id": 57929415, "comment_id": 113562547, "body": "It seems you have two DbContext classes, right? If Yes then how do you switch between them? If No then i think i couldn&#39;t get your solution, would you please elaborate."}], "tags": [], "owner": {"reputation": 135, "user_id": 1895834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/trfDI.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/1895834/mike"}, "is_accepted": true, "score": 2, "last_activity_date": 1568403138, "creation_date": 1568403138, "answer_id": 57929415, "question_id": 57595183, "link": "https://stackoverflow.com/questions/57595183/using-entity-framework-with-multiple-databases-and-providers-in-the-same-project/57929415#57929415", "title": "Using Entity Framework with Multiple Databases and Providers in the Same Project (SQL Server and MySql)", "body": "<p>With the help of Microsoft, I finally figured it out. Hopefully this helps someone else out there. I had to create my own class inheriting from DbConfiguration</p>\n\n<pre><code>public class MyCustomSQLDbConfiguration : DbConfiguration\n{\n    public MyCustomSQLDbConfiguration()\n    {\n        SetExecutionStrategy(\"MySql.Data.MySqlClient\", () =&gt; new MySqlExecutionStrategy());\n        SetDefaultConnectionFactory(new LocalDbConnectionFactory(\"mssqllocaldb\"));\n    }\n}\n</code></pre>\n\n<p>Then decorate my MySqlDBContext accordingly: </p>\n\n<pre><code>[DbConfigurationType(typeof(MyCustomSQLDbConfiguration))]\npublic class MySqlDBContext : DbContext\n{\n    public MySqlDBContext() : base(\"MySqlDBContext\")\n    {\n\n    }\n }\n</code></pre>\n\n<p>And then finally (and importantly), explicitly set this when I run the application. In the case of a console app, at the beginning of Program.Main, or in a web application, on Application_Start:</p>\n\n<pre><code>DbConfiguration.SetConfiguration(new MyCustomSQLDbConfiguration());\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 1895834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/trfDI.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/1895834/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 1, "accepted_answer_id": 57929415, "answer_count": 2, "score": 4, "last_activity_date": 1568403138, "creation_date": 1566402166, "last_edit_date": 1566502635, "question_id": 57595183, "link": "https://stackoverflow.com/questions/57595183/using-entity-framework-with-multiple-databases-and-providers-in-the-same-project", "title": "Using Entity Framework with Multiple Databases and Providers in the Same Project (SQL Server and MySql)", "body": "<h2>Background:</h2>\n\n<p>I have an application (both web forms and console) that easily accesses multiple SQL Server databases using Entity Framework code first with no problems. I can switch back and forth between contexts with no errors. Now I'm trying to add in a new MySql database (different provider), but if I switch from one context to another, I get the below error message: </p>\n\n<h2>Error:</h2>\n\n<blockquote>\n  <p>The default DbConfiguration instance was used by the Entity Framework\n  before the 'MySqlEFConfiguration' type was discovered. An instance of\n  'MySqlEFConfiguration' must be set at application start before using\n  any Entity Framework features or must be registered in the\n  application's config file. See\n  <a href=\"http://go.microsoft.com/fwlink/?LinkId=260883\" rel=\"nofollow noreferrer\">http://go.microsoft.com/fwlink/?LinkId=260883</a> for more information.</p>\n</blockquote>\n\n<p>I've seen solutions that recommend adding the \"codeConfigurationType\" attribute to the entityFramework node in the web.config to specify my MySql assembly, but this won't work since I'm targeting multiple databases with multiple providers. </p>\n\n<p>The Microsoft support article seems to hint at creating my own custom DbConfiguration file, but I already have one: MySql.Data.Entity.mySqlEFConfiguration, and I've decorated my DbContext with it accordingly: </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>   [DbConfigurationType(typeof(MySqlEFConfiguration))]\n    public class MySqlDBContext : DbContext\n    {\n        public MySqlDBContext() : base(\"MySqlDBContext\")\n        {\n\n        }\n    }\n...\n</code></pre>\n\n<p>Here's how I have my web.config set up:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>  &lt;entityFramework&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"MySql.Data.MySqlClient\" type=\"MySql.Data.MySqlClient.MySqlProviderServices, MySql.Data.Entity.EF6\"/&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n  &lt;connectionStrings&gt;        \n    &lt;add name=\"FirstSQLServerDBContext\" providerName=\"System.Data.SqlClient\" connectionString=\"Server=SQLServerName;MultipleActiveResultSets=True; Database=FirstSQLDB; User ID=SQLUsername;Password=SqlPassword; Encrypt=true;\" /&gt;\n    &lt;add name=\"SecondSQLServerDBContext\" providerName=\"System.Data.SqlClient\" connectionString=\"Server=SQLServerName;MultipleActiveResultSets=True; Database=SecondSQLDB; User ID=SQLUsername;Password=SqlPassword; Encrypt=true;\" /&gt;\n    &lt;add name=\"MySqlDBContext\" providerName=\"MySql.Data.MySqlClient\" connectionString=\"server=MySqlServerName; port=3306;database=MySqlDB; uid=MySqlUsername; password=MySqlPassword;\" /&gt;    \n  &lt;/connectionStrings&gt;\n</code></pre>\n\n<h2>Question:</h2>\n\n<p>It doesn't seem like there's any way to do this using config file configuration since I'm limited to a single  entry. So how can I specify the provider when switching contexts? I imagine there's something I'm missing in each DbContext's constructor to explicitly state which provider to use? For the record, I'm receiving the same error message in both a console application and a web forms application. </p>\n\n<h2>Update: Additional Info</h2>\n\n<ul>\n<li>(8/21/19) It seems to work okay if I disable MultipleActiveResultSets (MARS) on the SQLServer data sources, though this isn't an ideal solution since I've written my code to take advantage of MARS.</li>\n<li>(8/22/19) Actually that wouldn't have solved it. It would have just gone on to the next problem. There can only be one DbConfiguration per application, so the solution will likely involve writing one that works with both providers... I've submitted a support request with my MSDN subscription to see if they have any additional insight...</li>\n</ul>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1566402220, "post_id": 57595113, "comment_id": 101647654, "body": "You miss the error message"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1566402657, "post_id": 57595113, "comment_id": 101647884, "body": "You cannot use <code>string.Join</code> with EF as it doesn&#39;t have a way to translate that into SQL.  Instead pull the list of values, then use an <code>AsEnumerable</code> followed by a <code>Select</code> where you can then use <code>string.Join</code>."}], "answers": [{"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1566406653, "post_id": 57596117, "comment_id": 101649647, "body": "You could use <code>AsEnumerable</code> instead of <code>ToList</code> for <code>resultsFromDB</code> and avoid creating an intermediate list."}], "tags": [], "owner": {"reputation": 140, "user_id": 11958063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-agRcYB0ZwSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reswVAbRFmfJRDJO6WOFF0tvRwv2A/photo.jpg?sz=128", "display_name": "Tohm", "link": "https://stackoverflow.com/users/11958063/tohm"}, "is_accepted": false, "score": 0, "last_activity_date": 1566406244, "creation_date": 1566406244, "answer_id": 57596117, "question_id": 57595113, "link": "https://stackoverflow.com/questions/57595113/convert-list-of-string-into-a-comma-separated-string-using-lambda-expression-que/57596117#57596117", "title": "Convert list of string into a comma separated string using lambda expression query", "body": "<p>You must extract value from database before use string.Join</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var resultsFromDB = (from uastatus in _DataContext.UaStatusEntity\n               where uastatus.IsUaComplete == false\n               join client in _DataContext.Client on uastatus.ClientID equals client.ClientID\n               where client.ClientStatus == \"Active\" &amp;&amp; \n                     client.IsEnrolledNHCR.HasValue &amp;&amp; \n                     client.IsEnrolledNHCR.Value\n               join ps in _DataContext.ProductSelectionEntity on bill.ClientId equals ps.ClientID\n               where bill.Id == ps.BillingId\n               select new \n                          {\n                               ClientId = client.ClientID,\n                               ClientRelationship = client.ClientRelationship,\n                               ClientName = client.ClientName,\n                               EIN = client.EIN,     \n                               ProductID = ps.ProductID,\n\n                          }).ToList();\nvar results = (from value in resultsFromDB\n              let ProductIDS = string.Join(\",\", resultsFromDB.Where(x =&gt; x.ClientId == value.ClientId ).Select(x =&gt; x.ProductID).ToList())\n               select new PendingUA\n                          {\n                               ClientId = value.ClientID,\n                               ClientRelationship = value.ClientRelationship,\n                               ClientName = value.ClientName,\n                               EIN = value.EIN,     \n                               ProductIDS = ps.ProductIDS ,\n\n                          }).Distinct().ToList();\n\n</code></pre>\n\n<p>for better performance, use linq group by </p>\n"}], "owner": {"reputation": 1, "user_id": 9505440, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CjeicRNH34I/AAAAAAAAAAI/AAAAAAAAJ8I/X8UPReISF-U/photo.jpg?sz=128", "display_name": "Nikki Shah", "link": "https://stackoverflow.com/users/9505440/nikki-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566406244, "creation_date": 1566401919, "last_edit_date": 1566402081, "question_id": 57595113, "link": "https://stackoverflow.com/questions/57595113/convert-list-of-string-into-a-comma-separated-string-using-lambda-expression-que", "title": "Convert list of string into a comma separated string using lambda expression query", "body": "<p>I am attaching my full query in which <code>ps.productId</code> is returning list of strings and I want all strings comma separated as a single string like \"a,b,c\" \nHow can I achieve this using lambda expression!</p>\n\n<pre><code>ProductIDs = string.Join(\",\", ps.ProductID),\nProductIDs = string.Join(\",\", _DataContext.ProductSelectionEntity.Where(x =&gt; x.BillingId == bill.Id).Select(x =&gt; x.ProductID).ToList())             \n</code></pre>\n\n<p><code>ps.productIds</code> will return a <code>List&lt;string&gt;</code>, I want it in a string format <code>\"1,2,3,4\"</code></p>\n\n<pre><code>var results = (from uastatus in _DataContext.UaStatusEntity\n               where uastatus.IsUaComplete == false\n               join client in _DataContext.Client on uastatus.ClientID equals client.ClientID\n               where client.ClientStatus == \"Active\" &amp;&amp; \n                     client.IsEnrolledNHCR.HasValue &amp;&amp; \n                     client.IsEnrolledNHCR.Value\n               join ps in _DataContext.ProductSelectionEntity on bill.ClientId equals ps.ClientID\n               where bill.Id == ps.BillingId\n               select new PendingUA\n                          {\n                               ClientId = client.ClientID,\n                               ClientRelationship = client.ClientRelationship,\n                               ClientName = client.ClientName,\n                               EIN = client.EIN,     \n                               ProductIDs = string.Join(\",\", ps.ProductID),\n                               ProductIDs = string.Join(\",\",_DataContext.ProductSelectionEntity.Where(x =&gt; x.BillingId == bill.Id).Select(x =&gt; x.ProductID).ToList())             \n                          }).Distinct().ToList();\n</code></pre>\n\n<p>Error message </p>\n"}, {"tags": ["c#", "asp.net-core", "model-view-controller"], "comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 2, "creation_date": 1566401954, "post_id": 57595095, "comment_id": 101647515, "body": "What are you observing that you define as &quot;slow&quot;?"}, {"owner": {"reputation": 665, "user_id": 7520496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/38921ee45c9659c0abccb7f3cf624d13?s=128&d=identicon&r=PG&f=1", "display_name": "AliAzra", "link": "https://stackoverflow.com/users/7520496/aliazra"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1566402079, "post_id": 57595095, "comment_id": 101647576, "body": "When i click Start Debugging, it takes a minute to start the first page."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1566402154, "post_id": 57595095, "comment_id": 101647618, "body": "it will take some time for the first time."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 2, "creation_date": 1566402209, "post_id": 57595095, "comment_id": 101647645, "body": "That&#39;s pretty normal and it doesn&#39;t usually have anything to do with Entity Framework. Why do you believe that EF is holding it up?"}, {"owner": {"reputation": 665, "user_id": 7520496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/38921ee45c9659c0abccb7f3cf624d13?s=128&d=identicon&r=PG&f=1", "display_name": "AliAzra", "link": "https://stackoverflow.com/users/7520496/aliazra"}, "edited": false, "score": 0, "creation_date": 1566402394, "post_id": 57595095, "comment_id": 101647748, "body": "I used Dapper, for this project in the beginning and it is quite fast and better. But couldn&#39;t figure out how to use identity with dapper so changed this web to EF now but it is quite slow to start. Any updates or change i am wasting times."}, {"owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "edited": false, "score": 0, "creation_date": 1566403462, "post_id": 57595095, "comment_id": 101648265, "body": "is it .NET Core or .NET Framework?"}, {"owner": {"reputation": 665, "user_id": 7520496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/38921ee45c9659c0abccb7f3cf624d13?s=128&d=identicon&r=PG&f=1", "display_name": "AliAzra", "link": "https://stackoverflow.com/users/7520496/aliazra"}, "edited": false, "score": 0, "creation_date": 1566403519, "post_id": 57595095, "comment_id": 101648288, "body": "it is .NET CORE"}, {"owner": {"reputation": 1534, "user_id": 6210699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247b4cf307285aa72632d5b321cf246b?s=128&d=identicon&r=PG&f=1", "display_name": "Mauricio Atanache", "link": "https://stackoverflow.com/users/6210699/mauricio-atanache"}, "edited": false, "score": 0, "creation_date": 1566404181, "post_id": 57595095, "comment_id": 101648554, "body": "Can you share your whole startup and dbcontext classes? You may be running migrations every time your project starts."}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1566404821, "post_id": 57595095, "comment_id": 101648865, "body": "<i>When i click Start Debugging, it takes a minute to start the first page.</i> what makes you think that has anything to do with the context class?"}], "answers": [{"tags": [], "owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "is_accepted": false, "score": 1, "last_activity_date": 1566404544, "creation_date": 1566404544, "answer_id": 57595765, "question_id": 57595095, "link": "https://stackoverflow.com/questions/57595095/entity-framework-context-is-quite-slow-not-sure-because-of-my-coding-or-general/57595765#57595765", "title": "Entity Framework Context is quite slow, not sure because of my coding or generally slow?", "body": "<blockquote>\n  <p>I found EF is quite slow to start. And wanted to know, because of my\n  coding design or generally EF is slow.</p>\n</blockquote>\n\n<ol>\n<li><p>First of all, if you are using Entity Framework Core you don't need to create extra Repository layer as EF Core is a repository by itself. Instead of creating extra <code>Repository</code> classes and <code>IRepository</code> interfaces you can create extension methods for your entities and inject the <code>ApplicationDbContext</code> directly to your services. You can have a look at what is the idea of this approach <a href=\"https://www.thereformedprogrammer.net/is-the-repository-pattern-useful-with-entity-framework-core/#option-2-ddd-styled-entity-classes\" rel=\"nofollow noreferrer\">here</a></p></li>\n<li><p>When you know that you only read the data in the given scope you can use lazy loading to improve the speed of your queries. This can give you a big performance boost. Check also how <a href=\"http://www.krisvandermast.com/post/2018/02/03/Use-AsNoTracking-to-speed-up-Entity-Framework-performance.html\" rel=\"nofollow noreferrer\">AsNoTracking</a> thingy works to improve the performance</p></li>\n<li><p>Avoid things like this <code>context.ClientModels.OrderBy(c =&gt; c.ClientName);</code> as it results in <code>select * from ...</code> which is quite common problem. I know that in your case you are using the <code>IQueryable</code> so you can add some more logic to the query, however, creating an extra field to just only invoke the <code>OrderBy</code> on seems like a triumph of form over content.</p></li>\n<li><p>Use <code>Async</code> methods as EF Core allows you to do this.</p></li>\n<li><p>If you are saying that Entity Framework is slow maybe think more about the system architecture as in the case where you have to deal with millions of records in your DB you can think about changing approach and denormalized your DB to avoid complex <code>JOIN</code> queries as it always has a big impact on the performance when dealing with big data.</p></li>\n</ol>\n"}], "owner": {"reputation": 665, "user_id": 7520496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/38921ee45c9659c0abccb7f3cf624d13?s=128&d=identicon&r=PG&f=1", "display_name": "AliAzra", "link": "https://stackoverflow.com/users/7520496/aliazra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566404634, "creation_date": 1566401877, "last_edit_date": 1566404634, "question_id": 57595095, "link": "https://stackoverflow.com/questions/57595095/entity-framework-context-is-quite-slow-not-sure-because-of-my-coding-or-general", "title": "Entity Framework Context is quite slow, not sure because of my coding or generally slow?", "body": "<p>I found EF is quite slow to start. And wanted to know, because of my coding design or generally EF is slow.</p>\n\n<p>I have got few tables </p>\n\n<pre><code>    public class ApplicationDbContext: DbContext\n{\n    public ApplicationDbContext(DbContextOptions&lt;ApplicationDbContext&gt; options) : base(options) { }\n    public DbSet&lt;ClientModel&gt; ClientModels { get; set; }\n    public DbSet&lt;EmployeeModel&gt; EmployeeModels { get; set; }\n    public DbSet&lt;ClientContactModel&gt; ClientContactModels { get; set; }\n    public DbSet&lt;FileModel&gt; FileModels { get; set; }\n    ........\n}\n</code></pre>\n\n<p>And I am using IRepository for each model. For examoke Client Model</p>\n\n<pre><code> public interface IClientRepository\n{\n    IQueryable&lt;ClientModel&gt; ClientModel { get; }\n    bool SaveClient(ClientViewModel client);\n    bool DeleteClient(int? clientID);\n}\n\n public class ClientRepository : IClientRepository\n{\n constructor ...\n public IQueryable&lt;ClientModel&gt; ClientModel =&gt; context.ClientModels.OrderBy(c =&gt; c.ClientName);\n}\n</code></pre>\n\n<p><strong>In my Startup</strong>  for each model</p>\n\n<pre><code>  services.AddTransient&lt;IClientRepository, ClientRepository&gt;();\n</code></pre>\n\n<p>And Finally  my Controller i can access the data</p>\n\n<pre><code>private IClientRepository clientRepository;\nprivate IEmployeeRepository employeeRepository;\n\npublic ClientController(IClientRepository _clientRepository, IEmployeeRepository _emp)\n    {\n        clientRepository = _clientRepository;\n        employeeRepository = _emp;\n    }\n</code></pre>\n\n<p>Is it the best way to get the data from database or shall i use context without interfaces- something like this</p>\n\n<pre><code>private readonly ApplicationDbContext context;\npublic ClientController(ApplicationDbContext cont)\n    {\n        context = cont;\n    }\n</code></pre>\n\n<p><strong>START UP</strong></p>\n\n<pre><code> public class Startup\n{\n    public IConfiguration Configuration { get; }\n    public Startup(IConfiguration configuration) =&gt; Configuration = configuration;\n\n    public void ConfigureServices(IServiceCollection services)\n    {\n        services.AddSingleton(Configuration);\n        services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration[\"ConnectionString1\"]));\n        services.AddDbContext&lt;AppIdentityDbContext&gt;(options =&gt; options.UseSqlServer(Configuration[\"ConnectionString2\"]));\n        services.AddDbContext&lt;AppEmployeeDbContext&gt;(options =&gt; options.UseSqlServer(Configuration[\"ConnectionString3\"]));\n\n        services.AddIdentity&lt;IdentityUser, IdentityRole&gt;().AddEntityFrameworkStores&lt;AppIdentityDbContext&gt;().AddDefaultTokenProviders();\n        services.AddTransient&lt;IClientRepository, ClientRepository&gt;();\n        services.AddTransient&lt;IEmployeeRepository, EmployeeRepository&gt;();\n        services.AddTransient&lt;IClientContactRepository, ClientContactRepository&gt;();\n        services.AddTransient&lt;IFileRepository, FileRepository&gt;();\n        services.AddTransient&lt;IDolsMcaClientRepository, DolsMcaClientRepository&gt;();\n        services.AddTransient&lt;IDolsMcaItemRepository, DolsMcaItemRepository&gt;();\n        services.AddTransient&lt;IMcaRepository, McaRepository&gt;();\n        services.AddTransient&lt;IIncidentRepository, IncidentRepository&gt;();\n\n\n\n        services.AddMvc();\n        services.AddSession(options =&gt;\n        {\n            options.IdleTimeout = TimeSpan.FromSeconds(1000 * 60 * 60); //1hr\n            options.Cookie.HttpOnly = true;\n            options.Cookie.IsEssential = true;\n        });\n    }\n\n\n    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        app.UseStaticFiles();\n        app.UseStatusCodePages();\n        app.UseSession();\n        app.UseAuthentication();\n\n\n        app.UseMvc(routes =&gt; {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller=Home}/{action=Index}/{id?}\");\n        });\n\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n            app.UseDatabaseErrorPage();\n        }\n        else\n        {\n            app.UseExceptionHandler(\"/Error/500\");\n            app.UseStatusCodePagesWithReExecute(\"/Error/{0}\");\n        }\n\n        app.Run(async (context) =&gt;\n        {\n            await context.Response.WriteAsync(\"Empty!\");\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "html", "css", "webbrowser-control"], "answers": [{"comments": [{"owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "edited": false, "score": 0, "creation_date": 1566642418, "post_id": 57595594, "comment_id": 101726651, "body": "If this answered your question, it would be nice to choose it as selected answer."}], "tags": [], "owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "is_accepted": false, "score": 2, "last_activity_date": 1566403821, "creation_date": 1566403821, "answer_id": 57595594, "question_id": 57595030, "link": "https://stackoverflow.com/questions/57595030/how-to-get-the-address-of-a-linked-stylesheet-in-webbrowser-control/57595594#57595594", "title": "How to get the address of a linked Stylesheet in webbrowser control", "body": "<p>WebBrowser control has an event <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.webbrowser.documentcompleted?view=netframework-4.8\" rel=\"nofollow noreferrer\">DocumentComplete</a>.\nIt is triggered once your document/file loading has been completed.</p>\n\n<p>First, register to the event:</p>\n\n<pre><code>webBrowser1.DocumentCompleted += new System.Windows.Forms.WebBrowserDocumentCompletedEventHandler(this.WebBrowser1_DocumentCompleted);\n</code></pre>\n\n<p>In the event callback, search for \"LINK\" element tag.</p>\n\n<pre><code>    private void WebBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)\n    {\n        var browser = sender as WebBrowser;\n        var document = browser.Document;\n\n        foreach(HtmlElement link in document.GetElementsByTagName(\"LINK\"))\n        {\n            // this is your link:\n            link.GetAttribute(\"href\")\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3429, "user_id": 2501044, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/P0t4P.png?s=128&g=1", "display_name": "Golda", "link": "https://stackoverflow.com/users/2501044/golda"}, "is_accepted": false, "score": 1, "last_activity_date": 1566480444, "last_edit_date": 1566480444, "creation_date": 1566479588, "answer_id": 57610201, "question_id": 57595030, "link": "https://stackoverflow.com/questions/57595030/how-to-get-the-address-of-a-linked-stylesheet-in-webbrowser-control/57610201#57610201", "title": "How to get the address of a linked Stylesheet in webbrowser control", "body": "<p>The following code will help you. This one is using LINQ query</p>\n\n<pre><code>    private void Form1_Load(object sender, EventArgs e)\n    {\n        webBrowser1.Navigate(@\"D:\\DemoFolder\\demo.html\");\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        // Get a link\n        HtmlElement  link = (from HtmlElement element in webBrowser1.Document.GetElementsByTagName(\"link\") select element)\n            .Where(x =&gt; x.GetAttribute(\"rel\") != null &amp;&amp; x.GetAttribute(\"rel\") == \"stylesheet\" &amp;&amp; x.GetAttribute(\"href\") != null).FirstOrDefault();\n\n        if (link != null)\n        {\n            // Get CSS path\n            string path = link.GetAttribute(\"href\");\n\n            textBox1.Text = path;\n        }\n    }\n</code></pre>\n\n<p>The following is a screenshot of the output\n<a href=\"https://i.stack.imgur.com/ggPge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ggPge.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6030, "user_id": 2651073, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/MtRZl.jpg?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/2651073/ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566480444, "creation_date": 1566401634, "last_edit_date": 1566402014, "question_id": 57595030, "link": "https://stackoverflow.com/questions/57595030/how-to-get-the-address-of-a-linked-stylesheet-in-webbrowser-control", "title": "How to get the address of a linked Stylesheet in webbrowser control", "body": "<p>I have a webbrowser control in a C# winform, which loads the following text:</p>\n\n<pre><code>&lt;head&gt;\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"d:/git/ArticleScraper/reports/default.css\"&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>Can I find the address of the css (<code>d:/git/ArticleScraper/reports/default.css</code>) and load it in a textbox editor? It could be a local or online css file with absolute or relative address.</p>\n\n<p>I didn't find any related property or method in the webbrowser control. </p>\n"}, {"tags": ["c#", ".net", "rounding"], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 8, "last_activity_date": 1566401793, "creation_date": 1566401793, "answer_id": 57595076, "question_id": 57594988, "link": "https://stackoverflow.com/questions/57594988/c-round-to-list-values/57595076#57595076", "title": "C# Round to list values", "body": "<p>You're close:</p>\n\n<pre><code>list.Where(x =&gt; x &gt;= result).Min();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7335, "user_id": 215042, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9814828bd8d94a47c12461f364baaa82?s=128&d=identicon&r=PG", "display_name": "RobIII", "link": "https://stackoverflow.com/users/215042/robiii"}, "edited": false, "score": 1, "creation_date": 1566401960, "post_id": 57595116, "comment_id": 101647518, "body": "That is assuming the list is ordered. I mean, it is, in the example. But nowhere stated explicitly."}], "tags": [], "owner": {"reputation": 55713, "user_id": 26095, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WLsjF.jpg?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/26095/sean"}, "is_accepted": false, "score": 4, "last_activity_date": 1566402077, "last_edit_date": 1566402077, "creation_date": 1566401922, "answer_id": 57595116, "question_id": 57594988, "link": "https://stackoverflow.com/questions/57594988/c-round-to-list-values/57595116#57595116", "title": "C# Round to list values", "body": "<p>You just want the first item greater than or equal to your expected result:</p>\n\n<pre><code>var max = list.FirstOrDefault(x =&gt; x &gt;= result)\n</code></pre>\n\n<p>NOTE: This assumes the list is ordered, as your example seems to suggest.</p>\n\n<p>If you want to get an exception if there's no match then just use <code>First</code>:</p>\n\n<pre><code>var max = list.First(x =&gt; x &gt;= result)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7335, "user_id": 215042, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9814828bd8d94a47c12461f364baaa82?s=128&d=identicon&r=PG", "display_name": "RobIII", "link": "https://stackoverflow.com/users/215042/robiii"}, "edited": false, "score": 1, "creation_date": 1566402228, "post_id": 57595150, "comment_id": 101647663, "body": "You are <i>also</i> assuming the list is ordered. I mean, it is, in the example. But nowhere stated explicitly. Just a heads-up."}, {"owner": {"reputation": 182, "user_id": 5255036, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jtjq9NNKXRk/AAAAAAAAAAI/AAAAAAAATI0/GLZJYeV81Zk/photo.jpg?sz=128", "display_name": "The Don", "link": "https://stackoverflow.com/users/5255036/the-don"}, "reply_to_user": {"reputation": 7335, "user_id": 215042, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9814828bd8d94a47c12461f364baaa82?s=128&d=identicon&r=PG", "display_name": "RobIII", "link": "https://stackoverflow.com/users/215042/robiii"}, "edited": false, "score": 0, "creation_date": 1566489858, "post_id": 57595150, "comment_id": 101681641, "body": "@RobIII - Good catch! Made the necessary adjustment. But @D Stanley&#39;s answer is the simplest and the correct one."}], "tags": [], "owner": {"reputation": 182, "user_id": 5255036, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jtjq9NNKXRk/AAAAAAAAAAI/AAAAAAAATI0/GLZJYeV81Zk/photo.jpg?sz=128", "display_name": "The Don", "link": "https://stackoverflow.com/users/5255036/the-don"}, "is_accepted": false, "score": 0, "last_activity_date": 1566489835, "last_edit_date": 1566489835, "creation_date": 1566402042, "answer_id": 57595150, "question_id": 57594988, "link": "https://stackoverflow.com/questions/57594988/c-round-to-list-values/57595150#57595150", "title": "C# Round to list values", "body": "<p>If you want to round upwards, you can find which value in the list subtracted by your value is greater than or equal to 0.</p>\n\n<pre><code>max = list\n    .OrderBy(x =&gt; x) // Can be skipped if list is ordered.\n    .FirstOrDefault(x =&gt; x - value &gt;= 0) // if \"value\" is 187, max will be 240.\n</code></pre>\n\n<p>Ensure you have something that handles if the \"max\" value is null.</p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 7335, "user_id": 215042, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9814828bd8d94a47c12461f364baaa82?s=128&d=identicon&r=PG", "display_name": "RobIII", "link": "https://stackoverflow.com/users/215042/robiii"}, "edited": false, "score": 0, "creation_date": 1566402477, "post_id": 57595178, "comment_id": 101647797, "body": "Assuming the list is ordered, this is a pretty neat solution!"}], "tags": [], "owner": {"reputation": 5970, "user_id": 129073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pHvIw.jpg?s=128&g=1", "display_name": "Gebb", "link": "https://stackoverflow.com/users/129073/gebb"}, "is_accepted": false, "score": 4, "last_activity_date": 1566402666, "last_edit_date": 1566402666, "creation_date": 1566402134, "answer_id": 57595178, "question_id": 57594988, "link": "https://stackoverflow.com/questions/57594988/c-round-to-list-values/57595178#57595178", "title": "C# Round to list values", "body": "<p>Try using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.binarysearch?view=netframework-4.8\" rel=\"nofollow noreferrer\">List.BinarySearch</a>.</p>\n\n<blockquote>\n  <p>Returns the zero-based index of item in the sorted List, if item is found; otherwise, a negative number that is the bitwise complement of the index of the next element that is larger than item or, if there is no larger element, the bitwise complement of Count.</p>\n</blockquote>\n\n<pre><code>var list = new List&lt;int&gt; { 16, 25, 35, 50, 70, 95, 120, 150, 185, 240, 300, 400 };\n\nint index = list.BinarySearch(result);\nint rounded;\nif (index &lt; 0)\n{\n    if (~index == list.Count)\n    {\n        throw new InvalidOperationException(\"Number is too big.\");\n    }\n    rounded = list[~index];\n}\nelse\n{\n    rounded = list[index];\n}\n</code></pre>\n\n<p>The asymptotic complexity of this method is <code>O(log n)</code>, where <code>n</code> is the length of the list, whereas the complexity of <code>Where</code>/<code>First</code> is <code>O(n)</code>, which probably won't matter in your case, but is still good to know.</p>\n"}, {"comments": [{"owner": {"reputation": 140, "user_id": 11958063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-agRcYB0ZwSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reswVAbRFmfJRDJO6WOFF0tvRwv2A/photo.jpg?sz=128", "display_name": "Tohm", "link": "https://stackoverflow.com/users/11958063/tohm"}, "edited": false, "score": 0, "creation_date": 1566403578, "post_id": 57595506, "comment_id": 101648312, "body": "So for the value = 187 the closest value is 185"}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1566403832, "post_id": 57595506, "comment_id": 101648417, "body": "I suggest to update the query to solve the original task: 187 -&gt; 240. <code>from v in list             let d = v - value \t\t\twhere d &gt; 0             orderby d             select v</code>"}], "tags": [], "owner": {"reputation": 140, "user_id": 11958063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-agRcYB0ZwSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reswVAbRFmfJRDJO6WOFF0tvRwv2A/photo.jpg?sz=128", "display_name": "Tohm", "link": "https://stackoverflow.com/users/11958063/tohm"}, "is_accepted": false, "score": 0, "last_activity_date": 1566409784, "last_edit_date": 1566409784, "creation_date": 1566403481, "answer_id": 57595506, "question_id": 57594988, "link": "https://stackoverflow.com/questions/57594988/c-round-to-list-values/57595506#57595506", "title": "C# Round to list values", "body": "<p>If you want the closest value </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var list = new List&lt;int&gt; { 16, 25, 35, 50, 70, 95, 120, 150, 185, 240, 300, 400 };\nint value = 187;\nvar nearestValue = (from v in list\n        let  d = Math.Abs(value - v)\n        orderby d\n        select v)\n    .FirstOrDefault();\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6134454, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f0d12977a648d1de400efd49f8d23496?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Ahmed", "link": "https://stackoverflow.com/users/6134454/mohamed-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 57595076, "answer_count": 5, "score": 2, "last_activity_date": 1566489835, "creation_date": 1566401525, "last_edit_date": 1566404510, "question_id": 57594988, "link": "https://stackoverflow.com/questions/57594988/c-round-to-list-values", "title": "C# Round to list values", "body": "<p>I'm trying to round a result value to the next number in a list.</p>\n\n<p>If the value is (187) I need to set the result to (240)</p>\n\n<pre><code>int[] list = new int[] { 16, 25, 35, 50, 70, 95, 120, 150, 185, 240, 300, 400 };\ndouble max;\nmax = list.Where(x =&gt; x &lt;= result).Max();\n</code></pre>\n\n<p>But this does not work.</p>\n"}, {"tags": ["c#", "asp.net", "linq"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1566401370, "post_id": 57594856, "comment_id": 101647219, "body": "What does <code>DateTimeMask</code> look like? Does it implement equality?"}, {"owner": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1566401697, "post_id": 57594856, "comment_id": 101647384, "body": "it&#39;s just something to help me to show stuff easily with @diplayfor [updated]"}, {"owner": {"reputation": 156, "user_id": 3178666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022f23ed24e04848e72e435b681656d2?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3178666/rob"}, "edited": false, "score": 0, "creation_date": 1566401706, "post_id": 57594856, "comment_id": 101647388, "body": "Could you perhaps show a small subset of the data that you expect to work, but doesn&#39;t? E.g. Do the dates contain times?"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1566401940, "post_id": 57594856, "comment_id": 101647506, "body": "Since it&#39;s a class, the default check for equality is referential equality, so distinct will only remove objects that are the same reference, not ones with the same values."}, {"owner": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1566402239, "post_id": 57594856, "comment_id": 101647669, "body": "I think that&#39;s it, thanks @JonathonChase"}], "owner": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1566402206, "answer_count": 0, "score": 1, "last_activity_date": 1566409772, "creation_date": 1566401005, "last_edit_date": 1566409772, "question_id": 57594856, "link": "https://stackoverflow.com/questions/57594856/issue-using-distinct-within-a-list-of-objects", "closed_reason": "Duplicate", "title": "Issue using Distinct within a list of objects", "body": "<p>when I'm trying to remove duplicates from a list of custom objects,</p>\n\n<p>the following are my failed attempt:</p>\n\n<p>1- </p>\n\n<pre><code>model.DatesList = model.DatesList .Distinct().ToList();\n</code></pre>\n\n<p>2 - </p>\n\n<pre><code>List&lt;DateTimeMask&gt; newDates = new List&lt;DateTimeMask&gt;();\nforeach (DateTimeMask _date in DatesList)\n{\n   if (!newDates.Contains(_date)) newDates.Add(_date);\n}\nDatesList = newDates;\n</code></pre>\n\n<p>3 - </p>\n\n<pre><code>model.DatesList = model.DatesList.Select(x=&gt; new DateTimeMask\n                                  {\n                                    DayOfTheWeek = x.DayOfTheWeek,\n                                    DateToString = x.DateToString,\n                                    DateTallinn = x.DateTallinn,\n                                  }).Distinct().ToList();\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>thanks for the help</p>\n\n<p>edit: this is how the object look like</p>\n\n<pre><code>public class DateTimeMask\n{\n   public string DayOfTheWeek { get; set; }\n   public string DateToString { get; set; }\n   public DateTime DateTallinn { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "moq", "xunit"], "comments": [{"owner": {"reputation": 18719, "user_id": 1997232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/y6na2.png?s=128&g=1", "display_name": "Sinatr", "link": "https://stackoverflow.com/users/1997232/sinatr"}, "edited": false, "score": 3, "creation_date": 1566400610, "post_id": 57594640, "comment_id": 101646806, "body": "It seems method is doing too much. Split it into multiple testable methods."}, {"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 0, "creation_date": 1566400689, "post_id": 57594640, "comment_id": 101646848, "body": "When you have many dependencies you surely need many mocks for them. That&#180;s why you should keep your unit under test small."}, {"owner": {"reputation": 530, "user_id": 6615581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ih4lb.jpg?s=128&g=1", "display_name": "Gonzalo Lorieto", "link": "https://stackoverflow.com/users/6615581/gonzalo-lorieto"}, "reply_to_user": {"reputation": 18719, "user_id": 1997232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/y6na2.png?s=128&g=1", "display_name": "Sinatr", "link": "https://stackoverflow.com/users/1997232/sinatr"}, "edited": false, "score": 0, "creation_date": 1566403339, "post_id": 57594640, "comment_id": 101648194, "body": "@Sinatr that may be true. But not all methods are splitable. Also, if the split is done, what about testing the &quot;orchestator&quot; method that calls those smaller methods?"}], "answers": [{"tags": [], "owner": {"reputation": 1637, "user_id": 8212196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0035d2b02f5b7ebd3916dc9ac227bee1?s=128&d=identicon&r=PG&f=1", "display_name": "Hostel", "link": "https://stackoverflow.com/users/8212196/hostel"}, "is_accepted": false, "score": 1, "last_activity_date": 1566401714, "creation_date": 1566401714, "answer_id": 57595050, "question_id": 57594640, "link": "https://stackoverflow.com/questions/57594640/unit-test-large-setups-fixtures/57595050#57595050", "title": "Unit test , large setups/fixtures", "body": "<p>You should try create independent classes, which you could test without introducing too many dependencies, but in some point there will be a class which uses other components(for example ViewModel). In such cases I use:\n<a href=\"https://github.com/AutoFixture/AutoFixture\" rel=\"nofollow noreferrer\">https://github.com/AutoFixture/AutoFixture</a></p>\n\n<p>It helps in creation system/class under test and helps with injecting dependencies. You can use it with NSubstitute but not only with it.</p>\n\n<p>Using AutoFixture you can create mock classes which you will examine, but rest dependencies which will be not needed AutoFixture will auto-generate for you, so extending a constructor will not lead to modifying bunch of unit tests.</p>\n"}], "owner": {"reputation": 530, "user_id": 6615581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ih4lb.jpg?s=128&g=1", "display_name": "Gonzalo Lorieto", "link": "https://stackoverflow.com/users/6615581/gonzalo-lorieto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "closed_date": 1566403706, "answer_count": 1, "score": 0, "last_activity_date": 1566401714, "creation_date": 1566400356, "question_id": 57594640, "link": "https://stackoverflow.com/questions/57594640/unit-test-large-setups-fixtures", "closed_reason": "Needs more focus", "title": "Unit test , large setups/fixtures", "body": "<p>Lets say we have a <code>Service</code> with other servcies on <code>DI</code>. The method under test does somehting with the input data, does some validations, calls a couple of these injected services (can get data only or modify data and then return something) and then returns something.</p>\n\n<p>Given this scenario, I need to write many cases testing all possible behaviors, like validations exceptions, not found exceptions, business exceptions, normal flow, etc...</p>\n\n<p>The problem is that I need to mock all the methods on an injected service for the setup. This could grow fast.</p>\n\n<p><strong>What's the best approach for fixtures and setups (mocking dependencies) in this large/complex method? Is there a pattern that solves this?</strong> </p>\n\n<p>For data mocking I use <code>builder pattern</code> wich simplifies the task very well.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1566400237, "post_id": 57594587, "comment_id": 101646595, "body": "youll need an address parsing framework"}, {"owner": {"reputation": 4235, "user_id": 283787, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0506cfe093ecc1c02e798a8224d4477?s=128&d=identicon&r=PG", "display_name": "openshac", "link": "https://stackoverflow.com/users/283787/openshac"}, "edited": false, "score": 0, "creation_date": 1566400540, "post_id": 57594587, "comment_id": 101646768, "body": "What are your rules for choosing where to split? Is it always at character 25? Is after the 3rd space. Is it after the 2nd space (backwards). Are you comfortable using RegEx? Can you give a number of examples and the desired output for each?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1566400634, "post_id": 57594587, "comment_id": 101646820, "body": "Show us your code.  Remember that a string can appear like a collection of characters.  If you have string <code>str</code>, then <code>str[3]</code> is the fourth character in the string.  Combine that with <code>string.Length</code> and <code>string.Substring</code> and you should be able to cobble a solution together.  <code>StringBuilder</code> may help.  Don&#39;t forget to remove the space you are using as the &quot;splitter&quot;"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1566400774, "post_id": 57594587, "comment_id": 101646894, "body": "Split at the spaces. Add each &quot;word&quot; to <code>Line 1</code> while the total is less than or equal to 25. When <code>Line 1</code> + next word is greater than 25 you&#39;ve got <code>Line 1</code>. Add the remaining to <code>Line 2</code>. Splitting at the spaces yield an array consisting of <code>[&quot;12345&quot;, &quot;Manchester&quot;, &quot;Avenue&quot;, &quot;Apt&quot;, &quot;123&quot; ]</code>. Looping through the array and adding to <code>Line 1</code> yields <code>12345 Manchester Avenue</code>. (Remeber to add a space in between the words). Checking if <code>12345 Manchester Avenue</code> + space + <code>Apt</code> yields that the length is greater than 25. So stop adding to <code>Line 1</code> and add the rest of the words to <code>Line 2</code>."}], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 2, "last_activity_date": 1566402242, "last_edit_date": 1566402242, "creation_date": 1566401204, "answer_id": 57594911, "question_id": 57594587, "link": "https://stackoverflow.com/questions/57594587/split-address-into-two-lines-via-c/57594911#57594911", "title": "Split address into two lines via C#", "body": "<p>One way to do it would be to find the space you'd break on, then split the string there. <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.lastindexof?view=netframework-4.8#System_String_LastIndexOf_System_Char_System_Int32_\" rel=\"nofollow noreferrer\"><code>String.LastIndexOf</code></a> has an overload that will do that for you nicely:</p>\n\n<pre><code>string s = \"12345 Manchester Avenue Apt 123\";\nif(s.Length &gt; 25) \n{\n    // find the last space within the first 25 characters\n    int lastSpace = s.LastIndexOf(' ',24);\n\n    //TODO: Add logic to handle case where no space is found in the first 25 chars \n\n    string s1 = s.Substring(0,lastSpace);\n    string s2 = s.Substring(lastSpace+1);\n\n    Console.WriteLine(s1);\n    Console.WriteLine(s2);\n}\n\n//output:\n\n12345 Manchester Avenue\nApt 123\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1566404215, "post_id": 57595666, "comment_id": 101648564, "body": "I like @dstanley&#39;s answer, but it should probably be combined with mine (my initial &quot;do we need to split at all&quot; and my final &quot;brute force&quot; option."}], "tags": [], "owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "is_accepted": false, "score": 0, "last_activity_date": 1566404078, "creation_date": 1566404078, "answer_id": 57595666, "question_id": 57594587, "link": "https://stackoverflow.com/questions/57594587/split-address-into-two-lines-via-c/57595666#57595666", "title": "Split address into two lines via C#", "body": "<p>Here's some code that I tested in a small Windows Forms app.  You can change the strings to match your names.</p>\n\n<pre><code>private void FixAddressBtn_Click(object sender, EventArgs e)\n{\n    const int maxLength = 25;\n    if (LongAddressText.Text.Length &lt;= maxLength)\n    {\n        Address1Text.Text = LongAddressText.Text;\n        Address2Text.Text = string.Empty;\n        return;\n    }\n\n    for (int i = maxLength - 1; i &gt;= 0; --i)\n    {\n        if (LongAddressText.Text[i] == ' ')\n        {\n            Address1Text.Text = LongAddressText.Text.Substring(0, i);\n            Address2Text.Text = LongAddressText.Text.Substring(i+1);\n            return;\n        }\n    }\n    //no obvious way to split it, so just brute force:\n    Address1Text.Text = LongAddressText.Text.Substring(0, 24);\n    Address2Text.Text = LongAddressText.Text.Substring(24);\n}\n</code></pre>\n\n<p>It walks backwards from your \"maximum length for Address1\" value until it finds a space and breaks there.  Getting rid of the space was the hardest part (off-by-one errors, etc.).  It doesn't handle multiple spaces, and it doesn't handle arbitrary whitespace (for example, TABs).  But it should do what you asked in the most obvious way.</p>\n"}], "owner": {"reputation": 53, "user_id": 3388557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2db1a683d13620d9a02be5e1fecb46?s=128&d=identicon&r=PG", "display_name": "Sam Alex", "link": "https://stackoverflow.com/users/3388557/sam-alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "closed_date": 1566460761, "answer_count": 2, "score": -5, "last_activity_date": 1566404078, "creation_date": 1566400177, "last_edit_date": 1592644375, "question_id": 57594587, "link": "https://stackoverflow.com/questions/57594587/split-address-into-two-lines-via-c", "closed_reason": "Needs more focus", "title": "Split address into two lines via C#", "body": "<p>One of our systems uses a single line for address and another splits it into two lines.  So for an address like &quot;12345 Manchester Avenue Apt 123&quot; we need this split at 25 characters but going back to the prior space, so this string would return as:</p>\n<blockquote>\n<p>Line1 - 12345 Manchester Avenue</p>\n<p>Line2 - Apt 123</p>\n</blockquote>\n<p>I'm not sure how to do this without jumping through some insane loops.\nThanks.</p>\n<p>I've tried a few loops and string functions tied together, but I'm not able to get it working as expected.</p>\n"}, {"tags": ["c#", "twilio"], "comments": [{"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1566792600, "post_id": 57594553, "comment_id": 101753535, "body": "I am not sure what you&#39;re asking here. What is working and not working for you? Why do you not want to use the <code>Twilio.AspNet.Common</code> library to help parse the request? What trouble are you having not using it?"}], "answers": [{"tags": [], "owner": {"reputation": 294, "user_id": 8309356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x7gVL.jpg?s=128&g=1", "display_name": "Corey Weathers", "link": "https://stackoverflow.com/users/8309356/corey-weathers"}, "is_accepted": false, "score": 0, "last_activity_date": 1567538719, "creation_date": 1567538719, "answer_id": 57777666, "question_id": 57594553, "link": "https://stackoverflow.com/questions/57594553/getting-parameters-from-twilio-call-without-using-aspnet-library/57777666#57777666", "title": "Getting parameters from Twilio call without using ASPNet library", "body": "<p>Hey Another Twilio Evangelist here...</p>\n\n<p>You should be able to remove that helper library, add the <code>callSid</code> parameter to your controller method, and it should automatically get picked up when the route is requested. I'm thinking your code will look something like this...</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public ActionResult Index(string callSid)\n{\n    string id = callSid;\n    .\n    .\n    .\n    return View();\n}\n</code></pre>\n\n<p>Drop a note here if you run into trouble. We built a version of this on my Twitch stream which you can also see in video form here - <a href=\"https://www.twitch.tv/cldubya\" rel=\"nofollow noreferrer\">https://www.twitch.tv/cldubya</a> (specifically the 9/3/19). Also feel free to email me at corey@twilio.com if you have more questions.</p>\n"}], "owner": {"reputation": 43, "user_id": 11579729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f01af8957c2f8cf3e0be20a86d9e7c?s=128&d=identicon&r=PG&f=1", "display_name": "brucecopper", "link": "https://stackoverflow.com/users/11579729/brucecopper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567538719, "creation_date": 1566400070, "last_edit_date": 1592644375, "question_id": 57594553, "link": "https://stackoverflow.com/questions/57594553/getting-parameters-from-twilio-call-without-using-aspnet-library", "title": "Getting parameters from Twilio call without using ASPNet library", "body": "<p>I would like to get the callerSid parameter from Twilio in a c# solution without using the &quot;using Twilio.AspNet.Common&quot; library.</p>\n<pre><code>        //here is the code that uses the ASPNET.Common library to get the \n        callerSid\n        public ActionResult Index(VoiceRequest request)\n        {\n        var response = new VoiceResponse();\n        List&lt;string&gt; validIds = new List&lt;string&gt; { &quot;12345&quot;, &quot;23456&quot;, \n        &quot;34567&quot; };\n        var userId = request.Digits;\n        var callerSid = request.callerSid;\n        var authenticated = validIds.Contains(userId);\n        if (!authenticated)\n</code></pre>\n<p>Here is a picture of what I currently have not used the ASPNet library:</p>\n<p><img src=\"https://i.stack.imgur.com/Txcou.png\" alt=\"here is a picture of what I currently have not used the ASPNet library\" /></p>\n<p>I don't know if anyone else has used other Twilio helper libraries to get parameters while in the call.</p>\n"}, {"tags": ["c#", "mongodb", "mongodb-.net-driver", "bson"], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 3223737, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9a0a9e38c8187607d0e55c0ef7b46d42?s=128&d=identicon&r=PG&f=1", "display_name": "renatogbp", "link": "https://stackoverflow.com/users/3223737/renatogbp"}, "is_accepted": false, "score": 0, "last_activity_date": 1566400559, "creation_date": 1566400559, "answer_id": 57594711, "question_id": 57594538, "link": "https://stackoverflow.com/questions/57594538/aggregate-expr-throws-duplicate-element-name-in-bson-syntax-c/57594711#57594711", "title": "Aggregate $expr throws duplicate element name in Bson syntax C#", "body": "<p>I was able to find a workaround solution by adding the two <code>$gt</code> inside a <code>$and</code>.</p>\n\n<pre><code>return new List&lt;BsonDocument&gt;\n{\n    new BsonDocument\n    {\n        {\n            \"$match\", new BsonDocument\n            {\n                {\n                    \"$expr\", new BsonDocument\n                    {\n                        {\n                            \"$and\", new BsonArray\n                            {\n                                new BsonDocument\n                                {\n                                    {\n                                        \"$gt\", new BsonArray \n                                        {\n                                            \"$property1\", \"$property2\"\n                                        }\n                                    }\n                                },\n                                new BsonDocument\n                                {\n                                    {\n                                        \"$gt\", new BsonArray \n                                        {\n                                            \"$property1\", \"$property3\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 3223737, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9a0a9e38c8187607d0e55c0ef7b46d42?s=128&d=identicon&r=PG&f=1", "display_name": "renatogbp", "link": "https://stackoverflow.com/users/3223737/renatogbp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566400559, "creation_date": 1566400011, "question_id": 57594538, "link": "https://stackoverflow.com/questions/57594538/aggregate-expr-throws-duplicate-element-name-in-bson-syntax-c", "title": "Aggregate $expr throws duplicate element name in Bson syntax C#", "body": "<p>I am trying to convert this MongoDB query, which works on Robo3T, to the equivalent in C# using Bson syntax.</p>\n\n<pre><code>db.getCollection('collection').aggregate([{ \"$match\" : { \"$expr\" : { \"$gt\" : [\"$property1\", \"$property2\"], \"$gt\" : [\"$property1\", \"$property3\"] } } }])\n</code></pre>\n\n<p>it is throwing exception when I try to run this code:</p>\n\n<pre><code>return new List&lt;BsonDocument&gt;\n{\n    new BsonDocument\n    {\n        {\n            \"$match\", new BsonDocument\n            {\n                {\n                    \"$expr\", new BsonDocument\n                    {\n                        {\n                            \"$gt\", new BsonArray \n                            {\n                                \"$property1\", \"$property2\"\n                            }\n                        },\n                        {\n                            \"$gt\", new BsonArray\n                            {\n                                \"$property1\", \"$property3\"\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n};\n</code></pre>\n\n<pre><code>Duplicate element name '$gt'.\n   at MongoDB.Bson.BsonDocument.Add(BsonElement element)\n   at MongoDB.Bson.BsonDocument.Add(String name, BsonValue value)\n ...\n</code></pre>\n\n<p>Any idea what I am doing wrong?</p>\n"}, {"tags": ["c#", "wpf", "visual-studio", "inspect", "winappdriver"], "comments": [{"owner": {"reputation": 584, "user_id": 2697348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3da8e14d69ddb75304bd08c68be0685?s=128&d=identicon&r=PG&f=1", "display_name": "PixelPlex", "link": "https://stackoverflow.com/users/2697348/pixelplex"}, "edited": false, "score": 0, "creation_date": 1566457109, "post_id": 57594534, "comment_id": 101663542, "body": "I know a few things that could cause these symptomes. 1. If the controls get declared in code (not XAML), you won&#39;t have Id&#39;s available, since you declare them in the XAML. 2. Make sure you use the correct windowhandle, perhaps it&#39;s the wrong one? You&#39;ll need to check the page source for that. See &#39;session.getPageSource()&#39;, it&#39;s XML. 3. For some unknown reason, the changes you made to the source weren&#39;t compiled in the program you are testing."}, {"owner": {"reputation": 584, "user_id": 2697348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3da8e14d69ddb75304bd08c68be0685?s=128&d=identicon&r=PG&f=1", "display_name": "PixelPlex", "link": "https://stackoverflow.com/users/2697348/pixelplex"}, "edited": false, "score": 0, "creation_date": 1566481279, "post_id": 57594534, "comment_id": 101676714, "body": "If you&#39;re looking for winappdriver resources, I have good experiences with their <a href=\"https://github.com/microsoft/WinAppDriver\" rel=\"nofollow noreferrer\">Github</a>."}, {"owner": {"reputation": 31, "user_id": 11044486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MYgmMtBqPuM/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOelLQImy-hwglqOx91Wdlp4dHGKQ/mo/photo.jpg?sz=128", "display_name": "hiran91", "link": "https://stackoverflow.com/users/11044486/hiran91"}, "reply_to_user": {"reputation": 584, "user_id": 2697348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3da8e14d69ddb75304bd08c68be0685?s=128&d=identicon&r=PG&f=1", "display_name": "PixelPlex", "link": "https://stackoverflow.com/users/2697348/pixelplex"}, "edited": false, "score": 0, "creation_date": 1566534213, "post_id": 57594534, "comment_id": 101693945, "body": "Hi @PixelPlex thank you for the idea given. I will try it today and see for an improvement accordingly. Cheers!"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11044486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MYgmMtBqPuM/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOelLQImy-hwglqOx91Wdlp4dHGKQ/mo/photo.jpg?sz=128", "display_name": "hiran91", "link": "https://stackoverflow.com/users/11044486/hiran91"}, "edited": false, "score": 0, "creation_date": 1566534347, "post_id": 57615379, "comment_id": 101693975, "body": "Hi @popsiporkkanaa I have used FindElementByAccessibilityId since the beginning but did not work as expected."}, {"owner": {"reputation": 425, "user_id": 4329813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ea3b5840daa18c51a4ea7ad5cf3df9?s=128&d=identicon&r=PG&f=1", "display_name": "popsiporkkanaa", "link": "https://stackoverflow.com/users/4329813/popsiporkkanaa"}, "reply_to_user": {"reputation": 31, "user_id": 11044486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MYgmMtBqPuM/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOelLQImy-hwglqOx91Wdlp4dHGKQ/mo/photo.jpg?sz=128", "display_name": "hiran91", "link": "https://stackoverflow.com/users/11044486/hiran91"}, "edited": false, "score": 0, "creation_date": 1566539706, "post_id": 57615379, "comment_id": 101695199, "body": "If you can capture the button in inspect tool, can you add a screenshot/ description of the button relation with its ancestor/children element in the UI element tree?"}], "tags": [], "owner": {"reputation": 425, "user_id": 4329813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ea3b5840daa18c51a4ea7ad5cf3df9?s=128&d=identicon&r=PG&f=1", "display_name": "popsiporkkanaa", "link": "https://stackoverflow.com/users/4329813/popsiporkkanaa"}, "is_accepted": false, "score": 1, "last_activity_date": 1566499253, "creation_date": 1566499253, "answer_id": 57615379, "question_id": 57594534, "link": "https://stackoverflow.com/questions/57594534/unable-to-get-automation-id-of-a-wpf-application-using-inspect-exe-for-winapp-dr/57615379#57615379", "title": "Unable to get automation id of a WPF application using Inspect.exe for WinApp Driver automation", "body": "<p>If you are trying to locate UI element by automation ID, you should use <code>FindElementByAccessibilityId</code> instead of <code>FindElementById</code> (which will look for runtime ID)  as documented here: <a href=\"https://github.com/microsoft/WinAppDriver#supported-locators-to-find-ui-elements\" rel=\"nofollow noreferrer\">https://github.com/microsoft/WinAppDriver#supported-locators-to-find-ui-elements</a></p>\n"}], "owner": {"reputation": 31, "user_id": 11044486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MYgmMtBqPuM/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOelLQImy-hwglqOx91Wdlp4dHGKQ/mo/photo.jpg?sz=128", "display_name": "hiran91", "link": "https://stackoverflow.com/users/11044486/hiran91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1251, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566499253, "creation_date": 1566399994, "question_id": 57594534, "link": "https://stackoverflow.com/questions/57594534/unable-to-get-automation-id-of-a-wpf-application-using-inspect-exe-for-winapp-dr", "title": "Unable to get automation id of a WPF application using Inspect.exe for WinApp Driver automation", "body": "<p>I'm trying to automate UI of an extension (WPF) in Visual Studio 2017 using <strong>WinApp Driver</strong> but cannot find <strong>automation id</strong> when capturing elements using <strong>Inspect.exe</strong> (Windows SDK)</p>\n\n<p>Initially there were no automation id's found when inspected by Inspect.exe. So I set the automation id in the XAML file, in its automation properties and installed the new VSIX back in Visual Studio, but still the above set ids were not visible when capturing elements.</p>\n\n<p>But after I attempt to capture the UI objects after setting id/s in the XAML as above described, using inspect element tool, sporadically automation id was appeared but it was <strong>not</strong> consistent and I could not find the reason why it was not available/visible consistently.</p>\n\n<p>I was succeeded in some scenarios by using 'FindElementByName' and 'FindElementByClassName' but my intention is to use automation id to capture elements more accurately.</p>\n\n<p>Below is the XAML code where I have Set AutomationId;</p>\n\n<p>Button Content=\"Close\" Width=\"80\" Height=\"25\" Margin=\"10,0,0,0\" Visibility=\"{Binding abc}\" Click=\"CloseButton_Click\" AutomationProperties.AutomationId=\"BtnCloseExample\"</p>\n\n<p>Below is the code line where I set the id to capture the element in my test project;</p>\n\n<p>session.FindElementById(\"BtnCloseExample\").Click();\nThread.Sleep(TimeSpan.FromSeconds(3));      </p>\n\n<p>I expect a consistent way to set and get the automation id in order to use FindElementById or xpath. Sadly, I could not find good articles related to this issue as well.</p>\n\n<p>Please shed some light and provide some guidelines to achieve this task. It would be utterly valuable if some one can publish a sample of automating wpf application, if possible.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "wpf", "multithreading"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1566400683, "post_id": 57594521, "comment_id": 101646843, "body": "Refactor scan into a Task that returns a List of fileinfo. You can  then await your task and it&#39;ll run on a separate thread, return your list and you do whatever you want with that list on the line after the await. Async Await and Task are very useful.   You could start your research here <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/async-return-types\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1566420282, "post_id": 57594521, "comment_id": 101655115, "body": "Also consider using <code>EnumerateFiles</code> instead of <code>GetFiles</code>.  You can start processing the file before all of them have been returned."}], "answers": [{"tags": [], "owner": {"reputation": 4928, "user_id": 5314530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/671d5901621bffdfce67c830735f4c97?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Mack", "link": "https://stackoverflow.com/users/5314530/chris-mack"}, "is_accepted": true, "score": 0, "last_activity_date": 1566400338, "creation_date": 1566400338, "answer_id": 57594634, "question_id": 57594521, "link": "https://stackoverflow.com/questions/57594521/how-to-prevent-ui-freeze-by-using-getfiles-in-wpf/57594634#57594634", "title": "How to Prevent &#39;UI Freeze by using .GetFiles in WPF&#39;", "body": "<p>You could access it by using:</p>\n\n<pre><code>Application.Current.Dispatcher.Invoke(() =&gt; fileInfosToCopy.Add(info));\n</code></pre>\n\n<p>Where <code>fileInfosToCopy</code> would exist outside of that method and be created by the main thread (as you probably had it originally).</p>\n"}], "owner": {"reputation": 3, "user_id": 11957663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0282fab6940edf005137018d8bd227?s=128&d=identicon&r=PG&f=1", "display_name": "Justaboi", "link": "https://stackoverflow.com/users/11957663/justaboi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1566403557, "accepted_answer_id": 57594634, "answer_count": 1, "score": -2, "last_activity_date": 1566400673, "creation_date": 1566399956, "question_id": 57594521, "link": "https://stackoverflow.com/questions/57594521/how-to-prevent-ui-freeze-by-using-getfiles-in-wpf", "closed_reason": "Duplicate", "title": "How to Prevent &#39;UI Freeze by using .GetFiles in WPF&#39;", "body": "<p>This is a fuction that compare the contents of two folders.</p>\n\n<p>Issue:</p>\n\n<p>When using System.IO.DirectoryInfo.GetFiles() the application is freezing (15 \nsec), I know that's because it's using the main thread... it's 10 GB.</p>\n\n<p>The reason why I'm not using a thread, sync or whatever is because I need the \n\"fileInfosToCopy\" list in by main thread, so when I'm going to use a thread I \ncan not access it anymore.</p>\n\n<p>Any ideas? I only need the \"fileInfosToCopy\" list in my main thread.</p>\n\n<pre><code>string pathA = @\"\\\\server\\share\\folder\";\nstring pathB = @\"C:\\folder\";\n\n\npublic void Scan()\n    {\n        try\n        {\n            string Computer = \"server\";\n            Ping ping = new Ping();\n            PingReply reply = ping.Send(Computer);\n\n            if (reply.Status == IPStatus.Success)\n            {\n\n                var netwerkfolder = new DirectoryInfo(pathA);\n                var localfolder = new DirectoryInfo(pathB);\n\n                var networkfiles = netwerkfolder.GetFiles(\"*.*\", SearchOption.AllDirectories);\n                var localfiles = localfolder.GetFiles(\"*.*\", SearchOption.AllDirectories);\n\n                var listmissingfiles = networkfiles.Select(s =&gt; s.Name).ToList().Except(localfiles.Select(s =&gt; s.Name)).ToList();\n\n                var fileInfosToCopy = new List&lt;FileInfo&gt;();\n\n                foreach (var info in networkfiles)\n                {\n                    if (listmissingfiles.Contains(info.Name))\n                    {\n                        fileInfosToCopy.Add(info);\n\n                    }\n                }\n            }\n            else\n            {\n              // not connected\n            }\n        }\n        catch (Exception)\n        {\n          // x\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1566400064, "post_id": 57594506, "comment_id": 101646488, "body": "You should use decimal.TryParse.  If they type something like <code>I like Pie</code> (and they <i>will</i>) you dont want the app to crash.  Also, part of the issue might be <i>what data</i> is being parsed...you didnt say."}, {"owner": {"reputation": 324, "user_id": 11851925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e7d4e91d09c1fa81f6db2ecf3ab471?s=128&d=identicon&r=PG&f=1", "display_name": "JardonS", "link": "https://stackoverflow.com/users/11851925/jardons"}, "edited": false, "score": 0, "creation_date": 1566400082, "post_id": 57594506, "comment_id": 101646498, "body": "Which value ahave you encoded in thoses boxes? I can&#39;t see any code ensuring the value is correct prior to the cast."}, {"owner": {"reputation": 156, "user_id": 3178666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022f23ed24e04848e72e435b681656d2?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3178666/rob"}, "edited": false, "score": 0, "creation_date": 1566400227, "post_id": 57594506, "comment_id": 101646590, "body": "if(decimal.TryParse(txtScore.Text, out decimal score)) { [do something]; } else { [report problem?]; }"}, {"owner": {"reputation": 1, "user_id": 10824461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86ff219d3033cf6154d04313cf66fa6b?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/10824461/jake"}, "edited": false, "score": 0, "creation_date": 1566400822, "post_id": 57594506, "comment_id": 101646921, "body": "I just put any number and it still gives the error. Of course I agree with the first comment it will crash if something other than integer is typed."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1566403507, "post_id": 57594506, "comment_id": 101648282, "body": "<i>&quot;I just put any number and it still gives the error&quot;</i> -- if that exception is thrown, the text being parsed is <i>not</i> a number. See marked duplicate for general advice on resolution <code>FormatException</code>. If you still need help after taking care of all the obvious things, post a new question in which you provide a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reliably reproduces the problem, which shows <i>exactly</i> the text you are trying to parse, with an explanation of why you think that text is valid, what you&#39;ve done to confirm that, and what specifically you need help with."}], "owner": {"reputation": 1, "user_id": 10824461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86ff219d3033cf6154d04313cf66fa6b?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/10824461/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1566403394, "answer_count": 0, "score": 0, "last_activity_date": 1566399921, "creation_date": 1566399921, "question_id": 57594506, "link": "https://stackoverflow.com/questions/57594506/system-formatexception-input-string-was-not-in-a-correct-format-using-textbo", "closed_reason": "Duplicate", "title": "System.FormatException: &#39;Input string was not in a correct format.&#39; using textboxes", "body": "<p><a href=\"https://i.stack.imgur.com/vDBzE.png\" rel=\"nofollow noreferrer\">Score Calculator</a></p>\n\n<p>The code looks like it should work but am getting System.FormatException: 'Input string was not in a correct format.' error on line 23, 24 and 25. Is there another way to do the conversion and point it to the textboxes?</p>\n\n<pre><code>    decimal Score = Convert.ToDecimal(txtScore.Text);\n    decimal TotalScore = Convert.ToDecimal(txtScoreTotal.Text);\n    decimal ScoreCount = Convert.ToDecimal(txtScoreCount.Text);\n</code></pre>\n\n<p>I tried different variations of the same code cant get it working</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Extra_4_2\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n            this.KeyPreview = true;\n        }\n\n    private void BtnAdd_Click(object sender, EventArgs e)\n    {\n        decimal Score = Convert.ToDecimal(txtScore.Text);\n        decimal TotalScore = Convert.ToDecimal(txtScoreTotal.Text);\n        decimal ScoreCount = Convert.ToDecimal(txtScoreCount.Text);\n\n        TotalScore += Score;\n        ScoreCount++;\n    }\n\n    private void BtnClearScores_Click(object sender, EventArgs e)\n    {\n        txtScore.Text = \"\";\n        txtScoreTotal.Text = \"\";\n        txtScoreCount.Text = \"\";\n        txtAverage.Text = \"\";\n    }\n\n    private void Form1_KeyDown(object sender, KeyEventArgs e)\n    {\n        if (e.KeyCode == Keys.Escape)\n            Application.Exit();\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "sql", "windows-10", "windows-installer", "sql-server-2016-express"], "comments": [{"owner": {"reputation": 855, "user_id": 3586517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxKQc.png?s=128&g=1", "display_name": "Edney Holder", "link": "https://stackoverflow.com/users/3586517/edney-holder"}, "edited": false, "score": 0, "creation_date": 1566399947, "post_id": 57594494, "comment_id": 101646409, "body": "Are you running the MSI as administrator?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566400538, "post_id": 57594494, "comment_id": 101646764, "body": "Do you want to use Windows Credentials or a Username and Password?  What account is the installation process using (and environmental variables)."}, {"owner": {"reputation": 21, "user_id": 6547298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f7b22dc3aa6bd12cac38c1f443d740?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6547298/ben"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566402090, "post_id": 57594494, "comment_id": 101647583, "body": "@jdweng Username and password. What do you mean by &quot;what account&quot; and &quot;environmental variables&quot;?"}, {"owner": {"reputation": 21, "user_id": 6547298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f7b22dc3aa6bd12cac38c1f443d740?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6547298/ben"}, "reply_to_user": {"reputation": 855, "user_id": 3586517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxKQc.png?s=128&g=1", "display_name": "Edney Holder", "link": "https://stackoverflow.com/users/3586517/edney-holder"}, "edited": false, "score": 0, "creation_date": 1566402496, "post_id": 57594494, "comment_id": 101647806, "body": "@EdneyHolder Running as admin hasn&#39;t made a difference, sadly."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1566405008, "post_id": 57594494, "comment_id": 101648967, "body": "What account were you using when you ran the MSI.  A user or admin?  If you ran as a scheduled task it may of been run with Sys account that doesn&#39;t have any environmental variables set."}], "answers": [{"tags": [], "owner": {"reputation": 855, "user_id": 3586517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxKQc.png?s=128&g=1", "display_name": "Edney Holder", "link": "https://stackoverflow.com/users/3586517/edney-holder"}, "is_accepted": false, "score": 0, "last_activity_date": 1566409031, "creation_date": 1566409031, "answer_id": 57596681, "question_id": 57594494, "link": "https://stackoverflow.com/questions/57594494/when-installing-an-msi-create-database-permission-denied/57596681#57596681", "title": "When installing an MSI, CREATE DATABASE permission denied", "body": "<p>In your script add the following</p>\n\n<pre><code>USE master;\nGRANT CREATE ANY DATABASE TO &lt;LoginName&gt;;\nGRANT CREATE TABLE TO &lt;LoginName&gt;;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6547298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f7b22dc3aa6bd12cac38c1f443d740?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6547298/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566409031, "creation_date": 1566399858, "question_id": 57594494, "link": "https://stackoverflow.com/questions/57594494/when-installing-an-msi-create-database-permission-denied", "title": "When installing an MSI, CREATE DATABASE permission denied", "body": "<p>I have created an MSI file that installs a program. As part of the installation process, I need to create a local database using SQL Server 2016 Express on Windows 10 Enterprise. When I run the MSI, the following error occurs:</p>\n\n<pre><code>CREATE DATABASE permission denied in database 'master'.\nSQL error number = 262 ==&gt; SQL server = (local)\\MYCOMPUTER --&gt; SQL state = 1 --&gt; Error code = -2146232060 --&gt; SQL Error: System.Data.SqlClient.SqlError: CREATE DATABASE permission denied in database 'master'.\n</code></pre>\n\n<p>How can I get past this issue and create the local database? Is there a setting I need to change in SQL Server, or in my code itself?</p>\n\n<p>Googling this question has told me that I need to give the user login the roles of \"sysadmin\" and \"dbcreator\", but this hasn't worked. I've disabled these roles for the user for now.</p>\n"}, {"tags": ["c#", "azure-active-directory", "microsoft-graph-api", "azure-ad-b2c", "microsoft-graph-sdks"], "comments": [{"owner": {"reputation": 1505, "user_id": 2162330, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1zDX6.jpg?s=128&g=1", "display_name": "TiagoBrenck", "link": "https://stackoverflow.com/users/2162330/tiagobrenck"}, "edited": false, "score": 0, "creation_date": 1566419993, "post_id": 57594439, "comment_id": 101655000, "body": "I have noticed that you are using ADAL. Would you consider using MSAL? If you can, I would suggest looking into <a href=\"https://github.com/Azure-Samples/active-directory-aspnetcore-webapp-openidconnect-v2/tree/master/2-WebApp-graph-user/2-2-TokenCache\" rel=\"nofollow noreferrer\">this MSAL sample</a>."}, {"owner": {"reputation": 79, "user_id": 5889999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff30c2cbf8f9f2c8907ac91f50bf648e?s=128&d=identicon&r=PG&f=1", "display_name": "R Powell", "link": "https://stackoverflow.com/users/5889999/r-powell"}, "reply_to_user": {"reputation": 1505, "user_id": 2162330, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1zDX6.jpg?s=128&g=1", "display_name": "TiagoBrenck", "link": "https://stackoverflow.com/users/2162330/tiagobrenck"}, "edited": false, "score": 0, "creation_date": 1567138637, "post_id": 57594439, "comment_id": 101881951, "body": "I downloaded and ran the sample with no issues.  Problem is, I am not ready for ASP.Net Core.  I was, however, able to glean enough from the sample to retrofit my .Net 4.6 app to take advantage of MSAL-based caching."}], "answers": [{"tags": [], "owner": {"reputation": 40218, "user_id": 9922, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/15e295b03211068b2c4dea043e48cafe?s=128&d=identicon&r=PG", "display_name": "rbrayb", "link": "https://stackoverflow.com/users/9922/rbrayb"}, "is_accepted": false, "score": 1, "last_activity_date": 1566417138, "creation_date": 1566417138, "answer_id": 57598379, "question_id": 57594439, "link": "https://stackoverflow.com/questions/57594439/asp-net-mvc-c-failed-to-acquire-token-silently-as-no-token-was-found-in-the-ca/57598379#57598379", "title": "ASP.Net MVC C#: Failed to acquire token silently as no token was found in the cache. Call method AcquireToken", "body": "<p>If AcquireTokenSilent fails, it means that there is no token in the cache so you have to go get one via AcquireToken as in <a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-dotnet/wiki/Adal-to-Msal\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>You've tagged the question with \"B2C\" but is looks like you are using Azure AD?</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 5889999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff30c2cbf8f9f2c8907ac91f50bf648e?s=128&d=identicon&r=PG&f=1", "display_name": "R Powell", "link": "https://stackoverflow.com/users/5889999/r-powell"}, "edited": false, "score": 0, "creation_date": 1567138239, "post_id": 57698243, "comment_id": 101881889, "body": "Thanks for the feedback.  I have migrated from ADAL- to MSAL-caching which has resolved the issue for me."}], "tags": [], "owner": {"reputation": 128862, "user_id": 6819, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/20cd0e7eb3c9eeeafb8ef081d3b516e0?s=128&d=identicon&r=PG", "display_name": "Darrel Miller", "link": "https://stackoverflow.com/users/6819/darrel-miller"}, "is_accepted": false, "score": 0, "last_activity_date": 1567017049, "creation_date": 1567017049, "answer_id": 57698243, "question_id": 57594439, "link": "https://stackoverflow.com/questions/57594439/asp-net-mvc-c-failed-to-acquire-token-silently-as-no-token-was-found-in-the-ca/57698243#57698243", "title": "ASP.Net MVC C#: Failed to acquire token silently as no token was found in the cache. Call method AcquireToken", "body": "<p>There are a full set of Authentication Providers for the standard set of OAuth flows that are now available so you don't have to use the DelegatedAuthenticationProvider any more.  <a href=\"https://github.com/microsoftgraph/msgraph-sdk-dotnet-auth\" rel=\"nofollow noreferrer\">https://github.com/microsoftgraph/msgraph-sdk-dotnet-auth</a>   There are docs about how to chose the right Auth provider based on scenario here <a href=\"https://docs.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=CS\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=CS</a></p>\n"}], "owner": {"reputation": 79, "user_id": 5889999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff30c2cbf8f9f2c8907ac91f50bf648e?s=128&d=identicon&r=PG&f=1", "display_name": "R Powell", "link": "https://stackoverflow.com/users/5889999/r-powell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567017049, "creation_date": 1566399686, "question_id": 57594439, "link": "https://stackoverflow.com/questions/57594439/asp-net-mvc-c-failed-to-acquire-token-silently-as-no-token-was-found-in-the-ca", "title": "ASP.Net MVC C#: Failed to acquire token silently as no token was found in the cache. Call method AcquireToken", "body": "<p>I am attempting to retrieve Azure AD user profile data via the Microsoft Graph API.  I have set up a small Visual Studio MVC app using code examples from various sources, primarily Microsoft.  In my ignorance, I thought this would be a fairly simple process.</p>\n\n<p>I have browsed other similar cases on SO and have attempted to make use of suggestions from others but to no avail.  I have been troubleshooting this issue for four days and would greatly appreciate any assistance.</p>\n\n<pre><code>//  UserProfileController.cs\n-- contains the calling method: var graphToken = await AuthenticationHelper.GetGraphAccessToken();\n//  \nusing System;\nusing System.Collections.Generic;\nusing System.Configuration;\nusing System.Linq;\nusing System.Security.Claims;\nusing System.Web;\nusing System.Web.Mvc;\nusing System.Threading.Tasks;\nusing Microsoft.Graph;\nusing Microsoft.IdentityModel.Clients.ActiveDirectory;\nusing Microsoft.Owin.Security;\nusing Microsoft.Owin.Security.Cookies;\nusing Microsoft.Owin.Security.OpenIdConnect;\nusing SSO_Test.Models;\nusing SSO_Test.Utils;\nusing System.Net.Http.Headers;\n\nnamespace SSO_Test.Controllers\n{\n    [Authorize]\n    public class UserProfileController : Controller\n    {\n        private ApplicationDbContext db = new ApplicationDbContext();\n        private string clientId = ConfigurationManager.AppSettings[\"ClientId\"];\n        private string appKey = ConfigurationManager.AppSettings[\"ClientSecret\"];\n        private string aadInstance = ConfigurationManager.AppSettings[\"AADInstance\"];\n        private string graphResourceID = \"https://graph.microsoft.com\";\n\n        // GET: UserProfile\n        public async Task&lt;ActionResult&gt; Index()\n        {\n            string tenantID = ClaimsPrincipal.Current.FindFirst(\"http://schemas.microsoft.com/identity/claims/tenantid\").Value;\n            string userObjectID = ClaimsPrincipal.Current.FindFirst(\"http://schemas.microsoft.com/identity/claims/objectidentifier\").Value;\n            try\n            {\n                var graphToken = await AuthenticationHelper.GetGraphAccessToken();\n                var authenticationProvider = new DelegateAuthenticationProvider(\n                (requestMessage) =&gt;\n                {\n                    requestMessage.Headers.Authorization = new AuthenticationHeaderValue(\"Bearer\", graphToken);\n                    return Task.FromResult(0);\n                });\n                var graphClient = new GraphServiceClient(authenticationProvider);\n                var user = await graphClient.Me.Request().GetAsync();\n                return View(user);\n            }\n            catch (AdalException ex)\n            {\n                // Return to error page.\n                ViewBag.Message = ex.Message;\n                return View(\"Error\");\n            }\n            // if the above failed, the user needs to explicitly re-authenticate for the app to obtain the required token\n            catch (Exception)\n            {\n                return View(\"Relogin\");\n            }\n        }\n\n        public void RefreshSession()\n        {\n            HttpContext.GetOwinContext().Authentication.Challenge(\n                new AuthenticationProperties { RedirectUri = \"/Home\" },\n                OpenIdConnectAuthenticationDefaults.AuthenticationType);\n        }\n    }\n}\n</code></pre>\n\n<pre><code>//AuthenticationHelper.cs\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Security.Claims;\nusing System.Threading.Tasks;\nusing System.Web;\nusing Microsoft.IdentityModel.Clients.ActiveDirectory;\nusing SSO_Test.Models;\n\nnamespace SSO_Test.Utils\n{\n    public static class AuthenticationHelper\n    {\n        public static async Task&lt;string&gt; GetGraphAccessToken()\n        {\n            var signInUserId = ClaimsPrincipal.Current.FindFirst(ClaimTypes.NameIdentifier).Value;\n            var userObjectId = ClaimsPrincipal.Current.FindFirst(SettingsHelper.ClaimTypeObjectIdentifier).Value;\n            var clientCredential = new ClientCredential(SettingsHelper.ClientId, SettingsHelper.ClientSecret);\n            var userIdentifier = new UserIdentifier(userObjectId, UserIdentifierType.UniqueId);\n            // create auth context\n            AuthenticationContext authContext = new AuthenticationContext(SettingsHelper.AzureAdAuthority, new ADALTokenCache(signInUserId));\n            //added check point for verification purposes\n            System.Diagnostics.Debug.WriteLine(\"Check point #1\");\n            //GOOD TO THIS POINT\n            var result = await authContext.AcquireTokenSilentAsync(SettingsHelper.AzureAdGraphResourceURL, clientCredential, userIdentifier);\n            //ERROR MESSAGE:  \"Failed to acquire token silently as no token was found in the cache. Call method AcquireToken\"\n            System.Diagnostics.Debug.WriteLine(\"Check point #2\");\n            //app never reaches the second check point\n\n            return result.AccessToken;\n        }\n    }\n\n}\n</code></pre>\n\n<pre><code>//ADALTokenCache.cs\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.Data.Entity;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Security;\nusing Microsoft.IdentityModel.Clients.ActiveDirectory;\n\nnamespace SSO_Test.Models\n{\n    public class ADALTokenCache : TokenCache\n    {\n        private ApplicationDbContext db = new ApplicationDbContext();\n        private string userId;\n        private UserTokenCache Cache;\n\n        public ADALTokenCache(string signedInUserId)\n        {\n            // associate the cache to the current user of the web app\n            userId = signedInUserId;\n            this.BeforeAccess = BeforeAccessNotification;\n            this.AfterAccess = AfterAccessNotification;\n            this.BeforeWrite = BeforeWriteNotification;\n            // look up the entry in the database\n            Cache = db.UserTokenCacheList.FirstOrDefault(c =&gt; c.webUserUniqueId == userId);\n            // place the entry in memory\n            this.DeserializeAdalV3((Cache == null) ? null : MachineKey.Unprotect(Cache.cacheBits, \"ADALCache\"));\n        }\n\n        // clean up the database\n        public override void Clear()\n        {\n            base.Clear();\n            var cacheEntry = db.UserTokenCacheList.FirstOrDefault(c =&gt; c.webUserUniqueId == userId);\n            db.UserTokenCacheList.Remove(cacheEntry);\n            db.SaveChanges();\n        }\n\n        // Notification raised before ADAL accesses the cache.\n        // This is your chance to update the in-memory copy from the DB, if the in-memory version is stale\n        void BeforeAccessNotification(TokenCacheNotificationArgs args)\n        {\n            if (Cache == null)\n            {\n                // first time access\n                Cache = db.UserTokenCacheList.FirstOrDefault(c =&gt; c.webUserUniqueId == userId);\n            }\n            else\n            {\n                // retrieve last write from the DB\n                var status = from e in db.UserTokenCacheList\n                             where (e.webUserUniqueId == userId)\n                             select new\n                             {\n                                 LastWrite = e.LastWrite\n                             };\n\n                // if the in-memory copy is older than the persistent copy\n                if (status.First().LastWrite &gt; Cache.LastWrite)\n                {\n                    // read from from storage, update in-memory copy\n                    Cache = db.UserTokenCacheList.FirstOrDefault(c =&gt; c.webUserUniqueId == userId);\n                }\n            }\n            this.DeserializeAdalV3((Cache == null) ? null : MachineKey.Unprotect(Cache.cacheBits, \"ADALCache\"));\n        }\n\n        // Notification raised after ADAL accessed the cache.\n        // If the HasStateChanged flag is set, ADAL changed the content of the cache\n        void AfterAccessNotification(TokenCacheNotificationArgs args)\n        {\n            // if state changed\n            if (this.HasStateChanged)\n            {\n                Cache = new UserTokenCache\n                {\n                    webUserUniqueId = userId,\n                    //cacheBits = MachineKey.Protect(this.Serialize(), \"ADALCache\"),\n                    cacheBits = MachineKey.Protect(this.SerializeAdalV3(), \"ADALCache\"),\n                    LastWrite = DateTime.Now\n                };\n                // update the DB and the lastwrite \n                db.Entry(Cache).State = Cache.UserTokenCacheId == 0 ? EntityState.Added : EntityState.Modified;\n                db.SaveChanges();\n                this.HasStateChanged = false;\n            }\n        }\n\n        void BeforeWriteNotification(TokenCacheNotificationArgs args)\n        {\n            // if you want to ensure that no concurrent write take place, use this notification to place a lock on the entry\n        }\n\n        public override void DeleteItem(TokenCacheItem item)\n        {\n            base.DeleteItem(item);\n        }\n    }\n}\n</code></pre>\n\n<pre><code>//ApplicationDbContext.cs\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.Data.Entity;\nusing System.Linq;\nusing System.Web;\n\nnamespace SSO_Test.Models\n{\n    public class ApplicationDbContext : DbContext\n    {\n        public ApplicationDbContext()\n            : base(\"DefaultConnection\")\n        {\n        }\n\n        public DbSet&lt;UserTokenCache&gt; UserTokenCacheList { get; set; }\n    }\n\n    public class UserTokenCache\n    {\n        [Key]\n        public int UserTokenCacheId { get; set; }\n        public string webUserUniqueId { get; set; }\n        public byte[] cacheBits { get; set; }\n        public DateTime LastWrite { get; set; }\n    }\n}\n</code></pre>\n\n<p>As you can see, I have noted in the GetGraphAccessToken() method the error message: </p>\n\n<blockquote>\n  <p>\"Failed to acquire token silently as no token was found in the cache.\n  Call method AcquireToken\".</p>\n</blockquote>\n\n<p>I was able to isolate the AcquireTokenSilentAsync() method as the culprit by bracketing it with a pair of Debug.Writeline statements, the first which ran successfully and the second which did not.  This was verified by reviewing the contents of the VS Output window, as follows:</p>\n\n<blockquote>\n  <p>Check point #1</p>\n  \n  <p>Exception thrown:\n  'Microsoft.IdentityModel.Clients.ActiveDirectory.AdalSilentTokenAcquisitionException'\n  in mscorlib.dll</p>\n  \n  <p>The program '[13980] iisexpress.exe' has exited with code -1\n  (0xffffffff).</p>\n</blockquote>\n\n<p>I really want this thing to work and I would much prefer utilizing the Graph SDK approach as opposed to using a REST API.</p>\n\n<p>Again, I have been banging my head against the wall for four-plus days.  My head is okay but the wall is in bad shape.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "xml", "linq-to-xml", "whitespace"], "comments": [{"owner": {"reputation": 18719, "user_id": 1997232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/y6na2.png?s=128&g=1", "display_name": "Sinatr", "link": "https://stackoverflow.com/users/1997232/sinatr"}, "edited": false, "score": 1, "creation_date": 1566400262, "post_id": 57594420, "comment_id": 101646611, "body": "Some observations: single line with just spaces in value <code>var xml = &quot;&lt;xml&gt;&lt;text&gt; &lt;&#47;text&gt;&lt;&#47;xml&gt;&quot;;</code>  will also fai, it seems <b>only</b> white spaces in value means that value is <code>&quot;&quot;</code>. Adding <b>any</b> non-white space character into the value will preserve white spaces."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1566501338, "post_id": 57594420, "comment_id": 101686502, "body": "As mentioned by Sinatr above, <a href=\"https://www.w3.org/TR/2006/REC-xml-20060816/#sec-white-space\" rel=\"nofollow noreferrer\">white space</a> is considered significant if there is at least one non-white-space character in the element&#39;s <a href=\"https://www.w3.org/TR/2006/REC-xml-20060816/#syntax\" rel=\"nofollow noreferrer\">text content</a>.  There is no distinction between newline and space characters in determining whether whitespace is &quot;significant&quot; -- both are whitespace."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1566501464, "post_id": 57594420, "comment_id": 101686555, "body": "As a workaround, you could add <code>xml:space=&quot;preserve&quot;</code> to <code>&lt;text&gt;</code> like so: <code>&lt;text xml:space=&quot;preserve&quot;&gt; &lt;&#47;text&gt;</code>, or you could embed the value of <code>&lt;text&gt;</code> in a CDATA section: <code>&lt;text&gt;&lt;![CDATA[ ]]&gt;&lt;&#47;text&gt;</code>.  Demo fiddle here: <a href=\"https://dotnetfiddle.net/ViT15s\" rel=\"nofollow noreferrer\">dotnetfiddle.net/ViT15s</a>.  Do either of those workarounds answer your question?"}], "owner": {"reputation": 19289, "user_id": 660536, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/3f82800099dfc0e009e77e9d5743f25f?s=128&d=identicon&r=PG", "display_name": "GazTheDestroyer", "link": "https://stackoverflow.com/users/660536/gazthedestroyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566400100, "creation_date": 1566399635, "last_edit_date": 1566400100, "question_id": 57594420, "link": "https://stackoverflow.com/questions/57594420/xdocument-throws-away-significant-whitespace-inside-tags", "title": "XDocument throws away SIGNIFICANT whitespace inside tags", "body": "<p>Am I missing something relevant in the XML spec? Surely spaces INSIDE tags should be preserved?</p>\n\n<pre><code>string xml = @\"\n\n&lt;xml&gt;\n    &lt;text&gt; &lt;/text&gt;\n&lt;/xml&gt;                \";\n\n//succeeds, but keeps unwanted insignificant whitespace\nAssert.AreEqual(XDocument.Parse(xml, LoadOptions.PreserveWhitespace)\n                         .Root.Element(\"text\").Value, \" \");\n\n//fails\nAssert.AreEqual(XDocument.Parse(xml)\n                         .Root.Element(\"text\").Value, \" \");\n</code></pre>\n"}, {"tags": ["c#", "http", "asp.net-core", "razor-pages"], "comments": [{"owner": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "edited": false, "score": 1, "creation_date": 1566407747, "post_id": 57594410, "comment_id": 101650018, "body": "I&#39;m not familiar with Razor pages but an async method should return a Task/Task&lt;T&gt;, void should only be returned in case of async event handlers."}, {"owner": {"reputation": 41, "user_id": 8382628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68645e83576985c735387bbfc35c6471?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/8382628/eddie"}, "reply_to_user": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "edited": false, "score": 0, "creation_date": 1566421387, "post_id": 57594410, "comment_id": 101655504, "body": "Yeah, I am not too clear on how a Razor pages app differs from an MVC app. Now that you mentioned it, I did notice how the OnPostAsync() methods in the documentation examples return a Task&lt;IActionResult&gt;. Not sure what a Task&lt;IActionResult&gt; is or how I am supposed to return it. Any ideas?"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1566439915, "post_id": 57594410, "comment_id": 101659380, "body": "What do you mean by not working ? the function isn&#39;t fired when clicking the submit button ?"}, {"owner": {"reputation": 41, "user_id": 8382628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68645e83576985c735387bbfc35c6471?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/8382628/eddie"}, "edited": false, "score": 0, "creation_date": 1566442819, "post_id": 57594410, "comment_id": 101659834, "body": "Yes, that&#39;s what I mean by not working."}, {"owner": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "edited": false, "score": 0, "creation_date": 1566456924, "post_id": 57594410, "comment_id": 101663453, "body": "I tried to recreate it by basically copy pasting your code (fixing the typo of Lastname, should be lower case) and including some random url to Post to, but I can&#39;t reproduce your behavior. When I submit the form and set a breakpoint in the OnPostProcessRequestAsync method it&#39;s invoked just as expected."}, {"owner": {"reputation": 22204, "user_id": 134725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9010d5f80331e9a23a86c93917b5ba?s=128&d=identicon&r=PG", "display_name": "Mike Brind", "link": "https://stackoverflow.com/users/134725/mike-brind"}, "edited": false, "score": 2, "creation_date": 1566466320, "post_id": 57594410, "comment_id": 101668128, "body": "Add a <code>return</code> statement before <code>RedirectToPage()</code> and change the handler to return a <code>Task&lt;IActionResult&gt;</code>, not <code>void</code>. You will also need to <code>return</code> from the <code>catch</code> block. And <code>Console.WriteLine</code> is pointless in an ASP.NET app."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 8382628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68645e83576985c735387bbfc35c6471?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/8382628/eddie"}, "is_accepted": true, "score": 1, "last_activity_date": 1568215610, "creation_date": 1568215610, "answer_id": 57892374, "question_id": 57594410, "link": "https://stackoverflow.com/questions/57594410/sending-http-requests-to-api-from-razor-pages-app/57892374#57892374", "title": "Sending HTTP Requests to API from Razor Pages App", "body": "<p>Though two people on this thread already suggested the answer, I didn't see a way where I could mark their comments as having answered the question. So, to be fair and give credit where credit is due, their suggestions allowed me to fix my code. Basically, I had defined the page handler method incorrectly. I had defined it as:</p>\n\n<pre><code>public async void OnPostProcessRequestAsync()...\n</code></pre>\n\n<p>However, this type of application requires page handler methods to return something like Task. When changing the return type from void to Task this worked perfectly. My guess is that since I am defining this code asynchronously, the return value must be something asynchronous. Since the Task&lt;> class is used for Threading (async) code it makes sense that this would work.</p>\n"}], "owner": {"reputation": 41, "user_id": 8382628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68645e83576985c735387bbfc35c6471?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/8382628/eddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2753, "favorite_count": 1, "accepted_answer_id": 57892374, "answer_count": 1, "score": 0, "last_activity_date": 1568215610, "creation_date": 1566399594, "question_id": 57594410, "link": "https://stackoverflow.com/questions/57594410/sending-http-requests-to-api-from-razor-pages-app", "title": "Sending HTTP Requests to API from Razor Pages App", "body": "<p>I am creating an application that presents users with a form. When the user submits the form, my application takes those values and formats them into a query string. This string is then used to make a call to a third party API. The application is written in C# using an ASP.NET Core Razor Pages template in Visual Studio 2019. I had first experimented with creating an HTTPClient and sending an HTTPRequestMessage to the third party API using hard-coded values in a console app, which worked perfectly. However, when moving my code into a Razor Pages application to add a front end for the app I can't seem to get the application to call the code I created. Since I am only taking form values and passing them in a query string to a third-party API, which doesn't require me to define my own model, I decided to use Razor Pages instead of ASP.NET MVC.  </p>\n\n<p>This is the Index.cshtml page as I set it up in my application:</p>\n\n<pre><code>@page\n@model IndexModel\n@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers\n@{\n    ViewData[\"Title\"] = \"Home page\";\n}\n\n    &lt;div&gt;\n        &lt;form asp-page-handler=\"ProcessRequest\" method=\"post\"&gt;\n            &lt;label for=\"FirstName\"&gt;First Name:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"FirstName\" value=\"\" /&gt;\n            &lt;label for=\"LastName\"&gt;Last Name:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"LastName\" value=\"\" /&gt;\n            &lt;label for=\"Email\"&gt;Email:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"Email\" value=\"\" /&gt;\n            &lt;button type=\"submit\"&gt;Send Request&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>As you can see, it is just a simple form with three input fields, nothing fancy. </p>\n\n<p>The underlying Index.cshtml.cs file containing the model logic has the following code:</p>\n\n<pre><code>public class IndexModel : PageModel\n{\n    static HttpClient myAppHTTPClient = new HttpClient();\n\n    public async void OnPostProcessRequestAsync()\n    {            \n        string firstName, lastName, email;\n        string host = \"https://thirdparty.app.com:443/\";\n        string pathname = \"path/to/api/endpoint/?operation=create\";\n\n        firstName = \"Test\";\n        LastName = \"User\";\n        email = \"TestUser@email.com\";\n\n        string path = pathname + \"&amp;first_name=\" + firstName + \"&amp;last_name=\" + lastName + \"&amp;email=\" + email;\n        string requestUrl = host + path;\n\n        HttpRequestMessage httpRequestMessage = new HttpRequestMessage();\n\n        try\n        {\n            HttpResponseMessage responseMessage = await myAppHTTPClient.PostAsync(requestUrl, httpRequestMessage.Content);\n            HttpContent content = responseMessage.Content;\n            string message = await content.ReadAsStringAsync();\n            Console.WriteLine(\"The output from thirdparty is: {0}\", message);\n            RedirectToPage();\n        }\n        catch (HttpRequestException exception)\n        {\n            Console.WriteLine(\"An HTTP request exception occurred. {0}\", exception.Message);\n        }\n    }\n}\n\n</code></pre>\n\n<p>The documentation for ASP.NET Razor Pages says that when you have an asp-page-handler tag helper in your form submitting the form will call the page handler method <code>OnPost[method_name]Async()</code>. In my case, the line <code>&lt;form asp-page-handler=\"ProcessRequest\" method=\"post\"&gt;</code> in the form should call the <code>public async void OnPostProcessRequestAsync()</code> method. However, this isn't working as I thought it would. I tried using different tag helpers in the form and in the submit button. Is there a way to get the Razor Page to call the method that runs my code. I know I am missing the RedirectToPage() method but I first want to get the method call to work.</p>\n"}]