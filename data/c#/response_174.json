[{"tags": ["c#", "mongodb", "bson"], "comments": [{"owner": {"reputation": 1784, "user_id": 5435957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d58c0cf959bd35b9c4fb74b0080bf426?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Shrivastava", "link": "https://stackoverflow.com/users/5435957/prateek-shrivastava"}, "edited": false, "score": 0, "creation_date": 1525916353, "post_id": 50263556, "comment_id": 87546556, "body": "Use collection.UpdateOne()"}, {"owner": {"reputation": 1, "user_id": 9423165, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gMdF-Kbt7Ws/AAAAAAAAAAI/AAAAAAAAC-g/8ahhuBskRs4/photo.jpg?sz=128", "display_name": "Patrick Leaver", "link": "https://stackoverflow.com/users/9423165/patrick-leaver"}, "reply_to_user": {"reputation": 1784, "user_id": 5435957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d58c0cf959bd35b9c4fb74b0080bf426?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Shrivastava", "link": "https://stackoverflow.com/users/5435957/prateek-shrivastava"}, "edited": false, "score": 0, "creation_date": 1525955613, "post_id": 50263556, "comment_id": 87562873, "body": "I get the error: Argument 2: cannot convert from &#39;TrustMeBot.UserObject&#39; to &#39;MongoDB.Driver.UpdateDefinition&lt;TrustMeBot.UserObject&gt;&#39;\tTru&zwnj;&#8203;stMeBot  When i change it to UpdateOne()"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9423165, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gMdF-Kbt7Ws/AAAAAAAAAAI/AAAAAAAAC-g/8ahhuBskRs4/photo.jpg?sz=128", "display_name": "Patrick Leaver", "link": "https://stackoverflow.com/users/9423165/patrick-leaver"}, "is_accepted": false, "score": 0, "last_activity_date": 1525957852, "creation_date": 1525957852, "answer_id": 50273727, "question_id": 50263556, "link": "https://stackoverflow.com/questions/50263556/how-do-i-update-a-document-in-mongodb-change-all-properties-apart-from-id-in-c/50273727#50273727", "title": "How do I update a document in MongoDB &amp; change all properties apart from_id in C#", "body": "<p>I ended up doing:</p>\n\n<pre><code>var client = new MongoClient(DBString);\nvar database = client.GetDatabase(\"UserLists\");\nvar collection = database.GetCollection&lt;UserObject&gt;(Convert.ToString(GuildId));\n\nvar filter = Builders&lt;UserObject&gt;.Filter.Eq(s =&gt; s.Username, newUserName);\n\nvar UpdatedUserObject = new UserObject\n{\n    UserID = UserId,\n    Username = newUserName,\n    CharClass = newCharClass,\n    CharLevel = newCharLevel,\n    CharColour = newCharColour \n};\n\ncollection.ReplaceOne(filter, UpdatedUserObject);\n</code></pre>\n\n<p>Which then gave me the problem that it was trying to update the _id so i used this stack overflow to put [BsonIgnoreIfDefault] on it so it didn't try and update:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26601732/unable-to-use-bsonignoreifdefault-for-property-of-type-long\">Unable to use BsonIgnoreIfDefault for property of type long</a></p>\n\n<pre><code>public class UserObject\n{\n    [BsonIgnoreIfDefault]\n    public ObjectId _id { get; set; }// Self generated\n    public ulong UserID { get; set; } // Self generated\n    public string Username { get; set; }\n    public string CharClass{ get; set; }\n    public int CharLevel { get; set; }\n    public int CharColour { get; set; }\n}\n</code></pre>\n\n<p>After this was fixed i found that the problem was that I was passing through the wrong username so it never matched &amp; therefore didn't find anything to update, just me being stupid really, Thanks for the help</p>\n"}], "owner": {"reputation": 1, "user_id": 9423165, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gMdF-Kbt7Ws/AAAAAAAAAAI/AAAAAAAAC-g/8ahhuBskRs4/photo.jpg?sz=128", "display_name": "Patrick Leaver", "link": "https://stackoverflow.com/users/9423165/patrick-leaver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525957852, "creation_date": 1525909670, "question_id": 50263556, "link": "https://stackoverflow.com/questions/50263556/how-do-i-update-a-document-in-mongodb-change-all-properties-apart-from-id-in-c", "title": "How do I update a document in MongoDB &amp; change all properties apart from_id in C#", "body": "<pre><code>public class UserObject\n{\n    public ObjectId _id { get; set; }// Self generated\n    public ulong UserID { get; set; } // Self generated\n    public string Username { get; set; }\n    public string CharClass{ get; set; }\n    public int CharLevel { get; set; }\n    public int CharColour { get; set; }\n}\n</code></pre>\n\n<p>I want to update just the Username, CharClass, CharLevel &amp; CharColour.</p>\n\n<p>I currently have this:</p>\n\n<pre><code>var client = new MongoClient(DBString);\nvar database = client.GetDatabase(\"UserLists\");\nvar collection = database.GetCollection&lt;UserObject&gt;(Convert.ToString(GuildId));\n\nvar filter = Builders&lt;UserObject&gt;.Filter.Eq(s =&gt; s.Username, newUserName);\n\nvar UpdatedUserObject = new UserObject\n{\n    UserID = UserId,\n    Username = newUserName,\n    CharClass = newCharClass,\n    CharLevel = newCharLevel,\n    CharColour = newCharColour \n};\n\ncollection.ReplaceOneAsync(filter, UpdatedUserObject);\n</code></pre>\n\n<p>If you have any suggestions that would be much appreciated, i've got the add working i just can't seem to get the update, thanks!</p>\n"}, {"tags": ["c#", "winforms", "controls"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7952741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba3aa1d568533c000534d7a0d845a6b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Weston", "link": "https://stackoverflow.com/users/7952741/daniel-weston"}, "edited": false, "score": 0, "creation_date": 1525965686, "post_id": 50263958, "comment_id": 87569170, "body": "Thank you for the help! I&#39;ll give it a try now, and I&#39;ll remember to double check that post in the future!"}, {"owner": {"reputation": 35, "user_id": 7952741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba3aa1d568533c000534d7a0d845a6b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Weston", "link": "https://stackoverflow.com/users/7952741/daniel-weston"}, "edited": false, "score": 0, "creation_date": 1525972481, "post_id": 50263958, "comment_id": 87572981, "body": "I have tried your code, and it isn&#39;t what I intend to do but that is just my fault. I have updated my question above to see if that may make the clarity any better for you! :)"}, {"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "reply_to_user": {"reputation": 35, "user_id": 7952741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba3aa1d568533c000534d7a0d845a6b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Weston", "link": "https://stackoverflow.com/users/7952741/daniel-weston"}, "edited": false, "score": 0, "creation_date": 1525990401, "post_id": 50263958, "comment_id": 87580982, "body": "See my edit, I really don&#39;t know what&#39;s wrong on your side as here it works. Here&#39;s a tip, when some of my code refuses to work as intended, I just delete it and start over from scratch, generally I spot the error."}, {"owner": {"reputation": 35, "user_id": 7952741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba3aa1d568533c000534d7a0d845a6b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Weston", "link": "https://stackoverflow.com/users/7952741/daniel-weston"}, "edited": false, "score": 0, "creation_date": 1526149926, "post_id": 50263958, "comment_id": 87634823, "body": "Thanks for all the help mate! I have finally been able to get it work with my own code but your dictionary way taught me a better way to do it so definitely thank you for all of the help! :)"}], "tags": [], "owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "is_accepted": true, "score": 1, "last_activity_date": 1525990205, "last_edit_date": 1525990205, "creation_date": 1525913267, "answer_id": 50263958, "question_id": 50263505, "link": "https://stackoverflow.com/questions/50263505/swapping-control-position-in-tablelayoutpanel/50263958#50263958", "title": "Swapping control position in TableLayoutPanel", "body": "<p><strong>The following code does the job:</strong></p>\n\n<p>Code</p>\n\n<pre><code>using System;\nusing System.Linq;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp1\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            // some content\n            var panel = new TableLayoutPanel\n            {\n                Dock = DockStyle.Fill,\n                ColumnCount = 5,\n                RowCount = 2\n            };\n\n            for (var y = 0; y &lt; 2; y++)\n            for (var x = 0; x &lt; 5; x++)\n            {\n                var control = new Button {Text = $@\"X = {x}, Y = {y}\"};\n                panel.Controls.Add(control, x, y);\n            }\n\n            // swap button\n            var button = new Button\n            {\n                Dock = DockStyle.Fill,\n                Text = @\"Clicky !\"\n            };\n\n            button.Click += (o, args) =&gt;\n            {\n                var dictionary = panel.Controls\n                    .Cast&lt;Control&gt;()\n                    .ToDictionary(k =&gt; k, v =&gt; panel.GetCellPosition(v));\n\n                foreach (var pair in dictionary)\n                {\n                    var position = pair.Value;\n                    position.Row ^= 1; // simple row swap\n                    panel.SetCellPosition(pair.Key, position);\n                }\n            };\n\n            // add to form\n            var container = new SplitContainer\n            {\n                Dock = DockStyle.Fill,\n                Orientation = Orientation.Horizontal,\n                SplitterWidth = 5,\n                BorderStyle = BorderStyle.Fixed3D\n            };\n\n            container.Panel1.Controls.Add(panel);\n            container.Panel2.Controls.Add(button);\n\n            Controls.Add(container);\n        }\n    }\n}\n</code></pre>\n\n<p>Before</p>\n\n<p><a href=\"https://i.stack.imgur.com/BH9cF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BH9cF.png\" alt=\"enter image description here\"></a></p>\n\n<p>After</p>\n\n<p><a href=\"https://i.stack.imgur.com/M3mWE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M3mWE.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note</strong></p>\n\n<p>Next time you ask a question, post a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> to maximize your chances of getting an answer !</p>\n\n<p>As on why your code didn't work, see previous sentence, e.g what was <code>rowIndex</code> etc ?</p>\n\n<p><strong>Edit</strong></p>\n\n<pre><code>using System;\nusing System.Drawing;\nusing System.Linq;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp1\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            const int cols = 5;\n            const int rows = 6;\n\n            // setup layout\n            var tlp = new TableLayoutPanel\n            {\n                ColumnCount = cols,\n                RowCount = rows,\n                Dock = DockStyle.Fill,\n                GrowStyle = TableLayoutPanelGrowStyle.FixedSize\n            };\n\n            for (var i = 0; i &lt; cols; i++)\n                tlp.ColumnStyles.Add(new ColumnStyle(SizeType.Percent, 100.0f / cols));\n\n            // add header\n            var label = new Label\n            {\n                Text = @\"My Header\",\n                BackColor = Color.Red,\n                Dock = DockStyle.Fill,\n                TextAlign = ContentAlignment.MiddleCenter\n            };\n            tlp.Controls.Add(label);\n            tlp.SetColumn(label, 0);\n            tlp.SetRow(label, 0);\n            tlp.SetColumnSpan(label, cols);\n\n            // add some cells\n            var yMin = 1;\n            var yMax = 5;\n            var xMin = 0;\n            var xMax = cols;\n            for (var y = yMin; y &lt; yMax; y++)\n            for (var x = xMin; x &lt; xMax; x++)\n            {\n                var color = Color.FromArgb(\n                    255 / (xMax - xMin) * (x - xMin),\n                    128,\n                    255 / (yMax - yMin) * (y - yMin)\n                );\n                var label1 = new Label\n                {\n                    Text = $@\"X = {x}, Y = {y}\",\n                    BackColor = color,\n                    ForeColor = Color.White,\n                    Dock = DockStyle.Fill,\n                    TextAlign = ContentAlignment.MiddleCenter,\n                    Margin = DefaultMargin\n                };\n                tlp.Controls.Add(label1, x, y);\n            }\n\n            // add swapper\n            var button = new Button\n            {\n                Text = @\"Clicky !\",\n                Dock = DockStyle.Fill\n            };\n            button.Click += (o, args) =&gt;\n            {\n                var srcRow = 2;\n                var tgtRow = 3;\n                var controls = tlp.Controls.Cast&lt;Control&gt;().ToArray();\n                var array1 = controls.Where(s =&gt; tlp.GetRow(s) == srcRow).ToArray();\n                var array2 = controls.Where(s =&gt; tlp.GetRow(s) == tgtRow).ToArray();\n\n                foreach (var control in array1)\n                    tlp.SetCellPosition(control, new TableLayoutPanelCellPosition(tlp.GetColumn(control), tgtRow));\n\n                foreach (var control in array2)\n                    tlp.SetCellPosition(control, new TableLayoutPanelCellPosition(tlp.GetColumn(control), srcRow));\n            };\n\n            // pack things up\n            var sc = new SplitContainer\n            {\n                Orientation = Orientation.Horizontal,\n                BorderStyle = BorderStyle.Fixed3D,\n                Dock = DockStyle.Fill\n            };\n            sc.Panel1.Controls.Add(tlp);\n            sc.Panel2.Controls.Add(button);\n            Controls.Add(sc);\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QsjWM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QsjWM.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lfmtg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfmtg.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 35, "user_id": 7952741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba3aa1d568533c000534d7a0d845a6b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Weston", "link": "https://stackoverflow.com/users/7952741/daniel-weston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1116, "favorite_count": 0, "accepted_answer_id": 50263958, "answer_count": 1, "score": 2, "last_activity_date": 1525990205, "creation_date": 1525909263, "last_edit_date": 1525973007, "question_id": 50263505, "link": "https://stackoverflow.com/questions/50263505/swapping-control-position-in-tablelayoutpanel", "title": "Swapping control position in TableLayoutPanel", "body": "<p>EDIT:</p>\n\n<p>Okay so for clarity I will improve my information a bit more:</p>\n\n<p>I have a TableLayoutView (I will call this tlv) that has <strong>5 fixed</strong> columns, and <strong>x + 2</strong> rows. The first row of tlv contains labels in each cell for <strong>header purposes</strong>. I dynamically add more rows onto tlv and so that it why it has a variable amount of rows (plus the initial header row which is never removed).</p>\n\n<p>As another tiny small complication, I also keep an empty row entry at the bottom of tlv which I must keep because I use it for other functionality. </p>\n\n<p>To visualise what I have just said, this is an example of tlv consisting with 4 entries (numbered), the header row (H's) and the placeholder row (P's).</p>\n\n<pre><code>HHHHH\n11111\n22222\n33333\n44444\nPPPPP\n</code></pre>\n\n<p>I want to go from that, to say, if I wanted to swap entry 2 and 3 the output would be:</p>\n\n<pre><code>HHHHH\n11111\n33333\n22222\n44444\nPPPPP\n</code></pre>\n\n<p>The code I have so far is as follows: </p>\n\n<pre><code>for (int j = 0; j &lt; 5; j++)\n{\n    TableLayoutPanelCellPosition tablePosition1 = new \n    TableLayoutPanelCellPosition(j, rowIndex + 1);\n    Control moveControl1 = queuedFiles.GetControlFromPosition(j, rowIndex);\n    queuedFiles.SetCellPosition(moveControl1, tablePosition1);\n\n    TableLayoutPanelCellPosition tablePosition2 = new \n    TableLayoutPanelCellPosition(j, rowIndex);\n    Control moveControl2 = queuedFiles.GetControlFromPosition(j, rowIndex + 1);\n    queuedFiles.SetCellPosition(moveControl2, tablePosition2);\n\n    if (j.Equals(0))\n    {\n        moveControl1.Text = (rowIndex + 1).ToString();\n        moveControl2.Text = (rowIndex).ToString();\n    }\n}\n</code></pre>\n\n<p>However this code doesn't work and for the example above it produces:</p>\n\n<pre><code>HHHHH\n11111\n33222\n22333\n44444\nPPPPP\n</code></pre>\n\n<p>What I believe is happening is tlv is automatically organising it's contents itself during the process of moving them around (maybe to fill vacant spaces?).</p>\n\n<p><strong>rowIndex</strong> above is the index of the target row which must be swapped with the row below it. I don't need to worry about checking if there is only 1 row or if it is the last row because I have done that already. Ignore changing the text too, I just need a pointer as to how I can achieve the intended result!</p>\n\n<p>Thank you for absolutely any help you can give :)</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525908969, "post_id": 50263444, "comment_id": 87544962, "body": "You are adding the contents to a list with a single change for each item, and then overwriting the text file with them all in a loop (so only the last change will be saved)"}, {"owner": {"reputation": 1896, "user_id": 3286975, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N9TO9.png?s=128&g=1", "display_name": "z3nth10n", "link": "https://stackoverflow.com/users/3286975/z3nth10n"}, "edited": false, "score": 0, "creation_date": 1525909076, "post_id": 50263444, "comment_id": 87544982, "body": "And what do you mean by last string?"}], "answers": [{"comments": [{"owner": {"reputation": 822, "user_id": 9664339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris H", "link": "https://stackoverflow.com/users/9664339/chris-h"}, "edited": false, "score": 0, "creation_date": 1525909782, "post_id": 50263492, "comment_id": 87545143, "body": "This answer is better than mine. What is SO ettiquite - should I delete mine?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 822, "user_id": 9664339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris H", "link": "https://stackoverflow.com/users/9664339/chris-h"}, "edited": false, "score": 1, "creation_date": 1525910234, "post_id": 50263492, "comment_id": 87545247, "body": "@ChrisH I think it&#39;s up to you. I usually either delete mine if it&#39;s mostly the same as another one that I think is better, or I highlight how mine is different and why someone might want to do it that way instead. Sometimes there isn&#39;t just a single <i>best</i> way to do something."}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "reply_to_user": {"reputation": 822, "user_id": 9664339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris H", "link": "https://stackoverflow.com/users/9664339/chris-h"}, "edited": false, "score": 2, "creation_date": 1525915732, "post_id": 50263492, "comment_id": 87546425, "body": "@ChrisH I would only delete your original answer in the cases where it&#39;s actually wrong, the other answer is enough &quot;better&quot; that yours is being downvoted, or yours came in enough earlier that it noticably out-scores the better answer. Otherwise, if one person came on the idea the, someone else might, too, and this lets that future person explicitly compare both options and see the community valued the other answer more. It could even be their situation is slightly different such that your answer is more helpful to them."}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 6, "last_activity_date": 1525909141, "creation_date": 1525909141, "answer_id": 50263492, "question_id": 50263444, "link": "https://stackoverflow.com/questions/50263444/replace-multiple-strings-from-a-textfile/50263492#50263492", "title": "Replace multiple strings from a textfile", "body": "<p>You don't need a list for this, but you do need to save the changes in the resulting string each time you do a replacement, otherwise you lose the changes.</p>\n\n<p>The <code>Replace</code> method returns a new string with the replacement, so you can chain the calls to <code>Replace</code> and it will end up returning a string with all your changes.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>string text = File.ReadAllText(temp)\n    .Replace(\"name\", name)\n    .Replace(\"name2\", name2)\n    .Replace(\"1.0000\", CR)\n    .Replace(\"0.6590\", CG)\n    .Replace(\"0.0000\", CB);\n\nFile.WriteAllText(path, txt);\n</code></pre>\n"}], "owner": {"reputation": 172, "user_id": 9616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd372729d752196e0634e2be4711063?s=128&d=identicon&r=PG&f=1", "display_name": "Jacce", "link": "https://stackoverflow.com/users/9616687/jacce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525915490, "creation_date": 1525908718, "last_edit_date": 1525915490, "question_id": 50263444, "link": "https://stackoverflow.com/questions/50263444/replace-multiple-strings-from-a-textfile", "title": "Replace multiple strings from a textfile", "body": "<p>I need to replace multiple strings in a textfile. This is my code:</p>\n\n<pre><code>List&lt;string&gt; list = new List&lt;string&gt;();\nstring Text = File.ReadAllText(temp);\nlist.Add(Text.Replace(\"name\", name));\nlist.Add(Text.Replace(\"name2\", name2));\nlist.Add(Text.Replace(\"1.0000\", CR));\nlist.Add(Text.Replace(\"0.6590\", CG));\nlist.Add(Text.Replace(\"0.0000\", CB));\nforeach (string txt in list)\n{\n    File.WriteAllText(path, txt);\n}\n</code></pre>\n\n<p>When I debug I can see the strings beeing replaced one after one, but when the next string is about to be replaced, the last string will then go back to its old value. Is there a way to replace multiple strings in a textfile?</p>\n"}, {"tags": ["c#", "wpf", "devexpress", "gridcontrol"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9170420"}, "is_accepted": false, "score": 1, "last_activity_date": 1525910760, "creation_date": 1525910760, "answer_id": 50263691, "question_id": 50263425, "link": "https://stackoverflow.com/questions/50263425/finding-a-cell-in-devexpress-datagrid/50263691#50263691", "title": "Finding a cell in devexpress datagrid", "body": "<p>Here is code you can try</p>\n\n<pre><code>for (int i = 0; i &lt; gridView1.DataRowCount; i++) {\n    object b = gridView1.GetRowCellValue(i, \"FieldName\");\n    if (b != null &amp;&amp; b.Equals(&lt;someValue&gt;)){\n        gridView1.FocusedRowHandle = i;\n        return;\n    }\n}\n</code></pre>\n\n<p>you can go to this link for more details. </p>\n\n<p><a href=\"https://www.devexpress.com/Support/Center/Question/Details/Q132599/get-row-by-cell-value\" rel=\"nofollow noreferrer\">https://www.devexpress.com/Support/Center/Question/Details/Q132599/get-row-by-cell-value</a></p>\n"}, {"tags": [], "owner": {"reputation": 17169, "user_id": 770710, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f8caf9cf7e8338ced407de12631fc7ae?s=128&d=identicon&r=PG", "display_name": "Niranjan Singh", "link": "https://stackoverflow.com/users/770710/niranjan-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1525948237, "creation_date": 1525948237, "answer_id": 50270838, "question_id": 50263425, "link": "https://stackoverflow.com/questions/50263425/finding-a-cell-in-devexpress-datagrid/50270838#50270838", "title": "Finding a cell in devexpress datagrid", "body": "<p>Unlike XtraGrid, the DXGrid for WPF does not provide the <code>DataRowCount</code> property - that is why we suggested checking the GridControl's ItemsSource. On the other hand, our grid has the VisibleRowCount property, which will be useful in some scenarios.</p>\n\n<p>To accomplish this task, iterate through visible grid rows manually as shown below.</p>\n\n<pre><code>void MoveFocusToLast(GridControl grid, string fieldName, object value) {\n    for (int i = grid.VisibleRowCount - 1; i &gt;= 0; i--) {\n        var handle = grid.GetRowHandleByVisibleIndex(i);\n        var currentValue = grid.GetCellValue(handle, fieldName);\n        if (currentValue != null &amp;&amp; currentValue.Equals(value)) {\n            grid.View.FocusedRowHandle = handle;\n            return;\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Grid also provides the <a href=\"https://documentation.devexpress.com/#WPF/DevExpressXpfGridGridControl_FindRowByValuetopic\" rel=\"nofollow noreferrer\">FindRowByValue</a> method, which allows you to\n  find a row by a specific cell value. This method returns the handle of\n  the corresponding row, and you can make that row visible by setting\n  the <a href=\"https://documentation.devexpress.com/#WPF/DevExpressXpfGridDataViewBase_FocusedRowHandletopic\" rel=\"nofollow noreferrer\">FocusedRowHandle</a> property or calling <a href=\"https://documentation.devexpress.com/#WPF/DevExpressXpfGridDataViewBase_ScrollIntoViewtopic\" rel=\"nofollow noreferrer\">ScrollIntoView</a>. I\n  have prepared a sample demonstrating this approach.</p>\n</blockquote>\n\n<p><strong>See Also:</strong><br>\n<a href=\"https://documentation.devexpress.com/#WPF/CustomDocument6122\" rel=\"nofollow noreferrer\">Traversing Rows</a><br>\n<a href=\"https://www.devexpress.com/Support/Center/Question/Details/T367072/find-row\" rel=\"nofollow noreferrer\">Find Row</a><br>\n<a href=\"https://www.devexpress.com/Support/Center/Question/Details/T281027/get-rowhandle-from-a-cell-value\" rel=\"nofollow noreferrer\">Get RowHandle from a cell value</a></p>\n"}], "owner": {"reputation": 45, "user_id": 9263874, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/38dcc5272352482e0a2823aa8100c3b5?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/9263874/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525948237, "creation_date": 1525908572, "question_id": 50263425, "link": "https://stackoverflow.com/questions/50263425/finding-a-cell-in-devexpress-datagrid", "title": "Finding a cell in devexpress datagrid", "body": "<p>I'm new to DevExpress GridControl.\nI need to find a particular cell in the grid and then do something with it's value.\nHow do I go about this please?</p>\n\n<p>In the grid's <code>Loaded</code> method, I tried using <code>myGrid.FindRowByValue(\"ProductType\",\"ABC\"),</code> but always gives a negative number.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 1, "creation_date": 1525908605, "post_id": 50263414, "comment_id": 87544885, "body": "How wide is your line? Zero. Hmmm ..."}, {"owner": {"reputation": 31, "user_id": 9767833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661ba814bcd3eaa991533e86ae16d762?s=128&d=identicon&r=PG&f=1", "display_name": "martin", "link": "https://stackoverflow.com/users/9767833/martin"}, "reply_to_user": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1525909321, "post_id": 50263414, "comment_id": 87545029, "body": "how i can change it&#39;s wide ?"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 1, "creation_date": 1525911615, "post_id": 50263414, "comment_id": 87545579, "body": "Use a polygon. See <a href=\"https://stackoverflow.com/a/30137794/224370\">stackoverflow.com/a/30137794/224370</a> for example."}, {"owner": {"reputation": 31, "user_id": 9767833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661ba814bcd3eaa991533e86ae16d762?s=128&d=identicon&r=PG&f=1", "display_name": "martin", "link": "https://stackoverflow.com/users/9767833/martin"}, "reply_to_user": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1525912793, "post_id": 50263414, "comment_id": 87545820, "body": "I just need one line"}, {"owner": {"reputation": 11253, "user_id": 5045688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87aed06c947625b429242fbcdf11f5e0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/5045688/alexander-petrov"}, "edited": false, "score": 1, "creation_date": 1525916268, "post_id": 50263414, "comment_id": 87546529, "body": "<code>path.Widen(Pens.Black);</code> or set an arbitrary width <code>path.Widen(new Pen(Color.Black, 5));</code>"}], "owner": {"reputation": 31, "user_id": 9767833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661ba814bcd3eaa991533e86ae16d762?s=128&d=identicon&r=PG&f=1", "display_name": "martin", "link": "https://stackoverflow.com/users/9767833/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1525908445, "creation_date": 1525908445, "question_id": 50263414, "link": "https://stackoverflow.com/questions/50263414/can-i-make-the-shape-of-form-linear-on-c", "title": "Can I make The Shape of Form linear on C#?", "body": "<p>is there a way to make form shape linear\ni I could make it as circle \ni used a GraphicsPath </p>\n\n<pre><code>       GraphicsPath path = new GraphicsPath();\n        RectangleF rec = new RectangleF(0, 0, 100, 150);\n        path.AddEllipse(rec);\n        this.Region = new Region(path);\n</code></pre>\n\n<p>but when i try to make it as line i try this code </p>\n\n<pre><code>         GraphicsPath path = new GraphicsPath();\n        path.AddLine(0,0,200,200);\n        Cursor.Position = new Point(200, 200);\n        this.Region = new Region(path);\n</code></pre>\n\n<p>but Nothing happened the form looks like disappear\nSo Can Someone help me please</p>\n"}, {"tags": ["c#", ".net", "uwp", "storagefile"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1525911663, "post_id": 50263370, "comment_id": 87545598, "body": "I never worked with UWP before as well, but I just tried your code and <code>file.Path</code> returned the full path to the file just fine. Side note: <a href=\"https://stackoverflow.com/q/12144077/4934172\">you should avoid using <code>async void</code></a>."}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1525912390, "post_id": 50263370, "comment_id": 87545722, "body": "However, I just checked <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.storagefile.path\" rel=\"nofollow noreferrer\">the docs</a> and it says: <i><b>&quot;Do not rely on this property to access a file because some files may not have file-system paths. For example if the file is backed by a URI, or was picked using the file picker, the file is not guaranteed to have a file-system path.&quot;</b></i>  but they don&#39;t refer to any alternative, so I&#39;m not sure. Perhaps someone with experience in UWP could help you. Good luck!"}, {"owner": {"reputation": 11, "user_id": 9672677, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u32KYSNL83g/AAAAAAAAAAI/AAAAAAAAAm0/1sYjXMgO51Y/photo.jpg?sz=128", "display_name": "SITarabuta", "link": "https://stackoverflow.com/users/9672677/sitarabuta"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1525919964, "post_id": 50263370, "comment_id": 87547373, "body": "Thanks! Yeah, I don&#39;t know, it acts weird."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9672677, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u32KYSNL83g/AAAAAAAAAAI/AAAAAAAAAm0/1sYjXMgO51Y/photo.jpg?sz=128", "display_name": "SITarabuta", "link": "https://stackoverflow.com/users/9672677/sitarabuta"}, "edited": false, "score": 0, "creation_date": 1525984604, "post_id": 50267779, "comment_id": 87578818, "body": "I think I will go for the helper option. It seems like it is actually a great idea as I can have a native modern design, while the background processing is done by a type of program that I am used to. Thank you!!"}], "tags": [], "owner": {"reputation": 1055, "user_id": 5357729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/s3fdw.jpg?s=128&g=1", "display_name": "Sean O&#39;Neil", "link": "https://stackoverflow.com/users/5357729/sean-oneil"}, "is_accepted": false, "score": 2, "last_activity_date": 1525937308, "creation_date": 1525937308, "answer_id": 50267779, "question_id": 50263370, "link": "https://stackoverflow.com/questions/50263370/get-path-to-any-file-on-the-computer-in-uwp-app/50267779#50267779", "title": "Get path to any file on the computer in UWP app", "body": "<p>Sandbox restrictions make it so that getting the path from that property will not reliably work, as Ahmed pointed out.</p>\n\n<p>As for launching, you can't launch exe files directly from a UWP app. It's simply not possible as it is explicitly restricted from doing so by design.  Some workaround solutions to your problem:</p>\n\n<ol>\n<li><p>Use Steam to launch non-Steam games. You can add non-Steam shortcuts and this creates a SteamID based on the file's path so you can launch it from the UWP app using a URI. I found the algorithm to launch any exe using the Steam URI scheme from <a href=\"https://steamcommunity.com/discussions/forum/1/864959809821051790/\" rel=\"nofollow noreferrer\">this board post</a> and follow the link to the person's Python project source code.</p></li>\n<li><p>Create a helper Win32 app that does the launching for you. In my app suite I communicate between the UWP and Win32 using WebSocket. There are also new solutions to integrate Win32 apps into UWP like Desktop Bridge and full trust Win32. </p></li>\n<li><p>Use a 3rd party scripting tool like AutoHotkey. Have your UWP app generate the string of a script to launch the game, and save the text file with extension that launches that script language by default. You can then use the Launcher class to launch the file, which the scripting app will open with by default and then it will launch the game. I doubt your app would be accepted on the Windows Store if you did this. </p></li>\n<li><p>Consider not using UWP at all. There are some libraries to make WPF look more modern as I'm sure you know.</p></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 9672677, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u32KYSNL83g/AAAAAAAAAAI/AAAAAAAAAm0/1sYjXMgO51Y/photo.jpg?sz=128", "display_name": "SITarabuta", "link": "https://stackoverflow.com/users/9672677/sitarabuta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525937308, "creation_date": 1525907989, "last_edit_date": 1525910394, "question_id": 50263370, "link": "https://stackoverflow.com/questions/50263370/get-path-to-any-file-on-the-computer-in-uwp-app", "title": "Get path to any file on the computer in UWP app", "body": "<p>I am developing a UWP app for the first time. I always used Windows Forms and WPF, but the potential design of these apps is gorgeous, but the problem is they are kind of sandbox, especially for my current project. Basically, I am making a games launcher, where you add your games and the program creates a list of games. (Think of it like a Steam for everything with a modern Windows 10 Material design).</p>\n\n<p>Now, I managed to do almost everything, but two things. First, and most important, is getting the path to the game. I create a file picker, I can pick the .exe files, I can get their names, but the <code>file.Path</code> property doesn't work, it returns a null path. I thought this might be because of UWP's sandboxed design, but I got far into this, that I really don't want to abandon it.</p>\n\n<p>The second problem would be the launching of these files. I managed to do it on Steam games using Steam's specific URI. (\"steam://rungameid/xxxxxx\" where xxxxxx is the game id) But it doesn't work if I just put a path as a URI.</p>\n\n<p>What do you think? Are there any solutions? Let me show you some of the related code:</p>\n\n<pre><code>public async void SelectEXE()\n{\n    var picker = new Windows.Storage.Pickers.FileOpenPicker\n    {\n        ViewMode = Windows.Storage.Pickers.PickerViewMode.Thumbnail,\n        SuggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.PicturesLibrary\n    };\n    picker.FileTypeFilter.Add(\".exe\");\n    Windows.Storage.StorageFile file = await picker.PickSingleFileAsync();\n    if (file != null)\n    {\n        stuffWrite[0] = file.Name;\n        stuffWrite[1] = file.Path;\n        count++;\n        WriteCount();\n        WriteItem(count, string.Join(\",\", stuffWrite));\n        UpdateList();\n    }\n}\n\nasync void LaunchGame(string uriToLaunch)\n{\n    Uri uri = new Uri(uriToLaunch);\n    games_list.Items.Add(uriToLaunch);\n    uri = new Uri(\"steam://rungameid/730\"); //replace with actual path\n    await Windows.System.Launcher.LaunchUriAsync(uri);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "generics"], "comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1525907928, "post_id": 50263316, "comment_id": 87544739, "body": "What is the question?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 5, "creation_date": 1525908240, "post_id": 50263316, "comment_id": 87544808, "body": "I would flip this on its head. I would add <code>public abstract void SendMessage();</code> to <code>MessageCommonDefinition</code> and then put the code for sending each type of message in the message type classes."}, {"owner": {"reputation": 245, "user_id": 2537052, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eLt2m.jpg?s=128&g=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/2537052/ray"}, "edited": false, "score": 0, "creation_date": 1525910744, "post_id": 50263316, "comment_id": 87545364, "body": "Hi! Thanks for reply. I already did that but I finished repetimg the same code for each message class.  If I can send the object dinamically I can use the same method for all my clases. Is that possible?"}, {"owner": {"reputation": 465, "user_id": 3639090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F09XZ.png?s=128&g=1", "display_name": "Alex W", "link": "https://stackoverflow.com/users/3639090/alex-w"}, "edited": false, "score": 0, "creation_date": 1525913887, "post_id": 50263316, "comment_id": 87546044, "body": "@Ray can you update the <code>MessageCommonDefinition</code> with what you did. If you&#39;ve implemented  <code>SendMessage()</code> in both <code>EmailMessage</code> and <code>SmsMessage</code>, then any instance of either is simply <code>message.Send();</code>"}, {"owner": {"reputation": 245, "user_id": 2537052, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eLt2m.jpg?s=128&g=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/2537052/ray"}, "edited": false, "score": 0, "creation_date": 1525955374, "post_id": 50263316, "comment_id": 87562749, "body": "I already got rid of the code but basically, and probably is because I dont understand the concept, I have more classes for different communication channels (email and sms were used as an example to simplify things).  Each time I want to send a message I need to validate if I need to fill a tamplate.  so the complete If code block will be call for each different instance.  If I use the abstract method how can I know what type of message is the one needed to be sent and to change the template.  This if is the emailmessage one but I dId the same for each one. How can I make it just once?"}], "owner": {"reputation": 245, "user_id": 2537052, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eLt2m.jpg?s=128&g=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/2537052/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525928272, "creation_date": 1525907608, "last_edit_date": 1525928272, "question_id": 50263316, "link": "https://stackoverflow.com/questions/50263316/how-to-pass-a-different-objects-to-the-same-function", "title": "How to pass a different objects to the same function", "body": "<p>I'm a little bit lost with dynamic data and I will like your help.  This is what I'm trying to do:</p>\n\n<p>I have the following Classes:</p>\n\n<pre><code>public class SmsMessage : MessageCommonDefinition\n{\n    public string MessageServiceKey { get; set; }\n    public string MessageAttachments { get; set; }\n    public bool MessageBodyUseTemplate { get; set; }\n    public string MessageBodyTemplate { get; set; }\n    public string MessageBodyTemplateValues { get; set; }\n    public bool ValidateWithCarrier { get; set; }\n    public bool IncludeCarrierInfo { get; set; }\n}\n\npublic class EmailMessage : MessageCommonDefinition\n{\n    public string MessageDisplayName { get; set; }\n    public string MessageCc { get; set; }\n    public string MessageBcc { get; set; }\n    public string MessageSubject { get; set; }\n    public bool MessageIsBodyHtml { get; set; }\n    public bool MessageBodyUseTemplate { get; set; }\n    public string MessageBodyTemplate { get; set; }\n    public string MessageBodyTemplateValues { get; set; }\n    public bool IsConfidential { get; set; }\n    public string MessageAttachments { get; set; }\n    public MailPriority MessagePriority { get; set; }\n}\n\npublic abstract class MessageCommonDefinition\n{\n    public Guid MessageId { get; set; }\n    public string CompanyCode { get; set; }\n    public string MessageCode { get; set; }\n    public string MessageChannelCode { get; set; }\n    public string MessageTo { get; set; }\n    public string MessageFrom { get; set; }\n    public string MessageBody { get; set; }\n    public string ChannelName { get; set; }\n}\n</code></pre>\n\n<p>I also have a method to fill a template that receives, among other parameters, the type of message to fill the template (EmailMessage, SmSMessage, etc.)</p>\n\n<p>This is the method:</p>\n\n<pre><code>if (triggerGroup.ToUpper().ToUpper() == AppSettingsKeys.External.ToString().ToUpper())\n{\n    List&lt;PassengerTemplateEntity&gt; passengerTemplateEntity = ACARSRepository.GetPassengerTemplateValues(emailMessage.MessageId);\n\n    var passengerTemplateValues = DynamicClassBuilder.BuildObject();\n\n    foreach (PassengerTemplateEntity passengerTemplate in passengerTemplateEntity)\n    {\n         passengerTemplateValues.AddProperty(passengerTemplate.FieldName, passengerTemplate.FieldData);\n    }\n\n    message.Body = Smart.Format(File.ReadAllText(attFilePath), passengerTemplateValues);\n\n    message.Subject = emailMessage.IsConfidential ? SettingsManager.GetAppSettingValue(AppSettingsKeys.ConfidentialKey, \"-secmsg-\")\n                        + \" \" + Smart.Format(emailMessage.MessageSubject.Trim(), passengerTemplateValues) : Smart.Format(emailMessage.MessageSubject.Trim(), passengerTemplateValues);\n}\nelse if (triggerGroup.ToUpper() == AppSettingsKeys.Internal.ToString().ToUpper())\n{\n    alertTemplateValues = CoreRepository.GetExceptionMessage(emailMessage.MessageCode);\n\n    if (alertTemplateValues != null)\n    {\n        message.Body = Smart.Format(File.ReadAllText(attFilePath), alertTemplateValues);\n        message.Subject = Smart.Format(emailMessage.MessageSubject.Trim(), alertTemplateValues);\n    }\n    else\n    {\n        alertTemplateValues = CoreRepository.GetExceptionMessage(\"E127\");\n        throw new ArgumentException(Smart.Format(\"BlackBox.{0}: [Exception Code: {1}] {2}\", alertTemplateValues.ShortName, alertTemplateValues.ExceptionCode, alertTemplateValues.ExceptionMessage), \"ExceptionMessageCode: \" + emailMessage.MessageCode, new ArgumentException());\n    }\n}\nelse\n{\n    alertTemplateValues = CoreRepository.GetExceptionMessage(\"E123\");\n    throw new ArgumentException(Smart.Format(\"BlackBox.{0}: [Exception Code: {1}] {2}\", alertTemplateValues.ShortName, alertTemplateValues.ExceptionCode, alertTemplateValues.ExceptionMessage), \"TriggerGroup: \" + triggerGroup, new ArgumentException());\n}\n</code></pre>\n\n<p>As you can see the method uses the emailMessage to retrieve values.  What I want to achieve is to use this as a shared function.  I want to send a generic parameter regardless it is an emailMessage or a SmsMessage and use the function by sending a generic object and fill the correct class with the correct value.</p>\n"}, {"tags": ["c#", "azure", "azure-cognitive-services"], "comments": [{"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525907896, "post_id": 50263298, "comment_id": 87544727, "body": "@CamiloTerevinto I am using the package from here that says it was released yesterday. So, I assume it must be the latest."}], "answers": [{"comments": [{"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 2, "creation_date": 1525909136, "post_id": 50263376, "comment_id": 87544997, "body": "Thank you for helping me resolve the issue. Your guess was correct. After I uninstalled the latest version and installed the previous version <code>1.0.0</code> it worked. For benefits of other: I first ran <code>UnInstall-Package Microsoft.Azure.CognitiveServices.Language -Version 1.0.1-preview</code> and then <code>Install-Package Microsoft.Azure.CognitiveServices.Language -Version 1.0.0-preview</code>"}], "tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": true, "score": 2, "last_activity_date": 1525908061, "creation_date": 1525908061, "answer_id": 50263376, "question_id": 50263298, "link": "https://stackoverflow.com/questions/50263298/inaccessible-due-to-its-protection-level-error-in-a-code-from-a-microsoft-tutori/50263376#50263376", "title": "inaccessible due to its protection level error in a code from a Microsoft Tutorial", "body": "<p>The problem is, most likely, that you got <a href=\"https://www.nuget.org/packages/Microsoft.Azure.CognitiveServices.Language\" rel=\"nofollow noreferrer\">the wrong package version</a>.</p>\n\n<p>The post is from <code>09-20-2017</code> and the package's <code>1.0.0</code> preview version is from <code>09-19-2017</code>.<br>\nYet the latest version of the package is the <code>1.0.1</code> which was released yesterday and you most likely installed.</p>\n\n<p>A minor upgrade shouldn't have breaking changes, but...</p>\n"}], "owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "accepted_answer_id": 50263376, "answer_count": 1, "score": 1, "last_activity_date": 1525925780, "creation_date": 1525907436, "last_edit_date": 1525925780, "question_id": 50263298, "link": "https://stackoverflow.com/questions/50263298/inaccessible-due-to-its-protection-level-error-in-a-code-from-a-microsoft-tutori", "title": "inaccessible due to its protection level error in a code from a Microsoft Tutorial", "body": "<p>The following code from an <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/quickstarts/csharp\" rel=\"nofollow noreferrer\">Official Microsoft Azure tutorial</a> is giving the following error message at the first line:</p>\n\n<pre><code>ITextAnalyticsAPI client = new TextAnalyticsAPI();\n</code></pre>\n\n<blockquote>\n  <p><code>TextAnalyticsAPI.TextAnalyticsAPI(param DelegatingHandler[])</code>  is inaccessible due to its protection level</p>\n</blockquote>\n\n<pre><code>using System;\nusing Microsoft.Azure.CognitiveServices.Language.TextAnalytics;\nusing Microsoft.Azure.CognitiveServices.Language.TextAnalytics.Models;\nusing System.Collections.Generic;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // Create a client.\n            ITextAnalyticsAPI client = new TextAnalyticsAPI();\n            client.AzureRegion = AzureRegions.Westus;\n            client.SubscriptionKey = \"ENTER KEY HERE\";\n\n            Console.OutputEncoding = System.Text.Encoding.UTF8;\n\n            // Extracting language\n            Console.WriteLine(\"===== LANGUAGE EXTRACTION ======\");\n\n            LanguageBatchResult result = client.DetectLanguage(\n                    new BatchInput(\n                        new List&lt;Input&gt;()\n                        {\n                          new Input(\"1\", \"This is a document written in English.\"),\n                          new Input(\"2\", \"Este es un document escrito en Espa\u00f1ol.\"),\n                          new Input(\"3\", \"\u8fd9\u662f\u4e00\u4e2a\u7528\u4e2d\u6587\u5199\u7684\u6587\u4ef6\")\n                        }));\n\n            // Printing language results.\n            foreach (var document in result.Documents)\n            {\n                Console.WriteLine(\"Document ID: {0} , Language: {1}\", document.Id, document.DetectedLanguages[0].Name);\n            }\n\n            // Getting key-phrases\n            Console.WriteLine(\"\\n\\n===== KEY-PHRASE EXTRACTION ======\");\n\n            KeyPhraseBatchResult result2 = client.KeyPhrases(\n                    new MultiLanguageBatchInput(\n                        new List&lt;MultiLanguageInput&gt;()\n                        {\n                          new MultiLanguageInput(\"ja\", \"1\", \"\u732b\u306f\u5e78\u305b\"),\n                          new MultiLanguageInput(\"de\", \"2\", \"Fahrt nach Stuttgart und dann zum Hotel zu Fu.\"),\n                          new MultiLanguageInput(\"en\", \"3\", \"My cat is stiff as a rock.\"),\n                          new MultiLanguageInput(\"es\", \"4\", \"A mi me encanta el f\u00fatbol!\")\n                        }));\n\n\n            // Printing keyphrases\n            foreach (var document in result2.Documents)\n            {\n                Console.WriteLine(\"Document ID: {0} \", document.Id);\n\n                Console.WriteLine(\"\\t Key phrases:\");\n\n                foreach (string keyphrase in document.KeyPhrases)\n                {\n                    Console.WriteLine(\"\\t\\t\" + keyphrase);\n                }\n            }\n\n            // Extracting sentiment\n            Console.WriteLine(\"\\n\\n===== SENTIMENT ANALYSIS ======\");\n\n            SentimentBatchResult result3 = client.Sentiment(\n                    new MultiLanguageBatchInput(\n                        new List&lt;MultiLanguageInput&gt;()\n                        {\n                          new MultiLanguageInput(\"en\", \"0\", \"I had the best day of my life.\"),\n                          new MultiLanguageInput(\"en\", \"1\", \"This was a waste of my time. The speaker put me to sleep.\"),\n                          new MultiLanguageInput(\"es\", \"2\", \"No tengo dinero ni nada que dar...\"),\n                          new MultiLanguageInput(\"it\", \"3\", \"L'hotel veneziano era meraviglioso. \u00c8 un bellissimo pezzo di architettura.\"),\n                        }));\n\n\n            // Printing sentiment results\n            foreach (var document in result3.Documents)\n            {\n                Console.WriteLine(\"Document ID: {0} , Sentiment Score: {1:0.00}\", document.Id, document.Score);\n            }\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1744055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baccc08885f10e70970a5c48542cc8a5?s=128&d=identicon&r=PG", "display_name": "goicox", "link": "https://stackoverflow.com/users/1744055/goicox"}, "edited": false, "score": 0, "creation_date": 1525907055, "post_id": 50263157, "comment_id": 87544518, "body": "Thank you for the prompt response. I will follow your suggestions. My code for GetCategories() is the one that is automatically generated by scaffolding."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 31, "user_id": 1744055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baccc08885f10e70970a5c48542cc8a5?s=128&d=identicon&r=PG", "display_name": "goicox", "link": "https://stackoverflow.com/users/1744055/goicox"}, "edited": false, "score": 0, "creation_date": 1525907100, "post_id": 50263157, "comment_id": 87544524, "body": "@goicox Yeah, I figured. The scaffolder is not the best, unfortunately. You are welcome, glad to help. Let me know how it works"}, {"owner": {"reputation": 31, "user_id": 1744055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baccc08885f10e70970a5c48542cc8a5?s=128&d=identicon&r=PG", "display_name": "goicox", "link": "https://stackoverflow.com/users/1744055/goicox"}, "edited": false, "score": 0, "creation_date": 1525907157, "post_id": 50263157, "comment_id": 87544539, "body": "Your GetCategories() implementation works!! Thank you"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 31, "user_id": 1744055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baccc08885f10e70970a5c48542cc8a5?s=128&d=identicon&r=PG", "display_name": "goicox", "link": "https://stackoverflow.com/users/1744055/goicox"}, "edited": false, "score": 0, "creation_date": 1525907280, "post_id": 50263157, "comment_id": 87544566, "body": "@goicox Glad to hear that, you may want to read <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a> :)"}, {"owner": {"reputation": 31, "user_id": 1744055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baccc08885f10e70970a5c48542cc8a5?s=128&d=identicon&r=PG", "display_name": "goicox", "link": "https://stackoverflow.com/users/1744055/goicox"}, "edited": false, "score": 0, "creation_date": 1525907759, "post_id": 50263157, "comment_id": 87544685, "body": "Now, if I want to return only one category given its id: // GET: api/Categories/5. How should I include the subcategories?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 31, "user_id": 1744055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baccc08885f10e70970a5c48542cc8a5?s=128&d=identicon&r=PG", "display_name": "goicox", "link": "https://stackoverflow.com/users/1744055/goicox"}, "edited": false, "score": 0, "creation_date": 1525907803, "post_id": 50263157, "comment_id": 87544701, "body": "@goicox Same story, add <code>.Include(x =&gt; x.SubCategories)</code> to the query, as I did in the answer. It can be before or after the <code>.Where()</code> call"}], "tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": true, "score": 1, "last_activity_date": 1525906378, "creation_date": 1525906378, "answer_id": 50263157, "question_id": 50263079, "link": "https://stackoverflow.com/questions/50263079/null-children-subcategories-or-db-definition/50263157#50263157", "title": "Null children subcategories or db definition", "body": "<p>This piece of code has many issues:</p>\n\n<pre><code>// GET: api/Categories\n[HttpGet]\npublic IEnumerable&lt;Category&gt; GetCategories()\n{\n    return _context.Categories;\n}\n</code></pre>\n\n<ul>\n<li>Database requests should be asynchronous, specially with Entity Framework Core that supports this out of the box.</li>\n<li>You should always return <code>IActionResult</code> in ASP.NET Core, so you can return different results and keep it agnostic of the result</li>\n<li>You should not return entities directly, instead, Data Transfer Objects should be used. This allows you to change what you return according to the client</li>\n</ul>\n\n<p>So, this should look something like this:</p>\n\n<pre><code>public class CategoryDto // or some other better name\n{\n    public string Name { get; set; }\n    // Choose the MINIMUM amount of properties that the client needs\n}\n\n// GET: api/Categories\n[HttpGet]\npublic async Task&lt;IActionResult&gt; GetCategories()\n{\n    var categories = await _context.Categories\n        .Include(x =&gt; x.SubCategories) // this line you are missing\n        .ToListAsync();\n\n    return Ok(categories);\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1744055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baccc08885f10e70970a5c48542cc8a5?s=128&d=identicon&r=PG", "display_name": "goicox", "link": "https://stackoverflow.com/users/1744055/goicox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 50263157, "answer_count": 1, "score": 0, "last_activity_date": 1525906611, "creation_date": 1525905859, "last_edit_date": 1525906611, "question_id": 50263079, "link": "https://stackoverflow.com/questions/50263079/null-children-subcategories-or-db-definition", "title": "Null children subcategories or db definition", "body": "<p>I am trying to develop a very simple ASP.net core 2.0 web API. It contains two model classes: Categories and Subcategories. However, when I call the CategoriesController as:</p>\n\n<p><a href=\"http://localhost:51242/api/categories\" rel=\"nofollow noreferrer\">http://localhost:51242/api/categories</a></p>\n\n<p>... all children Subcategories are null. </p>\n\n<pre><code>[  \n   {  \n      \"id\":1,\n      \"en\":\"Sports\",\n      \"de\":\"Sports\",\n      \"fr\":\"Sports\",\n      \"it\":\"Sport\",\n      \"es\":\"Deportes\",\n      \"shown\":0,\n      \"subcategories\":null,\n      \"subscribers\":0\n   },\n   {  \n      \"id\":2,\n      \"en\":\"Computers\",\n      \"de\":\"Computers\",\n      \"fr\":\"Computers\",\n      \"it\":\"Computers\",\n      \"es\":\"Computadoras\",\n      \"shown\":0,\n      \"subcategories\":null,\n      \"subscribers\":0\n   }\n]\n</code></pre>\n\n<p>When I seed to DB (UseInMemoryDatabase), I see that the DbSet Categories contains all subcategories present in the json file used for seeding (see image). So I am not sure what is it happening? Did I miss something?</p>\n\n<p><a href=\"https://i.stack.imgur.com/z9Lm6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z9Lm6.png\" alt=\"Screenshot after seeding the DB\"></a></p>\n\n<p>I am new to ASP.net core, this is my first application :-) </p>\n\n<pre><code>[Produces(\"application/json\")]\n[Route(\"api/Categories\")]\npublic class CategoriesController : Controller\n{\n    private readonly NetAdContext _context;\n\n    public CategoriesController(NetAdContext context)\n    {\n        _context = context;\n    }\n\n    // GET: api/Categories\n    [HttpGet]\n    public IEnumerable&lt;Category&gt; GetCategories()\n    {\n        return _context.Categories;\n    }\n}\n\npublic class Category\n{\n    public long Id { get; set; }\n    public string En { get; set; }\n    public string De { get; set; }\n    public string Fr { get; set; }\n    public string It { get; set; }\n    public string Es { get; set; }\n    public long Shown { get; set; }\n    public List&lt;Subcategory&gt; Subcategories { get; set; }\n}\n\npublic class Subcategory\n{\n    public long Id { get; set; }\n    public string En { get; set; }\n    public string De { get; set; }\n    public string Fr { get; set; }\n    public string It { get; set; }\n    public string Es { get; set; }\n    public long Shown { get; set; }\n    public long Subscribers { get; set; }\n    public long CategoryId { get; set; }\n    public long LocationId { get; set; }\n}\n</code></pre>\n\n<p>NetAdSeed is called from Program.cs</p>\n\n<pre><code>static public class NetAdSeed\n{\n    public static void Initialize(NetAdContext context)\n    {\n        context.Database.EnsureCreated();\n\n        // Seed categories and subcategories\n        if (context.Categories.Count() == 0)\n        {\n            // Load list of categories and subcategories from file to string\n            string json = System.IO.File.ReadAllText(@\".\\json\\categories.json\");\n\n            // Deserialize\n            List&lt;Category&gt; cats = JsonConvert.DeserializeObject&lt;List&lt;Category&gt;&gt;(json);\n\n            context.Categories.AddRange(cats);\n            context.SaveChanges();\n        }\n    }\n}\n\npublic class NetAdContext : DbContext\n{\n    public DbSet&lt;Category&gt; Categories { get; set; }\n\n    public DbSet&lt;Subcategory&gt; Subcategory { get; set; }\n\n    public NetAdContext(DbContextOptions&lt;NetAdContext&gt; options)\n        : base(options)\n    {\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525906345, "post_id": 50263073, "comment_id": 87544357, "body": "The error message is pretty self explanatory. You&#39;re trying to pass <code>tabel</code> (which is of type <code>int[,]</code>) to the <code>CountOddNumbersV1</code> method (which expects an argument of type <code>int[]</code>), and the error is telling you that there is no automatic conversion between these two types."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1525918654, "post_id": 50263073, "comment_id": 87547061, "body": "I&#39;m voting to close this question as off-topic because the error message is self-explanatory."}], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 8979492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/te40O.jpg?s=128&g=1", "display_name": "Serega", "link": "https://stackoverflow.com/users/8979492/serega"}, "is_accepted": false, "score": 1, "last_activity_date": 1525906235, "creation_date": 1525906235, "answer_id": 50263131, "question_id": 50263073, "link": "https://stackoverflow.com/questions/50263073/error-argument-1-cannot-convert-from-int-to-int/50263131#50263131", "title": "Error Argument 1: cannot convert from int[*,*] to &#39;int&#39;", "body": "<p>Array <code>int[] values</code> in <code>CountOddNumbersV1</code> method and <code>int[,] tabel</code> are different array types, with different dimensions count.</p>\n"}], "owner": {"reputation": 1, "user_id": 9767702, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jimafsf", "link": "https://stackoverflow.com/users/9767702/jimafsf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "closed_date": 1525934227, "answer_count": 1, "score": -5, "last_activity_date": 1525907079, "creation_date": 1525905844, "last_edit_date": 1525906893, "question_id": 50263073, "link": "https://stackoverflow.com/questions/50263073/error-argument-1-cannot-convert-from-int-to-int", "closed_reason": "Not suitable for this site", "title": "Error Argument 1: cannot convert from int[*,*] to &#39;int&#39;", "body": "<p>When i try to display the item from the array it brings up this: </p>\n\n<blockquote>\n  <p>Error CS1503: Argument 1: cannot convert from int[<em>,</em>] to 'int'. </p>\n</blockquote>\n\n<pre><code>CountOddNumbersV1(tabel));\n\n\nstatic void Main(string[] args)\n{\n    int i, j;\n\n    Console.WriteLine(\"Introduceti numarul de linii:\");\n    int l = int.Parse(Console.ReadLine());\n\n    Console.WriteLine(\"Introduceti numarul de coloane:\");\n    int c = int.Parse(Console.ReadLine());\n    int[,] tabel = new int[l, c];\n\n    Console.WriteLine(\"Introduceti elementele matricii:\");\n\n    for (i = 0; i &lt; l; i++)\n    {\n        for (j = 0; j &lt; c; j++)\n        {\n            Console.Write(\"A[{0}][{1}]=\", i, j);\n            tabel[i, j] = int.Parse(Console.ReadLine());\n        }\n    }\n\n    Console.WriteLine(\"Masivul {0}\", String.Join(\", \", tabel));\n    Console.WriteLine(\"Masivul contine {0} numere impare \", CountOddNumbersV1(tabel));\n\n    Console.ReadKey();\n}\n\nstatic int CountOddNumbersV1(params int[] values)\n{\n    int result = 0;\n\n    for (int i = 0; i &lt; values.Length; i++)\n    {\n        int number = values[i];\n\n        if (IsOdd(number))\n        {\n            result++;\n        }\n    }\n\n    return result;\n}\n\nstatic bool IsOdd(int i)\n{\n    return i % 2 != 0;\n}\n</code></pre>\n"}, {"tags": ["c#", "xamarin.forms", "ip-address", "restsharp"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525908030, "post_id": 50263060, "comment_id": 87544765, "body": "Why not store the correct location in a configuration file, then have code read that information from a configuration file? And you should avoid using IP addresses - that&#39;s what DNS is for."}, {"owner": {"reputation": 187, "user_id": 7159804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c78c11555911f09787ba4d30573a7262?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/7159804/jones"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525908314, "post_id": 50263060, "comment_id": 87544825, "body": "Ok, will look into that. I am using a hidden API which was provided by client on a VM."}], "owner": {"reputation": 187, "user_id": 7159804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c78c11555911f09787ba4d30573a7262?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/7159804/jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525907764, "creation_date": 1525905750, "last_edit_date": 1525907764, "question_id": 50263060, "link": "https://stackoverflow.com/questions/50263060/working-in-multiple-locations-with-different-test-ips", "title": "Working in multiple locations with different test IP&#39;s", "body": "<p>So I am curious about people's solution to solve my problem. I work in different locations on one project and have different IP address (testing phase). Once completed I won't need this as I can throw to an exposed HTTP client endpoint.</p>\n\n<p>My frustration is when I get to a new location and have to go through getting new addresses. Is there a simple pattern, solution to get the IP automatically and apply to my RESTSharp calls. ie</p>\n\n<pre><code>var client = new RestClient(\"http://192.168.0.0/API/getresult\");\n</code></pre>\n\n<p>I would say this is common, but frustrating when you are showing a client progress but it crashes and need to re-apply corrections.</p>\n"}, {"tags": ["c#", "inheritance", "interface", "multiple-inheritance"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1525905140, "post_id": 50262955, "comment_id": 87544004, "body": "Did you know that <a href=\"https://stackoverflow.com/questions/21692193/why-not-inherit-from-listt?rq=1\">it&#39;s not considered a good practice to inherit from <code>List&lt;T&gt;</code>?</a>"}, {"owner": {"reputation": 13, "user_id": 9767301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60c1b713a833b45da1f91dafa6f1102?s=128&d=identicon&r=PG&f=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/9767301/austin"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525908400, "post_id": 50262955, "comment_id": 87544844, "body": "I was not aware off this, but the comments on that page make a lot of sense. I appreciate you sharing it.   Although one of the points that seemed to come up, was essentially is your &quot;list&quot; really just a class that also contains a list, or is it actually extending the list itself.  For my implementation, my &quot;lists&quot; don&#39;t have any properties in them whatsoever, they only include additional methods to add functionality that is specific to a list of the classes they contain. So I wonder if this usage is a more acceptable form of an already questionable implementation?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525908573, "post_id": 50262955, "comment_id": 87544874, "body": "From what you shared, the class is more like helper methods for business logic than an extension to a list. I&#39;d consider dropping the inheritance there, and probably you don&#39;t even need a list property"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9767301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60c1b713a833b45da1f91dafa6f1102?s=128&d=identicon&r=PG&f=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/9767301/austin"}, "edited": false, "score": 0, "creation_date": 1525908588, "post_id": 50263173, "comment_id": 87544878, "body": "I&#39;m surprised the IObjectWithId&lt;T&gt; was the only concern. To be honest I was a little insecure about all of the other self referencing interfaces/collection class. I&#39;ll give this a shot and see where it gets me. Thanks for the suggestion."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "reply_to_user": {"reputation": 13, "user_id": 9767301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60c1b713a833b45da1f91dafa6f1102?s=128&d=identicon&r=PG&f=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/9767301/austin"}, "edited": false, "score": 0, "creation_date": 1525908681, "post_id": 50263173, "comment_id": 87544909, "body": "@Austin I think if you fix that many of the other problems go away including any need to inherit from <code>List&lt;T&gt;</code> or to create another Collection class."}], "tags": [], "owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "is_accepted": true, "score": 0, "last_activity_date": 1525906511, "creation_date": 1525906511, "answer_id": 50263173, "question_id": 50262955, "link": "https://stackoverflow.com/questions/50262955/c-interfaces-with-generic-types-referencing-one-another/50263173#50263173", "title": "C# Interfaces with Generic Types Referencing One Another", "body": "<p>You are overcomplicating things. The root problem is your curiously self-referencing <code>public interface IObjectWithId&lt;T&gt;</code>. Since you don't use T anywhere in the interface itself this does not need to be generic.</p>\n\n<p>Just write extension methods that work on <code>IEnumerable&lt;T&gt;</code> and return <code>IEnumerable&lt;T&gt;</code> with some simple constraints on T, e.g.</p>\n\n<pre><code>// This does not need to be generic in any way\npublic interface IObjectWithId\n{\n    int Id {get;set;}\n}\n\npublic static IEnumerable&lt;T&gt; Get&lt;T&gt;(this IEnumerable&lt;T&gt; list, List&lt;int&gt; ids)\n    where T : IObjectWithId\n{\n    return list.Where(i =&gt; ids.Contains(i.Id));\n}\n</code></pre>\n\n<p>Let the caller chain <code>.ToList()</code> onto this if they want to. Sometimes they might only want only one (<code>Single()</code> or <code>First()</code>), or they might do another filter or group operation after it so forcing it back to a <code>List&lt;T&gt;</code> is inefficient.</p>\n"}], "owner": {"reputation": 13, "user_id": 9767301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60c1b713a833b45da1f91dafa6f1102?s=128&d=identicon&r=PG&f=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/9767301/austin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 50263173, "answer_count": 1, "score": 1, "last_activity_date": 1525906511, "creation_date": 1525904976, "question_id": 50262955, "link": "https://stackoverflow.com/questions/50262955/c-interfaces-with-generic-types-referencing-one-another", "title": "C# Interfaces with Generic Types Referencing One Another", "body": "<p>Currently I'm working with a lot of classes and lists of those classes. Previously I <em>had</em> static methods which would take a particular list of classes and return a subset or single item of the list. </p>\n\n<p>However I thought it would be more convenient to have classes that inherit List and have the necessary methods there and no longer make them static, so they apply with whatever list of objects you are using.</p>\n\n<p>I have been unable to find a simple way to convert a List to my class that inherits this, so I created a method in all of these collection classes to convert it for me.</p>\n\n<h2>Example:</h2>\n\n<pre><code>public class Student \n{\n    public int Id {get;set;}\n    public string Name {get;set;}\n}\npublic class Students : List&lt;Student&gt;\n{\n    public Student GetTopStudent()\n    {\n        return this.OrderByDescending(s =&gt; s.Grade).FirstOrDefault();\n    }\n\n    public Students GetPassingStudents()\n    {\n        return this.Where(s =&gt; s.Grade &gt; 0.7).ToCollection();\n    }\n\n    public Students ToCollection(IEnumerable&lt;Student&gt; studentsList)\n    {\n        var students = new Students();\n        foreach(var s in studentsList)\n        {\n            students.Add(s);\n        }\n        return students();\n    ]\n}\n</code></pre>\n\n<p>I have many other classes and lists of classes like this, but thats a pretty simple example. I'm finding some of my methods, like the \"ToCollection()\" method are virtually identical, between classes, with the exception of the return type and the type contained in the list.</p>\n\n<p>So I've tried to create extensions and interfaces take care of these methods automatically.</p>\n\n<h2>Collection Class and Interfaces</h2>\n\n<pre><code>public abstract class Collection&lt;T&gt; : List&lt;T&gt;\n{\n    // Needed tie in the extension method with the List.Add() Method\n    public void Add(object item) =&gt; base.Add((T)item);\n}\n\npublic interface IObjectWithId&lt;T&gt; \n    where T : IObjectWithId&lt;T&gt;\n{\n    int Id {get;set;}\n}\n\npublic ICollectionItem&lt;C&gt; \n    where C : Collection&lt;IcollectionItem&lt;C&gt;&gt;\n{\n}\n\npublic ICollectionItemWithId&lt;C,T&gt; \n    where C : Collection&lt;ICollectionItemWithId&lt;C,T&gt;&gt;\n    where T : IObjectWithId&lt;T&gt;\n{\n}\n</code></pre>\n\n<h2>Extensions</h2>\n\n<pre><code>public static List&lt;T&gt; Get&lt;T&gt;(this IEnumerable&lt;IobjectWithId&lt;T&gt;&gt; list, List&lt;int&gt; ids)\n    where T : IObjectWithId&lt;T&gt;\n{\n    return list.Where(i =&gt; ids.Contains(i.Id))\n        .Cast&lt;T&gt;();\n        .ToList();\n}\n\npublic static C Get&lt;C, T&gt;(this IEnumerable&lt;IcollectionItemWithId&lt;C, T&gt;&gt; list, List&lt;int&gt; ids)\n    where C : Collection&lt;ICollectionItemWithId&lt;C, T&gt;&gt;, new()\n    where T : IObjectWithId&lt;T&gt;\n{\n    return list.Where(i =&gt; ids.Contains(i.Id)).ToCollection();\n}\n\npublic static C ToCollection&lt;C, T&gt;(this IEnumerable&lt;ICollectionItemWithId&lt;C, T&gt;&gt; list)\n    where C : Collection&lt;ICollectionItemWithId&lt;C, T&gt;&gt;, new()\n    where T : IObjectWithId&lt;T&gt;\n{\n    var collection = new C();\n    foreach(var item in list)\n    {\n        collection.Add(item);\n    }\n    return collection;\n}\n\npublic static C ToCollection&lt;C&gt;(this IEnumerable&lt;ICollectionItem&lt;C&gt;&gt; list)\nwhere C : Collection&lt;ICollectionItem&lt;C&gt;&gt;, new()\n{\n    var collection = new C();\n    foreach(var item in list)\n    {\n        collection.Add(item);\n    }\n    return collection;\n}\n</code></pre>\n\n<p>I've been unable to get this code to work. Normally I get errors after building it, either there is no implicit reference conversion from the student class to the list of students or an error pertaining to boxing.</p>\n\n<p>I'm concerned that my interfaces referencing eachother could be creating a lot of problems, however the reason I do this is so I don't have to specify the return type of a method, although perhaps that would be the easiest thing to do at this point...</p>\n"}, {"tags": ["c#", "class", "inheritance", "serialization"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1525905093, "post_id": 50262944, "comment_id": 87543993, "body": "<code>BinaryFormatter</code> is <i>almost always</i> a bad idea; I strongly advise against it. This rarely ends well... (sorry if this seems dismissive, but I&#39;ve answered <i>so very many</i> serialization questions based on people using <code>BinaryFormatter</code> when it is just going to bite them, and then: has bitten them)"}, {"owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1525909069, "post_id": 50262944, "comment_id": 87544979, "body": "I need a binary formatted output file."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1525940084, "post_id": 50262944, "comment_id": 87554501, "body": "&quot;binary formatted&quot; is not the same as &quot;using BinaryFormatter&quot; - there are a good number of serializers that deal in binary (protobuf, msgpack, etc) - none of which will hurt you in the ways that BinaryFormatter will; they&#39;ll almost always be faster and have smaller output, too."}, {"owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1525965926, "post_id": 50262944, "comment_id": 87569311, "body": "Ya, I saw a few of those. I&#39;m serializing text and images together.  I agree, with you.  Problem is I don&#39;t really want to use third-party libraries.  Unless, I can cut &amp; paste a few functions into a class file.  I may &quot;opensource &quot; this stuff later and don&#39;t want to make a person download extra stuff.  I&#39;d distribute the library with it.  But, I&#39;d feel better pointing a person to said third-party website.  I&#39;d like to be able to hand it over to anyone with VS installed and have them just open and compile.  Stock code, from Microsoft."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1525966019, "post_id": 50262944, "comment_id": 87569359, "body": "reality is that build doesn&#39;t work like that any more; most of the time you&#39;re taking a pile of <code>&lt;PackageReference&gt;</code> entries from nuget, which might be nuget, but could be 3rd party without it being different in any way (from the consumer&#39;s perspective)"}, {"owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1525974834, "post_id": 50262944, "comment_id": 87574141, "body": "I just tried switching to Protobuf. Not working,  It doesn&#39;t seem to do images or image arrays  Looking online apparently it doesn&#39;t like other types either.  This is why I don&#39;t like third -party stuff.  Microsofts serializer just works.  I&#39;ll keep trying to get it."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1525975121, "post_id": 50262944, "comment_id": 87574295, "body": "Protobuf works just fine with <code>byte[]</code>. &quot;Just works&quot; is very misleading - most types are not <code>[Serializable]</code> and won&#39;t work with <code>BinaryFormatter</code>. It is up to you, of course, but : I am extensively experienced in serialization, and I have seen more people hit more pain with <code>BinaryFormatter</code> than any other choice."}, {"owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1525975450, "post_id": 50262944, "comment_id": 87574456, "body": "So ... I need to convert my image[] into a byte[] during serialization and de-serialization?  K.  :( I really appreciate everyones input. Your guys have been great."}], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "edited": false, "score": 0, "creation_date": 1526002300, "post_id": 50282225, "comment_id": 87583787, "body": "Serialization &amp; Deserialization not working.  Well not sure about the Serialization.  Only the class, which is on it&#39;s own works.  It&#39;s the class that inherits from it which doesn&#39;t work.  The base class has fields in it, which I set in the inherited one and nothing seems to get set.  So childclass.INHERITED_PROPERTY = WHATEVER, I serialize, I deserialize and nothing."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1526027395, "post_id": 50282225, "comment_id": 87592364, "body": "I&#39;ve tried to answer the text in the actual post here; I&#39;ll have a look at the <i>comment</i> in a little bit..."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1526028135, "post_id": 50282225, "comment_id": 87592771, "body": "added example re the comment"}], "tags": [], "owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "is_accepted": false, "score": 1, "last_activity_date": 1525996089, "last_edit_date": 1525996089, "creation_date": 1525990349, "answer_id": 50282225, "question_id": 50262944, "link": "https://stackoverflow.com/questions/50262944/creating-a-descendant-of-another-class/50282225#50282225", "title": "Creating a descendant of another class", "body": "<p>As advised, I switched from the Binaryformatter to Protobuf.  After, a few issues, I've gotten it working.  So, I'm back to my original question in a new format.</p>\n\n<p>I have a base class and want to create a few different classes off it.  I seen, you're suppose to use Protobufs ProtoInclude attribute.  But, it seems backward.  It says, my base class has to know about the derived types.</p>\n\n<pre><code>    [ProtoContract]\n    [ProtoInclude(7, typeof(SomeDerivedType))]\n    class SomeBaseType {...}\n\n    [ProtoContract]\n    class SomeDerivedType {...}\n</code></pre>\n\n<p>This is a stand-alone class I'm deriving from.  So, it needs to be generic.</p>\n\n<pre><code>    [ProtoContract]\n    public class grid\n    {\n    }\n</code></pre>\n\n<p>So, I need to derive, from it.</p>\n\n<pre><code>    [ProtoContract]\n    public class Class_A : grid\n    {\n    }  \n\n    [ProtoContract]\n    public class Class_B : grid\n    {\n    }\n</code></pre>\n\n<p>Putting ProtoInclude on Class_A &amp; Class_B doesn't do anything, I understand.  Not, if it needs to be on the grid class.  What's the best way to do this?  As, I'm typing I'm wondering if I need to make a stub class that knows about Class_A &amp; Class_B?</p>\n\n<pre><code>    [ProtoContract]\n    [ProtoInclude(7, typeof(Class_A))]\n    [ProtoInclude(8, typeof(Class_B))]\n    public class ProtoStub : grid\n    {\n    }\n\n    [ProtoContract]\n    public class Class_A : ProtoStub\n    {\n    }\n\n    [ProtoContract]\n    public class Class_B : ProtoStub\n    {\n    }\n</code></pre>\n\n<p>If that works, alright. :( But, that's just extra unnecessary code and it makes me sad.</p>\n"}, {"comments": [{"owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "edited": false, "score": 0, "creation_date": 1526064062, "post_id": 50288185, "comment_id": 87613612, "body": "Interesting ... Looking at it now.  Below is my starting point."}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 0, "last_activity_date": 1526028109, "last_edit_date": 1526028109, "creation_date": 1526027331, "answer_id": 50288185, "question_id": 50262944, "link": "https://stackoverflow.com/questions/50262944/creating-a-descendant-of-another-class/50288185#50288185", "title": "Creating a descendant of another class", "body": "<p>I'm really answering <a href=\"https://stackoverflow.com/a/50282225/23354\"><em>your answer</em></a> here, not the question, but:</p>\n\n<p>Yes, protobuf-net models inheritance via the parent type. This is actually pretty common in serialization; see also <code>XmlIncludeAttribute</code> (<code>XmlSerializer</code>) and <code>KnownTypeAttribute</code> (<code>DataContractSerializer</code>). The reason for this is that these serializers <em>don't include the full type metadata into the stream</em>. This is actually a good thing: it means you can change your model or rename your assemblies etc and as long as you still meet the serialization contract: it won't matter. When you think of <em>serialization</em>: yes, it sounds trivial to check the parent types etc, but: for <strong>deserialization</strong> to work correctly from a polymorphism / LSP standpoint, it needs to be possible to deserialize <strong>knowing only the base type</strong>.</p>\n\n<p>So: to take your example: if all you knew was <code>ProtoStub</code>, and you saw a \"field 7\" on the wire, what would you do next? Would you scan all types in the current assembly for something that looks like a candidate? What about types in <em>other</em> assemblies? (there's no requirement that only one assembly is involved in the model). It becomes a very complex task to resolve the sub-types in that scenario.</p>\n\n<p>But: protobuf-net acknowledges that in the multi-assembly you might not have a reference in that direction, so the type can also be specified as a fully-qualified type name as a string, or the entire inheritance model can be configured at runtime via the <code>RuntimeTypeModel</code> API if you prefer. The same is true for some other serializers - for example, <code>XmlSerializer</code> has <code>XmlAttributeOverrides</code> for configuring the model at runtime in a very similar way.</p>\n\n<p>Specifically in the case of protobuf (and protobuf-net), there's one <em>additional</em> reason to prefer decorating the parent type: the field rules. Field numbers (the <code>7</code> in <code>[ProtoInclude(7, ...)]</code>, or the 3 in <code>[ProtoMember(3)]</code>) are required to be unique <em>for that type</em>, so being able to see the field numbers in use all in one place, rather than needing to look at <code>Class_A</code> / <code>Class_B</code> to see which fields are in use, is very handy. This is because in protobuf terms, the model shown in your example is essentially (in protobuf terms):</p>\n\n<pre><code>message ProtoStub {\n  // other fields of ProtoStub here\n\n  oneof subtype {\n     Class_A a  = 7;\n     Class_B b  = 8;\n  }\n}\nmessage Class_A {}\nmessage Class_B {}\n</code></pre>\n\n<p>which is <em>essentially</em> the same as:</p>\n\n<pre><code>message ProtoStub {\n  // other fields of ProtoStub here\n\n  optional Class_A a  = 7; // note: at most one of\n  optional Class_B b  = 8; // 7/8 will be specified\n}\nmessage Class_A {}\nmessage Class_B {}\n</code></pre>\n\n<p>meaning: the root type <em>contains</em> the sub-types. This seems to surprise most people, who expect the sub-types to contain the parent type, i.e.</p>\n\n<pre><code>message ProtoStub {}\nmessage Class_A {\n  // other Class_A fields\n  ProtoStub parent = 42;\n}\nmessage Class_B {\n  // other Class_A fields\n  ProtoStub parent = 42;\n}\n</code></pre>\n\n<p>but that layout would make it completely impossible to deserialize when all you know is the root type - how would you know which type you're starting from?</p>\n\n<p>So: that's why it works that way; the logic here can be applied to pretty much every serializer that doesn't embed full type information into the output.</p>\n\n<hr>\n\n<p>Re the \"not working\" comment; the most common \"not working\" thing here is simply not rewinding a <code>MemoryStream</code> between write and read; I wonder if that is what happened in this case. Here's a working example:</p>\n\n<pre><code>using ProtoBuf;\nusing System;\nusing System.IO;\n\npublic abstract class grid { }\n\n[ProtoContract]\n[ProtoInclude(7, typeof(Class_A))]\n[ProtoInclude(8, typeof(Class_B))]\npublic class ProtoStub : grid\n{\n    [ProtoMember(1)]\n    public int RootMember { get; set; }\n}\n\n[ProtoContract]\npublic class Class_A : ProtoStub\n{\n    [ProtoMember(1)]\n    public string DerivedMember { get; set; }\n}\n\n[ProtoContract]\npublic class Class_B : ProtoStub\n{\n}\nstatic class P\n{\n    static void Main()\n    {\n        ProtoStub obj = new Class_A\n        {\n            RootMember = 123,\n            DerivedMember = \"abc\"\n        }, clone;\n        using (var ms = new MemoryStream())\n        {\n            Serializer.Serialize(ms, obj);\n            ms.Position = 0;\n            clone = Serializer.Deserialize&lt;ProtoStub&gt;(ms);\n        }\n\n        Console.WriteLine(clone.RootMember);\n        if(clone is Class_A)\n        {\n            Class_A typed = (Class_A)clone;\n            Console.WriteLine(typed.DerivedMember);\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "edited": false, "score": 0, "creation_date": 1526079855, "post_id": 50298483, "comment_id": 87619241, "body": "Oh man, I think I got it working.  I have to adjust some stuff.  Bummer, I need to go all the way back to the grid class and add the ProtoInclude() lines.  That makes this class project specific.  This was going to be a generic class.  I know, how hard is it to copy the file over to your new project and delete or change the lines.  Ya, but still ..."}], "tags": [], "owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "is_accepted": true, "score": 0, "last_activity_date": 1526064368, "creation_date": 1526064368, "answer_id": 50298483, "question_id": 50262944, "link": "https://stackoverflow.com/questions/50262944/creating-a-descendant-of-another-class/50298483#50298483", "title": "Creating a descendant of another class", "body": "<p>What I'm converting:</p>\n\n<pre><code>    //My base class\n    [ProtoContract]\n    public class grid\n    {\n        [ProtoMember(1), CategoryAttribute(\"Grid Settings\"), DescriptionAttribute(\"Number of Horizontal GRID Segments.\")]\n        public int HorizontalCells { get; set; }\n\n        //more properties\n    }\n\n    //Our Protostub ... Originally, just for Stackoverflow.  But, I'm liking the name.\n    [ProtoContract]\n    [ProtoInclude(7, typeof(SKA_Segments))]\n    public class ProtoStub : grid\n    {\n    }\n\n    SKA_Segments seg_map;\n\n    [ProtoContract]\n    public class SKA_Segments : ProtoStub\n    {\n        public SKA_Segments()\n        {\n        }\n\n        public override void Draw(Graphics Graf, Pen pencil)\n        {\n            base.Draw(Graf, pencil);\n        }\n    }\n\n    //Serialization stuff\n    seg_map.HorizontalCells = 1000;  //test property comes from the grid class\n\n    //Need to stream all three of these into the one file\n    //Serializer.SerializeWithLengthPrefix(stream, map, PrefixStyle.Base128, 1);\n    //Serializer.SerializeWithLengthPrefix(stream, col_map, PrefixStyle.Base128, 1);\n    Serializer.SerializeWithLengthPrefix(stream, seg_map, PrefixStyle.Base128, 1);\n\n    //De-Serialization stuff\n    //map = Serializer.DeserializeWithLengthPrefix&lt;SKA_MAP&gt;(stream, PrefixStyle.Base128, 1);\n    //col_map = Serializer.DeserializeWithLengthPrefix&lt;SKA_Collision&gt;(stream, PrefixStyle.Base128, 1);\n    seg_map = Serializer.DeserializeWithLengthPrefix&lt;SKA_Segments&gt;(stream, PrefixStyle.Base128, 1);\n</code></pre>\n"}], "owner": {"reputation": 384, "user_id": 9209921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea892ea96e7d59143a1133592584c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "tobeypeters", "link": "https://stackoverflow.com/users/9209921/tobeypeters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 50298483, "answer_count": 3, "score": 1, "last_activity_date": 1526064368, "creation_date": 1525904925, "last_edit_date": 1525909568, "question_id": 50262944, "link": "https://stackoverflow.com/questions/50262944/creating-a-descendant-of-another-class", "title": "Creating a descendant of another class", "body": "<p>I want to create a new class based off the following:</p>\n\n<pre><code>    [Serializable()]\n    public class Class_A : ISerializable\n    {\n        public int DISP_SEGS { get; set; }\n\n        //Default constructor\n        public Class_A()\n        {\n            //\n        }\n\n        //Deserialization constructor\n    //If I add virtual to this I get an error\n        public Class_A(SerializationInfo info, StreamingContext ctxt)\n        {\n            foreach (PropertyInfo PI in this.GetType().GetProperties()) PI.SetValue(this, info.GetValue(PI.Name, PI.PropertyType));\n        }\n\n        //Serialization function\n        public void GetObjectData(SerializationInfo info, StreamingContext ctxt)\n        {\n            foreach (PropertyInfo PI in this.GetType().GetProperties()) info.AddValue(PI.Name, PI.GetValue(this));\n        }\n    }\n</code></pre>\n\n<p>I want \"Class_B\" to use the functionality of Serialization &amp; De-Serialization functions.  Don't want to create a whole new class and duplicate all the code, which will be in the base.  I want to be able to just create a Class_B object and later call:</p>\n\n<pre><code>    Class_B cb = new Class_B();\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    bformatter.Serialize(stream, cb);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    cb = (Class_B)bformatter.Deserialize(stream);\n</code></pre>\n"}, {"tags": ["c#", "combobox"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1525904618, "post_id": 50262849, "comment_id": 87543845, "body": "What if you have five combo boxes, two have the value 1, and three have the value 2?"}, {"owner": {"reputation": 3, "user_id": 9767551, "user_type": "registered", "profile_image": "https://graph.facebook.com/1975375482778575/picture?type=large", "display_name": "V\u0169 V\u0103n Hi\u1ec7p", "link": "https://stackoverflow.com/users/9767551/v%c5%a9-v%c4%83n-hi%e1%bb%87p"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1525905057, "post_id": 50262849, "comment_id": 87543981, "body": "I mean I had a lot of comboboxes which is divided into 4 items, now I want to count how many of them have the selected value are item 1&#39;s value and put it in textbox1 as result 1, and how many have the selected value are item 2&#39;s value and put in textbox2 as result 2,..."}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1525906055, "post_id": 50262849, "comment_id": 87544279, "body": "What part are you not sure about? How to enumerate the comboboxes, or how to keep track of which have the same numbers?"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1525906712, "post_id": 50262849, "comment_id": 87544455, "body": "If you want to check all the <code>ComboBox</code> controls of a given parent control, you can use <code>foreach (Control c in parentControl.Controls) if (c is ComboBox) ...</code>. here, <code>parentControl</code> could be your form, a panel, or whatever is the container holding your <code>ComboBox</code> controls."}, {"owner": {"reputation": 3, "user_id": 9767551, "user_type": "registered", "profile_image": "https://graph.facebook.com/1975375482778575/picture?type=large", "display_name": "V\u0169 V\u0103n Hi\u1ec7p", "link": "https://stackoverflow.com/users/9767551/v%c5%a9-v%c4%83n-hi%e1%bb%87p"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1525906799, "post_id": 50262849, "comment_id": 87544471, "body": "@lurker sorry if I don&#39;t explain it good enough for you to understand, I have 30 comboboxes divided into 4 items, now I have to count how many have the selected value are item 1&#39;s value and put it in text box 1, and count how many have the selected value are item 2&#39;s value and put it in text box 2,... At last, I need 4 textbox all have resutl in it."}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1525907061, "post_id": 50262849, "comment_id": 87544519, "body": "The information I provided is probably one tool you&#39;ll need to use. If your 30 comboboxes are divided into 4 items, in what way are they divided? Are they contained in 4 parent controls? If not, they probably should be..."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9767551, "user_type": "registered", "profile_image": "https://graph.facebook.com/1975375482778575/picture?type=large", "display_name": "V\u0169 V\u0103n Hi\u1ec7p", "link": "https://stackoverflow.com/users/9767551/v%c5%a9-v%c4%83n-hi%e1%bb%87p"}, "edited": false, "score": 0, "creation_date": 1525908922, "post_id": 50263261, "comment_id": 87544953, "body": "I tried with your code and replace all the name in my form but it said Object reference not set to an instance of an object. c#  Null ReferenceException"}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": true, "score": 0, "last_activity_date": 1528480654, "last_edit_date": 1528480654, "creation_date": 1525907169, "answer_id": 50263261, "question_id": 50262849, "link": "https://stackoverflow.com/questions/50262849/c-how-to-count-all-comboboxes-that-have-the-same-selected-value/50263261#50263261", "title": "C# How to count all comboboxes that have the same selected value?", "body": "<p>Put the comboboxes in an enumerable like e.g. an array. Then loop over them using e.g. <code>foreach</code>. In each iteration check if the selected value is the one you search and increment a counter, if the value was found. Assign the value of the counter to your textbox.</p>\n\n<p>Assuming you want to do it in a method of the form, all relevant controls are direct children of the form, your comboboxes in one column are <code>comboBox1</code>, <code>comboBox2</code> and <code>comboBox3</code>, the value you search for is <code>\"A\"</code> and the textbox you want to show the count is <code>textBox1</code>, something like this</p>\n\n<pre><code>int counter = 0;\nforeach (ComboBox comboBox in new ComboBox[] { this.comboBox1, this.comboBox2, this.comboBox3 })\n{\n    if (comboBox.SelectedValue.ToString() == \"A\")\n    {\n        counter++;\n    }\n}\nthis.textBox1.Text = counter.ToString();\n</code></pre>\n\n<p>is what you're searching for. Adapt where needed.</p>\n"}], "owner": {"reputation": 3, "user_id": 9767551, "user_type": "registered", "profile_image": "https://graph.facebook.com/1975375482778575/picture?type=large", "display_name": "V\u0169 V\u0103n Hi\u1ec7p", "link": "https://stackoverflow.com/users/9767551/v%c5%a9-v%c4%83n-hi%e1%bb%87p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 50263261, "answer_count": 1, "score": 0, "last_activity_date": 1528480654, "creation_date": 1525904300, "last_edit_date": 1525905313, "question_id": 50262849, "link": "https://stackoverflow.com/questions/50262849/c-how-to-count-all-comboboxes-that-have-the-same-selected-value", "title": "C# How to count all comboboxes that have the same selected value?", "body": "<p>I have a window form application in C# which has a lot of comboboxes. \nAll of them have the same items. \nWhat I want to do is to count all the comboboxes that have same selected value and put it in a textbox. For example if I have 2 of the comboboxes have the selected value are item 1's value and 3 of the comboboxes have the selected value are item 2's  value then the result in the textbox1 will be 2 and in the textbox2 it is 3.\nThank you. \nSorry if my English is bad :( </p>\n"}, {"tags": ["c#", "arduino"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8584125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6005cee775cee5dda0c353ed51ae9ccf?s=128&d=identicon&r=PG&f=1", "display_name": "DavidAnastasov", "link": "https://stackoverflow.com/users/8584125/davidanastasov"}, "edited": false, "score": 0, "creation_date": 1525904403, "post_id": 50262838, "comment_id": 87543785, "body": "Let me explain some more, the digispark uses a usb and simulates a keyboard(that&#39;s how i control the media controls) the c# software will be running on the computer that the device is connected to. so no need of wifi or ethernet or any webapis. Possible way to tackle this would be using the com ports but i need some help here that&#39;s why i asked this question"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "reply_to_user": {"reputation": 43, "user_id": 8584125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6005cee775cee5dda0c353ed51ae9ccf?s=128&d=identicon&r=PG&f=1", "display_name": "DavidAnastasov", "link": "https://stackoverflow.com/users/8584125/davidanastasov"}, "edited": false, "score": 0, "creation_date": 1525904599, "post_id": 50262838, "comment_id": 87543837, "body": "@DavidAnastasov - yes, so serial over USB. Just have the Arduino send messages to the PC and use a <code>SerialPort</code> in C# to listen to them."}, {"owner": {"reputation": 43, "user_id": 8584125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6005cee775cee5dda0c353ed51ae9ccf?s=128&d=identicon&r=PG&f=1", "display_name": "DavidAnastasov", "link": "https://stackoverflow.com/users/8584125/davidanastasov"}, "edited": false, "score": 0, "creation_date": 1525904910, "post_id": 50262838, "comment_id": 87543929, "body": "I know my way around c# but i&#39;m pretty new to all this aruino stuff so i have no idea how to handle this, any suggestions?"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "reply_to_user": {"reputation": 43, "user_id": 8584125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6005cee775cee5dda0c353ed51ae9ccf?s=128&d=identicon&r=PG&f=1", "display_name": "DavidAnastasov", "link": "https://stackoverflow.com/users/8584125/davidanastasov"}, "edited": false, "score": 0, "creation_date": 1525904928, "post_id": 50262838, "comment_id": 87543937, "body": "@DavidAnastasov Ah, the Trinket can&#39;t do serial, the library makes it act like a keyboard. So what you need to do in C# would be to hook the global keyboard events and handle them for special keys that you send."}, {"owner": {"reputation": 43, "user_id": 8584125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6005cee775cee5dda0c353ed51ae9ccf?s=128&d=identicon&r=PG&f=1", "display_name": "DavidAnastasov", "link": "https://stackoverflow.com/users/8584125/davidanastasov"}, "edited": false, "score": 0, "creation_date": 1525989275, "post_id": 50262838, "comment_id": 87580631, "body": "Sorry for bothering you but i can&#39;t seem to find these unused key codes so i can hook them. Can you give me a link or something because googling gives no results"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "reply_to_user": {"reputation": 43, "user_id": 8584125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6005cee775cee5dda0c353ed51ae9ccf?s=128&d=identicon&r=PG&f=1", "display_name": "DavidAnastasov", "link": "https://stackoverflow.com/users/8584125/davidanastasov"}, "edited": false, "score": 0, "creation_date": 1525994537, "post_id": 50262838, "comment_id": 87582091, "body": "@DavidAnastasov I haven&#39;t tried them, but I assume some of the codes in this list could be used <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}], "tags": [], "owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "is_accepted": true, "score": 0, "last_activity_date": 1525905170, "last_edit_date": 1525905170, "creation_date": 1525904227, "answer_id": 50262838, "question_id": 50262802, "link": "https://stackoverflow.com/questions/50262802/arduino-device-controlled-by-c-program/50262838#50262838", "title": "Arduino device controlled by c# program", "body": "<p>Since you cannot run C# code on the Arduino itself that code needs to be running on a PC (or Raspberry Pi or similar using .NET Core).</p>\n\n<p>So that means you need a way to communicate between the two. Your options are:</p>\n\n<ol>\n<li>Send messages back and forth over a serial port (serial over USB) (easiest since you are probably already using one to program your Arduino).</li>\n<li>Use WIFI or Ethernet and create a WebAPI endpoint that the Arduino calls into to deliver messages and to get results.</li>\n<li>Use some other communication mechanism like Bluetooth.</li>\n</ol>\n\n<p>Alternatively, if you have a device like the Trinket that only supports keyboard emulation over USB you would need to pick some unused keycodes for it to send and then have your application hook into the global events to handle them (see <a href=\"https://blogs.msdn.microsoft.com/toub/2006/05/03/low-level-keyboard-hook-in-c/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/toub/2006/05/03/low-level-keyboard-hook-in-c/</a>) - unless of course you application is in the foreground in which case you can just read input from the keyboard as the device sends it.</p>\n"}], "owner": {"reputation": 43, "user_id": 8584125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6005cee775cee5dda0c353ed51ae9ccf?s=128&d=identicon&r=PG&f=1", "display_name": "DavidAnastasov", "link": "https://stackoverflow.com/users/8584125/davidanastasov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 50262838, "answer_count": 1, "score": 2, "last_activity_date": 1525905170, "creation_date": 1525903974, "question_id": 50262802, "link": "https://stackoverflow.com/questions/50262802/arduino-device-controlled-by-c-program", "title": "Arduino device controlled by c# program", "body": "<p>I'm working on a small project (<a href=\"http://www.instructables.com/id/Digispark-Volume-Control/\" rel=\"nofollow noreferrer\">http://www.instructables.com/id/Digispark-Volume-Control/</a>) that uses a digispark and a rotary encoder to control media(volume,mute,pause,next,prev). The volume is controlled by the rotation of the rotary encoder and the other stuff are controlled by pressing the button in a specific way: 1 click is for pause, 2 clicks is for mute, short hold for previous song and long hold for next song. </p>\n\n<p>I am asking how would i approach using c# and arduino together to control these stuff dynamically (setup and change what these events that i stated above do, and possibly if i get far with this, add something like a macro editor that uses patterns from the rotary encoders to do stuff). \nexample for the macro-editor like idea: if i do 2 short clicks for lets say max of 200ms and a turn to the left with the rotary encoder lock the computer.</p>\n\n<p>I am trying to accomplish something like the griffin powermate(<a href=\"https://griffintechnology.com/us/powermate\" rel=\"nofollow noreferrer\">https://griffintechnology.com/us/powermate</a>), have a software that sets up what the device does and the device to follow the software </p>\n\n<p>This is the current code i got for the device, it only has the basic features for controling the media:</p>\n\n<pre><code>#include \"TrinketHidCombo.h\"\n\n#define PIN_ENCODER_A 0\n#define PIN_ENCODER_B 2\n#define PIN_BUTTON 1\n#define TRINKET_PINx  PINB\n\nstatic uint8_t enc_prev_pos = 0;\nstatic uint8_t enc_flags    = 0;\n\nvoid setup()\n{\n  // set pins as input with internal pull-up resistors enabled\n  pinMode(PIN_ENCODER_A, INPUT);\n  pinMode(PIN_ENCODER_B, INPUT);\n  pinMode(PIN_BUTTON, INPUT_PULLUP);\n  digitalWrite(PIN_ENCODER_A, HIGH);\n  digitalWrite(PIN_ENCODER_B, HIGH);\n  digitalWrite(PIN_BUTTON, HIGH);\n\n  TrinketHidCombo.begin(); // start the USB device engine and enumerate\n\n  // get an initial reading on the encoder pins\n  if (digitalRead(PIN_ENCODER_A) == LOW) {\n    enc_prev_pos |= (1 &lt;&lt; 0);\n  }\n  if (digitalRead(PIN_ENCODER_B) == LOW) {\n    enc_prev_pos |= (1 &lt;&lt; 1);\n  }\n}\n\nvoid loop()\n{\n  int8_t enc_action = 0; // 1 or -1 if moved, sign is direction\n\n  // note: for better performance, the code will now use\n  // direct port access techniques\n  // http://www.arduino.cc/en/Reference/PortManipulation\n  uint8_t enc_cur_pos = 0;\n  // read in the encoder state first\n  if (bit_is_clear(TRINKET_PINx, PIN_ENCODER_A)) {\n    enc_cur_pos |= (1 &lt;&lt; 0);\n  }\n  if (bit_is_clear(TRINKET_PINx, PIN_ENCODER_B)) {\n    enc_cur_pos |= (1 &lt;&lt; 1);\n  }\n\n  // if any rotation at all\n  if (enc_cur_pos != enc_prev_pos)\n  {\n    if (enc_prev_pos == 0x00)\n    {\n      // this is the first edge\n      if (enc_cur_pos == 0x01) {\n        enc_flags |= (1 &lt;&lt; 0);\n      }\n      else if (enc_cur_pos == 0x02) {\n        enc_flags |= (1 &lt;&lt; 1);\n      }\n    }\n\n    if (enc_cur_pos == 0x03)\n    {\n      // this is when the encoder is in the middle of a \"step\"\n      enc_flags |= (1 &lt;&lt; 4);\n    }\n    else if (enc_cur_pos == 0x00)\n    {\n      // this is the final edge\n      if (enc_prev_pos == 0x02) {\n        enc_flags |= (1 &lt;&lt; 2);\n      }\n      else if (enc_prev_pos == 0x01) {\n        enc_flags |= (1 &lt;&lt; 3);\n      }\n\n      // check the first and last edge\n      // or maybe one edge is missing, if missing then require the middle state\n      // this will reject bounces and false movements\n      if (bit_is_set(enc_flags, 0) &amp;&amp; (bit_is_set(enc_flags, 2) || bit_is_set(enc_flags, 4))) {\n        enc_action = 1;\n      }\n      else if (bit_is_set(enc_flags, 2) &amp;&amp; (bit_is_set(enc_flags, 0) || bit_is_set(enc_flags, 4))) {\n        enc_action = 1;\n      }\n      else if (bit_is_set(enc_flags, 1) &amp;&amp; (bit_is_set(enc_flags, 3) || bit_is_set(enc_flags, 4))) {\n        enc_action = -1;\n      }\n      else if (bit_is_set(enc_flags, 3) &amp;&amp; (bit_is_set(enc_flags, 1) || bit_is_set(enc_flags, 4))) {\n        enc_action = -1;\n      }\n\n      enc_flags = 0; // reset for next time\n    }\n  }\n\n  // Get button event and act accordingly\n  int b = checkButton();\n  if (b == 1) clickEvent();\n  if (b == 2) doubleClickEvent();\n  if (b == 3) holdEvent();\n  if (b == 4) longHoldEvent();\n\n  enc_prev_pos = enc_cur_pos;\n\n  if (enc_action &gt; 0) {\n    TrinketHidCombo.pressMultimediaKey(MMKEY_VOL_UP);\n  }\n  else if (enc_action &lt; 0) {\n    TrinketHidCombo.pressMultimediaKey(MMKEY_VOL_DOWN);\n  }\n  else {\n    TrinketHidCombo.poll(); // do nothing, check if USB needs anything done\n  }\n}\n\n//=================================================\n// Events to trigger\n\nvoid clickEvent() {\n  TrinketHidCombo.pressMultimediaKey(MMKEY_PLAYPAUSE);\n}\nvoid doubleClickEvent() {\n  TrinketHidCombo.pressMultimediaKey(MMKEY_MUTE);\n}\nvoid holdEvent() {\n  TrinketHidCombo.pressMultimediaKey(MMKEY_SCAN_PREV_TRACK);\n}\nvoid longHoldEvent() {\n  TrinketHidCombo.pressMultimediaKey(MMKEY_SCAN_NEXT_TRACK);\n}\n\nint debounce = 20;          // ms debounce period to prevent flickering when pressing or releasing the button\nint DCgap = 500;            // max ms between clicks for a double click event\nint holdTime = 1000;        // ms hold period: how long to wait for press+hold event\nint longHoldTime = 1500;    // ms long hold period: how long to wait for press+hold event\n\n// Button variables\nboolean buttonVal = HIGH;   // value read from button\nboolean buttonLast = HIGH;  // buffered value of the button's previous state\nboolean DCwaiting = false;  // whether we're waiting for a double click (down)\nboolean DConUp = false;     // whether to register a double click on next release, or whether to wait and click\nboolean singleOK = true;    // whether it's OK to do a single click\nlong downTime = -1;         // time the button was pressed down\nlong upTime = -1;           // time the button was released\nboolean ignoreUp = false;   // whether to ignore the button release because the click+hold was triggered\nboolean waitForUp = false;        // when held, whether to wait for the up event\nboolean holdEventPast = false;    // whether or not the hold event happened already\nboolean longHoldEventPast = false;// whether or not the long hold event happened already\n\nint checkButton() {\n  int event = 0;\n  buttonVal = digitalRead(PIN_BUTTON);\n  // Button pressed down\n  if (buttonVal == HIGH &amp;&amp; buttonLast == LOW &amp;&amp; (millis() - upTime) &gt; debounce)\n  {\n    downTime = millis();\n    ignoreUp = false;\n    waitForUp = false;\n    singleOK = true;\n    holdEventPast = false;\n    longHoldEventPast = false;\n    if ((millis() - upTime) &lt; DCgap &amp;&amp; DConUp == false &amp;&amp; DCwaiting == true)  DConUp = true;\n    else  DConUp = false;\n    DCwaiting = false;\n  }\n  // Button released\n  // DOUBLE CLICK\n  else if (buttonVal == HIGH &amp;&amp; buttonLast == HIGH &amp;&amp; (millis() - downTime) &gt; debounce)\n  {\n    if (not ignoreUp)\n    {\n      upTime = millis();\n      if (DConUp == false) DCwaiting = true;\n      else\n      {\n        event = 2;\n        DConUp = false;\n        DCwaiting = false;\n        singleOK = false;\n      }\n    }\n  }\n  // Test for normal click event: DCgap expired\n  if ( buttonVal == LOW &amp;&amp; (millis() - upTime) &gt;= DCgap &amp;&amp; DCwaiting == true &amp;&amp; DConUp == false &amp;&amp; singleOK == true &amp;&amp; event != 2)\n  {\n    event = 1;\n    DCwaiting = false;\n  }\n  // Test for hold\n  if (buttonVal == HIGH &amp;&amp; (millis() - downTime) &gt;= holdTime) {\n    // Trigger \"normal\" hold\n    if (not holdEventPast)\n    {\n      event = 3;\n      waitForUp = true;\n      ignoreUp = true;\n      DConUp = false;\n      DCwaiting = false;\n      //downTime = millis();\n      holdEventPast = true;\n    }\n    // Trigger \"long\" hold\n    if ((millis() - downTime) &gt;= longHoldTime)\n    {\n      if (not longHoldEventPast)\n      {\n        event = 4;\n        longHoldEventPast = true;\n      }\n    }\n  }\n  buttonLast = buttonVal;\n  return event;\n} \n</code></pre>\n"}, {"tags": ["c#", "mysql"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9512764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a37a44b5be856d29a68590cc4ebb46?s=128&d=identicon&r=PG&f=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/9512764/cyrus"}, "edited": false, "score": 0, "creation_date": 1525972617, "post_id": 50262954, "comment_id": 87573057, "body": "But when i remove those 2 lines i am getting this error &quot;Fatal error encountered during command execution.&quot;"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "reply_to_user": {"reputation": 1, "user_id": 9512764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a37a44b5be856d29a68590cc4ebb46?s=128&d=identicon&r=PG&f=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/9512764/cyrus"}, "edited": false, "score": 0, "creation_date": 1525976785, "post_id": 50262954, "comment_id": 87575140, "body": "@Cyrus: Please edit your question and include the whole section of c# in which you do the query (from connecting till fetching and probably out putting). Also state what component exactly throws this new error."}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 1, "last_activity_date": 1525904971, "creation_date": 1525904971, "answer_id": 50262954, "question_id": 50262782, "link": "https://stackoverflow.com/questions/50262782/mysql-select-error-on-c-but-running-on-query-builder-in-navicat/50262954#50262954", "title": "mysql select error on c# but running on query builder in navicat", "body": "<p>With</p>\n\n<pre><code>cmd.Parameters.AddWithValue(\"@r1\", 0);\n</code></pre>\n\n<p>you're replacing the <code>@r1</code>s in the query with <code>0</code> and thus create an assignment to a literal. E.g.</p>\n\n<pre><code>@r1:=@r1+1\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>0:=0+1\n</code></pre>\n\n<p>(assign <code>0</code>to <code>0</code>). That's no valid expression as values can only be assigned to variables.</p>\n\n<p>Analog for <code>@r2</code>.</p>\n\n<p>I guess you don't do that replacement, when you run the query directly, so it works there.</p>\n\n<p>As you didn't post what you actually intended to do, I cannot give you any further advise.</p>\n"}], "owner": {"reputation": 1, "user_id": 9512764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a37a44b5be856d29a68590cc4ebb46?s=128&d=identicon&r=PG&f=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/9512764/cyrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525979485, "creation_date": 1525903872, "last_edit_date": 1525979485, "question_id": 50262782, "link": "https://stackoverflow.com/questions/50262782/mysql-select-error-on-c-but-running-on-query-builder-in-navicat", "title": "mysql select error on c# but running on query builder in navicat", "body": "<p>I am getting this error every-time I run this query on c#. </p>\n\n<p>\"You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ':= 0 + 1 as rnk1 from attendance_table, (select 0 := 0) r1  order by User_ID, V' at line 1\"</p>\n\n<p>When I run it on query builder problem does not occur everything is working fine. I have already added this line </p>\n\n<pre><code>cmd.Parameters.AddWithValue(\"@r1\", 0);\ncmd.Parameters.AddWithValue(\"@r2\", 0); \n</code></pre>\n\n<p>can somebody help me with this?\nHere's the select command. </p>\n\n<pre><code>select \nt1.User_ID,concat(employee_profile.fname,' ',employee_profile.mname,' ',employee_profile.lname) as fullname,\nCASE WHEN t1.Verify_State = '0'  THEN t1.Verify_Date END AS time_in,\nCASE WHEN t2.Verify_State = '1' THEN t2.Verify_Date END AS time_out,round(TIMESTAMPDIFF(minute,t1.Verify_Date,t2.Verify_Date)/60,2) as Total_hours_worked,timeshift.time_in,\ntimeshift.time_ou\nfrom \n(select * , @r1:=@r1+1 as rnk1 from attendance_table , (select @r1:=0) r1  order by User_ID, Verify_Date) as  t1 join \n(select * , @r2:=@r2+1 as rnk2 from attendance_table , (select @r2:=0) r2 order by User_ID, Verify_Date) as t2 \non t1.User_ID=t2.User_ID \nand t1.rnk1+1=t2.rnk2 \nand t1.Verify_State=0 \nand t2.Verify_State=1 \nleft Join \nemployee_profile ON employee_profile.emp_id_no = t1.User_ID \nleft JOIN employee_timeshift ON employee_timeshift.emp_id_no = t1.User_ID \nleft JOIN timeshift on timeshift.id = employee_timeshift.timeshift_id\nleft JOIN timeshift_day on timeshift_day.timeshift_id = timeshift.id\nwhere t1.Work_date BETWEEN  '2018-04-09' AND '2018-04-14' and t1.Work_time &lt;&gt; t2.Work_time and timeshift_day.day_id = if(DATE_FORMAT(t1.Verify_Date,'%H:%i:%s') BETWEEN '02:00:00' and '06:00:00',(DAYOFWEEK(t1.Verify_Date) -1)-1,DAYOFWEEK(t1.Verify_Date)-1)\norder by  employee_profile.lname asc, t1.Verify_Date,t2.Verify_Date\n</code></pre>\n"}, {"tags": ["c#", "lambda"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1525903854, "post_id": 50262759, "comment_id": 87543574, "body": "are you trying to do assignments inside your query? I don&#39;t think that will work."}, {"owner": {"reputation": 6583, "user_id": 1041205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cd6c00d476506c50004def2ff4ad2f61?s=128&d=identicon&r=PG&f=1", "display_name": "Kurkula", "link": "https://stackoverflow.com/users/1041205/kurkula"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525903905, "post_id": 50262759, "comment_id": 87543595, "body": "what will be the type inside where clause? How can we dynamically assign clause?"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 2, "creation_date": 1525903930, "post_id": 50262759, "comment_id": 87543606, "body": "You might be able to use dynamic linq."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1525904060, "post_id": 50262759, "comment_id": 87543658, "body": "How (and why) did you build that string? Might be better to fix that and go straight to building a Lambda expression."}, {"owner": {"reputation": 6583, "user_id": 1041205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cd6c00d476506c50004def2ff4ad2f61?s=128&d=identicon&r=PG&f=1", "display_name": "Kurkula", "link": "https://stackoverflow.com/users/1041205/kurkula"}, "edited": false, "score": 0, "creation_date": 1525904261, "post_id": 50262759, "comment_id": 87543741, "body": "I am trying to use single lambda expression by change my where condition based on few conditions."}, {"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1525906153, "post_id": 50262759, "comment_id": 87544317, "body": "Maybe this can help you: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/expression-trees/how-to-use-expression-trees-to-build-dynamic-queries\" rel=\"nofollow noreferrer\">Docs</a>"}], "answers": [{"comments": [{"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1525914130, "post_id": 50263226, "comment_id": 87546093, "body": "Also: <code>if (queryId != 0) details = details.Where(p=&gt; p.id==queryID); if (!string.IsNullOrEmpty(queryName)) details = details.Where(p =&gt; p.name == queryName);</code>"}], "tags": [], "owner": {"reputation": 716, "user_id": 5379582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQPLu.jpg?s=128&g=1", "display_name": "dktaylor", "link": "https://stackoverflow.com/users/5379582/dktaylor"}, "is_accepted": false, "score": 2, "last_activity_date": 1525906955, "creation_date": 1525906955, "answer_id": 50263226, "question_id": 50262759, "link": "https://stackoverflow.com/questions/50262759/c-using-dynamic-string-or-query-in-lambda-expression/50263226#50263226", "title": "C# Using Dynamic string or query in lambda expression", "body": "<p>Lambda expressions can use variables within their scope, so you can write it as:</p>\n\n<pre><code>int queryId = 1;\nstring queryName = \"abc\";\nvar details = _db.MyTable.Where(p=&gt;p.id == queryId &amp;&amp; p.name== queryName);\n</code></pre>\n\n<p>In this way you could determine what <code>queryID</code> and <code>queryName</code> were dynamically and pass them to the lambda expression. I'm also assuming you intended to check for equality with <code>==</code> rather than assign with <code>=</code>.</p>\n"}], "owner": {"reputation": 6583, "user_id": 1041205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cd6c00d476506c50004def2ff4ad2f61?s=128&d=identicon&r=PG&f=1", "display_name": "Kurkula", "link": "https://stackoverflow.com/users/1041205/kurkula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525907139, "creation_date": 1525903739, "last_edit_date": 1525907139, "question_id": 50262759, "link": "https://stackoverflow.com/questions/50262759/c-using-dynamic-string-or-query-in-lambda-expression", "title": "C# Using Dynamic string or query in lambda expression", "body": "<p>I am trying to write a c# lambda expression with a dynamic where condition and trying to understand the type of content inside where condition. How can I call that content inside where clause dynamically?</p>\n\n<p>I am taking string here for example </p>\n\n<pre><code>string query1 = \"p=&gt;p.id == 1 &amp;&amp; p.name==\\\"abc\\\" \";\nstring query2 = \"p=&gt;p.id == 2 &amp;&amp; p.name==\\\"def\\\" \";\n\n//Normal Lambda Expression:\nvar details = _db.MyTable.Where(p=&gt;p.id == 1 &amp;&amp; p.name==\"abc\")\n\n//Trying to check these if it works \nvar details1 = _db.MyTable.Where(query1)\n\nvar details2 = _db.MyTable.Where(query2)\n</code></pre>\n"}, {"tags": ["c#", "generics"], "comments": [{"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1525903717, "post_id": 50262673, "comment_id": 87543523, "body": "This is circular and therefore not resolvable for the compiler. Maybe it works with a explicit cast?"}, {"owner": {"reputation": 105, "user_id": 4338795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3B4GWCjyTnw/AAAAAAAAAAI/AAAAAAAAHTA/bfqUF_wuI90/photo.jpg?sz=128", "display_name": "Manuel", "link": "https://stackoverflow.com/users/4338795/manuel"}, "reply_to_user": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1525904315, "post_id": 50262673, "comment_id": 87543762, "body": "@Nikolaus thanks, we can&#39;t use casts, since that breaks in certain cases and cause rutime errors."}, {"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1525904727, "post_id": 50262673, "comment_id": 87543874, "body": "You tried it? Like this:  <code>new UtilityClass().Method((GenericClass&lt;Basetype&gt;)this )</code> it shouldn\u2019t break anytime, does it?"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4338795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3B4GWCjyTnw/AAAAAAAAAAI/AAAAAAAAHTA/bfqUF_wuI90/photo.jpg?sz=128", "display_name": "Manuel", "link": "https://stackoverflow.com/users/4338795/manuel"}, "edited": false, "score": 0, "creation_date": 1525905530, "post_id": 50262909, "comment_id": 87544140, "body": "Thanks, surprisingly this works without modifying GenericClass. I expected the call to be UtilityClass.Method&lt;T&gt;(this)."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 105, "user_id": 4338795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3B4GWCjyTnw/AAAAAAAAAAI/AAAAAAAAHTA/bfqUF_wuI90/photo.jpg?sz=128", "display_name": "Manuel", "link": "https://stackoverflow.com/users/4338795/manuel"}, "edited": false, "score": 0, "creation_date": 1525961306, "post_id": 50262909, "comment_id": 87566301, "body": "@Manuel: That is because the compiler can infer the type in this case."}], "tags": [], "owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "is_accepted": true, "score": 2, "last_activity_date": 1525904644, "creation_date": 1525904644, "answer_id": 50262909, "question_id": 50262673, "link": "https://stackoverflow.com/questions/50262673/passing-generic-type-with-constraint-as-typeconstraint/50262909#50262909", "title": "Passing Generic Type with Constraint as Type&lt;Constraint&gt;", "body": "<p>You need to modify <code>UtilityClass</code> so that the method also passes down the generic type:</p>\n\n<pre><code>internal void Method&lt;T&gt;(GenericClass&lt;T&gt; genericClass) where T: BaseType\n{\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 4338795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3B4GWCjyTnw/AAAAAAAAAAI/AAAAAAAAHTA/bfqUF_wuI90/photo.jpg?sz=128", "display_name": "Manuel", "link": "https://stackoverflow.com/users/4338795/manuel"}, "edited": false, "score": 0, "creation_date": 1525956114, "post_id": 50262975, "comment_id": 87563169, "body": "Thanks for pointing me in the right direction. My use case is a wrapper around a collection that needs to be of a certain base type. On the items in the collection certain operations need to be performed. I&#39;m currently looking into splitting the Interface into getters and setters."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 4, "last_activity_date": 1525905110, "creation_date": 1525905110, "answer_id": 50262975, "question_id": 50262673, "link": "https://stackoverflow.com/questions/50262673/passing-generic-type-with-constraint-as-typeconstraint/50262975#50262975", "title": "Passing Generic Type with Constraint as Type&lt;Constraint&gt;", "body": "<p>This question is asked every day.  One more time!</p>\n\n<pre><code>class Cage&lt;T&gt; where T : Animal\n{\n  public void Add(T t) { ... }\n}\n</code></pre>\n\n<p>Now your question is: why is this illegal?</p>\n\n<pre><code>Cage&lt;Animal&gt; cage = new Cage&lt;Gerbil&gt;();\n</code></pre>\n\n<p>Because this line is legal:</p>\n\n<pre><code>cage.Add(new Tiger());\n</code></pre>\n\n<p><code>Cage&lt;Animal&gt;</code> has a method <code>Add</code> which takes <code>Animal</code>.  A <code>Tiger</code> is an <code>Animal</code> so that must be legal.  But that means that we just put a tiger into a gerbil cage.</p>\n\n<p>Since that line must be legal and it causes a type error, some <em>other</em> line must be illegal, and now you know which one it is.</p>\n\n<p>The feature you want is called <em>generic covariance</em> and it <em>is</em> legal in C# when:</p>\n\n<ul>\n<li>The generic type is an interface or delegate</li>\n<li>The varying type argument is a reference type</li>\n<li>The interface or delegate has been marked as safe for variance.</li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>IEnumerable&lt;Animal&gt; animals = new List&lt;Tiger&gt;() { new Tiger() };\n</code></pre>\n\n<p>That's legal. <code>List&lt;Tiger&gt;</code> implements <code>IEnumerable&lt;Tiger&gt;</code>, which is an interface and marked as safe for covariance, so it can be assigned to <code>IEnumerable&lt;Animal&gt;</code>.</p>\n\n<p>You'll note that <em>there is no way to put a duck into a sequence of animals</em>, and therefore there is no way to put a duck into a sequence of tigers. <em>That's how we know that it is safe for covariance</em>.</p>\n"}], "owner": {"reputation": 105, "user_id": 4338795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3B4GWCjyTnw/AAAAAAAAAAI/AAAAAAAAHTA/bfqUF_wuI90/photo.jpg?sz=128", "display_name": "Manuel", "link": "https://stackoverflow.com/users/4338795/manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 50262909, "answer_count": 2, "score": 0, "last_activity_date": 1525905110, "creation_date": 1525903316, "question_id": 50262673, "link": "https://stackoverflow.com/questions/50262673/passing-generic-type-with-constraint-as-typeconstraint", "title": "Passing Generic Type with Constraint as Type&lt;Constraint&gt;", "body": "<p>If I have a <code>GenericClass</code> with a type constraint of <code>where T : BaseType</code>, why can't I pass it as <code>GenericClass&lt;BaseType&gt;</code>?</p>\n\n<pre><code>class GenericClass&lt;T&gt; where T : BaseType\n{\n    void Method()\n    {\n        new UtilityClass().Method(this);\n    }\n}\n\nclass UtilityClass\n{\n    internal void Method(GenericClass&lt;BaseType&gt; genericClass)\n    {\n    }\n}\n</code></pre>\n\n<p>The static analyser error:</p>\n\n<pre><code>Cannot convert from 'GenericsPoc.GenericClass&lt;T&gt;' to \n'GenericsPoc.GenericClass&lt;GenericsPoc.BaseType&gt;'\n</code></pre>\n\n<p>I didn't expect this since <code>UtilityClass&lt;T&gt;</code> the <code>T</code> has to inherit from <code>BaseClass</code>.</p>\n"}, {"tags": ["c#", "asp.net", "recycle"], "comments": [{"owner": {"reputation": 128, "user_id": 4934966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2d88a29dc6c9c0111e039c742be0f3?s=128&d=identicon&r=PG&f=1", "display_name": "ivanPfeff", "link": "https://stackoverflow.com/users/4934966/ivanpfeff"}, "edited": false, "score": 0, "creation_date": 1525903213, "post_id": 50262634, "comment_id": 87543355, "body": "When you recycle, if there are any long-running tasks/threads they will eventually get aborted so that the process can restart."}], "answers": [{"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": true, "score": 1, "last_activity_date": 1525903645, "creation_date": 1525903645, "answer_id": 50262740, "question_id": 50262634, "link": "https://stackoverflow.com/questions/50262634/on-recycle-some-applications-get-this-error-thread-was-being-aborted/50262740#50262740", "title": "On recycle some applications get this error: Thread was being aborted", "body": "<p>It means in your code somewhere a thread is being created that took longer than the shutdown timeout allows to finish its work. That thread had to be forcefully shut down and the way that forceful shutdown is done is via a Thread.Abort() call.</p>\n\n<p>So check your code for infinite <code>while</code> loops or for <code>for</code> loops that have improper ending conditions. However this could just be caused by any slow code that takes more than 30 sec or so to finish its work.</p>\n"}], "owner": {"reputation": 2732, "user_id": 3202657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lcHD.jpg?s=128&g=1", "display_name": "Lucas Roselli", "link": "https://stackoverflow.com/users/3202657/lucas-roselli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 50262740, "answer_count": 1, "score": 0, "last_activity_date": 1525903645, "creation_date": 1525903065, "last_edit_date": 1525903551, "question_id": 50262634, "link": "https://stackoverflow.com/questions/50262634/on-recycle-some-applications-get-this-error-thread-was-being-aborted", "title": "On recycle some applications get this error: Thread was being aborted", "body": "<p>For some reason, after recycle, some applications keeps throwing the error below:</p>\n\n<pre><code>Thread was being aborted.\n   at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\n   at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\n   at System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean forIntrospection)\n   at System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection)\n   at System.Reflection.Assembly.Load(String assemblyString)\n   at System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective)\n</code></pre>\n\n<p>What is it means ?</p>\n"}, {"tags": ["c#", "asp.net-core", "azure-active-directory"], "comments": [{"owner": {"reputation": 7973, "user_id": 8514432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FOeiz.jpg?s=128&g=1", "display_name": "Wayne Yang", "link": "https://stackoverflow.com/users/8514432/wayne-yang"}, "edited": false, "score": 0, "creation_date": 1526018075, "post_id": 50262561, "comment_id": 87587539, "body": "Um... Is there some proxy or firewall on your machine?"}, {"owner": {"reputation": 469, "user_id": 6715559, "user_type": "registered", "profile_image": "https://graph.facebook.com/1762034577408404/picture?type=large", "display_name": "Augusto Diaz", "link": "https://stackoverflow.com/users/6715559/augusto-diaz"}, "reply_to_user": {"reputation": 7973, "user_id": 8514432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FOeiz.jpg?s=128&g=1", "display_name": "Wayne Yang", "link": "https://stackoverflow.com/users/8514432/wayne-yang"}, "edited": false, "score": 0, "creation_date": 1526054655, "post_id": 50262561, "comment_id": 87609189, "body": "Maybe, but I could fixed the problem excluding asp.net identiy, do you know if there is any known issue at that?"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 6, "creation_date": 1543374852, "post_id": 50262561, "comment_id": 93892549, "body": "The error description is very unhelpful to people unfamiliar with OIDC internals: I want to know exactly what &quot;correlation failed&quot; means - what X is trying to correlate what Y with what Z?"}, {"owner": {"reputation": 1248, "user_id": 2124293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672e254cb5596983fa7c1bdd52944e52?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2124293/samuel"}, "reply_to_user": {"reputation": 7973, "user_id": 8514432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FOeiz.jpg?s=128&g=1", "display_name": "Wayne Yang", "link": "https://stackoverflow.com/users/8514432/wayne-yang"}, "edited": false, "score": 0, "creation_date": 1558835668, "post_id": 50262561, "comment_id": 99230113, "body": "@Wayne in my case there is a proxy, any hint how to make that work even with proxy in place?"}], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 6715559, "user_type": "registered", "profile_image": "https://graph.facebook.com/1762034577408404/picture?type=large", "display_name": "Augusto Diaz", "link": "https://stackoverflow.com/users/6715559/augusto-diaz"}, "is_accepted": true, "score": 12, "last_activity_date": 1526408034, "creation_date": 1526408034, "answer_id": 50356793, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/50356793#50356793", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>I've finally found the solution, I\u00b4ll post here just in case somebody have a similar problem.</p>\n\n<p>Looks like the principal problem was that my redirect URI was the same that the CallBackPath:</p>\n\n<blockquote>\n  <p>\"CallbackPath\": \"/Account/SigninOidc\"</p>\n  \n  <p>var authProperties = _signInManager\n                  .ConfigureExternalAuthenticationProperties(\"AzureAD\",\n       Url.Action(\"SigninOidc\", \"Account\", null, Request.Scheme));</p>\n</blockquote>\n\n<p>Well, here is my corrected Startup.cs:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing BPT.PC.IdentityServer.Data;\nusing BPT.PC.IdentityServer.IdentityStore;\nusing BPT.PC.IdentityServer.Models;\nusing BPT.PC.IdentityServer.Web.Models;\nusing Microsoft.AspNetCore.Authentication;\nusing Microsoft.AspNetCore.Authentication.Cookies;\nusing Microsoft.AspNetCore.Authentication.OpenIdConnect;\nusing Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.AspNetCore.Http;\nusing Microsoft.AspNetCore.Identity;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.IdentityModel.Protocols.OpenIdConnect;\n\nnamespace BPT.PC.IdentityServer.Web\n{\n    public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddIdentity&lt;User, Role&gt;()\n                .AddUserStore&lt;UserStore&gt;()\n                .AddRoleStore&lt;RoleStore&gt;()\n                .AddDefaultTokenProviders();\n\n            services.AddMemoryCache();\n            services.AddDistributedMemoryCache();\n            services.AddDbContext&lt;IdentityServerDb&gt;\n                (options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"IdentityServerDb\")));\n\n            services\n                .AddMvc();\n            services\n                .AddAuthentication(auth =&gt;\n                {\n                    auth.DefaultAuthenticateScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n                    auth.DefaultChallengeScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n                    auth.DefaultSignInScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n                })\n                .AddCookie()\n                .AddOpenIdConnect(\"AzureAD\", \"AzureAD\", options =&gt;\n                {\n                    Configuration.GetSection(\"AzureAD\").Bind(options); ;\n                    options.ResponseType = OpenIdConnectResponseType.CodeIdToken;\n                    options.RemoteAuthenticationTimeout = TimeSpan.FromSeconds(120);\n                    options.SignInScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n                    options.RequireHttpsMetadata = false;\n                    options.SaveTokens = true;\n                });\n\n            services.AddSingleton(Configuration.GetSection(\"OpenIdConnectProviderConfiguration\").Get&lt;OpenIdConnectProviderConfiguration&gt;());\n\n        }\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseBrowserLink();\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Home/Error\");\n            }\n\n            app.UseStaticFiles();\n            app.UseAuthentication();\n\n            app.UseMvc(routes =&gt;\n            {\n                routes.MapRoute(\n                    name: \"default\",\n                    template: \"{controller=Account}/{action=Login}/{id?}\");\n            });\n        }\n    }\n}\n</code></pre>\n\n<p>And the finally implementation:</p>\n\n<pre><code>[HttpGet]\npublic IActionResult CorpLogin()\n    {\n        var authProperties = _signInManager\n            .ConfigureExternalAuthenticationProperties(\"AzureAD\",\n            Url.Action(\"LoggingIn\", \"Account\", null, Request.Scheme));\n\n        return Challenge(authProperties, \"AzureAD\");\n    }\n</code></pre>\n\n<p>The appsettings.json is the same.</p>\n"}, {"tags": [], "owner": {"reputation": 1065, "user_id": 10139616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3447cdbbfd7f11a4d9b596e5c392e34?s=128&d=identicon&r=PG&f=1", "display_name": "rayray", "link": "https://stackoverflow.com/users/10139616/rayray"}, "is_accepted": false, "score": 4, "last_activity_date": 1552397714, "creation_date": 1552397714, "answer_id": 55122786, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/55122786#55122786", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>The problem for me was that the clock on my machine (I am using a virtual machine) was not set to the correct time. It was behind by a few days because I had paused the VM after last using it.</p>\n\n<p>So the solution was to simply adjust the clock to be the correct time.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 2322648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mkcYr_c9IBQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re-lwNGQz_9QWUJaq8rstioiz5D8g/mo/photo.jpg?sz=128", "display_name": "Jaydev Solanki", "link": "https://stackoverflow.com/users/2322648/jaydev-solanki"}, "is_accepted": false, "score": 1, "last_activity_date": 1573136267, "creation_date": 1573136267, "answer_id": 58750677, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/58750677#58750677", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>This Happens when you try to access the URL which is assigned as 'Callback Path' in your OIDC settings.</p>\n\n<p>To resolve this change your Callback Path to something like, \n'MyController/MyAction' which will redirect you to your specific URL , in your case '/Account/SigninOidc'.</p>\n"}, {"comments": [{"owner": {"reputation": 1610, "user_id": 1842261, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0e47affe0b5b8143a52c6cd694abe6e8?s=128&d=identicon&r=PG", "display_name": "hbulens", "link": "https://stackoverflow.com/users/1842261/hbulens"}, "edited": false, "score": 4, "creation_date": 1599053274, "post_id": 60827031, "comment_id": 112654161, "body": "So did you get a response from MS?"}], "tags": [], "owner": {"reputation": 3058, "user_id": 1345768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5Vru.png?s=128&g=1", "display_name": "Tim.Tang", "link": "https://stackoverflow.com/users/1345768/tim-tang"}, "is_accepted": false, "score": 6, "last_activity_date": 1585179378, "last_edit_date": 1585179378, "creation_date": 1585037088, "answer_id": 60827031, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/60827031#60827031", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>Just FYI:\nI met same issue which cost me almost 1 day to investigate on this issue.\nfinally I found that after remove below code from my startup.cs and everything is working:\n<code>\n            CookiePolicyOptions cookiePolicy = new CookiePolicyOptions()\n            {\n                Secure = CookieSecurePolicy.Always,\n            };</code></p>\n\n<p>I am following up this with Microsoft support team, will update this back if get got any response.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 3660188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c4f8a7ce1f6d47d63eed4f78944ad3?s=128&d=identicon&r=PG&f=1", "display_name": "user3660188", "link": "https://stackoverflow.com/users/3660188/user3660188"}, "is_accepted": false, "score": 0, "last_activity_date": 1590921106, "creation_date": 1590921106, "answer_id": 62114859, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/62114859#62114859", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>This issue is mostly happening when you  are running identity server on http and browser is chrome , try running the application on IE Edge or use https always should fix the issue</p>\n"}, {"tags": [], "owner": {"reputation": 505, "user_id": 12300287, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--KOVpVALi1o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbIftDIdjuLCqh-1myalMqvWt56A/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/12300287/lukas"}, "is_accepted": false, "score": 1, "last_activity_date": 1594243725, "creation_date": 1594243725, "answer_id": 62803922, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/62803922#62803922", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>Thanks to Tim.Tang's answer, I figured out what caused the error on my end on Core 2.2. It was similar except that the error appeared when I removed the code for cookie policy in Startup.cs &gt; ConfigureServices method:</p>\n<pre><code>services.Configure&lt;CookiePolicyOptions&gt;(options =&gt;\n{\n    // This lambda determines whether user consent for non-essential cookies is needed for a given request.\n    options.CheckConsentNeeded = context =&gt; true;\n    options.MinimumSameSitePolicy = SameSiteMode.None;\n});\n</code></pre>\n<p>This was because I forgot to also remove <code>app.UseCookiePolicy();</code> code in the <code>Configure</code> method.</p>\n"}, {"comments": [{"owner": {"reputation": 1065, "user_id": 348375, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d385c015293f792795f7f78612bda48d?s=128&d=identicon&r=PG", "display_name": "joe", "link": "https://stackoverflow.com/users/348375/joe"}, "edited": false, "score": 0, "creation_date": 1600547261, "post_id": 63211514, "comment_id": 113124485, "body": "Thanks, this combined with Riyaz&#39;s answer solved it for me: I switched to a secure local endpoint, and Chrome properly forwarded the cookies."}, {"owner": {"reputation": 490, "user_id": 3637555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2332ffc04623afe77b5e59ffeb6d9841?s=128&d=identicon&r=PG&f=1", "display_name": "Charles d&#39;Avernas", "link": "https://stackoverflow.com/users/3637555/charles-davernas"}, "edited": false, "score": 0, "creation_date": 1605783344, "post_id": 63211514, "comment_id": 114760442, "body": "You rule, man, many thanks. Was fighting that one for a couple of hours until I found your answer!"}, {"owner": {"reputation": 133, "user_id": 633629, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/18a629bc7811ac4f873fb7272e9ced12?s=128&d=identicon&r=PG", "display_name": "Shibu S R", "link": "https://stackoverflow.com/users/633629/shibu-s-r"}, "edited": false, "score": 0, "creation_date": 1605859646, "post_id": 63211514, "comment_id": 114786822, "body": "Worked for me. Thanks"}, {"owner": {"reputation": 20294, "user_id": 1804678, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ZK0ii.jpg?s=128&g=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/1804678/jess"}, "edited": false, "score": 0, "creation_date": 1612900967, "post_id": 63211514, "comment_id": 116909535, "body": "Can you provide the solution from thinktecture?  I think this is somewhat of a link-only answer."}], "tags": [], "owner": {"reputation": 4517, "user_id": 84898, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/f1d5da7e28247f6c0047e22f135f6ff1?s=128&d=identicon&r=PG", "display_name": "dbruning", "link": "https://stackoverflow.com/users/84898/dbruning"}, "is_accepted": false, "score": 55, "last_activity_date": 1596331377, "creation_date": 1596331377, "answer_id": 63211514, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/63211514#63211514", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>If you're using Chrome against localhost, you may have run into a change in Chrome cookie-handling behaviour.</p>\n<p>To verify, navigate to chrome://flags/ and change &quot;Cookies without SameSite must be secure&quot; to &quot;Disabled&quot;.</p>\n<p>If that change fixes the issue, and you want to fix it permanently (i.e. not rely on the chrome flags fix), <a href=\"https://www.thinktecture.com/en/identity/samesite/prepare-your-identityserver/\" rel=\"noreferrer\">this thinktecture post</a> talks about the underlying issue and some fixes that you'll need for old iOS safari versions.</p>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 1570636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ebbPd.png?s=128&g=1", "display_name": "Riyaz Hameed", "link": "https://stackoverflow.com/users/1570636/riyaz-hameed"}, "is_accepted": false, "score": 2, "last_activity_date": 1599171584, "creation_date": 1599171584, "answer_id": 63732402, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/63732402#63732402", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>In my case, I had to go to Visual Studio menus,</p>\n<pre><code>Project=&gt; Application Properties =&gt; Debug tab = Enable SSL true\n</code></pre>\n<p>And in the actual OAuth configuration in FB Developer's account, set use https.\nThis has resolved. There may be different complicated problems for others. In my case this has sorted it.</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 1230828, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/O7wWH.png?s=128&g=1", "display_name": "Timo Hermans", "link": "https://stackoverflow.com/users/1230828/timo-hermans"}, "edited": false, "score": 1, "creation_date": 1606158859, "post_id": 64874175, "comment_id": 114871788, "body": "This fixed it for me. Because I&#39;m  not exposing my identity server (keycloak) to the outside world, I don&#39;t want to set up HTTPS for nothing. Thanks @James!"}], "tags": [], "owner": {"reputation": 3514, "user_id": 1001328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/EyYQ3.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/1001328/james"}, "is_accepted": false, "score": 4, "last_activity_date": 1605611667, "creation_date": 1605611667, "answer_id": 64874175, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/64874175#64874175", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>I was hitting this issue when using login with Google using .net Identity in Blazor on chrome.\nI had a new requirement to get it to work without https, it had been working fine with https.</p>\n<p>I read in multiple answers variants of changing to</p>\n<pre><code>app.UseCookiePolicy(new CookiePolicyOptions()\n{\n    MinimumSameSitePolicy = SameSiteMode.None\n});\n</code></pre>\n<p>I wish I'd read @dbruning's answer's article sooner.\nIt mentioned in the article which isn't mentioned anywhere else: <strong><code>Please note: The setting SameSite=None will only work if the cookie is also marked as Secure and requires a HTTPS connection.</code></strong> The method's intellisense summary doesn't mention this which I think it definitely should...</p>\n<p>So after that I just tried using <code>SameSiteMode.Lax</code> instead and it worked for me again.\nNo other changes required from the default blazor project startup.cs</p>\n<pre><code>app.UseCookiePolicy(new CookiePolicyOptions()\n{\n    MinimumSameSitePolicy = SameSiteMode.Lax\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3076775, "user_type": "registered", "profile_image": "https://graph.facebook.com/746136380/picture?type=large", "display_name": "BruceBarrera", "link": "https://stackoverflow.com/users/3076775/brucebarrera"}, "is_accepted": false, "score": 0, "last_activity_date": 1614912693, "creation_date": 1614912693, "answer_id": 66486076, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/66486076#66486076", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>I had the exact same problem</p>\n<blockquote>\n<p>Exception: Correlation failed.</p>\n</blockquote>\n<p>while trying to authenticate my dotNet Core 3 app to AzureAD.</p>\n<p>Changing my launch profile to &quot;<strong>Project</strong>&quot; and adding a https App URL (&quot;https://localhost:5001;http://localhost:5000&quot;) actually did the trick for me!</p>\n"}, {"tags": [], "owner": {"reputation": 1150, "user_id": 3739540, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8d58f91992386e16f5653d72f7e6ec65?s=128&d=identicon&r=PG", "display_name": "Michael Ribbons", "link": "https://stackoverflow.com/users/3739540/michael-ribbons"}, "is_accepted": false, "score": 0, "last_activity_date": 1617845302, "creation_date": 1617845302, "answer_id": 66996171, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect/66996171#66996171", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>Put this at the top of Startup.Configure(), before other middleware Uses:</p>\n<pre><code>app.UseCookiePolicy(new CookiePolicyOptions\n{\n    MinimumSameSitePolicy = SameSiteMode.Strict\n});\n</code></pre>\n<p>Tested using IdentityServer 4.1.2, .NET Core 5</p>\n"}], "owner": {"reputation": 469, "user_id": 6715559, "user_type": "registered", "profile_image": "https://graph.facebook.com/1762034577408404/picture?type=large", "display_name": "Augusto Diaz", "link": "https://stackoverflow.com/users/6715559/augusto-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33996, "favorite_count": 6, "accepted_answer_id": 50356793, "answer_count": 11, "score": 20, "last_activity_date": 1617845302, "creation_date": 1525902595, "last_edit_date": 1525919299, "question_id": 50262561, "link": "https://stackoverflow.com/questions/50262561/correlation-failed-in-net-core-asp-net-identity-openid-connect", "title": "Correlation failed in net.core / asp.net identity / openid connect", "body": "<p>I getting this error when a Azure AD user login (I able to get the user\u00b4s claims after), im using a combination of OpenIdConnect, with asp.net Identity core over net.core 2.0</p>\n\n<blockquote>\nAn unhandled exception occurred while processing the request.\nException: Correlation failed.\nMicrosoft.AspNetCore.Authentication.RemoteAuthenticationHandler+d__12.MoveNext()\n</blockquote>\n\n<p>The trace:</p>\n\n<blockquote>\nException: Correlation failed.\nMicrosoft.AspNetCore.Authentication.RemoteAuthenticationHandler+d__12.MoveNext()\nSystem.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\nSystem.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\nSystem.Runtime.CompilerServices.TaskAwaiter.GetResult()\nMicrosoft.AspNetCore.Authentication.AuthenticationMiddleware+d__6.MoveNext()\nSystem.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\nSystem.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\nMicrosoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware+d__7.MoveNext()\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/ELU3W.png\" alt=\"Correlation Failed\"></p>\n\n<p>Here is my Startup.cs:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing BPT.PC.IdentityServer.Data;\nusing BPT.PC.IdentityServer.IdentityStore;\nusing BPT.PC.IdentityServer.Models;\nusing Microsoft.AspNetCore.Authentication;\nusing Microsoft.AspNetCore.Authentication.Cookies;\nusing Microsoft.AspNetCore.Authentication.OpenIdConnect;\nusing Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.AspNetCore.Identity;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\n\nnamespace BPT.PC.IdentityServer.Web\n{\n    public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddIdentity&lt;User, Role&gt;()\n                .AddUserStore&lt;UserStore&gt;()\n                .AddRoleStore&lt;RoleStore&gt;()\n                .AddDefaultTokenProviders();\n\n            services.AddMemoryCache();\n            services.AddDistributedMemoryCache();\n            services.AddDbContext&lt;IdentityServerDb&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"IdentityServerDb\")));\n\n            services.AddMvc();\n            services.AddAuthentication(auth =&gt;\n            {\n                auth.DefaultAuthenticateScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n                auth.DefaultChallengeScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n                auth.DefaultSignInScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n            })\n            .AddCookie()\n            .AddOpenIdConnect(\"AzureAD\", opts =&gt;\n            {\n                Configuration.GetSection(\"OpenIdConnect\").Bind(opts);\n                opts.RemoteAuthenticationTimeout = TimeSpan.FromSeconds(120);\n                opts.SignInScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n\n                opts.CorrelationCookie = new Microsoft.AspNetCore.Http.CookieBuilder\n                {\n                    HttpOnly = false,\n                    SameSite = Microsoft.AspNetCore.Http.SameSiteMode.None,\n                    SecurePolicy = Microsoft.AspNetCore.Http.CookieSecurePolicy.None,\n                    Expiration = TimeSpan.FromMinutes(10)\n                };\n\n                opts.Events = new OpenIdConnectEvents()\n                {\n                    OnRedirectToIdentityProvider = OnRedirectToIdentityProvider,\n                    OnRemoteFailure = OnRemoteFailure,\n                    OnAuthorizationCodeReceived = OnAuthorizationCodeReceived\n                };\n                //opts.Events = new OpenIdConnectEvents\n                //{\n                //    OnAuthorizationCodeReceived = ctx =&gt;\n                //    {\n                //        return Task.CompletedTask;\n                //    }\n                //};\n            });\n\n            //services.ConfigureApplicationCookie(options =&gt;\n            //{\n            //    // Cookie settings\n            //    options.Cookie.HttpOnly = true;\n            //    options.ExpireTimeSpan = TimeSpan.FromMinutes(30);\n            //    options.SlidingExpiration = true;\n            //});\n        }\n\n        private Task OnAuthorizationCodeReceived(AuthorizationCodeReceivedContext arg)\n        {\n            return Task.FromResult(0);\n        }\n\n        private Task OnRemoteFailure(RemoteFailureContext arg)\n        {\n            return Task.FromResult(0);\n        }\n\n        private Task OnRedirectToIdentityProvider(RedirectContext arg)\n        {\n            return Task.FromResult(0);\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseBrowserLink();\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Home/Error\");\n            }\n\n            app.UseStaticFiles();\n            app.UseAuthentication();\n\n            app.UseMvc(routes =&gt;\n            {\n                routes.MapRoute(\n                    name: \"default\",\n                    template: \"{controller=Account}/{action=Login}/{id?}\");\n            });\n        }\n    }\n}\n</code></pre>\n\n<p>My appsettings.json:</p>\n\n<pre><code>{\n  \"Logging\": {\n    \"IncludeScopes\": false,\n    \"LogLevel\": {\n      \"Default\": \"Warning\"\n    }\n  },\n\n  \"ConnectionStrings\": {\n    \"IdentityServerDb\": \"Server=localhost;Database=IdentityServer;Trusted_Connection=True;MultipleActiveResultSets=true\"\n  },\n\n  \"OpenIdConnect\": {\n    \"ClientId\": \"xxxxx\",\n    \"Authority\": \"https://login.microsoftonline.com/xxxxx/\",\n    \"PostLogoutRedirectUri\": \"/Account/SignoutOidc\",\n    \"CallbackPath\": \"/Account/SigninOidc\",\n    \"UseTokenLifetime\": true,\n    \"RequireHttpsMetadata\": false,\n    //\"ResponseType\": \"code id_token\",\n    \"ClientSecret\": \"xxx\",\n    \"Resource\": \"https://graph.microsoft.com/\"\n  }\n}\n</code></pre>\n\n<p>And the implementation:</p>\n\n<pre><code>[HttpGet]\npublic IActionResult CorpLogin()\n{\n  var authProperties = _signInManager\n                .ConfigureExternalAuthenticationProperties(\"AzureAD\",\n     Url.Action(\"SigninOidc\", \"Account\", null, Request.Scheme));\n\n   return Challenge(authProperties, \"AzureAD\");\n}\n\n[HttpPost]\npublic IActionResult SigninOidc([FromForm]object data)\n{\n//this never runs\n   return Ok();\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "windows", "winforms"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1525903402, "post_id": 50262499, "comment_id": 87543415, "body": "You did not post the correct snippet.  Move your mouse over the gap.  What does the mouse cursor look like?  My crystal ball says that you never realized that Win10 uses transparent borders."}, {"owner": {"reputation": 5, "user_id": 8378510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0657962d0d5914e18f308b6f6f52273?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Chernyaev", "link": "https://stackoverflow.com/users/8378510/sergey-chernyaev"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1525904218, "post_id": 50262499, "comment_id": 87543727, "body": "@HansPassant oh, you&#39;re right, I&#39;d never guessed that. Thank you!"}], "owner": {"reputation": 5, "user_id": 8378510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0657962d0d5914e18f308b6f6f52273?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Chernyaev", "link": "https://stackoverflow.com/users/8378510/sergey-chernyaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525902910, "creation_date": 1525902268, "last_edit_date": 1525902910, "question_id": 50262499, "link": "https://stackoverflow.com/questions/50262499/winform-x-coordinate-is-slightly-offset", "title": "Winform x coordinate is slightly offset", "body": "<p>I'm having trouble with positioning my windows form. \nI use this code to make it appear in the left corner, though it seems to be slightly offset from left corner, like 4-5 pixels. </p>\n\n<p>The strange thing I've noticed is that if I set FormBorderStyle to None, it appears correctly. </p>\n\n<p>The whole code of my form:</p>\n\n<pre><code>        this.ClientSize = new System.Drawing.Size(800, 450);\n        this.StartPosition = System.Windows.Forms.FormStartPosition.Manual;\n        this.Location = new System.Drawing.Point(0, 0);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AhU1K.png\" rel=\"nofollow noreferrer\">This is how it looks like.</a></p>\n"}, {"tags": ["c#", "sql", "oop", "compare", "object-oriented-database"], "answers": [{"comments": [{"owner": {"reputation": 509, "user_id": 3127554, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b90595218744ad681da28f57612ae1cd?s=128&d=identicon&r=PG&f=1", "display_name": "user3127554", "link": "https://stackoverflow.com/users/3127554/user3127554"}, "edited": false, "score": 0, "creation_date": 1526063864, "post_id": 50283350, "comment_id": 87613529, "body": "I understand your concern but this is not applicable since the MaterialGroup info would be linked to too many companies. This is important since I can&#39;t link my default table to companies (I have columns in my default that I link with other stuff)....."}], "tags": [], "owner": {"reputation": 341, "user_id": 2107994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fa81c00aac21b10115fe5e8cb0fff3?s=128&d=identicon&r=PG", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/2107994/nicolas"}, "is_accepted": false, "score": 1, "last_activity_date": 1525998788, "creation_date": 1525998788, "answer_id": 50283350, "question_id": 50262488, "link": "https://stackoverflow.com/questions/50262488/c-sql-updating-child-table-with-same-value-as-parent-table/50283350#50283350", "title": "C# SQL - Updating child table with same value as parent table", "body": "<p>As a general rule, you should try to avoid storing duplicate information in your database. If you have to store the same information at two different locations, it usually means your approach can be improved. Besides, it could lead to issues such as your two rows falling out of sync.</p>\n\n<p>What about only creating a row in MaterialGroup_Company when a company decides to override the default MaterialGroup?\nThe logic would be:\n- if there's a row in MaterialGroup_Company, use that one\n- otherwise, use the one in Default.</p>\n\n<p>You can do this in a single SQL query if you use a left join and deal with the rest in your code. If there's no associated row in MaterialGroup_Company the columns should be null and you can look at the MaterialGroup_Default columns.</p>\n"}], "owner": {"reputation": 509, "user_id": 3127554, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b90595218744ad681da28f57612ae1cd?s=128&d=identicon&r=PG&f=1", "display_name": "user3127554", "link": "https://stackoverflow.com/users/3127554/user3127554"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525998788, "creation_date": 1525902209, "question_id": 50262488, "link": "https://stackoverflow.com/questions/50262488/c-sql-updating-child-table-with-same-value-as-parent-table", "title": "C# SQL - Updating child table with same value as parent table", "body": "<p>I have a table materialGroup in which I store information about default material groups. \nExample:</p>\n\n<pre><code>&gt; MaterialGroup\n&gt;  - ID \n&gt;  - MaterialGroup_Name \n&gt;  - MaterialGroup_Price\n</code></pre>\n\n<p>There is an issue however: the MaterialGroup properties can change per company. For this I created the table:</p>\n\n<pre><code>MaterialGroup_Company\n - ID\n - MaterialGroup_Default_ID\n - CompanyID\n - MaterialGroup_Company_Name\n - MaterialGroup_Company_Price\n</code></pre>\n\n<p>Example:</p>\n\n<p><strong>MaterialGroup Default</strong>: </p>\n\n<p>Name: Group 1 </p>\n\n<p>Price: 40.00</p>\n\n<p><strong>Company A:</strong>\nMaterial Group Name: Group 1 </p>\n\n<p>Material Group Price: 40.00</p>\n\n<p><strong>Company B:</strong></p>\n\n<p>Material Group: Group 1 (extend)</p>\n\n<p>Material Group Price: 100.00</p>\n\n<p>In the backend of my code I have the class MaterialGroup. </p>\n\n<p>My real issue is the following:</p>\n\n<p>I have a form in which users can change the default MaterialGroup. I already have the update statement for the master table, but I'm struggling to look for a way to update the MaterialGroup_Company. What I want to do is only update child rows values that have exactly the same values as the master. </p>\n\n<p>This means in my example, If I change MaterialGroup name to Group 1 - default, Company A's should be update but Company B's needs to stay the same. </p>\n\n<p>How can I achieve this kind of updating? Keep in mind that my real table has much more columns. </p>\n"}, {"tags": ["c#", "html", "angularjs", "string", "angularjs-ng-repeat"], "comments": [{"owner": {"reputation": 1775, "user_id": 4575211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jdzik.jpg?s=128&g=1", "display_name": "Manish Balodia", "link": "https://stackoverflow.com/users/4575211/manish-balodia"}, "edited": false, "score": 0, "creation_date": 1525925146, "post_id": 50262422, "comment_id": 87548608, "body": "Try to make message body in your controller and replace it with your email&#39;s message section."}], "answers": [{"tags": [], "owner": {"reputation": 1248, "user_id": 1754743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab6ca8b31b902dbb4eeeafec4cac545?s=128&d=identicon&r=PG", "display_name": "Ekus", "link": "https://stackoverflow.com/users/1754743/ekus"}, "is_accepted": true, "score": 2, "last_activity_date": 1525922008, "creation_date": 1525922008, "answer_id": 50264926, "question_id": 50262422, "link": "https://stackoverflow.com/questions/50262422/how-to-build-html-table-dynamically-as-template-for-sending-email-ng-repeat/50264926#50264926", "title": "How to build HTML Table dynamically as template for sending email (ng-repeat)", "body": "<p>It's not directly possible with angularjs, but it's supported with angular 2+ (using nodejs on server: <a href=\"https://angular.io/guide/universal\" rel=\"nofollow noreferrer\">https://angular.io/guide/universal</a> ).</p>\n\n<p>I had an identical need and I remember attempts to achieve what you want using angularjs running on server in selenium webdriver but I couldn't find a complete and easy solution.</p>\n\n<p>Instead, I copied my ng-repeat templates and converted them to very simple asp.net razor templates, and I pass my json model as <em>dynamic</em> ViewModel.\nI know it's not angularjs but it's a good serverside alternative and you tagged c# too.\nExample template:</p>\n\n<pre><code>@Model dynamic\n\n&lt;h4&gt;@Model.Title&lt;/h4&gt;\n&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Firstname&lt;/th&gt;\n    &lt;th&gt;Lastname&lt;/th&gt; \n    &lt;th&gt;Age&lt;/th&gt;\n  &lt;/tr&gt;\n  @foreach (dynamic x in Model.Students)\n  {\n  &lt;tr&gt;\n    &lt;td&gt;@x.FirstName&lt;/td&gt;\n    &lt;td&gt;@x.LastName&lt;/td&gt;\n    &lt;td&gt;@x.Age&lt;/td&gt;\n  &lt;/tr&gt;\n  }\n&lt;/table&gt;\n</code></pre>\n\n<p>You can use the <em>RazorEngine</em> nuget to help generate the output: <a href=\"http://antaris.github.io/RazorEngine/\" rel=\"nofollow noreferrer\">http://antaris.github.io/RazorEngine/</a>   </p>\n"}], "owner": {"reputation": 51, "user_id": 3943409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa96260fd4def5de2aa4d3ad7af5c873?s=128&d=identicon&r=PG&f=1", "display_name": "Better Tomorrow", "link": "https://stackoverflow.com/users/3943409/better-tomorrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 50264926, "answer_count": 1, "score": 1, "last_activity_date": 1525922008, "creation_date": 1525901814, "question_id": 50262422, "link": "https://stackoverflow.com/questions/50262422/how-to-build-html-table-dynamically-as-template-for-sending-email-ng-repeat", "title": "How to build HTML Table dynamically as template for sending email (ng-repeat)", "body": "<p>Currently I build HTML templates and replace {Title} placeholder with matching values before sending 'parsed email template' to recipients but the issue is there's no way to generate 'list of data' in table dynamically, thus resorting to using angularjs 'ng-repeat' but when parsed, it sends out angularjs tags instead of generating the HTML representation</p>\n\n<p>My question is how can I build 'angularjs' template with ng-repeat that can be used for sending email templates dynamically without having to load the page in browser cause it seems the angularjs page is only translated when opened in browser</p>\n\n<p>How is it possible using ng-repeat to generate HTML tags dynamically, suitable enough to be sent as email message, thanks</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> {Title} Placeholder \r\n\r\n&lt;table style=\"width:100%\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th&gt;Firstname&lt;/th&gt;\r\n    &lt;th&gt;Lastname&lt;/th&gt; \r\n    &lt;th&gt;Age&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Jill&lt;/td&gt;\r\n    &lt;td&gt;Smith&lt;/td&gt; \r\n    &lt;td&gt;50&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Eve&lt;/td&gt;\r\n    &lt;td&gt;Jackson&lt;/td&gt; \r\n    &lt;td&gt;94&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-apicontroller"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1525907107, "post_id": 50262421, "comment_id": 87544527, "body": "inspect the response that is being returned. confirm that it is in fact 404. Could be that the blank response is by design. That is normally how API 404s behave"}, {"owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1525981295, "post_id": 50262421, "comment_id": 87577309, "body": "The return is a empty html &lt;body&gt;."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1525981916, "post_id": 50262421, "comment_id": 87577604, "body": "right. but if you inspect the request what HTTP status is returned with the response?"}, {"owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1525983341, "post_id": 50262421, "comment_id": 87578284, "body": "Body is empty, but status is 404 Not Found in Postman"}], "owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525982023, "creation_date": 1525901812, "last_edit_date": 1525982023, "question_id": 50262421, "link": "https://stackoverflow.com/questions/50262421/ihttpactionresult-notfound-not-working", "title": "IHttpActionResult NotFound() not working", "body": "<p>I created a test web service using ApiController. Everything is working fine, but my NotFound() is not returning 404 not found in the browser or postman. It returns nothing.</p>\n\n<pre><code>[RoutePrefix(\"api/Test\")]\npublic class TestController : ApiController\n{\n    private myEntity db = new myEntity();\n\n    [HttpGet]\n    [Route(\"{id:int}\")]\n    public IHttpActionResult GetById(int id)\n    {\n        // Get Customer by id\n        Customer customer = db.Customers.Where(x =&gt; x.Id == id).FirstOrDefault();\n\n        if (customer == null)\n        {\n            return NotFound();\n        } else\n        {\n            return Ok(customer);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>The console log displays:</p>\n\n<blockquote>\n  <p>The character encoding of the plain text document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the file needs to be declared in the transfer protocol or file needs to use a byte order mark as an encoding signature.</p>\n</blockquote>\n"}, {"tags": ["c#", "exchangewebservices"], "comments": [{"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 1, "creation_date": 1526375107, "post_id": 50262302, "comment_id": 87708177, "body": "Seems that EWS has no schema compatible to Appointment, that contains a property for linking back to the recurrence master. Sad, but looks true. You can look deeper with EWS Editor: <a href=\"https://archive.codeplex.com/?p=ewseditor\" rel=\"nofollow noreferrer\">archive.codeplex.com/?p=ewseditor</a>"}, {"owner": {"reputation": 1314, "user_id": 607213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/411cb652c4f5cc8c7cde234095297f04?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/607213/matt"}, "edited": false, "score": 0, "creation_date": 1526575399, "post_id": 50262302, "comment_id": 87808982, "body": "I believe you can use FindAppointments(). This will allow you to sepcify a date range for a Calendar View. Once the appointments comeback the AppointmentType for recurring master will be RecurringMaster  <a href=\"https://msdn.microsoft.com/en-us/library/office/dn495614(v=exchg.150).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/office/&hellip;</a>  This StackOverflow shows how to use the FindAppointments as well: <a href=\"https://stackoverflow.com/questions/22464784/how-to-get-the-recurring-master-of-all-recurring-series-that-have-one-or-more-oc\" title=\"how to get the recurring master of all recurring series that have one or more oc\">stackoverflow.com/questions/22464784/&hellip;</a>"}, {"owner": {"reputation": 1314, "user_id": 607213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/411cb652c4f5cc8c7cde234095297f04?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/607213/matt"}, "edited": false, "score": 1, "creation_date": 1526575925, "post_id": 50262302, "comment_id": 87809260, "body": "Ok forget my previous comment. I was able to do a bit more research and according to Microsoft Documentation: &quot;Note that recurring master calendar items aren&#39;t returned in a call to FindAppointments. If you want to retrieve recurring masters, or you want a more general approach to retrieving calendar items, you need to use ExchangeService.FindItems. &quot; <a href=\"https://msdn.microsoft.com/en-us/library/office/dn643672(v=exchg.150).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/office/&hellip;</a>"}, {"owner": {"reputation": 25313, "user_id": 238849, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d6528a615c3cd4657d536fde14136f2?s=128&d=identicon&r=PG", "display_name": "synic", "link": "https://stackoverflow.com/users/238849/synic"}, "reply_to_user": {"reputation": 1314, "user_id": 607213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/411cb652c4f5cc8c7cde234095297f04?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/607213/matt"}, "edited": false, "score": 0, "creation_date": 1532724307, "post_id": 50262302, "comment_id": 90097502, "body": "@Matt what a bummer.  If you wanna put that in an answer I will accept it"}], "answers": [{"tags": [], "owner": {"reputation": 1314, "user_id": 607213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/411cb652c4f5cc8c7cde234095297f04?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/607213/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1532726762, "creation_date": 1532726762, "answer_id": 51565776, "question_id": 50262302, "link": "https://stackoverflow.com/questions/50262302/ews-bindtorecurringmaster-is-slow-just-need-the-recurring-master-id/51565776#51565776", "title": "EWS: BindToRecurringMaster is slow, just need the recurring master Id", "body": "<p>I was able to do a bit more research and according to Microsoft Documentation:\n\"Note that recurring master calendar items aren't returned in a call to FindAppointments. If you want to retrieve recurring masters, or you want a more general approach to retrieving calendar items, you need to use ExchangeService.FindItems. </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/office/dn643672(v=exchg.150).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/office/dn643672(v=exchg.150).aspx</a></p>\n"}], "owner": {"reputation": 25313, "user_id": 238849, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d6528a615c3cd4657d536fde14136f2?s=128&d=identicon&r=PG", "display_name": "synic", "link": "https://stackoverflow.com/users/238849/synic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 1, "accepted_answer_id": 51565776, "answer_count": 1, "score": 6, "last_activity_date": 1532726762, "creation_date": 1525901153, "question_id": 50262302, "link": "https://stackoverflow.com/questions/50262302/ews-bindtorecurringmaster-is-slow-just-need-the-recurring-master-id", "title": "EWS: BindToRecurringMaster is slow, just need the recurring master Id", "body": "<p>We are trying to list appointments for a given period for a given calendar.</p>\n\n<p>For each of those appointments, if the appointment is recurring, we want to know the <code>Id</code> of the master appointment.</p>\n\n<p>The issue is that the following code:</p>\n\n<pre><code>ItemId masterId = Appointment.BindToRecurringMaster(\n    Service, appointment.Id, new PropertySet(BasePropertySet.IdOnly));\n</code></pre>\n\n<p>Is extremely slow, because it makes an EWS call for every recurring appointment.</p>\n\n<p>Is there a faster way to get <strong>JUST</strong> the <code>Id</code> of the recurring master appointment?</p>\n"}, {"tags": ["c#", "entity-framework-6", "many-to-many"], "comments": [{"owner": {"reputation": 18407, "user_id": 797882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKWuK.jpg?s=128&g=1", "display_name": "CodeNotFound", "link": "https://stackoverflow.com/users/797882/codenotfound"}, "edited": false, "score": 0, "creation_date": 1525901237, "post_id": 50262175, "comment_id": 87542720, "body": "Hum... Weird. Columns get always loaded when you&#39;re not doing projection to a DTO/ViewModel. Take a look at your Tag table and show us the content. I think the column is empty there."}, {"owner": {"reputation": 87, "user_id": 8696639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50c3249c88d771f72d94a5a6881770e?s=128&d=identicon&r=PG&f=1", "display_name": "Tauha", "link": "https://stackoverflow.com/users/8696639/tauha"}, "reply_to_user": {"reputation": 18407, "user_id": 797882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKWuK.jpg?s=128&g=1", "display_name": "CodeNotFound", "link": "https://stackoverflow.com/users/797882/codenotfound"}, "edited": false, "score": 0, "creation_date": 1525901762, "post_id": 50262175, "comment_id": 87542886, "body": "Ahh, how goof I&#39;m, I did not check the table, my insert action added new tags with empty names, as i was not expecting that but did not check, thanks"}], "owner": {"reputation": 87, "user_id": 8696639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50c3249c88d771f72d94a5a6881770e?s=128&d=identicon&r=PG&f=1", "display_name": "Tauha", "link": "https://stackoverflow.com/users/8696639/tauha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525900543, "creation_date": 1525900543, "question_id": 50262175, "link": "https://stackoverflow.com/questions/50262175/ef6-reading-many-to-many-relation", "title": "EF6 reading many to many relation", "body": "<p>There are many questions on almost this scenario but i was not able to solve my problem with that help. My models looks like this</p>\n\n<pre><code>public class Tag\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public ICollection&lt;Post&gt; Posts { get; set; }\n}\npublic class Post\n{\n    public int Id { get; set; }\n    public ICollection&lt;Tag&gt; Tags { get; set; }\n}\n</code></pre>\n\n<p>I configured entities in dbcontext as below</p>\n\n<pre><code>    modelBuilder.Entity&lt;Post&gt;()\n    .HasMany&lt;Tag&gt;(t =&gt; t.Tags)\n    .WithMany(m =&gt; m.Posts)\n    .Map(mp =&gt;\n    {\n        mp.ToTable(\"PostToTag\");\n        mp.MapLeftKey(\"PostId\");\n        mp.MapRightKey(\"TagId\");\n    });\n</code></pre>\n\n<p>When i run following query, I can read postid and even i can read related TagId but Name property of Tag is always empty, it never gets loaded with tag name</p>\n\n<pre><code>    var posts = db.Posts\n    .Include(t =&gt; t.Tags)\n    .ToList();\n</code></pre>\n\n<p>I simplified code here both entities have HashSet in constructor and also tried lazy loading on/off but no success.</p>\n"}, {"tags": ["c#", "geometry", "line", "point"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525900579, "post_id": 50262134, "comment_id": 87542447, "body": "You want to see if the line is sloped up or down?"}, {"owner": {"reputation": 2430, "user_id": 2672788, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8576b3bac57de25584bcdf802fb4fd23?s=128&d=identicon&r=PG", "display_name": "Babak.Abad", "link": "https://stackoverflow.com/users/2672788/babak-abad"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525900887, "post_id": 50262134, "comment_id": 87542575, "body": "@Amy Please read my question again. I want to determine position of a point according to a line."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525901039, "post_id": 50262134, "comment_id": 87542633, "body": "I&#39;m asking questions to clarify the question <i>because it isn&#39;t clear what you&#39;re trying to do</i>.  &quot;position of a point according to a line&quot; doesn&#39;t mean much."}, {"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 0, "creation_date": 1525901494, "post_id": 50262134, "comment_id": 87542806, "body": "First, what defines &quot;Up&quot; or &quot;Down&quot;?  If the line is horizontal this is pretty easy, just compare the Y coordinates to see if the p.Y &gt; l.Y.  What about a vertical line?  What is &quot;Up&quot; or &quot;Down&quot;?  Is this a line segment with endpoints (x1, y1) and (x2, y2) or a line that passes through those two points?  And again, what defines &quot;Up&quot; and &quot;Down&quot; in these two cases?"}, {"owner": {"reputation": 2430, "user_id": 2672788, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8576b3bac57de25584bcdf802fb4fd23?s=128&d=identicon&r=PG", "display_name": "Babak.Abad", "link": "https://stackoverflow.com/users/2672788/babak-abad"}, "edited": false, "score": 0, "creation_date": 1525902050, "post_id": 50262134, "comment_id": 87542984, "body": "Question is updated with a picture"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 2, "creation_date": 1525904041, "post_id": 50262134, "comment_id": 87543649, "body": "If you&#39;re trying to implement what&#39;s in those links, then <code>(y1 - y2)</code> in your formula should be <code>(y2 - y1)</code>."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525904045, "post_id": 50262134, "comment_id": 87543652, "body": "Your code deosn&#39;t really match the code from link1, does it? Shouldn&#39;t it be <code>Math.Sign((x2-x1)*(y-y1)-(y2-y1)*(x-x1))</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "is_accepted": false, "score": 1, "last_activity_date": 1525909367, "creation_date": 1525909367, "answer_id": 50263520, "question_id": 50262134, "link": "https://stackoverflow.com/questions/50262134/how-to-determine-point-is-up-or-down-of-a-line-in-c/50263520#50263520", "title": "how to determine point is up or down of a line in C#", "body": "<p>Your formula is almost (you swapped y1, y2) correct. What matters is not the result of this formula, but the sign of the result.\n<p>The accuracy on the result depends on the type the data, prefer <code>double</code>.</p>\n\n<p><p>This</p>\n\n<pre><code>double d = (x - x1) * (y2 - y1) - (y - y1) * (x2 - x1);\n</code></pre>\n\n<p>should be enough... but numerical issues may yield a wrong result.\n<p>More about floating-point at <a href=\"http://www.itu.dk/~sestoft/bachelor/IEEE754_article.pdf\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></p>\n"}, {"tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1525926888, "creation_date": 1525926888, "answer_id": 50265539, "question_id": 50262134, "link": "https://stackoverflow.com/questions/50262134/how-to-determine-point-is-up-or-down-of-a-line-in-c/50265539#50265539", "title": "how to determine point is up or down of a line in C#", "body": "<p>Cross-product approach does not tell us  - whether point is up or down, it just determines orientation of triplet <code>P1-P2-P</code>. To get needed information, you must also be sure in line direction. The simplest way - negate result sign when <code>X2 &lt; X1</code> (note that vertical line case <code>X1=X2</code> is special or illegal for you).</p>\n\n<p>Also note that line point differences should be consistent</p>\n\n<pre><code>var d = (x - x1) * (y2 - y1) - (y - y1) * (x2 - x1);\nif (x2 &lt; x1)\n        d = -d;\n</code></pre>\n"}], "owner": {"reputation": 2430, "user_id": 2672788, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8576b3bac57de25584bcdf802fb4fd23?s=128&d=identicon&r=PG", "display_name": "Babak.Abad", "link": "https://stackoverflow.com/users/2672788/babak-abad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525926888, "creation_date": 1525900336, "last_edit_date": 1525901670, "question_id": 50262134, "link": "https://stackoverflow.com/questions/50262134/how-to-determine-point-is-up-or-down-of-a-line-in-c", "title": "how to determine point is up or down of a line in C#", "body": "<p>I want to determine position of Point for a giving line in c#. I read  <a href=\"https://stackoverflow.com/questions/1560492/how-to-tell-whether-a-point-is-to-the-right-or-left-side-of-a-line\">this link</a> and <a href=\"https://math.stackexchange.com/questions/274712/calculate-on-which-side-of-a-straight-line-is-a-given-point-located\">this link</a>. I test them but it seems that my code is wrong. For some points close (not very close) to line it return wrong values. Here is my code:</p>\n\n<pre><code>    public static PointToLineSituation WhereIsPoint(Line l, Point p)\n    {\n        var x = p.X;\n        var y = p.Y;\n        var x1 = l.X1;\n        var x2 = l.X2;\n        var y1 = l.Y1;\n        var y2 = l.Y2;\n\n        var d = (x - x1) * (y1 - y2) - (y - y1) * (x2 - x1);\n\n        if (d &gt; 0)\n            return PointToLineSituation.Up;\n\n        if (d &lt; 0)\n            return PointToLineSituation.Down;\n\n        return PointToLineSituation.OnLine;\n    }\n</code></pre>\n\n<p>I want to use in graphical coordination. Is it my problem? Any help will be appreciated.</p>\n\n<p>Here is an example of coordination system, an up point, and a down point as depicted below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mbqNk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mbqNk.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core", "dbcontext", "composite-key"], "answers": [{"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 3, "last_activity_date": 1526066211, "creation_date": 1526066211, "answer_id": 50298898, "question_id": 50261996, "link": "https://stackoverflow.com/questions/50261996/entity-framework-core-read-update-multiple-rows-composite-primary-key/50298898#50298898", "title": "Entity Framework Core Read &amp; Update Multiple rows - Composite Primary Key", "body": "<blockquote>\n  <p>Now I want to do two things:</p>\n  \n  <p>First make one database call and get the full object (ID, Code, Value) for the entire list of Branch.</p>\n  \n  <p>After that, I will change the 'Value' for each object.</p>\n  \n  <p>Then I want to make one database call and save the updated 'Value' for each row.</p>\n</blockquote>\n\n<p>The second part is easy - just move <code>SaveChanges()</code> call outside of the loop.</p>\n\n<p>The first part is tricky. At the time of writing (EF Core 2.0.2), <code>Contains</code> can be used only with single property, and joins to in memory collections, <code>Concat</code> based queries, or filters like</p>\n\n<pre><code>.Where(e =&gt; listOfBranch.Any(b =&gt; b.ID == e.ID &amp;&amp; b.Code == e.Code))\n</code></pre>\n\n<p>all these are not translated to SQL and are evaluated locally.</p>\n\n<p>The only way to get the desired result with a single database query is to build dynamically a filter criteria like this:</p>\n\n<pre><code>.Where(e =&gt;\n    (e.ID == listOfBranch[0].ID &amp;&amp; e.Code == listOfBranch[0].Code)\n    ||\n    (e.ID == listOfBranch[1].ID &amp;&amp; e.Code == listOfBranch[1].Code)\n    // ...\n    ||\n    (e.ID == listOfBranch[N-1].ID &amp;&amp; e.Code == listOfBranch[N-1].Code)\n)\n</code></pre>\n\n<p>You can build the above predicate using <code>Expression</code> class methods as follows (just replace <code>Record</code> with the type of entity):</p>\n\n<pre><code>var parameter = Expression.Parameter(typeof(Record));\n\nvar body = listOfBranch\n    .Select(b =&gt; Expression.AndAlso(\n        Expression.Equal(Expression.Property(parameter, \"ID\"), Expression.Constant(b.ID)),\n        Expression.Equal(Expression.Property(parameter, \"Code\"), Expression.Constant(b.Code))))\n    .Aggregate(Expression.OrElse);\n\nvar predicate = Expression.Lambda&lt;Func&lt;Record, bool&gt;&gt;(body, parameter);\n</code></pre>\n\n<p>and the usage:</p>\n\n<pre><code>foreach (var record in context.Table.Where(predicate))\n{\n    record.Value = \"new value\";\n}\ncontext.SaveChanges();\n</code></pre>\n"}], "owner": {"reputation": 2128, "user_id": 604990, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/c2GUE.jpg?s=128&g=1", "display_name": "Varun Sharma", "link": "https://stackoverflow.com/users/604990/varun-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1500, "favorite_count": 0, "accepted_answer_id": 50298898, "answer_count": 1, "score": 1, "last_activity_date": 1526066231, "creation_date": 1525899735, "last_edit_date": 1526066231, "question_id": 50261996, "link": "https://stackoverflow.com/questions/50261996/entity-framework-core-read-update-multiple-rows-composite-primary-key", "title": "Entity Framework Core Read &amp; Update Multiple rows - Composite Primary Key", "body": "<p>I have a table structure like this:</p>\n\n<pre><code>ID Code  Value\n1  2     text1\n2  3     text3\n2  4     text4\n</code></pre>\n\n<p>Here ID and Code form the composite primary key i.e. in the above table you cannot have another row with ID = 2 and Code = 4.</p>\n\n<p>Now we are using entity framework core and I have a class called Branch (representing the composite key) and that looks like this:</p>\n\n<pre><code>public class Branch\n{\n public int ID {get; set;}\n public int Code {get; set;}\n}\n</code></pre>\n\n<p>Secondly I have a <code>List&lt;Branch&gt;</code> as well. Now I want to do two things:</p>\n\n<p>First make one database call and get the full object (ID, Code, Value) for the entire list of Branch.</p>\n\n<p>After that, I will change the 'Value' for each object.</p>\n\n<p>Then I want to make one database call and save the updated 'Value' for each row.</p>\n\n<p>Currently I am doing this in a loop so it's inefficient.</p>\n\n<pre><code>foreach(var x in listOfBranch)\n{\n  var record = context.Table.Find(x.ID, x.Code);\n  record.Value = \"new value\";\n  context.SaveChanges();\n}\n</code></pre>\n\n<p>How can we do this in one call? Thanks.</p>\n"}, {"tags": ["c#", "entity-framework", "azure"], "comments": [{"owner": {"reputation": 591, "user_id": 6794089, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2UA0QeU060A/AAAAAAAAAAI/AAAAAAAAAFg/SXa_v4OibwI/photo.jpg?sz=128", "display_name": "bman7716", "link": "https://stackoverflow.com/users/6794089/bman7716"}, "edited": false, "score": 0, "creation_date": 1525900739, "post_id": 50261932, "comment_id": 87542522, "body": "Is there a reason why the REST service can&#39;t be hosted on premises? Not arguing your stance on Azure, but sounds like your options a severely limited on what you can do here."}, {"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "reply_to_user": {"reputation": 591, "user_id": 6794089, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2UA0QeU060A/AAAAAAAAAAI/AAAAAAAAAFg/SXa_v4OibwI/photo.jpg?sz=128", "display_name": "bman7716", "link": "https://stackoverflow.com/users/6794089/bman7716"}, "edited": false, "score": 0, "creation_date": 1525900961, "post_id": 50261932, "comment_id": 87542602, "body": "The website that uses the services will also be hosted in Azure, and there can be no access points opened up to allow calls from the site to REST services within the firewall, we don&#39;t want every call going through the service bus"}, {"owner": {"reputation": 591, "user_id": 6794089, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2UA0QeU060A/AAAAAAAAAAI/AAAAAAAAAFg/SXa_v4OibwI/photo.jpg?sz=128", "display_name": "bman7716", "link": "https://stackoverflow.com/users/6794089/bman7716"}, "edited": false, "score": 0, "creation_date": 1525902007, "post_id": 50261932, "comment_id": 87542968, "body": "Set the REST service in a DMZ that is segregated from the database network, then only open the ports needed for the REST service to communicate to the database (a fairly standard practice). In the end, if the rule is &quot;No inbound data calls from external sources&quot; then you are going to have a really hard time getting this to work from Azure."}, {"owner": {"reputation": 10750, "user_id": 2061133, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/pgg8z.png?s=128&g=1", "display_name": "Murray Foxcroft", "link": "https://stackoverflow.com/users/2061133/murray-foxcroft"}, "edited": false, "score": 0, "creation_date": 1525902083, "post_id": 50261932, "comment_id": 87542999, "body": "I believe the right &#39;pattern&#39; to user for this would be a relay service - <a href=\"https://docs.microsoft.com/en-us/azure/service-bus-relay/relay-what-is-it\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/service-bus-relay/&hellip;</a>"}, {"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525902228, "post_id": 50261932, "comment_id": 87543048, "body": "Ya I&#39;m familiar with using a relay, but we don&#39;t want every query going through the relay, so I&#39;m trying to figure out how to ONLY have the DB connection go through the relay then have the entity stored in memory to query against"}, {"owner": {"reputation": 591, "user_id": 6794089, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2UA0QeU060A/AAAAAAAAAAI/AAAAAAAAAFg/SXa_v4OibwI/photo.jpg?sz=128", "display_name": "bman7716", "link": "https://stackoverflow.com/users/6794089/bman7716"}, "edited": false, "score": 0, "creation_date": 1525904294, "post_id": 50261932, "comment_id": 87543752, "body": "We use Azure Relay today in our development environment... the performance hit is considerable when compared to the on prem instances of our APIs that we have. We are moving to <a href=\"https://azure.microsoft.com/en-us/services/expressroute/\" rel=\"nofollow noreferrer\">Express Routes</a>, but is coming at a cost..."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525901871, "post_id": 50262376, "comment_id": 87542926, "body": "It&#39;s not that the DB can&#39;t perform, it&#39;s that security won&#39;t allow remote connections to it, or allow it to be hosted in Azure, thus tying my hands"}, {"owner": {"reputation": 2931, "user_id": 3242103, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zmsJQ.jpg?s=128&g=1", "display_name": "snow_FFFFFF", "link": "https://stackoverflow.com/users/3242103/snow-ffffff"}, "reply_to_user": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525902120, "post_id": 50262376, "comment_id": 87543010, "body": "You said &quot;I don&#39;t want every query going through the service bus relay&quot;.  Why not?  I assumed performance, but is it something else?"}, {"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525902302, "post_id": 50262376, "comment_id": 87543069, "body": "Performance is the main reason, but also it would be a ton of overhead for the project that we don&#39;t really have the time or resources to accomplish."}, {"owner": {"reputation": 2931, "user_id": 3242103, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zmsJQ.jpg?s=128&g=1", "display_name": "snow_FFFFFF", "link": "https://stackoverflow.com/users/3242103/snow-ffffff"}, "reply_to_user": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525902522, "post_id": 50262376, "comment_id": 87543139, "body": "When you say &quot;service bus relay&quot;, you mean a hybrid connection, right?  (<a href=\"https://docs.microsoft.com/en-us/azure/app-service/app-service-hybrid-connections\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/app-service/&hellip;</a>) - these are extremely easy to setup and use.  Any custom management of in-memory caching would be far more complex and error prone."}, {"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525902852, "post_id": 50262376, "comment_id": 87543254, "body": "Yes that&#39;s correct, a hybrid connection for the db connection is what I&#39;m trying to accomplish"}], "tags": [], "owner": {"reputation": 2931, "user_id": 3242103, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zmsJQ.jpg?s=128&g=1", "display_name": "snow_FFFFFF", "link": "https://stackoverflow.com/users/3242103/snow-ffffff"}, "is_accepted": false, "score": 0, "last_activity_date": 1525902613, "last_edit_date": 1525902613, "creation_date": 1525901490, "answer_id": 50262376, "question_id": 50261932, "link": "https://stackoverflow.com/questions/50261932/entity-framework-rest-services-in-azure-get-entity-remotely/50262376#50262376", "title": "Entity Framework REST Services in Azure - Get Entity Remotely", "body": "<p>Just caching your data in memory will limit your ability to scale-out (one benefit of running it in Azure is that can be done easily).  To do what you want and not prevent scale-out, you might look at using a distributed caching layer.  This may help you understand this:</p>\n\n<p><a href=\"http://blogs.alachisoft.com/ncache/using-distributed-cache-in-entity-framework-applications/\" rel=\"nofollow noreferrer\">http://blogs.alachisoft.com/ncache/using-distributed-cache-in-entity-framework-applications/</a></p>\n\n<p>However, if you do this, you have added a lot of complexity to your application.  I would first ask if you actually have a problem with the on-prem database?  Have you tested and proved that it doesn't perform?  I wouldn't try to solve this problem until it is really a problem.</p>\n\n<p>App Service Hybrid Connections (that use service bus relays) are easy to setup and use and offer secure connections to on-prem data:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/app-service/app-service-hybrid-connections\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/app-service/app-service-hybrid-connections</a></p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525958641, "post_id": 50262710, "comment_id": 87564645, "body": "1. Yes, it&#39;s only about 80 000 records 2. No I don&#39;t think we will need to scale it out 3. Not often, maybe twice a year the records would be refreshed. Never updated by the REST APIs  This does sound like something that could work and meets my requirements. Any idea how I go about that? An example would be awesome. Thanks."}, {"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525972602, "post_id": 50262710, "comment_id": 87573049, "body": "Awesome, I will give this a shot, I think it should work. Thank you very much!"}], "tags": [], "owner": {"reputation": 2931, "user_id": 3242103, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zmsJQ.jpg?s=128&g=1", "display_name": "snow_FFFFFF", "link": "https://stackoverflow.com/users/3242103/snow-ffffff"}, "is_accepted": true, "score": 2, "last_activity_date": 1525965326, "last_edit_date": 1525965326, "creation_date": 1525903513, "answer_id": 50262710, "question_id": 50261932, "link": "https://stackoverflow.com/questions/50261932/entity-framework-rest-services-in-azure-get-entity-remotely/50262710#50262710", "title": "Entity Framework REST Services in Azure - Get Entity Remotely", "body": "<p>I'm going to post another answer since you seem dead set on not allowing all queries across the hybrid connection.  However, the feasibility of this really depends on the amount of data and how often it changes.</p>\n\n<p>You could easily cache entities into memory at start-up.  So, when your application starts, it would hit the db and populate these collections.  Then, your actual api controllers would query these collections, not the database. \n This is a pretty standard approach for small, mostly static data, but certainly not large amounts of data that changes often.</p>\n\n<p>Potential Issues:</p>\n\n<ol>\n<li>Can you reasonably put all of this data into memory?</li>\n<li>Will you ever need to scale-out the api?  If so, now you need multiple copies of the data in memory, in multiple places.</li>\n<li>How often does the data change?  If there is any change, you'll need to invalidate the in-memory data and reload from the database.</li>\n</ol>\n\n<p>Another way to slice it would be to not load it on startup, but keep track of which entities have been loaded so the first request can trigger the load.</p>\n\n<p>However, much like I said in my first answer, I would really try to prove that the hybrid connection is a problem before doing anything like this.  But, this is a way to accomplish what you seem to want to do.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>Based on your comment, here is the general idea:  Somewhere in your startup code, you would call a method to populate your entity collections.  These could just be generic lists contained in a class, something like this:</p>\n\n<pre><code>// in your startup code\nEntityRepository.SaturateEntities();\n\n...\n\n// here is the entity repo\npublic class EntityRepository\n{\n    public static List&lt;SomeEntity&gt; SomeEntities { get; private set; }\n    public static List&lt;SomeOtherEntity&gt; SomeOtherEntities { get; private set; }\n\n    public static void SaturateEntities()\n    {\n        // _db is assumed to be your entity framework context\n        // ToList() will actually execute the query and return the results\n        SomeEntities = _db.SomeEntities.ToList();\n        SomeOtherEntities = _db.SomeOtherEntities.ToList();\n    }\n}\n</code></pre>\n\n<p>Now, in your API controllers, you would query the lists in the EntityRepository instead of querying the data context.  There are lots of different ways you could do this, but hopefully this gives you the general idea.  Also, instead of loading all on startup, you could wait until the first request.  So, the repo would just keep track of which lists where already initialized and only load them up once they are needed.</p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525961524, "post_id": 50264727, "comment_id": 87566430, "body": "&quot;However, if this is more of a software architecture question, then you are certainly limited to caching the data in Azure and periodically refreshing the cache/storage to limit the round trips between Azure and On-Prem.&quot; Yes, that&#39;s what I want to do. Any idea how lol?"}, {"owner": {"reputation": 341, "user_id": 2441909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f79d72e7ff2f415b223d874b1c83d?s=128&d=identicon&r=PG", "display_name": "DataNerd", "link": "https://stackoverflow.com/users/2441909/datanerd"}, "reply_to_user": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "edited": false, "score": 0, "creation_date": 1525996309, "post_id": 50264727, "comment_id": 87582516, "body": "My question is why? Are you migrating from on prem to azure?"}], "tags": [], "owner": {"reputation": 341, "user_id": 2441909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f79d72e7ff2f415b223d874b1c83d?s=128&d=identicon&r=PG", "display_name": "DataNerd", "link": "https://stackoverflow.com/users/2441909/datanerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1525920400, "creation_date": 1525920400, "answer_id": 50264727, "question_id": 50261932, "link": "https://stackoverflow.com/questions/50261932/entity-framework-rest-services-in-azure-get-entity-remotely/50264727#50264727", "title": "Entity Framework REST Services in Azure - Get Entity Remotely", "body": "<p>There are several ways to secure and open connectivity between On-Prem and Azure. The simple approach us using a VPN tunnel so that it secures the traffic. Other ways involve Express Routes which are not cheap. <a href=\"https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/hybrid-networking/\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/hybrid-networking/</a></p>\n\n<p>However, if this is more of a software architecture question, then you are certainly limited to caching the data in Azure and periodically refreshing the cache/storage to limit the round trips between Azure and On-Prem.</p>\n"}], "owner": {"reputation": 169, "user_id": 5270135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4df4dc0d7fbfdbc9110c9bc25d3aece?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cart", "link": "https://stackoverflow.com/users/5270135/j-cart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 50262710, "answer_count": 3, "score": 0, "last_activity_date": 1525965326, "creation_date": 1525899428, "question_id": 50261932, "link": "https://stackoverflow.com/questions/50261932/entity-framework-rest-services-in-azure-get-entity-remotely", "title": "Entity Framework REST Services in Azure - Get Entity Remotely", "body": "<p>I have some entity framework REST services in c# that get data from a SQL server. These services will be hosted on Azure.</p>\n\n<p>The db can't be opened for remote connections, I don't want every query going through the service bus relay, and I can't host the DB in Azure.</p>\n\n<p>Is there a way to only have the connection to the DB go through the service bus so that entity is then loaded into memory on Azure then the queries can go against that?</p>\n\n<p>I'm trying something along the lines of:</p>\n\n<pre><code>public class ATPublicRestContext : DbContext\n{\n    public ATPublicRestContext() : base(\"name=WEBEntities\")\n    {\n        //do something here to call the dbcontext through a service bus? \n        //Is that even possible\n\n        //or somehow get base(\"name-WEBEntities\") to call the service bus \n        //binding instead of the connection string to the DB?\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "tuples", "c#-7.0", "c#-7.2"], "answers": [{"tags": [], "owner": {"reputation": 2940, "user_id": 3800096, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dffaee3296e432469a794c508c297abc?s=128&d=identicon&r=PG&f=1", "display_name": "AustinWBryan", "link": "https://stackoverflow.com/users/3800096/austinwbryan"}, "is_accepted": false, "score": 7, "last_activity_date": 1525899408, "creation_date": 1525899408, "answer_id": 50261927, "question_id": 50261926, "link": "https://stackoverflow.com/questions/50261926/how-to-return-multiple-values-from-a-single-ternary-operator/50261927#50261927", "title": "How to return multiple values from a single ternary operator?", "body": "<p>Using C# 7 value tuples, you can do something like this: </p>\n\n<pre><code>var (x, y, z) = GetBoolValue() ? (0, \"foo\", 0.4f) : (1, \"bar\", 0.5f);\n</code></pre>\n\n<p>The <code>var</code> can be removed if they've already been declared and this will still work fine. </p>\n"}], "owner": {"reputation": 2940, "user_id": 3800096, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dffaee3296e432469a794c508c297abc?s=128&d=identicon&r=PG&f=1", "display_name": "AustinWBryan", "link": "https://stackoverflow.com/users/3800096/austinwbryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529947927, "creation_date": 1525899408, "last_edit_date": 1529947927, "question_id": 50261926, "link": "https://stackoverflow.com/questions/50261926/how-to-return-multiple-values-from-a-single-ternary-operator", "title": "How to return multiple values from a single ternary operator?", "body": "<p>Let's say I have the following code: </p>\n\n<pre><code>int x    = GetBoolValue() ? 0 : 1;\nstring y = GetBoolValue() ? \"foo\" : \"bar\";\nfloat z  = GetBoolValue() ? 0.4f : 0.5f;\n</code></pre>\n\n<p>Is there anyway to condense these three statements into one, to make the code simpler to read?</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "edited": false, "score": 1, "creation_date": 1525899668, "post_id": 50261920, "comment_id": 87542073, "body": "How do you detect the user left? You would need some sort of cancellation token sent to asp.net to handle"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1525900332, "post_id": 50261920, "comment_id": 87542351, "body": "If you can&#39;t fix the performance of the reports, consider a queue or similar system.  If you really need to detect disconnections you could consider a signalr type scenario where you check if the user is still alive before executing the long-running report task from the queue."}, {"owner": {"reputation": 1322, "user_id": 1736218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0ba60f00db1bd87179165739c1f9210b?s=128&d=identicon&r=PG", "display_name": "b15", "link": "https://stackoverflow.com/users/1736218/b15"}, "reply_to_user": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "edited": false, "score": 0, "creation_date": 1525901824, "post_id": 50261920, "comment_id": 87542908, "body": "@JoePhillips I don&#39;t know.  I&#39;m new to front end work so I consider that part of this question."}], "answers": [{"tags": [], "owner": {"reputation": 1322, "user_id": 1736218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0ba60f00db1bd87179165739c1f9210b?s=128&d=identicon&r=PG", "display_name": "b15", "link": "https://stackoverflow.com/users/1736218/b15"}, "is_accepted": true, "score": 0, "last_activity_date": 1526665583, "last_edit_date": 1526665583, "creation_date": 1526665077, "answer_id": 50416651, "question_id": 50261920, "link": "https://stackoverflow.com/questions/50261920/preventing-orphaned-sql-queries-from-website/50416651#50416651", "title": "Preventing orphaned sql queries from website", "body": "<p>I ended up using Async Actions with cancellation tokens.</p>\n\n<hr>\n\n<p><strong>MVC action method itself:</strong></p>\n\n<pre><code>[AsyncTimeout(600000)] // Necessary to avoid the too-short 45 second default timeout \n                       // (which also results in successful cancellation of the sql command \n                       // by the way in case that's something you want)\n[Route(\"my-report\")]\npublic async Task&lt;string&gt; MyReport(CancellationToken cancellationToken) \n{\n    // These two lines are a workaround - necessary for page refreshes to trigger cancellation in MVC 5\n    CancellationToken disconnectedToken = Response.ClientDisconnectedToken;\n    var token = CancellationTokenSource.CreateLinkedTokenSource(cancellationToken, disconnectedToken).Token;\n\n    // get the data\n    var response = await dbService.ExecDataSetProcAsync(\"stored_proc_name\", cancellation token, storedProcedureArguments);\n\n    // returning the page with whatever data\n    return response;\n}\n</code></pre>\n\n<p><strong>Stored procedure execution and cancellation logic:</strong>\n(I'm excluding the logic for building the SQLCommand in CreateCommand() to keep this example concise)</p>\n\n<pre><code>public async Task&lt;DataSet&gt; ExecDataSetProcAsync(string qry, CancellationToken cancellationToken, params object[] args)\n        {\n            using (SqlCommand cmd = CreateCommand(qry, CommandType.StoredProcedure, args))\n            {\n                DataSet ds = new DataSet();\n\n                await Task.Run(() =&gt;\n                {\n                    SqlDataAdapter adapt = new SqlDataAdapter(cmd);\n                    cancellationToken.Register(() =&gt; cmd.Cancel());\n\n                    try\n                    {\n                        adapt.Fill(ds);\n                    }\n                    catch (SqlException e)\n                    {\n                        // Canceling the sqlCommand causes an exception.  This is a workaround \n                        // to catch it, in case you don't want to be throwing the exception.\n                        if (!cancellationToken.IsCancellationRequested)\n                        {\n                            throw e;\n                        }\n                    }\n                });\n\n                return ds;\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 1322, "user_id": 1736218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0ba60f00db1bd87179165739c1f9210b?s=128&d=identicon&r=PG", "display_name": "b15", "link": "https://stackoverflow.com/users/1736218/b15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 50416651, "answer_count": 1, "score": 0, "last_activity_date": 1526665583, "creation_date": 1525899388, "last_edit_date": 1525899560, "question_id": 50261920, "link": "https://stackoverflow.com/questions/50261920/preventing-orphaned-sql-queries-from-website", "title": "Preventing orphaned sql queries from website", "body": "<p>We have a website that's having performance issues with stored procedure executions as the bottleneck.  One of the causes for this is that some of these stored procedures are kicked off on page load.</p>\n\n<p>So lets say DB load is high and a user gets frustrated with how long a report on the page is taking to load, and repeatedly refreshes the page, kicking off new executions of the same stored procedure.  </p>\n\n<p>Here's the code we're using to execute the stored procedure and manage the connection:</p>\n\n<pre><code>using (SqlCommand cmd = CreateCommand(qry, CommandType.StoredProcedure, args))\n            {\n                SqlDataAdapter adapt = new SqlDataAdapter(cmd);\n                DataSet ds = new DataSet();\n                adapt.Fill(ds);\n                return ds;\n            }\n</code></pre>\n\n<p>The old executions are still hitting the database even when the user leaves the page or refreshes it, spawning a new one.</p>\n\n<p><strong>Two possible solutions:</strong></p>\n\n<ul>\n<li>Somehow kill the execution of the stored procedure when the user who spawned it leaves the page that it would have been shown on.</li>\n<li>Go a step further and try to persist the same instance of the connection so that if the user hits the same page it will wait for the results from the previous stored procedure and then display those on the page.</li>\n</ul>\n\n<p>What are common practices as these things go, and how are they implemented?  How can I at least kill the stored procedure when a user leaves the page that called it?</p>\n"}, {"tags": ["c#", "generics", "reflection", "factory"], "comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1525899333, "post_id": 50261878, "comment_id": 87541928, "body": "What is the issue with the code in your example? Looks like it would work fine."}, {"owner": {"reputation": 17346, "user_id": 1693085, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89d96f4a92f0053e9f2c9a8b06c011a0?s=128&d=identicon&r=PG", "display_name": "John Bustos", "link": "https://stackoverflow.com/users/1693085/john-bustos"}, "reply_to_user": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1525899458, "post_id": 50261878, "comment_id": 87541976, "body": "Sorry, @JohnWu, I updated the question - The compiler throws the error <code>Using the generic type &#39;FileProcessor&lt;T&gt;&#39; requires 1 type arguments</code>"}, {"owner": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "edited": false, "score": 1, "creation_date": 1525899552, "post_id": 50261878, "comment_id": 87542019, "body": "The easiest fix is to simply introduce a new base-class into your hierarchy, so that <code>FileProcessor&lt;T&gt; : FileProcessor</code>. Note that in Visual Studio you can name the file that contains <code>FileProcessor&lt;T&gt;</code> as <code>FileProcessor{T}.cs</code>. An interface <code>IFileProcessor</code> would be better though - abstract base classes are a little bit icky."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 1, "creation_date": 1525905396, "post_id": 50261878, "comment_id": 87544094, "body": "Another way to do it is to change <code>FileProcessor&lt;T&gt;</code> to <code>IFileProcessor&lt;out T&gt;</code>, then return a <code>IFileProcessor&lt;FileType&gt;</code>. A little more tricky though, as it involves covariance."}], "answers": [{"comments": [{"owner": {"reputation": 17346, "user_id": 1693085, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89d96f4a92f0053e9f2c9a8b06c011a0?s=128&d=identicon&r=PG", "display_name": "John Bustos", "link": "https://stackoverflow.com/users/1693085/john-bustos"}, "edited": false, "score": 0, "creation_date": 1525900118, "post_id": 50261959, "comment_id": 87542259, "body": "WOW - SO FREAKING SIMPLE!!! - I&#39;m not 100% sure why that fixes it and have to think about it more, but it did work!!! Thank you!!!"}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 2, "last_activity_date": 1525899562, "creation_date": 1525899562, "answer_id": 50261959, "question_id": 50261878, "link": "https://stackoverflow.com/questions/50261878/c-generic-factory-pattern-without-stating-the-type-of-generic/50261959#50261959", "title": "C# generic factory pattern without stating the type of generic", "body": "<p>You're very close. You just need one more concept in your object model, a common IFileProcessor.</p>\n\n<pre><code>interface FileType {}\n    class FileType1 : FileType {}\n    class FileType2 : FileType {}\n\ninterface IFileProcessor {}  //new\nabstract class FileProcessor&lt;T&gt; : IFileProcessor {}\n    class Processor_FileType1 : FileProcessor&lt;FileType1&gt; {} \n    class Processor_FileType2 : FileProcessor&lt;FileType2&gt; {} \n</code></pre>\n\n<p>And change your return type:</p>\n\n<pre><code>public IFileProcessor Create(string pathToFile)\n{\n    //implementation\n}\n</code></pre>\n"}], "owner": {"reputation": 17346, "user_id": 1693085, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89d96f4a92f0053e9f2c9a8b06c011a0?s=128&d=identicon&r=PG", "display_name": "John Bustos", "link": "https://stackoverflow.com/users/1693085/john-bustos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 1, "accepted_answer_id": 50261959, "answer_count": 1, "score": 0, "last_activity_date": 1525899562, "creation_date": 1525899198, "last_edit_date": 1525899342, "question_id": 50261878, "link": "https://stackoverflow.com/questions/50261878/c-generic-factory-pattern-without-stating-the-type-of-generic", "title": "C# generic factory pattern without stating the type of generic", "body": "<p>I am working on a C# project to parse files of different kinds. In order to do this, I have created the following kind of class structure:</p>\n\n<pre><code>interface FileType {}\n    class FileType1 : FileType {}\n    class FileType2 : FileType {}\n\nabstract class FileProcessor&lt;T&gt; {}\n    class Processor_FileType1 : FileProcessor&lt;FileType1&gt; {} \n    class Processor_FileType2 : FileProcessor&lt;FileType2&gt; {} \n</code></pre>\n\n<p>Now, I would like to create a factory pattern that simply takes the path to the file and <strong>based upon the contents of the file decides which of the 2 processors to instantiate</strong>.</p>\n\n<p>Ideally (and I know this code doesn't work), I'd want my code to look something as follows:</p>\n\n<pre><code>class ProcessorFactory\n{\n    public FileProcessor Create(string pathToFile)\n    {\n        using (var sr = pathToFile.OpenText())\n        {\n            var firstLine = sr.ReadLine().ToUpper();\n\n            if (firstLine.Contains(\"FIELD_A\"))\n                return new Processor_FileType1();\n\n            if (firstLine.Contains(\"FIELD_Y\"))\n                return new Processor_FileType2();\n        }\n    }\n}\n</code></pre>\n\n<p>The issue being the compiler error <code>Using the generic type 'FileProcessor&lt;T&gt;' requires 1 type arguments</code> \nso my program could do something like:</p>\n\n<pre><code>public DoWork()\n{\n    string pathToFile = \"C:/path to my file.txt\";\n    var processor = ProcessorFactory.Create(pathToFile);\n}\n</code></pre>\n\n<p>and the <code>processor</code> variable wold be either a <code>Processor_FileType1</code> or <code>Processor_FileType2</code>.</p>\n\n<p>I know I could do it by changing the <code>Create</code> to take a type argument, but I'm hoping I won't have to since then it kills the idea of figuring it out based upon the data in the file.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "asp.net", "httpresponse"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "edited": false, "score": 0, "creation_date": 1525900701, "post_id": 50262026, "comment_id": 87542508, "body": "id is returned in htttp response message i wonder how to get that id from response message"}, {"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "reply_to_user": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "edited": false, "score": 0, "creation_date": 1525902269, "post_id": 50262026, "comment_id": 87543062, "body": "@weje If you debug, what is in your &quot;response&quot; object after the request is processed?  It should be a json representation of your newMap object along with a Header, StatusCode,  RequestMessage, and a couple other attributes.  Is this the case?"}, {"owner": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "edited": false, "score": 0, "creation_date": 1526929802, "post_id": 50262026, "comment_id": 87923720, "body": "yes exactly this my case how can i get that id from response"}, {"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "reply_to_user": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "edited": false, "score": 0, "creation_date": 1526932690, "post_id": 50262026, "comment_id": 87925014, "body": "@weje the easiest way is to deserialize the JSON back into your object graph.  Then you can access all the attributes for the object, and you have an object to work with for things other than just pulling the id.  Parsing the JSON itself is tedious and loses all of the other benefits of just having your object available."}, {"owner": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "edited": false, "score": 0, "creation_date": 1527081151, "post_id": 50262026, "comment_id": 87991514, "body": "thank you very much for your help i got the solution @user7396598"}], "tags": [], "owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "is_accepted": false, "score": 0, "last_activity_date": 1525903253, "last_edit_date": 1525903253, "creation_date": 1525899878, "answer_id": 50262026, "question_id": 50261841, "link": "https://stackoverflow.com/questions/50261841/id-of-an-inserted-record/50262026#50262026", "title": "ID of an inserted record", "body": "<p>If using Entity Framework and have an Identity column set as primary key on table:</p>\n\n<p>Taken from this SO:  <a href=\"https://stackoverflow.com/questions/5212751/how-can-i-get-id-of-inserted-entity-in-entity-framework\">How can I get Id of inserted entity in Entity framework?</a></p>\n\n<blockquote>\n  <p>Entity framework by default follows each INSERT with SELECT SCOPE_IDENTITY() when auto-generated Ids are used.</p>\n</blockquote>\n\n<p>So after your .SaveChanges() call, check that your newMap object has the Id value populated on it.</p>\n\n<p>If not using Entity Framework there are two solutions here:  <a href=\"https://stackoverflow.com/questions/5228780/how-to-get-last-inserted-id\">How to get last inserted id?</a></p>\n\n<p>One is to use an OUT parameter, the other is the SCOPE_IDENTITY.  Both will require changes to the underlying sql generated for your SaveChanges() method.</p>\n\n<p>Your response.Content should just be a JSON representation of your newMap object.  Deserialize it back to a Map and you can access it as such.</p>\n\n<p>JSON deserialization should be as simple as:</p>\n\n<pre><code>var deserializedMap = \n    JsonConvert.DeserializeObject&lt;Map&gt;(response.Content);\n</code></pre>\n\n<p>You may also try:</p>\n\n<pre><code>var deserializedMap = JsonConvert.DeserializeObject&lt;Map&gt;(await response.Content.ReadAsJSonAsync());\n</code></pre>\n\n<p>Since your doing an async http request.</p>\n"}], "owner": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525903253, "creation_date": 1525899052, "last_edit_date": 1525899610, "question_id": 50261841, "link": "https://stackoverflow.com/questions/50261841/id-of-an-inserted-record", "title": "ID of an inserted record", "body": "<p>I am wondering how to get the id of inserted record returned in http response to POST method</p>\n\n<p><strong>Controller method:</strong></p>\n\n<pre><code>public HttpResponseMessage POST([FromBody]Map newmap)\n{\ntry\n  {\n   using (SHATDbEntities entities = new SHATDbEntities())\n    {\n     entities.Maps.Add(newmap);\n     entities.SaveChanges();\n     var message = Request.CreateResponse(HttpStatusCode.Created, newmap);\n     message.Headers.Location = new Uri(Request.RequestUri + newmap.Id.ToString());\n     return message;\n     }\n   }\n    catch (Exception ex)\n   {\n     return Request.CreateErrorResponse(HttpStatusCode.BadRequest, ex);\n   }\n   }\n</code></pre>\n\n<p><strong>Response Handled:</strong></p>\n\n<pre><code>HttpClient client = new HttpClient();\n            client.BaseAddress = new Uri(\"http://localhost:2351/\");\n            client.DefaultRequestHeaders.Accept.Clear();\n            client.DefaultRequestHeaders.Accept.Add(\n            new MediaTypeWithQualityHeaderValue(\"application/json\"));\n            HttpResponseMessage response = client.PostAsJsonAsync(RequestURI, newmap).Result;\nint mapid = int.Parse(responsestatusCode.Content.ReadAsStringAsync().Result)\n</code></pre>\n\n<p><strong>Explanation</strong>: </p>\n\n<p>I tried other solution which available on stack overflow but didn't get solution and above code but it through an exception i.e <a href=\"https://i.stack.imgur.com/VjMA3.jpg\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["c#", "raspberry-pi", "fingerprint", "windows-iot-core-10", "datawriter"], "comments": [{"owner": {"reputation": 66, "user_id": 3489204, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002288760036/picture?type=large", "display_name": "user3489204", "link": "https://stackoverflow.com/users/3489204/user3489204"}, "edited": false, "score": 0, "creation_date": 1525898878, "post_id": 50261767, "comment_id": 87541689, "body": "I tryed to send data using the WriteBytes method but it didn&#39;t work out either."}, {"owner": {"reputation": 8787, "user_id": 6601582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0a2f69702729da5aaa628bc58811a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rita Han", "link": "https://stackoverflow.com/users/6601582/rita-han"}, "edited": false, "score": 0, "creation_date": 1525941993, "post_id": 50261767, "comment_id": 87555427, "body": "What&#39;s your fingerprint reader interface, UART? You mean USB adapter as USB-to-Serial?"}, {"owner": {"reputation": 66, "user_id": 3489204, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002288760036/picture?type=large", "display_name": "user3489204", "link": "https://stackoverflow.com/users/3489204/user3489204"}, "reply_to_user": {"reputation": 8787, "user_id": 6601582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0a2f69702729da5aaa628bc58811a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rita Han", "link": "https://stackoverflow.com/users/6601582/rita-han"}, "edited": false, "score": 0, "creation_date": 1525986343, "post_id": 50261767, "comment_id": 87579546, "body": "So, when i was looking up to find the exact same UART to USB adapter, i found a documentation on how to set up the communication, so that might be the problem. In any case, i&#39;m using an Adafruit fringerprint sensor: <a href=\"https://www.adafruit.com/product/751\" rel=\"nofollow noreferrer\">adafruit.com/product/751</a> And a USB to UART bridge from silicon labs, CP210x i don&#39;t know right now the exact model. @RitaHan-MSFT"}, {"owner": {"reputation": 66, "user_id": 3489204, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002288760036/picture?type=large", "display_name": "user3489204", "link": "https://stackoverflow.com/users/3489204/user3489204"}, "reply_to_user": {"reputation": 8787, "user_id": 6601582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0a2f69702729da5aaa628bc58811a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rita Han", "link": "https://stackoverflow.com/users/6601582/rita-han"}, "edited": false, "score": 0, "creation_date": 1525990900, "post_id": 50261767, "comment_id": 87581162, "body": "So it turns out that document is an old document just giving the basic of what i did in c++. Not very usefull."}], "owner": {"reputation": 66, "user_id": 3489204, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002288760036/picture?type=large", "display_name": "user3489204", "link": "https://stackoverflow.com/users/3489204/user3489204"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525899363, "creation_date": 1525898765, "last_edit_date": 1525899363, "question_id": 50261767, "link": "https://stackoverflow.com/questions/50261767/sending-custom-data-through-datawriter-c", "title": "Sending custom data through DataWriter c#", "body": "<p>So i'm trying to develop a program integrating a raspberry pi with a fingerprint reader using a USB adapter.</p>\n\n<p>My problem is that the fingerprint reader requires a custom data package for the handshake process.</p>\n\n<p>I need to send a data array of: Header [2], Adress[4], Indentifier[1], Data Lenght[2],Command[1], control[1], checksum[0].</p>\n\n<p>My code looks something like this</p>\n\n<pre><code>byte[] array = new byte[13];\nbyte[] start;\nstart = BitConverter.GetBytes(0xEF01);\nvar lenght = BitConverter.GetBytes(0007);\nvar adress = BitConverter.GetBytes(0xFFFFFFFF);\nvar checksum = BitConverter.GetBytes(0x0D);\narray[0] = start[0];\narray[1] = start[1];\narray[2] = adress[0];\narray[3] = adress[1];\narray[4] = adress[2];\narray[5] = adress[3];\narray[6] = 01;\narray[7] = lenght[0];\narray[8] = lenght[0];\narray[9] = 17;\narray[10] = 0;\narray[11] = checksum[0];\narray[12] = checksum[0];\n\nforeach(var bit in array)\n{\n    DataWriterObject.WriteByte(bit);\n}\n\nawait DataWriterObject.StoreAsync();\n\n\nbytesRead = await DataReaderObject.LoadAsync(15).AsTask(ReadCancellationTokenSource.Token);  //Wait until buffer is full\n</code></pre>\n\n<p>My USB adapter lights up the TX led when the StoreAsync func runs.\nBut my program gets timed out when waiting for the repply.</p>\n\n<p>\u00cc think that the DataWriter is sending the data not in the right order and the fingerprint sensor is not respoing right.</p>\n\n<p>Is there anyway to know if i`m sending it the right way?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1525901011, "post_id": 50261734, "comment_id": 87542627, "body": "One point is that you should move <code>Playerisatdoor = true</code> to <code>OnTriggerEnter2D</code>. Basically all the one time check part should be there. For the teleport, whats <code>TpDelay</code> set to?"}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1525901394, "post_id": 50261734, "comment_id": 87542775, "body": "The not working when standing still part has to do with the rigidbody settings or the character controller (if you use one of the assets) I think. For the settings, put <code>Sleeping Mode</code> to <code>Never Sleep</code>."}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1525921553, "post_id": 50261734, "comment_id": 87547719, "body": "<code>if (NeedsKey == true)</code> simplifies to <code>if (NeedsKey)</code>, then <code>if (NeedsKey == false)</code> simplifies to <code>else</code>"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 9599356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JustARandomGuy", "link": "https://stackoverflow.com/users/9599356/justarandomguy"}, "is_accepted": true, "score": 0, "last_activity_date": 1526947215, "creation_date": 1526947215, "answer_id": 50457997, "question_id": 50261734, "link": "https://stackoverflow.com/questions/50261734/unity-why-is-this-trigger-not-working-properly/50457997#50457997", "title": "Unity Why is this trigger not working properly", "body": "<p>Woops forgot to mention that I fixed this situation a while ago, I think I will just put in the script that I used to help anyone with a similar problem.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class BaseDoorScript : MonoBehaviour {\n\npublic float NeededKeyNumber;\npublic float TpDelay;\n\npublic bool CanOpen;\npublic bool NeedsKey;\npublic bool Playerisatdoor;\n\n//Door in the hallway\npublic GameObject Entrancedoor;\npublic bool isbossdoor;\npublic bool playerisentering;\n//Door in the bossroom\npublic GameObject ExitBossdoor;\n\n\npublic GameObject SpawnBossRoom;\npublic void OnTriggerStay2D(Collider2D collision)\n{\n    if (collision.gameObject.tag == \"Player\")\n    {\n        Playerisatdoor = true;\n        Debug.Log(\"Player Is Here\");\n        //collision.transform.position = ExitBossdoor.transform.position;\n        if (CanOpen == true &amp;&amp; Playerisatdoor == true)\n        {\n            var PlayerKey = collision.GetComponent&lt;KeyScript&gt;().KeyNumber;\n            if (NeedsKey == true)\n            {\n                //if (Input.GetButton(\"EnterDoor\"))\n                //{\n                    if (PlayerKey == NeededKeyNumber)\n                    {\n\n                        if (isbossdoor == false)\n                        {\n                            collision.transform.position = ExitBossdoor.transform.position;\n                            SpawnBossRoom.SetActive(true);\n                        }\n                        if (isbossdoor == true)\n                        {\n                            collision.transform.position = Entrancedoor.transform.position;\n                            SpawnBossRoom.SetActive(false);\n                        }\n                    }\n                //}\n            }\n            if (NeedsKey == false)\n            {\n                if ( playerisentering == true\n                    //Input.GetButton(\"EnterDoor\") || Input.GetKey(KeyCode.Q)\n                    )\n                {\n                    Debug.Log(\"ButtonPressed\");\n                    if (isbossdoor == false)\n                    {\n                        collision.transform.position = ExitBossdoor.transform.position;\n                        SpawnBossRoom.SetActive(true);\n                    }\n                    if (isbossdoor == true)\n                    {\n                        collision.transform.position = Entrancedoor.transform.position;\n                        SpawnBossRoom.SetActive(false);\n                    }\n                }\n            }\n        }\n    }\n}\nprivate void OnTriggerExit2D(Collider2D collision)\n{\n    if(collision.gameObject.tag == \"Player\")\n    {\n        Playerisatdoor = false;\n    }\n}\nprivate void Update()\n{\n    if(Playerisatdoor == true)\n    {\n        if(Input.GetButton(\"EnterDoor\") || Input.GetKey(KeyCode.Q))\n        {\n            StartCoroutine(\"TeleportPlayer\");\n        }\n        else\n        {\n            playerisentering = false;\n        }\n    }\n}\npublic IEnumerator TeleportPlayer ()\n{\n    yield return new WaitForSeconds(TpDelay);\n    playerisentering = true;\n    yield return new WaitForSeconds(1);\n}\n}\n\n\n\n\n// RoomKey Numbers:\n/* \n\n\n\n*/\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9599356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JustARandomGuy", "link": "https://stackoverflow.com/users/9599356/justarandomguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 50457997, "answer_count": 1, "score": 0, "last_activity_date": 1526947215, "creation_date": 1525898609, "question_id": 50261734, "link": "https://stackoverflow.com/questions/50261734/unity-why-is-this-trigger-not-working-properly", "title": "Unity Why is this trigger not working properly", "body": "<p>I have been trying to make a door in Unity C# and I got it working for the most part, what doesn't seem to work is letting the player go through while the player is still inside the trigger when standing still. When I move when in the trigger the door works but when I stand still it doesn't, also teleporting the player seems to be instant as soon as the open door button is pressedwhich I do know how to fix.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class BaseDoorScript : MonoBehaviour {\n\npublic float NeededKeyNumber;\npublic float TpDelay;\n\npublic bool CanOpen;\npublic bool NeedsKey;\npublic bool Playerisatdoor;\n\n//Door in the hallway\npublic GameObject Entrancedoor;\npublic bool isbossdoor;\npublic bool playerisentering;\n//Door in the bossroom\npublic GameObject ExitBossdoor;\n\n\npublic GameObject SpawnBossRoom;\npublic void OnTriggerStay2D(Collider2D collision)\n{\n    if (collision.gameObject.tag == \"Player\")\n    {\n        Playerisatdoor = true;\n        Debug.Log(\"Player Is Here\");\n        //collision.transform.position = ExitBossdoor.transform.position;\n        if (CanOpen == true &amp;&amp; Playerisatdoor == true)\n        {\n            var PlayerKey = collision.GetComponent&lt;KeyScript&gt;().KeyNumber;\n            if (NeedsKey == true)\n            {\n                //if (Input.GetButton(\"EnterDoor\"))\n                //{\n                    if (PlayerKey == NeededKeyNumber)\n                    {\n\n                        if (isbossdoor == false)\n                        {\n                            collision.transform.position = ExitBossdoor.transform.position;\n                            SpawnBossRoom.SetActive(true);\n                        }\n                        if (isbossdoor == true)\n                        {\n                            collision.transform.position = Entrancedoor.transform.position;\n                            SpawnBossRoom.SetActive(false);\n                        }\n                    }\n                //}\n            }\n            if (NeedsKey == false)\n            {\n                if ( playerisentering == true\n                    //Input.GetButton(\"EnterDoor\") || Input.GetKey(KeyCode.Q)\n                    )\n                {\n                    Debug.Log(\"ButtonPressed\");\n                    if (isbossdoor == false)\n                    {\n                        collision.transform.position = ExitBossdoor.transform.position;\n                        SpawnBossRoom.SetActive(true);\n                    }\n                    if (isbossdoor == true)\n                    {\n                        collision.transform.position = Entrancedoor.transform.position;\n                        SpawnBossRoom.SetActive(false);\n                    }\n                }\n            }\n        }\n    }\n}\nprivate void OnTriggerExit2D(Collider2D collision)\n{\n    if(collision.gameObject.tag == \"Player\")\n    {\n        Playerisatdoor = false;\n    }\n}\nprivate void Update()\n{\n    if(Playerisatdoor == true)\n    {\n        if(Input.GetButton(\"EnterDoor\") || Input.GetKey(KeyCode.Q))\n        {\n            StartCoroutine(\"TeleportPlayer\");\n        }\n        else\n        {\n            playerisentering = false;\n        }\n    }\n}\npublic IEnumerator TeleportPlayer ()\n{\n    yield return new WaitForSeconds(TpDelay);\n    playerisentering = true;\n    yield return new WaitForSeconds(1);\n}\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 490, "user_id": 3965629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8399d30e80b0c87bda65e5a308fc0d5e?s=128&d=identicon&r=PG&f=1", "display_name": "Marker", "link": "https://stackoverflow.com/users/3965629/marker"}, "edited": false, "score": 0, "creation_date": 1525898744, "post_id": 50261730, "comment_id": 87541635, "body": "<a href=\"https://stackoverflow.com/questions/3016522/count-the-number-of-times-a-string-appears-within-a-string\" title=\"count the number of times a string appears within a string\">stackoverflow.com/questions/3016522/&hellip;</a> Has some great answers."}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "reply_to_user": {"reputation": 490, "user_id": 3965629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8399d30e80b0c87bda65e5a308fc0d5e?s=128&d=identicon&r=PG&f=1", "display_name": "Marker", "link": "https://stackoverflow.com/users/3965629/marker"}, "edited": false, "score": 0, "creation_date": 1525898841, "post_id": 50261730, "comment_id": 87541668, "body": "@Marker - You can just flag the post as a duplicate (as I have done, using the link you&#39;ve provided)."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1525898883, "post_id": 50261730, "comment_id": 87541691, "body": "@BrootsWaymb - <code>@Marker</code> does not have enough rep to do so (yet)."}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1525899094, "post_id": 50261730, "comment_id": 87541802, "body": "@Igor - Does that not require only 15 rep? Or am I thinking of some other privilege?"}, {"owner": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 0, "creation_date": 1525899136, "post_id": 50261730, "comment_id": 87541822, "body": "<a href=\"https://stackoverflow.com/questions/541954/how-would-you-count-occurrences-of-a-string-actually-a-char-within-a-string\" title=\"how would you count occurrences of a string actually a char within a string\">stackoverflow.com/questions/541954/&hellip;</a>   also has some good info"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1525899161, "post_id": 50261730, "comment_id": 87541838, "body": "@BrootsWaymb - That requires a rep of 3,000. See <a href=\"https://stackoverflow.com/help/privileges\">Help Center &gt; Privileges</a>"}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1525899260, "post_id": 50261730, "comment_id": 87541882, "body": "@Igor - I think we have a miscommunication. I just meant flagging the post (hence when I said &quot;as I have done&quot;), not close votes."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1525899435, "post_id": 50261730, "comment_id": 87541966, "body": "@BrootsWaymb - You are correct, I misread your comment."}], "owner": {"user_type": "does_not_exist", "display_name": "user9308412"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "closed_date": 1525898809, "answer_count": 0, "score": 0, "last_activity_date": 1525903336, "creation_date": 1525898593, "last_edit_date": 1525903336, "question_id": 50261730, "link": "https://stackoverflow.com/questions/50261730/how-many-times-a-word-appear-in-a-string-c-visual-studio", "closed_reason": "Duplicate", "title": "How Many Times a Word Appear In A String C# (Visual Studio)", "body": "<p>The user pastes a junk of text into a textbox, then he enters specific in another textbox a word like \"Good\". Then he/she hits a button which does a two things:</p>\n\n<ul>\n<li>counts the number of \"Good\" in that string and then displays it in a label like .. \"4 TIMES\"</li>\n<li>replaces all of them with another word that the user entered</li>\n</ul>\n\n<p>This is what I have so far.</p>\n\n<pre><code> private void button2_Click(object sender, EventArgs e)\n {\n        string Text = TextBox.Text;\n        Text.Contains(\"Good\");\n        int position = Text.IndexOf(\"Good\");\n        int i = 0;\n\n        while(position != -1 )\n        {\n            MessageBox.Show(position.ToString());\n            position = Text.IndexOf(\"Good\", position);\n            i++;\n        }\n\n        lbl.Text = i.ToString();\n}\n</code></pre>\n"}, {"tags": ["c#", "datatable", "openxml"], "comments": [{"owner": {"reputation": 657, "user_id": 2355460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bcf859fd355fee14c7c2ce714ac33f?s=128&d=identicon&r=PG", "display_name": "Jacob M.", "link": "https://stackoverflow.com/users/2355460/jacob-m"}, "edited": false, "score": 0, "creation_date": 1525900189, "post_id": 50261669, "comment_id": 87542288, "body": "&quot;Object reference not set to an instance of an object&quot; easy enough, but on which line?"}, {"owner": {"reputation": 355, "user_id": 5888514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae6814b03e1e70ea527491e5ce1d3d0?s=128&d=identicon&r=PG&f=1", "display_name": "anu start", "link": "https://stackoverflow.com/users/5888514/anu-start"}, "edited": false, "score": 0, "creation_date": 1525900397, "post_id": 50261669, "comment_id": 87542378, "body": "I doubt <code>sheetData.Elements&lt;Column&gt;()</code> is returning anything. Is it? Last time I tried, I had to iterate over cells to determine column count."}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 8576506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lKk9P.jpg?s=128&g=1", "display_name": "endlessforms", "link": "https://stackoverflow.com/users/8576506/endlessforms"}, "is_accepted": false, "score": 0, "last_activity_date": 1525901465, "creation_date": 1525901465, "answer_id": 50262368, "question_id": 50261669, "link": "https://stackoverflow.com/questions/50261669/c-using-openxml-spreadsheet-to-populate-a-datagrid/50262368#50262368", "title": "C# using OpenXml.Spreadsheet to populate a DataGrid", "body": "<p>I found a solution, and this works. Special thanks to it_Saige from Experts Exchange. </p>\n\n<pre><code>public void btnOpenExcel_Click(object sender, EventArgs e)\n    {\n        // Upload data from .xls file\n        try\n        {\n            // Pulls up file reader\n\n            using (OpenFileDialog ofd = new OpenFileDialog() { Filter = \"xlsx|*.xlsx\", ValidateNames = true })\n            {\n                if (ofd.ShowDialog() == DialogResult.OK)\n                {\n                    lblFileName.Text = ofd.FileName;\n\n                    // use selected file name to populate Spreadsheet Viewer\n                    var myData = SpreadsheetDocument.Open(ofd.FileName, false).GetDataTableFromSpreadSheet();\n                    dataGridView.DataSource = myData;\n\n                }\n            }             \n        }\n\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.Message, \"Something went wrong\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n        }\n    }\n\nstatic class Extensions\n{\n    // this extension is for populating the GridView with values from a spreadsheet. \n    public static DataTable GetDataTableFromSpreadSheet(this SpreadsheetDocument document, int columns = -1, bool excludeHeader = true)\n    {\n        var results = new DataTable();\n        try\n        {\n            var sheets = document.WorkbookPart.Workbook.GetFirstChild&lt;Sheets&gt;().Elements&lt;Sheet&gt;();\n            var id = sheets.First().Id.Value;\n            var part = (WorksheetPart)document.WorkbookPart.GetPartById(id);\n            var sheet = part.Worksheet;\n            var data = sheet.GetFirstChild&lt;SheetData&gt;();\n            var rows = data.Descendants&lt;Row&gt;();\n            if (rows.Count() != 0)\n            {\n                var colCount = rows.First().Cast&lt;Cell&gt;().Count();\n                if (columns &gt; colCount || columns &lt;= 0)\n                    columns = colCount;\n\n                foreach (var cell in rows.First().Cast&lt;Cell&gt;().Take(columns))\n                    results.Columns.Add(cell.GetValue(document));\n\n                foreach (var row in rows.Skip(Convert.ToInt32(excludeHeader)))\n                    results.Rows.Add((from cell in row.Cast&lt;Cell&gt;().Take(columns) select cell.GetValue(document)).ToArray());\n            }\n        }\n        catch (Exception)\n        {\n            results = new DataTable();\n        }\n        return results;\n    }\n\n    public static string GetValue(this Cell cell, SpreadsheetDocument document)\n    {\n        string result = string.Empty;\n        try\n        {\n            if (cell != null &amp;&amp; cell.ChildElements.Count != 0)\n            {\n                var part = document.WorkbookPart.SharedStringTablePart;\n                if (cell.DataType != null &amp;&amp; cell.DataType == CellValues.SharedString)\n                    result = part.SharedStringTable.ChildElements[Int32.Parse(cell.CellValue.InnerText)].InnerText;\n                else\n                    result = cell.CellValue.InnerText;\n            }\n        }\n        catch (Exception)\n        {\n            result = string.Empty;\n        }\n        return result;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8576506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lKk9P.jpg?s=128&g=1", "display_name": "endlessforms", "link": "https://stackoverflow.com/users/8576506/endlessforms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1019, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525901465, "creation_date": 1525898403, "question_id": 50261669, "link": "https://stackoverflow.com/questions/50261669/c-using-openxml-spreadsheet-to-populate-a-datagrid", "title": "C# using OpenXml.Spreadsheet to populate a DataGrid", "body": "<p>I'd like to populate a DataTable with values from a speadsheet using the OpenXml.Spreadsheet reference. Unfortunately, my method isn't working very well. I'm getting an object refernce not set to an instance of an object error. Can you advise on the best course of action? Looks like myCollection.Add(text) seems to be breaking it.</p>\n\n<pre><code>using DocumentFormat.OpenXml.Spreadsheet;\n\n\npublic DataTable ReadXls(string filePath)\n    {       \n        // create a new datatable\n\n        DataTable xlsData = new DataTable();\n        DataTable xlsDataOut = new DataTable();\n\n        try\n        {\n            using (SpreadsheetDocument spreadsheetDocument = SpreadsheetDocument.Open(filePath, true))\n            {\n                // invoke spreadsheet stuff\n\n                WorkbookPart workbookPart = spreadsheetDocument.WorkbookPart;\n                WorksheetPart worksheetPart = workbookPart.WorksheetParts.First();\n                SheetData sheetData = worksheetPart.Worksheet.Elements&lt;SheetData&gt;().First();\n\n                // determine number of rows/columns to create DataTable\n\n                foreach (Column col in sheetData.Elements&lt;Column&gt;())\n                {\n                    DataColumn serialno = new DataColumn();\n                    serialno.AllowDBNull = true;\n                    xlsData.Columns.Add(serialno);\n                }\n\n                foreach (Row r in sheetData.Elements&lt;Row&gt;())\n                {\n                    DataRow dtRow = xlsData.NewRow();\n                    xlsData.Rows.Add(dtRow);\n                }\n\n                // column and row count for dataset\n                int colcount = xlsData.Columns.Count;\n                int rowcount = xlsData.Rows.Count;\n\n                // invoke individual cell \n\n                foreach (Row r in sheetData.Elements&lt;Row&gt;())\n                {\n                    List&lt;string&gt; myCollection = new List&lt;string&gt;();\n                    DataRow dr = xlsDataOut.NewRow();\n\n                    foreach (Cell c in r.Elements&lt;Cell&gt;())\n                    {\n                        string text = c.CellValue.Text;\n                        myCollection.Add(text);\n                    }\n\n                    for (int i = 0; i &lt; colcount; i++)\n                    {\n                        dr[i] = myCollection[i];\n                    }\n\n                    xlsDataOut.Rows.Add(dr);\n                }\n            }\n        }\n\n        catch (Exception ex)\n        {\n            MessageBox.Show(\"Error creating DataTable from xls file\" + \"\\n\" + ex.Message + \"\\n\" + ex.StackTrace);\n        }\n\n        return xlsDataOut;\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1525898077, "post_id": 50261563, "comment_id": 87541288, "body": "The code you have posted wont even compile.  You are expected to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question"}, {"owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525898170, "post_id": 50261563, "comment_id": 87541328, "body": "I am trying to edit it, but it says I can not because it was edited by you. It also an extract showing the part that gives error"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 1, "creation_date": 1525898175, "post_id": 50261563, "comment_id": 87541331, "body": "The second one in the <code>else</code> clause is obvious. You have <code>if (grid != null)</code>, so in the <code>else</code> clause <code>grid == null</code> and obviously you can&#39;t add anything to it."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525898254, "post_id": 50261563, "comment_id": 87541381, "body": "Also, I dont think <code>grid</code> will resolve to a <code>List&lt;int&gt;</code>, <code>FindName()</code> is likely trying to find a control in the window.  You cannot programaticaly access class variables like this without reflection"}, {"owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "edited": false, "score": 0, "creation_date": 1525898257, "post_id": 50261563, "comment_id": 87541384, "body": "But all the list aren&#39;t null at the beginning?"}, {"owner": {"reputation": 605, "user_id": 1760800, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f4f9db68b98dc282f595341dfe44b435?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s Varga", "link": "https://stackoverflow.com/users/1760800/tam%c3%a1s-varga"}, "edited": false, "score": 1, "creation_date": 1525898305, "post_id": 50261563, "comment_id": 87541404, "body": "Matt&#39;s point is correct. What&#39;s the error you&#39;re getting at the first grid.Add()??"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525898320, "post_id": 50261563, "comment_id": 87541417, "body": "The lists being null dont matter, the result of <code>FindName()</code> will be null because you dont have a <i>control</i> by that name.  Then when you cast it to <code>List&lt;int&gt;</code> that instance will be null"}, {"owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "edited": false, "score": 1, "creation_date": 1525898420, "post_id": 50261563, "comment_id": 87541469, "body": "Ah, then, the FindName() method works only for controls, not for a list for example"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1525898437, "post_id": 50261563, "comment_id": 87541479, "body": "I suspect the problem here is that you think <code>FindName</code> will let you find a field in a class. That is not what it does. It finds a <i>control</i> in a <i>window</i>. <code>grid1</code>, <code>grid2</code>, etc are <b>not</b> controls. They are fields"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525898566, "post_id": 50261563, "comment_id": 87541546, "body": "@AbdelHidalgo yes, you understand.  I think you have a problematic design though, why so many Lists in your class?  Why not use a <code>Dictionary&lt;int, List&lt;int&gt;</code>?  That way you can just access by a key, like <code>1</code>, or <code>2</code>, etc"}, {"owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "edited": false, "score": 0, "creation_date": 1525898572, "post_id": 50261563, "comment_id": 87541551, "body": "Yes, Matt, That is the case. Is there a way I could do something like this with the lists?"}, {"owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "edited": false, "score": 1, "creation_date": 1525898638, "post_id": 50261563, "comment_id": 87541585, "body": "Maccettura, thank you for your time. I am new student and at this point I don&#39;t even know dictionnary existed :)"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "edited": false, "score": 0, "creation_date": 1525900276, "post_id": 50261737, "comment_id": 87542324, "body": "Thank you so much Matt. This also works fine. I am pretty new here and even if your solution and Maccettura&#39;s work, It seems I can only select one answer as correct. I cannot even register my vote."}], "tags": [], "owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "is_accepted": false, "score": 1, "last_activity_date": 1525898628, "creation_date": 1525898628, "answer_id": 50261737, "question_id": 50261563, "link": "https://stackoverflow.com/questions/50261563/checking-several-lists-listint-for-a-certain-number-doesnt-work/50261737#50261737", "title": "checking several Lists List&lt;int&gt; for a certain number doesn&#39;t work", "body": "<p>I suspect the problem here is that you think FindName will let you find a field in a class. That is not what it does. It finds a control in a window. grid1, grid2, etc are not controls. They are fields </p>\n\n<p>If you want to find fields, you would have to use reflection...but, the better way would be to just have a <code>List&lt;List&lt;int&gt;&gt;</code> instead.</p>\n\n<p>So:</p>\n\n<pre><code>List&lt;List&lt;int&gt;&gt; grids = new List&lt;List&lt;int&gt;&gt;();\n</code></pre>\n\n<p>Then somewhere (maybe the constructor) you populate that list:</p>\n\n<pre><code>for (var i=0; i &lt; numberOfGrids; i++) \n{\n    grids.Add(new List&lt;int&gt;());\n}\n</code></pre>\n\n<p>And then later when you want to retrieve a grid in your <code>numberValide</code>:</p>\n\n<pre><code>var grid = grids[Grid];   // where Grid is the index to your Grid - \n                          // your variable names are confusing\n</code></pre>\n\n<p>But now, since your original problem was to see if a number exists in any of your lists of ints, you can use Linq to simplify this greatly:</p>\n\n<pre><code>var doesExist = grids.Any(g =&gt; g.Contains(number));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "edited": false, "score": 0, "creation_date": 1525899970, "post_id": 50261788, "comment_id": 87542199, "body": "Works Perfectly, but I had to eliminate the Value of these two lines, maybe you could edit it  if (!gridDictionary[gridIndex].Value.Contains(number)) and gridDictionary[gridIndex].Add(number)"}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 1, "last_activity_date": 1525899172, "last_edit_date": 1525899172, "creation_date": 1525898825, "answer_id": 50261788, "question_id": 50261563, "link": "https://stackoverflow.com/questions/50261563/checking-several-lists-listint-for-a-certain-number-doesnt-work/50261788#50261788", "title": "checking several Lists List&lt;int&gt; for a certain number doesn&#39;t work", "body": "<p>The reason for your issue is <code>FindName()</code> is looking for a XAML element by that name, its not going to check for class members.  So this line of code:</p>\n\n<pre><code>grid = (List&lt;int&gt;)this.FindName(\"grid\" + Grid);\n</code></pre>\n\n<p>Will always be <code>null</code>, because <code>FindName(\"grid\" + Grid)</code> will return <code>null</code>, then you are casting that <code>null</code> to a <code>List&lt;int&gt;</code>.  So <code>grid</code> will be a <code>null List&lt;int&gt;</code></p>\n\n<p>Having all these Lists in your class is a pretty <em>bad</em> design.  You can simplify things a bit by using a Dictionary.  I am not entirely sure I follow what your logic is, but this is my attempt to convert:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public Dictionary&lt;int, List&lt;int&gt;&gt; gridDictionary = new Dictionary&lt;int, List&lt;int&gt;&gt;();\n\n    private bool numberValide(int number, int gridIndex)  // Grid {1..5}\n    {\n        //Checks if dictionary has an entry at gridIndex\n        if(gridDictionary.ContainsKey(gridIndex))\n        {\n            if (!gridDictionary[gridIndex].Value.Contains(number))\n            {\n                //Add number to list in dictionary\n                gridDictionary[gridIndex].Value.Add(number);  \n                return true;\n            }\n            else\n            {\n                return false;\n            }\n        }\n        else\n        {\n            //Adds a new entry to the dictionary with a list containing number\n            gridDictionary.Add(gridIndex, new List&lt;int&gt;() { number });\n            return true;\n        }           \n    }\n</code></pre>\n\n<p>Keep in mind that Dictionaries must have unique <em>keys</em>, so you couldn't do:</p>\n\n<pre><code>dictionary.Add(1, \"one\");\ndictionary.Add(1, \"uno\");\n</code></pre>\n\n<p>That would throw an exception because a duplicate key exists already.  For your use case this <em>should</em> be fine because all your <code>grid</code> variables had to be uniquely named anyway to compile.</p>\n"}], "owner": {"reputation": 109, "user_id": 2623819, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000236563322/picture?type=large", "display_name": "Abdel Hidalgo", "link": "https://stackoverflow.com/users/2623819/abdel-hidalgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 50261788, "answer_count": 2, "score": 0, "last_activity_date": 1525899172, "creation_date": 1525897862, "last_edit_date": 1525898043, "question_id": 50261563, "link": "https://stackoverflow.com/questions/50261563/checking-several-lists-listint-for-a-certain-number-doesnt-work", "title": "checking several Lists List&lt;int&gt; for a certain number doesn&#39;t work", "body": "<p>I am trying to know if a number I pass to the function is contained in any of the lists I have. Here is an extract of the code. I have initialized the list grid as it is said in many similar posts here, but that doesn't work. </p>\n\n<p>The error says </p>\n\n<blockquote>\n  <p>\"System.NullReferenceException: 'Object reference not set to an instance of an object.'\" </p>\n</blockquote>\n\n<p>referring to grid. I know it seems duplicated, but I have checked the others posts similar to this and I can not find a specific answer to my problem.</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    //This list is much bigger\n    public List&lt;int&gt; grid1 = new List&lt;int&gt;();\n    public List&lt;int&gt; grid2 = new List&lt;int&gt;();\n    public List&lt;int&gt; grid3 = new List&lt;int&gt;();\n    public List&lt;int&gt; grid4 = new List&lt;int&gt;();\n    public List&lt;int&gt; grid5 = new List&lt;int&gt;();\n\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    private bool numberValide(int number, int Grid)  // Grid {1..5}\n    {\n        List&lt;int&gt;   = new List&lt;int&gt;();\n        grid = (List&lt;int&gt;)this.FindName(\"grid\" + Grid);\n        if (grid != null)\n        {\n            if (!grid.Contains(number))\n            {\n                grid.Add(number);     //the error is here\n                return true;\n            }\n            else\n            {\n                return false;\n            }\n        }\n        else\n        {\n            grid.Add(number);   //error also here\n            return true;\n        }           \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 2470, "user_id": 2964415, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tP1gh.png?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/2964415/harry"}, "edited": false, "score": 1, "creation_date": 1525897818, "post_id": 50261523, "comment_id": 87541162, "body": "your parameter is called emailString not @email"}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "reply_to_user": {"reputation": 2470, "user_id": 2964415, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tP1gh.png?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/2964415/harry"}, "edited": false, "score": 0, "creation_date": 1525897928, "post_id": 50261523, "comment_id": 87541216, "body": "sorry, typing mistake, the parameter names are matching"}, {"owner": {"reputation": 1076, "user_id": 1926477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nEv4.jpg?s=128&g=1", "display_name": "Hesam Faridmehr", "link": "https://stackoverflow.com/users/1926477/hesam-faridmehr"}, "edited": false, "score": 1, "creation_date": 1525898037, "post_id": 50261523, "comment_id": 87541271, "body": "What do you mean? it&#39;s sql parameter real values are not going to be in command text"}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "reply_to_user": {"reputation": 1076, "user_id": 1926477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nEv4.jpg?s=128&g=1", "display_name": "Hesam Faridmehr", "link": "https://stackoverflow.com/users/1926477/hesam-faridmehr"}, "edited": false, "score": 0, "creation_date": 1525898140, "post_id": 50261523, "comment_id": 87541314, "body": "@Hesam Yes, so I should see in the database  &#39;7F856136-0036-4F68-249F-08D5AB631656&#39;, test, dot.dot@dot.com; I tried SqlParameter(&quot;@subject&quot;, subject).Value"}, {"owner": {"reputation": 1076, "user_id": 1926477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nEv4.jpg?s=128&g=1", "display_name": "Hesam Faridmehr", "link": "https://stackoverflow.com/users/1926477/hesam-faridmehr"}, "edited": false, "score": 0, "creation_date": 1525898216, "post_id": 50261523, "comment_id": 87541355, "body": "If there is no exception, yes"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1525898339, "post_id": 50261523, "comment_id": 87541424, "body": "The SQL Client library <b>DOES NOT</b> do a text-replace on the parameter values in your SQL statement - those parameters are sent to SQL Server <b>as such</b> - as parameters with names and datatypes - and their values are sent separately."}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "edited": false, "score": 0, "creation_date": 1525898374, "post_id": 50261523, "comment_id": 87541443, "body": "There is no exception, everything executes is just that the instance of the parameter is not evaluated with the initialized value"}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "reply_to_user": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1525899055, "post_id": 50261523, "comment_id": 87541782, "body": "@marc_s Than the questions is, what I do in order to be replaced?"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1525899094, "post_id": 50261523, "comment_id": 87541803, "body": "You <b>don&#39;t</b> do anything - this is the way it&#39;s designed to work, and it works just fine. Trying to do this would open the doors to <b>SQL injection</b> which you&#39;re trying to <i>avoid</i> by using parameters in the first place!"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1525899630, "post_id": 50261523, "comment_id": 87542059, "body": "@marc_s: I don&#39;t follow your logic here. If the OP is seeing those values in the database, that&#39;s still a problem. If the OP were saying what they&#39;d seen in a SQL profiler or similar, that&#39;s a different matter - but the way I understand the question is that the <i>values</i> in the database are the parameter names, when looking at the table data."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525899707, "post_id": 50261523, "comment_id": 87542090, "body": "Could you clarify what you mean by &quot;The result in the database&quot;? Are you looking at the logs of the SQL executed, or looking at the data in the table?"}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525899784, "post_id": 50261523, "comment_id": 87542117, "body": "@Daisy I&#39;m looking to the data in table"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525899908, "post_id": 50261523, "comment_id": 87542177, "body": "Right, that&#39;s what I thought. Unfortunately I don&#39;t know why this isn&#39;t working - it looks right to me :( Are you sure that&#39;s <i>exactly</i> your SQL? This would be explained if you had something like <code>&quot;INSERT INTO Table(Id, Subject, Email) VALUES (NEWID(), &#39;@subject&#39;, &#39;@emailString&#39;)&quot;</code> with the parameter names in quotes like that."}], "answers": [{"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525899515, "post_id": 50261914, "comment_id": 87541999, "body": "Unless there&#39;s a use of <code>FormattableString</code> that I&#39;m not aware of here, this is vulnerable to SQL injection attacks. If this <i>is</i> a use of <code>FormattableString</code> you should definitely explain that <i>very</i> carefully, to avoid people using this as a solution in cases where it isn&#39;t using parameters."}, {"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1525899935, "post_id": 50261914, "comment_id": 87542187, "body": "An interpolated string, which should be seen by the heading $ is in fact a FormattableString and isn\u2019t vulnerable to Sql-injection. If you declare the string inline it\u2019s parametrized by EF. This is readable in the docs."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525900060, "post_id": 50261914, "comment_id": 87542234, "body": "Interpolated strings are only <code>FormattableString</code> when there&#39;s a parameter or assignment to it, which isn&#39;t at all clear as you haven&#39;t stated it or linked to the docs at all. &quot;This is readable in the docs&quot; isn&#39;t <i>nearly</i> clear enough IMO for a pretty fragile solution - anyone using this in a situation where the argument <i>isn&#39;t</i> converted into a <code>FormattableString</code> will be opening themselves up to a SQL injection attack by following your answer."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525900112, "post_id": 50261914, "comment_id": 87542256, "body": "Additionally, I don&#39;t see that overload anywhere here: <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.database.executesqlcommandasync(v=vs.113).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a> - perhaps it&#39;s not in <i>all</i> versions of EF, but only EF Core? Again, without your answer giving any warning about this at all, I think it&#39;s doing more harm than good. With explanation and a warning to <i>only</i> use that when the interpolated string literal is converted to <code>FormattableString</code> rather than <code>string</code>, it would be a good answer - but not right now, IMO."}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "edited": false, "score": 0, "creation_date": 1525900206, "post_id": 50261914, "comment_id": 87542293, "body": "@Nikolaus This I used and works till to a point where the subject, and {email String} contains all sorts of characters which I had to escape and ended ugly, so I thought that would be better to use sql parameters"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "edited": false, "score": 0, "creation_date": 1525900339, "post_id": 50261914, "comment_id": 87542353, "body": "@Daniel.Cristian: If it&#39;s actually using <code>FormattableString</code>, you shouldn&#39;t need to escape anything - it would be using parameterized SQL behind the scenes. Are you definitely, definitely using EF Core? If you&#39;re using EF6 with one of the calls I showed earlier, that wouldn&#39;t be parameterizing it."}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "edited": false, "score": 0, "creation_date": 1525900876, "post_id": 50261914, "comment_id": 87542572, "body": "@Folks, Sorry, it seems that I&#39;m just tired. is all fine, the posted version works and is doing what it is supposed to do. Thank you for your attention"}, {"owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525901216, "post_id": 50261914, "comment_id": 87542709, "body": "@Daisy     &lt;PackageReference Include=&quot;AutoMapper&quot; Version=&quot;6.2.2&quot; /&gt;     &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.Design&quot; Version=&quot;2.0.2&quot; /&gt;     &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.SqlServer&quot; Version=&quot;2.0.2&quot; /&gt;     &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.Tools&quot; Version=&quot;2.0.2&quot; /&gt;"}, {"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525901686, "post_id": 50261914, "comment_id": 87542868, "body": "@DaisyShipton It\u2019s indeed only in EF-Core and I only see that Tag under the question. Maybe I should explain it better, which I will. But how can it be vulnerable to Sql-injection, if there is no parameter added?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1525928051, "post_id": 50261914, "comment_id": 87549338, "body": "@Nikolaus: It would be vulnerable to SQL Injection attacks if the interpolated string literal were converted to a string instead of a <code>FormattableString</code>. So if someone tried to use this answer in a <i>very slightly</i> different context (e.g. EF rather than EF Core) they&#39;d have problems - and because you hadn&#39;t explained how it works at all, there was no warning to anyone about how it could be dangerous. It&#39;s better now."}], "tags": [], "owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "is_accepted": true, "score": 1, "last_activity_date": 1525902164, "last_edit_date": 1525902164, "creation_date": 1525899350, "answer_id": 50261914, "question_id": 50261523, "link": "https://stackoverflow.com/questions/50261523/sqlparameter-set-value-not-working/50261914#50261914", "title": "SqlParameter set value not working", "body": "<p>I hope you need a working solution, instead of the reason, why the other one doesn\u2019t work...:</p>\n\n<pre><code>//....\nvar subject= \"test\";\nvar emailString =\"dot.dot@dot.com\";\nawait _db.Database\n        .ExecuteSqlCommandAsync($\"INSERT INTO Table(Id, Subject, Email) VALUES (NEWID(), {subject }, {emailString})\");\n</code></pre>\n\n<p>Edit:\nAs mentioned in the comments, I\u2018ll have to explain that a interpolated string with parameter(s) like above, will be parametrized by EF-Core, if it\u2019s declared inline.</p>\n\n<p>The following statement is not parametrized and therefore indeed vulnerable to sql-injection:</p>\n\n<pre><code>//....\n    var subject= \"test\";\n    var emailString =\"dot.dot@dot.com\";\nstring sql= \"INSERT INTO Table(Id, Subject, Email) VALUES (NEWID(), {subject }, {emailString})\";\n    await _db.Database\n            .ExecuteSqlCommandAsync(sql);\n</code></pre>\n\n<p>To proof the information you can check in the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.relationaldatabasefacadeextensions.executesqlcommand?view=efcore-2.1\" rel=\"nofollow noreferrer\">Docs</a></p>\n"}, {"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525928076, "post_id": 50263183, "comment_id": 87549350, "body": "The OP was already trying to use a parameterized query. We still don&#39;t know why it was working - it looks to me like it should have worked fine."}], "tags": [], "owner": {"reputation": 41, "user_id": 4696356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40648f4c4ac096da2df44d4c22e4e553?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/4696356/krishna"}, "is_accepted": false, "score": 0, "last_activity_date": 1525906581, "creation_date": 1525906581, "answer_id": 50263183, "question_id": 50261523, "link": "https://stackoverflow.com/questions/50261523/sqlparameter-set-value-not-working/50263183#50263183", "title": "SqlParameter set value not working", "body": "<p>Use parameterized queries:</p>\n\n<p>query = INSERT INTO ReportingLogs ([UserName],[FirstName]) values (@username,@firstname)</p>\n\n<p>SqlCommand sqlCommand = new SqlCommand(cmdText, connection);\nSqlCommand.Parameters.Add(\"@userName\", SqlDbType.VarChar).Value = username</p>\n\n<p>//Close the connection in finally block or use using() statement</p>\n"}], "owner": {"reputation": 43, "user_id": 2067684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dd3e1c612f68523fe0b8af8c43bb81f?s=128&d=identicon&r=PG", "display_name": "Daniel.Cristian", "link": "https://stackoverflow.com/users/2067684/daniel-cristian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 50261914, "answer_count": 2, "score": 0, "last_activity_date": 1525906581, "creation_date": 1525897715, "last_edit_date": 1525900373, "question_id": 50261523, "link": "https://stackoverflow.com/questions/50261523/sqlparameter-set-value-not-working", "title": "SqlParameter set value not working", "body": "<p>Could anybody help me to understand what I'm doing wrong in the below piece of code?: </p>\n\n<pre><code>//....\n\n\ninternal static string InsertCorrespondenceRecipientItem(TbEmail email, Guid correspondenceId, Guid contactId) =&gt; $@\"\n         INSERT INTO CorrespondenceRecipientItems\n           (Id, DateSent, Subject, ToEmail, [CorrespondenceId] , [ToId], [CorrespondenceRecipientId])\n         VALUES\n             ('{email.Guid}', '{email.DateSent}', @subject, @emailString, '{correspondenceId}', '{contactId}', '{email.Guid}')\n        \";\n    var sqlItemsUpdate = SqlHelpers.InsertCorrespondenceRecipientItem(item.email, correspondence.Guid, fromId);\n                                var subject = item.email.Subject.Trim();\n                                var emailString = item.email.EmailAddressString.Trim();\n\n                                await _db.Database.ExecuteSqlCommandAsync(sqlItemsUpdate, new SqlParameter(\"@subject\", subject), new SqlParameter(\"@emailString\", emailString));\n</code></pre>\n\n<p>The result in the database is </p>\n\n<pre><code>'7F856136-0036-4F68-249F-08D5AB631656', @subject, @emailString\n</code></pre>\n\n<p>Why does the execution not set the value for the parameters?</p>\n"}, {"tags": ["c#", "iis", "asp.net-core", "asp.net-core-2.0", "iis-express"], "comments": [{"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1525897955, "post_id": 50261475, "comment_id": 87541230, "body": "can you show some code? Controller-method and Route-Attributes?"}, {"owner": {"reputation": 2287, "user_id": 5153744, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zOUF1.png?s=128&g=1", "display_name": "NSGangster", "link": "https://stackoverflow.com/users/5153744/nsgangster"}, "reply_to_user": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1525899716, "post_id": 50261475, "comment_id": 87542093, "body": "@Nikolaus I added some code as you can see its very basic controller class. I&#39;m new to <code>.net</code> and MVC and web development my understanding is that I don&#39;t need Route-Attributes since MVC will create the endpoint to be the name of the method. It works in IIS Express this way anyway. Do you recommend I do Route-Attribution to see if that fixes it? not sure why would work in IIS express"}, {"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1525902177, "post_id": 50261475, "comment_id": 87543030, "body": "In Program.cs  WebHost.CreateDefaultBuilder(args) adds IISIntegration support. Also, in Startup.cs file, app.UseMvc(); automatically setups default routing {controller}/{action} so no need for custom attribute based routing"}, {"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "reply_to_user": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1525903996, "post_id": 50261475, "comment_id": 87543633, "body": "@MohsinMehmood: No, <code>app.UseMvc()</code> does not setup default routing for you man. <code>app.UseMvcWithDefaultRoute()</code> does."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1525912220, "post_id": 50261475, "comment_id": 87545683, "body": "Read IIS log files to see what is the sub status."}, {"owner": {"reputation": 2287, "user_id": 5153744, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zOUF1.png?s=128&g=1", "display_name": "NSGangster", "link": "https://stackoverflow.com/users/5153744/nsgangster"}, "reply_to_user": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "edited": false, "score": 0, "creation_date": 1525970164, "post_id": 50261475, "comment_id": 87571707, "body": "@DavidLiang My routing looks the same as if I had used <code>app.UseMvcWithDefaultRoute</code> so I do not believe that is the issue."}, {"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "reply_to_user": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1525974835, "post_id": 50261475, "comment_id": 87574142, "body": "@NSGangster: yea my reply was to @MohsinMehmood as he was saying to just use <code>app.UseMvc()</code> without the configuration you had, which is wrong. You either config the routes like you did, or just use the default route configuration by calling <code>app.UseMvcWithDefaultRoute()</code>.Back to your issue, did you publish the app to a virtual directory?"}, {"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "reply_to_user": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1526763750, "post_id": 50261475, "comment_id": 87873583, "body": "@MohsinMehmood Also, if you have Parameters, which names differ from id, Attribute-Routing is a way to prevent errors."}, {"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 1, "creation_date": 1548435618, "post_id": 50261475, "comment_id": 95553586, "body": "Did you resolve your issue and if not, could you add what your request looks like?"}, {"owner": {"reputation": 1667, "user_id": 4640328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erQky.jpg?s=128&g=1", "display_name": "Ewan", "link": "https://stackoverflow.com/users/4640328/ewan"}, "edited": false, "score": 0, "creation_date": 1565253149, "post_id": 50261475, "comment_id": 101297230, "body": "Getting a similar thing with an API controller. did you ever resolve?"}], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 5153744, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zOUF1.png?s=128&g=1", "display_name": "NSGangster", "link": "https://stackoverflow.com/users/5153744/nsgangster"}, "edited": false, "score": 0, "creation_date": 1525902100, "post_id": 50262344, "comment_id": 87543004, "body": "I will give this a try perhaps sometime tonight and get back to you tomorrow"}], "tags": [], "owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1525901353, "creation_date": 1525901353, "answer_id": 50262344, "question_id": 50261475, "link": "https://stackoverflow.com/questions/50261475/net-core-2-0-mvc-odd-404-on-controller-methods-only-when-deployed-to-iis/50262344#50262344", "title": ".NET Core 2.0 MVC odd 404 on controller methods only when deployed to IIS", "body": "<p>If you\u2018re not sure why it doesn\u2019t work, try Attribute-Routing, explained in the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/routing?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">Docs</a>\nThen you could try it this way:</p>\n\n<pre><code>[Route(\"[controller]/[action]\")]\npublic class MyController : Controller\n{\n    public IActionResult Index()\n    {\n        return View();\n    }\n\n    [HttpPost]\n    public void Store([FromBody]MyObject obj)\n    {\n        Console.WriteLine(Request.Body);\n        //Some code\n    }\n    // If you have a parameter from the uri or query-string, you can add it to the Template this way\n    [HttpGet(\"{objectUID} \")]\n    public void Check(string objectUID, string idfv)\n    {\n        Console.WriteLine($\"ObjectUID: {objectUID}\");\n        Console.WriteLine($\"IDFV: {idfv}\");\n        //some other code\n    }\n    // Or optional parameter like this \n    [HttpGet (\"{objectUID?} \")]\n    public MyObject Retrieve(string objectUID)\n    {\n        Console.Writeline($\"ObjectUID: {objectUID}\");\n        //Some Code\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2287, "user_id": 5153744, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zOUF1.png?s=128&g=1", "display_name": "NSGangster", "link": "https://stackoverflow.com/users/5153744/nsgangster"}, "edited": false, "score": 0, "creation_date": 1525902049, "post_id": 50262379, "comment_id": 87542983, "body": "Ty for a quick response, I have done that. I couldn&#39;t even get to my home controller before then i would receive a 500.19 previous to this change."}, {"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "reply_to_user": {"reputation": 2287, "user_id": 5153744, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zOUF1.png?s=128&g=1", "display_name": "NSGangster", "link": "https://stackoverflow.com/users/5153744/nsgangster"}, "edited": false, "score": 0, "creation_date": 1525903275, "post_id": 50262379, "comment_id": 87543376, "body": "I updated my answer and got the ASP.NET Core application running on my development following the steps mentioned in the answer"}], "tags": [], "owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "is_accepted": false, "score": 0, "last_activity_date": 1525903237, "last_edit_date": 1525903237, "creation_date": 1525901497, "answer_id": 50262379, "question_id": 50261475, "link": "https://stackoverflow.com/questions/50261475/net-core-2-0-mvc-odd-404-on-controller-methods-only-when-deployed-to-iis/50262379#50262379", "title": ".NET Core 2.0 MVC odd 404 on controller methods only when deployed to IIS", "body": "<p>Since you are getting 404 error, I suspect the aspnet core handler is missing from your website. Assuming that you have .NET Core Hosting Bundle installed, \nensure you have the following handler added in the web.config file. If web.config file is missing add a new web.config. Also, add a logs folder at the website root folder for logging. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n\n  &lt;!-- To customize the asp.net core module uncomment and edit the following section. \n  For more info see https://go.microsoft.com/fwlink/?linkid=838655 --&gt;\n\n  &lt;system.webServer&gt;\n    &lt;handlers&gt;\n      &lt;remove name=\"aspNetCore\"/&gt;\n      &lt;add name=\"aspNetCore\" path=\"*\" verb=\"*\" modules=\"AspNetCoreModule\" resourceType=\"Unspecified\"/&gt;\n    &lt;/handlers&gt;\n    &lt;aspNetCore processPath=\"%LAUNCHER_PATH%\" arguments=\"%LAUNCHER_ARGS%\" stdoutLogEnabled=\"false\" stdoutLogFile=\".\\logs\\stdout\" /&gt;\n  &lt;/system.webServer&gt;\n\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I got ASP.NET Core 2 app running on my machine following these steps:</p>\n\n<ol>\n<li><p>App Pool setting run under AppPoolIdentity with No Managed runtime configuration</p></li>\n<li><p>Publish your ASP.NET Core 2 website to a folder. By default it publishes to bin\\Release\\PublishOutput</p></li>\n<li><p>Point your IIS website to published folder</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7686231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56c22d6919282b2ec402f84afbc6291?s=128&d=identicon&r=PG&f=1", "display_name": "G.Smith", "link": "https://stackoverflow.com/users/7686231/g-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1554404815, "last_edit_date": 1554404815, "creation_date": 1554394031, "answer_id": 55520551, "question_id": 50261475, "link": "https://stackoverflow.com/questions/50261475/net-core-2-0-mvc-odd-404-on-controller-methods-only-when-deployed-to-iis/55520551#55520551", "title": ".NET Core 2.0 MVC odd 404 on controller methods only when deployed to IIS", "body": "<p>I was having a similar issue with getting a 404 when trying to access my site's Account controller. All of the other Razor pages where working correctly. If I change the inheritInChildApplications=\"false\" to true in the web.config the controller starts working.</p>\n\n<p><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;location path=\".\" inheritInChildApplications=\"true\"&gt;\n   ...\n&lt;/configuration&gt;</code></p>\n"}], "owner": {"reputation": 2287, "user_id": 5153744, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zOUF1.png?s=128&g=1", "display_name": "NSGangster", "link": "https://stackoverflow.com/users/5153744/nsgangster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1531, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1599158081, "creation_date": 1525897500, "last_edit_date": 1525903316, "question_id": 50261475, "link": "https://stackoverflow.com/questions/50261475/net-core-2-0-mvc-odd-404-on-controller-methods-only-when-deployed-to-iis", "title": ".NET Core 2.0 MVC odd 404 on controller methods only when deployed to IIS", "body": "<p>My home controller sucessfully return <code>index.html</code> from </p>\n\n<p><code>http://localhost/</code> \nand </p>\n\n<p><code>http://localhost/controller/</code></p>\n\n<p>but if i try to hit</p>\n\n<p><code>http://localhost/controller/method/</code></p>\n\n<p>I get a <code>404</code> even though that method works fine in IIS express.</p>\n\n<p>Couldn't find anything online with someone having a similar issue where only the methods on a controller didn't work on one particular deployment but the controller itself is fine.</p>\n\n<p>Things I've Tried that were common among a lot of .Net Core 2.0 issues with IIS Deployments:</p>\n\n<ul>\n<li><p>Make sure windows authentication is on in project settings and in IIS (I've toggled it on and off to no avail on both I don't have user auth on my web app so I don't think this matters for me).</p></li>\n<li><p>Switched my application pool to use <code>No managed code</code> for <code>CLR</code> version</p></li>\n<li><p>Change application pool ID to be <code>LocalSystem</code></p></li>\n<li><p>Change permissions on my publish output folder to include <code>%hostname%\\IIS_IUSRS</code></p></li>\n</ul>\n\n<p>Pretty sure I've also tried a lot of other basic troubleshooting that sometimes fixes issues. I.E. removing and readding app. Turning things on and off again to no avail. </p>\n\n<p>Any suggestions how to troubleshoot this would be very welcome.</p>\n\n<p>I also want to note it was working yesterday and can't remember changing anything other than the publishing output to use <code>Debug</code> instead of <code>Release</code> which of course by now I've changed back to <code>Release</code> but still no luck.</p>\n\n<p>Here is some code</p>\n\n<pre><code>public class MyController : Controller\n{\n    public IActionResult Index()\n    {\n        return View();\n    }\n\n    [HttpPost]\n    public void Store([FromBody]MyObject obj)\n    {\n        Console.WriteLine(Request.Body);\n        //Some code\n    }\n\n    [HttpGet]\n    public void Check(string objectUID, string idfv)\n    {\n        Console.WriteLine($\"ObjectUID: {objectUID}\");\n        Console.WriteLine($\"IDFV: {idfv}\");\n        //some other code\n    }\n\n    [HttpGet]\n    public MyObject Retrieve(string objectUID)\n    {\n        Console.Writeline($\"ObjectUID: {objectUID}\");\n        //Some Code\n    }\n}\n</code></pre>\n\n<p>This is my routing.</p>\n\n<pre><code>app.UseMvc(routes =&gt;\n{\n    routes.MapRoute(\n    name: \"default\",\n    template: \"{controller=MyController}/{action=Index}/{id?}\");\n});\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "shader", "compute-shader", "directcompute"], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 4731782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4d21d08a6606c69444eb2af67e6d1885?s=128&d=identicon&r=PG&f=1", "display_name": "EmmetOT", "link": "https://stackoverflow.com/users/4731782/emmetot"}, "is_accepted": true, "score": 0, "last_activity_date": 1526149623, "creation_date": 1526149623, "answer_id": 50309411, "question_id": 50261424, "link": "https://stackoverflow.com/questions/50261424/converting-a-texture-to-a-1d-array-of-float-values-using-a-compute-shader/50309411#50309411", "title": "Converting a texture to a 1d array of float values using a compute shader", "body": "<p>I reconsidered and solved my own question. The answer was in two parts: I was combining the x and y coordinates (id.x and id.y) strangely, and I was using the wrong input semantic. (SV_GroupThreadID instead of SV_DispatchThreadID)</p>\n\n<p>So here's the solution. I also flipped the y axis to match my intuition.</p>\n\n<pre><code>// Each #kernel tells which function to compile; you can have many kernels\n#pragma kernel CSMain\n\n// Create a RenderTexture with enableRandomWrite flag and set it\n// with cs.SetTexture\nTexture2D&lt;float4&gt; InputTexture;\nRWBuffer&lt;float&gt; OutputBuffer;\n\n[numthreads(8, 8, 1)]\nvoid CSMain(uint3 id : SV_DispatchThreadID)\n{\n    uint w, h;\n    InputTexture.GetDimensions(w, h);\n\n    OutputBuffer[id.x + id.y * w] = InputTexture[float2(id.x, h - 1 - id.y)].r;\n}\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 4731782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4d21d08a6606c69444eb2af67e6d1885?s=128&d=identicon&r=PG&f=1", "display_name": "EmmetOT", "link": "https://stackoverflow.com/users/4731782/emmetot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 50309411, "answer_count": 1, "score": 0, "last_activity_date": 1526149623, "creation_date": 1525897263, "last_edit_date": 1525898966, "question_id": 50261424, "link": "https://stackoverflow.com/questions/50261424/converting-a-texture-to-a-1d-array-of-float-values-using-a-compute-shader", "title": "Converting a texture to a 1d array of float values using a compute shader", "body": "<p>I have a fairly simple requirement for a compute shader (DirectCompute through Unity). I have a 128x128 texture and I'd like to turn the red channel of that texture into a 1d array of floats. I need to do this very often so just doing a cpu-side for loop over each texel won't cut it.</p>\n\n<p>Initialization:</p>\n\n<pre><code>    m_outputBuffer = new ComputeBuffer(m_renderTexture.width * m_renderTexture.height, sizeof(float));\n    m_kernelIndex = m_computeShader.FindKernel(\"CSMain\");\n</code></pre>\n\n<p>Here is the C# method:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// This method converts the red channel of the given RenderTexture to a\n/// one dimensional array of floats of size width * height.\n/// &lt;/summary&gt;\nprivate float[] ConvertToFloatArray(RenderTexture renderTexture)\n{\n    m_computeShader.SetTexture(m_kernelIndex, INPUT_TEXTURE, renderTexture);\n\n    float[] result = new float[renderTexture.width * renderTexture.height];\n\n    m_outputBuffer.SetData(result);\n    m_computeShader.SetBuffer(m_kernelIndex, OUTPUT_BUFFER, m_outputBuffer);\n\n    m_computeShader.Dispatch(m_kernelIndex, renderTexture.width / 8, renderTexture.height / 8, 1);\n\n    m_outputBuffer.GetData(result);\n\n    return result;\n}\n</code></pre>\n\n<p>and the entire compute shader:</p>\n\n<pre><code>// Each #kernel tells which function to compile; you can have many kernels\n#pragma kernel CSMain\n\n// Create a RenderTexture with enableRandomWrite flag and set it\n// with cs.SetTexture\nTexture2D&lt;float4&gt; InputTexture;\nRWBuffer&lt;float&gt; OutputBuffer;\n\n[numthreads(8, 8, 1)]\nvoid CSMain(uint3 id : SV_DispatchThreadID)\n{\n    OutputBuffer[id.x * id.y] = InputTexture[id.xy].r;\n}\n</code></pre>\n\n<p>the C# method returns an array of the expected size, and it usually sort-of-corresponds to what I expect. However, even if my input texture is uniformly red, there'll still be some zeroes.</p>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-core"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525898461, "post_id": 50261400, "comment_id": 87541490, "body": "Where in the Asp.Net pipeline do you expect this to occur?"}, {"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525898584, "post_id": 50261400, "comment_id": 87541559, "body": "@Amy I don&#39;t understand your question."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525898615, "post_id": 50261400, "comment_id": 87541574, "body": "Do you know what the Asp.Net pipeline <i>is</i>?"}, {"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525898666, "post_id": 50261400, "comment_id": 87541601, "body": "Nope. Do I need to know what it is to do a &quot;simple&quot; task like this?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525898816, "post_id": 50261400, "comment_id": 87541660, "body": "The answer depends on when you expect this to occur.  You can write an Owin middleware, use a Web API action filter, use a Web API delegating handler, do it in a Web API controller itself... how you do it can affect everything hosted in Owin, or just Web API, or Web API and some other set of components."}, {"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525899001, "post_id": 50261400, "comment_id": 87541754, "body": "Oh, now I understand. I want to use it in a controller (I&#39;m doing a filter system and I want to remove a certain filter from the query)."}], "answers": [{"comments": [{"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1525899895, "post_id": 50261951, "comment_id": 87542170, "body": "This removes the whole query param, if you look at my example I only want to remove one specific value (the cat1 in the example out of the none, cat1, cat2."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 1, "creation_date": 1525899933, "post_id": 50261951, "comment_id": 87542185, "body": "Change it to filter by <code>Value</code>, then.  The general principal is the same."}, {"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1525900332, "post_id": 50261951, "comment_id": 87542352, "body": "Thanks but how would I then use this to reconstruct the url?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1525900404, "post_id": 50261951, "comment_id": 87542382, "body": "Use the <code>Uri</code> class (or the <code>UriBuilder</code> class), but why would you want to do that?"}, {"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1525900558, "post_id": 50261951, "comment_id": 87542442, "body": "Because I&#39;m making a Filter system and if the user wants to remove a filter i&#39;ll remove it from the query"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1525900604, "post_id": 50261951, "comment_id": 87542462, "body": "We&#39;ve already removed it from the query.  Why reconstruct a new URL?"}, {"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1525900699, "post_id": 50261951, "comment_id": 87542506, "body": "Well because i&#39;ll use it in an &lt;a&gt; element. Am I doing things wrong?"}], "tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": false, "score": 2, "last_activity_date": 1525901266, "last_edit_date": 1525901266, "creation_date": 1525899516, "answer_id": 50261951, "question_id": 50261400, "link": "https://stackoverflow.com/questions/50261400/remove-one-query-param-value/50261951#50261951", "title": "Remove one query param value", "body": "<p>One way of doing this inside a controller's action method would be to do the following:</p>\n\n<pre><code>var queryParms = Request.GetQueryNameValuePairs();\n</code></pre>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.httprequestmessageextensions.getquerynamevaluepairs(v=vs.118).aspx\" rel=\"nofollow noreferrer\"><code>GetQueryNameValuePairs</code> is an extension method</a> found in the System.Net.Http namespace.</p>\n\n<p><code>queryParms</code> is an <code>IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;</code>.  To filter it you can use some LINQ:</p>\n\n<pre><code>var queryParms = Request\n    .GetQueryNameValuePairs()\n    .Where(kvp =&gt; kvp.Key != \"excluded key\");\n</code></pre>\n\n<p>To filter by key/value pair:</p>\n\n<pre><code>var queryParms = Request\n    .GetQueryNameValuePairs()\n    .Where(kvp =&gt; kvp.Key != \"excluded key\" &amp;&amp; kvp.Value != \"excluded value\");\n</code></pre>\n\n<p>This gives you a list of key/value pairs excluding the undesired query parameter.  If you wanted to exclude a list of keys, you can use the following variation of the above:</p>\n\n<pre><code>var excludedKeys = new[] { \"excluded a\", \"excluded b\", \"etc\" };\nvar queryParms = Request\n    .GetQueryNameValuePairs()\n    .Where(kvp =&gt; !excludedKeys.Contains(kvp.Key));\n</code></pre>\n\n<p>If you need to <em>change</em> or <em>replace</em> a query parameter value:</p>\n\n<pre><code>var queryParms = Request.GetQueryNameValuePairs();\nvar cat = queryParms.FirstOrDefault(x=&gt; x.Key == \"cat\");\nif (cat != null &amp;&amp; cat.Value == \"cat1\")\n{\n    cat.Value = \"none\";\n}\n// other stuff with query parms\n</code></pre>\n\n<p>Once you have your query parameters the way you want them, you'll need to reconstruct the URL.  For this I turn you to a very good answer to another question:</p>\n\n<p><a href=\"https://stackoverflow.com/a/1877016/47589\">https://stackoverflow.com/a/1877016/47589</a></p>\n"}], "owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525901266, "creation_date": 1525897165, "last_edit_date": 1525899223, "question_id": 50261400, "link": "https://stackoverflow.com/questions/50261400/remove-one-query-param-value", "title": "Remove one query param value", "body": "<p>Is it possible to remove 1 query param value in a simple way? (I'm thinking about recreating the list of values without the value we want to remove using <code>RouteValueDictionary</code> and <code>IUrlHelper.ActionContext.HttpContext.Request.Query</code> but I'm hoping there is a simpler way).</p>\n\n<p>Example:</p>\n\n<p>Original query: <code>localhost:5555/search?cat=none&amp;cat=cat1&amp;cat=cat2</code></p>\n\n<p>Wanted query (removing cat1): <code>localhost:5555/search?cat=none&amp;cat=cat2</code></p>\n"}, {"tags": ["c#", "unity3d", "instantiation"], "answers": [{"tags": [], "owner": {"reputation": 680, "user_id": 7188335, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-_u88jZeBnQI/AAAAAAAAAAI/AAAAAAAAABo/4Q7HWXZAEV0/photo.jpg?sz=128", "display_name": "Tyler S. Loeper", "link": "https://stackoverflow.com/users/7188335/tyler-s-loeper"}, "is_accepted": true, "score": 2, "last_activity_date": 1525901240, "last_edit_date": 1525901240, "creation_date": 1525897459, "answer_id": 50261466, "question_id": 50261375, "link": "https://stackoverflow.com/questions/50261375/trying-to-increment-instantiate-position-each-time-object-is-created-unity-c/50261466#50261466", "title": "trying to increment instantiate position each time object is created UNITY C#", "body": "<p>This is very simple. Just move this code</p>\n\n<pre><code>    spawnPoint += new Vector3(0, 0, -8);\n</code></pre>\n\n<p>to outside the AddUnit() function, to where it is called instead.</p>\n\n<p>The idea being to increment the start position every time you call the function. Here is an example.</p>\n\n<pre><code>void Update()\n{\n    spawnPoint += new Vector3(0, 0, -8);\n    AddUnit(unitName, spawnPoint, rallyPoint, rotation, creator);\n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 6831912, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ibv29.jpg?s=128&g=1", "display_name": "ESuth", "link": "https://stackoverflow.com/users/6831912/esuth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 50261466, "answer_count": 1, "score": 1, "last_activity_date": 1525901240, "creation_date": 1525897081, "question_id": 50261375, "link": "https://stackoverflow.com/questions/50261375/trying-to-increment-instantiate-position-each-time-object-is-created-unity-c", "title": "trying to increment instantiate position each time object is created UNITY C#", "body": "<p>I am wondering how I would set up the following code to increment the instantiate position each time an object is created, so they all line up next to each other. Currently they just all fight for the same location and start dancing with each other in a circle.</p>\n\n<pre><code>public void AddUnit(string unitName, Vector3 spawnPoint, Vector3 rallyPoint, Quaternion rotation, Building creator)\n    {\n        rallyPoint += new Vector3(-10, 0, 0);\n        Units units = GetComponentInChildren&lt;Units&gt;();\n        spawnPoint += new Vector3(0, 0, -8);\n        GameObject newUnit = (GameObject)Instantiate(ResourceManager.GetUnit(unitName), spawnPoint, rotation);\n        newUnit.transform.parent = units.transform;\n        Unit unitObject = newUnit.GetComponent&lt;Unit&gt;();\n\n        if (unitObject)\n        {\n\n            unitObject.SetBuilding(creator);\n            if (spawnPoint != rallyPoint)\n            {\n\n                unitObject.StartMove(rallyPoint);\n\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "mapreduce"], "comments": [{"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 1, "creation_date": 1525897512, "post_id": 50261352, "comment_id": 87541017, "body": "This is broad. What kind of data, how much aggregation, how complex, how much historical are you working with, etc."}, {"owner": {"reputation": 1, "user_id": 9767155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97de52664447afaf039384b405b09cae?s=128&d=identicon&r=PG", "display_name": "Ron", "link": "https://stackoverflow.com/users/9767155/ron"}, "reply_to_user": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 0, "creation_date": 1525898038, "post_id": 50261352, "comment_id": 87541272, "body": "Tick data, need to perform some calculations to build features for machine learning consumption.  Those features would be stored in a summary table in the same database.  The calculations are not complex but might be based on people&#39;s needs."}, {"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1525898907, "post_id": 50261352, "comment_id": 87541707, "body": "Can you clarify on what you mean by using C# but not through the .NET application? You mean like a CLR procedure in Sql Server?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9767155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97de52664447afaf039384b405b09cae?s=128&d=identicon&r=PG", "display_name": "Ron", "link": "https://stackoverflow.com/users/9767155/ron"}, "edited": false, "score": 0, "creation_date": 1525904740, "post_id": 50261824, "comment_id": 87543882, "body": "I need it to the millisecond.  I thought of a trigger but was concerned that would impact write speeds."}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "reply_to_user": {"reputation": 1, "user_id": 9767155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97de52664447afaf039384b405b09cae?s=128&d=identicon&r=PG", "display_name": "Ron", "link": "https://stackoverflow.com/users/9767155/ron"}, "edited": false, "score": 0, "creation_date": 1525957632, "post_id": 50261824, "comment_id": 87564078, "body": "Both solutions will have some impact on write speeds.  For an additive aggregate you have to read the aggregate row with a U lock, and add the inserted value and subtract the deleted value.  This will serialize writes to the group, slowing down parallel writes to the table."}], "tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": false, "score": 0, "last_activity_date": 1525898984, "creation_date": 1525898984, "answer_id": 50261824, "question_id": 50261352, "link": "https://stackoverflow.com/questions/50261352/design-for-real-time-aggregations-performed-on-sql-server-transactional-data/50261824#50261824", "title": "Design for real time aggregations performed on SQL Server transactional data", "body": "<p>How real time do you need?  The obvious solution is to run a job every minute or so to aggregate the latest detail data and load it into a summary table.</p>\n\n<p>You could also use an <a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/views/create-indexed-views?view=sql-server-2017\" rel=\"nofollow noreferrer\">Indexed View</a> or even a trigger to maintain the aggregates as data is loaded.</p>\n"}], "owner": {"reputation": 1, "user_id": 9767155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97de52664447afaf039384b405b09cae?s=128&d=identicon&r=PG", "display_name": "Ron", "link": "https://stackoverflow.com/users/9767155/ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1525898984, "creation_date": 1525896985, "question_id": 50261352, "link": "https://stackoverflow.com/questions/50261352/design-for-real-time-aggregations-performed-on-sql-server-transactional-data", "title": "Design for real time aggregations performed on SQL Server transactional data", "body": "<p>I have a .NET application firing events and storing tick data in SQL Server.  The transactional data is about 5 GB a day.  For reasons related to the data source, I can only with difficulty modify the .NET application that is processing the events to perform aggregations.  </p>\n\n<p>I'm trying to figure out the best way to, in real time and preferably using C# (though I know Python too) ways to automatically aggregate the data in real time.</p>\n\n<p>Does anyone have any ideas about this?  I've thought about map reduce but seems like there would be a delay.  I really would like to avoid building out the .NET application because I can't use Visual Studio to debug.</p>\n"}, {"tags": ["c#", "system.reactive"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1526035286, "post_id": 50261335, "comment_id": 87597015, "body": "It&#39;s a waste to do <code>new Random((int)DateTime.Now.Ticks)</code> because that&#39;s what <code>new Random()</code> does under the hood. You&#39;re better of creating a <code>[ThreadStatic]</code> static field variable."}, {"owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1526046729, "post_id": 50261335, "comment_id": 87604048, "body": "@Enigmativity <a href=\"https://webcache.googleusercontent.com/search?q=cache:soLsS4sP7AoJ:https://github.com/dotnet/coreclr/blob/master/src/mscorlib/shared/System/Random.cs+&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;gl=us#L126\" rel=\"nofollow noreferrer\">No it does not</a> it uses a logic involving two <code>Random</code> objects one cycled one maintained."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1526081648, "post_id": 50261335, "comment_id": 87619584, "body": "Interesting. I wonder when that changed. Nevertheless, it doesn&#39;t make a difference in using <code>new Random((int)DateTime.Now.Ticks)</code> over <code>new Random()</code>. It still has the same issue of a bad seed."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1607099020, "post_id": 50261335, "comment_id": 115174363, "body": "Related: <a href=\"https://stackoverflow.com/questions/64961330/how-to-fix-the-inconsistency-of-the-publish-refcount-behavior\">How to fix the inconsistency of the Publish().RefCount() behavior?</a> TL;DR, the problematic behavior you observe cannot be fixed reliably. The reason you <code>Publish</code> is for ensuring that multiple subscribers will get notifications from the same sequence. This can only be guaranteed with a <code>Publish</code> backed up by a statefull <code>Subject</code> (that remembers the completion status of the source). The sad repercussion is that the <code>Publish</code> is not reusable. It can be connected only once."}], "answers": [{"comments": [{"owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "edited": false, "score": 0, "creation_date": 1525898690, "post_id": 50261690, "comment_id": 87541607, "body": "<code>Retry</code> should unsubscribe the dead observable which should let <code>RefCount</code> layer know there are no more subscribers, hence calling <code>Disconnect()</code> on <code>IConnectableObservable</code> returned by <code>Publish()</code>, and <code>Retry</code> should try another subscription. Is <code>Retry</code> not Disposing the subscription before it resubscribes?"}, {"owner": {"reputation": 12904, "user_id": 415661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8faea52abcef0df40f92cb1f115d0e62?s=128&d=identicon&r=PG", "display_name": "Shlomo", "link": "https://stackoverflow.com/users/415661/shlomo"}, "reply_to_user": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "edited": false, "score": 0, "creation_date": 1525900463, "post_id": 50261690, "comment_id": 87542409, "body": "That&#39;s basically an implementation detail breaking the wrong way against you. Whether it subscribes then unsubscribes or vice versa isn&#39;t something you want to be relying on."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "reply_to_user": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "edited": false, "score": 0, "creation_date": 1526081186, "post_id": 50261690, "comment_id": 87619504, "body": "@fahadash - The <code>OnError</code> is effectively unsubscribing - the <code>.Retry</code> is resubscribing. But as Shlomo points out, the <code>.Publish().RefCount()</code> combination is a once only observable so the <code>.Retry</code> can never succeed in this circumstance."}], "tags": [], "owner": {"reputation": 12904, "user_id": 415661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8faea52abcef0df40f92cb1f115d0e62?s=128&d=identicon&r=PG", "display_name": "Shlomo", "link": "https://stackoverflow.com/users/415661/shlomo"}, "is_accepted": false, "score": 2, "last_activity_date": 1525898465, "creation_date": 1525898465, "answer_id": 50261690, "question_id": 50261335, "link": "https://stackoverflow.com/questions/50261335/observable-retry-is-not-working-as-expected-with-hot-observables/50261690#50261690", "title": "Observable.Retry() is not working as expected with Hot Observables", "body": "<p>When an observable errors out, it is dead and finished. No more notifications should flow out. In your case, <code>o</code> is erring out and because of <code>.Publish().Refcount()</code>, the <code>Retry</code> is trying to resubscribe to the same observable (which is dead and finished). That's what <code>Publish</code> does: instead of creating new observables, it subscribes multiple clients to the same observables.</p>\n\n<p>If you remove <code>.Publish().Refcount()</code> you'll see it attempt to resubscribe to a new observable. </p>\n"}], "owner": {"reputation": 3144, "user_id": 1411014, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/779480598b27b7a95ab5d87d2f9a60e5?s=128&d=identicon&r=PG", "display_name": "fahadash", "link": "https://stackoverflow.com/users/1411014/fahadash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525898465, "creation_date": 1525896908, "last_edit_date": 1525898167, "question_id": 50261335, "link": "https://stackoverflow.com/questions/50261335/observable-retry-is-not-working-as-expected-with-hot-observables", "title": "Observable.Retry() is not working as expected with Hot Observables", "body": "<p>I have the following observable sequence</p>\n\n<pre><code>int num = 0;            \n\nvar o = Observable.Create&lt;int&gt;(observer =&gt; Task.Run(() =&gt;\n{\n    var rnd = new Random((int)DateTime.Now.Ticks);\n    Console.WriteLine($\"Starting subscription loop # {++num}\");\n    for (int i=0;i&lt;100;i++)\n    {\n        Thread.Sleep(200);\n\n        if (i == 3)\n        {\n            observer.OnError(new ApplicationException(\"test exception\"));\n            break;\n        }\n\n        observer.OnNext(rnd.Next(0, 50));\n    }\n})).Publish().RefCount();\n</code></pre>\n\n<p>and the following notification handler</p>\n\n<pre><code>o\n    .Retry()\n    .Subscribe(Console.WriteLine, ex =&gt; Console.WriteLine($\"Exception occurred: {ex.Message}\"), () =&gt; Console.WriteLine(\"Completed\"));\n</code></pre>\n\n<p>Here is my output</p>\n\n<pre><code>Starting subscription loop # 1\n47\n27\n12\nStarting subscription loop # 2\nStarting subscription loop # 3\nStarting subscription loop # 4\nStarting subscription loop # 5\nStarting subscription loop # 6\nStarting subscription loop # 7\nStarting subscription loop # 8\nStarting subscription loop # 9\n...\n</code></pre>\n\n<p>I read the following in <a href=\"http://www.introtorx.com/content/v1.0.10621.0/11_advancederrorhandling.html\" rel=\"nofollow noreferrer\">Lee Campbell's IntroToRx</a> book</p>\n\n<blockquote>\n  <p>If you are expecting your sequence to encounter predictable issues,\n  you might simply want to retry. One such example when you want to\n  retry is when performing I/O (such as web request or disk access). I/O\n  is notorious for intermittent failures. The Retry extension method\n  offers the ability to retry on failure a specified number of times or\n  until it succeeds.</p>\n</blockquote>\n\n<p>The behavior I notice in my sample does not match the behavior Campbell has notated, neither does it match his samples. What am I missing?</p>\n\n<p>It works fine if I don't <code>Publish().RefCount()</code>.</p>\n"}, {"tags": ["c#", ".net", "image", "image-processing", "bitmap"], "comments": [{"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 1, "creation_date": 1525897080, "post_id": 50261312, "comment_id": 87540834, "body": "Where are you cleaning up your previous bitmaps? <code>Bitmap</code> is disposable, you need to get rid of previous images when you create a new one."}, {"owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1525902368, "post_id": 50261312, "comment_id": 87543087, "body": "At the lines with ...    latest_frame_buffer_Bitmap.Dispose();    and   camera_buffer_Bitmap.Dispose();"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1525903448, "post_id": 50261312, "comment_id": 87543424, "body": "Ok, maybe I missed those. Why do you call your screenshot a memory leak? It seems that memory goes up for a bit and is reclaimed, in cycles. Does it actually keep increasing over time? (Hard to tell the peaks from the screenshot.)"}, {"owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1525906068, "post_id": 50261312, "comment_id": 87544287, "body": "xxbbcc:  So, that&#39;s just a garbage collection pattern, then?"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1525966292, "post_id": 50261312, "comment_id": 87569527, "body": "Sorry, I didn&#39;t see your comment until now. Yes, based on your screenshot, it just seems a GC pattern. If the peaks keep going higher and higher over time, that would indicate a memory leak."}], "answers": [{"tags": [], "owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "is_accepted": false, "score": 0, "last_activity_date": 1525965311, "creation_date": 1525965311, "answer_id": 50276210, "question_id": 50261312, "link": "https://stackoverflow.com/questions/50261312/c-memory-leak-after-inputing-and-rotating-image-bitmap-from-usb-camera/50276210#50276210", "title": "C# memory leak after inputing and rotating image Bitmap from USB camera", "body": "<p>Problem was not in code.\nIt was my misunderstanding of the memory pattern shown by Diag Tool (diagram above).  Though memory usage increases over several of the event callbacks, the intelligent garbage collector doesn't auto dispose every callback.</p>\n\n<p>Thanks to xxbbcc's illuminating comment.</p>\n"}], "owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525965311, "creation_date": 1525896780, "last_edit_date": 1525906038, "question_id": 50261312, "link": "https://stackoverflow.com/questions/50261312/c-memory-leak-after-inputing-and-rotating-image-bitmap-from-usb-camera", "title": "C# memory leak after inputing and rotating image Bitmap from USB camera", "body": "<p>I initiate image frame download from USB camera to C# windows app:\n(Uses Accord's (ie. AForge) VideoCaptureDevice)</p>\n\n<pre><code>// Automatically start inputing each frame from camera:\nvar videoDevices = new FilterInfoCollection(FilterCategory.VideoInputDevice);\n// Select physical USB camera:                 http://accord-framework.net/docs/html/T_Accord_Video_DirectShow_VideoCaptureDevice.htm\nvideoSource = new VideoCaptureDevice( videoDevices[0].MonikerString, pixelFormat_for_ExhaustiveTemplateMatching);\n// Select event handlers:\nvideoSource.NewFrame += new NewFrameEventHandler( EVENT_camera_frame ); //http://accord-framework.net/docs/html/T_Accord_Video_NewFrameEventArgs.htm\n\n// Start slurpin up them camera frames:\nvideoSource.Start();\n</code></pre>\n\n<p>Then, I process each event that contains the next image frame from camera:</p>\n\n<pre><code>    private static void EVENT_camera_frame(object sender, NewFrameEventArgs camera_frame_event)\n    {\n        if( latest_frame_buffer_Bitmap != null )\n        {\n            latest_frame_buffer_Bitmap.Dispose();\n        }\n\n        // Allocate camera Bitmap buffer:\n        camera_buffer_Bitmap = new Bitmap( \n        // ..rotate and copy raw camera frame image bitmap from camera_frame_Bitmap to camera_buffer_Bitmap: \n        image_rotator_RotateBilinear.Apply(   camera_frame_Bitmap ));       ///////////  2ND BITMAP BUFFER   /////////////\n\n        // Init a Bitmap for size of frame from camera and for conversion from camera native pixel format to comparison compatible format Format24bppRgb:\n        latest_frame_buffer_Bitmap = new Bitmap(    camera_frame_Bitmap.Width, \n                                                camera_frame_Bitmap.Height,\n                                                System.Drawing.Imaging.PixelFormat.Format24bppRgb);\n\n        // From rotated, camera format image bitmap in camera_frame_Bitmap, convert to Format24bppRgb and copy to latest_frame_buffer_Bitmap:\n        using (Graphics gr = Graphics.FromImage( latest_frame_buffer_Bitmap))\n        {\n            gr.DrawImage( camera_buffer_Bitmap, new Rectangle(0, 0,\n                                                                latest_frame_buffer_Bitmap.Width,\n                                                                latest_frame_buffer_Bitmap.Height));\n\n            camera_buffer_Bitmap.Dispose();\n            // Draw crop rectangle in Live Camera View:\n            using( Graphics live_image_Graphics = Graphics.FromImage( latest_frame_buffer_Bitmap ) )\n            {\n                live_image_Graphics.DrawRectangle( crop_pen, crop_display_rectangle );   /////////////   DRAW CROPPING RECTANGLE   /////////////\n            }\n            // Show crop rectangle in PictureBox of Live Camera View:\n            control_panel.show_camera_crosshairs();    \n        } \ncamera_frame_Bitmap.Dispose();   // I just tried this, but didn't fix the leak.\n    } \n</code></pre>\n\n<p>Then, I do .BeginInvoke to 'schedule' UI thread to update PictureBox:</p>\n\n<pre><code>public  void show_camera_crosshairs()\n{\n    // Show crosshairs, if requested in camera view:\n\n    // Create pen.\n    Pen crosshairs_pen = new Pen(Color.White, 1 );\n\n    int width = Computer_Vision_API.latest_frame_buffer_Bitmap.Width;\n    int height = Computer_Vision_API.latest_frame_buffer_Bitmap.Height;\n\n    int top_y = height - 1;\n    int bottom_y = 0;\n    int left_x = 0;\n    int right_x = width - 1;\n\n    // Create points that define line.\n    Point crosshair_point_top = new Point( width / 2, top_y );\n    Point crosshair_point_bottom = new Point( width / 2, bottom_y );\n    Point crosshair_point_left = new Point( 0, height / 2 );\n    Point crosshair_point_right = new Point( width-1, height / 2 );\n\n    float[] dashValues = { 4, 2 };\n    crosshairs_pen.DashPattern = dashValues;\n    // Verticle crosshair:\n    Graphics live_image_Graphics = Graphics.FromImage( Computer_Vision_API.latest_frame_buffer_Bitmap );\n    live_image_Graphics.DrawLine( crosshairs_pen, crosshair_point_top, crosshair_point_bottom );\n\n    // Horizontal crosshair:\n    live_image_Graphics.DrawLine( crosshairs_pen,  crosshair_point_left, crosshair_point_right );\n    live_image_Graphics.Dispose();\n\n    // Display latest frame from camera:\n    Common.dbg(\"\",\"\",\"BeginInvoke: update_PictureBox\");\n    PictureBox_live_camera.BeginInvoke( new update_PictureBox_Delegate( update_PictureBox ));\n}\n</code></pre>\n\n<p>And, finally, I have UI thread update PictureBox...</p>\n\n<pre><code>public delegate void update_PictureBox_Delegate(  );\n\npublic  void update_PictureBox()\n{\n    Common.dbg(\"\",\"\",\"\");\n    Computer_Vision_API.computer_vision_resource.WaitOne();\n    Common.dbg(\"\",\"\",\"computer_vision_resource\");\n    PictureBox_live_camera.Image = Computer_Vision_API.latest_frame_buffer_Bitmap;\n    PictureBox_live_camera.BackgroundImage = Computer_Vision_API.latest_frame_buffer_Bitmap;\n    Computer_Vision_API.computer_vision_resource.ReleaseMutex();           // release use of computer vision Bitmap buffers, etc.\n}\n</code></pre>\n\n<p>Here's a look at the memory leak...\n<a href=\"https://i.stack.imgur.com/774pJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/774pJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>U P D A T E :\nI narrowed the cause of the memory leak down to this line:</p>\n\n<pre><code>image_rotator_RotateBilinear.Apply(   camera_frame_Bitmap ));       ///////////  2ND BITMAP BUFFER   /////////////\n</code></pre>\n\n<p>Comment below suggests sawtooth pattern doesn't infer a memory leak at all -- just my misassumption.  Here is latest memory pattern...\n<a href=\"https://i.stack.imgur.com/sxr1u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sxr1u.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "c#", "ajax", "asp.net-mvc", "asp.net-mvc-partialview"], "answers": [{"comments": [{"owner": {"reputation": 102, "user_id": 5037847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e447c6ee8efe410c28ca053041840?s=128&d=identicon&r=PG&f=1", "display_name": "noor", "link": "https://stackoverflow.com/users/5037847/noor"}, "edited": false, "score": 0, "creation_date": 1525896448, "post_id": 50261165, "comment_id": 87540574, "body": "I have already set the port number....I have tried what you suggested but didnt work...The view doesnt open."}, {"owner": {"reputation": 102, "user_id": 5037847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e447c6ee8efe410c28ca053041840?s=128&d=identicon&r=PG&f=1", "display_name": "noor", "link": "https://stackoverflow.com/users/5037847/noor"}, "edited": false, "score": 0, "creation_date": 1525896673, "post_id": 50261165, "comment_id": 87540680, "body": "i tried setting some alerts in there and I printed the response too....which seems to be fine but view doesnt show"}, {"owner": {"reputation": 102, "user_id": 5037847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e447c6ee8efe410c28ca053041840?s=128&d=identicon&r=PG&f=1", "display_name": "noor", "link": "https://stackoverflow.com/users/5037847/noor"}, "edited": false, "score": 1, "creation_date": 1525897375, "post_id": 50261165, "comment_id": 87540953, "body": "My datatype was different different that why it wasnt replacing ....thanks."}], "tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 2, "last_activity_date": 1525896048, "creation_date": 1525896048, "answer_id": 50261165, "question_id": 50261093, "link": "https://stackoverflow.com/questions/50261093/render-partial-view-on-same-page/50261165#50261165", "title": "render partial view on same page", "body": "<p>The <code>window.location</code> command causes your browser to navigate to a new location, as specified by the given URL. </p>\n\n<p>Instead choose some existing element on your page where you wish to inject the contents of the partial, and set the <code>innerHTML</code> property of that element to be the contents of the response. e.g. let's say you have an existing div somewhere like this:</p>\n\n<pre><code>&lt;div id=\"results\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Then, in your JavaScript you can do this:</p>\n\n<pre><code>$(\".callSearch\").click(function (e) {\n    e.preventDefault();\n\n    var url = '@Url.Action(\"Search\", \"Search\")';\n    $.ajax(\n        {\n            type: \"GET\",\n            url: 'Search/Search',\n            dataType: \"html\",\n            success: function (response) {\n                $(\"#results\").html(response); //set the HTML content of the \"results\" div to be the response from the server, which contains the HTML generated by execution of the partial view\n            },\n            error: function () {\n                alert(\"Error\");\n            }\n        });\n});\n</code></pre>\n\n<p>N.B. Note that if you are making an ajax call to another project at a different URL and/or port you may have to setup the other project to accept CORS requests.</p>\n"}], "owner": {"reputation": 102, "user_id": 5037847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e447c6ee8efe410c28ca053041840?s=128&d=identicon&r=PG&f=1", "display_name": "noor", "link": "https://stackoverflow.com/users/5037847/noor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "accepted_answer_id": 50261165, "answer_count": 1, "score": 0, "last_activity_date": 1525897413, "creation_date": 1525895695, "last_edit_date": 1525897413, "question_id": 50261093, "link": "https://stackoverflow.com/questions/50261093/render-partial-view-on-same-page", "title": "render partial view on same page", "body": "<p>In my navigation bar, I have <i> Search</i></p>\n\n<pre><code> &lt;li&gt;&lt;a href=\"#\" class=\"callSearch\"&gt;Search &lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>I am making Ajax call, to go to different projects controller</p>\n\n<pre><code> $(\".callSearch\").click(function (e) {\n    e.preventDefault();\n\n    var url = '@Url.Action(\"Search\", \"Search\")';\n    $.ajax(\n        {\n            type: \"GET\",\n            url: 'Search/Search',\n            //dataType: \"json\",\n            success: function () {\n                window.location = \"https://localhost:xxx/Search/Search\";\n            },\n            error: function () {\n                alert(\"Error\");\n            }\n        });\n\n});\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>  [HttpGet]\n    public ActionResult Search()\n    {\n        return PartialView(\"~/Views/Search/_Search.cshtml\");\n    }\n</code></pre>\n\n<p>With this code I posted the partial view is opening in new page. Search controller is in different project and layout file that has navigation and js is in different project.</p>\n\n<p>I want to return the modal on the same page ....But right now its going to different page and navigation is gone on that page.</p>\n\n<p>Any ideas on how to do that? I tried using <a href=\"https://stackoverflow.com/questions/20923305/render-a-partial-view-inside-a-jquery-modal-popup-on-top-of-a-parent-view\">Render a partial view inside a Jquery modal popup on top of a parent view</a> but didnt work for me.</p>\n"}, {"tags": ["c#", "sql", "sqlite", "tomcat", "uwp"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1525898188, "post_id": 50261075, "comment_id": 87541337, "body": "What is the scope of the data here? Every user has their on set of data and only they should/are allowed to work with that? Or is some of the data somehow shared between users (read only or read/write)? What is the purpose of the database server? And which DBMS do you use the database server? Please try to describe you scenario and your requirements in greater detail."}, {"owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1525898388, "post_id": 50261075, "comment_id": 87541450, "body": "each user will have their data and should be allowed to see/use only that data. For server I did not decide yet. The purpose of the server is that data of UWP SQLite must be transfered to SQLite of Android device."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 1, "creation_date": 1525898879, "post_id": 50261075, "comment_id": 87541690, "body": "Then I&#39;d think about having a database and a login for each user (<i>n</i> databases and <i>n</i>  logins, if there are <i>n</i> users). A login only gets rights on the respective database. Then it&#39;s clear whats who&#39;s. Of course you&#39;ll have the overhead to create a new database and login for each user but I think, that&#39;s easier than adding a new column to every table to indicate which user&#39;s row that is. Or juggling with multiple tables. Should be the safest approach too, as I&#39;d consider the barrier to trick the server is quite high."}, {"owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1525898979, "post_id": 50261075, "comment_id": 87541748, "body": "any drawbacks like number of databases limit on SQL side?"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1525899176, "post_id": 50261075, "comment_id": 87541846, "body": "In general no. In detail, that depends on the actual system (version, flavor, environment...)."}], "owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525896050, "creation_date": 1525895616, "last_edit_date": 1525896050, "question_id": 50261075, "link": "https://stackoverflow.com/questions/50261075/distinguishing-users-in-sql-database-sync-with-multiple-sqlite-offline-databas", "title": "Distinguishing Users in SQL database - sync with multiple SQLite offline databases C# UWP", "body": "<p>I opened a thread here:\n<a href=\"https://stackoverflow.com/questions/50253333/sqlite-database-vs-online-database-c-sharp-uwp?noredirect=1#comment87527082_50253333\">SQLite Database vs online database C# UWP\n</a></p>\n\n<p>but I have a second, more general question that was not answered:</p>\n\n<p>How do I distinguish data of each user from all the others after sync between multiple SQLite files and one SQL server? </p>\n\n<p>I mean, since the SQLite is offline and local db solution, I did not implement any user/password thing. </p>\n\n<p>But since multiple users will be syncing between their Host and Client app via SQL temporary database, I don't know what is the usual technique to achieve this. </p>\n\n<p><strong>My theory</strong> is to force host app user for user/password creation and store that data in one of the SQLite tables locally. Then, I should use <a href=\"http://github.com/sqlite-sync/SQLite-sync.com\" rel=\"nofollow noreferrer\">SQLite-Sync</a>\nto pull all current users' data from SQLite and combine it with his specific user credentials.</p>\n\n<p>But, since I never used SQL (only SQLite) I don't know how user management works. <strong>Here is my question then</strong>:</p>\n\n<p>How do I separate each users' data from the others? </p>\n\n<p>Is the user assigned to each row of data like an additional field in order to distinguish specific users' data? </p>\n\n<p>Or is there a separate table for each user? Or maybe there are different databases for each user? (sorry if my theories are too nooby).</p>\n\n<p><strong>EDIT:</strong>\nI just had another idea, maybe it is possible to avoid SQL server mediation if I manage to parse user SQLite data directly between the two apps? Something like this: <a href=\"https://stackoverflow.com/questions/32796625/how-to-do-sync-with-local-database-and-parse\">How to do sync with local database and parse?\n</a> but in UWP vs Android.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525895800, "post_id": 50260981, "comment_id": 87540265, "body": "<i>&quot;So i need to add smaller picture 2 over the picture 1, but picture 2 mustn&#39;t overlap picture 1.&quot;</i> That statement seems mutually exclusive..."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525896350, "post_id": 50260981, "comment_id": 87540532, "body": "The latter might work but you don&#39;t really explain what you want to achive."}, {"owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525975517, "post_id": 50260981, "comment_id": 87574482, "body": "@RonBeyer i wrote it in a hurry. The picture 2&#39;s background mustn&#39;t overlap with picture 1 (background of picture 2 must be transparent)"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525976289, "post_id": 50261011, "comment_id": 87574884, "body": "thanks a bunch. However, why do i need the <code>Initializecomponent();</code> part? It kind of screws up rest of my code."}, {"owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525977550, "post_id": 50261011, "comment_id": 87575490, "body": "So i tried to make it work, and somehow succeeded. I&#39;m still an amateur so this was all new to me. I made a new <code>private void</code> method in the designer, which contained all of &quot;pictureBox1&quot; entries from <code>InitializeComponent()</code> and referenced that method instead of <code>InitializeComponent()</code> in your solution. I have no idea how, but it works."}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525977700, "post_id": 50261011, "comment_id": 87575574, "body": "@FedjaMladenovic It is not recommended to modify the designer file. Can you tell me what are you trying to solve by modifying the designer file?"}, {"owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525978180, "post_id": 50261011, "comment_id": 87575827, "body": "You see, i have a huge groupBox. Depending on your selection of specific parameters, only a portions of groupBox should be displayed when the program is executed. So, when i call the <code>InitializeComponent()</code>, and execute the program, i can&#39;t get those smaller portions of the groupBox, only groupBox as a whole."}, {"owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525978190, "post_id": 50261011, "comment_id": 87575838, "body": "I guess that&#39;s because i modified groupBox in the Form.cs, but not in the designer. So, when i need to execute a program, i must not call the entire designer (since some parts of it are changed in Form.cs but not in the designer) but only the parts of it that weren&#39;t changed. That&#39;s how i figured out making another method similar to <code>InitializeComponent()</code> that calls only the properties that i need (In this case all entries in designer that contain pictureBox1)"}, {"owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525978554, "post_id": 50261011, "comment_id": 87576043, "body": "I&#39;m really a begginner, and i can&#39;t explain my thoughts any better, i beg your pardon for any inconvenience"}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525978688, "post_id": 50261011, "comment_id": 87576106, "body": "You might need to control this situation by working with the control properties. It would be better if you frame a new question with the problem you are facing, and the approach you are using."}, {"owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "edited": false, "score": 0, "creation_date": 1525979769, "post_id": 50261011, "comment_id": 87576599, "body": "I just did. Thanks alot anyways, you were really helpful. Cheers."}], "tags": [], "owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "is_accepted": true, "score": 1, "last_activity_date": 1525895304, "creation_date": 1525895304, "answer_id": 50261011, "question_id": 50260981, "link": "https://stackoverflow.com/questions/50260981/making-a-picturebox-inside-of-a-groupbox-transparent/50261011#50261011", "title": "Making a pictureBox inside of a groupBox transparent", "body": "<p>You need to set the parent control of the picture box. The transparent background that is displayed is that of the parent control.</p>\n\n<pre><code>InitializeComponent();\ngroupBox.Controls.Add(pictureBox2);\npictureBox2.Parent = pictureBox1;\npictureBox2.Location = new Point(0, 0);\npictureBox2.BackColor = Color.Transparent;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 0, "creation_date": 1525895633, "post_id": 50261048, "comment_id": 87540185, "body": "The Transparent background will still be that of the parent control, which is groupbox in your solution."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 0, "creation_date": 1525895953, "post_id": 50261048, "comment_id": 87540334, "body": "@Harsh How so?  They added it to the Picture1 Controls collection.  That sets the Parent property.  The answer you posted moves PictureBox2&#39;s parent from the GroupBox to PictureBox1.  No different."}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1525896064, "post_id": 50261048, "comment_id": 87540390, "body": "@LarsTech My bad. I somehow read that Controls.Add was on groupbox. Taking my comment back. Thanks."}], "tags": [], "owner": {"reputation": 19, "user_id": 9755749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af04d3b65a6b0b1f13912e7c513274a?s=128&d=identicon&r=PG&f=1", "display_name": "SnowDeveloper", "link": "https://stackoverflow.com/users/9755749/snowdeveloper"}, "is_accepted": false, "score": 1, "last_activity_date": 1525895501, "creation_date": 1525895501, "answer_id": 50261048, "question_id": 50260981, "link": "https://stackoverflow.com/questions/50260981/making-a-picturebox-inside-of-a-groupbox-transparent/50261048#50261048", "title": "Making a pictureBox inside of a groupBox transparent", "body": "<p>In order to accomplish this try the following:</p>\n\n<pre><code>InitializeComponent();\npictureBox1.Controls.Add(pictureBox2);\npictureBox2.Location = new Point(0, 0);\npictureBox2.BackColor = Color.Transparent;\npictureBox1.SendToBack();\npictureBox2.BringToFront();\n</code></pre>\n\n<p>used .SendToBack() for the one on the back and .BringToFront() for the one on the front. </p>\n"}], "owner": {"reputation": 41, "user_id": 9440020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oq8admOP3gY/AAAAAAAAAAI/AAAAAAAAAAA/m6ok0_i9Qpg/photo.jpg?sz=128", "display_name": "Fedja Mladenovic", "link": "https://stackoverflow.com/users/9440020/fedja-mladenovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 50261011, "answer_count": 2, "score": 0, "last_activity_date": 1525975544, "creation_date": 1525895159, "last_edit_date": 1525975544, "question_id": 50260981, "link": "https://stackoverflow.com/questions/50260981/making-a-picturebox-inside-of-a-groupbox-transparent", "title": "Making a pictureBox inside of a groupBox transparent", "body": "<p>So i've got a groupBox with a picture 1 inside of it. So i need to add smaller picture 2 over the picture 1, but picture 2's background mustn't overlap picture 1.</p>\n\n<p>I've tried this approach:</p>\n\n<pre><code>InitializeComponent();\ngroupBox.Controls.Add(pictureBox2);\npictureBox2.Location = new Point(0, 0);\npictureBox2.BackColor = Color.Transparent;\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>InitializeComponent();\npictureBox1.Controls.Add(pictureBox2);\npictureBox2.Location = new Point(0, 0);\npictureBox2.BackColor = Color.Transparent;\n</code></pre>\n\n<p>but neither work. </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 1, "creation_date": 1525895888, "post_id": 50260929, "comment_id": 87540297, "body": "<code>where c.Country.key == selectedOrder.Country.key</code> did you try comparing the key?"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1525896792, "post_id": 50260929, "comment_id": 87540721, "body": "Where do you define the <code>selectedOrder</code> variable?"}, {"owner": {"reputation": 53, "user_id": 9748154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe08633b5b2e06586fba225e9846b783?s=128&d=identicon&r=PG&f=1", "display_name": "SaraD", "link": "https://stackoverflow.com/users/9748154/sarad"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1525904423, "post_id": 50260929, "comment_id": 87543792, "body": "@shaun, it&#39;s wrong. It should be selectedRow."}], "answers": [{"tags": [], "owner": {"reputation": 416, "user_id": 5937027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oO93k.png?s=128&g=1", "display_name": "HoereeBauke", "link": "https://stackoverflow.com/users/5937027/hoereebauke"}, "is_accepted": false, "score": 1, "last_activity_date": 1525898240, "creation_date": 1525898240, "answer_id": 50261635, "question_id": 50260929, "link": "https://stackoverflow.com/questions/50260929/c-linq-using-column-data-in-the-where-clause-of-another-linq-query/50261635#50261635", "title": "C# - LINQ - Using column data in the WHERE clause of another LINQ query", "body": "<p>Normaly, this is the way you're going to compare in LINQ. There are 2 possible ways. Just with the \"==\" or with \".Equals\". </p>\n\n<p><code>customers.Where(c =&gt; c.country == selectedRow.Country);</code></p>\n\n<p><strong><em>OR</em></strong></p>\n\n<p><code>customers.Where(c =&gt; c.country.Equals(selectedRow.Country));</code></p>\n\n<p>It is possible that you will have to use the \"ToLower()\"-function or \"ToLowerInvariant()\"-function. I don't know the context of your project so you wil have so see if it benefits you.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 9748154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe08633b5b2e06586fba225e9846b783?s=128&d=identicon&r=PG&f=1", "display_name": "SaraD", "link": "https://stackoverflow.com/users/9748154/sarad"}, "edited": false, "score": 1, "creation_date": 1525907376, "post_id": 50263120, "comment_id": 87544586, "body": "This was exactly the explanation I needed! I was a bit stuck on the part where I could define a new class. Had been looking up a few things about it, but you explained it very well and I get it now! Thanks so much for the help! and PS: it works!!"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 53, "user_id": 9748154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe08633b5b2e06586fba225e9846b783?s=128&d=identicon&r=PG&f=1", "display_name": "SaraD", "link": "https://stackoverflow.com/users/9748154/sarad"}, "edited": false, "score": 0, "creation_date": 1525909801, "post_id": 50263120, "comment_id": 87545149, "body": "@SaraD You&#39;re welcome. And, welcome to StackOverflow!"}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 0, "last_activity_date": 1525906493, "last_edit_date": 1525906493, "creation_date": 1525906152, "answer_id": 50263120, "question_id": 50260929, "link": "https://stackoverflow.com/questions/50260929/c-linq-using-column-data-in-the-where-clause-of-another-linq-query/50263120#50263120", "title": "C# - LINQ - Using column data in the WHERE clause of another LINQ query", "body": "<p>This might work. </p>\n\n<p>Define a new class for your projection. </p>\n\n<pre><code>public class CountryTotal\n{\n    public string Country { get; set; }\n    public int Total { get; set; }\n}\n</code></pre>\n\n<p>The initial query that you assigned to the <code>ItemSource</code> had this projection. We can strongly type it as a <code>CountryTotal</code> type.</p>\n\n<pre><code>select new CountryTotal\n{\n    Country = oByCountry.Key,\n    Total = oByCountry.Sum(ood =&gt; ood.od.UnitPrice * ood.od.Quantity)\n};\n</code></pre>\n\n<p>Your <code>selectedOrder</code> below will have the same structure, but the compiler will not know that without some help. To get around that, we use the <code>as</code> operator to tell the compiler that we know what we're doing. Lets assert that it is of type <code>CountryTotal</code>. </p>\n\n<pre><code>var selectedOrder = GridOverview.SelectedItem as CountryTotal;\n</code></pre>\n\n<p>Now we can access the <code>Country</code> property and the compiler will not complain.</p>\n\n<pre><code>var query = from c in db.Customers\n            join o in db.Orders on c.CustomerID equals o.CustomerID\n            join od in db.Order_Details on o.OrderID equals od.OrderID\n            where c.Country == selectedOrder.Country // &lt;-----\n            group new {c, o, od} by c.CompanyName into cByName\n            orderby cByName.Sum(ood =&gt; ood.od.UnitPrice * ood.od.Quantity) descending\n            select new\n            {\n                cByName.Key,\n                Total = cByName.Sum(ood =&gt; ood.od.UnitPrice * ood.od.Quantity)\n            };\n</code></pre>\n\n<hr>\n\n<p>Note: we could also have used the <code>dynamic</code> type instead of defining a <code>CountryTotal</code> class, but <code>dynamic</code> comes with some downsides. </p>\n"}], "owner": {"reputation": 53, "user_id": 9748154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe08633b5b2e06586fba225e9846b783?s=128&d=identicon&r=PG&f=1", "display_name": "SaraD", "link": "https://stackoverflow.com/users/9748154/sarad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 50263120, "answer_count": 2, "score": 0, "last_activity_date": 1525936454, "creation_date": 1525894960, "last_edit_date": 1525936454, "question_id": 50260929, "link": "https://stackoverflow.com/questions/50260929/c-linq-using-column-data-in-the-where-clause-of-another-linq-query", "title": "C# - LINQ - Using column data in the WHERE clause of another LINQ query", "body": "<p>This is the database diagram: <a href=\"https://i.stack.imgur.com/VqtAM.jpg\" rel=\"nofollow noreferrer\">database diagram</a></p>\n\n<p>So I execute this query:</p>\n\n<pre><code>            var query2 = from o in db.Orders\n                     join od in db.Order_Details on o.OrderID equals od.OrderID\n                     group new { o, od } by o.ShipCountry into oByCountry\n                     orderby oByCountry.Sum(ood =&gt; ood.od.UnitPrice * ood.od.Quantity) descending\n                     select new\n                     {\n                         Country = oByCountry.Key,\n                         Total = oByCountry.Sum(ood =&gt; ood.od.UnitPrice * ood.od.Quantity)\n                     };\n</code></pre>\n\n<p>And I put the result in a datagrid in WPF.</p>\n\n<pre><code>GridOverview.ItemsSource = query2;\n</code></pre>\n\n<p>The next thing I want to do is, when I press in that GridOverview on a row, I want to show all customers living in the country of the selected row and the total price of sold items for each customer.\nSo I define that selected item in var selectedRow.</p>\n\n<pre><code>var selectedRow = GridOverview.SelectedItem;\n\n            var query = from c in db.Customers\n                    join o in db.Orders on c.CustomerID equals o.CustomerID\n                    join od in db.Order_Details on o.OrderID equals od.OrderID\n                    **where c.Country == selectedRow.**\n                    group new {c, o, od} by c.CompanyName into cByName\n                    orderby cByName.Sum(ood =&gt; ood.od.UnitPrice * ood.od.Quantity) descending\n                    select new\n                    {\n                        cByName.Key,\n                        Total = cByName.Sum(ood =&gt; ood.od.UnitPrice * ood.od.Quantity)\n                    };\n</code></pre>\n\n<p>Now my question is: How can I compare the Country of the selectedRow to C.Country in the where clause??\nselectedRow.Country is not working out, but that's probably not how it works.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", "linq-to-xml"], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525895813, "post_id": 50261103, "comment_id": 87540270, "body": "I just realized what the problem was too.  Maybe point out that <code>.Name</code> is not the same as the <i>name</i> attribute"}, {"owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "edited": false, "score": 0, "creation_date": 1525899880, "post_id": 50261103, "comment_id": 87542164, "body": "Francesco, thank you,  The way you suggested I get everything written inside SaleGroup tag as a value in the dictionary. I can parse the string but I am sure there is a better solution. I really need to get an object for each SaleGroup with properties &quot;name&quot;, &quot;file location&quot;, &quot;fileType&quot;, etc. So I create a SaleGroup class. What would be the syntax then to populate my List&lt;SaleGroup&gt;?  To get slightly more complicated, there could be possibly more than one destination. I can have an array in my SaleGroup class but can I populate the List&lt;SalesClass&gt; in one shot in this case?"}, {"owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "edited": false, "score": 0, "creation_date": 1525900313, "post_id": 50261103, "comment_id": 87542346, "body": "I mean that instead of destination I might have destination1, destination2, etc"}, {"owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "edited": false, "score": 0, "creation_date": 1525904137, "post_id": 50261103, "comment_id": 87543699, "body": "Francesco, thank you again. Just need to figure out how to handle variable number of destinations (destination1, destination2, ...)"}, {"owner": {"reputation": 2223, "user_id": 5480409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySDx0.png?s=128&g=1", "display_name": "Francesco B.", "link": "https://stackoverflow.com/users/5480409/francesco-b"}, "reply_to_user": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "edited": false, "score": 0, "creation_date": 1525941429, "post_id": 50261103, "comment_id": 87555155, "body": "@anjulis it depends; one possibility is making the <code>File</code> property of <code>SaleGroup</code> class a list, like <code>public SaleFile List&lt;File&gt; { get; set; }</code>; of course that implies that the multiple element is not just the <code>destination</code> attribute of <code>files</code> but <code>files</code> itself. Is this correct?"}, {"owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "edited": false, "score": 1, "creation_date": 1525962093, "post_id": 50261103, "comment_id": 87566773, "body": "@Francesco B no, the structure of the XML file is given. There is one &quot;files&quot; group, within it there is one Location, one FileType and variable number of destinations, listed as destination1, destination2... Perhaps, I need to use &quot;Like&quot; or regex to get all destinations but I cannot figure out how"}, {"owner": {"reputation": 2223, "user_id": 5480409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySDx0.png?s=128&g=1", "display_name": "Francesco B.", "link": "https://stackoverflow.com/users/5480409/francesco-b"}, "edited": false, "score": 0, "creation_date": 1525963039, "post_id": 50261103, "comment_id": 87567425, "body": "<code>element.Descendants(&quot;files&quot;).Single().Single().Attributes().&zwnj;&#8203;Where(attribute =&gt; attribute.Name.LocalName.StartsWith(&quot;destination&quot;))</code> might be  a starting point"}], "tags": [], "owner": {"reputation": 2223, "user_id": 5480409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySDx0.png?s=128&g=1", "display_name": "Francesco B.", "link": "https://stackoverflow.com/users/5480409/francesco-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1525901505, "last_edit_date": 1525901505, "creation_date": 1525895748, "answer_id": 50261103, "question_id": 50260906, "link": "https://stackoverflow.com/questions/50260906/reading-from-xml-with-repeated-keys-using-xdocument/50261103#50261103", "title": "Reading from XML with repeated keys using XDocument", "body": "<p>Your supposition is correct; as @maccettura explained, that's how <code>Dictionary</code> works.</p>\n\n<p>This said, remeber that <code>&lt;SaleGroupsFiles&gt;</code> should have a matching tag for your XML to be valid.</p>\n\n<p>As per your question, this is a possible idea:</p>\n\n<pre><code>var results =\n    root\n        .Descendants(\"SaleGroup\")\n        .ToDictionary(element =&gt; element.Attribute(\"id\").Value.ToString(), element =&gt; element.ToString());\n</code></pre>\n\n<p>I.e. adding as keys the value of the <code>id</code> attribute of your elements, supposing they're unique.</p>\n\n<p>Actually this question</p>\n\n<blockquote>\n  <p>What is the proper way to read the data?</p>\n</blockquote>\n\n<p>is hard to answer to, since... it depends on what you want to do with the data.\nDo you want to create <code>SaleGroup</code> objects? In that case, rather than creating a dictionary, you can just create a <code>List&lt;SaleGroup&gt;</code>, if you provide a <code>SaleGroup</code> class.</p>\n\n<p>Another option would be <a href=\"https://stackoverflow.com/questions/364253/how-to-deserialize-xml-document\">deserializing</a> your XML.</p>\n\n<p>Also, keep in mind that element.Name will give the element's name (e.g. SaleGroup), while maybe you want to read the value of the <code>name</code> attribute (e.g. \"Canada\")?</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>Since you are ok with a slightly more realistic solution, if you declare these classes</p>\n\n<pre><code>public class SaleGroup\n{\n    public int Id { get; set; }\n    public bool Active { get; set; }\n    public string Name { get; set; }\n    public SaleFile File { get; set; }\n}\n\npublic class SaleFile\n{\n    public string Location { get; set; }\n    public string FileType { get; set; }\n    public string Destination { get; set; }\n}\n</code></pre>\n\n<p>you can edit your code this way:</p>\n\n<pre><code>var results =\n          root\n            .Descendants(\"SaleGroup\")\n            .Select(element =&gt; new SaleGroup()\n            {\n                Active = Convert.ToBoolean(element.Attribute(\"active\").Value),\n                Id = Convert.ToInt32(element.Attribute(\"id\").Value),\n                Name = element.Attribute(\"name\").Value,\n                File = new SaleFile()\n                {\n                    Destination = element.Descendants(\"files\").Single().Attribute(\"destination\").Value,\n                    FileType = element.Descendants(\"files\").Single().Attribute(\"fileType\").Value,\n                    Location = element.Descendants(\"files\").Single().Attribute(\"location\").Value\n                }\n            })\n            .ToList();\n</code></pre>\n\n<p>It is also possible to optimize the code above, e.g. to read <code>element.Descendants(\"files\").Single()</code> just once, or modify it to allow more than one <code>SaleFile</code> inside your <code>SaleGroup</code> class.</p>\n"}], "owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 50261103, "answer_count": 1, "score": 0, "last_activity_date": 1525901505, "creation_date": 1525894843, "question_id": 50260906, "link": "https://stackoverflow.com/questions/50260906/reading-from-xml-with-repeated-keys-using-xdocument", "title": "Reading from XML with repeated keys using XDocument", "body": "<p>I need some help with XDocument. I have file: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;SaleGroupsFiles&gt;\n  &lt;SaleGroup id=\"1\" active=\"true\" name=\"US\"&gt; \n   &lt;files\n      location=\"c:\\mypath\\\"\n      fileType=\"pdf\"\n      destination=\"outputpath\"&gt;\n    &lt;/files&gt;\n  &lt;/SaleGroup&gt;\n\n  &lt;SaleGroup id=\"2\" active=\"true\" name=\"Canada\"&gt; \n   &lt;files\n      location=\"c:\\mypath\\\"\n      fileType=\"pdf\"\n      destination=\"outputpath\"&gt;\n    &lt;/files&gt;\n  &lt;/SaleGroup&gt;\n&lt;/SaleGroups&gt;\n</code></pre>\n\n<p>I am trying to read the file using XDocument</p>\n\n<pre><code>static Dictionary&lt;string, string&gt; GetSettings(string path)\n    {\n        var document = XDocument.Load(path);\n        var root = document.Root;\n        var results =\n          root\n            .Elements()\n            .ToDictionary(element =&gt; element.Name.ToString(), element =&gt; element.Value);\n        return results;\n\n    }\n</code></pre>\n\n<p>getting an error \"element with that key already exists in dictionary\". My guess it happens because \"SaleGroup\" is repeated more than once.</p>\n\n<p>What is the proper way to read the data?</p>\n"}, {"tags": ["c#", "class", "object"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1525894898, "post_id": 50260878, "comment_id": 87539840, "body": "sure, just  you don&#39;t need to redeclare it, just set a new instance. Currently you are redeclaring it inside the if block"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1525894968, "post_id": 50260878, "comment_id": 87539871, "body": "The above will not compile so I am not really sure what you are asking here..."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525895014, "post_id": 50260878, "comment_id": 87539894, "body": "Sure, you can assign many objects to a single variable, but unless that variable is a collection, that variable can only hold a single object at a time."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525895030, "post_id": 50260878, "comment_id": 87539903, "body": "Change <code>Enemy enemy = new Enemy();</code> to just <code>enemy = new Enemy();</code>.  You can only declare a variable once in the same scope, but you can assign values to it multiple times"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1525895114, "post_id": 50260878, "comment_id": 87539943, "body": "<code>delete the instance</code> &lt;= also what does that mean? How do you propose to delete an instance? You mean just (re)assign the pointer to <code>null</code>?"}, {"owner": {"reputation": 3, "user_id": 8704107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f139ec1938d30dce8e03c9ddfb63ef?s=128&d=identicon&r=PG&f=1", "display_name": "Rocco", "link": "https://stackoverflow.com/users/8704107/rocco"}, "edited": false, "score": 0, "creation_date": 1525895323, "post_id": 50260878, "comment_id": 87540031, "body": "Yes kind of what I was thinking. Making it null and the redeclaring it."}], "answers": [{"tags": [], "owner": {"reputation": 787, "user_id": 5659491, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026442067408163/picture?type=large", "display_name": "armenm", "link": "https://stackoverflow.com/users/5659491/armenm"}, "is_accepted": false, "score": 1, "last_activity_date": 1525898494, "last_edit_date": 1525898494, "creation_date": 1525895239, "answer_id": 50260994, "question_id": 50260878, "link": "https://stackoverflow.com/questions/50260878/can-i-instantiate-multiple-objects-on-the-same-variable/50260994#50260994", "title": "Can I instantiate multiple objects on the same variable?", "body": "<p>Deleting of objects in .net is the responsibility of the garbage collector so you don't have to delete them like, say, in C++.</p>\n\n<p>The object is deleted by the garbage collector as soon as there's no (root) reference to it. So if you just reassign the variable, the old object will not be referenced anymore and the garbage collector will take care of it some time later.</p>\n\n<p>If the moment when the object is destroyed important (it holds and must release some important resources) then you have to implement <code>IDisposable</code>.</p>\n\n<pre><code>Enemy enemy;\n\n// ...\n\n// time to create the enemy\nenemy = new Enemy(); // creating the first one\n\n// ... do something with the first enemy\n\n// creating the second one\nenemy = new Enemy(); \n// now there's no reference to the first enemy and it will be destroyed\n\n// playing with second enemy\n\n// dropping the second enemy - it's not referenced now, too and \n// will be destroyed\nenemy = null; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 2, "last_activity_date": 1525896993, "last_edit_date": 1525896993, "creation_date": 1525895249, "answer_id": 50260999, "question_id": 50260878, "link": "https://stackoverflow.com/questions/50260878/can-i-instantiate-multiple-objects-on-the-same-variable/50260999#50260999", "title": "Can I instantiate multiple objects on the same variable?", "body": "<p>Yes, it is possible, but you must understand the difference between the following two lines of code.</p>\n\n<p>This is an example of <em>assignment</em>:</p>\n\n<pre><code>a = 10;\n</code></pre>\n\n<p>This is an example of variable <em>declaration</em> with an initializer.</p>\n\n<pre><code>var a = 10;\n</code></pre>\n\n<p>A variable can be assigned as many times as you want, but can only be declared once (within a scope).</p>\n\n<p>So you can definitely do this:</p>\n\n<pre><code>var enemy = new Enemy(); //Declaration\nenemy = new Enemy();     //Assignment\nenemy = null;            //Assignment\nenemy = new Enemy();     //Assignment\n</code></pre>\n\n<p>But you can't do this:</p>\n\n<pre><code>var enemy = new Enemy(); //Declaration\nvar enemy = new Enemy();  //Declaration - will not compile\n</code></pre>\n\n<p>Going back to your example, a working version might look like this:</p>\n\n<pre><code>class Game\n{\n    private Enemy enemy = null; //You have to initialize a field before you can check it, even if you're just checking for null\n\n    public Enemy GetEnemy()\n    {\n        if (enemy == null)\n        {\n            enemy = new Enemy();  //Here I am only assigning, not declaring\n        }\n        return enemy;\n    }\n}\n</code></pre>\n\n<p>The above is not an uncommon pattern, using a backing field as a cache and loading it on a just-in-time basis.</p>\n\n<p>If all you want is lazy loading like this, you might also consider using a <a href=\"https://msdn.microsoft.com/en-us/library/dd642331(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Lazy&lt;T&gt;</code></a> class.</p>\n"}], "owner": {"reputation": 3, "user_id": 8704107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f139ec1938d30dce8e03c9ddfb63ef?s=128&d=identicon&r=PG&f=1", "display_name": "Rocco", "link": "https://stackoverflow.com/users/8704107/rocco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525898494, "creation_date": 1525894738, "last_edit_date": 1525895212, "question_id": 50260878, "link": "https://stackoverflow.com/questions/50260878/can-i-instantiate-multiple-objects-on-the-same-variable", "title": "Can I instantiate multiple objects on the same variable?", "body": "<p>For example:</p>\n\n<pre><code>Enemy enemy;\nif(enemy == null)\n{\n    Enemy enemy = new Enemy();\n}\n</code></pre>\n\n<p>And the if this enemy is dead, delete the instance somehow and the re-instance it in the same variable declared above.</p>\n\n<p>Edit: I am using this for a dungeon crawler console game, and I want, that after you kill a monster you would get another encounter.</p>\n"}, {"tags": ["c#", "botframework", "bots", "telegram"], "answers": [{"tags": [], "owner": {"reputation": 4513, "user_id": 557748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13a9879ec480111521c70cc3bee9517?s=128&d=identicon&r=PG", "display_name": "Justin Pearce", "link": "https://stackoverflow.com/users/557748/justin-pearce"}, "is_accepted": true, "score": 1, "last_activity_date": 1525895313, "creation_date": 1525895313, "answer_id": 50261017, "question_id": 50260792, "link": "https://stackoverflow.com/questions/50260792/common-list-for-a-group-chat-with-bot-framefork/50261017#50261017", "title": "Common list for a group chat with bot framefork", "body": "<p>It sounds like you need the list in a separate, static list to maintain a single list between all the instances of your root dialog. Something like the following that can be accessed by <code>RootDialog</code>:</p>\n\n<pre><code>static class ListTest\n{\n    static List&lt;string&gt; _list; // Static List instance\n\n    static ListTest()\n    {\n        _list = new List&lt;string&gt;();\n    }\n\n    public static void AddNewThingToList(Activity activity)\n    {\n        _list.Add(Parser.GetAfterCommandText(activity));\n    }\n\n    public static void ShowList()\n    {\n        var response = new StringBuilder();\n\n        for (var i = 0; i &lt; _list.Count; i++)\n        {\n            response.Append($\"{i}. {_list[i]}{Environment.NewLine}\");\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p>There will have to be considerations for multiple readers / writers accessing the list, but the code should get you pointed toward a solution.</p>\n"}], "owner": {"reputation": 3, "user_id": 9766982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vladislav", "link": "https://stackoverflow.com/users/9766982/vladislav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 50261017, "answer_count": 1, "score": 0, "last_activity_date": 1525929349, "creation_date": 1525894334, "last_edit_date": 1525929349, "question_id": 50260792, "link": "https://stackoverflow.com/questions/50260792/common-list-for-a-group-chat-with-bot-framefork", "title": "Common list for a group chat with bot framefork", "body": "<p>i want to build simple Telegram bot with Microsoft Bot Framework (C#)\nWhat i'm trying to do now is to create a list that can be filled by everyone in a group chat. The result that i want:</p>\n\n<pre><code>user a: /add hello\nuser b: /add world\nuser a: /show\nbot: hello world\nuser b: /show\nbot: hello world\n</code></pre>\n\n<p>but what i have for now is:</p>\n\n<pre><code>user a: /add hello\nuser b: /add world\nuser a: /show\nbot: hello\nuser b: /show\nbot: world\n\n[Serializable]\npublic class RootDialog : IDialog&lt;object&gt;\n{\n    private List&lt;string&gt; list = new List&lt;string&gt;();\n\n    public Task StartAsync(IDialogContext context)\n    {\n        context.Wait(MessageReceivedAsync);\n\n        return Task.CompletedTask;\n    }\n\n    private async Task MessageReceivedAsync(IDialogContext context, IAwaitable&lt;object&gt; result)\n    {\n        var activity = await result as Activity;\n        switch (Parser.GetCommand(activity))\n        {\n            case \"/add\":\n                AddNewThingToList(activity);\n                break;\n            case \"/show\":\n                ShowList(context);\n                break;\n        }\n\n        context.Wait(MessageReceivedAsync);\n    }\n\n    private void AddNewThingToList(Activity activity)\n    {\n        list.Add(Parser.GetAfterCommandText(activity));\n    }\n\n    private void ShowList(IDialogContext context)\n    {\n        var response = new StringBuilder();\n\n        for (var i = 0; i &lt; list.Count; i++)\n        {\n            response.Append($\"{i}. {list[i]}{Environment.NewLine}\");\n        }\n\n        context.PostAsync(response.ToString());\n    }\n}\n</code></pre>\n\n<p>what is the most simple way to create a common list?</p>\n"}, {"tags": ["c#", ".net", "project"], "comments": [{"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 1, "creation_date": 1525894547, "post_id": 50260789, "comment_id": 87539688, "body": "Your code is running on the UI thread. If you start running a loop on the UI thread, then it will halt all UI stuff until it is done. You&#39;ll have to start it in a different thread."}, {"owner": {"reputation": 59, "user_id": 8972331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6bfd8fb7b9d2267069d92e6d4f088902?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Davis", "link": "https://stackoverflow.com/users/8972331/andre-davis"}, "reply_to_user": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1525894759, "post_id": 50260789, "comment_id": 87539775, "body": "Thanks for responding Blake! Can you please explain this to me more? My UI will contain a lot of variables from different buttons/selections on the UI that I&#39;ll need when executing my program. Which class do I insert the operation coding? For example, I select a few settings, then click run program on my UI. In my case I&#39;m reading from a Microsoft Project File and storing data in a list for now based off Unique IDs."}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1525895528, "post_id": 50260789, "comment_id": 87540127, "body": "I do not have a lot of experience with accessing UI elements from another thread, but I have done it before. See <a href=\"https://stackoverflow.com/a/661662/5890367\">this</a> answer for an introduction to this."}, {"owner": {"reputation": 59, "user_id": 8972331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6bfd8fb7b9d2267069d92e6d4f088902?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Davis", "link": "https://stackoverflow.com/users/8972331/andre-davis"}, "reply_to_user": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1525896254, "post_id": 50260789, "comment_id": 87540486, "body": "Blake, Do you see any issues with having the button call a method(s) in a separate class? I got it work for a small test, but I don&#39;t know if there are any long-term issues with that approach?"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1525896916, "post_id": 50260789, "comment_id": 87540772, "body": "There isn&#39;t anything wrong with calling a method from another class, but that also doesn&#39;t necessarily mean your design is correct. It is hard to say without seeing all of the code. I would assume it is fine unless you have a strong reason to think your design is bad."}], "owner": {"reputation": 59, "user_id": 8972331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6bfd8fb7b9d2267069d92e6d4f088902?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Davis", "link": "https://stackoverflow.com/users/8972331/andre-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525894418, "creation_date": 1525894320, "last_edit_date": 1525894418, "question_id": 50260789, "link": "https://stackoverflow.com/questions/50260789/how-to-execute-code-in-add-in-class-after-a-button-is-clicked-in-a-forms-class", "title": "How To Execute Code in Add-In Class After a Button Is clicked in a Forms Class?", "body": "<p>I have this code that runs in parallel with my Form1 class code. The Global.Launcher turns into a true statement after a button is clicked from my Form class. When I run this code, I'm unable to click the add-in (Where the button is located) on Project (Basically Frozen) due to the infinite loop since I can't access the button. Is there a workaround for this? In short, I do not want to run any code in this class until after I press the button on the add-in form. Thanks in advance.</p>\n\n<pre><code>    public partial class ThisAddIn\n    {\n        private void ThisAddIn_Startup(object sender, System.EventArgs e)\n        {\n            this.Application.NewProject += new Microsoft.Office.Interop.MSProject._EProjectApp2_NewProjectEventHandler(Application_NewProject);\n\n            void Application_NewProject(Microsoft.Office.Interop.MSProject.Project pj)\n            {\n                while(Global.launcher == false)\n                {\n                }\n                System.Diagnostics.Debug.WriteLine(\"Starting to run code: \");\n            }\n\n        }\n\n        private void ThisAddIn_Shutdown(object sender, System.EventArgs e)\n        {\n        }\n\n        #region VSTO generated code\n\n        /// &lt;summary&gt;\n        /// Required method for Designer support - do not modify\n        /// the contents of this method with the code editor.\n        /// &lt;/summary&gt;\n        private void InternalStartup()\n        {\n            this.Startup += new System.EventHandler(ThisAddIn_Startup);\n            this.Shutdown += new System.EventHandler(ThisAddIn_Shutdown);\n        }\n\n        #endregion\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "class", "oop"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1525895229, "post_id": 50260769, "comment_id": 87539996, "body": "Your question is not clear. Do you want to catch the exception in <code>btn_Save_ItemClick</code> only? Do you want to catch it inside <code>updatePerson</code> then throw it again so you can access it from the caller method? Or do you just want to return the error message to the caller method? Also, note that you&#39;re not currently assigning <code>ex.ToString()</code> to any variable."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 8320035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IPbcO.jpg?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8320035/manuel"}, "is_accepted": false, "score": 1, "last_activity_date": 1525895133, "creation_date": 1525895133, "answer_id": 50260975, "question_id": 50260769, "link": "https://stackoverflow.com/questions/50260769/splitting-data-access-and-catching-data-to-form/50260975#50260975", "title": "Splitting data access and catching data to form", "body": "<p>You\u2018ll just get \u201eerror\u201c in case of a <code>SqlException</code>. All other exceptions will crash your program if you don\u2018t have a global exception handler. If you want to show the error message you could introduce an <code>out</code> variable for the error message:</p>\n\n<pre><code>bool successful = MyMethod(out string errorMessage)\nif (!successful)\n{\n    MessageBox.Show(errorMessage);\n}\n\npublic bool MyMethod(out string errorMessage)\n{\n    errorMessage = \"\";\n    try\n    {\n        // do some stuff\n        return true;\n    }\n    catch(Exception ex)\n    {\n        errorMessage = ex.Message;\n        return false;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "is_accepted": true, "score": 3, "last_activity_date": 1525895305, "creation_date": 1525895305, "answer_id": 50261012, "question_id": 50260769, "link": "https://stackoverflow.com/questions/50260769/splitting-data-access-and-catching-data-to-form/50261012#50261012", "title": "Splitting data access and catching data to form", "body": "<p>A simple way is to remove the try catch from your DAL and add it to the form.  For example:</p>\n\n<pre><code>private void btn_Save_ItemClick(object sender, ItemClickEventArgs e)\n{       \n    var result = \"Success\";\n\n    try\n    {\n        dal.updatePerson(ObjectAfterSaving);            \n    }\n    catch (SqlException sqlEx)\n    {\n        result = sqlEx.Message;\n    }\n    catch (Exception ex)\n    {\n        result = ex.Message;\n    }\n\n    MessageBox.Show(result);\n}\n</code></pre>\n\n<p>Just note that there's a lot of ways you can do this.  My preference is to not include DAL specific exception types in my UI.  Instead I may return a custom result type that has an errorcode and message and let my UI display that or generate a custom message based on the error code.</p>\n"}], "owner": {"reputation": 509, "user_id": 3127554, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b90595218744ad681da28f57612ae1cd?s=128&d=identicon&r=PG&f=1", "display_name": "user3127554", "link": "https://stackoverflow.com/users/3127554/user3127554"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 50261012, "answer_count": 2, "score": 0, "last_activity_date": 1525895586, "creation_date": 1525894222, "last_edit_date": 1525895586, "question_id": 50260769, "link": "https://stackoverflow.com/questions/50260769/splitting-data-access-and-catching-data-to-form", "title": "Splitting data access and catching data to form", "body": "<p>In my project I'm trying to write code that will be nice to understand. \nI currently split my data access functions in a seperate class. </p>\n\n<p>What I'm trying to achieve however, is to catch the errors back to my form. I am not getting this currently and I was wondering why. </p>\n\n<p>In my form I have the following code: </p>\n\n<pre><code>private void btn_Save_ItemClick(object sender, ItemClickEventArgs e)\n{\n    if (dal.updatePerson(ObjectAfterSaving))\n    {\n        MessageBox.Show(\"Updated!\");\n    }\n    else\n    {\n        MessageBox.Show(\"error\");\n    };\n}\n</code></pre>\n\n<p>In my dal object (derived from the <code>DataAccess_Person class</code>), I have the following method: </p>\n\n<pre><code>public bool updatePerson(Person p)\n{\n\n    conn = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings[\"Database\"].ConnectionString);\n    SqlCommand command = new SqlCommand(@\"UPDATE Person\n    SET PersonName = @PersonName\n    WHERE PersonID = @PersonID\", conn);\n    command.Parameters.Add(\"@PersonName\", SqlDbType.VarChar).Value = p.Name\n    {\n        try\n        {\n            if (conn.State == ConnectionState.Closed)\n            {\n                conn.Open();\n            }\n\n            int a = command.ExecuteNonQuery();\n            conn.Close();\n            if (a &gt; 0)\n            {\n                return true;\n            }\n            else\n            {\n                return false;\n            }\n        }\n        catch (SqlException ex)\n        {\n            ex.ToString();\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>My question is: let's say if my method falls in the catch. Will my front end (form) show it (Sql Exception for example) ? Or will i just get 'error' ? And If I will just get error, how I can improve my code to show the Exception instead of error? </p>\n"}, {"tags": ["c#", ".net", "jms", "solace"], "answers": [{"tags": [], "owner": {"reputation": 1582, "user_id": 5262399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/311e295cc6f280e6ca1dfe84ad76db16?s=128&d=identicon&r=PG&f=1", "display_name": "Russell Sim", "link": "https://stackoverflow.com/users/5262399/russell-sim"}, "is_accepted": false, "score": 0, "last_activity_date": 1525914862, "creation_date": 1525914862, "answer_id": 50264137, "question_id": 50260656, "link": "https://stackoverflow.com/questions/50260656/solace-jndi-jms-syntax-for-c-net/50264137#50264137", "title": "Solace JNDI/JMS Syntax for C# .NET", "body": "<p>Please use the JMS API instead of the .NET API in order to perform JMS.\nThe .NET API does not do JMS.</p>\n\n<p>Note that you can send/receive messages using the .NET API that's inter-operable with the JMS API. </p>\n\n<p>However, since you have a hard requirement to use JMS, your only option is to use the JMS API.</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 6317848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0387eb81df102de3b57f24790d95b22d?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/6317848/greg"}, "is_accepted": false, "score": 0, "last_activity_date": 1526322062, "creation_date": 1526322062, "answer_id": 50336679, "question_id": 50260656, "link": "https://stackoverflow.com/questions/50260656/solace-jndi-jms-syntax-for-c-net/50336679#50336679", "title": "Solace JNDI/JMS Syntax for C# .NET", "body": "<p>As It turns out, the jndi/jms information delivered by the host for configuration  was unneeded. What was necessary was to connect to the queue and receive the messages. </p>\n"}], "owner": {"reputation": 55, "user_id": 6317848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0387eb81df102de3b57f24790d95b22d?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/6317848/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1526322062, "creation_date": 1525893720, "last_edit_date": 1525901486, "question_id": 50260656, "link": "https://stackoverflow.com/questions/50260656/solace-jndi-jms-syntax-for-c-net", "title": "Solace JNDI/JMS Syntax for C# .NET", "body": "<p>A vendor is using Solace to send messages. I have obtained a SubscriptionId using web service call, that I supposed to be submitted to the Solace server.</p>\n\n<p>Using the documentation and sample code at dev.solace.com, I have been able to connect a session. However, I am lost as to how to go to the next step which is to subscribe to what I believe is a queue using a connection factory, jndi factory an jms destination name.</p>\n\n<p>The sample shows this:</p>\n\n<pre><code>Session.Connect(ContextFactory.Instance.CreateQueue(Topic), true);\n</code></pre>\n\n<p>But from what I can tell, that won't work as the vendor wants jndi/jms, and the Solace documentation has no .NET code for jndi/jms, which leaves me guessing.</p>\n\n<p>Help!</p>\n"}, {"tags": ["c#", "excel", "winforms", "oledb"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1525893838, "post_id": 50260620, "comment_id": 87539315, "body": "Format your excel columns to type &quot;Memo&quot;, this article may help you (<a href=\"https://social.msdn.microsoft.com/Forums/en-US/91bdf4cd-7f80-4516-a2e1-7a71703340c4/255-character-limit-oledb-c-inconsistent-results?forum=csharpgeneral\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/en-US/&hellip;</a>)"}, {"owner": {"reputation": 2847, "user_id": 1884992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d911a8edcdc81a0dee5ea7a677b8f4b?s=128&d=identicon&r=PG", "display_name": "Ciar&#225;n", "link": "https://stackoverflow.com/users/1884992/ciar%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1525902822, "post_id": 50260620, "comment_id": 87543244, "body": "TypeGuessRows does not affect how many characters you can read as a string. It&#39;s how many rows OLEDB reads to determine the data type of a column. The default is 8."}], "owner": {"reputation": 1, "user_id": 9638022, "user_type": "registered", "profile_image": "https://graph.facebook.com/1921425801458008/picture?type=large", "display_name": "Ezequiel Romano", "link": "https://stackoverflow.com/users/9638022/ezequiel-romano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525902538, "creation_date": 1525893580, "question_id": 50260620, "link": "https://stackoverflow.com/questions/50260620/c-winforms-oledb-reading-excel", "title": "C# winforms, OLEDB reading excel", "body": "<p>I have some process that reades an excel file, but i get the data truncated to 255 chars. I know i can fix it if I change the TypeGuessRows in regedit, but I need other solutions. I need fix it in the code, is it posible?</p>\n"}, {"tags": ["c#", "system.web", "mappath"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1525893411, "post_id": 50260541, "comment_id": 87539108, "body": "If you&#39;re writing a path to another server, don&#39;t map the path, just write the file.  It&#39;s unclear what relevance <code>MapPath</code> has regarding other servers."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1525893434, "post_id": 50260541, "comment_id": 87539123, "body": "how is that file shared with your webserver? If it&#39;s shared using windows file sharing (or a unix-based equivalent) then you can just address it by its UNC name e.g. <code>\\\\server\\share\\filename.txt</code>. Server.MapPath doesn&#39;t really come into it because  that&#39;s for turning a path relative to the webserver into a path on disk, but a folder shared from another server won&#39;t be part of your webserver. You just need to know the absolute UNC path to the file, and of course your application needs the relevant permissions to write to it."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1525894317, "post_id": 50260541, "comment_id": 87539576, "body": "You can map the external server location to a network drive. For instance, you could map <code>\\\\server\\myfiles</code> to `M:\\`. Another option would be to create a virtual Directory somewhere under the website in IIS that points to the network path."}, {"owner": {"reputation": 157, "user_id": 9699805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cb0c348435ef72d002af5bdc5740e39?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Peres", "link": "https://stackoverflow.com/users/9699805/jose-peres"}, "edited": false, "score": 0, "creation_date": 1525969730, "post_id": 50260541, "comment_id": 87571436, "body": "All your answers were also great. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 9699805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cb0c348435ef72d002af5bdc5740e39?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Peres", "link": "https://stackoverflow.com/users/9699805/jose-peres"}, "edited": false, "score": 0, "creation_date": 1525969706, "post_id": 50261478, "comment_id": 87571424, "body": "Other answers were given before this one, but yours was the clearer, the best one. Thanks for this, it worked as expected."}], "tags": [], "owner": {"reputation": 837, "user_id": 1217070, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mkYCx.png?s=128&g=1", "display_name": "Tony Cheetham", "link": "https://stackoverflow.com/users/1217070/tony-cheetham"}, "is_accepted": true, "score": 1, "last_activity_date": 1525901197, "last_edit_date": 1525901197, "creation_date": 1525897511, "answer_id": 50261478, "question_id": 50260541, "link": "https://stackoverflow.com/questions/50260541/is-there-a-way-to-map-a-path-from-an-external-server/50261478#50261478", "title": "Is there a way to map a path from an external server?", "body": "<p>Server.mappath is designed to convert web based paths to local paths based on the location of the webroot, and is not strictly speaking relevant when trying to access external resources.</p>\n\n<p>The only exception being when a remote file location is used as part of a websites file system.  E.G.  If your website has a folder in it called \"/remotefiles/\", and within IIS you have mapped this folder to a remote network path.  MapPath would work as normal and you will retrieve a full UNC path.</p>\n\n<p>If the server you want to access is on the same network as your web server but not referenced as part of your webroot, then you should look at directly referencing the location in question using a full UNC path.  E.G. \"\\\\ExternalServer\\CDrive\\SomeStuff\\\".</p>\n\n<p>If the server is remotely accessed over a wider network, then you will need to look into another form of access.</p>\n"}], "owner": {"reputation": 157, "user_id": 9699805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cb0c348435ef72d002af5bdc5740e39?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Peres", "link": "https://stackoverflow.com/users/9699805/jose-peres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "accepted_answer_id": 50261478, "answer_count": 1, "score": 0, "last_activity_date": 1525901197, "creation_date": 1525893247, "last_edit_date": 1525894414, "question_id": 50260541, "link": "https://stackoverflow.com/questions/50260541/is-there-a-way-to-map-a-path-from-an-external-server", "title": "Is there a way to map a path from an external server?", "body": "<p>Well, I've been working on my server with a method like the following:\u00a0\u00a0\u00a0\u00a0</p>\n\n<pre><code>System.Web.HttpContext.Current.Server.MapPath(\"/path/something\");\n</code></pre>\n\n<p>... and it's been working so far. Nevertheless, now I've encountered an issue. The thing is, I need to write a file that's located on an external server. Is there a method in C# to do this?</p>\n"}, {"tags": ["c#", "linq", "xelement"], "comments": [{"owner": {"reputation": 391, "user_id": 2200487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4xLj9.jpg?s=128&g=1", "display_name": "ernesthm", "link": "https://stackoverflow.com/users/2200487/ernesthm"}, "edited": false, "score": 0, "creation_date": 1525897887, "post_id": 50260524, "comment_id": 87541204, "body": "Can you vote and/or comment if my answer was util for you?"}, {"owner": {"reputation": 5847, "user_id": 3187033, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DfSEN.png?s=128&g=1", "display_name": "JohnyL", "link": "https://stackoverflow.com/users/3187033/johnyl"}, "edited": false, "score": 0, "creation_date": 1525898351, "post_id": 50260524, "comment_id": 87541431, "body": "It&#39;s time to read this excellent book <a href=\"https://www.apress.com/us/book/9781430226536\" rel=\"nofollow noreferrer\">Pro LINQ in C# 2010</a> to be more familiar with LINQ to XML."}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 2200487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4xLj9.jpg?s=128&g=1", "display_name": "ernesthm", "link": "https://stackoverflow.com/users/2200487/ernesthm"}, "is_accepted": false, "score": 0, "last_activity_date": 1525896245, "creation_date": 1525896245, "answer_id": 50261209, "question_id": 50260524, "link": "https://stackoverflow.com/questions/50260524/how-to-loop-though-xelements-and-compare-values-using-c/50261209#50261209", "title": "How to loop though XElements and compare values using C#", "body": "<p>I think you need something like this</p>\n\n<p>See my <a href=\"https://dotnetfiddle.net/7qUBo2\" rel=\"nofollow noreferrer\">dotnetfiddle</a>.</p>\n\n<pre><code>var xml =\n                \"&lt;Information&gt;\\r\\n\\t&lt;Emp&gt;\\r\\n\\t\\t&lt;A.EMPLID&gt;1&lt;/A.EMPLID&gt;\\r\\n\\t\\t&lt;A.Phone&gt;12##&lt;/A.Phone&gt;\\r\\n\\t&lt;/Emp&gt;\\r\\n\\t&lt;Emp_Add&gt;\\r\\n\\t\\t&lt;B.ID&gt;125&lt;/B.ID&gt;\\r\\n\\t\\t&lt;Add&gt;XXXXXXX&lt;/Add&gt;\\r\\n\\t&lt;/Emp_Add&gt;\\r\\n\\t&lt;Emp_Add&gt;\\r\\n\\t\\t&lt;B.ID&gt;1256&lt;/B.ID&gt;\\r\\n\\t\\t&lt;Add&gt;ZZZZZZ&lt;/Add&gt;\\r\\n\\t&lt;/Emp_Add&gt;\\r\\n&lt;/Information&gt;\";\n        var xmlDoc = new XmlDocument();\n        xmlDoc.LoadXml(xml);\n        XDocument xmlObj = XDocument.Parse(xmlDoc.OuterXml);\n\n        var emplId = xmlObj.Descendants().Descendants().Descendants().FirstOrDefault().Value;\n        var empsAdd = xmlObj.Descendants().Descendants().Where(d =&gt; d.Name.LocalName == \"Emp_Add\");\n        foreach (var emp in empsAdd)\n        {\n            var currentEmpIdNode = emp.Descendants().FirstOrDefault();\n            Console.WriteLine(currentEmpIdNode != null &amp;&amp; currentEmpIdNode.Value == emplId\n                              ? \"Values matched\"\n                              : \"Values does not match\");\n        }\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 2897967, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9fc84af1b196632f5e7bf9ad317b8a73?s=128&d=identicon&r=PG&f=1", "display_name": "user2897967", "link": "https://stackoverflow.com/users/2897967/user2897967"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525896484, "creation_date": 1525893165, "last_edit_date": 1525896484, "question_id": 50260524, "link": "https://stackoverflow.com/questions/50260524/how-to-loop-though-xelements-and-compare-values-using-c", "title": "How to loop though XElements and compare values using C#", "body": "<p>I have an XElement which contains similar nodes but different values.\nLike my <code>XElement</code> look like this</p>\n\n<pre><code>&lt;Information&gt;\n    &lt;Emp&gt;\n        &lt;A.EMPLID&gt;1&lt;/A.EMPLID&gt;\n        &lt;A.Phone&gt;12##&lt;/A.Phone&gt;\n    &lt;/Emp&gt;\n    &lt;Emp_Add&gt;\n        &lt;B.ID&gt;125&lt;/B.ID&gt;\n        &lt;Add&gt;XXXXXXX&lt;/Add&gt;\n    &lt;/Emp_Add&gt;\n    &lt;Emp_Add&gt;\n        &lt;B.ID&gt;1256&lt;/B.ID&gt;\n        &lt;Add&gt;ZZZZZZ&lt;/Add&gt;\n    &lt;/Emp_Add&gt;\n&lt;/Information&gt;\n</code></pre>\n\n<p>Actually I need to go through each <code>&lt;Emp_Add&gt;</code> node - pick up the value of <code>&lt;B.ID&gt;</code>\nand compare it with <code>&lt;Emp&gt;.&lt;A.EMPLID&gt;</code> value. If values are same then display message <code>\"Values matched\"</code> else message <code>\"Values does not match\"</code> using C# code.</p>\n\n<p>How to use for each loop and compare for such <code>XElement</code>.</p>\n"}, {"tags": ["c#", ".net", "installation"], "comments": [{"owner": {"reputation": 151, "user_id": 9653476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c5a5fc14584351f22d7ef487831e72?s=128&d=identicon&r=PG&f=1", "display_name": "tionsys", "link": "https://stackoverflow.com/users/9653476/tionsys"}, "edited": false, "score": 3, "creation_date": 1525893165, "post_id": 50260492, "comment_id": 87538993, "body": "You can generate a MSI package from Visual Studio - see <a href=\"https://msdn.microsoft.com/en-us/library/cc766795.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/cc766795.aspx</a>"}, {"owner": {"reputation": 394, "user_id": 6788920, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207045659435349/picture?type=large", "display_name": "Phil N DeBlanc", "link": "https://stackoverflow.com/users/6788920/phil-n-deblanc"}, "edited": false, "score": 0, "creation_date": 1525893181, "post_id": 50260492, "comment_id": 87539006, "body": "Why not use a Visual Studio installer project? See this:  <a href=\"https://marketplace.visualstudio.com/items?itemName=VisualStudioProductTeam.MicrosoftVisualStudio2017InstallerProjects\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a>"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1525896833, "post_id": 50260492, "comment_id": 87540741, "body": "VS install project is no longer available in 2013 or 2015+. Looks like they have ditched support for that. I wouldn&#39;t use it for new projects"}], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 8302901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9789400fe23e5d05fef77a859997?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/8302901/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1525894248, "creation_date": 1525894248, "answer_id": 50260774, "question_id": 50260492, "link": "https://stackoverflow.com/questions/50260492/i-want-to-make-installation-of-my-visual-studio-2017-project-how-to-achieve-th/50260774#50260774", "title": "I want to make installation of my Visual Studio 2017 project , how to achieve that?", "body": "<p>I've personally used <a href=\"https://en.wikipedia.org/wiki/Nullsoft_Scriptable_Install_System\" rel=\"nofollow noreferrer\">NSIS</a> for making installers.  It has an extensible scripting bit to put whatever prerequisites you need(TOS, EULA, ect.) and it can easily create a professional looking installer.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 7356672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2qVz.png?s=128&g=1", "display_name": "Tofix", "link": "https://stackoverflow.com/users/7356672/tofix"}, "is_accepted": false, "score": 0, "last_activity_date": 1525896861, "creation_date": 1525896861, "answer_id": 50261325, "question_id": 50260492, "link": "https://stackoverflow.com/questions/50260492/i-want-to-make-installation-of-my-visual-studio-2017-project-how-to-achieve-th/50261325#50261325", "title": "I want to make installation of my Visual Studio 2017 project , how to achieve that?", "body": "<p>Try using Inno Setup. It has a good scripting language along with a wizard if you don't want to script. It's also free (unless you are deploying commercial applications).</p>\n"}], "owner": {"reputation": 87, "user_id": 9565210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5774e38141a15cf6fa9a5fdc5c968e3?s=128&d=identicon&r=PG&f=1", "display_name": "MikisaMaliDojnik", "link": "https://stackoverflow.com/users/9565210/mikisamalidojnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525896861, "creation_date": 1525893046, "last_edit_date": 1525895159, "question_id": 50260492, "link": "https://stackoverflow.com/questions/50260492/i-want-to-make-installation-of-my-visual-studio-2017-project-how-to-achieve-th", "title": "I want to make installation of my Visual Studio 2017 project , how to achieve that?", "body": "<p>I have database,images and text files in my project and i would like to make instalation..<br>\nAlso I would like to put prerequirements so that people who install this must install version of .net framework i used in my project<br>\nWhat is the best way to achieve that?</p>\n\n<p>UPDATE:</p>\n\n<p>I wanted to use microsoft visual studio installer but it doesnt work .. it doenst create exe file and i cant open app</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 591, "user_id": 6794089, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2UA0QeU060A/AAAAAAAAAAI/AAAAAAAAAFg/SXa_v4OibwI/photo.jpg?sz=128", "display_name": "bman7716", "link": "https://stackoverflow.com/users/6794089/bman7716"}, "edited": false, "score": 0, "creation_date": 1525893385, "post_id": 50260475, "comment_id": 87539097, "body": "Automatic Migrations might not be enabled for you. Here is a <a href=\"https://msdn.microsoft.com/en-us/library/jj554735(v=vs.113).aspx#Enabling%20Migrations\" rel=\"nofollow noreferrer\">MSDN Article</a> on how to set this up."}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1525893766, "post_id": 50260475, "comment_id": 87539278, "body": "Either enable automatic migration and run <code>Update-Database</code> command or do the migration with <code>Add-Migration -Name add-post-table</code> then <code>Update-Database</code> command."}, {"owner": {"reputation": 3379, "user_id": 4787510, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0p1SM.jpg?s=128&g=1", "display_name": "Sossenbinder", "link": "https://stackoverflow.com/users/4787510/sossenbinder"}, "reply_to_user": {"reputation": 591, "user_id": 6794089, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2UA0QeU060A/AAAAAAAAAAI/AAAAAAAAAFg/SXa_v4OibwI/photo.jpg?sz=128", "display_name": "bman7716", "link": "https://stackoverflow.com/users/6794089/bman7716"}, "edited": false, "score": 0, "creation_date": 1525932897, "post_id": 50260475, "comment_id": 87551035, "body": "@bman7716 That worked perfectly, thanks! I am still wondering why it failed in first place, though. I never had to use code migration"}], "owner": {"reputation": 3379, "user_id": 4787510, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0p1SM.jpg?s=128&g=1", "display_name": "Sossenbinder", "link": "https://stackoverflow.com/users/4787510/sossenbinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525893242, "creation_date": 1525892962, "last_edit_date": 1525893242, "question_id": 50260475, "link": "https://stackoverflow.com/questions/50260475/entity-framework-not-performing-code-first-and-throwing-dbupdateexception-due-to", "title": "Entity Framework not performing code-first and throwing DbUpdateException due to missing table", "body": "<p>This is the model I want to add to my database:</p>\n\n<pre><code>[Table(\"Posts\")]\npublic class PostEntity\n{\n    [Key]\n    [Column(\"PostId\")]\n    public Guid PostId { get; set; }\n\n    [Column(\"PostContent\")]\n    public string PostContent { get; set; }\n\n    [ForeignKey(\"User\")]\n    public string UserId { get; set; }\n\n    [Column(\"User\")]\n    public ApplicationUser User { get; set; }\n}\n</code></pre>\n\n<p>and this is the code to do this:</p>\n\n<pre><code>var postEntity = new PostEntity()\n{\n    PostContent = model.PostContent,\n    PostId = Guid.NewGuid(),\n    UserId = user.Id\n};\n\ntry\n{\n    m_accountDbContext.PostDbCtx.Add(postEntity);\n    await m_accountDbContext.SaveChangesAsync();\n}\ncatch(ModelValidationException e )\n{\n    Console.WriteLine(e);\n}\ncatch(InvalidOperationException e)\n{\n    Console.WriteLine(e);\n}\ncatch(DbUpdateException e)\n{\n    Console.WriteLine(e);\n}\n\nreturn true;\n</code></pre>\n\n<p>The database does not have the table <code>Posts</code> at the moment. So far, whenever I used to work with EF, code-first took care of dealing with the creation of the database.</p>\n\n<p>However, in this case, when I run the code, a <code>DbUpdateException</code> is thrown, with an error inside which goes like </p>\n\n<blockquote>\n  <p>Invalid object : dbo.Posts</p>\n</blockquote>\n\n<p>Therefore I conclude that it is unable to find the table. However, I expect it to build it up for me.</p>\n\n<p>Is there something I missed?</p>\n"}, {"tags": ["c#", "initialization", "generic-list"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1525893129, "post_id": 50260454, "comment_id": 87538974, "body": "We need to know what <code>... load items from a REST service ...</code> <i>actually is</i>."}], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 5539513, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/790bed9f7c2a87d504b24b18565e1c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Nimral", "link": "https://stackoverflow.com/users/5539513/nimral"}, "edited": false, "score": 0, "creation_date": 1525932839, "post_id": 50260497, "comment_id": 87551016, "body": "Thanks Jonathan, for your comment. Looking deeper in the portal code (which I considered irrelevant, but in fact it is the problem) I found an exception handler:             catch (Exception ex)             {                 await Application.Current.MainPage.DisplayAlert(nameof(GetTodoData&zwnj;&#8203;Async), &quot;Error: &quot; + ex.Message, &quot;OK&quot;);                 return null;             } This is where the null comes from."}], "tags": [], "owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "is_accepted": true, "score": 6, "last_activity_date": 1525893060, "creation_date": 1525893060, "answer_id": 50260497, "question_id": 50260454, "link": "https://stackoverflow.com/questions/50260454/c-initialize-list-so-not-null-if-no-items-added/50260497#50260497", "title": "C# initialize list so not null if no items added", "body": "<pre><code>var items = new List&lt;TodoItem&gt;();\n</code></pre>\n\n<p>Creates an empty list. Done.</p>\n\n<p>If you're doing this and it ends up being <code>null</code>, then your code is setting it to <code>null</code> and you haven't shown that code. Maybe it has something to do with your <em>\"load items from a REST service\"</em> code?</p>\n"}], "owner": {"reputation": 447, "user_id": 5539513, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/790bed9f7c2a87d504b24b18565e1c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Nimral", "link": "https://stackoverflow.com/users/5539513/nimral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 50260497, "answer_count": 1, "score": 0, "last_activity_date": 1525893580, "creation_date": 1525892881, "last_edit_date": 1525893580, "question_id": 50260454, "link": "https://stackoverflow.com/questions/50260454/c-initialize-list-so-not-null-if-no-items-added", "title": "C# initialize list so not null if no items added", "body": "<p>I have a routine which initializes a list ...</p>\n\n<pre><code>var items = new List&lt;TodoItem&gt;();\n//... load items from a REST service ...\nreturn items;\n</code></pre>\n\n<p>A subsequent routine tries to enumerate the list ...</p>\n\n<pre><code>foreach (var i in items)\n{\n    // ...\n}\n</code></pre>\n\n<p>If the portal doesn't return any items, the list is <code>null</code> and the attempt to enumerate it fails ... the reasons have already been discussed.</p>\n\n<p>Till now I did a <code>!= null</code> check before the enumeration. Now I read a SO post where someone suggest that it was \"bad practice\" to return <code>null</code> in case a list has no items.</p>\n\n<p>How do I initialize the list as an empty list which can be enumerated, instead of letting it be <code>null</code>? the only way that came to my mind was a sequence like</p>\n\n<pre><code>var items = new List&lt;TodoItem&gt;();\nitems =  Enumerable.Empty&lt;TodoItem&gt;()\n</code></pre>\n\n<p>This won't compile:</p>\n\n<blockquote>\n  <p>Cannot implicitly convert type System.Collections.Generic.IEnumerable' to 'System.Collections.Generic.List'. An explicit conversion exists (are you missing a cast?).</p>\n</blockquote>\n\n<p>Trying to use an explicit cast ...</p>\n\n<pre><code>items = (List&lt;TodoItem&gt;)Enumerable.Empty&lt;TodoItem&gt;();\n</code></pre>\n\n<p>fails with a runtime exception \"invalid cast\"</p>\n\n<p>Can anybode advise how I can properly initialize my list?</p>\n"}, {"tags": ["c#", "winforms", "treeview", "contextmenustrip", "toolstripmenu"], "comments": [{"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1525893290, "post_id": 50260417, "comment_id": 87539047, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4886327/determine-what-control-the-contextmenustrip-was-used-on\">Determine what control the ContextMenuStrip was used on</a>"}, {"owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "reply_to_user": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1525957181, "post_id": 50260417, "comment_id": 87563823, "body": "@orhtej2: <b>Almost</b> a dup. See change I made to my question and my answer (that is based on the S.O. question <a href=\"https://stackoverflow.com/questions/4886327/determine-what-control-the-contextmenustrip-was-used-on\">Determine what control the ContextMenuStrip was used on</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "is_accepted": true, "score": 0, "last_activity_date": 1526064421, "last_edit_date": 1526064421, "creation_date": 1525957112, "answer_id": 50273506, "question_id": 50260417, "link": "https://stackoverflow.com/questions/50260417/is-there-a-way-to-know-which-treenode-is-right-clicked-after-one-of-its-contextm/50273506#50273506", "title": "Is there a way to know which TreeNode is right clicked after one of its ContextMenuStrip items is left clicked and the item&#39;s CheckedState changes?", "body": "<p>The <code>For a ContextMenuStrip</code> portion of the answer for S.O. question <a href=\"https://stackoverflow.com/questions/4886327/determine-what-control-the-contextmenustrip-was-used-on\">Determine what control the ContextMenuStrip was used on</a> <strong>almost</strong> answers my question.</p>\n\n<p>In my case, however, I want to process the <code>ContextMenuStrip</code> item right-click and access the <code>ContextMenuStrip</code> item's <code>CheckState</code> when the <code>CheckState</code> changes, so my code uses a <code>ContextMenuStrip</code> item <code>_CheckStateChanged</code> event method instead of a <code>ContextMenuStrip</code> item <code>_Click</code> event method. As such, I need to cast the sender to a <code>ToolStripMenuItem</code> instead of a  <code>ToolStripItem</code>. Other than that, I use the <code>For a ContextMenuStrip</code> portion of the answer from the S.O. question <a href=\"https://stackoverflow.com/questions/4886327/determine-what-control-the-contextmenustrip-was-used-on\">Determine what control the ContextMenuStrip was used on</a> in my <code>DocumentActionToolStripMenuItem_CheckStateChanged</code> event method :</p>\n\n<pre><code>private void DocumentActionToolStripMenuItem_CheckStateChanged(object sender, EventArgs e)\n{\n    Control treeNodeControl;\n\n    ToolStripMenuItem toolStripMenuItem = (ToolStripMenuItem)sender;\n\n    // if the ToolStripMenuItem item is owned by a ContextMenuStrip ...\n    if (toolStripMenuItem.Owner is ContextMenuStrip contextMenuStrip)\n    {\n        // Get the TreeNode that is displaying this context menu\n        treeNodeControl = contextMenuStrip.SourceControl;\n\n        if (toolStripMenuItem.CheckState == CheckState.Checked)\n        {\n            //Do something with treeNodeControl.SelectedNode treeView node\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 50273506, "answer_count": 1, "score": 1, "last_activity_date": 1526064421, "creation_date": 1525892740, "last_edit_date": 1526039028, "question_id": 50260417, "link": "https://stackoverflow.com/questions/50260417/is-there-a-way-to-know-which-treenode-is-right-clicked-after-one-of-its-contextm", "title": "Is there a way to know which TreeNode is right clicked after one of its ContextMenuStrip items is left clicked and the item&#39;s CheckedState changes?", "body": "<p><strong>Update on 5/10/2018</strong>. orhtej2 suggested that my question might be a dup of <a href=\"https://stackoverflow.com/questions/4886327/determine-what-control-the-contextmenustrip-was-used-on\">Determine what control the ContextMenuStrip was used on</a>. It is <strong>almost</strong> a dup, but my scenario has one significant difference. See my modified question and my answer for details.</p>\n\n<p>See my code below. My goal is more cleanly determine which TreeNode is right-clicked after one of its ContextMenuItems is left clicked.</p>\n\n<p>As it is now, when I right-click one of the two child nodes, the <code>if</code> statement in the <code>TreeView1_NodeMouseClick</code> loads the clicked <code>TreeNode</code> into the global <code>treeViewClickedNode</code> <code>TreeNode</code> object. Then, when I left click one of the two <code>contextMenuStripChildNode</code> <code>ToolStripMenuItem</code>, the <code>DocumentActionToolStripMenuItem_CheckStateChanged</code> method is fired. I can then examine the check state. If its checked, I can then do something to the <code>treeViewClickedNode</code> <code>TreeNode</code>.</p>\n\n<p>My question: Is there a cleaner way to determine which TreeNode is right clicked after one of its ContextMenuStrip items is left clicked, i.e., is there a way to do away with the global variable <code>treeViewClickedNode</code>?</p>\n\n<p>Note: The only thing I did in the designer was to place <code>treeview1</code> on <code>Form1</code>, dock it to <code>Form1</code> and set 'treeview1' <code>NodeMouseClick</code> to <code>TreeView1_NodeMouseClick</code></p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp_Scratch\n{\n    public partial class Form1 : Form\n    {\n        TreeNode treeViewClickedNode;\n        ContextMenu mnu = new ContextMenu();\n\n        public Form1()        \n        {\n            InitializeComponent();\n\n            // Create the root node.\n            TreeNode treeNodeRoot = new TreeNode(\"Documents\");\n\n            // Add the root node to the TreeView.\n            treeView1.Nodes.Add(treeNodeRoot);\n\n            //Create and add child 2 nodes each with a two item ContextMenuStrip.\n            string[] childNodeLabels = { \"document1.docx\", \"document2.docx\"};\n            string[] contextItemLabels = { \"Action A\", \"Action B\" };\n\n            foreach (String childNodeLabel in childNodeLabels)\n            {\n                TreeNode treeNode = treeNodeRoot.Nodes.Add(childNodeLabel);\n\n                // Create a ContextMenuStrip for this child node.\n                ContextMenuStrip contextMenuStripChildNode = new ContextMenuStrip\n                {\n                    ShowCheckMargin = true,\n                    ShowImageMargin = false\n                };\n\n                foreach (String contextItemLabel in contextItemLabels)\n                {\n                    //Create a menu item.\n                    ToolStripMenuItem action = new ToolStripMenuItem(contextItemLabel, null, DocumentActionToolStripMenuItem_CheckStateChanged)\n                    {\n                        CheckOnClick = true\n                    };\n\n                    contextMenuStripChildNode.Items.Add(action);\n                }\n\n                treeNode.ContextMenuStrip = contextMenuStripChildNode;\n            }\n\n\n        private void TreeView1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)\n        {\n            TreeView t = (TreeView)sender;\n            //Force the node that was right-clicked to be selected\n            t.SelectedNode = t.GetNodeAt(e.X, e.Y);\n\n            if (e.Button == MouseButtons.Right)\n            {\n                treeViewClickedNode = e.Node;\n            }\n        }\n\n        private void DocumentActionToolStripMenuItem_CheckStateChanged(object sender, EventArgs e)\n        {\n            ToolStripMenuItem toolStripMenuItem = (ToolStripMenuItem)sender;\n\n            if (toolStripMenuItem.CheckState == CheckState.Checked)\n            {\n                //Do something with treeViewClickedNode object\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "razor", "asp.net-core"], "comments": [{"owner": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525897599, "post_id": 50260406, "comment_id": 87541057, "body": "Can you post your folder structure? I could do it without a problem, but I used a different folder structure.. not sure if you can change your structure or not."}, {"owner": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525897726, "post_id": 50260406, "comment_id": 87541110, "body": "Also, did you configured your <code>CustomViewLocationExpander</code> in the <code>ConfigureServices</code> method?"}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "reply_to_user": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525897997, "post_id": 50260406, "comment_id": 87541249, "body": "@jpgrassi thanks for your comments! The <code>CustomViewLocationExpander</code> is configured in the services. As for the folder structure, I added an image of it. And yes, I am flexible to change the folder structure but I would like to put the partial view into that custom folder (Customer/Views) described in the question. Or you have any better idea about it?"}, {"owner": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525898076, "post_id": 50260406, "comment_id": 87541287, "body": "I see.. what I managed to do is &quot;rename&quot; the View folders to something like &quot;Features&quot;. Will try to reproduce in your structure and see if it also works."}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "reply_to_user": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525898259, "post_id": 50260406, "comment_id": 87541385, "body": "@jpgrassi thanks! Additional info which may be relevant: my view model  <code>CustomerViewModel</code> is located in another project, namely in the &#39;MokaKukaMap.Application&#39; project which is my application layer. As for the views, they are sitting in the &#39;MokaKukaMap&#39; project which is my presentation layer! DDD for the win :)"}, {"owner": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 1, "creation_date": 1525900606, "post_id": 50260406, "comment_id": 87542463, "body": "Check my answer.. it&#39;s working for me but it&#39;s a bit beyond your current setup. I can put it on github if you want to try it out. Just let me know."}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "reply_to_user": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525944432, "post_id": 50260406, "comment_id": 87556639, "body": "@jpgrassi To be honest I like your solution and the arguments you made! I agree with you! I will change my project then then if it is done and works I accept your answer! Could you please put you solution to a github repo, would be helpful to adjust my project."}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "reply_to_user": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525944435, "post_id": 50260406, "comment_id": 87556643, "body": "@jpgrassi Regarding your questions: Container is a not related to docker, it is a container which is used to transfer building materials from one place to another. As for DDD, you are right, the view model is just a plain anemic model. I was just referring to the standrad layers of DDD: Presentation-Application-Domain-Infrastructure! Thank you very much for everything!"}, {"owner": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525968446, "post_id": 50260406, "comment_id": 87570716, "body": "Updated my answer with the github repo."}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "reply_to_user": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1525974674, "post_id": 50260406, "comment_id": 87574059, "body": "@jpgrassi Super! Works like charm, I have successfully reorgranized my views! Thanks again, best wishes! ;)"}], "answers": [{"tags": [], "owner": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "is_accepted": true, "score": 2, "last_activity_date": 1525968393, "last_edit_date": 1525968393, "creation_date": 1525900327, "answer_id": 50262132, "question_id": 50260406, "link": "https://stackoverflow.com/questions/50260406/net-core-viewmodel-attributes-are-not-rendered/50262132#50262132", "title": ".NET Core: ViewModel attributes are not rendered", "body": "<p>Not sure this will help you solve the actual issue, since you will probably need to change lot of things.. but I find this structure more \"clean\" than what you have there. The problems I immediately see with this are:</p>\n\n<ul>\n<li>Hard to distinguish between actual features and setup/infra code. Is <code>Containers</code> a feature or something to do with Docker? Dunno, have to open it.</li>\n<li>The way it is now, in your <code>IViewLocationExpander</code> you have to \"hardcode\" each feature name because they are all spread around... not so cool.</li>\n</ul>\n\n<p>My suggestion is to change the structure to:</p>\n\n<ul>\n<li>Features (Rename Views to Features, keep the Shared folder normally.)\n\n<ul>\n<li>Customer\n\n<ul>\n<li>Controllers</li>\n<li>Views</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Then, you configure your <code>ViewLocationExpander</code> like this: </p>\n\n<pre><code>public class ViewLocationExpander : IViewLocationExpander\n{\n\n   public IEnumerable&lt;string&gt; ExpandViewLocations(ViewLocationExpanderContext context, IEnumerable&lt;string&gt; viewLocations)\n    {\n        // {1} is Controller, {0} is View Name\n        return new [] \n        {\n            \"/Features/{1}/Views/{0}.cshtml\", // Finds the Customer View folders\n            \"/Features/{1}/{0}.cshtml\", // finds the Home views.. they are in root of the folder.. so no need for Views\n            \"/Features/Shared/{0}.cshtml\" // Layouts\n        };\n    }\n\n    public void PopulateValues(ViewLocationExpanderContext context)\n    {\n\n    }\n}\n</code></pre>\n\n<p>This way, you can add new features, say like <code>Product</code>, with it's own <code>Views</code> folder and it will automatically be picked up. Here's an image of the structure I used in my setup:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pLI6l.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pLI6l.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Edit:</strong> Here is my solution on Github <a href=\"https://github.com/joaopgrassi/custom-razorview-location\" rel=\"nofollow noreferrer\">joaopgrassi/custom-razorview-location</a></p>\n\n<p>Also, I don't really get the point on having ViewModels in a separated project. The whole purpose of ViewModels are to serve the UI. There's nothing DDD on ViewModels, with public setters. Maybe I misunderstood you.. but I would definitely look more into that. DDD are rich, very often immutable entities.. and ViewModels are just poco classes just to transfer data around.</p>\n"}], "owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "accepted_answer_id": 50262132, "answer_count": 1, "score": 1, "last_activity_date": 1525968393, "creation_date": 1525892674, "last_edit_date": 1525897763, "question_id": 50260406, "link": "https://stackoverflow.com/questions/50260406/net-core-viewmodel-attributes-are-not-rendered", "title": ".NET Core: ViewModel attributes are not rendered", "body": "<p>I am developing an ASP.NET Core 2.0 web application using the Razor view engine. First and foremost I tried to look for solutions over the internet and here in StackOverFlow but any of these could solve my issue. Let's see what we are facing:</p>\n\n<p>I have a relative simple view model for a customer:</p>\n\n<pre><code>namespace MokaKukaMap.Application.Customers.ViewModels.Models\n{\n    public class CustomerViewModel\n    {\n        public long Id { get; set; }\n\n        [Display(Name = \"N\u00e9v\")]\n        [Required]\n        public string Name { get; set; }\n\n        [Display(Name = \"Telefonsz\u00e1m\")]\n        [Required]\n        public string PhoneNumber { get; set; }\n    }\n}\n</code></pre>\n\n<p>As you can see the <code>Name</code> and <code>PhoneNumber</code> properties have the attribute <code>Display</code> specified.\nMy corresponding partial view (<code>_NewCustomer.cshtml</code>) is the following: </p>\n\n<pre><code>@model MokaKukaMap.Application.Customers.ViewModels.Models.CustomerViewModel\n\n&lt;div class=\"col-lg-5 basic-surronder\"&gt;\n    &lt;form asp-controller=\"NewCustomer\" asp-action=\"NewCustomer\" class=\"well\"&gt;\n        &lt;div id=\"form-horizontal\"&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label asp-for=\"@Model.Name\" class=\"\"&gt;&lt;/label&gt;\n                &lt;div class=\"\"&gt;\n                    &lt;input asp-for=\"@Model.Name\" class=\"form-control\"&gt;\n                    &lt;span asp-validation-for=\"@Model.Name\" class=\"text-danger\"&gt; &lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n                &lt;label asp-for=\"@Model.PhoneNumber\" class=\"\"&gt;&lt;/label&gt;\n                &lt;div class=\"\"&gt;\n                    &lt;input asp-for=\"@Model.PhoneNumber\" class=\"form-control\"&gt;\n                    &lt;span asp-validation-for=\"@Model.PhoneNumber\" class=\"text-danger\"&gt; &lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div asp-validation-summary=\"ModelOnly\" class=\"text-danger\"&gt;&lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;div class=\"\"&gt;\n                &lt;input type=\"submit\" formnovalidate=\"formnovalidate\" value=\"\u00daj \u00fcgyf\u00e9l hozz\u00e1ad\u00e1sa\" class=\"btn btn-primary\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So far so good. As as I already mentioned I use this view as a partial view, so I include her in the <code>NewCustomer.cshtml</code> main view with the following line:</p>\n\n<pre><code>@Html.Partial(\"_NewCustomer\")\n</code></pre>\n\n<p>The <code>_NewCustomer.cshtml</code> is located in the standard Views/Shared folder. What I would like do is to place this partial view into a specific folder, namely to the Customers/Views folder. In order to solve this I made a <code>CustomerViewLocationExpander</code>, like the following:</p>\n\n<pre><code>public class CustomViewLocationExpander : IViewLocationExpander\n{\n    public IEnumerable&lt;string&gt; ExpandViewLocations(ViewLocationExpanderContext context, IEnumerable&lt;string&gt; viewLocations)\n    {\n        var viewLocationFormats = new[]\n        {\n            \"~/Customers/Views/{0}.cshtml\", \n            \"~/Views/Shared/{0}.cshtml\",\n            \"~/Views/{0}.cshtml\",\n        };\n        return viewLocationFormats;\n    }\n\n    public void PopulateValues(ViewLocationExpanderContext context)\n    {\n        context.Values[\"customviewlocation\"] = nameof(CustomViewLocationExpander);\n    }\n}\n</code></pre>\n\n<p>Which is configured in Startup.cs:</p>\n\n<pre><code>    services.Configure&lt;RazorViewEngineOptions&gt;(options =&gt; options.ViewLocationExpanders.Add(new CustomViewLocationExpander()));\n</code></pre>\n\n<p>My issue is the following: If the <code>_NewCustomer.cshtml</code> is located in the Views/Shared folder, everything works fine. But If I place it to my custom Customer/Views folder, the name of the properties are not displayed/rendered, and also the validation attributes are not working at all. The two input fields are rendered because I see the following form:\n<a href=\"https://i.stack.imgur.com/ONI62.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ONI62.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I already tried to solve my issue, (but none of them helped):</p>\n\n<ul>\n<li><p>Configuring the view location in the startup</p>\n\n<pre><code>services.Configure&lt;RazorViewEngineOptions&gt;(o =&gt; o.ViewLocationFormats.Add(\"/Customers/Views/{0}\" + RazorViewEngine.ViewExtension));\n</code></pre></li>\n<li><p>Using the absolute path when I include the partial view:</p>\n\n<pre><code>@Html.Partial(\"~/Customers/Views/_NewCustomer.cshtml\")\n</code></pre></li>\n<li><p>Creating a folder named 'Shared' in my 'Customer' folder and place my partial view there: Customer/Views/Shared</p></li>\n<li><p>Removing all the 'bin' and 'obj' folders, clean then rebuild the solution</p></li>\n</ul>\n\n<p>Furthermore I realized that if the partial view is located in the custom folder, then the VS2017 (IntelliSense) does not recognize the asp-net-core specific html tags, for example the <code>&lt;form asp-controller=</code> is not highlighted in green, only if the view is located in the Shared folder.</p>\n\n<p>Additional info:</p>\n\n<p>My folder structure looks like the following:\n<a href=\"https://i.stack.imgur.com/lEaEt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEaEt.png\" alt=\"enter image description here\"></a></p>\n\n<p>What do you think where the problem lies? Thanks for any help!</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 7770, "user_id": 2142028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ltfco.jpg?s=128&g=1", "display_name": "Maciej Los", "link": "https://stackoverflow.com/users/2142028/maciej-los"}, "edited": false, "score": 0, "creation_date": 1525892726, "post_id": 50260366, "comment_id": 87538782, "body": "Could you be more specific and provide more details? I don&#39;t get what you mean by &quot;<b>how to create a new datatable using linq with columns from the &quot;column&quot; variable</b>&quot;"}, {"owner": {"reputation": 1021, "user_id": 3335118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s22sH.png?s=128&g=1", "display_name": "theGleep", "link": "https://stackoverflow.com/users/3335118/thegleep"}, "edited": false, "score": 0, "creation_date": 1525893169, "post_id": 50260366, "comment_id": 87538999, "body": "I believe you will find your answer here: <a href=\"https://stackoverflow.com/questions/534690/return-anonymous-type-results\" title=\"return anonymous type results\">stackoverflow.com/questions/534690/&hellip;</a>"}, {"owner": {"reputation": 89, "user_id": 9236245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7398a9b2432c8e59b245f5ac0ad62885?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyDiaz", "link": "https://stackoverflow.com/users/9236245/joeydiaz"}, "edited": false, "score": 0, "creation_date": 1525893394, "post_id": 50260366, "comment_id": 87539101, "body": "I know I can do that but I am trying to exclude 2 columns and select 10+ to create a new datatable of data"}, {"owner": {"reputation": 240, "user_id": 7793817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8722ecd77d416e7ca57cf2fd49348ece?s=128&d=identicon&r=PG&f=1", "display_name": "Alvin", "link": "https://stackoverflow.com/users/7793817/alvin"}, "edited": false, "score": 0, "creation_date": 1525893919, "post_id": 50260366, "comment_id": 87539357, "body": "Check this out. <a href=\"https://stackoverflow.com/questions/30151388/removing-column-and-rows-from-datatable-using-linq?rq=1\" title=\"removing column and rows from datatable using linq\">stackoverflow.com/questions/30151388/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 240, "user_id": 7793817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8722ecd77d416e7ca57cf2fd49348ece?s=128&d=identicon&r=PG&f=1", "display_name": "Alvin", "link": "https://stackoverflow.com/users/7793817/alvin"}, "is_accepted": false, "score": 0, "last_activity_date": 1525893210, "creation_date": 1525893210, "answer_id": 50260534, "question_id": 50260366, "link": "https://stackoverflow.com/questions/50260366/linq-exclude-certain-columns-when-copying-to-a-new-datatable/50260534#50260534", "title": "linq exclude certain columns when copying to a new datatable", "body": "<p>From your datatable you can select only few columns by using <strong>.Select</strong> <br></p>\n\n<pre><code>var result = from a in new DataContext().DataColumn\n                 where a.ColumnName != \"ID\"\n                 select new {a.NotForExcel, a.ExcelColumn1, a.ExcelColumn2 };\n\nvar ExcelList = result.AsEnumerable()\n                              .Select(o =&gt; new DataColumn {\n                                               Column1 = o.ExcelColumn1, \n                                               Column2 = o.ExcelColumn2 \n                              }).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8645, "user_id": 5235574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wEodm.jpg?s=128&g=1", "display_name": "Fruchtzwerg", "link": "https://stackoverflow.com/users/5235574/fruchtzwerg"}, "is_accepted": true, "score": 0, "last_activity_date": 1525894146, "last_edit_date": 1525894146, "creation_date": 1525893821, "answer_id": 50260677, "question_id": 50260366, "link": "https://stackoverflow.com/questions/50260366/linq-exclude-certain-columns-when-copying-to-a-new-datatable/50260677#50260677", "title": "linq exclude certain columns when copying to a new datatable", "body": "<p>There is a simple way to do this by creating a new <code>DataTable</code> of a defined <code>DataView</code>. To show an example let's create <code>table1</code>:</p>\n\n<pre><code>DataTable table1 = new DataTable();\ntable1.Columns.Add(\"ID\");\ntable1.Columns.Add(\"Value1\");\ntable1.Columns.Add(\"Value2\");\n\ntable1.Rows.Add(new object[] { 0, \"zero\", \"nothing\" });\ntable1.Rows.Add(new object[] { 1, \"one\", \"single\" });\n</code></pre>\n\n<p>Now you need to specify the columns you want to have in your new <code>table2</code> by filtering the columns of <code>table1</code>. In our example we want all columns except \"ID\":</p>\n\n<pre><code>string[] columns = table1.Columns.OfType&lt;DataColumn&gt;()\n    .Where(c =&gt; c.ColumnName != \"ID\")\n    .Select(c =&gt; c.ColumnName).ToArray();\n</code></pre>\n\n<p>Using this columns you are able to create the new <code>table2</code>:</p>\n\n<pre><code>DataTable table2 = new DataView(table1).ToTable(false, columns);\n</code></pre>\n\n<p>As result <code>table2</code> looks like</p>\n\n<pre><code>Value1 | Value2\n-------|--------\nzero   | nothing\none    | single\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9236245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7398a9b2432c8e59b245f5ac0ad62885?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyDiaz", "link": "https://stackoverflow.com/users/9236245/joeydiaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 50260677, "answer_count": 2, "score": 0, "last_activity_date": 1525894146, "creation_date": 1525892501, "last_edit_date": 1525893267, "question_id": 50260366, "link": "https://stackoverflow.com/questions/50260366/linq-exclude-certain-columns-when-copying-to-a-new-datatable", "title": "linq exclude certain columns when copying to a new datatable", "body": "<p>I am trying to create an excel sheet using OpenXML and the LoadfromDataTable. I'm not married to that function if there is better. I am trying to exclude datatable columns so they don't show up in the excel sheet. For example, I have a datatable with Columns \"ID\", \"Name\" and \"Address\". </p>\n\n<pre><code>   ID Name  Address\n   1  Name1 So SO Street\n   2  Name2 Do Do Street\n</code></pre>\n\n<p>What I am trying to do is create a new Datatable with just the columns Name and address and exclude ID. </p>\n\n<p>I have a linq query that gets the list of columns that I would like to see in the new datatable as so: </p>\n\n<pre><code>var columns = dt1.Columns.Cast&lt;DataColumn&gt;().Where(c =&gt; c.ColumnName != \"ID\").ToList();\n</code></pre>\n\n<p>and I was trying to figure how to use that list to create a new datatable just with those columns in the list.</p>\n"}, {"tags": ["c#", "k-means"], "comments": [{"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1525895278, "post_id": 50260356, "comment_id": 87540016, "body": "Do you want to cluster the customers or do you want to cluster the items? And how many clusters do you want to build?"}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1525895388, "post_id": 50260356, "comment_id": 87540067, "body": "Using <code>X</code> and <code>Y</code> as actual point coordinates based on the customer ID and product ID doesn&#39;t make any sense. It would suggest that you can &quot;order&quot; these points or &quot;arrange&quot; them, but customer ID=4 isn&#39;t &quot;closer&quot; to a point than customer ID=7 (same goes for items)."}, {"owner": {"reputation": 960, "user_id": 4425441, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e0ff00e5d829830ab36ccd1077d7d51d?s=128&d=identicon&r=PG&f=1", "display_name": "Barry The Wizard", "link": "https://stackoverflow.com/users/4425441/barry-the-wizard"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1525895650, "post_id": 50260356, "comment_id": 87540191, "body": "@Progman I want to cluster the customers. So I get 10 points. The amount of clusters doesnt really matter. Can be 1,2 or more. Yes, you are right but how should I order them. The multiple dimension part makes me confused"}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1525895845, "post_id": 50260356, "comment_id": 87540284, "body": "By what metric do you want to cluster the customers? Why should customer with id=4, 7 and 8 be clustered together and customer with id=2 in another cluster (of total two clusters, as an example)? To be more specific: What is the &#39;distance&#39; between a customer and the cluster point?"}, {"owner": {"reputation": 960, "user_id": 4425441, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e0ff00e5d829830ab36ccd1077d7d51d?s=128&d=identicon&r=PG&f=1", "display_name": "Barry The Wizard", "link": "https://stackoverflow.com/users/4425441/barry-the-wizard"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1525896104, "post_id": 50260356, "comment_id": 87540417, "body": "The customers that buy the same products get clustered in the same cluster. (The dataset specified is a part of the total set)"}], "answers": [{"tags": [], "owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "is_accepted": false, "score": 1, "last_activity_date": 1525897519, "creation_date": 1525897519, "answer_id": 50261479, "question_id": 50260356, "link": "https://stackoverflow.com/questions/50260356/k-means-clustering-multiple-dimensions/50261479#50261479", "title": "K-means clustering multiple dimensions", "body": "<p>A point in this specific k-means problem is the set of products a customer bought. You have four customers with their list of bought items, so it would be something like this:</p>\n\n<pre><code>public class CustomerPoint\n{\n    public int CustomerId { get; set; }\n    public ISet&lt;int&gt; ProductIds { get; set; }\n}\n</code></pre>\n\n<p>Then the cluster point would be some abstract point (not as in the <code>abstract</code> c# keyword) like this:</p>\n\n<pre><code>public class ClusterPoint\n{\n    public int ClusterNumber { get; set; }\n    public IDictionary&lt;int, float&gt; ProductWeights { get; set; }\n}\n</code></pre>\n\n<p>The <code>ProductWeights</code> will be a dictionary which maps the CustomerId to a value between 0 and 1 (both including), which indicates that this product has been bought or not. The distance between the <code>ClusterPoint</code> and the <code>CustomerPoint</code> will be the difference between the product weight and the fact that the customer bought the item or not. The \"distance\" will be calculated for all products and the sum of these distances results in the total distance you have to minimize. When you have two cluster points <code>CLP(0.4, 0.1, 0.8, 0.5)</code> and <code>CLP(0.2, 0.7, 0.9, 0.9)</code> and you have a customer <code>CUP(0, 1, 1, 0)</code> the differences will be as follow:</p>\n\n<pre><code>CLP1:\n    |0 - 0.4|\u00b2 = 0.16\n    |1 - 0.1|\u00b2 = 0.81\n    |1 - 0.8|\u00b2 = 0.04\n    |0 - 0.5|\u00b2 = 0.25\n               ------\n                 1.26\nCLP2:\n    |0 - 0.2|\u00b2 = 0.04\n    |1 - 0.7|\u00b2 = 0.09\n    |1 - 0.9|\u00b2 = 0.01\n    |0 - 0.9|\u00b2 = 0.81\n               ------\n                 0.95\n</code></pre>\n\n<p>So the customer is \"closer\" to the second cluster point, so it gets assigned to that one.</p>\n\n<p>Maybe you can change the <code>CustomerPoint.ProductIds</code> property to a <code>IDictionary&lt;int, float&gt;</code> value as well and use the values <code>1</code> and <code>0</code> for  \"bought the item\" or not. But that's implementation detail.</p>\n"}], "owner": {"reputation": 960, "user_id": 4425441, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e0ff00e5d829830ab36ccd1077d7d51d?s=128&d=identicon&r=PG&f=1", "display_name": "Barry The Wizard", "link": "https://stackoverflow.com/users/4425441/barry-the-wizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525897519, "creation_date": 1525892462, "question_id": 50260356, "link": "https://stackoverflow.com/questions/50260356/k-means-clustering-multiple-dimensions", "title": "K-means clustering multiple dimensions", "body": "<p>I'm working on the K-means clustering algorithm. There are alot of examples available, but I can't find an example that explains what I'm trying to do.</p>\n\n<p>My dataset contains customers and their purchases. Every 1 in the dataset means the customer bought this item. A 0 means not bought.</p>\n\n<pre><code>0,0,0,0,1,0,1,0,0,1\n1,0,0,1,0,0,0,1,1,0\n1,1,0,0,0,0,0,0,0,0\n0,0,0,0,1,1,1,0,0,0\n</code></pre>\n\n<p>Left to right represent the different items.\nTop to bottom represent the customers. I want to cluster the customers. So there are 4 dimensions in the dataset and there will be 10 points. </p>\n\n<p>Now I'm trying to create points from this dataset for the next steps. I want to create a list containing all point object and then assign them to the right clusters, but I don't know how to handle the 4 different dimensions when I create a point object.</p>\n\n<pre><code>class Point\n{\n    public int ClusterNumber { get; set; }\n    public int X { get; set; }\n    public int Y { get; set; }\n\n    public Point(int clusterNumber, int CustomerId, int ProductId)\n    {\n        ClusterNumber = clusterNumber;\n        X = CustomerId;\n        Y = ProductId;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "soap", "client", "onvif", "usernametoken"], "owner": {"reputation": 486, "user_id": 8377287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yT4Zr.png?s=128&g=1", "display_name": "LoukMouk", "link": "https://stackoverflow.com/users/8377287/loukmouk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525891678, "creation_date": 1525891678, "question_id": 50260185, "link": "https://stackoverflow.com/questions/50260185/adding-usernametoken-authentication-to-onvif-deviceclient", "title": "Adding usernameToken authentication to ONVIF deviceClient", "body": "<p><strong>CONTEXT:</strong></p>\n\n<p>I'm currently trying to code a C# application to get informations, such as camera feed, dateTime, streaming URL, profiles and much more, from an ip camera, using the ONVIF \"standard\"...</p>\n\n<p>I managed to get the system time of the camera using this bit of code:</p>\n\n<pre><code>public bool Initialise(string cameraAddress, string userName, string password)\n{\n    bool result = false;\n\n    try\n    {\n        var messageElement = new TextMessageEncodingBindingElement()\n        {\n            MessageVersion = MessageVersion.CreateVersion(EnvelopeVersion.Soap12, AddressingVersion.WSAddressing10)\n        };\n\n        HttpTransportBindingElement httpBinding = new HttpTransportBindingElement()\n        {\n            AuthenticationScheme = AuthenticationSchemes.Digest\n        };\n\n        CustomBinding bind = new CustomBinding(messageElement, httpBinding);\n\n        System.Net.ServicePointManager.Expect100Continue = false;\n\n        DeviceClient deviceClient = new DeviceClient(bind, new EndpointAddress($\"http://{cameraAddress}/onvif/device_service\"));\n\n        var temps = deviceClient.GetSystemDateAndTime();\n    }\n    catch (Exception ex)\n    {\n        ErrorMessage = ex.Message;\n    }\n    return result;\n}\n</code></pre>\n\n<p>The <code>deviceClient.GetSystemDateAndTime()</code> function is posting this XML/SOAP envelope through http:\n<a href=\"https://i.stack.imgur.com/NcUGo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NcUGo.png\" alt=\"img0\"></a></p>\n\n<p>I'm reading this XML from wireshark when i run the function through VS2017 debugger...</p>\n\n<p><strong>Guess:</strong>\nI'm trying to add a UsernameToken type of authentication to my code so I can do operations that need this type of authentication...</p>\n\n<p>Here's a picture of a working XML/SOAP envelope that i would like to achieve:\n<a href=\"https://i.stack.imgur.com/xNjcV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xNjcV.png\" alt=\"img1\"></a></p>\n\n<p>I tried to add these lines to my code:</p>\n\n<pre><code>deviceClient = new DeviceClient(bind, new EndpointAddress($\"http://{cameraAddress}/onvif/device_service\"));\ndeviceClient.ClientCredentials.HttpDigest.AllowedImpersonationLevel = System.Security.Principal.TokenImpersonationLevel.Impersonation;\ndeviceClient.ClientCredentials.HttpDigest.ClientCredential.UserName = userName;\ndeviceClient.ClientCredentials.HttpDigest.ClientCredential.Password = password;\n</code></pre>\n\n<p>,but it doesn't even add a user/password bit to the XML I'm sending....</p>\n\n<p><strong>QUESTION:</strong>\nHow can I add this usernameToken to the header of the XML/SOAP envelope I'm sending?</p>\n"}, {"tags": ["c#", "visual-studio-2017", ".net-core", "xunit", "appsettings"], "owner": {"reputation": 262, "user_id": 3319307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682e40807649b87caf194a71051aa579?s=128&d=identicon&r=PG&f=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3319307/aravind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525891537, "creation_date": 1525891537, "question_id": 50260155, "link": "https://stackoverflow.com/questions/50260155/not-able-to-see-com-tab-under-add-reference-window-to-add-system-configuration-d", "title": "Not able to see com tab under add reference window to add system.configuration dll", "body": "<p>I just created one xunit test project for .Net Core in VS2017. I added one appsettings.json file to the project. To access the config values from settings file, I'm trying to add system.configuration dll from com component to the project depedencies but I do not see Com Tab at all when I right click on Dependencies and select Add reference. All I see is Projects, Shared Projects and Browse to expand and select from. How to add system.configuration dll?</p>\n\n<p>Appreciate any help.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1525891593, "post_id": 50260153, "comment_id": 87538232, "body": "What have you tried?  Post the code you have"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 3, "creation_date": 1525892102, "post_id": 50260153, "comment_id": 87538500, "body": "You do not show how your serial numbers look, you do not show how your EF is constructed, you do not show what you tried. How should we be able to help? My crystal ball is out of order. You also did not tell us how big of a problem that is - 1000 serial numbers? A million? More? You can try something simple as <code>serialNo.Where(s =&gt; s == s.ToLower()</code> on it if there are few. You can check for Any() and if one is lower others might be as well. If its a oneoff-job, it might not even be performant at all. Just a graball on Sql and store in temp table could be enough to isolate them."}, {"owner": {"reputation": 1385, "user_id": 582836, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7d3c4f5ed1066ceeec16017835e60b84?s=128&d=identicon&r=PG", "display_name": "Gavin Coates", "link": "https://stackoverflow.com/users/582836/gavin-coates"}, "edited": false, "score": 0, "creation_date": 1525892743, "post_id": 50260153, "comment_id": 87538788, "body": "At the point of posting I hadn&#39;t tried anything, as I don&#39;t even know where to begin with this. I&#39;ve since tried s == s.ToLower(), however linq / SQL Server is case insensitive, and so returns all serials, not just the lowercase ones.  This is a one off job, so performance is not important."}], "answers": [{"comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 2, "creation_date": 1525892170, "post_id": 50260270, "comment_id": 87538528, "body": "Not the downvoter - but I am not suggesting anyhing because the Q is very unclear on any details. Probably the reason someone dv."}, {"owner": {"reputation": 7770, "user_id": 2142028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ltfco.jpg?s=128&g=1", "display_name": "Maciej Los", "link": "https://stackoverflow.com/users/2142028/maciej-los"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1525892240, "post_id": 50260270, "comment_id": 87538560, "body": "@PatrickArtner, if it&#39;s the reason of of down-vote, i feel sad."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1525892351, "post_id": 50260270, "comment_id": 87538615, "body": "Me too, your advice is sound. But its an -yet- ill formed questions, hence I wont upvote your answer neither ;) typically the answers to such questions bite you in the .... b/c the get refined and refined and end up smth completely other then you thought."}, {"owner": {"reputation": 1385, "user_id": 582836, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7d3c4f5ed1066ceeec16017835e60b84?s=128&d=identicon&r=PG", "display_name": "Gavin Coates", "link": "https://stackoverflow.com/users/582836/gavin-coates"}, "edited": false, "score": 0, "creation_date": 1525895722, "post_id": 50260270, "comment_id": 87540229, "body": "@MaciejLos - this on paper looks like its the ideal solution, however it doesn&#39;t appear to work with linq to entities. Sorry, i should have specified that"}, {"owner": {"reputation": 7770, "user_id": 2142028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ltfco.jpg?s=128&g=1", "display_name": "Maciej Los", "link": "https://stackoverflow.com/users/2142028/maciej-los"}, "reply_to_user": {"reputation": 1385, "user_id": 582836, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7d3c4f5ed1066ceeec16017835e60b84?s=128&d=identicon&r=PG", "display_name": "Gavin Coates", "link": "https://stackoverflow.com/users/582836/gavin-coates"}, "edited": false, "score": 0, "creation_date": 1525896910, "post_id": 50260270, "comment_id": 87540765, "body": "@GavinCoates, SQL provides a way to detect lower case. <code>WHERE SerialNumber Like &#39;%[a-z]%&#39;</code>"}, {"owner": {"reputation": 7770, "user_id": 2142028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ltfco.jpg?s=128&g=1", "display_name": "Maciej Los", "link": "https://stackoverflow.com/users/2142028/maciej-los"}, "reply_to_user": {"reputation": 1385, "user_id": 582836, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7d3c4f5ed1066ceeec16017835e60b84?s=128&d=identicon&r=PG", "display_name": "Gavin Coates", "link": "https://stackoverflow.com/users/582836/gavin-coates"}, "edited": false, "score": 0, "creation_date": 1525897358, "post_id": 50260270, "comment_id": 87540946, "body": "@GavinCoates, I&#39;ve found very interesting article about that. See: <a href=\"https://milinaudara.wordpress.com/2015/02/04/case-sensitive-search-using-entity-framework-with-custom-annotation/\" rel=\"nofollow noreferrer\">Case sensitive search using Entity Framework and Custom Annotation</a>"}], "tags": [], "owner": {"reputation": 7770, "user_id": 2142028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ltfco.jpg?s=128&g=1", "display_name": "Maciej Los", "link": "https://stackoverflow.com/users/2142028/maciej-los"}, "is_accepted": false, "score": 1, "last_activity_date": 1525904360, "last_edit_date": 1525904360, "creation_date": 1525892077, "answer_id": 50260270, "question_id": 50260153, "link": "https://stackoverflow.com/questions/50260153/return-values-that-are-in-lowercase/50260270#50260270", "title": "Return Values That Are In Lowercase", "body": "<p>Yes, there is. You can try something like this:</p>\n\n<pre><code>var result = serialnumber.Any(c =&gt; char.IsLower(c));\n</code></pre>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>Well, in case of Linq to Entities... </p>\n\n<p>As is stated here: <a href=\"https://stackoverflow.com/questions/14417947/regex-in-linq-entityframework-string-processing-in-database\">Regex in Linq (EntityFramework), String processing in database</a>, there's few ways to workaround it.</p>\n\n<blockquote>\n  <ul>\n  <li><p>Change database table structure. E.g. create table Foo_Filter which will link your entities to filters. And then create table Filters\n  which will contain filters data.</p></li>\n  <li><p>Execute query in memory and use <a href=\"https://msdn.microsoft.com/en-us/library/bb397919.aspx\" rel=\"nofollow noreferrer\">Linq to Objects</a>. This option will be slow, because you have to fetch all data from database to memory</p></li>\n  </ul>\n</blockquote>\n\n<p>Note: link to MSDN documentation has been added by me.</p>\n\n<p>For example:</p>\n\n<pre><code>var result = context.Serials.ToList().Where(sn =&gt; sn.Any(c =&gt; char.IsLower(c)));\n</code></pre>\n\n<p>Another way is to use <a href=\"https://msdn.microsoft.com/en-us/library/system.data.linq.sqlclient.sqlmethods.like.aspx\" rel=\"nofollow noreferrer\">SqlMethods.Like Method</a></p>\n\n<p>Finally, i'd strongly recommend to read this: <a href=\"https://milinaudara.wordpress.com/2015/02/04/case-sensitive-search-using-entity-framework-with-custom-annotation/\" rel=\"nofollow noreferrer\">Case sensitive search using Entity Framework and Custom Annotation</a></p>\n"}], "owner": {"reputation": 1385, "user_id": 582836, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7d3c4f5ed1066ceeec16017835e60b84?s=128&d=identicon&r=PG", "display_name": "Gavin Coates", "link": "https://stackoverflow.com/users/582836/gavin-coates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1525904360, "creation_date": 1525891521, "last_edit_date": 1525892770, "question_id": 50260153, "link": "https://stackoverflow.com/questions/50260153/return-values-that-are-in-lowercase", "title": "Return Values That Are In Lowercase", "body": "<p>We recently discovered a bug in our system whereby any serial numbers that have been entered in lowercase have not been processed correctly.</p>\n\n<p>To correct this, we need to add a one off function that will run through the database and re-process all items with lower case serial numbers.</p>\n\n<p>In linq, is there a query I can run that will return a list of such items?</p>\n\n<p>Note: I am not asking how to convert lowercase to uppercase or reverse, which is all google will return. I need to generate a list of all database entries where the serial number has been entered in lowercase.</p>\n\n<p>EDIT: I am using Linq to MS SQL, which appears to be case insensitive. </p>\n"}, {"tags": ["c#", "html", "asp.net-mvc"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1525891586, "post_id": 50260138, "comment_id": 87538226, "body": "And the error message...?"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 1, "creation_date": 1525891775, "post_id": 50260138, "comment_id": 87538316, "body": "<code>RangeAttribute</code> provides <code>Minimum</code> and <code>Maximum</code> properties.  In your case <code>0</code> to <code>100,000</code>.  Last I looked, <code>null</code> does not fall within this range."}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1525891863, "post_id": 50260138, "comment_id": 87538370, "body": "also, how do you expect an <code>int</code> to hold a <code>null</code> ?"}, {"owner": {"reputation": 1, "user_id": 9519250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbDUP.jpg?s=128&g=1", "display_name": "IsThisThingOn", "link": "https://stackoverflow.com/users/9519250/isthisthingon"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1525892039, "post_id": 50260138, "comment_id": 87538464, "body": "System picks up null as 0 already. If tried removing the range also but its still not working. That makes sense because it was never giving me the Range error message of ErrorMessage = &quot;Invalid Number&quot;. I just get a &quot;The Reported Count field is required&quot; message."}, {"owner": {"reputation": 1, "user_id": 9519250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbDUP.jpg?s=128&g=1", "display_name": "IsThisThingOn", "link": "https://stackoverflow.com/users/9519250/isthisthingon"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1525892628, "post_id": 50260138, "comment_id": 87538746, "body": "I needed to change the datatype from int to int? thanks for the link!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1525905321, "post_id": 50260138, "comment_id": 87544070, "body": "Refer also <a href=\"https://stackoverflow.com/questions/43688968/what-does-it-mean-for-a-property-to-be-required-and-nullable/43689575#43689575\">What does it mean for a property to be Required and nullable?</a>"}], "owner": {"reputation": 1, "user_id": 9519250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbDUP.jpg?s=128&g=1", "display_name": "IsThisThingOn", "link": "https://stackoverflow.com/users/9519250/isthisthingon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1525891882, "answer_count": 0, "score": 0, "last_activity_date": 1525891647, "creation_date": 1525891452, "last_edit_date": 1525891647, "question_id": 50260138, "link": "https://stackoverflow.com/questions/50260138/c-modelstate-isvalid-is-false-when-not-providing-values-for-non-required-fiel", "closed_reason": "Duplicate", "title": "C# - ModelState.IsValid is false when not providing values for NON-REQUIRED fields", "body": "<p>I have an MVC project.\nThis project has the <code>HomeController</code> with the action <code>Insert</code>.<br>\n<code>Insert()</code> takes in model <code>Model</code>. </p>\n\n<p>The problem is that when submitting the form on the client side <code>ModelState.IsValid</code> is <code>false</code> when I don't fill in the non-required field <code>ReportedCount</code>. </p>\n\n<p>When leaving the field blank, the code automatically picks it up as 0 because it is an int. I've tried manipulating this to a different number during debug but <code>ModelState.IsValid</code> does not change.\nI know that the error happens just with the <code>ReportedCount</code> field. When I go into <code>ModelState</code> during debug, the only key that has the error is <code>ReportedCount</code>. So, of course I go ahead and re-submit the form with the field populated with a number and in that case it is accepted (IsValid = true).</p>\n\n<p>Here is the model:</p>\n\n<pre><code>public class Model\n{\n    [Required(ErrorMessage = \"ID field is required.\")]\n    public string ID { get; set; }\n\n    [Range(0, 100000, ErrorMessage = \"Invalid Number\")]\n    public int ReportedCount { get; set; }\n\n    [Required]\n    public string UserName { get; set; }\n}\n</code></pre>\n\n<p>Here is the controller action: </p>\n\n<pre><code>   [HttpPost]\n    public ActionResult Insert(Model model)\n    {\n        bool insert = false;\n\n        if (ModelState.IsValid)\n        {\n            insert = Service.Insert(model);\n        }\n\n        // If information was inserted properly. \n        if (insert == true)\n        {\n            TempData[\"message\"] = \"&lt;b&gt;Input successful :&lt;/b&gt; Data entered for id \" + model.ID;\n            TempData[\"success\"] = \"true\";\n        }\n        else\n        {\n            // System error has priority to be displayed first.\n            if (DatabaseError != null)\n            {\n\n                TempData[\"message\"] = DatabaseError;\n                TempData[\"success\"] = \"false\";\n            }\n            else \n            {\n                // Create element showing Model errors.\n                string message = \"\";\n                message = message + \"&lt;b&gt;There was an error inserting your data.&lt;/b&gt; &lt;ul&gt;\";\n\n                foreach (ModelState modelState in ViewData.ModelState.Values)\n                {\n                    foreach (ModelError error in modelState.Errors)\n                    {\n                        message = message + \"&lt;li&gt;\" + error.ErrorMessage + \"&lt;/li&gt;\";\n                    }\n                }\n\n                message = message + DatabaseError + \"&lt;/ul&gt;\";\n\n                TempData[\"message\"] = message;\n                TempData[\"success\"] = \"false\";\n            }\n        }\n\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n\n<p>And the html code for the inputs (View):</p>\n\n<pre><code>&lt;html&gt;\n    &lt;div class='form-group required'&gt;\n        &lt;label class='control-label'&gt;ID&lt;/label&gt;\n        &lt;select name=\"ID\" class='form-control required' id=\"DD_ID\" required&gt;\n            &lt;option value=\"\"&gt;Select ID&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n    &lt;div class='form-group'&gt;\n            &lt;label class='control-label'&gt;Reported Count&lt;/label&gt;\n            &lt;input class='form-control' type='number' name=\"ReportedCount\"&gt;\n    &lt;/div&gt;\n    &lt;div class='form-row'&gt;\n            &lt;input class='form-control' id='username' type='hidden' name=\"UserName\" value=\"@(ViewBag.UserName)\" /&gt;\n    &lt;/div&gt;\n&lt;/html&gt; \n</code></pre>\n"}, {"tags": ["c#", "unity3d", "inheritance"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1525891368, "post_id": 50260068, "comment_id": 87538110, "body": "So you want to pass class objects into this EventHandler and not an IEvent?"}, {"owner": {"reputation": 5835, "user_id": 129899, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6d1f8e5a125a589884b3784caa11736b?s=128&d=identicon&r=PG", "display_name": "Bachalo", "link": "https://stackoverflow.com/users/129899/bachalo"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1525891545, "post_id": 50260068, "comment_id": 87538205, "body": "No, please see my edited post."}, {"owner": {"reputation": 680, "user_id": 7188335, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-_u88jZeBnQI/AAAAAAAAAAI/AAAAAAAAABo/4Q7HWXZAEV0/photo.jpg?sz=128", "display_name": "Tyler S. Loeper", "link": "https://stackoverflow.com/users/7188335/tyler-s-loeper"}, "edited": false, "score": 1, "creation_date": 1525891723, "post_id": 50260068, "comment_id": 87538296, "body": "This sounds roughly like a scenario you would use an interface in. <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/interfaces/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 5835, "user_id": 129899, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6d1f8e5a125a589884b3784caa11736b?s=128&d=identicon&r=PG", "display_name": "Bachalo", "link": "https://stackoverflow.com/users/129899/bachalo"}, "edited": false, "score": 2, "creation_date": 1525891824, "post_id": 50260068, "comment_id": 87538351, "body": "IAnimal animal = ob.GetComponent&lt;IAnimal&gt;()   ??"}, {"owner": {"reputation": 680, "user_id": 7188335, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-_u88jZeBnQI/AAAAAAAAAAI/AAAAAAAAABo/4Q7HWXZAEV0/photo.jpg?sz=128", "display_name": "Tyler S. Loeper", "link": "https://stackoverflow.com/users/7188335/tyler-s-loeper"}, "edited": false, "score": 0, "creation_date": 1525894101, "post_id": 50260068, "comment_id": 87539463, "body": "Yes. Then you can set the prefab as a property in your animal class. For example as a gameobject or as a string, aka the string path to the prefab in your resource folder. Then everything should work fine. Example: Instantiate(animal.prefabResourceString, .. .. ..). If you are not familiar with using the resource folder to locate prefabs programmatically then check it out!"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1525921839, "post_id": 50260068, "comment_id": 87547776, "body": "Heck, you can use <code>GetComponent</code> on an <code>Animal</code> <i>class</i> if you want to keep it functional."}], "owner": {"reputation": 5835, "user_id": 129899, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6d1f8e5a125a589884b3784caa11736b?s=128&d=identicon&r=PG", "display_name": "Bachalo", "link": "https://stackoverflow.com/users/129899/bachalo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1525891954, "creation_date": 1525891143, "last_edit_date": 1525891433, "question_id": 50260068, "link": "https://stackoverflow.com/questions/50260068/inheritance-issue-passing-derived-class-to-base-class", "title": "Inheritance issue - passing derived Class to base Class", "body": "<p>I need to duplicate functionality in 2 different 'view' classes, with the only difference in functionality determined by a direction (string or bool) and int value.<br>\nSo, inheritance makes sense to avoid code duplication.</p>\n\n<p>For simplicity sake, in my base class, <code>Animal</code>, I have the following event handler and two 2 derived classes, <code>DogView</code> and <code>CatView</code>.</p>\n\n<p>What is the 'best' way to pass in 'DogView' and 'CatView' to this base class so they are visible by this event handler? (and optionally 'dogPrefab' and 'catPrefab')\nI want to avoid overriding this handler since there are other similar event handlers and I would be duplicating the majority of the base class, hence defeating the reason for inheritance in the first place.</p>\n\n<pre><code>bool MyEventHandler(IEvent evt)\n{\n    Event_Enter castEvent = evt as Event_Enter;\n    if (castEvent != null)\n    {\n         Vector3 newPos = new Vector3(0,-1.1f, 0);\n         GameObject ob = (GameObject)Instantiate(dogPrefab, newPos, Quaternion.identity);                    \n         DogView animal = ob.GetComponent&lt;DogView&gt;();\n         animal._id = castEvent.id;                \n    }\n\n   return false;\n}\n</code></pre>\n"}, {"tags": ["c#", "cassandra"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 3043457, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1ee80197af4a3499b6217e2756515015?s=128&d=identicon&r=PG&f=1", "display_name": "user3043457", "link": "https://stackoverflow.com/users/3043457/user3043457"}, "edited": false, "score": 0, "creation_date": 1526453881, "post_id": 50268243, "comment_id": 87744662, "body": "Thank you for your answer. As I said in my original message I did try to create a codec to convert the date, but it didn&#39;t work. I will update the post to add the codec call and how it was called."}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "reply_to_user": {"reputation": 483, "user_id": 3043457, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1ee80197af4a3499b6217e2756515015?s=128&d=identicon&r=PG&f=1", "display_name": "user3043457", "link": "https://stackoverflow.com/users/3043457/user3043457"}, "edited": false, "score": 0, "creation_date": 1526464218, "post_id": 50268243, "comment_id": 87751323, "body": "How it doesn&#39;t work - throws error, simply don&#39;t convert, etc.?"}, {"owner": {"reputation": 483, "user_id": 3043457, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1ee80197af4a3499b6217e2756515015?s=128&d=identicon&r=PG&f=1", "display_name": "user3043457", "link": "https://stackoverflow.com/users/3043457/user3043457"}, "edited": false, "score": 0, "creation_date": 1526532997, "post_id": 50268243, "comment_id": 87782671, "body": "Pretty much acts like the same like without it, but the code does execute (serialize method gets call in debugger on save), but I still get exception saying Date should be 4 bytes long."}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "reply_to_user": {"reputation": 483, "user_id": 3043457, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1ee80197af4a3499b6217e2756515015?s=128&d=identicon&r=PG&f=1", "display_name": "user3043457", "link": "https://stackoverflow.com/users/3043457/user3043457"}, "edited": false, "score": 1, "creation_date": 1526548393, "post_id": 50268243, "comment_id": 87790802, "body": "I&#39;ve got it working with small modifications - see the updated code... Regarding examples - usually I look into test suites for them: for C# this is either <a href=\"https://github.com/datastax/csharp-driver/tree/master/src/Cassandra.Tests\" rel=\"nofollow noreferrer\">github.com/datastax/csharp-driver/tree/master/src/&hellip;</a>, or <a href=\"https://github.com/datastax/csharp-driver/tree/master/src/Cassandra.IntegrationTests\" rel=\"nofollow noreferrer\">github.com/datastax/csharp-driver/tree/master/src/&hellip;</a>"}, {"owner": {"reputation": 483, "user_id": 3043457, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1ee80197af4a3499b6217e2756515015?s=128&d=identicon&r=PG&f=1", "display_name": "user3043457", "link": "https://stackoverflow.com/users/3043457/user3043457"}, "edited": false, "score": 0, "creation_date": 1526794454, "post_id": 50268243, "comment_id": 87878237, "body": "Yup that actually worked. It seems the only thing I&#39;ve been missing is setting the getter for CqlType property. Also thanks for the tip in checking the test suites."}], "tags": [], "owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "is_accepted": true, "score": 4, "last_activity_date": 1526548318, "last_edit_date": 1526548318, "creation_date": 1525939248, "answer_id": 50268243, "question_id": 50260061, "link": "https://stackoverflow.com/questions/50260061/saving-a-datetime-to-cassandra-date-column/50268243#50268243", "title": "Saving a DateTime to Cassandra Date column", "body": "<p>C# driver uses <code>LocalDate</code> class to represent <code>date</code> from Cassandra, so either need to change your declaration of <code>dateofbirth</code> to use it, or develop corresponding codec.</p>\n\n<p>You can check the documentation on date and time representation for the C# driver: <a href=\"https://docs.datastax.com/en/developer/csharp-driver/3.5/features/datatypes/datetime/\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/developer/csharp-driver/3.5/features/datatypes/datetime/</a></p>\n\n<p>Update after update of the question with code sample:</p>\n\n<p>Define table &amp; insert sample data:</p>\n\n<pre><code>cqlsh&gt; create table test.dt(id int primary key, d date);\ncqlsh&gt; insert into test.dt(id, d) values(1, '2018-05-17');\ncqlsh&gt; insert into test.dt(id, d) values(2, '2018-05-16');\ncqlsh&gt; insert into test.dt(id, d) values(3, '2018-05-15');\n</code></pre>\n\n<p>Following converted works for me:</p>\n\n<pre><code>public class DateCodec : TypeSerializer&lt;DateTime&gt;\n{\n    private static readonly TypeSerializer&lt;LocalDate&gt; serializer = \n         TypeSerializer.PrimitiveLocalDateSerializer;\n\n    public override ColumnTypeCode CqlType\n    {\n        get { return ColumnTypeCode.Date; }\n    }\n\n    public DateCodec() { }\n\n    public override DateTime Deserialize(ushort protocolVersion, byte[] buffer, \n         int offset, int length, IColumnInfo typeInfo)\n    {\n        var result = serializer.Deserialize(protocolVersion, buffer,\n                offset, length, typeInfo);\n        return new DateTime(result.Year, result.Month, result.Day);\n    }\n\n    public override byte[] Serialize(ushort protocolVersion, DateTime value)\n    {\n        return serializer.Serialize(protocolVersion, \n            new LocalDate(value.Year, value.Month, value.Day));\n    }\n}\n</code></pre>\n\n<p>Main program:</p>\n\n<pre><code>TypeSerializerDefinitions definitions = new TypeSerializerDefinitions();\ndefinitions.Define(new DateCodec());\n\nvar cluster = Cluster.Builder()\n         .AddContactPoints(\"localhost\")\n         .WithTypeSerializers(definitions)\n         .Build();\nvar session = cluster.Connect();\nvar rs = session.Execute(\"SELECT * FROM test.dt\");\nforeach (var row in rs)\n{\n    var id = row.GetValue&lt;int&gt;(\"id\");\n    var date = row.GetValue&lt;DateTime&gt;(\"d\");\n    Console.WriteLine(\"id=\" + id + \", date=\" + date);\n}\n\nvar pq = session.Prepare(\"insert into test.dt(id, d) values(?, ?);\");\nvar bound = pq.Bind(10, new DateTime(2018, 04, 01));\nsession.Execute(bound);\n</code></pre>\n\n<p>Gives as result following:</p>\n\n<pre><code>id=1, date=5/17/18 12:00:00 AM\nid=2, date=5/16/18 12:00:00 AM\nid=3, date=5/15/18 12:00:00 AM\n</code></pre>\n\n<p>And checking from <code>cqlsh</code>:</p>\n\n<pre><code>cqlsh&gt; SELECT * from test.dt ;\n\n id | d\n----+------------\n 10 | 2018-04-01\n  1 | 2018-05-17\n  2 | 2018-05-16\n  3 | 2018-05-15\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 3043457, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1ee80197af4a3499b6217e2756515015?s=128&d=identicon&r=PG&f=1", "display_name": "user3043457", "link": "https://stackoverflow.com/users/3043457/user3043457"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2217, "favorite_count": 1, "accepted_answer_id": 50268243, "answer_count": 1, "score": 5, "last_activity_date": 1526548318, "creation_date": 1525891107, "last_edit_date": 1526454181, "question_id": 50260061, "link": "https://stackoverflow.com/questions/50260061/saving-a-datetime-to-cassandra-date-column", "title": "Saving a DateTime to Cassandra Date column", "body": "<p>Cassandra .NET driver documentation is unbelievably poor, I'm trying to scrap together something functional but I waste so much time trying to change code from Java documents that I found.</p>\n\n<p>I am trying to write data to a simple table using Cassandra driver. The table already exists and there's date inside. I have created a mapping and added some columns. Here's a cut-off version to demonstrate:</p>\n\n<pre><code>For&lt;Profile&gt;().TableName(\"profiles\")\n    .PartitionKey(p =&gt; p.IntegerId)\n    .Column(p =&gt; p.IntegerId, cm =&gt; cm.WithName(\"profileid\"))\n    .Column(p =&gt; p.BirthDate, cm =&gt; cm.WithName(\"dateofbirth\"))\n</code></pre>\n\n<p>There are more columns and tables but that this the important part.</p>\n\n<p>Then saving is done from a simple generic method:</p>\n\n<pre><code>public async Task&lt;bool&gt; Add&lt;T&gt;(T item) where T : EntityBase, new()\n{\n    await _mapper.InsertIfNotExistsAsync(item);\n}\n</code></pre>\n\n<p>Again there's more code there, but the relevant parts are here. What's important is that I'm using InsertIfNotExists and using generic method that works with a base entity.</p>\n\n<p><code>dateofbirth</code> column in Cassandra is of type Date.\nWhen I run the Insert method I get exception that the length of Date should be 4 bytes instead of 8 (I assume I need to cut off the time part of the DateTime).</p>\n\n<p>I tried using WithType on the mapping and creating a TypeSerializer similar to what was described at <a href=\"https://stackoverflow.com/questions/43064133/how-to-insert-java-util-date-values-into-cassandra-date-type-column-using-spring\">this question</a>, but had no luck.\nAnyone has a working code that saves this type (and possibly other types) to Cassandra?</p>\n\n<p>Here's the code for the date codec that was adapted from the internet, and how it was used, it might be (very) wrong:</p>\n\n<pre><code>public class DateCodec : TypeSerializer&lt;DateTime&gt;\n{\n    private static TypeSerializer&lt;LocalDate&gt; _innerSerializer;\n\n    public DateCodec(TypeSerializer&lt;LocalDate&gt; serializer)\n    {\n        _innerSerializer = serializer;\n        TypeInfo = new CustomColumnInfo(\"LocalDate\");\n    }\n\n    public override IColumnInfo TypeInfo { get; }\n\n    public override DateTime Deserialize(ushort protocolVersion, byte[] buffer, int offset, int length, IColumnInfo typeInfo)\n    {\n        var result = _innerSerializer.Deserialize(protocolVersion, buffer, offset, length, typeInfo);\n        return new DateTime(result.Year, result.Month, result.Day);\n    }\n\n    public override ColumnTypeCode CqlType { get; }\n\n    public override byte[] Serialize(ushort protocolVersion, DateTime value)\n    {\n        return _innerSerializer.Serialize(protocolVersion, new LocalDate(value.Year, value.Month, value.Day));\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>TypeSerializerDefinitions definitions = new TypeSerializerDefinitions();\ndefinitions.Define(new DateCodec(TypeSerializer.PrimitiveLocalDateSerializer));\n\nvar cluster = Cluster.Builder()\n    .AddContactPoints(...)\n    .WithCredentials(...)\n    .WithTypeSerializers(definitions)\n    .Build();\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525897490, "post_id": 50260025, "comment_id": 87541005, "body": "Are you expecting your <i>v1</i> web api to handle requests to the <i>v0</i> WCF endpoints?  What do your WCF endpoints URLs look like?"}, {"owner": {"reputation": 307, "user_id": 183195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081a86f91969fe580f15f5d1ef004519?s=128&d=identicon&r=PG", "display_name": "wdspider", "link": "https://stackoverflow.com/users/183195/wdspider"}, "reply_to_user": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525898365, "post_id": 50260025, "comment_id": 87541441, "body": "my WCF endpoints look something like: <code>wcf?method=rawr&amp;format=json&amp;apikey=apikey&amp;params=params</code> my WebAPI endpoints look something like: <code>webapi&#47;controller&#47;version&#47;method?format=json&amp;apikey=apikey&amp;p&zwnj;&#8203;arams=params</code>  I&#39;m using <code>Microsoft.AspNetCore.Rewrite</code> nuget on the WebAPI side to rewrite the WCF endpoint urls to the v0 WebAPI endpoints.  I have no desire to maintain a link between the WCF endpoint url format and v1 WebAPI endpoints. v1 WebAPI would be breaking changes, so clients would need to be updated to handle the new requests / responses; they can switch to new baseurl also."}, {"owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525961806, "post_id": 50260025, "comment_id": 87566603, "body": "I would recommend your rewriter do something like <i>www.mysite.com/api/v1/controller/version/method?format=json&amp;&zwnj;&#8203;apikey=apikey&amp;params&zwnj;&#8203;=params</i> to support the legacy WCF clients and introduce a new RESTful v2 to support new clients and add&#39;l apis, so <i>www.mysite.com/api/v2/controller/action/etc</i>.  Does your WCF return json or SOAP today?"}, {"owner": {"reputation": 307, "user_id": 183195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081a86f91969fe580f15f5d1ef004519?s=128&d=identicon&r=PG", "display_name": "wdspider", "link": "https://stackoverflow.com/users/183195/wdspider"}, "reply_to_user": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525962879, "post_id": 50260025, "comment_id": 87567294, "body": "That&#39;s basically what I&#39;m attempting to do; except v0 and v1 rather than v1 and v2. Yes, the WCF currently uses the DataContract Serializers to return json and xml which is why I want to use them for v0. I would prefer to use the default serializers for v1."}, {"owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525971102, "post_id": 50260025, "comment_id": 87572262, "body": "Take a look at <a href=\"https://stackoverflow.com/a/39272955/2779990\">stackoverflow.com/a/39272955/2779990</a> you may need a custom <code>MediaTypeFormatter</code>"}, {"owner": {"reputation": 307, "user_id": 183195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081a86f91969fe580f15f5d1ef004519?s=128&d=identicon&r=PG", "display_name": "wdspider", "link": "https://stackoverflow.com/users/183195/wdspider"}, "reply_to_user": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525981780, "post_id": 50260025, "comment_id": 87577539, "body": "Yeah, I had read that post. I don&#39;t really need &quot;custom&quot; so I was hoping that I could configure it without going down that route."}, {"owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525984149, "post_id": 50260025, "comment_id": 87578620, "body": "You&#39;re wanting to toggle the deserializer based on the entry point.  Are you wanting to use the same models/DTOs?  Not sure that&#39;d be doable given the annotations, but...have you tried adorning your model with DataContract/Member <i>and</i> Json properties?"}, {"owner": {"reputation": 307, "user_id": 183195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081a86f91969fe580f15f5d1ef004519?s=128&d=identicon&r=PG", "display_name": "wdspider", "link": "https://stackoverflow.com/users/183195/wdspider"}, "reply_to_user": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1525991076, "post_id": 50260025, "comment_id": 87581218, "body": "Yes, I would like to toggle the (de)serializer based on the entry point. While the current models do successfully work with both sets of serializers; they don&#39;t interop well due to namespace, ordering, casing and other small differences. I hadn&#39;t attempted to decorate the models with both sets of attributes as my original question seems way cleaner."}, {"owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1526041943, "post_id": 50260025, "comment_id": 87601030, "body": "Not sure how many apis/clients you have, but it may be worth introducing a mapping layer for your legacy models that are mapped/converted to the new models (incoming/outgoing).  You could use something like a <b>DelegatingHandler</b> to facilitate that early in the pipline for incoming as an example.  At some point in the future if you sunset v0, then you just turn off/unplug the mapping layer.  Wish I had something more definitive man!"}], "owner": {"reputation": 307, "user_id": 183195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081a86f91969fe580f15f5d1ef004519?s=128&d=identicon&r=PG", "display_name": "wdspider", "link": "https://stackoverflow.com/users/183195/wdspider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525890963, "creation_date": 1525890963, "question_id": 50260025, "link": "https://stackoverflow.com/questions/50260025/how-do-i-use-the-datacontract-based-serializers-for-v0-requests-to-my-api-while", "title": "How do I use the DataContract-based serializers for v0 requests to my api while using the default json/xml serializers for v1 requests to my api?", "body": "<p>I am in the process of migrating a WCF-based api to ASP.NET Core WebAPI-based api. I am also using the <code>Microsoft.AspNetCore.Mvc.Versioning</code> nuget package to provide \"out of the box\" api versioning for the WebAPI-based api.</p>\n\n<p>Ideally, I would like to use the DataContract-based serializers for v0 request bodies and responses; thus, ensuring that the serialization works exactly like it currently does in the WCF-based api. However, for v1 request bodies and responses, I would prefer to use the newer, built-in json / xml serializers.</p>\n\n<p>Is there an easy way to achieve this via settings in <code>Startup.cs</code> and using the <code>FormatFilter</code> attribute?</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 2011, "user_id": 6537701, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/513000037985985ad2541a504674f12e?s=128&d=identicon&r=PG&f=1", "display_name": "kurakura88", "link": "https://stackoverflow.com/users/6537701/kurakura88"}, "edited": false, "score": 0, "creation_date": 1525923176, "post_id": 50260012, "comment_id": 87548073, "body": "I would just change to <code>foreach(var o ....</code>, to make my life easier. Note that you are only searching the first level children, did you make sure the <code>Rectangle</code> you are looking for is at the first level?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "edited": false, "score": 0, "creation_date": 1525891531, "post_id": 50260039, "comment_id": 87538194, "body": "to use the control not the shape rectangle how do I differentiate? just use the full namespace?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "edited": false, "score": 0, "creation_date": 1525891940, "post_id": 50260039, "comment_id": 87538418, "body": "@wintersummer or remove the <code>using System.Drawing.Shapes</code> from the top and add a using for the controls"}, {"owner": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "edited": false, "score": 0, "creation_date": 1525892095, "post_id": 50260039, "comment_id": 87538493, "body": "tried that got its only recognizing rectangle as a shapes class and not finding a type for rectangle. weird."}, {"owner": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "edited": false, "score": 0, "creation_date": 1525892254, "post_id": 50260039, "comment_id": 87538566, "body": "maybe im not using a controls class? that wouldn&#39;t make sense though since I added them all through the xaml"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "edited": false, "score": 0, "creation_date": 1525894003, "post_id": 50260039, "comment_id": 87539409, "body": "@wintersummer that is certainly possible though I thought there was a control there"}, {"owner": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "edited": false, "score": 0, "creation_date": 1525894280, "post_id": 50260039, "comment_id": 87539561, "body": "its not registering like I would hope. I tried with (foreach control  o in logical tree) and changing the rectangle to image if (o is image) and its saying the given expression is never of type image so I dont think im capturing it correctly in my foreach.... suggestings?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "edited": false, "score": 0, "creation_date": 1525894545, "post_id": 50260039, "comment_id": 87539686, "body": "I don&#39;t recall if <code>GetChildren</code> is recursive; if its not you may only be getting top level children. FWIW this is a very off use case; you may just have a giant XY problem here."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 0, "last_activity_date": 1525891014, "creation_date": 1525891014, "answer_id": 50260039, "question_id": 50260012, "link": "https://stackoverflow.com/questions/50260012/capturing-all-wpf-controls-in-a-foreach-statement/50260039#50260039", "title": "capturing all wpf controls in a foreach statement", "body": "<p>Its saying that not all children are <code>Rectangle</code> (and you seem to have the wrong one as well, you want the control not the shape).</p>\n\n<p>Just filter down to the rectangles:</p>\n\n<pre><code>foreach (Rectangle o in LogicalTreeHelper.GetChildren(program).OfType&lt;Rectangle&gt;())\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9760832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1931c33e9dd8a23a788a00f3ec1864c6?s=128&d=identicon&r=PG&f=1", "display_name": "wintersummer", "link": "https://stackoverflow.com/users/9760832/wintersummer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525891014, "creation_date": 1525890933, "question_id": 50260012, "link": "https://stackoverflow.com/questions/50260012/capturing-all-wpf-controls-in-a-foreach-statement", "title": "capturing all wpf controls in a foreach statement", "body": "<p>I have a WPF program made of rectangle controls with different tags and image sources as a fill and I want to do a foreach on all my controlls to do different logic based on their tags.</p>\n\n<pre><code>foreach (Rectangle o in LogicalTreeHelper.GetChildren(program))\n                {\n                    if (o is Rectangle &amp;&amp; o.Tag.ToString() == \"platform\" ){}\n</code></pre>\n\n<p>however I get an error say \"Unable to cast object of type 'System.Windows.Controls.Image' to type 'System.Windows.Shapes.Rectangle'.\" Am I using the wrong Rectangle reference?</p>\n"}, {"tags": ["c#", "json", "datetime"], "comments": [{"owner": {"reputation": 31, "user_id": 7960117, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z595gDtciiI/AAAAAAAAAAI/AAAAAAAACyM/i9V2itk2ml0/photo.jpg?sz=128", "display_name": "Orange", "link": "https://stackoverflow.com/users/7960117/orange"}, "edited": false, "score": 1, "creation_date": 1525892632, "post_id": 50259988, "comment_id": 87538749, "body": "Found better answer here ; <a href=\"https://stackoverflow.com/questions/36580519/custom-json-serialization-for-each-item-in-ienumerable?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"custom json serialization for each item in ienumerable\">stackoverflow.com/questions/36580519/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7960117, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z595gDtciiI/AAAAAAAAAAI/AAAAAAAACyM/i9V2itk2ml0/photo.jpg?sz=128", "display_name": "Orange", "link": "https://stackoverflow.com/users/7960117/orange"}, "edited": false, "score": 0, "creation_date": 1525892655, "post_id": 50260192, "comment_id": 87538754, "body": "<a href=\"https://stackoverflow.com/questions/36580519/custom-json-serialization-for-each-item-in-ienumerable?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"custom json serialization for each item in ienumerable\">stackoverflow.com/questions/36580519/&hellip;</a>  Here is the better answer"}], "tags": [], "owner": {"reputation": 463, "user_id": 1321988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed805fd14aa718132f7b0376a78ba200?s=128&d=identicon&r=PG", "display_name": "user1321988", "link": "https://stackoverflow.com/users/1321988/user1321988"}, "is_accepted": false, "score": 0, "last_activity_date": 1525891709, "creation_date": 1525891709, "answer_id": 50260192, "question_id": 50259988, "link": "https://stackoverflow.com/questions/50259988/anyone-know-how-to-format-a-list-of-dates-using-jsonconverter-attribute/50260192#50260192", "title": "Anyone know how to format a list of dates using JsonConverter attribute", "body": "<p>How about trying something like this since it requires to pass in a DateTime Object (Let A be the single converted value and B be the container of the list of DateTimes):</p>\n\n<pre><code>public class DateConverter : IsoDateTimeConverter\n{\n    public DateConverter()\n    {\n        DateTimeFormat = \"yyyy-MM-dd\";\n    }\n}\n\n\npublic class A\n{\n\n    [JsonConverter(typeof(DateConverter))]\n    public DateTime date { get; set; }\n}\n\npublic class B\n{\n    public List&lt;A&gt; dates { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7960117, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z595gDtciiI/AAAAAAAAAAI/AAAAAAAACyM/i9V2itk2ml0/photo.jpg?sz=128", "display_name": "Orange", "link": "https://stackoverflow.com/users/7960117/orange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "closed_date": 1525978417, "answer_count": 1, "score": 1, "last_activity_date": 1525978465, "creation_date": 1525890841, "last_edit_date": 1525978465, "question_id": 50259988, "link": "https://stackoverflow.com/questions/50259988/anyone-know-how-to-format-a-list-of-dates-using-jsonconverter-attribute", "closed_reason": "Duplicate", "title": "Anyone know how to format a list of dates using JsonConverter attribute", "body": "<p>Here is a similar issue, but it didn't get any answers. <a href=\"https://stackoverflow.com/questions/43911846/how-to-format-a-list-of-dates-using-jsonconverter-attribute\">How to format a list of dates using JsonConverter attribute</a></p>\n\n<p>Here is the question:\nI try to use a JsonConverter attribute using a custom IsoDateTimeConverter on the DateTime fields that need to be formatted as <code>ISO date time format</code></p>\n\n<pre><code>public class DateConverter : IsoDateTimeConverter\n{\n    public DateConverter()\n    {\n        DateTimeFormat = \"yyyy-MM-dd\";\n    }\n}\n\n\npublic class A\n{\n\n    [JsonConverter(typeof(DateConverter))]\n    public List&lt;DateTime&gt; Example { get; set; }\n}\n</code></pre>\n\n<p>This results in the following error: </p>\n\n<blockquote>\n  <p>Unexpected value when converting date. Expected DateTime or DateTimeOffset, got System.Collections.Generic.List`1[System.DateTime].</p>\n</blockquote>\n\n<p>I checked all the documents from <a href=\"https://www.newtonsoft.com\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com</a>, but I can't find anything relate to this issue.</p>\n\n<p>Please give me some ideas about that. Thanks</p>\n"}, {"tags": ["c#", "datetime"], "comments": [{"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1525891274, "post_id": 50259966, "comment_id": 87538044, "body": "What is the type of <code>startDate</code> and <code>endDate</code>? Is it <code>DateTime</code>?"}, {"owner": {"reputation": 2280, "user_id": 1458985, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/0fcfed451b42d89b70f5e7ee49ec62b3?s=128&d=identicon&r=PG", "display_name": "Dom Sinclair", "link": "https://stackoverflow.com/users/1458985/dom-sinclair"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1525891388, "post_id": 50259966, "comment_id": 87538120, "body": "@dasblinkenlight Yes both are defined as being of type Datetime"}, {"owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1525891674, "post_id": 50259966, "comment_id": 87538263, "body": "Try using this formula: <code>duration.Ticks &#47; (TimeSpan.TicksPerDay - TimeSpan.TicksPerHour*4)</code>. This should give you what you want. I will say though that <code>6</code> seems more of a natural answer than <code>7</code>. So be sure you really want this."}, {"owner": {"reputation": 2280, "user_id": 1458985, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/0fcfed451b42d89b70f5e7ee49ec62b3?s=128&d=identicon&r=PG", "display_name": "Dom Sinclair", "link": "https://stackoverflow.com/users/1458985/dom-sinclair"}, "reply_to_user": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1525892212, "post_id": 50259966, "comment_id": 87538545, "body": "@Icemanind  the notion of the week comes from the fact that the end user has what they view as as weekly accounting period that runs from Wednesday to the following Tuesday.  Anything that happens in that period gets wrapped into that weeks accounts.  They view that as being 7 days and get &#39;confused&#39; by anything that might suggest it&#39;s 6."}], "answers": [{"tags": [], "owner": {"reputation": 3306, "user_id": 1951463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ8Ii.jpg?s=128&g=1", "display_name": "Terry Carmen", "link": "https://stackoverflow.com/users/1951463/terry-carmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1525891827, "creation_date": 1525891827, "answer_id": 50260212, "question_id": 50259966, "link": "https://stackoverflow.com/questions/50259966/is-there-a-function-available-in-c-that-would-return-7-as-the-number-of-days-th/50260212#50260212", "title": "Is there a function available in c# that would return 7 as the number of days that make up a week", "body": "<blockquote>\n  <p>get 6 returned. I understand the reason why but instinctively one would (or at least I would) look upon that period as being a week (or 7 days). </p>\n</blockquote>\n\n<p>It says 6 days because it <em>is</em> 6 days.</p>\n\n<p>If you specify startdate as \"5/2/2018 00:00:00\" and enddate as \"5/8/2018 23:59:59\", the answer is 6.23:59:59 days.</p>\n\n<p>If you use 5/2 &amp; 5/3, it returns 1, which is correct. This is no different than what it does with your test data.</p>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1525892068, "creation_date": 1525892068, "answer_id": 50260267, "question_id": 50259966, "link": "https://stackoverflow.com/questions/50259966/is-there-a-function-available-in-c-that-would-return-7-as-the-number-of-days-th/50260267#50260267", "title": "Is there a function available in c# that would return 7 as the number of days that make up a week", "body": "<p>The problem is that <code>DateTime</code> does not represent dates, it represents points in time that include dates. When you write \"May-2, 2018\", <code>DateTime</code> represents it as \"Midnight of May-2, 2018\". When you subtract <code>endDate</code> from <code>startDate</code>, you are computing the amount of time passed between midnights of May-2 and May-8, which is exactly 6.</p>\n\n<p>Since you would like to include both ends into your computation, you need to add 1 day to the result:</p>\n\n<pre><code>var from = new DateTime(2018, 5, 2);\nvar to = new DateTime(2018, 5, 8);\nvar diff = to.Date - from.Date + TimeSpan.FromDays(1);\nConsole.WriteLine(diff.TotalDays); // Prints 7\n</code></pre>\n"}], "owner": {"reputation": 2280, "user_id": 1458985, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/0fcfed451b42d89b70f5e7ee49ec62b3?s=128&d=identicon&r=PG", "display_name": "Dom Sinclair", "link": "https://stackoverflow.com/users/1458985/dom-sinclair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 50260267, "answer_count": 2, "score": 0, "last_activity_date": 1525892519, "creation_date": 1525890783, "last_edit_date": 1525892519, "question_id": 50259966, "link": "https://stackoverflow.com/questions/50259966/is-there-a-function-available-in-c-that-would-return-7-as-the-number-of-days-th", "title": "Is there a function available in c# that would return 7 as the number of days that make up a week", "body": "<p>If I take Wednesday May 2 2017 as a start date and Tuesday 8 May as an end date and feed those as parameters to the following code;</p>\n\n<pre><code>TimeSpan duration =  startDate - endDate;\nreturn Convert.ToDouble(duration.TotalDays);\n</code></pre>\n\n<p>I get 6 returned.  I understand the reason why but instinctively one would (or at least I would) look upon that period as being a week (or 7 days). Is there a readily available function in C# that would return 7 as the number of days that that date range represents?</p>\n"}, {"tags": ["c#", ".net", "c#-4.0"], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 2930902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4f3ea4093c781584c3347214f0385f?s=128&d=identicon&r=PG&f=1", "display_name": "Manjunatha DL", "link": "https://stackoverflow.com/users/2930902/manjunatha-dl"}, "edited": false, "score": 0, "creation_date": 1525935798, "post_id": 50260165, "comment_id": 87552460, "body": "It works fine but at the end i am getting full of zeros but i need exact result because i am doing sum operation"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "reply_to_user": {"reputation": 236, "user_id": 2930902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4f3ea4093c781584c3347214f0385f?s=128&d=identicon&r=PG&f=1", "display_name": "Manjunatha DL", "link": "https://stackoverflow.com/users/2930902/manjunatha-dl"}, "edited": false, "score": 1, "creation_date": 1526061608, "post_id": 50260165, "comment_id": 87612526, "body": "What do you mean? This <b>IS</b> an exact result. Those zeros are part of your number which has <code>+36</code> digits. If you don&#39;t want the zeros at the end and you only want <code>234567543423455</code>, then this is a completely different number which is <code>2.34567543423455e+14</code>. If you use this number <code>2.34567543423455e+14</code> with the code in my answer, you will have no zeros. If you want to start with <code>+36</code> and remove the zeros, then you can simply trim them like this <code>d.ToString(&quot;F0&quot;).TrimEnd(&#39;0&#39;)</code>."}, {"owner": {"reputation": 236, "user_id": 2930902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4f3ea4093c781584c3347214f0385f?s=128&d=identicon&r=PG&f=1", "display_name": "Manjunatha DL", "link": "https://stackoverflow.com/users/2930902/manjunatha-dl"}, "edited": false, "score": 0, "creation_date": 1570179693, "post_id": 50260165, "comment_id": 102839792, "body": "d.ToString(&quot;F0&quot;).TrimEnd(&#39;0&#39;) helped for me to solve my problem. Thank you."}], "tags": [], "owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "is_accepted": true, "score": 2, "last_activity_date": 1525891560, "creation_date": 1525891560, "answer_id": 50260165, "question_id": 50259912, "link": "https://stackoverflow.com/questions/50259912/convert-exponential-number-to-full-number/50260165#50260165", "title": "Convert exponential number to full number", "body": "<p>That's because the <code>decimal</code> maximum value is about <code>7.9e+28</code>, so it cannot fit your number. You need to store it in a <code>double</code>. When you want to print put the number, you can format it in any way you want using the <code>ToString()</code> method with formatting specifier. For example, <code>F0</code> will give a straight number with no fraction:</p>\n\n<pre><code>var sm = \"2.3456754342345466E+36\";\nvar d = double.Parse(sm, System.Globalization.NumberStyles.Float);\nConsole.WriteLine(d.ToString(\"F0\")); //Prints 2345675434234550000000000000000000000\n</code></pre>\n"}], "owner": {"reputation": 236, "user_id": 2930902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4f3ea4093c781584c3347214f0385f?s=128&d=identicon&r=PG&f=1", "display_name": "Manjunatha DL", "link": "https://stackoverflow.com/users/2930902/manjunatha-dl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 50260165, "answer_count": 1, "score": 2, "last_activity_date": 1570179825, "creation_date": 1525890559, "last_edit_date": 1570179825, "question_id": 50259912, "link": "https://stackoverflow.com/questions/50259912/convert-exponential-number-to-full-number", "title": "Convert exponential number to full number", "body": "<p>Convert <code>\"2.3456754342345466E+36\"</code> to full number:</p>\n\n<pre><code>var sm = Convert.ToDouble(splitted[0]) + Convert.ToDouble(splitted[1]);  \n\n**//sm value is === \"2.3456754342345466E+36\"**\n\nvar d = Decimal.Parse(sm.ToString(), \nSystem.Globalization.NumberStyles.Float);\nif (splitted[0].Length ==Convert.ToString(d).Length)\n {\n sum.Add(\"\"+sm);\n }\nelse\n{\n sum.Add(\"\"+splitted[0]);\n}\n</code></pre>\n\n<p><code>Decimal.Parse(sm.ToString()</code> is throwing:</p>\n\n<blockquote>\n  <p>Value was either too large or too small for a Decimal.</p>\n</blockquote>\n\n<p>Can someone help.</p>\n"}, {"tags": ["c#", "mongodb"], "comments": [{"owner": {"reputation": 128, "user_id": 4934966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2d88a29dc6c9c0111e039c742be0f3?s=128&d=identicon&r=PG&f=1", "display_name": "ivanPfeff", "link": "https://stackoverflow.com/users/4934966/ivanpfeff"}, "edited": false, "score": 0, "creation_date": 1525894802, "post_id": 50259909, "comment_id": 87539788, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/41015598/how-to-call-a-stored-javascript-in-mongodb-from-c-sharp\" title=\"how to call a stored javascript in mongodb from c sharp\">stackoverflow.com/questions/41015598/&hellip;</a>"}, {"owner": {"reputation": 773, "user_id": 8277490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XaLd8.jpg?s=128&g=1", "display_name": "Mohammad Taherian", "link": "https://stackoverflow.com/users/8277490/mohammad-taherian"}, "reply_to_user": {"reputation": 128, "user_id": 4934966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2d88a29dc6c9c0111e039c742be0f3?s=128&d=identicon&r=PG&f=1", "display_name": "ivanPfeff", "link": "https://stackoverflow.com/users/4934966/ivanpfeff"}, "edited": false, "score": 0, "creation_date": 1525896791, "post_id": 50259909, "comment_id": 87540718, "body": "I saw that before. But I have read some documents that recommend that do not use <code>eval</code> command because it has very low performance. I want to now Which one is better call function in this way or use .Net Driver"}], "owner": {"reputation": 773, "user_id": 8277490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XaLd8.jpg?s=128&g=1", "display_name": "Mohammad Taherian", "link": "https://stackoverflow.com/users/8277490/mohammad-taherian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525890918, "creation_date": 1525890545, "last_edit_date": 1525890918, "question_id": 50259909, "link": "https://stackoverflow.com/questions/50259909/how-can-i-run-my-mongodb-function-in-c", "title": "How can I run my MongoDB function in C#", "body": "<p>I have a complicated aggregate function which I think it is better to run on the MongoDB server and its name is \"myFunc\".  How can I run that from c# code to get best performance?\nIs it better to use it as MongoDB function or write it by using .net driver and run it on C# code? </p>\n"}, {"tags": ["c#", "unit-testing", "nunit"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1525890408, "post_id": 50259855, "comment_id": 87537617, "body": "You don&#39;t <i>return</i> an exception, you <i>throw</i> it, so make your mock <code>.GetRequest()</code> method throw an exception."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4797061, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba5bd605feeb7393a4eaa3f61012db25?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4797061/jason"}, "edited": false, "score": 0, "creation_date": 1525961772, "post_id": 50259950, "comment_id": 87566582, "body": "I have limited experience with Mock so I&#39;m curious if the actual method of the concrete class is executed or do you just mock the behavior of said method ? I&#39;m needing to get code coverage for the method in question."}], "tags": [], "owner": {"reputation": 10723, "user_id": 18938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad36aea9ff5e233ea939e212bfc466b?s=128&d=identicon&r=PG", "display_name": "Eric King", "link": "https://stackoverflow.com/users/18938/eric-king"}, "is_accepted": false, "score": 1, "last_activity_date": 1525890727, "creation_date": 1525890727, "answer_id": 50259950, "question_id": 50259855, "link": "https://stackoverflow.com/questions/50259855/how-to-write-c-unit-test-for-proper-code-coverage-in-try-catch-block/50259950#50259950", "title": "How to write C# unit test for proper code coverage in try catch block", "body": "<p>You <em>don't</em> use the same ManagerFake class that returns true. Make a different IManager implementation that throws an error. </p>\n\n<p>Or, use a mock object library that will create mock object instances with exactly the behavior you want in each test.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9767397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb237909ac4c9ae849042061acacf423?s=128&d=identicon&r=PG&f=1", "display_name": "Wireless", "link": "https://stackoverflow.com/users/9767397/wireless"}, "is_accepted": false, "score": 1, "last_activity_date": 1525900996, "creation_date": 1525900996, "answer_id": 50262271, "question_id": 50259855, "link": "https://stackoverflow.com/questions/50259855/how-to-write-c-unit-test-for-proper-code-coverage-in-try-catch-block/50262271#50262271", "title": "How to write C# unit test for proper code coverage in try catch block", "body": "<p>You probably want to look into mock framework (like Moq: <a href=\"https://github.com/Moq/moq4\" rel=\"nofollow noreferrer\">https://github.com/Moq/moq4</a>).</p>\n\n<p>Instead of writing the ManagerFake class(es) that mimic all the behavior you are looking for you can simply mimic behavior:</p>\n\n<pre><code>var mock = new Mock&lt;IManager&gt;();\nmock.Setup(manager =&gt; manager.GetRequest())\n    .ReturnsAsync(true);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var mock = new Mock&lt;IManager&gt;();\nmock.Setup(manager =&gt; manager.GetRequest())\n    .Throws(new HTTPResponseException( ... ));\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4797061, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba5bd605feeb7393a4eaa3f61012db25?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4797061/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525900996, "creation_date": 1525890280, "last_edit_date": 1525890526, "question_id": 50259855, "link": "https://stackoverflow.com/questions/50259855/how-to-write-c-unit-test-for-proper-code-coverage-in-try-catch-block", "title": "How to write C# unit test for proper code coverage in try catch block", "body": "<p>I have the following code:</p>\n\n<pre><code>public class MyControllerClass : ApiController  \n{  \n   private readonly IManager _manager;\n\n   public MyControllerClass(IManager manager)\n   {\n     this._manager = manager;\n   }\n\n   pubic async Task&lt;IHttpActionResult&gt; GetRequest()  \n   {  \n     try  \n       {  \n         await this._manager.GetRequest();  \n         return this.ok();  \n       }  \n     catch (Exception ex)  \n      {  \n         this.logger.Error(\"Error message\", ex);  \n         throw this.HTTPResponseException(\"Request failed message\", ex);   \n      }   \n   }\n} \n\npublic class ManagerFake : IManagerFake  \n{  \n    public Task GetRequest()  \n    {  \n        return Task.FromResult(true);  \n    }  \n}     \n</code></pre>\n\n<p>I am using NUnit for the unit testing. For the unit tests I have a FakeManager class registered in my IOC container which contains the GetResult() method and simply returns Task.FromResult(true) when executed. This allows the logic in the try block to be executed and thus proper code coverage is met for that section. </p>\n\n<p>The problem I'm having is how do I create a test using the same FakeManager class that will throw an exception so that the catch block logic will be executed and code coverage is satisfied when there is no way to make two unique calls to the GetRequest() method since it doesn't take input parameters which could be used to distinguish the two different calls ?  </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6832, "user_id": 6064728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yZxqO.jpg?s=128&g=1", "display_name": "Samvel Petrosov", "link": "https://stackoverflow.com/users/6064728/samvel-petrosov"}, "edited": false, "score": 1, "creation_date": 1525890207, "post_id": 50259787, "comment_id": 87537490, "body": "Why do you want to return Task? You can make this method <code>void</code>"}, {"owner": {"reputation": 3539, "user_id": 1245940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fJn9x.png?s=128&g=1", "display_name": "Daniel Lorenz", "link": "https://stackoverflow.com/users/1245940/daniel-lorenz"}, "edited": false, "score": 3, "creation_date": 1525890248, "post_id": 50259787, "comment_id": 87537516, "body": "Yes, button click events have to be async void. No getting around it. :("}, {"owner": {"reputation": 1, "user_id": 9766668, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Siggy", "link": "https://stackoverflow.com/users/9766668/siggy"}, "edited": false, "score": 0, "creation_date": 1525890435, "post_id": 50259787, "comment_id": 87537629, "body": "When I used the WAIT command it underscored an error with youTube.GetVideoAsync(uri);. SO I highlighted the error and VS recommended the Task part. Daniel, so I can&#39;t have this code in an button click? I&#39;ll try it elsewhere."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1525891618, "post_id": 50259787, "comment_id": 87538243, "body": "@Siggy you can, just understand that it will be a &quot;async void&quot; and be aware of <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">the potential issues</a>"}, {"owner": {"reputation": 1, "user_id": 9766668, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Siggy", "link": "https://stackoverflow.com/users/9766668/siggy"}, "edited": false, "score": 0, "creation_date": 1525892387, "post_id": 50259787, "comment_id": 87538629, "body": "Scott I put void after async and got rid of the System.Threading.Tasks.Task. Now everything is fine. Thank you! I&#39;d vote for you but I don&#39;t know if I can."}], "answers": [{"tags": [], "owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1578423255, "creation_date": 1578423255, "answer_id": 59634455, "question_id": 50259787, "link": "https://stackoverflow.com/questions/50259787/c-using-async-and-await-wrong-return-type/59634455#59634455", "title": "C# Using Async and Await, Wrong Return Type", "body": "<p>Faced the same issue today where I had a button that was posting some data to an API and I had to do it <code>asynchronously</code> to avoid any issues on the User Interface. But it wasn't allowing the method signature to be <code>async Task</code> so what worked for me was simple, I just replace <code>async Task</code> with <code>async void</code>. For example, I modified it to look like below:</p>\n\n<pre><code>public async void btn1_Click(object s, EventArgs e)\n{\n     // await your API call.\n}\n</code></pre>\n\n<p><strong>PS:</strong> In case you want to read and interact with the User interface object like displaying text in labels or setting text to textboxes, you might want to Invoke the control so it doesn't throw any thread exceptions as it might not allow you to interact with the UI thread in an <code>async method</code></p>\n"}], "owner": {"reputation": 1, "user_id": 9766668, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Siggy", "link": "https://stackoverflow.com/users/9766668/siggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 790, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1595440331, "creation_date": 1525890017, "last_edit_date": 1525890097, "question_id": 50259787, "link": "https://stackoverflow.com/questions/50259787/c-using-async-and-await-wrong-return-type", "title": "C# Using Async and Await, Wrong Return Type", "body": "<pre><code>private async System.Threading.Tasks.Task buttonPaste_ClickAsync(object sender, EventArgs e)\n{\n    textBoxVideoLink.Text = Clipboard.GetText(System.Windows.Forms.TextDataFormat.Text);\n\n    string uri = textBoxVideoLink.Text;\n    var youTube = YouTube.Default;\n    var video = await youTube.GetVideoAsync(uri);\n\n    textBoxVideoTitle.Text = video.Title;\n}\n</code></pre>\n\n<p>There are no visible errors and it builds but then I get an error in <code>FormMain.Designer.cs</code> and it underscores (<code>this.buttonPaste_ClickAsync</code>);</p>\n\n<p>The actual error is <code>Task FormMain.buttonPaste_ClickAsync(object sender, EventArgs e)</code> has the wrong return type.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1525890063, "post_id": 50259771, "comment_id": 87537411, "body": "OrderBy followeed by ThenBy"}], "answers": [{"tags": [], "owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "is_accepted": true, "score": 4, "last_activity_date": 1525890357, "last_edit_date": 1525890357, "creation_date": 1525890067, "answer_id": 50259802, "question_id": 50259771, "link": "https://stackoverflow.com/questions/50259771/sort-and-order-alphabetically/50259802#50259802", "title": "Sort and Order Alphabetically", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/bb534743(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>ThenBy</code></a> </p>\n\n<pre><code>var orderedList = persons.OrderBy(x=&gt;x.Role).ThenBy(x=&gt;x.Name); //You are missing a Role property\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 7993509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc7d1da8ec6784c4638569251d749201?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Mu&#241;oz", "link": "https://stackoverflow.com/users/7993509/francisco-mu%c3%b1oz"}, "is_accepted": false, "score": -1, "last_activity_date": 1525890151, "creation_date": 1525890151, "answer_id": 50259828, "question_id": 50259771, "link": "https://stackoverflow.com/questions/50259771/sort-and-order-alphabetically/50259828#50259828", "title": "Sort and Order Alphabetically", "body": "<pre><code>persons.OrderBy(x =&gt;x.Name).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 8266260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7751c68c2de011df418d67560513b552?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/8266260/brett"}, "is_accepted": false, "score": 1, "last_activity_date": 1525891171, "last_edit_date": 1525891171, "creation_date": 1525890905, "answer_id": 50260006, "question_id": 50259771, "link": "https://stackoverflow.com/questions/50259771/sort-and-order-alphabetically/50260006#50260006", "title": "Sort and Order Alphabetically", "body": "<p>First, add a Role property to your Person class.  Then use a linq statement to sort and order the list. </p>\n\n<pre><code>var list = persons.OrderBy(x=&gt;x.Role).ThenBy(x=&gt;x.Name);\n</code></pre>\n"}], "owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 50259802, "answer_count": 3, "score": 0, "last_activity_date": 1525891171, "creation_date": 1525889926, "question_id": 50259771, "link": "https://stackoverflow.com/questions/50259771/sort-and-order-alphabetically", "title": "Sort and Order Alphabetically", "body": "<p>I have the following implementation and adding person to the list. However I would like to sort based on role then order based on alphabetical order. I wonder how it could be done in LINQ.</p>\n\n<p>In other words, once sort and order is applied, I need to see all teacher item sequentially but alphabetically ordered.</p>\n\n<pre><code>class Program\n{\n    class Person\n    {\n        public Person(string id, string name, string role)\n        {\n            Id = id;\n            Name = name;\n        }\n        public string Id { get; set; }\n        public string Name { get; set; }\n    }\n\n    static void Main()\n    {\n        List&lt;Person&gt; persons = new List&lt;Person&gt;();\n        persons.Add(new Person(\"P005\", \"Janson\", \"Teacher\"));\n        persons.Add(new Person(\"P137\", \"Aniket\", \"Student\"));\n        persons.Add(new Person(\"P002\", \"Aravind\", \"Teacher\"));\n        persons.Add(new Person(\"P007\", \"Kazhal\", \"Student\"));\n        persons.Add(new Person(\"P017\", \"Kamikaze\", \"Teacher\"));\n        persons.Add(new Person(\"P417\", \"Johnson\", \"Teacher\"));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1525890638, "post_id": 50259764, "comment_id": 87537718, "body": "short answer: you can&#39;t. If you need to bound the child window you should just be hosting that child window within the parent window"}, {"owner": {"reputation": 35, "user_id": 5063269, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e725cf5cffe896b52d97ce2c95497892?s=128&d=identicon&r=PG&f=1", "display_name": "cravie", "link": "https://stackoverflow.com/users/5063269/cravie"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1525890844, "post_id": 50259764, "comment_id": 87537821, "body": "how would I go about doing that? I&#39;m already setting the owner of the children window to its parent, but I&#39;ve never heard of hosting a child window within the parent window. @Steve"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1525891992, "post_id": 50259764, "comment_id": 87538441, "body": "basically moving all the child window&#39;s content into one of parent window&#39;s grid cell. If you would like it to behave exactly like a window (dragging resizing ect) then you would need to implement your own window handling logic or find a 3rd party solution"}, {"owner": {"reputation": 77, "user_id": 812945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4df88a8a698e7d290289c3782a25f7?s=128&d=identicon&r=PG", "display_name": "Kundan Vuppala", "link": "https://stackoverflow.com/users/812945/kundan-vuppala"}, "edited": false, "score": 0, "creation_date": 1525900808, "post_id": 50259764, "comment_id": 87542541, "body": "Just curious, can&#39;t you use a modal dialog/window?"}], "owner": {"reputation": 35, "user_id": 5063269, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e725cf5cffe896b52d97ce2c95497892?s=128&d=identicon&r=PG&f=1", "display_name": "cravie", "link": "https://stackoverflow.com/users/5063269/cravie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525889895, "creation_date": 1525889895, "question_id": 50259764, "link": "https://stackoverflow.com/questions/50259764/constraining-child-window-to-its-parents-bounds", "title": "Constraining Child Window to its parents bounds", "body": "<p>I'm looking for a way to constrain children windows that have been spawned by another WPF window and have had their owner set to that window from leaving the bounds of the window. I've tried several solutions but I haven't been able to implement an elegant solution where the windows won't flicker when they're dragged off the edge of the parent. Any help would be appreciated. The current code I have is on the locationchanged event where I check the left/top of the windows and if they're dragged off, it resets the children's position to the appropriate location.</p>\n"}, {"tags": ["c#", "sql-server", "database", "transactions"], "answers": [{"tags": [], "owner": {"reputation": 30431, "user_id": 1507566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40b799a199eda9317d64e854c9fc8858?s=128&d=identicon&r=PG", "display_name": "Tab Alleman", "link": "https://stackoverflow.com/users/1507566/tab-alleman"}, "is_accepted": true, "score": 2, "last_activity_date": 1525890586, "creation_date": 1525890586, "answer_id": 50259917, "question_id": 50259743, "link": "https://stackoverflow.com/questions/50259743/get-sql-from-transaction-before-commit/50259917#50259917", "title": "Get SQL from transaction before commit", "body": "<p>No there is no built-in command or function that gets the current code of the transaction.   </p>\n\n<p>You could build it yourself, by creating a string variable, and every time you execute a command in the function you add it to the variable, and then read the variable when you commit the transaction.</p>\n"}], "owner": {"reputation": 3, "user_id": 6325205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff1cdf0c042054576391cee9d536a4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/6325205/diego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 50259917, "answer_count": 1, "score": 0, "last_activity_date": 1525899035, "creation_date": 1525889812, "last_edit_date": 1525899035, "question_id": 50259743, "link": "https://stackoverflow.com/questions/50259743/get-sql-from-transaction-before-commit", "title": "Get SQL from transaction before commit", "body": "<p>I am developing a project in C# with a SQL Server database.</p>\n\n<p>I want to save some information in the database when a query has any conditions, so my idea was have a generic method that launches the commit of the transaction and, if the commit has the conditions required, saves the information.</p>\n\n<p>My question: is there any way to obtain the SQL code of the transaction just before the <code>.commit()</code>?</p>\n\n<p>For example, something like that:</p>\n\n<pre><code>public void insertInfo(object)\n{\n     using (Context context = new Context())\n     {\n         [Do an insert]\n         [Do a second insert]\n         [Do an update]     \n\n         context.Save()\n     }\n} \n\n// In the Context\npublic void Save()\n{\n    [Here I want to get the SQL statement(s) that will be affected by the \"transaction.Commit()\"]\n   transaction.Commit();\n}\n</code></pre>\n"}, {"tags": ["c#", "sqlite"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1525889628, "post_id": 50259679, "comment_id": 87537211, "body": "Please use parameterized queries. This generally solves many of the formatting and syntax errors in queries from the get go and as an added benifit it will protect your system from sql injection attacks. Please refer to <a href=\"https://stackoverflow.com/q/35163361/1260204\">How can I add user-supplied input to an SQL statement?</a>"}, {"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 1, "creation_date": 1525889675, "post_id": 50259679, "comment_id": 87537227, "body": "and you need single quotes around string values"}, {"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 1, "creation_date": 1525889685, "post_id": 50259679, "comment_id": 87537234, "body": "You have SQL Injection vulnerabilities.  The locking issue is likely related to how you use the connection/command objects, which you have not shared."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1525889810, "post_id": 50259679, "comment_id": 87537295, "body": "I just can&#39;t believe how many Sql injectable queries I see every day. This needs to stop."}, {"owner": {"reputation": 66, "user_id": 8848437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XgKQ7Xr5Cx8/AAAAAAAAAAI/AAAAAAAAACo/LSafGPx9tyA/photo.jpg?sz=128", "display_name": "Nora", "link": "https://stackoverflow.com/users/8848437/nora"}, "edited": false, "score": 0, "creation_date": 1525889821, "post_id": 50259679, "comment_id": 87537303, "body": "I updated the code with all the connection lines and the rest of the function"}, {"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 1, "creation_date": 1525889834, "post_id": 50259679, "comment_id": 87537310, "body": "Connections &amp; Commands need to be disposed, preferably by using a <code>using () {}</code> construct."}, {"owner": {"reputation": 66, "user_id": 8848437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XgKQ7Xr5Cx8/AAAAAAAAAAI/AAAAAAAAACo/LSafGPx9tyA/photo.jpg?sz=128", "display_name": "Nora", "link": "https://stackoverflow.com/users/8848437/nora"}, "edited": false, "score": 0, "creation_date": 1525890782, "post_id": 50259679, "comment_id": 87537792, "body": "I tried using the using construct however it is still now working. I placed the updated code above."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1525890883, "post_id": 50259679, "comment_id": 87537844, "body": "Place a <code>using</code> block around the connection. <code>using (SQLiteConnection myconn = new SQLiteConnection(&#47;*connection*&#47;)) { ..... &#47;*code from question in here*&#47; }</code>. Also pass the parameters using the correct type and pass the values in their native type. if <code>@cid</code> is an <code>int</code> then convert the value to an <code>int</code> and pass the <code>int</code>."}, {"owner": {"reputation": 66, "user_id": 8848437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XgKQ7Xr5Cx8/AAAAAAAAAAI/AAAAAAAAACo/LSafGPx9tyA/photo.jpg?sz=128", "display_name": "Nora", "link": "https://stackoverflow.com/users/8848437/nora"}, "edited": false, "score": 0, "creation_date": 1525891250, "post_id": 50259679, "comment_id": 87538034, "body": "I updated the code to what you said and I am still getting the database locked appearing 2 times."}], "answers": [{"tags": [], "owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "is_accepted": false, "score": 1, "last_activity_date": 1525932571, "creation_date": 1525932571, "answer_id": 50266576, "question_id": 50259679, "link": "https://stackoverflow.com/questions/50259679/c-databases-sqlite-locked-database-error/50266576#50266576", "title": "C# Databases SQLite Locked Database Error", "body": "<p>The problem is that some <em>other</em> part of the program (or some other program) still has an active transaction.</p>\n\n<p>You must properly clean up <em>all</em> commands that access the database, i.e., use <code>using</code> everywhere.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 8848437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XgKQ7Xr5Cx8/AAAAAAAAAAI/AAAAAAAAACo/LSafGPx9tyA/photo.jpg?sz=128", "display_name": "Nora", "link": "https://stackoverflow.com/users/8848437/nora"}, "is_accepted": false, "score": 0, "last_activity_date": 1527881555, "creation_date": 1527881555, "answer_id": 50649990, "question_id": 50259679, "link": "https://stackoverflow.com/questions/50259679/c-databases-sqlite-locked-database-error/50649990#50649990", "title": "C# Databases SQLite Locked Database Error", "body": "<p>Thank you to all that have answered. We realized the issue was that we never closed the reader in previous code.</p>\n"}], "owner": {"reputation": 66, "user_id": 8848437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XgKQ7Xr5Cx8/AAAAAAAAAAI/AAAAAAAAACo/LSafGPx9tyA/photo.jpg?sz=128", "display_name": "Nora", "link": "https://stackoverflow.com/users/8848437/nora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1527881555, "creation_date": 1525889580, "last_edit_date": 1525891213, "question_id": 50259679, "link": "https://stackoverflow.com/questions/50259679/c-databases-sqlite-locked-database-error", "title": "C# Databases SQLite Locked Database Error", "body": "<p>I am currently writing a code using C# and SQLite. There is an error being throwing stating that the database is locked twice in a message box.</p>\n\n<p>The query works on SQLite DB Browser however, when it is placed in C# code it throws the error.</p>\n\n<p>Here is the code that is giving me an error:</p>\n\n<pre><code>cmd.CommandText = \"UPDATE customers SET Bill = Bill - \"+textBox2.Text+\" WHERE customers.CustomerID = \" + textBox1.Text + \";\";\n</code></pre>\n\n<p>There seems to be an issue with the equals sign, might be something wrong with the arithmetic process.</p>\n\n<p>Complete code:</p>\n\n<pre><code> SQLiteConnection myconn = new SQLiteConnection(@\"Data Source = C:\\Users\\chick\\Newspaper.db\");\n        SQLiteCommand cmd = myconn.CreateCommand();\n        cmd.CommandText = \"UPDATE customers SET Bill = (Bill - \"+textBox2.Text+\") WHERE customers.CustomerID = \" + textBox1.Text + \";\";\n        myconn.Open();\n        try\n        {\n            cmd.ExecuteNonQuery();\n            MessageBox.Show(\"Succesfully Update\");\n        }\n        catch(Exception ex)\n        {\n            MessageBox.Show(ex.Message);\n        }\n</code></pre>\n\n<p>UPDATE:\nChanged format to <code>using() {}</code> however it is still not working. Program is crashing</p>\n\n<p>New Code:</p>\n\n<pre><code>   using (SQLiteConnection myconn = new SQLiteConnection(@\"Data Source = C:\\Users\\chick\\Newspaper.db\"))\n        {\n\n            var sql = \"Update customers SET Bill = Bill - @pay WHERE customers.CustomerID = @cid;\";\n            myconn.Open();\n            using (var cmd = new SQLiteCommand(sql, myconn))\n            {\n                cmd.Parameters.AddWithValue(\"@cid\", textBox1.Text);\n                cmd.Parameters.AddWithValue(\"@pay\", textBox2.Text);\n                cmd.ExecuteNonQuery();\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "jwt", "claims-based-identity"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525890186, "post_id": 50259659, "comment_id": 87537477, "body": "The user principle is set in the authentication middleware.  For the cookie middleware, this happens in <code>CookieAuthenticationHandler.AuthenticateCoreAsync</code>."}, {"owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1525894153, "post_id": 50259659, "comment_id": 87539491, "body": "If you share your startup code that would be useful.  The order of middleware is also important."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1525895451, "post_id": 50259659, "comment_id": 87540089, "body": "@MarkG Sorry to have omitted that. It&#39;s kind of obvious now that you mentioned it. However, I didn&#39;t realize it until now. Plese see the edit in a minute."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525895927, "post_id": 50259659, "comment_id": 87540318, "body": "@Amy I&#39;ve updated the question with my <i>Startup</i>. I can see where authentication and authorization takes place. However, I&#39;m not clear which of the steps corresponds to the invokation of the controller&#39;s constructor. Please advise. (Also, I&#39;m not using cookies but JWTokens, if that&#39;s of any significance.)"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525896054, "post_id": 50259659, "comment_id": 87540386, "body": "@DonkeyBanana What you&#39;re asking about is the Web API pipeline: <a href=\"http://www.dotnetcurry.com/aspnet/888/aspnet-webapi-message-lifecycle\" rel=\"nofollow noreferrer\">dotnetcurry.com/aspnet/888/aspnet-webapi-message-lifecycle</a>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1525896235, "post_id": 50259659, "comment_id": 87540480, "body": "Cookies vs JWT isn&#39;t significant.  Open up the source (using ILSpy, for instance) for the JWT middleware, locate where it registers its own <code>AuthenticationHandler&lt;T&gt;</code>.  They&#39;re structured the same way.  I only brought up cookies because its what I had available."}, {"owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1525896393, "post_id": 50259659, "comment_id": 87540556, "body": "Take a look at <a href=\"https://github.com/aspnet/Security/blob/a2cb92b358daf7552294060cd947d85afcc07049/src/Microsoft.AspNetCore.Authentication.JwtBearer/JwtBearerHandler.cs\" rel=\"nofollow noreferrer\">JwtBearerHandler</a> class."}, {"owner": {"reputation": 12415, "user_id": 9711, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/533b57214eb2d08e12befd826172c89e?s=128&d=identicon&r=PG", "display_name": "Sixto Saez", "link": "https://stackoverflow.com/users/9711/sixto-saez"}, "edited": false, "score": 0, "creation_date": 1525898363, "post_id": 50259659, "comment_id": 87541438, "body": "For ASP.NET Core Web API the pipeline is different from the Web API 2 version. I haven&#39;t found an equivalent diagram as the <a href=\"https://www.asp.net/media/4071077/aspnet-web-api-poster.pdf\" rel=\"nofollow noreferrer\">Microsoft Web API poster</a> but <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/middleware/?view=aspnetcore-2.1&amp;tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">this post describes in good detail how the Core pipeline is designed</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1525907603, "post_id": 50262431, "comment_id": 87544642, "body": "What do you mean by altering the <i>registration order of middleware</i>?  There&#39;s no harm in playing around with this stuff...it&#39;s the best way to learn."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1525935927, "post_id": 50262431, "comment_id": 87552520, "body": "@Brad If you check the comments to the question, you&#39;ll see MarkG stating that the order of middleware being registered does affect how the execution order behaves. Since I&#39;m summarizing what others said, I wanted to bring in that piece of info too. However, since I haven&#39;t tried it, I can&#39;t vouch that it does resolve my issue."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1525936103, "post_id": 50262431, "comment_id": 87552592, "body": "@Brad By no means I&#39;m implying that it&#39;s harmful to play around with the order of registrations if one&#39;s to learn. I haven&#39;t had time, though, and the other hints actually resolved my problem. I went with it and chose not to tamper with the middleware because I&#39;m afraid that I&#39;d create damages to something else in my application. If you feel that you can provide a suggestion on the middleware&#39;s order based solution to the original question, feel welcome and urged to post it, though."}, {"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1525937648, "post_id": 50262431, "comment_id": 87553341, "body": "You actually haven&#39;t shown the order of middleware registration.  Middleware is typically registered in the <code>Startup.Configure(IApplicationBuilder app)</code> method with <code>app.UseXXX(...);</code> statements and order is very important.  You have only shown your service registrations <code>services.AddXXX(...);</code> which don&#39;t affect the request pipeline and order is not always important depending on the services your registering (some services can throw exceptions if other services are not registered before the <code>IServiceProvider</code> is built)."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1525938002, "post_id": 50262431, "comment_id": 87553512, "body": "@Brad So stupid... Of course, you&#39;re right. I got confused by all the stuff and forgot to post it in the end. Have a peek at the updated question, please."}], "tags": [], "owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "is_accepted": false, "score": 0, "last_activity_date": 1525901860, "creation_date": 1525901860, "answer_id": 50262431, "question_id": 50259659, "link": "https://stackoverflow.com/questions/50259659/when-is-the-identity-of-user-assigned-when-invoking-a-controller/50262431#50262431", "title": "When is the identity of User assigned when invoking a controller?", "body": "<p>I resolved the issue by analysing the event pipe (as mentioned by @amy) and noticed that the action invokation is preceded by <em>OnActionExecuting</em> method (<a href=\"https://www.asp.net/media/4071077/aspnet-web-api-poster.pdf\" rel=\"nofollow noreferrer\">shown in the PDF</a> courtesy of @sixtosaez).</p>\n\n<pre><code>public override void OnActionExecuting(ActionExecutingContext context)\n{\n  Claim claim = User.Claims\n    .First(_ =&gt; _.Type == \"MemberId\");\n  ...\n}\n</code></pre>\n\n<p>I'd imagine that it's also possible to get working by altering the registration order of middleware in <em>Start</em> (as mentioned by @MarkG) but I don't feel confident in playing around with that due to noobness and confusion.</p>\n"}], "owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525937898, "creation_date": 1525889512, "last_edit_date": 1525937898, "question_id": 50259659, "link": "https://stackoverflow.com/questions/50259659/when-is-the-identity-of-user-assigned-when-invoking-a-controller", "title": "When is the identity of User assigned when invoking a controller?", "body": "<p>I'm invoking a method in my controller and hit a breakpoint in its constructor. Checking <em>User.Claims.First(...)</em> throws an exception and after a closer investigation, it turns out that <em>User</em> is <em>null</em>.</p>\n\n<p>It makes sense, since the controller can't know who's the anonymous user invoking it. Then I add the header <em>Authorization</em> valuing it by <em>Bearer xxx.yyy.zzz</em> (Postman as well as my Angular application). The token is correct because tampering with it causes the status code <em>401 Unauthorized</em>.</p>\n\n<p>So, I'm concluding that the security setup works, the policy is behaving as supposed to (invoking with a token corresponding to a user who lacks the privileges to said action is not executed).</p>\n\n<p>Pasting the token text to <em>jwt.io</em> gives the expected details on the claims. Hence, I'm concluding that the token should be readable and parsable to the application's libraries.</p>\n\n<p>So the question is this. <strong>How's the <em>User</em> instantiated (when, where, based on what) for the controller?</strong> Alternatively, how to google it (I've tried for a while but I realize that I'm fumbling in the dark barking up a random tree).</p>\n\n<p>The token is equipped with claims in the following way.</p>\n\n<pre><code>Claim[] claims =\n{\n  new Claim(ClaimTypes.Expiration, TokenExpiration.ToString(), ClaimValueTypes.DateTime),\n  new Claim(ClaimTypes.Name, userName, ClaimValueTypes.String),\n  new Claim(ClaimTypes.Role, member.Privilege + \"\", ClaimValueTypes.Integer),\n  new Claim(ClaimTypes.Version, \"0.1\", ClaimValueTypes.String),\n  new Claim(ClaimTypes.Webpage, \"xxx.azurewebsites.net\", ClaimValueTypes.String),\n  new Claim(\"NetworkId\", member.Network.Id.ToString(), ClaimValueTypes.String),\n  new Claim(\"MemberId\", member.Id.ToString(), ClaimValueTypes.String),\n  new Claim(\"Author\", \"yyy\", ClaimValueTypes.String)\n};\nSymmetricSecurityKey key = new SymmetricSecurityKey(SecurityKey);\nSigningCredentials credentials = new SigningCredentials(key, SecurityAlgorithms.HmacSha256);\n\nJwtSecurityToken token = new JwtSecurityToken(\n  \"xxx.azurewebsites.net\",\n  \"xxx.azurewebsites.net\",\n  claims,\n  DateTime.UtcNow,\n  TokenExpiration,\n  credentials);\nstring output = new JwtSecurityTokenHandler().WriteToken(token);\n</code></pre>\n\n<p><strong>edit</strong> The <em>Startup</em> is set as follows.</p>\n\n<pre><code>services.AddSingleton&lt;IUtilityService, UtilityService&gt;();\nservices.AddSingleton&lt;IEmailService, EmailService&gt;();\nservices.AddCors(_ =&gt; _.AddPolicy(\"Open policy\", __ =&gt; __\n  .AllowAnyOrigin()\n  .AllowAnyHeader()\n  .AllowAnyMethod()));\nservices.AddAuthentication(JwtBearerDefaults.AuthenticationScheme)\n  .AddJwtBearer(_ =&gt;\n  {\n    _.TokenValidationParameters = new TokenValidationParameters\n    {\n      ValidateIssuerSigningKey = true,\n      ValidateAudience = false,\n      ValidateIssuer = false,\n      ValidateActor = true,\n      ValidateLifetime = true,\n      IssuerSigningKey = new SymmetricSecurityKey( ... )\n    };\n  });\n  services.AddAuthorization(_ =&gt; _.AddPolicy(\"Common\", __ =&gt; ... ));\n  services.AddAuthorization(_ =&gt; _.AddPolicy(\"Super\", __ =&gt; ... ));\n  services.AddAuthorization(_ =&gt; _.AddPolicy(\"Admin\", __ =&gt; ... ));\n  services.AddMvc()\n    .AddJsonOptions(_ =&gt; ...);\n  services.AddSwaggerGen(_ =&gt; ... );\n  services.AddDbContext&lt;Context&gt;(_ =&gt; _.UseSqlServer( ... ));\n</code></pre>\n\n<p><strong>edit again</strong> The <em>Configure</em> is set as follows.</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n  if (env.IsDevelopment())\n    app.UseDeveloperExceptionPage();\n\n  app.Use(async (context, next) =&gt;\n  {\n    try { await next(); }\n    catch (Exception) { context.Response.StatusCode = ... }\n  });\n\n  app.UseCors(\"Open policy\");\n  app.UseAuthentication();\n  app.UseMvc();\n  app.UseSwagger();\n  app.UseSwaggerUI(...);\n}\n</code></pre>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1525889503, "post_id": 50259632, "comment_id": 87537141, "body": "What do you mean it&#39;s not generated? Do you get an exception? Does nothing happen? If you get an exception, what is it and what line throws it?"}, {"owner": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1525890289, "post_id": 50259632, "comment_id": 87537543, "body": "@itsme86 no i didn&#39;t get any exception nothing happen and not generated mean when i convert Bytes =&gt; base64String and use this as image source image is not reconstructed (generated)"}, {"owner": {"reputation": 678, "user_id": 9453080, "user_type": "registered", "profile_image": "https://graph.facebook.com/1422327507876526/picture?type=large", "display_name": "Ivan Garc&#237;a Topete", "link": "https://stackoverflow.com/users/9453080/ivan-garc%c3%ada-topete"}, "edited": false, "score": 0, "creation_date": 1525892500, "post_id": 50259632, "comment_id": 87538681, "body": "What is the exact value of <code>jsonString</code>? Does it have the <code>{ &quot;key&quot; : &quot;value&quot; }</code> format? Or is it just the value of the key?"}, {"owner": {"reputation": 678, "user_id": 9453080, "user_type": "registered", "profile_image": "https://graph.facebook.com/1422327507876526/picture?type=large", "display_name": "Ivan Garc&#237;a Topete", "link": "https://stackoverflow.com/users/9453080/ivan-garc%c3%ada-topete"}, "edited": false, "score": 0, "creation_date": 1525895689, "post_id": 50259632, "comment_id": 87540211, "body": "Also what <code>Encoding</code> is used by <code>postedFile.InputStream</code>?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1525902670, "post_id": 50259632, "comment_id": 87543183, "body": "If you&#39;d like to, <a href=\"https://stackoverflow.com/help/self-answer\">it&#39;s acceptable to answer your question</a> for the community&#39;s benefit. If it&#39;s something that you think someone else might run into in the future for instance."}], "owner": {"reputation": 61, "user_id": 5734239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ca24bec314d33a0c84db4f60daf322d?s=128&d=identicon&r=PG&f=1", "display_name": "weje", "link": "https://stackoverflow.com/users/5734239/weje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525889383, "creation_date": 1525889383, "question_id": 50259632, "link": "https://stackoverflow.com/questions/50259632/image-not-reconstructing-by-the-byte-array-retrived-using-asp-net-webapi-in-js", "title": "Image not Reconstructing by the Byte[] array retrived using asp.net WebAPI in JSON format", "body": "<p><strong>This is how ImageBytes Generated</strong></p>\n\n<pre><code>Stream stream = postedFile.InputStream;\nBinaryReader binaryReader = new BinaryReader(stream);\nimgBytes = binaryReader.ReadBytes((int)stream.Length);\n</code></pre>\n\n<p><strong>Explanation</strong>: These imgBytes then POSTED to DB using webAPI 2 and when these bytes retrieved from DB using GET method in JSON format and then converted to Base64String but image is not generated</p>\n\n<p><strong>Retrived Using GET Method in JSON format</strong>  </p>\n\n<pre><code>var jsonString = response.Content.ReadAsStringAsync().Result;\nbyte[] mapbytes = System.Text.Encoding.UTF8.GetBytes(jsonString);\nString base64String = Convert.ToBase64String(mapbytes);\nString src = \"data:image/png;base64,\" + base64String;\n</code></pre>\n\n<p><strong>Note</strong>\nalready tried all the posted answer on stackoverflow but didn't get solution \nalso convert from <strong>JSON to Byte[]</strong> using </p>\n\n<p><strong>byte[] mapbytes =Encoding.ASCII.GetBytes(response.Content.ReadAsStringAsync().Result);</strong></p>\n"}, {"tags": ["c#", ".net", "entity-framework", "optimistic-concurrency"], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 7691143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d2ed37e6bc571fd4d4085c695d4727?s=128&d=identicon&r=PG&f=1", "display_name": "Batgirl", "link": "https://stackoverflow.com/users/7691143/batgirl"}, "is_accepted": false, "score": 0, "last_activity_date": 1525893373, "creation_date": 1525893373, "answer_id": 50260573, "question_id": 50259555, "link": "https://stackoverflow.com/questions/50259555/entity-framework-update-related-entities-without-concurrency-conflict/50260573#50260573", "title": "Entity framework update related entities without concurrency conflict", "body": "<p>I think this is where there's a lot of discussion on this problem - <a href=\"https://stackoverflow.com/questions/1836173/entity-framework-store-update-insert-or-delete-statement-affected-an-unexpec?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Entity Framework: &quot;Store update, insert, or delete statement affected an unexpected number of rows (0).&quot;</a></p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 3499457, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99c4f1ea53122a9195422c459fa8286?s=128&d=identicon&r=PG&f=1", "display_name": "roca323", "link": "https://stackoverflow.com/users/3499457/roca323"}, "is_accepted": false, "score": 0, "last_activity_date": 1525976129, "creation_date": 1525976129, "answer_id": 50279116, "question_id": 50259555, "link": "https://stackoverflow.com/questions/50259555/entity-framework-update-related-entities-without-concurrency-conflict/50279116#50279116", "title": "Entity framework update related entities without concurrency conflict", "body": "<p>I figured out that I was using a different context for fetching the profile I wanted to update.  This was causing the concurrency conflict because EF thought this entity was being changed somewhere else (another context).  So, I created an overload for this method so I can pass the context as an argument and fetch the entity with the same context I was going to update it with.</p>\n\n<pre><code>public CR_USER_PROFILE GetTimeoutUserProfile(Guid userGuid, CodingContext ctx)\n{\n    var timeoutKey = FFCEnumerations.Profiles.Keys.Timeout.GetStringValue();\n    var profileList = ctx.CR_USER_PROFILE.Where(p =&gt; p.UserGUID == userGuid &amp;&amp; p.PROFILE_TYPE_CD == timeoutKey);\n    return profileList.SingleOrDefault();\n}\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 3499457, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99c4f1ea53122a9195422c459fa8286?s=128&d=identicon&r=PG&f=1", "display_name": "roca323", "link": "https://stackoverflow.com/users/3499457/roca323"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525976129, "creation_date": 1525889115, "last_edit_date": 1525975707, "question_id": 50259555, "link": "https://stackoverflow.com/questions/50259555/entity-framework-update-related-entities-without-concurrency-conflict", "title": "Entity framework update related entities without concurrency conflict", "body": "<p>I have two related entities: User and UserProfile.  A user can have many profiles (settings).  I want to be able to update them together, but I am currently getting concurrency error when i do so: </p>\n\n<blockquote>\n  <p>Store update, insert, or delete statement affected an unexpected number of rows (0). Entities may have been modified or deleted since entities were loaded. See <a href=\"http://go.microsoft.com/fwlink/?LinkId=472540\" rel=\"nofollow noreferrer\">http://go.microsoft.com/fwlink/?LinkId=472540</a> for information on understanding and handling optimistic concurrency exceptions.</p>\n</blockquote>\n\n<p>This is my code to update:</p>\n\n<pre><code>public void UpdateUser(UserList user, int timeoutMins)\n{\n    using (var ctx = GetCodingContext())\n    {\n        try\n        {\n            ctx.Entry(user).State = System.Data.Entity.EntityState.Modified;\n            CR_USER_PROFILE timeoutProfile = GetTimeoutUserProfile(user.UserGUID);\n            if (timeoutProfile != null &amp;&amp; !timeoutProfile.PROFILE_VALUE.Equals(timeoutMins.ToString()))\n            {\n                timeoutProfile.PROFILE_VALUE = timeoutMins.ToString();\n                UpdateUserProfile(timeoutProfile,ctx);\n            }\n            else if(timeoutProfile == null &amp;&amp; timeoutMins &gt; 0)\n            {\n                var timeoutKey = FFCEnumerations.Profiles.Keys.Timeout.GetStringValue();\n                AddUserProfile(user, timeoutKey, timeoutMins.ToString(), ctx);\n            }\n            ctx.SaveChanges();\n        }\n        catch (Exception ex)\n        {\n            throw new Exception(\"Error occurred updating user \" + ex);\n        }\n    }\n}\n\npublic void UpdateUserProfile(CR_USER_PROFILE profile, CodingContext ctx)\n{\n    try\n    {\n        ctx.Entry(profile).State = System.Data.Entity.EntityState.Modified;\n    }\n    catch (Exception)\n    {\n        throw new Exception(\"Error occurred updating User Profile\");\n    }\n}\n\npublic CR_USER_PROFILE GetTimeoutUserProfile(Guid userGuid)\n{\n    using (var ctx = GetCodingContext())\n    {\n        var timeoutKey = FFCEnumerations.Profiles.Keys.Timeout.GetStringValue();\n        var profileList = ctx.CR_USER_PROFILE.Where(p =&gt; p.UserGUID == userGuid &amp;&amp; p.PROFILE_TYPE_CD == timeoutKey);\n        return profileList.SingleOrDefault();\n    }\n}\n</code></pre>\n\n<p>It works well when I add both entities, but not when updating.  Any ideas?</p>\n"}, {"tags": ["c#", "winforms", "sharpdx", "joystick", "directinput"], "comments": [{"owner": {"reputation": 398, "user_id": 7175690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aManf.jpg?s=128&g=1", "display_name": "ErnieDingo", "link": "https://stackoverflow.com/users/7175690/erniedingo"}, "edited": false, "score": 0, "creation_date": 1526505937, "post_id": 50259526, "comment_id": 87776456, "body": "Looks like sliders are a special case as per the page here -&gt; <a href=\"https://docs.microsoft.com/en-us/windows-hardware/drivers/hid/special-case-mappings\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/windows-hardware/drivers/hid/&hellip;</a>.  You look like you&#39;re getting close to a solution, but testing for 0, is that the rest state value of the controllers?"}, {"owner": {"reputation": 1, "user_id": 9766516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee26e30bffa134e9e5c02033cc10020f?s=128&d=identicon&r=PG&f=1", "display_name": "taterfudge", "link": "https://stackoverflow.com/users/9766516/taterfudge"}, "reply_to_user": {"reputation": 398, "user_id": 7175690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aManf.jpg?s=128&g=1", "display_name": "ErnieDingo", "link": "https://stackoverflow.com/users/7175690/erniedingo"}, "edited": false, "score": 0, "creation_date": 1526605717, "post_id": 50259526, "comment_id": 87820567, "body": "@ErnieDingo 0 is either the current physical position value or the value that comes back when the slider doesn&#39;t exist. Not sure what you mean by &#39;rest state&#39;."}, {"owner": {"reputation": 398, "user_id": 7175690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aManf.jpg?s=128&g=1", "display_name": "ErnieDingo", "link": "https://stackoverflow.com/users/7175690/erniedingo"}, "edited": false, "score": 0, "creation_date": 1526606152, "post_id": 50259526, "comment_id": 87820658, "body": "That is. Rest state means if the mechanism is in its default location. Eg. For a joystick it&#39;s centred."}, {"owner": {"reputation": 1, "user_id": 9766516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee26e30bffa134e9e5c02033cc10020f?s=128&d=identicon&r=PG&f=1", "display_name": "taterfudge", "link": "https://stackoverflow.com/users/9766516/taterfudge"}, "reply_to_user": {"reputation": 398, "user_id": 7175690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aManf.jpg?s=128&g=1", "display_name": "ErnieDingo", "link": "https://stackoverflow.com/users/7175690/erniedingo"}, "edited": false, "score": 0, "creation_date": 1526767831, "post_id": 50259526, "comment_id": 87874433, "body": "@ErnieDingo Ah right, that&#39;s part of the problem. In this case, sliders, there isn&#39;t a spring driven or otherwise auto rest state. They could be left in any position, so no guarantees. I mean sure I could just make standard operating procedure that states the program cannot be initialized until someone manually returns all sliders to middle position to ensure a value other than 0 returns, but that&#39;s pretty terrible."}, {"owner": {"reputation": 398, "user_id": 7175690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aManf.jpg?s=128&g=1", "display_name": "ErnieDingo", "link": "https://stackoverflow.com/users/7175690/erniedingo"}, "edited": false, "score": 0, "creation_date": 1526770114, "post_id": 50259526, "comment_id": 87874840, "body": "There has to be a way to detect even in their rest state.   Will check through my code to see if anything pops up.  Sounds like a challenge for you"}, {"owner": {"reputation": 398, "user_id": 7175690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aManf.jpg?s=128&g=1", "display_name": "ErnieDingo", "link": "https://stackoverflow.com/users/7175690/erniedingo"}, "edited": false, "score": 0, "creation_date": 1526770991, "post_id": 50259526, "comment_id": 87874987, "body": "I had a look at your issue, yes, the getproperty function looks your best bet to detect the slider.  But, you might get more info from the Device/Capabilities of the device.  Just using Properties.Device.Capabilities, check the Axe count, as I think if it&#39;s greater than 2 and you have a slider that might tell you more."}, {"owner": {"reputation": 1, "user_id": 9766516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee26e30bffa134e9e5c02033cc10020f?s=128&d=identicon&r=PG&f=1", "display_name": "taterfudge", "link": "https://stackoverflow.com/users/9766516/taterfudge"}, "reply_to_user": {"reputation": 398, "user_id": 7175690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aManf.jpg?s=128&g=1", "display_name": "ErnieDingo", "link": "https://stackoverflow.com/users/7175690/erniedingo"}, "edited": false, "score": 0, "creation_date": 1526863199, "post_id": 50259526, "comment_id": 87895566, "body": "@ErnieDingo Yup Device.Capabilities was the first place I went looking to see if I could verify sliders or other things. It didn&#39;t pan out well.  joystickmap.axiscount = usbjoysticks[k].Capabilities.AxeCount; joystickmap.axismode = usbjoysticks[k].Properties.AxisMode; joystickmap.deadzone = usbjoysticks[k].Properties.DeadZone; PropertyInfo rxprop = typeof(SharpDX.DirectInput.JoystickState).GetProperty(&quot;Slide&zwnj;&#8203;rs&quot;); var rzvalue = (int[])rxprop.GetValue(currentState, null); var mySlider1 = rzvalue[0];"}], "owner": {"reputation": 1, "user_id": 9766516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee26e30bffa134e9e5c02033cc10020f?s=128&d=identicon&r=PG&f=1", "display_name": "taterfudge", "link": "https://stackoverflow.com/users/9766516/taterfudge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526604216, "creation_date": 1525888974, "last_edit_date": 1526604216, "question_id": 50259526, "link": "https://stackoverflow.com/questions/50259526/how-can-i-check-for-sliders-on-a-joystick-with-sharpdx-directinput", "title": "How can I check for sliders on a joystick with SharpDX DirectInput?", "body": "<p>I'm working on a multi-joystick setup where I need to build custom button mappings. And even map across devices. For example, if there is a separate joystick and throttle quadrant I need to map 'Z' or whatever, over to the throttle input. I also need to be able to check and see if there is a slider(s) available on each stick as I build the mapping profiles, etc. I cannot figure out how to just say something like:\n<code>if (joystick.HasSliders)</code></p>\n\n<p>So far I've tried different variations of </p>\n\n<pre><code>PropertyInfo rxprop = typeof(SharpDX.DirectInput.JoystickState).GetProperty(\"Sliders\");\n</code></pre>\n\n<p>However, if the joystick does not have sliders, this of course will throw an exception. If it only has a single slider, I will always get back an Int array of Sliders[] with two values, no matter if the stick only has a single slider or not. So it is not a guaranteed way to know if sliders exist, or even how many exist. If there is no second actual slider, the value Sliders[1] is always 0, but if there is a second slider it could still be in the 0 position.</p>\n\n<p>Currently this is what I've been messing with:</p>\n\n<pre><code>usbjoysticks[k].Poll();\nJoystickState currentState = null;\n\ntry\n{\n    currentState = usbjoysticks[k].GetCurrentState();\n\n    //joystickmap.axisRangeMax = usbjoysticks[k].GetObjectInfoById(1);\n    PropertyInfo rxprop = typeof(SharpDX.DirectInput.JoystickState).GetProperty(\"Sliders\");\n    var rzvalue = (int[])rxprop.GetValue(currentState, null);\n    var mySlider1 = rzvalue[0];\n\n    var datas = usbjoysticks[k].GetBufferedData();\n    foreach (var state in datas)\n    {\n        Console.WriteLine(state);\n        if (state.Offset == JoystickOffset.X)\n        {\n            Console.WriteLine(state.Value);\n        }\n    }\n    //DeviceObjectInstance my = usbjoysticks[k].GetObjectInfoByName(\"Sliders1\");\n    var stuff = usbjoysticks[k].GetObjectPropertiesByName(\"Sliders0\");\n    //=================\n    joystickmap.jX = \"X\";\n    joystickmap.axisRangeMax = usbjoysticks[k].GetObjectPropertiesByName(\"Y\").Range.Maximum; //65535\n    joystickmap.jY = \"Y\";\n\n    if (currentState.Z != 0)\n    {\n        joystickmap.jZ = \"Z\";\n        var maxZrange = usbjoysticks[k].GetObjectPropertiesByName(\"Z\").Range.Maximum;\n        joystickmap.axisRangeMax = usbjoysticks[k].GetObjectPropertiesByName(\"Z\").Range.Maximum;\n    }\n\n    if (currentState.Sliders[0] != 0 || currentState.Sliders[1] != 0) //TODO possible change to Joystick State value in class object instead of text. \n    {\n        joystickmap.SLD1 = \"Slider1\";\n        //joystickmap.jZ = \"Sliders\";\n        joystickmap.jsSliders = currentState.Sliders;\n        var maxSld1range = usbjoysticks[k].GetObjectPropertiesByName(\"Sliders0\").Range.Maximum; \n        joystickmap.sld1 = joystickmap.jsSliders[0];\n        joystickmap.sld2 = joystickmap.jsSliders[1];\n    }\n\n    if (currentState.Sliders[1] != 0)\n    {\n        joystickmap.SLD2 = \"Slider2\";\n    }\n\n    if (currentState.RotationX != 0)\n    {\n        joystickmap.rX = \"RotationX\";\n    }\n\n    if (currentState.RotationY != 0)\n    {\n        joystickmap.rY = \"RotationY\";\n    }\n\n    if (currentState.RotationZ != 0)\n    {\n        joystickmap.rZ = \"RotationZ\";\n        //joystickmap.jZ = \"RotationZ\";\n    }\n\n    joystickmap.axisdivider = 2;\n\n    for (var b = 0; b &lt; 20; b++)\n    {\n        //joystickmap.joybuttons.Add(currentState.Buttons[b]);\n        joystickmap.joybuttons[b] = (b + 1);\n    }\n\n\n    joystickmappings.Add(joystickmap);\n\n    if (!File.Exists(filename))\n    {\n        File.WriteAllText(filename, JsonConvert.SerializeObject(joystickmap));\n        // serialize JSON directly to a file\n        using (StreamWriter file = File.CreateText(filename))\n        {\n            JsonSerializer serializer = new JsonSerializer();\n            serializer.Serialize(file, joystickmap);\n        }\n    }\n}\ncatch (Exception e)\n{\n    MessageBox.Show(\"USB joystick map creation failure!\\n\" + e.Message);\n    break;\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 2, "creation_date": 1525888913, "post_id": 50259461, "comment_id": 87536857, "body": "probably because you have a semicolon at the end of your if statement? <code>if (GUI.Button(buttRect, buttonText)) **;**</code>"}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 1, "creation_date": 1525889185, "post_id": 50259461, "comment_id": 87536979, "body": "The extra semicolon at the end of the <code>if</code> makes its body empty! And the following print becomes, in fact, unconditional. Remove that semicolon."}, {"owner": {"reputation": 399, "user_id": 5727972, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0gMlx.png?s=128&g=1", "display_name": "emorphus", "link": "https://stackoverflow.com/users/5727972/emorphus"}, "edited": false, "score": 0, "creation_date": 1525889230, "post_id": 50259461, "comment_id": 87537001, "body": "You are correct! My bad.:("}], "owner": {"reputation": 399, "user_id": 5727972, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0gMlx.png?s=128&g=1", "display_name": "emorphus", "link": "https://stackoverflow.com/users/5727972/emorphus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525888737, "creation_date": 1525888737, "question_id": 50259461, "link": "https://stackoverflow.com/questions/50259461/button-responds-to-being-clicked-all-the-time", "title": "Button responds to being clicked all the time", "body": "<p>This is my code.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class GUIScript : MonoBehaviour\n{\n    string buttonText = \"Ok!\";\n\n    private void OnGUI()\n    {\n        GUI.skin.button.fontSize = 50;\n\n        GUI.contentColor = Color.yellow;\n        GUI.backgroundColor = Color.blue;\n\n        var textsize3 = GUI.skin.button.CalcSize(new GUIContent(buttonText));\n\n        Rect buttRect = new Rect(0, 600, textsize3.x, textsize3.y);\n\n        if (GUI.Button(buttRect, buttonText)) ;\n        {\n            print(\"Butt clicked\");\n        }\n    }\n}\n</code></pre>\n\n<p>When I run this in Unity 3D 2017.3 the console constantly displays a button clicked message even when there is no mouse click. Anybody can say why this happens?</p>\n"}, {"tags": ["c#", "wpf", "sqlite", "linq2db"], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 9072819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16400b69662fcd9f77450c99dfaab937?s=128&d=identicon&r=PG&f=1", "display_name": "Hemid Abbasov", "link": "https://stackoverflow.com/users/9072819/hemid-abbasov"}, "is_accepted": true, "score": 2, "last_activity_date": 1528579457, "last_edit_date": 1528579457, "creation_date": 1528500760, "answer_id": 50769586, "question_id": 50259455, "link": "https://stackoverflow.com/questions/50259455/how-to-use-more-than-one-sqlite-databases-using-linqtodb/50769586#50769586", "title": "How to use more than one SQLite databases using LinqToDB", "body": "<p>\"configuration\" - it is the name of your connection string in your config file. In your case, you have 2 configurations: <strong>\"AddonManager\"</strong> and <strong>\"AddonDb\"</strong></p>\n\n<p>In code you can do this</p>\n\n<pre><code>using ( var dbContex = new DataModels.AddonDbDB(\"AddonManager\") )\n{\n    // your queries\n}\n</code></pre>\n"}], "owner": {"reputation": 871, "user_id": 18217, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rqiiz.jpg?s=128&g=1", "display_name": "Kenny Mann", "link": "https://stackoverflow.com/users/18217/kenny-mann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 50769586, "answer_count": 1, "score": 0, "last_activity_date": 1528579457, "creation_date": 1525888732, "question_id": 50259455, "link": "https://stackoverflow.com/questions/50259455/how-to-use-more-than-one-sqlite-databases-using-linqtodb", "title": "How to use more than one SQLite databases using LinqToDB", "body": "<p>I am using LinqToDB and LinqToDB.SQLite to access databases in my app.\nI have two separate and unique databases in my WPF app.\nI have two connection strings as such:</p>\n\n<pre><code>&lt;add name=\"AddonManager\" connectionString=\"Data Source=AddonManager.sqlite3\" providerName=\"SQLite\" /&gt;\n&lt;add name=\"AddonDb\" connectionString=\"Data Source=AddonDb.sqlite3\" providerName=\"SQLite\" /&gt;\n</code></pre>\n\n<p>In code I try to access the second database (AddonDb) with the following code:</p>\n\n<pre><code>using (var dbContext = new DataModels.AddonDbDB())\n{\n    Guid newId = Guid.NewGuid();\n\n    DataModels.Addon newAddon = new DataModels.Addon();\n    newAddon.AddonGuid = newId.ToString();\n    newAddon.AddonName = addonName;\n    newAddon.GitUrl = gitUrl;\n\n    dbContext.Insert(newAddon);\n\n    return newId;\n}\n</code></pre>\n\n<p>It seems to only reference the first connection string. If I move the second connection string up, it works. However that means the other database isn't accessible with the same problem.</p>\n\n<p>I've tried to put a connection trying in the first line AddonDbDB(\"AddonDb.sqlite3\") but I'm met with the error that it's not happy with the \"configuration\". I can't find anything in the documentation that even says having more than one database is even an option or even customization connection strings.</p>\n\n<p>Has anyone ran across this before? I've dug through the, admittedly, very small set of SQLite examples and tried different combinations of connection strings. I've search through what \"configuration\" may be acceptable only to be met with very little information.</p>\n\n<p>Why not put them in one database? Because one is downloaded from \"the cloud\" (lists) and the other is always stored locally (settings and personalized stuff). Thus the requirement of two databases.</p>\n"}, {"tags": ["c#", "entity-framework", "concurrency", "asp.net-mvc-5", "entity-framework-6"], "comments": [{"owner": {"reputation": 2100, "user_id": 11099, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e07c332737b7858ebecb731c6bf4470?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/11099/pedro"}, "edited": false, "score": 0, "creation_date": 1525889848, "post_id": 50259421, "comment_id": 87537320, "body": "What DB are you using?"}, {"owner": {"reputation": 11, "user_id": 9340245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/387b5669fc22c7a8d55fcde0bbb778c5?s=128&d=identicon&r=PG&f=1", "display_name": "Bill at Work", "link": "https://stackoverflow.com/users/9340245/bill-at-work"}, "reply_to_user": {"reputation": 2100, "user_id": 11099, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e07c332737b7858ebecb731c6bf4470?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/11099/pedro"}, "edited": false, "score": 0, "creation_date": 1525954848, "post_id": 50259421, "comment_id": 87562445, "body": "Pedro - Oracle 12c.  Sorry for not listing it in the post.  I didn&#39;t think it would matter from an EF perspective."}, {"owner": {"reputation": 2100, "user_id": 11099, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e07c332737b7858ebecb731c6bf4470?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/11099/pedro"}, "edited": false, "score": 0, "creation_date": 1526051637, "post_id": 50259421, "comment_id": 87607356, "body": "The reason I asked is because I usually rely on the DB builtin transaction support and isolation level to handle concurrency instead of doing it by hand (or in EF)."}], "answers": [{"tags": [], "owner": {"reputation": 2100, "user_id": 11099, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e07c332737b7858ebecb731c6bf4470?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/11099/pedro"}, "is_accepted": false, "score": 0, "last_activity_date": 1526052004, "creation_date": 1526052004, "answer_id": 50295462, "question_id": 50259421, "link": "https://stackoverflow.com/questions/50259421/how-to-handle-entity-framework-optimistic-concurrency-for-one-to-many-in-a-web-a/50295462#50295462", "title": "How to handle Entity Framework optimistic concurrency for one-to-many in a web app?", "body": "<p>I usually rely on my DB transaction and isolation level support to handle concurrency, not do it by hand. In this case, I'd check what Isolation Level from your DB best fit your business concurrency needs/model.</p>\n\n<p>I also never manually change <code>EntityState</code> directly myself and rely on EF to track changes.</p>\n"}], "owner": {"reputation": 11, "user_id": 9340245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/387b5669fc22c7a8d55fcde0bbb778c5?s=128&d=identicon&r=PG&f=1", "display_name": "Bill at Work", "link": "https://stackoverflow.com/users/9340245/bill-at-work"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526052004, "creation_date": 1525888615, "question_id": 50259421, "link": "https://stackoverflow.com/questions/50259421/how-to-handle-entity-framework-optimistic-concurrency-for-one-to-many-in-a-web-a", "title": "How to handle Entity Framework optimistic concurrency for one-to-many in a web app?", "body": "<p>How does Entity Framework 6 handle optimistic concurrency of a one-to-many relationship in an ASP.NET MVC app? I'm having trouble determining what EF should be able to handle itself vs. what I have to handle manually.  Just about every article I find on EF concurrency checking in a web app only handles the simple case where a RowVersion column or a Timestamp column is used as a concurrency field; they don't seem to mention relationship concurrency checking.  </p>\n\n<p>I'll be brief with the following explanation, since I assume this is nothing new to people who can answer this question.  Since this is a web app, I dispose of the Entity Framework state on every round trip from the server. In the simple case of updating a column on a table, I have to save field values that are used for optimistic concurrency (such as RowVersion) onto the HTML page, and then post them back to the server when the page is submitted.  When the page is submitted, I retrieve the current database record using EF, update it with the concurrency values from the HTML page, set the state of the EF DbEntityEntry object to EntityState.Unchanged, and then set the other values from the page to the EF record.  EF can then do its own concurrency checking when SaveChanges() is called.  So, how should a one-to-many relationship work in relation to this pattern?</p>\n\n<p>Here's a concrete (though contrived) example.  Assume I've got a model of one Album to many Songs.  User1 and User2 both start modifying the same Album concurrently by updating Songs.  User1 adds a Song, and User2 removes a Song.  What should I do to get EF to automatically detect that User1 has added a song before User2 has deleted one (or vice versa)?  Or will I manually have to detect that the list of Songs has changed?  One possible way is to do something like update a SongModifiedVersion column on Album when a Song is added or deleted, and have EF use SongModifiedVersion as a concurrency field similar to the suggestion in <a href=\"https://stackoverflow.com/questions/5015368/entity-framework-concurrency-with-multiple-tables-entities\">Entity Framework Concurrency with Multiple Tables/Entities</a>).  Is there another way?</p>\n\n<p>Thanks,\nBill</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 139, "user_id": 3320946, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002138499481/picture?type=large", "display_name": "Mohammed Suez", "link": "https://stackoverflow.com/users/3320946/mohammed-suez"}, "edited": false, "score": 0, "creation_date": 1525888619, "post_id": 50259323, "comment_id": 87536720, "body": "Are you sure there is RankType with id of (1)??"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1525892932, "post_id": 50259323, "comment_id": 87538877, "body": "They changed many things in that area, apparently including the priority of what is considered modified when both navigation and FK properties have values and navigation property key is different from the FK property value. In general this is ambiguous case, thus can be handled one or the another way, but at least it should be documented, and I can&#39;t find any documentation about that behavior and why / when it has been changed. Too bad for people trying to use EF Core in production."}, {"owner": {"reputation": 11, "user_id": 693648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fdf5e44893fa2f49f45ca90bca2e2a8?s=128&d=identicon&r=PG", "display_name": "Solomon Shaffer", "link": "https://stackoverflow.com/users/693648/solomon-shaffer"}, "edited": false, "score": 0, "creation_date": 1525895568, "post_id": 50259323, "comment_id": 87540148, "body": "Yeah, there is a RankType of 1.  I agree with you. Documentation is not the best. Thanks for your thoughts."}], "owner": {"reputation": 11, "user_id": 693648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fdf5e44893fa2f49f45ca90bca2e2a8?s=128&d=identicon&r=PG", "display_name": "Solomon Shaffer", "link": "https://stackoverflow.com/users/693648/solomon-shaffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525888228, "creation_date": 1525888228, "question_id": 50259323, "link": "https://stackoverflow.com/questions/50259323/cannot-set-property-id-value-in-ef-core-if-property-is-included-in-select", "title": "Cannot set property Id value in EF CORE if property is included in select", "body": "<p>I am using Entity Framework 2.0.1 and I have having a problem that was working fine in pre 2.x versions of EF. </p>\n\n<p>If I select an object and include a property in the selection and I want to update that property, I must update the object reference, not the Id referencing the object for EF to recognize and save the change. </p>\n\n<p>Here is an example. \nRanking.RankTypeId is a foreign key to RankType.RankTypeId. I select and include the RankType property.</p>\n\n<pre><code>public Ranking GetRankingById(int rankingId)\n{\n    using (var context = new BestNetDatabaseContext())\n    {\n        var rankings = context.Rankings.AsQueryable();\n\n        var foundRanking = rankings.Include(x =&gt; x.RankType).FirstOrDefault(x =&gt; x.RankingId == rankingId);\n\n        if (foundRanking == null)\n            throw new RankingNotFoundException();\n\n        return foundRanking;\n    }\n}\n</code></pre>\n\n<p>If I want to update the Ranking.RankType, I must select and get an instance of the RankType object and set that.</p>\n\n<pre><code>ranking.RankType = _rankTypeService.GetRankTypeById(1);\n</code></pre>\n\n<p>What I would like to do (and have been doing for years) is just set the Id.</p>\n\n<pre><code>ranking.RankTypeId = 1;\n</code></pre>\n\n<p>I am attaching the object to the context and setting the state to dirty before saving changes (this code was working in previous versions of EF CORE).</p>\n\n<pre><code>public void UpdateRanking(Ranking ranking)\n{\n    using (var context = new MyDatabaseContext())\n    {\n        context.Rankings.Attach(ranking);\n        context.Entry(ranking).State = EntityState.Modified; \n        //ranking.RankTypeId IS correctly set to 1 at this point\n        context.SaveChanges();\n    }\n}\n</code></pre>\n\n<p>If I do not use the include statement, I can set the Id and EF will recognize the change and update the database fine. It just seems to ignore updating the Id when I include the property. Thoughts?</p>\n"}, {"tags": ["c#", "postgresql", ".net-core", "dapper"], "answers": [{"comments": [{"owner": {"reputation": 2092, "user_id": 429903, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ULX9e.png?s=128&g=1", "display_name": "Joe M", "link": "https://stackoverflow.com/users/429903/joe-m"}, "edited": false, "score": 0, "creation_date": 1525891137, "post_id": 50260000, "comment_id": 87537971, "body": "I can see how my question could be ambiguous. I am aware of that solution and have been using it. My example was simply to show what happens without a nullable type. I&#39;m wondering if there&#39;s an alternate way to set Dapper to handle nulls by e.g. converting them to empty strings or 0s or whatever before trying to assign them to the class members."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 2092, "user_id": 429903, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ULX9e.png?s=128&g=1", "display_name": "Joe M", "link": "https://stackoverflow.com/users/429903/joe-m"}, "edited": false, "score": 0, "creation_date": 1525891333, "post_id": 50260000, "comment_id": 87538082, "body": "The conversion would have to be done in your SQL, e.g. SQL&#39;s <code>isnull</code> or <code>coalesce</code> operators."}], "tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": false, "score": 1, "last_activity_date": 1525890889, "creation_date": 1525890889, "answer_id": 50260000, "question_id": 50259244, "link": "https://stackoverflow.com/questions/50259244/can-dapper-handle-null-values-in-a-return/50260000#50260000", "title": "Can Dapper handle null values in a return?", "body": "<p>This isn't a limitation with Dapper; it's how your model is setup.</p>\n\n<p>A <code>char</code> type isn't nullable.</p>\n\n<p>Change your model to <code>char?</code> to make it nullable.</p>\n"}], "owner": {"reputation": 2092, "user_id": 429903, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ULX9e.png?s=128&g=1", "display_name": "Joe M", "link": "https://stackoverflow.com/users/429903/joe-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525890889, "creation_date": 1525887890, "question_id": 50259244, "link": "https://stackoverflow.com/questions/50259244/can-dapper-handle-null-values-in-a-return", "title": "Can Dapper handle null values in a return?", "body": "<p>I'm calling the Dapper extended function <code>Query</code> for the <code>IDbConnection</code> class. The problem is, some of the values its returning are <code>NULL</code> in the database. It keeps complaining about them, so I've been converting the members of my return class to nullable types. But I'm thinking I may end up doing this for almost every member, because the data is often incomplete. This is being changed from older code that uses the <code>DataRow</code> class and is able to assign empty values from it to <code>string</code> members of my return class without any problems using just <code>ToString</code>.</p>\n\n<pre><code>public class ProductInfo\n{\n    public Char Department { get; set; }\n}\n</code></pre>\n\n<p>This works:</p>\n\n<pre><code>ProductInfo myProduct = new ProductInfo{};\nmyProduct.Department = dataRow[\"department\"].ToString();\n</code></pre>\n\n<p><code>dataRow[\"department\"]</code> shows as <code>{}</code> and <code>myProduct.Department</code> shows as <code>\"\"</code>.</p>\n\n<p>This gives an exception:</p>\n\n<pre><code>List&lt;ProductInfo&gt; myProduct = new List&lt;ProductInfo&gt;();\nmyProduct = dbConnection.Query&lt;ProductInfo&gt;(command, parameters).ToList();\n</code></pre>\n\n<p>Wtih the error: <code>Error parsing column 1 (department=&lt;null&gt;) Details: System.ArgumentNullException: Value cannot be null</code></p>\n\n<p>Am I missing a step in the process Dapper uses to assign values? Or is extensive use of nullable types standard practice with it?</p>\n"}, {"tags": ["c#", "oop", "generics"], "comments": [{"owner": {"reputation": 406, "user_id": 1361831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEWUH.jpg?s=128&g=1", "display_name": "Tiramonium", "link": "https://stackoverflow.com/users/1361831/tiramonium"}, "edited": false, "score": 1, "creation_date": 1525888023, "post_id": 50259215, "comment_id": 87536406, "body": "You could probably do this with Reflection. You iterate each object property dinamically and then set a default value according to the property type. Say, &quot;123&quot; for strings, 1 for numbers (int/float/double/decimal) and false for booleans."}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1525889436, "post_id": 50259215, "comment_id": 87537103, "body": "The first question that comes to mind is: populated with what? How would you decide how to populate the data in each instance? Your current method doesn&#39;t takes any data as parameters."}, {"owner": {"reputation": 638, "user_id": 3493459, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75314fffaef2605559ee466fa02b6bb6?s=128&d=identicon&r=PG&f=1", "display_name": "Blankdud", "link": "https://stackoverflow.com/users/3493459/blankdud"}, "reply_to_user": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1525889742, "post_id": 50259215, "comment_id": 87537258, "body": "@Alejandro     Populated with default data that I define. So ObjectCreator.CreatePopulated&lt;Human&gt;() would bounce down to a class where I actually return a new instance of a Human with my data. The current methods take no parameters for that reason."}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1525894457, "post_id": 50259215, "comment_id": 87539637, "body": "@Blankdud Then a hardcoded solution would suffice. <i>ivanPfeff</i> answer below seems good enough for that."}], "answers": [{"comments": [{"owner": {"reputation": 638, "user_id": 3493459, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75314fffaef2605559ee466fa02b6bb6?s=128&d=identicon&r=PG&f=1", "display_name": "Blankdud", "link": "https://stackoverflow.com/users/3493459/blankdud"}, "edited": false, "score": 0, "creation_date": 1525894652, "post_id": 50259395, "comment_id": 87539731, "body": "I believe you&#39;ve pretty much nailed what I was looking for. Well written and easy to follow, thanks!"}], "tags": [], "owner": {"reputation": 128, "user_id": 4934966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2d88a29dc6c9c0111e039c742be0f3?s=128&d=identicon&r=PG&f=1", "display_name": "ivanPfeff", "link": "https://stackoverflow.com/users/4934966/ivanpfeff"}, "is_accepted": true, "score": 4, "last_activity_date": 1525888535, "creation_date": 1525888535, "answer_id": 50259395, "question_id": 50259215, "link": "https://stackoverflow.com/questions/50259215/generic-object-creation-method-with-default-data/50259395#50259395", "title": "Generic object creation method with default data", "body": "<p>I would recommend doing something like this:</p>\n\n<pre><code>public interface IPopulatable\n{\n    void Populate();\n}\n\npublic class ObjectCreator\n{\n    public static T CreateBlank&lt;T&gt;() where T : new ()\n    {\n        return new T();\n    }\n\n    public static T CreatePopulated&lt;T&gt;() where T : IPopulatable, new()\n    {\n        var populatable = new T();\n        populatable.Populate();\n        return populatable;\n    }\n}\n\npublic class Human : IPopulatable\n{\n    public string Name { get; set; }\n\n    public void Populate()\n    {\n        Name = \"Joe\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 638, "user_id": 3493459, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75314fffaef2605559ee466fa02b6bb6?s=128&d=identicon&r=PG&f=1", "display_name": "Blankdud", "link": "https://stackoverflow.com/users/3493459/blankdud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50259395, "answer_count": 1, "score": 1, "last_activity_date": 1525888535, "creation_date": 1525887777, "question_id": 50259215, "link": "https://stackoverflow.com/questions/50259215/generic-object-creation-method-with-default-data", "title": "Generic object creation method with default data", "body": "<p>I'd like to have two simple calls in a class that would be transformed by other classes. Something like:</p>\n\n<pre><code>ObjectCreator.CreateBlank&lt;Human&gt;();\nObjectCreator.CreatePopulated&lt;Human&gt;();\nObjectCreator.CreateBlank&lt;Dog&gt;();\nObjectCreator.CreatePopulated&lt;Dog&gt;();\n</code></pre>\n\n<p>I currently do this:</p>\n\n<pre><code>public class ObjectCreator\n{\n    public static T CreateBlank&lt;T&gt;()\n    {\n        return Activator.CreateInstance&lt;T&gt;();\n    }\n\n    public static T CreatePopulated&lt;T&gt;()\n    {\n        //Somehow return new object with populated properties\n    }\n}\n</code></pre>\n\n<p>I am struggling with the populated part. I'd like it to return a \"default\" object of that type with defined properties. I've tried a few things involving passing in interfaces, but it gets messy fast (I don't expect this to be particularly clean either)</p>\n\n<p>So If I called ObjectCreator.CreatePopulated(), I'd like it to somehow go to a different class where I create a new Anything, and fill it's properties to specific values. It feels like I'm close but missing a piece of the puzzle here. </p>\n\n<p>My end game here is to have the call be as simple / readable as possible.\nAny help is appreciated.</p>\n\n<p><strong>I DO realize it'd probably be easier to simply call a class that creates and populates each object, but this is a learning exercise for me and I'd like to attempt to get this working as generically as possible.</strong> </p>\n"}, {"tags": ["c#", "generics", "generic-list"], "comments": [{"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1525887830, "post_id": 50259163, "comment_id": 87536289, "body": "Perhaps overriding Condition&lt;T&gt;.ToString() to return Value.ToString() would be enough in your case?"}, {"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1525887922, "post_id": 50259163, "comment_id": 87536342, "body": "Also, I think <code>c.GetType() == typeof(string)</code> will never match, perhaps you need to expose additional field in <code>ConditionBase</code> interface that would expose the wrapped type?"}, {"owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "reply_to_user": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1525888142, "post_id": 50259163, "comment_id": 87536466, "body": "@orhtej2 I wasn&#39;t sure if <code>c.GetType() == typeof(string)</code> would work or not.  I hadn&#39;t run the code yet because of the build error.  I like the <code>ToString()</code> idea, but I would need to extend it a bit because I could have fields of type <code>decimal</code>, <code>Boolean</code>, etc."}], "answers": [{"comments": [{"owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "edited": false, "score": 0, "creation_date": 1525889087, "post_id": 50259398, "comment_id": 87536933, "body": "This would work if I wanted everything to be a string.  Unfortunately, sometimes I need a string and sometimes I need a different type (e.g. int or DateTime).  I updated my code with more details and I fixed a few of the syntax things that I just typed incorrectly in the example (my code had the correct syntax)"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "edited": false, "score": 0, "creation_date": 1525889218, "post_id": 50259398, "comment_id": 87536998, "body": "@TimHutchison - See solution #2 (everything added). You could also add logic to transform the value to a string but you would need to provide a converter either per type or included it in the constructor. Alternatively you could override <code>ToString</code> which would be the best solution if this is strictly for display purposes like during debugging or presentation on screen."}, {"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "reply_to_user": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "edited": false, "score": 0, "creation_date": 1525889804, "post_id": 50259398, "comment_id": 87537291, "body": "@TimHutchison I think the idea presented here with <a href=\"https://msdn.microsoft.com/en-us/library/bb360913(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Linq&#39;s OfType&lt;T&gt;</a> should work quite nicely for all the types. If it doesn&#39;t satisfy your needs then perhaps you can update the original question with desired use case (some kind of pseudocode?)"}, {"owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "reply_to_user": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1525890208, "post_id": 50259398, "comment_id": 87537492, "body": "@orhtej2 On second look, the <code>OfType&lt;T&gt;</code> would work well with multiple loops.  I like the <code>ToString()</code> a little better so I am going to try some things down that path first"}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 3, "last_activity_date": 1525890158, "last_edit_date": 1525890158, "creation_date": 1525888557, "answer_id": 50259398, "question_id": 50259163, "link": "https://stackoverflow.com/questions/50259163/reading-generic-value-from-list-of-generic-objects/50259398#50259398", "title": "Reading Generic Value from List of Generic Objects", "body": "<p>You have syntax errors in the code like the lacking public scope of your enums and <code>ConditionOperator.Equal</code> (not <code>ConditionOperator.Equals</code>) but that asside here is the fix.</p>\n\n<ol>\n<li><code>Conditions</code> should be of type <code>List&lt;ConditionBase&gt;</code></li>\n<li>Use <code>OfType</code> on the List to retrieve and cast the resulting type to <code>Condition&lt;string&gt;</code>. I assume that this was your intention with your added check <code>c.GetType() == typeof(string)</code> </li>\n</ol>\n\n\n\n<pre><code>string url = \"\";\nList&lt;ConditionBase&gt; Conditions = new List&lt;ConditionBase&gt;();\nConditions.Add(new Condition&lt;int&gt;(Field.Field1, 1, ConditionOperator.Equal));\nConditions.Add(new Condition&lt;string&gt;(Field.Field2, \"test\", ConditionOperator.NotEqual));\n\nforeach (var c in Conditions.OfType&lt;Condition&lt;string&gt;&gt;())\n{\n    url += c.Field + \" \" + c.ConditionOperator + \" '\" + c.Value + \"' and \";\n}\n</code></pre>\n\n<hr>\n\n<p>If you want a generic property that you can access on all instances regardless of the generic type constraint then you would need to extend the base interface accordingly.</p>\n\n<pre><code>public interface ConditionBase\n{\n    Field Field { get; set; }\n    ConditionOperator ConditionOperator { get; set; }\n    object FieldValue { get; }\n}\n\npublic class Condition&lt;T&gt; : ConditionBase\n{\n  /* I only included the added code in this type */\n  public object FieldValue\n  {\n      get { return (object) this.Value; }\n  }\n}\n</code></pre>\n\n\n\n<pre><code>string url = \"\";\nList&lt;ConditionBase&gt; Conditions = new List&lt;ConditionBase&gt;();\nConditions.Add(new Condition&lt;int&gt;(Field.Field1, 1, ConditionOperator.Equal));\nConditions.Add(new Condition&lt;string&gt;(Field.Field2, \"test\", ConditionOperator.NotEqual));\n\nforeach (var c in Conditions)\n{\n    url += c.Field + \" \" + c.ConditionOperator + \" '\" + c.FieldValue + \"' and \";\n}\n</code></pre>\n\n<hr>\n\n<p>It seems you want to output your value to a string based on the changes in your question. Add a string formatter to your type.</p>\n\n<pre><code>/* I only included the added code in this type */\npublic class Condition&lt;T&gt; : ConditionBase\n{\n  private Func&lt;T, string&gt; _formatValue;\n  public Condition(Field field, T value, ConditionOperator condition, Func&lt;T, string&gt; formatValue)\n  {\n    this._Field = field;\n    this._Value = value;\n    this._ConditionOperator = condition;\n    this._formatValue = formatValue;\n  }\n\n  public override string ToString()\n  {\n      return this._formatValue(this.Value);\n  }\n}\n</code></pre>\n\n\n\n<pre><code>string url = \"\";\nList&lt;ConditionBase&gt; Conditions = new List&lt;ConditionBase&gt;();\nConditions.Add(new Condition&lt;int&gt;(Field.Field1, 1, ConditionOperator.Equal, (val)=&gt; val.ToString()));\nConditions.Add(new Condition&lt;string&gt;(Field.Field2, \"test\", ConditionOperator.NotEqual, (val)=&gt; val));\n\nforeach (var c in Conditions)\n{\n    url += c.Field + \" \" + c.ConditionOperator + \" '\" + c.ToString() + \"' and \";\n}\n</code></pre>\n"}], "owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 50259398, "answer_count": 1, "score": 2, "last_activity_date": 1525892118, "creation_date": 1525887583, "last_edit_date": 1525892118, "question_id": 50259163, "link": "https://stackoverflow.com/questions/50259163/reading-generic-value-from-list-of-generic-objects", "title": "Reading Generic Value from List of Generic Objects", "body": "<p>I am trying to loop through a list of generic objects call <code>Condition&lt;T&gt;</code> to read the generic field <code>Value</code>.  I followed <a href=\"https://stackoverflow.com/questions/19490819/generic-list-of-generic-objects\">this</a> question to be able to store the <code>List&lt;Condition&lt;T&gt;&gt;</code>.  The issue I am running into now is that I can't use the <code>Value</code> field in my loop. What do I need to change in order to use the <code>Value</code> field?</p>\n\n<h3>Main</h3>\n\n<pre><code>string url = \"\";\nList&lt;ConditionBase&gt; Conditions = new List&lt;ConditionBase&gt;();\nConditions.Add(new Condition&lt;int&gt;(Field.Field1, 1, ConditionOperator.Equal))\nConditions.Add(new Condition&lt;string&gt;(Field.Field2, \"test\", ConditionOperator.NotEqual))\n\nforeach (ConditionBase c in Conditions)\n{\n    if (c.GetType() == typeof(string))\n    {\n        // c.Value throws an error\n        url += c.Field + \" \" + c.ConditionOperator + \" '\" + c.Value + \"' and \";\n    }\n    else if (c.GetType() == typeof(DateTime))\n    {\n        // c.Value throws an error\n        url += c.Field + \" \" + c.ConditionOperator + \" \" + Helpers.FormatDate(c.Value) + \" and \";\n    }\n}\n</code></pre>\n\n<h3>Condition Base</h3>\n\n<pre><code>public interface ConditionBase\n{\n    Field Field { get; set; }\n    ConditionOperator ConditionOperator { get; set; }\n}\n</code></pre>\n\n<h3>Condition</h3>\n\n<pre><code>public class Condition&lt;T&gt; : ConditionBase\n{\n    private Field _Field;\n    private T _Value;\n    private ConditionOperator _ConditionOperator;\n\n    public Condition(Field field, T value, ConditionOperator condition)\n    {\n        this._Field = field;\n        this._Value = value;\n        this._ConditionOperator = condition;\n    }\n\n    public Field Field\n    {\n        get\n        {\n            return this._Field;\n        }\n        set\n        {\n            if (this._Field != value)\n            {\n                this._Field = value;\n            }\n        }\n    }\n\n    public T Value\n    {\n        get\n        {\n            return this._Value;\n        }\n        set\n        {\n            if (!EqualityComparer&lt;T&gt;.Default.Equals(this._Value, value))\n            {\n                this._Value = value;\n            }\n        }\n    }\n\n    public ConditionOperator ConditionOperator\n    {\n        get\n        {\n            return this._ConditionOperator;\n        }\n        set\n        {\n            if (this._ConditionOperator != value)\n            {\n                this._ConditionOperator = value;\n            }\n        }\n    }\n}\n</code></pre>\n\n<h3>Enums</h3>\n\n<pre><code>public enum Field{\n    Field1,\n    Field2\n}\n\npublic enum ConditionOperator{\n    Equal,\n    NotEqual,\n    GreaterThan,\n    LessThan\n}\n</code></pre>\n\n<hr>\n\n<h1>Solution</h1>\n\n<p>This solution is based on the comments by @orhtej2 &amp; the answer by @Igor.</p>\n\n<h3>Main - Test</h3>\n\n<pre><code>static void Main(string[] args)\n{\n    var x1 = new Condition&lt;int&gt;(new Field(), 123, ConditionOperator.Equal);\n    var x2 = new Condition&lt;string&gt;(new Field(), \"test\", ConditionOperator.Equal);\n    var x3 = new Condition&lt;DateTime&gt;(new Field(), new DateTime(2018,5,5), ConditionOperator.Equal);\n\n    var qqq = new List&lt;ConditionBase&gt;();\n\n    qqq.Add(x1);\n    qqq.Add(x2);\n    qqq.Add(x3);\n\n    foreach (ConditionBase c in qqq)\n    {\n        Console.WriteLine(c.GetValue());\n    }\n    Console.ReadLine();\n}\n</code></pre>\n\n<h3>Condition Base</h3>\n\n<pre><code>public interface ConditionBase\n{\n    Field Field { get; set; }\n    ConditionOperator ConditionOperator { get; set; }\n    string GetValue();\n}\n</code></pre>\n\n<h3>Condition</h3>\n\n<pre><code>public class Condition&lt;T&gt; : ConditionBase\n{\n    private Field _Field;\n    private T _Value;\n    private ConditionOperator _ConditionOperator;\n\n    public Condition(Field field, T value, ConditionOperator condition)\n    {\n        this._Field = field;\n        this._Value = value;\n        this._ConditionOperator = condition;\n    }\n\n    public Field Field\n    {\n        get\n        {\n            return this._Field;\n        }\n        set\n        {\n            if (this._Field != value)\n            {\n                this._Field = value;\n            }\n        }\n    }\n\n    public T Value\n    {\n        get\n        {\n            return this._Value;\n        }\n        set\n        {\n            if (!EqualityComparer&lt;T&gt;.Default.Equals(this._Value, value))\n            {\n                this._Value = value;\n            }\n        }\n    }\n\n    public ConditionOperator ConditionOperator\n    {\n        get\n        {\n            return this._ConditionOperator;\n        }\n        set\n        {\n            if (this._ConditionOperator != value)\n            {\n                this._ConditionOperator = value;\n            }\n        }\n    }\n\n    public string GetValue()\n    {\n        if (Value is string)\n        {\n            return \"'\" + Value.ToString() + \"'\";\n        }\n        else if (Value is DateTime)\n        {\n            return Helpers.FormatDate(Convert.ToDateTime(Value));\n        }\n        else\n        {\n            return Value.ToString();\n        }            \n    }\n}\n</code></pre>\n\n<h3>Enums</h3>\n\n<pre><code>public enum Field{\n    Field1,\n    Field2\n}\n\npublic enum ConditionOperator{\n    Equal,\n    NotEqual,\n    GreaterThan,\n    LessThan\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 2, "creation_date": 1525889586, "post_id": 50259038, "comment_id": 87537187, "body": "Um, what exactly is a &#39;cmd file&#39;? A diferent exe? A different command to feed into the cmd?"}, {"owner": {"reputation": 2549, "user_id": 823321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrwbB.png?s=128&g=1", "display_name": "s\u0250un\u0131\u0254\u05df\u0250q\u0250p", "link": "https://stackoverflow.com/users/823321/s%c9%90un%c4%b1%c9%94%d7%9f%c9%90q%c9%90p"}, "edited": false, "score": 1, "creation_date": 1525893855, "post_id": 50259038, "comment_id": 87539326, "body": "It is unclear what you are asking here. Would you please elaborate a bit more on what exactly do you need?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1525894533, "post_id": 50259038, "comment_id": 87539680, "body": "What do you mean &quot;read&quot;? Do you mean execute and capture the output? Or simply see the commands within a batch file?"}], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": false, "score": 2, "last_activity_date": 1525894399, "creation_date": 1525894399, "answer_id": 50260813, "question_id": 50259038, "link": "https://stackoverflow.com/questions/50259038/how-to-read-cmd-files/50260813#50260813", "title": "How to read cmd files", "body": "<p>I assume you mean you want to run a <code>.cmd</code> or <code>.bat</code> file:</p>\n\n<p>Pass the <code>.bat</code> or <code>.cmd</code> filename with the <code>/c</code> or <code>/k</code> command-line options:</p>\n\n<pre><code>process.StartInfo.Arguments = \"/k \\\"\" + pathToCmdFile + \"\\\"\"\n</code></pre>\n\n<ul>\n<li><code>/c</code> will <strong>c</strong>lose the new console window immediately after the batch file completes.</li>\n<li><code>/k</code> will <strong>k</strong>eep the new console window open after the batch file completes, allowing users to see any output.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 9337673, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TiZN9wTYRAU/AAAAAAAAAAI/AAAAAAAAADM/3LnxLY4wZdE/photo.jpg?sz=128", "display_name": "Dilshod Komilov", "link": "https://stackoverflow.com/users/9337673/dilshod-komilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1525914045, "creation_date": 1525887139, "last_edit_date": 1525895073, "question_id": 50259038, "link": "https://stackoverflow.com/questions/50259038/how-to-read-cmd-files", "title": "How to read cmd files", "body": "<p>I read from my starting cmd command like this:</p>\n\n<pre><code>Process cmd = new Process();\ncmd.StartInfo.FileName = \"cmd.exe\";\ncmd.StartInfo.RedirectStandardInput = true;\ncmd.StartInfo.RedirectStandardOutput = true;\ncmd.StartInfo.CreateNoWindow = true;\ncmd.StartInfo.UseShellExecute = false;\ncmd.Start();\ncmd.StandardInput.WriteLine(CmdCommandText);\ncmd.StandardInput.Flush();\ncmd.StandardInput.Close();\ncmd.WaitForExit();\nvar result=cmd.StandardOutput.ReadToEnd();\n</code></pre>\n\n<p>But how can read another cmd files?</p>\n"}, {"tags": ["c#", "unit-testing"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1525886725, "post_id": 50258875, "comment_id": 87535748, "body": "Google <a href=\"https://www.google.com/search?q=how+to+unit+test+DateTime.now+site:stackoverflow.com\" rel=\"nofollow noreferrer\">how to unit test DateTime.Now</a>."}], "owner": {"reputation": 89, "user_id": 9766371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9527a8893b86f8d22d72c6230c32484d?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge", "link": "https://stackoverflow.com/users/9766371/jorge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1525895047, "answer_count": 0, "score": 1, "last_activity_date": 1525886517, "creation_date": 1525886448, "last_edit_date": 1525886517, "question_id": 50258875, "link": "https://stackoverflow.com/questions/50258875/unit-test-datetime-logic", "closed_reason": "Duplicate", "title": "Unit test DateTime logic", "body": "<pre><code>public bool IsBoundaryDate(DateTime deleteDate)\n{\n    var isBoundaryDate = false; \n\n    var daysList = new List&lt;int&gt;{1};\n\n    foreach(var boundary in daysList )\n    {\n        var daysLeft = (deleteDate - DateTime.UtcNow).Days;\n\n        if (daysLeft == boundary)\n        {\n            isBoundaryDate = true;\n            break;\n        }\n    }\n\n    return isBoundaryDate;\n}\n</code></pre>\n\n<p>So while doing unit testing, my code looks like this:</p>\n\n<pre><code>public void IsBoundaryDate_ReturnFalse_WhenDateIsNotInBoundaryDays()\n{\n    var boundaryDaysFake = new List&lt;int&gt;\n    {\n        1\n    };\n\n    var deleteDate = DateTime.UtcNow.AddDays(1).AddMinutes(1);\n    var sut = new BoundaryDateChecker(boundaryDaysFake);\n\n    Assert.IsTrue(sut.IsBoundaryDate(deleteDate));\n}\n</code></pre>\n\n<p>How I can avoid hardcoding <code>AddMinutes(1)</code>, because hardcoding seems like a bad idea for a test method</p>\n"}, {"tags": ["c#", "asp.net", ".net", "ajax", ".net-4.0"], "comments": [{"owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "edited": false, "score": 0, "creation_date": 1525888722, "post_id": 50258857, "comment_id": 87536764, "body": "Do you mean: &quot;how do I update the drop down list entries int he drop down list control with data fetched via the ajax call&quot;?"}, {"owner": {"reputation": 5, "user_id": 4035403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a85f4cb1b11b64fe1b0e2518af833a?s=128&d=identicon&r=PG&f=1", "display_name": "pahnman", "link": "https://stackoverflow.com/users/4035403/pahnman"}, "reply_to_user": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "edited": false, "score": 0, "creation_date": 1525890789, "post_id": 50258857, "comment_id": 87537795, "body": "@Jonathan Not necessarily. My ultimate goal is for the code behind for a Page to access the selected content of the asp:DropDownList. However, since I&#39;m updating this drop down list via the client side javascript, the code behind/viewstate wouldn&#39;t have a reference to that information as part of the page life cycle."}, {"owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "edited": false, "score": 0, "creation_date": 1525891687, "post_id": 50258857, "comment_id": 87538272, "body": "Oh I see. And this is webforms, I guess? If it is MVC, then the value in the dropdown is passed to the controller and, even if the values are updated client side after page load, they would be mapped to the viewmodel when it comes back to the controller"}, {"owner": {"reputation": 5, "user_id": 4035403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a85f4cb1b11b64fe1b0e2518af833a?s=128&d=identicon&r=PG&f=1", "display_name": "pahnman", "link": "https://stackoverflow.com/users/4035403/pahnman"}, "reply_to_user": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "edited": false, "score": 0, "creation_date": 1525893883, "post_id": 50258857, "comment_id": 87539339, "body": "@Jonathan Yep this is webforms. I wish I could use MVC since it&#39;s a lot simpler to do the task but my current situation doesn&#39;t allow for it unfortunately."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525894146, "post_id": 50258857, "comment_id": 87539485, "body": "I think you&#39;re discovering that Web Forms does not play nicely if you stray outside of its sandbox, such as loading some data via custom AJAX. Unfortunately for you, you&#39;re just going to hit more and more of these ridiculous problems the more sophisticated you make your application. Is there any possibility you could ditch Web Forms, or at least in this case ditch the need to do a postback?"}, {"owner": {"reputation": 5, "user_id": 4035403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a85f4cb1b11b64fe1b0e2518af833a?s=128&d=identicon&r=PG&f=1", "display_name": "pahnman", "link": "https://stackoverflow.com/users/4035403/pahnman"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525895790, "post_id": 50258857, "comment_id": 87540260, "body": "@mason I agree, I&#39;m going to see if I can ditch the need to do a postback in this case"}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 3759018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bec77acff0beeb77ba8d8915462418f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3759018", "link": "https://stackoverflow.com/users/3759018/user3759018"}, "is_accepted": false, "score": -1, "last_activity_date": 1525975222, "last_edit_date": 1525975222, "creation_date": 1525887175, "answer_id": 50259055, "question_id": 50258857, "link": "https://stackoverflow.com/questions/50258857/how-do-you-sync-the-code-behind-when-updating-a-user-control-using-javascript/50259055#50259055", "title": "How do you sync the code behind when updating a user control using javascript?", "body": "<p>I guess you can use asp.net hidden fields to store the selected values but yes it could become unnecessarily cumbersome through client side.</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 4035403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a85f4cb1b11b64fe1b0e2518af833a?s=128&d=identicon&r=PG&f=1", "display_name": "pahnman", "link": "https://stackoverflow.com/users/4035403/pahnman"}, "is_accepted": true, "score": 0, "last_activity_date": 1525900804, "creation_date": 1525900804, "answer_id": 50262231, "question_id": 50258857, "link": "https://stackoverflow.com/questions/50258857/how-do-you-sync-the-code-behind-when-updating-a-user-control-using-javascript/50262231#50262231", "title": "How do you sync the code behind when updating a user control using javascript?", "body": "<p>I decided to not go this route of client side updating, since it's directly opposing the Web Form structure. Instead I'll settle for a synchronous solution of make this call from the code behind and populating the DropDownList before serving the Page. </p>\n"}], "owner": {"reputation": 5, "user_id": 4035403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a85f4cb1b11b64fe1b0e2518af833a?s=128&d=identicon&r=PG&f=1", "display_name": "pahnman", "link": "https://stackoverflow.com/users/4035403/pahnman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 50262231, "answer_count": 2, "score": 0, "last_activity_date": 1525975222, "creation_date": 1525886391, "last_edit_date": 1525894679, "question_id": 50258857, "link": "https://stackoverflow.com/questions/50258857/how-do-you-sync-the-code-behind-when-updating-a-user-control-using-javascript", "title": "How do you sync the code behind when updating a user control using javascript?", "body": "<p>I have a custom user control that serves as a reusable <code>ASP</code> <code>DropDownList</code> that asynchronously retrieves data from an <code>RESTful</code> endpoint</p>\n\n<pre><code>&lt;myControls:AjaxDropDown ID=\"ddlDropdown\" runat=\"server\" ServicePath=\"/MyWebService2.asmx/GetLetterTypes\"/&gt;\n</code></pre>\n\n<p>Inside the user control, I'm updating the drop down content via success in <code>$.ajax</code></p>\n\n<pre><code>$.ajax({\n  type: \"GET\",\n  dataType: \"json\",\n  url: $('#&lt;%=textBoxUrlPath.ClientID %&gt;').val(),\n  contentType: \"application/json; charset=utf-8\",\n  async: true,\n  success: function(res) {\n    onGetLetterTypesSuccess(res);\n  },\n  error: function(XMLHttpRequest, textStatus, errorThrown) {\n    alert(errorThrown);\n  }\n});\n</code></pre>\n\n<p>How do I sync the data retrieved by <code>$.ajax</code> with the code behind for the user control? </p>\n\n<p>The reason I'm using <code>$.ajax</code> rather than doing a partial update via the <code>UpdatePanel</code> control is due UpdatePanel's inability to have multiple asynchronous calls at a time on a single page.</p>\n"}, {"tags": ["c#", "linq-expressions"], "owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525890454, "creation_date": 1525886390, "question_id": 50258856, "link": "https://stackoverflow.com/questions/50258856/how-can-i-modify-field-inside-expression", "title": "How can I modify field inside Expression?", "body": "<p>I want to generate a method that will be similar to this:</p>\n\n<pre><code>void Add(ref MyStruct a, MyStruct b)\n{\n    a.Field1 += b.Field1;\n    // a.Field2 += b.Field2; // and so on\n}\n</code></pre>\n\n<p>To do so I declared my custom delegate:</p>\n\n<pre><code>public delegate void Add&lt;T&gt;(ref T a, T b) where T : struct;\n</code></pre>\n\n<p>and write my expression builder:</p>\n\n<pre><code>public static Expression&lt;Add&lt;T&gt;&gt; BuildExpression&lt;T&gt;() where T : struct\n{\n    var t = typeof(T);\n    var a = Expression.Parameter(t.MakeByRefType(), \"a\");\n    var b = Expression.Parameter(t, \"b\");\n\n    return Expression.Lambda&lt;Add&lt;T&gt;&gt;(\n        Expression.Block(\n            t.GetFields().Select(f =&gt; \n                Expression.AddAssign(Expression.Field(a, f), Expression.Field(b, f)))),\n        a, b\n      );\n}\n</code></pre>\n\n<p>I've added <code>MyStruct</code> with a single field <code>Field1</code> to test it. When I inspect the <code>DebugView</code> of my expression it looks very similar to expected result:</p>\n\n<pre><code>.Lambda #Lambda1&lt;Program+Add`1[Program+MyStruct]&gt;(\n    Program+MyStruct&amp; $a,\n    Program+MyStruct $b) {\n    .Block() {\n        $a.Field1 += $b.Field1\n    }\n}\n</code></pre>\n\n<p>however it does not modify first argument. Please see <a href=\"https://dotnetfiddle.net/N4Qwqz\" rel=\"nofollow noreferrer\">demo</a><br/></p>\n\n<p>So what I'm doing wrong in my <code>BuildExpression</code>?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1525887078, "post_id": 50258803, "comment_id": 87535922, "body": "What wireless network adapter is configured in your VM? Can you manually connect to a wireless network in your VM?"}, {"owner": {"reputation": 1433, "user_id": 6647038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/PFd4t.png?s=128&g=1", "display_name": "Matheus Miranda", "link": "https://stackoverflow.com/users/6647038/matheus-miranda"}, "reply_to_user": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1525887234, "post_id": 50258803, "comment_id": 87535987, "body": "@UnhandledExcepSean Yes set to &quot;Bridge Mode&quot;."}, {"owner": {"reputation": 1433, "user_id": 6647038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/PFd4t.png?s=128&g=1", "display_name": "Matheus Miranda", "link": "https://stackoverflow.com/users/6647038/matheus-miranda"}, "reply_to_user": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1525887310, "post_id": 50258803, "comment_id": 87536030, "body": "I found this answer: <a href=\"https://stackoverflow.com/questions/37333171/wlanopenhandle-fails-with-error-code-1062\" title=\"wlanopenhandle fails with error code 1062\">stackoverflow.com/questions/37333171/&hellip;</a>"}, {"owner": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1525887352, "post_id": 50258803, "comment_id": 87536054, "body": "Did that resolve your issue?"}, {"owner": {"reputation": 1433, "user_id": 6647038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/PFd4t.png?s=128&g=1", "display_name": "Matheus Miranda", "link": "https://stackoverflow.com/users/6647038/matheus-miranda"}, "reply_to_user": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1525887399, "post_id": 50258803, "comment_id": 87536072, "body": "@UnhandledExcepSean Yes, I&#39;m calm now."}, {"owner": {"reputation": 5620, "user_id": 7148391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KIlov.png?s=128&g=1", "display_name": "Zohir Salak", "link": "https://stackoverflow.com/users/7148391/zohir-salak"}, "edited": false, "score": 0, "creation_date": 1525887777, "post_id": 50258803, "comment_id": 87536268, "body": "You could have looked into the code and found out that the constructor makes a pinvoke call to <code>WlanOpenHandle()</code> which exists in (wlanapi), then look it up on the MSDN and find this : <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms706759(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}, {"owner": {"reputation": 1433, "user_id": 6647038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/PFd4t.png?s=128&g=1", "display_name": "Matheus Miranda", "link": "https://stackoverflow.com/users/6647038/matheus-miranda"}, "reply_to_user": {"reputation": 5620, "user_id": 7148391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KIlov.png?s=128&g=1", "display_name": "Zohir Salak", "link": "https://stackoverflow.com/users/7148391/zohir-salak"}, "edited": false, "score": 0, "creation_date": 1525888121, "post_id": 50258803, "comment_id": 87536451, "body": "@ZohirSalakCeNa Thanks for the info."}], "owner": {"reputation": 1433, "user_id": 6647038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/PFd4t.png?s=128&g=1", "display_name": "Matheus Miranda", "link": "https://stackoverflow.com/users/6647038/matheus-miranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "closed_date": 1525900600, "answer_count": 0, "score": 0, "last_activity_date": 1525886311, "creation_date": 1525886200, "last_edit_date": 1525886311, "question_id": 50258803, "link": "https://stackoverflow.com/questions/50258803/the-service-has-not-been-started", "closed_reason": "Duplicate", "title": "The service has not been started", "body": "<p>I use this <a href=\"https://github.com/consp1racy/NativeWifi\" rel=\"nofollow noreferrer\">NativeWifi</a> library to get the name of WiFi.</p>\n\n<p>I'm testing with VMWARE and I get an exception:</p>\n\n<blockquote>\n  <p>Message: \"The service has not been started\"</p>\n  \n  <p>NativeErrorCode: 1062.</p>\n  \n  <p>Source: \"ManagedWifi\";</p>\n</blockquote>\n\n<p>Follow code:</p>\n\n<pre><code>try\n{\n    WlanClient wlanClient = new WlanClient();  //   &lt;--------------   problem is here\n\n    List&lt;String&gt; list = new List&lt;String&gt;();\n\n    foreach (WlanInterface wlanInterface in wlanClient.Interfaces)\n    {\n        if (wlanInterface.InterfaceState == Wlan.WlanInterfaceState.Connected)\n        {\n            Wlan.Dot11Ssid ssid = wlanInterface.CurrentConnection.wlanAssociationAttributes.dot11Ssid;\n            list.Add(new String(Encoding.ASCII.GetChars(ssid.SSID, 0, (int)ssid.SSIDLength)));\n        }\n    }\n\n    return list.FirstOrDefault();\n}\ncatch (Exception ex)\n{\n    return $\"Error: {ex.Message}\";\n}\n</code></pre>\n\n<p>The problem occurs on the line: <code>WlanClient wlanClient = new WlanClient();</code>.</p>\n\n<p>This problem happens in the virtual machine (VMware).</p>\n\n<p>Any Solution ?</p>\n"}]