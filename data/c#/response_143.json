[{"tags": ["c#", "sql", "entity-framework", "linq", "dbcontext"], "comments": [{"owner": {"reputation": 3392, "user_id": 297257, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a4df2adb1714ccb73bac368e13e16b00?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank Shekhar", "link": "https://stackoverflow.com/users/297257/shashank-shekhar"}, "edited": false, "score": 0, "creation_date": 1507160596, "post_id": 46575714, "comment_id": 80104896, "body": "what does <code>db.users.ToList()</code> give you ?"}, {"owner": {"reputation": 75, "user_id": 8489337, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-AbpJCro11YM/AAAAAAAAAAI/AAAAAAAABTI/RfOrZg9L9jQ/photo.jpg?sz=128", "display_name": "Heidi T.", "link": "https://stackoverflow.com/users/8489337/heidi-t"}, "reply_to_user": {"reputation": 3392, "user_id": 297257, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a4df2adb1714ccb73bac368e13e16b00?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank Shekhar", "link": "https://stackoverflow.com/users/297257/shashank-shekhar"}, "edited": false, "score": 0, "creation_date": 1507160925, "post_id": 46575714, "comment_id": 80104974, "body": "its works its give me datas on users table. but i want to use this method with another tables, db.schools db.citys, can i just sent to table name to method thats what i ask"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 8489337, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-AbpJCro11YM/AAAAAAAAAAI/AAAAAAAABTI/RfOrZg9L9jQ/photo.jpg?sz=128", "display_name": "Heidi T.", "link": "https://stackoverflow.com/users/8489337/heidi-t"}, "edited": false, "score": 1, "creation_date": 1507162400, "post_id": 46575846, "comment_id": 80105355, "body": "Thank you so much i look for that &quot;WHERE T: class&quot; using it works :)"}], "tags": [], "owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "is_accepted": true, "score": 2, "last_activity_date": 1507164852, "last_edit_date": 1507164852, "creation_date": 1507161115, "answer_id": 46575846, "question_id": 46575714, "link": "https://stackoverflow.com/questions/46575714/dynamic-table-name-in-entity/46575846#46575846", "title": "dynamic table name in Entity", "body": "<p>Your question isn't very clear, but if you mean that <strong>You wanna do it in a generic way</strong>, then yes that is possible. You can take advantage of the <code>Set&lt;T&gt;</code> method. For example: </p>\n\n<pre><code>public void LoadToGrid&lt;T&gt;(GridType grid) where T: class, new() {\n    grid.DataSource = dbContext.Set&lt;T&gt;().ToList();\n}\n</code></pre>\n\n<p>And to customize the data fields in your grid, your can add this overload </p>\n\n<pre><code>public void LoadToGrid&lt;T&gt;(GridType grid, Expression&lt;Func&lt;T,Object&gt;&gt; selectExpression) where T: class, new() {\n    grid.DataSource = dbContext.Set&lt;T&gt;().Select(selectExpression).ToList();\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 8489337, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-AbpJCro11YM/AAAAAAAAAAI/AAAAAAAABTI/RfOrZg9L9jQ/photo.jpg?sz=128", "display_name": "Heidi T.", "link": "https://stackoverflow.com/users/8489337/heidi-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1182, "favorite_count": 0, "accepted_answer_id": 46575846, "answer_count": 1, "score": 1, "last_activity_date": 1507164852, "creation_date": 1507160173, "last_edit_date": 1507161624, "question_id": 46575714, "link": "https://stackoverflow.com/questions/46575714/dynamic-table-name-in-entity", "title": "dynamic table name in Entity", "body": "<p>I want to call method with Table name like <code>db.users.select(x=&gt; x.FirstName)</code> , but i made a mistake somewhere , i write like this but this returns detail about table on one row , not return table data which i want, help please</p>\n\n<pre><code>    public void LoadToGrid(string dbTableName)\n    {\n      dataGridView1.DataSource = db.GetType().GetMember(dbTableName).ToList();    \n    }\n</code></pre>\n"}, {"tags": ["c#", "datatable", "interactive-brokers"], "comments": [{"owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "edited": false, "score": 0, "creation_date": 1507161176, "post_id": 46575706, "comment_id": 80105031, "body": "Where are you calling <code>ConverToDataTable</code> from? Are you looping over a list or calling the function on multiple instances of the <code>AccountSummaryMessage</code> object in any way?"}, {"owner": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "edited": false, "score": 0, "creation_date": 1507161624, "post_id": 46575706, "comment_id": 80105161, "body": "Hi Kevin/jstreet thanks for taking the time to answer. Ive added the method that calls the ConvertToDatable() Method."}, {"owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "edited": false, "score": 0, "creation_date": 1507161918, "post_id": 46575706, "comment_id": 80105233, "body": "I&#39;m still having trouble understanding where you would be appending multiple rows. Every time you call <code>ConvertToDataTable</code> you are creating a new DataTable with one row."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "edited": false, "score": 0, "creation_date": 1507237129, "post_id": 46576355, "comment_id": 80142336, "body": "Hi Kevin, thanks for helping out. I&#39;ve added a picture of what I am trying to achieve. I am trying show multiple rows. I can get the expected output when I use a datagridview but I cant get it correct when trying to use a datatable instead."}, {"owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "reply_to_user": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "edited": false, "score": 0, "creation_date": 1507237528, "post_id": 46576355, "comment_id": 80142507, "body": "Are you assigning the return value from <code>ConverToDataTable</code> within your function? Or passing an Enumerable type for the <code>obj</code> paramter? I don&#39;t see any other way to add multiple rows using that function."}, {"owner": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "edited": false, "score": 0, "creation_date": 1507238382, "post_id": 46576355, "comment_id": 80142892, "body": "No, neither of those things. I havent ever used Enumerable types before."}, {"owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "reply_to_user": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "edited": false, "score": 0, "creation_date": 1507239507, "post_id": 46576355, "comment_id": 80143367, "body": "I think you have two choices: 1. you can keep your DataTable as a private/public variable and change the function to either append the returned datatable or change the function to non-static void and modify your DataTable variable. 2. You can pass an enumerable to your function and append all of your rows at once. I will update my answer to show you."}, {"owner": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "edited": false, "score": 0, "creation_date": 1507322928, "post_id": 46576355, "comment_id": 80179535, "body": "Thank you so much Kevin, this worked, also read up on IEnumerables, was interesting to see how a for each works behind the scenes."}], "tags": [], "owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1507240241, "last_edit_date": 1507240241, "creation_date": 1507165498, "answer_id": 46576355, "question_id": 46575706, "link": "https://stackoverflow.com/questions/46575706/interactive-brokers-api-datatable-overwrites-rows/46576355#46576355", "title": "Interactive Brokers API DataTable overwrites rows", "body": "<p>You should first loop through and add the columns to the table before adding the row. If you are just trying to create a table with a single row in your <code>ConverToDataTable</code> function you need to change it to something similar to this:</p>\n\n<pre><code>public static DataTable ConverToDataTable(object obj)\n{\n    DataTable dt = new DataTable();\n\n    var dataType = obj.GetType();\n\n    dataType.GetProperties().ToList().ForEach(f =&gt;\n    {\n        try\n        {\n            dt.Columns.Add(f.Name, f.PropertyType);\n        }\n        catch\n        {\n\n        }\n    });\n\n    DataRow newRow = dt.NewRow();\n    foreach (var prop in dataType.GetProperties())\n    {\n        newRow[prop.Name] = prop.GetValue(obj);\n    }\n    dt.Rows.Add(newRow);\n\n    return dt;\n}\n</code></pre>\n\n<p>Edit: To add multiple rows you have several options (as I explained in the comments below. Here are two possible methods:</p>\n\n<p><strong>Using private table variable within your class to keep appending rows when needed</strong>:</p>\n\n<pre><code>private DataDate table = null;\n\npublic void ConverToDataTable(object obj)\n{\n    var dataType = obj.GetType();\n\n    if (table == null)\n    {\n        table = new DataTable();\n\n        dataType.GetProperties().ToList().ForEach(f =&gt;\n        {\n                table.Columns.Add(f.Name, f.PropertyType);\n        });\n    }\n\n    DataRow newRow = table.NewRow();\n    foreach (var prop in dataType.GetProperties())\n    {\n        newRow[prop.Name] = prop.GetValue(obj);\n    }\n    table.Rows.Add(newRow);\n}\n</code></pre>\n\n<p><strong>Using an enumerable type to add all of your rows at once</strong>:</p>\n\n<pre><code>public static DataTable ConverToDataTable(IEnumerable&lt;object&gt; obj)\n{\n    DataTable dt = new DataTable();\n\n    var dataType = obj.First().GetType();\n\n    dataType.GetProperties().ToList().ForEach(f =&gt;\n    {\n        try\n        {\n            dt.Columns.Add(f.Name, f.PropertyType);\n        }\n        catch\n        {\n\n        }\n    });\n\n    foreach (var item in obj)\n    {\n        DataRow newRow = dt.NewRow();\n        foreach (var prop in dataType.GetProperties())\n        {\n            newRow[prop.Name] = prop.GetValue(item);\n        }\n        dt.Rows.Add(newRow);\n    }\n\n    return dt;\n}\n</code></pre>\n\n<p>It might be helpful to read up on enumerable types. <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.ienumerable(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Here</a> is a good place to start.</p>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "is_accepted": true, "score": 0, "last_activity_date": 1507322975, "creation_date": 1507322975, "answer_id": 46613732, "question_id": 46575706, "link": "https://stackoverflow.com/questions/46575706/interactive-brokers-api-datatable-overwrites-rows/46613732#46613732", "title": "Interactive Brokers API DataTable overwrites rows", "body": "<p>I used the first edit by Kevin and it works flawlessly.</p>\n"}], "owner": {"reputation": 105, "user_id": 4975613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6453cc6b4f833ca2aa8769a5eb71819d?s=128&d=identicon&r=PG&f=1", "display_name": "Grey Walker", "link": "https://stackoverflow.com/users/4975613/grey-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 46613732, "answer_count": 2, "score": 0, "last_activity_date": 1507322975, "creation_date": 1507160110, "last_edit_date": 1507237021, "question_id": 46575706, "link": "https://stackoverflow.com/questions/46575706/interactive-brokers-api-datatable-overwrites-rows", "title": "Interactive Brokers API DataTable overwrites rows", "body": "<p>I am using the Interactive Brokers C# API and trying to create a Datatable from the <code>AccountSummary</code> object but the rows in the table are overwritten and only show the last value. </p>\n\n<p>I can't figure out what's going on. I thought it might be that the property types match the column names so its over-writing on top on the same row.</p>\n\n<p><strong>Expected output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/GtZao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GtZao.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>public static DataTable ConverToDataTable(object obj)\n{\n    DataTable dt = new DataTable();\n    DataRow dr = dt.NewRow();\n\n    dt.Rows.Add(dr);\n\n    obj.GetType().GetProperties().ToList().ForEach(f =&gt;\n    {\n        try\n        {\n            f.GetValue(obj, null);\n            dt.Columns.Add(f.Name, f.PropertyType);\n            dt.Rows[0][f.Name] = f.GetValue(obj, null);\n        }\n        catch\n        {\n\n        }\n    });\n    return dt;\n}\n</code></pre>\n\n<p>This is the method that calls the ConvertToDataTable() method.</p>\n\n<pre><code>public void UpdateUI(IBMessage message)\n    {\n        switch (message.Type)\n        {\n            case MessageType.AccountSummary:                    \n                ConverToDataTable((AccountSummaryMessage)message);\n                break;\n            case MessageType.AccountSummaryEnd:\n                HandleAccountSummaryEnd();\n                break;\n            case MessageType.AccountValue:\n                HandleAccountValue((AccountValueMessage)message);\n                break;\n            case MessageType.PortfolioValue:\n                HandlePortfolioValue((UpdatePortfolioMessage)message);\n                break;\n            case MessageType.AccountDownloadEnd:\n                break;\n            case MessageType.Position:\n                HandlePosition((PositionMessage)message);\n                break;\n            case MessageType.PositionEnd:\n                break;\n        }\n    }\n</code></pre>\n\n<p>This is the object I'm trying to build the datatable from.</p>\n\n<pre><code>public class AccountSummaryMessage : IBMessage\n{\n    private int requestId;\n    private string account;\n    private string tag;\n    private string value;\n    private string currency;\n\n    public int RequestId\n    {\n        get { return requestId; }\n        set { requestId = value; }\n    }\n\n    public string Account\n    {\n        get { return account; }\n        set { account = value; }\n    }\n\n    public string Tag\n    {\n        get { return tag; }\n        set { tag = value; }\n    }\n\n    public string Value\n    {\n        get { return this.value; }\n        set { this.value = value; }\n    }\n\n    public string Currency\n    {\n        get { return currency; }\n        set { currency = value; }\n    }\n\n    public AccountSummaryMessage(int requestId, string account, string tag, string value, string currency)\n    {\n        Type = MessageType.AccountSummary;\n        RequestId = requestId;\n        Account = account;\n        Tag = tag;\n        Value = value;\n        Currency = currency;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "amazon-web-services", "amazon-s3", "amazon-cloudfront"], "comments": [{"owner": {"reputation": 10420, "user_id": 299462, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1239668b80debd03fef129775ff3f065?s=128&d=identicon&r=PG", "display_name": "Kannaiyan", "link": "https://stackoverflow.com/users/299462/kannaiyan"}, "edited": false, "score": 0, "creation_date": 1507168483, "post_id": 46575519, "comment_id": 80106652, "body": "Why did you create Signed URL&#39;s and what you did with that?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5181022, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200617851446604/picture?type=large", "display_name": "Cfence", "link": "https://stackoverflow.com/users/5181022/cfence"}, "edited": false, "score": 0, "creation_date": 1507218567, "post_id": 46576028, "comment_id": 80132728, "body": "Thanks for the help, but I have already created Pre-signed URLs which are working when populating PictureBoxes in my application.  I am using the Cloudberry Application which has helped a lot.         What I am looking for is the code that gets the S3 file through the signed URL request of CloudFront and saved onto the user&#39;s hard drive?"}, {"owner": {"reputation": 28154, "user_id": 1574489, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/78b4ada3c932261e1d23faf65db29ebc?s=128&d=identicon&r=PG", "display_name": "Matt Houser", "link": "https://stackoverflow.com/users/1574489/matt-houser"}, "reply_to_user": {"reputation": 17, "user_id": 5181022, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200617851446604/picture?type=large", "display_name": "Cfence", "link": "https://stackoverflow.com/users/5181022/cfence"}, "edited": false, "score": 0, "creation_date": 1507220654, "post_id": 46576028, "comment_id": 80133968, "body": "There is sample C# code to generate a CloudFront pre-signed URL in the links I provided. With that URL, you won&#39;t use the AWS SDK to download the files. Instead, you&#39;ll use C#&#39;s <code>HttpClient</code> (for example) to download the file as a standard URL."}, {"owner": {"reputation": 17, "user_id": 5181022, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200617851446604/picture?type=large", "display_name": "Cfence", "link": "https://stackoverflow.com/users/5181022/cfence"}, "edited": false, "score": 0, "creation_date": 1507223731, "post_id": 46576028, "comment_id": 80135694, "body": "Thanks a lot!  This was just the help I needed."}], "tags": [], "owner": {"reputation": 28154, "user_id": 1574489, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/78b4ada3c932261e1d23faf65db29ebc?s=128&d=identicon&r=PG", "display_name": "Matt Houser", "link": "https://stackoverflow.com/users/1574489/matt-houser"}, "is_accepted": true, "score": 2, "last_activity_date": 1507162323, "creation_date": 1507162323, "answer_id": 46576028, "question_id": 46575519, "link": "https://stackoverflow.com/questions/46575519/cloudffont-getobjectrequest-equivalent-to-download-files-from-s3/46576028#46576028", "title": "CloudfFont GetObjectRequest equivalent to download files from S3", "body": "<p>CloudFront does not have an equivalent to <code>GetObject</code>. CloudFront is designed to pull data through the HTTP/HTTPS protocols.</p>\n\n<p>If the files that you want to download to your user's computer are public, then you can simply access them through the CloudFront distributions http/https URL.</p>\n\n<p>If the files that you want to download is private, then you'll need to setup an Origin Access Identity to <a href=\"http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/PrivateContent.html\" rel=\"nofollow noreferrer\">Serve Private Content</a> or use <a href=\"http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-signed-urls.html\" rel=\"nofollow noreferrer\">Pre-signed URLs</a> through your CloudFront distributions http/https URL.</p>\n"}], "owner": {"reputation": 17, "user_id": 5181022, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200617851446604/picture?type=large", "display_name": "Cfence", "link": "https://stackoverflow.com/users/5181022/cfence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 46576028, "answer_count": 1, "score": 0, "last_activity_date": 1507162323, "creation_date": 1507158656, "question_id": 46575519, "link": "https://stackoverflow.com/questions/46575519/cloudffont-getobjectrequest-equivalent-to-download-files-from-s3", "title": "CloudfFont GetObjectRequest equivalent to download files from S3", "body": "<p>I am revising an application to use a private CloudFront rather than straight from S3.</p>\n\n<p>I have been able to create signed URLs and populate picturboxes as needed.</p>\n\n<p>I am unable to find the CloudFront equivalent of the GetObjectRequest...</p>\n\n<pre><code>for (int num = 1; num &lt; 16; num++)\n{\n\n    GetObjectRequest request = new GetObjectRequest\n    {\n        BucketName = ContainerName,\n        Key = tempDownload + @\"/\" + num + \".jpg\"\n    };\n\n    try\n    {\n        //Issue request and remember to dispose of the response\n        using (GetObjectResponse response = s3Client.GetObject(request))\n        {\n          string dest = Path.Combine(newFileFolder, tempDownload + num + \".jpg\");\n            if (!File.Exists(dest))\n            {\n                response.WriteResponseStreamToFile(dest);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am trying to download files through Cloudfront onto the application user's hard drive.</p>\n"}, {"tags": ["c#", ".net", "winforms", "paint"], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1507222907, "post_id": 46576072, "comment_id": 80135258, "body": "Hi Sakura, this worked. Thank you! This preserves the background image and draws arrows on it, but do you know why the picturebox image doesn&#39;t equal the drawn arrow above the background picture? The way I tested this was i put another picturebox control in my form and just wrote <code>picturebox2.image = picturebox1.image</code> and it only displayed my background image."}, {"owner": {"reputation": 7221, "user_id": 1560697, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/411727338a09452ec333619185e5a81b?s=128&d=identicon&r=PG&f=1", "display_name": "Tuyen Pham", "link": "https://stackoverflow.com/users/1560697/tuyen-pham"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1507247521, "post_id": 46576072, "comment_id": 80145479, "body": "Change ` if (pictureBox1.Image == null)` to ` if ((sender as PictureBox).Image == null)`. Anyway, I&#39;m not clearly understand your comment. If possible, edit your question with new code and I will see if I can help"}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1507249273, "post_id": 46576072, "comment_id": 80145844, "body": "Hi Sakura, I asked the question here in more detail with tests I ran. <a href=\"https://stackoverflow.com/questions/46592322/paint-drawline-image-into-picturebox-image\" title=\"paint drawline image into picturebox image\">stackoverflow.com/questions/46592322/&hellip;</a>"}, {"owner": {"reputation": 7221, "user_id": 1560697, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/411727338a09452ec333619185e5a81b?s=128&d=identicon&r=PG&f=1", "display_name": "Tuyen Pham", "link": "https://stackoverflow.com/users/1560697/tuyen-pham"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1507249573, "post_id": 46576072, "comment_id": 80145885, "body": "@taji01 ok I see the problem. I will post the solution in few minutes."}], "tags": [], "owner": {"reputation": 7221, "user_id": 1560697, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/411727338a09452ec333619185e5a81b?s=128&d=identicon&r=PG&f=1", "display_name": "Tuyen Pham", "link": "https://stackoverflow.com/users/1560697/tuyen-pham"}, "is_accepted": true, "score": 1, "last_activity_date": 1507163029, "last_edit_date": 1507163029, "creation_date": 1507162694, "answer_id": 46576072, "question_id": 46575482, "link": "https://stackoverflow.com/questions/46575482/keep-picturebox-image-while-painting-on-top-of-it/46576072#46576072", "title": "Keep Picturebox Image While Painting on top of it", "body": "<p>Yes, problem is with this line here <code>g.Clear(pictureBox1.BackColor);</code> You erase entire the control area before you draw the line.</p>\n\n<p>You should draw to <code>e.Graphics</code> directly:</p>\n\n<pre><code>private void pictureBox1_Paint(object sender, PaintEventArgs e)\n{\n    if (isMoving)\n    {\n        if (pictureBox1.Image == null) e.Graphics.Clear(Color.White);\n\n        // Add this line for high quality drawing:\n        e.Graphics.SmoothingMode = SmoothingMode.HighQuality;\n\n        AdjustableArrowCap bigArrow = new AdjustableArrowCap(5, 5);\n        _Pen = new Pen(Color.IndianRed, 3);\n        _Pen.CustomEndCap = bigArrow;\n        e.Graphics.DrawLine(_Pen, mouseDownPosition, mouseMovePosition);\n        _Pen.Dispose();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 1, "accepted_answer_id": 46576072, "answer_count": 1, "score": 0, "last_activity_date": 1507163029, "creation_date": 1507158386, "last_edit_date": 1507161227, "question_id": 46575482, "link": "https://stackoverflow.com/questions/46575482/keep-picturebox-image-while-painting-on-top-of-it", "title": "Keep Picturebox Image While Painting on top of it", "body": "<p>In my form, I have a picturebox. I wanted to be able to draw arrows on top of an image. I managed to get halfway there. On the Form load event, I assign an image to the picturebox. I'm able to create arrows with the code below. The problem is every time I create the arrow the picture I assigned on my form load event gets erased. Why does my image get erased? How do I maintain my image that I assigned on form load while drawing arrows on top of it?</p>\n\n<pre><code>    private bool isMoving = false;\n    private Point mouseDownPosition = Point.Empty;\n    private Point mouseMovePosition = Point.Empty;\n    private List&lt;Tuple&lt;Point, Point&gt;&gt; lines = new List&lt;Tuple&lt;Point, Point&gt;&gt;();\n    Pen _Pen;\n\n    private void Test_Load(object sender, EventArgs e)\n    {\n        pictureBox1.Image = Properties.Resources.background;          \n    }\n\n    private void pictureBox1_Paint(object sender, PaintEventArgs e)\n    {\n\n        if (isMoving)\n        {\n            if (pictureBox1.Image == null)\n            {\n                Bitmap bmp = new Bitmap(pictureBox1.Width, pictureBox1.Height);\n                using (Graphics g = Graphics.FromImage(bmp))\n                {\n                    g.Clear(Color.White);\n                }\n                pictureBox1.Image = bmp;\n            }\n\n            using (Graphics g = Graphics.FromImage(pictureBox1.Image))\n            {\n                g.Clear(pictureBox1.BackColor);\n\n                AdjustableArrowCap bigArrow = new AdjustableArrowCap(5, 5);\n                _Pen = new Pen(Color.IndianRed, 3);\n                _Pen.CustomEndCap = bigArrow;\n                g.DrawLine(_Pen, mouseDownPosition, mouseMovePosition);\n                _Pen.Dispose();\n            }\n        }\n    }\n\n\n\n    private void pictureBox1_MouseDown(object sender, MouseEventArgs e)\n    {\n        isMoving = true;\n        mouseDownPosition = e.Location;\n    }\n\n    private void pictureBox1_MouseMove(object sender, MouseEventArgs e)\n    {\n        if (isMoving)\n        {\n            mouseMovePosition = e.Location;\n            pictureBox1.Invalidate();\n        }\n    }\n\n    private void pictureBox1_MouseUp(object sender, MouseEventArgs e)\n    {\n        if (isMoving)\n        {\n            lines.Add(Tuple.Create(mouseDownPosition, mouseMovePosition));\n        }\n        isMoving = false;\n    }\n</code></pre>\n\n<p>I think the problem is with this line here <code>g.Clear(pictureBox1.BackColor);</code></p>\n"}, {"tags": ["c#", "arrays", "compare"], "comments": [{"owner": {"reputation": 499, "user_id": 5339899, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ebf68221eb3e8ff1037314f300217549?s=128&d=identicon&r=PG&f=1", "display_name": "TheQAGuy", "link": "https://stackoverflow.com/users/5339899/theqaguy"}, "edited": false, "score": 0, "creation_date": 1507158552, "post_id": 46575480, "comment_id": 80104455, "body": "You cant stack statements like that. <code>board[0].Equals(board[1])</code> return a boolean so lets say it returns true. then you are doing <code>true.Equals(board[2])</code> which makes no sense"}, {"owner": {"reputation": 3, "user_id": 8679570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b44fdff490b934e94e6f2af89232cd5?s=128&d=identicon&r=PG&f=1", "display_name": "Ivo Mitev", "link": "https://stackoverflow.com/users/8679570/ivo-mitev"}, "reply_to_user": {"reputation": 499, "user_id": 5339899, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ebf68221eb3e8ff1037314f300217549?s=128&d=identicon&r=PG&f=1", "display_name": "TheQAGuy", "link": "https://stackoverflow.com/users/5339899/theqaguy"}, "edited": false, "score": 0, "creation_date": 1507158704, "post_id": 46575480, "comment_id": 80104493, "body": "Totally makes sense :/ Any suggestions? Because using <code>==</code> works fine in python, but not in C#."}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1507158787, "post_id": 46575480, "comment_id": 80104507, "body": "<code>board[0].Equals(board[1])</code> returns Boolean value and then you are trying to do Equals with <code>board[1]</code> which string and that comparison will return always false. About comparing using <code>==</code> did you debug the code and check if board has proper values in 0,1 and 2 places?"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1507159012, "post_id": 46575480, "comment_id": 80104566, "body": "Try chaning if condition to <code>if(board[0] == &quot;X&quot; &amp;&amp; board[1] == &quot;X&quot; &amp;&amp; board[2] == &quot;X&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "is_accepted": false, "score": 0, "last_activity_date": 1507158674, "creation_date": 1507158674, "answer_id": 46575521, "question_id": 46575480, "link": "https://stackoverflow.com/questions/46575480/c-how-to-compare-multiple-array-values-strings-in-if-statement/46575521#46575521", "title": "C# How to compare multiple array values (strings) in if-statement?", "body": "<p>Change <code>board[0].Equals(board[1]).Equals(board[2]).Equals(\"X\")</code> to <code>String.Equals(board[0], board[1]) &amp;&amp; String.Equals(board[1], board[2]) &amp;&amp; String.Equals(board[2], \"X\")</code>.</p>\n\n<p>Here's <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/strings/how-to-compare-strings\" rel=\"nofollow noreferrer\">documentation on comparing strings</a> in c#.</p>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 1, "last_activity_date": 1507158694, "creation_date": 1507158694, "answer_id": 46575525, "question_id": 46575480, "link": "https://stackoverflow.com/questions/46575480/c-how-to-compare-multiple-array-values-strings-in-if-statement/46575525#46575525", "title": "C# How to compare multiple array values (strings) in if-statement?", "body": "<p>In c#, you can't use</p>\n\n<pre><code>if (a == b == c)\n</code></pre>\n\n<p>Instead you have to be explicit:</p>\n\n<pre><code>if (a == b &amp;&amp; b == c)\n</code></pre>\n\n<p>So instead of</p>\n\n<pre><code>board[0].Equals(board[1]).Equals(board[2]).Equals(\"X\")\n</code></pre>\n\n<p>You have to write</p>\n\n<pre><code>board[0] == \"X\" &amp;&amp; board[1] == \"X\" &amp;&amp; board[2] == \"X\"\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8679570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b44fdff490b934e94e6f2af89232cd5?s=128&d=identicon&r=PG&f=1", "display_name": "Ivo Mitev", "link": "https://stackoverflow.com/users/8679570/ivo-mitev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "accepted_answer_id": 46575525, "answer_count": 2, "score": -1, "last_activity_date": 1507158694, "creation_date": 1507158360, "question_id": 46575480, "link": "https://stackoverflow.com/questions/46575480/c-how-to-compare-multiple-array-values-strings-in-if-statement", "title": "C# How to compare multiple array values (strings) in if-statement?", "body": "<p>I am making a tic-tac-toe game using an array. And to see if someone wins I have to check if there is a winning combination.\nHere's my array with the board</p>\n\n<pre><code>string[] board = new string[9] { \" \", \" \", \" \", \" \", \" \", \" \" , \" \", \" \", \" \" };\n</code></pre>\n\n<p>At first, the board is empty. Then the 2 players start to place 'X's and 'O's.\nBut I can't compare, for example, if the first line is full of 'X's.\nThe code below doesn't work for some reason. And I don't know why?</p>\n\n<pre><code>board[0].Equals(board[1]).Equals(board[2]).Equals(\"X\")\n</code></pre>\n\n<p>I also tried with <code>board[0]==board[1]==board[2]==\"X\"</code></p>\n\n<p>Here is the complete if-statement (these are the winning combinations):</p>\n\n<pre><code>if (table[0].Equals(table[1]).Equals(table[2]).Equals(\"X\") || table[3].Equals(table[4]).Equals(table[5]).Equals(\"X\") || table[6].Equals(table[7]).Equals(table[8]).Equals(\"X\") ||\n            table[0].Equals(table[3]).Equals(table[6]).Equals(\"X\") || table[1].Equals(table[4]).Equals(table[7]).Equals(\"X\") || table[2].Equals(table[5]).Equals(table[8]).Equals(\"X\") ||\n            table[0].Equals(table[4]).Equals(table[8]).Equals(\"X\") || table[7].Equals(table[4]).Equals(table[3]).Equals(\"X\"))\n        {\n            return true;\n        }\n</code></pre>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios", "xamarin-studio", "ios11"], "comments": [{"owner": {"reputation": 2065, "user_id": 5474400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6w6U5.jpg?s=128&g=1", "display_name": "Kevin Li", "link": "https://stackoverflow.com/users/5474400/kevin-li"}, "edited": false, "score": 0, "creation_date": 1507172985, "post_id": 46575479, "comment_id": 80107575, "body": "You may try to unload and reload the project. Or clean the bin and obj folder to have a try."}, {"owner": {"reputation": 196, "user_id": 1328147, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35343bbedb32da50b66b4d08c8a0a0e1?s=128&d=identicon&r=PG", "display_name": "DavidShepard", "link": "https://stackoverflow.com/users/1328147/davidshepard"}, "reply_to_user": {"reputation": 2065, "user_id": 5474400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6w6U5.jpg?s=128&g=1", "display_name": "Kevin Li", "link": "https://stackoverflow.com/users/5474400/kevin-li"}, "edited": false, "score": 0, "creation_date": 1507230251, "post_id": 46575479, "comment_id": 80139027, "body": "@Kevin. I tried both of your suggestions to no avail. Any other thoughts?"}], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 1328147, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35343bbedb32da50b66b4d08c8a0a0e1?s=128&d=identicon&r=PG", "display_name": "DavidShepard", "link": "https://stackoverflow.com/users/1328147/davidshepard"}, "is_accepted": false, "score": 0, "last_activity_date": 1507234643, "creation_date": 1507234643, "answer_id": 46594125, "question_id": 46575479, "link": "https://stackoverflow.com/questions/46575479/using-statements-broken-after-upgrading-to-ios-11-xamarin-ios/46594125#46594125", "title": "Using statements broken after upgrading to IOS 11 Xamarin.IOS", "body": "<p>It seems that after having updated Visual Studio, my project format was automatically set to MSBuild (Visual Studio 2012). This is what was causing the errors. I just had to <strong>Right-Click on my project ->Tools->Convert Solution Format->select MSBuild (Visual Studio 2017)->Export</strong>\nHope this helps anyone who came across a similar issue.</p>\n"}], "owner": {"reputation": 196, "user_id": 1328147, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35343bbedb32da50b66b4d08c8a0a0e1?s=128&d=identicon&r=PG", "display_name": "DavidShepard", "link": "https://stackoverflow.com/users/1328147/davidshepard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507234643, "creation_date": 1507158359, "question_id": 46575479, "link": "https://stackoverflow.com/questions/46575479/using-statements-broken-after-upgrading-to-ios-11-xamarin-ios", "title": "Using statements broken after upgrading to IOS 11 Xamarin.IOS", "body": "<p>I recently updated Xcode and Visual Studio 2017 for mac to be able to develop for IOS 11. When that happened, almost all of my code from my old project is underlined in red and eve some basic using statements seem to be broken. For example: <code>\nusing Foundation;\nusing ObjCRuntime;\nusing UIKit;</code>\nAll of these are broken and when I try to run, build, or even clean my project, I get the following error:</p>\n\n<pre><code>Error: /Users/davidshepard/Projects/NewEPA/NewEPA/NewEPA.csproj: Object reference not set to an instance of an object (NewEPA)\n</code></pre>\n\n<p>Is this a problem with the new version of Visual studio and Xamarin that I am unaware of. I spent about an hour scrolling through Bugzilla and couldn't find any similar issues, so it may just be that I need to configure my old project to work with the new Xamarin?\nAny help would be greatly appreciated!</p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "asp.net-core-mvc", "hosting"], "comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1507195560, "post_id": 46575387, "comment_id": 80117011, "body": "<a href=\"https://github.com/aspnet/Hosting/issues/1137\" rel=\"nofollow noreferrer\">Related issue on GitHub</a> (also the <i>very first result</i> on Google when searching for the error message)"}], "answers": [{"tags": [], "owner": {"reputation": 11775, "user_id": 1735918, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oo9j7.jpg?s=128&g=1", "display_name": "Z. Danev", "link": "https://stackoverflow.com/users/1735918/z-danev"}, "is_accepted": false, "score": 0, "last_activity_date": 1507158259, "creation_date": 1507158259, "answer_id": 46575469, "question_id": 46575387, "link": "https://stackoverflow.com/questions/46575387/net-core-2-0-minimal-webhost-with-routes/46575469#46575469", "title": ".NET Core 2.0 Minimal WebHost with Routes", "body": "<p>add the following in BuildWebHost:</p>\n\n<pre><code>WebHost.CreateDefaultBuilder(args)\n   // ... other Web Host configuration calls\n   .UseSetting(WebHostDefaults.ApplicationKey, \"[Application Name]\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "is_accepted": false, "score": 4, "last_activity_date": 1507166180, "last_edit_date": 1592644375, "creation_date": 1507166180, "answer_id": 46576427, "question_id": 46575387, "link": "https://stackoverflow.com/questions/46575387/net-core-2-0-minimal-webhost-with-routes/46576427#46576427", "title": ".NET Core 2.0 Minimal WebHost with Routes", "body": "<p>The answer to your question is on the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/hosting?tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">same page you linked</a>:</p>\n<blockquote>\n<h1>Troubleshooting System.ArgumentException</h1>\n<h3>Applies to ASP.NET Core 2.0 Only</h3>\n<p>If you build the host by injecting <code>IStartup</code> directly into the dependency injection container rather than calling <code>UseStartup</code> or <code>Configure</code>, you may encounter the following error: <code>Unhandled Exception: System.ArgumentException: A valid non-empty application name must be provided.</code></p>\n<p>This occurs because the <code>applicationName(ApplicationKey)</code> (the current assembly) is required to scan for <code>HostingStartupAttributes</code>. If you manually inject <code>IStartup</code> into the dependency injection container, add the following call to your <code>WebHostBuilder</code> with the assembly name specified:</p>\n</blockquote>\n<pre><code>WebHost.CreateDefaultBuilder(args)\n    .UseSetting(&quot;applicationName&quot;, &quot;&lt;Assembly Name&gt;&quot;)\n    ...\n</code></pre>\n<blockquote>\n<p>Alternatively, add a dummy <code>Configure</code> to your <code>WebHostBuilder</code>, which sets the <code>applicationName(ApplicationKey)</code> automatically:</p>\n</blockquote>\n<pre><code>WebHost.CreateDefaultBuilder(args)\n    .Configure(_ =&gt; { })\n    ...\n</code></pre>\n<blockquote>\n<p>NOTE: This is only required with the ASP.NET Core 2.0 release and only when you don't call <code>UseStartup</code> or <code>Configure</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 87, "user_id": 2455414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f008c6b0106158c51f0fd7e4a7864957?s=128&d=identicon&r=PG", "display_name": "Sauceman", "link": "https://stackoverflow.com/users/2455414/sauceman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1507166180, "creation_date": 1507157746, "question_id": 46575387, "link": "https://stackoverflow.com/questions/46575387/net-core-2-0-minimal-webhost-with-routes", "title": ".NET Core 2.0 Minimal WebHost with Routes", "body": "<p>I'm trying to create an absolute minimal WebHost targeting netcoreapp2.0.\nI've been refering to this without success: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/hosting?tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/hosting?tabs=aspnetcore2x</a></p>\n\n<pre><code>using System;\nusing Microsoft.AspNetCore;\nusing Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.AspNetCore.Routing;\nusing Microsoft.AspNetCore.Http;\n\nnamespace netcore_pi_project\n{\n    class Program\n    {\n\n        public static void Main(string[] args)\n        {\n            BuildWebHost(args);\n\n            using (var host = WebHost.Start(router =&gt; router\n                .MapGet(\"volu\", (req, res, data) =&gt; \n                    res.WriteAsync($\"ps aux\".Bash()))\n                .MapGet(\"vold\", (req, res, data) =&gt; \n                    res.WriteAsync($\"ps aux\".Bash()))))\n            {\n                Console.WriteLine(\"Core Volume project running..\");\n                host.WaitForShutdown();\n            }\n        }\n\n        public static IWebHost BuildWebHost(string[] args) =&gt;\n            WebHost.CreateDefaultBuilder(args)\n                .UseUrls(\"http://localhost:5000\")\n                .Build();\n    }\n}\n</code></pre>\n\n<p>This builds but won't run:</p>\n\n<blockquote>\n  <p>Unhandled Exception: System.ArgumentException: A valid non-empty application name must be provided.\n  Parameter name: applicationName\n     at Microsoft.AspNetCore.Hosting.Internal.HostingEnvironmentExtensions.Initialize(IHostingEnvironment hostingEnvironment, String applicationName, String contentRootPath, WebHostOptions options)\n     at Microsoft.AspNetCore.Hosting.WebHostBuilder.BuildCommonServices(AggregateException&amp; hostingStartupErrors)\n     at Microsoft.AspNetCore.Hosting.WebHostBuilder.Build()\n     at netcore_pi_project.Program.BuildWebHost(String[] args) in /Users/owe-macpro/projects/netcore-pi-project/Program.cs:line 31\n     at netcore_pi_project.Program.Main(String[] args) in /Users/owe-macpro/projects/netcore-pi-project/Program.cs:line 17</p>\n</blockquote>\n"}, {"tags": ["c#", "wpf", "encryption", "rsa", "app-config"], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 6817057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ad9fa6a0a12b08a6c0d8ec8d63d6c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Jansz", "link": "https://stackoverflow.com/users/6817057/jan-jansz"}, "is_accepted": false, "score": 0, "last_activity_date": 1510862922, "creation_date": 1510862922, "answer_id": 47338257, "question_id": 46575287, "link": "https://stackoverflow.com/questions/46575287/encrypting-app-config-section-and-deploying-to-multiple-machines/47338257#47338257", "title": "Encrypting App.Config Section and deploying to multiple machines", "body": "<p>Looking for answers myself. However, in your case, if I'm not mistaken, you have to do step #2 -- export the RSA key.</p>\n\n<p><a href=\"https://magenic.com/thinking/encrypting-configuration-sections-in-net\" rel=\"nofollow noreferrer\">https://magenic.com/thinking/encrypting-configuration-sections-in-net</a></p>\n"}, {"comments": [{"owner": {"reputation": 2549, "user_id": 823321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrwbB.png?s=128&g=1", "display_name": "s\u0250un\u0131\u0254\u05df\u0250q\u0250p", "link": "https://stackoverflow.com/users/823321/s%c9%90un%c4%b1%c9%94%d7%9f%c9%90q%c9%90p"}, "edited": false, "score": 0, "creation_date": 1529043046, "post_id": 50869813, "comment_id": 88741607, "body": "(This post does not seem to provide a <a href=\"https://stackoverflow.com/help/how-to-answer\">quality answer</a> to the question. Please either edit your answer, or just post it as a comment to the question)."}], "tags": [], "owner": {"reputation": 1, "user_id": 9138416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKfY7.jpg?s=128&g=1", "display_name": "qweeerty78", "link": "https://stackoverflow.com/users/9138416/qweeerty78"}, "is_accepted": false, "score": 0, "last_activity_date": 1537808089, "last_edit_date": 1537808089, "creation_date": 1529042007, "answer_id": 50869813, "question_id": 46575287, "link": "https://stackoverflow.com/questions/46575287/encrypting-app-config-section-and-deploying-to-multiple-machines/50869813#50869813", "title": "Encrypting App.Config Section and deploying to multiple machines", "body": "<p>for winform RsaProtectedConfigurationProvider key may take system ip or hard disk number etc details to do custom key which will be different for each system and so  encryption of app.config before building will not work. SO TRY TO RUN CODE to encrypt in postbuild event of exe </p>\n"}], "owner": {"reputation": 337, "user_id": 4039150, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/727d368a14cd6ebdca88a6ba9bb03f49?s=128&d=identicon&r=PG&f=1", "display_name": "nessa", "link": "https://stackoverflow.com/users/4039150/nessa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2903, "favorite_count": 3, "answer_count": 2, "score": 4, "last_activity_date": 1537808089, "creation_date": 1507157100, "question_id": 46575287, "link": "https://stackoverflow.com/questions/46575287/encrypting-app-config-section-and-deploying-to-multiple-machines", "title": "Encrypting App.Config Section and deploying to multiple machines", "body": "<p>I've done a lot of reading around and am trying to encrypt a section in a WPF App.Config file. I am not using the  default section, but rather a custom one . I have an app where the user specifices a .config file and the app reads this file in order to update keys.</p>\n\n<p>In order to decrypt and encrypt my file section I am using the following code: </p>\n\n<pre><code>var configMap = new ExeConfigurationFileMap { ExeConfigFilename = this.FileName };\nvar config = ConfigurationManager.OpenMappedExeConfiguration(configMap, ConfigurationUserLevel.None);\nvar configSection = config.GetSection(Section);\n\nif (!configSection.SectionInformation.IsProtected)\n   if (!configSection.ElementInformation.IsLocked)\n     {\n          configSection.SectionInformation.ProtectSection(\"RsaProtectedConfigurationProvider\");\n          configSection.SectionInformation.ForceSave = true;\n          config.Save(ConfigurationSaveMode.Full);\n     }\n</code></pre>\n\n<p>and to Decrypt: </p>\n\n<pre><code>var configMap = new ExeConfigurationFileMap { ExeConfigFilename = this.FileName };\nvar config = ConfigurationManager.OpenMappedExeConfiguration(configMap, ConfigurationUserLevel.None);\nvar configSection = config.GetSection(Section);\n\nif (configSection.SectionInformation.IsProtected)\n{\n    configSection.SectionInformation.UnprotectSection();\n    configSection.SectionInformation.ForceSave = true;\n    config.Save(ConfigurationSaveMode.Full);\n}\n</code></pre>\n\n<p>The problem I am facing is that if I have a file that is encrypted on Machine A and I place the file on Machine B, I cannot decrypt the .config file because the encryption was done on Machine A. </p>\n\n<p>I've tried to follow the steps in several articles that recommend using aspnet_regiis to create and export key containers (<a href=\"https://msdn.microsoft.com/en-us/library/yxw286t2.aspx\" rel=\"nofollow noreferrer\">link</a>) and (<a href=\"https://stackoverflow.com/questions/9721568/deploying-pre-encrypted-configuration-files-to-a-production-environment\">link</a>) but maybe i'm doing something wrong. My guess is that because i'm not using aspnet_regiis in order to encrypt the file or to decrypt the file I get stuck. Is there a way to do this without using the aspnet_regiis tool and the command line? </p>\n\n<p>A lot of the information around is more for web.config vs app.config. Again, this is for a C#/WPF application using MVVM.</p>\n\n<p>I was also looking at custom encryption (custom data provider), but all the examples i've seen are for web.config (<a href=\"https://msdn.microsoft.com/en-us/library/wfc2t3az.aspx\" rel=\"nofollow noreferrer\">link</a>). </p>\n"}, {"tags": ["c#", "winforms", "c#-4.0", "bulk-load", "bulkloader"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507164228, "post_id": 46575091, "comment_id": 80105775, "body": "You forgot to dispose the image, use <code>using</code>."}, {"owner": {"reputation": 1, "user_id": 8723057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0410383130e923164b499376b0d76f7?s=128&d=identicon&r=PG&f=1", "display_name": "nickaldri", "link": "https://stackoverflow.com/users/8723057/nickaldri"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507309228, "post_id": 46575091, "comment_id": 80173028, "body": "How it is done?"}], "owner": {"reputation": 1, "user_id": 8723057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0410383130e923164b499376b0d76f7?s=128&d=identicon&r=PG&f=1", "display_name": "nickaldri", "link": "https://stackoverflow.com/users/8723057/nickaldri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507155852, "creation_date": 1507155852, "question_id": 46575091, "link": "https://stackoverflow.com/questions/46575091/how-to-handle-more-than-a-thousand-images-in-the-listview-of-winforms", "title": "How to handle more than a thousand images in the ListView of winforms?", "body": "<p>Hello StackOverFlow Community,</p>\n\n<p>I am trying to load more than a thousand images in my listview but Im getting the OutOfMemoryException. I want to be able to load the images as the user scroll down like a lazy loading experience. how can I achieve that successfully having the following c# code below already?</p>\n\n<pre><code>private void btnAddImg_Click(object sender, EventArgs e)\n    {\n        OpenFileDialog ofd = new OpenFileDialog();\n        ofd.Multiselect = true;\n        DialogResult dr = ofd.ShowDialog();\n        if(dr == DialogResult.OK)\n        {\n\n\n                foreach (string filename in ofd.FileNames)\n                {\n                    Image img = Image.FromFile(filename);\n                    string a = c.ToString();\n\n\n                    imageList1.Images.Add(a, img);\n\n                    var listViewItem = listView1.Items.Add(\"\");\n\n                    listViewItem.ImageKey = a;\n\n                    c++;\n                }\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf", "multithreading", "reactiveui"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1507155343, "post_id": 46574940, "comment_id": 80103531, "body": "You are not creating any new thread? Maybe you are not familiar with the concept of Task. Read <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/async\" rel=\"nofollow noreferrer\">this article</a> for information"}, {"owner": {"reputation": 9946, "user_id": 1025407, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b1d0712a91d7eb5dcccdfcde0e3d7bb8?s=128&d=identicon&r=PG", "display_name": "SuperJMN", "link": "https://stackoverflow.com/users/1025407/superjmn"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1507156553, "post_id": 46574940, "comment_id": 80103939, "body": "@CamiloTerevinto. No, I&#39;m not creating any new Thread. Where am I creating a Thread? For what I know, a Task DOES NOT involve the creation of any Thread. Do you know if WebClient.DownloadStringTaskAsync method is running the task on a different thread?"}, {"owner": {"reputation": 9946, "user_id": 1025407, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b1d0712a91d7eb5dcccdfcde0e3d7bb8?s=128&d=identicon&r=PG", "display_name": "SuperJMN", "link": "https://stackoverflow.com/users/1025407/superjmn"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1507156857, "post_id": 46574940, "comment_id": 80104033, "body": "@CamiloTerevinto Can you, please, tell me whether Task.FromResult( () =&gt; 1) runs on a new Thread? Stop downvoting without a reason, please, and start giving useful answers. Otherwise, let other people do."}, {"owner": {"reputation": 1382, "user_id": 1228288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8c4cf1236bc1f645a72a834af68857c2?s=128&d=identicon&r=PG", "display_name": "me--", "link": "https://stackoverflow.com/users/1228288/me"}, "edited": false, "score": 4, "creation_date": 1507160055, "post_id": 46574940, "comment_id": 80104790, "body": "@SuperJMN do you have a stack trace for the exception? I suspect something else is triggering this as a result of the command execution. The reactive command will guarantee output is delivered via <code>RxApp.MainThreadScheduler</code>, so I&#39;m guessing there&#39;s something else going on here..."}, {"owner": {"reputation": 9946, "user_id": 1025407, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b1d0712a91d7eb5dcccdfcde0e3d7bb8?s=128&d=identicon&r=PG", "display_name": "SuperJMN", "link": "https://stackoverflow.com/users/1025407/superjmn"}, "reply_to_user": {"reputation": 1382, "user_id": 1228288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8c4cf1236bc1f645a72a834af68857c2?s=128&d=identicon&r=PG", "display_name": "me--", "link": "https://stackoverflow.com/users/1228288/me"}, "edited": false, "score": 0, "creation_date": 1507198407, "post_id": 46574940, "comment_id": 80118992, "body": "@me-- Please, check the OP. I&#39;ve added the stack trace."}], "answers": [{"comments": [{"owner": {"reputation": 9946, "user_id": 1025407, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b1d0712a91d7eb5dcccdfcde0e3d7bb8?s=128&d=identicon&r=PG", "display_name": "SuperJMN", "link": "https://stackoverflow.com/users/1025407/superjmn"}, "edited": false, "score": 1, "creation_date": 1507201712, "post_id": 46584078, "comment_id": 80121101, "body": "Thank you, Kent! But I&#39;m not passing any CanExecute pipeline. The Command is created with the line <code>ReactiveCommand.CreateFromTask(DownloadString);</code> So I&#39;m only passing the Task. Can you, please, run the code? With those simple lines you will be able to reproduce the problem."}], "tags": [], "owner": {"reputation": 164846, "user_id": 5380, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2922ec8522180d86a8825b715aa765dc?s=128&d=identicon&r=PG", "display_name": "Kent Boogaart", "link": "https://stackoverflow.com/users/5380/kent-boogaart"}, "is_accepted": true, "score": 2, "last_activity_date": 1507243600, "last_edit_date": 1507243600, "creation_date": 1507201370, "answer_id": 46584078, "question_id": 46574940, "link": "https://stackoverflow.com/questions/46574940/reactiveui-command-concurrency-webclient/46584078#46584078", "title": "ReactiveUI Command concurrency (WebClient)", "body": "<p>Judging by the stack trace, you are passing a <code>canExecute</code> pipeline into the command. For any pipeline you provide, you are responsible for ensuring it ticks on the correct thread. If it ticks on a background thread, the commands <code>CanExecute</code> event will tick on that same thread and the UI will therefore attempt to update the <code>IsEnabled</code> property on the associated <code>Button</code> from the wrong thread.</p>\n\n<p>So you likely need to add an <code>ObserveOn</code> call against your <code>canExecute</code> pipeline.</p>\n\n<p>UPDATE: answered <a href=\"https://github.com/reactiveui/ReactiveUI/issues/1498\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 9946, "user_id": 1025407, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b1d0712a91d7eb5dcccdfcde0e3d7bb8?s=128&d=identicon&r=PG", "display_name": "SuperJMN", "link": "https://stackoverflow.com/users/1025407/superjmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 46584078, "answer_count": 1, "score": 4, "last_activity_date": 1507243600, "creation_date": 1507155001, "last_edit_date": 1507198385, "question_id": 46574940, "link": "https://stackoverflow.com/questions/46574940/reactiveui-command-concurrency-webclient", "title": "ReactiveUI Command concurrency (WebClient)", "body": "<p>I'm using the latest prerelease of RxUI 8, but I think this would happen in prior versions.</p>\n\n<p>I have defined this ReactiveCommand in my WPF application:</p>\n\n<pre><code>GetWebsiteCommand = ReactiveCommand.CreateFromTask(DownloadString);\n\nprivate async Task&lt;string&gt; DownloadString()\n{\n    using (var client = new WebClient())\n    {\n        return await client.DownloadStringTaskAsync(\"http://www.google.es\");\n    }\n}\n</code></pre>\n\n<p>When the command is executed, the following exception is thrown:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException' at System.Reactive.Core.dll: The\n  calling thread cannot access this object because a different thread\n  owns it</p>\n</blockquote>\n\n<p>Why is this happening? I'm not creating any new thread!</p>\n\n<p>This is the Stack Trace:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException' at System.Reactive.Core.dll: The\n  calling thread cannot access this object because a different thread\n  owns it</p>\n</blockquote>\n\n<pre><code> at System.Windows.Threading.Dispatcher.VerifyAccess()\n   at System.Windows.DependencyObject.GetValue(DependencyProperty dp)\n   at System.Windows.Controls.Primitives.ButtonBase.get_Command()\n   at System.Windows.Controls.Primitives.ButtonBase.UpdateCanExecute()\n   at System.Windows.Controls.Primitives.ButtonBase.OnCanExecuteChanged(Object sender, EventArgs e)\n   at System.Windows.Input.CanExecuteChangedEventManager.HandlerSink.OnCanExecuteChanged(Object sender, EventArgs e)\n   at ReactiveUI.ReactiveCommand.OnCanExecuteChanged()\n   at ReactiveUI.ReactiveCommand`2.&lt;.ctor&gt;b__9_5(Boolean _)\n   at System.Reactive.AnonymousSafeObserver`1.OnNext(T value)\n   at System.Reactive.Linq.ObservableImpl.RefCount`1._.OnNext(TSource value)\n   at System.Reactive.Subjects.FastImmediateObserver`1.EnsureActive(Int32 count)\n   at System.Reactive.Subjects.FastImmediateObserver`1.EnsureActive()\n   at System.Reactive.Subjects.ReplaySubject`1.ReplayBase.OnNext(T value)\n   at System.Reactive.Subjects.ReplaySubject`1.OnNext(T value)\n   at System.Reactive.Linq.ObservableImpl.AsObservable`1._.OnNext(TSource value)\n   at System.Reactive.Linq.ObservableImpl.DistinctUntilChanged`2._.OnNext(TSource value)\n   at System.Reactive.Linq.ObservableImpl.CombineLatest`3._.S.OnNext(TSecond value)\n   at System.Reactive.Linq.ObservableImpl.RefCount`1._.OnNext(TSource value)\n   at System.Reactive.Subjects.FastImmediateObserver`1.EnsureActive(Int32 count)\n   at System.Reactive.Subjects.FastImmediateObserver`1.EnsureActive()\n   at System.Reactive.Subjects.ReplaySubject`1.ReplayBase.OnNext(T value)\n   at System.Reactive.Subjects.ReplaySubject`1.OnNext(T value)\n   at System.Reactive.Linq.ObservableImpl.AsObservable`1._.OnNext(TSource value)\n   at System.Reactive.Linq.ObservableImpl.DistinctUntilChanged`2._.OnNext(TSource value)\n   at System.Reactive.Linq.ObservableImpl.Concat`1._.OnNext(TSource value)\n   at System.Reactive.Linq.ObservableImpl.Select`2._.OnNext(TSource value)\n   at System.Reactive.SafeObserver`1.OnNext(TSource value)\n   at System.Reactive.ScheduledObserver`1.Dispatch(ICancelable cancel)\n   at System.Reactive.Concurrency.Scheduler.&lt;&gt;c.&lt;ScheduleLongRunning&gt;b__72_0(Action`1 a, ICancelable c)\n   at System.Reactive.Concurrency.DefaultScheduler.LongRunning.&lt;&gt;c__DisplayClass1_0`1.&lt;ScheduleLongRunning&gt;b__0(Object arg)\n   at System.Reactive.Concurrency.ConcurrencyAbstractionLayerImpl.&lt;&gt;c__DisplayClass7_0.&lt;StartThread&gt;b__0()\n   at System.Threading.ThreadHelper.ThreadStart_Context(Object state)\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)\n   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)\n   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.ThreadHelper.ThreadStart()\n</code></pre>\n"}, {"tags": ["c#", "direct3d", "sharpdx", "direct2d"], "comments": [{"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1507183520, "post_id": 46574897, "comment_id": 80110624, "body": "SharpDX is a modern .NET projection, so it&#39;s a little different than the legacy Managed DirectX 1.1 assemblies. If you need an identical replacement, that&#39;s what SlimDX is really good for."}, {"owner": {"reputation": 5694, "user_id": 199364, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75807746d41c9905452d252595f7b89d?s=128&d=identicon&r=PG", "display_name": "ToolmakerSteve", "link": "https://stackoverflow.com/users/199364/toolmakersteve"}, "reply_to_user": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1507313024, "post_id": 46574897, "comment_id": 80175032, "body": "@ChuckWalbourn - Thank you; I agree. Indeed I used SlimDX as a stepping-stone, a first step away from the legacy solution. However, now my goal is to update to a modern, actively developed replacement. The next logical increment is SharpDX&#39;s Direct2D1 and Direct3D9. There seems to be a near complete absence of information on the necessary conversion process. (Eventually I will move to SharpDX.Direct3D11 or 12, but that is a bigger change.)"}], "answers": [{"tags": [], "owner": {"reputation": 5694, "user_id": 199364, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75807746d41c9905452d252595f7b89d?s=128&d=identicon&r=PG", "display_name": "ToolmakerSteve", "link": "https://stackoverflow.com/users/199364/toolmakersteve"}, "is_accepted": true, "score": 0, "last_activity_date": 1507403193, "last_edit_date": 1507403193, "creation_date": 1507154782, "answer_id": 46574907, "question_id": 46574897, "link": "https://stackoverflow.com/questions/46574897/converting-from-microsoft-direct2d-direct3d-managed-api-to-sharpdx-missing-cla/46574907#46574907", "title": "Converting from Microsoft Direct2D/Direct3D managed API to SharpDX - missing class RenderStateManager, type conversions, other issues", "body": "<p>As issues are resolved, listed here:</p>\n\n<hr>\n\n<p>Methods that return an HRESULT are <code>void</code> in SharpDX. For example, using <code>Direct2D1</code>, consider <code>renderTarget.EndDraw()</code>.<br>\nSolution: errors are thrown as <code>SharpDXException</code>:</p>\n\n<pre><code>try {\n    renderTarget.EndDraw();\n} catch (SharpDXException ex) {\n    if (ex.HResult == ...)\n        ...\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/q/46610072/199364\">Additional details here.</a></p>\n\n<hr>\n\n<p>using Microsoft.DirectX =><br>\n  <strong>Include from Nuget:<br>\n  - SharpDX<br>\n  - SharpDX.Mathematics</strong></p>\n\n<p>using SharpDX;<br>\n  using SharpDX.Mathematics;<br>\n  using SharpDX.Mathematics.Interop;</p>\n\n<ul>\n<li><p>class <strong>Vector3</strong> => SharpDX.<strong>Mathematics.Vector3</strong><br>\nOR SharpDX.<strong>Mathematics.Interop.RawVector3</strong>  </p></li>\n<li><p>given a <code>Drawing.RectangleF rect</code>, convert to <code>SharpDX.Mathematics.Interop.RawRectangleF</code>:<br>\n<code>new RawRectangleF(rect.Left, rect.Top, rect.Right, rect.Bottom);</code></p></li>\n<li><p>... other conversions, shown in VB code below.</p></li>\n</ul>\n\n<p>VB helper module:</p>\n\n<pre><code>Imports System.Runtime.CompilerServices\n\nImports SharpDX.Mathematics.Interop\n\nModule SharpDXExtensions\n\n    &lt;Extension()&gt;\n    Function AsRawVector2(point As Drawing.PointF) As RawVector2\n        Return New RawVector2(point.X, point.Y)\n    End Function\n\n\n    &lt;Extension()&gt;\n    Function AsRawColor4(color As Drawing.Color) As RawColor4\n        Return New RawColor4(B255ToOne(color.R), B255ToOne(color.G), B255ToOne(color.B), B255ToOne(color.A))\n    End Function\n\n    ' \"Byte\" \"red\" in range \"0..255\"; convert to range \"\"0.0..1.0\".\n    ' See my explanation in middle of: https://stackoverflow.com/a/46575472/199364\n    Function B255ToOne(red As Byte) As Single\n        ' This formula results in equally-spaced values in the float domain.\n        Return (red / 255.0F)\n    End Function\n\n    ' \"red\" in range \"0.0..1.0\"; convert to range \"0..255\".\n    Function OneTo255(red As Single) As Byte\n        ' This formula most closely matches the incoming values, and minimizes \"round-trip\" error.\n        ' See my explanation: https://stackoverflow.com/a/46575472/199364\n        Return CByte(Math.Round(red * 255.0))\n        ' Many people instead use a formula like this.\n        ' From version of formula I added to this answer: https://stackoverflow.com/a/1914172/199364\n        'Return CByte(Math.Max(0, Math.Min(255, CInt(Math.Floor(red * 256.0F)))))\n    End Function\n\n\n    &lt;Extension()&gt;\n    Function AsRawRectangle(rect As Drawing.Rectangle) As RawRectangle\n        Return New RawRectangle(rect.Left, rect.Top, rect.Right, rect.Bottom)\n    End Function\n\n\n    Function NewRectangleF(point As Drawing.Point, size As Drawing.Size) As SharpDX.RectangleF\n        Return New RectangleF(point.X, point.Y, size.Width, size.Height)\n    End Function\n\nEnd Module\n</code></pre>\n\n<ul>\n<li>BitmapBrushProperties.HorizontalExtendMode => .ExtendModeX</li>\n<li>BitmapBrushProperties.VerticalExtendMode => .ExtendModeY</li>\n<li>Ellipse.Center => Ellipse.Point</li>\n<li>Matrix3x2.Scale => Matrix3x2.Scaling</li>\n<li>SharpDX.Matrix3x2.Rotation: old: angles in degrees; new: angles in <strong>radians</strong>.</li>\n</ul>\n\n<hr>\n\n<p>using Microsoft.DirectX.Direct3D => using SharpDX.Direct3D9:</p>\n\n<ul>\n<li>class <strong>RenderStateManager</strong>, and therefore missing field <strong>Device.RenderState</strong> => <strong>Device.GetRenderState/SetRenderState</strong>, where parameter specifies which state.<br>\nEx: <code>if (device.RenderState.Lighting)</code> =><br>\n<code>if (device.GetRenderState(RenderState.Lighting))</code></li>\n</ul>\n"}], "owner": {"reputation": 5694, "user_id": 199364, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75807746d41c9905452d252595f7b89d?s=128&d=identicon&r=PG", "display_name": "ToolmakerSteve", "link": "https://stackoverflow.com/users/199364/toolmakersteve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 46574907, "answer_count": 1, "score": 1, "last_activity_date": 1507588076, "creation_date": 1507154729, "last_edit_date": 1507588076, "question_id": 46574897, "link": "https://stackoverflow.com/questions/46574897/converting-from-microsoft-direct2d-direct3d-managed-api-to-sharpdx-missing-cla", "title": "Converting from Microsoft Direct2D/Direct3D managed API to SharpDX - missing class RenderStateManager, type conversions, other issues", "body": "<p>Because SharpDX is an automatically generated wrapper over C++ APIs, I assumed it would be easy to convert from Microsoft's older <code>Microsoft.DirectX.Direct3D</code> managed API to SharpDX (as part of upgrading from .NET 3.5 to .NET 4.5+, and eventually from 32-bit process to 64-bit process).</p>\n\n<p>However I am encountering some incompatibilities and missing features (classes, enums).</p>\n\n<p>As a first step, I am starting with <code>SharpDX.Direct3D9</code>, as I believe that is closest to the older API.</p>\n\n<p>But I do have the latest SharpDX sources, so I have been searching ALL the SharpDX library sources, in case the missing features do appear in a newer version of Direct3D.</p>\n\n<p>Google searches have not shed any light on what to do about these issues.</p>\n\n<p>Unfortunately, I am not familiar with these features, and the code I am updating has no documentation, so it seems that I will have to first learn what the managed code was doing, then learn how to do the equivalent in one of the C++ DirectX APIs, so I know what the equivalent SharpDX calls should be. </p>\n\n<p><strong>Suggestions for any of these issues, to shorten my learning time?</strong></p>\n\n<hr>\n\n<p><strong>UNRESOLVED ISSUES</strong></p>\n\n<p><strong>Missing</strong> from Microsoft.DirectX.Direct3D => SharpDX.Direct3D9/10/11:</p>\n\n<ul>\n<li>enum <strong>TextureStageStates</strong></li>\n<li>field (LightsCollection) Device.Lights</li>\n</ul>\n\n<hr>\n\n<p><strong>RESOLVED ISSUES</strong></p>\n\n<p><a href=\"https://stackoverflow.com/a/46574907/199364\">See my answer.</a></p>\n"}, {"tags": ["c#", "asp.net-mvc", "routes", "url-routing", "asp.net-mvc-routing"], "answers": [{"tags": [], "owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "is_accepted": false, "score": 4, "last_activity_date": 1507159974, "last_edit_date": 1507159974, "creation_date": 1507156042, "answer_id": 46575123, "question_id": 46574825, "link": "https://stackoverflow.com/questions/46574825/how-do-i-construct-my-action-method-for-a-specific-route-asp-net-mvc/46575123#46575123", "title": "How do I construct my action method for a specific route Asp.Net MVC", "body": "<p>You have set up routing to match the URL, but you haven't told MVC where to send the request. MapRoute works by using <em>route values</em>, which can either be defaulted to specific values or passed through the URL. But, you are doing neither.</p>\n\n<blockquote>\n  <p><strong>NOTE:</strong> The <code>controller</code> and <code>action</code> route values are required in MVC.</p>\n</blockquote>\n\n<h2>Option 1: add default route values.</h2>\n\n<pre><code>    routes.MapRoute(\n        name: \"Rate\",\n        url: \"Rate/Student/Event/{id}\",\n        defaults: new { controller = \"Rate\", action = \"Student\" }\n    );\n\n    routes.MapRoute(\n        name: \"Rate\",\n        url: \"Rate/Teacher/Event/{id}\",\n        defaults: new { controller = \"Rate\", action = \"Teacher\" }\n    );\n</code></pre>\n\n<h2>Option 2: pass the route values through the URL.</h2>\n\n<pre><code>    routes.MapRoute(\n        name: \"Rate\",\n        url: \"{controller}/{action}/Event/{id}\"\n    );\n</code></pre>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517768235, "creation_date": 1507154306, "last_edit_date": 1517768235, "question_id": 46574825, "link": "https://stackoverflow.com/questions/46574825/how-do-i-construct-my-action-method-for-a-specific-route-asp-net-mvc", "title": "How do I construct my action method for a specific route Asp.Net MVC", "body": "<p>I have two routes I'm trying to create to use like</p>\n\n<blockquote>\n  <p>www.mysite.com/Rate/Student/Event/123</p>\n  \n  <p>www.mysite.com/Rate/Teacher/Event/1234</p>\n</blockquote>\n\n<pre><code>routes.MapRoute(\n    name: \"Rate\",\n    url: \"Rate/Student/Event/{id}\"\n);\n\nroutes.MapRoute(\n    name: \"Rate\",\n    url: \"Rate/Teacher/Event/{id}\"\n);\n</code></pre>\n\n<p>How do I construct the action methods?</p>\n\n<p>Here is what I have in my Rate controller</p>\n\n<pre><code>public ActionResult Student(int id)\n{\n    return View();\n}\n\npublic ActionResult Teacher(int id)\n{\n    return View();\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1507154087, "post_id": 46574750, "comment_id": 80103104, "body": "What are <code>fileName</code>, <code>fileName2</code>, and <code>fileName3</code>?"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1507154974, "post_id": 46574750, "comment_id": 80103421, "body": "<i>I get a &quot;Could not find a part of the path &#39;E:\\Web Sites\\myNet\\Ztest\\TrailerPics\\&#39;.&quot;</i> That doesn&#39;t look like a file name. Which line throws the error?"}, {"owner": {"reputation": 1, "user_id": 5145892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb15e5e58500bf27129fa2f1b8a4960?s=128&d=identicon&r=PG&f=1", "display_name": "Mesaboogie1970", "link": "https://stackoverflow.com/users/5145892/mesaboogie1970"}, "edited": false, "score": 0, "creation_date": 1507209101, "post_id": 46574750, "comment_id": 80125918, "body": "Amy... I&#39;m using those to store the file name that was selected.  Debugging shows the correct file name"}, {"owner": {"reputation": 1, "user_id": 5145892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb15e5e58500bf27129fa2f1b8a4960?s=128&d=identicon&r=PG&f=1", "display_name": "Mesaboogie1970", "link": "https://stackoverflow.com/users/5145892/mesaboogie1970"}, "edited": false, "score": 0, "creation_date": 1507209160, "post_id": 46574750, "comment_id": 80125966, "body": "Sach according to debugger &quot;Attachment addon = new Attachment(Server.MapPath(&quot;~/TrailerPics/&quot; + fileName));&quot; throws the error"}], "owner": {"reputation": 1, "user_id": 5145892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb15e5e58500bf27129fa2f1b8a4960?s=128&d=identicon&r=PG&f=1", "display_name": "Mesaboogie1970", "link": "https://stackoverflow.com/users/5145892/mesaboogie1970"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507153909, "creation_date": 1507153909, "question_id": 46574750, "link": "https://stackoverflow.com/questions/46574750/c-codebehind-error-when-using-webforms-front-end", "title": "C# CodeBehind Error When Using Webforms Front End", "body": "<p>I'm attempting to learn about generating an email with attachment(s) using C# CodeBehind. I would like the web page to use the FileUpload control or something similar to select the file on the network.</p>\n\n<p>I get a \"Could not find a part of the path 'E:\\Web Sites\\myNet\\Ztest\\TrailerPics\\'.\"</p>\n\n<p>I'm wondering if I'm on the right path... or if there is a better approach.</p>\n\n<p>Thx for any help ~j</p>\n\n<p>Here is my code:</p>\n\n<pre><code>protected void Button1_Click(object sender, EventArgs e)\n    {\n        //Get file names from the fileUpload control\n        var fileName = Path.GetFileName(FileUpload1.PostedFile.FileName);\n        var fileName2 = Path.GetFileName(FileUpload2.PostedFile.FileName);\n        var fileName3 = Path.GetFileName(FileUpload3.PostedFile.FileName);\n\n\n        //Code block to send email with keyed data\n        try\n        {\n            MailMessage mail = new MailMessage();\n            mail.From = new MailAddress(\"DoNotReply@smiley.com\");\n            mail.To.Add(\"guy.smiley@sesamestreet.com\");\n            mail.Subject = (\"IMG\");\n            mail.IsBodyHtml = true;\n\n            var client = new SmtpClient(\"mailout.smiley.com\", 25);\n            string htmlBody;\n\n            htmlBody = string.Format(\"Email Testing for attaching an image\");\n\n            mail.Body = htmlBody;\n\n            //Create the instance of attachments by using the mapped path concatenated with the file name\n            Attachment addon = new Attachment(Server.MapPath(\"~/TrailerPics/\" + fileName));\n            Attachment addon2 = new Attachment(Server.MapPath(\"~/TrailerPics/\" + fileName2));\n            Attachment addon3 = new Attachment(Server.MapPath(\"~/TrailerPics/\" + fileName3));\n\n            //Add the attachments as long as the fileUpload control has a file selected\n            if (FileUpload1.PostedFile.FileName != \"\")\n            {                    \n                mail.Attachments.Add(addon);                    \n            }\n\n            if (FileUpload2.PostedFile.FileName != \"\")\n            {                    \n                mail.Attachments.Add(addon2);                    \n            }\n\n            if (FileUpload3.PostedFile.FileName != \"\")\n            {                   \n                mail.Attachments.Add(addon3);                   \n            }\n\n            //Send mail\n            client.Send(mail);\n\n            //Notify that email was sent\n            ScriptManager.RegisterClientScriptBlock(this, this.GetType(), \"alertMessage\", \"alert('Email Sent!')\", true);\n\n            //Close all connections to the files \n            if (FileUpload1.PostedFile.FileName != \"\")\n            {\n                addon.Dispose();\n            }\n\n            if (FileUpload2.PostedFile.FileName != \"\")\n            {\n                addon2.Dispose();\n            }\n\n            if (FileUpload3.PostedFile.FileName != \"\")\n            {\n                addon3.Dispose();\n            }\n\n        }\n\n        catch(Exception ex)\n        {\n            //inform user that the email failed\n            errorLabel.Text = \"Something went wrong with the email : \" + ex.Message;\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 412, "user_id": 2788979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLHu8.jpg?s=128&g=1", "display_name": "Farzan Mirheydari", "link": "https://stackoverflow.com/users/2788979/farzan-mirheydari"}, "edited": false, "score": 0, "creation_date": 1507157544, "post_id": 46574739, "comment_id": 80104220, "body": "What is the error you are getting?"}, {"owner": {"reputation": 81, "user_id": 3260446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fb414d1fcedead73d09df33c0615463a?s=128&d=identicon&r=PG&f=1", "display_name": "Babak irannezhad", "link": "https://stackoverflow.com/users/3260446/babak-irannezhad"}, "reply_to_user": {"reputation": 412, "user_id": 2788979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLHu8.jpg?s=128&g=1", "display_name": "Farzan Mirheydari", "link": "https://stackoverflow.com/users/2788979/farzan-mirheydari"}, "edited": false, "score": 0, "creation_date": 1507184232, "post_id": 46574739, "comment_id": 80110884, "body": "@FarzanMirheydari, These codes have a logical error,after update a list of records in Tbl_TechnicalProp_Values, if i want to add new records to Tbl_TechnicalProp_Values the previous  that I updated them removed and new records instead of them added."}, {"owner": {"reputation": 594, "user_id": 4772993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZVyLNWZsijA/AAAAAAAAAAI/AAAAAAAAAJk/gqOLBSdMfF0/photo.jpg?sz=128", "display_name": "Johan Herstad", "link": "https://stackoverflow.com/users/4772993/johan-herstad"}, "edited": false, "score": 0, "creation_date": 1507221242, "post_id": 46574739, "comment_id": 80134308, "body": "Are you sure you need to call _context.Update(item) within the for loop? Normally EF Core tracks changes so they will get updated when you call savechanges anyway."}, {"owner": {"reputation": 81, "user_id": 3260446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fb414d1fcedead73d09df33c0615463a?s=128&d=identicon&r=PG&f=1", "display_name": "Babak irannezhad", "link": "https://stackoverflow.com/users/3260446/babak-irannezhad"}, "reply_to_user": {"reputation": 594, "user_id": 4772993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZVyLNWZsijA/AAAAAAAAAAI/AAAAAAAAAJk/gqOLBSdMfF0/photo.jpg?sz=128", "display_name": "Johan Herstad", "link": "https://stackoverflow.com/users/4772993/johan-herstad"}, "edited": false, "score": 0, "creation_date": 1507225499, "post_id": 46574739, "comment_id": 80136648, "body": "Thanks @JohanHerstad ,I can solve this problem by removing the last _context.Update(qTechProp) with make a new Tbl_TechnicalProp_Values that doesn&#39;t related to previous updated recordes"}], "owner": {"reputation": 81, "user_id": 3260446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fb414d1fcedead73d09df33c0615463a?s=128&d=identicon&r=PG&f=1", "display_name": "Babak irannezhad", "link": "https://stackoverflow.com/users/3260446/babak-irannezhad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1853, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509123345, "creation_date": 1507153852, "last_edit_date": 1509123345, "question_id": 46574739, "link": "https://stackoverflow.com/questions/46574739/how-to-do-both-add-and-update-in-entity-framework-core", "title": "How to do both Add and Update in Entity Framework Core?", "body": "<p>I want to do both update and add in same action method in ASP.NET Core by Entity Framework Core, but after making an update to a lists of records in the database, I cannot add a new record to the table that the updates were made in. </p>\n\n<p>What is my mistake?</p>\n\n<p>After adding a list in the <code>Tbl_TechnicalProp_Values</code> previous records that I updated them removed and new records added:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Edit(int id, [Bind(\"ID,TopicID,Title\")] Tbl_TechnicalProp tbl_TechnicalProp, string[] ProdPropValUp, string[] ProdPropVal)\n{\n     _context.Update(tbl_TechnicalProp);\n     await _context.SaveChangesAsync();\n\n     var q = _context.Tbl_TechnicalProp_Values\n                     .Where(a =&gt; a.TechnicalPropID == tbl_TechnicalProp.ID)\n                     .ToList();\n\n     int n = 0;\n\n     foreach (var item in q)\n     {\n           item.Value = ProdPropValUp[n];\n           _context.Update(item);\n           n++;\n     }\n\n     _context.SaveChanges();\n\n     var qTechProp = _context.Tbl_TechnicalProp\n                             .Where(a =&gt; a.ID == tbl_TechnicalProp.ID)\n                             .Single();\n\n    qTechProp.Tbl_TechnicalProp_Values= new List&lt;Tbl_TechnicalProp_Values&gt;();\n\n     for (int i = 0; i &lt; ProdPropVal.Count(); i++)\n     {\n         if (ProdPropVal[i] != null &amp;&amp; ProdPropVal[i] != \"\")\n         {\n            qTechProp.Tbl_TechnicalProp_Values.Add(new Tbl_TechnicalProp_Values()\n            {\n                Value = ProdPropVal[i]\n             });\n          }\n     }\n\n      _context.Update(qTechProp);\n      await _context.SaveChangesAsync();\n}\n</code></pre>\n"}, {"tags": ["c#", "html", "http", "thick-client"], "comments": [{"owner": {"reputation": 12353, "user_id": 64157, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05c464e1200aa91a096c4667f9b59609?s=128&d=identicon&r=PG", "display_name": "HaukurHaf", "link": "https://stackoverflow.com/users/64157/haukurhaf"}, "edited": false, "score": 1, "creation_date": 1507153173, "post_id": 46574599, "comment_id": 80102741, "body": "There are libraries out there which make it extremely simple to implement basic HTTP servers.  One example is this one: <a href=\"https://github.com/qoollo/SharpHttpServer\" rel=\"nofollow noreferrer\">github.com/qoollo/SharpHttpServer</a>  Available as a nuget package.  Search for &quot;Quollo.SharpHTTPServer&quot;."}, {"owner": {"reputation": 731, "user_id": 1934865, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe31fc51648ab0ec84698396780c39d?s=128&d=identicon&r=PG&f=1", "display_name": "TheCatWhisperer", "link": "https://stackoverflow.com/users/1934865/thecatwhisperer"}, "reply_to_user": {"reputation": 12353, "user_id": 64157, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05c464e1200aa91a096c4667f9b59609?s=128&d=identicon&r=PG", "display_name": "HaukurHaf", "link": "https://stackoverflow.com/users/64157/haukurhaf"}, "edited": false, "score": 0, "creation_date": 1507153281, "post_id": 46574599, "comment_id": 80102780, "body": "@HaukurHaf this seems to be exactly what I was looking for, googled for a while and did not find this."}, {"owner": {"reputation": 731, "user_id": 1934865, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe31fc51648ab0ec84698396780c39d?s=128&d=identicon&r=PG&f=1", "display_name": "TheCatWhisperer", "link": "https://stackoverflow.com/users/1934865/thecatwhisperer"}, "reply_to_user": {"reputation": 12353, "user_id": 64157, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05c464e1200aa91a096c4667f9b59609?s=128&d=identicon&r=PG", "display_name": "HaukurHaf", "link": "https://stackoverflow.com/users/64157/haukurhaf"}, "edited": false, "score": 0, "creation_date": 1507153496, "post_id": 46574599, "comment_id": 80102870, "body": "@HaukurHaf although, there does not seem to be good documentation on how to consume it"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1507153825, "post_id": 46574599, "comment_id": 80103008, "body": "@TheCatWhisperer I&#39;m sorry but this is not the place for asking that kind of questions. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 731, "user_id": 1934865, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe31fc51648ab0ec84698396780c39d?s=128&d=identicon&r=PG&f=1", "display_name": "TheCatWhisperer", "link": "https://stackoverflow.com/users/1934865/thecatwhisperer"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1507154014, "post_id": 46574599, "comment_id": 80103078, "body": "@CamiloTerevinto I understand... any appropriate SE for asking for framework/code recommendations?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1507154166, "post_id": 46574599, "comment_id": 80103135, "body": "Unfortunately, not really, as they tend to be opinionated/spam which is what this site strives to avoid."}, {"owner": {"reputation": 731, "user_id": 1934865, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe31fc51648ab0ec84698396780c39d?s=128&d=identicon&r=PG&f=1", "display_name": "TheCatWhisperer", "link": "https://stackoverflow.com/users/1934865/thecatwhisperer"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1507154260, "post_id": 46574599, "comment_id": 80103170, "body": "@CamiloTerevinto I see; guess I&#39;ll have to role my own :(   Will take as much time as I planned to devote to the other parts of this project"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1507154402, "post_id": 46574599, "comment_id": 80103225, "body": "Do notice, though, that ASP.NET Core provides the ability to host an application without requiring IIS, as an .exe/dll  application, both for .NET and .NET Core. &quot;Kestrel is a cross-platform HTTP server based on libuv, a cross-platform asynchronous I/O library. HTTP.sys is a Windows-only HTTP server based on the Http.Sys kernel driver.&quot;"}], "owner": {"reputation": 731, "user_id": 1934865, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe31fc51648ab0ec84698396780c39d?s=128&d=identicon&r=PG&f=1", "display_name": "TheCatWhisperer", "link": "https://stackoverflow.com/users/1934865/thecatwhisperer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507153002, "creation_date": 1507153002, "question_id": 46574599, "link": "https://stackoverflow.com/questions/46574599/net-what-is-the-best-way-to-make-a-locally-running-web-application-that-can-p", "title": "(.net) What is the best way to make a locally running web application that can ported to IIS later?", "body": "<p>I would like to make a command line exe application that serves dynamic content via http. However, at least for now, I don't want it to undergo any setup that requires the user to have IIS. </p>\n\n<p>It will not have to serve any heavy loads, just take one request at a time from the local user.</p>\n\n<p>Reasons for wanting this:</p>\n\n<ol>\n<li><p>I want it to look nice, and I have more experience in html/css than in thick client display frameworks, and I don't have a lot of time to devote to this project</p></li>\n<li><p>I want people to be able to run it without knowing how to configure IIS</p></li>\n<li><p>If enough people find it useful, I want to be able to easily convert it to a full-fledged web application later</p></li>\n</ol>\n\n<p>Are there established methods for making this happen aside from setting up a System.Net.WebRequest listenier and writing parsing code?</p>\n"}, {"tags": ["c#", "asp.net", "listbox", "multi-select"], "comments": [{"owner": {"reputation": 13578, "user_id": 1129416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wiJtE.jpg?s=128&g=1", "display_name": "Jaqen H&#39;ghar", "link": "https://stackoverflow.com/users/1129416/jaqen-hghar"}, "edited": false, "score": 0, "creation_date": 1507153417, "post_id": 46574583, "comment_id": 80102840, "body": "What do you mean by my code is not working? This code as it is seems to select 1 2 and 5 in the <code>ListBox</code>"}, {"owner": {"reputation": 648, "user_id": 3361650, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/84fd66f3c92515f9d2a45a2ca507a0ab?s=128&d=identicon&r=PG&f=1", "display_name": "orbnexus", "link": "https://stackoverflow.com/users/3361650/orbnexus"}, "reply_to_user": {"reputation": 13578, "user_id": 1129416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wiJtE.jpg?s=128&g=1", "display_name": "Jaqen H&#39;ghar", "link": "https://stackoverflow.com/users/1129416/jaqen-hghar"}, "edited": false, "score": 0, "creation_date": 1507153666, "post_id": 46574583, "comment_id": 80102940, "body": "The expected result is what i am expecting but the code is not selecting anything"}, {"owner": {"reputation": 13578, "user_id": 1129416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wiJtE.jpg?s=128&g=1", "display_name": "Jaqen H&#39;ghar", "link": "https://stackoverflow.com/users/1129416/jaqen-hghar"}, "edited": false, "score": 3, "creation_date": 1507154014, "post_id": 46574583, "comment_id": 80103079, "body": "Where did you place the code behind? in the <code>Page_Load</code>? I just tested it and it worked... Are you sure there&#39;s nothing else that deselects the items?"}], "answers": [{"comments": [{"owner": {"reputation": 13221, "user_id": 206730, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/7gTXP.jpg?s=128&g=1", "display_name": "Kiquenet", "link": "https://stackoverflow.com/users/206730/kiquenet"}, "edited": false, "score": 0, "creation_date": 1524648122, "post_id": 46575321, "comment_id": 87053093, "body": "<code>List&lt;string&gt; items</code> not have <b><i>Item or Value</i></b> properties?"}], "tags": [], "owner": {"reputation": 50, "user_id": 8437559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ec602b56b58c6e96ac794c369faff2b5?s=128&d=identicon&r=PG&f=1", "display_name": "NoobProgger", "link": "https://stackoverflow.com/users/8437559/noobprogger"}, "is_accepted": false, "score": 0, "last_activity_date": 1507157299, "creation_date": 1507157299, "answer_id": 46575321, "question_id": 46574583, "link": "https://stackoverflow.com/questions/46574583/populate-comma-separated-string-to-multi-select-listbox-in-asp-net-c/46575321#46575321", "title": "Populate comma separated string to multi select ListBox in Asp.net - C#", "body": "<p>ASPX.CS: (Code)</p>\n\n<pre><code>string listboxvalues = \"2,1,5\";\n\n//declare a list\n\nList&lt;string&gt; items = new List&lt;string&gt;()\n\nfor (int i = 0; i &lt; ListBox1.Items.Count; i++)\n{\n    foreach (string category in listboxvalues.ToString().Split(','))\n    {\n        if (category != ListBox1.Items[i].Value) continue;\n            items.Add(category);\n            break;\n    }\n}\n\n//then in your ListBox1\n\nlistBox1.DataSource = items;\n        listBox1.DisplayMember = \"Item\";\n        listBox1.ValueMember = \"Value\";\n</code></pre>\n"}], "owner": {"reputation": 648, "user_id": 3361650, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/84fd66f3c92515f9d2a45a2ca507a0ab?s=128&d=identicon&r=PG&f=1", "display_name": "orbnexus", "link": "https://stackoverflow.com/users/3361650/orbnexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1173, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507157299, "creation_date": 1507152880, "last_edit_date": 1507153688, "question_id": 46574583, "link": "https://stackoverflow.com/questions/46574583/populate-comma-separated-string-to-multi-select-listbox-in-asp-net-c", "title": "Populate comma separated string to multi select ListBox in Asp.net - C#", "body": "<p>I have a List Box which i want to get selected from a comma separated string but my code is not working.</p>\n\n<h1>ASPX:</h1>\n\n<pre><code>&lt;asp:ListBox ID=\"ListBox1\" runat=\"server\" SelectionMode=\"Multiple\"&gt;\n    &lt;asp:ListItem Value=\"1\"&gt;aaa&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"2\"&gt;bbb&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"3\"&gt;ccc&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"4\"&gt;ddd&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"5\"&gt;eee&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"6\"&gt;fff&lt;/asp:ListItem&gt;\n&lt;/asp:ListBox&gt;\n</code></pre>\n\n<h1>ASPX.CS: (Code)</h1>\n\n<pre><code>string listboxvalues = \"2,1,5\";\nfor (int i = 0; i &lt; ListBox1.Items.Count; i++)\n{\n    foreach (string category in listboxvalues.ToString().Split(','))\n    {\n        if (category != ListBox1.Items[i].Value) continue;\n            ListBox1.Items[i].Selected = true;\n            break;\n    }\n}\n</code></pre>\n\n<h1>Expected Result: (The expected result is what i am expecting but the code is not selecting anything)</h1>\n\n<pre><code>&lt;asp:ListBox ID=\"ListBox1\" runat=\"server\" SelectionMode=\"Multiple\"&gt;\n    &lt;asp:ListItem Value=\"1\" Selected=\"True\"&gt;aaa&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"2\" Selected=\"True\"&gt;bbb&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"3\"&gt;ccc&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"4\"&gt;ddd&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"5\" Selected=\"True\"&gt;eee&lt;/asp:ListItem&gt;\n    &lt;asp:ListItem Value=\"6\"&gt;fff&lt;/asp:ListItem&gt;\n&lt;/asp:ListBox&gt;\n</code></pre>\n"}, {"tags": ["c#", "roslyn"], "answers": [{"comments": [{"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1507208886, "post_id": 46575119, "comment_id": 80125762, "body": "Taking a guess without testing it: <code>\\u0061\\u0062\\u0063</code> probably has a <code>Text</code> of <code>\\u0061\\u0062\\u0063</code> and a <code>ValueText</code> of <code>abc</code>."}, {"owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 0, "creation_date": 1507294915, "post_id": 46575119, "comment_id": 80164534, "body": "Number literals is another possibility: <code>1.2f</code>; Text is <code>1.2f</code>, ValueText is <code>1.2</code>."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 11, "last_activity_date": 1507156020, "creation_date": 1507156020, "answer_id": 46575119, "question_id": 46574525, "link": "https://stackoverflow.com/questions/46574525/in-what-situation-might-text-be-different-from-valuetext/46575119#46575119", "title": "In what situation might Text be different from ValueText", "body": "<blockquote>\n  <p>Why do both exist? </p>\n</blockquote>\n\n<p>Because they're sometimes different and both are useful.</p>\n\n<blockquote>\n  <p>In what situation would they be different, and why?</p>\n</blockquote>\n\n<pre><code>int @interface = 123;\n</code></pre>\n\n<p>The <code>Text</code> of the <code>@interface</code> token is <code>@interface</code>.  The <code>ValueText</code> is <code>interface</code>.  The text tell you <em>what is the text as it appeared in the source code</em>.  The value text tells you <em>logically, what is the text of this thing?</em> An escaped keyword used as an identifier is logically the text of the keyword; that's the name of the identifier.</p>\n\n<p>There are other situations in which the text and the value text can be different; see if you can find some.</p>\n"}], "owner": {"reputation": 2805, "user_id": 2578509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c74a33d2abf4afca62828083a5cd8789?s=128&d=identicon&r=PG", "display_name": "M-Pixel", "link": "https://stackoverflow.com/users/2578509/m-pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1507156020, "creation_date": 1507152608, "question_id": 46574525, "link": "https://stackoverflow.com/questions/46574525/in-what-situation-might-text-be-different-from-valuetext", "title": "In what situation might Text be different from ValueText", "body": "<p>In Roslyn (Microsoft.CodeAnalysis), <code>SyntaxToken</code>s have <code>Text</code> and <code>ValueText</code> fields. In all of the situations that I've observed so far, these two values are the same. <code>ValueText</code> has documentation while <code>Text</code> does not. As far as I can tell, that's the only difference.</p>\n\n<p>Why do both exist? In what situation would they be different, and why?</p>\n"}, {"tags": ["c#", "configuration", ".net-core", "asp.net-core-webapi", "asp.net-core-2.0"], "answers": [{"comments": [{"owner": {"reputation": 2027, "user_id": 241004, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h60RD.png?s=128&g=1", "display_name": "Jawad Al Shaikh", "link": "https://stackoverflow.com/users/241004/jawad-al-shaikh"}, "edited": false, "score": 1, "creation_date": 1507153436, "post_id": 46574602, "comment_id": 80102850, "body": "So what happens when user adding it manually beside its being set by default? it seems no warns or errors appeared!"}, {"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "reply_to_user": {"reputation": 2027, "user_id": 241004, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h60RD.png?s=128&g=1", "display_name": "Jawad Al Shaikh", "link": "https://stackoverflow.com/users/241004/jawad-al-shaikh"}, "edited": false, "score": 5, "creation_date": 1507153606, "post_id": 46574602, "comment_id": 80102910, "body": "As with any other registration in ASP.NET Core DI, the <b>last</b> registration is used whenever anyone requests that service from the <code>IServiceProvider</code>. Because, in your case, the registration is the same, nothing changes (you have now two identical registrations for the same service)."}], "tags": [], "owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "is_accepted": true, "score": 17, "last_activity_date": 1507153812, "last_edit_date": 1507153812, "creation_date": 1507153014, "answer_id": 46574602, "question_id": 46574521, "link": "https://stackoverflow.com/questions/46574521/is-services-addsingletoniconfiguration-really-needed-in-net-core-2-api/46574602#46574602", "title": "Is services.AddSingleton&lt;IConfiguration&gt; really needed in .net core 2 API", "body": "<p>As the <a href=\"https://github.com/aspnet/Home/wiki/Roadmap#configuration--web-host-defaults\" rel=\"noreferrer\">official roadmap for ASP.NET Core 2.0</a> says:</p>\n\n<blockquote>\n  <p>An <code>IConfiguration</code> instance will be added to the services container by default in ASP.NET Core 2.0, so that all applications can easily retrieve configuration values via the container</p>\n</blockquote>\n\n<p>So <code>services.AddSingleton&lt;IConfiguration&gt;</code> (or similar) is already called by the framework itself.</p>\n\n<p>You may see this behavior inside <a href=\"https://github.com/aspnet/Hosting/blob/a63932a492513cdeb4935661145084cad2ae5521/src/Microsoft.AspNetCore.Hosting/WebHostBuilder.cs#L255\" rel=\"noreferrer\"><code>WebHostBuilder.cs</code></a> file or (when using the utility extension methods) inside <a href=\"https://github.com/aspnet/Hosting/blob/253be73b6fbc4a23b52080bd5e9d5161eb6cfe37/src/Microsoft.Extensions.Hosting/HostBuilder.cs#L179\" rel=\"noreferrer\"><code>HostBuilder.cs</code></a> file.</p>\n"}, {"comments": [{"owner": {"reputation": 2282, "user_id": 3271600, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/Jp5D8.png?s=128&g=1", "display_name": "GvSharma", "link": "https://stackoverflow.com/users/3271600/gvsharma"}, "edited": false, "score": 0, "creation_date": 1601957476, "post_id": 56849028, "comment_id": 113560157, "body": "AddSingleton is not accessible"}], "tags": [], "owner": {"reputation": 99, "user_id": 11615299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326a80e012b69abcaf965b46ee74fad2?s=128&d=identicon&r=PG&f=1", "display_name": "Ozmen", "link": "https://stackoverflow.com/users/11615299/ozmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1562058682, "creation_date": 1562058682, "answer_id": 56849028, "question_id": 46574521, "link": "https://stackoverflow.com/questions/46574521/is-services-addsingletoniconfiguration-really-needed-in-net-core-2-api/56849028#56849028", "title": "Is services.AddSingleton&lt;IConfiguration&gt; really needed in .net core 2 API", "body": "<p>I am not sure if it is needed.But we have appsettings.local.json and if we do not add this in program.cs, we can not read datas from appsetting.local.json.\nso In program.cs we add <code>ConfigureServices</code> statament  in <code>CreateWebHostBuilder</code> method at <code>program.cs</code></p>\n\n<pre><code>var webHostBuilder = WebHost.CreateDefaultBuilder(args)\n                    .UseApplicationInsights()\n                    .ConfigureServices(services =&gt; services.AddSingleton&lt;IConfiguration&gt;(config))\n                    .UseStartup&lt;Startup&gt;();\n</code></pre>\n"}], "owner": {"reputation": 2027, "user_id": 241004, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h60RD.png?s=128&g=1", "display_name": "Jawad Al Shaikh", "link": "https://stackoverflow.com/users/241004/jawad-al-shaikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8704, "favorite_count": 1, "accepted_answer_id": 46574602, "answer_count": 2, "score": 10, "last_activity_date": 1562058682, "creation_date": 1507152594, "last_edit_date": 1507153920, "question_id": 46574521, "link": "https://stackoverflow.com/questions/46574521/is-services-addsingletoniconfiguration-really-needed-in-net-core-2-api", "title": "Is services.AddSingleton&lt;IConfiguration&gt; really needed in .net core 2 API", "body": "<p>I accessed appsettings.json In .NET Core 2 Web API Controller simply by adding below:</p>\n\n<pre><code>public class MyController : Controller\n    {\n        private readonly IConfiguration appConfig;\n\n        public MyController(IConfiguration configuration)\n        {\n            appConfig = configuration;\n        }\n    }\n</code></pre>\n\n<p>Without adding below in Startup class <em>ConfigureServices(IServiceCollection services)</em> after services.AddMvc();:</p>\n\n<pre><code>services.AddSingleton&lt;IConfiguration&gt;(Configuration);\n</code></pre>\n\n<p>Is there any flaws in my approach? In official docs for .Net Core 2 configuration section, its not mentioned to use 'AddSingleton' not even once: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration</a></p>\n\n<p>also by searching I couldn't find related content with accessing configuration!\n<a href=\"https://docs.microsoft.com/en-us/search/index?search=AddSingleton&amp;scope=ASP.NET+Core\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/search/index?search=AddSingleton&amp;scope=ASP.NET+Core</a></p>\n\n<p>Links below shows <em>AddSingleton as if mandatory step</em>:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/38359219/access-appsettings-json-values-in-controller-classes\">Access appsettings.json values in controller classes</a></p>\n\n<p><a href=\"https://blogs.technet.microsoft.com/dariuszporowski/tip-of-the-week-how-to-access-configuration-from-controller-in-asp-net-core-2-0/\" rel=\"noreferrer\">https://blogs.technet.microsoft.com/dariuszporowski/tip-of-the-week-how-to-access-configuration-from-controller-in-asp-net-core-2-0/</a></p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1507153107, "post_id": 46574501, "comment_id": 80102715, "body": "Why would you want to do that at all? IsAsync usually makes no sense in a Binding to a property of type ImageSource, because derived classes like BitmapImage already support asynchronous loading scenarios."}, {"owner": {"reputation": 561, "user_id": 1107424, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a30b72ac6a306ae1e9fd013f53b9e3b?s=128&d=identicon&r=PG", "display_name": "Josef Nemec", "link": "https://stackoverflow.com/users/1107424/josef-nemec"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1507187768, "post_id": 46574501, "comment_id": 80112619, "body": "I have a big list of images in my app and I want to give users an option to choose between smooth scrolling (when IsAsync is enabled) and no &quot;pop-in&quot; of images in case they have slow HDD and it takes a while for images to appear when async is on (in that case IsAsync would be disabled)."}, {"owner": {"reputation": 2865, "user_id": 514449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7923daad889828d47db749580f070b58?s=128&d=identicon&r=PG&f=1", "display_name": "ASpirin", "link": "https://stackoverflow.com/users/514449/aspirin"}, "edited": false, "score": 0, "creation_date": 1507274172, "post_id": 46574501, "comment_id": 80152352, "body": "Create your own dependency property that would just set <code>IsAsync</code> based on provided value"}, {"owner": {"reputation": 561, "user_id": 1107424, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a30b72ac6a306ae1e9fd013f53b9e3b?s=128&d=identicon&r=PG", "display_name": "Josef Nemec", "link": "https://stackoverflow.com/users/1107424/josef-nemec"}, "reply_to_user": {"reputation": 2865, "user_id": 514449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7923daad889828d47db749580f070b58?s=128&d=identicon&r=PG&f=1", "display_name": "ASpirin", "link": "https://stackoverflow.com/users/514449/aspirin"}, "edited": false, "score": 0, "creation_date": 1507276160, "post_id": 46574501, "comment_id": 80153505, "body": "@ASpirin I can&#39;t do that because <code>Binding</code> is not <code>DependecyObject</code>, so I can&#39;t add dependency property to it."}], "owner": {"reputation": 561, "user_id": 1107424, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a30b72ac6a306ae1e9fd013f53b9e3b?s=128&d=identicon&r=PG", "display_name": "Josef Nemec", "link": "https://stackoverflow.com/users/1107424/josef-nemec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507273449, "creation_date": 1507152535, "last_edit_date": 1507273449, "question_id": 46574501, "link": "https://stackoverflow.com/questions/46574501/wpf-binding-value-of-binding-property", "title": "WPF binding value of Binding property", "body": "<p>I have an image with priority binding set like this:</p>\n\n<pre class=\"lang-xaml prettyprint-override\"><code>&lt;Image&gt;\n    &lt;Image.Source&gt;\n        &lt;PriorityBinding&gt;\n            &lt;Binding Path=\"Image\" IsAsync=\"True\" Mode=\"OneWay\"/&gt;\n            &lt;Binding Path=\"DefaultImage\" Mode=\"OneWay\" /&gt;\n        &lt;/PriorityBinding&gt;\n    &lt;/Image.Source&gt;\n&lt;/Image&gt;\n</code></pre>\n\n<p>What I want to do is to control <code>IsAsync</code> of first binding dynamically, something like this:</p>\n\n<pre class=\"lang-xaml prettyprint-override\"><code>&lt;Binding Path=\"Image\" IsAsync=\"{Binding AsyncImagesEnabled}\" Mode=\"OneWay\"/&gt;\n</code></pre>\n\n<p>But of course that can't be done because <code>IsAsync</code> is not dependency property. I've tried to use attached properties, but that fails because you can't convert <code>Binding</code> class to <code>DependencyObject</code>. Any ideas how to solve this?</p>\n\n<p><strong>Workaround Edit:</strong>\nSo currently I use following workaround. I use <code>StaticResource</code> (since dynamic can't be used for the reasons mentioned above.</p>\n\n<pre class=\"lang-xaml prettyprint-override\"><code>&lt;Binding Path=\"Image\" IsAsync=\"{StaticResource AsyncImagesEnabled}\" Mode=\"OneWay\"/&gt;\n</code></pre>\n\n<p>And then I create that resource at application startup:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>Resources.Add(\"AsyncImagesEnabled\", config.AsyncImageLoading);\n</code></pre>\n\n<p>This means that user has to restart application to apply the change, but I can live with that for now.</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server", "database"], "comments": [{"owner": {"reputation": 1280, "user_id": 1973651, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jvzoF.jpg?s=128&g=1", "display_name": "Circle Hsiao", "link": "https://stackoverflow.com/users/1973651/circle-hsiao"}, "edited": false, "score": 0, "creation_date": 1507183106, "post_id": 46574442, "comment_id": 80110438, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7154333/uploading-file-size-over-4-mb-in-net\">Uploading file size over 4 MB in .NET</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": false, "score": 0, "last_activity_date": 1507152414, "creation_date": 1507152414, "answer_id": 46574468, "question_id": 46574442, "link": "https://stackoverflow.com/questions/46574442/maximum-request-length-exceeded-in-sql-server-while-storing-from-asp-net-framewo/46574468#46574468", "title": "Maximum request length exceeded in SQL Server while storing from ASP.NET framework", "body": "<p>A good solution is to upload the files in chunks (with Javascript), then the limit isn't a problem - assuming the chunks are smaller than 4 MB ;)</p>\n"}, {"tags": [], "owner": {"reputation": 843, "user_id": 5218996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FPVPek2JnB8/AAAAAAAAAAI/AAAAAAAAADE/DGRyQY5yraE/photo.jpg?sz=128", "display_name": "Shiwanka Chathuranga", "link": "https://stackoverflow.com/users/5218996/shiwanka-chathuranga"}, "is_accepted": false, "score": 0, "last_activity_date": 1507176179, "creation_date": 1507176179, "answer_id": 46577660, "question_id": 46574442, "link": "https://stackoverflow.com/questions/46574442/maximum-request-length-exceeded-in-sql-server-while-storing-from-asp-net-framewo/46577660#46577660", "title": "Maximum request length exceeded in SQL Server while storing from ASP.NET framework", "body": "<p>try to upload first on disk</p>\n\n<p>Then , if succesfull, put into sql server( assuming sql server and web hosting on the same pc)</p>\n"}], "owner": {"reputation": 21, "user_id": 3473197, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/XY9Ra.jpg?s=128&g=1", "display_name": "Anurag Dixit", "link": "https://stackoverflow.com/users/3473197/anurag-dixit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507180276, "creation_date": 1507152268, "last_edit_date": 1507180276, "question_id": 46574442, "link": "https://stackoverflow.com/questions/46574442/maximum-request-length-exceeded-in-sql-server-while-storing-from-asp-net-framewo", "title": "Maximum request length exceeded in SQL Server while storing from ASP.NET framework", "body": "<p>I am working on my own project. I need to save the files that are more than 4 MB in size. I just want to know the solution of this problem because by default in IIS Server it has 4 MB in a request filtering section under IIS.</p>\n\n<p>I have also changed that by the reference of certain articles on web but did not find the exact solution of this problem. I think you geeks will understand my problem. And give me some valuable stuff.</p>\n\n<p>I have not writing any code because this issue is not like that or something like that code error.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", ".net", "unity3d", "garbage-collection", "mono"], "answers": [{"tags": [], "owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "is_accepted": true, "score": 17, "last_activity_date": 1507166547, "creation_date": 1507166547, "answer_id": 46576471, "question_id": 46574407, "link": "https://stackoverflow.com/questions/46574407/unitys-garbage-collector-why-non-generational-and-non-compacting/46576471#46576471", "title": "Unity&#39;s garbage collector - Why non-generational and non-compacting?", "body": "<p>You paid attention to the details, so here comes a story of the details you deserve.</p>\n\n<p>It was in early 2008 that Unity and Mono announced their collaboration, and at that time Unity licensed the Mono runtime (GPL covered for open source usage) so as to embed it. And the Boehm GC was the primary GC in Mono then.</p>\n\n<p>Time passed and Mono 4.x/5.x by default uses SGen GC with generational/compacting features. However, Unity did not want to pay the licensing again. Thus, you see the documentation remains it was.</p>\n\n<p>Microsoft acquired Xamarin in 2016, and hence gained control of Mono core assets. It republished the code base under MIT, so solving the licensing issue for ever. Unity joined .NET Foundation and started to work with Microsoft/Xamarin to incorporate the latest Mono runtime into the game engine.</p>\n\n<p>That effort is still undergoing and should soon reach maturity (currently an experimental feature).</p>\n\n<p>BTW, Unity cannot use the standard .NET GC yet. Microsoft does not open source its GC in .NET Framework, but a version in .NET Core. That GC is different from Mono's, and would require more efforts to be embedded into Unity. I guess that's why Mono 5 was chosen to be integrated right now. Maybe in the future Unity would migrate to the .NET Core GC.</p>\n\n<p>Some of the events can be found in the <a href=\"http://corefx.strikingly.com\" rel=\"noreferrer\">.NET timeline</a>.</p>\n"}], "owner": {"reputation": 225, "user_id": 5704533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/65JaQ.jpg?s=128&g=1", "display_name": "Wuszt", "link": "https://stackoverflow.com/users/5704533/wuszt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2198, "favorite_count": 6, "accepted_answer_id": 46576471, "answer_count": 1, "score": 8, "last_activity_date": 1511838291, "creation_date": 1507152157, "last_edit_date": 1511838291, "question_id": 46574407, "link": "https://stackoverflow.com/questions/46574407/unitys-garbage-collector-why-non-generational-and-non-compacting", "title": "Unity&#39;s garbage collector - Why non-generational and non-compacting?", "body": "<p>I've just read in <a href=\"https://docs.unity3d.com/Manual/BestPracticeUnderstandingPerformanceInUnity4-1.html?_ga=2.229794458.7281837.1506548901-930081816.1478720731\" rel=\"noreferrer\">Unity's docs</a> that</p>\n\n<blockquote>\n  <p>Unity\u2019s garbage collection \u2013 which uses the Boehm GC algorithm \u2013 is non-generational and non-compacting. \u201cNon-generational\u201d means that the GC must sweep through the entire heap when performing a collection pass, and its performance therefore degrades as the heap expands. \u201cNon-compacting\u201d means that objects in memory are not relocated in order to close gaps between objects.</p>\n</blockquote>\n\n<p>Does anyone of You knows or assumes why Unity aborts using standard .Net GC with generations and compacting? I made some tests and i'm really surprised that even objects from LOH are in generation 0 and probably GC's trying to collect them with small objects.</p>\n"}, {"tags": ["c#", "sql-server", "asynchronous", "ado.net"], "comments": [{"owner": {"reputation": 3375, "user_id": 1306784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/def6fc5a65ffb7361ef83abea0175210?s=128&d=identicon&r=PG", "display_name": "Xedni", "link": "https://stackoverflow.com/users/1306784/xedni"}, "edited": false, "score": 0, "creation_date": 1507152137, "post_id": 46574364, "comment_id": 80102340, "body": "It&#39;s usually not a big deal to leave the connection established, as long as it&#39;s just sitting idle and not, say, leaving a transaction open. There is a non-zero cost associated with establishing a connection to the database so if you&#39;re doing heavy traffic, closing and re-opening connections thousands of times a minute is going to start to be noticeable.  In that scenario, it&#39;s decidedly better to leave the connections established."}, {"owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1507152256, "post_id": 46574364, "comment_id": 80102395, "body": "Dispose of your resources as soon as you are finished with them.  Sql Connection pool will take care of prioritising for you as soon as you need to re-establish a connection."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5701381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/233f6698fa57263770d18485a98397b6?s=128&d=identicon&r=PG&f=1", "display_name": "hendoe", "link": "https://stackoverflow.com/users/5701381/hendoe"}, "edited": false, "score": 0, "creation_date": 1507160491, "post_id": 46574688, "comment_id": 80104871, "body": "Thanks for the response! But how do I close the connection in my case since it&#39;s asynchronous (APM)? Should I close the connection on the CommandCallback method? And what if there are thousands of requests being processed at the same time?"}], "tags": [], "owner": {"reputation": 69, "user_id": 8716726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04d6926cb9b5fc155f56cd4282cb7a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Smokerei", "link": "https://stackoverflow.com/users/8716726/smokerei"}, "is_accepted": true, "score": 0, "last_activity_date": 1507153490, "creation_date": 1507153490, "answer_id": 46574688, "question_id": 46574364, "link": "https://stackoverflow.com/questions/46574364/should-i-keep-my-sqlconnection-open-when-dealing-with-asynchronous-code-via-apm/46574688#46574688", "title": "Should I keep my SqlConnection open when dealing with asynchronous code via APM?", "body": "<p>The rule is clear: open connection and close it ASAP ;) of course in short. I've done pretty similar chat to yours recently and I dont care about connection. I open it when I need and I close it after getting data. The main reason is that when application opens connection in fact it don't realy... open it. Strange? Not really. There is something like connection pool where are coulpe of connections ready to use. Physically opening connection to db takes a long time therefore mentioned pool has been \"invented\". If your chat would be more and more popular try to switch websockets.</p>\n"}], "owner": {"reputation": 83, "user_id": 5701381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/233f6698fa57263770d18485a98397b6?s=128&d=identicon&r=PG&f=1", "display_name": "hendoe", "link": "https://stackoverflow.com/users/5701381/hendoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 46574688, "answer_count": 1, "score": 0, "last_activity_date": 1507153490, "creation_date": 1507151968, "question_id": 46574364, "link": "https://stackoverflow.com/questions/46574364/should-i-keep-my-sqlconnection-open-when-dealing-with-asynchronous-code-via-apm", "title": "Should I keep my SqlConnection open when dealing with asynchronous code via APM?", "body": "<p>I'm creating an application (it's a server) that uses a socket to receive data from different clients (a chat server) and has access to a database (Microsoft SQL Server).</p>\n\n<p>The server update loop looks like something like this:</p>\n\n<pre><code>void UpdateLoop()\n{\n    while(true)\n    {\n        ReceiveData();\n        ProcessData();\n    }\n}\n</code></pre>\n\n<p>Each time I receive a data (a string) from a client, this data will be saved to the database, using a stored procedure. Since it's single threaded and I want to avoid blocking operations, I opted to use the Asynchronous Programming Model (APM):</p>\n\n<pre><code>void ProcessData()\n{\n    var command = new SqlCommand(\"stored_procedure_name\", _connection);\n    command.CommandType = CommandType.StoredProcedure;\n\n    command.BeginExecuteNonQuery(CommandCallback, command);\n    /*at this point, we return to the UpdateLoop method and\n      the command keeps running asynchronously, avoid blocking\n      the whole thread and processing other requests.*/\n}\n\nvoid CommandCallback(IAsyncResult ar)\n{\n    var command = (SqlCommand)ar.AsyncState;\n    command.EndExecuteNonQuery(ar);\n}\n</code></pre>\n\n<p>As you can see above, the <strong>_connection</strong> variable represents the <em>SqlConnection</em> class, which holds the connection to the database. I open the connection at the start of the application and I only close it at the end of the application.</p>\n\n<p>I've read that it's better (and a good coding practice) to open the connection only when needed and disposing it immediately after the use, with the <em>using</em> statement, just like this:</p>\n\n<pre><code>using(var connection = new SqlConnection(\"...\"))\n{\n    //create the command and execute it (synchronously)\n}\n</code></pre>\n\n<p>But I (think) can't use the <em>using</em> statement with my current code, since it must be asynchronous.</p>\n\n<p>Is is ok to let the sql connection open the whole time? If not, what's the better solution for this case?</p>\n"}, {"tags": ["c#", ".net", "sftp", "ssh.net"], "answers": [{"tags": [], "owner": {"reputation": 2793, "user_id": 2258842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TzM5Y.png?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/2258842/mahdi"}, "is_accepted": false, "score": 1, "last_activity_date": 1507157297, "creation_date": 1507157297, "answer_id": 46575320, "question_id": 46574362, "link": "https://stackoverflow.com/questions/46574362/is-it-possible-to-upload-a-file-to-two-sftp-folders-on-same-server-at-the-same-t/46575320#46575320", "title": "Is it possible to upload a file to two SFTP folders on same server at the same time from C#?", "body": "<p>You can use something like <a href=\"https://gallery.technet.microsoft.com/scriptcenter/Powershell-FileSystemWatche-dfd7084b\" rel=\"nofollow noreferrer\">Powershell FileSystemWatcher</a> to monitor the changes in one of your folders. Then once there is a new file added to that folder, you can trigger an action (e.g. Robocopy) and copy the file into the other folder.</p>\n"}, {"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": true, "score": 1, "last_activity_date": 1507184754, "creation_date": 1507184754, "answer_id": 46579120, "question_id": 46574362, "link": "https://stackoverflow.com/questions/46574362/is-it-possible-to-upload-a-file-to-two-sftp-folders-on-same-server-at-the-same-t/46579120#46579120", "title": "Is it possible to upload a file to two SFTP folders on same server at the same time from C#?", "body": "<p>You will probably not be able to copy the file directly. For details why, see:<br>\n<a href=\"https://stackoverflow.com/q/26260056/850848\">In an SFTP session is it possible to copy one remote file to another location on same remote SFTP server?</a></p>\n\n<p>If you have a shell access, you can of course execute <code>cp</code> command using a shell session.<br>\nSee <a href=\"https://stackoverflow.com/q/30883237/850848\">How to run commands on SSH server in C#?</a></p>\n\n<hr>\n\n<p>The only reliably working way to duplicate remote file over SFTP is to download and re-upload the file.</p>\n\n<p>The easiest way to do that (without creating a temporary local file) is:</p>\n\n<pre><code>SftpClient client = new SftpClient(\"example.com\", \"username\", \"password\");\nclient.Connect();\n\nusing (Stream sourceStream = client.OpenRead(\"/source/path/file.dat\"))\nusing (Stream destStream = client.Create(\"/dest/path/file.dat\"))\n{\n    sourceStream.CopyTo(destStream);\n}\n</code></pre>\n\n<p>But I'm aware that this is not what you are after.</p>\n"}], "owner": {"reputation": 1172, "user_id": 1076111, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/82509620e4f45b74c10054281b517574?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1076111/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 1, "accepted_answer_id": 46579120, "answer_count": 2, "score": 1, "last_activity_date": 1507184813, "creation_date": 1507151967, "last_edit_date": 1507184813, "question_id": 46574362, "link": "https://stackoverflow.com/questions/46574362/is-it-possible-to-upload-a-file-to-two-sftp-folders-on-same-server-at-the-same-t", "title": "Is it possible to upload a file to two SFTP folders on same server at the same time from C#?", "body": "<p>I'm using SSH.NET library for SFTP.  I have a need to upload a file into two folders on same server, however the file will be large, so I'd rather not send it over the wire twice.</p>\n\n<p>Is there a command to copy from one folder to the next once the data is on the server? Or perhaps to upload at the same time without having to send two copies of the same data over the wire?</p>\n"}, {"tags": ["c#", "html", "discord.net"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507151990, "post_id": 46574330, "comment_id": 80102273, "body": "It looks like the <code>&lt;div&gt;</code> with class &quot;rank&quot; is only in the document once, why not just grab that with <code>&quot;&#47;&#47;div[contains(@class, &#39;rank&#39;)]&quot;</code>"}, {"owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507152117, "post_id": 46574330, "comment_id": 80102333, "body": "rank is used in 5+ more instances in  //*[@id=&quot;profile&quot;]/div[2]/div[2]/div[1]/div[4]/div[1]/div[1]&zwnj;&#8203;/div/text() it is used again for solofpp Also if i try that it just calls back the &quot;rank&quot;"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507152325, "post_id": 46574330, "comment_id": 80102416, "body": "Its super unclear what you need.  Do you need <i>one specific</i> div with class = &quot;rank&quot;?  It looks like you are iterating through all of them in your example code"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507153107, "post_id": 46574548, "comment_id": 80102714, "body": "Object reference not set to an instance of an object. When i tried this"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507153150, "post_id": 46574548, "comment_id": 80102728, "body": "Ok, so on what line was that exception thrown?"}, {"owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507153239, "post_id": 46574548, "comment_id": 80102766, "body": "Console.WriteLine(soloRankNode.InnerText); has the error"}, {"owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507153787, "post_id": 46574548, "comment_id": 80102980, "body": "HtmlNode soloNode = Doc.DocumentNode.SelectSingleNode(&quot;//span[text() = &#39;Solo&#39;]&quot;); has the error actually sorry"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507154389, "post_id": 46574548, "comment_id": 80103220, "body": "@JacobLenertz why are you scraping the HTML to begin with, they have an <a href=\"https://pubgtracker.com/site-api\" rel=\"nofollow noreferrer\">API</a>.  Go register then fire a GET request to &quot;<a href=\"https://pubgtracker.com/api/profile/pc/SilentFOG\" rel=\"nofollow noreferrer\">pubgtracker.com/api/profile/pc/SilentFOG</a>&quot;"}, {"owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507154490, "post_id": 46574548, "comment_id": 80103253, "body": "API has been removed This is because as of a few days ago Bluehole implemented strict throttling for everyone.  In order to keep our site functional we had to disable some additional features we provide like the API. from the devs"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507154583, "post_id": 46574548, "comment_id": 80103288, "body": "Well if you take a look at the Html retrieved from the HtmlAgilityPack load, you will notice none of your stats are in the source.  All that must be done via javascript on the client.  However they do drop a giant javascript object on the page you could potentially grab"}, {"owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507154713, "post_id": 46574548, "comment_id": 80103340, "body": "Yeah i noticed that but i don&#39;t understand why you can look up someones stats like the one i linked and it is displayed but you can grab that number."}, {"owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507154934, "post_id": 46574548, "comment_id": 80103405, "body": "But if i did do that what would be the best route to take ??"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "edited": false, "score": 0, "creation_date": 1507155289, "post_id": 46574548, "comment_id": 80103514, "body": "I edited my answer to add some new insight.  Check it out"}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 1, "last_activity_date": 1507155276, "last_edit_date": 1507155276, "creation_date": 1507152752, "answer_id": 46574548, "question_id": 46574330, "link": "https://stackoverflow.com/questions/46574330/how-to-pull-a-text-html-attribute-using-htmlabilitypack/46574548#46574548", "title": "How To pull a text html attribute using HTMLabilityPack", "body": "<p><strong>EDIT</strong>: My previous answer is no longer valid, please read my new findings below.</p>\n\n<hr>\n\n<p>I do not think what you are trying to do currently is possible.</p>\n\n<p>It seems that the data that displays your Solo rank (and tons of other data) is being loaded in after the HTML is loaded (meaning that the javascript in the browser is handling some databinding after the html has been downloaded).</p>\n\n<p>You can test this yourself in two ways:</p>\n\n<ol>\n<li><p>Put a debugger on the <code>HtmlDocument Doc = web.Load(path);</code> line in your code, and check the value of <code>Doc.DocumentNode.InnerHtml</code>, copy and paste this into Notepad++ or another text editor and look at the data thats there.  You will find that your rank is not loaded by the server (i.e its not available in the source HTML)</p></li>\n<li><p>Instead of inspecting element on the page in Chrome, right click and \"View Source\". This is the same data that HtmlAgilityPack sees when it \"loads\" the HTML into the object.  It does not allow javascript to run (meaning your values are never bound to any HTML).</p></li>\n</ol>\n\n<p>The <em>only</em> way I can see to gather the data you need is to get the javascript object that is embedded in the source from the server.  You will see it towards the end of the document in a <code>&lt;script&gt;</code> tag.  Its a <em>giant</em> javscript object that (among other things) contains your rank.</p>\n\n<p>You can see this for yourself by viewing the source like I explained above, and doing a Ctrl+F for your rank.  You will see it show up in two places in the object. </p>\n"}], "owner": {"reputation": 67, "user_id": 7751739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d6ec14b5d93f3602100466b0b486e58?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Lenertz", "link": "https://stackoverflow.com/users/7751739/jacob-lenertz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 46574548, "answer_count": 1, "score": 0, "last_activity_date": 1507155276, "creation_date": 1507151853, "last_edit_date": 1507153112, "question_id": 46574330, "link": "https://stackoverflow.com/questions/46574330/how-to-pull-a-text-html-attribute-using-htmlabilitypack", "title": "How To pull a text html attribute using HTMLabilityPack", "body": "<p>I need to pull the highlighted text from this <a href=\"https://pubgtracker.com/profile/pc/SilentFOG?region=agg\" rel=\"nofollow noreferrer\">Site</a> I am using the code below and getting the error of Object reference not set to an instance of an object. I am Also using this <a href=\"http://html-agility-pack.net/select-nodes\" rel=\"nofollow noreferrer\">Guide</a> in the guide it says use Xpath expression. I go to the line i want and right click => copy => copy xpath. I get //<em>[@id=\"profile\"]/div<a href=\"http://html-agility-pack.net/select-nodes\" rel=\"nofollow noreferrer\">2</a>/div<a href=\"http://html-agility-pack.net/select-nodes\" rel=\"nofollow noreferrer\">2</a>/div<a href=\"https://pubgtracker.com/profile/pc/SilentFOG?region=agg\" rel=\"nofollow noreferrer\">1</a>/div<a href=\"https://pubgtracker.com/profile/pc/SilentFOG?region=agg\" rel=\"nofollow noreferrer\">1</a>/div<a href=\"https://pubgtracker.com/profile/pc/SilentFOG?region=agg\" rel=\"nofollow noreferrer\">1</a>/div<a href=\"https://pubgtracker.com/profile/pc/SilentFOG?region=agg\" rel=\"nofollow noreferrer\">1</a>/div/text()\"); I have to escape the quotes. If i just do \"//</em>[@id=\"profile\"]\" then it works fine and i get profile, but i just cant get this to work and get the stat.</p>\n\n<p>EDIT: What I need is to get the rank value. But i cannot simply call that one rank because rank is used for Solo, FPP Solo, and so on. But i am trying to get he \"1,510,890\" number currently.</p>\n\n<p><a href=\"https://i.stack.imgur.com/05GGC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/05GGC.jpg\" alt=\"Trying to get Highlighted Text\"></a></p>\n\n<pre><code>[Command(\"test\")]\n[Alias(\"ti\")]\npublic async Task Stats(string name)\n{\n    string path = \"https://pubgtracker.com/profile/pc/\" + name + \"?region=agg\";\n    HtmlWeb web = new HtmlWeb();\n    HtmlDocument Doc = web.Load(path);\n\n    var htmlNodes = Doc.DocumentNode\n                    .SelectNodes(\"//*[@id=\\\"profile\\\"]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div/text()\");\n\n    foreach (var node in htmlNodes)\n    {\n        foreach (var att in node.Attributes)\n        { \n            Console.WriteLine(att.Value); \n        }                    \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1507220402, "post_id": 46574250, "comment_id": 80133810, "body": "@Clemens I&#39;d wager he&#39;s calling TriggerFlash on a background thread. If he was on the UI thread the hack wouldn&#39;t work :/"}, {"owner": {"reputation": 353, "user_id": 5915286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2267e12635cefc97894890b0091989b1?s=128&d=identicon&r=PG&f=1", "display_name": "Picnic8", "link": "https://stackoverflow.com/users/5915286/picnic8"}, "edited": false, "score": 0, "creation_date": 1507220825, "post_id": 46574250, "comment_id": 80134066, "body": "You are right. I forgot to invole the dispatcher when calling TriggerFlash on a secondary thread -.-"}], "answers": [{"tags": [], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "is_accepted": true, "score": 4, "last_activity_date": 1507183154, "last_edit_date": 1507183154, "creation_date": 1507152315, "answer_id": 46574453, "question_id": 46574250, "link": "https://stackoverflow.com/questions/46574250/wpf-animation-not-working-on-fast-property-change/46574453#46574453", "title": "WPF Animation not working on &quot;fast&quot; property change", "body": "<p>Yeah, if you do:</p>\n\n<pre><code>ActiveFlash = true;\nActiveFlash = false;\n</code></pre>\n\n<p>You aren't going to see anything on the screen because the UI is on the main thread and it hasn't had time to paint before the value is changed. Toggling the value happens so fast that you aren't going to see anything on the screen.</p>\n\n<p>I <em>believe</em> and somebody can correct me if I'm wrong, but I believe that WPF batches repaints behind the scenes for performance, so you're just stomping over yourself.</p>\n"}], "owner": {"reputation": 353, "user_id": 5915286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2267e12635cefc97894890b0091989b1?s=128&d=identicon&r=PG&f=1", "display_name": "Picnic8", "link": "https://stackoverflow.com/users/5915286/picnic8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 46574453, "answer_count": 1, "score": 3, "last_activity_date": 1507220979, "creation_date": 1507151479, "last_edit_date": 1507220979, "question_id": 46574250, "link": "https://stackoverflow.com/questions/46574250/wpf-animation-not-working-on-fast-property-change", "title": "WPF Animation not working on &quot;fast&quot; property change", "body": "<p>I am having trouble making an animation work in WPF with DataTriggers when the property binded is changes \"fast\". The animation is a simple flash of an element. My problem is even after a long time searching on the internet, i can't figure out a way to explain why toggling the property ON and OFF in 2 consecutives lines doesn't work, but if the thread sleeps 1ms it does. I tried inserting other instructions to \"waste\" some time but it doesn't work either.</p>\n\n<p>Here is the property in question in the viewmodel:</p>\n\n<pre><code>private bool m_activateFlash;\n    public bool ActivateFlash\n    {\n        get { return m_activateFlash; }\n        set\n        {\n            SetPropertyBackingField(ref m_activateFlash, value);\n        }\n    }\n</code></pre>\n\n<p>Here is the XAML : </p>\n\n<pre><code>&lt;DataTemplate x:Key=\"JobTemplate\" DataType=\"viewModel:JobViewModel\"&gt;\n    &lt;Border Margin=\"8,4,8,4\" BorderThickness=\"1\" BorderBrush=\"{StaticResource BorderBrush}\" Background=\"{StaticResource JobBackgroundBrush}\"&gt;\n        &lt;Border.Resources&gt;\n            &lt;Storyboard x:Key=\"Blink\"&gt;\n                &lt;ColorAnimation  Storyboard.TargetProperty=\"(Border.Background).(SolidColorBrush.Color)\" FillBehavior=\"Stop\" \n                                 Duration=\"0:0:0.4\" To=\"{StaticResource JobBackgroundFlash}\" RepeatBehavior=\"3x\" AutoReverse=\"True\"/&gt;\n            &lt;/Storyboard&gt;\n        &lt;/Border.Resources&gt;\n        &lt;Border.Style&gt;\n            &lt;Style TargetType=\"Border\"&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding ActivateFlash, NotifyOnTargetUpdated=True}\" Value=\"True\"&gt;\n                        &lt;DataTrigger.EnterActions&gt;\n                            &lt;BeginStoryboard Storyboard=\"{StaticResource Blink}\" Name=\"BeginBlinkStoryBoard\"/&gt;\n                        &lt;/DataTrigger.EnterActions&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/Border.Style&gt;\n        [....]\n</code></pre>\n\n<p>And finally here is where it is causing me problems in the viewmodel :</p>\n\n<pre><code>    private void TriggerFlash()\n    {\n        ActivateFlash = true;\n        System.Threading.Thread.Sleep(1); // HACK DOESN'T WORK WITHOUT THIS LINE\n        ActivateFlash = false;\n    }\n</code></pre>\n\n<p>I looked up EventTriggers as maybe a way to circumvent the issue, but I feel DataTrigger is the logical way to achieve what i want. Any help is really appreciated :) \n<strong>EDIT</strong>\nIt appears i wasnt invoking Trigger flash on the main thread. Simply calling Dispatcher.Invoke(...) solved the problem </p>\n\n<p>Thanks</p>\n\n<p>Adam</p>\n"}, {"tags": ["c#", "c++", "coreclr"], "answers": [{"comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1510596901, "post_id": 47269948, "comment_id": 81492618, "body": "BSTR for a string, SAFEARRAY* for a string[]."}, {"owner": {"reputation": 983, "user_id": 554499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkfuQ.png?s=128&g=1", "display_name": "Albertino80", "link": "https://stackoverflow.com/users/554499/albertino80"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1511541044, "post_id": 47269948, "comment_id": 81908881, "body": "This sample uses char*, why @HansPassant says BSTR? Is there some docs about it or I must reverse engineering the samples in order to understand?"}], "tags": [], "owner": {"reputation": 2545, "user_id": 2032151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UuEl8.jpg?s=128&g=1", "display_name": "rawel", "link": "https://stackoverflow.com/users/2032151/rawel"}, "is_accepted": false, "score": 1, "last_activity_date": 1510593407, "creation_date": 1510593407, "answer_id": 47269948, "question_id": 46574229, "link": "https://stackoverflow.com/questions/46574229/documentation-about-writing-a-coreclr-host-in-c/47269948#47269948", "title": "Documentation about writing a CoreCLR host in c++", "body": "<p>I think the documentation contains the code you need.</p>\n\n<pre><code>void *pfnDelegate = NULL;\nhr = runtimeHost-&gt;CreateDelegate(\n  domainId,\n  L\"HW, Version=1.0.0.0, Culture=neutral\",  // Target managed assembly\n  L\"ConsoleApplication.Program\",            // Target managed type\n  L\"Main\",                                  // Target entry point (static method)\n  (INT_PTR*)&amp;pfnDelegate);\n\n((MainMethodFp*)pfnDelegate)(NULL);\n</code></pre>\n\n<p>I created a class in a dotnet core dll and able to call it from cpp as follows.</p>\n\n<pre><code>void *pfnDelegate = NULL;\nhr = runtimeHost-&gt;CreateDelegate(\n    domainId,\n    L\"SampleAppCore\",  // Target managed assembly\n    L\"SampleAppCore.Start\", // Target managed type\n    L\"Run\",                 // Target entry point (static method)\n    (INT_PTR*)&amp;pfnDelegate);\nif (FAILED(hr))\n{\n    printf(\"ERROR - Failed to execute %s.\\nError code:%x\\n\", targetApp, hr);\n    return -1;\n}\n\n\nchar* hello = \"hello \";\n\n((MainMethodFp*)pfnDelegate)(hello);\n</code></pre>\n\n<p><em>Format of the delegate</em></p>\n\n<pre><code>typedef void (STDMETHODCALLTYPE MainMethodFp)(char* args);\n</code></pre>\n\n<p><em>Core Class</em></p>\n\n<pre><code>using System;\nnamespace SampleAppCore\n{\n\n    public static class Start{\n\n        public static void Run(string input){\n\n            Console.WriteLine(input);\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 983, "user_id": 554499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkfuQ.png?s=128&g=1", "display_name": "Albertino80", "link": "https://stackoverflow.com/users/554499/albertino80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1510593407, "creation_date": 1507151389, "question_id": 46574229, "link": "https://stackoverflow.com/questions/46574229/documentation-about-writing-a-coreclr-host-in-c", "title": "Documentation about writing a CoreCLR host in c++", "body": "<p>I'm writing a CoreCLR host in c++.</p>\n\n<p>I'have succesfully called a c# function from a c++:\n<a href=\"https://docs.microsoft.com/en-us/dotnet/core/tutorials/netcore-hosting\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/core/tutorials/netcore-hosting</a></p>\n\n<p>Reading that documentation:</p>\n\n<blockquote>\n  <p>Another option, if ExecuteAssembly doesn't meet your host's needs, is\n  to use CreateDelegate to create a function pointer to a static managed\n  method. This requires the host to know the signature of the method it\n  is calling into (in order to create the function pointer type) but\n  allows hosts the flexibility to invoke code other than an assembly's\n  entry point.</p>\n</blockquote>\n\n<p>given a c# function how can I \"create the c++ function pointer type\"</p>\n\n<p>for example, for a function like this:</p>\n\n<pre><code>public static int withParams(int aNumber, string[] args)\n</code></pre>\n\n<p>are there some marshaling/unmarshaling rules, how do I behave with objects or arrays as parameters?</p>\n\n<p>Is there a decent ufficial documentation for embedding coreclr in c++ code? </p>\n\n<p>I look for something like this (but for coreclr):\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html</a></p>\n"}, {"tags": ["c#", "azure-cosmosdb"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1507151434, "post_id": 46574221, "comment_id": 80102029, "body": "Check for <code>.Any()</code> in addition to <code>null</code>:  <code>if(result == null || !result.Any())</code>"}, {"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507151617, "post_id": 46574221, "comment_id": 80102107, "body": "Still skipping the line where I check for <code>null</code> or <code>Any()</code>. I think it has something to do with the <code>async</code> call. I guess I&#39;m getting a promise not a result."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507151704, "post_id": 46574221, "comment_id": 80102142, "body": "Well 2 things, use <code>var</code> only when the type is obvious (i.e var foo = new DateTime()).  Also, make sure your any logic matches what I put in the comment above.  If result is null OR result does NOT have any"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507151813, "post_id": 46574221, "comment_id": 80102195, "body": "Also, it looks like you are using <code>HttpClient</code> to read from Cosmos instead of the Cosmos library.  Any reason for that?"}, {"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1507151958, "post_id": 46574221, "comment_id": 80102254, "body": "Sorry, it does work! I didn&#39;t use the &quot;not&quot; i.e. <code>!</code> before <code>Any()</code>. I am using Cosmos DB library. I&#39;m not using <code>HttpClient</code>. I placed my Cosmos DB logic in a different class which I called <code>_client</code> which is only a wrapper around Cosmos DB library. Thank you for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 1, "last_activity_date": 1507152121, "creation_date": 1507152121, "answer_id": 46574398, "question_id": 46574221, "link": "https://stackoverflow.com/questions/46574221/cosmos-db-read-call/46574398#46574398", "title": "Cosmos DB read call", "body": "<p>Instead of just checking on <code>result == null</code> you should use the LINQ extension method <code>.Any()</code> to see if there are any items that match a condition (in your case the condition is just <em>anything</em> existing in the collection):</p>\n\n<pre><code>if(result == null || !result.Any())\n{\n    return null;\n}\n</code></pre>\n"}], "owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 46574398, "answer_count": 1, "score": 0, "last_activity_date": 1507152121, "creation_date": 1507151358, "question_id": 46574221, "link": "https://stackoverflow.com/questions/46574221/cosmos-db-read-call", "title": "Cosmos DB read call", "body": "<p>I'm making a call to Azure Cosmos DB where I know the data I'm querying does NOT exist.</p>\n\n<p>I was expecting to get a <code>null</code> value but instead I'm getting:</p>\n\n<blockquote>\n  <p>Enumeration yielded no results</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/uFnvP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uFnvP.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I test whether I received a value or not? I was testing for <code>null</code> which doesn't work because the outcome is not null.</p>\n\n<p>My code looks something like this:</p>\n\n<pre><code>var result = await _client.ReadQuery&lt;myObject&gt;(AccountsCollection, sql, pa);\nif(result == null)\n   return null;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 362, "user_id": 2878684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SV8fD.jpg?s=128&g=1", "display_name": "OctoCode", "link": "https://stackoverflow.com/users/2878684/octocode"}, "edited": false, "score": 0, "creation_date": 1507150692, "post_id": 46573931, "comment_id": 80101655, "body": "You are getting this error because you don&#39;t have that table, not in spite of. You will need to provide more info to get exact reason why is this happening."}, {"owner": {"reputation": 2055, "user_id": 1800891, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sGrbi.png?s=128&g=1", "display_name": "Skullomania", "link": "https://stackoverflow.com/users/1800891/skullomania"}, "reply_to_user": {"reputation": 362, "user_id": 2878684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SV8fD.jpg?s=128&g=1", "display_name": "OctoCode", "link": "https://stackoverflow.com/users/2878684/octocode"}, "edited": false, "score": 0, "creation_date": 1507150811, "post_id": 46573931, "comment_id": 80101717, "body": "I will try adding it once I get to the house and test it out"}], "answers": [{"tags": [], "owner": {"reputation": 2055, "user_id": 1800891, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sGrbi.png?s=128&g=1", "display_name": "Skullomania", "link": "https://stackoverflow.com/users/1800891/skullomania"}, "is_accepted": true, "score": 3, "last_activity_date": 1507318742, "creation_date": 1507318742, "answer_id": 46612857, "question_id": 46573931, "link": "https://stackoverflow.com/questions/46573931/how-do-i-resolve-my-invalid-object-name-dbo-aspnetusers-error/46612857#46612857", "title": "How do I resolve my Invalid object name &#39;dbo.AspNetUsers&#39; error?", "body": "<p>Due to the fact that I am not using the UserStore or the ApplicationUser provided by the Individual User Accounts defaults I needed to change this:</p>\n\n<pre><code>public class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>public class ApplicationDbContext : DbContext\n</code></pre>\n\n<p>Optionally If you are using Code First Migrations you could add the initial migrations, remove all of the sql code from the up and down methods, and finally update the database. Even though the tables will still not exist it seems to satisfy the compiler and your project as the error goes away and the page loads as expected.</p>\n"}], "owner": {"reputation": 2055, "user_id": 1800891, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sGrbi.png?s=128&g=1", "display_name": "Skullomania", "link": "https://stackoverflow.com/users/1800891/skullomania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4449, "favorite_count": 0, "accepted_answer_id": 46612857, "answer_count": 1, "score": 1, "last_activity_date": 1507318742, "creation_date": 1507150174, "last_edit_date": 1507151430, "question_id": 46573931, "link": "https://stackoverflow.com/questions/46573931/how-do-i-resolve-my-invalid-object-name-dbo-aspnetusers-error", "title": "How do I resolve my Invalid object name &#39;dbo.AspNetUsers&#39; error?", "body": "<p>I changed my connection string when starting a new mvc project because I needed to use some info out of an existing database. Now I get a \"Invalid object name 'dbo.AspNetUsers' when I try to load the startup page. A <a href=\"https://stackoverflow.com/questions/38040976/invalid-object-name-dbo-aspnetusers-in-asp-net-mvc-5-entity-framework\">quick google search</a> says the issue happens because you are connecting to an existing database using asp.net users. Still, this should not occur since I am not using code first migrations, right? What is more, I am using Active Directory to authenticate my users instead of individual user accounts.</p>\n\n<p>In addition, the <code>AspNetUsers</code>table does not exist in the database I am calling in the web.config:<a href=\"https://i.stack.imgur.com/2Qit5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Qit5.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "list", "treeview", "children"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6257193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ecacfa3302c7fe407a7d09a314649e05?s=128&d=identicon&r=PG", "display_name": "Hertzole", "link": "https://stackoverflow.com/users/6257193/hertzole"}, "edited": false, "score": 0, "creation_date": 1507156618, "post_id": 46575021, "comment_id": 80103952, "body": "Thanks for the fixes. It was something I overlooked and missed to fix after I did some tests. And regarding the &quot;strange code&quot;, it&#39;s probably because this is the first time I&#39;m creating a tree view in these conditions and I&#39;m just testing stuff now. And for &#39;this&#39;, yes, I&#39;m learning, but I&#39;ll assure you I do have a few years of C# experience, and I know how to create a tree view... if I know what all the classes are and they are given to me in a reasonable manner. And to be honest, those links you provided didn&#39;t help much, but I still appreciate them! They are some interesting reads!"}], "tags": [], "owner": {"reputation": 11, "user_id": 6309621, "user_type": "registered", "profile_image": "https://graph.facebook.com/1080641482002444/picture?type=large", "display_name": "\u041e\u0440\u0435\u0441\u0442 \u0414\u0437\u044e\u0431\u0430", "link": "https://stackoverflow.com/users/6309621/%d0%9e%d1%80%d0%b5%d1%81%d1%82-%d0%94%d0%b7%d1%8e%d0%b1%d0%b0"}, "is_accepted": false, "score": 1, "last_activity_date": 1507166420, "last_edit_date": 1507166420, "creation_date": 1507155445, "answer_id": 46575021, "question_id": 46573920, "link": "https://stackoverflow.com/questions/46573920/c-create-tree-like-structure-based-on-depth-values-and-list-indexes/46575021#46575021", "title": "C# - Create tree like structure based on depth values and list indexes", "body": "<p>I`ve found two mistakes in logic. Here is fixed code:</p>\n\n<pre><code>  // Base list is the list I get provided with.\n        List&lt;TreeElement&gt; newList = new List&lt;TreeElement&gt;();\n        TreeElement root = null;\n        TreeElement previousFolder = null;\n        int previousdepth = -99;\n\n        for (int i = 0; i &lt; baseList.Count; i++)\n        {\n            TreeElement currentResource = baseList[i];\n            if (currentResource.depth == -1 &amp;&amp; ShowRootFolder) // The root folder.\n            {\n                root = new TreeElement(\"Root\", currentResource.depth, null);\n                // (Name, depth, parent)\n                newList.Add(root);\n                previousFolder = root;\n                previousdepth = root.depth;\n            }\n            else if (!ShowRootFolder &amp;&amp; currentResource.depth &lt;= 0)\n            {\n                // If root folder is not shown, take all the children of the root folder instead.\n                if (currentResource.depth != -1)\n                {\n                    previousFolder = new TreeElement(currentResource.name, currentResource.depth, null);\n                    previousdepth = previousFolder.depth;\n                    newList.Add(previousFolder);\n                }\n            }\n            else\n            {\n                if (currentResource.depth &gt; previousdepth)\n                {\n                    TreeElement newResource = new TreeElement(currentResource.name, currentResource.depth, previousFolder);\n                    previousFolder.children.Add(newResource);\n                    previousdepth = currentResource.depth;\n                    previousFolder = newResource;\n                }\n            }\n        }\n\n        return newList;\n</code></pre>\n\n<p>In first \"if\" statement you created new Root but did not assign it to root object and therefore did not assign it to previousFolder object, which you use in last \"if\" statement. Also you did not pass previousFolder  object to constructor of TreeElement in last if statement and it would cause problems if you tried go to root element from the bottom using parent field.</p>\n\n<p>P.S. Code is very strange and it seems like you are just starting to learn. If we are talking about tree structure, I would suggest to read about <a href=\"http://www.dotnettricks.com/learn/designpatterns/composite-design-pattern-dotnet\" rel=\"nofollow noreferrer\">Composite pattern</a> to create a tree in couple with <a href=\"http://www.dotnettricks.com/learn/designpatterns/visitor-design-pattern-c-sharp\" rel=\"nofollow noreferrer\">Visitor pattern</a> to 'visit' it. </p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 6257193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ecacfa3302c7fe407a7d09a314649e05?s=128&d=identicon&r=PG", "display_name": "Hertzole", "link": "https://stackoverflow.com/users/6257193/hertzole"}, "edited": false, "score": 0, "creation_date": 1507158165, "post_id": 46575221, "comment_id": 80104378, "body": "This did exactly what I wanted, thanks a ton! And to clarify why I had it return a list: I need to input a list to the tree view display. But I simply converted it to return a list using your code."}], "tags": [], "owner": {"reputation": 409, "user_id": 8597963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xpXSCK30Mv8/AAAAAAAAAAI/AAAAAAAAAGk/VXv34bZlajw/photo.jpg?sz=128", "display_name": "Avo Nappo", "link": "https://stackoverflow.com/users/8597963/avo-nappo"}, "is_accepted": true, "score": 1, "last_activity_date": 1507156720, "creation_date": 1507156720, "answer_id": 46575221, "question_id": 46573920, "link": "https://stackoverflow.com/questions/46573920/c-create-tree-like-structure-based-on-depth-values-and-list-indexes/46575221#46575221", "title": "C# - Create tree like structure based on depth values and list indexes", "body": "<p>It's a bit puzzling why you are returning a list of TreeElement from that GenerateTreeStructure function? You are making a tree structure right? You should be returning just the rootnode? Anyhow, this takes a list with depth values and makes a tree out of it:</p>\n\n<pre><code>public static TreeElement GenerateTreeStructure(List&lt;TreeElement&gt; baseList)\n{\n    TreeElement root = null;\n    if (baseList == null || baseList.Count == 0) return root;\n\n    int baseIdx = -1;\n\n    TreeElement prevNode = null;\n    TreeElement parent = null;\n\n    while (baseIdx &lt; baseList.Count - 1)\n    {\n        baseIdx++;\n        TreeElement item = baseList[baseIdx];\n\n        if (item.depth == -1)\n        {\n            root = new TreeElement(\"root\", -1, null);\n            prevNode = root;\n            continue;\n        }\n\n        if (item.depth == prevNode.depth) parent = prevNode.parent; // same level as prevNode\n        else if (item.depth &gt; prevNode.depth) parent = prevNode;    // deeper\n        else                                                        // shallower\n        {\n            parent = prevNode.parent;\n            while (parent.depth &gt;= item.depth) parent = parent.parent;\n        }\n\n        TreeElement newNode = new TreeElement(item.name, item.depth, parent);\n        parent.children.Add(newNode);\n        prevNode = newNode;\n    }\n\n    return root;\n}\n\n// to test\nvoid Traverse(TreeElement branch, int depth)\n{\n    log(new string('\\t', depth) + branch.name);\n    foreach (var subBranch in branch.children) Traverse(subBranch, depth+1);\n}\n\nTraverse(root, 0);\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 6257193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ecacfa3302c7fe407a7d09a314649e05?s=128&d=identicon&r=PG", "display_name": "Hertzole", "link": "https://stackoverflow.com/users/6257193/hertzole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 46575221, "answer_count": 2, "score": 0, "last_activity_date": 1507166420, "creation_date": 1507150124, "question_id": 46573920, "link": "https://stackoverflow.com/questions/46573920/c-create-tree-like-structure-based-on-depth-values-and-list-indexes", "title": "C# - Create tree like structure based on depth values and list indexes", "body": "<p>I'm trying to create a tree-like structure. Every class has a parent field and list of children, that is the same class as the parent class. Basic stuff.</p>\n\n<p>Here's a basic version of the class I'm using.</p>\n\n<pre><code>public class TreeElement {\n    public string name;\n    public int depth;\n    public int id;\n\n    public TreeElement parent;\n    public List&lt;TreeElement&gt; children = new List&lt;TreeElement&gt;();\n}\n</code></pre>\n\n<p>Now, when I get the initial data, I get all of these classes in a list. Every item in my tree view is in one big list, and all I can go on is the depth value and the index of the item in the list. So the list would basically look something like this:</p>\n\n<pre><code>(0) -1\n(1)  |- 0\n(2)     |-- 1\n(3)     |-- 1\n(4)     |   |-- 2\n(5)     |-- 1\n</code></pre>\n\n<p><em>(x) means the index in the list. The rest of the numbers are the depth values.</em></p>\n\n<p>Now to my actual problem. I am having a really hard time making my own list based on these values and I've basically only gotten to where a single item in every child gets added and the siblings get ignored. I really can't find a way to take those into account.</p>\n\n<p>Here's my code so far (which is probably horribly wrong for this):</p>\n\n<pre><code>private List&lt;TreeElement&gt; GenerateTreeStructure(List&lt;TreeElement&gt; baseList)\n{\n    // Base list is the list I get provided with.\n    List&lt;TreeElement&gt; newList = new List&lt;TreeElement&gt;();\n    TreeElement root = null;\n    TreeElement previousFolder = null;\n    int previousdepth = -99;\n\n    for (int i = 0; i &lt; baseList.Count; i++)\n    {\n        TreeElement currentResource = baseList[i];\n        if (currentResource.depth == -1 &amp;&amp; ShowRootFolder) // The root folder.\n        {\n            root = currentResource;\n            // (Name, depth, parent)\n            newList.Add(new TreeElement(\"Root\", currentResource.depth, null));\n            previousFolder = root;\n            previousdepth = root.depth;\n        }\n        else if (!ShowRootFolder &amp;&amp; currentResource.depth &lt;= 0)\n        {\n            // If root folder is not shown, take all the children of the root folder instead.\n            if (currentResource.depth != -1)\n            {\n                previousFolder = new TreeElement(currentResource.name, currentResource.depth, null);\n                previousdepth = previousFolder.depth;\n                newList.Add(previousFolder);\n            }\n        }\n        else\n        {\n            if (currentResource.depth &gt; previousdepth)\n            {\n                TreeElement newResource = new TreeElement(currentResource.name, currentResource.depth, null);\n                previousFolder.children.Add(newResource);\n                previousdepth = currentResource.depth;\n                previousFolder = newResource;\n            }\n        }\n    }\n\n    return newList;\n}\n</code></pre>\n\n<p>I hope that explains my problem. I've been stuck with this for quite a while and I hope to get some help with this!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "wpf", "linq", "mvvm"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1507150488, "post_id": 46573901, "comment_id": 80101568, "body": "<code>SetDaysInMonth(value);</code> (too short for an answer)"}, {"owner": {"reputation": 513, "user_id": 8050298, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdfbf4cdc892d07ed43f0757975e8d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/8050298/cosmin"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1507160004, "post_id": 46573901, "comment_id": 80104782, "body": "Gert, I&#39;ve tried it but I couldn&#39;t get it to work. The error went away but the result is 0. What am I doing wrong. Does &quot;value&quot; have to be in all the SetDaysInMonth methods? If you could answer by changing my code and it works I would accept your answer. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 8050298, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdfbf4cdc892d07ed43f0757975e8d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/8050298/cosmin"}, "edited": false, "score": 0, "creation_date": 1507151714, "post_id": 46574086, "comment_id": 80102146, "body": "Thank you so much, loopedcode, we are half way there! I&#39;ve got rid of the error and I was hoping it would work but the result of my query is 0 when I bind it to a textbox. What am I missing in the query?"}], "tags": [], "owner": {"reputation": 4625, "user_id": 360950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a54100a28cd176a75a91238ff9c59cf?s=128&d=identicon&r=PG", "display_name": "loopedcode", "link": "https://stackoverflow.com/users/360950/loopedcode"}, "is_accepted": false, "score": 1, "last_activity_date": 1507150780, "creation_date": 1507150780, "answer_id": 46574086, "question_id": 46573901, "link": "https://stackoverflow.com/questions/46573901/proper-way-of-passing-a-parameter-to-a-linq-query-in-the-viewmodel/46574086#46574086", "title": "Proper way of passing a parameter to a linq query in the ViewModel", "body": "<p>I haven't tested your linq; but your parameter passing and reference to property is incorrect. If your linq is good, following changes will fix the issue.</p>\n\n<p>No need to pass parameter, you can use the MDate property directly. Similarly you can set the DaysInMonth directy.</p>\n\n<pre><code>private void SetDaysInMonth()\n\n{\n    this.DaysInMonth = Enumerable.Range(1, DateTime.DaysInMonth(this.MDate.Year, this.MDate.Month))\n                                 .Select(day =&gt; new DateTime(this.MDate.Year, this.MDate.Month, day))\n                                 .Count(d =&gt; d.DayOfWeek != DayOfWeek.Sunday &amp;&amp; \n                                             d.DayOfWeek != DayOfWeek.Saturday);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 455, "user_id": 373445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/504a2828530ef294f74058847c24d17c?s=128&d=identicon&r=PG", "display_name": "joshwl2003", "link": "https://stackoverflow.com/users/373445/joshwl2003"}, "is_accepted": true, "score": 1, "last_activity_date": 1507169376, "creation_date": 1507169376, "answer_id": 46576829, "question_id": 46573901, "link": "https://stackoverflow.com/questions/46573901/proper-way-of-passing-a-parameter-to-a-linq-query-in-the-viewmodel/46576829#46576829", "title": "Proper way of passing a parameter to a linq query in the ViewModel", "body": "<p>Tested your linq by doing the following </p>\n\n<pre><code>Enumerable.Range(1, DateTime.DaysInMonth(2017, 10))\n                            .Select(day =&gt; new DateTime(2017, 10, day))\n                            .Count(day =&gt; day.DayOfWeek != DayOfWeek.Saturday &amp;&amp; day.DayOfWeek != DayOfWeek.Sunday)\n</code></pre>\n\n<p>The result was 22 which is correct.</p>\n\n<p>I would recommend simplifying your setter to the following</p>\n\n<pre><code>    private DateTime mDate = DateTime.Now;\n    public DateTime MDate\n    {\n        get { return mDate; }\n        set\n        {\n                mDate = value;\n                OnPropertyChanged(\"MDate\");\n\n                SetDaysInMonth();\n        }\n}\n</code></pre>\n\n<p>This might fix the problem because you have not have been falling into this block of code.</p>\n\n<p>Also verify that the output window is not throwing any binding errors and that you have your binding mode set up correctly.</p>\n"}], "owner": {"reputation": 513, "user_id": 8050298, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdfbf4cdc892d07ed43f0757975e8d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/8050298/cosmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 46576829, "answer_count": 2, "score": 0, "last_activity_date": 1507169376, "creation_date": 1507150049, "question_id": 46573901, "link": "https://stackoverflow.com/questions/46573901/proper-way-of-passing-a-parameter-to-a-linq-query-in-the-viewmodel", "title": "Proper way of passing a parameter to a linq query in the ViewModel", "body": "<p>I've been struggling to find a way to calculate the total number of days in a selected month without the weekends. (MDate is binded to my datepicker)</p>\n\n<p>As an absolute beginner I lack the understanding to pass my data parameter (mDate) to the linq query but here's how far I've gotten:</p>\n\n<pre><code>public class LocationViewModel : INotifyPropertyChanged\n{\n\npublic LocationiewModel()\n{\n    SetDaysInMonth();\n}\n\nprivate DateTime mDate = DateTime.Now;\n\npublic DateTime MDate\n{\n    get { return mDate; }\n    set\n    {\n        if (value == mDate)\n        {\n            return;\n        }\n        else\n        {\n            mDate = value;\n            OnPropertyChanged(\"MDate\");\n\n            SetDaysInMonth();\n        }\n\n    }\n\n}\n\nint _daysInMonth;\n\npublic int DaysInMonth\n{\n    get { return _daysInMonth; }\n    set\n    {\n        _daysInMonth = value;\n        OnPropertyChanged(\"DaysInMonth\");\n    }\n}\n\nprivate void SetDaysInMonth(DateTime mDate)\n\n{\n    int DaysInMonth = Enumerable.Range(1, DateTime.DaysInMonth(mDate.Year, mDate.Month))\n                                 .Select(day =&gt; new DateTime(mDate.Year, mDate.Month, day))\n                                 .Count(d =&gt; d.DayOfWeek != DayOfWeek.Sunday &amp;&amp; \n                                             d.DayOfWeek != DayOfWeek.Saturday);\n}\n</code></pre>\n\n<p>It makes sense to me but I am clearly lacking something because I get the following error: <code>Error CS7036 There is no argument given that corresponds to the required formal parameter 'mDate' of 'LocationViewModel.SetDaysInMonth(DateTime)'</code>. </p>\n\n<p>Can someone please show me what I am missing to get this to work? After hours of reading, I would be really grateful to eventually understand what am I doing wrong here.</p>\n"}, {"tags": ["c#", "casting"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1507149989, "post_id": 46573870, "comment_id": 80101332, "body": "Post your code, not an image of your code (especially an image of your code that features an error message in another language...)"}, {"owner": {"reputation": 419, "user_id": 3880331, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T5PSi.jpg?s=128&g=1", "display_name": "Rubens Mussi Cury", "link": "https://stackoverflow.com/users/3880331/rubens-mussi-cury"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507159628, "post_id": 46573870, "comment_id": 80104716, "body": "@maccettura I usually post the code. Exceptionally in this question I posted an image in order to better demonstrate the question. My apologies about the language and thanks for your help."}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 3880331, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T5PSi.jpg?s=128&g=1", "display_name": "Rubens Mussi Cury", "link": "https://stackoverflow.com/users/3880331/rubens-mussi-cury"}, "edited": false, "score": 0, "creation_date": 1507161115, "post_id": 46573917, "comment_id": 80105016, "body": "thanks for your help. My property is a type of <code>System.Collections.Generic.HashSet</code>. Would you please have a better approach to reach I&#39;m trying to?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 419, "user_id": 3880331, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T5PSi.jpg?s=128&g=1", "display_name": "Rubens Mussi Cury", "link": "https://stackoverflow.com/users/3880331/rubens-mussi-cury"}, "edited": false, "score": 0, "creation_date": 1507212865, "post_id": 46573917, "comment_id": 80128853, "body": "@RubensMussiCury You&#39;ll need to be a lot more specific about what you are trying to accomplish; if you need to get the field via reflection (seems unlikely since you know the name...) this is the way."}, {"owner": {"reputation": 419, "user_id": 3880331, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T5PSi.jpg?s=128&g=1", "display_name": "Rubens Mussi Cury", "link": "https://stackoverflow.com/users/3880331/rubens-mussi-cury"}, "edited": false, "score": 0, "creation_date": 1507227279, "post_id": 46573917, "comment_id": 80137581, "body": "please have a look this post <a href=\"https://stackoverflow.com/questions/46567964/adding-new-entries-over-entity-navigation-property-collection\">link</a>. I have &quot;n&quot; classes that contains a virtual collection of some translated properties. I&#39;m just trying to find a way to handle the adding process through ChangeTracker in order to check which languages are missing and add them over my entity Translation collection before to save. I can take in a strong-typed way <code>MyEntity.MyEntityTranslations</code> and manage as desired, but I would like to make it for all entities that has this collection."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 1, "last_activity_date": 1507150123, "creation_date": 1507150123, "answer_id": 46573917, "question_id": 46573870, "link": "https://stackoverflow.com/questions/46573870/cast-propertyinfo-to-collection/46573917#46573917", "title": "Cast PropertyInfo to Collection", "body": "<p>You can't cast a <code>PropertyInfo</code> (which is just metadata information about the property) to its value type; you have to go through the <code>GetValue</code> method.</p>\n\n<p>That method will take an instance to retrieve from or null if it's static. The result is an <code>object</code> that you then cast:</p>\n\n<pre><code>ICollection collection = (ICollection)myCollectionProperty.GetValue(myEntity);\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 3880331, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T5PSi.jpg?s=128&g=1", "display_name": "Rubens Mussi Cury", "link": "https://stackoverflow.com/users/3880331/rubens-mussi-cury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 46573917, "answer_count": 1, "score": -1, "last_activity_date": 1507150123, "creation_date": 1507149937, "question_id": 46573870, "link": "https://stackoverflow.com/questions/46573870/cast-propertyinfo-to-collection", "title": "Cast PropertyInfo to Collection", "body": "<p>How do I cast a collection property in order to manage it? Please, take a look the attached image. I need to get the collection by it's name, and then work with this collection to add, remove, etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jbvPn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jbvPn.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8722707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c91fcdc344b1da3b7d97db64408a35?s=128&d=identicon&r=PG&f=1", "display_name": "cipasp", "link": "https://stackoverflow.com/users/8722707/cipasp"}, "is_accepted": true, "score": 0, "last_activity_date": 1507150650, "creation_date": 1507150650, "answer_id": 46574054, "question_id": 46573856, "link": "https://stackoverflow.com/questions/46573856/char-does-not-contain-a-definition-for-cip-id/46574054#46574054", "title": "char does not contain a definition for &#39;CIP_ID&#39;", "body": "<p>This ended up working for me. I used a ViewModel to display <code>@Item.Text.</code></p>\n\n<pre><code>public ActionResult GetCIPDesc(int CIP_ID)\n    {\n        CIP_Number temp = new CIP_Number();\n        List&lt;CIP_Number&gt; desc = db.CIP_Numbers.Where(x =&gt; x.CIP_ID == CIP_ID).ToList();\n        ViewBag.CIPNumDesc = new SelectList(desc, \"CIP_ID\", \"Description\");\n        return PartialView(\"CIPDescPartial\");\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8722707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c91fcdc344b1da3b7d97db64408a35?s=128&d=identicon&r=PG&f=1", "display_name": "cipasp", "link": "https://stackoverflow.com/users/8722707/cipasp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1767, "favorite_count": 0, "accepted_answer_id": 46574054, "answer_count": 1, "score": 0, "last_activity_date": 1507151398, "creation_date": 1507149867, "last_edit_date": 1507151398, "question_id": 46573856, "link": "https://stackoverflow.com/questions/46573856/char-does-not-contain-a-definition-for-cip-id", "title": "char does not contain a definition for &#39;CIP_ID&#39;", "body": "<p>I am trying to retrieve data (Description) from a record through the primary key (CIP_ID), however I keep getting an error CS1061 which has to do with <code>x.CIP_ID</code> but I don't understand why this error keeps popping up nor what I can do to fix it. I've tried using <code>.First</code>, <code>.Element</code> which also all give errors.</p>\n\n<pre><code>public ActionResult GetCIPDesc(int CIP_ID)\n{\n    CIP_Number temp = new CIP_Number();\n    var desc = temp.Description.Where(x =&gt; x.CIP_ID == CIP_ID);\n    ViewBag.CIPNumDesc = desc;\n    return PartialView(\"CIPDescPartial\");\n}\n</code></pre>\n\n\n\n<blockquote>\n  <p>CS1061:\n           char does not contain a definition for 'CIP_ID' and no extension method \n          'CIP_ID; accepting a first argument of type 'char' could be found (are you \n           missing a using directive or an assembly reference?)</p>\n</blockquote>\n"}, {"tags": ["c#", "postgresql", "npgsql", "dataadapter"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8619540, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-QMkTpWyxOXQ/AAAAAAAAAAI/AAAAAAAAAAA/j2XEE6h5Wcs/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u041f\u043e\u0433\u043e\u0441\u043e\u0432", "link": "https://stackoverflow.com/users/8619540/%d0%98%d0%b2%d0%b0%d0%bd-%d0%9f%d0%be%d0%b3%d0%be%d1%81%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1507292189, "post_id": 46597194, "comment_id": 80162707, "body": "thanks for answer! I think, the copy is the best way. But, why a textcopy? May be using the binary import is better choice? Which one is faster?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 29, "user_id": 8619540, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-QMkTpWyxOXQ/AAAAAAAAAAI/AAAAAAAAAAA/j2XEE6h5Wcs/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u041f\u043e\u0433\u043e\u0441\u043e\u0432", "link": "https://stackoverflow.com/users/8619540/%d0%98%d0%b2%d0%b0%d0%bd-%d0%9f%d0%be%d0%b3%d0%be%d1%81%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1507294693, "post_id": 46597194, "comment_id": 80164381, "body": "Yeah, binary is high performance, but it&#39;s also not as simple (in my opinion).  You might be suprised at how fast the text import is.  Try it and let me know."}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1507255075, "creation_date": 1507255075, "answer_id": 46597194, "question_id": 46573825, "link": "https://stackoverflow.com/questions/46573825/how-to-fill-postgresql-tables-from-c-dataset-via-npgsql/46597194#46597194", "title": "How to fill PostgreSQL tables from C# DataSet via Npgsql?", "body": "<p>With the exception of trivially small datasets, you're going to have a hard time beating the performance of NpgSql's implementation of <code>copy</code>, which can be accomplished via the <code>BeginTextImport</code> method of your <code>NpgSqlConnection</code> object.</p>\n\n<p>So, regardless of how your data exists in your application, if you dump the output via the text import (copy), it should be very zippy.  Here is an example of how you would do that with a datatable.  Bear in mind the columns in the datatable and the columns in the table would have to line up -- if not, you need to manage that one way or the other.</p>\n\n<p>This presupposes NpgSql 3.1.9 or higher.</p>\n\n<pre><code>object[] outRow = new object[dt.Columns.Count];\n\nusing (var writer = conn.BeginTextImport(\"copy &lt;table&gt; from STDIN WITH NULL AS '' CSV\"))\n{\n    foreach (DataRow rw in dt.Rows)\n    {\n        for (int col = 0; col &lt; dt.Columns.Count; col++)\n            outRow[col] = rw[col];\n\n        writer.WriteLine(string.Join(\",\", outRow));\n    }\n}\n</code></pre>\n\n<p>As far as duplicates...  wow, that really depends.  Define \"duplicates.\"  If it's just a \"select distinct,\" then it also depends on how many duplicates you expect.  If it's a small amount, a <code>List.Exists&lt;&gt;</code> would probably be adequate, but if you have a large number of dupes a Dictionary object would make each lookup a lot more efficient.  A typical List lookup is O(n), while a Dictionary lookup would be O(1).</p>\n\n<p>Here's a pretty brute-force example of a dictionary distinct insert for the above example:</p>\n\n<pre><code>object[] outRow = new object[dt.Columns.Count];\nDictionary&lt;string, bool&gt; already = new Dictionary&lt;string, bool&gt;();\nbool test;\n\nusing (var writer = conn.BeginTextImport(\"copy &lt;table&gt; from STDIN WITH NULL AS '' CSV\"))\n{\n    foreach (DataRow rw in dt.Rows)\n    {\n        for (int col = 0; col &lt; dt.Columns.Count; col++)\n            outRow[col] = rw[col];\n\n        string output = string.Join(\",\", outRow);\n        if (!already.TryGetValue(output, out test))\n        {\n            writer.WriteLine(output);\n            already.Add(output, true);\n        }\n    }\n}\n</code></pre>\n\n<p>Disclaimer: This is a memory pig.  If you can manage dupes any other way, or guarantee the ordering of the data, there are numerous other options.</p>\n\n<p>If you can't (or won't) use a bulk copy insert, something that would help performance would be to wrap your inserts into a transaction (<code>NpgSqlTransaction</code>), but for hundreds of thousands of rows, I can't see why you would.</p>\n"}], "owner": {"reputation": 29, "user_id": 8619540, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-QMkTpWyxOXQ/AAAAAAAAAAI/AAAAAAAAAAA/j2XEE6h5Wcs/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u041f\u043e\u0433\u043e\u0441\u043e\u0432", "link": "https://stackoverflow.com/users/8619540/%d0%98%d0%b2%d0%b0%d0%bd-%d0%9f%d0%be%d0%b3%d0%be%d1%81%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3266, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1507255075, "creation_date": 1507149722, "question_id": 46573825, "link": "https://stackoverflow.com/questions/46573825/how-to-fill-postgresql-tables-from-c-dataset-via-npgsql", "title": "How to fill PostgreSQL tables from C# DataSet via Npgsql?", "body": "<p>I have a <code>DataSet</code> in C# with <code>DataTables</code> and PostgreSQL database with the same tables. I fill <code>DataTable</code> in my code and want to <code>INSERT</code> DataTable to Postgresql DataBase. I tried to insert it with simple SQL queries (<code>INSERT INTO...</code>), but it's very slowly if I have hundred tables of thousands rows. I guess, using DataAdapter will improve performance, but I cant understand, how does it work. Can you explain me at two cases example?</p>\n\n<p>case1:\nInserting DataSet's tables to Postgresql with DataAdapter</p>\n\n<p>case2:\nInserting only uniq values from DataSet to PostgreSQL (if table in database have rows with uniq keys and DataTable contain the same)</p>\n\n<p>Or maybe you can suggest what to read to learn DataAdapters... Anyway, thanks.</p>\n"}, {"tags": ["c#", "t4", "envdte", ".net-standard"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 2, "creation_date": 1507150130, "post_id": 46573802, "comment_id": 80101400, "body": "I kinda doubt this is possible. net standard projects are supposed to be cross-platform. EnvDTE aint."}, {"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 1, "creation_date": 1507176461, "post_id": 46573802, "comment_id": 80108371, "body": "T4 templates and generators should be supported (makes your project work in VS only though) but I guess this is a side effect of the project not using the legacy c# project system but the new project system developed at <a href=\"https://github.com/dotnet/project-system\" rel=\"nofollow noreferrer\">github.com/dotnet/project-system</a>"}, {"owner": {"reputation": 329, "user_id": 3932736, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xOB0A.jpg?s=128&g=1", "display_name": "Mo Sadeghipour", "link": "https://stackoverflow.com/users/3932736/mo-sadeghipour"}, "edited": false, "score": 0, "creation_date": 1517143741, "post_id": 46573802, "comment_id": 83965721, "body": "There should be something helping us with this issue. .NET Standard projects support every platform and each platform uses Visual Studio as the main environment, it&#39;s really needed."}, {"owner": {"reputation": 86, "user_id": 9861821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb358b685d51111a6fc5d533e9d46a1?s=128&d=identicon&r=PG&f=1", "display_name": "RyuzakiH", "link": "https://stackoverflow.com/users/9861821/ryuzakih"}, "edited": false, "score": 0, "creation_date": 1603496086, "post_id": 46573802, "comment_id": 114065647, "body": "I know it&#39;s old, but for anyone searching in the future, <a href=\"https://www.nuget.org/packages/EnvDTE/16.7.30328.74\" rel=\"nofollow noreferrer\">EnvDTE</a> now supports .NETStandard 2.0."}], "owner": {"reputation": 430, "user_id": 2084592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNYp1.png?s=128&g=1", "display_name": "hvk", "link": "https://stackoverflow.com/users/2084592/hvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1507149623, "creation_date": 1507149623, "question_id": 46573802, "link": "https://stackoverflow.com/questions/46573802/how-can-i-use-envdte-within-a-net-standard-project", "title": "How can I use EnvDTE within a .NET Standard project", "body": "<p>I'm porting a .net 4.7 project to .net standard, which uses T4 to generate some code. I iterate over the classes, properties and methods. This use to work perfectly, but now the return types of DTE are of type 'System.__ComObject' and I cannot cast them.</p>\n\n<pre>Error: Unable to cast COM object of type 'System.__ComObject' to interface type 'EnvDTE.CodeClass'. This operation failed because the QueryInterface call on the COM component for the interface with IID '{B1F42514-91CD-4D3A-8B25-A317D8032B24}' failed due to the following error: No such interface supported (Exception from HRESULT: 0x80004002 (E_NOINTERFACE)).</pre>\n\n<p>Any ideas how to fix this?</p>\n\n<p>Example:</p>\n\n<pre><code>public static bool CheckBase(CodeClass codeClass, string baseName)\n{\n    var bases = codeClass.Bases;\n    if (bases != null)\n    {\n        foreach (CodeClass baseClass in bases)\n        {\n            if(baseClass.Name == baseName) return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 4, "creation_date": 1507149678, "post_id": 46573782, "comment_id": 80101172, "body": "Urls are strings, &quot;id&quot; is an int.  What happens when a parameter in the route cannot be converted into an int?  Should it be some generic error or should your controller get to dictate what to do with an invalid (i.e null) id?"}, {"owner": {"reputation": 29332, "user_id": 177416, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/F6rDx.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/177416/alex"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1507149776, "post_id": 46573782, "comment_id": 80101218, "body": "Thanks, @maccettura. But if it&#39;s null, we should throw an exception to let the user know. Or should we detect it via the check that Visual Studio generates for us?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1507149861, "post_id": 46573782, "comment_id": 80101262, "body": "Should you always throw an exception?  Is there some special processing that should happen?  Should it be logged? The boilerplate code included with the MVC code is just a suggestion, its not a requirement."}, {"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 2, "creation_date": 1507150206, "post_id": 46573782, "comment_id": 80101445, "body": "Also, an <b>invalid</b> parameter (e.g. <code>null</code> in your example) should not throw an exception at all, because it is a Client issue, not a server one. <code>BadRequest</code> (<code>400</code>) is exactly the status code for this kind of issues (signaling a client that it has sent an invalid request)."}], "answers": [{"comments": [{"owner": {"reputation": 29332, "user_id": 177416, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/F6rDx.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/177416/alex"}, "edited": false, "score": 0, "creation_date": 1507149886, "post_id": 46573839, "comment_id": 80101275, "body": "Hmm. Hadn&#39;t thought of that at all. Yeah, <code>0</code> could be a valid record ID, whereas <code>int? id</code> truly offers blank/null."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 3, "creation_date": 1507150073, "post_id": 46573839, "comment_id": 80101373, "body": "Wrong - it its not provided an exception is thrown"}, {"owner": {"reputation": 29332, "user_id": 177416, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/F6rDx.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/177416/alex"}, "edited": false, "score": 0, "creation_date": 1507150079, "post_id": 46573839, "comment_id": 80101377, "body": "Actually, the above isn&#39;t true: when I leave the id blank and try to navigate to a page, it simply blows up and says: <code>The parameters dictionary contains a null entry for parameter &#39;id&#39; of non-nullable type &#39;System.Int32&#39; for method &#39;System.Threading.Tasks.Task</code>1 [System.Web.Mvc.ActionResult] Edit(Int32)&#39; in &#39;MyController&#39;. An optional parameter must be a reference type, a nullable type, or be declared as an optional parameter. Parameter name: parameters`. So it&#39;s not defaulting to 0"}], "tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 3, "last_activity_date": 1507150795, "last_edit_date": 1507150795, "creation_date": 1507149764, "answer_id": 46573839, "question_id": 46573782, "link": "https://stackoverflow.com/questions/46573782/why-is-id-nullable-on-some-default-mvc-actions/46573839#46573839", "title": "Why is id nullable on some default MVC actions?", "body": "<p>I believe it's because the default value for <code>int</code> is <code>0</code>. If you set it to <code>int id</code> as you suggest, the model-binder will give you a default value of <code>0</code>, which means you can't differentiate between whether <code>0</code> was actually provided or if it was just defaulted.</p>\n\n<p>EDIT: Been thinking about this a bit more. It's optional because it's defined at a higher level for the general routing template - some actions require it and others don't.</p>\n\n<p>I was wrong about the defaulting of 0 for a simple parameter like this - see the comments.</p>\n"}], "owner": {"reputation": 29332, "user_id": 177416, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/F6rDx.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/177416/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 46573839, "answer_count": 1, "score": 3, "last_activity_date": 1507150795, "creation_date": 1507149543, "question_id": 46573782, "link": "https://stackoverflow.com/questions/46573782/why-is-id-nullable-on-some-default-mvc-actions", "title": "Why is id nullable on some default MVC actions?", "body": "<p>In ASP.NET MVC apps, when we scaffold the controllers in Visual Studio, we get the default actions:</p>\n\n<ul>\n<li>Index</li>\n<li>Create</li>\n<li>Delete</li>\n<li>Edit</li>\n<li>Details</li>\n</ul>\n\n<p>Of the above, a few have a nullable id (<code>int? id</code>) for parameters: Details, Edit (GET version), Delete, DeleteConfirmed. Then in at least some, there's the following code to ensure that ID isn't null:</p>\n\n<pre><code>if (id == null)\n{\n    return new HttpStatusCodeResult(HttpStatusCode.BadRequest);\n}\n</code></pre>\n\n<p>All these actions require an ID; it's not optional. You can't display the details of nothing or delete nothing, etc. Also, we're then generating a <code>BadRequest</code> status code if they're null. </p>\n\n<p>So why aren't these parameters non-nullable integers to begin with? </p>\n"}, {"tags": ["c#", "multithreading"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8722462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0c0d4ad1f0e36357e8f5a6905daf19?s=128&d=identicon&r=PG&f=1", "display_name": "NuttyTree", "link": "https://stackoverflow.com/users/8722462/nuttytree"}, "is_accepted": false, "score": 0, "last_activity_date": 1507423297, "creation_date": 1507423297, "answer_id": 46626500, "question_id": 46573721, "link": "https://stackoverflow.com/questions/46573721/cant-get-multiple-concurrent-api-calls-to-update-response-object-consistently/46626500#46626500", "title": "Can&#39;t get multiple concurrent API calls to update response object consistently", "body": "<p>After walking away from this for a couple days I came back and figured out what the issue was.  While the problem appeared to be that it wasn't waiting for the all tasks to complete because some of the sub-objects were not getting set that was not the issue.  As I have discovered in my limited work with multi-threading debugging can be very difficult because the code is non-linear.  The issue is that I am re-using the url variable so by the time the API was called the url had been updated in one of the other tasks.  So the http call was \"successful\" and returned an object but not the object expected so the Json parser generated an empty object so my response object got set to an empty object.  The null reference error actually wouldn't occur in the code above, the original version before I simplified it had to do an enumeration on one of the responses which failed when it was empty.</p>\n"}], "owner": {"reputation": 1, "user_id": 8722462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0c0d4ad1f0e36357e8f5a6905daf19?s=128&d=identicon&r=PG&f=1", "display_name": "NuttyTree", "link": "https://stackoverflow.com/users/8722462/nuttytree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507423297, "creation_date": 1507149294, "question_id": 46573721, "link": "https://stackoverflow.com/questions/46573721/cant-get-multiple-concurrent-api-calls-to-update-response-object-consistently", "title": "Can&#39;t get multiple concurrent API calls to update response object consistently", "body": "<p>I am working with some API's that do not return the level of detail I need so I need to make additional API calls after the first call to get the needed details.  I am trying to improve performance by multi-threading the additional calls.  Here is the simplified version of the code I have currently:</p>\n\n<pre><code>    public class Customer\n    {\n        public int CustomerId { get; set; }\n        public string CustomerName { get; set; }\n    }\n\n    public class Order\n    {\n        public int OrderId { get; set; }\n        public string ShippingAddress { get; set; }\n    }\n\n    public class OrderPayment\n    {\n        public int OrderId { get; set; }\n        public bool PaymentIsComplete { get; set; }\n    }\n\n    public class OrderItem\n    {\n        public int OrderItemId { get; set; }\n        public string ItemName { get; set; }\n        public int CustomerId { get; set; }\n        public int OrderId { get; set; }\n    }\n\n    public class OrderItemWithDetails : OrderItem\n    {\n        public Customer Customer { get; set; }\n        public Order Order { get; set; }\n        public OrderPayment Payment { get; set; }\n    }\n\n    public async Task&lt;List&lt;OrderItemWithDetails&gt;&gt; GetOrderItemsWithDetailsAsync()\n    {\n        var url = \"orderItemsUrl\";\n        var tuple = await GetAsync&lt;List&lt;OrderItemWithDetails&gt;&gt;(url, null, null, null);\n        List&lt;OrderItemWithDetails&gt; response = tuple.Item1;\n\n        List&lt;Task&gt; taskList = new List&lt;Task&gt;();\n\n        IEnumerable&lt;int&gt; customerIds = response.Select&lt;OrderItemWithDetails, int&gt;(o =&gt; o.CustomerId).Distinct();\n        foreach (var customerId in customerIds)\n        {\n            int id = customerId;\n            taskList.Add(Task.Run(async () =&gt;\n            {\n                url = \"customerUrl?CustomerId=\" + id;\n                var customerTuple = await GetAsync&lt;Customer&gt;(url, null, null, null);\n                response.Where(i =&gt; i.CustomerId == id).ToList().ForEach(i =&gt; i.Customer = customerTuple.Item1);\n            }));\n        }\n\n        IEnumerable&lt;int&gt; orderIds = response.Select&lt;OrderItemWithDetails, int&gt;(o =&gt; o.OrderId).Distinct();\n        foreach (var orderId in orderIds)\n        {\n            int id = orderId;\n            taskList.Add(Task.Run(async () =&gt;\n            {\n                url = \"orderUrl?OrderId=\" + id;\n                var orderTuple = await GetAsync&lt;Order&gt;(url, null, null, null);\n                response.Where(i =&gt; i.OrderId == id).ToList().ForEach(i =&gt; i.Order = orderTuple.Item1);\n            }));\n\n            taskList.Add(Task.Run(async () =&gt;\n            {\n                url = \"paymentUrl?OrderId=\" + id;\n                var paymentTuple = await GetAsync&lt;OrderPayment&gt;(url, null, null, null);\n                response.Where(i =&gt; i.OrderId == id).ToList().ForEach(i =&gt; i.Payment = paymentTuple.Item1);\n            }));\n        }\n\n        await Task.WhenAll(taskList);\n\n        return response;\n    }\n</code></pre>\n\n<p>The GetAsync is basically a wrapper around HttpClient.GetAsync with some additional logic including handling parsing the Json into an object.  I know the code in that call is good, it has been in use for a bunch of other calls for 2+ years.  The 2 issues I keep running into is that it is not waiting for the tasks to complete so the additional objects in OrderItemWithDetails are not consistently filled in and occasionally the Task.WhenAll throws an exception on the IEnumerable that source cannot be null.  I have tried just about every combination of the following changes, some work more consistently than others but none of them work 100% of the time:</p>\n\n<ul>\n<li>Change Task.Run to Task.Factory.StartNew</li>\n<li>Change the anonymous methods to not be async and change the await GetAsync to GetAsync.Result</li>\n<li>Change Task.WhenAll to Task.WaitAll</li>\n<li>Use ContinueWith and another anonymous method on the GetAsync calls to handle updating the response object</li>\n<li>Build the url before creating the task, change the anonymous methods to point directly to GetAsync and add the results to the response after all the tasks have run</li>\n<li>Creating a separate List of \"statuses\", before each task adding an entry to that list with a status of \"NotDone\", adding a line to the end of each task to update the status for that task to \"Done\", and replacing the Taks.WhenAll with a Where loop that waits for all entries in the list to be \"Done\"</li>\n</ul>\n\n<p>Even the last option which I know is the completely wrong way of fixing this didn't work (still ended up with a bunch of null properties in the response) which totally baffles me.  I have been working on this for a couple of days now, have Googled like crazy and still have nothing close to working code.  Any help would be much appreciated.</p>\n"}, {"tags": ["c#", "forms", "winforms"], "comments": [{"owner": {"reputation": 1388, "user_id": 5273015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c21c6c859cf8c3da890c926270842544?s=128&d=identicon&r=PG", "display_name": "Ramankingdom", "link": "https://stackoverflow.com/users/5273015/ramankingdom"}, "edited": false, "score": 0, "creation_date": 1507150117, "post_id": 46573704, "comment_id": 80101394, "body": "location property is a point which is basically a coordinate.  so create a new point from current location add and substract x as per functionality and set the location property to that point simple"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4843530"}, "edited": false, "score": 0, "creation_date": 1507150192, "post_id": 46573704, "comment_id": 80101437, "body": "You will not create a &quot;subprogram&quot;.  You will create another event handler that will handle the btnLeft_Click event and will do what you are saying (all the same code except with <code>x = x - speed</code>.  But don&#39;t actually repeat the code, put it in a separate function... And of course, that takes you to @JohnKoerner answer."}], "answers": [{"comments": [{"owner": {"reputation": 322, "user_id": 8620432, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/kbURl.png?s=128&g=1", "display_name": "Qedized", "link": "https://stackoverflow.com/users/8620432/qedized"}, "edited": false, "score": 1, "creation_date": 1507150463, "post_id": 46573844, "comment_id": 80101562, "body": "That makes sense. Thanks!"}], "tags": [], "owner": {"reputation": 35588, "user_id": 573218, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/m5syD.png?s=128&g=1", "display_name": "John Koerner", "link": "https://stackoverflow.com/users/573218/john-koerner"}, "is_accepted": true, "score": 1, "last_activity_date": 1507149795, "creation_date": 1507149795, "answer_id": 46573844, "question_id": 46573704, "link": "https://stackoverflow.com/questions/46573704/how-to-change-the-operation-in-a-subprogram-in-c/46573844#46573844", "title": "How to change the operation in a subprogram in c#?", "body": "<p>Your best bet is to create a function that accepts a parameter of what you want to change:</p>\n\n<pre><code>private void MovePlayer(int offset)\n{\n    //move right\n    if (stopThePlayer == true)\n    {\n        return;\n    }\n    else\n    {\n        x = x + offset;\n        RightBoundary();\n        MovingSubprograms();\n    }\n}\n\nprivate void btnRight_Click(object sender, EventArgs e)\n{\n   MovePlayer(speed);\n}\n\nprivate void btnLeft_Click(object sender, EventArgs e)\n{\n   MovePlayer(speed*-1);\n}\n</code></pre>\n"}], "owner": {"reputation": 322, "user_id": 8620432, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/kbURl.png?s=128&g=1", "display_name": "Qedized", "link": "https://stackoverflow.com/users/8620432/qedized"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 46573844, "answer_count": 1, "score": 1, "last_activity_date": 1507149795, "creation_date": 1507149251, "question_id": 46573704, "link": "https://stackoverflow.com/questions/46573704/how-to-change-the-operation-in-a-subprogram-in-c", "title": "How to change the operation in a subprogram in c#?", "body": "<p>I wrote a code that makes a picturebox move when I click on a button. For example, the right button uses this code:</p>\n\n<pre><code>    private void btnRight_Click(object sender, EventArgs e)\n    {\n    //move right\n    if (stopThePlayer == true)\n    {\n        return;\n    }\n    else\n    {\n        x = x + speed;\n        RightBoundary();\n        MovingSubprograms();\n    }\n}\n</code></pre>\n\n<p>Don't worry about the subprograms. All I want  to know is is there a way that I can only change <code>x = x + speed;</code> part. For example, in the left button, I want to make it <code>x = x - speed</code>. So basically I'll just create a subprogram and only change that code. Is that possible? Thanks.</p>\n"}, {"tags": ["c#", "xaml", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1507151070, "post_id": 46573660, "comment_id": 80101849, "body": "you need a reference to the instance of the page containing email in order to do this."}, {"owner": {"reputation": 4560, "user_id": 8093394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-rAl_keJkKAM/AAAAAAAAAAI/AAAAAAAAl0o/Y2pvHWTFzBM/photo.jpg?sz=128", "display_name": "Diego Rafael Souza", "link": "https://stackoverflow.com/users/8093394/diego-rafael-souza"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1507151473, "post_id": 46573660, "comment_id": 80102043, "body": "Seems like you are new on OO, I&#39;m right? <code>email</code> exists only at the parent class context (for example &#39;MyContentPage.email&#39;) and to access it, as @Jason said, you should refers to an instance of this class (for example <code>var test = new MyContentPage();</code> then <code>test.email.Text = &quot;new text&quot;;</code>). Beside this all, Whatever your are trying to do, it is conceptually wrong."}], "owner": {"user_type": "does_not_exist", "display_name": "user6221300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507149409, "creation_date": 1507149040, "last_edit_date": 1507149409, "question_id": 46573660, "link": "https://stackoverflow.com/questions/46573660/how-to-make-a-xaml-element-available-to-all-classes", "title": "How to make a Xaml element available to all classes?", "body": "<p>I have a button with an <code>X:Name</code> of <code>Email</code></p>\n\n<pre><code>&lt;Entry Placeholder=\"Email\" x:Name=\"email\"Keyboard=\"Email\"x:FieldModifier=\"public\"/&gt;\n</code></pre>\n\n<p>I want to access the entered data from a separate class</p>\n\n<pre><code>public class separateClass: ContentPage{\n     string x = email.Text;\n}\n</code></pre>\n\n<p>How would I go about doing this?</p>\n\n<p>I keep getting errors telling me that</p>\n\n<blockquote>\n  <p>email does not exist in the current context.</p>\n</blockquote>\n"}, {"tags": ["c#", "mysql", "asp.net", "visual-studio-2017"], "comments": [{"owner": {"reputation": 843, "user_id": 5218996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FPVPek2JnB8/AAAAAAAAAAI/AAAAAAAAADE/DGRyQY5yraE/photo.jpg?sz=128", "display_name": "Shiwanka Chathuranga", "link": "https://stackoverflow.com/users/5218996/shiwanka-chathuranga"}, "edited": false, "score": 0, "creation_date": 1507166244, "post_id": 46573620, "comment_id": 80106183, "body": "Which methodology use to connect to DataBase? EF?? .....  when you deploy to server no more DB.designer.cs in server, server will contain only compiled .dll, if you publish it again and deploy, server must reflect all changes.... no issue on if you have VS installed on server or not...."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 2283758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWFyC.jpg?s=128&g=1", "display_name": "Wholinator", "link": "https://stackoverflow.com/users/2283758/wholinator"}, "is_accepted": false, "score": 0, "last_activity_date": 1535567270, "creation_date": 1535567270, "answer_id": 52083980, "question_id": 46573620, "link": "https://stackoverflow.com/questions/46573620/refreshing-db-designer-cs-file/52083980#52083980", "title": "Refreshing DB.designer.cs File", "body": "<p>I ended up never being able to generate the required file. As I recall, VS was being particularly obstinate about the different versions of connectors and mysql server versions and various things and I simply gave up.</p>\n\n<p>However, I did solve the issue by manually editing the tables from within the dbdesigner file. It took a bit of work and some database research but eventually I was able to get everything working correctly.</p>\n"}], "owner": {"reputation": 11, "user_id": 2283758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWFyC.jpg?s=128&g=1", "display_name": "Wholinator", "link": "https://stackoverflow.com/users/2283758/wholinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535567270, "creation_date": 1507148886, "question_id": 46573620, "link": "https://stackoverflow.com/questions/46573620/refreshing-db-designer-cs-file", "title": "Refreshing DB.designer.cs File", "body": "<p>I am working on a code base for a website that is in C# and ASP.NET. We're using MySQL to connect to a database that holds token information and data. The code is deployed on a remote server running Windows Server 2008R2. This server does not and cannot have Visual Studio installed on it because I cannot physically access it and it does not have access to the internet, thus all development is done on my local machine and I just svn the code to and from the production server. The server is running MySQL57 and MySQL Workbench 6.2.</p>\n\n<p>The C# code I inherited is connecting to the database by instantiating a DBDataContext which calls the DB.designer.cs file. I recently had to make a change to the database and added a new table and deleted an old unused table.</p>\n\n<p>The problem is that the DB.designer.cs file is auto-generated and I cannot regenerate it to reflect the database changes. I've right-clicked on it and chosen \"replace from server\", however it is pointing to a nonexistent folder on my local computer and I cannot make it connect to the remote computer. I've deleted it and Visual Studio still refuses to regenerate it. I've tried copying the data from the MySQL Workbench on the server to my computer but it will only output a .sql file and from my searching it appears I need a .dbml file for VS to recognize.</p>\n\n<p>I need to be able to regenerate the DBDesigner file but I don't currently see a way when Visual Studio cannot connect to the database and the database cannot be installed along side Visual Studio. How should I generate this DB.designer.cs file? </p>\n"}, {"tags": ["c#", "html", "asp.net-core"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4843530"}, "edited": false, "score": 0, "creation_date": 1507150722, "post_id": 46573596, "comment_id": 80101666, "body": "huh?  You are generating the html in the tag helper, but you are wondering if it can be formatted like html generated by the tag helper?  You are describing the same process twice and wanting to figure out how to get the same results?"}, {"owner": {"reputation": 2206, "user_id": 7803512, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/n7nrR.png?s=128&g=1", "display_name": "SteinTheRuler", "link": "https://stackoverflow.com/users/7803512/steintheruler"}, "edited": false, "score": 0, "creation_date": 1507151557, "post_id": 46573596, "comment_id": 80102078, "body": "nope. if the tag contains children I let the tag helper generate the html, if not I have to generate the html myself. thanks for asking"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4843530"}, "edited": false, "score": 0, "creation_date": 1507151677, "post_id": 46573596, "comment_id": 80102128, "body": "So where is your code that generates the HTML?  Is it the one you have labeled &quot;Code in tag helper&quot;?  Your question is not clear to me.  Hope I am not being dense."}, {"owner": {"reputation": 2206, "user_id": 7803512, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/n7nrR.png?s=128&g=1", "display_name": "SteinTheRuler", "link": "https://stackoverflow.com/users/7803512/steintheruler"}, "edited": false, "score": 0, "creation_date": 1507152406, "post_id": 46573596, "comment_id": 80102447, "body": "yes the code in tag helper generates the listed html without idents, but when the tag helper generated html it looks &quot;pretty&quot;. I&#39;m just wondering if there is a way to make the code looks a little nicer, but the code works fine as it is. just want to make it look nice if someone is looking at the page source :)"}], "owner": {"reputation": 2206, "user_id": 7803512, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/n7nrR.png?s=128&g=1", "display_name": "SteinTheRuler", "link": "https://stackoverflow.com/users/7803512/steintheruler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507148790, "creation_date": 1507148790, "question_id": 46573596, "link": "https://stackoverflow.com/questions/46573596/format-genereated-html-syntax-when-using-appendhtmlline-in-tag-helper", "title": "Format genereated HTML syntax when using AppendHtmlLine in Tag Helper", "body": "<p>I generate some html in a tag helper and was wondering if its possible to format the generated html with indents like the html generated by the tag helper.</p>\n\n<p><strong>HTML from tag helper</strong>:</p>\n\n<pre><code>&lt;span class=\"lc-p-img-zoom\"&gt;\n    &lt;img src =\"/GRAPHIC/bg-laptop-min.jpg\" class=\"lc-p-img-zoom-cover-img lc-p-zoom-img-test\" /&gt;\n\n    &lt;section class=\"lc-p-zoom-img-wrap\"&gt;\n        &lt;img src=\"/Custom/Folder/test1.jpg\" class=\"lc-p-img-zoom-item zoomClass\" /&gt;\n        &lt;img src=\"/GRAPHIC/test2.jpg\" class=\"lc-p-img-zoom-item zoomClass\" /&gt;\n        &lt;img src=\"/GRAPHIC/test3.jpg\" class=\"lc-p-img-zoom-item zoomClass\" /&gt;\n    &lt;/section&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p><strong>HTML from my code</strong>:</p>\n\n<pre><code>&lt;span class=\"lc-p-img-zoom\"&gt;\n&lt;img src =\"/GRAPHIC/demo2.jpg\" class=\"lc-p-img-zoom-cover-img lc-p-zoom-img-test\" /&gt;\n&lt;section class=\"lc-p-zoom-img-wrap\"&gt;\n&lt;img src =\"/GRAPHIC/zoom.jpg\" class=\"zoomClass\" /&gt;\n&lt;/section&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p><strong>Code in tag helper</strong>:</p>\n\n<pre><code>string img = this.ZoomSrc.IsNullOrEmpty() ? this.Src : this.ZoomSrc, folder = this.ZoomFolderPath.IsNullOrEmpty() ? this.FolderPath : this.ZoomFolderPath;\nHtmlContentBuilder section = new HtmlContentBuilder();\n\nsection.AppendHtmlLine(\"&lt;section class=\\\"\" + WrapClassName + \"\\\"&gt;\");              \nsection.AppendLine(GetImgTag(GetPath(img, folder), this.ZoomClass));\nsection.AppendHtmlLine(\"&lt;/section&gt;\");\n\noutput.Content.SetHtmlContent(section);\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 2, "creation_date": 1507149104, "post_id": 46573584, "comment_id": 80100940, "body": "What about <code>ModelState.Clear();</code> after <code>ViewBag.Message</code>?"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 3, "creation_date": 1507149147, "post_id": 46573584, "comment_id": 80100961, "body": "typically this is done by redirecting from the POST action to the GET action:  <code>return RedirectToAction(&quot;ActionName&quot;)</code>"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1507149478, "post_id": 46573584, "comment_id": 80101089, "body": "@SamAxe That would do it! I&#39;ve used several times the <code>RedirectToAction</code> except in this case lol."}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "reply_to_user": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 0, "creation_date": 1507149877, "post_id": 46573584, "comment_id": 80101270, "body": "@S.Akbari In fact the way you say is much better cause I can get to see the message which reminds me why I choose the statement <code>return View(new MyItemViewModel());</code>. Thanks."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1507150641, "post_id": 46573584, "comment_id": 80101627, "body": "For an explanation of the behavior, refer <a href=\"https://stackoverflow.com/questions/26654862/textboxfor-displaying-initial-value-not-the-value-updated-from-code/26664111#26664111\">this answer</a> - but the PRG pattern is the correct approach"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1507153353, "post_id": 46573584, "comment_id": 80102809, "body": "@dcg: You can use <code>TempData</code> to transfer the message across redirects."}], "answers": [{"tags": [], "owner": {"reputation": 743, "user_id": 2092282, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/4lidX.jpg?s=128&g=1", "display_name": "Renato Leite", "link": "https://stackoverflow.com/users/2092282/renato-leite"}, "is_accepted": true, "score": 3, "last_activity_date": 1507153270, "last_edit_date": 1507153270, "creation_date": 1507149142, "answer_id": 46573680, "question_id": 46573584, "link": "https://stackoverflow.com/questions/46573584/how-to-clear-a-form-after-an-insert/46573680#46573680", "title": "How to clear a form after an insert?", "body": "<p>The correct way is redirect the request to the appropriate <code>HttpGet</code> action. In this mode you prevent data recess:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Save(MyViewModel formModel)\n    {\n        if (this.ModelState.IsValid)\n        {\n            // To save the message you will need to save in something like a tempdata, because they ViewBag will lost the value when the page redirect.\n            TempData[\"myMessage\"] = \"My message.\";\n\n            // So you will clear your form and prevent data recess.\n            return this.RedirectToAction(\"MyGETAction\");\n        }\n\n        // You need to return the view here to show validation messages if you have.\n        return View(formModel)\n    }\n</code></pre>\n"}], "owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 46573680, "answer_count": 1, "score": 0, "last_activity_date": 1507153270, "creation_date": 1507148753, "question_id": 46573584, "link": "https://stackoverflow.com/questions/46573584/how-to-clear-a-form-after-an-insert", "title": "How to clear a form after an insert?", "body": "<p>I have an action that creates a certain item to the data base, after doing that it will return the same view but with a newly created view model, something like:</p>\n\n<pre><code>MyItem i = new MyItem {...}\ndb.MyItems.Add(i);\ndb.SaveChanges();\nViewBag.Message = \"Item added successfully\";\nreturn View(new MyItemViewModel());\n</code></pre>\n\n<p>I'm doing this 'cause several items might be inserted and going back and forward can be a little annoying. The above code works as expected, the thing is that the last information inserted remains in the form despite I'm giving the view a new view model without that information. I think this is browser related but I'm not sure. I'd like to know how can I get a clean form after the insertion of an item. Thanks in advance!</p>\n"}, {"tags": ["c#", "design-patterns", "domain-driven-design"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 2159506, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rQyG1.jpg?s=128&g=1", "display_name": "Alejandro Mora", "link": "https://stackoverflow.com/users/2159506/alejandro-mora"}, "edited": false, "score": 0, "creation_date": 1507171387, "post_id": 46574208, "comment_id": 80107252, "body": "Inspired in your answer i&#39;m thinking eliminate the InterestType attribute of class credit and insted of that put a object called InterestPolicy where inside contains the interestType for me have sense set the InterestPolicy when i created the credit because the way of how will be calculate the interest shouldn&#39;t change in the live of credit"}, {"owner": {"reputation": 39014, "user_id": 1211528, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/88f7b504ba3fffac19860abd3aa7cf91?s=128&d=identicon&r=PG", "display_name": "plalx", "link": "https://stackoverflow.com/users/1211528/plalx"}, "edited": false, "score": 0, "creation_date": 1507221083, "post_id": 46574208, "comment_id": 80134210, "body": "What about <code>this.interestType.calculateBalanceAtDate(this.creditHistory, date)</code>? <code>InterestType</code> could just be an enum configured with the proper calculator."}, {"owner": {"reputation": 137, "user_id": 2159506, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rQyG1.jpg?s=128&g=1", "display_name": "Alejandro Mora", "link": "https://stackoverflow.com/users/2159506/alejandro-mora"}, "edited": false, "score": 0, "creation_date": 1507222754, "post_id": 46574208, "comment_id": 80135176, "body": "yes InterestType is a enum and determine how interest will be calculate  I thought better and is not a attribute of credit now i belive that InterestType  should belong to InterestPolicy because its the entity that determine how interest is calculate."}], "tags": [], "owner": {"reputation": 39380, "user_id": 54734, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ea91774321962f70f19362f43568cda9?s=128&d=identicon&r=PG", "display_name": "VoiceOfUnreason", "link": "https://stackoverflow.com/users/54734/voiceofunreason"}, "is_accepted": false, "score": 2, "last_activity_date": 1507151330, "creation_date": 1507151330, "answer_id": 46574208, "question_id": 46573557, "link": "https://stackoverflow.com/questions/46573557/how-can-i-should-handle-the-injection-of-service-domain/46574208#46574208", "title": "How can i should handle the injection of service domain?", "body": "<blockquote>\n  <p>someone can clarify me is correct or if exists a better way</p>\n</blockquote>\n\n<p>Sounds like your domain has a concept like an InterestPolicy that determines what strategy should be used to calculate the balance.  Find out what the name of that thing is in your domain (your domain experts will know), and pass it in as an argument</p>\n\n<pre><code>public Balance CalculateBalanceAtDate(\n    InterestPolicy interestPolicy, \n    DateTime date, \n    bool moratory)\n{\n    IBalanceCalculator calculator interestPolicy.balanceCalculator(this.interestType)\n    return calculator.balance(this, date)\n}\n</code></pre>\n\n<p>Slightly better is to take the entity itself out of the equation, and just pass <em>state</em></p>\n\n<pre><code>public Balance CalculateBalanceAtDate(\n    InterestPolicy interestPolicy, \n    DateTime date, \n    bool moratory)\n{\n    IBalanceCalculator calculator interestPolicy.balanceCalculator(this.interestType)\n    return calculator.balance(this.creditHistory, date)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 2159506, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rQyG1.jpg?s=128&g=1", "display_name": "Alejandro Mora", "link": "https://stackoverflow.com/users/2159506/alejandro-mora"}, "edited": false, "score": 0, "creation_date": 1507328788, "post_id": 46605676, "comment_id": 80181512, "body": "i think that i should inject the service of balance calculator because it is used in more than one place for example, when i calculate the balance for a report or when a payment is applied to avoid repetitive task of pass the service in each method where is used i prefer inject service."}], "tags": [], "owner": {"reputation": 762, "user_id": 472774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLDnS.jpg?s=128&g=1", "display_name": "Sylvain Lecoy", "link": "https://stackoverflow.com/users/472774/sylvain-lecoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1507292622, "creation_date": 1507292622, "answer_id": 46605676, "question_id": 46573557, "link": "https://stackoverflow.com/questions/46573557/how-can-i-should-handle-the-injection-of-service-domain/46605676#46605676", "title": "How can i should handle the injection of service domain?", "body": "<p>Why you need to inject the service ?</p>\n\n<p>Just pass it as a parameter of your method.</p>\n\n<p>You then wire the whole in your application service at the application level !</p>\n\n<p>Domain Services as a parameter are perfectly fine, it makes your domain object testable as well.</p>\n"}], "owner": {"reputation": 137, "user_id": 2159506, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rQyG1.jpg?s=128&g=1", "display_name": "Alejandro Mora", "link": "https://stackoverflow.com/users/2159506/alejandro-mora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507292622, "creation_date": 1507148612, "last_edit_date": 1507170309, "question_id": 46573557, "link": "https://stackoverflow.com/questions/46573557/how-can-i-should-handle-the-injection-of-service-domain", "title": "How can i should handle the injection of service domain?", "body": "<p>I'm building a financial application where i have two ways to calculate the balance of the credit\nso i try to follow a design based on Domain Driven Design and i feel some confused respect how supose that i have to inject the balance calculator in the credit entity. \ni try to insert a interface in credit called IBalanceCalculator then when i call method CalculateBalanceAtDate in the credit this determine what instance use</p>\n\n<p>this is the example</p>\n\n<pre><code>credit {\n  protected  IBalanceCalcultar _calculator;\n  ....\n    private void _InitializeBalanceCalculator()\n    {\n        if (_balanceCalculator == null)\n            switch (InterestType)\n            {\n                case EInterestType.OutstandingBalance:\n                    _balanceCalculator = new OutstandingBalanceService();\n                    break;\n                case EInterestType.GlobalBalance:\n                    _balanceCalculator = new GlobalBalance();\n                    break;\n                default:\n                    throw new Exception();\n            }\n    }\n    public void CalculateBalanceAtDate(DateTime date, bool moratory)\n    {\n        _InitializeBalanceCalculator();\n        _balanceCalculator.GetBalance(this, date);\n    }\n}\n</code></pre>\n\n<p>but i feel that this way is not so good</p>\n\n<p>someone can clarify me is correct or if exists a better way</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 0, "creation_date": 1507148515, "post_id": 46573490, "comment_id": 80100655, "body": "Some kind of code conversion request and should be closed as off-topic IMO."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5560270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5bf4da02f0f897e9cd0823d2fc188e?s=128&d=identicon&r=PG&f=1", "display_name": "MikeB", "link": "https://stackoverflow.com/users/5560270/mikeb"}, "edited": false, "score": 0, "creation_date": 1507204927, "post_id": 46573727, "comment_id": 80123032, "body": "Thanks so much. I hadn&#39;t even relised there was an Xml.Linq namespace until now....thats very useful!"}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1507149309, "creation_date": 1507149309, "answer_id": 46573727, "question_id": 46573490, "link": "https://stackoverflow.com/questions/46573490/how-to-use-linq-to-pull-certain-data-from-xmlnodelist-and-load-it-into-a-diction/46573727#46573727", "title": "How to use Linq to pull certain data from XmlNodeList and load it into a dictionary in C#", "body": "<p>Here is the LINQ equivalent:</p>\n\n<pre><code>var language = Application.systemLanguage.ToString();\nvar strings = XElement.Parse(xml)\n    .XPathSelectElements(\"./LOC_TAG\")\n    .Select(x =&gt; new \n    {\n        Tag = x.Attribute(\"value\").Value,\n        Text = x.XPathSelectElement($\"./LOC_TEXT[@language='{language}']\")\n            ?.Attribute(\"value\").Value\n    })\n    .Where(x =&gt; x.Text != null)\n    .ToDictionary(x =&gt; x.Tag, x =&gt; x.Text);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5589, "user_id": 2516718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f217994662dd192226b028af33abaebc?s=128&d=identicon&r=PG", "display_name": "Daniel Manta", "link": "https://stackoverflow.com/users/2516718/daniel-manta"}, "is_accepted": true, "score": 0, "last_activity_date": 1507151727, "last_edit_date": 1507151727, "creation_date": 1507151330, "answer_id": 46574209, "question_id": 46573490, "link": "https://stackoverflow.com/questions/46573490/how-to-use-linq-to-pull-certain-data-from-xmlnodelist-and-load-it-into-a-diction/46574209#46574209", "title": "How to use Linq to pull certain data from XmlNodeList and load it into a dictionary in C#", "body": "<p>Since the query is iterating through XmlNodes, we can get the parent of current node at any time with <code>tag.ParentNode</code>, which makes the job easier.</p>\n\n<pre><code>var strings = (from tag in locTags.Cast&lt;XmlNode&gt;().SelectMany(t =&gt; t.ChildNodes.Cast&lt;XmlNode&gt;())\n    where tag.Name == \"LOC_TEXT\" &amp;&amp; tag.Attributes[\"language\"].Value == Application.systemLanguage.ToString()\n    select new { key = tag.ParentNode.Attributes[\"value\"].Value, value = tag.Attributes[\"value\"].Value })\n    .ToDictionary(t=&gt;t.key, t=&gt;t.value);\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5560270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5bf4da02f0f897e9cd0823d2fc188e?s=128&d=identicon&r=PG&f=1", "display_name": "MikeB", "link": "https://stackoverflow.com/users/5560270/mikeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "accepted_answer_id": 46574209, "answer_count": 2, "score": 2, "last_activity_date": 1507151727, "creation_date": 1507148364, "question_id": 46573490, "link": "https://stackoverflow.com/questions/46573490/how-to-use-linq-to-pull-certain-data-from-xmlnodelist-and-load-it-into-a-diction", "title": "How to use Linq to pull certain data from XmlNodeList and load it into a dictionary in C#", "body": "<p>I have some C# code which uses System.Xml to parse an xml file and then pull certain data from the xml into a dictionary.</p>\n\n<p>The code below works, but its pretty messy and I don't really like it. I'd like to collapse it into some simple Linq calls, but I am still quite new to Linq and am not sure where to start. Can anyone offer some suggestions about how to Linq-ify this code? (preferably in method-syntax)</p>\n\n<p>Also because the code writes the data to an external data structure (A dictionary) I don't know how that would work with Linq.</p>\n\n<h3>XML Sample Data:</h3>\n\n<pre><code>&lt;Localisation&gt;\n\n    &lt;LOC_TAG value=\"tag_01\" &gt;\n        &lt;LOC_TEXT language=\"English\" value=\"This is some text\"/&gt;\n        &lt;LOC_TEXT language=\"German\" value=\"Das ist ein Text\"/&gt;\n        &lt;LOC_TEXT language=\"French\" value=\"Il s'agit d'un texte\"/&gt;\n    &lt;/LOC_TAG&gt;\n\n    &lt;LOC_TAG value=\"tag_02\" &gt;\n        &lt;LOC_TEXT language=\"English\" value=\"Another text string\"/&gt;\n    &lt;/LOC_TAG&gt;\n\n&lt;/Localisation&gt;\n</code></pre>\n\n<h3>C# Code</h3>\n\n<pre><code>Dictionary&lt;string, string&gt;  Strings = new Dictionary&lt;string, string&gt;();\n\nXmlDocument xmlDoc = new XmlDocument(); \nxmlDoc.Load(new StringReader(locFile.text));\n\n// Read each LOC_TAG and pull out its LOC_TEXT matching the required language into the dictionary\nXmlNodeList locTags = xmlDoc.GetElementsByTagName(\"LOC_TAG\");\nforeach (XmlNode locTagNode in locTags)\n{\n    foreach (XmlNode child in locTagNode.ChildNodes)\n    {\n        if (child.Name == \"LOC_TEXT\" &amp;&amp; \n            child.Attributes[\"language\"].Value == Application.systemLanguage.ToString())\n        {\n            Strings.Add(locTagNode.Attributes[\"value\"].Value, \n                        child.Attributes[\"value\"].Value);\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>Any help much appreciated!</p>\n"}, {"tags": ["c#", "dependency-injection", "asp.net-web-api2", "unity-container"], "comments": [{"owner": {"reputation": 8957, "user_id": 1073868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/397bb6e2c9cc191a20143ca8566385c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1073868/dan"}, "edited": false, "score": 1, "creation_date": 1507148292, "post_id": 46573441, "comment_id": 80100569, "body": "When you do <code>using (_catRepo)</code>, at the end of the call the repo is disposed, which disposes the db context. Don&#39;t put a <code>using</code> block there. Your DI container should be able to configure db contexts to be per-request (not sure how this works in Unity), but you don&#39;t need to call <code>repo.Dispose()</code> if this is set up correctly"}, {"owner": {"reputation": 483, "user_id": 1623136, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db68ee7aed505585e8eb1a03ed211b44?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1623136/bruno"}, "reply_to_user": {"reputation": 8957, "user_id": 1073868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/397bb6e2c9cc191a20143ca8566385c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1073868/dan"}, "edited": false, "score": 0, "creation_date": 1507148381, "post_id": 46573441, "comment_id": 80100605, "body": "Isn&#39;t a subsequent call to the web service supposed to instantiate a new _catRepo? I guess I must be missing something in the setup..."}, {"owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 4, "creation_date": 1507148499, "post_id": 46573441, "comment_id": 80100651, "body": "The DI container is supposed to dispose of resources for you.  You shouldn&#39;t have to do it manually."}, {"owner": {"reputation": 743, "user_id": 2092282, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/4lidX.jpg?s=128&g=1", "display_name": "Renato Leite", "link": "https://stackoverflow.com/users/2092282/renato-leite"}, "edited": false, "score": 1, "creation_date": 1507148640, "post_id": 46573441, "comment_id": 80100721, "body": "You are creating your context only when the application starts, so if the first request happens and you dispose the db, the next request not has more a db to use. Try change it to create and dispose db per request."}, {"owner": {"reputation": 8957, "user_id": 1073868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/397bb6e2c9cc191a20143ca8566385c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1073868/dan"}, "edited": false, "score": 1, "creation_date": 1507148765, "post_id": 46573441, "comment_id": 80100780, "body": "Also, I went down this rabbit hole before: I would not recommend generic repositories. Use specific repositories. you&#39;ll thank me later when you need domain-specific actions/transactions etc that are not CRUD"}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1507151782, "post_id": 46573441, "comment_id": 80102180, "body": "You should read <a href=\"https://stackoverflow.com/questions/17943870/decorators-and-idisposable\">this</a> and <a href=\"https://stackoverflow.com/questions/30283564/dependency-injection-and-idisposable\">this</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4573148"}, "edited": false, "score": 0, "creation_date": 1507648739, "post_id": 46573441, "comment_id": 80289121, "body": "Not sure why IRepository implements IDisposable. The container will dispose itself due to HierarchicalLifetimeManager.  Remove the disposable and your issue should go away. My reference is the current API I have designed that has 3M hits a month."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 1623136, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db68ee7aed505585e8eb1a03ed211b44?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1623136/bruno"}, "edited": false, "score": 0, "creation_date": 1507216468, "post_id": 46574441, "comment_id": 80131446, "body": "thanks for giving such a detailed answer. You are correct in that my intention was to have one DbContext per request. Unfortunately, your suggestion is not working for me. It looks like my controller&#39;s constructor cannot be found since I&#39;m getting this error msg: &quot;An error occurred when trying to create a controller of type &#39;AnimalController&#39;. Make sure that the controller has a parameterless public constructor.&quot;. Was I supposed to change my controller&#39;s signature?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4573148"}, "edited": false, "score": 0, "creation_date": 1507649009, "post_id": 46574441, "comment_id": 80289273, "body": "parameterless ctor is because your registration is not correctly bound. you should be able to dig into the registrations container  to see the error messages within the Unity container. I would recommend putting this new registration code into a TEST before attempting to resolve in a multi-parameter controller.."}], "tags": [], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "is_accepted": false, "score": 4, "last_activity_date": 1507154986, "last_edit_date": 1507154986, "creation_date": 1507152267, "answer_id": 46574441, "question_id": 46573441, "link": "https://stackoverflow.com/questions/46573441/dbcontext-is-disposed-when-using-unity-dependency-injection-on-webapi-project/46574441#46574441", "title": "DbContext is Disposed When Using Unity Dependency Injection on WebApi project", "body": "<p>Let's take a look at your registration:</p>\n\n<pre><code>container.RegisterType&lt;IGenericRepository&lt;Cat&gt;, GenericRepository&lt;Cat&gt;&gt;(\n    new HierarchicalLifetimeManager(), \n    new InjectionConstructor(new AnimalEntities()));\n\ncontainer.RegisterType&lt;IGenericRepository&lt;Dog&gt;, GenericRepository&lt;Dog&gt;&gt;(\n    new HierarchicalLifetimeManager(), \n    new InjectionConstructor(new AnimalEntities()));\n</code></pre>\n\n<p>You are creating two instances of <code>AnimalEntities</code> at startup, but those instances are reused for the duration of the whole application. This is a <a href=\"https://stackoverflow.com/questions/3266295/net-entity-framework-and-transactions/3266481#3266481\">terrible idea</a>. You probably intend to have <a href=\"https://stackoverflow.com/questions/10585478/one-dbcontext-per-web-request-why\">one DbContext per request</a>, but the instance wrapped by the <code>InjectionConstructor</code> is a constant.</p>\n\n<p>You should change your configuration to the following:</p>\n\n<pre><code>container.RegisterType&lt;IGenericRepository&lt;Cat&gt;, GenericRepository&lt;Cat&gt;&gt;(\n    new HierarchicalLifetimeManager());\n\ncontainer.RegisterType&lt;IGenericRepository&lt;Dog&gt;, GenericRepository&lt;Dog&gt;&gt;(\n    new HierarchicalLifetimeManager());\n\n// Separate 'scoped' registration for AnimalEntities.\ncontainer.Register&lt;AnimalEntities&gt;(\n    new HierarchicalLifetimeManager()\n    new InjectionFactory(c =&gt; new AnimalEntities()));\n</code></pre>\n\n<p>This is much simpler and now the <code>AnimalEntities</code> is registered as 'scoped' as well.</p>\n\n<p>What's nice about this is that <code>Unity</code> will now dispose your <code>AnimalEntities</code> once the scope (the web request) ends. This prevents you from having to implement <code>IDisposable</code> on consumers of <code>AnimalEntities</code>, as explained <a href=\"https://stackoverflow.com/questions/17943870/decorators-and-idisposable\">here</a> and <a href=\"https://stackoverflow.com/questions/30283564/dependency-injection-and-idisposable\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 483, "user_id": 1623136, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db68ee7aed505585e8eb1a03ed211b44?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1623136/bruno"}, "is_accepted": true, "score": 0, "last_activity_date": 1507661900, "creation_date": 1507661900, "answer_id": 46674036, "question_id": 46573441, "link": "https://stackoverflow.com/questions/46573441/dbcontext-is-disposed-when-using-unity-dependency-injection-on-webapi-project/46674036#46674036", "title": "DbContext is Disposed When Using Unity Dependency Injection on WebApi project", "body": "<p>I figured out what was going on. As several people have indicated, my repository doesn't need to inherit from IDisposable since the Unity container will dispose of these repositories when the time is right. However, that wasn't the root of my problems.</p>\n\n<p>The main challenge to overcome was getting one <code>dbContext</code> per request. My <code>IGenericRepository</code> interface has stayed the same but my <code>GenericRepository</code> implemenation now looks like this: </p>\n\n<pre><code>public class GenericRepository&lt;TDbSet, TDbContext&gt; : \n    IGenericRepository&lt;TDbSet&gt; where TDbSet : class\n    where TDbContext : DbContext, new()\n{\n    internal DbContext _context;\n    internal DbSet&lt;TDbSet&gt; _dbSet;\n\n    public GenericRepository(DbContext context)\n    {\n        _context = context;\n        _dbSet = _context.Set&lt;TDbSet&gt;();\n    }\n\n    public GenericRepository() : this(new TDbContext())\n    {\n    }\n\n    /// &lt;summary&gt;\n    /// This constructor will set the database of the repository \n    /// to the one indicated by the \"database\" parameter\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"context\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"database\"&gt;&lt;/param&gt;       \n    public GenericRepository(string database = null)\n    {\n        SetDatabase(database);\n    }\n\n    public void SetDatabase(string database)\n    {\n        var dbConnection = _context.Database.Connection;\n        if (string.IsNullOrEmpty(database) || dbConnection.Database == database)\n            return;\n\n        if (dbConnection.State == ConnectionState.Closed)\n            dbConnection.Open();\n\n        _context.Database.Connection.ChangeDatabase(database);\n    }\n\n    public virtual IQueryable&lt;TDbSet&gt; Get()\n    {\n        return _dbSet;\n    }\n\n    public virtual TDbSet GetById(object id)\n    {\n        return _dbSet.Find(id);\n    }\n\n    public virtual void Insert(TDbSet entity)\n    {\n        _dbSet.Add(entity);\n    }\n\n    public virtual void Delete(object id)\n    {\n        TDbSet entityToDelete = _dbSet.Find(id);\n        Delete(entityToDelete);\n    }\n\n    public virtual void Delete(TDbSet entityToDelete)\n    {\n        if (_context.Entry(entityToDelete).State == EntityState.Detached)\n        {\n            _dbSet.Attach(entityToDelete);\n        }\n\n        _dbSet.Remove(entityToDelete);\n    }\n\n    public virtual void Update(TDbSet entityToUpdate)\n    {\n        _dbSet.Attach(entityToUpdate);\n        _context.Entry(entityToUpdate).State = EntityState.Modified;\n    }\n\n    public virtual void Save()\n    {\n        _context.SaveChanges();\n    }\n}\n</code></pre>\n\n<p>The default constructor is now responsible for creating a new <code>DbContext</code> of the type specified when the class is instantiated(I actually have more than one type of <code>DbContext</code> in my application). This allows for a new <code>DbContext</code> to be created for every web request. I tested this by using the <code>using</code> statement in my original repository implementation. I was able to verify that I no longer get the exception about the <code>DbContext</code> being disposed on subsequent requests. </p>\n\n<p>My <code>WebApiConfig</code> now looks like this: </p>\n\n<pre><code> public static class WebApiConfig\n{\n    public static void Register(HttpConfiguration config)\n    {\n        // Web API configuration and services\n        var container = new UnityContainer();\n\n        container.RegisterType&lt;IGenericRepository&lt;Cat&gt;, GenericRepository&lt;Cat, AnimalEntities&gt;&gt;(new HierarchicalLifetimeManager(), new InjectionConstructor());\n        container.RegisterType&lt;IGenericRepository&lt;Dog&gt;, GenericRepository&lt;Dog, AnimalEntities&gt;&gt;(new HierarchicalLifetimeManager(), new InjectionConstructor());                                  \n\n        config.DependencyResolver = new UnityResolver(container);\n\n        config.Formatters.JsonFormatter.SupportedMediaTypes.Add(new MediaTypeHeaderValue(\"text/html\"));\n\n        // Web API routes\n        config.MapHttpAttributeRoutes();\n\n        config.Routes.MapHttpRoute(\n            name: \"DefaultApi\",\n            routeTemplate: \"api/{controller}/{id}\",\n            defaults: new { id = RouteParameter.Optional }\n        );\n    }\n}\n</code></pre>\n\n<p>One thing that was causing me a lot of pain here is that I didn't realize I still had to call the <code>InjectionConstructor</code> in order to use the parameterless constructor of the repository class. Not including the <code>InjectionConstructor</code> was causing me to get the error about my controller's constructor not being found.</p>\n\n<p>Once I got over that hurdle I was able to change my controller what I have below. The main difference here is that I'm no longer using <code>using</code> statments: </p>\n\n<pre><code>public class IntegrationController : ApiController\n{\n    private readonly IGenericRepository&lt;Cat&gt; _catRepo;\n    private readonly IGenericRepository&lt;Dog&gt; _dogPackRepo;\n\n    public IntegrationController(IGenericRepository&lt;Cat&gt; catRepository,\n        IGenericRepository&lt;Dog&gt; dogRepository)\n    {\n        _catRepo = catRepository;\n        _dogRepo = dogRepository;\n    }\n\n[HttpGet]\npublic AnimalDetails GetAnimalDetails(int tagId)\n{\n    var animalDetails = new animalDetails();\n\n    try\n    {\n        var dbName = getAnimalName(tagId);\n\n        if (dbName == null)\n        {\n            animalDetails.ErrorMessage = $\"Could not find animal name for tag Id {tagId}\";\n            return animalDetails;\n        }\n    }\n    catch (Exception ex)\n    {\n        //todo: add logging\n        Console.WriteLine(ex.Message);\n        animalDetails.ErrorMessage = ex.Message;\n        return animalDetails;\n    }\n\n    return animalDetails;\n}\n\nprivate string getAnimalName(int tagId)\n{\n    try\n    {            \n         return _catRepo.Get().Where(s =&gt; s.TagId == \n           tagId.ToString()).SingleOrDefault();            \n    }\n    catch (Exception e)\n    {\n        //todo: add logging\n        Console.WriteLine(e);\n        throw;\n    }\n}       \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 423, "user_id": 8469201, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YKIac.jpg?s=128&g=1", "display_name": "Tyler Sells", "link": "https://stackoverflow.com/users/8469201/tyler-sells"}, "is_accepted": false, "score": 0, "last_activity_date": 1550691233, "last_edit_date": 1550691233, "creation_date": 1550683071, "answer_id": 54791980, "question_id": 46573441, "link": "https://stackoverflow.com/questions/46573441/dbcontext-is-disposed-when-using-unity-dependency-injection-on-webapi-project/54791980#54791980", "title": "DbContext is Disposed When Using Unity Dependency Injection on WebApi project", "body": "<p>The way I solved my problem is a little different than what these answers suggest.</p>\n\n<p>I'm in an MVC app but the logic should be similar for this.</p>\n\n<p>As others have stated, creating an instance of an object inside and <code>InjectionContructor</code> essentially creates a static copy of that instance that is used for all future instances of the resolving type.  To fix this, I simply register the context as a type and then let Unity resolve the context when it resolves the service.  By default, it creates a new instance each time:</p>\n\n<p><strong>UnityConfig:</strong></p>\n\n<pre><code>public static void RegisterComponents()\n{\n    var container = new UnityContainer();\n\n    container.RegisterType&lt;PrimaryContext&gt;(new InjectionConstructor());\n    container.RegisterType&lt;LocationService&gt;();\n\n    DependencyResolver.SetResolver(new UnityDependencyResolver(container));\n}\n</code></pre>\n\n<p><strong>PrimaryContext:</strong></p>\n\n<pre><code>//Allows for a default value if none is passed\npublic PrimaryContext() : base(Settings.Default.db) { }\npublic PrimaryContext(string connection) : base(connection)\n{\n}\n</code></pre>\n\n<p><strong>LocationService:</strong></p>\n\n<pre><code>PrimaryContext _context;\npublic LocationService(PrimaryContext context)\n{\n    _context = context;\n}\n</code></pre>\n\n<p>I can't give a ton of specifics about exactly how it works, but this appears to have fixed the problem I was having (I was getting the same error message) and it's super simple.</p>\n"}], "owner": {"reputation": 483, "user_id": 1623136, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db68ee7aed505585e8eb1a03ed211b44?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1623136/bruno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2204, "favorite_count": 1, "accepted_answer_id": 46674036, "answer_count": 3, "score": 3, "last_activity_date": 1550691233, "creation_date": 1507148137, "last_edit_date": 1507231263, "question_id": 46573441, "link": "https://stackoverflow.com/questions/46573441/dbcontext-is-disposed-when-using-unity-dependency-injection-on-webapi-project", "title": "DbContext is Disposed When Using Unity Dependency Injection on WebApi project", "body": "<p>I'm fairly new at using dependency injection and I think I must be overlooking something really simple. </p>\n\n<p>I have a Web API project where I'm registering generic repositories. The repositories take a dbContext as a parameter in their constructor. </p>\n\n<p>The behavior I find strange is that I can make one successfull call to the service but any subsequent calls tell me that the dbcontext has been disposed. I do have a using statement in there but that shouldn't be a problem since DI is supposed to be creating new instances of my dependencies for each web request(although I could be wrong). </p>\n\n<p>Here is my generic repository:</p>\n\n<pre><code> public class GenericRepository&lt;T&gt; : IGenericRepository&lt;T&gt; where T : class\n{\n    internal DbContext _context;\n    internal DbSet&lt;T&gt; _dbSet;\n    private bool disposed;\n\n    public GenericRepository(DbContext context)\n    {\n        _context = context;\n        _dbSet = _context.Set&lt;T&gt;();\n    }\n\n    /// &lt;summary&gt;\n    /// This constructor will set the database of the repository \n    /// to the one indicated by the \"database\" parameter\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"context\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"database\"&gt;&lt;/param&gt;       \n    public GenericRepository(string database = null)\n    {\n        SetDatabase(database);\n    }\n\n    public void SetDatabase(string database)\n    {\n        var dbConnection = _context.Database.Connection;\n        if (string.IsNullOrEmpty(database) || dbConnection.Database == database)\n            return;\n\n        if (dbConnection.State == ConnectionState.Closed)\n            dbConnection.Open();\n\n        _context.Database.Connection.ChangeDatabase(database);\n    }\n\n    public virtual IQueryable&lt;T&gt; Get()\n    {\n        return _dbSet;\n    }\n\n    public virtual T GetById(object id)\n    {\n        return _dbSet.Find(id);\n    }\n\n    public virtual void Insert(T entity)\n    {\n        _dbSet.Add(entity);\n    }\n\n    public virtual void Delete(object id)\n    {\n        T entityToDelete = _dbSet.Find(id);\n        Delete(entityToDelete);\n    }\n\n    public virtual void Delete(T entityToDelete)\n    {\n        if (_context.Entry(entityToDelete).State == EntityState.Detached)\n        {\n            _dbSet.Attach(entityToDelete);\n        }\n\n        _dbSet.Remove(entityToDelete);\n    }\n\n    public virtual void Update(T entityToUpdate)\n    {\n        _dbSet.Attach(entityToUpdate);\n        _context.Entry(entityToUpdate).State = EntityState.Modified;\n    }\n\n    public virtual void Save()\n    {\n        _context.SaveChanges();\n    }\n    public void Dispose()\n    {\n        Dispose(true);\n        GC.SuppressFinalize(this);\n    }\n\n    protected virtual void Dispose(bool disposing)\n    {\n        if (disposed)\n            return;\n\n        if (disposing)\n        {\n            //free managed objects here\n            _context.Dispose();\n        }\n\n        //free any unmanaged objects here\n        disposed = true;\n    }\n\n    ~GenericRepository()\n    {\n        Dispose(false);\n    }\n}\n</code></pre>\n\n<p>Here is my generic repository interface: </p>\n\n<pre><code> public interface IGenericRepository&lt;T&gt; : IDisposable where T : class\n{\n    void SetDatabase(string database);\n    IQueryable&lt;T&gt; Get();       \n    T GetById(object id);\n    void Insert(T entity);\n    void Delete(object id);\n    void Delete(T entityToDelete);\n    void Update(T entityToUpdate);\n    void Save();\n}\n</code></pre>\n\n<p>This is my WebApiConfig:</p>\n\n<pre><code>public static class WebApiConfig\n{\n    public static void Register(HttpConfiguration config)\n    {\n        // Web API configuration and services\n        var container = new UnityContainer();\n\n        container.RegisterType&lt;IGenericRepository&lt;Cat&gt;, GenericRepository&lt;Cat&gt;&gt;(new HierarchicalLifetimeManager(), new InjectionConstructor(new AnimalEntities()));\n        container.RegisterType&lt;IGenericRepository&lt;Dog&gt;, GenericRepository&lt;Dog&gt;&gt;(new HierarchicalLifetimeManager(), new InjectionConstructor(new AnimalEntities()));           \n\n        config.DependencyResolver = new UnityResolver(container);\n\n        config.Formatters.JsonFormatter.SupportedMediaTypes.Add(new MediaTypeHeaderValue(\"text/html\"));\n\n        // Web API routes\n        config.MapHttpAttributeRoutes();\n\n        config.Routes.MapHttpRoute(\n            name: \"DefaultApi\",\n            routeTemplate: \"api/{controller}/{id}\",\n            defaults: new { id = RouteParameter.Optional }\n        );\n    }\n}\n</code></pre>\n\n<p>This is my DependencyResolver(which is pretty standard):</p>\n\n<pre><code>public class UnityResolver : IDependencyResolver\n{\n    protected IUnityContainer container;\n\n    public UnityResolver(IUnityContainer container)\n    {\n        this.container = container ?? throw new ArgumentNullException(nameof(container));\n    }\n\n    public object GetService(Type serviceType)\n    {\n        try\n        {\n            return container.Resolve(serviceType);\n        }\n        catch (ResolutionFailedException)\n        {\n            return null;\n        }\n    }\n\n    public IEnumerable&lt;object&gt; GetServices(Type serviceType)\n    {\n        try\n        {\n            return container.ResolveAll(serviceType);\n        }\n        catch (ResolutionFailedException)\n        {\n            return new List&lt;object&gt;();\n        }\n    }\n\n    public IDependencyScope BeginScope()\n    {\n        var child = container.CreateChildContainer();\n        return new UnityResolver(child);\n    }\n\n    public void Dispose()\n    {\n        Dispose(true);\n    }\n\n    protected virtual void Dispose(bool disposing)\n    {\n        container.Dispose();\n    }\n}\n</code></pre>\n\n<p>And finally this is part of the controller that's giving me trouble: </p>\n\n<pre><code>public class AnimalController : ApiController\n{\n    private readonly IGenericRepository&lt;Cat&gt; _catRepo;\n    private readonly IGenericRepository&lt;Dog&gt; _dogPackRepo;\n\n    public AnimalController(IGenericRepository&lt;Cat&gt; catRepository,\n        IGenericRepository&lt;Dog&gt; dogRepository)\n    {\n        _catRepo = catRepository;\n        _dogRepo = dogRepository;\n    }\n\n    [HttpGet]\n    public AnimalDetails GetAnimalDetails(int tagId)\n    {\n        var animalDetails = new animalDetails();\n\n        try\n        {\n            var dbName = getAnimalName(tagId);\n\n            if (dbName == null)\n            {\n                animalDetails.ErrorMessage = $\"Could not find animal name for tag Id {tagId}\";\n                return animalDetails;\n            }\n\n        }\n        catch (Exception ex)\n        {\n            //todo: add logging\n            Console.WriteLine(ex.Message);\n            animalDetails.ErrorMessage = ex.Message;\n            return animalDetails;\n        }\n\n        return animalDetails;\n    }\n\n    private string getAnimalName(int tagId)\n    {\n        try\n        {\n            //todo: fix DI so dbcontext is created on each call to the controller\n            using (_catRepo)\n            {\n                return _catRepo.Get().Where(s =&gt; s.TagId == tagId.ToString()).SingleOrDefault();\n            }\n        }\n        catch (Exception e)\n        {\n            //todo: add logging\n            Console.WriteLine(e);\n            throw;\n        }\n    }       \n}\n</code></pre>\n\n<p>The using statement around the _catRepo object is not behaving as expected. After I make the first service call the _catRepo is disposed of. On a subsequent call I'm expecting to have a new _catRepo instantiated. However, this is not the case since the error I'm getting talks about the dbcontext being disposed. </p>\n\n<p>I've tried changing the LifeTimeManager to some of the other ones available but that didn't help.</p>\n\n<p>I also started going down a different route where the generic repository would take a second generic class and instantiate its own dbcontext from it. However, when I did that Unity couldn't find my controller's single-parameter constructor.</p>\n\n<p>I guess what I really need, per the comments below, is a way to instantiate the <code>DbContext</code> on a per-request basis. I don't know how to go about doing that though.</p>\n\n<p>Any hints would be greatly appreciated.</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-identity"], "comments": [{"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1507147976, "post_id": 46573291, "comment_id": 80100434, "body": "Are you sure the entries are not being saved to the database? Have you done a manual check?"}, {"owner": {"reputation": 39, "user_id": 1880156, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5f7db01bd8fdaa4559820858673402d?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Luiz dos Reis Santos", "link": "https://stackoverflow.com/users/1880156/jo%c3%a3o-luiz-dos-reis-santos"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1507203349, "post_id": 46573291, "comment_id": 80122057, "body": "Hi Juan, I checked via SSMS, the data is not there"}], "answers": [{"comments": [{"owner": {"reputation": 766, "user_id": 7045253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6VG0WK0g_Ow/AAAAAAAAAAI/AAAAAAAAD2E/Y3UnA5mNJ58/photo.jpg?sz=128", "display_name": "KarateJB", "link": "https://stackoverflow.com/users/7045253/karatejb"}, "reply_to_user": {"reputation": 39, "user_id": 1880156, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5f7db01bd8fdaa4559820858673402d?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Luiz dos Reis Santos", "link": "https://stackoverflow.com/users/1880156/jo%c3%a3o-luiz-dos-reis-santos"}, "edited": false, "score": 0, "creation_date": 1507240907, "post_id": 46578436, "comment_id": 80143817, "body": "No problem and happy coding  :)"}], "tags": [], "owner": {"reputation": 766, "user_id": 7045253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6VG0WK0g_Ow/AAAAAAAAAAI/AAAAAAAAD2E/Y3UnA5mNJ58/photo.jpg?sz=128", "display_name": "KarateJB", "link": "https://stackoverflow.com/users/7045253/karatejb"}, "is_accepted": true, "score": 1, "last_activity_date": 1507181361, "creation_date": 1507181361, "answer_id": 46578436, "question_id": 46573291, "link": "https://stackoverflow.com/questions/46573291/identity-framework-2-does-not-apply-changes-on-new-custom-entity/46578436#46578436", "title": "Identity Framework 2 does not apply changes on new custom entity", "body": "<p>Is the <code>UserCompany</code> model supposed to be like this</p>\n\n<pre><code>public class UserCompany\n{\n   [Key, Column(Order = 1)]\n   public string UserId { get; set; }\n\n   [ForeignKey(\"UserId \")]\n   public virtual ApplicationUser ApplicationUser { get; set; }\n\n   [Key, Column(Order = 2)]\n   public string DataAreaId { get; set; }\n\n   [ForeignKey(\"DataAreaId\")]\n   public virtual Company Company { get; set; }\n}\n</code></pre>\n\n<p>And check if you use <code>TransactionScope</code> and not commit it.\nHope it helps!</p>\n"}], "owner": {"reputation": 39, "user_id": 1880156, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5f7db01bd8fdaa4559820858673402d?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Luiz dos Reis Santos", "link": "https://stackoverflow.com/users/1880156/jo%c3%a3o-luiz-dos-reis-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 46578436, "answer_count": 1, "score": 0, "last_activity_date": 1507181361, "creation_date": 1507147477, "question_id": 46573291, "link": "https://stackoverflow.com/questions/46573291/identity-framework-2-does-not-apply-changes-on-new-custom-entity", "title": "Identity Framework 2 does not apply changes on new custom entity", "body": "<p>I'm new to Identity Framework and maybe what I'm doing here is not the best approach, but either way, here is my scenario:</p>\n\n<p>Beside the \"Role\" factor, some areas on my application should consider also if a given user is attached to a given \"Company\".</p>\n\n<p>I created a new entity \"Company\" (very simple, only with Id and Name) and a relationship entity \"UserCompany\" (with the user and the company's Id). I tried to make it as similar as possible with the structure used between Roles and Users on Identity Framework. </p>\n\n<p>In my ApplicationDbContext I added both DbSets and some logic for, for example, adding a list of companies to a user. </p>\n\n<p>The problem that I'm facing is that \"SaveChanges\" does not apply the changes to the database. \n*Edit: no error is thrown and the result of SaveChanges() is \"1\".</p>\n\n<p>Here is a sample code from my ApplicationDbContext</p>\n\n<pre><code>public class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n{\n    public DbSet&lt;Company&gt; Companies { get; set; }\n\n    public DbSet&lt;UserCompany&gt; UserCompanies { get; set; }\n\n    //constructors, etc...\n\n    public void AddToCompanies(string _userId, params string[] _companyIds)\n    {\n        foreach (var companyId in _companyIds)\n        {\n            UserCompanies.Add(new UserCompany()\n            {\n                UserId = _userId,\n                DataAreaId = companyId\n            });\n        }\n\n        int result = this.SaveChanges();\n\n    }\n\n}\n</code></pre>\n\n<p>And here is how I mapped this \"UserCompany\" entity</p>\n\n<pre><code> public class UserCompany\n{\n    [Key, Column(Order = 1), ForeignKey(\"ApplicationUser\")]\n    public string UserId { get; set; }\n    public virtual ApplicationUser ApplicationUser { get; set; }\n\n    [Key, Column(Order = 2), ForeignKey(\"Company\")]\n    public string DataAreaId { get; set; }\n    public virtual Company Company { get; set; }\n}\n</code></pre>\n\n<p>On my UserAdminController class I created a private ApplicationDbContext object that is responsible for calling this logic. I suspect there is some problem in the way I'm dealing with two diferent contexts to save this data (one inside the ApplicationUserManager object and this new one), but I'm not sure if this is really the problem or if I'm missing something else here.</p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1507146777, "post_id": 46573054, "comment_id": 80099848, "body": "Are the actions in another table? If so you can do <code>.Take(db.Actions.Count())</code> to take the right amount of rows."}, {"owner": {"reputation": 99, "user_id": 8657976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83cac051c58ea6e544330cfef1c784fd?s=128&d=identicon&r=PG&f=1", "display_name": "Titoy Koh", "link": "https://stackoverflow.com/users/8657976/titoy-koh"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1507146915, "post_id": 46573054, "comment_id": 80099909, "body": "@dcg Action is a column in the same table."}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1507147059, "post_id": 46573054, "comment_id": 80099971, "body": "Then you could do something like <code>db.Sample.Select(x=&gt;x.Action).Distinct().Count()</code> and use that number in the <code>Take</code>."}], "answers": [{"comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1507148904, "post_id": 46573195, "comment_id": 80100842, "body": "I would remove the <code>group</code> part from your answer."}], "tags": [], "owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "is_accepted": true, "score": 1, "last_activity_date": 1507147131, "creation_date": 1507147131, "answer_id": 46573195, "question_id": 46573054, "link": "https://stackoverflow.com/questions/46573054/retrieve-last-n-rows-starting-from-last-row-with-specified-value/46573195#46573195", "title": "Retrieve Last n Rows Starting From Last Row with Specified Value", "body": "<p>You could group by, then find the max of <code>Start</code>, then get all Id's greater than or equal to max of <code>Start</code>.  Actually, grouping is not necessary if your data is sorted.</p>\n\n<pre><code>var maxIdOfStart = collection\n    .OrderByDescending(x =&gt; x.Id)\n    .First(x =&gt; x.Action == \"Start\");\n\nvar lastNOfStart = collection\n    .Where(x =&gt; x.Id &gt;= maxIdOfStart.Id);\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 8657976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83cac051c58ea6e544330cfef1c784fd?s=128&d=identicon&r=PG&f=1", "display_name": "Titoy Koh", "link": "https://stackoverflow.com/users/8657976/titoy-koh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 46573195, "answer_count": 1, "score": 1, "last_activity_date": 1507147188, "creation_date": 1507146625, "question_id": 46573054, "link": "https://stackoverflow.com/questions/46573054/retrieve-last-n-rows-starting-from-last-row-with-specified-value", "title": "Retrieve Last n Rows Starting From Last Row with Specified Value", "body": "<p>I have a sample table below:</p>\n\n<pre><code>Id  Action  Qty\n1   Start   3\n2   Give    2\n3   Take    1\n...\nX   Start   8\nX+1 Give    5\nX+2 Take    3\n</code></pre>\n\n<p>Using EF, I would like to retrieve the last number of rows starting from last row where Action=\"Start\".</p>\n\n<p>With the sample table above, the result should be:</p>\n\n<pre><code>Id  Action  Qty\nX   Start   8\nX+1 Give    5\nX+2 Take    3\n</code></pre>\n\n<p>The following code will only work if there are 2 rows after the last Action=\"Start\" row which is not always the case:</p>\n\n<pre><code>var result = db.Sample.OrderByDescending(x =&gt; x.Id).Take(3); // not always 3\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "linq", "xml-parsing"], "answers": [{"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1507146626, "creation_date": 1507146626, "answer_id": 46573055, "question_id": 46572920, "link": "https://stackoverflow.com/questions/46572920/need-help-retrieving-xml-data-using-linq/46573055#46573055", "title": "Need help retrieving XML data using Linq", "body": "<blockquote>\n<pre><code>ID = Address.Attributes(\"ID\")?.ToString(),\n</code></pre>\n</blockquote>\n\n<p>You want to use <code>Attribute(name)</code> (without <code>s</code>) instead:</p>\n\n<pre><code>ID = Address.Attributes(\"ID\")?.Value,\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1745, "user_id": 1210350, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/krY4V.jpg?s=128&g=1", "display_name": "NoBullMan", "link": "https://stackoverflow.com/users/1210350/nobullman"}, "edited": false, "score": 0, "creation_date": 1507207181, "post_id": 46573488, "comment_id": 80124491, "body": "Both Paul and Yuri&#39;s suggestions worked. Paul&#39;s had the least amount of change and also in Yuri&#39;s solution it complained about c being a character in !string.IsNullOrEmpty(c). I wish I could mark both as solutions, something maybe SOF might think about."}], "tags": [], "owner": {"reputation": 2675, "user_id": 141508, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/qsxSY.png?s=128&g=1", "display_name": "Paul Smith", "link": "https://stackoverflow.com/users/141508/paul-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1507148769, "last_edit_date": 1507148769, "creation_date": 1507148354, "answer_id": 46573488, "question_id": 46572920, "link": "https://stackoverflow.com/questions/46572920/need-help-retrieving-xml-data-using-linq/46573488#46573488", "title": "Need help retrieving XML data using Linq", "body": "<p>First off, the <code>GetIDSData()</code> method does not compile as is, because at the line <code>xmlDoc.InnerXml = sXMLString</code>, <code>xmlDoc</code> has not been defined.</p>\n\n<p>I'm assuming you want <code>xmlDoc</code> to be an <code>XmlDocument</code> loaded with the contents of the <code>sXMLString</code> parameter, so I'm changing that line to:</p>\n\n<pre><code>XmlDocument xmlDoc = new XmlDocument {InnerXml = sXMLString};\n</code></pre>\n\n<p>Also, your <code>root</code> variable is never used, so I removed it for clarity.</p>\n\n<p>Now as for the main part of your question, given your current syntax, you are calling <code>.ToString()</code> on a <em>collection</em> of attributes, which is obviously not what you want. To fix this, when you're iterating the <code>AddressInfoList</code>, You want to fetch the attribute values like:</p>\n\n<pre><code>ID = Address.Attributes(\"ID\")?.Single().Value\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ID = address.Attribute(\"ID\")?.Value\n</code></pre>\n\n<p>...rather than <code>Address.Attributes(\"ID\")?.ToString()</code> as you have above.</p>\n"}, {"tags": [], "owner": {"reputation": 2612, "user_id": 1313789, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jG0DC.jpg?s=128&g=1", "display_name": "Yuri", "link": "https://stackoverflow.com/users/1313789/yuri"}, "is_accepted": false, "score": 1, "last_activity_date": 1507152623, "last_edit_date": 1507152623, "creation_date": 1507149834, "answer_id": 46573850, "question_id": 46572920, "link": "https://stackoverflow.com/questions/46572920/need-help-retrieving-xml-data-using-linq/46573850#46573850", "title": "Need help retrieving XML data using Linq", "body": "<p>You are not selecting values of attributes. In your code you are selecting attributes. Not sure what are you trying to achieve, but here is my modified version of your code that loads all elements into DataTable </p>\n\n<pre><code>public static DataTable GetIDSData(string sXMLString)\n{\n  DataTable result = new DataTable();\n\nresult.Columns.Add(\"Success\");\nresult.Columns.Add(\"ErrorMessage\");\nresult.Columns.Add(\"ID\");\nresult.Columns.Add(\"PE_NAME\");\nresult.Columns.Add(\"PE_ID\");\nresult.Columns.Add(\"CODE\");\nresult.Columns.Add(\"DATA\");\n\nXmlDocument xmlDoc = new XmlDocument();\nxmlDoc.InnerXml = sXMLString;\nXmlElement root = xmlDoc.DocumentElement;\nXDocument doc = XDocument.Parse(sXMLString);\nXmlNode node = xmlDoc.SelectSingleNode(\"DATA_RESPONSE/DATA\");\n\nif (node != null)\n{\n    var AddressInfoList = doc.Root.Descendants(\"ROW\").Select(Address =&gt; new\n    {\n        ID = Address.Attributes(\"ID\").Select(i=&gt;i.Value) ,\n        PEName = Address.Attributes(\"PE_NAME\").Select(i=&gt;i.Value),\n        PEID = Address.Attributes(\"PE_ID\").Select(i=&gt;i.Value),\n        Code = Address.Attributes(\"CODE\").Select(i=&gt;i.Value),\n        Data = Address.Attributes(\"DATA\").Select(i=&gt;i.Value),\n    }).ToList();\n\n\n\n    AddressInfoList.ForEach(e =&gt; \n    {\n        e.Code.ToList().ForEach(c =&gt;\n        {\n            DataRow row = result.NewRow();\n            if (!string.IsNullOrEmpty(c))\n            {\n\n                row[\"Success\"] = true;\n                row[\"ErrorMessage\"] = \"\";\n                row[\"ID\"] = e.ID.First();\n                row[\"PE_NAME\"] = e.PEName.First();\n                row[\"PE_ID\"] = e.PEID.First();\n                row[\"CODE\"] = e.Code.First();\n                row[\"DATA\"] = e.Data.First();\n\n            }\n            else\n            {\n                row[\"Success\"] = false;\n                row[\"ErrorMessage\"] = \"Invalid Code; code is empty.\";\n            }\n            result.Rows.Add(row);\n\n    });});\n    result.Dump();\n    return result;\n}\nreturn result;\n</code></pre>\n\n<p>}</p>\n\n<p>And this is the result that you will get in your datatable.\n<a href=\"https://i.stack.imgur.com/JdbXz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JdbXz.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1745, "user_id": 1210350, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/krY4V.jpg?s=128&g=1", "display_name": "NoBullMan", "link": "https://stackoverflow.com/users/1210350/nobullman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 46573488, "answer_count": 3, "score": 0, "last_activity_date": 1507152623, "creation_date": 1507146064, "question_id": 46572920, "link": "https://stackoverflow.com/questions/46572920/need-help-retrieving-xml-data-using-linq", "title": "Need help retrieving XML data using Linq", "body": "<p>I am trying to retrieve data from an XML file and return the parsed data in a list. Depending on what I use to access the data (Element or Attributes) I either get null (in case of Element) or something I cannot decipher (in case of Attributes).</p>\n\n<p>XML Looks like this:</p>\n\n<pre><code>&lt;DATA_RESPONSE&gt;\n    &lt;HEADER&gt;\n        &lt;MSGID&gt;IS20101P:091317125610:98::34:0&lt;/MSGID&gt;\n    &lt;/HEADER&gt;\n    &lt;DATA&gt;\n        &lt;ROW ID='IS20101P' PE_NAME='APP-029' PE_ID='4' CODE='4829' DATA='5,1,500,1'  /&gt;\n        &lt;ROW ID='IS20101P' PE_NAME='APPS-029' PE_ID='4' CODE='4829' DATA='4,1,500,1' /&gt;\n        ...\n    &lt;/DATA&gt;\n    &lt;SUMMARY&gt;\n    &lt;/SUMMARY&gt;\n    &lt;ERRORS&gt;\n    &lt;/ERRORS&gt;\n&lt;/DATA_RESPONSE&gt;\n</code></pre>\n\n<p>I am using the following to get the data. I read the file and store XML in a string and call a method with this string as argument:</p>\n\n<pre><code>public static Hashtable GetIDSData(string sXMLString)\n{\n    Hashtable result = new Hashtable();\n\n    result.Add(\"Success\", false);\n    result.Add(\"ErrorMessage\", \"\");\n    result.Add(\"ID\", \"\");\n    result.Add(\"PE_NAME\", \"\");\n    result.Add(\"PE_ID\", \"\");\n    result.Add(\"CODE\", \"\");\n    result.Add(\"DATA\", \"\");\n\n    xmlDoc.InnerXml = sXMLString;\n    XmlElement root = xmlDoc.DocumentElement;\n    XDocument doc = XDocument.Parse(sXMLString);\n    XmlNode node = xmlDoc.SelectSingleNode(\"DATA_RESPONSE/DATA\"); \n\n    if (node != null)\n    {\n        var AddressInfoList = doc.Root.Descendants(\"ROW\").Select(Address =&gt; new\n        {\n            ID = Address.Attributes(\"ID\")?.ToString(),\n            PEName = Address.Attributes(\"PE_NAME\")?.ToString(),\n            PEID = Address.Attributes(\"PE_ID\")?.ToString(),\n            Code = Address.Attributes(\"CODE\")?.ToString(),\n            Data = Address.Attributes(\"DATA\")?.ToString(),\n        }).ToList();\n\n        foreach (var AddressInfo in AddressInfoList)\n        {\n            if (string.IsNullOrEmpty(AddressInfo.Code))\n            {\n                result[\"Success\"] = false;\n                result[\"ErrorMessage\"] = \"Invalid Code; code is empty.\";\n            }\n            else\n            {\n                result[\"Success\"] = true;\n                result[\"ErrorMessage\"] = \"\";\n                result[\"ID\"] = AddressInfo.ID;\n                result[\"PE_NAME\"] = AddressInfo.PEName;\n                result[\"PE_ID\"] = AddressInfo.PEID;\n                result[\"CODE\"] = AddressInfo.Code;\n                result[\"DATA\"] = AddressInfo.Data;\n            }\n        }\n        return result;\n    }\n</code></pre>\n\n<p>In Linq section, if I use Address.Element(\"ID\").Value, I get null returned.\nThere is no namespace used in XML.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq"], "comments": [{"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 1, "creation_date": 1507146083, "post_id": 46572868, "comment_id": 80099471, "body": "<code>Find</code> is for locating by primary key.  I think you want to use <code>Where</code>"}, {"owner": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1507146284, "post_id": 46572868, "comment_id": 80099597, "body": "@stephen.vakil Find() actually only works on List&lt;T&gt; while Where() works on an IEnumerable&lt;T&gt;, but yes I agree it should be changed"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "reply_to_user": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "edited": false, "score": 0, "creation_date": 1507146487, "post_id": 46572868, "comment_id": 80099708, "body": "@RH6 I assumed it was an attempt to use <a href=\"https://msdn.microsoft.com/en-us/library/gg696418(v=vs.113).aspx\" rel=\"nofollow noreferrer\"><code>DbSet.Find</code></a> (which seems to match the error)"}, {"owner": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1507146650, "post_id": 46572868, "comment_id": 80099791, "body": "@stephen.vakil dbSet.Find() is a different method than the Linq Find() method"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "reply_to_user": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "edited": false, "score": 0, "creation_date": 1507146861, "post_id": 46572868, "comment_id": 80099889, "body": "@RH6 The code is invoking the former, which expects <code>object[]</code> as the parameter, not a predicate.  Thus the error."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1507146983, "post_id": 46572868, "comment_id": 80099938, "body": "Where is <code>Find()</code> coming from? I see nothing in <code>System.Linq</code>."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1507147053, "post_id": 46572868, "comment_id": 80099968, "body": "LINQ doesn&#39;t have a <code>Find</code> method. This is about instance methods of <code>List&lt;T&gt;</code> and <code>DbSet&lt;T&gt;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1507146615, "post_id": 46572964, "comment_id": 80099777, "body": "don&#39;t use <code>object</code>. Write the actual type or <code>var</code>"}], "tags": [], "owner": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "is_accepted": true, "score": 1, "last_activity_date": 1507146831, "last_edit_date": 1507146831, "creation_date": 1507146278, "answer_id": 46572964, "question_id": 46572868, "link": "https://stackoverflow.com/questions/46572868/find-object-that-meets-multiple-conditions-using-linq/46572964#46572964", "title": "Find object that meets multiple conditions using LINQ", "body": "<p>Try using   <code>FirstOrDefault</code> which will return <code>null</code> if no object meets the conditions:</p>\n\n<pre><code> var myObject = db.MinimumProductInfo.FirstOrDefault(pc =&gt; pc.ItemCode == \n        productInfoWithNote.ItemCode &amp;&amp; pc.Region == productInfoWithNote.Region);\n\n    if(myObject != null)\n    {\n         // use your object here\n    } \n</code></pre>\n\n<p><strong>NOTE</strong>:  <code>Find</code> method returns the first match element if exists and if not it will return the default value of element's type and you are using it like it will return a boolean value.</p>\n"}], "owner": {"reputation": 801, "user_id": 4462995, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/509813639/picture?type=large", "display_name": "djblois", "link": "https://stackoverflow.com/users/4462995/djblois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 46572964, "answer_count": 1, "score": 0, "last_activity_date": 1507146831, "creation_date": 1507145887, "question_id": 46572868, "link": "https://stackoverflow.com/questions/46572868/find-object-that-meets-multiple-conditions-using-linq", "title": "Find object that meets multiple conditions using LINQ", "body": "<p>I am trying to find an object in my database that meets two conditions, I did a search on stackoverflow and found this <a href=\"https://stackoverflow.com/questions/12406750/find-an-item-in-a-generic-list-by-specifying-multiple-conditions\" title=\"one\">one</a> which looks exactly like what I need.  However, I have this code:</p>\n\n<pre><code>if (db.MinimumProductInfo.Find(pc =&gt; pc.ItemCode == productInfoWithNote.ItemCode &amp;&amp; pc.Region == productInfoWithNote.Region))\n</code></pre>\n\n<p>and I am receiving this error:</p>\n\n<blockquote>\n  <p>Cannot Convert Lambda Expression to type 'object[]' because it is not\n  a delegate type.</p>\n</blockquote>\n\n<p>MinimumProductInfo is my class and productInfoWithNote is the viewmodel that I pass in to the method.</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1507156556, "post_id": 46572831, "comment_id": 80103942, "body": "That you&#39;re running into this problem indicates that there&#39;s something fishy in the design of your application. But if you really need to do this, try a <code>ManualResetEventSlim</code> and use the <a href=\"https://msdn.microsoft.com/en-us/library/dd321783(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Wait(CancellationToken)</a> method. Just change your <code>Dispose</code> method to set the cancellation token before disposing the MRE. Honestly, though, you need to re-think your design. Something like this really shouldn&#39;t be necessary."}], "answers": [{"tags": [], "owner": {"reputation": 18493, "user_id": 8176478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bfdd0a05bddc5a0bcaf042597babdef?s=128&d=identicon&r=PG&f=1", "display_name": "MKR", "link": "https://stackoverflow.com/users/8176478/mkr"}, "is_accepted": true, "score": 1, "last_activity_date": 1507155260, "creation_date": 1507155260, "answer_id": 46574996, "question_id": 46572831, "link": "https://stackoverflow.com/questions/46572831/disposing-a-manualresetevent-on-another-thread/46574996#46574996", "title": "Disposing a manualResetevent on another thread", "body": "<p>The <code>ObjectDisposedException</code> is raised only when an object is already disposed before calling a member function. This is not happening in your case as function <code>mre.WaitOne(timeout)</code> is called before <code>mre.Dispose()</code>. </p>\n\n<p>Once simple fix could be to call <code>mre.WaitOne(timeout)</code> function in a loop with a shorter timeout value. e.g. one want to have <code>10 seconds</code> timeout for <code>WaitForItem</code> function then <code>mre.WaitOne(timeout)</code> can be called with just 1 sec timeout and it will give up after 10 tries. </p>\n\n<p>A typical implementation could for <code>WaitForItem</code> function is explained below. <code>WaitForItem</code> has got 3 possible return values. </p>\n\n<p>1 = Set is triggered on <code>mre</code>\n0 = Set is not triggered within specified timeout\n-1 = Object is dispose before timeout. </p>\n\n<pre><code>public int WaitForItem(int timeout){\n   try{\n       int nReturnCode = 0;\n       int nTimeElapsed = 0;\n       while (true)\n       {\n           if (mre.WaitOne(1000))  //just wait for  1 second\n           {\n               nReturnCode = 1; //Set call on ManualResetEvent\n               break;\n           }\n           else  //Timeout need to repeat\n           {\n               nTimeElapsed += 1000;\n               if (nTimeElapsed &gt; timeout)\n               {\n                   nReturnCode = 0; //timeout\n                   break;\n               }\n           }\n       }\n       return nReturnCode;\n   }catch(ObjectDisposedException){\n       return -1; //Exception \n   }\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 58, "user_id": 3026017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6429562483483adcfaa7add42c6b5137?s=128&d=identicon&r=PG&f=1", "display_name": "user3026017", "link": "https://stackoverflow.com/users/3026017/user3026017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 46574996, "answer_count": 1, "score": 0, "last_activity_date": 1507155260, "creation_date": 1507145755, "question_id": 46572831, "link": "https://stackoverflow.com/questions/46572831/disposing-a-manualresetevent-on-another-thread", "title": "Disposing a manualResetevent on another thread", "body": "<p>Similar to <a href=\"https://stackoverflow.com/questions/2586306/why-do-threads-waiting-on-a-manualresetevent-continue-waiting-even-when-close\">this question</a> I have a class with a private ManualReset event:</p>\n\n<pre><code>class A {\n       private ManualResetEvent mre = new ManualResetEvent(true);\n       private void Method(){\n            //do something\n            mre.Reset();\n       }      \n       public bool WaitForItem(int timeout){\n           try{\n               return mre.WaitOne(timeout)\n           }catch(ObjectDisposedException){\n               return false;\n           }\n      }\n      public void Dispose(){\n           mre.Dispose();\n      }\n}\n</code></pre>\n\n<p>How can I check that when <code>Dispose</code> is called <code>WaitForItem</code> method returns false, and doesn't block waiting.</p>\n\n<p>The code is something similar to:</p>\n\n<pre><code>   A a = new A(1);\n   a.Method();\n   bool finished = true;\n   Thread t1 = new Thread(() =&gt;\n   {\n       finished = a.WaitForItem(Timeout.Infinite);\n   });\n   Thread t2 = new Thread(() =&gt;\n   {\n       a.Dispose();\n   });\n   t1.Start();\n   t2.Start();\n   t1.Join();\n   t2.Join();\n</code></pre>\n\n<p>The code blocks in waiting an item forever (at <code>t1.Join()</code>). I understood that calling <code>Close</code>, which is also a mean of disposing an object,  doesn't affect the state of the handle, but how can I exit the method with false (catching an <code>ObjectDisposedException</code>) ? </p>\n\n<p>Even though instead of calling <code>a.Dispose()</code> on the second thread calling another method which Disposes the ManualResetEvent the call to WaitOne() it's blocked.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1507146108, "post_id": 46572825, "comment_id": 80099490, "body": "Try resetting the stream&#39;s position to 0 before you load it to the reader.  <code>stream.Position = 0</code>"}, {"owner": {"reputation": 13, "user_id": 5994379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/572817cf0ee7c8738eedede1bf306706?s=128&d=identicon&r=PG", "display_name": "Jq Wang", "link": "https://stackoverflow.com/users/5994379/jq-wang"}, "reply_to_user": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "edited": false, "score": 0, "creation_date": 1507146457, "post_id": 46572825, "comment_id": 80099690, "body": "@Kyle thanks for your advice, that actually work. So I am wondering what causes that position move to the end of the file?"}], "answers": [{"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 4, "last_activity_date": 1507146580, "last_edit_date": 1507146580, "creation_date": 1507146466, "answer_id": 46573015, "question_id": 46572825, "link": "https://stackoverflow.com/questions/46572825/streamreader-readline-doesnt-consume-the-stream/46573015#46573015", "title": "StreamReader.ReadLine() doesn&#39;t consume the stream", "body": "<p>When reading from a Stream, the current position is updated accordingly. As an example, imagine the following steps:</p>\n\n<ol>\n<li>The position starts off at 0 (the beginning of the stream).</li>\n<li>A single byte is read - This updates the position to 1.</li>\n<li>Another byte is read - This updates the position to 2.</li>\n</ol>\n\n<p>If there were only two bytes in the stream, the position is now considered to be <a href=\"https://en.wikipedia.org/wiki/End-of-file\" rel=\"nofollow noreferrer\">EOF</a> - It is no longer possible to read additional bytes, as they've already been read.</p>\n\n<p>Relating this to your example, the call to <code>await file.CopyToAsync(stream)</code> advances the stream's position to EOF. As such, when you wrap a <code>StreamReader</code> around it, there's nothing left to read. The process is the same for writing - The <code>CopyToAsync</code> operation is advancing both the input and the output streams, resulting in both streams sitting at EOF once the operation completes.</p>\n\n<p>To complicate things a little, Streams can be forward-only, meaning that it is not possible to go backwards once data has been read. As you are working with a <code>FileStream</code>, I think you are able to go back to the beginning, like so:</p>\n\n<pre><code>await file.CopyToAsync(stream);\nstream.Position = 0;\n</code></pre>\n\n<p>You could also use <code>stream.Seek(0, SeekOrigin.Begin)</code>, as mentioned in this answer: <a href=\"https://stackoverflow.com/questions/7238929/stream-seek0-seekorigin-begin-or-position-0\">Stream.Seek(0, SeekOrigin.Begin) or Position = 0</a></p>\n"}], "owner": {"reputation": 13, "user_id": 5994379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/572817cf0ee7c8738eedede1bf306706?s=128&d=identicon&r=PG", "display_name": "Jq Wang", "link": "https://stackoverflow.com/users/5994379/jq-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 46573015, "answer_count": 1, "score": 1, "last_activity_date": 1562870521, "creation_date": 1507145725, "last_edit_date": 1562870521, "question_id": 46572825, "link": "https://stackoverflow.com/questions/46572825/streamreader-readline-doesnt-consume-the-stream", "title": "StreamReader.ReadLine() doesn&#39;t consume the stream", "body": "<p>I am starting a new web application project where a user can upload a <code>.csv</code> file so that I can process the file. </p>\n\n<p>Currently I am able to let the user upload the file but when I try to use the <code>StreamReader</code> to read from the stream that generated from the file, it seems that the <code>StreamReader</code> cannot read from the stream properly.</p>\n\n<p>By the way, for the upload file part I followed the Microsoft tutorial <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/file-uploads\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Here is the code for the View.</p>\n\n<pre><code>&lt;form method=\"post\" enctype=\"multipart/form-data\" asp-controller=\"Upload\" asp-action=\"Upload\"&gt;\n&lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-10\"&gt;\n        &lt;p&gt;Upload one or more files using this form:&lt;/p&gt;\n        &lt;input type=\"file\" name=\"files\" &gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-10\"&gt;\n        &lt;input type=\"submit\" value=\"Upload\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>Here is my code for the Controller</p>\n\n<p>The len, len2 and p are variables for debugging purposes.</p>\n\n<pre><code>[HttpPost]\n    public async Task&lt;IActionResult&gt; Upload(IFormFile file)\n    {\n        if (file != null &amp;&amp; file.Length &gt; 0)\n        {\n            var filePath = Path.GetTempFileName(); //Note: May throw excepetion when temporary file exceeds 65535 per server\n            var stream = new FileStream(filePath, FileMode.Create);\n            await file.CopyToAsync(stream);//\n            long len = stream.Length;// 412 bytes\n            StreamReader reader = new StreamReader(stream);//*\n            int p = reader.Peek();//currently the next character is EoF\n            var val = reader.ReadLine();\n            long len2 = stream.Length;// 412 bytes\n            bool end = reader.EndOfStream;// true\n\n            //do some stuff here\n\n            return RedirectToAction(\"Success\");\n        }\n        else\n        {\n            return RedirectToAction(\"Upload_fail\");//file not found\n        }\n    }\n</code></pre>\n\n<p>Any advice or help will be appreciated.</p>\n"}, {"tags": ["c#", "system.io.compression"], "comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 1, "creation_date": 1507145637, "post_id": 46572757, "comment_id": 80099229, "body": "you&#39;re doing a <code>TrimEnd</code>, so it looks like its just doing what it is expected to do?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1507145870, "post_id": 46572757, "comment_id": 80099364, "body": "Have you verified that <code>value</code> contains what you expect?  That <code>TrimEnd()</code> sure looks suspect."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1507146376, "post_id": 46572757, "comment_id": 80099652, "body": "and look into the encoding: reducing from Unicode to 1252 <i>might</i> have this effect (thinking about stuff like the no-break-space and other fancy whitespace)"}, {"owner": {"reputation": 283, "user_id": 1337743, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98d91defcd085eb1b1b82b15bdcb2a62?s=128&d=identicon&r=PG", "display_name": "Rothariger", "link": "https://stackoverflow.com/users/1337743/rothariger"}, "edited": false, "score": 0, "creation_date": 1507169113, "post_id": 46572757, "comment_id": 80106785, "body": "No, the trimend is working as expected."}, {"owner": {"reputation": 283, "user_id": 1337743, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98d91defcd085eb1b1b82b15bdcb2a62?s=128&d=identicon&r=PG", "display_name": "Rothariger", "link": "https://stackoverflow.com/users/1337743/rothariger"}, "edited": false, "score": 0, "creation_date": 1507169210, "post_id": 46572757, "comment_id": 80106814, "body": "dlatikay yes that could be, I will try with other encoding."}], "owner": {"reputation": 283, "user_id": 1337743, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98d91defcd085eb1b1b82b15bdcb2a62?s=128&d=identicon&r=PG", "display_name": "Rothariger", "link": "https://stackoverflow.com/users/1337743/rothariger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507145437, "creation_date": 1507145437, "question_id": 46572757, "link": "https://stackoverflow.com/questions/46572757/ziparchive-missing-whitespaces", "title": "ZipArchive missing whitespaces?", "body": "<p>i don't know how to explain my issue, but i'm gonna try.\ni have a batch services that creates several text files and put them in a zip file.</p>\n\n<p>there are two files that have a lot of white spaces. we are talking about thousand of white spaces between text.</p>\n\n<p>the thing is this file that i've sent by email, when it is uncompressed it has less characters that it has to be. it should 10170 columns, but instead i have 10152.</p>\n\n<p>this is the way that i've create the zip based on the stringbuilders.</p>\n\n<pre><code> var mStream = new MemoryStream();\n        using (var zip = new ZipArchive(mStream, ZipArchiveMode.Create, true))\n        {\n            foreach (var builder in Builders)\n            {\n                if (string.IsNullOrWhiteSpace(builder.Value.ToString()))\n                    continue;\n                var entry = zip.CreateEntry(builder.Key);\n                var stream = entry.Open();\n                var value = builder.Value.ToString().TrimEnd(Environment.NewLine.ToCharArray());\n                var values = Encoding.GetEncoding(1252).GetBytes(value);\n                stream.Write(values, 0, values.Length);\n                stream.Close();\n            }\n\n        }\n</code></pre>\n\n<p>Then the stream is attached as a mail attachment.</p>\n\n<p>thanks!</p>\n"}, {"tags": ["c#", "windows", "vbscript"], "comments": [{"owner": {"reputation": 16152, "user_id": 205233, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd3b79356ba4ea1f7e8d6be783446e59?s=128&d=identicon&r=PG&f=1", "display_name": "Filburt", "link": "https://stackoverflow.com/users/205233/filburt"}, "edited": false, "score": 0, "creation_date": 1507146064, "post_id": 46572709, "comment_id": 80099464, "body": "Might be a 32-Bit vs. 64-Bit issue like <a href=\"https://stackoverflow.com/q/11418353/205233\">VB Script code not calling c# function</a>"}, {"owner": {"reputation": 14608, "user_id": 692942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2e501358dbf183e074c2f9a7896fbff?s=128&d=identicon&r=PG&f=1", "display_name": "user692942", "link": "https://stackoverflow.com/users/692942/user692942"}, "edited": false, "score": 0, "creation_date": 1507150790, "post_id": 46572709, "comment_id": 80101702, "body": "If the problem isn\u2019t <code>ComVisible</code> go through the <a href=\"https://stackoverflow.com/a/35985827/692942\">COM DLL Checklist in this answer</a> to workout the problem."}, {"owner": {"reputation": 14608, "user_id": 692942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2e501358dbf183e074c2f9a7896fbff?s=128&d=identicon&r=PG&f=1", "display_name": "user692942", "link": "https://stackoverflow.com/users/692942/user692942"}, "edited": false, "score": 0, "creation_date": 1507164519, "post_id": 46572709, "comment_id": 80105836, "body": "Related <a href=\"https://stackoverflow.com/q/46571151/692942\">stackoverflow.com/q/46571151/692942</a>. Would have been useful to know you had already posted a question."}, {"owner": {"reputation": 303, "user_id": 8201204, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/9c87108914675594a11f39a730627a31?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/8201204/jason"}, "edited": false, "score": 0, "creation_date": 1507218764, "post_id": 46572709, "comment_id": 80132840, "body": "sorry. will not repeat."}], "owner": {"reputation": 303, "user_id": 8201204, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/9c87108914675594a11f39a730627a31?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/8201204/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1507218991, "answer_count": 0, "score": 0, "last_activity_date": 1507145262, "creation_date": 1507145262, "question_id": 46572709, "link": "https://stackoverflow.com/questions/46572709/registered-a-dll-using-regasm-on-windows-2012-server-successfully-vb-script-try", "closed_reason": "Duplicate", "title": "Registered a DLL using Regasm on windows 2012 server successfully. VB script trying to create an object says &quot;Can&#39;t find the object", "body": "<p>Successfully registered a .NET DLL and I can see the ProgId in the registry as well. But I can't call it from my VB script</p>\n\n<pre><code> Dim objQRM\n\n Set objQRM = CreateObject(\"QRM.RiskFramework.161\")\n\nIF IsNull(objQRM) Then\n     Msgbox(\"Failed to create QRM COM object\")\n    wscript.quit(1)\n End If\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/95Uam.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95Uam.png\" alt=\"VB script errror\"></a></p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 412, "user_id": 2788979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLHu8.jpg?s=128&g=1", "display_name": "Farzan Mirheydari", "link": "https://stackoverflow.com/users/2788979/farzan-mirheydari"}, "edited": false, "score": 0, "creation_date": 1507145986, "post_id": 46572691, "comment_id": 80099426, "body": "Could you post the code where you are fetching data from the database ?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1507146053, "post_id": 46572691, "comment_id": 80099458, "body": "Parcel has 2 relationships to customer so you need 2 FK and nav properties. CurrentCustomerId, ArchivedCustomerId. Make them both <code>int?</code> for optional since it probably can&#39;t be both at the same time. Then change your fliuent code to HasOptional."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1507146581, "post_id": 46572691, "comment_id": 80099756, "body": "As @SteveGreene pointed out. Or add <code>bool IsArchived</code> property (column) to the <code>Parsel</code> and replace the 2 collections with single <code>ICollection&lt;Parsel&gt; Parsels</code>. You can always filter out using the LINQ."}, {"owner": {"reputation": 83, "user_id": 8205587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KRVXk5BxcIs/AAAAAAAAAAI/AAAAAAAAA2c/ngGiSumXaHI/photo.jpg?sz=128", "display_name": "KotovP", "link": "https://stackoverflow.com/users/8205587/kotovp"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1507147435, "post_id": 46572691, "comment_id": 80100155, "body": "@SteveGreene and Ivan, thanks for answering, I thought it would be possible to have this configuration, but apparently it wouldn&#39;t. I will use the bool property. Thanks again"}], "owner": {"reputation": 83, "user_id": 8205587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KRVXk5BxcIs/AAAAAAAAAAI/AAAAAAAAA2c/ngGiSumXaHI/photo.jpg?sz=128", "display_name": "KotovP", "link": "https://stackoverflow.com/users/8205587/kotovp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507145212, "creation_date": 1507145212, "question_id": 46572691, "link": "https://stackoverflow.com/questions/46572691/ef-create-new-dependent-object-and-assign-parent-using-its-property", "title": "EF: create new dependent object and assign parent using its property", "body": "<h1><strong>Question</strong></h1>\n\n<p>As the title implies, I have a parent entity - Customer - and a dependent one - Parcel. They are connected via a one-to-many association. But, the Customer has two lists of Parcel object: currently processing ones and those, which were already delivered to him - CurrentParcels and ArchivedParcels in respect.</p>\n\n<p>Consider the situation, when I firstly create a Customer object and then the Parcel, which I want to be assigned to this Customer. I set the Parcel's attribute \"Customer\" to the one I have just created. But, how should I determine, to which of the Customer's lists it will be appended, current or archived? Now, it's added to the archived parcels, which, of course, is unacceptable.</p>\n\n<p>I understand, there is a dirty solution - manually remove the Parcel from the archived and then add it to the current, but it does not sound nice. Is there any method to solve this problem?</p>\n\n<h1><strong>Code Snippets (simplified)</strong></h1>\n\n<p><strong>Customer and Parcel models</strong></p>\n\n<pre><code>public class Customer\n{\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int Id { get; set; }\n\n    public virtual ICollection&lt;Parcel&gt; CurrentParcels { get; set; }\n    public virtual ICollection&lt;Parcel&gt; ArchivedParcels { get; set; }\n}\n\npublic class Parcel\n{\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int Id { get; set; }\n\n    public int CustomerId { get; set; }\n    public Customer Customer { get; set; }\n}\n</code></pre>\n\n<p><strong>Database context</strong></p>\n\n<pre><code>public class ParcelsManagementDBContext : DbContext\n{\n    public ParcelsManagementDBContext() : base(\"parcels\")\n    {\n        System.Data.Entity.Database.SetInitializer(\n            new DropCreateDatabaseIfModelChanges&lt;ParcelsManagementDBContext&gt;());\n    }\n\n    protected override void OnModelCreating(DbModelBuilder mb)\n    {\n        // Foreign key constraints creation\n        mb.Entity&lt;Parcel&gt;()\n            .HasRequired(p =&gt; p.Customer)\n            .WithMany(c =&gt; c.CurrentParcels)\n            .HasForeignKey(p =&gt; p.CustomerId);\n        mb.Entity&lt;Parcel&gt;()\n            .HasRequired(p =&gt; p.Customer)\n            .WithMany(c =&gt; c.ArchivedParcels)\n            .HasForeignKey(p =&gt; p.CustomerId);\n    }\n}\n</code></pre>\n\n<p><strong>Client code</strong></p>\n\n<pre><code>public void Code()\n{\n    var db = new ParcelsManagementDBContext();\n\n    // Add new customers to db\n    var cust = db.Customers.Add(new Customer()\n    {\n        Id = db.Customers.Count() + 1,\n        Name = \"Foo\",\n        Email = \"1@2.mier\"\n    });\n\n    // Add new parcel to db with created customer as owner\n    var parcel = db.Parcels.Add(new Parcel()\n    {\n        Id = db.Parcels.Count() + 1,\n        Name = \"Toys\",\n        Source = \"Pushkina str\",\n        Destination = \"Kolotushkina str\",\n        Urgency = \"high\",\n        Type = \"usual\",\n        IsConfirmed = false,\n        deliveryStarted = false,\n        Customer = cust\n    });\n    db.SaveChanges();\n    // So, here cust.ArchivedParcels will contain the parcel, but not the cust.CurrentParcels, if we fetch him from db again\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 2, "creation_date": 1507145037, "post_id": 46572610, "comment_id": 80098915, "body": "<a href=\"https://stackoverflow.com/questions/178147/how-can-i-verify-if-a-windows-service-is-running\" title=\"how can i verify if a windows service is running\">stackoverflow.com/questions/178147/&hellip;</a>"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1507145242, "post_id": 46572610, "comment_id": 80099017, "body": "If you you know the name of the service you could use <code>sc query &lt;name&gt;</code> and check whether the exit code is zero."}, {"owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "edited": false, "score": 0, "creation_date": 1507145276, "post_id": 46572610, "comment_id": 80099033, "body": "I know the name of the executable, not the service name."}], "answers": [{"comments": [{"owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "edited": false, "score": 0, "creation_date": 1507147744, "post_id": 46573068, "comment_id": 80100310, "body": "Great this worked to check if it is installed, now i just need to check the state to see if its running. Thanks."}, {"owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "edited": false, "score": 1, "creation_date": 1507147809, "post_id": 46573068, "comment_id": 80100355, "body": "I used if (mo.GetPropertyValue(&quot;PathName&quot;).ToString().Trim(&#39;&quot;&#39;).Starts&zwnj;&#8203;With(fileInfo.FullNa&zwnj;&#8203;me)) to ignore the command line params"}], "tags": [], "owner": {"reputation": 412, "user_id": 2788979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLHu8.jpg?s=128&g=1", "display_name": "Farzan Mirheydari", "link": "https://stackoverflow.com/users/2788979/farzan-mirheydari"}, "is_accepted": true, "score": 1, "last_activity_date": 1507207780, "last_edit_date": 1507207780, "creation_date": 1507146674, "answer_id": 46573068, "question_id": 46572610, "link": "https://stackoverflow.com/questions/46572610/programmatically-check-if-a-windows-service-is-running-c/46573068#46573068", "title": "Programmatically check if a windows service is running c#", "body": "<p>Try looking into the ServiceController / Management object for the executable path. Then based the executable path determine whether the service is running. </p>\n\n<p>How to get executable path : <a href=\"https://stackoverflow.com/questions/2728578/how-to-get-phyiscal-path-of-windows-service-using-net\">[1]</a> <a href=\"https://stackoverflow.com/questions/3071215/path-to-the-executable-of-a-windows-service\">[2]</a> <a href=\"https://stackoverflow.com/questions/9828588/finding-the-actual-executable-and-path-associated-to-a-windows-service-using-c-s\">[3]</a></p>\n\n<p>Borrowed from <a href=\"https://stackoverflow.com/a/3071304/2788979\">an answer</a> above </p>\n\n<pre><code>ManagementClass mc = new ManagementClass(\"Win32_Service\");\nforeach(ManagementObject mo in mc.GetInstances())\n{\n    if(mo.GetPropertyValue(\"PathName\").ToString().Trim('\"') == \"&lt;your executable path&gt;\")\n    {\n        return mo.GetPropertyValue(\"Name\").ToString(); // or return true;\n    }\n}\n</code></pre>\n\n<p>I haven't tested this, and a comment suggested <code>PathName</code> may return command line arguments as well, so you may need to write another method to separate the path from the arguments (I'm assuming it'll just be a split on the string), and pass <code>PathName</code> to it in <code>If</code> statement.. </p>\n"}, {"tags": [], "owner": {"reputation": 2936, "user_id": 1264356, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YyBy7.jpg?s=128&g=1", "display_name": "Cyber Progs", "link": "https://stackoverflow.com/users/1264356/cyber-progs"}, "is_accepted": false, "score": 0, "last_activity_date": 1525727736, "creation_date": 1525727736, "answer_id": 50222540, "question_id": 46572610, "link": "https://stackoverflow.com/questions/46572610/programmatically-check-if-a-windows-service-is-running-c/50222540#50222540", "title": "Programmatically check if a windows service is running c#", "body": "<p>Here is how you can check if the service is installed or not , also get the status of the service  </p>\n\n<pre><code>public static string CheckService(string ServiceName)\n        {\n            //check service\n            var services = ServiceController.GetServices();\n            string serviceStatu = string.Empty;\n            bool isServiceExist = false;\n            foreach (var s in services)\n            {\n                if (s.ServiceName == ServiceName)\n                {\n                    serviceStatu = \"Service installed , current status: \" + s.Status;\n                    isServiceExist = true;\n                }\n\n\n            }\n\n            if (!isServiceExist)\n            {\n                serviceStatu= \"Service is not installed\";\n            }\n\n            return serviceStatu;\n        }\n</code></pre>\n\n<p><code>Console.WriteLine(CheckService(\"Service name\"));</code></p>\n\n<p>you need to add <code>System.ServiceProcess</code> to the project reference </p>\n"}], "owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2774, "favorite_count": 0, "accepted_answer_id": 46573068, "answer_count": 2, "score": 2, "last_activity_date": 1525727736, "creation_date": 1507144862, "last_edit_date": 1507692334, "question_id": 46572610, "link": "https://stackoverflow.com/questions/46572610/programmatically-check-if-a-windows-service-is-running-c", "title": "Programmatically check if a windows service is running c#", "body": "<p>I am writing an app to check to see if certain software is installed. One of my cases im looking for a service. I know the full path of the service. i.e. \"c:\\some folder\\MyService.exe\" I want to check to see if the service is installed and running. I have tried process.GetProcessbyName, but running into issues with 64 bit vs 32 bit processes. I've also tried ManagementObject but i keep getting invalid object path. Is it possible to get a service knowing only the path to the executable? </p>\n\n<p>I know only the name and path of the executable. There may be more than one version of the executable as well, each with a different service name, which i do not have.</p>\n"}, {"tags": ["c#", "android", "xamarin", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 6619451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c1ab4ab7d06ce53ca00868297f7a439?s=128&d=identicon&r=PG&f=1", "display_name": "OnScreen", "link": "https://stackoverflow.com/users/6619451/onscreen"}, "edited": false, "score": 0, "creation_date": 1507145642, "post_id": 46572780, "comment_id": 80099232, "body": "Thanks. But I tried this, I said it in the post. It doesn&#39;t work. :/ I have a project that works and I can&#39;t understand why it doesn&#39;t."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 49, "user_id": 6619451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c1ab4ab7d06ce53ca00868297f7a439?s=128&d=identicon&r=PG&f=1", "display_name": "OnScreen", "link": "https://stackoverflow.com/users/6619451/onscreen"}, "edited": false, "score": 0, "creation_date": 1507145827, "post_id": 46572780, "comment_id": 80099342, "body": "@OnScreen follow the answer and try moving <code>SetContentView(Resource.Layout.Main);</code> after <code>base.OnCreate(savedInstanceState);</code>"}, {"owner": {"reputation": 49, "user_id": 6619451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c1ab4ab7d06ce53ca00868297f7a439?s=128&d=identicon&r=PG&f=1", "display_name": "OnScreen", "link": "https://stackoverflow.com/users/6619451/onscreen"}, "edited": false, "score": 0, "creation_date": 1507146754, "post_id": 46572780, "comment_id": 80099838, "body": "I tried. It dosn&#39;t work. I was using var to find the Toolbar, but now I&#39;m using the class. And I find out that my toolbar is coming null."}], "tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1507145531, "creation_date": 1507145531, "answer_id": 46572780, "question_id": 46572576, "link": "https://stackoverflow.com/questions/46572576/android-menu-is-not-displaying-with-toolbar-only-with-actionbar/46572780#46572780", "title": "Android menu is not displaying with toolbar - Only with actionbar", "body": "<p>You need to override <code>OnCreateOptionsMenu</code> instead of <code>OnPrepareOptionsMenu</code> because <code>OnPrepareOptionsMenu</code> is for manipulating menu items only so use this</p>\n\n<pre><code>public override bool OnCreateOptionsMenu(IMenu menu)  \n{  \n    MenuInflater.Inflate(Resource.Menu.menu_toolbar, menu);  \n    return true;  \n}  \n</code></pre>\n\n<p>instead of this</p>\n\n<pre><code>public override bool OnPrepareOptionsMenu(IMenu menu){\n        MenuInflater.Inflate(Resource.Menu.menu_toolbar, menu);\n        return base.OnPrepareOptionsMenu(menu);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 6619451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c1ab4ab7d06ce53ca00868297f7a439?s=128&d=identicon&r=PG&f=1", "display_name": "OnScreen", "link": "https://stackoverflow.com/users/6619451/onscreen"}, "edited": false, "score": 0, "creation_date": 1507146740, "post_id": 46572806, "comment_id": 80099829, "body": "I tried. I was using var to find the Toolbar, but now I&#39;m using the class. And I find out that my toolbar is coming null."}], "tags": [], "owner": {"reputation": 3895, "user_id": 1505074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8cfb7972cb291056f13e031e0b148?s=128&d=identicon&r=PG&f=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/1505074/christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1507145635, "creation_date": 1507145635, "answer_id": 46572806, "question_id": 46572576, "link": "https://stackoverflow.com/questions/46572576/android-menu-is-not-displaying-with-toolbar-only-with-actionbar/46572806#46572806", "title": "Android menu is not displaying with toolbar - Only with actionbar", "body": "<p>The Toolbar has to be on the same level as the DrawerLayout. You can make a relative layout to include the Toolbar at top and the DrawerLayout below. </p>\n"}], "owner": {"reputation": 49, "user_id": 6619451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c1ab4ab7d06ce53ca00868297f7a439?s=128&d=identicon&r=PG&f=1", "display_name": "OnScreen", "link": "https://stackoverflow.com/users/6619451/onscreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507146284, "creation_date": 1507144725, "last_edit_date": 1507146284, "question_id": 46572576, "link": "https://stackoverflow.com/questions/46572576/android-menu-is-not-displaying-with-toolbar-only-with-actionbar", "title": "Android menu is not displaying with toolbar - Only with actionbar", "body": "<p>I am trying to show a menu. I can show the menu, but only with the ActionBar. But it's not going to toolbar. I tried using a Theme AppCompat without ActionBar, but the toolbar still empty.</p>\n\n<p><strong>menu_toolbar.xml</strong> - It's correct, it's working on ActionBar.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        &gt;\n  &lt;item\n        android:id=\"@+id/action_call\"\n        android:title=\"Call\"\n        app:showAsAction=\"always\"       \n        /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>My manifest with the theme:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" package=\"OrderFoodApp.OrderFoodApp\" android:versionCode=\"1\" android:versionName=\"1.0\" android:installLocation=\"auto\"&gt;\n    &lt;uses-sdk android:minSdkVersion=\"21\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;application \n    android:allowBackup=\"true\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"\n    &gt;\n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>My main layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/drawer_layout\"\n    android:fitsSystemWindows=\"true\"&gt;\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:minHeight=\"?android:attr/actionBarSize\"\n            android:background=\"@color/toolbar\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.ActionBar\"\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>And my class (I tried with OnPrepareOptionsMenu too)</p>\n\n<pre><code>namespace OrderFoodApp\n{\n    [Activity(Label = \"OrderFoodApp\", MainLauncher = true)]\n    public class MainActivity : AppCompatActivity\n    {\n        protected override void OnCreate(Bundle savedInstanceState)\n        {\n            base.OnCreate(savedInstanceState);\n\n            var toolbar = FindViewById&lt;Android.Support.V7.Widget.Toolbar&gt;(Resource.Id.toolbar);            \n            toolbar.Title = \"Hi\";\n            SetSupportActionBar(toolbar);\n\n\n            SetContentView(Resource.Layout.Main);\n        }\n\n        public override bool OnCreateOptionsMenu(IMenu menu)\n        {\n            MenuInflater.Inflate(Resource.Menu.menu_toolbar, menu);\n            return base.OnCreateOptionsMenu(menu);\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "sql", "sql-server", "linq"], "comments": [{"owner": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "edited": false, "score": 1, "creation_date": 1507144869, "post_id": 46572552, "comment_id": 80098840, "body": "Is there a constraint on the foreign key in the brand table to the product table? if so, you will need to include the productID that has been inserted into the product table in your insertion into the brands table"}, {"owner": {"reputation": 350, "user_id": 8488200, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Z9CbM.jpg?s=128&g=1", "display_name": "Sid Khanye", "link": "https://stackoverflow.com/users/8488200/sid-khanye"}, "reply_to_user": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "edited": false, "score": 0, "creation_date": 1507145273, "post_id": 46572552, "comment_id": 80099029, "body": "@RH6 thanks for responding early, yes the ProductId is a foreign key on the Brands table which I have also set to auto increment. Are you saying I should include something like prod.ProductId = br.ProductId ?"}, {"owner": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "edited": false, "score": 1, "creation_date": 1507145411, "post_id": 46572552, "comment_id": 80099104, "body": "You will need to retrieve the primary key (productID) from the product table that you just inserted previously, and then when inserting into the brands table, the foreign key must match this, assuming they are 1 to 1.  Edit: Essentially what the answer I just posted says"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1507146358, "post_id": 46572552, "comment_id": 80099642, "body": "<code>Brand</code> should also have a property <code>Product</code>. Use that instead of <code>ProductId</code> and call <code>SubmitChanges</code> once."}], "answers": [{"tags": [], "owner": {"reputation": 1479, "user_id": 297827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69fccaa235ecc07eb934fd31fd16f4?s=128&d=identicon&r=PG", "display_name": "mike123", "link": "https://stackoverflow.com/users/297827/mike123"}, "is_accepted": true, "score": 1, "last_activity_date": 1507145077, "creation_date": 1507145077, "answer_id": 46572665, "question_id": 46572552, "link": "https://stackoverflow.com/questions/46572552/cannot-insert-the-value-null-into-column-productid-table-productdb-dbo-brand/46572665#46572665", "title": "Cannot insert the value NULL into column &#39;ProductId&#39;, table &#39;ProductDB.dbo.Brand&#39;;", "body": "<p>Try this(note the ProductId)</p>\n\n<pre><code>                    Brand br = new Brand();\n                   {\n                      br.ProductId = prod.ProductId;\n                      br.BrandName = TxtBrandName.Text;\n                      br.BrandDescription = TxtBrandDescription.Text;\n                      br.DietType = TxtDietType.Text;\n                    };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "is_accepted": false, "score": 1, "last_activity_date": 1507145601, "creation_date": 1507145601, "answer_id": 46572798, "question_id": 46572552, "link": "https://stackoverflow.com/questions/46572552/cannot-insert-the-value-null-into-column-productid-table-productdb-dbo-brand/46572798#46572798", "title": "Cannot insert the value NULL into column &#39;ProductId&#39;, table &#39;ProductDB.dbo.Brand&#39;;", "body": "<p>When you are inserting a record into a table with a foreign key constraint, the foreign key value of the record must be connected to the primary key it is referencing. </p>\n\n<p>So when inserting the brand record, you will need to include this line:</p>\n\n<pre><code>br.ProductID = prod.ProductId;\n</code></pre>\n\n<p>this will allow the foreign key constraint to be maintained. </p>\n\n<p>Edit: mike123 beat me to it, but you get the idea.</p>\n"}], "owner": {"reputation": 350, "user_id": 8488200, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Z9CbM.jpg?s=128&g=1", "display_name": "Sid Khanye", "link": "https://stackoverflow.com/users/8488200/sid-khanye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 46572665, "answer_count": 2, "score": 2, "last_activity_date": 1507146759, "creation_date": 1507144658, "last_edit_date": 1507146759, "question_id": 46572552, "link": "https://stackoverflow.com/questions/46572552/cannot-insert-the-value-null-into-column-productid-table-productdb-dbo-brand", "title": "Cannot insert the value NULL into column &#39;ProductId&#39;, table &#39;ProductDB.dbo.Brand&#39;;", "body": "<p>I have two tables viz. tblProduct and Brands, tblProduct contains:\nProductId, ProductName, Quantity, Price, Entry_Date.\nand Brands contains: ProductId, BrandID, BrandName, BrandDescription, DietType, ProductId(FK from tbProduct). </p>\n\n<p>I'm using LINQ and want to insert this data into both tables on button click, here's the insert method:</p>\n\n<pre><code>protected void BtnAdd_Click(object sender, EventArgs e)\n{\n    tblProduct products = new tblProduct();\n\n    using (ProductDataContext context = new ProductDataContext())\n    {\n        try\n        {\n            tblProduct prod = new tblProduct();\n            {\n                prod.ProductName = TxtProductName.Text;\n                prod.Quantity = Int32.Parse(TxtQuantity.Text);\n                prod.Price = Int32.Parse(TxtPrice.Text);\n                prod.Entry_Date = DateTime.Parse(TxtDate.Text);\n            };\n            context.tblProducts.InsertOnSubmit(prod);\n            context.SubmitChanges();\n\n            Label2.Text = \"Product Inserted\";\n\n            Brand br = new Brand();\n            {\n                br.BrandName = TxtBrandName.Text;\n                br.BrandDescription = TxtBrandDescription.Text;\n                br.DietType = TxtDietType.Text;\n            };\n\n            prod.Brands.Add(br);\n            context.Brands.InsertOnSubmit(br);\n            context.SubmitChanges();\n            Label1.Text = \"Done\";\n        }\n        catch (Exception exe)\n        {\n            Label1.Text = exe.Message;\n        }\n    }\n}\n</code></pre>\n\n<p>I'm trying to insert on both tables,but the insert command only works on the first table (tblProducts) but does not insert anything into the Brands table, I'm not certain what seems to be the issue here.\nPlease note that both the BrandID and the ProductId (on both tables) are set to auto increment.</p>\n"}, {"tags": ["c#", "string"], "answers": [{"tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 1, "last_activity_date": 1507145555, "last_edit_date": 1507145555, "creation_date": 1507144769, "answer_id": 46572588, "question_id": 46572548, "link": "https://stackoverflow.com/questions/46572548/add-string-value-in-xpath-drive-findelement/46572588#46572588", "title": "Add string value in Xpath drive.Findelement", "body": "<p>To use the string interpolation feature you should add <code>$</code> before the string:</p>\n\n<pre><code>drive.FindElement(By.XPath($\"//*[@value='{value}']\")).Click();\n</code></pre>\n\n<p>And if prior to C# 6.0 using <code>string.Format</code>:</p>\n\n<pre><code>drive.FindElement(By.XPath(string.Format(\"//*[@value='{0}']\", value))).Click();\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 7758442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1916b5b8836c6084613d7de1c80c5de?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7758442/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 1, "accepted_answer_id": 46572588, "answer_count": 1, "score": 0, "last_activity_date": 1507145555, "creation_date": 1507144652, "question_id": 46572548, "link": "https://stackoverflow.com/questions/46572548/add-string-value-in-xpath-drive-findelement", "title": "Add string value in Xpath drive.Findelement", "body": "<p>Hi i just would add string \"value\" in path</p>\n\n<p>my code looke like :</p>\n\n<pre><code> string value = \"Dodaj ofert\u0119\";\n drive.FindElement(By.XPath(\"//*[@value='Dodaj ofert\u0119']\")).Click();\n</code></pre>\n\n<p>All i need to do is just </p>\n\n<pre><code>drive.FindElement(By.XPath(\"//*[@value='{value}']\")).Click();\n</code></pre>\n\n<p>but this is incorrect. How can i do that?\nPlease be patient for newbies.</p>\n"}, {"tags": ["c#", ".net", "wpf"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1507147145, "post_id": 46572496, "comment_id": 80100016, "body": "<code>I can do Task.Delay, or DispatcherTimer or Aysnc&#47;await </code> Okay, so what are the solutions that you wrote using those tools, and what about them, specifically, isn&#39;t working?"}], "answers": [{"tags": [], "owner": {"reputation": 1771, "user_id": 8365439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v76vl.jpg?s=128&g=1", "display_name": "Valerii", "link": "https://stackoverflow.com/users/8365439/valerii"}, "is_accepted": true, "score": 3, "last_activity_date": 1507147320, "last_edit_date": 1507147320, "creation_date": 1507146989, "answer_id": 46573155, "question_id": 46572496, "link": "https://stackoverflow.com/questions/46572496/delay-call-update-countdown-on-ui/46573155#46573155", "title": "Delay Call + Update CountDown on UI", "body": "<p>There are a lot of options how to do it. I implemented 2 of them. I would recommend second, but it depends on your needs.</p>\n\n<pre><code>    private void Update1()\n    {\n        Task.Factory.StartNew(() =&gt;\n            {\n                var random = new Random();\n                var counter = random.Next(1, 20);\n                for (int i = counter; i &gt; 0; i--)\n                {\n                    Dispatcher.Invoke(() =&gt; UpdateCounter = i);\n                    Task.Delay(1000).Wait();\n                }\n                Dispatcher.Invoke(// some function to update data...);\n            }\n        );\n    }\n\n    private async Task Update2()\n    {\n        var random = new Random();\n        var counter = random.Next(1, 20);\n        for (int i = counter; i &gt; 0; i--)\n        {\n            UpdateCounter = i;\n            await Task.Delay(1000);\n        }\n\n        // some function to update data...\n    }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5016158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b740eb7b6b87fda8b5b25f5041bc17?s=128&d=identicon&r=PG&f=1", "display_name": "dev1", "link": "https://stackoverflow.com/users/5016158/dev1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 1, "accepted_answer_id": 46573155, "answer_count": 1, "score": 1, "last_activity_date": 1507147320, "creation_date": 1507144393, "question_id": 46572496, "link": "https://stackoverflow.com/questions/46572496/delay-call-update-countdown-on-ui", "title": "Delay Call + Update CountDown on UI", "body": "<p>I want to delay loading data anywhere between 1 and 20 seconds. I also want to update the UI with the countdown to update like \"Updating data in x...\"</p>\n\n<p>I can do Task.Delay, or DispatcherTimer or Aysnc/await but how do I update the UI with every second countdown ?</p>\n\n<p>Sample to put my point across (it won't work for me since this is blocking UI thread).</p>\n\n<pre><code>private void Update()\n    {\n        var random = new Random();\n        var counter = random.Next(1, 20);\n        for (int i = counter; i &gt; 0; i--)\n        {\n            UpdateCounter = i;// property bound to UI to update the countdown\n            Thread.Sleep(1000); // \n        }\n        // some function to update data...\n    }\n</code></pre>\n"}, {"tags": ["c#", "raspberry-pi3", "gpio", "windows-10-iot-core", "background-task"], "answers": [{"tags": [], "owner": {"reputation": 8787, "user_id": 6601582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0a2f69702729da5aaa628bc58811a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rita Han", "link": "https://stackoverflow.com/users/6601582/rita-han"}, "is_accepted": false, "score": 0, "last_activity_date": 1507184756, "creation_date": 1507184756, "answer_id": 46579121, "question_id": 46572452, "link": "https://stackoverflow.com/questions/46572452/how-i-read-value-from-gpio-in-background-task-c-win-iot-rp3/46579121#46579121", "title": "How I read Value from gpio in Background Task? C# Win IOT RP3", "body": "<p>This issue due to your BackgroundApp exits after executing <code>InitGPIO()</code> function. So you can't receive any events.</p>\n\n<p>What you need is calling the \"GetDeferral\" method to prevent the application from exiting. You can do it like this:</p>\n\n<pre><code>        public void Run(IBackgroundTaskInstance taskInstance)\n        {\n            var deferral = taskInstance.GetDeferral();\n\n            InitGPIO();\n        }\n</code></pre>\n\n<p>For more information about this behavior, you can reference <a href=\"https://docs.microsoft.com/en-us/windows/iot-core/develop-your-app/backgroundapplications\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 6257698, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B6MS_hCoDE0/AAAAAAAAAAI/AAAAAAAAAwI/wNi24tcFHRE/photo.jpg?sz=128", "display_name": "Vasa", "link": "https://stackoverflow.com/users/6257698/vasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507184756, "creation_date": 1507144208, "question_id": 46572452, "link": "https://stackoverflow.com/questions/46572452/how-i-read-value-from-gpio-in-background-task-c-win-iot-rp3", "title": "How I read Value from gpio in Background Task? C# Win IOT RP3", "body": "<p>when I use BackgroundApp (IoT) template I get no values from the pins.\nI try it exactly as in Foreground App, but there is no event triggered when pressing the button.\nCan someone tell me what I do wrong?</p>\n\n<p>Here is my Code</p>\n\n<pre><code>  namespace BackgroundApplication2\n    {\n    public sealed class StartupTask : IBackgroundTask\n    {\n    private const int LED_PIN = 6;\n    private const int BUTTON_PIN = 5;\n    private GpioPin ledPin;\n    private GpioPin buttonPin;\n    private GpioPinValue ledPinValue = GpioPinValue.High;\n\n        public void Run(IBackgroundTaskInstance taskInstance)\n        {\n            InitGPIO();\n          }\n\n        private void InitGPIO()\n        {\n            var gpio = GpioController.GetDefault();\n\n            if (gpio == null)\n            {\n                Debug.WriteLine( \"There is no GPIO controller on this device.\");\n                return;\n            }\n\n            buttonPin = gpio.OpenPin(BUTTON_PIN);\n            ledPin = gpio.OpenPin(LED_PIN);\n\n\n            ledPin.Write(GpioPinValue.High);\n            ledPin.SetDriveMode(GpioPinDriveMode.Output);\n\n\n            if (buttonPin.IsDriveModeSupported(GpioPinDriveMode.InputPullUp))\n                buttonPin.SetDriveMode(GpioPinDriveMode.InputPullUp);\n            else\n                buttonPin.SetDriveMode(GpioPinDriveMode.Input);\n\n\n            buttonPin.DebounceTimeout = TimeSpan.FromMilliseconds(50);\n\n\n            buttonPin.ValueChanged += buttonPin_ValueChanged;\n\n            Debug.WriteLine(\"GPIO pins initialized correctly.\");\n        }\n\n        private void buttonPin_ValueChanged(GpioPin sender, GpioPinValueChangedEventArgs e)\n        {  \n\n            if (e.Edge == GpioPinEdge.FallingEdge)\n            {\n                ledPinValue = (ledPinValue == GpioPinValue.Low) ?\n                    GpioPinValue.High : GpioPinValue.Low;\n                ledPin.Write(ledPinValue);\n           }\n\n       }\n\n    }\n    }\n</code></pre>\n\n<p>This Code works fine in a UWP-App</p>\n"}, {"tags": ["c#", "botframework"], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 8549603, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2fe39814f3c54fa9a9b1a583125ddb58?s=128&d=identicon&r=PG&f=1", "display_name": "Oyen", "link": "https://stackoverflow.com/users/8549603/oyen"}, "is_accepted": true, "score": 0, "last_activity_date": 1513978398, "creation_date": 1513978398, "answer_id": 47947637, "question_id": 46572444, "link": "https://stackoverflow.com/questions/46572444/enums-describe-attribute-in-formdialog-fails-to-be-recognized-as-a-valid-option/47947637#47947637", "title": "enums&#39; Describe attribute in FormDialog fails to be recognized as a valid option", "body": "<p>I ended up with something acceptable by using the \"message\" attribute of Describe:</p>\n\n<pre><code>public enum ProductTypeOptions\n{\n    [Describe(\"Summer line up\", message: \"ProductA\")]\n    ProductA = 1,\n    [Describe(\"Fall line up\", message: \"ProductB\")]\n    ProductB = 2,\n    [Describe(\"Winter line up\", message: \"ProductC\")]\n    ProductC = 3,\n}\n</code></pre>\n\n<p>When user chooses \"Summer line up\", the actual message that appears is \"ProductA\". For what I need, that works fine.</p>\n"}, {"comments": [{"owner": {"reputation": 315, "user_id": 8549603, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2fe39814f3c54fa9a9b1a583125ddb58?s=128&d=identicon&r=PG&f=1", "display_name": "Oyen", "link": "https://stackoverflow.com/users/8549603/oyen"}, "edited": false, "score": 0, "creation_date": 1516137161, "post_id": 48132220, "comment_id": 83564833, "body": "That works too! But I do Terms like this:  [Terms(&quot;Summer line up&quot;, &quot;Whatever you want&quot;)]"}], "tags": [], "owner": {"reputation": 1122, "user_id": 6452914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/di5EX.jpg?s=128&g=1", "display_name": "Ashwin Kumar", "link": "https://stackoverflow.com/users/6452914/ashwin-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1515275109, "creation_date": 1515275109, "answer_id": 48132220, "question_id": 46572444, "link": "https://stackoverflow.com/questions/46572444/enums-describe-attribute-in-formdialog-fails-to-be-recognized-as-a-valid-option/48132220#48132220", "title": "enums&#39; Describe attribute in FormDialog fails to be recognized as a valid option", "body": "<p>A simpler way would be to add the <code>Terms</code> decoration to <code>ProductTypeOptions</code> each item.</p>\n\n<p>So the code would be :</p>\n\n<pre><code>public enum ProductTypeOptions\n    {\n        [Terms(new string[] { \"Summer line up\", \"Whatever more you want\" })]\n        [Describe(\"Summer line up\")]\n        ProductA = 1,\n\n        [Terms(new string[] { \"Fall line up\" })]\n        [Describe(\"Fall line up\")]\n        ProductB = 2,\n\n        [Terms(new string[] { \"Winter line up\" })]\n        [Describe(\"Winter line up\")]\n        ProductC = 3,\n    };\n</code></pre>\n\n<p>Now your bot will automatically understand the value of \"Summer line up\" as ProductA.</p>\n"}], "owner": {"reputation": 315, "user_id": 8549603, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2fe39814f3c54fa9a9b1a583125ddb58?s=128&d=identicon&r=PG&f=1", "display_name": "Oyen", "link": "https://stackoverflow.com/users/8549603/oyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 47947637, "answer_count": 2, "score": 2, "last_activity_date": 1515275109, "creation_date": 1507144167, "question_id": 46572444, "link": "https://stackoverflow.com/questions/46572444/enums-describe-attribute-in-formdialog-fails-to-be-recognized-as-a-valid-option", "title": "enums&#39; Describe attribute in FormDialog fails to be recognized as a valid option", "body": "<p>I know I can rely on the system to automatically show SummerLineUp into \"Summer Line Up\" but I want more control on the displayed texts for my enums.</p>\n\n<p>So I would like to use the Describe attribute for friendlier displays like so:</p>\n\n<pre><code>public enum ProductTypeOptions\n{\n    [Describe(\"Summer line up\")]\n    ProductA = 1,\n    [Describe(\"Fall line up\")]\n    ProductB = 2,\n    [Describe(\"Winter line up\")]\n    ProductC = 3,\n}\n</code></pre>\n\n<p>Those show nice and pretty but fails during validation with \"Summer line up is not a valid Product Type option\".</p>\n\n<p>Is there a different attribute I can use?</p>\n"}, {"tags": ["c#", "reflection", ".net-assembly"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 2, "creation_date": 1507144411, "post_id": 46572420, "comment_id": 80098594, "body": "That cannot be done. Can you describe what you want to achieve through this? Cause it sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a> to me."}, {"owner": {"reputation": 13386, "user_id": 5114784, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OcTVf.jpg?s=128&g=1", "display_name": "Gy&#246;rgy K\u0151szeg", "link": "https://stackoverflow.com/users/5114784/gy%c3%b6rgy-k%c5%91szeg"}, "edited": false, "score": 4, "creation_date": 1507144476, "post_id": 46572420, "comment_id": 80098621, "body": "<code>class Local : Foreign, ILocalInterface</code>? If you need to use the interface only it should be indifferent which class implements it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6401627"}, "edited": false, "score": 1, "creation_date": 1507144516, "post_id": 46572420, "comment_id": 80098644, "body": "What do you want to achieve from doing this?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1507736150, "post_id": 46572420, "comment_id": 80332221, "body": "With your edit you are asking a completely different question. Your question was about subclassing of classes; now apparently it is about interface implementation on structs."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1507736180, "post_id": 46572420, "comment_id": 80332248, "body": "The short answer to your new question is: nope, you can&#39;t do that in C#. The restriction that T be comparable is a bad design precisely because of the issue you have discovered; the better design would be to have the method in question take a comparison object or delegate."}], "answers": [{"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 9, "last_activity_date": 1507145083, "creation_date": 1507145083, "answer_id": 46572666, "question_id": 46572420, "link": "https://stackoverflow.com/questions/46572420/c-can-i-extend-a-foreign-class-such-that-it-implements-a-local-interface/46572666#46572666", "title": "C#: Can I extend a foreign class such that it implements a local interface", "body": "<blockquote>\n  <p>Can I extend a foreign class such that it implements a local interface</p>\n</blockquote>\n\n<p>Sure, provided that the foreign class is not sealed. (And, of course, accessible to the local project, and so on.)</p>\n\n<pre><code>// Foreign.DLL\nnamespace F \n{ \n  public class B \n  {\n    public void Foo() { }\n  }\n}\n\n// Local.DLL\ninterface IFooBar \n{ \n  void Foo();\n  void Bar();\n}\nclass D : F.B, IFooBar\n{\n  public void Bar() { }\n}\n</code></pre>\n\n<p>There, <code>D</code> has extended <code>F.B</code>, as required, and <code>D</code> implements <code>IFooBar</code>, as required. Notice how <code>F.B.Foo</code> meets the contractual obligation of <code>IFooBar</code> even though it is on the base class.</p>\n\n<p>If the foreign class is sealed then you'll have to use composition rather than inheritance.</p>\n\n<p>However, I agree with the commenter that says that this smells like an XY problem. Can you say what problem you are <em>really</em> trying to solve, in more detail? Because there might be a better way to accomplish what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 3184, "user_id": 270212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f077b15433a460b109770ed50a604e6?s=128&d=identicon&r=PG", "display_name": "Marc Sigrist", "link": "https://stackoverflow.com/users/270212/marc-sigrist"}, "is_accepted": false, "score": 0, "last_activity_date": 1507392547, "creation_date": 1507392547, "answer_id": 46622315, "question_id": 46572420, "link": "https://stackoverflow.com/questions/46572420/c-can-i-extend-a-foreign-class-such-that-it-implements-a-local-interface/46622315#46622315", "title": "C#: Can I extend a foreign class such that it implements a local interface", "body": "<p>In the narrow sense (like <em>extension methods</em>), <em>extension interfaces</em> are currently not supported by the C# language. But in a wider sense, you can use inheritance or composition as explained in @Eric's answer.</p>\n\n<p>Supporting extension interfaces in C# has been briefly discussed in 2015 in <a href=\"https://github.com/dotnet/roslyn/issues/3357\" rel=\"nofollow noreferrer\">Roslyn issue 3357</a>. However, this can't be fully implemented by the C# compiler alone, as it requires CLR support to ensure reference equality between <code>(ITheAddedInterface)x</code> and <code>x</code>. The topic seems to be abandoned for now.</p>\n\n<p>Other CIL languages such as <a href=\"https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/type-extensions\" rel=\"nofollow noreferrer\">F#</a> have a much more flexible extension mechanism than C#. But C# is catching up, as seen e.g. in <a href=\"https://github.com/dotnet/csharplang/issues/164\" rel=\"nofollow noreferrer\">C# language issue no. 164</a>, and the video <a href=\"https://channel9.msdn.com/Blogs/Seth-Juarez/A-Preview-of-C-8-with-Mads-Torgersen#time=32m11s\" rel=\"nofollow noreferrer\">A Preview of C# 8</a>.</p>\n"}], "owner": {"reputation": 621, "user_id": 1118495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc45c855d7c8f3cf2a78d17a718a2724?s=128&d=identicon&r=PG", "display_name": "P. Avery", "link": "https://stackoverflow.com/users/1118495/p-avery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507392547, "creation_date": 1507144067, "last_edit_date": 1507243368, "question_id": 46572420, "link": "https://stackoverflow.com/questions/46572420/c-can-i-extend-a-foreign-class-such-that-it-implements-a-local-interface", "title": "C#: Can I extend a foreign class such that it implements a local interface", "body": "<p>I have 2 assemblies( foreign and local ). The foreign assembly cannot be modified. I would like to extend a foreign class such that it will now implement a local interface. Is this possible in C#?</p>\n\n<p>EDIT:\nI know that I can do the following:</p>\n\n<pre><code>// foreign.dll\nnamespace DX {\n    public struct Vector3 {\n        ...\n    }\n}\n\n// local.dll\nnamespace MyDX {\n    public static class Extensions {\n        public static void MyExtensionMethod( this Vector3 vec, int index ){\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>What I'm interested in doing is forcing the foreign class/struct to implement a particular interface (without using inheritance ). I would like to use Vector3 as a type in a generic class:</p>\n\n<pre><code>public class MyGeneric&lt;T&gt; where T: IComparable&lt;T&gt; {\n    T _value;\n}\n</code></pre>\n\n<p>The above struct: Vector3 does not implement IComparable but I would like to use reflection to implement the interface so that I can use the foreign class/struct in its existing form (ie. w/o using inheritance). Inheritance may be necessary...</p>\n"}, {"tags": ["c#", "visual-studio", ".net-assembly", "ikvm"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1507145385, "post_id": 46572274, "comment_id": 80099092, "body": "I think you&#39;re gonna have to use reflection.  Those look like obfuscated symbols."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507159411, "post_id": 46572274, "comment_id": 80104678, "body": "They are auto-generated classes that implement language features like iterators and lambda expressions.  Using characters like <code>$</code> and <code>&lt;&gt;</code> is intentional to ensure the auto-generated name can never accidentally match a name used by the programmer.  Nothing particularly jumps out from this one, but I know that the vb.net compiler likes to use $.  But surely it is IKVM doing this.  Decompiling the DLL is not intended to be useful."}], "owner": {"reputation": 317, "user_id": 7613058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hqapX.jpg?s=128&g=1", "display_name": "Kyle McClellan", "link": "https://stackoverflow.com/users/7613058/kyle-mcclellan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507143540, "creation_date": 1507143540, "question_id": 46572274, "link": "https://stackoverflow.com/questions/46572274/unreadable-characters-in-net-assembly-ported-from-jar", "title": "Unreadable $ characters in .NET assembly ported from Jar", "body": "<p>I have a DLL assembly that I ported from a JAR (using IKVM). While it appears to be a valid assembly, it contains types whose names have a '$' character. I am able to see these types in the Object Explorer in Visual Studio and through Reflection, but I cannot type the names in code without intellisense/build errors saying the '$' is unexpected. </p>\n\n<p>Here is some of the decompiled code:</p>\n\n<pre><code>  public sealed class PFAEngine$ : Object\n  {\n    internal static PFAEngine$ __&lt;&gt;MODULE$;\n\n    public static PFAEngine$ MODULE$\n    {\n      get\n      {\n        return PFAEngine$.__&lt;&gt;MODULE$;\n      }\n    }\n\n    static PFAEngine$()\n    {\n      PFAEngine$ pfaEngine = new PFAEngine$();\n    }\n  }\n</code></pre>\n\n<p>Is this simply a limitation of the Visual Studio / MSBuild? Is there any way to reference these types without resorting to Reflection?</p>\n"}, {"tags": ["c#", "sql", "asp.net"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1507144253, "post_id": 46572266, "comment_id": 80098506, "body": "<code>If</code> is never ignored. <code>Else</code> is never ignored. The compiler always, always, always faithfully follows the instructions you give it. Put in a breakpoint and step through your code in the debugger and find out what it&#39;s actually doing. Hover the mouse over variables or use the watch window to understand why it does what it does. Find out what <code>BidderStatus</code> is. You can&#39;t learn anything about the world around you by making assumptions; you can learn only by going out and observing things."}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 1, "creation_date": 1507145449, "post_id": 46572266, "comment_id": 80099134, "body": "Beware of SQL injection in the query."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1854446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0d14ab24d44abc301c802c723ae3ce?s=128&d=identicon&r=PG", "display_name": "piotrl", "link": "https://stackoverflow.com/users/1854446/piotrl"}, "is_accepted": false, "score": 0, "last_activity_date": 1507144576, "creation_date": 1507144576, "answer_id": 46572531, "question_id": 46572266, "link": "https://stackoverflow.com/questions/46572266/asp-net-c-if-else-is-ignored/46572531#46572531", "title": "ASP.NET C# If else is ignored?", "body": "<p>You probably confused bidId and saleId. I guess that can exist many Bidders with same saleId and different BidId.\nBasically you are just searching for all bidders and than check status for first one. So your code will evaluate this \"  if (BidderStatus == \"Winner\")\" to true only if first item is selected. Change Your select to \"select count(1)\", add where clause to select only winners and then check if it returns more than 0. It should work.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8722084"}, "edited": false, "score": 0, "creation_date": 1507499429, "post_id": 46572553, "comment_id": 80221924, "body": "Whoa that did it for me. Thanks!"}], "tags": [], "owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "is_accepted": false, "score": 1, "last_activity_date": 1507144663, "creation_date": 1507144663, "answer_id": 46572553, "question_id": 46572266, "link": "https://stackoverflow.com/questions/46572266/asp-net-c-if-else-is-ignored/46572553#46572553", "title": "ASP.NET C# If else is ignored?", "body": "<p>Can you use <code>SqlDataReader</code> to check whether you have a winner directly, without having to fill a <code>DataTable</code>?</p>\n\n<pre><code>using(var connection = new SqlConnection(cs)\n{\n    // SELECT 1 because we don't care about the returned data\n    using(var cmd = new SqlCommand($\"SELECT 1 FROM [Bidders] WHERE saleID={onsaleID} AND BidderStatus='Winner'\", connection))\n    {\n        cmd.CommandType = CommandType.Text;\n\n        using(var reader = cmd.ExecuteReader())\n        {\n            if(reader.Read())\n            {\n                // The command returned rows (there is an existing winner for the given `onsaleID`)\n            }\n            else\n            {\n                // The command returned no rows.  There is no winner.\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8722084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1507144663, "creation_date": 1507143506, "last_edit_date": 1507143981, "question_id": 46572266, "link": "https://stackoverflow.com/questions/46572266/asp-net-c-if-else-is-ignored", "title": "ASP.NET C# If else is ignored?", "body": "<p>I've been scratching my head for over two hours. I just can't seem to figure it out. </p>\n\n<p>Basically what I did was have \"Winner\" show up under status when I click on select bidder button. The problem is when I pick the bottom select bidder button then activate buttons above it. The if else decision that displays the error message \"Cannot select winner. Error cause: You have already selected a winner.\" is ignored and proceeds to write \"Winner\" on the status field. </p>\n\n<p>The error message will show if I try to do it the other way though. Pick the button in the first row to set the status to winner then picking the second row button will tell me I can't pick a winner because I already have picked somebody else.</p>\n\n<p><strong>My C# code:</strong> </p>\n\n<pre><code>protected void rptrBindBidders_ItemCommand(object source, RepeaterCommandEventArgs e)\n{\n    if (e.CommandName == \"Winner\" &amp;&amp; e.CommandArgument.ToString() != \"\")\n    {\n        Int64 onsaleID = Convert.ToInt64(Request.QueryString[\"saleID\"]);\n\n        String CS = ConfigurationManager.ConnectionStrings[\"DatabaseSQLConnectionString1\"].ConnectionString;\n        using (SqlConnection con = new SqlConnection(CS))\n        {\n            using (SqlCommand cmd1 = new SqlCommand(\"select * from Bidders where saleID=\" + onsaleID + \" \", con))\n            {\n                SqlDataAdapter sda = new SqlDataAdapter(cmd1);\n                DataTable dt = new DataTable();\n                sda.Fill(dt);\n\n                string BidderStatus = dt.Rows[0][\"BidderStatus\"].ToString().Trim();\n\n                if (BidderStatus == \"Winner\")\n                {\n                    lblmessage.ForeColor = Color.Red;\n                    lblmessage.Text = \"Cannot select winner. Error cause: You have already selected a winner.\";\n                }\n\n                else\n                {\n                    using (SqlCommand cmd = new SqlCommand(\"update Bidders set [BidderStatus]='Winner' where [bidID]='\" + e.CommandArgument.ToString() + \"'\", con))\n                    {\n\n\n                        con.Open();\n                        cmd.ExecuteNonQuery();\n\n                        lblmessage.ForeColor = Color.Green;\n                        lblmessage.Text = \"Success! A bidder has been selected!\";\n\n\n                        con.Close();\n\n                    }\n                }\n\n                this.BindBidders();\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p><strong>My HTML Code:</strong></p>\n\n<pre><code>&lt;asp:Repeater ID=\"rptrBindBidders\" onItemCommand=\"rptrBindBidders_ItemCommand\" runat=\"server\"&gt;\n        &lt;HeaderTemplate&gt;\n   &lt;table class=\"table\"&gt;\n       &lt;thead&gt;\n           &lt;tr&gt;\n               &lt;th&gt;Bidders&lt;/th&gt;\n               &lt;th&gt;Date bidded&lt;/th&gt;\n               &lt;th&gt;Price Offer&lt;/th&gt;\n               &lt;th&gt;Status&lt;/th&gt;\n           &lt;/tr&gt;\n       &lt;/thead&gt;\n            &lt;tbody&gt;\n        &lt;/HeaderTemplate&gt;\n\n        &lt;ItemTemplate&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;%# Eval(\"BidderName\") %&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;%#Eval(\"DateBidded\") %&gt;&lt;/td&gt;\n                    &lt;td&gt;\u20b1&lt;%# Eval(\"bidPrice\") %&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;%# Eval(\"BidderStatus\") %&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;asp:Button ID=\"btnSelectBuyer\" runat=\"server\" Text=\"Select Bidder\" CommandName=\"Winner\" CommandArgument='&lt;%#Eval(\"bidID\") %&gt;'/&gt;&lt;/td&gt;\n                    &lt;!--&lt;asp:HiddenField ID=\"hfbidID\" Value='' runat=\"server\" /&gt;--&gt;\n                    &lt;!--&lt;asp:HiddenField ID=\"hfBidderName\" Value='' runat=\"server\" /&gt;--&gt;\n                &lt;/tr&gt;\n        &lt;/ItemTemplate&gt;\n\n        &lt;FooterTemplate&gt;\n            &lt;/tbody&gt;\n   &lt;/table&gt;\n        &lt;/FooterTemplate&gt;\n&lt;/asp:Repeater&gt;\n</code></pre>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 15290, "user_id": 3393505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/76db1f36ad7e50bb7dea1e04ea3e03ad?s=128&d=identicon&r=PG&f=1", "display_name": "Siyual", "link": "https://stackoverflow.com/users/3393505/siyual"}, "edited": false, "score": 6, "creation_date": 1507143248, "post_id": 46572173, "comment_id": 80097960, "body": "Use  <code>txb_name.Text</code>.  Also, you&#39;re executing your query <i>twice</i> with <code>ExecuteNonQuery()</code> and <code>ExecuteScalar()</code>.  Drop the scalar execution."}, {"owner": {"reputation": 35, "user_id": 8615025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b820de28edf152363fca2613dd2e8460?s=128&d=identicon&r=PG&f=1", "display_name": "Max Thunder", "link": "https://stackoverflow.com/users/8615025/max-thunder"}, "reply_to_user": {"reputation": 15290, "user_id": 3393505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/76db1f36ad7e50bb7dea1e04ea3e03ad?s=128&d=identicon&r=PG&f=1", "display_name": "Siyual", "link": "https://stackoverflow.com/users/3393505/siyual"}, "edited": false, "score": 0, "creation_date": 1507143302, "post_id": 46572173, "comment_id": 80097992, "body": "oh okay ^^ ill try"}, {"owner": {"reputation": 35, "user_id": 8615025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b820de28edf152363fca2613dd2e8460?s=128&d=identicon&r=PG&f=1", "display_name": "Max Thunder", "link": "https://stackoverflow.com/users/8615025/max-thunder"}, "reply_to_user": {"reputation": 15290, "user_id": 3393505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/76db1f36ad7e50bb7dea1e04ea3e03ad?s=128&d=identicon&r=PG&f=1", "display_name": "Siyual", "link": "https://stackoverflow.com/users/3393505/siyual"}, "edited": false, "score": 0, "creation_date": 1507143951, "post_id": 46572173, "comment_id": 80098350, "body": "thank you so much ^^ i got it , i almost going to ask you about why it became twice . thanks again^^."}, {"owner": {"reputation": 3837, "user_id": 2199064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mDj01.jpg?s=128&g=1", "display_name": "MattD", "link": "https://stackoverflow.com/users/2199064/mattd"}, "edited": false, "score": 1, "creation_date": 1507144699, "post_id": 46572173, "comment_id": 80098749, "body": "Kudos on using paramaterized SQL as well. :D"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1507144914, "post_id": 46572173, "comment_id": 80098858, "body": "You <b>don&#39;t need</b> to have both  <code>ExecuteNonQuery</code> and <code>ExecuteScalar</code> - if you run both, you&#39;re inserting the data twice. Just use <code>ExecuteNonQuery()</code> <b>only</b> (which is the command to run an <code>INSERT</code>, <code>DELETE</code> or <code>UPDATE</code> - something that doesn&#39;t return a result set)"}, {"owner": {"reputation": 3723, "user_id": 1169091, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/5vE4L.jpg?s=128&g=1", "display_name": "nicomp", "link": "https://stackoverflow.com/users/1169091/nicomp"}, "edited": false, "score": 0, "creation_date": 1507145041, "post_id": 46572173, "comment_id": 80098920, "body": "OP is probably not inserting the data twice, thanks to natural key constraint... I hope."}, {"owner": {"reputation": 21384, "user_id": 214977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fmJRN.png?s=128&g=1", "display_name": "granadaCoder", "link": "https://stackoverflow.com/users/214977/granadacoder"}, "edited": false, "score": 0, "creation_date": 1507145701, "post_id": 46572173, "comment_id": 80099270, "body": "Seeing button_click code in the same procedure as SqlConnection hurts my eyes.  <a href=\"https://msdn.microsoft.com/en-us/library/ee658109.aspx#Layers\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ee658109.aspx#Layers</a>   Please look at laying your application.  Even if you&#39;re a newbie."}, {"owner": {"reputation": 35, "user_id": 8615025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b820de28edf152363fca2613dd2e8460?s=128&d=identicon&r=PG&f=1", "display_name": "Max Thunder", "link": "https://stackoverflow.com/users/8615025/max-thunder"}, "edited": false, "score": 0, "creation_date": 1507166692, "post_id": 46572173, "comment_id": 80106282, "body": "okay ^^ thanks ill study about it"}], "answers": [{"tags": [], "owner": {"reputation": 12265, "user_id": 8500110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VfcBIVKXMB4/AAAAAAAAAAI/AAAAAAAABSc/mRViIS7GgnM/photo.jpg?sz=128", "display_name": "Serkan Arslan", "link": "https://stackoverflow.com/users/8500110/serkan-arslan"}, "is_accepted": false, "score": 5, "last_activity_date": 1507144461, "creation_date": 1507144461, "answer_id": 46572514, "question_id": 46572173, "link": "https://stackoverflow.com/questions/46572173/inserting-data-from-textbox-into-sql-server-database/46572514#46572514", "title": "Inserting data from textbox into SQL Server database", "body": "<p>You need to add .Text end of control.</p>\n\n<pre><code>command.Parameters.AddWithValue(\"@FName\", txb_Fname.Text);\ncommand.Parameters.AddWithValue(\"@MName\", txb_Mname.Text);\ncommand.Parameters.AddWithValue(\"@LName\", txb_Lname.Text);\ncommand.Parameters.AddWithValue(\"@Address\", txb_Address.Text);\ncommand.Parameters.AddWithValue(\"@ContactNo\", txb_ContactNo.Text);\ncommand.Parameters.AddWithValue(\"@Email\", txb_Email.Text);\ncommand.Parameters.AddWithValue(\"@Age\", txb_Age.Text);\ncommand.Parameters.AddWithValue(\"@Gender\", txb_Gander.Text);\ncommand.Parameters.AddWithValue(\"@Password\", txb_Password.Text);\ncommand.Parameters.AddWithValue(\"@role\", txb_Role.Text);\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8615025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b820de28edf152363fca2613dd2e8460?s=128&d=identicon&r=PG&f=1", "display_name": "Max Thunder", "link": "https://stackoverflow.com/users/8615025/max-thunder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533561256, "creation_date": 1507143169, "last_edit_date": 1507144850, "question_id": 46572173, "link": "https://stackoverflow.com/questions/46572173/inserting-data-from-textbox-into-sql-server-database", "title": "Inserting data from textbox into SQL Server database", "body": "<p>I don't know where the problem is. I'm trying to insert data from the textbox to the database and I get an error as shown below.</p>\n\n<p>This is my code</p>\n\n<pre><code>private void but_Add_Click(object sender, EventArgs e)\n{\n    String query = \"INSERT INTO Tbl_Cashier (FName, MName, LName, Address, ContactNo, Email, Age, Gender, Password, role) VALUES (@FName, @MName, @LName, @Address, @ContactNo, @Email, @Age, @Gender, @Password, @role)\";\n\n    using (SqlConnection connection = new SqlConnection(connectionString1))\n    using (SqlCommand command = new SqlCommand(query, connection))\n    {\n        connection.Open();\n\n        command.Parameters.AddWithValue(\"@FName\", txb_Fname);\n        command.Parameters.AddWithValue(\"@MName\", txb_Mname);\n        command.Parameters.AddWithValue(\"@LName\", txb_Lname);\n        command.Parameters.AddWithValue(\"@Address\", txb_Address);\n        command.Parameters.AddWithValue(\"@ContactNo\", txb_ContactNo);\n        command.Parameters.AddWithValue(\"@Email\", txb_Email);\n        command.Parameters.AddWithValue(\"@Age\", txb_Age);\n        command.Parameters.AddWithValue(\"@Gender\", txb_Gander);\n        command.Parameters.AddWithValue(\"@Password\", txb_Password);\n        command.Parameters.AddWithValue(\"@role\", txb_Role);\n\n        command.ExecuteNonQuery();\n        command.ExecuteScalar();\n        connection.Close();\n    }\n}\n</code></pre>\n\n<p>The error I get is:</p>\n\n<blockquote>\n  <p>An unhandled exception of type 'System.ArgumentException' occurred in System.Data.dll</p>\n  \n  <p>Additional information: No mapping exists from object type System.Windows.Forms.TextBox to a known managed provider native type.</p>\n</blockquote>\n"}, {"tags": ["c#", "windows", "events", "service", "event-handling"], "comments": [{"owner": {"reputation": 1873, "user_id": 573220, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HSyf3.jpg?s=128&g=1", "display_name": "Tam Bui", "link": "https://stackoverflow.com/users/573220/tam-bui"}, "edited": false, "score": 0, "creation_date": 1591897285, "post_id": 46572150, "comment_id": 110237118, "body": "I am seeing the exact same results as you did, but now on Windows 10 1809 (Build 17763) and VS2019.  TimeChanged is the only SystemEvent that appears to work.  I submitted the same question to MSDN forums: <a href=\"https://social.msdn.microsoft.com/Forums/en-US/99b90146-b9a4-4637-bc17-273dbef8af26/systemevents-not-working-from-a-windows-service?forum=netfxbcl\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/en-US/&hellip;</a>"}], "owner": {"reputation": 21, "user_id": 8722206, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155720436463427/picture?type=large", "display_name": "Georg", "link": "https://stackoverflow.com/users/8722206/georg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507143453, "creation_date": 1507143091, "last_edit_date": 1507143453, "question_id": 46572150, "link": "https://stackoverflow.com/questions/46572150/systemevents-class-example-not-working-in-windows", "title": "SystemEvents Class Example not working in Windows", "body": "<p>C#, Windows 10 x64, Services, SystemEvent Handling</p>\n\n<p>On this page <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents(v=vs.110).aspx</a>\nyou see \"Example 2\" which shows a simple service for Windows which includes a hidden form for the message loop. There is a event handler for \"UserPreferencesChanged\" and \"TimeChanged\". (I also want to add \"DisplaySettingsChanged\" &lt;--- which is the main reason I am looking into this)</p>\n\n<p>I cannot get this service receiving events properly. For example, I get sporadic notifcations in the event log that Time has changed, but I do NOT get anything when change \"user preferences\" (like where they say changing mouse settings) and also absolutely nothing when I add \"DisplaySettingsChanged\" or \"DisplaySettingsChanging\"</p>\n\n<p>(see: <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.displaysettingschanged(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.displaysettingschanged(v=vs.110).aspx</a>)</p>\n\n<p>Absolutely nothing. I have the service running and watch the event log (as the example tells me), I am changing screen resolutions etc. or mouse settings, nothing. I am stumped. Has ANYONE gottin this to work?</p>\n\n<p>(Using C# in VS2015, one version I made with the \"Windows Service\" template and one other where I basically copy/pasted the example 1:1, both don't work)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "winforms", "charts"], "comments": [{"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1507146055, "post_id": 46572146, "comment_id": 80099460, "body": "You have verified that both the <code>Minimum</code> and <code>Maximum</code> properties are being assigned the values you expect, and that those values&#39; types are both <code>Double</code>?  Correct?"}, {"owner": {"reputation": 1, "user_id": 7966108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6642de1500c43f9d2f7dedabd926fb97?s=128&d=identicon&r=PG&f=1", "display_name": "Kiron Gonidis", "link": "https://stackoverflow.com/users/7966108/kiron-gonidis"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1507150061, "post_id": 46572146, "comment_id": 80101369, "body": "I have verified this. When the Minimum value is set (example: ax.Minimum = 1.2) the value persists until the MouseMove method is finished. When the method MouseMove is called next the value is truncated to an integer (example: get Minimum returns 1)"}], "owner": {"reputation": 1, "user_id": 7966108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6642de1500c43f9d2f7dedabd926fb97?s=128&d=identicon&r=PG&f=1", "display_name": "Kiron Gonidis", "link": "https://stackoverflow.com/users/7966108/kiron-gonidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507143074, "creation_date": 1507143074, "question_id": 46572146, "link": "https://stackoverflow.com/questions/46572146/axis-minimum-keeps-getting-rounded-c", "title": "Axis.Minimum keeps getting rounded C#", "body": "<p>I'm trying to implement a lateral chart move by dragging it with the mouse:</p>\n\n<pre><code>private void chart1_MouseDown(object sender, MouseEventArgs e)\n{\n    xDown = chart1.ChartAreas[0].AxisX.PixelPositionToValue(e.Location.X);\n}\n\nprivate void chart1_MouseMove(object sender, MouseEventArgs e)\n{\n    Axis ax = chart1.ChartAreas[0].AxisX;\n    double range = ax.Maximum - ax.Minimum;\n    double xv = ax.PixelPositionToValue(e.Location.X);\n    double ToMove = (xv - xDown);\n\n    ax.Minimum -= ToMove;\n    ax.Maximum = ax.Minimum + range;\n}\n</code></pre>\n\n<p>Both the maximum and minimum values are being written to without problem. Somewhere in the charts update method the AxisX.Minimum property is being Floored to and integer (this does not happen to the AxisX.Maximum property). Is there any way to stop this from happening? I have tried changing the axis Interval, IntervalAutoMode and a variety of other properties with no success.</p>\n"}, {"tags": ["c#", "exchange-server", "office365api"], "answers": [{"tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": false, "score": 0, "last_activity_date": 1507221780, "creation_date": 1507221780, "answer_id": 46590817, "question_id": 46572112, "link": "https://stackoverflow.com/questions/46572112/office-365-outlook-api-exchange-admin-center/46590817#46590817", "title": "Office 365 Outlook API (Exchange Admin Center)", "body": "<p>There are a number of API's available for Exchange, but the public of them are for interfacing as a client. For managing the Exchange Server itself, your best bet would be the <a href=\"https://msdn.microsoft.com/en-us/library/office/ff326155.aspx\" rel=\"nofollow noreferrer\">Exchange Management Shell</a>. This is a PowerShell tool set for Exchange. You can call into these from C#, see <a href=\"https://blogs.msdn.microsoft.com/kebab/2014/04/28/executing-powershell-scripts-from-c/\" rel=\"nofollow noreferrer\">Executing PowerShell scripts from C#</a> for details. </p>\n"}], "owner": {"reputation": 11, "user_id": 8657188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e036c5c8003bd8aadf2c19132e278c5?s=128&d=identicon&r=PG&f=1", "display_name": "bcrDev", "link": "https://stackoverflow.com/users/8657188/bcrdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 908, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507221793, "creation_date": 1507142963, "last_edit_date": 1507221793, "question_id": 46572112, "link": "https://stackoverflow.com/questions/46572112/office-365-outlook-api-exchange-admin-center", "title": "Office 365 Outlook API (Exchange Admin Center)", "body": "<p>I've been looking around for some documentation on how (if) I can interact with the Exchange Admin Center in our Office 365 tenant.</p>\n\n<p>Specifically, I'm just looking to get a list of users from Exchange Admin Center > Protection > Action Center  (users currently blocked from sending due to spam) via C#</p>\n\n<p>Also remove an email address from that same list as well.</p>\n\n<p>I've seen various sites, including microsoft's, that mention a REST API for a variety of purposes with Office 365 - but nothing that I'm quite looking for.</p>\n\n<p>I can see Fiddler, for example, using outlook.office365.com/ecp/DDI.... as I'm manually interacting with the Exchange Admin Center > Protection > Action Center</p>\n\n<p>Am I just missing where this information is?</p>\n"}, {"tags": ["c#", ".net-4.0"], "answers": [{"tags": [], "owner": {"reputation": 3988, "user_id": 3355243, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/35213ef01cee87797a3952a93bcfd5f9?s=128&d=identicon&r=PG&f=1", "display_name": "Linesofcode", "link": "https://stackoverflow.com/users/3355243/linesofcode"}, "is_accepted": true, "score": 0, "last_activity_date": 1507149181, "creation_date": 1507149181, "answer_id": 46573689, "question_id": 46572099, "link": "https://stackoverflow.com/questions/46572099/error-not-specified-sqlcese40-dll/46573689#46573689", "title": "Error not specified sqlcese40.dll", "body": "<p><strong>Solved</strong>.</p>\n\n<p>I couldn't even uninstall the .NET Framework 4.7 in my customer PC because I was getting the error:</p>\n\n<blockquote>\n  <p>The cryptographic operation failed due to a local security option\n  setting</p>\n</blockquote>\n\n<p>After looking for answers about this error I end up in the microsoft website <a href=\"https://support.microsoft.com/en-us/help/2715304/error-message-when-you-try-to-validate-a-copy-of-windows-the-cryptogra\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/help/2715304/error-message-when-you-try-to-validate-a-copy-of-windows-the-cryptogra</a> and did the steps on regedit like they say.</p>\n\n<blockquote>\n  <p>This error occurs when the 'State' value of below mentioned registry\n  key is incorrectly set. This value corresponds to the Internet\n  Explorer security setting \"Check for publisher\u2019s certificate\n  Revocation\" and \"Check for signatures on downloaded programs\"</p>\n  \n  <p>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\WinTrust\\Trust Providers\\Software Publishing You can find a key with the name\n  \u2018State\u2019. By default the values is set to \u2013 \u201823c00\u2019 Resolution To\n  resolve this problem, change the registry key to a valid setting, e.g.</p>\n  \n  <p>State = 0x00023e00 - \u2018Check for publisher\u2019s certificate Revocation\u2019 unchecked</p>\n  \n  <p>State = 0x00023c00 - \u2018Check for publisher\u2019s certificate Revocation\u2019 Checked</p>\n</blockquote>\n\n<p>After changing the regedit value my app started working instantly!</p>\n"}], "owner": {"reputation": 3988, "user_id": 3355243, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/35213ef01cee87797a3952a93bcfd5f9?s=128&d=identicon&r=PG&f=1", "display_name": "Linesofcode", "link": "https://stackoverflow.com/users/3355243/linesofcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 46573689, "answer_count": 1, "score": 0, "last_activity_date": 1507149181, "creation_date": 1507142918, "question_id": 46572099, "link": "https://stackoverflow.com/questions/46572099/error-not-specified-sqlcese40-dll", "title": "Error not specified sqlcese40.dll", "body": "<p>I have deployed my application to my customer. What happens is that I've tested my app in 4 different computers and works perfectly but not in my customer computer.</p>\n\n<p>I'm using .NET Framework 4.0 in my code with SQL Compact and the customer has the .NET Framework 4.7 installed. I have also, just in case, installed the SQL Compact in his computer.</p>\n\n<p>When I click in my app .exe a popup error is shown with the following text:</p>\n\n<pre><code>System.Data.SqlServerCe.SqlCeException (0x80004005): Error not specified [ sqlcese40.dll ]\n   in System.Data.SqlServerCe.SqlCeConnection.ProcessResults(Int32 hr)\n   in System.Data.SqlServerCe.SqlCeConnection.Open(Boolean silent)\n   in System.Data.SqlServerCe.SqlCeConnection.Open()\n   in LongStoryShort.LoadAllByItems(String[] columns)\n</code></pre>\n\n<p>So the error occurs when connecting to database. Any clue what am I missing?  </p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 5, "creation_date": 1507142848, "post_id": 46572046, "comment_id": 80097769, "body": "Side-note: Your code is vulnerable to <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">sql injection</a> attacks. You should look up how to use &quot;parameterized queries&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8656960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c1ByI.jpg?s=128&g=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/8656960/gustavo"}, "edited": false, "score": 0, "creation_date": 1507509232, "post_id": 46572184, "comment_id": 80223893, "body": "At the beginning a was confused but now I understand, thank you so much."}], "tags": [], "owner": {"reputation": 224, "user_id": 8715951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fee127aff9fbb2b1030e516caab9236?s=128&d=identicon&r=PG&f=1", "display_name": "Ioannis G.", "link": "https://stackoverflow.com/users/8715951/ioannis-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1507143202, "creation_date": 1507143202, "answer_id": 46572184, "question_id": 46572046, "link": "https://stackoverflow.com/questions/46572046/show-username-and-user-id-on-label-after-login-form/46572184#46572184", "title": "Show username and user id on Label after Login Form", "body": "<p>Go to the constructor of the main window and add the parameters you want for example</p>\n\n<p>step 1)\n here pass the parameters you want</p>\n\n<pre><code> frmTelaInicial nform = new frmTelaInicial(LoggedUseName,RM);\n</code></pre>\n\n<p>step 2)\nat the constructor of the frmTelaInicial add the two parameters like below</p>\n\n<pre><code>    public frmTelaInicial(string LoggedUserName,string RM)\n            {\n\n\n\n//here you have the passed values\n\n              }\n</code></pre>\n\n<p>step 3)</p>\n\n<p>add two labels  on the frmTelaInicial window and update their values with the passed  values LoggedUserName and RM</p>\n"}], "owner": {"reputation": 1, "user_id": 8656960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c1ByI.jpg?s=128&g=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/8656960/gustavo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 46572184, "answer_count": 1, "score": 0, "last_activity_date": 1507143202, "creation_date": 1507142688, "last_edit_date": 1507142760, "question_id": 46572046, "link": "https://stackoverflow.com/questions/46572046/show-username-and-user-id-on-label-after-login-form", "title": "Show username and user id on Label after Login Form", "body": "<p>I'm creating a school project. One of my ideas is to after the Login Form the Main Form will show on a label the user connected and the RM (user code basically), but i don't know how to get the Username and RM from the Login Screen and get the RM from the database.  </p>\n\n<p>Login Screen Code:</p>\n\n<pre><code>public partial class Login : Form\n{\n    public Login()\n    {\n        InitializeComponent();\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        SqlConnection con = new SqlConnection(@\"Data Source=ROCHA-PC\\SQLSERVER2014;Initial Catalog=Usuarios;Integrated Security=True\");\n        SqlDataAdapter sda = new SqlDataAdapter(\"Select Count(*) from users where usuario = '\" + textBox1.Text + \"' AND senha = '\" + textBox2.Text + \"'\" , con);\n        DataTable dt = new DataTable();\n        sda.Fill(dt);\n\n        if (dt.Rows[0][0].ToString() == \"1\")\n        {\n            this.Hide();\n            frmTelaInicial nform = new frmTelaInicial();\n            nform.Show();\n        }\n\n        else\n        {\n            MessageBox.Show(\"Erro ao logar\");\n        }\n    }\n\n    private void button2_Click(object sender, EventArgs e)\n    {\n        Application.Exit();\n    }\n</code></pre>\n\n<p>How can I get the current user connected and show it on the label?</p>\n"}, {"tags": ["c#", "lambda"], "answers": [{"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": true, "score": 0, "last_activity_date": 1507143044, "creation_date": 1507143044, "answer_id": 46572137, "question_id": 46572018, "link": "https://stackoverflow.com/questions/46572018/async-method-is-triggering-error-when-using-lambda-query-to-assign-method-group/46572137#46572137", "title": "Async Method is triggering error when using lambda query to assign method group", "body": "<p><code>q.Count</code> is not a valid name for a field on a anonymous type, you need to give it a name like you did for QuestionId</p>\n\n<pre><code>.OrderByDescending(q =&gt; new { Count = q.Count, QuestionId = q.QuestionId })\n</code></pre>\n\n<p>You also could split the orderby apart in to a OrderByDecending and a ThenByDecending.</p>\n\n<pre><code>.OrderByDescending(q =&gt; q.Count)\n.ThenByDescending(q =&gt; q.QuestionId)\n</code></pre>\n\n<p>If you are working against a IQueryable object it may end up with a better query for the server.</p>\n"}], "owner": {"reputation": 183, "user_id": 5503224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/VbGGG.jpg?s=128&g=1", "display_name": "Gerle Batde", "link": "https://stackoverflow.com/users/5503224/gerle-batde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 46572137, "answer_count": 1, "score": 0, "last_activity_date": 1507156672, "creation_date": 1507142571, "last_edit_date": 1507156672, "question_id": 46572018, "link": "https://stackoverflow.com/questions/46572018/async-method-is-triggering-error-when-using-lambda-query-to-assign-method-group", "title": "Async Method is triggering error when using lambda query to assign method group", "body": "<p>Here is my model below and this is a source code I downloaded from <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/getting-started-with-aspnet-web-api/build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/web-api/overview/getting-started-with-aspnet-web-api/build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs</a>: I am following the instruction. </p>\n\n<pre><code>public class TriviaQuestion\n{\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int Id { get; set; }\n\n    [Required]\n    public string Title { get; set; }\n\n    public virtual List&lt;TriviaOption&gt; Options { get; set; }\n}\n\n\n  public class TriviaOption\n    {\n        [Column(Order = 1), DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public int Id { get; set; }\n\n        [Required]\n        public string Title { get; set; }\n\n        [Column(Order = 0), ForeignKey(\"TriviaQuestion\")]\n        public int QuestionId { get; set; }\n\n        [JsonIgnore]\n        public virtual TriviaQuestion TriviaQuestion { get; set; }\n\n        [JsonIgnore]\n        public bool IsCorrect { get; set; }\n    }\n</code></pre>\n\n<p>and here is my controller where I am getting the error which says\"q.Count cannot assign method group to anonymous type propery.  \" : </p>\n\n<pre><code>private async Task&lt;TriviaQuestion&gt; NextQuestionAsync(string userId)\n        {\n            var lastQuestionId = await this.db.TriviaAnswers\n                .Where(a =&gt; a.UserId == userId)\n                .GroupBy(a =&gt; a.QuestionId)\n                .Select(g =&gt; new { QuestionId = g.Key, Count = g.Count() })\n                .OrderByDescending(q =&gt; new { **q.Count**, QuestionId = q.QuestionId })\n                .Select(q =&gt; q.QuestionId)\n                .FirstOrDefaultAsync();\n\n            var questionsCount = await this.db.TriviaQuestions.CountAsync();\n\n            var nextQuestionId = (lastQuestionId % questionsCount) + 1;\n            return await this.db.TriviaQuestions.FindAsync(CancellationToken.None, nextQuestionId);\n        }\n</code></pre>\n"}, {"tags": ["c#", "json", "rest", "wcf", "oracle12c"], "comments": [{"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1507142793, "post_id": 46572010, "comment_id": 80097742, "body": "Any error indicators?"}, {"owner": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "reply_to_user": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1507142914, "post_id": 46572010, "comment_id": 80097804, "body": "I do not get any error at all. After sending my Json list of objects, the only thing I get is &quot; The response was empty&quot;. Which is expected if it worked. :|"}, {"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1507143257, "post_id": 46572010, "comment_id": 80097965, "body": "I don&#39;t know what you are trying to do in your service operation loop, however, with that code, nothing will ever get inserted. You are creating an empty list and then iterating over it and inserting the same values with each iteration. Your for loop will break as soon as the empty list gets evaluated. Is that what you expected?"}, {"owner": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "reply_to_user": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1507143551, "post_id": 46572010, "comment_id": 80098117, "body": "nope that is not what I intended to do. Thank you for pointing it out. What I want to do is receive a list of objects and insert it in my table &quot;HOLIDAY&quot;. I want my method to fetch those input parameters and insert them into the Holiday table. Do you have any advice for me to make the list not empty and insert the data from the list of objects. I posted an updated code for UpdateHoliday() below. Am I going in the right direction?"}, {"owner": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "reply_to_user": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1507143651, "post_id": 46572010, "comment_id": 80098191, "body": "public void UpdateHoliday(List&lt;Holiday&gt; Holidays)         {                          string cmdStr = String.Format(&quot;INSERT INTO HOLIDAY (HOLIDAY, Description)&quot; +                                        &quot; VALUES(&#39;{0}&#39;, &#39;{1}&#39;)&quot;);              foreach (var item in Holidays)             {                 (new DbHelper()).SqlExecute(cmdStr);             }         }"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "edited": false, "score": 0, "creation_date": 1507144309, "post_id": 46572362, "comment_id": 80098529, "body": "if(Holiday==null) part is giving me an error : &#39;Holiday is a type which is not valid in the given context&#39;. Another issue is I want the values (&#39;&#39;HOLIDAY&#39;,&#39;Description&#39;)  to be from the parameter input."}, {"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "reply_to_user": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "edited": false, "score": 0, "creation_date": 1507144507, "post_id": 46572362, "comment_id": 80098639, "body": "It should be (Holidays==null), I update the answer. As for the parameters, there is a good way to cleanse inline sql  strings using parameters. It has been eons since I have used inline so I will have to look up how to parameterize the SqlCommand."}, {"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "reply_to_user": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "edited": false, "score": 0, "creation_date": 1507144637, "post_id": 46572362, "comment_id": 80098706, "body": "I found an online reference for you --&gt; <a href=\"https://msdn.microsoft.com/en-us/library/system.data.oracleclient.oraclecommand.parameters(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "edited": false, "score": 0, "creation_date": 1507144969, "post_id": 46572362, "comment_id": 80098886, "body": "Thank you so much Ross, your help saved my day! I am checking the reference out !"}], "tags": [], "owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "is_accepted": false, "score": 1, "last_activity_date": 1507143877, "creation_date": 1507143877, "answer_id": 46572362, "question_id": 46572010, "link": "https://stackoverflow.com/questions/46572010/wcf-rest-service-to-take-a-list-of-json-objects-as-parameter/46572362#46572362", "title": "WCF Rest Service to Take a list of Json Objects as parameter", "body": "<p>Howa about trying out this code in your service operation. If the code below works then you still have some work to do in order to get your DBHelper to accept a command with parameters.</p>\n\n<pre><code>public class Service1 : IService1\n{\n    public void UpdateHoliday(List&lt;Holiday&gt; Holidays)\n    {\n        if(Holidays==null)\n           throw new ArgumentNullException(\"Holidays\");\n\n        string cmdStr = String.Format(\"INSERT INTO HOLIDAY (HOLIDAY, Description)\" +\n                                   \" VALUES('HOLIDAY','Description')\");\n\n        foreach (var item in Holidays)\n        {\n            (new DbHelper()).SqlExecute(cmdStr);\n        }\n    }\n\n\n} \n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5511576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/637c9a5ea806bdfe76b6a62348115f79?s=128&d=identicon&r=PG&f=1", "display_name": "user5511576", "link": "https://stackoverflow.com/users/5511576/user5511576"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507154787, "creation_date": 1507142547, "last_edit_date": 1507154787, "question_id": 46572010, "link": "https://stackoverflow.com/questions/46572010/wcf-rest-service-to-take-a-list-of-json-objects-as-parameter", "title": "WCF Rest Service to Take a list of Json Objects as parameter", "body": "<p>I am trying to insert a list of holidays into a Holiday Table inside my Oracle 12c DB using WCF Rest services. When I am running my service, I am not getting an error, but the data is not being inserted when I run the service. \nI believe there is an issue with my cmdStr and UpdateHoliday() . Any help is appreciated much. Thanks.</p>\n\n<p>IService1.cs</p>\n\n<pre><code>public interface IService1\n{\n    [OperationContract()]\n    [WebInvoke(UriTemplate = \"UpdateHoliday\", ResponseFormat = WebMessageFormat.Json, Method = \"POST\")]\n    void UpdateHoliday(List&lt;Holiday&gt; Holidays);\n}\n\n\n[DataContract]\npublic class Holiday\n{\n    [DataMember(Order = 0)]\n    public string HOLIDAY { get; set; }\n\n    [DataMember(Order = 1)]\n    public string DESCRIPTION { get; set; }\n\n    public List&lt;Holiday&gt; Holidays { get; set; }\n}\n\npublic class ListofHoliday\n{\n    [DataMember]\n    List&lt;Holiday&gt; Holidays { get; set; }\n}\n</code></pre>\n\n<p>Service1.cs</p>\n\n<pre><code>    public class Service1 : IService1\n{\n    public void UpdateHoliday(List&lt;Holiday&gt; Holidays)\n    {\n        List&lt;ListofHoliday&gt; firstStringList = new List&lt;ListofHoliday&gt;();\n        string cmdStr = String.Format(\"INSERT INTO HOLIDAY (HOLIDAY, Description)\" +\n                                   \" VALUES('HOLIDAY','Description')\");\n\n        foreach (var item in firstStringList)\n        {\n            (new DbHelper()).SqlExecute(cmdStr);\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>DbHelper.cs</p>\n\n<pre><code> class DbHelper\n    {\n        private static string ConnectionString\n        {\n            get\n            {\n                return System.Configuration.ConfigurationManager.ConnectionStrings[\"cn\"].ConnectionString;\n            }\n        }\n\n        public DataTable GetResultSet(string sql)\n        {\n            DataTable dt = new DataTable();\n            using (OracleDataAdapter da = new OracleDataAdapter(sql, ConnectionString))\n            {\n                da.Fill(dt);\n            }\n            return dt;\n        }\n\n        public void SqlExecute(string sql)\n        {\n            using (OracleCommand cmd = new OracleCommand(sql, new OracleConnection(ConnectionString)))\n            {\n                cmd.Connection.Open();\n                cmd.ExecuteNonQuery();\n                cmd.Connection.Close();\n            }\n        }\n\n    }\n</code></pre>\n\n<p>I finally was able to found a way to make it work. The changes are below:\nService1.cs</p>\n\n<pre><code>public class Service1 : IService1\n{\n    public void UpdateHoliday(List&lt;Holiday&gt; Holidays)\n    {\n        if (Holidays == null)\n            throw new ArgumentNullException(\"Holidays\");\n\n        foreach (var item in Holidays)\n        {\n            StringBuilder sb = new StringBuilder();\n            sb.Append(\"INSERT INTO HOLIDAY (HOLIDAY, DESCRIPTION) VALUES \");\n            sb.AppendFormat(\"( '{0}', '{1}')\",\n                item.HOLIDAY, item.DESCRIPTION);\n            //sb.AppendFormat(\";\");\n            (new DbHelper()).SqlExecute(sb.ToString());\n        }\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["c#", "azure", "iis", "virtual-machine", "x509certificate2"], "answers": [{"tags": [], "owner": {"reputation": 4731, "user_id": 1689144, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c33331737d16ff09ad03fe5ff9914e40?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1689144/kyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1507145173, "creation_date": 1507145173, "answer_id": 46572682, "question_id": 46571867, "link": "https://stackoverflow.com/questions/46571867/using-client-certificate-in-c-web-application-on-azure-iis/46572682#46572682", "title": "Using client certificate in c# web application on Azure IIS", "body": "<p>Try putting this in your constructor:</p>\n\n<pre><code>ServicePointManager.Expect100Continue = true;\nServicePointManager.SecurityProtocol = SecurityProtocolType.Tls11;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8721876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKUYU.jpg?s=128&g=1", "display_name": "Lars Eriksson", "link": "https://stackoverflow.com/users/8721876/lars-eriksson"}, "is_accepted": false, "score": 1, "last_activity_date": 1507193771, "creation_date": 1507193771, "answer_id": 46581548, "question_id": 46571867, "link": "https://stackoverflow.com/questions/46571867/using-client-certificate-in-c-web-application-on-azure-iis/46581548#46581548", "title": "Using client certificate in c# web application on Azure IIS", "body": "<p>I managed to figure out what the problem was. The IIS user (IIS_IUSRS) didn't have the permission to use the private key. So it wasn't actually related to Azure.</p>\n\n<p>For anyone running into the same issue, look at the detailed answer here: <a href=\"https://stackoverflow.com/a/2647003/8721876\">https://stackoverflow.com/a/2647003/8721876</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 8721876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKUYU.jpg?s=128&g=1", "display_name": "Lars Eriksson", "link": "https://stackoverflow.com/users/8721876/lars-eriksson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1507193771, "creation_date": 1507141987, "question_id": 46571867, "link": "https://stackoverflow.com/questions/46571867/using-client-certificate-in-c-web-application-on-azure-iis", "title": "Using client certificate in c# web application on Azure IIS", "body": "<p>I have a c# web API that uses a client certificate in order to connect to a third party identification provider (BankID <a href=\"https://www.bankid.com/en/\" rel=\"nofollow noreferrer\">https://www.bankid.com/en/</a>).</p>\n\n<p>When running in Visual Studio the connection handshake works fine. But then I deploy it to IIS running on a Virtual Machine on Azure, and for some reason now it doesn't work as expected, and instead I get an Exception: </p>\n\n<p><em>\"The request was aborted: Could not create SSL/TLS secure channel.\"</em></p>\n\n<p>I've installed Visual Studio on the VM, and verified that it works; and I've installed IIS on ly local machine and verified that it works. So it seems to be a combination if IIS on Azure VM:s.</p>\n\n<p>At first I thought it could be that the client certificate was'nt picked up from the certificate store. But I added handling of \"no certificate found\", and this doesn't trigger.</p>\n\n<p>I've also tried the alternative of picking up the certificate from file. But this doesn't work either.</p>\n\n<p>Would appreciate some help!</p>\n"}, {"tags": ["c#", "registry"], "comments": [{"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 3, "creation_date": 1507142182, "post_id": 46571857, "comment_id": 80097378, "body": "Seems like you are trying to set <code>Test1</code> on the root of <code>LocalMachine</code> -- you need to capture the result of <code>CreateSubKey</code> and then do <code>SetValue</code> on that"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 6465478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c4ab48d933fcf07b3406259fa52f30?s=128&d=identicon&r=PG", "display_name": "DaNeubi", "link": "https://stackoverflow.com/users/6465478/daneubi"}, "is_accepted": false, "score": 0, "last_activity_date": 1507223163, "creation_date": 1507223163, "answer_id": 46591208, "question_id": 46571857, "link": "https://stackoverflow.com/questions/46571857/c-add-a-string-to-the-registry/46591208#46591208", "title": "C# Add a String to the Registry", "body": "<p>Thanks to @stephen.vakil I was able to fix it.</p>\n\n<p>Here's my Code now:</p>\n\n<pre><code>       public static Boolean WriteToRegistry(String[] OEMInformations)\n    {\n        try\n        {\n            for (int i = 0; i &lt; OEMInformations.Length; i = i +2)\n            {\n                RegistryKey mainKey = Registry.LocalMachine;\n                RegistryKey firstKey = mainKey.OpenSubKey(\"SOFTWARE\", true);\n                RegistryKey secondKey = firstKey.OpenSubKey(\"Microsoft\", true);\n                RegistryKey thirdKey = secondKey.OpenSubKey(\"Windows\", true);\n                RegistryKey fourthKey = thirdKey.OpenSubKey(\"CurrentVersion\", true);\n                RegistryKey fifthKey = fourthKey.OpenSubKey(\"OEMInformation\", true);\n\n                fifthKey.SetValue(OEMInformations[i],OEMInformations[i + 1], RegistryValueKind.String);\n\n                fifthKey.Close();\n                fourthKey.Close();\n                thirdKey.Close();\n                secondKey.Close();\n                firstKey.Close();\n                mainKey.Close();\n            }\n            return true;\n        }\n        catch (Exception e)\n        {\n            MessageBox.Show(e.ToString());\n            return false;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6465478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c4ab48d933fcf07b3406259fa52f30?s=128&d=identicon&r=PG", "display_name": "DaNeubi", "link": "https://stackoverflow.com/users/6465478/daneubi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507223163, "creation_date": 1507141942, "question_id": 46571857, "link": "https://stackoverflow.com/questions/46571857/c-add-a-string-to-the-registry", "title": "C# Add a String to the Registry", "body": "<p>I've been searching for a while now but haven't found anything.</p>\n\n<p>It works, but not entirely. It finds the folders in the Registry but It won't create a String. I don't get any error about permissions or something like that. I'm running this as an Administrator.</p>\n\n<pre><code>            try\n        {\n            RegistryKey registryKey = Registry.LocalMachine;\n            registryKey.CreateSubKey(\"SOFTWARE\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\OEMInformation\", RegistryKeyPermissionCheck.ReadWriteSubTree, RegistryOptions.None);\n\n            registryKey.SetValue(\"Test1\",\"Test2\");\n            registryKey.Close();\n\n            return true;\n        }\n        catch (Exception e)\n        {\n            MessageBox.Show(e.ToString());\n            return false;\n        }\n</code></pre>\n\n<p>What am I doing wrong? Or am I missing something important?</p>\n\n<p>Thanks\nDaNeubi</p>\n"}, {"tags": ["c#", "windows-services", ".net-3.5", "aspose.pdf"], "comments": [{"owner": {"reputation": 824, "user_id": 4824030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1292c95d44131d0e5ce02f8abc3d6de2?s=128&d=identicon&r=PG&f=1", "display_name": "Marisa", "link": "https://stackoverflow.com/users/4824030/marisa"}, "edited": false, "score": 0, "creation_date": 1507142186, "post_id": 46571850, "comment_id": 80097380, "body": "Is it clear what kinds of malformations cause the service to lock up? Can you perform a &#39;health check&#39; on files before processing them?"}, {"owner": {"reputation": 1000, "user_id": 643066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dcYPC.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/643066/andreas"}, "edited": false, "score": 0, "creation_date": 1507142464, "post_id": 46571850, "comment_id": 80097549, "body": "No, the file even displays fine in Acrobat. Since the library is closed source, we can&#39;t know the reason and prevent it. Would have been nice though."}, {"owner": {"reputation": 1000, "user_id": 643066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dcYPC.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/643066/andreas"}, "reply_to_user": {"reputation": 824, "user_id": 4824030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1292c95d44131d0e5ce02f8abc3d6de2?s=128&d=identicon&r=PG&f=1", "display_name": "Marisa", "link": "https://stackoverflow.com/users/4824030/marisa"}, "edited": false, "score": 0, "creation_date": 1507142774, "post_id": 46571850, "comment_id": 80097733, "body": "@Simon Sure we notified the manufacturer. An unstable state would probably be fine, if we could just log which thread handled the malformed file. Then we could mark it, restart and ignore it. An application with a hosted CLR may change the behaviour, but I don&#39;t know if this applies to services. <a href=\"https://msdn.microsoft.com/en-us/library/w6sxk224.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/w6sxk224.aspx</a>"}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1507143980, "post_id": 46571850, "comment_id": 80098365, "body": "Although it&#39;s not likely to absolutely solve your problem, you could do two things to reduce its occurrence: 1) increase the stack size of threads you create to run the code that calls that library, and 2) create a watcher thread to try and detect and terminate threads that are headed toward overflow (see the second answer to this question: <a href=\"https://stackoverflow.com/questions/206820/how-do-i-prevent-and-or-handle-a-stackoverflowexception\">How do I prevent and or handle a StackOverflowException?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1507149847, "post_id": 46573632, "comment_id": 80101257, "body": "This is the only safe way of dealing with the problem."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1507151830, "post_id": 46573632, "comment_id": 80102201, "body": "The first answer to this question identifies a key point in getting this to strategy to work: <a href=\"https://stackoverflow.com/questions/22606426/process-start-does-not-work-when-called-from-windows-service\" title=\"process start does not work when called from windows service\">stackoverflow.com/questions/22606426/&hellip;</a>"}], "tags": [], "owner": {"reputation": 910, "user_id": 4708097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16476237f533fbd20dfce57b1697e678?s=128&d=identicon&r=PG&f=1", "display_name": "Jaquez", "link": "https://stackoverflow.com/users/4708097/jaquez"}, "is_accepted": true, "score": 3, "last_activity_date": 1507158494, "last_edit_date": 1507158494, "creation_date": 1507148934, "answer_id": 46573632, "question_id": 46571850, "link": "https://stackoverflow.com/questions/46571850/service-to-continue-on-stackoverflowexception/46573632#46573632", "title": "Service to continue on StackOverflowException", "body": "<p>You could re-architect the application to create new child processes, each with its own instance of the library, to perform the work.</p>\n\n<p>Most importantly, with this approach the failing instance doesn't crash the entire application or take the other child processes down with it.  You also have the advantage that the manager process can keep track of which files are in progress (and on which process) so it would know which files to not retry after a failure.</p>\n"}], "owner": {"reputation": 1000, "user_id": 643066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/dcYPC.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/643066/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 46573632, "answer_count": 1, "score": 1, "last_activity_date": 1507158494, "creation_date": 1507141912, "question_id": 46571850, "link": "https://stackoverflow.com/questions/46571850/service-to-continue-on-stackoverflowexception", "title": "Service to continue on StackOverflowException", "body": "<p>We use a third party library to manipulate Pdf's. Our application runs as a Windows service and handles thousands of files every month. Once in a while someone uploads a malformed Pdf, which makes the library run amok and eventually throw a StackOverflowException.</p>\n\n<p>The library manufacturer has not fixed the error over the last 2 years, and we can't have our production crash when someone feels like it.</p>\n\n<p>Automatically restarting the service does not seem like an option, as the application would then retry the malformed file. Since we process many files in parallel, we cannot know which is the malformed when starting.</p>\n\n<p>Since stackoverflows can't be catched by default, I would like to know if I can tweak the CLR of the service to catch the exception anyway.</p>\n"}, {"tags": ["c#", "mstest"], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 1162324, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d33728a4fd234a9c00e390766928525f?s=128&d=identicon&r=PG", "display_name": "Max Young", "link": "https://stackoverflow.com/users/1162324/max-young"}, "edited": false, "score": 2, "creation_date": 1554821703, "post_id": 46571808, "comment_id": 97887935, "body": "For some project types you will want to set these after <code>ResolveAssemblyReference</code> since some other target will set them to blank. In particular I found this for ASP.NET projects."}, {"owner": {"reputation": 1377, "user_id": 2078866, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/29c51c9bab352551db6be3cbab2932a4?s=128&d=identicon&r=PG", "display_name": "aoetalks", "link": "https://stackoverflow.com/users/2078866/aoetalks"}, "edited": false, "score": 0, "creation_date": 1563393036, "post_id": 46571808, "comment_id": 100689334, "body": "You&#39;re a lifesaver, I never would have figured this out!"}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 1, "creation_date": 1570525489, "post_id": 46571808, "comment_id": 102931811, "body": "Thank you, another episode of the &quot;Most counter-intuitive MS concepts&quot; series. I&#39;d be interested what the motivation was behind this."}], "tags": [], "owner": {"reputation": 63245, "user_id": 5274, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/lSmPG.jpg?s=128&g=1", "display_name": "Jonathan Allen", "link": "https://stackoverflow.com/users/5274/jonathan-allen"}, "is_accepted": true, "score": 7, "last_activity_date": 1507141797, "creation_date": 1507141797, "answer_id": 46571808, "question_id": 46571796, "link": "https://stackoverflow.com/questions/46571796/autogeneratebindingredirects-doesnt-work-with-unit-tests/46571808#46571808", "title": "AutoGenerateBindingRedirects doesn&#39;t work with unit tests", "body": "<p>Use this:</p>\n\n<pre><code>&lt;AutoGenerateBindingRedirects&gt;true&lt;/AutoGenerateBindingRedirects&gt;\n&lt;GenerateBindingRedirectsOutputType&gt;true&lt;/GenerateBindingRedirectsOutputType&gt;\n</code></pre>\n\n<p>You need both of them for unit test projects.</p>\n"}], "owner": {"reputation": 63245, "user_id": 5274, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/lSmPG.jpg?s=128&g=1", "display_name": "Jonathan Allen", "link": "https://stackoverflow.com/users/5274/jonathan-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 3, "accepted_answer_id": 46571808, "answer_count": 1, "score": 4, "last_activity_date": 1507141874, "creation_date": 1507141772, "last_edit_date": 1507141874, "question_id": 46571796, "link": "https://stackoverflow.com/questions/46571796/autogeneratebindingredirects-doesnt-work-with-unit-tests", "title": "AutoGenerateBindingRedirects doesn&#39;t work with unit tests", "body": "<p>Why doesn't this work in unit test projects?</p>\n\n<pre><code>&lt;AutoGenerateBindingRedirects&gt;true&lt;/AutoGenerateBindingRedirects&gt;\n</code></pre>\n\n<p>I still get \"Could not load file or assembly\" errors if I don't add explicit binding redirects.</p>\n"}, {"tags": ["c#", "generics"], "answers": [{"tags": [], "owner": {"reputation": 2487, "user_id": 5380314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8924d6d1c2470b1d7c8190dc37ef517c?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Nasonov", "link": "https://stackoverflow.com/users/5380314/andrey-nasonov"}, "is_accepted": true, "score": 0, "last_activity_date": 1507143904, "creation_date": 1507143904, "answer_id": 46572374, "question_id": 46571716, "link": "https://stackoverflow.com/questions/46571716/type-constraint-on-generic-dictionary/46572374#46572374", "title": "Type constraint on generic dictionary", "body": "<p>No, it is not possible to do this. The first code is ok and does not require improvements.</p>\n\n<p>Another idea for you is to use generic class with static field instead of concurrent dictionary:</p>\n\n<pre><code>static class AggregateConstructors&lt;TAggregate&gt;\n{\n    public static Func&lt;Guid, TAggregate&gt; Value { get; private set; }\n    public static TAggregate Create(Guid aggregateId) =&gt; Value(aggregateId);\n\n    static AggregateConstructors()\n    {\n        var parameter = Expression.Parameter(typeof(Guid), \"aggregateId\");\n        var constructor = typeof(TAggregate).GetConstructor(new[] { typeof(Guid) });\n        var lambda = Expression.Lambda&lt;Func&lt;Guid, TAggregate&gt;&gt;(Expression.New(constructor, parameter), parameter);\n        Value = lambda.Compile();\n    }\n}\n\npublic TAggregate GetAggregate&lt;TAggregate&gt;(Guid aggregateId) where TAggregate : AggregateRoot\n{\n    var aggregate = AggregateConstructors&lt;TAggregate&gt;.Create(aggregateId);\n\n    var history = eventStore.GetDomainEvents(aggregateId);\n    aggregate.LoadFromHistory(history);\n\n    return aggregate;\n}\n</code></pre>\n\n<p>But note that static variables in generic classes are not recommended to use.</p>\n"}, {"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 0, "last_activity_date": 1507146869, "last_edit_date": 1507146869, "creation_date": 1507145685, "answer_id": 46572816, "question_id": 46571716, "link": "https://stackoverflow.com/questions/46571716/type-constraint-on-generic-dictionary/46572816#46572816", "title": "Type constraint on generic dictionary", "body": "<p>One option is you just need to add another layer that goes over the dictionary that does the cast for you. This could easily be a extension method</p>\n\n<pre><code>public static class ExtensionMethods\n{\n    public static Func&lt;Guid, TAggregate&gt; GetOrAdd&lt;TAggregate&gt;(this ConcurrentDictionary&lt;Type, Func&lt;Guid, object&gt;&gt; @this, Func&lt;Guid, TAggregate&gt; factory)\n    {\n        var constructor = @this.GetOrAdd(typeof(TAggregate), (key) =&gt; factory);\n        return (guid) =&gt; (TAggregate)constructor(guid);\n    }\n}\n</code></pre>\n\n<p>This lets you do</p>\n\n<pre><code>public TAggregate GetAggregate&lt;TAggregate&gt;(Guid aggregateId) where TAggregate : AggregateRoot\n{\n    var constructor = AggregateConstructors.GetOrAdd&lt;TAggregate&gt;(GetConstructorFunc&lt;TAggregate&gt;());\n    var aggregate = constructor(aggregateId);\n\n    var history = eventStore.GetDomainEvents(aggregateId);\n    aggregate.LoadFromHistory(history);\n\n    return aggregate;\n}\n</code></pre>\n\n<p>Another option is if <code>LoadFromHistory</code> is a function on the base <code>AggregateRoot</code> class you could just replace <code>object</code> with <code>AggregateRoot</code> then move the cast to the end of the method.</p>\n\n<pre><code>public TAggregate GetAggregate&lt;TAggregate&gt;(Guid aggregateId) where TAggregate : AggregateRoot\n{\n    var constructor = AggregateConstructors.GetOrAdd(typeof(TAggregate), GetConstructorFunc&lt;TAggregate&gt;());\n    // Requires a cast.  \n    var aggregate = constructor(aggregateId);\n\n    var history = eventStore.GetDomainEvents(aggregateId);\n    aggregate.LoadFromHistory(history);\n\n    return (TAggregate)aggregate;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4452433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7665c59302c40ffd5f09d38b8e1dd18?s=128&d=identicon&r=PG&f=1", "display_name": "Fredrik Wistr&#246;m", "link": "https://stackoverflow.com/users/4452433/fredrik-wistr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 46572374, "answer_count": 2, "score": 0, "last_activity_date": 1507146901, "creation_date": 1507141476, "question_id": 46571716, "link": "https://stackoverflow.com/questions/46571716/type-constraint-on-generic-dictionary", "title": "Type constraint on generic dictionary", "body": "<p>I am using reflection to find a constructor of a given type. I then would like to cache the constructor keyed on its type so that I can use it on the fly the next time that constructor is needed. The code below does so but it requires me to store the constructor as is was returning an object, and then casting it to the desired type. I was hoping there was a way to make it more type safe.</p>\n\n<pre><code>private static readonly ConcurrentDictionary&lt;Type, Func&lt;Guid, object&gt;&gt; AggregateConstructors = new ConcurrentDictionary&lt;Type, Func&lt;Guid, object&gt;&gt;();\n\npublic TAggregate GetAggregate&lt;TAggregate&gt;(Guid aggregateId) where TAggregate : AggregateRoot\n{\n    var constructor = AggregateConstructors.GetOrAdd(typeof(TAggregate), GetConstructorFunc&lt;TAggregate&gt;());\n    // Requires a cast.  \n    var aggregate = (TAggregate)constructor(aggregateId);\n\n    var history = eventStore.GetDomainEvents(aggregateId);\n    aggregate.LoadFromHistory(history);\n\n    return aggregate;\n}\n\nprivate Func&lt;Guid, TAggregate&gt; GetConstructorFunc&lt;TAggregate&gt;()\n{\n    var parameter = Expression.Parameter(typeof(Guid), \"aggregateId\");\n    var constructor = typeof(TAggregate).GetConstructor(new[] { typeof(Guid) });\n    var lambda = Expression.Lambda&lt;Func&lt;Guid, TAggregate&gt;&gt;(Expression.New(constructor, parameter), parameter);\n    return lambda.Compile();\n}\n</code></pre>\n\n<p>I would like to have something along these lines:</p>\n\n<pre><code>private static readonly ConcurrentDictionary&lt;Type, Func&lt;Guid, SameTypeAsKey&gt;&gt; AggregateConstructors = new ConcurrentDictionary&lt;Type, Func&lt;Guid, SameTypeAsKey&gt;&gt;();\n\npublic TAggregate GetAggregate&lt;TAggregate&gt;(Guid aggregateId) where TAggregate : AggregateRoot\n{\n    var constructor = AggregateConstructors.GetOrAdd(typeof(TAggregate), GetConstructorFunc&lt;TAggregate&gt;());\n    var aggregate = constructor(aggregateId);\n\n    var history = eventStore.GetDomainEvents(aggregateId);\n    aggregate.LoadFromHistory(history);\n\n    return aggregate;\n}\n\nprivate Func&lt;Guid, TAggregate&gt; GetConstructorFunc&lt;TAggregate&gt;()\n{\n    var parameter = Expression.Parameter(typeof(Guid), \"aggregateId\");\n    var constructor = typeof(TAggregate).GetConstructor(new[] { typeof(Guid) });\n    var lambda = Expression.Lambda&lt;Func&lt;Guid, TAggregate&gt;&gt;(Expression.New(constructor, parameter), parameter);\n    return lambda.Compile();\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "arrays", "vb.net", "reflection"], "comments": [{"owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "edited": false, "score": 2, "creation_date": 1507141971, "post_id": 46571713, "comment_id": 80097251, "body": "What line is the error on? oh, wait..."}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 1, "creation_date": 1507142841, "post_id": 46571713, "comment_id": 80097768, "body": "A simple way to create an array based on a type dynamically is via Array.CreateInstance: <code>Array.CreateInstance(typeof(string), 1)</code>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1507143419, "post_id": 46571713, "comment_id": 80098050, "body": "@mikez: He is asking to create it an initialize it in one line."}, {"owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "edited": false, "score": 0, "creation_date": 1507145396, "post_id": 46571713, "comment_id": 80099098, "body": "It&#39;s confusing, because you are looking for the equivalent of an array initializer, but you create an instance of a generic List. If you add enough code you <i>may</i> end up with an array, but hardly the equivalent of {your statement + reflection}. Btw arrays don&#39;t have constructors so you may find it difficult to use Activator.CreateInstance"}, {"owner": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507145607, "post_id": 46571713, "comment_id": 80099205, "body": "I&#39;m aware that arrays do not have constructors, that&#39;s why I&#39;m using a <code>List</code>!."}], "answers": [{"comments": [{"owner": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507145517, "post_id": 46571948, "comment_id": 80099168, "body": "Unfortunately that call to <code>Cast()</code> does not make use of the reflected type (which for this example is <code>typeof(string)</code>, but it could be anything and known only at run-time!"}, {"owner": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507147814, "post_id": 46571948, "comment_id": 80100358, "body": "I was kicking myself when I realised that I could have simply reflected the <code>Cast</code> method!  Fine work!"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "reply_to_user": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 1, "creation_date": 1507147915, "post_id": 46571948, "comment_id": 80100410, "body": "What a monstrosity we have created... And to make it complete, you can wrap the whole thing in a reflected <code>List&lt;T&gt;.ToArray()</code> call."}, {"owner": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507149704, "post_id": 46571948, "comment_id": 80101182, "body": "Indeed.  And in VB.NET, if you&#39;re riding with <code>Option Strict Off</code>, you can just put <code>ToArray()</code> on the end with the help of late binding!  I&#39;m not sure which way is more horrible. :P"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "reply_to_user": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 1, "creation_date": 1507149839, "post_id": 46571948, "comment_id": 80101253, "body": "@Interminable You can do the same &quot;hack&quot; in C# too. <code>dynamic myArray = ...; myArray.ToArray()</code>."}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 2, "last_activity_date": 1507146132, "last_edit_date": 1507146132, "creation_date": 1507142346, "answer_id": 46571948, "question_id": 46571713, "link": "https://stackoverflow.com/questions/46571713/creating-an-initialising-an-array-of-a-reflected-type-in-a-single-statement/46571948#46571948", "title": "Creating an initialising an array of a reflected type in a single statement", "body": "<p><code>List&lt;T&gt;</code> have a constructor that accepts <code>IEnumerable&lt;T&gt;</code>, but you are passing an <code>IEnumerable&lt;object&gt;</code> to it. Hence why it failed with a <code>MissingMethodException</code>.</p>\n\n<p>You simply need to replace the <code>.AsEnumerable()</code> with <code>.Cast&lt;string&gt;()</code>:</p>\n\n<pre><code>var myArray = (Activator.CreateInstance(typeof(List&lt;&gt;).MakeGenericType(typeof(string)),\n    System.Reflection.BindingFlags.CreateInstance\n    | System.Reflection.BindingFlags.Public\n    | System.Reflection.BindingFlags.Instance\n    | System.Reflection.BindingFlags.OptionalParamBinding,\n    null,\n    new[] {\n        (new[] { Activator.CreateInstance(typeof(string),\n        System.Reflection.BindingFlags.CreateInstance\n        | System.Reflection.BindingFlags.Public\n        | System.Reflection.BindingFlags.Instance\n        | System.Reflection.BindingFlags.OptionalParamBinding,\n        null,\n        new[] { \"Test\".ToCharArray() },\n        null)}).Cast&lt;string&gt;()\n    },\n    null));\n</code></pre>\n\n<p>Edit: You can always cast it through reflection:</p>\n\n<pre><code>var myArray = (Activator.CreateInstance(typeof(List&lt;&gt;).MakeGenericType(typeof(string)),\n    System.Reflection.BindingFlags.CreateInstance\n    | System.Reflection.BindingFlags.Public\n    | System.Reflection.BindingFlags.Instance\n    | System.Reflection.BindingFlags.OptionalParamBinding,\n    null,\n    new[]\n    {\n        typeof(Enumerable).GetMethod(\"Cast\")\n            .MakeGenericMethod(typeof(string))\n            .Invoke(null, new []\n            {\n                (new[] { Activator.CreateInstance(typeof(string),\n                System.Reflection.BindingFlags.CreateInstance\n                | System.Reflection.BindingFlags.Public\n                | System.Reflection.BindingFlags.Instance\n                | System.Reflection.BindingFlags.OptionalParamBinding,\n                null,\n                new[] { \"Test\".ToCharArray() },\n                null)})\n            })\n    },\n    null));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507149259, "post_id": 46573401, "comment_id": 80100994, "body": "It is of course easier if you do it with multiple statements, but I was asking how to do it as part of a single statement."}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "reply_to_user": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507151547, "post_id": 46573401, "comment_id": 80102076, "body": "@Interminable But it makes no sense?! Is this code golf or something? You can create an object array and do the equivalent of <code>.Cast&lt;T&gt;().ToList&lt;T&gt;()</code> in one statement. It sucks and is ugly, but here you go: <code>var myList = typeof(Enumerable).GetMethod(&quot;ToList&quot;).MakeGenericMethod(typ&zwnj;&#8203;e).Invoke(null, new object[] { typeof(Enumerable).GetMethod(&quot;Cast&quot;).MakeGenericMethod(type)&zwnj;&#8203;.Invoke(null, new object[] { new object[] { entry, }, }), });</code>"}, {"owner": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507157532, "post_id": 46573401, "comment_id": 80104211, "body": "I don&#39;t think this really qualifies as code golf.  My question was driven by curiosity as to whether something was possible (no matter how hideous).   As for the code in your comment, there&#39;s still the matter of getting the array itself.  I had a quick look but you can&#39;t seem to call <code>ToArray()</code> via reflection on the result of your code: <code>&#39;Late bound operations cannot be performed on types or methods for which ContainsGenericParameters is true.&#39;</code>  It is of course possible that I don&#39;t know the correct way to invoke that method here, and I&#39;m pretty tired right now so I may look again tomorrow."}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "reply_to_user": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "edited": false, "score": 0, "creation_date": 1507217785, "post_id": 46573401, "comment_id": 80132291, "body": "Given any <code>object entry</code>, and a <code>Type type</code> which could come from <code>entry.GetType()</code>, the code from my first comment should be complete. I do not know what you are doing, but maybe you did not <code>MakeGenericMethod</code> on some method info representing <code>ToArray&lt;&gt;()</code> (it is a generic method). If, in the code from my comment, you replace <code>&quot;ToList&quot;</code> with <code>&quot;ToArray&quot;</code>, clearly you get an array."}], "tags": [], "owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1507147979, "creation_date": 1507147979, "answer_id": 46573401, "question_id": 46571713, "link": "https://stackoverflow.com/questions/46571713/creating-an-initialising-an-array-of-a-reflected-type-in-a-single-statement/46573401#46573401", "title": "Creating an initialising an array of a reflected type in a single statement", "body": "<p>It should be easy enough with an array (like mike z's comment):</p>\n\n<pre><code>object entry = \"Test\";\nType type = typeof(string);\n\nArray myArray = Array.CreateInstance(type, 1);\nmyArray.SetValue(entry, 0);\n</code></pre>\n\n<p>It creates an instance of <code>Length</code> one, and then sets the entry at index zero.</p>\n\n<p>It is not easier with a <code>List&lt;&gt;</code>. You can do it like this:</p>\n\n<pre><code>object entry = \"Test\";\nType type = typeof(string);\n\nobject myList = Activator.CreateInstance(typeof(List&lt;&gt;).MakeGenericType(type));\nmyList.GetType().GetMethod(\"Add\").Invoke(myList, new object[] { entry, });\n</code></pre>\n\n<p>It creates an instance with the default constructor, and then acquires the <code>Add</code> method and invokes it with an argument \"series\" <code>{ entry, }</code>.</p>\n\n<p>Using the <code>List&lt;&gt;</code> constructor overload that takes an argument called <code>collection</code> to initialize the <code>List&lt;&gt;</code> seems a bit circular. Because to use that, you must already have some \"collection\" of implementing <code>IEnumerable&lt;string&gt;</code> in advance, to create your <code>List&lt;&gt;</code> from.</p>\n"}], "owner": {"reputation": 1268, "user_id": 1141028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da1d6097648f369e679728118d141492?s=128&d=identicon&r=PG", "display_name": "Interminable", "link": "https://stackoverflow.com/users/1141028/interminable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 46571948, "answer_count": 2, "score": 1, "last_activity_date": 1507148767, "creation_date": 1507141471, "question_id": 46571713, "link": "https://stackoverflow.com/questions/46571713/creating-an-initialising-an-array-of-a-reflected-type-in-a-single-statement", "title": "Creating an initialising an array of a reflected type in a single statement", "body": "<p><strong>Is it possible to create and initialise an array of a reflected type in .NET in a single statement?</strong></p>\n\n<p>ie the equivalent of doing this, but using reflection:</p>\n\n<pre><code>var myArray = new String[] {\"Test\"};\n</code></pre>\n\n<p>I'm after an Array of a specific type, rather than an array of <code>object</code>.</p>\n\n<p>Because Array lacks a constructor that can initialise values, I've been trying to use a generic <code>List</code>.  This is what I've got so far, which doesn't work (no matching constructor can be found):</p>\n\n<p>C#:</p>\n\n<pre><code>var myArray = (Activator.CreateInstance(   typeof(List&lt;&gt;).MakeGenericType(typeof(string)),\n                                                System.Reflection.BindingFlags.CreateInstance\n                                            |   System.Reflection.BindingFlags.Public\n                                            |   System.Reflection.BindingFlags.Instance\n                                            |   System.Reflection.BindingFlags.OptionalParamBinding,\n                                            null,\n                                            new[] {\n                                                    (new[]   {Activator.CreateInstance( typeof(string),\n                                                                                        System.Reflection.BindingFlags.CreateInstance\n                                                                                    |   System.Reflection.BindingFlags.Public\n                                                                                    |   System.Reflection.BindingFlags.Instance\n                                                                                    |   System.Reflection.BindingFlags.OptionalParamBinding,\n                                                                                        null,\n                                                                                        new[] { \"Test\".ToCharArray() },\n                                                                                        null)\n                                                            }).AsEnumerable()\n                                                    },\n                                            null));\n</code></pre>\n\n<p>VB.NET:</p>\n\n<pre><code>Dim myArray = Activator.CreateInstance(     GetType(List(Of)).MakeGenericType(GetType(String)),\n                                                Reflection.BindingFlags.CreateInstance _\n                                            Or  Reflection.BindingFlags.Public _\n                                            Or  Reflection.BindingFlags.Instance _\n                                            Or  Reflection.BindingFlags.OptionalParamBinding,\n                                            Nothing,\n                                            {\n                                                {Activator.CreateInstance(  GetType(String),\n                                                                            Reflection.BindingFlags.CreateInstance _\n                                                                        Or  Reflection.BindingFlags.Public _\n                                                                        Or  Reflection.BindingFlags.Instance _\n                                                                        Or  Reflection.BindingFlags.OptionalParamBinding,\n                                                                            Nothing,\n                                                                            {\"Test\".ToCharArray()}, Nothing)\n                                                }.AsEnumerable()\n                                            },\n                                            Nothing)\n</code></pre>\n\n<p>This question is asked out of curiosity about what is possible, rather than what should be done (as in I don't care if the solution is hideous, this is just for fun).  I'll happily accept answers for either language, if this is possible!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1507234093, "post_id": 46571705, "comment_id": 80140944, "body": "&quot;couldnt really find a video that explains it&quot; -- yeesh, you damn kids. Not everything has to be on youtube."}], "answers": [{"tags": [], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "is_accepted": true, "score": 0, "last_activity_date": 1507141957, "last_edit_date": 1507141957, "creation_date": 1507141547, "answer_id": 46571735, "question_id": 46571705, "link": "https://stackoverflow.com/questions/46571705/changing-save-path-of-streamwriter/46571735#46571735", "title": "Changing save-path of StreamWriter?", "body": "<pre><code>objWriter = new System.IO.StreamWriter(@\"C:\\TestFolder1\\test1\\ETS2AUFTRAGSLISTE.txt\", true);\n</code></pre>\n\n<p>Change the path like the above...</p>\n"}], "owner": {"reputation": 69, "user_id": 8722095, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/bc3c54f753d973770c2464ead6380589?s=128&d=identicon&r=PG&f=1", "display_name": "tegabyte", "link": "https://stackoverflow.com/users/8722095/tegabyte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 0, "accepted_answer_id": 46571735, "answer_count": 1, "score": 1, "last_activity_date": 1507234071, "creation_date": 1507141412, "last_edit_date": 1507234071, "question_id": 46571705, "link": "https://stackoverflow.com/questions/46571705/changing-save-path-of-streamwriter", "title": "Changing save-path of StreamWriter?", "body": "<p>I built a really simple code as I am a beginner to coding,\nso would anyone mind helping me change the save-directory of my code?\nHere it is:</p>\n\n<pre><code>    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            System.IO.StreamWriter objWriter;\n            objWriter = new System.IO.StreamWriter(\"ETS2AUFTRAGSLISTE.txt\", true);\n\n            objWriter.Write(\"Fahrer: \");\n            objWriter.WriteLine();\n            objWriter.WriteLine(tbDriver.Text);\n            objWriter.Write(\"Fahrzeug: \");\n            objWriter.WriteLine();\n            objWriter.WriteLine(tbVeh.Text);\n            objWriter.Write(\"Uhrzeit von: \");\n            objWriter.WriteLine();\n            objWriter.WriteLine(tbTimeVON.Text);\n            objWriter.Write(\"bis: \");\n            objWriter.WriteLine();\n            objWriter.WriteLine(tbTimeBIS.Text);\n\n            MessageBox.Show(\"Hochgeladen!\");\n\n        }\n    }\n}\n</code></pre>\n\n<p>Where and how do I add a directory path change?\nI have been trying for hours and couldnt really find a video that explains it.</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "ms-word"], "comments": [{"owner": {"reputation": 156, "user_id": 7004050, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCJoSxCFC7U/AAAAAAAAAAI/AAAAAAAAAAA/G6luzJ6RHtc/photo.jpg?sz=128", "display_name": "Bogdan Anghel", "link": "https://stackoverflow.com/users/7004050/bogdan-anghel"}, "edited": false, "score": 1, "creation_date": 1507141724, "post_id": 46571697, "comment_id": 80097107, "body": "When using Any CPU configuration, in the final .dll or .exe you compile will be a x86 and a x64 binary images that are run depending on your Windows architecture. So, if your Windows is 64bit, the x64 image will run and so on. Try to compile it to x86 and it might work. (also check that your office package is 32 or 64bit)"}, {"owner": {"reputation": 267, "user_id": 6731557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/135bf823533e2176b6cf771eb098264a?s=128&d=identicon&r=PG&f=1", "display_name": "Seamy", "link": "https://stackoverflow.com/users/6731557/seamy"}, "reply_to_user": {"reputation": 156, "user_id": 7004050, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCJoSxCFC7U/AAAAAAAAAAI/AAAAAAAAAAA/G6luzJ6RHtc/photo.jpg?sz=128", "display_name": "Bogdan Anghel", "link": "https://stackoverflow.com/users/7004050/bogdan-anghel"}, "edited": false, "score": 0, "creation_date": 1507141946, "post_id": 46571697, "comment_id": 80097239, "body": "So I have tried switching to compile to specifically 64 bit (My windows) but it wouldn&#39;t work. However I checked my office package and it is 32 bit..... I will try downloading 64bit"}, {"owner": {"reputation": 156, "user_id": 7004050, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCJoSxCFC7U/AAAAAAAAAAI/AAAAAAAAAAA/G6luzJ6RHtc/photo.jpg?sz=128", "display_name": "Bogdan Anghel", "link": "https://stackoverflow.com/users/7004050/bogdan-anghel"}, "edited": false, "score": 0, "creation_date": 1507142277, "post_id": 46571697, "comment_id": 80097439, "body": "If you run Windows and Office both on 64bit it makes sense to compile it to 64bit. Personally on my Office addins I generate separated binaries (32 &amp; 64 bit) and install them accordingly. Hope you get it to work on Office 64bit because I can see no other problem."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 4, "creation_date": 1507143289, "post_id": 46571697, "comment_id": 80097983, "body": "Why are you trying to run a DLL as if it were an exe?"}, {"owner": {"reputation": 267, "user_id": 6731557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/135bf823533e2176b6cf771eb098264a?s=128&d=identicon&r=PG&f=1", "display_name": "Seamy", "link": "https://stackoverflow.com/users/6731557/seamy"}, "edited": false, "score": 0, "creation_date": 1507143689, "post_id": 46571697, "comment_id": 80098213, "body": "Hmmmm I&#39;m not sure actually why it&#39;s loading that..... I cloned it with the idea it has been set up right and ran into all these issues..... I have the startup project set so I dunno why it&#39;s looking at a dll"}], "answers": [{"tags": [], "owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "is_accepted": false, "score": 0, "last_activity_date": 1527112086, "creation_date": 1527112086, "answer_id": 50497961, "question_id": 46571697, "link": "https://stackoverflow.com/questions/46571697/dll-is-not-a-valid-win32-application/50497961#50497961", "title": ".dll is not a valid win32 application", "body": "<p>Had same problem:  ie. \"cock pit error\"</p>\n\n<p>Do:  Visual Studio > Build menu > Rebuild </p>\n\n<p>Don't:   or Debug menu > Start Debugging</p>\n\n<p>I kept hitting .</p>\n"}], "owner": {"reputation": 267, "user_id": 6731557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/135bf823533e2176b6cf771eb098264a?s=128&d=identicon&r=PG&f=1", "display_name": "Seamy", "link": "https://stackoverflow.com/users/6731557/seamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6883, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1612508620, "creation_date": 1507141391, "question_id": 46571697, "link": "https://stackoverflow.com/questions/46571697/dll-is-not-a-valid-win32-application", "title": ".dll is not a valid win32 application", "body": "<p>Hi I am having an issue with my word addin .net project. Basically I am trying to compile and run it. However I keep getting an error message saying </p>\n\n<p><a href=\"https://i.stack.imgur.com/Sr2rH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sr2rH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now I have looked into this and according to other users on stack I need to change my build property to any cpu which I have done to no avail</p>\n\n<p><a href=\"https://i.stack.imgur.com/xENuI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xENuI.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/NBgWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBgWi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone advise me please on what to do here because I don't know what's wrong? Thanks very much</p>\n"}, {"tags": ["c#", "winforms", "datagridview"], "answers": [{"tags": [], "owner": {"reputation": 409, "user_id": 8597963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xpXSCK30Mv8/AAAAAAAAAAI/AAAAAAAAAGk/VXv34bZlajw/photo.jpg?sz=128", "display_name": "Avo Nappo", "link": "https://stackoverflow.com/users/8597963/avo-nappo"}, "is_accepted": false, "score": 0, "last_activity_date": 1507142447, "creation_date": 1507142447, "answer_id": 46571974, "question_id": 46571556, "link": "https://stackoverflow.com/questions/46571556/datagridview-how-to-check-if-a-cell-is-empty/46571974#46571974", "title": "DataGridView How to check if a cell is empty?", "body": "<p>Just do a nested loop over table cells, something like this:</p>\n\n<pre><code>private bool AreAllCellsFilled(DataTable t)\n{\n    if (t == null || t.Rows.Count == 0 || t.Columns.Count == 0) return true;\n\n    for (int rowIdx = 0; rowIdx &lt; t.Rows.Count; rowIdx++)\n    {\n        for (int colIdx = 0; colIdx &lt; t.Columns.Count; colIdx++)\n        {\n            if (t.Rows[rowIdx][colIdx] == DBNull.Value)\n            {\n                MessageBox.Show($\"Cell {colIdx + 1} of row {rowIdx + 1} is empty\");\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 224, "user_id": 8715951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fee127aff9fbb2b1030e516caab9236?s=128&d=identicon&r=PG&f=1", "display_name": "Ioannis G.", "link": "https://stackoverflow.com/users/8715951/ioannis-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1507142529, "creation_date": 1507142529, "answer_id": 46572005, "question_id": 46571556, "link": "https://stackoverflow.com/questions/46571556/datagridview-how-to-check-if-a-cell-is-empty/46572005#46572005", "title": "DataGridView How to check if a cell is empty?", "body": "<pre><code>foreach(DataGridViewRow row in dataGridView1.Rows)\n{\n    foreach(DataGridViewCell cell in row.Cells)\n    {\n        if(string.IsNullOrEmpty(cell.Value as string))\n           {\n           //cell is empty\n            }\n            else\n             {\n               //cell is not empty\n            }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9079582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4f1af1bb8268870ff604a9db32999d?s=128&d=identicon&r=PG&f=1", "display_name": "mohamed elbashir elkhider", "link": "https://stackoverflow.com/users/9079582/mohamed-elbashir-elkhider"}, "is_accepted": false, "score": 1, "last_activity_date": 1513510906, "creation_date": 1513510906, "answer_id": 47854735, "question_id": 46571556, "link": "https://stackoverflow.com/questions/46571556/datagridview-how-to-check-if-a-cell-is-empty/47854735#47854735", "title": "DataGridView How to check if a cell is empty?", "body": "<p>//take this as example when there is null value display a message show (no)\n//if there is not null value open file dialog</p>\n\n<pre><code>  if (string.IsNullOrEmpty(metroGrid2.CurrentRow.Cells[\"FileName\"].Value as string))\n               {\n                   MessageBox.Show(\"no\");\n               }\n               else\n               {\n                   FolderBrowserDialog fbd = new FolderBrowserDialog();\n                   if (fbd.ShowDialog() == DialogResult.OK)\n                   {\n\n                       folder = fbd.SelectedPath;\n\n\n\n\n           }\n       }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 9215581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada3de0d4e79b349b69eb574dc2e4643?s=128&d=identicon&r=PG&f=1", "display_name": "quickbrown", "link": "https://stackoverflow.com/users/9215581/quickbrown"}, "is_accepted": false, "score": 0, "last_activity_date": 1614671840, "creation_date": 1614671840, "answer_id": 66435404, "question_id": 46571556, "link": "https://stackoverflow.com/questions/46571556/datagridview-how-to-check-if-a-cell-is-empty/66435404#66435404", "title": "DataGridView How to check if a cell is empty?", "body": "<p>This works for me. to check if specific cell is empty or null.</p>\n<pre><code>    if (string.IsNullOrEmpty(dataGridView_A0.Rows[0].Cells[0].Value as string))\n    {\n         MessageBox.Show(&quot;Null or Empty&quot;, &quot;Results&quot;);\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8628753, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2776e69fb886558d6e3202dbb600b6cf?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/8628753/joaco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2474, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1614671840, "creation_date": 1507140934, "last_edit_date": 1507141080, "question_id": 46571556, "link": "https://stackoverflow.com/questions/46571556/datagridview-how-to-check-if-a-cell-is-empty", "title": "DataGridView How to check if a cell is empty?", "body": "<p>I'm developing a program that contains a DataGridView whitin a form, and I'm importing data to this DataGridView from a XML file.\nInside this DataGridView, I'm able to add, edit and delete this data and save this changes to the XML file when a button is clicked. (There are two columns.)\nMy issue here is that I need to check if any cell is empty when the button is clicked, and in that case, show up a MessageBox indicating this and do not let me save this changes.</p>\n\n<p>I've tried for loops and more, and couldn't find anything helpful.\nHope someone can help me! Thanks </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Windows.Forms;\nusing System.Xml;\n\nnamespace Sullair\n{\npublic partial class IPs : Form\n{\n    public IPs()\n    {\n        InitializeComponent();\n    }\n\n    private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)\n    {\n\n    }\n\n    private void IPs_Load(object sender, EventArgs e)\n    {\n        try\n        {\n            DataSet ds = new DataSet();\n            ds.ReadXml(@\"C:\\Users\\Administrador\\source\\repos\\Sullair\\schema.xml\");\n            dataGridView1.DataSource = ds.Tables[0];\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.ToString());\n        }\n    }\n\n    private void Save()\n    {\n        DataTable db = (DataTable)dataGridView1.DataSource;\n        db.WriteXml(@\"C:\\Users\\Administrador\\source\\repos\\Sullair\\schema.xml\");\n    }\n\n    private void btnSave_Click(object sender, EventArgs e)\n    {\n        Save();   \n    }\n\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "cookies", ".net-core", "httpwebrequest", "httpwebresponse"], "comments": [{"owner": {"reputation": 171, "user_id": 1023913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a3809c751fea2fa5775c3b513f8a96?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo", "link": "https://stackoverflow.com/users/1023913/alfredo"}, "edited": false, "score": 2, "creation_date": 1507141024, "post_id": 46571476, "comment_id": 80096721, "body": "Can you use fiddler to look at the request that is being produced from the C# code? How is it different from the working request you produced in fiddler?"}, {"owner": {"reputation": 420, "user_id": 442675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ae4dabecf0ef91755c31412af5648d?s=128&d=identicon&r=PG", "display_name": "Ed T", "link": "https://stackoverflow.com/users/442675/ed-t"}, "edited": false, "score": 2, "creation_date": 1507141589, "post_id": 46571476, "comment_id": 80097028, "body": "Is your request url going to localhost? You&#39;ve set the cookie to only be delivered to the localhost domain."}, {"owner": {"reputation": 99, "user_id": 4948393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/sMnF8.jpg?s=128&g=1", "display_name": "James Sherburn", "link": "https://stackoverflow.com/users/4948393/james-sherburn"}, "reply_to_user": {"reputation": 420, "user_id": 442675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ae4dabecf0ef91755c31412af5648d?s=128&d=identicon&r=PG", "display_name": "Ed T", "link": "https://stackoverflow.com/users/442675/ed-t"}, "edited": false, "score": 0, "creation_date": 1507142318, "post_id": 46571476, "comment_id": 80097466, "body": "Hi @Ed T thanks for your comment.  I did what you said and changed this to the correct domain and...bingo! it worked.  Should have spotted that one!  Turn this into an answer and i&#39;ll up vote and mark this as the answer.  James"}, {"owner": {"reputation": 1040, "user_id": 914249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UYDb.png?s=128&g=1", "display_name": "Mad Myche", "link": "https://stackoverflow.com/users/914249/mad-myche"}, "edited": false, "score": 0, "creation_date": 1507142874, "post_id": 46571476, "comment_id": 80097784, "body": "Can you post the rest of the controller action?"}, {"owner": {"reputation": 420, "user_id": 442675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ae4dabecf0ef91755c31412af5648d?s=128&d=identicon&r=PG", "display_name": "Ed T", "link": "https://stackoverflow.com/users/442675/ed-t"}, "edited": false, "score": 0, "creation_date": 1507560019, "post_id": 46571476, "comment_id": 80247188, "body": "@JamesSherburn, glad to help. Answer posted."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 4948393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/sMnF8.jpg?s=128&g=1", "display_name": "James Sherburn", "link": "https://stackoverflow.com/users/4948393/james-sherburn"}, "edited": false, "score": 2, "creation_date": 1507142540, "post_id": 46571609, "comment_id": 80097591, "body": "Hi @Scrappydog just out of interest I also tried this, yet it didn&#39;t make a difference.  The request still processed as a GET.  I guess there is no harm in making this explicit though, so I&#39;m up voting."}], "tags": [], "owner": {"reputation": 2824, "user_id": 52101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Bli5j.jpg?s=128&g=1", "display_name": "Scrappydog", "link": "https://stackoverflow.com/users/52101/scrappydog"}, "is_accepted": false, "score": 2, "last_activity_date": 1507141101, "creation_date": 1507141101, "answer_id": 46571609, "question_id": 46571476, "link": "https://stackoverflow.com/questions/46571476/c-httpwebrequest-response-error-401/46571609#46571609", "title": "C# HttpWebRequest response error (401)", "body": "<p>I think your request is defaulting to POST, but your Fiddler example is doing a GET.</p>\n\n<p>Try adding:</p>\n\n<pre><code>            request.Method = \"GET\";\n            request.ContentType = \"text/xml; encoding='utf-8'\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 442675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ae4dabecf0ef91755c31412af5648d?s=128&d=identicon&r=PG", "display_name": "Ed T", "link": "https://stackoverflow.com/users/442675/ed-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1507559985, "creation_date": 1507559985, "answer_id": 46649042, "question_id": 46571476, "link": "https://stackoverflow.com/questions/46571476/c-httpwebrequest-response-error-401/46649042#46649042", "title": "C# HttpWebRequest response error (401)", "body": "<p>In the <code>Cookie</code> constructor, you are setting the cookie's domain as \"localhost\" which means it will only be delivered to requests to the localhost domain. It should be set to the domain you are actually sending the request to.</p>\n"}], "owner": {"reputation": 99, "user_id": 4948393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/sMnF8.jpg?s=128&g=1", "display_name": "James Sherburn", "link": "https://stackoverflow.com/users/4948393/james-sherburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 46649042, "answer_count": 2, "score": 3, "last_activity_date": 1507559985, "creation_date": 1507140663, "question_id": 46571476, "link": "https://stackoverflow.com/questions/46571476/c-httpwebrequest-response-error-401", "title": "C# HttpWebRequest response error (401)", "body": "<p>Please excuse me if I look as though I'm doing something stupid here.  I've tried browsing other stack overflow questions for the answer to my issue, yet do not seem to be getting anywhere.</p>\n\n<p>I'm working on a dotnet core MVC application and wanting to return some data from a remote server.  I am using the HttpWebRequest class.</p>\n\n<p>In Fiddler I executed the following using the composer.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uGnId.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uGnId.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see its a simple GET request with two cookies passed in the header.</p>\n\n<p>This works great and returns me exactly what I need.</p>\n\n<p>I then compose my request in the dotnet world as follows:</p>\n\n<pre><code> HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);\n\n request.CookieContainer = new CookieContainer();\n\n request.CookieContainer.Add(new Cookie(\"name\", \"value\", \"/\", \"localhost\"));\n</code></pre>\n\n<p>(did not include second cookie for purpose of question)</p>\n\n<p>I then call:</p>\n\n<pre><code>var httpResponse = (HttpWebResponse)request.GetResponse();\n</code></pre>\n\n<p>Yet receive 'The remote server returned an error: (401) Unauthorized'</p>\n\n<p>Any ideas what I'm doing wrong here? I tried to add the following line of code for testing purposes, but still no luck.</p>\n\n<pre><code>request.ServerCertificateValidationCallback = delegate { return true; };\n</code></pre>\n\n<p>All answers appreciated.  Plus as I mentioned, I'm no expert so I could just be doing something daft!</p>\n\n<p>James</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "linq-to-sql"], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 5191409, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e501077ad0a466960a1d367fdee3543c?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep H", "link": "https://stackoverflow.com/users/5191409/pradeep-h"}, "edited": false, "score": 0, "creation_date": 1507142087, "post_id": 46571494, "comment_id": 80097318, "body": "Thank you. It worked. Feel the exception was because I was trying toString() before null check."}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "reply_to_user": {"reputation": 541, "user_id": 5191409, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e501077ad0a466960a1d367fdee3543c?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep H", "link": "https://stackoverflow.com/users/5191409/pradeep-h"}, "edited": false, "score": 0, "creation_date": 1507142157, "post_id": 46571494, "comment_id": 80097364, "body": "@PradeepHegde - exactly -  <code>ToString()</code> on a <code>null</code> results in an exception :)"}], "tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 1, "last_activity_date": 1507140931, "last_edit_date": 1507140931, "creation_date": 1507140706, "answer_id": 46571494, "question_id": 46571463, "link": "https://stackoverflow.com/questions/46571463/entity-framework-select-single-column-with-null-check/46571494#46571494", "title": "Entity Framework - Select Single Column with Null Check", "body": "<p>If using C# 6.0 or higher Use the <code>?.</code> operator:</p>\n\n<pre><code>string test = dbContext.TABLE.SingleOrDefault(p =&gt; p.A == A)?.ColumnA.ToString();\n</code></pre>\n\n<p>If prior to C# 6.0 you can:</p>\n\n<pre><code>var columnA = dbContext.TABLE.Where(p =&gt; p.A == A).Select(x =&gt; x.ColumnA).SingleOrDefault();\nstring test = columnA == null ? null : columnA.ToString();\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 5191409, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e501077ad0a466960a1d367fdee3543c?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep H", "link": "https://stackoverflow.com/users/5191409/pradeep-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1956, "favorite_count": 0, "accepted_answer_id": 46571494, "answer_count": 1, "score": 0, "last_activity_date": 1507140980, "creation_date": 1507140604, "last_edit_date": 1507140980, "question_id": 46571463, "link": "https://stackoverflow.com/questions/46571463/entity-framework-select-single-column-with-null-check", "title": "Entity Framework - Select Single Column with Null Check", "body": "<p>Trying below query to select value from single column in Entity Framework, but it is throwing exception when <strong>ColumnA</strong> is having Null value.</p>\n\n<pre><code>string test = dbContext.TABLE.Where(p =&gt; p.A== A).Select(x =&gt; x.ColumnA).SingleOrDefault().ToString();\n</code></pre>\n\n<p>I want to select some default value or assign null to string test if ColumnA is Null.</p>\n"}, {"tags": ["c#", "user-interface", "uwp", "focus", "autosuggest"], "answers": [{"tags": [], "owner": {"reputation": 10000, "user_id": 5620055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e3M5.jpg?s=128&g=1", "display_name": "Sunteen Wu", "link": "https://stackoverflow.com/users/5620055/sunteen-wu"}, "is_accepted": true, "score": 0, "last_activity_date": 1507184595, "creation_date": 1507184595, "answer_id": 46579086, "question_id": 46571452, "link": "https://stackoverflow.com/questions/46571452/autosuggestbox-focus-doesnt-work-first-time/46579086#46579086", "title": "AutoSuggestBox.focus doesn&#39;t work first time", "body": "<blockquote>\n  <p>It works from the second time when I click on button to make the ASbox visible, not the first - why? </p>\n</blockquote>\n\n<p>If you're trying to get the return result of setting focus method, you will find that the first time <code>AutoSuggestion.Focus</code> returns <code>false</code>, which means for some reasons the control is not focusable (see <code>Focus</code> method of <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.control#Focus\" rel=\"nofollow noreferrer\"><code>Control</code></a> class). This should be the reason that the first time the <code>AutoSuggestBox</code> doesn't get focused.</p>\n\n<p>For why the control is not focusable, it may be caused by the <code>AutoSuggestBox</code> is not completed initialized since I add a little <code>Task.Delay</code>, the first time worked. Test code snippet as follow:</p>\n\n<pre><code>private async void Button_Click(object sender, RoutedEventArgs e)\n{\n    if (AutoSuggestBoxRicercaOn)\n    {\n        AutoSuggestion.Visibility = Visibility.Visible;\n        AutoSuggestBoxRicercaOn = false;\n        await Task.Delay(TimeSpan.FromSeconds(0.05));\n        bool setresult = AutoSuggestion.Focus(FocusState.Programmatic);\n        System.Diagnostics.Debug.WriteLine(\"the setting focus result:\" + setresult)\n    }\n    else\n    {\n        AutoSuggestion.Visibility = Visibility.Collapsed;\n        AutoSuggestBoxRicercaOn = true;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>How can I force it to be able to do that on the first time too ?</p>\n</blockquote>\n\n<p>You could put the initial <code>Visibility</code> property setting inside <code>Page_Loaded</code> event handle instead of the constructor. Which can take the same effects and the first time can work.</p>\n\n<pre><code>&lt;Page\n    ...\n    mc:Ignorable=\"d\" \n    Loaded=\"Page_Loaded\"&gt;\n\nprivate void Page_Loaded(object sender, RoutedEventArgs e)\n{\n    AutoSuggestion.Visibility = Visibility.Collapsed;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8044891, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/819941f5d088a201a4684db5fcb3d7f5?s=128&d=identicon&r=PG&f=1", "display_name": "Uopo", "link": "https://stackoverflow.com/users/8044891/uopo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 46579086, "answer_count": 1, "score": 0, "last_activity_date": 1507184595, "creation_date": 1507140569, "last_edit_date": 1507145131, "question_id": 46571452, "link": "https://stackoverflow.com/questions/46571452/autosuggestbox-focus-doesnt-work-first-time", "title": "AutoSuggestBox.focus doesn&#39;t work first time", "body": "<p>An simple thing, a button that when you click it opens an autosuggestbox and lets me focus on it and open the keyboard on mobile or simply be able to write without click by myself on the \"zone of text\"</p>\n\n<pre><code>Boolean AutoSuggestBoxRicercaOn = true;\n\npublic MainPage()\n{\n    this.InitializeComponent();\n    AutoSuggestion.Visibility = Visibility.Collapsed;\n}\n\nprivate void Button_Click(object sender, RoutedEventArgs e)\n{\n    if (AutoSuggestBoxRicercaOn)\n    {\n        AutoSuggestion.Visibility = Visibility.Visible;\n        AutoSuggestBoxRicercaOn = false;\n\n        AutoSuggestion.Focus(FocusState.Programmatic);\n    }\n    else\n    {\n        AutoSuggestion.Visibility = Visibility.Collapsed;\n        AutoSuggestBoxRicercaOn = true;\n    }\n}\n</code></pre>\n\n<p>[the xml is an autosuggestbox and a buttton]</p>\n\n<p>It works from the second time when I click on button to make the ASbox visible, not the first - why? How can I force it to be able to do that on the first time too ? </p>\n\n<p>Thanks to all :}</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 1, "creation_date": 1507141173, "post_id": 46571347, "comment_id": 80096808, "body": "Have you tested, just for the sake of it, to change the type in <code>ChromeMileageRestrictionTest</code> to a <code>byte</code> and insert 1 or 0 in the bit column? Since you only have one bit field - you could also try using a <code>tinyint</code> field in the database instead."}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "edited": false, "score": 1, "creation_date": 1507141610, "post_id": 46571347, "comment_id": 80097036, "body": "you are adding the same record twice, it appears so.  try editing some of that data so that its not all the same.  if your PK is on all of those columns then shouldn&#39;t they be unique?  I think your error is a false positive and the real underlying issue is that this data you are writing is not unique and it needs to be"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "edited": false, "score": 1, "creation_date": 1507141834, "post_id": 46571347, "comment_id": 80097186, "body": "you are also adding two records, try adding one and save it and then add the next and save it. so two SaveChanges instead of one"}, {"owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "reply_to_user": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 1, "creation_date": 1507141846, "post_id": 46571347, "comment_id": 80097192, "body": "@fredrik isn&#39;t the standard convention for EntityFramework to use a bool property and a bit field in the database? I don&#39;t think I fully understand your suggestion."}, {"owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "reply_to_user": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "edited": false, "score": 0, "creation_date": 1507141918, "post_id": 46571347, "comment_id": 80097229, "body": "@Aaron.S the primary key is across all 4 columns.  One of the record has true and the other record has false so they are unique.  Even if I delete the first entry the 2nd entry still fails.  Also, the exception is thrown before the SaveChanges() is ever called.  The exception gets thrown on the call to dbContext.Add()"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "edited": false, "score": 0, "creation_date": 1507143523, "post_id": 46571347, "comment_id": 80098100, "body": "basic save <a href=\"https://docs.microsoft.com/en-us/ef/core/saving/basic\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/saving/basic</a> dbContext.ChromeMileageRestrictionTests.Add(new{ TermId = &quot;6078915-0-0&quot;, Mileage = &quot;15,000&quot;,Residual = 45.00000000M,IsDefault = false });  isn&#39;t this the proper way to add ONE record to the many in the context?"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "edited": false, "score": 0, "creation_date": 1507143757, "post_id": 46571347, "comment_id": 80098250, "body": "it appears as if you are missing dbContext.SOMETHINGHERE.Add(...);"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1507144832, "post_id": 46571347, "comment_id": 80098814, "body": "See this:<a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/7163\" rel=\"nofollow noreferrer\">github.com/aspnet/EntityFrameworkCore/issues/7163</a> It&#39;s a much debated issue. I don&#39;t understand EF&#39;s course here. Or this: <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/8540\" rel=\"nofollow noreferrer\">github.com/aspnet/EntityFrameworkCore/issues/8540</a>"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1507145222, "post_id": 46571347, "comment_id": 80099003, "body": "OK: <a href=\"https://stackoverflow.com/q/40619319/861716\">this</a> is the duplicate I was looking for. Please see if you can live with it and mark your question as duplicate."}, {"owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1507145454, "post_id": 46571347, "comment_id": 80099139, "body": "Wow! @GertArnold That is crazy! I&#39;m testing this solutions to see if it works correctly or not.  Once I verify I will do that. THANK YOU!!!!"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1507146118, "post_id": 46571347, "comment_id": 80099496, "body": "It works of course. The question is why ever have that <code>HasDefaultValueSql</code> at all. Just unnecessary db trips, has to back them all with <code>ValueGeneratedNever</code>."}, {"owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1507146329, "post_id": 46571347, "comment_id": 80099626, "body": "@IvanStoev the IsDefault column was added to the existing table when there was already records in it.  Since the field in non-nullable a default value was provided for all of the existing records.  When we scaffolded the dbcontext, the scaffolding added the HasDefaultValueSql to the dbContext."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1507146978, "post_id": 46571347, "comment_id": 80099937, "body": "Well, this sounds like temporary workaround to get the new columns created. It should have been removed after. Anyway, you can simply remove the generated <code>HasDefaultValueSql</code> from both properties or add <code>ValueGeneratedNever</code> to both properties. It doesn&#39;t really matter since if you re-scaffold you&#39;d probably lose your adjustments anyway."}, {"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1507223939, "post_id": 46571347, "comment_id": 80135798, "body": "@jkruer01 It wasn&#39;t meant as a solution - rather a means of debugging."}, {"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1507429648, "post_id": 46571347, "comment_id": 80204385, "body": "Closed as duplicate: <a href=\"https://stackoverflow.com/q/40619319/213550\">stackoverflow.com/q/40619319/213550</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "is_accepted": false, "score": 1, "last_activity_date": 1507150336, "creation_date": 1507150336, "answer_id": 46573969, "question_id": 46571347, "link": "https://stackoverflow.com/questions/46571347/ef-core-2-0-system-notsupportedexception-on-add/46573969#46573969", "title": "EF Core 2.0 - System.NotSupportedException On Add", "body": "<p>Duplicate of this: <a href=\"https://stackoverflow.com/questions/40619319/entity-framework-not-including-columns-with-default-value-in-insert-into-query\">Entity Framework not including columns with default value in insert into query</a></p>\n\n<p>TLDR: I removed the default value of False on the IsDefault field both from the database and from the DbContext mapping.  This solved the problem.</p>\n"}], "owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "closed_date": 1507429628, "answer_count": 1, "score": 5, "last_activity_date": 1507150336, "creation_date": 1507140187, "question_id": 46571347, "link": "https://stackoverflow.com/questions/46571347/ef-core-2-0-system-notsupportedexception-on-add", "closed_reason": "Duplicate", "title": "EF Core 2.0 - System.NotSupportedException On Add", "body": "<p>I am using EF Core 2.0.  I have a table with 4 columns where the PK is made up of all 4 columns.  One of the columns (IsDefault) is a bit field in the database.  If I insert a record with IsDefault set to true everything works fine.  If I insert a record with IsDefault set to false I get the following exception:</p>\n\n<pre><code>System.NotSupportedException occurred\n  HResult=0x80131515\n  Message=The 'IsDefault' on entity type 'ChromeMileageRestrictionTest' does not have a value set and no value generator is available for properties of type 'bool'. Either set a value for the property before adding the entity or configure a value generator for properties of type 'bool'.\n  Source=&lt;Cannot evaluate the exception source&gt;\n  StackTrace:\n   at Microsoft.EntityFrameworkCore.ValueGeneration.ValueGeneratorSelector.Create(IProperty property, IEntityType entityType)\n   at Microsoft.EntityFrameworkCore.ValueGeneration.RelationalValueGeneratorSelector.Create(IProperty property, IEntityType entityType)\n   at Microsoft.EntityFrameworkCore.ValueGeneration.Internal.SqlServerValueGeneratorSelector.Create(IProperty property, IEntityType entityType)\n   at Microsoft.EntityFrameworkCore.ValueGeneration.ValueGeneratorSelector.&lt;&gt;c__DisplayClass6_0.&lt;Select&gt;b__0(IProperty p, IEntityType e)\n   at Microsoft.EntityFrameworkCore.ValueGeneration.ValueGeneratorCache.&lt;&gt;c.&lt;GetOrAdd&gt;b__3_0(CacheKey ck)\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\n   at Microsoft.EntityFrameworkCore.ValueGeneration.ValueGeneratorCache.GetOrAdd(IProperty property, IEntityType entityType, Func`3 factory)\n   at Microsoft.EntityFrameworkCore.ValueGeneration.ValueGeneratorSelector.Select(IProperty property, IEntityType entityType)\n   at Microsoft.EntityFrameworkCore.ValueGeneration.Internal.SqlServerValueGeneratorSelector.Select(IProperty property, IEntityType entityType)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ValueGenerationManager.Generate(InternalEntityEntry entry)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean forceStateWhenUnknownKey)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode node)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph(EntityEntryGraphNode node, Func`2 handleNode)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState entityState, Boolean forceStateWhenUnknownKey)\n   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)\n   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)\n   at Microsoft.EntityFrameworkCore.DbContext.Add[TEntity](TEntity entity)\n   at DAL.Tests.UnitTest1.TestMethod1() in C:\\Users\\jkruer\\Source\\Repos\\JLM.App.ChromeIncentivesService\\DAL.Tests\\UnitTest1.cs:line 12\n</code></pre>\n\n<p>I created a VERY simplified version and am able to reproduce the problem with my single table, single entity, single record, single unit test implementation.</p>\n\n<p>My Database Table:</p>\n\n<pre><code>CREATE TABLE [dbo].[ChromeMileageRestrictionTEST](\n    [TermID] [varchar](50) NOT NULL,\n    [Mileage] [varchar](50) NOT NULL,\n    [Residual] [decimal](18, 8) NOT NULL,\n    [isDefault] [bit] NOT NULL,\n CONSTRAINT [PK_ChromeMileageRestrictionTEST] PRIMARY KEY CLUSTERED \n(\n    [TermID] ASC,\n    [Mileage] ASC,\n    [Residual] ASC,\n    [isDefault] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY]\n\nGO\n\nALTER TABLE [dbo].[ChromeMileageRestrictionTEST] ADD  CONSTRAINT [DF_ChromeMileageRestrictionTEST_Residual]  DEFAULT ((0)) FOR [Residual]\nGO\n\nALTER TABLE [dbo].[ChromeMileageRestrictionTEST] ADD  CONSTRAINT [DF_ChromeMileageRestrictionTEST_isDefault]  DEFAULT ((0)) FOR [isDefault]\nGO\n</code></pre>\n\n<p>My dbContext:</p>\n\n<pre><code>public partial class ReportingContext : DbContext\n    {\n        public ReportingContext()\n        {\n        }\n\n        public virtual DbSet&lt;ChromeMileageRestrictionTest&gt; ChromeMileageRestriction { get; set; }\n\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            optionsBuilder.UseSqlServer(@\"MyConnectionStringGoesHere\");            \n        }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            modelBuilder.Entity&lt;ChromeMileageRestrictionTest&gt;(entity =&gt;\n            {\n                entity.HasKey(e =&gt; new { e.TermId, e.Mileage, e.Residual, e.IsDefault })                \n                .HasName(\"PK_ChromeMileageRestrictionTest\");\n\n                entity.Property(e =&gt; e.TermId)\n                    .HasColumnName(\"TermID\")\n                    .HasMaxLength(50)\n                    .IsUnicode(false);\n\n                entity.Property(e =&gt; e.Mileage)\n                    .HasMaxLength(50)\n                    .IsUnicode(false);\n\n                entity.Property(e =&gt; e.Residual)\n                    .HasColumnType(\"decimal(18, 8)\")\n                    .HasDefaultValueSql(\"((0))\");\n\n                entity.Property(e =&gt; e.IsDefault)\n                    .HasColumnName(\"isDefault\")\n                    .HasDefaultValueSql(\"((0))\");\n            });\n        }\n    }\n</code></pre>\n\n<p>My Entity:</p>\n\n<pre><code>public partial class ChromeMileageRestrictionTest\n    {\n        public string TermId { get; set; }\n        public string Mileage { get; set; }\n        public decimal Residual { get; set; }\n        public bool IsDefault { get; set; }\n    }\n</code></pre>\n\n<p>My Unit Test:</p>\n\n<pre><code>[TestClass]\n    public class UnitTest1\n    {\n        [TestMethod]\n        public void TestMethod1()\n        {\n            var dbContext = new ReportingContext();\n            dbContext.Add(new ChromeMileageRestrictionTest \n            {\n                TermId = \"6078915-0-0\",\n                Mileage = \"15,000\",\n                Residual = 45.00000000M,\n                IsDefault = true //THIS WORKS\n            });\n            dbContext.Add(new ChromeMileageRestrictionTest \n            {\n                TermId = \"6078915-0-0\",\n                Mileage = \"15,000\",\n                Residual = 45.00000000M,\n                IsDefault = false //THIS THROWS AN EXCEPTION\n            });\n            dbContext.SaveChanges();\n        }\n    }\n</code></pre>\n\n<p>I've been scratching my head on this one for a while.  I can't figure it out.  Any help would be GREATLY APPRECIATED!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "if-statement", "casting"], "answers": [{"comments": [{"owner": {"reputation": 1138, "user_id": 1770778, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d871ac3e8253dcc4fe15b0d5707dd2a?s=128&d=identicon&r=PG", "display_name": "ffonz", "link": "https://stackoverflow.com/users/1770778/ffonz"}, "edited": false, "score": 0, "creation_date": 1507141090, "post_id": 46571428, "comment_id": 80096758, "body": "That&#39;s it! A very good suggestion to change my declarations of StateA and StateB to IState&#39;s. Thank you very much!"}], "tags": [], "owner": {"reputation": 27758, "user_id": 717732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YCxg1.png?s=128&g=1", "display_name": "quetzalcoatl", "link": "https://stackoverflow.com/users/717732/quetzalcoatl"}, "is_accepted": true, "score": 3, "last_activity_date": 1507140788, "last_edit_date": 1507140788, "creation_date": 1507140458, "answer_id": 46571428, "question_id": 46571318, "link": "https://stackoverflow.com/questions/46571318/why-is-the-operator-asking-for-an-explicit-cast/46571428#46571428", "title": "Why is the ?: operator asking for an explicit cast?", "body": "<p>This happens when in expression <code>x ? a : b</code> the A and B return different type.</p>\n\n<p>Take a look at:</p>\n\n<pre><code>double a = 5;\ndecimal b = 4;\nvar z = x ? a : b;\n</code></pre>\n\n<p>what should be the type of Z? Even if A and B were of some compatible type, say, <code>int</code> and <code>long</code>, how should compiler guess what to return? should the result be int, or long?</p>\n\n<p>In your case, most probably, StateA is of type \"classA\" and StateB is of type \"classB\". Both classes implement IState, so simple assignement works, but when you put it into <code>?:</code> operator, the compiler cannot decide whever the result of <code>?:</code> operator should be <code>classA</code> or <code>classB</code>.</p>\n\n<p>And yes, I'm not wrong: the compiler doesn't even consider IState. Why? Because classA and classB may have <strong>many more other common interfaces or base types</strong>. They can <strong>both</strong> implement IState, or IEnumerable, or .. <code>object</code> at extreme. Which common base class should compiler pick? It's hard to decide, so it does not try to guess.</p>\n\n<p>There is a very simple solution to that, except for explicit casting which you already discovered on your own. Simply change the return type of StateA and StateB fields/properties.</p>\n\n<p>Right now, you probably have:</p>\n\n<pre><code>class StateMachine\n{\n    public ClassA StateA {get .. }\n    public ClassB StateB {get .. }\n}\n</code></pre>\n\n<p>since both implement IState, just change that to:</p>\n\n<pre><code>class StateMachine\n{\n    public IState StateA {get .. }\n    public IState StateB {get .. }\n}\n</code></pre>\n\n<p>Furthermore, the latter way (of providing state instance just by interface), this is probably even more desirable, since if StateMachine properties are meant to be a \"repository of states\" to pick from, then the code-location which do choose those states probably should not know the exact implementation types of those states - but of course that's not necessary and depends on your design.</p>\n"}], "owner": {"reputation": 1138, "user_id": 1770778, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d871ac3e8253dcc4fe15b0d5707dd2a?s=128&d=identicon&r=PG", "display_name": "ffonz", "link": "https://stackoverflow.com/users/1770778/ffonz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "closed_date": 1507140427, "accepted_answer_id": 46571428, "answer_count": 1, "score": -1, "last_activity_date": 1507142459, "creation_date": 1507140110, "last_edit_date": 1507142459, "question_id": 46571318, "link": "https://stackoverflow.com/questions/46571318/why-is-the-operator-asking-for-an-explicit-cast", "closed_reason": "Duplicate", "title": "Why is the ?: operator asking for an explicit cast?", "body": "<p>I have this piece of code</p>\n\n<pre><code>        StateMachine.State = string.IsNullOrEmpty(MyString) ?\n            (IState) StateMachine.StateA : StateMachine.StateB;\n</code></pre>\n\n<p>I can also write it as</p>\n\n<pre><code>        if (string.IsNullOrEmpty(MyString))\n            StateMachine.State = StateMachine.StateA;\n        else\n            StateMachine.State = StateMachine.StateB;\n</code></pre>\n\n<p><code>State</code> is of type <code>IState</code> and <code>StateA</code> and <code>StateB</code> both implement <code>IState</code>.</p>\n\n<p>In the first snippet the compiler demands an explicit cast, while in the second it is not needed. Why is it needed in the first example?</p>\n\n<p>EDIT:\nThe suggested duplicate question doesn't completely cover my question. My question is about objects and interfaces, while the other question is about primitive data types and constant numbers.\nEspecially the suggestion of quetzalcoatl about the declarations is very valuable.</p>\n\n<p>Reading the answer on the suggested duplicate question never would have pointed me in that direction.</p>\n"}, {"tags": ["c#", "rest"], "answers": [{"tags": [], "owner": {"reputation": 429, "user_id": 7055056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfd5bcd45ae995b9c3a9a18182d27f81?s=128&d=identicon&r=PG&f=1", "display_name": "Sunshine", "link": "https://stackoverflow.com/users/7055056/sunshine"}, "is_accepted": true, "score": 1, "last_activity_date": 1507145481, "creation_date": 1507145481, "answer_id": 46572769, "question_id": 46571290, "link": "https://stackoverflow.com/questions/46571290/what-can-affect-the-response-time-for-an-http-post-using-a-rest-api-in-c/46572769#46572769", "title": "What can affect the response time for an HTTP POST using a REST API in C#", "body": "<p>It looks like you're not doing any work with <code>requestStream</code>. Add this before your print out the filename and you should see a time difference.</p>\n\n<pre><code>new StreamReader(requestStream).ReadToEndAsync().Wait();\n</code></pre>\n\n<p>As for why you're not seeing a time difference now, the entire request is sent to the server before the controller is called. See this question for a solution to streaming the request instead waiting for the whole body.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19168017/asp-net-web-api-send-response-before-request-body-is-read-uploaded\">ASP.Net Web API: Send response before request body is read/uploaded</a></p>\n"}], "owner": {"reputation": 167, "user_id": 3579174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3c24944f060de9894216cf4d85113572?s=128&d=identicon&r=PG&f=1", "display_name": "Ibrennan208", "link": "https://stackoverflow.com/users/3579174/ibrennan208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 46572769, "answer_count": 1, "score": 1, "last_activity_date": 1507145481, "creation_date": 1507139982, "question_id": 46571290, "link": "https://stackoverflow.com/questions/46571290/what-can-affect-the-response-time-for-an-http-post-using-a-rest-api-in-c", "title": "What can affect the response time for an HTTP POST using a REST API in C#", "body": "<p>I am trying to make a simple REST Web API with a C# back-end.</p>\n\n<p>My main question is: Why does it take so long for my web client to show a response was received if I use a very large file? My method returning the response seems to complete very quickly regardless of file size.</p>\n\n<p>My code is below as well as the output and the two different HTTP POST statements and their results. In my first example I use a file that is 246 KB and get the response on the client side within 20ms. The second example uses a file that is 2089344 KB and gets a response on the client side about 45 seconds later. Both logs show that there are only a few milliseconds between the beginning of the method and the result being created.</p>\n\n<p>Any help is appreciated! Thanks.</p>\n\n<p><strong>CODE:</strong></p>\n\n<pre><code>[HttpPost, Route(\"test/upload\")]\n    public HttpResponseMessage Post([FromUri]string filename)\n    {\n\n\n        var task = Request.Content.ReadAsStreamAsync();\n        System.Diagnostics.Debug.WriteLine(\"1: \" + (DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond));\n        task.Wait();\n        System.Diagnostics.Debug.WriteLine(\"2: \" + (DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond));\n        Stream requestStream = task.Result;\n\n\n        try\n        {\n            System.Diagnostics.Debug.WriteLine(filename);\n            System.Diagnostics.Debug.WriteLine(\"3: \" + (DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond));\n            requestStream.Close();\n\n        }\n        catch (IOException)\n        {\n            requestStream.Close();\n            throw new HttpResponseException(HttpStatusCode.InternalServerError);\n        }\n        System.Diagnostics.Debug.WriteLine(\"4: \" + (DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond));\n        HttpResponseMessage result = Request.CreateResponse(HttpStatusCode.Created);\n        System.Diagnostics.Debug.WriteLine(\"5: \" + (DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond));\n        return result;\n    }\n</code></pre>\n\n<p><strong>FIRST HTTP POST:</strong></p>\n\n<pre><code>POST /test/upload?filename=test HTTP/1.1\nContent-Length: 252335\nHost: localhost:64105\nContent-Type: application/octet-stream\n\n[message-body; type: application/octet-stream, size: 252335 bytes]\n</code></pre>\n\n<p><strong>FIRST RESPONSE:</strong></p>\n\n<pre><code>HTTP/1.1 201 Created\nCache-Control: no-cache\nPragma: no-cache\nExpires: -1\nServer: Microsoft-IIS/10.0\nX-AspNet-Version: 4.0.30319\nX-SourceFiles: =?UTF-8?BQzpcVXNlcnNcSWFuXERvY3VtZW50c1xXb3JraW5nRm9sZGVyXFNpbXBsZVJlc3RcU2ltcGxlUmVzdFx0ZXN0XHVwbG9hZA==?=\nX-Powered-By: ASP.NET\nDate: Wed, 04 Oct 2017 17:50:07 GMT\nContent-Length: 0\n</code></pre>\n\n<p><strong>FIRST LOG:</strong></p>\n\n<pre><code>1: 63642721970786\n2: 63642721970788\ntest\n3: 63642721970791\n4: 63642721970792\n5: 63642721970793\n</code></pre>\n\n<p><strong>SECOND HTTP POST:</strong></p>\n\n<pre><code>POST /test/upload?filename=test HTTP/1.1\nContent-Length: 2139488256\nHost: localhost:64105\nContent-Type: application/octet-stream\n\n[message-body; type: application/octet-stream, size: 2139488256 bytes]\n</code></pre>\n\n<p><strong>SECOND RESPONSE:</strong></p>\n\n<pre><code>HTTP/1.1 201 Created\nCache-Control: no-cache\nPragma: no-cache\nExpires: -1\nServer: Microsoft-IIS/10.0\nX-AspNet-Version: 4.0.30319\nX-SourceFiles: =?UTF-8?B?QzpcVXNlcnNcSWFuXERvY3VtZW50c1xXb3JraW5nRm9sZGVyXFNpbXBsZVJlc3RcU2ltcGxlUmVzdFx0ZXN0XHVwbG9hZA==?=\nX-Powered-By: ASP.NET\nDate: Wed, 04 Oct 2017 17:56:07 GMT\nContent-Length: 0\n</code></pre>\n\n<p><strong>SECOND LOG:</strong></p>\n\n<pre><code>1: 63642722167480\n2: 63642722167481\ntest\n3: 63642722167484\n4: 63642722167485\n5: 63642722167487\n</code></pre>\n"}, {"tags": ["c#", "discord", "ref"], "answers": [{"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 1, "last_activity_date": 1507140270, "creation_date": 1507140270, "answer_id": 46571367, "question_id": 46571222, "link": "https://stackoverflow.com/questions/46571222/discord-bot-ref-c/46571367#46571367", "title": "discord bot ref (C#)", "body": "<p>You can extract the parameter with <code>e.GetArg(parameterName)</code>:</p>\n\n<pre><code>int number;\nif (!int.TryParse(e.GetArg(\"number\"), out number)\n{\n    // handle error\n}\n\n// rest of your logics...\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8721000, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/JRLXi.jpg?s=128&g=1", "display_name": "Xilefen", "link": "https://stackoverflow.com/users/8721000/xilefen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507140270, "creation_date": 1507139762, "question_id": 46571222, "link": "https://stackoverflow.com/questions/46571222/discord-bot-ref-c", "title": "discord bot ref (C#)", "body": "<p>I kind of suck att everything C# but what I am trying to do is that you will write \n\"b!roll [number]\" and it will generate a random number from 0 to [number]. But I don't understand how to use the number you input at the command in other parts so that I can use \"number\" as it says in my code in other parts like a var.</p>\n\n<pre><code>     commands.CreateCommand(\"!random\")\n            .Parameter(\"number\", ParameterType.Required)\n            .Do(async (e) =&gt;\n            {\n                Random random = new Random();\n\n                int randomNumber = random.Next(0, number);\n\n                await e.Channel.SendMessage(\":game_die: You rolled your **\" + number \"** sided die and got the number **\" + randomNumber + \"**!\");\n            });\n</code></pre>\n\n<p>This is probably really simple but I can't seem to understand but I would love if someone helped so that I can understand C# better.</p>\n"}, {"tags": ["c#", "telegram", "telegram-bot"], "comments": [{"owner": {"reputation": 1841, "user_id": 7066681, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/fd2fb2bc779c1cf9a946cc6beeccaa0c?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic", "link": "https://stackoverflow.com/users/7066681/frederic"}, "edited": false, "score": 0, "creation_date": 1507140278, "post_id": 46571155, "comment_id": 80096310, "body": "Can you add more code and explanation ? So far, this is very vague"}, {"owner": {"reputation": 385, "user_id": 2820253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb4ef0886619b77a2eb60738406e07a0?s=128&d=identicon&r=PG&f=1", "display_name": "Lindos Pechos", "link": "https://stackoverflow.com/users/2820253/lindos-pechos"}, "edited": false, "score": 1, "creation_date": 1507140400, "post_id": 46571155, "comment_id": 80096376, "body": "It looks like you are attempting to assign an array of string type to an array of KeyboardButton type. They are not same type; this is an invalid conversion. Without a code example of the problem, there isn&#39;t much else we can help you with."}], "answers": [{"tags": [], "owner": {"reputation": 5968, "user_id": 5201431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/598f6906350d4774bb4385f4e5121f66?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/5201431/sean"}, "is_accepted": true, "score": 0, "last_activity_date": 1507157153, "creation_date": 1507157153, "answer_id": 46575296, "question_id": 46571155, "link": "https://stackoverflow.com/questions/46571155/error-in-make-telegram-bot/46575296#46575296", "title": "Error in make telegram bot", "body": "<p>Error log only said that you put <code>string</code> as <code>KeyboardButton</code>, please generate <a href=\"https://core.telegram.org/bots/api#keyboardbutton\" rel=\"nofollow noreferrer\">KeyboardButton</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8890233, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f86909a920dc6515eb9e0ec8cf7771c6?s=128&d=identicon&r=PG", "display_name": "Mohammadreza Bahrani", "link": "https://stackoverflow.com/users/8890233/mohammadreza-bahrani"}, "is_accepted": false, "score": -1, "last_activity_date": 1510604675, "last_edit_date": 1510604675, "creation_date": 1509902391, "answer_id": 47124362, "question_id": 46571155, "link": "https://stackoverflow.com/questions/46571155/error-in-make-telegram-bot/47124362#47124362", "title": "Error in make telegram bot", "body": "<p>You can use the following code:</p>\n\n<pre><code>mainMenu = new ReplyKeyboardMarkup {\n  Keyboard = new KeyboardButton[][] {\n    new KeyboardButton[] {\n      new KeyboardButton(\"Your Text\")\n    }\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6548951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327e6a5e87c27db7740beb1f576e63ee?s=128&d=identicon&r=PG&f=1", "display_name": "A.Zebka", "link": "https://stackoverflow.com/users/6548951/a-zebka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 46575296, "answer_count": 2, "score": 1, "last_activity_date": 1510604675, "creation_date": 1507139504, "question_id": 46571155, "link": "https://stackoverflow.com/questions/46571155/error-in-make-telegram-bot", "title": "Error in make telegram bot", "body": "<p>i have problem in make telegram bot!!!and this is the Error!\n<code>CS0029 Cannot implicitly convert type 'string[][]' to 'NetTelegramBotApi.Types.KeyboardButton[][]</code></p>\n\n<blockquote>\n  <p>Notice : I use C# for making bot!</p>\n</blockquote>\n\n<p>please help \nthanks</p>\n"}, {"tags": ["c#", "json", "unity3d"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1507139521, "post_id": 46571094, "comment_id": 80095898, "body": "See *&quot;4.TROUBLESHOOTING JsonUtility:&quot; from the answer in the duplicate. I can spot few issues already such as the use of <code>{ get; set; }</code> and no presence of <code>[Serializable]</code>. There may be other issues in your code."}, {"owner": {"reputation": 329, "user_id": 6943161, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f535db3e91571454fc1f87a8d0e4fe96?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Silva", "link": "https://stackoverflow.com/users/6943161/tyler-silva"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1507140364, "post_id": 46571094, "comment_id": 80096354, "body": "removing {get; set;} worked, but i figured i should let you know that  &quot;The type or namespace name `serializable&#39; could not be found. Are you missing an assembly reference?&quot;"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1507140712, "post_id": 46571094, "comment_id": 80096554, "body": "It&#39;s <code>Serializable</code> not <code>serializable</code> and you must import <code>System</code> namespace or use <code>System.Serializable</code> directly."}], "owner": {"reputation": 329, "user_id": 6943161, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f535db3e91571454fc1f87a8d0e4fe96?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Silva", "link": "https://stackoverflow.com/users/6943161/tyler-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1507139395, "answer_count": 0, "score": 0, "last_activity_date": 1507217904, "creation_date": 1507139278, "last_edit_date": 1507217904, "question_id": 46571094, "link": "https://stackoverflow.com/questions/46571094/unity-c-json-not-working", "closed_reason": "Duplicate", "title": "unity c# json not working", "body": "<p>I'm fairly new to c# and unity. I am attempting to get variables from my json files but the program seems to only return booleans and strings properly. </p>\n\n<p>c#</p>\n\n<pre><code>public class Reputation\n{\n    public int normal { get; set; }\n}\nvoid Start()\n{\n    string reputation = @\"c:\\path\\to\\file\\reputation.json\";\n    StreamReader reader2 = new StreamReader (reputation); \n    player.reputation = JsonUtility.FromJson&lt;Reputation&gt;(reader2.ReadToEnd ());\n    reader.Close ();\n    Debug.Log(player.reputation.normal);\n}\n</code></pre>\n\n<p>json</p>\n\n<pre><code>{\n    \"normal\":20\n}\n</code></pre>\n\n<p>and the log displays a 0</p>\n"}, {"tags": ["c#", "roslyn"], "comments": [{"owner": {"reputation": 1778, "user_id": 1165910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbaeac835b600cf5761c541f1452237?s=128&d=identicon&r=PG", "display_name": "Matt Warren", "link": "https://stackoverflow.com/users/1165910/matt-warren"}, "edited": false, "score": 1, "creation_date": 1507145803, "post_id": 46571071, "comment_id": 80099330, "body": "There is a Renamer API that can do this all for you."}, {"owner": {"reputation": 2805, "user_id": 2578509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c74a33d2abf4afca62828083a5cd8789?s=128&d=identicon&r=PG", "display_name": "M-Pixel", "link": "https://stackoverflow.com/users/2578509/m-pixel"}, "reply_to_user": {"reputation": 1778, "user_id": 1165910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbaeac835b600cf5761c541f1452237?s=128&d=identicon&r=PG", "display_name": "Matt Warren", "link": "https://stackoverflow.com/users/1165910/matt-warren"}, "edited": false, "score": 0, "creation_date": 1507148431, "post_id": 46571071, "comment_id": 80100621, "body": "Thanks, Matt. It looks like Renamer is a part of the Workspaces package, and requires a Solution root. I&#39;ll look into it."}], "answers": [{"comments": [{"owner": {"reputation": 2805, "user_id": 2578509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c74a33d2abf4afca62828083a5cd8789?s=128&d=identicon&r=PG", "display_name": "M-Pixel", "link": "https://stackoverflow.com/users/2578509/m-pixel"}, "edited": false, "score": 0, "creation_date": 1507149098, "post_id": 46572723, "comment_id": 80100938, "body": "Thank you for such a detailed answer! I originally tried to rewrite the declaration and usages in the same rewriter, and ran into a &quot;node doesn&#39;t exist in this tree&quot; error. Are you certain that Rewriter overrides never receive a modified Node? For example, if <code>Visit</code> returns a changed node, wouldn&#39;t <code>VisitClassDeclaration</code> receive the changed node?"}, {"owner": {"reputation": 883, "user_id": 5272292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9feb1604ba8464168caca833b1b48d7?s=128&d=identicon&r=PG&f=1", "display_name": "SJP", "link": "https://stackoverflow.com/users/5272292/sjp"}, "reply_to_user": {"reputation": 2805, "user_id": 2578509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c74a33d2abf4afca62828083a5cd8789?s=128&d=identicon&r=PG", "display_name": "M-Pixel", "link": "https://stackoverflow.com/users/2578509/m-pixel"}, "edited": false, "score": 1, "creation_date": 1507150228, "post_id": 46572723, "comment_id": 80101454, "body": "Actually that depends on your implementation. If you take a look at the method &quot;VisitClassDeclaration&quot; you will see that I called base.VisitClassDeclaration(node). The base call actually invokes the VisitIdentifierName member. If I had first modified the node and then passed the modified value to the member call of the base class, I would have received a modified node in VisitIdentifierName. However, if you only modify your node after you call the base implementation you should always receive a node from the original tree in your custom Visit-methods."}], "tags": [], "owner": {"reputation": 883, "user_id": 5272292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9feb1604ba8464168caca833b1b48d7?s=128&d=identicon&r=PG&f=1", "display_name": "SJP", "link": "https://stackoverflow.com/users/5272292/sjp"}, "is_accepted": true, "score": 2, "last_activity_date": 1507145315, "creation_date": 1507145315, "answer_id": 46572723, "question_id": 46571071, "link": "https://stackoverflow.com/questions/46571071/how-to-get-semantic-model-for-renamed-class-without-not-found-to-remove-except/46572723#46572723", "title": "How to get semantic model for renamed class without &quot;not found to remove&quot; exception", "body": "<p>The error that you receive is a result of you searching an element in a SyntaxTree which does not contain said element.</p>\n\n<p>When you call classDeclaration.ReplaceToken you do not actually replace the token in the existing SyntaxTree but rather you generate a new structure which is unrelated to the existing one. When you try to get the semantic model from the renamedClass you use a SyntaxTree not within the Compilation which causes the code to throw an exception.</p>\n\n<p>In order to fix this problem you can replace the node in the existing CompilationUnit and then replace the SyntaxTree in the Compilation. However, you will not be able to find the ClassDeclaration again, as it becomes a new object which does not correspond to the existing \"renamedClass\" Object.</p>\n\n<p>In order to track the element you can use <a href=\"https://stackoverflow.com/a/44240887\">SyntaxAnnotations</a> which allow you to add information to a node which can be retrieved later. This could look something along these lines:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    static void ReplaceClassName()\n    {\n        // This class needs to be renamed. We want to use Roslyn and symbols,\n        // because string-based replacement would change things that it's not supposed to.\n        var someScript = \"public class FooBar { public NotFooBar a; FooBar b; public OtherNamespace.FooBar c; }\";\n\n        // Minimal Roslyn boilerplate\n        var compilation = CSharpCompilation.Create(\"CodeGeneration\")\n            .WithOptions(new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary))\n            .AddSyntaxTrees(CSharpSyntaxTree.ParseText(someScript));\n        var oldSyntaxTree = compilation.SyntaxTrees[0];\n        var root = oldSyntaxTree.GetRoot();\n        var classDeclaration = root.DescendantNodes().OfType&lt;ClassDeclarationSyntax&gt;().Single();\n        var originalType = compilation.GetSemanticModel(classDeclaration.SyntaxTree).GetDeclaredSymbol(classDeclaration);\n        var renamedClass = classDeclaration.ReplaceToken(\n            classDeclaration.Identifier,\n            SyntaxFactory.Identifier(classDeclaration.Identifier.Text.Replace(\"Bar\", \"Baz\"))\n        ).WithAdditionalAnnotations(new SyntaxAnnotation(\"ReplacedClass\"));\n        root = root.ReplaceNode(classDeclaration, renamedClass);\n        compilation = compilation.ReplaceSyntaxTree(oldSyntaxTree, renamedClass.SyntaxTree);\n        renamedClass = compilation.SyntaxTrees[0].GetRoot().DescendantNodes().OfType&lt;ClassDeclarationSyntax&gt;().FirstOrDefault(curr =&gt; curr.GetAnnotations(\"ReplacedClass\").Any());\n        var semanticModel = compilation.GetSemanticModel(compilation.SyntaxTrees[0]);\n        var renamedType = semanticModel.GetDeclaredSymbol(renamedClass);\n        var rewritten = new TestRewriter(semanticModel, originalType, renamedType).Visit(renamedClass);\n        Console.Write(rewritten.GetText());\n    }\n</code></pre>\n\n<p>Sadly this will not actually resolve your problem. While you now have a new SemanticModel available, you will not be able to compare the TypeInfo of two different Models as you do in your SyntaxRewriter.</p>\n\n<p>In order to retain your Type information I would advise you to use the SyntaxRewriter to change both the IdentifierName as well as the ClassDeclarationSyntax, as the SyntaxRewriter will visit the nodes first and replace them only afterwards. This could be implemented as follows:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>static void ReplaceClassName()\n{\n    // This class needs to be renamed. We want to use Roslyn and symbols,\n    // because string-based replacement would change things that it's not supposed to.\n    var someScript = \"public class FooBar { public NotFooBar a; FooBar b; public OtherNamespace.FooBar c; }\";\n\n    // Minimal Roslyn boilerplate\n    var compilation = CSharpCompilation.Create(\"CodeGeneration\")\n        .WithOptions(new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary))\n        .AddSyntaxTrees(CSharpSyntaxTree.ParseText(someScript));\n    var oldSyntaxTree = compilation.SyntaxTrees[0];\n    var root = oldSyntaxTree.GetRoot();\n    var classDeclaration = root.DescendantNodes().OfType&lt;ClassDeclarationSyntax&gt;().FirstOrDefault();\n    var semanticModel = compilation.GetSemanticModel(classDeclaration.SyntaxTree);\n    var originalType = semanticModel.GetDeclaredSymbol(classDeclaration);\n    var rewritten = new TestRewriter(semanticModel, originalType).Visit(root);\n    Console.Write(rewritten.GetText());\n}\n\nclass TestRewriter : CSharpSyntaxRewriter\n{\n    private readonly SemanticModel _model;\n    private readonly ITypeSymbol _replace;\n    public TestRewriter(SemanticModel model, ITypeSymbol replace)\n    {\n        _model = model;\n        _replace = replace;\n    }\n\n    public override SyntaxNode VisitIdentifierName(IdentifierNameSyntax node)\n    {\n        node = base.VisitIdentifierName(node) as IdentifierNameSyntax;\n        if (_model.GetTypeInfo(node).Type.Equals(_replace))\n        {\n            var oldNode = node;\n            node = node.ReplaceToken(\n\n                        node.Identifier,\n                        SyntaxFactory.Identifier(node.Identifier.Text.Replace(\"Bar\", \"Baz\"))\n                ).WithLeadingTrivia(oldNode.GetLeadingTrivia()).WithTrailingTrivia(oldNode.GetTrailingTrivia());\n        }\n        return node;\n    }\n\n    public override SyntaxNode VisitClassDeclaration(ClassDeclarationSyntax node)\n    {\n        var oldNode = node;\n        node = base.VisitClassDeclaration(node) as ClassDeclarationSyntax;\n        if (_model.GetDeclaredSymbol(oldNode).Equals(_replace))\n        {\n            return node.WithIdentifier(SyntaxFactory.Identifier(node.Identifier.Text.Replace(\"Bar\", \"Baz\")));\n        }\n        return node;\n    }\n}\n</code></pre>\n\n<p>If you actually have a solution available you could possibly use the <a href=\"http://source.roslyn.io/Microsoft.CodeAnalysis.Workspaces/Rename/Renamer.cs.html\" rel=\"nofollow noreferrer\">Renamer</a> class which should do all the work for you.</p>\n"}], "owner": {"reputation": 2805, "user_id": 2578509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c74a33d2abf4afca62828083a5cd8789?s=128&d=identicon&r=PG", "display_name": "M-Pixel", "link": "https://stackoverflow.com/users/2578509/m-pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 1, "accepted_answer_id": 46572723, "answer_count": 1, "score": 3, "last_activity_date": 1536622082, "creation_date": 1507139201, "last_edit_date": 1536622082, "question_id": 46571071, "link": "https://stackoverflow.com/questions/46571071/how-to-get-semantic-model-for-renamed-class-without-not-found-to-remove-except", "title": "How to get semantic model for renamed class without &quot;not found to remove&quot; exception", "body": "<p>Here is a script that</p>\n\n<ol>\n<li>Identifies the type information for a class using its semantic model</li>\n<li>Renames the class by replacing its Identifier token</li>\n<li>Identifies the type information for the renamed class using its semantic model</li>\n<li>Runs a SyntaxRewriter on the renamed class - the rewriter replaces all ocurrences of the old type info with the new type info.</li>\n</ol>\n\n<p>(I hope) as minimally as possible:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    // This class needs to be renamed. We want to use Roslyn and symbols,\n    // because string-based replacement would change things that it's not supposed to.\n    var someScript = \"public class FooBar { public NotFooBar a; FooBar string b; public OtherNamespace.FooBar c; }\";\n\n    // Minimal Roslyn boilerplate\n    var compilation = CSharpCompilation.Create(\"CodeGeneration\")\n        .WithOptions(new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary))\n        .AddSyntaxTrees(CSharpSyntaxTree.ParseText(someScript));\n\n    var tree = compilation.SyntaxTrees[0];\n    var classDeclaration = tree.GetRoot().DescendantNodes().OfType&lt;ClassDeclarationSyntax&gt;().Single();\n    var originalType = compilation.GetSemanticModel(classDeclaration.SyntaxTree).GetDeclaredSymbol(classDeclaration);\n    var renamedClass = classDeclaration.ReplaceToken(\n        classDeclaration.Identifier,\n        SyntaxFactory.Identifier(classDeclaration.Identifier.Text.Replace(\"Bar\", \"Baz\"))\n    );\n    var semanticModel = compilation.GetSemanticModel(renamedClass.SyntaxTree);\n    var renamedType = semanticModel.GetDeclaredSymbol(renamedClass);\n    var rewritten = new TestRewriter(semanticModel, originalType, renamedType).Visit(renamedClass);\n    Console.Write(rewritten.GetText());\n}\n\nclass TestRewriter : CSharpSyntaxRewriter\n{\n    private readonly SemanticModel _model;\n    private readonly ITypeSymbol _replace;\n    private readonly ITypeSymbol _replacement;\n\n    public TestRewriter(SemanticModel model, ITypeSymbol replace, ITypeSymbol replacement)\n    {\n        _model = model;\n        _replace = replace;\n        _replacement = replacement;\n    }\n\n    public override SyntaxNode VisitIdentifierName(IdentifierNameSyntax node)\n    {\n        return base.VisitIdentifierName(\n            _model.GetTypeInfo(node).Type.Equals(_replace)\n                ? node.ReplaceToken(node.Identifier, SyntaxFactory.Identifier(_replacement.ToDisplayString()))\n                : node\n        );\n    }\n}\n</code></pre>\n\n<p>When running this program, <code>compilation.GetSemanticModel(renamedClass.SyntaxTree)</code> causes the following exception</p>\n\n<blockquote>\n  <p><code>System.ArgumentException</code>: <code>SyntaxTree</code> <code>public class FooBaz{ public NotFooBar a; FooBar string b; public OtherNamespace.FooBar c; }</code> not found to remove</p>\n</blockquote>\n\n<p>If, instead of getting a semantic model from the renamed class' tree, the semantic model from the original class' tree is used, then <code>GetTypeInfo(node)</code> will (as expected) throw an exception because <code>node</code> is not a part of the model's tree.</p>\n\n<p>What step am I missing that would prevent the \"not found to remove\" exception?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 347, "user_id": 6768729, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28a51f229ee1db60a3f8a15a11f99ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Farshad", "link": "https://stackoverflow.com/users/6768729/farshad"}, "edited": false, "score": 0, "creation_date": 1507138953, "post_id": 46570921, "comment_id": 80095620, "body": "you mean just a simple if before submitting?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1507139008, "post_id": 46570921, "comment_id": 80095649, "body": "You&#39;re already using one <code>if</code> statement, so you must know how to write another one.  Right?  So what&#39;s the problem?"}, {"owner": {"reputation": 3, "user_id": 8486670, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-etrAhicELgY/AAAAAAAAAAI/AAAAAAAAABo/flyLlejDyU0/photo.jpg?sz=128", "display_name": "Sir Itchyyy Gaming", "link": "https://stackoverflow.com/users/8486670/sir-itchyyy-gaming"}, "edited": false, "score": 0, "creation_date": 1507139037, "post_id": 46570921, "comment_id": 80095665, "body": "i tried the If condition"}, {"owner": {"reputation": 2321, "user_id": 5785572, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NcZz4ClhUWU/AAAAAAAAAAI/AAAAAAAAAPI/SOkHnSRAHGc/photo.jpg?sz=128", "display_name": "Etienne Faucher", "link": "https://stackoverflow.com/users/5785572/etienne-faucher"}, "edited": false, "score": 0, "creation_date": 1507139077, "post_id": 46570921, "comment_id": 80095686, "body": "What was your <code>if</code> condition?"}, {"owner": {"reputation": 3, "user_id": 8486670, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-etrAhicELgY/AAAAAAAAAAI/AAAAAAAAABo/flyLlejDyU0/photo.jpg?sz=128", "display_name": "Sir Itchyyy Gaming", "link": "https://stackoverflow.com/users/8486670/sir-itchyyy-gaming"}, "edited": false, "score": 0, "creation_date": 1507139361, "post_id": 46570921, "comment_id": 80095819, "body": "i tried the if condition  if (command.ExecuteNonQuery() == 1 &amp;&amp; string.IsNullOrWhiteSpace(txtPName.Text))"}, {"owner": {"reputation": 3, "user_id": 8486670, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-etrAhicELgY/AAAAAAAAAAI/AAAAAAAAABo/flyLlejDyU0/photo.jpg?sz=128", "display_name": "Sir Itchyyy Gaming", "link": "https://stackoverflow.com/users/8486670/sir-itchyyy-gaming"}, "edited": false, "score": 0, "creation_date": 1507139442, "post_id": 46570921, "comment_id": 80095858, "body": "sorry if this is such a dumb question im just a beginner who is trying to self study and sometimes i cannot really understand everything in youtube and internet"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1507139452, "post_id": 46570921, "comment_id": 80095866, "body": "That clearly won&#39;t work because you&#39;re validating <i>after</i> you run the query."}, {"owner": {"reputation": 3, "user_id": 8486670, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-etrAhicELgY/AAAAAAAAAAI/AAAAAAAAABo/flyLlejDyU0/photo.jpg?sz=128", "display_name": "Sir Itchyyy Gaming", "link": "https://stackoverflow.com/users/8486670/sir-itchyyy-gaming"}, "edited": false, "score": 0, "creation_date": 1507139532, "post_id": 46570921, "comment_id": 80095910, "body": "that&#39;s what i want to know on how to properly use it, where and when"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1507139581, "post_id": 46570921, "comment_id": 80095937, "body": "In the future, when you have trouble with code, show us the code that gave you trouble.  Don&#39;t omit it entirely.  That way we can explain why it didn&#39;t work.  It&#39;s hard to do that when we have no idea what you tried."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8486670, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-etrAhicELgY/AAAAAAAAAAI/AAAAAAAAABo/flyLlejDyU0/photo.jpg?sz=128", "display_name": "Sir Itchyyy Gaming", "link": "https://stackoverflow.com/users/8486670/sir-itchyyy-gaming"}, "edited": false, "score": 0, "creation_date": 1507139929, "post_id": 46571113, "comment_id": 80096106, "body": "thanks for this i added con.Close(); before the return because i get an error that says connection is already open when i tried to input new one, but thankyou for the answer now i understand"}], "tags": [], "owner": {"reputation": 385, "user_id": 2820253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb4ef0886619b77a2eb60738406e07a0?s=128&d=identicon&r=PG&f=1", "display_name": "Lindos Pechos", "link": "https://stackoverflow.com/users/2820253/lindos-pechos"}, "is_accepted": true, "score": 0, "last_activity_date": 1507139360, "creation_date": 1507139360, "answer_id": 46571113, "question_id": 46570921, "link": "https://stackoverflow.com/questions/46570921/how-to-put-validation-for-certain-empty-textbox/46571113#46571113", "title": "how to put validation for certain empty textbox", "body": "<p>You can add a validation check before executing the rest of the code. Calling <code>return</code> will immediately leave the method after validation fails.</p>\n\n<pre><code>private void btnSubmit_Click(object sender, EventArgs e)\n{\n    if (string.IsNullOrEmpty(txtPName.Text) || string.IsNullOrEmpty(txtAddress.Text))\n    {\n        MessageBox.Show(\"Missing Data\");\n        return;\n    }\n\n// Your code here...\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8486670, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-etrAhicELgY/AAAAAAAAAAI/AAAAAAAAABo/flyLlejDyU0/photo.jpg?sz=128", "display_name": "Sir Itchyyy Gaming", "link": "https://stackoverflow.com/users/8486670/sir-itchyyy-gaming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 46571113, "answer_count": 1, "score": -1, "last_activity_date": 1507139360, "creation_date": 1507138636, "question_id": 46570921, "link": "https://stackoverflow.com/questions/46570921/how-to-put-validation-for-certain-empty-textbox", "title": "how to put validation for certain empty textbox", "body": "<p>How can i put validation for txtPName and txtAddress if they are empty i cannot proceed to submit and a messagebox will pop up. </p>\n\n<pre><code>private void btnSubmit_Click(object sender, EventArgs e)\n    {\n\n        string insertQuery = \"INSERT INTO patientdb.addpatient(PatientName,MobileNumber,Occupation,Gender,Address,Age,PhoneNumber,MedicalHistory,ChiefComplaint) VALUES ('\" + txtPName.Text + \"','\" + txtMNum.Text + \"','\" + txtOccup.Text + \"','\" + comboBox1.Text + \"','\" + txtAddress.Text + \"','\" + txtAge.Text + \"','\" + txtPNum.Text + \"','\" + rtbMHistory.Text + \"','\" + rtbCC.Text + \"')\";\n        con.Open();\n        MySqlCommand command = new MySqlCommand(insertQuery, con);\n\n        try\n        {\n            if (command.ExecuteNonQuery() == 1)\n            {\n                MessageBox.Show(\"Data Inserted\");\n                txtPName.Text = \"\";\n                txtMNum.Text = \"\";\n                txtPNum.Text = \"\";\n                txtAddress.Text = \"\";\n                txtAge.Text = \"\";\n                txtOccup.Text = \"\";\n                rtbMHistory.Text = \"\";\n                rtbCC.Text = \"\";\n                comboBox1.Text = \" \";\n            }\n            else\n            {\n                MessageBox.Show(\"Data Not Inserted\");\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "discord", "discord.net"], "comments": [{"owner": {"reputation": 67, "user_id": 784386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FoUhu.png?s=128&g=1", "display_name": "kfoxon", "link": "https://stackoverflow.com/users/784386/kfoxon"}, "edited": false, "score": 1, "creation_date": 1507139720, "post_id": 46570919, "comment_id": 80096006, "body": "What version of Discord.Net are you using? This is a known issue with 1.0.1 and has been fixed in later versions. See here: <a href=\"https://github.com/RogueException/Discord.Net/issues/810#issuecomment-328253426\" rel=\"nofollow noreferrer\">github.com/RogueException/Discord.Net/issues/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 8721837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb6f2bd30ba802ece413925c4537902?s=128&d=identicon&r=PG&f=1", "display_name": "Xilath", "link": "https://stackoverflow.com/users/8721837/xilath"}, "reply_to_user": {"reputation": 67, "user_id": 784386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FoUhu.png?s=128&g=1", "display_name": "kfoxon", "link": "https://stackoverflow.com/users/784386/kfoxon"}, "edited": false, "score": 1, "creation_date": 1507144408, "post_id": 46570919, "comment_id": 80098593, "body": "Oh wow, i&#39;ve updated all nuget packages and now it is working again. Thank you very much"}, {"owner": {"reputation": 67, "user_id": 784386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FoUhu.png?s=128&g=1", "display_name": "kfoxon", "link": "https://stackoverflow.com/users/784386/kfoxon"}, "edited": false, "score": 0, "creation_date": 1507145892, "post_id": 46570919, "comment_id": 80099377, "body": "No problem. I&#39;ll post my response as the answer so that you can close this question."}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 784386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FoUhu.png?s=128&g=1", "display_name": "kfoxon", "link": "https://stackoverflow.com/users/784386/kfoxon"}, "is_accepted": false, "score": 2, "last_activity_date": 1507145997, "creation_date": 1507145997, "answer_id": 46572898, "question_id": 46570919, "link": "https://stackoverflow.com/questions/46570919/bot-cant-connect-to-guilds/46572898#46572898", "title": "Bot can&#39;t connect to guilds", "body": "<p>This is a known issue with 1.0.1 and has been fixed in later versions, so you'll need to update. See here: <a href=\"https://github.com/RogueException/Discord.Net/issues/810#issuecomment-328253426\" rel=\"nofollow noreferrer\">https://github.com/RogueException/Discord.Net/issues/810#issuecomment-328253426</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 8721837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb6f2bd30ba802ece413925c4537902?s=128&d=identicon&r=PG&f=1", "display_name": "Xilath", "link": "https://stackoverflow.com/users/8721837/xilath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1507146145, "creation_date": 1507138633, "last_edit_date": 1507146145, "question_id": 46570919, "link": "https://stackoverflow.com/questions/46570919/bot-cant-connect-to-guilds", "title": "Bot can&#39;t connect to guilds", "body": "<p>I'm trying to code a C# Discord Bot and it's just working fine so far. But since today it can't connect to any guilds. I'm 100% sure, I'm using the correct token and I've also authorized the bot to my own discord server, but it always throws this error:</p>\n\n<blockquote>\n  <p>[   Error] Gateway: Error handling Dispatch (GUILD_AVAILABLE)</p>\n</blockquote>\n\n<p>This is the code, I'm using to connect to guilds:</p>\n\n<pre><code>public async Task MainAsync()\n{\n    client = new DiscordSocketClient(new DiscordSocketConfig\n    {\n        LogLevel = LogSeverity.Verbose\n    });\n    commands = new CommandService();\n    services = new ServiceCollection().BuildServiceProvider();\n\n    await InstallCommands();\n\n    await client.LoginAsync(TokenType.Bot, token);\n    await client.StartAsync();\n\n    client.Log += Log;\n\n    client.UserJoined += UserJoined;\n\n    await Task.Delay(-1);\n}\n</code></pre>\n\n<p>Where is my mistake?</p>\n"}, {"tags": ["c#", "console-application", "azure-devops", "setup-project"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1507139606, "post_id": 46570869, "comment_id": 80095953, "body": "If you run those same command line arguments on your own machine, do you end up with an MSI?"}, {"owner": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1507139683, "post_id": 46570869, "comment_id": 80095990, "body": "Yes, I&#39;ve run <code>&quot;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\devenv.com&quot; SolutionName.sln &#47;Build &quot;release|any cpu&quot; &#47;Project Setup\\Setup.vdproj </code> with success on local machine."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1507139828, "post_id": 46570869, "comment_id": 80096049, "body": "And what happens when you do it as part of your VSTS release definition? What error do you get? &quot;Can&#39;t quite get that to work&quot; is not a decent error description."}, {"owner": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1507140191, "post_id": 46570869, "comment_id": 80096256, "body": "Sorry, my fault on the description.  I did just change up the command to <code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\devenv.com</code> which has effected the result (still fails, but different).  Now I get <code>2017-10-04T17:59:46.2231714Z Some errors occurred during migration. For more information, see the migration report: 2017-10-04T17:59:46.2231714Z d:\\a\\1\\s\\UpgradeLog.htm 2017-10-04T17:59:46.4634939Z ========== Build: 0 succeeded or up-to-date, 0 failed, 0 skipped ==========</code> Not sure how to access that UpgradeLog since its on a hosted agent."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1507140566, "post_id": 46570869, "comment_id": 80096475, "body": "I&#39;m not sure either. Perhaps try to use a non-hosted agent?"}, {"owner": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1507145225, "post_id": 46570869, "comment_id": 80099006, "body": "Im pretty new to VSTS online, is there a guide for setting up non-hosted agents?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1507145861, "post_id": 46570869, "comment_id": 80099359, "body": "Probably, but you&#39;re as capable of using a search engine as I am to find one. I remember it being so simple I didn&#39;t need a guide: just go into the UI, download it, and follow the prompts."}, {"owner": {"reputation": 11, "user_id": 6713814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7g1SV.jpg?s=128&g=1", "display_name": "softworkz", "link": "https://stackoverflow.com/users/6713814/softworkz"}, "edited": false, "score": 1, "creation_date": 1601177024, "post_id": 46570869, "comment_id": 113322715, "body": "It&#39;s finally possible on hosted build agents: <a href=\"https://github.com/actions/virtual-environments/issues/1382#issuecomment-699577543\" rel=\"nofollow noreferrer\">github.com/actions/virtual-environments/issues/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "edited": false, "score": 1, "creation_date": 1507207826, "post_id": 46578483, "comment_id": 80124929, "body": "Thanks! I just tried this and can&#39;t quite get it to work.  The task completes successfully but it appears an MSI is never actually generated and it doesn&#39;t appear in the artifact drop.  Here&#39;s my logs from the task: <code>Done running DevEnv process. Success = True. The single MSI should be located here: d:\\a\\1\\s\\Setup\\release\\. ##[warning]No .MSI files were found, please check your build-configuration. If this is expected, you might consider to use the default Visual Studio Build task instead of this custom Installer task.</code>"}, {"owner": {"reputation": 32525, "user_id": 6936103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860fa18931fc7f7f6aa5908fce669304?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Liu", "link": "https://stackoverflow.com/users/6936103/marina-liu"}, "reply_to_user": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "edited": false, "score": 0, "creation_date": 1507216665, "post_id": 46578483, "comment_id": 80131577, "body": "Can you add the screen shot with the task configurations here?"}, {"owner": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "edited": false, "score": 0, "creation_date": 1507217174, "post_id": 46578483, "comment_id": 80131902, "body": "Added it to the question"}, {"owner": {"reputation": 32525, "user_id": 6936103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860fa18931fc7f7f6aa5908fce669304?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Liu", "link": "https://stackoverflow.com/users/6936103/marina-liu"}, "reply_to_user": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "edited": false, "score": 0, "creation_date": 1507536796, "post_id": 46578483, "comment_id": 80232506, "body": "It seems it was build by Hosted VS2017 agent and selected VS version as VS 2015. Please queue the build with private agent. For setup a private agent, you can refer <a href=\"https://docs.microsoft.com/en-us/vsts/build-release/actions/agents/v2-windows\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/vsts/build-release/actions/agents/&hellip;</a>&zwnj;&#8203;."}, {"owner": {"reputation": 197, "user_id": 8024921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6614c2a15b03cf0567ce82b779dcbe?s=128&d=identicon&r=PG&f=1", "display_name": "Rehan Haque", "link": "https://stackoverflow.com/users/8024921/rehan-haque"}, "edited": false, "score": 0, "creation_date": 1594071174, "post_id": 46578483, "comment_id": 110992811, "body": "Can anyone please guide me how we can a add a task (like Build VS Installer stated here)  into my build pipeline ? I mean there&#39;s no add option like it&#39;s for other tasks ."}], "tags": [], "owner": {"reputation": 32525, "user_id": 6936103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860fa18931fc7f7f6aa5908fce669304?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Liu", "link": "https://stackoverflow.com/users/6936103/marina-liu"}, "is_accepted": false, "score": 6, "last_activity_date": 1507181541, "creation_date": 1507181541, "answer_id": 46578483, "question_id": 46570869, "link": "https://stackoverflow.com/questions/46570869/vsts-online-building-setup-projects/46578483#46578483", "title": "VSTS Online Building Setup Projects?", "body": "<p>To Build .msi file by VS installer project, you can use <strong><a href=\"https://marketplace.visualstudio.com/items?itemName=dutchworkz.BuildInstaller\" rel=\"noreferrer\">Build VS Installer</a> task</strong> in marketplace.</p>\n\n<p>You can specify to build <code>.sln</code> or <code>.vdproj</code> to generate .msi file(s) in <strong>Task-mode</strong> option.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8Twbl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8Twbl.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1409, "user_id": 7518695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dT38T.jpg?s=128&g=1", "display_name": "GrayCat", "link": "https://stackoverflow.com/users/7518695/graycat"}, "edited": false, "score": 2, "creation_date": 1538040018, "post_id": 46761812, "comment_id": 92006316, "body": "To set the same setting in VS17 (and for build machines) refer to this SO answer: <a href=\"https://stackoverflow.com/a/41788791/7518695\">stackoverflow.com/a/41788791/7518695</a>"}, {"owner": {"reputation": 197, "user_id": 8024921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6614c2a15b03cf0567ce82b779dcbe?s=128&d=identicon&r=PG&f=1", "display_name": "Rehan Haque", "link": "https://stackoverflow.com/users/8024921/rehan-haque"}, "edited": false, "score": 0, "creation_date": 1594071220, "post_id": 46761812, "comment_id": 110992831, "body": "When you say &quot;VS Installer Projects extension is installed on your own build agent &quot;  you mean , 1. Installing it from extension in Visual Studio  present on build server  . OR 2 .download it from from marketplace and install it . If it&#39;s second option , please tell me how to install , I hav downloaded n extracted the zip file ."}], "tags": [], "owner": {"reputation": 28250, "user_id": 5475003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed59b990fdc2c28e25f954d1578ce70?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Chen - MSFT", "link": "https://stackoverflow.com/users/5475003/eddie-chen-msft"}, "is_accepted": true, "score": 4, "last_activity_date": 1508117781, "creation_date": 1508117781, "answer_id": 46761812, "question_id": 46570869, "link": "https://stackoverflow.com/questions/46570869/vsts-online-building-setup-projects/46761812#46761812", "title": "VSTS Online Building Setup Projects?", "body": "<p>You have to <a href=\"https://docs.microsoft.com/en-us/vsts/build-release/actions/agents/v2-windows\" rel=\"nofollow noreferrer\">configure your own build agent</a> to run the build since Visual Studio Installer Projects extension is not installed on the Hosted &amp; Hosted 2017 Agent.</p>\n\n<p>Make sure the VS Installer Projects extension is installed on your own build agent and then you can build the setup project either use command line task with \"devenv\" or use the \"Build VS Installer\" task.</p>\n\n<p>And if you get the \"8000000A\" error like following:\n<a href=\"https://i.stack.imgur.com/rS1im.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rS1im.png\" alt=\"enter image description here\"></a>\nPlease following the instruction here to configure your build agent: <a href=\"http://www.kunal-chowdhury.com/2016/07/visual-studio-error-code-8000000A.html#LdZL7ydtpjQdbz0w.97\" rel=\"nofollow noreferrer\">Solution: An error occurred while validating. HRESULT = '8000000A'</a>.</p>\n\n<p>Then you should be able to build the setup project successfully:\n<a href=\"https://i.stack.imgur.com/pi3Dy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pi3Dy.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1056, "user_id": 643619, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbee450cf2a6d8cfa2402f1e61d00da7?s=128&d=identicon&r=PG", "display_name": "Hershizer33", "link": "https://stackoverflow.com/users/643619/hershizer33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4692, "favorite_count": 0, "accepted_answer_id": 46761812, "answer_count": 2, "score": 7, "last_activity_date": 1612914205, "creation_date": 1507138432, "last_edit_date": 1507217155, "question_id": 46570869, "link": "https://stackoverflow.com/questions/46570869/vsts-online-building-setup-projects", "title": "VSTS Online Building Setup Projects?", "body": "<p>I have a .NET Console app with a setup project I am trying to port to VSTS Online (visualstudio.com) to make use of the source control and well as adding automated build/deploy.</p>\n\n<p>I've got the code uploaded just fine and it builds great, but am struggling with getting it to produce a MSI.  I've tried introducing a command line task after the solution build to run devenv.com but I can't quite get that to work.  Any thoughts on getting a setup project to build its MSI?</p>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here's the command line task I tried:</p>\n\n<pre><code>Tool: C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\devenv\nArguments: SolutionName.sln /Build $(BuildConfiguration) /Project Setup\\Setup.vdproj\n</code></pre>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>New command line:</p>\n\n<pre><code>Tool: C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\devenv.com\nArguments: MySolution.sln /Build $(BuildConfiguration) /Project Setup\\Setup.vdproj\n</code></pre>\n\n<p>Logs:</p>\n\n<pre><code>2017-10-04T17:58:48.7033117Z ##[command]\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\devenv.com\" MySolution.sln /Build release /Project Setup\\Setup.vdproj\n2017-10-04T17:59:12.1156461Z microsoft.visualstudio.telemetry.dll\n2017-10-04T17:59:12.1196471Z microsoft.visualstudio.telemetry.dll\n2017-10-04T17:59:12.1196471Z microsoft.visualstudio.telemetry.dll\n2017-10-04T17:59:12.1196471Z microsoft.visualstudio.telemetry.dll\n2017-10-04T17:59:12.1206475Z microsoft.visualstudio.telemetry.dll\n2017-10-04T17:59:12.1206475Z microsoft.visualstudio.telemetry.dll\n2017-10-04T17:59:12.1206475Z microsoft.visualstudio.extensionmanager.implementation.dll\n2017-10-04T17:59:46.2231714Z \n2017-10-04T17:59:46.2231714Z Microsoft Visual Studio 2017 Version 15.0.26730.3.\n2017-10-04T17:59:46.2231714Z Copyright (C) Microsoft Corp. All rights reserved.\n2017-10-04T17:59:46.2231714Z \n2017-10-04T17:59:46.2231714Z Some errors occurred during migration. For more information, see the migration report:\n2017-10-04T17:59:46.2231714Z d:\\a\\1\\s\\UpgradeLog.htm\n2017-10-04T17:59:46.4634939Z ========== Build: 0 succeeded or up-to-date, 0 failed, 0 skipped ==========\n2017-10-04T17:59:48.5239469Z ##[section]Finishing: Run C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\devenv.com\n</code></pre>\n\n<p><strong>EDIT 3:</strong></p>\n\n<p>As per @Marina - MSFT I have tried the <a href=\"https://marketplace.visualstudio.com/items?itemName=dutchworkz.BuildInstaller#overview\" rel=\"noreferrer\">Build VS Installer</a>, but it didn't quite work for me.  The task competed successfully but it appears the MSI is never actually generated as nothing appears in the artifact drop.  Here are the logs from the task:</p>\n\n<pre><code>2017-10-04T20:38:12.1314337Z ##[section]Starting: Create .msi file(s) from VS Installer project(s).\n2017-10-04T20:38:12.1314337Z ==============================================================================\n2017-10-04T20:38:12.1314337Z Task : DutchWorkz - Build VS Installer(s)\n2017-10-04T20:38:12.1314337Z Description : Build .msi file(s) from VS Installer project(s).\n2017-10-04T20:38:12.1314337Z Version : 1.2.4\n2017-10-04T20:38:12.1314337Z Author : DutchWorkz B.V.\n2017-10-04T20:38:12.1324342Z Help : &lt;b&gt;BuildVsInstaller v1.2.4&lt;/b&gt;, DutchWorkz B.V. (Robin Paardekam)&lt;br/&gt;&lt;br/&gt;Visual Studio Installer projects are not supported by MSBUILD, so a regular build will not generate your installer files (.msi). Use this build-task to build the .msi file(s) for your project by running devenv on the buildagent directly. &lt;br/&gt;&lt;br/&gt;&lt;b&gt;Dependencies:&lt;/b&gt;&lt;br/&gt;Dep1: when using VisualStudio 2017, this task will only function properly if you installed it in the default C:\\Program Files (x86)\\ location.\n2017-10-04T20:38:12.1324342Z ==============================================================================\n2017-10-04T20:38:15.3883721Z DEBUG: Aggregated: C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools\\..\\IDE\\devenv.com\n2017-10-04T20:38:15.4043950Z Now running (C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools\\..\\IDE\\devenv.com) with Arguments (\"d:\\a\\1\\s\\MySolution.sln\" /Build \"release|any cpu\" /Project \"d:\\a\\1\\s\\Setup\\Setup.vdproj\" /Out \"d:\\a\\1\\b\\BuildInstaller_Log_20171004203815.txt\")\n2017-10-04T20:39:39.8930682Z Done running DevEnv process. Success = True.\n2017-10-04T20:39:39.8950669Z The single MSI should be located here: d:\\a\\1\\s\\Setup\\release\\\n2017-10-04T20:39:40.0450669Z ##[warning]No .MSI files were found, please check your build-configuration. If this is expected, you might consider to use the default Visual Studio Build task instead of this custom Installer task.\n2017-10-04T20:39:40.0560673Z ##[section]Finishing: Create .msi file(s) from VS Installer project(s).\n</code></pre>\n\n<p>Task config</p>\n\n<p><a href=\"https://i.stack.imgur.com/0HIrK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0HIrK.png\" alt=\"Task Config\"></a></p>\n"}, {"tags": ["c#", "expression", "predicate"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1507138439, "post_id": 46570847, "comment_id": 80095341, "body": "Are you saying you want to walk the lambda&#39;s parse tree and retrieve a list of the names of all the properties its code references? If so, yes, that can be done."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1507138681, "post_id": 46570847, "comment_id": 80095474, "body": "A predicate is a function that produces a boolean value.  That&#39;s a projection (something that transforms a value into another type of value)."}, {"owner": {"reputation": 960, "user_id": 813689, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/uVdak.png?s=128&g=1", "display_name": "Ebbs", "link": "https://stackoverflow.com/users/813689/ebbs"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1507138911, "post_id": 46570847, "comment_id": 80095603, "body": "@EdPlunkett That sounds about right. How would I go about doing so? I have tried to evaluate the Bindings[] at runtime, however the values are protected and cannot be accessed outside of the watch/quick watch."}, {"owner": {"reputation": 843, "user_id": 3963561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a53a464465bde672abcea0fc5793da?s=128&d=identicon&r=PG&f=1", "display_name": "Tiago Sousa", "link": "https://stackoverflow.com/users/3963561/tiago-sousa"}, "edited": false, "score": 0, "creation_date": 1507287667, "post_id": 46570847, "comment_id": 80160017, "body": "@MrThursday Did any answer solved it for you? If so, please mark it as accepted"}], "answers": [{"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1507141109, "post_id": 46571588, "comment_id": 80096774, "body": "Note that not all members are properties."}], "tags": [], "owner": {"reputation": 843, "user_id": 3963561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a53a464465bde672abcea0fc5793da?s=128&d=identicon&r=PG&f=1", "display_name": "Tiago Sousa", "link": "https://stackoverflow.com/users/3963561/tiago-sousa"}, "is_accepted": true, "score": 3, "last_activity_date": 1507142573, "last_edit_date": 1507142573, "creation_date": 1507141039, "answer_id": 46571588, "question_id": 46570847, "link": "https://stackoverflow.com/questions/46570847/evaluating-select-projection/46571588#46571588", "title": "Evaluating select projection", "body": "<p>The best way to do something like this is using an <a href=\"https://msdn.microsoft.com/en-us/library/system.linq.expressions.expressionvisitor(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>ExpressionVisitor</code></a>.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>public class MyMemberExpressionVisitor : ExpressionVisitor\n{\n    protected override Expression VisitMember(MemberExpression node)\n    {\n        if (node.Member.MemberType == MemberTypes.Property // is a property\n            &amp;&amp; node.Expression.NodeType == ExpressionType.Parameter // is from a parameter expression\n            &amp;&amp; Members.All(s =&gt; s != node.Member.Name)) // avoids duplicates\n        {\n            Members.Add(node.Member.Name);\n        }\n\n        return base.VisitMember(node);\n    }\n\n    public List&lt;string&gt; Members { get; set; } = new List&lt;string&gt;();\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>// Complex expressions work too!\nExample outsideExample = new Example();\nExpression&lt;Func&lt;Example, Example&gt;&gt; expression = x =&gt; new Example(\n    x.Aaa + outsideExample.Bbb,\n    x.Ccc + x.Aaa.Length);\n\nvar myVisitor = new MemberExpressionVisitor();\nmyVisitor.Visit(expression);\nConsole.WriteLine(string.Join(\", \", myVisitor.Members)); // This should print out \"Aaa, Ccc\"\n</code></pre>\n\n<p>You can visit <a href=\"https://msdn.microsoft.com/en-us/library/bb882521(v=vs.90).aspx\" rel=\"nofollow noreferrer\">How to: Implement an Expression Tree Visitor</a> to learn more on how to implement one.</p>\n"}, {"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": -2, "last_activity_date": 1507141087, "creation_date": 1507141087, "answer_id": 46571604, "question_id": 46570847, "link": "https://stackoverflow.com/questions/46570847/evaluating-select-projection/46571604#46571604", "title": "Evaluating select projection", "body": "<p>To find all of the property expressions within that expression you can use an <code>ExpressionVisitor</code> to inspect all of the <code>Expression</code> instances within a given expression and see which are property accesses, and what property is being accessed:</p>\n\n<pre><code>internal class PropertySearchVisitor : ExpressionVisitor\n{\n    private List&lt;MemberInfo&gt; properties = new List&lt;MemberInfo&gt;();\n    public IEnumerable&lt;MemberInfo&gt; Properties =&gt; properties;\n    protected override Expression VisitMember(MemberExpression node)\n    {\n        if (node?.Member?.MemberType == MemberTypes.Property)\n            properties.Add(node.Member);\n        return base.VisitMember(node);\n    }\n}\n</code></pre>\n\n<p>Once you have that you can write a method to visit a given expression and return the properties (or property names) of that expression:</p>\n\n<pre><code>public static IEnumerable&lt;MemberInfo&gt; GetProperties(this Expression expression)\n{\n    var visitor = new PropertySearchVisitor();\n    visitor.Visit(expression);\n    return visitor.Properties;\n}\npublic static IEnumerable&lt;string&gt; GetPropertyNames(this Expression expression)\n{\n    var visitor = new PropertySearchVisitor();\n    visitor.Visit(expression);\n    return visitor.Properties.Select(property =&gt; property.Name);\n}\n</code></pre>\n"}], "owner": {"reputation": 960, "user_id": 813689, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/uVdak.png?s=128&g=1", "display_name": "Ebbs", "link": "https://stackoverflow.com/users/813689/ebbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 46571588, "answer_count": 2, "score": 2, "last_activity_date": 1507142573, "creation_date": 1507138339, "last_edit_date": 1507139044, "question_id": 46570847, "link": "https://stackoverflow.com/questions/46570847/evaluating-select-projection", "title": "Evaluating select projection", "body": "<p>Is it possible to evaluate a select projection at some point to get a list of which properties are being selected?</p>\n\n<p>For example, if I have the following class:</p>\n\n<pre><code>public class Example()\n{\n    public string Aaa { get; set; }\n\n    public int Bbb { get; set; }\n\n    public string Ccc { get; set; }\n}\n</code></pre>\n\n<p>and the following select projection:</p>\n\n<pre><code>Expression&lt;Func&lt;Example, Example&gt;&gt; select = x =&gt; new Example { Aaa= x.Aaa, Ccc = x.Ccc };\n</code></pre>\n\n<p>Would it be possible to interpret the select projection to get a result along the lines of <code>var result = new List&lt;string&gt; { \"Aaa\", \"Ccc\" };</code>?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1507138567, "post_id": 46570835, "comment_id": 80095408, "body": "This is a bit confusing. You want pressing up (?!?) to move right until you hit the end of the screen and then you want up to move you left? You shouldn&#39;t bounce of the side of the screen, you should stick to the side of the screen. Just test the coordinates against the boundaries of the contain and <i>don&#39;t</i> move if it takes you outside. Otherwise I don&#39;t even know how you expect people to be able to move left again since up now moves right, what does down do?"}, {"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 2, "creation_date": 1507138582, "post_id": 46570835, "comment_id": 80095414, "body": "Be careful with <code>Application.DoEvents()</code>.  It can have nasty side-effects.  If you think you need it, then you&#39;re doing something wrong in your drawing.  As to your question, just check your object position within the client <code>Bounds</code>."}, {"owner": {"reputation": 347, "user_id": 6768729, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28a51f229ee1db60a3f8a15a11f99ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Farshad", "link": "https://stackoverflow.com/users/6768729/farshad"}, "edited": false, "score": 1, "creation_date": 1507138588, "post_id": 46570835, "comment_id": 80095420, "body": "why new point(300,300)? you can check boundary by its width and height"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1507138665, "post_id": 46570835, "comment_id": 80095459, "body": "And absolutely what @DonBoitnott said about <code>DoEvents</code>. Any time you need <code>DoEvents</code> you are probably doing something wrong."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8721727"}, "reply_to_user": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1507138676, "post_id": 46570835, "comment_id": 80095466, "body": "@MattBurland yeah I know it&#39;s weird, only experimenting with it until I get it to work. I should probably change it now. In this case up = right, down = left. Sorry for the confusion"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8721727"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1507138826, "post_id": 46570835, "comment_id": 80095564, "body": "@DonBoitnott I&#39;m sorry but I&#39;m not that of an expert at C# ,how do you do that?"}], "answers": [{"tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": true, "score": 1, "last_activity_date": 1507139057, "last_edit_date": 1507139057, "creation_date": 1507138845, "answer_id": 46570976, "question_id": 46570835, "link": "https://stackoverflow.com/questions/46570835/how-do-you-make-an-object-be-limited-to-the-boundaries-of-a-form/46570976#46570976", "title": "How do you make an object be limited to the boundaries of a Form", "body": "<p>The smallest X and Y position for a picture box to stay inside the form is 0.</p>\n\n<p>The largest X a picture box can go to is <code>Form.ClientSize.Width - pictureBox.Size.Width</code></p>\n\n<p>The largest Y a picture box can go is <code>Form.ClientSize.Height - pictureBox.Size.Height</code>.</p>\n\n<p>Check all of these things in an if statement. If either the X or Y of the picture box is outside of the ranges, don't move the picture box, otherwise, <em>do</em> move it.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8721727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 1, "accepted_answer_id": 46570976, "answer_count": 1, "score": 1, "last_activity_date": 1507139057, "creation_date": 1507138298, "last_edit_date": 1507138358, "question_id": 46570835, "link": "https://stackoverflow.com/questions/46570835/how-do-you-make-an-object-be-limited-to-the-boundaries-of-a-form", "title": "How do you make an object be limited to the boundaries of a Form", "body": "<p>I am currently making a Space Invaders type game using C# Windows Forms. When creating the laser cannon which the user controls, I want them to move left and right, shooting lasers.  This is my current code for the movement so far:</p>\n\n<pre><code>enter code here\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Move\n{\npublic partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void button1_KeyDown(object sender, KeyEventArgs e)\n    {\n\n    }\n\n    private void pictureBox1_Click(object sender, EventArgs e)\n    {\n\n    }\n\n    private void Form1_KeyDown(object sender, KeyEventArgs e)\n    {\n        int i;\n\n        for (i = 0; i &lt; 500; i++)\n        {\n\n            if (e.KeyCode == Keys.Up)\n            {\n                pictureBox1.Location = new Point(pictureBox1.Left - 1);\n                Application.DoEvents();\n                System.Threading.Thread.Sleep(10);\n            }\n\n            if (e.KeyCode == Keys.Down)\n            {\n                pictureBox1.Location = new Point(pictureBox1.Left + 1);\n                Application.DoEvents();\n                System.Threading.Thread.Sleep(10);\n            }\n\n\n\n\n        }\n      }\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n\n    }\n}\n}\n</code></pre>\n\n<p>However, I'm having an issue with this; if the image goes too far, it goes out of the boundaries of the form but I want it to do is bounce off and go the other way. </p>\n\n<p>I tried doing this but to no avail, it only moves by a pixel but I think it's a good step(right?...):</p>\n\n<pre><code>if(pictureBox1.Location == new Point(300,300))\n            {\n                pictureBox1.Location = new Point(pictureBox1.Left - 1);\n            }\n</code></pre>\n\n<p>Like how do I get the correct X,Y coordinates of the whole form so I could tell it to go the other way as well as actually getting it to move? </p>\n"}, {"tags": ["c#", ".net", "encryption"], "comments": [{"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1507138443, "post_id": 46570791, "comment_id": 80095342, "body": "@Igor The <code>DpapiDataProtector</code> does (which led me in that direction), and that&#39;s the behavior I observed. I wrote a file from my personal machine using my user account, and when I read it on a server logged in as myself over RDP, it got <code>System.Security.Cryptography.CryptographicException: Key not valid for use in specified state</code>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1507144391, "post_id": 46570791, "comment_id": 80098581, "body": "Sorry again. The type you are looking for is <code>System.Web.Security.MachineKey</code> but you must have identical <code>machineKey</code> section values in your <code>app.config</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507140095, "post_id": 46571238, "comment_id": 80096204, "body": "This is a desktop command line tool, so it has an app.config. Is the section still <code>system.web</code>?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507141128, "post_id": 46571238, "comment_id": 80096783, "body": "@Dov - correct, the section location in the config file is the same regardless of the type of app."}, {"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507143176, "post_id": 46571238, "comment_id": 80097923, "body": "I tried this now (took me a little bit to generate keys, since I&#39;m not using ASP.Net - I used a tweaked version of the code in <a href=\"https://stackoverflow.com/q/30652599/105717\">this question</a>, and I didn&#39;t see any difference. I added the <code>system.web</code> section alongside the <code>configSections</code> section, and also added a reference to <code>System.Web.dll</code>."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507143770, "post_id": 46571238, "comment_id": 80098256, "body": "@Dov - I have no problems, I edited my answer with a full working sample."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507144235, "post_id": 46571238, "comment_id": 80098495, "body": "@Dov - Sorry, I made a mistake. You can do this with <code>System.Web.Security.MachineKey</code>, I updated my answer and example code. This makes use of the section I had listed in the <code>app.config</code>"}, {"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507144373, "post_id": 46571238, "comment_id": 80098570, "body": "Is that still tied down to the user account? Or is it machine only? You can use <code>ProtectedData</code> with <code>LocalMachine</code> scope."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507144604, "post_id": 46571238, "comment_id": 80098687, "body": "@Dov - The <code>protect</code>/<code>unprotect</code> takes the application&#39;s <code>app.config</code> (or <code>web.config</code>) file into consideration. If section <code>machineKey</code> is defined with values that is used, if the section is not present or missing values then the PC&#39;s <code>machine.config</code> file is used."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146028, "post_id": 46571238, "comment_id": 80099445, "body": "@Dov - There is no LocaliMachine / User scope option for <a href=\"https://msdn.microsoft.com/en-us/library/system.web.security.machinekey(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MachineKey</a>."}, {"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146087, "post_id": 46571238, "comment_id": 80099476, "body": "Thanks for offering this approach anyway"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146209, "post_id": 46571238, "comment_id": 80099550, "body": "@Dov - you can still use the entropy and vary that per user. That will still give you what you want, I just meant there is no enumeration like there was in the <code>ProtectedData.Protect</code> method you were using."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146270, "post_id": 46571238, "comment_id": 80099587, "body": "@Dov - see the second parameter in the method named <code>purpose</code>. You can use whatever you want here and trying to decrypt an encrypted string with 2 different purposes would fail."}, {"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146341, "post_id": 46571238, "comment_id": 80099629, "body": "Sure, but anyone could use the user name of someone else to get access to the encrypted data, right? It loses its security that way"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146555, "post_id": 46571238, "comment_id": 80099740, "body": "@Dov - It does not really matter what you put in there. For example: <code>asp.net identity</code> uses a random <code>guid</code> stored in the user&#39;s profile. You could write some value to the user<code>s profile, to their </code>app.config` instance at deploy time, etc, and use that value as a purpose in the Protect/Unprotect calls."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146649, "post_id": 46571238, "comment_id": 80099789, "body": "@Dov - Any solution you choose that can encrypt and decrypt only for a specific user/account would need to associate some type of entropy or key value to the user&#39;s account/profile. That is just the nature of the beast."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1507146938, "post_id": 46571238, "comment_id": 80099922, "body": "@Dov - That comes back down to key management which is a whole different problem. The above solution with <code>MachineKey</code> is what you will want if this is what you want to do though."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 1, "creation_date": 1507147041, "post_id": 46571238, "comment_id": 80099964, "body": "@Dov - I&#39;ll leave you alone. If you feel the answer was helpful I am always appreciative of an upvote and if you feel like it answered your question consider marking it as the answer. Good luck with whatever direction you end up taking."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1507145999, "last_edit_date": 1507145999, "creation_date": 1507139809, "answer_id": 46571238, "question_id": 46570791, "link": "https://stackoverflow.com/questions/46570791/read-an-encrypted-value-across-machines/46571238#46571238", "title": "Read an encrypted value across machines", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/system.web.security.machinekey(v=vs.110).aspx\" rel=\"nofollow noreferrer\">System.Web.Security.MachineKey</a> but you have to make sure that the applications have the same configuration in their respective <code>app.config</code>/<code>web.config</code> files for the <a href=\"https://msdn.microsoft.com/en-us/library/w8h3skw9(v=vs.85).aspx\" rel=\"nofollow noreferrer\">machineKey</a> section. It can be found here in the configuration:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;system.web&gt;\n    &lt;machineKey decryption=\"[type]\" decryptionKey=\"[value]\" validation=\"[value]\" validationKey=\"value\" /&gt;\n</code></pre>\n\n<p>There are plenty of tools you can use to generate the values including IIS if you have an asp.net site configured.</p>\n\n<p>Example with an actual key I generated from IIS in section <code>ASP.NET</code> => <code>Machine Key</code>.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var encrypted = Encrypt(\"this will be encrypted\");\n    Console.WriteLine(\"Encrypted base64: \" + encrypted);\n    Console.WriteLine();\n\n\n    var unencrypted = Unencrypt(encrypted);\n    Console.WriteLine(\"Decrypted: \" + unencrypted);\n\n    Console.ReadLine();\n}\n\nstatic string Encrypt(string valueToEncrypt)\n{\n    var toEncrypt = System.Text.Encoding.UTF8.GetBytes(valueToEncrypt);\n    var encryptedData = System.Web.Security.MachineKey.Protect(toEncrypt, null);\n    var result = Convert.ToBase64String(encryptedData);\n    return result;\n}\n\nstatic string Unencrypt(string value)\n{\n    var toUnencrypt = Convert.FromBase64String(value);\n    var deencryptedData = System.Web.Security.MachineKey.Unprotect(toUnencrypt, null);\n    var originalValue = System.Text.Encoding.UTF8.GetString(deencryptedData);\n    return originalValue;\n}\n</code></pre>\n"}], "owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507145999, "creation_date": 1507138118, "last_edit_date": 1507145163, "question_id": 46570791, "link": "https://stackoverflow.com/questions/46570791/read-an-encrypted-value-across-machines", "title": "Read an encrypted value across machines", "body": "<p>I'm trying to write out encrypted data in such a way that the same user account (on a domain) can read the data from a different machine than the one that wrote it - <em>but only that user can</em>. It looks like the <code>System.Security.Cryptography.ProtectedData</code> class doesn't work that way. It's a command line tool.</p>\n\n<pre><code>var encryptedData = ProtectedData.Protect(data, null, DataProtectionScope.CurrentUser);\n</code></pre>\n\n<p>Is there another way to encrypt data with .Net that will allow such access?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "razor"], "answers": [{"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 2, "last_activity_date": 1507138830, "creation_date": 1507138830, "answer_id": 46570972, "question_id": 46570710, "link": "https://stackoverflow.com/questions/46570710/dropdownlistfor-using-viewbag-of-selectlistitems/46570972#46570972", "title": "DropDownListFor using ViewBag of SelectListItems", "body": "<p>You have a redundant <code>)</code> after <code>IEnumerable&lt;SelectListItem&gt;</code>. It's closing the <code>DropDownListFor</code> without the object intended for <code>htmlAttributes</code> parameter. Change it to:</p>\n\n<pre><code>&lt;div class=\"col-md-10\"&gt;\n    @Html.DropDownListFor(model =&gt; model.Domain,\n        ViewBag.DomainList as IEnumerable&lt;SelectListItem&gt;,\n        new {@class=\"form-control dropdown\"}\n    )\n    @Html.ValidationMessageFor(model =&gt; model.Domain, \"\", new { @class = \"text-danger\" })\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1507140152, "post_id": 46571260, "comment_id": 80096233, "body": "you don&#39;t need <code>htmlAttributes:</code>"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1507142440, "post_id": 46571260, "comment_id": 80097538, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/named-and-optional-arguments\" rel=\"nofollow noreferrer\">Named arguments</a> are not required here. <code>DropDownListFor</code> helper is using the intended overload. The issue you were facing is explained in my answer."}, {"owner": {"reputation": 5, "user_id": 8524809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nuGOu.jpg?s=128&g=1", "display_name": "JOb801", "link": "https://stackoverflow.com/users/8524809/job801"}, "edited": false, "score": 0, "creation_date": 1507232763, "post_id": 46571260, "comment_id": 80140378, "body": "I don&#39;t know, when I changed it from what it was in my original post, it started working..."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1507313367, "post_id": 46571260, "comment_id": 80175195, "body": "@JOb801 your original post has an extra closing bracket which caused the error. <code>ViewBag.DomainList as IEnumerable&lt;SelectListItem&gt;),</code> &lt;----This.. The answer you have posted doesn&#39;t. If you remove <code>htmlAttributes:</code> part also, your <code>DropDownListFor</code> will work just fine. The error was due to <code>new {@class=&quot;form-control dropdown&quot;}</code> being outside of the <code>DropDownListFor()</code>"}], "tags": [], "owner": {"reputation": 5, "user_id": 8524809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nuGOu.jpg?s=128&g=1", "display_name": "JOb801", "link": "https://stackoverflow.com/users/8524809/job801"}, "is_accepted": false, "score": 0, "last_activity_date": 1507139875, "creation_date": 1507139875, "answer_id": 46571260, "question_id": 46570710, "link": "https://stackoverflow.com/questions/46570710/dropdownlistfor-using-viewbag-of-selectlistitems/46571260#46571260", "title": "DropDownListFor using ViewBag of SelectListItems", "body": "<p>I had a syntax error defining the htmlAttributes bit.  Changing to this resolved the problem.</p>\n\n<pre><code>        @Html.DropDownListFor(\n        model =&gt; model.Domain,\n        ViewBag.DomainList as IEnumerable&lt;SelectListItem&gt;,\n        htmlAttributes: new { @class = \"form-control dropdown\" })\n    @Html.ValidationMessageFor(model =&gt; model.Domain, \"\", new { @class = \"text-danger\" })\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8524809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nuGOu.jpg?s=128&g=1", "display_name": "JOb801", "link": "https://stackoverflow.com/users/8524809/job801"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507139875, "creation_date": 1507137813, "question_id": 46570710, "link": "https://stackoverflow.com/questions/46570710/dropdownlistfor-using-viewbag-of-selectlistitems", "title": "DropDownListFor using ViewBag of SelectListItems", "body": "<p>Controller for partial view</p>\n\n<pre><code>    public ActionResult _AddRedirect()\n{\n    var domains = (from d in DB.Tokens\n                    orderby d.Domain\n                    select d).Distinct().Select(d =&gt; new SelectListItem\n                    {\n                        Value = d.Domain,\n                        Text = d.Domain\n\n                    });\n    ViewBag.DomainList = domains.AsEnumerable();\n\n    return PartialView();\n}\n</code></pre>\n\n<p>Snippet of partial view for drop down list</p>\n\n<pre><code>        &lt;div class=\"col-md-10\"&gt;\n    @Html.DropDownListFor(\n         model =&gt; model.Domain,\n         ViewBag.DomainList as IEnumerable&lt;SelectListItem&gt;),\n         new {@class=\"form-control dropdown\"}\n     )\n    @Html.ValidationMessageFor(model =&gt; model.Domain, \"\", new { @class = \"text-danger\" })\n    &lt;/div&gt;\n</code></pre>\n\n<p>Calling the partial view from Index.cshtml</p>\n\n<pre><code>    @Html.Action(\"_AddRedirect\", new ViewDataDictionary())\n</code></pre>\n\n<p>No compile errors with this, but when the page loads, I get this exception:</p>\n\n<blockquote>\n  <p>System.Web.HttpException occurred\n        HResult=0x80004005\n        Message=Error executing child request for handler 'System.Web.Mvc.HttpHandlerUtil+ServerExecuteHttpHandlerAsyncWrapper'.\n        Source=System.Web.Mvc\n        StackTrace:\n         at System.Web.Mvc.Html.ChildActionExtensions.ActionHelper(HtmlHelper htmlHelper, String actionName, String controllerName, RouteValueDictionary routeValues, TextWriter textWriter)\n         at System.Web.Mvc.Html.ChildActionExtensions.Action(HtmlHelper htmlHelper, String actionName, String controllerName, RouteValueDictionary routeValues)\n         at System.Web.Mvc.Html.ChildActionExtensions.Action(HtmlHelper htmlHelper, String actionName, Object routeValues)\n         at ASP._Page_Views_Admin_Index_cshtml.Execute() in C:\\Users\\lpjobray\\source\\repos\\Windows-MidTier\\WMTRedirectMgr\\WMTRedirectMgr\\Views\\Admin\\Index.cshtml:line 7\n         at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()\n         at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()\n         at System.Web.WebPages.StartPage.RunPage()\n         at System.Web.WebPages.StartPage.ExecutePageHierarchy()\n         at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)\n         at System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)\n         at System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)\n         at System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)\n         at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)\n         at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList<code>1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)\n         at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList</code>1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)</p>\n</blockquote>\n\n<pre><code>Inner Exception 1:\nHttpParseException: \"class\" is a reserved word and cannot be used in implicit expressions.  An explicit expression (\"@()\") must be used.\n</code></pre>\n\n<p>If I change Html.DropDownListFor to add the list items statically with new SelectListItem, everything renders fine.</p>\n"}, {"tags": ["c#", ".net", "linq", "linq-to-sql", "sql-order-by"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1507137457, "post_id": 46570522, "comment_id": 80094806, "body": "It can be reduced to just <code>r =&gt; r.Nets.Any(n =&gt; n.Status.Contains(&quot;New&quot;)) ? 1 : r.Nets.Any(n =&gt; n.Status.Contains(&quot;Updated&quot;)) ? 2 : r.Nets.Any(n =&gt; n.Status.Contains(&quot;Ignored&quot;)) ? 3 : 4</code> for starters."}, {"owner": {"reputation": 1072, "user_id": 2697034, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/562538339/picture?type=large", "display_name": "LaRae White", "link": "https://stackoverflow.com/users/2697034/larae-white"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1507138010, "post_id": 46570522, "comment_id": 80095109, "body": "Yeah, you&#39;re absolutely right. I&#39;ve been working off a few different methods and have been mashing things together, it gets lost in translation. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 879084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179dea6a61a6392aef8e82cbd758110e?s=128&d=identicon&r=PG", "display_name": "peewee_RotA", "link": "https://stackoverflow.com/users/879084/peewee-rota"}, "is_accepted": true, "score": 2, "last_activity_date": 1507137515, "creation_date": 1507137515, "answer_id": 46570637, "question_id": 46570522, "link": "https://stackoverflow.com/questions/46570522/how-to-fix-a-lambda-expression-with-a-statement-body-cannot-be-converted-to-an/46570637#46570637", "title": "How to fix &quot;A lambda expression with a statement body cannot be converted to an expression tree\u201d for sql for execution?", "body": "<p>Looks like the switch statement has no SQL equivelant and it's expecting to run this in Linq to Objects.</p>\n\n<p>It appears that a conditional operator has a direct conversion:\n<a href=\"https://www.codeproject.com/Articles/38264/How-to-Create-T-SQL-CASE-Statements-With-LINQ-To-S\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/38264/How-to-Create-T-SQL-CASE-Statements-With-LINQ-To-S</a></p>\n\n<p>I highly recommend testing in LinqPad because it can produce the SQL equivalents to help you with debugging.</p>\n"}], "owner": {"reputation": 1072, "user_id": 2697034, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/562538339/picture?type=large", "display_name": "LaRae White", "link": "https://stackoverflow.com/users/2697034/larae-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3536, "favorite_count": 0, "accepted_answer_id": 46570637, "answer_count": 1, "score": 0, "last_activity_date": 1507137701, "creation_date": 1507137094, "last_edit_date": 1507137701, "question_id": 46570522, "link": "https://stackoverflow.com/questions/46570522/how-to-fix-a-lambda-expression-with-a-statement-body-cannot-be-converted-to-an", "title": "How to fix &quot;A lambda expression with a statement body cannot be converted to an expression tree\u201d for sql for execution?", "body": "<p>I have to sort this table of \"Report's\" on data within a nested table. I.e. each Report item has a number of Net's associated with it and each Net has a status attribute that I need to sort the list of Reports on. Here is an example of what I've been able to get so far, however I am having trouble being able to write this in a way that will be acceptable for IOrderedQueryable because I need this to still be translated into SQL and executed through that rather than where I am writing the code:</p>\n\n<pre><code>var orderedReports = reports.OrderBy((r) =&gt;\n{\n    switch (r.Nets.Any(n =&gt; n.Status.Contains(\"New\")) ? \"New\" :\n            r.Nets.Any(n =&gt; n.Status.Contains(\"Updated\")) ? \"Updated\" :\n            r.Nets.Any(n =&gt; n.Status.Contains(\"Ignored\")) ? \"Ignored\" : \"None\" )\n    {\n        case \"New\": return 1;\n        case \"Updated\": return 2;\n        case \"Ignored\": return 3;\n        case \"None\": return 4;\n        default: return 5;\n    }\n}).ThenBy(r =&gt; r.ReportID); \n</code></pre>\n\n<p>I realize that many reports can have similar or even matching number of statuses so after the initial sort, I then sort by the ID of that report. I basically want all the reports that have at least one \"New\" status first, then the others to follow as described above. I also want to reiterate that I need to make sure this stays in IOrderedQueryable because this needs to be executed in SQL when making the query to the database.</p>\n"}, {"tags": ["javascript", "c#", "css", "asp.net-mvc"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1507139499, "post_id": 46570505, "comment_id": 80095890, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13673759/mvc4-style-bundle-giving-403\">MVC4 style bundle giving 403</a>"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1507144968, "post_id": 46570505, "comment_id": 80098885, "body": "As noted in @adiga&#39;s link, don&#39;t use a real folder name (<code>~&#47;Content</code>) for the name of your bundle.  It will cause these types of issues."}, {"owner": {"reputation": 115, "user_id": 8230801, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/362edacc8e474ca7a0a0512d71e9ba1a?s=128&d=identicon&r=PG&f=1", "display_name": "arman", "link": "https://stackoverflow.com/users/8230801/arman"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1507146554, "post_id": 46570505, "comment_id": 80099738, "body": "@stephen.vakil i change name to <code>~&#47;FrontTheme&#47;css</code> but same problem even change to <code>~&#47;FrontThemecss</code> then error <code>Failed to load resource: the server responded with a status of 404 (Not Found)</code>"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1507146756, "post_id": 46570505, "comment_id": 80099839, "body": "Probably needs to have the same depth in the folder structure.  Try <code>~&#47;ScriptBundle&#47;FrontTheme&#47;js</code> and <code>~&#47;StyleBundle&#47;FrontTheme&#47;css</code> maybe.  Just a guess."}, {"owner": {"reputation": 115, "user_id": 8230801, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/362edacc8e474ca7a0a0512d71e9ba1a?s=128&d=identicon&r=PG&f=1", "display_name": "arman", "link": "https://stackoverflow.com/users/8230801/arman"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1507147207, "post_id": 46570505, "comment_id": 80100038, "body": "@stephen.vakil Doesn&#39;t work"}], "owner": {"reputation": 115, "user_id": 8230801, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/362edacc8e474ca7a0a0512d71e9ba1a?s=128&d=identicon&r=PG&f=1", "display_name": "arman", "link": "https://stackoverflow.com/users/8230801/arman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 622, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507206129, "creation_date": 1507137052, "last_edit_date": 1507206129, "question_id": 46570505, "link": "https://stackoverflow.com/questions/46570505/why-can-not-load-all-js-and-css-in-a-folder-in-mvc-5-bundles", "title": "Why can not load All Js and Css in a Folder ? in mvc 5 bundles", "body": "<p>I want know why can not load All Js and Css a folder ?\ni have a folder for front views  <code>FrontTheme</code> in this folder there is 2 folders <code>css</code> and <code>js</code> and i want load all js and css files in <code>FrontTheme</code> folder in bundles</p>\n\n<p>my code is :</p>\n\n<pre><code>public class BundleConfig\n{\n    public static void RegisterBundles(BundleCollection bundles)\n    {\n    //    bundles.Add(new ScriptBundle(\"~/Content/Admin/js\").IncludeDirectory(\"~/Content/Admin/assets/\", \"*.js\",true));\n      //  bundles.Add(new StyleBundle(\"~/Content/Admin/css\").IncludeDirectory(\"~/Content/Admin/assets/\", \"*.css\",true));\n\n        bundles.Add(new ScriptBundle(\"~/Content/FrontTheme/js\")\n            .IncludeDirectory(\"~/Content/FrontTheme/js\", \"*.js\",true));\n        bundles.Add(new StyleBundle(\"~/Content/FrontTheme/css\")\n            .IncludeDirectory(\"~/Content/FrontTheme/css\", \"*.css\",false));\n\n\n#if DEBUG\n        BundleTable.EnableOptimizations = false;\n#else\n    BundleTable.EnableOptimizations = true;\n#endif\n</code></pre>\n\n<p>and in view i use:</p>\n\n<pre><code>@Scripts.Render(\"~/Content/FrontTheme/js\")\n@Styles.Render(\"~/Content/FrontTheme/css\")\n</code></pre>\n\n<p>but bundles not load css and js files and browser get me 403 forbidden status.</p>\n\n<p>Where is it wrong?\n<a href=\"https://i.stack.imgur.com/IZcqX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZcqX.png\" alt=\"codes\"></a>\n<a href=\"https://i.stack.imgur.com/9tzrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9tzrB.png\" alt=\"statuscode\"></a></p>\n\n<p>---Update---\neven i change bundles name to </p>\n\n<p><code>~/Content/FrontThemejs</code></p>\n\n<p><code>~/FrontTheme/js</code></p>\n\n<p><code>~/FrontThemejs</code></p>\n\n<p><code>~/Frontjs</code></p>\n\n<p><code>Frontjs</code></p>\n\n<p><code>~/123/js</code></p>\n\n<p><code>~/Content/FrontThemecss</code></p>\n\n<p><code>~/FrontTheme/css</code></p>\n\n<p><code>~/FrontThemecss</code></p>\n\n<p><code>~/Frontcss</code></p>\n\n<p><code>Frontcss</code></p>\n\n<p><code>~/456/css</code></p>\n\n<p>but status code from <code>403</code> change to <code>404</code></p>\n\n<p><code>Failed to load resource: the server responded with a status of 404 (Not Found)</code></p>\n"}, {"tags": ["c#", "debugging", "control-flow"], "comments": [{"owner": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1507137574, "post_id": 46570489, "comment_id": 80094867, "body": "post your ComplexNumber class"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1507137981, "post_id": 46570489, "comment_id": 80095094, "body": "A heisenbug suggests a race-condition, OR that your debugger is evaluating an expression that has side-effects.  Do you do <i>any</i> async, threading, background tasks, etc?"}, {"owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1507150006, "post_id": 46570489, "comment_id": 80101347, "body": "@Amy If I have any of those things, I&#39;ve managed to use them without realizing it. Is there a subtle way to introduce those things into a program that doesn&#39;t involve, for example, explicitly using the async keyword or creating a Thread object? The only namespaces I use that I didn&#39;t create are System, System.Collections.Generic, and System.Text."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1507150091, "post_id": 46570489, "comment_id": 80101383, "body": "When you hit a breakpoint, check Visual Studio&#39;s Threads and Tasks windows.  IIRC, they&#39;re available under the Debug menu somewhere."}, {"owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1507151368, "post_id": 46570489, "comment_id": 80101994, "body": "@Amy I opened the Threads and Tasks windows, set a breakpoint at the top of getFactorization(), and repeatedly stepped over. The Threads window always listed one thread. The Tasks window said &quot;no tasks to display&quot; most of the time, but if I stepped over too quickly, execution sometimes hung for a moment at the reduce() calls, and when that happened, the window went blank. Does that seem to indicate that reduce() is where to investigate further?"}, {"owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "reply_to_user": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1507158860, "post_id": 46570489, "comment_id": 80104524, "body": "@Pawe\u0142 \u0141ukasik Done."}, {"owner": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1507160819, "post_id": 46570489, "comment_id": 80104953, "body": "@AlexKindel great we now have the code. What expression do you type in the command line to trigger this issue. What needs to be entered so that 3+4i is passed to getFactorization?"}, {"owner": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1507161334, "post_id": 46570489, "comment_id": 80105072, "body": "you must be doing the debugging wrong. I&#39;m going pretty slowly (step by step) and I&#39;m already at this value being equal to 6."}, {"owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "reply_to_user": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1507161955, "post_id": 46570489, "comment_id": 80105241, "body": "@Pawe\u0142 \u0141ukasik (3+4i)^(1/2) will do."}, {"owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "reply_to_user": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1507163831, "post_id": 46570489, "comment_id": 80105680, "body": "@Pawe\u0142\u0141ukasik A summary what happens inside getFactorization() for me when the command line input is (3+4i)^(1/2), starting from when sumOfRealAndImaginary is incremented to 3: the next time line 755 is reached, factor is set to 1+2i. Line 760 evaluates false, so it&#39;s reset to 1-2i on line 770. Line 774 then evaluates true, so xGaussian is changed to -1+2i on line 781 and the loop is restarted. Line 742 simplifies to if(5&gt;5), so it&#39;s still false. Line 760 again evaluates false, and 774 again evaluates true, so xGaussian is changed to -1 and the loop is restarted."}, {"owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "reply_to_user": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "edited": false, "score": 0, "creation_date": 1507163868, "post_id": 46570489, "comment_id": 80105691, "body": "@Pawe\u0142\u0141ukasik Line 742 now simplifies to if(5&gt;1), so getFactorization() returns, with sumOfRealAndImaginary still equal to 3."}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "is_accepted": false, "score": 0, "last_activity_date": 1507260514, "creation_date": 1507260514, "answer_id": 46597828, "question_id": 46570489, "link": "https://stackoverflow.com/questions/46570489/different-control-flow-between-running-and-debugging/46597828#46597828", "title": "different control flow between running and debugging", "body": "<p>Someone elsewhere suggested that the problem has something to do with the fact that the overload for ToString() I defined for the Fraction class has the side effect of calling reduce(), and since the debugger uses ToString() in order to display the values of variables, the debugger might have been messing with the innards of my Fraction objects mid-execution. There are several reasons why it doesn't make sense to me that this would be the cause of the problem, not least of which is that I'd expect it to make debugging behave strangely but leave running unaffected rather than the other way around, but I heeded their suggestion and arranged for all reducing to happen in the Fraction constructor, and this did fix the problem. If anyone has a clearer explanation of how this worked, I would appreciate hearing it.</p>\n"}], "owner": {"reputation": 173, "user_id": 8240123, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a6aa30a6fc25141158ea9298425531a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kindel", "link": "https://stackoverflow.com/users/8240123/alex-kindel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532001255, "creation_date": 1507136995, "last_edit_date": 1532001255, "question_id": 46570489, "link": "https://stackoverflow.com/questions/46570489/different-control-flow-between-running-and-debugging", "title": "different control flow between running and debugging", "body": "<p>I'm writing a program whose behavior I've designed to be a function of a single text input from the user and nothing else. No use of the system clock, no references to external files, no multi-threading. However, the program is executing with a different control flow when I run it than when I debug it, which I thought should be impossible under those circumstances.</p>\n\n<p>It won't compile on its own, but here is the function that is behaving unexpectedly:</p>\n\n<pre><code>static public Dictionary&lt;ComplexNumber, int&gt; getFactorization(ComplexNumber xGaussian)\n        {\n            Dictionary&lt;ComplexNumber, int&gt; factors = new Dictionary&lt;ComplexNumber, int&gt;();\n            int sumOfRealAndImaginary = 2;\n            while (true)\n            {\n                Console.WriteLine(sumOfRealAndImaginary);//test\n                int realPart = sumOfRealAndImaginary / 2;\n                int imaginaryPart = sumOfRealAndImaginary - realPart;\n                for (int i = 0; realPart - i &gt;= 0;) \n                {\n                    if ((realPart - i) * (realPart - i) +\n                        (imaginaryPart + i) * (imaginaryPart + i) &gt;\n                        xGaussian.getRealPart().getNumerator() *\n                        xGaussian.getRealPart().getNumerator() +\n                        xGaussian.getImaginaryPart().getNumerator() *\n                        xGaussian.getImaginaryPart().getNumerator())\n                    {\n                        if (factors.ContainsKey(xGaussian))\n                            factors[xGaussian] += 1;\n                        else\n                            factors.Add(xGaussian, 1);\n                        return factors;\n                    }\n                    ComplexNumber factor =\n                        new ComplexNumber(realPart - i, imaginaryPart + i);\n                    ComplexNumber quotient = (ComplexNumber)(xGaussian / factor);\n                    quotient.getRealPart().reduce();\n                    quotient.getImaginaryPart().reduce();\n                    if (quotient.getRealPart().getDenominator() == 1 &amp;&amp;\n                        quotient.getImaginaryPart().getDenominator() == 1) \n                    {\n                        if (factors.ContainsKey(factor))\n                            factors[factor] += 1;\n                        else\n                            factors.Add(factor, 1);\n                        xGaussian = (ComplexNumber)(xGaussian / factor);\n                        continue;\n                    }\n                    factor = new ComplexNumber(realPart - i, -imaginaryPart - i);\n                    quotient = (ComplexNumber)(xGaussian / factor);\n                    quotient.getRealPart().reduce();\n                    quotient.getImaginaryPart().reduce();\n                    if (quotient.getRealPart().getDenominator() == 1 &amp;&amp;\n                        quotient.getImaginaryPart().getDenominator() == 1)\n                    {\n                        if (factors.ContainsKey(factor))\n                            factors[factor] += 1;\n                        else\n                            factors.Add(factor, 1);\n                        xGaussian = (ComplexNumber)(xGaussian / factor);\n                        continue;\n                    }\n                    ++i;\n                }\n                ++sumOfRealAndImaginary;\n            }\n        }\n</code></pre>\n\n<p>The ComplexNumber type is designed to behave the way complex numbers do in math, though limited to real and imaginary parts that are rational, so I'll type the value of a ComplexNumber object the same way as I would a complex number in math. This version of getFactorization() assumes the denominators of both parts are 1 for simplicity.</p>\n\n<p>Note how sumOfRealAndImaginary is initialized to 2, and the only place it's changed is where it's incremented at the bottom of the while loop. In debug mode, when I pass getFactorization() the value 3+4i and step through the code at a sufficiently moderate speed, it returns at a time when sumOfRealAndImaginary = 3. This is what I expect. However, when I run the program, also with 3+4i as the function argument, it doesn't return until sumOfRealAndImaginary = 126, as can be seen from the WriteLine() call at the top of the while loop. In particular, the first if statement in the while loop, whose code block includes the function's return statement, takes many more passes to evaluate to true when running than when debugging. It should evaluate to true not only for the expected sumOfRealAndImaginary value of 3, but also for every value larger than that. Also, when I step through the code <em>sufficiently quickly</em> in debug mode, that if statement keeps evaluating to false until I slow down, at which point it evaluates to true on the next pass. So it would seem that whether the if statement evaluates correctly depends on how quickly the code is executed. What could cause this behavior?</p>\n\n<p>There are more distinct cases of unexpected behavior I can enumerate, but perhaps this is enough to start.</p>\n\n<p>Edit: The ComplexNumber class, as requested by Pawe\u0142 \u0141ukasik. Fraction is a similar class that is also derived from the Number class, which is abstract.</p>\n\n<pre><code>public class ComplexNumber : Number\n        {\n            Fraction m_real;\n            Fraction m_imaginary;\n            public ComplexNumber(Fraction real, Fraction imaginary)\n            {\n                m_real = real;\n                m_imaginary = imaginary;\n            }\n            public ComplexNumber(int real, int imaginary)\n            {\n                m_real = new Fraction(real, 1);\n                m_imaginary = new Fraction(imaginary, 1);\n            }\n            public Fraction getRealPart()\n            {\n                return m_real;\n            }\n            public Fraction getImaginaryPart()\n            {\n                return m_imaginary;\n            }\n            protected override Number add(Number number)\n            {\n                if (number is Fraction)\n                {\n                    Fraction fraction = (Fraction)number;\n                    return new ComplexNumber((Fraction)(m_real + fraction), m_imaginary);\n                }\n                ComplexNumber complexNumber = (ComplexNumber)number;\n                return new ComplexNumber((Fraction)(m_real + complexNumber.m_real),\n                    (Fraction)(m_imaginary + complexNumber.m_imaginary));\n            }\n            protected override Number subtract(Number number)\n            { \n                if (number is Fraction)\n                {\n                    Fraction fraction = (Fraction)number;\n                    return new ComplexNumber((Fraction)(m_real - fraction), m_imaginary);\n                }\n                ComplexNumber complexNumber = (ComplexNumber)number;\n                return new ComplexNumber((Fraction)(m_real - complexNumber.m_real),\n                    (Fraction)(m_imaginary - complexNumber.m_imaginary));\n            }\n            protected override Number multiply(Number number)\n            {\n                if (number is Fraction)\n                {\n                    Fraction fraction = (Fraction)number;\n                    return new ComplexNumber((Fraction)(m_real * fraction),\n                        (Fraction)(m_imaginary * fraction));\n                }\n                ComplexNumber complexNumber = (ComplexNumber)number;\n                return new ComplexNumber((Fraction)(m_real * complexNumber.m_real - m_imaginary *\n                    complexNumber.m_imaginary), (Fraction)(m_real * complexNumber.m_imaginary +\n                    m_imaginary * complexNumber.m_real));\n            }\n            protected override Number multiply(int scalar)\n            {\n                    return new ComplexNumber((Fraction)(m_real * scalar),\n                        (Fraction)(m_imaginary * scalar));\n            }\n            protected override Number divide(Number number)\n            {\n                if (number is Fraction)\n                {\n                    Fraction fraction = (Fraction)number;\n                    return new ComplexNumber((Fraction)(m_real / fraction),\n                        (Fraction)(m_imaginary / fraction));\n                }\n                ComplexNumber complexNumber = (ComplexNumber)number;\n                return new ComplexNumber((Fraction)((Fraction)(m_real * complexNumber.m_real +\n                    m_imaginary * complexNumber.m_imaginary) / (Fraction)(complexNumber.m_real *\n                    complexNumber.m_real + complexNumber.m_imaginary * complexNumber.m_imaginary)),\n                    (Fraction)((Fraction)(m_imaginary * complexNumber.m_real -\n                    m_real * complexNumber.m_imaginary) / (Fraction)(complexNumber.m_real\n                    * complexNumber.m_real + complexNumber.m_imaginary * complexNumber.m_imaginary)));\n            }\n            public override string ToString()\n            {\n                StringBuilder output = new StringBuilder();\n                if (m_imaginary.getNumerator() != 0)\n                {\n                    m_imaginary.reduce();\n                    if (m_imaginary.getNumerator() &gt; 0)\n                    {\n                        if (m_real.getNumerator() != 0)\n                        {\n                            output.Append(m_real.ToString());\n                            output.Append(\"+\");\n                        }\n                        if (m_imaginary.getNumerator() != 1)\n                            output.Append(m_imaginary.getNumerator());\n                    }\n                    else if (m_imaginary.getNumerator() &lt; 0)\n                    {\n                        if (m_real.getNumerator() != 0)\n                            output.Append(m_real.ToString());\n                        output.Append(\"-\");\n                        if (m_imaginary.getNumerator() != -1)\n                            output.Append(-m_imaginary.getNumerator());\n                    }\n                    output.Append(\"i\");\n                    if (m_imaginary.getDenominator()!=1)\n                    {\n                        output.Append(\"/\");\n                        output.Append(m_imaginary.getDenominator());\n                    }\n                }\n                else if (m_real.getNumerator() != 0)\n                    output.Append(m_real.ToString());\n                else\n                    return \"0\";\n                return output.ToString();\n            }\n            public override bool Equals(object obj)\n            {\n                if (obj is ComplexNumber)\n                {\n                    ComplexNumber complexNumber = (ComplexNumber)obj;\n                    return m_real.Equals(complexNumber.m_real) &amp;&amp;\n                        m_imaginary.Equals(complexNumber.m_imaginary);\n                }\n                return false;\n            }\n            public override int GetHashCode()\n            {\n                return m_real.GetHashCode() | m_imaginary.GetHashCode();\n            }\n        }\n</code></pre>\n\n<p>Edit again: <a href=\"https://drive.google.com/open?id=0B_EYOt3EW0dYRDNqU1BrdUd5MGc\" rel=\"nofollow noreferrer\">a link to a text file of the whole program</a>, for that matter.</p>\n"}]