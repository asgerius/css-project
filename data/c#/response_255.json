[{"tags": ["c#", "json", "asp.net-web-api"], "comments": [{"owner": {"reputation": 900, "user_id": 4389062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1298021510/picture?type=large", "display_name": "Dan Orlovsky", "link": "https://stackoverflow.com/users/4389062/dan-orlovsky"}, "edited": false, "score": 1, "creation_date": 1574901144, "post_id": 59079984, "comment_id": 104397379, "body": "Content = new StringContent(users.USERs.Where(u =&gt; u.USERNAME == username).ToList()[0].PASSWORD) &lt;&lt; that line looks like you are setting the content to what the Password is - meaning you&#39;re getting the password as the response."}, {"owner": {"reputation": 176, "user_id": 6913551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac65cabcd8249de7f6d3c1879d2615d2?s=128&d=identicon&r=PG&f=1", "display_name": "user362461", "link": "https://stackoverflow.com/users/6913551/user362461"}, "reply_to_user": {"reputation": 900, "user_id": 4389062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1298021510/picture?type=large", "display_name": "Dan Orlovsky", "link": "https://stackoverflow.com/users/4389062/dan-orlovsky"}, "edited": false, "score": 0, "creation_date": 1574921271, "post_id": 59079984, "comment_id": 104401689, "body": "@DanOrlovsky oh I know! I can omit the password but that&#39;s not my issue, my issue is that the output isn&#39;t in a JSON format and is just plain text (I think?) and I want to return a JSON object with all the other attributes EXCEPT the password. If it was <code>...[0].USERNAME</code> I&#39;d still have the same problem."}, {"owner": {"reputation": 5605, "user_id": 2611237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gd9EW.jpg?s=128&g=1", "display_name": "Andrei Dragotoniu", "link": "https://stackoverflow.com/users/2611237/andrei-dragotoniu"}, "edited": false, "score": 0, "creation_date": 1575028693, "post_id": 59079984, "comment_id": 104440665, "body": "passwords in clear ... in 2020 almost .... do we never learn?"}, {"owner": {"reputation": 176, "user_id": 6913551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac65cabcd8249de7f6d3c1879d2615d2?s=128&d=identicon&r=PG&f=1", "display_name": "user362461", "link": "https://stackoverflow.com/users/6913551/user362461"}, "reply_to_user": {"reputation": 5605, "user_id": 2611237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gd9EW.jpg?s=128&g=1", "display_name": "Andrei Dragotoniu", "link": "https://stackoverflow.com/users/2611237/andrei-dragotoniu"}, "edited": false, "score": 0, "creation_date": 1575140441, "post_id": 59079984, "comment_id": 104468353, "body": "@AndreiDragotoniu I am a 3rd year student and this is the first time I have ever dealt with web/android dev so I am not really knowledgeable about security. I know passwords shouldn&#39;t be stored in plain text but it&#39;s a software engineering course project so I thought it shouldn&#39;t really matter."}], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 6913551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac65cabcd8249de7f6d3c1879d2615d2?s=128&d=identicon&r=PG&f=1", "display_name": "user362461", "link": "https://stackoverflow.com/users/6913551/user362461"}, "edited": false, "score": 0, "creation_date": 1574934539, "post_id": 59080212, "comment_id": 104407470, "body": "I am getting an error at the <code>.Select()</code> because <code>Select</code> isn&#39;t overloaded to take 0 arguments. Am I missing something?"}, {"owner": {"reputation": 99, "user_id": 8807220, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211078366938656/picture?type=large", "display_name": "Rodrigo Chapeta", "link": "https://stackoverflow.com/users/8807220/rodrigo-chapeta"}, "reply_to_user": {"reputation": 176, "user_id": 6913551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac65cabcd8249de7f6d3c1879d2615d2?s=128&d=identicon&r=PG&f=1", "display_name": "user362461", "link": "https://stackoverflow.com/users/6913551/user362461"}, "edited": false, "score": 0, "creation_date": 1574963079, "post_id": 59080212, "comment_id": 104422084, "body": "ups , forgot the select part"}], "tags": [], "owner": {"reputation": 99, "user_id": 8807220, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211078366938656/picture?type=large", "display_name": "Rodrigo Chapeta", "link": "https://stackoverflow.com/users/8807220/rodrigo-chapeta"}, "is_accepted": true, "score": 2, "last_activity_date": 1574963119, "last_edit_date": 1574963119, "creation_date": 1574900926, "answer_id": 59080212, "question_id": 59079984, "link": "https://stackoverflow.com/questions/59079984/how-to-return-custom-json-objects-in-an-asp-net-framework-web-api/59080212#59080212", "title": "How to return custom JSON objects in an ASP.NET Framework web API?", "body": "<p>You can create a new anonymous object</p>\n\n<pre><code>`var UserWithoutPassword = users.USERs\n           .Where(u =&gt; u.USERNAME == username).Select(x =&gt; new\n                           {\n                                P1 = table.Prop1,\n                                P2 = table.Prop2\n                           }).ToList();\nContent = new StringContent(users.USERs.Where(u =&gt; u.USERNAME == username).ToList()`\n</code></pre>\n\n<p>Try something like this. </p>\n\n<p>Another option, more lazy , go through the list and replace password with ''</p>\n"}], "owner": {"reputation": 176, "user_id": 6913551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac65cabcd8249de7f6d3c1879d2615d2?s=128&d=identicon&r=PG&f=1", "display_name": "user362461", "link": "https://stackoverflow.com/users/6913551/user362461"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 59080212, "answer_count": 1, "score": 0, "last_activity_date": 1574963119, "creation_date": 1574898888, "question_id": 59079984, "link": "https://stackoverflow.com/questions/59079984/how-to-return-custom-json-objects-in-an-asp-net-framework-web-api", "title": "How to return custom JSON objects in an ASP.NET Framework web API?", "body": "<p>I am trying to make a small web API for a course android application project. I made a <code>Get</code> method that returns a list of all users and all their attributes (which I don't need but it's ok for now since I am only testing on localhost).</p>\n\n<p>Problem starts when I try to implement the <code>Get</code> method for just 1 user. I access <code>/api/user?username=admin</code> and it returns what I tell it to return but it doesn't return it in the JSON format unless I get the entire object (which is a bad idea because what if I want to remove the password from the response?)</p>\n\n<p>This is how the raw JSON file for <code>/api/user</code> looks like:</p>\n\n<p>the Users table is \n<code>USERNAME (string) : EMAIL (string) : PASSWORD (string) : UTYPE (Byte)</code></p>\n\n<pre><code>[{\"USERNAME\":\"admin\",\"EMAIL\":\"admin@domain\",\"PASSWORD\":\"p\",\"UTYPE\":2},{\"USERNAME\":\"merchTest\",\"EMAIL\":\"merchTest@merch.com\",\"PASSWORD\":\"bezzo\",\"UTYPE\":1},{\"USERNAME\":\"onlineTestConsumer\",\"EMAIL\":\"onlineTestConsumer@bezzo.com\",\"PASSWORD\":\"bezzo\",\"UTYPE\":2},{\"USERNAME\":\"zz\",\"EMAIL\":\"zzz@live.com\",\"PASSWORD\":\"zzzz\",\"UTYPE\":2}]\n</code></pre>\n\n<p>Which is correct.</p>\n\n<p>But this is how the raw JSON file for <code>/api/user?username=admin</code> looks like</p>\n\n<pre><code>\"p\"\n</code></pre>\n\n<p>Which is obviously not right.</p>\n\n<p>Here's my code for <code>UserController.cs</code></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Net;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Web.Http;\nusing UserDataAccess;\n\nnamespace OkBoomerREST_API.Controllers\n{\n    [Route(\"api/user\")]\n    public class UserController : ApiController\n    {\n        public IEnumerable&lt;USER&gt; Get()\n        {\n            using (DB_A5061A_okboomerEntities users = new DB_A5061A_okboomerEntities())\n            {\n                return users.USERs.ToList();\n            }    \n        }\n\n        public HttpResponseMessage Get(String username)\n        {\n            using (DB_A5061A_okboomerEntities users = new DB_A5061A_okboomerEntities())\n            {\n                HttpResponseMessage response = new HttpResponseMessage()\n                {\n                    Content = new StringContent(users.USERs.Where(u =&gt; u.USERNAME == username).ToList()[0].PASSWORD)\n                };\n                response.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/json\");\n                return response;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>What I want: The 2nd <code>Get</code> method to return a proper JSON object but <strong>without</strong> the password field (Basically, <code>{\"USERNAME\":\"admin\",\"EMAIL\":\"admin@domain\",\"UTYPE:2}</code>). How can I do that?</p>\n\n<p>I am very new to anything related to web and I am doing this just to be doing my project right (but I don't have to so this isn't a 'homework question') so I'd appreciate if answers were dumbed down to my level hahaha. I am sorry if it's a kind of stupid question but I have been staring at this for 3 hours now and all the answers I find online are ASP.NET Core so I don't really know what to do here.</p>\n"}, {"tags": ["c#", ".net", "object", "reflection", ".net-3.5"], "answers": [{"tags": [], "owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "is_accepted": true, "score": 1, "last_activity_date": 1574904277, "last_edit_date": 1574904277, "creation_date": 1574903437, "answer_id": 59080460, "question_id": 59079792, "link": "https://stackoverflow.com/questions/59079792/create-object-by-merging-other-three-with-priority-c-net-3-5/59080460#59080460", "title": "Create object by merging other three with priority (C# .NET 3.5)", "body": "<p>Reflection is a way to do it.  Below is an example; probably not the most elegant, but it can be built upon:\n<pre>\nusing System\nusing System.Reflection;</p>\n\n<p>namespace Test\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Car A = new Car\n            {\n                Make = \"Volvo\"\n            };</p>\n\n<code>        Car B = new Car\n        {\n            Year = 2001,\n            CreateDate = DateTime.Now\n        };\n\n        Car C = new Car\n        {\n            ShortValue = 1,\n            MSRP = 20000,\n            ByteValue = 10\n        };\n\n        Car D = new Car();\n\n        Mapper mapobj = new Mapper();\n\n        D = mapobj.Map&lt;Car&gt;(A);\n        D = mapobj.Compare&lt;Car&gt;(B, D);\n        D = mapobj.Compare&lt;Car&gt;(C, D);\n\n        // Car D now has all the initialized properties of A,B,C\n    }\n\n    public class Mapper\n    {\n        public T Map&lt;T&gt;(T data)\n        {\n            var _result = (T)Activator.CreateInstance(typeof(T), new object[] { });\n\n            foreach (PropertyInfo propertyInfo in typeof(T).GetProperties())\n            {\n                if (typeof(T).GetProperty(propertyInfo.Name) != null)\n                    typeof(T)\n                        .GetProperty(propertyInfo.Name,\n                            BindingFlags.IgnoreCase |\n                            BindingFlags.Instance |\n                            BindingFlags.Public)\n                        .SetValue(_result,\n                            propertyInfo.GetValue(data));\n            }\n\n            return _result;\n        }\n        public T Compare&lt;T&gt;(T data, T data2)\n        {\n            var _result = (T)Activator.CreateInstance(typeof(T), new object[] { });\n\n            foreach (PropertyInfo propertyInfo in typeof(T).GetProperties())\n            {\n\n                if (typeof(T).GetProperty(propertyInfo.Name) != null)\n                {\n                    bool isnullvalue = false;\n                    DateTime zerodate = new DateTime();\n\n                    switch (propertyInfo.PropertyType.Name)\n                    {\n                        case \"String\":\n                            if ((string)propertyInfo.GetValue(data) != null &amp;&amp; (string)propertyInfo.GetValue(data2) == null)\n                                isnullvalue = true;\n                            break;\n\n                        case \"Int32\":\n                            if ((Int32)propertyInfo.GetValue(data) != 0 &amp;&amp; (Int32)propertyInfo.GetValue(data2) == 0)\n                                isnullvalue = true;\n                            break;\n                        case \"Int16\":\n                            if ((Int16)propertyInfo.GetValue(data) != 0 &amp;&amp; (Int16)propertyInfo.GetValue(data2) == 0)\n                                isnullvalue = true;\n                            break;\n                        case \"Byte\":\n                            if ((Byte)propertyInfo.GetValue(data) != 0 &amp;&amp; (Byte)propertyInfo.GetValue(data2) == 0)\n                                isnullvalue = true;\n                            break;\n                        case \"Double\":\n                            if ((Double)propertyInfo.GetValue(data) != 0 &amp;&amp; (Double)propertyInfo.GetValue(data2) == 0)\n                                isnullvalue = true;\n                            break;\n                        case \"DateTime\":  // DateTime.Compare(date1, date2)\n                            DateTime time1 = (DateTime)propertyInfo.GetValue(data);\n                            DateTime time2 = (DateTime)propertyInfo.GetValue(data2);\n                            if (DateTime.Compare(time1, zerodate) != 0 &amp;&amp; DateTime.Compare(time2, zerodate) == 0)\n                                isnullvalue = true;\n                            break;\n\n                        default:\n                            Console.WriteLine(\"No handler for type {} found\");\n                            Console.ReadLine();\n                            Environment.Exit(-1);\n                            break;\n                    }\n\n\n                    if (isnullvalue)\n                    {\n                        typeof(T).GetProperty(propertyInfo.Name,\n                                BindingFlags.IgnoreCase |\n                                BindingFlags.Instance |\n                                BindingFlags.Public)\n                            .SetValue(_result,\n                                propertyInfo.GetValue(data));\n                    }\n                    else\n                    {\n                        typeof(T).GetProperty(propertyInfo.Name,\n                                BindingFlags.IgnoreCase |\n                                BindingFlags.Instance |\n                                BindingFlags.Public)\n                            .SetValue(_result,\n                                propertyInfo.GetValue(data2));\n                    }\n                }\n            }\n            return _result;\n        }\n    }\n\n    public class Car\n    {\n        public string Make { get; set; }\n        public int Year { get; set; }\n        public short ShortValue { get; set; }\n        public byte ByteValue { get; set; }\n        public DateTime CreateDate { get; set; }\n        public double MSRP { get; set; }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 1504, "user_id": 2933946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fac94f311bc302b24e56e201ce7aef0?s=128&d=identicon&r=PG&f=1", "display_name": "xander", "link": "https://stackoverflow.com/users/2933946/xander"}, "is_accepted": false, "score": 1, "last_activity_date": 1574908115, "creation_date": 1574908115, "answer_id": 59080947, "question_id": 59079792, "link": "https://stackoverflow.com/questions/59079792/create-object-by-merging-other-three-with-priority-c-net-3-5/59080947#59080947", "title": "Create object by merging other three with priority (C# .NET 3.5)", "body": "<p>You could undoubtedly make a reflection-based solution work here, but you might not need it. If you know the type being merged in advanced, you can write a very simple mapping function to handle this.</p>\n\n<p>For example, given a simple class...</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class MyClassToMap\n{\n    public string MyString { get; set; }\n    public int MyInt { get; set; }\n}\n</code></pre>\n\n<p>you could write a simple method...</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>MyClassToMap Map(params MyClassToMap[] toMap)\n{\n    var mapped = new MyClassToMap();\n\n    foreach (var m in toMap)\n    {\n        // 'default' is shorthand for a type's uninitalized value. In the case of\n        // string, it resolves to \"null\", and in the case of int, it resolves to 0.\n        // You could also use the literal values here, if you prefer.\n        // Note that for C# versions &lt; 7.1, you must specify the type--eg \"default(string)\".\n        // See: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/default\n        if (m.MyString != default) mapped.MyString = m.MyString;\n        if (m.MyInt != default) mapped.MyInt = m.MyInt;\n    }\n\n    return mapped;\n}\n</code></pre>\n\n<p>and call it like so...</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var a = new MyClassToMap { MyString = \"foo\", MyInt = 0 };\nvar b = new MyClassToMap { MyString = \"bar\", MyInt = 100 };\nvar c = new MyClassToMap { MyString = null, MyInt = 0 };\n\nvar mapped = Map(a, b, c);\n\nConsole.WriteLine($\"MyString = {mapped.MyString}, MyInt = {mapped.MyInt}\");\n// prints: { MyString = \"bar\", MyInt = 100 };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574917966, "last_edit_date": 1574917966, "creation_date": 1574909855, "answer_id": 59081134, "question_id": 59079792, "link": "https://stackoverflow.com/questions/59079792/create-object-by-merging-other-three-with-priority-c-net-3-5/59081134#59081134", "title": "Create object by merging other three with priority (C# .NET 3.5)", "body": "<p>You could use reflection for the purpose. For example, Please check following code (<em>Inline comments added to method explaining the approach</em>)</p>\n\n<pre><code>public T AssignProperties&lt;T&gt;(params T[] sources)\n{\n    // Types of properties that has to be copied\n    var filteredPropertyTypes = new []{typeof(int),typeof(string),typeof(short),typeof(byte),typeof(DateTime),typeof(double)};\n    // Create Default Instance of T\n    var newInstance = (T)Activator.CreateInstance(typeof(T));\n    // Iterate through each property\n    foreach(var property in typeof(T).GetProperties().Where(x=&gt;filteredPropertyTypes.Contains(x.PropertyType)))\n    {\n        // Get the default Value of the Type and get the first instance in sources, which has a non-default value for the property\n        var defaultValue = property.PropertyType.IsValueType ? Convert.ChangeType(Activator.CreateInstance(property.PropertyType),property.PropertyType) : null;\n        if(sources.Any(x=&gt;!Convert.ChangeType(property.GetValue(x),property.PropertyType).Equals(defaultValue)))\n        {\n            var newValue = property.GetValue(sources.First(x=&gt;!Convert.ChangeType(property.GetValue(x),property.PropertyType).Equals(defaultValue)));\n            property.SetValue(newInstance,newValue);\n        }\n    }\n    return newInstance;\n}\n</code></pre>\n\n<p>You could now use the method for N number of instances(A,B,C...), with instances passed in order in which they need to be processed. </p>\n\n<pre><code>var newInstance = AssignProperties(instanceA,instanceB,instanceC);\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/LuRymy\" rel=\"nofollow noreferrer\">Demo Code</a></p>\n"}], "owner": {"reputation": 27, "user_id": 2185768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb9299a478aec0c1e3c0bfe421c6cdb?s=128&d=identicon&r=PG", "display_name": "Danilo7", "link": "https://stackoverflow.com/users/2185768/danilo7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 59080460, "answer_count": 3, "score": 1, "last_activity_date": 1574917966, "creation_date": 1574897338, "question_id": 59079792, "link": "https://stackoverflow.com/questions/59079792/create-object-by-merging-other-three-with-priority-c-net-3-5", "title": "Create object by merging other three with priority (C# .NET 3.5)", "body": "<p>I have three C# (using .NET 3.5 for a legacy sw) objects of the same class (A, B, C) that has all public properties (string, int, short, byte, datetime, double)\nI need to create a fourth (D) by merging the \"three\" objects.\nIf A has a property set (not null or empty) I have to set it in D, otherwise I have to check B and then as last C.\nWhat's the most effective and elegant way to do it?\nI've read about Reflection is that the right way?</p>\n"}, {"tags": ["c#", "tuples"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1574897070, "post_id": 59079724, "comment_id": 104396504, "body": "Please don&#39;t post images of code. Provide the code as plaintext instead. Also before you jump to the conclusion that the names are not preserved, have you actually tried <i>programmatically accessing</i> the list of tuples first?"}, {"owner": {"reputation": 203, "user_id": 933433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6b94c49f30120c7d0afa192d682ebc?s=128&d=identicon&r=PG", "display_name": "Chris Keller", "link": "https://stackoverflow.com/users/933433/chris-keller"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1574897134, "post_id": 59079724, "comment_id": 104396513, "body": "Yes, I did. The behavior is the same in Visual Studio and LinqPad - pictured."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1574897146, "post_id": 59079724, "comment_id": 104396517, "body": "That&#39;s just how tuples work, the names you give them in code are only syntactic sugar. If you want (in this case LinqPad) to output proper names, you will need to use a proper class."}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 3, "creation_date": 1574897157, "post_id": 59079724, "comment_id": 104396519, "body": "Apparently the debug tool you are using ignores the <a href=\"https://stackoverflow.com/a/43489034/11683\"><code>TupleElementNames</code> attribute</a>."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1574897177, "post_id": 59079724, "comment_id": 104396524, "body": "As a general rule, names do not <i>exist</i> at runtime*. Names are primarily there to allow compiler/human communication. Wich includes Debugger/Human and Error Messages/Human. Outside those roles, they serve no purpose. | *Caveat: Thanks to reflection, names do exist to some degree at runtime. But I consider reflection a too extreme case to worry about."}], "answers": [{"tags": [], "owner": {"reputation": 203, "user_id": 933433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6b94c49f30120c7d0afa192d682ebc?s=128&d=identicon&r=PG", "display_name": "Chris Keller", "link": "https://stackoverflow.com/users/933433/chris-keller"}, "is_accepted": false, "score": 0, "last_activity_date": 1574898365, "creation_date": 1574898365, "answer_id": 59079921, "question_id": 59079724, "link": "https://stackoverflow.com/questions/59079724/c-tuples-not-keeping-names-and-only-using-itemx/59079921#59079921", "title": "C# Tuples not keeping names and only using &#39;itemx&#39;", "body": "<p>This is working as expected, as hinted in the comments from others.</p>\n\n<p>I found this blog <a href=\"http://mustoverride.com/tuples_names/\" rel=\"nofollow noreferrer\">post</a> helpful as well as the documentation and source code.</p>\n"}], "owner": {"reputation": 203, "user_id": 933433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6b94c49f30120c7d0afa192d682ebc?s=128&d=identicon&r=PG", "display_name": "Chris Keller", "link": "https://stackoverflow.com/users/933433/chris-keller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574898365, "creation_date": 1574896833, "last_edit_date": 1574898032, "question_id": 59079724, "link": "https://stackoverflow.com/questions/59079724/c-tuples-not-keeping-names-and-only-using-itemx", "title": "C# Tuples not keeping names and only using &#39;itemx&#39;", "body": "<p>I'm having a strange problem with Tuples and I'm not really sure what I'm overlooking. The attached screen shows my sample code and the output... note that the property names are ignored. This behavior is the same in Visual Studio.</p>\n\n<p>My question is why, when defined with property names, does the Tuple end up at item1 and such?</p>\n\n<p><a href=\"https://i.stack.imgur.com/vqZvK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vqZvK.png\" alt=\"enter image description here\"></a></p>\n\n<p>The comments have made me realize I do not understand the situation with the identifiers... the debugger in VS 2019 shows itemx properties just as my original question but this code works:</p>\n\n<pre><code>var tupleList = new List&lt;(int Index, string Name)&gt;\n{\n    (1, \"cow\"),\n    (5, \"chickens\"),\n    (1, \"airplane\")\n};\n\nforeach (var tuple in tupleList)\n    Console.WriteLine($\"{tuple.Index} - {tuple.Name}\");\n</code></pre>\n\n<p>The debugger shows Itemx properties but I'm able to access using the names selected. I need to look at the source and better understand how this is working... seeing itemx instead of my expected names drew me down a rabbit hole. </p>\n\n<p>TY all for the discussion and apologies for breaking rules by posting a screen.</p>\n\n<p>Chris</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "stored-procedures"], "comments": [{"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1574896310, "post_id": 59079634, "comment_id": 104396345, "body": "Make sure you are actually connected to the right database. Behaviour seems like you are connecting to a different instance of the database. Other possibility is that you use a different user name to connect to the database and that user sees different data."}, {"owner": {"reputation": 41, "user_id": 6789684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef15db3befa198e4544e49348d487c?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6789684/david"}, "reply_to_user": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1574898537, "post_id": 59079634, "comment_id": 104396867, "body": "I checked the database connection.  It appears to be good."}, {"owner": {"reputation": 41, "user_id": 6789684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef15db3befa198e4544e49348d487c?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6789684/david"}, "reply_to_user": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1574898682, "post_id": 59079634, "comment_id": 104396893, "body": "One thing to note is that the sproc does two things: It returns the sys_controlnumber from systemcontrol and then in increments sys_controlnumber.  The latter is working, which is good, so I know it&#39;s calling the sproc, but I can never get it to return the sys_controlnumber, which is equally important."}, {"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1574908007, "post_id": 59079634, "comment_id": 104398596, "body": "The function you use return the count of modified rows. See <a href=\"https://stackoverflow.com/questions/35631903/raw-sql-query-without-dbset-entity-framework-core\" title=\"raw sql query without dbset entity framework core\">stackoverflow.com/questions/35631903/&hellip;</a> for alternatives"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1574950583, "post_id": 59079634, "comment_id": 104416196, "body": "Yes.  You would need to bind an output parameter to get the result.  But returning data in the return value of a stored procedure is a bad practice anyway.  The standard practice in SQL Server is that the return value of a stored procedure should only indicate success or failure, not return data."}, {"owner": {"reputation": 41, "user_id": 6789684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef15db3befa198e4544e49348d487c?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6789684/david"}, "edited": false, "score": 0, "creation_date": 1575917043, "post_id": 59079634, "comment_id": 104719270, "body": "I agree returning value of a stored procedure is a bad practice.  Regrettably, I have to leave that stored procedure as-is because it was created and used by a third party app.  I ended up getting the data another way other than trying to use a stored procedure."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 6789684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef15db3befa198e4544e49348d487c?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6789684/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1575917358, "creation_date": 1575917358, "answer_id": 59254921, "question_id": 59079634, "link": "https://stackoverflow.com/questions/59079634/stored-procs-in-asp-net-core-3-0-entity-framework/59254921#59254921", "title": "Stored Procs in ASP.NET Core 3.0 Entity Framework", "body": "<p>I ended up not using the stored procedure to get the data.  As was pointed out, this is a bad practice.  This particular stored procedure was created by and being used to retrieve the data in a third party desktop app, so my initial thought was to do the same, but it doesn't work in ASP.NET Core 3.0. I found a different way to query the data and used a stored procedure to increment the value (increment the value is the other thing the original stored procedure was doing).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6294902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZKN1p.jpg?s=128&g=1", "display_name": "DoubleAxion", "link": "https://stackoverflow.com/users/6294902/doubleaxion"}, "is_accepted": false, "score": 0, "last_activity_date": 1594401214, "creation_date": 1594401214, "answer_id": 62839236, "question_id": 59079634, "link": "https://stackoverflow.com/questions/59079634/stored-procs-in-asp-net-core-3-0-entity-framework/62839236#62839236", "title": "Stored Procs in ASP.NET Core 3.0 Entity Framework", "body": "<p>NineBerry was correct in that you would always get a 1 value because ExecuteSqlInterpolatedAsync always returns the amount of rows affected.\nYou would have to provide an OUT parameter.</p>\n<p>The SQL procedure would need to be written with an out parameter for the OUT parameter to work though.\nIf you do not want to alter the procedure because it is being used by other systems, then write a wrapper procedure that would call this procedure and assign the result to an OUT parameter with the same name as the OUT parameter in the argument specified in the ExecuteSqlInterpolatedAsync method.</p>\n"}], "owner": {"reputation": 41, "user_id": 6789684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef15db3befa198e4544e49348d487c?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6789684/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 600, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1594401214, "creation_date": 1574896139, "last_edit_date": 1574898727, "question_id": 59079634, "link": "https://stackoverflow.com/questions/59079634/stored-procs-in-asp-net-core-3-0-entity-framework", "title": "Stored Procs in ASP.NET Core 3.0 Entity Framework", "body": "<p>I'm having trouble calling stored procs in ASP.NET Core 3.0.  Some of the ones I've called have worked, but I found one that won't, and I haven't seen a lot of online documentation that addresses this (in 3.0, uses ExecuteSqlInterpolatedAsync and ExecuteSqlRaw in place of methods such as FromSql).</p>\n\n<p>The stored procedure is a simple one (it just calls another sproc and returns on int):</p>\n\n<pre><code>ALTER PROCEDURE [dbo].[getsystemnumber](@p_controlid varchar(8),\n                 @p_alternateid varchar(8))\n\nAS\nDECLARE @return_number  int\n\n-- Requests a block of 1 number\nEXECUTE @return_number = dbo.getsystemnumber_gateway @p_controlid, @p_alternateid, 1\n\nRETURN @return_number \n</code></pre>\n\n<p>It's a long standing sproc that is used daily by older applications and works fine, and if I run it manually it works fine.</p>\n\n<p>I'm trying to create a simple method that can be called whenever the application needs a new Id</p>\n\n<pre><code>        public async Task&lt;int&gt; getNewId()\n        {\n            using (TMW_LiveContext context = new TMW_LiveContext())\n            {\n                FormattableString query = $\"EXEC dbo.getsystemnumber @p_controlid = 'fgtbycmp', @p_alternateid = ''\";\n                CancellationToken cancellationToken = default;\n                int newId = await context.Database.ExecuteSqlInterpolatedAsync(query, cancellationToken);\n\n                return newId;\n            }\n\n        }\n</code></pre>\n\n<p>Which is called like so</p>\n\n<pre><code>int newId = getNewId().Result;\n\n</code></pre>\n\n<p>The problem I am encounter is that is always returns a value of 1, no exceptions.  I have also tried the non-asynchronous call (context.Database.ExecuteSqlInterpolated(query)) and using ExecuteSqlRaw.  I always get 1 as a result.  But if I run the sproc in SQL server, I get the values I expect (values looking like this: 13798303).  What am I doing wrong?  How can I get it to return the proper integer values?</p>\n\n<p>EDIT - One thing to note is that the sproc does two things: It returns the sys_controlnumber from systemcontrol and then in increments sys_controlnumber.  The latter is working, which is good, so I know it's calling the sproc, but I can never get it to return the sys_controlnumber, which is equally important.</p>\n"}, {"tags": ["c#", "wpf", "wpf-controls", "wpf-core", "wpf-core-3.0"], "comments": [{"owner": {"reputation": 286, "user_id": 10920460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HMHcLfPGNAQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ4LZ7DmAHlJIhN15mODVn1fbZ4KQ/mo/photo.jpg?sz=128", "display_name": "Byoung Sam Moon", "link": "https://stackoverflow.com/users/10920460/byoung-sam-moon"}, "edited": false, "score": 3, "creation_date": 1574901098, "post_id": 59079558, "comment_id": 104397373, "body": "Control class doesn&#39;t have content. trying to derive AnimatedView from ContentControl"}, {"owner": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "edited": false, "score": 0, "creation_date": 1574921996, "post_id": 59079558, "comment_id": 104401924, "body": "Or derive it from <code>UserControl</code> and override the the <code>ControlTemplate</code> in the XAML, inserting the <code>ContentPresenter</code> where needed."}, {"owner": {"reputation": 5983, "user_id": 3450580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d266279ffa8c881b432ca404deec6c15?s=128&d=identicon&r=PG&f=1", "display_name": "boop", "link": "https://stackoverflow.com/users/3450580/boop"}, "reply_to_user": {"reputation": 286, "user_id": 10920460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HMHcLfPGNAQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ4LZ7DmAHlJIhN15mODVn1fbZ4KQ/mo/photo.jpg?sz=128", "display_name": "Byoung Sam Moon", "link": "https://stackoverflow.com/users/10920460/byoung-sam-moon"}, "edited": false, "score": 0, "creation_date": 1575046278, "post_id": 59079558, "comment_id": 104448575, "body": "@ByoungSamMoon Can you post this as an answer so I can accept it? Maybe you can add some more details."}, {"owner": {"reputation": 286, "user_id": 10920460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HMHcLfPGNAQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ4LZ7DmAHlJIhN15mODVn1fbZ4KQ/mo/photo.jpg?sz=128", "display_name": "Byoung Sam Moon", "link": "https://stackoverflow.com/users/10920460/byoung-sam-moon"}, "reply_to_user": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "edited": false, "score": 0, "creation_date": 1575075425, "post_id": 59079558, "comment_id": 104455673, "body": "more detail? just modify Control to ContentControl. or @MarkFeldman solution is good too."}], "owner": {"reputation": 5983, "user_id": 3450580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d266279ffa8c881b432ca404deec6c15?s=128&d=identicon&r=PG&f=1", "display_name": "boop", "link": "https://stackoverflow.com/users/3450580/boop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574895615, "creation_date": 1574895615, "question_id": 59079558, "link": "https://stackoverflow.com/questions/59079558/cannot-add-content-to-a-custom-control", "title": "Cannot add content to a Custom Control", "body": "<p>I'm trying to create a custom version of <code>UserControl</code> to implement some standard animations for views when loading.</p>\n\n<p>But when I add a <code>ContentPresenter</code> I'm not able to add content to my control. Why though?</p>\n\n<p>Here is the Template I use for my custom control.</p>\n\n<pre><code>&lt;ResourceDictionary xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                    xmlns:local=\"clr-namespace:EzNintendo.Desktop.Controls\"&gt;\n\n    &lt;Style TargetType=\"{x:Type local:AnimatedView}\"&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"{x:Type local:AnimatedView}\"&gt;\n                    &lt;ContentPresenter /&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n\n&lt;/ResourceDictionary&gt;\n</code></pre>\n\n<p>and the default code for a custom control</p>\n\n<pre><code>public class AnimatedView : Control\n{\n    static AnimatedView()\n    {\n        DefaultStyleKeyProperty.OverrideMetadata(typeof(AnimatedView), \n                                                 new FrameworkPropertyMetadata(typeof(AnimatedView)));\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<p>and that is how I try to use it.</p>\n\n<pre><code>&lt;controls:AnimatedView x:Class=\"MyView\"\n                       xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                       xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                       xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n                       xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n                       xmlns:controls=\"clr-namespace:MControls;assembly=MControls\"&gt;\n    &lt;Grid&gt;\n        &lt;TextBlock Text=\"Hello World!\" /&gt;\n    &lt;/Grid&gt;\n&lt;/controls:AnimatedView&gt;\n</code></pre>\n\n<p>When I remove the <code>Grid</code> it works just fine. </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1574895798, "post_id": 59079482, "comment_id": 104396207, "body": "Why do you want to pass in a constructor method and not just the <code>IBaseService&lt;TEntity&gt;</code> object?"}, {"owner": {"reputation": 58616, "user_id": 20126, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/22fc146c1512cdb4d381222dcbc8b9f8?s=128&d=identicon&r=PG", "display_name": "Amr Elgarhy", "link": "https://stackoverflow.com/users/20126/amr-elgarhy"}, "edited": false, "score": 0, "creation_date": 1574895810, "post_id": 59079482, "comment_id": 104396211, "body": "Do you mean pass the class object?"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574895829, "post_id": 59079482, "comment_id": 104396218, "body": "Pretty sure you can not. Constructors are a very special function. The closest equivalent is creating instances at runtime, and thus handing in the type of class."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 3, "creation_date": 1574897096, "post_id": 59079482, "comment_id": 104396505, "body": "This might be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. It would be awesome if we could get a clearer picture of the current problem and what you are <b>actually</b> trying to do?"}, {"owner": {"reputation": 447, "user_id": 11697371, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MinAbuS7WFQ/AAAAAAAAAAI/AAAAAAAAACk/iyD9jlETn6Q/photo.jpg?sz=128", "display_name": "Felipe Endlich", "link": "https://stackoverflow.com/users/11697371/felipe-endlich"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1574899024, "post_id": 59079482, "comment_id": 104396977, "body": "@DavidG because the IBaseService has some arguments in its constructor and I wanna do this logic inside the BaseServiceUnitTest"}, {"owner": {"reputation": 447, "user_id": 11697371, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MinAbuS7WFQ/AAAAAAAAAAI/AAAAAAAAACk/iyD9jlETn6Q/photo.jpg?sz=128", "display_name": "Felipe Endlich", "link": "https://stackoverflow.com/users/11697371/felipe-endlich"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1574899098, "post_id": 59079482, "comment_id": 104396997, "body": "@Nkosi I told you...I wanna create a generic BaseServiceUnitTest class that tests all basic service methods in my project"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1574899300, "post_id": 59079482, "comment_id": 104397039, "body": "@FelipeEndlich There was no mention about having to pass arguments in the original explanation. <a href=\"https://stackoverflow.com/posts/59079482/edit\">edit</a> the question and give an example of the arguments"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1574899660, "post_id": 59079482, "comment_id": 104397110, "body": "So, even if you could pass in a constructor, how do you think you would call it with an unknown number of parameters?"}, {"owner": {"reputation": 447, "user_id": 11697371, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MinAbuS7WFQ/AAAAAAAAAAI/AAAAAAAAACk/iyD9jlETn6Q/photo.jpg?sz=128", "display_name": "Felipe Endlich", "link": "https://stackoverflow.com/users/11697371/felipe-endlich"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1574901373, "post_id": 59079482, "comment_id": 104397427, "body": "@DavidG It&#39;s not unknown because all my services inherits from a baseService class, so they all have the same constructor. The thing is, I&#39;m doing that and not passing the instance itself because I have to mock some interfaces before constructing the Services instances itself, and the best place to do that is inside the BaseServiceUnitTest"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1574901701, "post_id": 59079482, "comment_id": 104397492, "body": "If it is known, then just pass in the service then."}, {"owner": {"reputation": 447, "user_id": 11697371, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MinAbuS7WFQ/AAAAAAAAAAI/AAAAAAAAACk/iyD9jlETn6Q/photo.jpg?sz=128", "display_name": "Felipe Endlich", "link": "https://stackoverflow.com/users/11697371/felipe-endlich"}, "edited": false, "score": 0, "creation_date": 1574902602, "post_id": 59079482, "comment_id": 104397655, "body": "The point is, I wanna do this class as generic as possible, in order to don&#39;t repeat code in the services"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1574902763, "post_id": 59079482, "comment_id": 104397683, "body": "The class is still generic, I don&#39;t understand why you need to complicate it."}], "answers": [{"tags": [], "owner": {"reputation": 1504, "user_id": 2933946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fac94f311bc302b24e56e201ce7aef0?s=128&d=identicon&r=PG&f=1", "display_name": "xander", "link": "https://stackoverflow.com/users/2933946/xander"}, "is_accepted": true, "score": 1, "last_activity_date": 1581184751, "last_edit_date": 1581184751, "creation_date": 1574909355, "answer_id": 59081071, "question_id": 59079482, "link": "https://stackoverflow.com/questions/59079482/how-to-pass-a-class-constructor-as-parameter-in-c/59081071#59081071", "title": "How to pass a class constructor as parameter in C#", "body": "<p>I think a factory method would serve you well here.</p>\n\n<p>Mark your base test fixture as abstract and define a protected abstract method with the same signature as the service constructors. Then, call that method in your base fixture's setup logic.</p>\n\n<p>You will have to implement the abstract method for each derived test class, but I think it's a reasonable compromise.</p>\n\n<p>Note that I also removed the interface from the test class. Based on the sample code you provided, it's entirely redundant with the now-abstract base class. Of course, it might be useful for some reason not apparent from your example--if so, you can keep it.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class BaseServiceUnitTest&lt;TEntity&gt; where TEntity : BaseEntity\n{\n    private IBaseService&lt;TEntity&gt; _service;\n\n    public BaseServiceUnitTest(Constructor ctor)\n    {\n        _service = Create(/* your mocked dependencies here */);\n    }\n\n    protected abstract IBaseServce&lt;TEntity&gt; Create(Dependency1 d1, Dependency2 d2);\n\n    //...implemented methods from IBaseServiceUnitTest\n}\n\npublic class CustomEntityServiceUnitTest : BaseServiceUnitTest&lt;CustomEntity&gt;\n{\n    // \"arg1, arg2\"\n    protected override IBaseService&lt;CustomEntity&gt; Create(Dependency1 d1, Dependency2 d2) =&gt;\n        new BaseService&lt;CustomerEntity&gt;(d1, d2);\n}\n</code></pre>\n\n<hr>\n\n<h2>Addendum</h2>\n\n<p>If you really want to make things automagic, you could try the answer to <a href=\"https://stackoverflow.com/questions/731452/create-instance-of-generic-type\">this question</a>. It'll work, but you'll sacrifice \"F12-ability\" (the ability to find and navigate through references using Visual Studio's shortcuts)  and compile-time verification of your constructors and their arguments. Personally, I'd probably use the factory method.</p>\n\n<hr>\n\n<h2>Addendum #2</h2>\n\n<p>For completeness, it's also worth noting that if your service-under-test had no constructor arguments, you might also be able to use the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/new-constraint\" rel=\"nofollow noreferrer\"><code>new</code> constraint</a>. Based on your comments, it doesn't sound like it will work in this case, but it might be useful another time.</p>\n"}], "owner": {"reputation": 447, "user_id": 11697371, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MinAbuS7WFQ/AAAAAAAAAAI/AAAAAAAAACk/iyD9jlETn6Q/photo.jpg?sz=128", "display_name": "Felipe Endlich", "link": "https://stackoverflow.com/users/11697371/felipe-endlich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1200, "favorite_count": 0, "accepted_answer_id": 59081071, "answer_count": 1, "score": -1, "last_activity_date": 1581184751, "creation_date": 1574895181, "question_id": 59079482, "link": "https://stackoverflow.com/questions/59079482/how-to-pass-a-class-constructor-as-parameter-in-c", "title": "How to pass a class constructor as parameter in C#", "body": "<p>I want to create generic Unit Test classes for Services. My base class is as generic as possible and I wanna pass the Service constructor as a parameter to my base class from the derived class, but I don't no how to do it in C#.</p>\n\n<pre><code>public interface IBaseServiceUnitTest&lt;TEntity&gt; where TEntity : BaseEntity\n{\n    //...some methods\n}\n\npublic class BaseServiceUnitTest&lt;TEntity&gt; : IBaseServiceUnitTest&lt;TEntity&gt; where TEntity : BaseEntity\n{\n    private IBaseService&lt;TEntity&gt; _service;\n\n    public BaseServiceUnitTest(Constructor ctor)\n    {\n        _service = ctor();\n    }\n\n    //...implemented methods from IBaseServiceUnitTest\n}\n\npublic class CustomEntityServiceUnitTest : BaseServiceUnitTest&lt;CustomEntity&gt;\n{\n    public CustomEntityServiceUnitTest() \n        : base(Constructor ctor)\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "intellisense"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1574895901, "post_id": 59079451, "comment_id": 104396236, "body": "<a href=\"https://docs.microsoft.com/en-us/visualstudio/extensibility/inside-the-editor?view=vs-2015#intellisense\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/extensibility/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12448622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa841077c7aefce3c8b5f9fddf63ff2b?s=128&d=identicon&r=PG&f=1", "display_name": "lpan25", "link": "https://stackoverflow.com/users/12448622/lpan25"}, "edited": false, "score": 0, "creation_date": 1575053896, "post_id": 59084017, "comment_id": 104450997, "body": "Thanks! I didn&#39;t know the .NET framework used XML too. I think I will stick to using XML tags then just to be consistent with the framework and what my team seems to use."}], "tags": [], "owner": {"reputation": 3691, "user_id": 217666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7s5PJ.png?s=128&g=1", "display_name": "Peter Macej", "link": "https://stackoverflow.com/users/217666/peter-macej"}, "is_accepted": true, "score": 0, "last_activity_date": 1574927496, "creation_date": 1574927496, "answer_id": 59084017, "question_id": 59079451, "link": "https://stackoverflow.com/questions/59079451/c-visual-studio-intellisense-without-xml-tags/59084017#59084017", "title": "C# Visual Studio Intellisense without XML tags", "body": "<p>This cannot be done directly in VS, as already mentioned, you need an extension for such functionality. But I'm not aware of any.</p>\n\n<p>On the other hand, even the .NET framework itself uses XML comments. What you mentioned for <code>Thread.Sleep(millisecondsTimeout)</code> was just what VS presented to you from metadata when you press F12 on the method call. In fact, this method has the following XML comment:</p>\n\n<pre><code>&lt;summary&gt;\nSuspends the current thread for the specified number of milliseconds.\n&lt;/summary&gt;\n&lt;param name=\"millisecondsTimeout\"&gt;\nThe number of milliseconds for which the thread is suspended. If the value of the &lt;paramref name=\"millisecondsTimeout\" /&gt; argument is zero, \nthe thread relinquishes the remainder of its time slice to any thread of equal priority that is ready to run. \nIf there are no other threads of equal priority that are ready to run, execution of the current thread is not suspended.\n&lt;/param&gt;\n&lt;exception cref=\"T:System.ArgumentOutOfRangeException\"&gt;\nThe time-out value is negative and is not equal to &lt;see cref=\"F:System.Threading.Timeout.Infinite\" /&gt;.\n&lt;/exception&gt;\n</code></pre>\n\n<p>Visual Studio and Intellisense take it from the XML file that you can find in a location like C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework.NETFramework\\v4.X\\mscorlib.xml.</p>\n"}], "owner": {"reputation": 13, "user_id": 12448622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa841077c7aefce3c8b5f9fddf63ff2b?s=128&d=identicon&r=PG&f=1", "display_name": "lpan25", "link": "https://stackoverflow.com/users/12448622/lpan25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 59084017, "answer_count": 1, "score": 0, "last_activity_date": 1574927496, "creation_date": 1574894928, "question_id": 59079451, "link": "https://stackoverflow.com/questions/59079451/c-visual-studio-intellisense-without-xml-tags", "title": "C# Visual Studio Intellisense without XML tags", "body": "<p>Is there a way to get Visual Studio 2019 (Enterprise) to recognise non-XML docstrings for Intellisense so that when you mouse over it, it will display the summary, parameters, etc.? Specifically, in the same vein that docstring is formatted in the C# SDKs.</p>\n\n<p>For example, for <code>Thread.Sleep(millisecondsTimeout)</code> it has the following docstring:</p>\n\n<pre><code>    //\n    // Summary:\n    //     Suspends the current thread for the specified number of milliseconds.\n    //\n    // Parameters:\n    //   millisecondsTimeout:\n    //     The number of milliseconds for which the thread is suspended. If the value of\n    //     the millisecondsTimeout argument is zero, the thread relinquishes the remainder\n    //     of its time slice to any thread of equal priority that is ready to run. If there\n    //     are no other threads of equal priority that are ready to run, execution of the\n    //     current thread is not suspended.\n    //\n    // Exceptions:\n    //   T:System.ArgumentOutOfRangeException:\n    //     The time-out value is negative and is not equal to System.Threading.Timeout.Infinite.\n</code></pre>\n\n<p>This is what appears: <a href=\"https://i.stack.imgur.com/0BLG1.png\" rel=\"nofollow noreferrer\">Intellisense tooltip</a></p>\n\n<p>I find the idea of the XML tags (<code>&lt;param&gt;millisecondsTimeout&lt;/param&gt;</code>) harms readability whilst looking at code and was wondering if there was a way to make it more similar to Java's JavaDoc, which isn't as difficult to read through. </p>\n"}, {"tags": ["c#", "entity-framework", "lambda", "entity-framework-core"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1574900634, "post_id": 59079450, "comment_id": 104397284, "body": "Write out what the expression would have looked like if done manually and use that as your template to build the expression dynamically."}], "answers": [{"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 1, "last_activity_date": 1574907676, "creation_date": 1574907676, "answer_id": 59080900, "question_id": 59079450, "link": "https://stackoverflow.com/questions/59079450/write-a-lambdaexpression-that-is-reevaluated-between-dbcontext-recreations/59080900#59080900", "title": "Write a LambdaExpression that is reevaluated between DbContext recreations?", "body": "<p>In order to be reevaluated, the filter expression must access property/field/method of the db context derived class.</p>\n\n<p>Assuming the code in question is located inside your db context derived class, i.e. <code>OrganizationId</code> is a property of that class, the problem is that</p>\n\n<pre><code>Expression.Constant(OrganizationId)\n</code></pre>\n\n<p>evaluates it at the time you build the filter and binds a <em>constant</em> value into filter expression.</p>\n\n<p>Instead, you should bind <code>OrganizationId</code> property accessor expression (i.e. <code>Expression.Property</code>) like this:</p>\n\n<pre><code>// this.OrganizationId\nExpression.Property(Expression.Constant(this), nameof(OrganizationId)) \n</code></pre>\n"}], "owner": {"reputation": 3026, "user_id": 2228526, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ea52ba604d39a8304f23d7943b945b7c?s=128&d=identicon&r=PG", "display_name": "JD Davis", "link": "https://stackoverflow.com/users/2228526/jd-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574907676, "creation_date": 1574894905, "question_id": 59079450, "link": "https://stackoverflow.com/questions/59079450/write-a-lambdaexpression-that-is-reevaluated-between-dbcontext-recreations", "title": "Write a LambdaExpression that is reevaluated between DbContext recreations?", "body": "<p>I'm attempting to use the <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/filters\" rel=\"nofollow noreferrer\">Global Query Filters</a> in EF Core 3.0. Overall, they're working fairly well, but with one minor hiccup. I've been attempting to set up multitenancy in a manner similar to the guide <a href=\"https://stackify.com/writing-multitenant-asp-net-core-applications/\" rel=\"nofollow noreferrer\">here</a>. My use-case is a bit different as the tenant is derived from a query string parameter (or header), and it's subject to change between requests. </p>\n\n<p>If I define an interface <code>IOrganizationEntity</code> with a member called <code>Organization</code>. I'm able to define the global query filters using the statement <code>entity.HasQueryFilter&lt;IOrganizationEntity&gt;(o =&gt; o.Organization == OrganizationId)</code>, and this works as expected. However, I'm trying to avoid placing an <code>Organization</code> property on my entity POCO, and instead I'm trying to use something similar to:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private Guid OrganizationId =&gt; HasOrganization ? _organizationService.GetCurrentOrganizationId() : Guid.Empty;\n\nprivate void ConfigureOrganizationFilter(ModelBuilder modelBuilder)\n{\n    foreach (var entity in modelBuilder.Model.GetEntityTypes().Where(x =&gt;\n        typeof(IOrganizationEntity).IsAssignableFrom(x.ClrType)))\n    {\n        entity.AddProperty(nameof(Organization), typeof(Guid));\n        // Note, AddQueryFilter is an extension method that allows us to add multiple\n        // query filters to a single type of entity.\n        entity.AddQueryFilter(IsOrganizationRestricted(entity.ClrType));\n    }\n}\n\nprivate LambdaExpression IsOrganizationRestricted(Type type)\n{\n    var propertyMethod = typeof(EF).GetMethod(nameof(EF.Property),\n        BindingFlags.Static |\n        BindingFlags.Public)?.MakeGenericMethod(typeof(Guid));\n\n    if (propertyMethod == null)\n        throw new ArgumentException(\"Object does not appear to be valid for operation.\");\n\n    var param = Expression.Parameter(type, \"it\");\n    var prop = Expression.Call(propertyMethod, param, Expression.Constant(nameof(Organization)));\n    var condition = Expression.MakeBinary(ExpressionType.Equal, prop, Expression.Constant(OrganizationId));\n    var lambda = Expression.Lambda(condition, param);\n\n    return lambda;\n}\n\n</code></pre>\n\n<p>However, when I use the above code, the filtering works as intended on the first run, but it fails on subsequent runs where the <code>OrganizationId</code> has changed. I'm fairly new to writing <code>Expression</code> functions explicitly, so I'm not sure what needs to happen to force a reevaluation of the OrganizationId</p>\n"}, {"tags": ["c#", "windows", "xamarin", "namespaces", "cross-platform"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1574894696, "post_id": 59079394, "comment_id": 104395930, "body": "Generally speaking, no.  If it is a .NET standard library or built specifically to run on Xamarin, then yes."}, {"owner": {"reputation": 125, "user_id": 5841944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5223987e52532ef7fa2c5916da6a0a6?s=128&d=identicon&r=PG&f=1", "display_name": "zawhtut", "link": "https://stackoverflow.com/users/5841944/zawhtut"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1574895322, "post_id": 59079394, "comment_id": 104396104, "body": "I see. So I may use Windows namespaces only in UWP apps?"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1574895521, "post_id": 59079394, "comment_id": 104396148, "body": "Yes.  You can use DependencyService to inject platform specific behavior into your common code."}], "answers": [{"tags": [], "owner": {"reputation": 10468, "user_id": 1561937, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YGsbo.jpg?s=128&g=1", "display_name": "Alexey Strakh", "link": "https://stackoverflow.com/users/1561937/alexey-strakh"}, "is_accepted": false, "score": 1, "last_activity_date": 1574895946, "creation_date": 1574895946, "answer_id": 59079604, "question_id": 59079394, "link": "https://stackoverflow.com/questions/59079394/how-do-i-use-windows-namespaces-in-xamarin-ios-and-android-app/59079604#59079604", "title": "How do I use Windows namespaces in Xamarin (iOS and Android) app?", "body": "<p>You can use these Windows-specific namespaces in your shared project but only with conditional <code>#if WINDOWS_UWP</code> compilation directives. More reading on how to do that is <a href=\"https://docs.microsoft.com/en-us/xamarin/cross-platform/app-fundamentals/building-cross-platform-applications/platform-divergence-abstraction-divergent-implementation#universal-windows-platform-uwp\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Even though you can write this code in your shared project, it will be compiled only when you build it with a UWP target project. When you try to build your project for iOS or Android, these lines will be omitted and you won't be able to use windows specific API in your target project. </p>\n\n<p>In order to provide MachineLearning capabilities in your iOS and Android app, you want to implement platform-specific service supporting these capabilities, <a href=\"https://www.tensorflow.org/lite/guide/android\" rel=\"nofollow noreferrer\">Tensorflow for Android</a> and <a href=\"https://developer.apple.com/machine-learning/\" rel=\"nofollow noreferrer\">Core ML for iOS</a>.</p>\n"}], "owner": {"reputation": 125, "user_id": 5841944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5223987e52532ef7fa2c5916da6a0a6?s=128&d=identicon&r=PG&f=1", "display_name": "zawhtut", "link": "https://stackoverflow.com/users/5841944/zawhtut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1574895946, "creation_date": 1574894454, "question_id": 59079394, "link": "https://stackoverflow.com/questions/59079394/how-do-i-use-windows-namespaces-in-xamarin-ios-and-android-app", "title": "How do I use Windows namespaces in Xamarin (iOS and Android) app?", "body": "<p>I understand there are Windows specific APIs. But is there any guide or tutorial to build an app that needs to use some Windows API? And also how can I port some <a href=\"https://github.com/microsoft/Windows-universal-samples\" rel=\"nofollow noreferrer\" title=\"https://github.com/microsoft/Windows-universal-samples\">UWP apps</a>, to Xamarin (iOS and Android)?</p>\n\n<p>For example, can I just simply use namespaces/libraries in Xamarin's shared code project without having UWP project?</p>\n\n<pre><code>using Windows.AI.MachineLearning;\nusing Windows.Devices;\n</code></pre>\n\n<p>My intention is to build an Andoid or iOS app that can interact with Windows OS via device-protocol agnostic connection.</p>\n"}, {"tags": ["c#", "c", "winforms-interop"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1574894329, "post_id": 59079363, "comment_id": 104395843, "body": "<i>Use the struct definition from the dll</i> from native dll? there is no struct definition there ..."}, {"owner": {"reputation": 1, "user_id": 12448558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95f089c98d80ac31fc9487dc0dc49cf8?s=128&d=identicon&r=PG&f=1", "display_name": "tenfoldpaper", "link": "https://stackoverflow.com/users/12448558/tenfoldpaper"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1574895482, "post_id": 59079363, "comment_id": 104396136, "body": "I meant the structs that are shown in the .h files, like classifier_Parameter_t"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1574895854, "post_id": 59079363, "comment_id": 104396223, "body": "then 1. translate native structures to C# 2. translate native funtions to delegates 3. use <code>LoadLibrary</code>, <code>GetProcAddress</code>, <code>FreeLibrary</code> from winapi 4. use <code>Marshal.GetDelegateForFunctionPointer&lt;&gt;</code> to get delegate from function pointer"}], "answers": [{"comments": [{"owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1574897245, "post_id": 59079665, "comment_id": 104396552, "body": "@Selvin thanks for the tips on LoadLibrary, GetProcAddress, and FreeLibrary"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1574897250, "post_id": 59079665, "comment_id": 104396554, "body": "in fact it should work with <a href=\"https://stackoverflow.com/questions/53198213/calling-c-function-with-lpstr-return-value-from-c-sharp/53201035#53201035\"><code>string passwd</code>, <code>string salt</code> and <code>StringBuilder buf</code></a>"}, {"owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1574897465, "post_id": 59079665, "comment_id": 104396604, "body": "@Selvin - Yes there are usually a few ways of representing it - whatever will be the most elegant for you."}, {"owner": {"reputation": 1, "user_id": 12448558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95f089c98d80ac31fc9487dc0dc49cf8?s=128&d=identicon&r=PG&f=1", "display_name": "tenfoldpaper", "link": "https://stackoverflow.com/users/12448558/tenfoldpaper"}, "edited": false, "score": 0, "creation_date": 1574954936, "post_id": 59079665, "comment_id": 104418474, "body": "Thanks for the info about the other libraries. I will have a look into it. But the problem is precisely that I am supposed to assume that I do not know how many DLLs there actually will be, and how they will be structured. It seems to be rather tricky to achieve with C-based DLLs, so I may have to propose a change to this project..."}, {"owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "edited": false, "score": 0, "creation_date": 1575055268, "post_id": 59079665, "comment_id": 104451386, "body": "Please vote  if this was a proper response for your problem :)"}], "tags": [], "owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "is_accepted": false, "score": 0, "last_activity_date": 1574897399, "last_edit_date": 1574897399, "creation_date": 1574896430, "answer_id": 59079665, "question_id": 59079363, "link": "https://stackoverflow.com/questions/59079363/dynamically-calling-different-c-dlls-in-c/59079665#59079665", "title": "Dynamically calling different C DLLs in C#", "body": "<p>In answer to your first question, I am not aware of any way to obtain the struct definition straight off of a dll. (Try LoadLibrary, GetProcAddres)  with the possible exception of one built for debugging.\nIf you know the structure you will use in C then it should be pretty straight forward\nto define the structure for use in C# - there are plenty of examples in sites like pinvoke.net.</p>\n\n<p>For instance this function declaration in C:</p>\n\n<pre><code>__declspec(dllexport) int scrypt(const uint8_t * passwd, size_t passwdlen, \n       const uint8_t * salt, size_t saltlen, uint64_t N, uint32_t r, \n       uint32_t p,uint8_t * buf, size_t buflen);\n</code></pre>\n\n<p>can be transformed into:</p>\n\n<pre><code>[DllImport(\"SCrypt.dll\", CharSet = CharSet.Unicode, \n    CallingConvention = CallingConvention.Cdecl, SetLastError = true)]\npublic static extern int scrypt(byte[] passwd, uint passwdlen, byte[] salt, uint saltlen,\n    ulong N, uint r, uint p, byte[] buf, uint buflen);\n</code></pre>\n\n<p>Secondly, you can try copying in your program a dll to a known location (executing directory for instance) before using it.  Compiling the code with the dlls in place \nwill then work.  This technique is of course assuming you know the dlls you are going\nto reference beforehand.</p>\n"}], "owner": {"reputation": 1, "user_id": 12448558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95f089c98d80ac31fc9487dc0dc49cf8?s=128&d=identicon&r=PG&f=1", "display_name": "tenfoldpaper", "link": "https://stackoverflow.com/users/12448558/tenfoldpaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1574897399, "creation_date": 1574894217, "question_id": 59079363, "link": "https://stackoverflow.com/questions/59079363/dynamically-calling-different-c-dlls-in-c", "title": "Dynamically calling different C DLLs in C#", "body": "<p>I'm currently creating a Windows Form application in C#, where different .dll files written in C with their own structs and functions need to be called in the application at runtime through a file dialog to obtain their path. To my understanding, this means that I cannot use <code>[DllImport(\"filename\")]</code>, since the path values are not determined at compile time. I'm at least given the .h files, and also a guarantee that the exported functions will have the same name. </p>\n\n<p>I've scoured through a lot of different posts online, and most of the solutions pointed eventually towards PInvoke, Reflection and/or the InteropServices, but with no clear examples on what to do.</p>\n\n<p>Since each such dll defines their own structs, I'd like to be able to:\n1. Use the struct definition from the dll itself to avoid redefining everything in C#,\n2. Use the functions at different points in the application after loading the dll.</p>\n\n<p>Admittedly, I am very new at C#, so what I am trying to do above might not even be possible. But I'm at a loss right now, as I cannot find where to even begin start learning in order to address this problem. Any help would be greatly appreciated.</p>\n\n<p>Here's the code for reference:</p>\n\n<p>One of the dlls' header files classifier.h:</p>\n\n<pre><code>#ifndef SRC_CLASSIFIER_H_\n#define SRC_CLASSIFIER_H_\n\n#include \"vector.h\"\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\n#ifdef BUILD_DYNAMIC_LIB\n#ifdef _WIN32\n#define _EXPORT __declspec(dllexport)\n#else\n#define _EXPORT __attribute__((visibility(\"default\")))\n#endif\n#else\n#define _EXPORT\n#endif\n\n/** Error codes */\n#define CLASSIFIER_OK 0x00\n#define CLASSIFIER_INIT_MISSING 0x01\n#define CLASIFIER_NO_SAMPLES_PROVIDED 0x02\n#define CLASSIFIER_PARAM_OUT_OF_RANGE 0x03\n#define CLASSIFIER_DECISION_BUFFER_LEN 20\n#define CLASSIFIER_MAX_BURST_LEN 32\n\ntypedef struct {\n    uint8_t sensitivity;\n    uint8_t noTruckRecognitionLimit;\n    uint8_t noTruckRecognitionHyst;\n    uint16_t intensityLimit[CLASSIFIER_MAX_BURST_LEN];\n} classifier_Parameter_t;\n\ntypedef enum { UNDEFINED = 0x00, TRUCK = 0x01, NO_TRUCK = 0x02 } class_t;\n\ntypedef struct {\n     class_t classifiedAs;\n} classifier_Result_t;\n\ntypedef struct {\n    uint8_t noOfSamples;\n    vec3d_t accSamples[CLASSIFIER_MAX_BURST_LEN];\n} classifier_Input_t;\n\n_EXPORT uint8_t classifier_api_Init(classifier_Parameter_t *para);\n\n_EXPORT uint8_t classifier_api_Execute(classifier_Input_t *input,\n                                       classifier_Result_t *result);\n\n_EXPORT uint8_t classifier_api_Reset(void);\n\n#ifdef __cplusplus\n}\n#endif\n\n#endif /* SRC_CLASSIFIER_H_ */\n</code></pre>\n\n<p>And the C# file MainForm.cs:</p>\n\n<pre><code>using System;\n...\n\nnamespace ClassifierEval\n{\n\npublic partial class MainForm : Form\n    {\n\n        public MainForm()\n        {\n            InitializeComponent();\n        }\n\n\n        private void btnLoadDll_Click(object sender, EventArgs e)\n        {\n            openFileDialogLoadDll.ShowDialog();\n\n        }\n\n        private void openFileDialogLoadDll_FileOk(object sender, CancelEventArgs e)\n        {\n            lblLoadedDll.Text = openFileDialogLoadDll.FileName;\n            ///Loading the DLL here?\n        }\n...\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", ".net-core"], "answers": [{"tags": [], "owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "is_accepted": true, "score": 0, "last_activity_date": 1576007450, "creation_date": 1576007450, "answer_id": 59274391, "question_id": 59079154, "link": "https://stackoverflow.com/questions/59079154/net-core-3-how-to-map-network-share-in-unix-based-oss/59274391#59274391", "title": ".Net Core 3 -&gt; How to map network share in Unix based OS&#39;s?", "body": "<p>There is no direct way to do so. You have to start a new process running <code>mount_smbfs</code> like:</p>\n\n<pre><code>var command = $\"mount_smbfs //{username}:{password}@{uriPath.Host + uriPath.PathAndQuery} {myLocalFolder}\";\nvar process = new ProcessStartInfo(\"/bin/bash\", $\"-c \\\"{command}\\\"\");\nprocess.RedirectStandardError = true;\nprocess.RedirectStandardOutput = true;\nprocess.CreateNoWindow = true;\nreturn process;\n</code></pre>\n\n<p>It's important to notice that <code>myLocalFolder</code> must already exists AND not be already mounted, otherwise it will fail.</p>\n"}], "owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 59274391, "answer_count": 1, "score": 0, "last_activity_date": 1576007450, "creation_date": 1574892841, "question_id": 59079154, "link": "https://stackoverflow.com/questions/59079154/net-core-3-how-to-map-network-share-in-unix-based-oss", "title": ".Net Core 3 -&gt; How to map network share in Unix based OS&#39;s?", "body": "<p>This is a fallback from <a href=\"https://stackoverflow.com/questions/58977436/net-core-3-on-mac-os-mojave-why-is-system-io-prepending-provided-path-with\">this question here</a>.</p>\n\n<p>At least for Mac OSX, you have to map the network in advance, and not only try reading from \"\\\\myNetworkShare\" which works on windows.</p>\n\n<p>Now the question is: having a network path and a set of credentials, how can you programmatically map a network share using .Net Core 3, specifically for Unix based OS's?</p>\n"}, {"tags": ["c#", "selenium-webdriver", "appium", "winappdriver"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1574892673, "post_id": 59079044, "comment_id": 104395311, "body": "Where  is the problem? Don&#39;t you know how to do loop or what?"}, {"owner": {"reputation": 382, "user_id": 9346708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc3f2935db4ed666074709d9d46afe8?s=128&d=identicon&r=PG&f=1", "display_name": "Cedric", "link": "https://stackoverflow.com/users/9346708/cedric"}, "edited": false, "score": 0, "creation_date": 1574893527, "post_id": 59079044, "comment_id": 104395584, "body": "Hi, you might consider rechecking your tags again. I think Java in this case might not really be so helpful if you use appium the people on StackOverflow I think know enough ;)"}, {"owner": {"reputation": 1, "user_id": 12440457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62932f12a992f8c2af9c8c2758031329?s=128&d=identicon&r=PG&f=1", "display_name": "floatvalve", "link": "https://stackoverflow.com/users/12440457/floatvalve"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1574893697, "post_id": 59079044, "comment_id": 104395643, "body": "@Selvin I am using C# not Javascript."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12440457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62932f12a992f8c2af9c8c2758031329?s=128&d=identicon&r=PG&f=1", "display_name": "floatvalve", "link": "https://stackoverflow.com/users/12440457/floatvalve"}, "is_accepted": true, "score": 0, "last_activity_date": 1574897097, "creation_date": 1574897097, "answer_id": 59079766, "question_id": 59079044, "link": "https://stackoverflow.com/questions/59079044/appium-how-to-write-for-loop-to-click-through-buttons-with-index/59079766#59079766", "title": "Appium: How to write for-loop to click through buttons with index?", "body": "<p>I figured it out. I should have put the WindowsElement line in side the for loop. Probably not the most optimal solution, but it does what I want it to. Thanks everyone. Also thanks @Selvin for the roast.</p>\n\n<pre><code>for(int i=15; i&lt;=30; i++)\n        {\n            WindowsElement buttons = FBsession.FindElementsByXPath(\"//Pane/Button\")[i];\n            buttons.Click();\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12440457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62932f12a992f8c2af9c8c2758031329?s=128&d=identicon&r=PG&f=1", "display_name": "floatvalve", "link": "https://stackoverflow.com/users/12440457/floatvalve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "closed_date": 1574911817, "accepted_answer_id": 59079766, "answer_count": 1, "score": -1, "last_activity_date": 1574897097, "creation_date": 1574892190, "last_edit_date": 1574893614, "question_id": 59079044, "link": "https://stackoverflow.com/questions/59079044/appium-how-to-write-for-loop-to-click-through-buttons-with-index", "closed_reason": "Needs details or clarity", "title": "Appium: How to write for-loop to click through buttons with index?", "body": "<p>I am using C# and Appium to automate a Windows 10 software for my company. On the bookmarks bar, there is a list of tabs that I want to click through. They are buttons that are indexed from 15-20. Rather than doin</p>\n\n<pre><code>driver.FindElementsByXpath(\"//Pane/Button[15]\").Click();\n\ndriver.FindElementsByXpath(\"//Pane/Button[16]\").Click();\n\ndriver.FindElementsByXpath(\"//Pane/Button[17]\").Click();\n\ndriver.FindElementsByXpath(\"//Pane/Button[18]\").Click();\n\ndriver.FindElementsByXpath(\"//Pane/Button[19]\").Click();\n</code></pre>\n\n<p>and so on, how can I write a for loop that will loop through and click <code>onbutton[15]</code> to <code>button[30]</code>? Is this even possible with Appium? Thanks!</p>\n"}, {"tags": ["c#", "constructor", "timer"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1574892037, "post_id": 59078977, "comment_id": 104395114, "body": "Can you add the error message to this question?"}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 2, "creation_date": 1574892447, "post_id": 59078977, "comment_id": 104395233, "body": "Also what kind of Timer? Don&#39;t you need the StopWatch? Timer is from the System.Threading?"}, {"owner": {"reputation": 31, "user_id": 12448401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3ff37706ef23927bd1804b09c78a3f?s=128&d=identicon&r=PG&f=1", "display_name": "nosirrahx", "link": "https://stackoverflow.com/users/12448401/nosirrahx"}, "edited": false, "score": 0, "creation_date": 1574892978, "post_id": 59078977, "comment_id": 104395410, "body": "Its a timer for how long a monster sleeps before it gains the ability to act. Once the action happens the flag for can_act goes back to false until the time elapses again.  The start/stop functionality is for if I want to pause a monster or if they die I need to be able to dispose of the timer.  I got it working though. The mistake was calling the timer a generic object instead of an actual timer in the main program, silly mistake I just didn&#39;t see."}], "answers": [{"tags": [], "owner": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1574892603, "creation_date": 1574892603, "answer_id": 59079114, "question_id": 59078977, "link": "https://stackoverflow.com/questions/59078977/c-novice-question-about-controlling-timers-created-in-a-constructor/59079114#59079114", "title": "C# novice, question about controlling timers created in a constructor", "body": "<p>An initial glance looks like you have a couple of issues.  first, is scope.  You have in your constructor a variable called M_timer which covers the class field M_timer.  You are not acting upon the same objects here.  You'd have to say something like <code>this.M_timer = M_timer.</code>  </p>\n\n<p>The second issue is that you'd have to cast the class field when you want to use it because it's a generic object. so you'd have to say something like <code>((Timer)Monsters[1].M_timer).Stop()</code></p>\n"}, {"comments": [{"owner": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "edited": false, "score": 0, "creation_date": 1574892868, "post_id": 59079128, "comment_id": 104395371, "body": "this fixes one of your issues but remember that in the constructor you are acting on a different timer.  You create 2 variables which have the same name.  Due to the way scoping works it acts upon the inner variable and ignores the outer variable with the same name.  for clarity it would be better to either a) just use the public timer that you created, or be, use different names and assign the class timer to the constructor&#39;s timer:  this.M_timer = mtimer"}, {"owner": {"reputation": 31, "user_id": 12448401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3ff37706ef23927bd1804b09c78a3f?s=128&d=identicon&r=PG&f=1", "display_name": "nosirrahx", "link": "https://stackoverflow.com/users/12448401/nosirrahx"}, "reply_to_user": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "edited": false, "score": 0, "creation_date": 1574893135, "post_id": 59079128, "comment_id": 104395456, "body": "Not too worried about the naming conventions. I am retired and doing this just for myself and for fun.  I do care though a great deal about learning how this all works and you guys have been awesome so far (I likely have read 100 threads figuring stuff out on my own)."}, {"owner": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "edited": false, "score": 0, "creation_date": 1574893448, "post_id": 59079128, "comment_id": 104395558, "body": "it&#39;s not so much a matter of naming convention, just a matter that you may get unexpected behavior since they are different objects.  if you have any additional questions feel free to ask, though"}, {"owner": {"reputation": 31, "user_id": 12448401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3ff37706ef23927bd1804b09c78a3f?s=128&d=identicon&r=PG&f=1", "display_name": "nosirrahx", "link": "https://stackoverflow.com/users/12448401/nosirrahx"}, "reply_to_user": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "edited": false, "score": 0, "creation_date": 1574893931, "post_id": 59079128, "comment_id": 104395725, "body": "I do actually. I see that there is no .Pause();  if I wanted to do the following:  X= current value of timer timer.Stop(); timer.Interval =X timer.Start();  What would the actual syntax be?"}, {"owner": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "edited": false, "score": 0, "creation_date": 1574894758, "post_id": 59079128, "comment_id": 104395955, "body": "you want to resume where it left off?"}, {"owner": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "edited": false, "score": 0, "creation_date": 1574894819, "post_id": 59079128, "comment_id": 104395973, "body": "I&#39;m not 100% sure with timer, but I know Stopwatch you can just say .Start() and .Stop() then it will resume where it left off.  It also has .Reset() and .Restart() to start back from 0"}, {"owner": {"reputation": 1203, "user_id": 1462056, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a33c6ea2b47571572aa5024c12061d24?s=128&d=identicon&r=PG", "display_name": "David Torrey", "link": "https://stackoverflow.com/users/1462056/david-torrey"}, "edited": false, "score": 0, "creation_date": 1574894848, "post_id": 59079128, "comment_id": 104395982, "body": "here&#39;s a reference: <a href=\"https://stackoverflow.com/questions/26964192/c-sharp-how-to-pause-a-timer\" title=\"c sharp how to pause a timer\">stackoverflow.com/questions/26964192/&hellip;</a>"}], "tags": [], "owner": {"reputation": 31, "user_id": 12448401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3ff37706ef23927bd1804b09c78a3f?s=128&d=identicon&r=PG&f=1", "display_name": "nosirrahx", "link": "https://stackoverflow.com/users/12448401/nosirrahx"}, "is_accepted": false, "score": 0, "last_activity_date": 1574892685, "creation_date": 1574892685, "answer_id": 59079128, "question_id": 59078977, "link": "https://stackoverflow.com/questions/59078977/c-novice-question-about-controlling-timers-created-in-a-constructor/59079128#59079128", "title": "C# novice, question about controlling timers created in a constructor", "body": "<p>Damn, I should have given this just a few more minutes:</p>\n\n<p>public object M_timer;</p>\n\n<p>replaced with</p>\n\n<p>public Timer M_timer;</p>\n"}], "owner": {"reputation": 31, "user_id": 12448401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3ff37706ef23927bd1804b09c78a3f?s=128&d=identicon&r=PG&f=1", "display_name": "nosirrahx", "link": "https://stackoverflow.com/users/12448401/nosirrahx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1574892685, "creation_date": 1574891807, "question_id": 59078977, "link": "https://stackoverflow.com/questions/59078977/c-novice-question-about-controlling-timers-created-in-a-constructor", "title": "C# novice, question about controlling timers created in a constructor", "body": "<p>I have a class that creates a timer in the constructor.</p>\n\n<p>The timer does exactly what I need it to do but I would also like to be able to use .Stop(); and .Start(); from the main program.</p>\n\n<p>There is a lot more than this but this is enough to recreate my exact problem.</p>\n\n<p>In the example below I have access to Monsters[index].M_timer but .Stop(); gives an error.</p>\n\n<pre><code>class Program\n    {\n        static void Main(string[] args)\n        {\n            int index = 0;\n            string name = \"Spider\";\n            monster[] Monsters = new monster[100];\n            Monsters[index] = Create_Monster(name);\n            /*\n            Monsters[1].M_timer.Stop(); &lt;- not how I will be using this but I need the functionality here\n            */\n        }\n        public static monster Create_Monster(string _name)\n        {\n            int timer = 0;\n            if (_name == \"Spider\")\n            {\n                timer = 4000;\n            }\n            monster build = new monster(false, timer);\n            return build;\n        }\n    }\nclass monster\n    {\n        public bool can_act;\n        public int _timer;\n        public object M_timer;\n\n        public monster(bool _can_act, int _timer)\n        {\n            can_act = _can_act;\n            Timer M_timer = new Timer();\n            M_timer.Interval = _timer;\n            M_timer.AutoReset = true;\n            M_timer.Enabled = true;\n            M_timer.Elapsed += TimerEvent;\n        }\n        public void TimerEvent(object source, ElapsedEventArgs e)\n        {\n            can_act = true;\n        }\n    }\n\n</code></pre>\n"}, {"tags": ["c#", "linq", "ef-core-3.0"], "comments": [{"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574891613, "post_id": 59078924, "comment_id": 104394983, "body": "Can you provide the exact error, and possibly some of the relevant stack trace?"}, {"owner": {"reputation": 137, "user_id": 2634818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bf3b36833976b501e30e9c9917242d0c?s=128&d=identicon&r=PG&f=1", "display_name": "oli_taz", "link": "https://stackoverflow.com/users/2634818/oli-taz"}, "reply_to_user": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574891747, "post_id": 59078924, "comment_id": 104395023, "body": "Added above, thanks :)"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 2, "creation_date": 1574891905, "post_id": 59078924, "comment_id": 104395070, "body": "how you think <code>emailAlert.RecipientGroups</code> would be translated to SQL when <code>emailAlert</code> is client side variable?"}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 1, "creation_date": 1574891930, "post_id": 59078924, "comment_id": 104395077, "body": "You pass an initialized object which LINQ cannot translate to a query.  Your problem is the emailAlert."}, {"owner": {"reputation": 137, "user_id": 2634818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bf3b36833976b501e30e9c9917242d0c?s=128&d=identicon&r=PG&f=1", "display_name": "oli_taz", "link": "https://stackoverflow.com/users/2634818/oli-taz"}, "edited": false, "score": 0, "creation_date": 1574892647, "post_id": 59078924, "comment_id": 104395304, "body": "That fixed it, thanks guys! Is there any rules or a guide I can follow that make it easier to spot these mistakes?"}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 1, "creation_date": 1574892865, "post_id": 59078924, "comment_id": 104395369, "body": "@oli_taz honestly no. You have to think in a db kind of way. Think what LINQ cannot translate, usually it makes sense, and of course runtime errors :). Of course you can make your query work like you have it above. If you added a ToList() before which sends the query then all are objects so you can do whatever you want basically and are in memory of course."}], "owner": {"reputation": 137, "user_id": 2634818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bf3b36833976b501e30e9c9917242d0c?s=128&d=identicon&r=PG&f=1", "display_name": "oli_taz", "link": "https://stackoverflow.com/users/2634818/oli-taz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1080, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574892692, "creation_date": 1574891462, "last_edit_date": 1574892692, "question_id": 59078924, "link": "https://stackoverflow.com/questions/59078924/ef-core-3-0-linq-could-not-be-translated-for-sub-collection", "title": "EF Core 3.0 Linq could not be translated for sub-collection", "body": "<p>I am aware of the breaking changes from EF Core 2.2 to EF Core 3.0, but the following query doesn't seem complex to me as it is a simple join in SQL. </p>\n\n<p>I have a list of recipients I need to send an email to. These recipients are grouped and I can add a list of groups to an email alert.</p>\n\n<p>What is wrong with this query?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var emailAlert = new EmailAlert();\n\nvar emailRecipientMailboxes = _emailRecipientRepository\n  .Where(x =&gt; x.GroupedRecipients.Any(erg =&gt; emailAlert.RecipientGroups\n  .Any(aerg =&gt; aerg.RecipientGroupId == erg.RecipientGroupId)))\n  .ToList() // Added so EFCore translates this on the client\n  .Select(x =&gt; new MailboxAddress(x.FullName, x.Email))\n  .ToList();\n</code></pre>\n\n<p>Here is the stack trace:</p>\n\n<pre><code>System.InvalidOperationException: The LINQ expression 'DbSet&lt;GroupedRecipient&gt;\n    .Where(g =&gt; EF.Property&lt;Nullable&lt;Guid&gt;&gt;((EntityShaperExpression: \n        EntityType: Recipient\n        ValueBufferExpression: \n            (ProjectionBindingExpression: EmptyProjectionMember)\n        IsNullable: False\n    ), \"Id\") != null &amp;&amp; EF.Property&lt;Nullable&lt;Guid&gt;&gt;((EntityShaperExpression: \n        EntityType: Recipient\n        ValueBufferExpression: \n            (ProjectionBindingExpression: EmptyProjectionMember)\n        IsNullable: False\n    ), \"Id\") == EF.Property&lt;Nullable&lt;Guid&gt;&gt;(g, \"RecipientId\"))\n    .Any(g =&gt; __alert_RecipientGroups_0\n        .Any(aerg =&gt; aerg.RecipientGroupId == g.RecipientGroupId))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to either AsEnumerable(), AsAsyncEnumerable(), ToList(), or ToListAsync(). See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\n</code></pre>\n\n<p>On a side note, is there anywhere I can find out how to translate queries in to ones that will work for EFCore 3.0? Maybe some kind of guide that outlines what types of queries don't work and an example of how to fix them?</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "answers": [{"tags": [], "owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "is_accepted": false, "score": -1, "last_activity_date": 1574892384, "creation_date": 1574892384, "answer_id": 59079087, "question_id": 59078903, "link": "https://stackoverflow.com/questions/59078903/how-can-i-download-file-in-my-folder-c-asp-net-web-api/59079087#59079087", "title": "How can I download file in my folder c# ASP.NET Web API?", "body": "<p>The below is for MVC:</p>\n\n<pre><code>  public ActionResult DownloadFile(string fileWithFullPath)\n    {                \n        var fileBytes = System.IO.File.ReadAllBytes(fileWithFullPath);    \n        return File(fileBytes, MediaTypeNames.Application.Octet, fileName);\n    }\n</code></pre>\n\n<p>The below is for API:</p>\n\n<pre><code>public ActionResult DownloadFile()\n{\n            var result = new HttpResponseMessage(HttpStatusCode.OK);\n            var stream = new FileStream(fullyQualifiedFileName, FileMode.Open);\n            result.Content = new StreamContent(stream);\n            result.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/pdf\");\n            result.Content.Headers.ContentLength = stream.Length;\n\n            string input = $\"filename=test.pdf\";\n            ContentDispositionHeaderValue contentDisposition = null;\n            if (ContentDispositionHeaderValue.TryParse(input, out contentDisposition))\n            {\n                result.Content.Headers.ContentDisposition = contentDisposition;\n            }\n\n            return this.ResponseMessage(result);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 12413513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4hbyvx7lmrs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reP0tvTptYCtEcllKiEBY1g59uLXw/photo.jpg?sz=128", "display_name": "Matt Falkowski", "link": "https://stackoverflow.com/users/12413513/matt-falkowski"}, "is_accepted": false, "score": -1, "last_activity_date": 1574892539, "creation_date": 1574892539, "answer_id": 59079106, "question_id": 59078903, "link": "https://stackoverflow.com/questions/59078903/how-can-i-download-file-in-my-folder-c-asp-net-web-api/59079106#59079106", "title": "How can I download file in my folder c# ASP.NET Web API?", "body": "<p>Based on what you are showing here, the parameter DosyaAdi is a string and it is not clear what DownloadInput is.  I would suggest changing the input parameter to a string and also changing the Method to HttpGet.  The second suggestion is for convention and probably not the issue.</p>\n\n<pre><code>// GET: api/Calendar/DownloadFile\n[HttpGet]\npublic HttpResponseMessage DownloadFile(string DosyaAdi)...\n</code></pre>\n\n<p>good luck</p>\n"}], "owner": {"reputation": 21, "user_id": 12448457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71cd39f09a149bff15bf60cde26fd18?s=128&d=identicon&r=PG&f=1", "display_name": "Yilmaz Furkan", "link": "https://stackoverflow.com/users/12448457/yilmaz-furkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1623, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1574892539, "creation_date": 1574891300, "last_edit_date": 1574892215, "question_id": 59078903, "link": "https://stackoverflow.com/questions/59078903/how-can-i-download-file-in-my-folder-c-asp-net-web-api", "title": "How can I download file in my folder c# ASP.NET Web API?", "body": "<p>I need a download file in my <code>C:\\fileName</code>.</p>\n\n<p>I am send to fileName this class but it does not working ?  Where is my error?</p>\n\n<p>This is my code:</p>\n\n<pre><code>// POST: api/Calendar/DownloadFile\n[HttpPost]\npublic HttpResponseMessage DownloadFile(DownloadInput fileName)\n{\n        var result = new HttpResponseMessage(HttpStatusCode.OK);\n        var filePath = HttpContext.Current.Server.MapPath(@\"C:\\\" + fileName);\n        var fileBytes = File.ReadAllBytes(filePath);\n        var fileMemStream = new MemoryStream(fileBytes);\n        result.Content = new StreamContent(fileMemStream);\n        var headers = result.Content.Headers;\n        headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\");\n        headers.ContentDisposition.FileName = fileName;\n        headers.ContentType = new MediaTypeHeaderValue(\"application/octet-stream\");\n        headers.ContentLength = fileMemStream.Length;\n\n        return result;\n}\n</code></pre>\n\n<p>This is my error: </p>\n\n<blockquote>\n  <p>ExceptionType: \"System.NotImplementedException\"<br>\n  Message: \"An error has occurred.\"</p>\n</blockquote>\n"}, {"tags": ["c#", "signature", "verify", "ecdsa"], "answers": [{"tags": [], "owner": {"reputation": 17201, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "is_accepted": true, "score": 6, "last_activity_date": 1574953836, "creation_date": 1574953836, "answer_id": 59091772, "question_id": 59078889, "link": "https://stackoverflow.com/questions/59078889/ecdsa-verify-signature-in-c-using-public-key-and-signature-from-java/59091772#59091772", "title": "ECDSA Verify Signature in C# using public key and signature from Java", "body": "<p>The cause is a different format. Microsoft expects the format <code>r|s</code> while your signature is specified in the <code>ASN.1</code>-format (which is explained in the context of ECDSA <a href=\"https://crypto.stackexchange.com/a/1797\">here</a>):</p>\n\n<pre><code>0x30|b1|0x02|b2|r|0x02|b3|s\nb1 = Length of remaining data\nb2 = Length of r\nb3 = Length of s \n</code></pre>\n\n<p>Your signature </p>\n\n<pre><code>30440220534465047322bbebe9db49e23e073fc9d71d2b6cdf0deab11b7c7055c168e1800220093bf123cc266534b412bca0629d51df4af4c49a8af475cdd85fb14f3279d80a\n</code></pre>\n\n<p>can be separated in the following portions</p>\n\n<pre><code>30 44 02 20 534465047322bbebe9db49e23e073fc9d71d2b6cdf0deab11b7c7055c168e180 02 20 093bf123cc266534b412bca0629d51df4af4c49a8af475cdd85fb14f3279d80a\n</code></pre>\n\n<p>so that the individual portions can be easily identified:</p>\n\n<pre><code>b1 = 0x44\nb2 = 0x20\nr  = 0x534465047322bbebe9db49e23e073fc9d71d2b6cdf0deab11b7c7055c168e180 \nb3 = 0x20\ns  = 0x093bf123cc266534b412bca0629d51df4af4c49a8af475cdd85fb14f3279d80a\n</code></pre>\n\n<p>Thus</p>\n\n<pre><code>r|s = 534465047322bbebe9db49e23e073fc9d71d2b6cdf0deab11b7c7055c168e180093bf123cc266534b412bca0629d51df4af4c49a8af475cdd85fb14f3279d80a\n</code></pre>\n\n<p>If you run your code using this format, verification is successful. </p>\n"}], "owner": {"reputation": 453, "user_id": 3700184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1978d4d4e83330f1bb7a085b630eb15?s=128&d=identicon&r=PG&f=1", "display_name": "josagyemang", "link": "https://stackoverflow.com/users/3700184/josagyemang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1028, "favorite_count": 1, "accepted_answer_id": 59091772, "answer_count": 1, "score": 2, "last_activity_date": 1574953836, "creation_date": 1574891220, "question_id": 59078889, "link": "https://stackoverflow.com/questions/59078889/ecdsa-verify-signature-in-c-using-public-key-and-signature-from-java", "title": "ECDSA Verify Signature in C# using public key and signature from Java", "body": "<p>I have a public key and signature generated in Java which I would like to verify in C# using ECDsaCng. The public key is <code>MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAExeg15CVOUcspdO0Pm27hPVx50thn0CGk3/3NLl08qcK+0U7cesOUUwxQetMgtUHrh0lNao5XRAAurhcBtZpo6w==</code> </p>\n\n<p>which I convert into a key that can be used by C# ECDsaCng by taking the last 64 bytes and prepending 0x45, 0x43, 0x53, 0x31,... to it.</p>\n\n<p>The signature is generated in Java using SHA256. Funny thing is if I test the signature using the tool here <a href=\"https://kjur.github.io/jsrsasign/sample/sample-ecdsa.html\" rel=\"nofollow noreferrer\">https://kjur.github.io/jsrsasign/sample/sample-ecdsa.html</a>, it says it is a valid signature.</p>\n\n<p>I have been scouring through the net and still no joy. </p>\n\n<p>Code is as below</p>\n\n<pre><code>static void VerifySignature()\n{\n  var publicKey = \"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAExeg15CVOUcspdO0Pm27hPVx50thn0CGk3/3NLl08qcK+0U7cesOUUwxQetMgtUHrh0lNao5XRAAurhcBtZpo6w==\";\n  byte[] publicKeyBytes = Convert.FromBase64String(publicKey);\n\n  var keyType = new byte[] { 0x45, 0x43, 0x53, 0x31 };\n  var keyLength = new byte[] { 0x20, 0x00, 0x00, 0x00 };\n  var key = keyType.Concat(keyLength).Concat(publicKeyBytes.TakeLast(64)).ToArray(); // 4543533120000000c5e835e4254e51cb2974ed0f9b6ee13d5c79d2d867d021a4dffdcd2e5d3ca9c2bed14edc7ac394530c507ad320b541eb87494d6a8e5744002eae1701b59a68eb\n\n  // For testing in online tool\n  Debug.WriteLine(ByteArrayToString(publicKeyBytes.TakeLast(65).ToArray())); //04c5e835e4254e51cb2974ed0f9b6ee13d5c79d2d867d021a4dffdcd2e5d3ca9c2bed14edc7ac394530c507ad320b541eb87494d6a8e5744002eae1701b59a68eb\n\n\n  var signature = \"MEQCIFNEZQRzIrvr6dtJ4j4HP8nXHSts3w3qsRt8cFXBaOGAAiAJO/EjzCZlNLQSvKBinVHfSvTEmor0dc3YX7FPMnnYCg==\";\n            var signatureBytes = Convert.FromBase64String(signature); // 30440220534465047322bbebe9db49e23e073fc9d71d2b6cdf0deab11b7c7055c168e1800220093bf123cc266534b412bca0629d51df4af4c49a8af475cdd85fb14f3279d80a\n\n  var data = Encoding.UTF8.GetBytes(\"ABCDEFGH\");\n\n  CngKey cngKey = CngKey.Import(key, CngKeyBlobFormat.EccPublicBlob);\n  ECDsaCng eCDsaCng = new ECDsaCng(cngKey);\n\n  bool result = eCDsaCng.VerifyData(data, signatureBytes); // result is false\n\n  string ByteArrayToString(byte[] ba)\n  {\n    StringBuilder hex = new StringBuilder(ba.Length * 2);\n    foreach (byte b in ba)\n      hex.AppendFormat(\"{0:x2}\", b);\n\n    return hex.ToString();\n  }\n}\n\n\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 179, "user_id": 3605287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qz3hM.jpg?s=128&g=1", "display_name": "Lucas Selliach", "link": "https://stackoverflow.com/users/3605287/lucas-selliach"}, "edited": false, "score": 0, "creation_date": 1574891216, "post_id": 59078795, "comment_id": 104394822, "body": "Hi, did you try set the owner? Maybe, the second windows is open behind of the first. Use TopMost property to check this."}, {"owner": {"reputation": 11, "user_id": 12448408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4315fb1817e889301c00e5cb6981d9ce?s=128&d=identicon&r=PG&f=1", "display_name": "FLQ", "link": "https://stackoverflow.com/users/12448408/flq"}, "reply_to_user": {"reputation": 179, "user_id": 3605287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qz3hM.jpg?s=128&g=1", "display_name": "Lucas Selliach", "link": "https://stackoverflow.com/users/3605287/lucas-selliach"}, "edited": false, "score": 0, "creation_date": 1574891971, "post_id": 59078795, "comment_id": 104395092, "body": "Hello, I&#39;ve checked and no, the  third window doesn&#39;t open at all. I didn&#39;t do TopMost but I tried to bring it to front, but didn&#39;t change anything :("}, {"owner": {"reputation": 179, "user_id": 3605287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qz3hM.jpg?s=128&g=1", "display_name": "Lucas Selliach", "link": "https://stackoverflow.com/users/3605287/lucas-selliach"}, "edited": false, "score": 0, "creation_date": 1574892700, "post_id": 59078795, "comment_id": 104395321, "body": "Hmm, Does your constructor has the <code>InitializeComponent()</code> in win3 window?"}, {"owner": {"reputation": 11, "user_id": 12448408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4315fb1817e889301c00e5cb6981d9ce?s=128&d=identicon&r=PG&f=1", "display_name": "FLQ", "link": "https://stackoverflow.com/users/12448408/flq"}, "reply_to_user": {"reputation": 179, "user_id": 3605287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qz3hM.jpg?s=128&g=1", "display_name": "Lucas Selliach", "link": "https://stackoverflow.com/users/3605287/lucas-selliach"}, "edited": false, "score": 0, "creation_date": 1574893007, "post_id": 59078795, "comment_id": 104395418, "body": "Yes, it has... I&#39;m afraid I&#39;ve been narrow minded in my analysis and therefore mislead you. To move on, I&#39;ve kept working on the content on Win3 by adding a new button which is not doing anything either. I debugged in step by step mode and indeed, I&#39;m never reaching the code at all. Event is there, code behind is there, but nothing executes. I&#39;m lost!"}, {"owner": {"reputation": 179, "user_id": 3605287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qz3hM.jpg?s=128&g=1", "display_name": "Lucas Selliach", "link": "https://stackoverflow.com/users/3605287/lucas-selliach"}, "edited": false, "score": 0, "creation_date": 1574893648, "post_id": 59078795, "comment_id": 104395629, "body": "Don&#39;t worry about it. I don&#39;t know exactly what your code do, perhaps it look like some exception. Can you show more details about your code, if possible, the method when you call Win2 and Win3?"}, {"owner": {"reputation": 11, "user_id": 12448408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4315fb1817e889301c00e5cb6981d9ce?s=128&d=identicon&r=PG&f=1", "display_name": "FLQ", "link": "https://stackoverflow.com/users/12448408/flq"}, "reply_to_user": {"reputation": 179, "user_id": 3605287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qz3hM.jpg?s=128&g=1", "display_name": "Lucas Selliach", "link": "https://stackoverflow.com/users/3605287/lucas-selliach"}, "edited": false, "score": 0, "creation_date": 1574893723, "post_id": 59078795, "comment_id": 104395653, "body": "First button was just the create of Win3 instance and showing it. Second button to instantiate a class and add it to a list. Nothing too specifi :-p See the answer, I was just not using the correct event. Thank you again!"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 3605287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qz3hM.jpg?s=128&g=1", "display_name": "Lucas Selliach", "link": "https://stackoverflow.com/users/3605287/lucas-selliach"}, "edited": false, "score": 0, "creation_date": 1574893917, "post_id": 59079284, "comment_id": 104395722, "body": "oh yeah, my pleasure."}], "tags": [], "owner": {"reputation": 11, "user_id": 12448408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4315fb1817e889301c00e5cb6981d9ce?s=128&d=identicon&r=PG&f=1", "display_name": "FLQ", "link": "https://stackoverflow.com/users/12448408/flq"}, "is_accepted": false, "score": 1, "last_activity_date": 1574893664, "creation_date": 1574893664, "answer_id": 59079284, "question_id": 59078795, "link": "https://stackoverflow.com/questions/59078795/c-wpf-open-a-sub-window-from-a-sub-window/59079284#59079284", "title": "C# WPF - Open a sub-window from a sub-window", "body": "<p>Ok...</p>\n\n<p>I'm not sure I get it, but I found a solution.</p>\n\n<p>I was using <code>MouseLeftButtonUp</code> to trigger the code and it doesn't work.\nI replace it with the <code>Click</code> event, and it's working fine.</p>\n\n<p>That's part of the mysteries I'll probably never get!</p>\n\n<p>Thank you @Lucas Selliach for your support!</p>\n"}], "owner": {"reputation": 11, "user_id": 12448408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4315fb1817e889301c00e5cb6981d9ce?s=128&d=identicon&r=PG&f=1", "display_name": "FLQ", "link": "https://stackoverflow.com/users/12448408/flq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574893664, "creation_date": 1574890699, "question_id": 59078795, "link": "https://stackoverflow.com/questions/59078795/c-wpf-open-a-sub-window-from-a-sub-window", "title": "C# WPF - Open a sub-window from a sub-window", "body": "<p>I'm feeling silly...\nI'm working on a WPF application. From my main window, I'm opening a sub-window (let's call it Win2) which contains a button to open another sub-window (it will be Win3).</p>\n\n<p>From MainWindow, executing the following code opens Win2 without issue:</p>\n\n<pre><code>Win2 newWindow = new Win2();\n            newWindow.Show();\n</code></pre>\n\n<p>But when I execute the following, from Win2, nothing happens:</p>\n\n<pre><code>Win3 newWindow2 = new Win3();\n                newWindow2.Show();\n</code></pre>\n\n<p>Just for testing purpose, I've tried to execute this second code from MainWindow and once again it's working.</p>\n\n<p>I suppose I'm missing a reference somewhere in Win2, but I don't know which.</p>\n\n<p>Could someone point the obvious for me?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["c#", "iis", "windows-authentication", "blazor", "kestrel-http-server"], "comments": [{"owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1574897507, "post_id": 59078785, "comment_id": 104396616, "body": "Are you sure control actually reaches this statement?"}, {"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "reply_to_user": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1574897660, "post_id": 59078785, "comment_id": 104396649, "body": "Yes I set break points and stepped line by line"}, {"owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "edited": false, "score": 0, "creation_date": 1574904984, "post_id": 59078785, "comment_id": 104398048, "body": "how to make Kestrel works with Windows authentication: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authentication/windowsauth?view=aspnetcore-3.0&amp;tabs=visual-studio#kestrel\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/security/authentication&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1574986795, "post_id": 59081157, "comment_id": 104428022, "body": "I created a new Blazor application with Windows authentication, installed the nuget package of <code>services.AddAuthentication(NegotiateDefaults.AuthenticationS&zwnj;&#8203;cheme).AddNegotiate(&zwnj;&#8203;);</code>, and added the three lines of the code in the <code>Startup.cs</code>. However, the word &quot;Hello, Domain\\Username&quot; in the <code>LoginDisplay.razor</code> is not displayed?"}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1574991829, "post_id": 59081157, "comment_id": 104428858, "body": "You need also add the Authorize attribute in the _Host.cshtml. Details, you could see my update answer."}, {"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1575000143, "post_id": 59081157, "comment_id": 104430255, "body": "I added the attribute <code>[Authorize]</code> in the _Host.cshtml, however, the up right corner still doesn&#39;t show the Hello message. The last line in the Kestrel output window shows <code>info: Microsoft.AspNetCore.Authorization.DefaultAuthorizationServi&zwnj;&#8203;ce[2]       Authorization failed.</code>."}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1575006087, "post_id": 59081157, "comment_id": 104431356, "body": "Could you please post the whole Startup.cs file&#39;s codes? This error means you don&#39;t register the auth for your application."}, {"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1575009313, "post_id": 59081157, "comment_id": 104432238, "body": "The full Start.cs file is posted in the question."}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1575010489, "post_id": 59081157, "comment_id": 104432616, "body": "Please make sure the  <code>app.UseAuthentication();    app.UseAuthorization();</code> is behind the <code>app.UseRouting();</code> and try again."}, {"owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1575011132, "post_id": 59081157, "comment_id": 104432819, "body": "I changed it to <code>app.UseRouting();             app.UseAuthentication();             app.UseAuthorization();</code>, it still doesn&#39;t show the message."}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "edited": false, "score": 0, "creation_date": 1575011362, "post_id": 59081157, "comment_id": 104432901, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/203299/discussion-between-brando-zhang-and-ca9163d9\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1574991924, "last_edit_date": 1574991924, "creation_date": 1574910047, "answer_id": 59081157, "question_id": 59078785, "link": "https://stackoverflow.com/questions/59078785/authorization-failed-doesnt-raise-exception/59081157#59081157", "title": "Authorization failed. doesn&#39;t raise exception?", "body": "<blockquote>\n  <p>How to make sure it raises the exception?</p>\n</blockquote>\n\n<p>If you enabled the windows auth for the IIS, the request will not come to your codes, the IIS will refuse the request, so you will not get any exception message. To check this, you should check the IIS logs.</p>\n\n<blockquote>\n  <p>BTW, how to make Kestrel works with Windows authentication?</p>\n</blockquote>\n\n<p>According to your description, I guess you just enabled the windows auth for the IIS not the Kestrel. So if you directly run the application form the Kestrel, it will not use windows auth. </p>\n\n<p>To solve this issue, I suggest you could follow below steps to enable the windows auth for your asp.net core application.</p>\n\n<p>1.Install the Microsoft.AspNetCore.Authentication.Negotiate package</p>\n\n<ol start=\"2\">\n<li><p>Add below codes into the Startup.cs ConfigureServices method</p>\n\n<pre><code>     services.AddAuthentication(NegotiateDefaults.AuthenticationScheme).AddNegotiate();\n</code></pre></li>\n<li><p>Add below codes into the Startup.cs Configure method</p>\n\n<pre><code>    app.UseAuthentication();\n    app.UseAuthorization();\n</code></pre></li>\n</ol>\n\n<p>4.Then you could use dotnet run to test your application. You will find the windows auth will be enabled for your application.</p>\n\n<hr>\n\n<p>If you used the Windows authentication in the  Kestrel, you need to force the page to allow only login in user. To achieve this, I suggest you could add the  Authorize attribute in the _Host.cshtml.</p>\n\n<p>Details, you could refer to below _Host.cshtml.</p>\n\n<pre><code>@page \"/\"\n@using Microsoft.AspNetCore.Authorization\n@attribute [Authorize]\n@namespace BlazorWindowsAuth.Pages\n@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n    &lt;title&gt;BlazorWindowsAuth&lt;/title&gt;\n    &lt;base href=\"~/\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/bootstrap/bootstrap.min.css\" /&gt;\n    &lt;link href=\"css/site.css\" rel=\"stylesheet\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;app&gt;\n        @(await Html.RenderComponentAsync&lt;App&gt;(RenderMode.ServerPrerendered))\n    &lt;/app&gt;\n\n    &lt;script src=\"_framework/blazor.server.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 841, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575009276, "creation_date": 1574890648, "last_edit_date": 1575009276, "question_id": 59078785, "link": "https://stackoverflow.com/questions/59078785/authorization-failed-doesnt-raise-exception", "title": "Authorization failed. doesn&#39;t raise exception?", "body": "<p>I created a server-side blazor application with Windows authentication. It works fine and returns the data from the database when running using IIS Express in Visual Studio 2019.</p>\n\n<pre><code>try\n{\n    var filtered = _context.Trades\n        .Where(.....)\n        .ToListAsync(cancellationToken)\n        .ConfigureAwait(false);\n    // ....\n}\ncatch (Exception ex)\n{\n    // .... will display the exception message\n}\n</code></pre>\n\n<p>Then I changed it to Kestrel. I expected to raise exception because I haven't do anything to make Kestrel to work with Windows authentication. </p>\n\n<p>However, it doesn't raise any exception. The following information can be found in the output window.</p>\n\n<blockquote>\n  <p>Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Information: Authorization failed.</p>\n</blockquote>\n\n<p>How to make sure it raises the exception?</p>\n\n<p>BTW, how to make Kestrel works with Windows authentication?</p>\n\n<hr>\n\n<p>Startup.cs updated for the answer.</p>\n\n<pre><code>using Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing BlazorApp1.Data;\nusing Microsoft.AspNetCore.Authentication.Negotiate;\n\nnamespace BlazorApp1\n{\n    public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        // For more information on how to configure your application, visit https://go.microsoft.com/fwlink/?LinkID=398940\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddRazorPages();\n            services.AddServerSideBlazor();\n            services.AddAuthentication(NegotiateDefaults.AuthenticationScheme).AddNegotiate();\n\n            services.AddSingleton&lt;WeatherForecastService&gt;();\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Error\");\n                // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.\n                app.UseHsts();\n            }\n            app.UseAuthentication();\n            app.UseAuthorization();\n\n            app.UseHttpsRedirection();\n            app.UseStaticFiles();\n\n            app.UseRouting();\n\n            app.UseEndpoints(endpoints =&gt;\n            {\n                endpoints.MapBlazorHub();\n                endpoints.MapFallbackToPage(\"/_Host\");\n            });\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "microsoft-graph-api", "microsoft-graph-sdks"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 4, "creation_date": 1574890669, "post_id": 59078756, "comment_id": 104394650, "body": "we can&#39;t debug code we can&#39;t see.  Please post the relevant code.  Someone with a 10.5k rep should know this already."}, {"owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1574891997, "post_id": 59078756, "comment_id": 104395105, "body": "Code has been posted."}, {"owner": {"reputation": 12943, "user_id": 2673029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbcZN.jpg?s=128&g=1", "display_name": "Isma", "link": "https://stackoverflow.com/users/2673029/isma"}, "edited": false, "score": 1, "creation_date": 1575123128, "post_id": 59078756, "comment_id": 104463902, "body": "Hi, can you also post the contents of your Entitlements.plist file?"}, {"owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "edited": false, "score": 1, "creation_date": 1575244155, "post_id": 59078756, "comment_id": 104490168, "body": "Hi I posted the contents of my Entitlements.plist file"}, {"owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1575454288, "post_id": 59078756, "comment_id": 104569130, "body": "Does this ever crash or throw an exception?"}], "answers": [{"tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": false, "score": 0, "last_activity_date": 1575479664, "creation_date": 1575479664, "answer_id": 59181440, "question_id": 59078756, "link": "https://stackoverflow.com/questions/59078756/xamarin-forms-and-microsoft-graph-not-working-on-ios-device/59181440#59181440", "title": "Xamarin.Forms and Microsoft Graph not working on iOS device", "body": "<p>There is a known issue with iOS 12 <a href=\"http://WithParentActivityOrWindow\" rel=\"nofollow noreferrer\">documented here</a>:</p>\n\n<blockquote>\n  <p>Microsoft has released a <a href=\"https://github.com/aspnet/AspNetCore/issues/4647\" rel=\"nofollow noreferrer\">security advisory</a> to provide information about an incompatibility between iOS12 and some types of authentication. The incompatibility breaks social, WSFed, and OIDC logins. This advisory also provides guidance on what developers can do to remove current security restrictions added by ASP.NET to their applications to become compatible with iOS12.  </p>\n</blockquote>\n\n<p>I suspect the reason for the difference in behavior has to do with the iOS version on your device vs. the emulator. </p>\n\n<p>The <a href=\"https://github.com/aspnet/AspNetCore/issues/4647\" rel=\"nofollow noreferrer\">security advisory</a> the docs link to includes some potential fixes:</p>\n\n<blockquote>\n  <p>If you are using ASP.NET Core Identity you disable the protection by configuring cookies with the following code</p>\n\n<pre><code>services.ConfigureExternalCookie(options =&gt;\n{\n    // Other options\n    options.Cookie.SameSite = SameSiteMode.None;\n});\nservices.ConfigureApplicationCookie(options =&gt;\n{\n    // Other options\n    options.Cookie.SameSite = SameSiteMode.None;\n});\n</code></pre>\n  \n  <p>If you are using cookie authentication without ASP.NET Core identity you can turn off the protection with the following code</p>\n\n<pre><code>services.AddCookie(CookieAuthenticationDefaults.AuthenticationScheme, options =&gt;\n{\n    // Other options\n    options.Cookie.SameSite = Microsoft.AspNetCore.Http.SameSiteMode.None;\n})\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1575479664, "creation_date": 1574890520, "last_edit_date": 1575313001, "question_id": 59078756, "link": "https://stackoverflow.com/questions/59078756/xamarin-forms-and-microsoft-graph-not-working-on-ios-device", "title": "Xamarin.Forms and Microsoft Graph not working on iOS device", "body": "<p>I am using Xamarin.Forms and trying to use Microsoft Graph API following <a href=\"https://docs.microsoft.com/en-us/graph/tutorials/xamarin\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n\n<p>This works perfectly in an iOS simulator, but when I try on my actual device, I cannot log in. When I click on the login button on my <code>WelcomePage.xaml</code>, it does absolutely nothing....is there something I'm missing?</p>\n\n<p>This is my <code>SignIn</code> Method:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task SignIn()\n{\n\n    var scopes = OAuthSettings.Scopes.Split(' ');\n\n    // First, attempt silent sign in\n    // If the user's information is already in the app's cache,\n    // they won't have to sign in again.\n    string accessToken = string.Empty;\n    try\n    {\n        var accounts = await PCA.GetAccountsAsync();\n        if (accounts.Count() &gt; 0)\n        {\n            var silentAuthResult = await PCA\n                .AcquireTokenSilent(scopes, accounts.FirstOrDefault())\n                .ExecuteAsync();\n\n            Debug.WriteLine(\"User already signed in.\");\n            Debug.WriteLine($\"Access token: {silentAuthResult.AccessToken}\");\n            accessToken = silentAuthResult.AccessToken;\n        }\n    }\n    catch (MsalUiRequiredException)\n    {\n        // This exception is thrown when an interactive sign-in is required.\n        Debug.WriteLine(\"Silent token request failed, user needs to sign-in\");\n    }\n\n    if (string.IsNullOrEmpty(accessToken))\n    {\n        // Prompt the user to sign-in\n        var interactiveRequest = PCA\n            .AcquireTokenInteractive(scopes);\n\n        if (AuthUIParent != null)\n        {\n            interactiveRequest = interactiveRequest\n                .WithParentActivityOrWindow(AuthUIParent);\n        }\n\n        var authResult = await interactiveRequest.ExecuteAsync();\n        Debug.WriteLine($\"Access Token: {authResult.AccessToken}\");\n    }\n\n    // Initialize Graph client\n    GraphClient = new GraphServiceClient(new DelegateAuthenticationProvider(\n        async(requestMessage) =&gt;\n        {\n            var accounts = await PCA\n                .GetAccountsAsync();\n\n            var result = await PCA\n                .AcquireTokenSilent(scopes, accounts.FirstOrDefault())\n                .ExecuteAsync();\n\n            requestMessage.Headers.Authorization =\n                new AuthenticationHeaderValue(\"Bearer\", result.AccessToken);\n        }));\n\n    await GetUserInfo();\n\n    IsSignedIn = true;\n}\n</code></pre>\n\n<p>it stops working on this line:</p>\n\n<pre><code>    var authResult = await interactiveRequest.ExecuteAsync();\n</code></pre>\n\n<p>Here is the source of my <code>Entitlements.plist</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/1wDYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wDYB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net-core", "odata"], "comments": [{"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1574894755, "post_id": 59078740, "comment_id": 104395952, "body": "I think you are missing questionmark in your url. Something like [url]/?$select=field1 should work fine. <a href=\"https://docs.microsoft.com/en-us/odata/webapi/query-by-dynamic-properties\" rel=\"nofollow noreferrer\">Query by dynamic properties</a>"}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1574894838, "post_id": 59078740, "comment_id": 104395977, "body": "Also I think you don&#39;t need <code>Microsoft.AspNet.WebApi.OData</code> package."}, {"owner": {"reputation": 1, "user_id": 12448222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8aefdef656081f72d664783e8defb67?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe Santos", "link": "https://stackoverflow.com/users/12448222/felipe-santos"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1574948154, "post_id": 59078740, "comment_id": 104414824, "body": "Sorry i just missed de question mark. I&#39;m using postman to make these calls and it automatically places question mark. I will edit my original post"}, {"owner": {"reputation": 1, "user_id": 12448222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8aefdef656081f72d664783e8defb67?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe Santos", "link": "https://stackoverflow.com/users/12448222/felipe-santos"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1574949202, "post_id": 59078740, "comment_id": 104415403, "body": "You were right about Microsoft.AspNet.WebApi.OData package. I removed it and the code kept working the same way. Unfortnatelly, the problem with select persists."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1574981242, "post_id": 59078740, "comment_id": 104427056, "body": "I have tried it, but with no success. To me it seems like select works, but there is an issue with serializing as in response you can see start of an array and then something crashes and response is closed. I have not much time to investigate further today. You can try to create custom formatter to investigate if at least selected data are okay. <a href=\"https://docs.microsoft.com/en-us/odata/webapi/customize-formatter\" rel=\"nofollow noreferrer\">Custom OData formatter</a>."}], "owner": {"reputation": 1, "user_id": 12448222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8aefdef656081f72d664783e8defb67?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe Santos", "link": "https://stackoverflow.com/users/12448222/felipe-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574948234, "creation_date": 1574890435, "last_edit_date": 1574948234, "question_id": 59078740, "link": "https://stackoverflow.com/questions/59078740/select-dynamic-properties-odata", "title": "Select dynamic properties OData", "body": "<p>I have problem trying to select dynamically created property using OData 4.0 and .net core. I can filter, group, sum etc, but just can't select fields. Here is a json sample that my API is trying to parse:</p>\n\n<pre><code>[\n  {\n    \"name\": \"name2\",\n    \"value\": 1,\n    \"details\": {\n        \"field1\": 1,\n        \"field2\": \"foo\"\n    }\n  },\n  {\n    \"name\": \"name1\",\n    \"value\": 2,\n    \"details\": {\n        \"field1\": 2,\n        \"field2\": \"bar\"\n    }\n}]\n</code></pre>\n\n<p>I tried the following syntaxes to select only \"field1\":</p>\n\n<ul>\n<li><p><strong>[url]/?$select=details</strong>. Got: \"[\" as return</p></li>\n<li><p><strong>[url]/?$select=details/field1</strong>. Got: \"The query specified in the URI is not valid. A path within the select or expand query option is not supported.\" as return</p></li>\n<li><p><strong>[url]/?$expand=details($select=field1)</strong>. Got: \"The query specified in the URI is not valid. Could not find a property named 'details' on type 'ProductDiscovery.DTO.GenericResponse'.\" as return</p></li>\n<li><p><strong>[url]/?$select=field1</strong>. Got \"The query specified in the URI is not valid. A path within the select or expand query option is not supported.\" as return</p></li>\n</ul>\n\n<p>The API is implemented in .net core 2.2, using Microsoft.AspNet.WebApi.OData v5.70 and Microsoft.AspNetCore.Odata v7.2.2. I created a class called \"GenericReponse\" that is responsible to deserialize the response:</p>\n\n<pre><code>public class GenericResponse\n{\n    [Key]\n    public string name { get; set; }\n    public int value { get; set; }\n    public IDictionary&lt;string, object&gt; details { get; set; }\n}\n</code></pre>\n\n<p>This is my EdmModel:</p>\n\n<pre><code>        ODataConventionModelBuilder builder = new ODataConventionModelBuilder();\n        builder.ContainerName = \"DefaultContainer\";\n\n        builder.EntitySet&lt;DTO.GenericResponse&gt;(\"GenericResponse\");\n        return builder.GetEdmModel();\n</code></pre>\n\n<p>Also tried:</p>\n\n<pre><code>        ODataModelBuilder builder = new ODataModelBuilder();\n        ComplexTypeConfiguration&lt;DTO.GenericResponse&gt; genericResponse = \n        builder.ComplexType&lt;DTO.GenericResponse&gt;();\n        genericResponse.Property(g =&gt; g.name);\n        genericResponse.Property(g =&gt; g.value);\n        genericResponse .HasDynamicProperties(g =&gt; g.details);\n        return builder.GetEdmModel();\n</code></pre>\n\n<p>But got the same results</p>\n\n<p>Thats my controller. I'm curretly mocking two endpoints with json responses:</p>\n\n<pre><code>    [EnableQuery]\n    [HttpGet(\"filters/odata/queryEnabled/testPolimorfismo\")]\n    public async Task&lt;IQueryable&gt; BulkRequest8(string port)\n    {\n        string url1 = @\"http://localhost:3000/test\"; \n        string url2 = @\"http://localhost:4000/test\";\n        var client = _clientFactory.CreateClient();\n        var response1 = client.GetAsync(url1).Result.Content.ReadAsAsync&lt;DTO.GenericResponse&gt;().Result;            \n        var response2 = client.GetAsync(url2).Result.Content.ReadAsAsync&lt;DTO.GenericResponse&gt;().Result;\n        List&lt;DTO.GenericResponse&gt; responseList = new List&lt;GenericResponse&gt;();\n        responseList.Add(response1);\n        responseList.Add(response2);\n        return responseList.AsQueryable();\n    }\n</code></pre>\n\n<p>Any suggestions to solve this error? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574890564, "post_id": 59078712, "comment_id": 104394612, "body": "as above?  It still causes a StackOverlow exception."}, {"owner": {"reputation": 12181, "user_id": 1803777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kY7IS.jpg?s=128&g=1", "display_name": "Ulugbek Umirov", "link": "https://stackoverflow.com/users/1803777/ulugbek-umirov"}, "edited": false, "score": 0, "creation_date": 1574890589, "post_id": 59078712, "comment_id": 104394620, "body": "how does <code>TimeCheck</code> method look like?"}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 0, "creation_date": 1574890600, "post_id": 59078712, "comment_id": 104394625, "body": "You have to revise auto properties. This is in many ways wrong. You need to use auto properties. public string TimeTwo{ get; private set; } Set the value inside TimeCheck()."}, {"owner": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574890669, "post_id": 59078712, "comment_id": 104394649, "body": "TimeCheck()   checks the values of both and if they are a certain time it resets them."}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 0, "creation_date": 1574890688, "post_id": 59078712, "comment_id": 104394657, "body": "@John please show us the full code. If you made the changes as Ulugbek said properties should not be the properties wrong. Please give us the full picture."}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574891010, "post_id": 59078809, "comment_id": 104394755, "body": "That still causes a StackException.   I modified the code above."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1574891076, "post_id": 59078809, "comment_id": 104394780, "body": "I think you misread the code.  The setters weren&#39;t calling themselves.  The setter is <code>TimeOne</code>, and it set <code>_TimeOne</code>.  You basically just renamed some variables."}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1574891136, "post_id": 59078809, "comment_id": 104394799, "body": "@Amy no, Matt is correct this is an endless cycle. He calls recursively the setter form the TimeCheck()"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 0, "creation_date": 1574891167, "post_id": 59078809, "comment_id": 104394810, "body": "@panoskarajohn I know its an endless cycle.  This code is identical to the original, he only renamed <code>_TimeOne</code> to <code>_timeOne</code>.  That&#39;s my point."}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "reply_to_user": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574891194, "post_id": 59078809, "comment_id": 104394816, "body": "@John please do not call the TimeCheck() inside the setter."}, {"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574891215, "post_id": 59078809, "comment_id": 104394821, "body": "The original post didn&#39;t have backing fields. I didn&#39;t see those until after I posted my answer."}, {"owner": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574891375, "post_id": 59078809, "comment_id": 104394879, "body": "Where would the TimeCheck be called?  It has to be processed every time those values are changed."}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "reply_to_user": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574891563, "post_id": 59078809, "comment_id": 104394957, "body": "@John see Amy&#39;s answer."}, {"owner": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574892452, "post_id": 59078809, "comment_id": 104395238, "body": "It actually seems to work when I modified the code as above!  Also the value has to be set BEFORE calling TimeCheck() so it has something to check :)    But is there any reason not to call TimeCheck() from the setter?   It&#39;s a JSON that is validated each time and I wanted that logic to be encapsulated within the same class as the fields."}, {"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574894330, "post_id": 59078809, "comment_id": 104395844, "body": "Well, I just don&#39;t think business logic and validation belong in setters. If you validate it / set appropriately in whatever sets these values, you can prevent this object&#39;s properties from ever being in an inconsistent state. That&#39;s just the way I see it, others may disagree."}, {"owner": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "edited": false, "score": 0, "creation_date": 1574894592, "post_id": 59078809, "comment_id": 104395900, "body": "I was thinking of adhering to encapsulation and keeping the logic related to these value of these fields within this class."}, {"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574894957, "post_id": 59078809, "comment_id": 104396021, "body": "Do whatever you&#39;re comfortable with. I&#39;m not sure of your skill level. If I personally had logic like that, it would be handled by a service class of sorts."}], "tags": [], "owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "is_accepted": false, "score": 2, "last_activity_date": 1574891433, "last_edit_date": 1574891433, "creation_date": 1574890776, "answer_id": 59078809, "question_id": 59078712, "link": "https://stackoverflow.com/questions/59078712/processing-multiple-values-in-each-others-get-property/59078809#59078809", "title": "Processing multiple values in each other&#39;s get property", "body": "<p>You're getting a stack overflow exception because your setters are calling themselves recursively with no end condition, when you do <code>TimeTwo = value;</code> Instead, you can create a private backing property for each public property and use those in the getters and setters:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>private string _timeOne;\nprivate string _timeTwo;\n\npublic string TimeOne\n{\n    get { return _timeOne; }\n    set\n    {\n        TimeCheck();\n        _timeOne = value;\n    }\n}\n\npublic string TimeTwo\n{\n    get { return _timeTwo; }\n    set\n    {\n        TimeCheck();\n        _timeTwo = value;\n}\n</code></pre>\n\n<p>With your current implementation, each time you say <code>TimeOne = value;</code> the setter is being called again, which calls it again, and so on.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I agree that <code>TimeCheck()</code> should not be called in the setters. Instead, I think it would be more appropriate to validate those values, and reset them if necessary, elsewhere. Maybe in a service of some sort, or whatever code is setting those properties to begin with.</p>\n"}, {"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 2, "last_activity_date": 1574891421, "creation_date": 1574891421, "answer_id": 59078918, "question_id": 59078712, "link": "https://stackoverflow.com/questions/59078712/processing-multiple-values-in-each-others-get-property/59078918#59078918", "title": "Processing multiple values in each other&#39;s get property", "body": "<p>The issue is caused by your setters calling <code>TimeCheck</code>, which in turn calls the setters, which calls <code>TimeCheck</code>, ad nauseum.</p>\n\n<p>Break that cycle.</p>\n\n<p>Your <code>TimeCheck</code> function can be rewritten so it sets the backing fields instead of calling the setters:</p>\n\n<pre><code>private void TimeCheck()\n{\n    string WrongTime = \"....\";\n    if (_TimeOne == WrongTime  &amp;&amp; _TimeTwo == WrongTime )\n    {\n        _TimeOne = _TimeTwo = DateTime.Now.ToString();\n    }\n    else if (_TimeOne == WrongTime) \n    {\n        _TimeOne = _TimeTwo;\n    }\n    else if (_TimeTwo == WrongTime)\n    {\n        _TimeTwo = _TimeOne;\n    }\n}\n</code></pre>\n\n<p>This breaks the cycle.  Your setter can now call <code>TimeCheck</code> without fear of being called back in an endless cycle.</p>\n"}], "owner": {"reputation": 315, "user_id": 9790943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8faec9dd19c006bdc5c2a30265f73f75?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9790943/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 59078918, "answer_count": 2, "score": 0, "last_activity_date": 1574891433, "creation_date": 1574890261, "last_edit_date": 1574890841, "question_id": 59078712, "link": "https://stackoverflow.com/questions/59078712/processing-multiple-values-in-each-others-get-property", "title": "Processing multiple values in each other&#39;s get property", "body": "<p>I am getting a StackOverflow exception on \"return TimeOne\".<br>\nThe Timecheck method sets both values depending on their value at any given time. Is there a way to process both values at the outset based on each other? </p>\n\n<pre><code> class Name\n{\n private string _Timeone\n  public string TimeOne\n {\n       get\n        {\n           return _Timeone\n        }\n\n\n        set\n        {\n          TimeCheck();\n          _Timeone = value;\n        }\n  }\n\n private string _TimeTwo\n public string TimeTwo\n  {\n       get\n        {\n            return _TimeTwo\n        }\n\n        set\n        {\n            TimeCheck();\n            _TimeTwo= value;\n        }\n  }\n\n\n    private void TimeCheck()\n    {\n           string WrongTime = \"....\";\n        if (TimeOne == WrongTime  &amp;&amp; TimeTwo == WrongTime )\n                TimeOne = TimeTwo = DateTime.Now.ToString();\n            else if (TimeOne == WrongTime) TimeOne = TimeTwo \n            else if TimeTwo == WrongTime) TimeTwo = TimeOne;\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "iis", "active-directory"], "comments": [{"owner": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1574892990, "post_id": 59078695, "comment_id": 104395412, "body": "If you set a breakpoint on {, what is the value of <code>User.Identity.Name</code>?"}, {"owner": {"reputation": 1076, "user_id": 2811530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8SGhA.png?s=128&g=1", "display_name": "Morgs", "link": "https://stackoverflow.com/users/2811530/morgs"}, "reply_to_user": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1574893519, "post_id": 59078695, "comment_id": 104395578, "body": "@BriansaysReinstateMonica The value is blank..."}, {"owner": {"reputation": 116, "user_id": 5072547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe2d3f5ba796d574b4a3c1eaedfa936?s=128&d=identicon&r=PG", "display_name": "TheSeeker", "link": "https://stackoverflow.com/users/5072547/theseeker"}, "edited": false, "score": 0, "creation_date": 1575391277, "post_id": 59078695, "comment_id": 104547644, "body": "Having the same idea here and the same issue. I have an issue understanding why is it required from user to &quot;re-login&quot; to retrieve his own information from AD after already being authenticated. Please keep this thread updated."}, {"owner": {"reputation": 116, "user_id": 5072547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe2d3f5ba796d574b4a3c1eaedfa936?s=128&d=identicon&r=PG", "display_name": "TheSeeker", "link": "https://stackoverflow.com/users/5072547/theseeker"}, "edited": false, "score": 0, "creation_date": 1575393331, "post_id": 59078695, "comment_id": 104548765, "body": "P.S.: I have an alternative login through LDAP where I can get all of the user information (first name, last name, phone, email, groups, etc.). Why can&#39;t I get it from IIS?"}], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 2811530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8SGhA.png?s=128&g=1", "display_name": "Morgs", "link": "https://stackoverflow.com/users/2811530/morgs"}, "edited": false, "score": 1, "creation_date": 1574891897, "post_id": 59078912, "comment_id": 104395068, "body": "I don&#39;t want to specify my Username and Password to connect to Active Directory. I would like to get the configured email address of a user that is currently logged in onto a given workstation. Then use that email address/username to find a user in my database."}, {"owner": {"reputation": 9, "user_id": 12448477, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f058cb9b761457550f14126eed4e2edb?s=128&d=identicon&r=PG", "display_name": "Billy", "link": "https://stackoverflow.com/users/12448477/billy"}, "reply_to_user": {"reputation": 1076, "user_id": 2811530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8SGhA.png?s=128&g=1", "display_name": "Morgs", "link": "https://stackoverflow.com/users/2811530/morgs"}, "edited": false, "score": 0, "creation_date": 1574892509, "post_id": 59078912, "comment_id": 104395256, "body": "Hi @Morgs, for username and password to connect to active directory. you can try to ask network guy to create specific credential for your system. or you can check this out. <a href=\"https://forums.asp.net/t/1806248.aspx?Active+Directory+Authencation+without+using+Password+\" rel=\"nofollow noreferrer\">forums.asp.net/t/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9, "user_id": 12448477, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f058cb9b761457550f14126eed4e2edb?s=128&d=identicon&r=PG", "display_name": "Billy", "link": "https://stackoverflow.com/users/12448477/billy"}, "is_accepted": false, "score": 0, "last_activity_date": 1574891369, "creation_date": 1574891369, "answer_id": 59078912, "question_id": 59078695, "link": "https://stackoverflow.com/questions/59078695/c-get-logged-in-user-email-address-from-logged-in-user-in-active-directory-iis/59078912#59078912", "title": "C# Get Logged in user email address from logged in user in Active Directory, IIS", "body": "<pre><code>public bool CheckUserInGroup(string group)\n    {\n        string serverName = ConfigurationManager.AppSettings[\"ADServer\"];\n        string userName = ConfigurationManager.AppSettings[\"ADUserName\"];\n        string password = ConfigurationManager.AppSettings[\"ADPassword\"];\n        bool result = false;\n        SecureString securePwd = null;\n        if (password != null)\n        {\n            securePwd = new SecureString();\n            foreach (char chr in password.ToCharArray())\n            {\n                securePwd.AppendChar(chr);\n            }\n        }\n        try\n        {  \n            ActiveDirectory adConnectGroup = new ActiveDirectory(serverName, userName, securePwd);\n\n            SearchResultEntry groupResult = adConnectGroup.GetEntryByCommonName(group);\n\n            Group grp = new Group(adConnectGroup, groupResult);\n\n            SecurityPrincipal userPrincipal = grp.Members.Find(sp =&gt; sp.SAMAccountName.ToLower() == User.Identity.Name.ToLower());\n\n            if (userPrincipal != null)\n            {\n                result = true;\n            }\n        }\n        catch\n        {\n            result = false;\n        }\n        return result;\n    }\n</code></pre>\n\n<p>I believe there are many ways on how we can retrieve AD users from C# MVC. <a href=\"http://www.codedigest.com/posts/5/get-user-details-from-active-directory-in-aspnet-mvc\" rel=\"nofollow noreferrer\">http://www.codedigest.com/posts/5/get-user-details-from-active-directory-in-aspnet-mvc</a> please take a look at this good example using the galactic API(free and open source package). </p>\n"}, {"tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 1, "last_activity_date": 1574902465, "creation_date": 1574902465, "answer_id": 59080371, "question_id": 59078695, "link": "https://stackoverflow.com/questions/59078695/c-get-logged-in-user-email-address-from-logged-in-user-in-active-directory-iis/59080371#59080371", "title": "C# Get Logged in user email address from logged in user in Active Directory, IIS", "body": "<p>For users to be logged in automatically, you need to use Windows Authentication. For that to work, there are a few prerequisites:</p>\n\n<ol>\n<li>The users must be logged into Windows with the account they will use to authenticate to your website.</li>\n<li>Your website must be added to the Trusted Sites in Internet Options in Windows (or considered an \"Intranet Site\") so that IE and Chrome will automatically send the credentials. Firefox has its own setting called <code>network.negotiate-auth.trusted-uris</code>.</li>\n<li>Your server must be joined to a domain with a trust to the domain of the users (usually it's the same domain).</li>\n</ol>\n\n<p>If all those things are true, then you can follow the instructions <a href=\"https://docs.microsoft.com/en-us/iis/configuration/system.webserver/security/authentication/windowsauthentication/#windows-server-2012-or-windows-server-2012-r2\" rel=\"nofollow noreferrer\">here</a> to install the Windows Authentication feature in IIS (depending on your version). If you're using IIS Express for running it locally, then you can skip this step on your development machine.</p>\n\n<p>Then enable the use of Windows Authentication in your website by modifying your web.config file. Add this under the <code>&lt;system.web&gt;</code> tag:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;authentication mode=\"Windows\" /&gt;\n</code></pre>\n\n<p>And add this under <code>&lt;system.webServer&gt;</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security&gt;\n    &lt;authentication&gt;\n        &lt;windowsAuthentication enabled=\"true\" /&gt;\n        &lt;anonymousAuthentication enabled=\"false\" /&gt;\n    &lt;/authentication&gt;\n&lt;/security&gt;\n</code></pre>\n\n<p>Then, as long as your website is trusted by the browser (step 2 above), you will automatically be logged in. The username of the logged on user will be <code>User.Identity.Name</code>. All of the code you show will work, however you don't need to call <code>System.Web.Hosting.HostingEnvironment.Impersonate()</code>.</p>\n"}], "owner": {"reputation": 1076, "user_id": 2811530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8SGhA.png?s=128&g=1", "display_name": "Morgs", "link": "https://stackoverflow.com/users/2811530/morgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574902465, "creation_date": 1574890148, "question_id": 59078695, "link": "https://stackoverflow.com/questions/59078695/c-get-logged-in-user-email-address-from-logged-in-user-in-active-directory-iis", "title": "C# Get Logged in user email address from logged in user in Active Directory, IIS", "body": "<p>I am developing an MVC app and I would like to auto login users into the system by retrieving their email address from Active Directory, use that email address to find a user in my database, if found log them into the system. The Idea is for the system to not force the user to input login details after already logging into their workstation that is setup on a work domain/Active Directory.</p>\n\n<p>Please help me with pointers on this as I've tried most approaches described in many threads.</p>\n\n<ul>\n<li>I've set my IIS app pool to Network Service</li>\n<li>ASP.NET Impersonation is disabled.. </li>\n<li>I've enabled Load User Profile in app pool -> Advanced Settings</li>\n</ul>\n\n<p>When I use the code below, the search fails:</p>\n\n<pre><code>using ( System.Web.Hosting.HostingEnvironment.Impersonate() )\n{\n    PrincipalContext ctx = new PrincipalContext( ContextType.Domain );\n\n    UserPrincipal user = UserPrincipal.FindByIdentity( ctx, User.Identity.Name );\n\n    Response.Write( \"User: \" + User.Identity.Name );\n    Response.Write( user.EmailAddress );\n    Response.Flush();\n    Response.End();\n}\n</code></pre>\n\n<p>Error: <code>The (&amp;(objectCategory=user)(objectClass=user)(|(userPrincipalName=)(distinguishedName=)(name=))) search filter is invalid.</code></p>\n\n<p>Can someone please point me into the right direction of what I am trying to achieve? Am I approaching my requirement wrongly?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "task-parallel-library", "system.reactive"], "comments": [{"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 1, "creation_date": 1574895924, "post_id": 59078687, "comment_id": 104396240, "body": "The phrase <i>task not obeying revocation of the cancellation token</i> is a bit unclear. Do you mean that your tasks do not support cancellation? If yes, would it be a solution to use cancelable wrappers around the non-cancelable tasks?"}, {"owner": {"reputation": 821, "user_id": 817239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa186eaa8c12fe51ec69392b5cb6b2d?s=128&d=identicon&r=PG", "display_name": "gooid", "link": "https://stackoverflow.com/users/817239/gooid"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1574898864, "post_id": 59078687, "comment_id": 104396939, "body": "Fair point, I&#39;ll edit the text to simplify but, yes in this case the tasks might never cancel (as in my example) or maybe that they are just very slow to cancel. I think I&#39;m less worried about making sure they can be cancelled (in the real world, they should cancel just fine), rather I want to guarantee that the next task <i>will not</i> start until the previous task has completed AND doing this with the semantics of Switch(), where the token is canclled so the tear down is cleaner."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 1, "creation_date": 1574900120, "post_id": 59078687, "comment_id": 104397192, "body": "I checked out that your code behaves desirably by using <code>Concat</code> instead of <code>Switch</code>. <code>Concat</code> is evaluated lazily, while <code>Switch</code> is not. So I think that by using <code>Concat</code> combined with instantly cancelable tasks you&#39;ll get the guarantees you want. Look <a href=\"https://stackoverflow.com/questions/57868078/how-to-get-effect-of-task-whenany-for-a-task-and-cancellationtoken/57870110#57870110\">here</a> for a way to create cancelable wrappers of tasks."}], "owner": {"reputation": 821, "user_id": 817239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa186eaa8c12fe51ec69392b5cb6b2d?s=128&d=identicon&r=PG", "display_name": "gooid", "link": "https://stackoverflow.com/users/817239/gooid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574899126, "creation_date": 1574890113, "last_edit_date": 1574899126, "question_id": 59078687, "link": "https://stackoverflow.com/questions/59078687/guaranteeing-serial-task-execution-with-rx-when-using-observable-fromasync-and-t", "title": "Guaranteeing serial task execution with Rx when using Observable.FromAsync and the Switch operator?", "body": "<p>I'm trying to use <code>Observable.FromAsync()</code> in combination with <code>Switch()</code> to execute a task until a new notification comes in, something a bit like this:</p>\n\n<pre><code>public static async void Main(string[] args)\n{\n    var pump = Observable.Range(0, 3);\n    var sub = pump.Select(_ =&gt; Observable.FromAsync(ct =&gt; Run(ct, _))).Switch();\n    await sub.ToTask();\n}\n\nprivate static async Task Run(CancellationToken ct, int i)\n{\n    Console.WriteLine($\"Started {i}\");\n    while (true) await Task.Delay(TimeSpan.FromSeconds(1)); // note not using ct on purpose\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>Started 0\nStarted 1\nStarted 2\n</code></pre>\n\n<p>But this is not quite what I want. I would like the tasks produced by the <code>FromAsync()</code> call to only ever be executed serially and exclusively, so in the case where the task does not support cancellation (or the cancellation is very slow) I want the output to be just:</p>\n\n<pre><code>Started 0\n</code></pre>\n\n<p>In effect, the observable should now become blocked until the previous task has completed.</p>\n\n<p>I know <code>Concat()</code> can be used instead of <code>Switch()</code> to remove parallelism in this situation, but the semantic of this is different; it won't unsubscribe from the current observable and so the cancellation token will not get revoked and the task cannot gracefully stop. It's important that we try to cancel the token so I can wind down the task, not just replace it.</p>\n\n<p><strong>Note</strong>: If we amend <code>Run()</code> to pass the cancellation token to the <code>Task.Delay()</code> call we see it outputs the same three lines, which is desired.</p>\n\n<p>My workaround at the moment involves using a semaphore in the <code>Run()</code> method, this is simple but not ideal. I feel like I should be able to solve this at the Rx layer. </p>\n"}, {"tags": ["c#", "visual-studio", "unity3d", "game-development"], "comments": [{"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1574890430, "post_id": 59078612, "comment_id": 104394567, "body": "What is your actual error? When you create a new c# file in Unity the class is named whatever you name the file. It isn&#39;t clear if that is what you&#39;re talking about or not."}, {"owner": {"reputation": 1, "user_id": 12433815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAraDrJ5tN9WWL3y9xGNNnBFlJRRGxYVFgooWUV9w=k-s128", "display_name": "Fauzan P", "link": "https://stackoverflow.com/users/12433815/fauzan-p"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1574890950, "post_id": 59078612, "comment_id": 104394740, "body": "<a href=\"https://imgur.com/a/oqH4jEQ\" rel=\"nofollow noreferrer\">imgur.com/a/oqH4jEQ</a>"}, {"owner": {"reputation": 1, "user_id": 12433815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAraDrJ5tN9WWL3y9xGNNnBFlJRRGxYVFgooWUV9w=k-s128", "display_name": "Fauzan P", "link": "https://stackoverflow.com/users/12433815/fauzan-p"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1574891023, "post_id": 59078612, "comment_id": 104394759, "body": "Its always showing like that, i dont know what&#39;s wrong with my code that it cannot be added to the sprite. I checked what MonoBehaviour is and OnTriggerEnter2D is one of it, so im not sure where i go wrong."}, {"owner": {"reputation": 1, "user_id": 12433815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAraDrJ5tN9WWL3y9xGNNnBFlJRRGxYVFgooWUV9w=k-s128", "display_name": "Fauzan P", "link": "https://stackoverflow.com/users/12433815/fauzan-p"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1574891286, "post_id": 59078612, "comment_id": 104394852, "body": "When i tried to create new script through &quot;New component&quot;, the script always not recognized instantly, and when i try to put it back, it goes like that. every single new script."}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1574896525, "post_id": 59078612, "comment_id": 104396389, "body": "Your error is for a script called <code>AssemblyInfo</code> and you&#39;ve shown us <code>Testing</code>"}], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 6216954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065bf407ecc1c08a1e3e35ecb4d7ca4a?s=128&d=identicon&r=PG&f=1", "display_name": "D.Christodoulou", "link": "https://stackoverflow.com/users/6216954/d-christodoulou"}, "is_accepted": false, "score": -1, "last_activity_date": 1574896408, "creation_date": 1574896408, "answer_id": 59079662, "question_id": 59078612, "link": "https://stackoverflow.com/questions/59078612/monobehaviour-scripts-in-the-file-or-their-names-dont-match-the-file-name-on-n/59079662#59079662", "title": "Monobehaviour scripts in the file, or their names don&#39;t match the file name on newly made script", "body": "<p>Welcome to Stackoverflow!</p>\n\n<p>This issue is mostly caused when you create a script outside the Unity Editor, i.e. in your IDE or editor of choice. Whenever you want to create a script, you need to create it inside the Editor, by <strong>right-clicking</strong> in your project folder and selecting \"<strong>New C# Script</strong>\".</p>\n\n<p>If you do create your script inside Unity, you need to make sure that the class name (in your case, \"Testing\") <strong>is the same as the script file name</strong>.</p>\n\n<p>Regardless of whether these solutions work for you, please make sure to search for answers before posting, as there are multiple duplicate issues in the Unity forums.</p>\n"}], "owner": {"reputation": 1, "user_id": 12433815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAraDrJ5tN9WWL3y9xGNNnBFlJRRGxYVFgooWUV9w=k-s128", "display_name": "Fauzan P", "link": "https://stackoverflow.com/users/12433815/fauzan-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574896408, "creation_date": 1574889708, "question_id": 59078612, "link": "https://stackoverflow.com/questions/59078612/monobehaviour-scripts-in-the-file-or-their-names-dont-match-the-file-name-on-n", "title": "Monobehaviour scripts in the file, or their names don&#39;t match the file name on newly made script", "body": "<p>Why all my newly created script always have this error? Even though i had put in my intended code, all my script always show like this.\nmy code is this:</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Testing : MonoBehaviour\n{\n\n    public GameObject obj;\n    // Start is called before the first frame update\n    void Start()\n    {\n        obj = GetComponent&lt;GameObject&gt;();\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n\n    }\n    private void OnTriggerEnter2D(Collider2D collision)\n    {\n        collision.transform.position = obj.transform.position;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xamarin", "android-intent", "xamarin.android", "intentfilter"], "comments": [{"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1575249238, "post_id": 59078568, "comment_id": 104491035, "body": "could it work now ?"}], "answers": [{"comments": [{"owner": {"reputation": 1125, "user_id": 10673107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af7b038fd4ece99899155691ef064e4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Vreeswijk", "link": "https://stackoverflow.com/users/10673107/a-vreeswijk"}, "edited": false, "score": 0, "creation_date": 1574928393, "post_id": 59080549, "comment_id": 104404334, "body": "Where do I need to put the code to get the uri parameter?"}], "tags": [], "owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1574928705, "last_edit_date": 1574928705, "creation_date": 1574904422, "answer_id": 59080549, "question_id": 59078568, "link": "https://stackoverflow.com/questions/59078568/xamarin-android-start-app-using-link-with-parameters/59080549#59080549", "title": "Xamarin Android Start app using link with parameters", "body": "<p>A complete URL Scheme protocol format consists of Scheme, host, port, path, and query. The structure is as follows:</p>\n\n<pre><code>&lt;scheme&gt;://&lt;host&gt;:&lt;port&gt;/&lt;path&gt;?&lt;query&gt;\n</code></pre>\n\n<p>and receive data in the called Activity like:</p>\n\n<pre><code>[IntentFilter(new[] { Intent.ActionView },\nCategories = new[] { Intent.CategoryDefault, Intent.CategoryBrowsable },\nDataScheme = \"urlschemetest2\",\nDataHost = \"testurl.com\")]\n</code></pre>\n\n<p>the link :</p>\n\n<pre><code>&lt;a href=\"urlschemetest2://testurl.com/?firstname=john&amp;lastname=doe\"&gt;Test Opening App&lt;/a&gt;\n</code></pre>\n\n<p>get the parameter :</p>\n\n<pre><code> protected override void OnNewIntent(Intent intent)\n {\n   Android.Net.Uri uri  = Intent.Data;\n   if(uri != null)\n   {\n      string firstName = uri.GetQueryParameter(\"firstname\");\n      string lastName = uri.GetQueryParameter(\"lastname\");\n   }\n   base.OnNewIntent(intent);\n }\n</code></pre>\n"}], "owner": {"reputation": 1125, "user_id": 10673107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af7b038fd4ece99899155691ef064e4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Vreeswijk", "link": "https://stackoverflow.com/users/10673107/a-vreeswijk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 662, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574928705, "creation_date": 1574889468, "question_id": 59078568, "link": "https://stackoverflow.com/questions/59078568/xamarin-android-start-app-using-link-with-parameters", "title": "Xamarin Android Start app using link with parameters", "body": "<p>I have a problem. I created a IntentFilter so my app launches when clicked on a specific link. Here is my IntentFilter:</p>\n\n<pre><code>[IntentFilter(new[] { Intent.ActionView },\nCategories = new[] { Intent.CategoryDefault, Android.Content.Intent.CategoryBrowsable },\nDataScheme = \"myapplication.app\"\n)]\n</code></pre>\n\n<p>And here is the link:</p>\n\n<pre><code>&lt;a href='myapplication.app://'&gt;here&lt;/a&gt;\n</code></pre>\n\n<p>But how can I pass a parameter (integer) in that link and how can I use that parameter in my C# code?</p>\n"}, {"tags": ["c#", "sql", "linq", "type-conversion"], "comments": [{"owner": {"reputation": 6025, "user_id": 511012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cd8ba81a1b2f40ea92e5abbb1c80a81?s=128&d=identicon&r=PG", "display_name": "Ian Newson", "link": "https://stackoverflow.com/users/511012/ian-newson"}, "edited": false, "score": 0, "creation_date": 1574890509, "post_id": 59078522, "comment_id": 104394587, "body": "LINQ to SQL? As in, the decade old precursor to Entity Framework? Just want to make sure as LINQ to SQL is dead and you probably shouldn&#39;t use it if possible."}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 487909, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lrhhE.gif?s=128&g=1", "display_name": "Hypersapien", "link": "https://stackoverflow.com/users/487909/hypersapien"}, "edited": false, "score": 0, "creation_date": 1574889890, "post_id": 59078607, "comment_id": 104394355, "body": "So, in other words, there is no way to do it? Even though SQL is perfectly capable of converting a string to an int, Linq to SQL has no features that can translate into a SQL CAST() or CONVERT() function?"}, {"owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "reply_to_user": {"reputation": 566, "user_id": 487909, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lrhhE.gif?s=128&g=1", "display_name": "Hypersapien", "link": "https://stackoverflow.com/users/487909/hypersapien"}, "edited": false, "score": 0, "creation_date": 1574890043, "post_id": 59078607, "comment_id": 104394401, "body": "Not that I know about. If there was some way it may be unnecessarily complex. This method, as far as I know, has been the standard anywhere I&#39;ve worked. How do you handle if the parse fails? If it&#39;s null?"}, {"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574890147, "post_id": 59078607, "comment_id": 104394437, "body": "I agree that this sounds more like a business concern. Why isn&#39;t the field an integer in the database to begin with if that&#39;s the desired type?"}], "tags": [], "owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889680, "creation_date": 1574889680, "answer_id": 59078607, "question_id": 59078522, "link": "https://stackoverflow.com/questions/59078522/in-linq-to-sql-how-can-you-convert-a-string-to-an-int/59078607#59078607", "title": "In LINQ to SQL, how can you convert a string to an int?", "body": "<p>Make an entity that matches the schema of the sql table <strong><em>Exactly</em></strong>.</p>\n\n<p>Make another model that matches your business needs and make a method to map your entity to your business model.</p>\n"}, {"comments": [{"owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1574890131, "post_id": 59078651, "comment_id": 104394426, "body": "This would be good for querying. I believe he also wants his model to contain the result as an integer so it would need to convert the query result."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1574890398, "post_id": 59078651, "comment_id": 104394550, "body": "Just call ToList() on the linq query that will load the collection in memory and will support the .Net convert methods."}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889932, "creation_date": 1574889932, "answer_id": 59078651, "question_id": 59078522, "link": "https://stackoverflow.com/questions/59078522/in-linq-to-sql-how-can-you-convert-a-string-to-an-int/59078651#59078651", "title": "In LINQ to SQL, how can you convert a string to an int?", "body": "<p>There's no supported conversion from string to integer in Linq to SQL. However, there is a utility class that has methods that can be converted into SQL expression.\n<code>System.Data.Entity.SqlServer.SqlFunctions</code> has methods that are supported in Linq to Sql. So in your case, You can convert your local integer to string using <code>SqlFunctions.StringConvert()</code> and compare them. </p>\n\n<pre><code>E.g. yourTable.Where(r =&gt; r.Field == SqlFunction.StringConvert(&lt;your integer&gt;));\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 487909, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lrhhE.gif?s=128&g=1", "display_name": "Hypersapien", "link": "https://stackoverflow.com/users/487909/hypersapien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574891981, "creation_date": 1574889219, "last_edit_date": 1574891981, "question_id": 59078522, "link": "https://stackoverflow.com/questions/59078522/in-linq-to-sql-how-can-you-convert-a-string-to-an-int", "title": "In LINQ to SQL, how can you convert a string to an int?", "body": "<p>I have a table in the database that contains a <code>varchar</code> field that <code>integer</code> data is stored in. How can I convert the <code>string</code> to an <code>int</code> in a LINQ function so that I can query on that field? Neither <code>Convert.toInt32()</code> nor <code>int.parse()</code> work inside a LINQ Entities function (they work when you're querying a list that's already in memory, but not when the function chain is going to be converted to a SQL query and sent to be executed by the database).</p>\n"}, {"tags": ["c#", "unity3d", "task"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 2, "creation_date": 1574888967, "post_id": 59078402, "comment_id": 104394033, "body": "Exception handling is a pet peeve of mine, and yours is bad. You catch fatal exceptions and only log the message. There are two articles I link often on the mater. When you get some time, they are worth a read: <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2008/09/10/vexing-exceptions/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/ericlippert/2008/09/10/&hellip;</a> | <a href=\"https://www.codeproject.com/Articles/9538/Exception-Handling-Best-Practices-in-NET\" rel=\"nofollow noreferrer\">codeproject.com/Articles/9538/&hellip;</a>"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 2, "creation_date": 1574889116, "post_id": 59078402, "comment_id": 104394094, "body": "Upon closer inspection, you also do not seem to clean up your Unmanaged Resources. <code>socket</code> and <code>stream </code> are the standout variable with that issue."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574891456, "post_id": 59078402, "comment_id": 104394917, "body": "Side note: parsing one line of JSON on separate thread will likely be more expensive than just doing it on the same thread... but ohhh well threads need to be used to just be used. :)"}, {"owner": {"reputation": 2172, "user_id": 2661419, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/iPQFJ.jpg?s=128&g=1", "display_name": "Venelin", "link": "https://stackoverflow.com/users/2661419/venelin"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574891542, "post_id": 59078402, "comment_id": 104394947, "body": "@AlexeiLevenkov it is a task not a thread."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574893087, "post_id": 59078402, "comment_id": 104395438, "body": "@VenelinVasilev You mean tasks don&#39;t need thread to run on or something else? In regular framework default scheduler will run task on separate thread in threadpool with all related extra synchronization overhead (in additional to scheduling overhead)... I don&#39;t know if Unity3d does the same or uses a scheduler that runs all tasks on the main thread but still there is non-trivial scheduling overhead ..."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574922817, "post_id": 59078402, "comment_id": 104402193, "body": "@AlexeiLevenkov I think it pretty much depends on the size of the JSON. In Unity you want to max out the framerate .. so push on a thread whatever you can! If this causes the overall task to take some milliseconds longer it is more acceptable then having one or multiple frames taking longer ;)"}], "answers": [{"tags": [], "owner": {"reputation": 11026, "user_id": 229247, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c25256522a2834a32c3576f5ced474a9?s=128&d=identicon&r=PG", "display_name": "Paul Wheeler", "link": "https://stackoverflow.com/users/229247/paul-wheeler"}, "is_accepted": false, "score": 1, "last_activity_date": 1574890392, "last_edit_date": 1574890392, "creation_date": 1574889738, "answer_id": 59078618, "question_id": 59078402, "link": "https://stackoverflow.com/questions/59078402/c-does-calling-task-result-wait-until-result-is-returned-before-returning/59078618#59078618", "title": "C# - Does calling Task.Result wait until result is returned before returning", "body": "<p>When a thread invokes <code>Task.Result</code> it will block until the Task completes, either by returning a value, throwing an exception, or being canceled. From <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task-1.result?view=netframework-4.8\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Accessing the property's get accessor blocks the calling thread until the asynchronous operation is complete; it is equivalent to calling the Wait method.</p>\n</blockquote>\n\n<p>So, to be clear, calling <code>Task&lt;JsonData&gt;.Factory.StartNew</code> creates a <code>Task</code> (which represents some computation to be executed), and schedules it for execution (when it gets executed and on what thread is up to the default <code>TaskScheduler</code>, but <code>StartNew</code> should return immediately). Your call to <code>UnityThread.executeInUpdate</code> will then happen without waiting for the <code>Task</code> you created to complete. At the point where <code>UnityThread</code> calls the anonymous function you passed to <code>executeInUpdate</code> that thread will block until the <code>Task</code> completes. I'm not familiar with <code>UnityThread.executeInUpdate</code> so I cannot tell you whether it will block until that callback completes or not.</p>\n\n<p>One thing to be aware of is that depending on how Unity works with threads, it is possible to create a deadlock by accessing the <code>Result</code> property. In some cases a Task will attempt to use a specific context to execute, and if you cause that context to block waiting for the Task to complete, it will never get a chance to run: <a href=\"https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow noreferrer\">https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1574922971, "post_id": 59078846, "comment_id": 104402237, "body": "I guess you are referring to <a href=\"https://stackoverflow.com/questions/41330771/use-unity-api-from-another-thread-or-call-a-function-in-the-main-thread\">this</a>? Would be good to include it in the answer since <code>UnityThread</code> is not a built-in type..."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1575043707, "post_id": 59078846, "comment_id": 104447532, "body": "I used the code from OP&#39;s question. The answer is to point out the correct usage of asynchronous code."}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": false, "score": 1, "last_activity_date": 1574890924, "creation_date": 1574890924, "answer_id": 59078846, "question_id": 59078402, "link": "https://stackoverflow.com/questions/59078402/c-does-calling-task-result-wait-until-result-is-returned-before-returning/59078846#59078846", "title": "C# - Does calling Task.Result wait until result is returned before returning", "body": "<p>If you want to wait for the result then what is the point of using the <code>Task</code>. The right way of doing thing asynchronously is making your function async all the way. </p>\n\n<pre><code>public async void ConnectToWorldServer()\n{\n   .....\n   .....\n// Here await will put this method call on a queue to finish later and will return from this method. \n         Task&lt;JsonData&gt; jsonConvert = await Task&lt;JsonData&gt;.Factory.StartNew(() =&gt; convertJson(sdata));\n// After the task is finished, it will resume to this method here to execute next statement. \n         UnityThread.executeInUpdate(() =&gt;\n         {\n            OnIncomingData(jsonConvert.Result);\n         });\n   .....\n   .....\n}\n</code></pre>\n"}], "owner": {"reputation": 2172, "user_id": 2661419, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/iPQFJ.jpg?s=128&g=1", "display_name": "Venelin", "link": "https://stackoverflow.com/users/2661419/venelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574890924, "creation_date": 1574888673, "last_edit_date": 1574889878, "question_id": 59078402, "link": "https://stackoverflow.com/questions/59078402/c-does-calling-task-result-wait-until-result-is-returned-before-returning", "title": "C# - Does calling Task.Result wait until result is returned before returning", "body": "<p>Here is my code:</p>\n\n<pre><code>public void ConnectToWorldServer()\n{\n    if (socketReady)\n    {\n        return;\n    }\n    //Default host and port values;\n    string host = ClientWorldServer.ServerIP;\n    int port = ClientWorldServer.TCPPort;\n\n    //ClientLoginServer ClientLoginServer = new ClientLoginServer();\n\n\n    try\n    {\n\n        socket = new TcpClient(host, port);\n        stream = socket.GetStream();\n        socket.NoDelay = true;\n        writer = new StreamWriter(stream);\n        reader = new StreamReader(stream);\n        socketReady = true;\n        //Preserve the connection to worldserver thrue scenes\n        UnityThread.executeInUpdate(() =&gt;\n        {\n            DontDestroyOnLoad(worldserverConnection);\n        });\n\n        // Start listening for connections.\n        while (true)\n        {\n            if (socketReady)\n            {\n                if (stream.DataAvailable)\n                {\n                    string sdata = reader.ReadLine();\n                    if (sdata != null)\n                    {\n\n                        Task&lt;JsonData&gt; jsonConvert = Task&lt;JsonData&gt;.Factory.StartNew(() =&gt; convertJson(sdata));\n                        UnityThread.executeInUpdate(() =&gt;\n                        {\n                            OnIncomingData(jsonConvert.Result);\n                        });\n                    }\n                }\n            }\n        }\n    }\n    catch (Exception e)\n    {\n        Debug.Log(\"Socket error : \" + e.Message);\n    }\n\n}\n\nprivate JsonData convertJson(string data)\n{\n    return JsonConvert.DeserializeObject&lt;JsonData&gt;(data);    \n}\n</code></pre>\n\n<p>What I am wondering now is does this part of the code:</p>\n\n<pre><code>UnityThread.executeInUpdate(() =&gt;\n{\n    OnIncomingData(jsonConvert.Result);\n});\n</code></pre>\n\n<p>block until this task returns back a result:</p>\n\n<pre><code>Task&lt;JsonData&gt; jsonConvert = Task&lt;JsonData&gt;.Factory.StartNew(() =&gt; convertJson(sdata));\n</code></pre>\n\n<p>I am really not that familiar with Tasks. My goal is to run the json conversion and then execute <code>OnIncomingData(jsonConvert.Result);</code>.</p>\n\n<p>I think my code is not doing that. Why?</p>\n"}, {"tags": ["c#", "visual-studio", "windows-forms-designer"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1574888727, "post_id": 59078372, "comment_id": 104393949, "body": "You don&#39;t close the file after reading from it. Missing <i>inputFile.Close()</i> but it is better to use the <i>using</i> statement IE <i>using(StreamReader inputFile = new StreamReader(....))</i>"}, {"owner": {"reputation": 159, "user_id": 11968952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba244760c6aac7ac62eb644a78398c3c?s=128&d=identicon&r=PG&f=1", "display_name": "ETHan", "link": "https://stackoverflow.com/users/11968952/ethan"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1574888931, "post_id": 59078372, "comment_id": 104394020, "body": "whre is inputFile.Close() suppose to go?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1574889387, "post_id": 59078372, "comment_id": 104394187, "body": "After you have finished to read. But, again, look at how to use the <i>using</i> statement. This is a lot better when you need to be sure that resources like file handles are fred as soon as possible"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 11968952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba244760c6aac7ac62eb644a78398c3c?s=128&d=identicon&r=PG&f=1", "display_name": "ETHan", "link": "https://stackoverflow.com/users/11968952/ethan"}, "edited": false, "score": 0, "creation_date": 1574890392, "post_id": 59078674, "comment_id": 104394547, "body": "Thanks that did work, but then it just overloaded the file. I stopped it by appending instead of writting."}], "tags": [], "owner": {"reputation": 46, "user_id": 11336881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ceafe2a0498a912753b37fa459731a6?s=128&d=identicon&r=PG&f=1", "display_name": "JHatok", "link": "https://stackoverflow.com/users/11336881/jhatok"}, "is_accepted": true, "score": 3, "last_activity_date": 1574890035, "creation_date": 1574890035, "answer_id": 59078674, "question_id": 59078372, "link": "https://stackoverflow.com/questions/59078372/windows-form-c-reading-and-writing-to-the-same-file-on-the-same-form-error/59078674#59078674", "title": "Windows Form c# Reading and Writing to the same File on the same form Error?", "body": "<p>As Steve mentioned you make use of the using statement while reading and writing to the file.  </p>\n\n<pre><code>using (StreamReader inputFile = File.OpenText(\"students.txt\"))\n        {\n\n            while (!inputFile.EndOfStream)\n            {\n                PersonEntry person = new PersonEntry();\n\n                person.Name = inputFile.ReadLine();\n                person.AverageScore = inputFile.ReadLine();\n                person.LetterGrade = inputFile.ReadLine();\n            }\n        }\n\n        using (StreamWriter outputFile = File.CreateText(\"students.txt\"))\n        {\n            // Write the info to the file. \n            outputFile.WriteLine(nameTextBox.Text);\n            outputFile.WriteLine(average);\n            outputFile.WriteLine(\"F\");\n            outputFile.Close();\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 11968952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba244760c6aac7ac62eb644a78398c3c?s=128&d=identicon&r=PG&f=1", "display_name": "ETHan", "link": "https://stackoverflow.com/users/11968952/ethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 59078674, "answer_count": 1, "score": 0, "last_activity_date": 1574890035, "creation_date": 1574888509, "last_edit_date": 1592644375, "question_id": 59078372, "link": "https://stackoverflow.com/questions/59078372/windows-form-c-reading-and-writing-to-the-same-file-on-the-same-form-error", "title": "Windows Form c# Reading and Writing to the same File on the same form Error?", "body": "<p>I am currently trying to complete this c# windows form application. I am running into trouble.</p>\n<p>Here is an image of my form...</p>\n<p><a href=\"https://i.stack.imgur.com/KHBwH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHBwH.png\" alt=\"enter image description here\" /></a></p>\n<p>The point of this form is too allow a user to input the data above. On the back end it should find the lowest test score, remove it from an array, and then when the user clicks &quot;save student&quot;, the 3 lines of data ( The &quot;Student Name&quot;, avg of 5 Test, and Letter grade based on the average ), should be saved to the students.txt file.</p>\n<p><em><strong>HOWEVER, my issue is can be seen in the list box below. My issue is that I am loading the data from the &quot;students.txt&quot; file ( using pre filled dummy data ), and I am getting an error each time I try to save the student ( because I cant read and write to the same file ) and the program will stop running.</strong></em></p>\n<p>Clicking on any of the pre filled data brings up another form with the data loaded into labels and that works just fine...\n<a href=\"https://i.stack.imgur.com/RxtvJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RxtvJ.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I stop this error so I can proceed with my work? I also am having trouble understanding the instructions where the data should be in a 2d array.</p>\n<p>Here is an image of the instructions before I move on with my code. I am sure I can diverge from the instructions a bit.</p>\n<p><a href=\"https://i.stack.imgur.com/fVuev.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fVuev.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code for my main Form...</p>\n<pre><code>namespace Tes3Part2\n{\n    public partial class Form1 : Form\n    {\n        private List&lt;PersonEntry&gt; contactList = new List&lt;PersonEntry&gt;();\n        private List&lt;string&gt; contactListNames = new List&lt;string&gt;();\n\n        private InfromationForm personInfo = new InfromationForm();\n\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n\n\n            try\n            {\n                StreamReader inputFile = File.OpenText(&quot;students.txt&quot;);\n\n                while (!inputFile.EndOfStream)\n                {\n                    PersonEntry person = new PersonEntry();\n\n                    person.Name = inputFile.ReadLine();\n                    person.AverageScore = inputFile.ReadLine();\n                    person.LetterGrade = inputFile.ReadLine();\n\n                    contactList.Add(person);\n                    contactListNames.Add(person.Name);\n                }\n\n                contactListNames.Sort();\n\n                int x = 0;\n\n                while (x &lt; contactListNames.Count)\n                {\n                    contactList.Insert(x, contactList[SequentialSearch(contactList, contactListNames[x])]);\n                    studentsListBox.Items.Add(contactList[x].Name);\n                    x++;\n                }\n\n            }\n            catch\n            {\n                MessageBox.Show(&quot;Welcome.&quot;);\n            }\n\n\n        }\n        private int SequentialSearch(List&lt;PersonEntry&gt; inputList, string value)\n        {\n            bool found = false;\n            int index = 0;\n            int position = -1;\n\n            while (!found &amp;&amp; index &lt; inputList.Count)\n            {\n                if (inputList[index].Name == value)\n                {\n                    found = true;\n                    position = index;\n                }\n\n                index++;\n            }\n\n            return position;\n        }\n\n        private void StudentsListBox_SelectedIndexChanged(object sender, EventArgs e)\n        {\n            personInfo.nameLabel.Text = contactList[studentsListBox.SelectedIndex].Name;\n            personInfo.scoreLabel.Text = contactList[studentsListBox.SelectedIndex].AverageScore;\n            personInfo.letterLabel.Text = contactList[studentsListBox.SelectedIndex].LetterGrade;\n            personInfo.ShowDialog();\n        }\n\n        private void Button1_Click(object sender, EventArgs e)\n        {\n\n            double test1 = (double.Parse(t1TestBox.Text));\n            double test2 = (double.Parse(t1TestBox.Text));\n            double test3 = (double.Parse(t1TestBox.Text));\n            double test4 = (double.Parse(t1TestBox.Text));\n            double test5 = (double.Parse(t1TestBox.Text));\n            double average = (test1 * test2 * test3 * test4 * test5) / 5;\n\n            // Declare a StreamWriter variable. \n            StreamWriter outputFile;\n            // Create a file and get a StreamWriter object.\n            outputFile = File.CreateText(&quot;students.txt&quot;);\n            // Write the info to the file. \n            outputFile.WriteLine(nameTextBox.Text);\n            outputFile.WriteLine(average);\n            outputFile.WriteLine(&quot;F&quot;);\n            outputFile.Close();\n\n            // Let the user know the name was written. \n            MessageBox.Show(&quot;The employee's name was added to the file EmployeePayroll.txt, located&quot; +\n                &quot;in the Debug File&quot;);\n\n        }\n\n        private void ExitButton_Click(object sender, EventArgs e)\n        {\n            this.Close();\n        }\n    }\n</code></pre>\n<p>Here is the code for my Person Class</p>\n<pre><code>class PersonEntry\n    {\n        private string _name;\n        private string _average;\n        private string _letterGrade;\n\n        public PersonEntry()\n        {\n            _name = &quot;&quot;;\n            _average = &quot;&quot;;\n            _letterGrade = &quot;&quot;;\n        }\n\n        public string Name\n        {\n            get { return _name; }\n            set { _name = value; }\n        }\n\n        public string AverageScore\n        {\n            get { return _average; }\n            set { _average = value; }\n        }\n\n        public string LetterGrade\n        {\n            get { return _letterGrade; }\n            set { _letterGrade = value; }\n        }\n\n    }\n</code></pre>\n<p>Thank you in advance for all of your help!</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "xamarin.ios", "material-design"], "answers": [{"tags": [], "owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "is_accepted": false, "score": 1, "last_activity_date": 1574932553, "creation_date": 1574932553, "answer_id": 59085289, "question_id": 59078219, "link": "https://stackoverflow.com/questions/59078219/how-to-disable-materialpickerrenderer-from-changing-underline-opacity-in-xamarin/59085289#59085289", "title": "How to disable MaterialPickerRenderer from changing underline opacity in Xamarin.Forms Material Visual", "body": "<p>Try to set <code>Control.Underline.Layer.BorderColor</code> instead:</p>\n\n<pre><code>[assembly: ExportRenderer(typeof(Picker), typeof(TitledMaterialPickerRenderer), new[] { typeof(VisualMarker.MaterialVisual) })]\nnamespace VisualDemos.iOS\n{\n    public class TitledMaterialPickerRenderer : MaterialPickerRenderer\n    {\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Picker&gt; e)\n        {\n            base.OnElementChanged(e);\n            if (Control != null)\n            {\n                Control.Underline.Layer.BorderColor = UIColor.Clear.FromHex(0x46433E).CGColor;\n                Control.Underline.Layer.BorderWidth = 1;\n            }\n        }\n    }\n\n    public static class UIColorExtensions\n    {\n        public static UIColor FromHex(this UIColor color, int hexValue)\n        {\n            return UIColor.FromRGB(\n                (((float)((hexValue &amp; 0xFF0000) &gt;&gt; 16)) / 255.0f),\n                (((float)((hexValue &amp; 0xFF00) &gt;&gt; 8)) / 255.0f),\n                (((float)(hexValue &amp; 0xFF)) / 255.0f)\n            );\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 6105256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19jVY.png?s=128&g=1", "display_name": "joshykautz", "link": "https://stackoverflow.com/users/6105256/joshykautz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574932553, "creation_date": 1574887762, "question_id": 59078219, "link": "https://stackoverflow.com/questions/59078219/how-to-disable-materialpickerrenderer-from-changing-underline-opacity-in-xamarin", "title": "How to disable MaterialPickerRenderer from changing underline opacity in Xamarin.Forms Material Visual", "body": "<p>I have created a custom renderer to extend the <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/user-interface/visual/material-visual\" rel=\"nofollow noreferrer\">MaterialPickerRenderer</a> that is available in Xamarin.Forms.</p>\n\n<p>The default behavior for the <strong>MaterialPickerRenderer</strong> is to render an opaque <em>underline</em> (see image below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/eNFZh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNFZh.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my custom renderer, I am trying to disable this behavior - I do not want the underline to be opaque. In my custom renderer for iOS, I have been able to set the initial underline color, however, the color is updated to an opaque color when the picker loses focus (see gif below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/5xSm3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5xSm3.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I am only focusing on the renderer for iOS at the moment. I wondering if anyone has any suggestions about how to override and disable this default MaterialPickerRenderer behavior. Below is my custom renderer code:</p>\n\n<pre><code>using System;\nusing Foundation;\nusing Solstice.Extensions;\nusing Solstice.iOS.Renderers;\nusing UIKit;\nusing Xamarin.Forms;\nusing Xamarin.Forms.Material.iOS;\nusing Xamarin.Forms.Platform.iOS;\n\n[assembly: ExportRenderer(typeof(Picker), typeof(TitledMaterialPickerRenderer), new[] { typeof(CustomVisual) })]\nnamespace Solstice.iOS.Renderers\n{\n    public class TitledMaterialPickerRenderer : MaterialPickerRenderer\n    {\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Picker&gt; e)\n        {\n            base.OnElementChanged(e);\n            if (Control != null)\n            {\n                Control.Underline.Color = UIColor.Clear.FromHex(0x46433E);\n            }\n        }\n    }\n\n    public static class UIColorExtensions\n    {\n        public static UIColor FromHex(this UIColor color, int hexValue)\n        {\n            return UIColor.FromRGB(\n                (((float)((hexValue &amp; 0xFF0000) &gt;&gt; 16)) / 255.0f),\n                (((float)((hexValue &amp; 0xFF00) &gt;&gt; 8)) / 255.0f),\n                (((float)(hexValue &amp; 0xFF)) / 255.0f)\n            );\n        }\n    }\n}\n</code></pre>\n\n<p>Any suggestions would be greatly appreciate - thank you!</p>\n"}, {"tags": ["c#", "random", "distinct", "precision"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 3, "creation_date": 1574887278, "post_id": 59078047, "comment_id": 104393342, "body": "Any quantity of random numbers is possible with any range with any precision because random numbers, by definition, are allowed to recur. If you are saying you never want to get the same number to recur you are looking for a <a href=\"https://stackoverflow.com/questions/56378647/\">shuffle</a>, not a random number."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8611161, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155105680331902/picture?type=large", "display_name": "AndrewBanjo1968", "link": "https://stackoverflow.com/users/8611161/andrewbanjo1968"}, "edited": false, "score": 0, "creation_date": 1575032159, "post_id": 59078471, "comment_id": 104442220, "body": "Thanks--good to know about shuffle.  That will be useful in the future.  BTW: it appears that the ^ symbol doesn&#39;t work for &quot;power&quot;.  Math.Pow did the trick, though."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 95, "user_id": 8611161, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155105680331902/picture?type=large", "display_name": "AndrewBanjo1968", "link": "https://stackoverflow.com/users/8611161/andrewbanjo1968"}, "edited": false, "score": 0, "creation_date": 1575055674, "post_id": 59078471, "comment_id": 104451480, "body": "@AndrewBanjo1968 sorry, I originally did not want example look like code... as indeed <code>^</code> is not power (also it is common knowledge)..."}], "tags": [], "owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1575055762, "last_edit_date": 1575055762, "creation_date": 1574888984, "answer_id": 59078471, "question_id": 59078047, "link": "https://stackoverflow.com/questions/59078047/calculate-number-of-distinct-values-between-two-numbers-at-a-given-precision/59078471#59078471", "title": "Calculate number of distinct values between two numbers at a given precision", "body": "<p>Number of items can be computed by just subtracting \"position\" of first from last (pseudo-code below, use <code>Math.Pow</code> to compute 10^x):</p>\n\n<pre><code>(int)(last * 10 ^ precision) - (int)(first * 10 ^ precision)\n</code></pre>\n\n<p>This may need to be adjusted depending on whether you want boundaries and whether you take <code>decimal</code> (precise) or <code>float</code>/<code>double</code> as input - some +/-1 and <code>Math.Round</code> may need to be sprinkled in to get desired results for all expected values.</p>\n\n<p>After you get number of items there are essentially two cases </p>\n\n<ul>\n<li>there are significantly more choices that desired results (i.e. 1 to 100, take 5 random numbers) - use code you have to filter out duplicates.</li>\n<li>there the number of choices is close or less than desired number of results (i.e. 1 to 10, return 11 random numbers) - pre-generate the list of all value and shuffle. </li>\n</ul>\n\n<p>Experiment with the boundary between \"significantly more\" and \"close\" - I'd use 25% as boundary ( i.e. 1 to 100, take 76 - use shuffling) to avoid excessive retires close to the end (which is exact reason of slowness/infinite retries  of basic approach).</p>\n\n<p>Correct implementation of shuffle is in <a href=\"https://stackoverflow.com/questions/273313/randomize-a-listt\">Randomize a List&lt;T&gt;</a> (check out similar posts like <a href=\"https://stackoverflow.com/questions/14473321/generating-random-unique-values-c-sharp\">Generating random, unique values C#</a> for more discussion).</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12447201"}, "is_accepted": true, "score": 1, "last_activity_date": 1575296236, "last_edit_date": 1575296236, "creation_date": 1574889004, "answer_id": 59078476, "question_id": 59078047, "link": "https://stackoverflow.com/questions/59078047/calculate-number-of-distinct-values-between-two-numbers-at-a-given-precision/59078476#59078476", "title": "Calculate number of distinct values between two numbers at a given precision", "body": "<p>The easiest way would probably be to convert the values to integers by multiplying them by 10 ^ precision and then subtract </p>\n\n<pre><code>int lowerInt = (int)(lower * (decimal)Math.Pow(10, precision));\nint higherInt = (int)(higher * (decimal)Math.Pow(10, precision));\nint possibleValues = higherInt - lowerInt + 1\n</code></pre>\n\n<p>I feel like it would defeat the purpose of you project to require the user to know how many possible values there are in advance, since it seems like thats what they are hitting this function for in the first place. I'm assuming that requirement was just to alleviate the technical issues you were having. You can just change your loop to this now</p>\n\n<pre><code>for (int i = 0; i &lt; possibleValues; i++)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 8611161, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155105680331902/picture?type=large", "display_name": "AndrewBanjo1968", "link": "https://stackoverflow.com/users/8611161/andrewbanjo1968"}, "is_accepted": false, "score": 0, "last_activity_date": 1575036335, "creation_date": 1575036335, "answer_id": 59106291, "question_id": 59078047, "link": "https://stackoverflow.com/questions/59078047/calculate-number-of-distinct-values-between-two-numbers-at-a-given-precision/59106291#59106291", "title": "Calculate number of distinct values between two numbers at a given precision", "body": "<p>This is what worked based on Josh Williard's answer.</p>\n\n<pre><code>public double[] GetRandomDoublesUnique(double lowerBounds, double upperBounds, int maxPrecision, int quantity)\n    {\n        if (lowerBounds &gt;= upperBounds)\n        {\n            throw new Exception(\"Error in GetRandomDoublesUnique is: LowerBounds is greater than UpperBounds!\");\n        }\n        //These next few lines are for the purpose of determining the maximum possible number of return values\n        //possibleValues is populated to prevent a runaway condition that could occurs if the \n        //max possible values--at the given precision level--is less than the user-selected quantity.\n        //i.e. if user selects 1 to 1.01, precision of 3, and quantity of 50, there would be a problem\n        // if we didn't limit loop to the 11 possible values at precision of 3:  \n        //1.000, 1.001, 1.002, 1.003, 1.004, 1.005, 1.006, 1.007, 1.008, 1.009, 1.010\n\n        int lowerInt = (int)(lowerBounds * (double)Math.Pow(10, maxPrecision));\n        int higherInt = (int)(upperBounds * (double)Math.Pow(10, maxPrecision));\n        int possibleValues = higherInt - lowerInt + 1;\n\n        //Create Dictionary to store number values already generated so we can ensure\n        //we don't have duplicates\n        Dictionary&lt;double, int&gt; myDoubles = new Dictionary&lt;double, int&gt;();\n        double[] returnValues = new double[(quantity&gt;possibleValues?possibleValues:quantity)];\n        double NextValue;\n        //Iterate through and generate values--limiting to both the user-selected quantity and # of possible values\n        for (int i = 0; (i &lt; quantity)&amp;&amp;(i&lt;possibleValues); i++)\n        {\n            NextValue = GetRandomDouble(lowerBounds, upperBounds, maxPrecision);\n            if (!myDoubles.ContainsKey(NextValue))\n            {\n                myDoubles.Add(NextValue, i);\n                returnValues[i] = NextValue;\n            }\n            else\n            {\n                i -= 1;\n            }\n        }\n        return returnValues;\n    }\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8611161, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155105680331902/picture?type=large", "display_name": "AndrewBanjo1968", "link": "https://stackoverflow.com/users/8611161/andrewbanjo1968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 59078476, "answer_count": 3, "score": 0, "last_activity_date": 1575296236, "creation_date": 1574886879, "last_edit_date": 1575030498, "question_id": 59078047, "link": "https://stackoverflow.com/questions/59078047/calculate-number-of-distinct-values-between-two-numbers-at-a-given-precision", "title": "Calculate number of distinct values between two numbers at a given precision", "body": "<p>Context: I am building a random-number generating user interface where a user can enter values for the following:  </p>\n\n<ul>\n<li>lowerLimit: the lower limit for each randomly generated number</li>\n<li>upperLimit: the upper limit for each randomly generated number</li>\n<li>maxPrecision: the maximum precision each randomly generated number</li>\n<li>Quantity: the maximum number of random number values to be generated</li>\n</ul>\n\n<p>The question is: how can I ensure that at a given lowerLimit/upperLimit range and at a given precision, that the user does not request a greater quantity than is possible?</p>\n\n<p>Example:</p>\n\n<p>lowerLimit: 1\nupperLimit: 1.01\nmaxPrecision: 3\nQuantity: 50</p>\n\n<p>At this precision level (3), there are 11 possible values between 1 and 1.01:  1.000, 1.001, 1.002, 1.003, 1.004, 1.005, 1.006, 1.007, 1.008, 1.009, 1.100, yet the user is asking for the top 50.</p>\n\n<p>In one version of the function that returns only distinct values that match user criteria, I am using a dictionary object to store already-generated values and if the value already exists, try another random number until I have found X distinct random number values where X is the user-desired quantity.  The problem is, my logic allows for a never-ending loop if the number of possible values is less than the user-entered quantity.</p>\n\n<p>While I could probably employ logic to detect runaway condition, I thought it would be a nicer approach to somehow calculate the quantity of possible return values in advance to make sure it is possible.  But that logic is eluding me.  (Haven't tried anything because I can't think of how to do it).</p>\n\n<p>Please note: I did see question <a href=\"https://stackoverflow.com/questions/14473321/generating-random-unique-values-c-sharp\">Generating random, unique values C#</a> but is does not address the specifics of my question relating to number of possible values at a given precision and subsequent runaway condition.</p>\n\n<pre><code>private Random RandomSeed = new Random();\npublic double GetRandomDouble(double lowerBounds, double upperBounds, int maxPrecision)\n{\n    //Return a randomly-generated double between lowerBounds and upperBounds \n    //with maximum precision of maxPrecision\n    double x = (RandomSeed.NextDouble() * ((upperBounds - lowerBounds))) + lowerBounds;\n    return Math.Round(x, maxPrecision);\n}\npublic double[] GetRandomDoublesUnique(double lowerBounds, double upperBounds, int maxPrecision, int quantity)\n{\n    //This method returns an array of doubles containing randomly-generated numbers\n    //between user-entered lowerBounds and upperBounds with a maximum precision of\n    //maxPrecision.  The array size is capped at user-entered quantity.\n\n    //Create Dictionary to store number values already generated so we can ensure\n    //we don't have duplicates\n    Dictionary&lt;double, int&gt; myDoubles = new Dictionary&lt;double, int&gt;();\n    double[] returnValues = new double[quantity];\n    double nextValue;\n    for (int i = 0; i &lt; quantity; i++)\n    {\n        nextValue = GetRandomDouble(lowerBounds, upperBounds, maxPrecision);\n        if (!myDoubles.ContainsKey(nextValue))\n        {\n            myDoubles.Add(nextValue, i);\n            returnValues[i] = nextValue;\n        }\n        else\n        {\n            i -= 1;\n        }\n    }\n    return returnValues;\n}\n</code></pre>\n"}, {"tags": ["c#", "excel", "performance", "office-interop"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1574886752, "post_id": 59077996, "comment_id": 104393160, "body": "Read the Speed rant: <a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">ericlippert.com/2012/12/17/performance-rant</a> | I added Ofice Interop to the tags, as this is a area where I just say &quot;avoid Office Interop. Use OpenXML.&quot;"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1574887052, "post_id": 59077996, "comment_id": 104393260, "body": "Can I ask what have you used to come to a conclusion of <code>not efficiently</code>; for example: benchmarking or profiling?"}, {"owner": {"reputation": 15, "user_id": 9431864, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M-7lV1BO7cg/AAAAAAAAAAI/AAAAAAAAASk/NJakTnnbGUw/photo.jpg?sz=128", "display_name": "Mitchel Belmer", "link": "https://stackoverflow.com/users/9431864/mitchel-belmer"}, "edited": false, "score": 0, "creation_date": 1574887809, "post_id": 59077996, "comment_id": 104393559, "body": "Ah I forgot to mention it&#39;s currently processing 38 files and takes a little over 6 minutes to do so."}, {"owner": {"reputation": 2458, "user_id": 1348592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f388cdc864045a88ce41e038e42fa4b?s=128&d=identicon&r=PG", "display_name": "robbpriestley", "link": "https://stackoverflow.com/users/1348592/robbpriestley"}, "edited": false, "score": 1, "creation_date": 1574888206, "post_id": 59077996, "comment_id": 104393721, "body": "Try it both ways and see which one is faster"}, {"owner": {"reputation": 15, "user_id": 9431864, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M-7lV1BO7cg/AAAAAAAAAAI/AAAAAAAAASk/NJakTnnbGUw/photo.jpg?sz=128", "display_name": "Mitchel Belmer", "link": "https://stackoverflow.com/users/9431864/mitchel-belmer"}, "edited": false, "score": 0, "creation_date": 1575643554, "post_id": 59077996, "comment_id": 104646536, "body": "Tried OpenXML but it was picky about filetypes and didn&#39;t easily let me iterate through cells and rows. After research I found ExcelDataReader and ExcelDataReader.DataSet. I rewrote the application and what would have taken over 10 minutes with Office Interop, took legit under a second with ExcelDataReader. USE THIS"}], "answers": [{"tags": [], "owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "is_accepted": false, "score": 1, "last_activity_date": 1577853921, "last_edit_date": 1577853921, "creation_date": 1577852420, "answer_id": 59549971, "question_id": 59077996, "link": "https://stackoverflow.com/questions/59077996/is-my-excel-data-extraction-not-running-efficiently/59549971#59549971", "title": "Is my Excel data extraction not running efficiently?", "body": "<p>As others have mentioned, interop is quirky and usually very slow especially with large files. However, I am aware that sometimes you have no other option.</p>\n\n<p>One possible issue I have seen before is when using the \u201cUsedRange\u201d property. Ranges are notoriously slow when used in a loop. I found this out when trying to remove the \u201capparently\u201d empty rows and columns returned from a \u201cusedRange\u201d on a large file.</p>\n\n<p>When a user formats cells in Excel\u2026 say by selecting a whole row or column and sets some type of formatting for that selected range\u2026 then the \u201cUsedRange\u201d is going to pick this up. You may have seen this where \u201cUsedRange\u201d returns a bunch of empty rows at the bottom or empty columns on the right. This is because even though the cell may be empty\u2026 any cells that HAVE some type formatting will be picked up in the <code>UsedRange</code> property.</p>\n\n<p>It was these \u201capparent\u201d empty rows and columns that revealed where Excel interop is slow. You can check my answer and additional help from other users on the <a href=\"https://stackoverflow.com/questions/40574084/fastest-method-to-remove-empty-rows-and-columns-from-excel-files-using-interop/40726309#40726309\">Fastest method to remove Empty rows and Columns From Excel Files using Interop</a> it may help.</p>\n\n<p>In my test, I tried to use the same strategy I used in the answer above. Basically, it goes like this\u2026</p>\n\n<p>If you use a <code>Range</code> in a loop, as your code does with the line\u2026</p>\n\n<pre><code>dataLine += xlRange.Cells[i, j].Value2\n</code></pre>\n\n<p>and a few other places. This is causing a big slowdown. For some reason when you reference the range (<code>xlRange</code>) \u2026 it is notoriously slow.</p>\n\n<p>Fortunately, there is a not so difficult solution. In my previous solution to remove the empty rows and columns it was solved by NOT using \u201cranges\u201d in any loops.</p>\n\n<p>Instead of DIRECTLY using the <code>Range</code> from the <code>UsedRange</code> property\u2026 CAST that used range to a two (2) dimensional object array. Then loop through the object array instead of the Excel Range. This should at least speed things up considerably.</p>\n\n<p>Example, change the line where you get the used range\u2026.</p>\n\n<pre><code>Excel.Range xlRange = xlWorksheet.UsedRange;\n</code></pre>\n\n<p>TO</p>\n\n<pre><code>Object[,] dataArray = (Object[,])xlWorksheet.UsedRange.Cells.Value2;\n</code></pre>\n\n<p>Then loop through the <code>dataArray</code> instead of the Excel Range. A note, that since the <code>dataArray</code> is coming from an Excel.Range\u2026 it will not be zero (0) based, meaning the first index will be one (1). You will see this in my example.</p>\n\n<p>Below is a small test using your code and comparing it speed wise against my code using the object array as described above. In my test, using two Excel files each with 5 columns and 1000 rows, it can be seen from the stopwatch that there is a significant difference. Using your code, it took approximately 51,000 milliseconds. Using my code, it took about 2,100 milliseconds.</p>\n\n<p>The code is similar to yours however, you can see that in the loops, I used the object array instead of the Excel Range.</p>\n\n<p>Lastly, I could be mistaken, however, I would do more research on calling the Garbage Collector\u2026</p>\n\n<pre><code>GC.Collect();\nGC.WaitForPendingFinalizers();\n</code></pre>\n\n<p>I do not think you are going to GAIN anything by calling the GC.</p>\n\n<p>I hope this makes sense and helps.</p>\n\n<p>I used a winforms application and the button click method would be the main method in your code.</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e) {\n  StreamWriter outputCSV = new StreamWriter(@\"D:\\Test\\Excel_Test\\export.csv\", true);\n  DirectoryInfo folder = new DirectoryInfo(@\"D:\\Test\\Excel_Test\\\");\n  FileInfo[] files = folder.GetFiles(\"*.xlsx\");\n  int count = 1;\n  Stopwatch sw = new Stopwatch();\n  sw.Start();\n  foreach (var file in files) {\n    //ExtractData(file, outputCSV);\n    ExtractData3(file, outputCSV);\n    count++;\n  }\n  MessageBox.Show(\"Done! It took: \" + sw.ElapsedMilliseconds + \" milliseconds\");\n  outputCSV.Close();\n}\n\nprivate void ExtractData3(FileInfo filename, StreamWriter output) {\n  Excel.Application xlApp = new Excel.Application();\n  Excel.Workbook xlWorkbook = xlApp.Workbooks.Open(filename.FullName);\n  Excel._Worksheet xlWorksheet = xlWorkbook.Sheets[1];\n  Object[,] dataArray = (Object[,])xlWorksheet.UsedRange.Cells.Value2;\n  string fileDate = filename.Name.Substring(0, 7);\n  if (filename.Name.Contains(\"WIP\")) {\n    //EXTRACT MMT\n    fileDate = fileDate + \",\";\n  }\n  else {\n    //EXTRACT AMKOR\n    fileDate = fileDate + \",,,,,,,,,,,\";\n  }\n  WriteData(dataArray, fileDate, output);\n  Marshal.ReleaseComObject(xlWorksheet);\n  xlWorkbook.Close();\n  Marshal.ReleaseComObject(xlWorkbook);\n  xlApp.Quit();\n  Marshal.ReleaseComObject(xlApp);\n}\n\nprivate void WriteData(Object[,] dataArray, string prefix, StreamWriter output) {\n  int rowCount = dataArray.GetLength(0);\n  int colCount = dataArray.GetLength(1);\n  StringBuilder sb = new StringBuilder();\n  sb.Append(prefix + \",\");\n  for (int i = 1; i &lt;= rowCount; i++) {\n    for (int j = 1; j &lt;= colCount; j++) {\n      if (dataArray[i, j] != null) {\n        sb.Append(dataArray[i, j]);\n        if (j &lt; colCount) {\n          sb.Append(\",\");\n        }\n      }\n      else {\n        sb.Append(\",\");\n      }\n    }\n    output.WriteLine(sb.ToString());\n    sb.Clear();\n    sb.Append(prefix + \",\");\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9431864, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M-7lV1BO7cg/AAAAAAAAAAI/AAAAAAAAASk/NJakTnnbGUw/photo.jpg?sz=128", "display_name": "Mitchel Belmer", "link": "https://stackoverflow.com/users/9431864/mitchel-belmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577853921, "creation_date": 1574886601, "last_edit_date": 1574887867, "question_id": 59077996, "link": "https://stackoverflow.com/questions/59077996/is-my-excel-data-extraction-not-running-efficiently", "title": "Is my Excel data extraction not running efficiently?", "body": "<p>I'm writing a console app that will extract data from many xls files and lump them into one large csv.\nI have all the Excel application loading/GC done between each file and I worry it's causing the application to take longer than needed.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>namespace SubconDataExtractToCSV\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StreamWriter outputCSV = new StreamWriter(@\"C:\\Users\\mbelmer\\Desktop\\Helpful Files\\Subcon Files\\SubconEmailExtract\\ExtractData\\ExtractedData.csv\", true);\n            DirectoryInfo folder = new DirectoryInfo(@\"C:\\Users\\mbelmer\\Desktop\\Helpful Files\\Subcon Files\\SubconEmailExtract\\\");\n            FileInfo[] files = folder.GetFiles(\"*.xls\");\n            foreach (var file in files)\n            {\n                ExtractData(file, outputCSV);\n            }\n            outputCSV.Close();\n        }\n\n        static void ExtractData(FileInfo filename, StreamWriter output)\n        {\n            Excel.Application xlApp = new Excel.Application();\n            Excel.Workbook xlWorkbook = xlApp.Workbooks.Open(filename.FullName);\n            Excel._Worksheet xlWorksheet = xlWorkbook.Sheets[1];\n            Excel.Range xlRange = xlWorksheet.UsedRange;\n            int rowCount = xlRange.Rows.Count;\n            int colCount = xlRange.Columns.Count;\n            string fileDate = filename.Name.Substring(0, 7);\n            if (filename.Name.Contains(\"WIP\"))\n            {\n                //EXTRACT MMT\n                for(int i = 2; i &lt;= rowCount; i++)\n                {\n                    string dataLine = fileDate + \",\";\n                    for(int j = 1; j &lt;= 10; j++)\n                    {\n                        if (xlRange.Cells[i, j].Value2 != null)\n                        {\n                            dataLine += xlRange.Cells[i, j].Value2 + \",\";\n                        }\n                        else\n                        {\n                            dataLine += \",\";\n                        }\n                    }\n                    output.WriteLine(dataLine);\n                }\n\n            }\n            else\n            {\n                //EXTRACT AMKOR\n                for(int i = 2; i &lt;= rowCount; i++)\n                {\n                    string dataLine = fileDate + \",,,,,,,,,,,\";\n                    for(int j = 1; j &lt;= colCount; j++)\n                    {\n                        if(xlRange.Cells[i,j].Value2 != null)\n                        {\n                            dataLine += xlRange.Cells[i, j].Value2 + \",\";\n                        }\n                        else\n                        {\n                            dataLine += \",\";\n                        }\n                    }\n                    output.WriteLine(dataLine);\n                }\n            }\n            GC.Collect();\n            GC.WaitForPendingFinalizers();\n            Marshal.ReleaseComObject(xlRange);\n            Marshal.ReleaseComObject(xlWorksheet);\n            xlWorkbook.Close();\n            Marshal.ReleaseComObject(xlWorkbook);\n            xlApp.Quit();\n            Marshal.ReleaseComObject(xlApp);\n        }\n    }\n}\n</code></pre>\n\n<p>Should I put the application open and close outside the initial foreach?\nIt's currently going through 38 files and takes just over 6 minutes to do so.\nThank you!</p>\n"}, {"tags": ["c#", "nreco"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11964906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8428f1beff33c4108e279da9a179efd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11964906/jason"}, "edited": false, "score": 0, "creation_date": 1575082867, "post_id": 59083348, "comment_id": 104456616, "body": "I understand the grand total, was only mentioning since all totals are null. In the example here <a href=\"https://www.nrecosite.com/pivotdata/calculate-difference-pivot-table.aspx\" rel=\"nofollow noreferrer\">nrecosite.com/pivotdata/calculate-difference-pivot-table.asp&zwnj;&#8203;x</a> is shows that the totals column totals will calculate but I am not seeing that. Is it because I am assigning the difference pivot table to the IPivotTable type output or is some setting missing?"}, {"owner": {"reputation": 6615, "user_id": 2756471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAcuW.jpg?s=128&g=1", "display_name": "Vitaliy Fedorchenko", "link": "https://stackoverflow.com/users/2756471/vitaliy-fedorchenko"}, "reply_to_user": {"reputation": 13, "user_id": 11964906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8428f1beff33c4108e279da9a179efd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11964906/jason"}, "edited": false, "score": 0, "creation_date": 1575097101, "post_id": 59083348, "comment_id": 104458549, "body": "@Jason I&#39;ve checked that, appropriate row/column totals were worked before 1.3.6 release. After that all totals are empty as result of the bugfix (which is not related to that, in fact). Calculation of these totals will back in upcoming 1.5.1 release."}, {"owner": {"reputation": 13, "user_id": 11964906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8428f1beff33c4108e279da9a179efd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11964906/jason"}, "edited": false, "score": 0, "creation_date": 1575395177, "post_id": 59083348, "comment_id": 104549618, "body": "When is the 1.5.1 release scheduled for?"}, {"owner": {"reputation": 6615, "user_id": 2756471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAcuW.jpg?s=128&g=1", "display_name": "Vitaliy Fedorchenko", "link": "https://stackoverflow.com/users/2756471/vitaliy-fedorchenko"}, "reply_to_user": {"reputation": 13, "user_id": 11964906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8428f1beff33c4108e279da9a179efd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11964906/jason"}, "edited": false, "score": 0, "creation_date": 1575399733, "post_id": 59083348, "comment_id": 104551485, "body": "@Jason very soon, most likely next week or so"}], "tags": [], "owner": {"reputation": 6615, "user_id": 2756471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAcuW.jpg?s=128&g=1", "display_name": "Vitaliy Fedorchenko", "link": "https://stackoverflow.com/users/2756471/vitaliy-fedorchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1574924672, "creation_date": 1574924672, "answer_id": 59083348, "question_id": 59077993, "link": "https://stackoverflow.com/questions/59077993/different-pivot-table-drops-totals/59083348#59083348", "title": "Different Pivot table drops totals", "body": "<p>Grand total is empty because its difference cannot be calculated (what is the 'previous' value for the grand-total?..).</p>\n\n<p>In the current implementation of <code>DifferencePivotTable</code> difference is not calculated for sub-totals (including rows/columns totals). Technically, depending on difference type, some sub-totals <em>may</em> be calculated: for example, in case of <code>DifferenceMode.PreviousColumn</code> or <code>DifferenceMode.NextColumn</code> it is possible to calculate difference for the row with column totals (but this is not implemented).</p>\n"}], "owner": {"reputation": 13, "user_id": 11964906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8428f1beff33c4108e279da9a179efd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11964906/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574924672, "creation_date": 1574886594, "question_id": 59077993, "link": "https://stackoverflow.com/questions/59077993/different-pivot-table-drops-totals", "title": "Different Pivot table drops totals", "body": "<p>I'm using the below code block to pass in a pivot table along with some settings to loop through the measures and add differences where needed. The output is dropping the totals. Grand total, column total and row total are all returning null. Is there a config setting I am missing?</p>\n\n<pre><code>private static IPivotTable getDiffPivotTable(IPivotTable pvtTbl, List&lt;bool&gt; showDifference, List&lt;bool&gt; isPercent, List&lt;string&gt; direction)\n        {\n            DifferencePivotTable diffPvt;\n            IPivotTable output = pvtTbl;\n\n            for (int i = 0; i &lt; showDifference.Count; i++)\n            {\n                if (showDifference[i])\n                {\n                    switch (direction[i])\n                    {\n                        case \"previousRow\":\n                            {\n                                diffPvt = new DifferencePivotTable(\n                                  pvtTbl,\n                                  DifferencePivotTable.DifferenceMode.PreviousRow,\n                                  i);\n                                diffPvt.Percentage = isPercent[i];\n                                output = diffPvt;\n                                break;\n                            }\n                        case \"nextRow\":\n                            {\n                                diffPvt = new DifferencePivotTable(\n                                  pvtTbl,\n                                  DifferencePivotTable.DifferenceMode.NextRow,\n                                  i);\n                                diffPvt.Percentage = isPercent[i];\n                                output = diffPvt;\n                                break;\n                            }\n                        case \"previousColumn\":\n                            {\n                                diffPvt = new DifferencePivotTable(\n                                  pvtTbl,\n                                  DifferencePivotTable.DifferenceMode.PreviousColumn,\n                                  i);\n                                diffPvt.Percentage = isPercent[i];\n                                output = diffPvt;\n                                break;\n                            }\n                        case \"nextColumn\":\n                            {\n                                diffPvt = new DifferencePivotTable(\n                                  pvtTbl,\n                                  DifferencePivotTable.DifferenceMode.NextColumn,\n                                  i);\n                                diffPvt.Percentage = isPercent[i];\n                                output = diffPvt;\n                                break;\n                            }\n                        default:\n                            {\n                                Console.WriteLine(\"Difference type not supported\");\n                                return output;\n                            }\n                    }\n                }\n            }\n            return output;\n        }\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "linq", "tsql"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 1484687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e229183225737d35666963b59b89f1d2?s=128&d=identicon&r=PG", "display_name": "Tu Tong", "link": "https://stackoverflow.com/users/1484687/tu-tong"}, "edited": false, "score": 0, "creation_date": 1574886946, "post_id": 59077999, "comment_id": 104393221, "body": "Hello Anu, thanks for the quick answer. <code>let d = s.End_date - s.Start_date</code> d is type nullable Timespan?. that might be null, because C# is a type safe langauge, it prevent from access the TotalDays property."}, {"owner": {"reputation": 45, "user_id": 1484687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e229183225737d35666963b59b89f1d2?s=128&d=identicon&r=PG", "display_name": "Tu Tong", "link": "https://stackoverflow.com/users/1484687/tu-tong"}, "edited": false, "score": 0, "creation_date": 1574887403, "post_id": 59077999, "comment_id": 104393390, "body": "I just update the screenshot above that would explain the Linq query does not work"}, {"owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "reply_to_user": {"reputation": 45, "user_id": 1484687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e229183225737d35666963b59b89f1d2?s=128&d=identicon&r=PG", "display_name": "Tu Tong", "link": "https://stackoverflow.com/users/1484687/tu-tong"}, "edited": false, "score": 0, "creation_date": 1574887583, "post_id": 59077999, "comment_id": 104393468, "body": "@TuTong Please check my answer again. It is &quot;d.Value.TotalDays&quot;. You have given &quot;d.TotalDays&quot;."}, {"owner": {"reputation": 45, "user_id": 1484687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e229183225737d35666963b59b89f1d2?s=128&d=identicon&r=PG", "display_name": "Tu Tong", "link": "https://stackoverflow.com/users/1484687/tu-tong"}, "edited": false, "score": 0, "creation_date": 1574897957, "post_id": 59077999, "comment_id": 104396712, "body": "You are right. The Value property does the strict. Thank you very much."}], "tags": [], "owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "is_accepted": true, "score": 1, "last_activity_date": 1574887988, "last_edit_date": 1574887988, "creation_date": 1574886607, "answer_id": 59077999, "question_id": 59077951, "link": "https://stackoverflow.com/questions/59077951/linq-to-sql-dealing-with-nullable-value/59077999#59077999", "title": "Linq to SQL dealing with nullable value", "body": "<p>I hope I understood your requirement correctly. The Error (in the screenshot included with OP before it was edited after publishing of answer) is being thrown because you are comparing a <code>TimeSpan</code> (d is TimeSpan in your query) with <code>Int32</code>. From the description you have given, you would like to compare the number of days with Low_amt </p>\n\n<p>What you would need is <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.timespan.totaldays?view=netframework-4.8\" rel=\"nofollow noreferrer\">TimeSpan.TotalDays</a></p>\n\n<pre><code>from p in Prob_contacts where d.Value.TotalDays &lt; p.Low_amt //(.Value) Since it is nullable as suggested in the error\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1484687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e229183225737d35666963b59b89f1d2?s=128&d=identicon&r=PG", "display_name": "Tu Tong", "link": "https://stackoverflow.com/users/1484687/tu-tong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 59077999, "answer_count": 1, "score": 0, "last_activity_date": 1574895667, "creation_date": 1574886365, "last_edit_date": 1574895667, "question_id": 59077951, "link": "https://stackoverflow.com/questions/59077951/linq-to-sql-dealing-with-nullable-value", "title": "Linq to SQL dealing with nullable value", "body": "<p>I have a legacy SQL script that join prob_contact table with other tables by comparing number of days with date range low_amt and high_amt. This work perfectly fine with SQL.</p>\n\n<p><code>JOIN prob_contact p ON (s.end_date - s.start_date) BETWEEN p.low_amt AND p.high_amt</code></p>\n\n<p>I want to convert the SQL script to Linq, but I'm having an issue on nullable TimeSpan? Please let me know if there is a solution for this problem.</p>\n\n<p><code>let d = s.End_date - s.Start_date</code></p>\n\n<pre><code>Original T-SQL Command (datasource Oracle 12c by Joan Casteel)\n\nSELECT (c.last + ', ' + c.first) AS name, s.start_date, s.end_date, p.con_freq\n  FROM dbo.criminals c INNER JOIN dbo.sentences s ON c.criminal_id = s.criminal_id\n       INNER JOIN dbo.prob_officers o ON o.prob_id = s.prob_id\n       JOIN prob_contact p ON (s.end_date - s.start_date) BETWEEN p.low_amt AND p.high_amt\n  ORDER BY name, s.start_date;\n</code></pre>\n\n<pre><code>Linqpad script\n\nvar result = from c in Criminals \n                join s in Sentences on c.Criminal_id equals s.Criminal_id\n                let d = s.End_date - s.Start_date\n                from p in Prob_contacts where d &lt; p.Low_amt\n                orderby c.Last\n                select new  {\n                    name = c.Last + \", \" + c.First,\n                    startDate = s.Start_date,\n                    freq = p.Con_freq,\n                    d\n                };\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Tu04S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tu04S.png\" alt=\"Linq command on LinqPad\"></a></p>\n"}, {"tags": ["c#", "timer", "async-await"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1574886683, "post_id": 59077927, "comment_id": 104393140, "body": "Standard <a href=\"https://stackoverflow.com/questions/10134310/how-to-cancel-a-task-in-await\">cancel task</a> is seems like a possible route... Also I&#39;d drop timer altogether and just <code>await Task.Delay(canelationToken)</code>..."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1574887586, "post_id": 59077927, "comment_id": 104393470, "body": "Can you describe what you&#39;re trying to achieve by using the timers?"}, {"owner": {"reputation": 13562, "user_id": 157224, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f61eca1a13256e8d06ee786c28694aa?s=128&d=identicon&r=PG", "display_name": "adrianm", "link": "https://stackoverflow.com/users/157224/adrianm"}, "edited": false, "score": 0, "creation_date": 1574935255, "post_id": 59077927, "comment_id": 104407889, "body": "Sorry, for late reply. The timer is old code that I am trying to update to support async callbacks."}], "answers": [{"comments": [{"owner": {"reputation": 13562, "user_id": 157224, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f61eca1a13256e8d06ee786c28694aa?s=128&d=identicon&r=PG", "display_name": "adrianm", "link": "https://stackoverflow.com/users/157224/adrianm"}, "edited": false, "score": 0, "creation_date": 1574935446, "post_id": 59079035, "comment_id": 104408003, "body": "Was hoping for a simple change in existing code to support async callbacks. Seems like a rewrite to use Task.Delay instead is what is needed. Thanks for your input."}, {"owner": {"reputation": 11026, "user_id": 229247, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c25256522a2834a32c3576f5ced474a9?s=128&d=identicon&r=PG", "display_name": "Paul Wheeler", "link": "https://stackoverflow.com/users/229247/paul-wheeler"}, "reply_to_user": {"reputation": 13562, "user_id": 157224, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f61eca1a13256e8d06ee786c28694aa?s=128&d=identicon&r=PG", "display_name": "adrianm", "link": "https://stackoverflow.com/users/157224/adrianm"}, "edited": false, "score": 0, "creation_date": 1574991347, "post_id": 59079035, "comment_id": 104428783, "body": "If you must use Timer than the simplest solution is to drop the async/await and call <code>.Wait()</code> on the task returned by the async code."}], "tags": [], "owner": {"reputation": 11026, "user_id": 229247, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c25256522a2834a32c3576f5ced474a9?s=128&d=identicon&r=PG", "display_name": "Paul Wheeler", "link": "https://stackoverflow.com/users/229247/paul-wheeler"}, "is_accepted": true, "score": 2, "last_activity_date": 1574892120, "creation_date": 1574892120, "answer_id": 59079035, "question_id": 59077927, "link": "https://stackoverflow.com/questions/59077927/how-to-wait-for-async-timer-callbacks/59079035#59079035", "title": "How to wait for async timer callbacks", "body": "<p>Your understanding is correct that your <code>Timer</code> will be unaware that your <code>CallbackAsync</code> function is still running and thus your call to <code>Dispose(WaitHandle)</code> will return and signal your <code>WaitHandle</code> immediately, at which point a call to <code>CallbackAsync</code> may make a call to <code>Timer.Change</code> after the <code>Timer</code> has been disposed.</p>\n\n<p>There are a few red flags here:</p>\n\n<ol>\n<li>You are using <code>async void</code>. This is almost always a bad idea because async functions <em>should</em> return a Task, otherwise there is nothing for a caller to await.</li>\n<li>You are mixing <code>Thread</code> and <code>Task</code> paradigms.</li>\n</ol>\n\n<p>Because <code>TimerCallback</code> does not support Tasks, the only way to make this work correctly while still using <code>Timer</code> would be to make your callback synchronous by dropping the <code>async/await</code> keywords and using <code>Task.Wait</code> to block until the <code>Task</code> returned by <code>SomethingAsync</code> is complete. As others have mentioned it would also be wise to add support for cancellation by creating a <code>CancellationToken</code> and passing it to <code>SomethingAsync</code>, that way when you call <code>Dispose</code> you will have the ability to cancel a running callback (this <code>CancellationToken</code> will need to be passed by <code>SomethingAsync</code> to any other async functions it calls and/or periodically checked for cancellation as <code>SomethingAsync</code> is executing).</p>\n\n<p><strong>EDIT</strong>: If you want to shift to a more natural <code>Task</code> based way of doing this see <a href=\"https://stackoverflow.com/questions/30462079/run-async-method-regularly-with-specified-interval/30462282\">Run async method regularly with specified interval</a></p>\n"}], "owner": {"reputation": 13562, "user_id": 157224, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f61eca1a13256e8d06ee786c28694aa?s=128&d=identicon&r=PG", "display_name": "adrianm", "link": "https://stackoverflow.com/users/157224/adrianm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 59079035, "answer_count": 1, "score": 1, "last_activity_date": 1574892120, "creation_date": 1574886257, "question_id": 59077927, "link": "https://stackoverflow.com/questions/59077927/how-to-wait-for-async-timer-callbacks", "title": "How to wait for async timer callbacks", "body": "<p>I'm using <code>System.Threading.Timer</code> to run some things that are <code>async</code></p>\n\n<p>It means my callbacks are <code>async void</code>.</p>\n\n<pre><code>private async void CallbackAsync(object state) {\n    _timer.Change(Timeout.Infinite, Timeout.Infinite);\n    await SomethingAsync();\n    _timer.Change(TimeToNextCallback, Timeout.Inifinite);\n}\n</code></pre>\n\n<p>With non async callbacks I have used code like this to shut down the timer safely.</p>\n\n<pre><code>using (var waitHandle = new AutoResetEvent(false)) {\n    if (_timer.Dispose(waitHandle))        {\n        waitHandle.WaitOne();\n    }\n}\n</code></pre>\n\n<p>My understanding is that this will not work with async callbacks. The callback will return on the first <code>await</code> and the Timer is unaware of scheduled continations. I.e the code above might return before the continuations has completed (and the callback might try to change a disposed timer).</p>\n\n<p>First, is my understanding correct?</p>\n\n<p>Second, what is the correct way to wait for async callbacks to finish? </p>\n"}, {"tags": ["c#", "linq", "left-join"], "comments": [{"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574885105, "post_id": 59077651, "comment_id": 104392518, "body": "What is the return type of <code>repos.GetTable&lt;T&gt;()</code>?"}, {"owner": {"reputation": 55, "user_id": 9985280, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LK2Mb6D9YFM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1ITK02FHUBx9aGjfqU14busHFwtw/mo/photo.jpg?sz=128", "display_name": "PYJTER xXx", "link": "https://stackoverflow.com/users/9985280/pyjter-xxx"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574885433, "post_id": 59077651, "comment_id": 104392641, "body": "From DataClasses1DataContext repos = new DataClasses1DataContext();   I have 2 tables Table1 and Table2. Linq to SQL."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1574885842, "post_id": 59077651, "comment_id": 104392816, "body": "What are the types of <code>Nr_PY</code> and <code>Nr_PY1</code> ?"}, {"owner": {"reputation": 55, "user_id": 9985280, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LK2Mb6D9YFM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1ITK02FHUBx9aGjfqU14busHFwtw/mo/photo.jpg?sz=128", "display_name": "PYJTER xXx", "link": "https://stackoverflow.com/users/9985280/pyjter-xxx"}, "edited": false, "score": 0, "creation_date": 1574885968, "post_id": 59077651, "comment_id": 104392880, "body": "This is Name Column in Table2 and Table1"}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574886109, "post_id": 59077651, "comment_id": 104392920, "body": "@PYJTERxXx please include you model and repo code. We need more details in order to help you."}, {"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574890328, "post_id": 59077651, "comment_id": 104394522, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33370600/the-type-of-one-of-the-expressions-in-the-join-clause-is-incorrect-in-entity-fra\">The type of one of the expressions in the join clause is incorrect in Entity Framework. Constant in left join</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "is_accepted": false, "score": 0, "last_activity_date": 1574890463, "creation_date": 1574890463, "answer_id": 59078743, "question_id": 59077651, "link": "https://stackoverflow.com/questions/59077651/left-join-in-linq-query-and-tolist/59078743#59078743", "title": "Left Join in LINQ Query and ToList", "body": "<p>Per the answer in my \"duplicate\" comment, the column names in the join need to be the same. In your case, it'd be:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>join ct in repos.GetTable&lt;Table2&gt;()\non c.Nr_PY equals new { Nr_PY = ct.Nr_PY1 } into g\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 10032505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/clhpj.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/10032505/mohammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1574933074, "creation_date": 1574933074, "answer_id": 59085431, "question_id": 59077651, "link": "https://stackoverflow.com/questions/59077651/left-join-in-linq-query-and-tolist/59085431#59085431", "title": "Left Join in LINQ Query and ToList", "body": "<p>Your query has more than one error first you can't convert <code>Anonymous type</code> to <code>IList</code> you will get following Error:</p>\n\n<blockquote>\n  <p>Cannot implicitly convert type System.Collections.Generic.List AnonymousType#1 to\n  System.Collections.Generic.List</p>\n</blockquote>\n\n<p>so you can change you code like this :</p>\n\n<pre><code> var query = (from c in repos.GetTable&lt;Table1&gt;()\n                        join ct in repos.GetTable&lt;Table2&gt;()\n                        on c.Nr_PY equals ct.Nr_PY1 into g\n                        from ct in g.DefaultIfEmpty()\n\n                        select new myclass\n                        {\n                            value1=ct.Nr_PY1,\n                            value2=c.Name,\n\n                        }).ToList();\n</code></pre>\n\n<p>and second error is Nr_PY and Nr_PY1 doesn't have exactly same type. </p>\n\n<p>here is a sql fiddle :\n<a href=\"https://dotnetfiddle.net/SBXLj2\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/SBXLj2</a></p>\n"}], "owner": {"reputation": 55, "user_id": 9985280, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LK2Mb6D9YFM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1ITK02FHUBx9aGjfqU14busHFwtw/mo/photo.jpg?sz=128", "display_name": "PYJTER xXx", "link": "https://stackoverflow.com/users/9985280/pyjter-xxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574933074, "creation_date": 1574884706, "last_edit_date": 1574884964, "question_id": 59077651, "link": "https://stackoverflow.com/questions/59077651/left-join-in-linq-query-and-tolist", "title": "Left Join in LINQ Query and ToList", "body": "<p>I'm trying to apply a join table in linq using the join function. But I get an error:</p>\n\n<blockquote>\n  <p>Error CS1941 The type of one of the expressions in the join clause is\n  invalid. Type inference failed in invoking \"GroupJoin\" element.</p>\n</blockquote>\n\n<pre><code>var query = from c in repos.GetTable&lt;Table1&gt;()\n                            join ct in repos.GetTable&lt;Table2&gt;()\n                            on c.Nr_PY equals ct.Nr_PY1 into g\n                            from ct in g.DefaultIfEmpty()\n\n                            select new\n                            {\n                                ct.Nr_PY1,\n                                c.Name,\n\n                            }.ToList();\n</code></pre>\n\n<p>Can you help me what's wrong with this code?</p>\n\n<p>Thank you for your help</p>\n"}, {"tags": ["c#", "list", "generics", "reflection"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1574884898, "post_id": 59077650, "comment_id": 104392441, "body": "Hint: <code>BaseGrid</code> needs to be generic."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1574885277, "post_id": 59077650, "comment_id": 104392585, "body": "@Amy: Generics are a compile-time concept, even when you are specifying the concrete type."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1574886098, "post_id": 59077650, "comment_id": 104392914, "body": "@RobertHarvey I&#39;m aware.  I think you and I interpreted the question very differently."}], "answers": [{"tags": [], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1574885947, "last_edit_date": 1574885947, "creation_date": 1574885215, "answer_id": 59077752, "question_id": 59077650, "link": "https://stackoverflow.com/questions/59077650/how-to-create-listt-instance-in-c-file/59077752#59077752", "title": "How to create List&lt;T&gt; instance in C# file", "body": "<p>It sounds like what you want is runtime polymorphism.</p>\n\n<pre><code>public abstract class Animal\n{\n  public abstract void makeSound()\n  {\n    Console.WriteLine(\"[nothing happens]\");\n  }\n}\n\npublic class Cat : Animal\n{\n  public override void makeSound()\n  {\n    Console.WriteLine(\"Meow\");\n  }\n}\n\npublic class Dog : Animal\n{\n  public override void makeSound()\n  {\n    Console.WriteLine(\"Woof\");\n  }\n}\n\npublic static void main(String[] args) \n{\n    var animals = new List&lt;Animal&gt;();\n    animals.Add(new Dog());\n    animals.Add(new Cat());\n    Console.Add(animals[0].MakeSound());  // Woof\n    Console.Add(animals[1].MakeSound());  // Meow\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 0, "creation_date": 1574885469, "post_id": 59077777, "comment_id": 104392655, "body": "You don&#39;t need to explicitly declare a generic constructor if you don&#39;t have any other constructors defined."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 2, "creation_date": 1574885491, "post_id": 59077777, "comment_id": 104392662, "body": "@nulltron: You still need to initialize the list."}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1574885527, "post_id": 59077777, "comment_id": 104392678, "body": "@RobertHarvey I didn&#39;t realize you were talking about the list lol"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1574885552, "post_id": 59077777, "comment_id": 104392682, "body": "Well, why else would you bother making the thing generic? :)"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1574885569, "post_id": 59077777, "comment_id": 104392688, "body": "@RobertHarvey Because generics are <i>awesome</i>."}, {"owner": {"reputation": 573, "user_id": 3273247, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100000049632169/picture?type=large", "display_name": "nulltron", "link": "https://stackoverflow.com/users/3273247/nulltron"}, "edited": false, "score": 0, "creation_date": 1574885637, "post_id": 59077777, "comment_id": 104392722, "body": "Typically I&#39;ll populate on the fly with a result set from a query or something so I rarely initialize the list to empty. I utilize it being not initialized to identify specific issues."}], "tags": [], "owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "is_accepted": true, "score": 3, "last_activity_date": 1574886640, "last_edit_date": 1574886640, "creation_date": 1574885332, "answer_id": 59077777, "question_id": 59077650, "link": "https://stackoverflow.com/questions/59077650/how-to-create-listt-instance-in-c-file/59077777#59077777", "title": "How to create List&lt;T&gt; instance in C# file", "body": "<pre><code> public class BaseGrid&lt;T&gt; where T : class\n{\n    public int current { get; set; }\n    public int rowCount { get; set; }\n    public int total { get; set; }\n    public List&lt;T&gt; rows { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 3034298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e6594d96c777c757325b57be4c46a2?s=128&d=identicon&r=PG&f=1", "display_name": "velloso", "link": "https://stackoverflow.com/users/3034298/velloso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59077777, "answer_count": 2, "score": 1, "last_activity_date": 1574886640, "creation_date": 1574884700, "question_id": 59077650, "link": "https://stackoverflow.com/questions/59077650/how-to-create-listt-instance-in-c-file", "title": "How to create List&lt;T&gt; instance in C# file", "body": "<p>I have theese classes:</p>\n\n<pre><code>public class BaseGrid\n{\n    public int current { get; set; }\n    public int rowCount { get; set; }\n    public int total { get; set; }\n    public List&lt;T&gt; rows { get; set; }\n}\n\npublic class Product\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>Back in my controller, I\u00b4d like to do something like:</p>\n\n<pre><code>        List&lt;Product&gt; listOfProducts = new List&lt;Product&gt;();\n\n        BaseGrid baseGrid = new BaseGrid();\n        baseGrid.rowCount = 10;\n        baseGrid.total = 20;\n        baseGrid.current = 1;\n        baseGrid.rows = listOfProducts;\n</code></pre>\n\n<p>How can I do to \"rows\" property became a <strong>generic</strong> list and in instance in <strong>runtime</strong> the baseGrid.rows to whatever list type I want?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574887398, "post_id": 59077633, "comment_id": 104393389, "body": "I think the Mathy term is Permutation: <a href=\"https://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Permutation</a> That might help you with future searches. If you know it is permutations, this might be half the answer you are looking for: <a href=\"https://www.w3resource.com/csharp-exercises/recursion/csharp-recursion-exercise-11.php\" rel=\"nofollow noreferrer\">w3resource.com/csharp-exercises/recursion/&hellip;</a> | It advises using recursion. Wich for such a short array, will have no relevant speed impact over a for. And I do not think there is a non-recursion solution."}], "answers": [{"comments": [{"owner": {"reputation": 569, "user_id": 11865571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vMeI.jpg?s=128&g=1", "display_name": "MentallyRecursive", "link": "https://stackoverflow.com/users/11865571/mentallyrecursive"}, "edited": false, "score": 0, "creation_date": 1574886546, "post_id": 59077743, "comment_id": 104393095, "body": "When <code>taille</code> == 4 the output will not give the desired scrolling effect."}, {"owner": {"reputation": 569, "user_id": 11865571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vMeI.jpg?s=128&g=1", "display_name": "MentallyRecursive", "link": "https://stackoverflow.com/users/11865571/mentallyrecursive"}, "edited": false, "score": 0, "creation_date": 1574886684, "post_id": 59077743, "comment_id": 104393141, "body": "Also, when <code>taille</code> &lt;= 3, the output scrolls the wrong way. I would consider setting <code>characterIndex = i % chars.Length</code> before the second for loop starts."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12447201"}, "is_accepted": false, "score": 2, "last_activity_date": 1574887356, "last_edit_date": 1574887356, "creation_date": 1574885160, "answer_id": 59077743, "question_id": 59077633, "link": "https://stackoverflow.com/questions/59077633/printing-square-with-non-repetitive-character/59077743#59077743", "title": "Printing square with non repetitive character", "body": "<p>First things first unless you need your iterators outside of your loop, just declare them in the for declaration </p>\n\n<pre><code>public static void Main(string[] args)\n    {\n        Console.Out.Write(\"Saisir la taille : \");\n        int taille = int.Parse(Console.In.ReadLine());\n        for(int i = 0; i &lt; taille; i++){\n            for(int j = 0; j &lt; taille; j++){\n              Console.Write(\"*\");\n            }\n            Console.WriteLine(\"\");\n        } \n    }\n</code></pre>\n\n<p>Second you'll need a list of the characters you want to use, given your example </p>\n\n<pre><code>char[] chars = { '&amp;', `#`, `*`, '@' };\n</code></pre>\n\n<p>and we'll need a way to know which character we want to use at any given time, say an iterator we can call characterIndex for simplicity. We will increment it each iteration. If incrementing it puts it out of the range of our character array, if characterIndex == 4, we set it back to zero. </p>\n\n<pre><code>int characterIndex;\n</code></pre>\n\n<p>To get the scrolling effect you have, before each line we must select a characterIndex that is offset by the row</p>\n\n<pre><code>characterIndex = i % chars.Length;\n</code></pre>\n\n<p>Tying it all together</p>\n\n<pre><code>public static void Main(string[] args)\n    {\n        char[] chars = { '&amp;', `#`, `*`, '@' };\n        int characterIndex;\n        Console.Out.Write(\"Saisir la taille : \");\n        int taille = int.Parse(Console.In.ReadLine());\n        for(int i = 0; i &lt; taille; i++){\n            characterIndex = i % chars.Length;\n            for(int j = 0; j &lt; taille; j++){\n              Console.Write(chars[characterIndex]);\n              characterIndex++;\n              if(characterIndex == chars.Length)\n                  characterIndex = 0;\n            }\n            Console.WriteLine(\"\");\n        } \n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": -1, "last_activity_date": 1574888277, "creation_date": 1574888277, "answer_id": 59078323, "question_id": 59077633, "link": "https://stackoverflow.com/questions/59077633/printing-square-with-non-repetitive-character/59078323#59078323", "title": "Printing square with non repetitive character", "body": "<p>Getting the permutations by nesting for loops will only work if you know exactly how many elements there will be. Basically you need to write a for-loop for every element after the 1st.</p>\n\n<p>The proper way to deal with this is Recursion. While there are cases where Recursion and nested for-loops are interchangeable. And in cases where they are, for loops have a potential speed advantage. While normally the <a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">speed rant</a> applies to such differences, with the sheer amount of data both Recursion and Loops might have to deal with, it often maters - so best to prefer loops where possible.</p>\n\n<p>Permutations is AFAIK not a case where loops and recursion are interchangeable. Recurions seems to be mandatory. <a href=\"https://www.youtube.com/watch?v=HXNhEYqFo0o\" rel=\"nofollow noreferrer\">Some problem as simply inherently recursive</a>. As the <a href=\"https://www.w3resource.com/csharp-exercises/recursion/csharp-recursion-exercise-11.php\" rel=\"nofollow noreferrer\">recursion version</a> is fairly well known, I will not post any example code.</p>\n\n<p>You should defiitely use Recursion. With your example code I basically asume you are:</p>\n\n<ul>\n<li>In a learning environment</li>\n<li>You just learned recursion</li>\n<li>A input variant recurions can effortless solve (like a 6 or 20 size input), is the next assignment</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 12448065, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qRPwt3bRnOQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNuyp1Q-4lZIODfams8h92cyzPeQ/photo.jpg?sz=128", "display_name": "Ary", "link": "https://stackoverflow.com/users/12448065/ary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574888277, "creation_date": 1574884594, "last_edit_date": 1574884798, "question_id": 59077633, "link": "https://stackoverflow.com/questions/59077633/printing-square-with-non-repetitive-character", "title": "Printing square with non repetitive character", "body": "<p>I want to print a rectangle like this :</p>\n\n<pre><code>&amp;#*@\n#*@&amp;\n*@&amp;#\n@&amp;#*\n</code></pre>\n\n<p>But problem is that i can't find the algorithm to print this. </p>\n\n<p>I only know how to print a simple rectangle/square </p>\n\n<pre><code>public static void Main(string[] args)\n    {\n        Console.Out.Write(\"Saisir la taille : \");\n        int taille = int.Parse(Console.In.ReadLine());\n        int i; \n        int j;\n        for(i = 0; i &lt; taille; i++){\n            for(j = 0; j &lt; taille; j++){\n              Console.Write(\"*\");\n            }\n            Console.WriteLine(\"\");\n        } \n    }\n</code></pre>\n\n<p>Thank you ! </p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-web-api", "logging", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 220, "user_id": 10303992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ba37e1266bc834e06e9441a18faf8e0?s=128&d=identicon&r=PG&f=1", "display_name": "Var", "link": "https://stackoverflow.com/users/10303992/var"}, "edited": false, "score": 0, "creation_date": 1574918907, "post_id": 59080668, "comment_id": 104400972, "body": "<code>&quot;LogLevel&quot;: {       &quot;Default&quot;: &quot;Information&quot;,       &quot;System&quot;: &quot;Warning&quot;,       &quot;Microsoft&quot;: &quot;Warning&quot;     }</code> - is good for production? since i have _log.information(&quot;&quot;) written over code?"}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "reply_to_user": {"reputation": 220, "user_id": 10303992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ba37e1266bc834e06e9441a18faf8e0?s=128&d=identicon&r=PG&f=1", "display_name": "Var", "link": "https://stackoverflow.com/users/10303992/var"}, "edited": false, "score": 0, "creation_date": 1574921972, "post_id": 59080668, "comment_id": 104401916, "body": "@Var IMO, there is no problem and you have to do that if you want to use the built in logger.Or you could log messages to an in-memory queue if you concern about the performance, refer to <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-3.0#no-asynchronous-logger-methods\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/&hellip;</a>"}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1574905520, "creation_date": 1574905520, "answer_id": 59080668, "question_id": 59077592, "link": "https://stackoverflow.com/questions/59077592/log-level-in-development-and-production-asp-net-core-2-2/59080668#59080668", "title": "log level in development and production asp.net core 2.2", "body": "<blockquote>\n  <p>Question #1 : why still i'm able to to see this log in console window where \"info is from Microsoft\" :</p>\n</blockquote>\n\n<p>Since you see the logging in development,you need to change log levels in <code>appsettings.Development.json</code> instead of <code>appsettings.json</code>, you could find the file just behind the <code>appsettings.json</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oYnMo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oYnMo.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Question #2 : what is your best recommendation(experiences) log level for production and development? i do not want to slow down my application due to wanted to log information logged to application insights.</p>\n</blockquote>\n\n<p>It is documented well, refer to <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-3.0#log-level\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-3.0#log-level</a></p>\n\n<blockquote>\n  <p>In production:\n  Logging at the Trace through Information levels produces a high-volume of detailed log messages. To control costs and not exceed data storage limits, log Trace through Information level messages to a high-volume, low-cost data store.\n  Logging at Warning through Critical levels typically produces fewer, smaller log messages. Therefore, costs and storage limits usually aren't a concern, which results in greater flexibility of data store choice.</p>\n  \n  <p>During development:\n  Log Warning through Critical messages to the console.\n  Add Trace through Information messages when troubleshooting.</p>\n</blockquote>\n"}], "owner": {"reputation": 220, "user_id": 10303992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ba37e1266bc834e06e9441a18faf8e0?s=128&d=identicon&r=PG&f=1", "display_name": "Var", "link": "https://stackoverflow.com/users/10303992/var"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574905520, "creation_date": 1574884357, "last_edit_date": 1574888050, "question_id": 59077592, "link": "https://stackoverflow.com/questions/59077592/log-level-in-development-and-production-asp-net-core-2-2", "title": "log level in development and production asp.net core 2.2", "body": "<p>i am using asp.net core mvc and web api project</p>\n\n<p>which has below version</p>\n\n<pre><code> &lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;\n</code></pre>\n\n<p>i'm also using Microsoft.Extensions.Logging.ILogger to log some of information</p>\n\n<p>for Example :  <code>_logger.LogInformation(\"special information log for xyz method\");</code> for application insight.</p>\n\n<p>so as per this post <a href=\"https://weblog.west-wind.com/posts/2018/Dec/31/Dont-let-ASPNET-Core-Default-Console-Logging-Slow-your-App-down\" rel=\"nofollow noreferrer\">https://weblog.west-wind.com/posts/2018/Dec/31/Dont-let-ASPNET-Core-Default-Console-Logging-Slow-your-App-down</a></p>\n\n<p>i made log level like this in my local app setting project and hit play icon from visual studio and watching console logs in black window.</p>\n\n<pre><code>\"LogLevel\": {\n      \"Default\": \"Information\",\n      \"System\": \"Warning\",\n      \"Microsoft\": \"Warning\"\n    }\n</code></pre>\n\n<p>now when i do run of my application, still i'm able to see logs like this</p>\n\n<pre><code>info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]\n      Request finished in 35782.1232ms 200 text/html; charset=UTF-8\ninfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]\n      Request starting HTTP/1.1 GET http://localhost:57526/polyfills.js\ninfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]\n      Request starting HTTP/1.1 GET http://localhost:57526/styles.js\ninfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]\n      Request starting HTTP/1.1 GET http://localhost:57526/vendor.js\n</code></pre>\n\n<p>Question #1 : why still i'm able to to see this log in console window where \"info is from Microsoft\" :(</p>\n\n<p>Question #2 : what is your best recommendation(experiences) log level for production and development? i do not want to slow down my application due to wanted to log information logged to application insights.</p>\n\n<p>program.cs</p>\n\n<pre><code>                    // Optional: Apply filters to control what logs are sent to Application Insights.\n                    // The following configures LogLevel Information or above to be sent to\n                    // Application Insights for all categories.\n                    logging.AddFilter&lt;Microsoft.Extensions.Logging.ApplicationInsights.ApplicationInsightsLoggerProvider&gt;\n                                 (\"\", LogLevel.Information);\n\n                }\n            }\n        );\n</code></pre>\n"}, {"tags": ["c#", "ios", "xamarin", "app-store"], "comments": [{"owner": {"reputation": 810, "user_id": 11482834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b643e3ebfdd78067ef5658b635dc179?s=128&d=identicon&r=PG&f=1", "display_name": "ottermatic", "link": "https://stackoverflow.com/users/11482834/ottermatic"}, "edited": false, "score": 0, "creation_date": 1574886437, "post_id": 59077503, "comment_id": 104393055, "body": "what is your linker set to when building for the app store? the error says the MaterialComponents.framework library isn&#39;t loaded. The linker can sometimes remove things it thinks aren&#39;t being used. Are the iPhone 5 and iPhone 6 running the same version of iOS?"}, {"owner": {"reputation": 114, "user_id": 12448010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbc437cf19ad99cc27c3828180da831?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_the_programmer", "link": "https://stackoverflow.com/users/12448010/johnny-the-programmer"}, "reply_to_user": {"reputation": 810, "user_id": 11482834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b643e3ebfdd78067ef5658b635dc179?s=128&d=identicon&r=PG&f=1", "display_name": "ottermatic", "link": "https://stackoverflow.com/users/11482834/ottermatic"}, "edited": false, "score": 0, "creation_date": 1574886700, "post_id": 59077503, "comment_id": 104393146, "body": "It is set to : &quot;Link Framework SDKs only&quot;. I am currently publishing a version to test with the linker set to &quot;Don&#39;t link&quot;.   The iPhone5 is on iOs 10.3.4 whereas the iPhone6s+ is on 12.4."}, {"owner": {"reputation": 810, "user_id": 11482834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b643e3ebfdd78067ef5658b635dc179?s=128&d=identicon&r=PG&f=1", "display_name": "ottermatic", "link": "https://stackoverflow.com/users/11482834/ottermatic"}, "edited": false, "score": 2, "creation_date": 1574887152, "post_id": 59077503, "comment_id": 104393301, "body": "my guess is it&#39;s a linker issue, but it could also be that framework doesn&#39;t support that version of iOS."}, {"owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1575964135, "post_id": 59077503, "comment_id": 104733131, "body": "Were you able to find a solution to your problem?"}, {"owner": {"reputation": 114, "user_id": 12448010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbc437cf19ad99cc27c3828180da831?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_the_programmer", "link": "https://stackoverflow.com/users/12448010/johnny-the-programmer"}, "edited": false, "score": 0, "creation_date": 1576000117, "post_id": 59077503, "comment_id": 104752773, "body": "I am still stuck at the place where I was when I added the Edit, not knowing how to ensure that the frameworks generated by Xamarin/Visual Studio while archiving have an Info.Plist that does not specify a UIRequiredDeviceCapabilities of arm64. I haven&#39;t been able to spend a lot of time on this issue though."}], "owner": {"reputation": 114, "user_id": 12448010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbc437cf19ad99cc27c3828180da831?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_the_programmer", "link": "https://stackoverflow.com/users/12448010/johnny-the-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1575644454, "creation_date": 1574884030, "last_edit_date": 1575644454, "question_id": 59077503, "link": "https://stackoverflow.com/questions/59077503/xamarin-ios-app-crashes-on-startup-with-iphone5-when-downloaded-from-app-store", "title": "Xamarin.iOS app crashes on startup with iPhone5 when downloaded from app store. DYLD, Library not loaded error.-+", "body": "<p>I am working on a Xamarin application. The app works fine when deployed Ad-Hoc on my iPhone5. The App works fine on iPad and iPhone6 both in Ad-Hoc and App Store versions. However, I get an instant crash when I try to start the App Store/TestFlight version on my iPhone 5.</p>\n\n<p>Here is the crash log :</p>\n\n<pre><code>{\"bug_type\":\"109\",\"os_version\":\"iPhone OS 10.3.4 (14G61)\",\"build_version\":\"1.3.1\",\"timestamp\":\"2019-11-25 14:01:05.33 -0500\",\"app_name\":\"CPEEP.iOS\",\"bundleID\":\"com.altilogix.cpeeps\",\"incident_id\":\"CE93C272-D023-4058-AE75-6BF205893BEB\",\"name\":\"CPEEP.iOS\",\"is_first_party\":false,\"app_version\":\"1.3.1\",\"share_with_app_devs\":true,\"slice_uuid\":\"8d939558-dc29-3773-ba5d-be06524a29ef\",\"adam_id\":1455126201}\nIncident Identifier: CE93C272-D023-4058-AE75-6BF205893BEB\nCrashReporter Key:   686e40dceea53078e133cbcd92ef064c6b7840a0\nHardware Model:      iPhone5,1\nProcess:             CPEEP.iOS [330]\nPath:                /private/var/containers/Bundle/Application/23B56006-7F53-468B-AAC2-18B74EA02613/CPEEP.iOS.app/CPEEP.iOS\nIdentifier:          com.altilogix.cpeeps\nVersion:             1.3.1 (1.3.1)\nCode Type:           ARM (Native)\nRole:                Foreground\nParent Process:      launchd [1]\nCoalition:           com.altilogix.cpeeps [527]\n\n\nDate/Time:           2019-11-25 14:01:05.2600 -0500\nLaunch Time:         2019-11-25 14:01:05.0000 -0500\nOS Version:          iPhone OS 10.3.4 (14G61)\nReport Version:      104\n\nException Type:  EXC_CRASH (SIGABRT)\nException Codes: 0x0000000000000000, 0x0000000000000000\nException Note:  EXC_CORPSE_NOTIFY\nTermination Description: DYLD, Library not loaded: @rpath/MaterialComponents.framework/MaterialComponents | Referenced from: /var/containers/Bundle/Application/23B56006-7F53-468B-AAC2-18B74EA02613/CPEEP.iOS.app/CPEEP.iOS | Reason: image not found\nTriggered by Thread:  0\n\nFiltered syslog:\nNone found\n\nThread 0 Crashed:\n0   dyld                            0x03f1c1dc 0x3efa000 + 139740\n1   dyld                            0x03f1be3e 0x3efa000 + 138814\n2   dyld                            0x03f1be78 0x3efa000 + 138872\n3   dyld                            0x03efdca4 0x3efa000 + 15524\n4   dyld                            0x03f00588 0x3efa000 + 25992\n5   dyld                            0x03efb1d0 0x3efa000 + 4560\n6   dyld                            0x03efb040 0x3efa000 + 4160\n\nThread 0 crashed with ARM Thread State (32-bit):\n    r0: 0x00000000    r1: 0x00000000      r2: 0x00000000      r3: 0x04064228\n    r4: 0x000000ab    r5: 0x04063e28      r6: 0x00000000      r7: 0x04063df4\n    r8: 0x00000000    r9: 0x000000ab     r10: 0x00000000     r11: 0x00000000\n    ip: 0x00000209    sp: 0x04063db4      lr: 0x03f1be3f      pc: 0x03f1c1dc\n  cpsr: 0x40000010\n\nBinary Images:\n0x98000 - 0x3af3fff CPEEP.iOS armv7  &lt;8d939558dc293773ba5dbe06524a29ef&gt; /var/containers/Bundle/Application/23B56006-7F53-468B-AAC2-18B74EA02613/CPEEP.iOS.app/CPEEP.iOS\n0x3efa000 - 0x3f25fff dyld armv7s  &lt;f0f6706c72713272afd9a5f6ec9b6071&gt; /usr/lib/dyld\n0x4066000 - 0x4439fff libSkiaSharp armv7  &lt;3d824f59dc7b393c906a666eaa541d0e&gt; /var/containers/Bundle/Application/23B56006-7F53-468B-AAC2-18B74EA02613/CPEEP.iOS.app/Frameworks/libSkiaSharp.framework/libSkiaSharp\n\nEOF\n</code></pre>\n\n<p>Here is my build config:\n<a href=\"https://i.stack.imgur.com/XFBpo.png\" rel=\"nofollow noreferrer\">I build for ARMv7 + ARM64, with my configuration set to AppStore</a></p>\n\n<p>I've looked around but most solutions to problems of this nature seem to deal with Swift or XCode and not Xamarin/Visual Studio.</p>\n\n<p>I have tried this solution : <a href=\"https://www.gitmemory.com/issue/xamarin/XamarinComponents/597/520597929\" rel=\"nofollow noreferrer\">https://www.gitmemory.com/issue/xamarin/XamarinComponents/597/520597929</a> with no success.</p>\n\n<p>I am a beginner when it comes to Xamarin and deploying apps.</p>\n\n<p>Edit: </p>\n\n<p>So it turns out the Frameworks in my .ipa have a info.plist files with a <em>UIRequiredDeviceCapabilities</em> key with the value <em>arm64</em> which makes Apple's thinning process remove armv7 versions of these frameworks. I have no clue why this key appears in those frameworks however. </p>\n\n<p>Affected frameworks :</p>\n\n<ul>\n<li>MaterialComponents.framework </li>\n<li>MDFInternationalization.framework</li>\n<li>MDFTextAccessibility.framework</li>\n<li>MotionAnimator.framework</li>\n<li>MotionInterchange.framework</li>\n<li>MotionTransitioning.framework    </li>\n</ul>\n\n<p>Unaffected frameworks :</p>\n\n<ul>\n<li>libSkiaSharp.framework</li>\n</ul>\n"}, {"tags": ["c#", "datagridview", "delegates", "invoke"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10216583"}, "edited": false, "score": 0, "creation_date": 1574884874, "post_id": 59077498, "comment_id": 104392435, "body": "<code>var newRow = dataGridView1.Rows.Add();</code> returns the index of the new row."}], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 12391318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349a2dbf15cad126e4b0e24c29bd5922?s=128&d=identicon&r=PG&f=1", "display_name": "PLB", "link": "https://stackoverflow.com/users/12391318/plb"}, "is_accepted": true, "score": 0, "last_activity_date": 1575031017, "creation_date": 1575031017, "answer_id": 59104956, "question_id": 59077498, "link": "https://stackoverflow.com/questions/59077498/how-to-fill-a-datagridview-cell-from-another-form-c/59104956#59104956", "title": "How to fill a datagridview cell from another form ? C#", "body": "<p>Ok so I have found a solution. Let me know if you would have done otherwise.</p>\n\n<p>In <code>Form1.cs</code> : </p>\n\n<pre><code>private static Form1 _Form1;\n\npublic static Form1 GetInstance()\n{\n    if (_Form1 == null)\n    {\n        _Form1 = new Form1();\n    }\n    return _Form1;\n}\n</code></pre>\n\n<p>In <code>Form2.cs</code> :</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    Form1.GetInstance().dataGridView1[Form1.GetInstance().Column_Name.Index, Form1.GetInstance().dataGridView1.Rows.Add()].Value = textbox_Name.Text.ToString();\n    Form1.GetInstance().dataGridView1[Form1.GetInstance().Column_Age.Index, Form1.GetInstance().dataGridView1.Rows.Add()].Value = textbox_Age.Text.ToString();\n}   \n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 12391318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349a2dbf15cad126e4b0e24c29bd5922?s=128&d=identicon&r=PG&f=1", "display_name": "PLB", "link": "https://stackoverflow.com/users/12391318/plb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 59104956, "answer_count": 1, "score": 0, "last_activity_date": 1575031017, "creation_date": 1574884016, "question_id": 59077498, "link": "https://stackoverflow.com/questions/59077498/how-to-fill-a-datagridview-cell-from-another-form-c", "title": "How to fill a datagridview cell from another form ? C#", "body": "<p>I'm a beginer in C# and for now the most difficult thing to me is to understand how to pass data and modify objects from a form/class to another form/class. I understand that I should use event or delegate but I'm not sure how to use it yet.</p>\n\n<p>For now, I have a datagridview (with Column_Name, Column_Age etc) in my Form1, and in my Form2, I have some textboxs that the user will fill and validate with a button.</p>\n\n<p>I want that when the user press the validate button in Form2, the textbox text goes to to a cell of my datagridview in Form1, on the last row.</p>\n\n<p>Example:</p>\n\n<p>(Form1)</p>\n\n<ul>\n<li>User write \"Henri\" in <code>textbox_Name</code>, \"52\" in <code>textbox_Age</code>, etc</li>\n<li>He validates by clicking on <code>button1</code></li>\n</ul>\n\n<p>(Form2)</p>\n\n<ul>\n<li>When the user has validate by clicking on button1 (Form2), each cell in the last index row (a new row) gets the corresponding value of the textbox. Example : <code>datagridview1[*newrow.Index*,Column_Name.Index] = textbox_Name.Text.ToString();</code> <code>datagridview1[*newrow.Index*,Column_Age.Index] = textbox_Age.Text.ToString();</code> etc</li>\n</ul>\n\n<p>not sure about the <em>newrow.Index</em></p>\n\n<p>Thanks ! If you have some good links to help me on that, I'll take!</p>\n"}, {"tags": ["c#", "xaml", "uwp", "binding", "xbind"], "comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1574888497, "post_id": 59077426, "comment_id": 104393836, "body": "<code>Set(() =&gt; ProgressRingActive, ref _progressRingActive, value);</code> what is this doing? I believe it should be updating the backing source and then fire off <code>NotifyPropertyChanged</code> and more than likely you are not. The only reason it is working when you call <code>Bindings.Update()</code> is because you&#39;re forcing the binding update that something has changed. You are using <code>x:Bind</code> and when doing so, you still have to tell the backing property that it has changed."}, {"owner": {"reputation": 4010, "user_id": 355023, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ce34792ca63ee6b7830423c29875fe53?s=128&d=identicon&r=PG", "display_name": "ShrimpCrackers", "link": "https://stackoverflow.com/users/355023/shrimpcrackers"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1574889357, "post_id": 59077426, "comment_id": 104394175, "body": "Set() is a MvvmLight method that implements INotifyPropertyChanged."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1574889419, "post_id": 59077426, "comment_id": 104394200, "body": "It should look like <code>Set(ref _progressRingActive, value);</code>, the overload uses <code>CallerMemberName</code>... I don&#39;t know if it makes a difference but..."}], "answers": [{"tags": [], "owner": {"reputation": 423, "user_id": 8422530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BnngnpCDyAA/AAAAAAAAAAI/AAAAAAAABFA/Paam3NW2oFU/photo.jpg?sz=128", "display_name": "Xeorge Xeorge", "link": "https://stackoverflow.com/users/8422530/xeorge-xeorge"}, "is_accepted": false, "score": -1, "last_activity_date": 1574885227, "creation_date": 1574885227, "answer_id": 59077754, "question_id": 59077426, "link": "https://stackoverflow.com/questions/59077426/uwp-is-this-bounded-property-running-on-ui-context/59077754#59077754", "title": "UWP - Is this bounded property running on UI Context?", "body": "<p>Well, it absolutely is, you need Dispatcher Access in order to update the UI, this includes properties your element binds to.</p>\n\n<pre><code>if (!CoreApplication.MainView.Dispatcher.HasThreadAccess)\n                        await CoreApplication.MainView.Dispatcher.Yield();\n                    await CoreApplication.MainView.Dispatcher.RunAsync(CoreDispatcherPriority.Normal, async () =&gt;\n                    {\n//update UI here\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1574929222, "creation_date": 1574929222, "answer_id": 59084413, "question_id": 59077426, "link": "https://stackoverflow.com/questions/59077426/uwp-is-this-bounded-property-running-on-ui-context/59084413#59084413", "title": "UWP - Is this bounded property running on UI Context?", "body": "<blockquote>\n  <p>InitViewModel does not take place in the UI Context, so when the bound\n  property ProgressRingActive changes, the property change is not being\n  fired on UI thread, so no change is made. Is this right?</p>\n</blockquote>\n\n<p>As this <a href=\"https://stackoverflow.com/questions/53463932/uwp-update-ui-from-async-worker\">thread</a> said, async/await does not directly say the awaited code will run on a different thread. When you do <code>await _vm.InitViewModel()</code>, the execution enters the InitViewModel method still on the UI thread and still waits. Then the <code>_restrictModel.LoadAppsFromServer()</code> method will actually run asynchronously on a different thread. Once LoadAppsFromServer() is completed, await will returns to the UI thread.</p>\n\n<blockquote>\n  <p>The only thing that has worked so far is calling Bindings.Update() at\n  the end of the OnNavigatedTo method.</p>\n</blockquote>\n\n<p>About ProgressRing doesn't disappear, it is because although the value of ProgressRingActive has changed, but you didn't notify the UI to change. So you need to add the <code>RaisePropertyChanged()</code> method to notify the UI.</p>\n\n<pre><code>public class MainViewModel : ViewModelBase\n{\n    private bool _progressRingActive;\n    public bool ProgressRingActive\n    {\n        get =&gt; _progressRingActive;\n        set\n        {\n            _progressRingActive = value;\n            RaisePropertyChanged();\n        }\n    }\n\n    ......\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4010, "user_id": 355023, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ce34792ca63ee6b7830423c29875fe53?s=128&d=identicon&r=PG", "display_name": "ShrimpCrackers", "link": "https://stackoverflow.com/users/355023/shrimpcrackers"}, "is_accepted": true, "score": 0, "last_activity_date": 1574972583, "creation_date": 1574972583, "answer_id": 59095729, "question_id": 59077426, "link": "https://stackoverflow.com/questions/59077426/uwp-is-this-bounded-property-running-on-ui-context/59095729#59095729", "title": "UWP - Is this bounded property running on UI Context?", "body": "<p>I found out what is was. So, I am using MvvmLight libs, and they provide a <code>Set(Expression&lt;Func&lt;T&gt;&gt;, ref T, value)</code> method that <a href=\"https://stackoverflow.com/questions/26293193/difference-between-set-and-raisepropertychanged\">\"...replaces the old value of the backing field and then raises the PropertyChanged event...\"</a>. My mistake in the code example that I provided was that in my <code>ViewModelBase</code> class, I set the backing variable to the value, then called <code>Set(...)</code> which <strong>WON'T</strong> raise the property changed event, because the backing variable and <code>value</code> are equal. So the solution is to just remove the <code>_progressRingActive = value;</code> line. Now, when <code>Set(...)</code> is called, it will raise the property changed event, because the backing variable and <code>value</code> are not equal.</p>\n\n<p>There was also a hint in the editor itself, the key words being <strong>\"if needed.\"</strong>:\n<a href=\"https://i.stack.imgur.com/FBzHr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FBzHr.png\" alt=\"enter image description here\"></a></p>\n\n<p>The correct code for the ViewModelBase:</p>\n\n<pre><code>// ViewModel base class\nprivate bool _progressRingActive;\npublic bool ProgressRingActive\n{\n    get =&gt; _progressRingActive;\n    set\n    {\n        Set(() =&gt; ProgressRingActive, ref _progressRingActive, value);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4010, "user_id": 355023, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ce34792ca63ee6b7830423c29875fe53?s=128&d=identicon&r=PG", "display_name": "ShrimpCrackers", "link": "https://stackoverflow.com/users/355023/shrimpcrackers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59095729, "answer_count": 3, "score": 0, "last_activity_date": 1574972583, "creation_date": 1574883673, "question_id": 59077426, "link": "https://stackoverflow.com/questions/59077426/uwp-is-this-bounded-property-running-on-ui-context", "title": "UWP - Is this bounded property running on UI Context?", "body": "<p>I have a simple bool bound to a ProgressRing IsActive property. The property resides in a ViewModel base class. Here is the code:</p>\n\n<pre><code>&lt;!--XAML--&gt;\n&lt;ProgressRing\n    x:Name=\"RestrictAppProgress\"\n    Margin=\"10\"\n    IsActive=\"{x:Bind _vm.ProgressRingActive, Mode=OneWay}\" Width=\"30\" Height=\"30\"\n    Foreground=\"#FF9333\"/&gt;\n</code></pre>\n\n<pre><code>// ViewModel base class\nprivate bool _progressRingActive;\npublic bool ProgressRingActive\n{\n    get =&gt; _progressRingActive;\n    set\n    {\n        _progressRingActive = value;\n        Set(() =&gt; ProgressRingActive, ref _progressRingActive, value);\n    }\n}\n\n// ViewModel\npublic override async Task InitViewModel(ClassState classState)\n{\n    ProgressRingActive = true;\n\n    _restrictModel = new RestrictAppModel();\n    var success = await _restrictModel.LoadAppsFromServer().ConfigureAwait(true);\n\n    ProgressRingActive = false;\n}\n\n// Code-behind OnNavigatedTo from Page class\nprotected override async void OnNavigatedTo(NavigationEventArgs restrictArgs)\n{\n    ...\n    await _vm.InitViewModel(state.classState).ConfigureAwait(true);\n}\n\n// Model class method that makes an await call\npublic async Task&lt;bool&gt; LoadAppsFromServer()\n{\n    try\n    {\n        var appsListJson = await service.GetAppList(Settings.TeacherDistrictId).ConfigureAwait(true);\n        ...\n    }\n    catch (ApiException ex)\n    {\n        ...\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>So, when the page loads and goes to <code>OnNavigatedTo</code>, my understanding is that we are still in the UI context. When we reach <code>await _vm.InitViewModel(state.classState).ConfigureAwait(true);</code> in <code>OnNavigatedTo</code>, my understanding is that because this call is awaited, InitViewModel does not take place in the UI Context, so when the bound property <code>ProgressRingActive</code> changes, the property change is not being fired on UI thread, so no change is made. Is this right?</p>\n\n<p>I tried getting rid of the await call before <code>_vm.InitViewModel</code>, thinking that it would enter the method on the UI context, if I remove the await on <code>vm.InitViewModel</code> call, isn't <code>ProgressRingActive = true;</code> made on the UI context, then the call to <code>var success = await _restrictModel.LoadAppsFromServer().ConfigureAwait(true);</code> is marshalled on a different context, and once it returns we are back on the UI context, with <code>ProgressRingActive = false;</code> being made inside UI context? I am not 100% sure.</p>\n\n<p>The only thing that has worked so far is calling <code>Bindings.Update()</code> at the end of the <code>OnNavigatedTo</code> method. </p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574884149, "post_id": 59077400, "comment_id": 104392137, "body": "I am slightly confused by <code>t in g.Tasks</code> and <code>t =&gt; t.Sequence</code>, but that&#39;s not probably the issue. Well, have you tried to rewrite this query using method syntax (<code>DbContext.Areas.SelectMany(area =&gt; area.Goals.Select(goal =&gt; new { goal, area }).SelectMany</code>? It may make some difference depending on how exactly the current query is being translated into Queryable extension method calls. Also you may try to select all possible {group, area, task}, group them and only then <code>where t.ShowAlways || t.Id == nextTaskId</code> //."}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1574884261, "post_id": 59077400, "comment_id": 104392183, "body": "may be try DbContext.Tasks.Where(t =&gt; t.GoalId != null).GroupBy(g =&gt;g.GoalId)..."}, {"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "reply_to_user": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574884323, "post_id": 59077400, "comment_id": 104392203, "body": "@EugenePodskal: You didn&#39;t articulate what you were slightly confused about. <code>g</code> (Group) has a one to many relation ship to Tasks, and <code>t</code> (Task) has a <code>Sequence</code> column. I&#39;m not seeing how your replacement query gets the tasks I&#39;m interested. Using <code>SelectMany()</code> should be the same as <code>from a in DbContext.Areas from g in a.Goals from t in g.Tasks</code>."}, {"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1574884455, "post_id": 59077400, "comment_id": 104392253, "body": "@Matt.G: I&#39;m not sure how that could be used to filter the tasks how I need."}, {"owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574884456, "post_id": 59077400, "comment_id": 104392255, "body": "I&#39;m confused by the fact that we have <code>t</code> meaning two different things in basically the same scope, though it seems to compile for you. And yes, <code>SelectMany() should be the same</code>, but that doesn&#39;t mean that it will - it is at least worth a try."}, {"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "reply_to_user": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574884577, "post_id": 59077400, "comment_id": 104392313, "body": "@EugenePodskal: Oh, you mean that I use the same symbol? Well, that was part that I tweaked for my example. <code>t</code> in the Lambda expressions should probably be something else."}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574886597, "post_id": 59077400, "comment_id": 104393115, "body": "@JonathanWood try rewriting the <code>nextTaskId</code> for example: <code>g.Tasks.OrderBy(tt =&gt; tt.Sequence).Min(tt =&gt; tt.Id)</code> or <code>g.Tasks.OrderBy(tt =&gt; tt.Sequence).FirstOrDefault().Id</code>"}, {"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574886855, "post_id": 59077400, "comment_id": 104393195, "body": "@jcruz: I tried <code>g.Tasks.Min(tt =&gt; tt.Sequence)</code>. (No reason for <code>OrderBy</code> here.) But get the same error."}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1574887425, "post_id": 59077400, "comment_id": 104393398, "body": "@JonathanWood, this is what I meant: <code>var tasks = DbContext.Tasks.Where(x =&gt; x.GoalId != null)                    .GroupBy(x =&gt; x.GoalId)                    .SelectMany(x =&gt; x.Where(y =&gt; y.ShowAlways || y.Id == x.OrderBy(z =&gt; z.Sequence).First().Id));</code>"}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574887498, "post_id": 59077400, "comment_id": 104393431, "body": "@JonathanWood the error is a bit obscure. Maybe instantiating a <code>new CalendarTask</code> is where the issue is. Try moving the <code>ToList()</code> call before your <code>select</code>"}, {"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574887777, "post_id": 59077400, "comment_id": 104393548, "body": "@jcruz: The error is the line where I set <code>nextTaskId</code>. Commenting out that line eliminates the error."}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1574887881, "post_id": 59077400, "comment_id": 104393589, "body": "@JonathanWood in that case have you tried applying the nextTaskId logic right in the where clause? example: <code>where t.ShowAlways || t.Id == g.Tasks.Min(tt =&gt; tt.Sequence)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1574886198, "post_id": 59077874, "comment_id": 104392947, "body": "Iterating through the goals in a <code>foreach</code> would first retrieve them all of them from the database. Then, to get each related task would either require lazy loading, which means I&#39;d have a separate trip to the database for each and every task, or preloading every task in a single query. In the first case, performance would be severely impacted with all those round trips to the database. In the second case, I am bringing over a bunch of data that I don&#39;t need, which as I pointed out in the question, is something I would prefer not to do."}, {"owner": {"reputation": 1, "user_id": 4950536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOgh8.jpg?s=128&g=1", "display_name": "dcannistraro", "link": "https://stackoverflow.com/users/4950536/dcannistraro"}, "reply_to_user": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1574887892, "post_id": 59077874, "comment_id": 104393591, "body": "If Task is its own DbSet you could select all tasks with <code>ShowAlways</code> in a different query. That way your logic is only looking for the first in the sequence. Then just union the results. There may be nothing that you can do to be super efficient without stored procedures."}], "tags": [], "owner": {"reputation": 1, "user_id": 4950536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOgh8.jpg?s=128&g=1", "display_name": "dcannistraro", "link": "https://stackoverflow.com/users/4950536/dcannistraro"}, "is_accepted": false, "score": 0, "last_activity_date": 1574885966, "creation_date": 1574885966, "answer_id": 59077874, "question_id": 59077400, "link": "https://stackoverflow.com/questions/59077400/problem-with-linq-query-select-first-task-from-each-goal/59077874#59077874", "title": "Problem with LINQ query: Select first task from each goal", "body": "<p>I would recommend you start by breaking up this query into individual parts. Try iterating through the <code>Goals</code> in a <code>foreach</code> with your <code>Task</code> logic inside. Add each new <code>CalendarTask</code> to a List that you defined ahead of time.</p>\n\n<p>Overall breaking this logic up and experimenting a bit will probably lead you to some insight with the limitations of Entity Framework Core.</p>\n"}, {"comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1575128954, "post_id": 59117553, "comment_id": 104465407, "body": "So, this does run without errors and is interesting. But the logic isn&#39;t quite the same. I need the next task for each goal. This only returns the next task for all areas and goals."}, {"owner": {"reputation": 1565, "user_id": 1830205, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ca892f776df2d613b2a453650d93c8df?s=128&d=identicon&r=PG", "display_name": "Jamie Twells", "link": "https://stackoverflow.com/users/1830205/jamie-twells"}, "reply_to_user": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1575191518, "post_id": 59117553, "comment_id": 104477017, "body": "@JonathanWood ah ok, I&#39;ve updated my answer, maybe that&#39;s more like what you wanted? Again, I&#39;m not sure if EF Core can cope with it, I&#39;m setting one up locally now to test it."}, {"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1575581715, "post_id": 59117553, "comment_id": 104625110, "body": "I was able to get the second version working and it appears to be right. Thanks."}], "tags": [], "owner": {"reputation": 1565, "user_id": 1830205, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ca892f776df2d613b2a453650d93c8df?s=128&d=identicon&r=PG", "display_name": "Jamie Twells", "link": "https://stackoverflow.com/users/1830205/jamie-twells"}, "is_accepted": true, "score": 3, "last_activity_date": 1575191376, "last_edit_date": 1575191376, "creation_date": 1575127522, "answer_id": 59117553, "question_id": 59077400, "link": "https://stackoverflow.com/questions/59077400/problem-with-linq-query-select-first-task-from-each-goal/59117553#59117553", "title": "Problem with LINQ query: Select first task from each goal", "body": "<p>I don't have EF Core up and running, but are you able to split it up like this?</p>\n\n<pre><code>    var allTasks = DbContext.Areas\n        .SelectMany(a =&gt; a.Goals)\n        .SelectMany(a =&gt; a.Tasks);\n\n    var always = allTasks.Where(t =&gt; t.ShowAlways);\n\n    var next = allTasks\n        .OrderBy(tt =&gt; tt.Sequence)\n        .Take(1);\n\n    var result = always\n        .Concat(next)\n        .Select(t =&gt; new\n         {\n             // Member assignment\n         })\n        .ToList();\n</code></pre>\n\n<p>Edit: Sorry, I'm not great with query syntax, maybe this does what you need?</p>\n\n<pre><code>    var allGoals = DbContext.Areas\n        .SelectMany(a =&gt; a.Goals);\n\n    var allTasks = DbContext.Areas\n        .SelectMany(a =&gt; a.Goals)\n        .SelectMany(a =&gt; a.Tasks);\n\n    var always = allGoals\n        .SelectMany(a =&gt; a.Tasks)\n        .Where(t =&gt; t.ShowAlways);\n\n    var nextTasks = allGoals\n        .SelectMany(g =&gt; g.Tasks.OrderBy(tt =&gt; tt.Sequence).Take(1));\n\n    var result = always\n        .Concat(nextTasks)\n        .Select(t =&gt; new\n         {\n             // Member assignment\n         })\n        .ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1575563230, "post_id": 59117804, "comment_id": 104616709, "body": "I appreciate the insightful answer. I changed my custom models to use <code>ICollection&lt;&gt;</code> for foreign key fields instead of <code>DbSet&lt;&gt;</code>. Unfortunately, I still get a similar error."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1575567507, "post_id": 59117804, "comment_id": 104618826, "body": "Similar, but different (what is the new message)? Anyway, unfortunately the cause of the non translatable EF Core queries is inside concrete details. Without concrete error and repro (exact entity model, configuration and query + EF Core version because translation/bugs/limitations differ even between minor versions) there is nothing more we can do to help solving the concrete issue (I was quite lucky to notice that <code>DbSet&lt;&gt;</code> thing)."}, {"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1575567733, "post_id": 59117804, "comment_id": 104618934, "body": "At a glance, the error looks exactly the same. But you saw that I was using DbSet in the first error so I assume at least that changed. I indicated I&#39;m using the latest version (although today there&#39;s an update). Seems to me the query is just too complex for current version of Entity Framework."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 5, "last_activity_date": 1575149743, "last_edit_date": 1575149743, "creation_date": 1575129403, "answer_id": 59117804, "question_id": 59077400, "link": "https://stackoverflow.com/questions/59077400/problem-with-linq-query-select-first-task-from-each-goal/59117804#59117804", "title": "Problem with LINQ query: Select first task from each goal", "body": "<p>This is a good example for the need of full reproducible example. When trying to reproduce the issue with similar entity models, I was either getting a different error about <code>DefaulIfEmpty(-1)</code> (apparently not supported, don't forget to remove it - the SQL query will work correctly w/o it) or no error when removing it.</p>\n\n<p>Then I noticed a small deeply hidden difference in your error messages compared to mine, which led me to the cause of the problem:</p>\n\n<pre><code>MaterializeCollectionNavigation(Navigation: Goal.Tasks (&lt;Tasks&gt;k__BackingField, DbSet&lt;Task&gt;)\n</code></pre>\n\n<p>specifically the <code>DbSet&lt;Task&gt;</code> at the end (in my case it was <code>ICollection&lt;Task&gt;</code>). I realized that you used <code>DbSet&lt;T&gt;</code> type for collection navigation property rather than the usual <code>ICollection&lt;T&gt;</code>, <code>IEnumerable&lt;T&gt;</code>, <code>List&lt;T&gt;</code> etc., e.g.</p>\n\n<pre><code>public class Goal\n{\n    // ...\n    public DbSet&lt;Task&gt; Tasks { get; set; }\n}\n</code></pre>\n\n<p>Simply don't do that. <code>DbSet&lt;T&gt;</code> is a special EF Core class, supposed to be used only from <code>DbContext</code> to represent db table, view or raw SQL query result set. And more importantly, <code>DbSet</code>s are the only real EF Core query <em>roots</em>, so it's not surprising that such usage confuses the EF Core query translator.</p>\n\n<p>So change it to some of the supported interfaces/classes (for instance,  <code>ICollection&lt;Task&gt;</code>) and the original problem will be solved.  </p>\n\n<p>Then removing the <code>DefaultIfEmpty(-1)</code> will allow successfully translating the first query in question. </p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 12271859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ARXr1kx36PI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkEWQ8HuHT31D2G_BmjI8Y-aTPVg/photo.jpg?sz=128", "display_name": "yyc cicero", "link": "https://stackoverflow.com/users/12271859/yyc-cicero"}, "is_accepted": false, "score": 0, "last_activity_date": 1575362860, "creation_date": 1575362860, "answer_id": 59153186, "question_id": 59077400, "link": "https://stackoverflow.com/questions/59077400/problem-with-linq-query-select-first-task-from-each-goal/59153186#59153186", "title": "Problem with LINQ query: Select first task from each goal", "body": "<p>I think we might separate the query into two steps. First, query each goals and get the min Sequence task and store them(maybe with a anonymous type like {NextTaskId,Goal}). Then, we query the temp data and get the result. For example</p>\n\n<pre><code>Areas.SelectMany(x=&gt;x.Goals)\n    .Select(g=&gt;new {\n        NextTaskId=g.Tasks.OrderBy(t=&gt;t.Sequence).FirstOrDefault()?.Id,\n        Tasks=g.Tasks.Where(t=&gt;t.ShowAlways)\n      })\n    .SelectMany(a=&gt;a.Tasks,(a,task)=&gt;new {\n            NextTaskId = a.NextTaskId,\n            Task = task\n      });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 11958063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-agRcYB0ZwSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reswVAbRFmfJRDJO6WOFF0tvRwv2A/photo.jpg?sz=128", "display_name": "Tohm", "link": "https://stackoverflow.com/users/11958063/tohm"}, "is_accepted": false, "score": 0, "last_activity_date": 1575367302, "creation_date": 1575367302, "answer_id": 59154473, "question_id": 59077400, "link": "https://stackoverflow.com/questions/59077400/problem-with-linq-query-select-first-task-from-each-goal/59154473#59154473", "title": "Problem with LINQ query: Select first task from each goal", "body": "<p>I tried to create the linq request but I'm not sure about the result</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>        var tasks =   ( from a in DbContext.Areas\n                        from g in a.Goals\n                        from t in g.Tasks \n                            join oneTask in (from  t in DbContext.Tasks\n                            group t by t.Id into gt\n                            select new {\n                                  Id = gt.Key,\n                                  Sequence = gt.Min(t =&gt; t.Sequence)\n                              }) on  new { t.Id, t.Sequence } equals  new { oneTask.Id,oneTask.Sequence }\n                            select new {Area = a, Goal = g, Task = t})\n                        .Union(         \n                        from a in DbContext.Areas\n                        from g in a.Goals\n                        from t in g.Tasks \n                            where t.ShowAlways \n                            select new {Area = a, Goal = g, Task = t});\n\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1575585957, "post_id": 59203650, "comment_id": 104626594, "body": "No, that doesn&#39;t come close to what I need."}], "tags": [], "owner": {"reputation": 1469, "user_id": 865371, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9fad813ea292af16d82cad8a55b5a87?s=128&d=identicon&r=PG", "display_name": "The-First-Tiger", "link": "https://stackoverflow.com/users/865371/the-first-tiger"}, "is_accepted": false, "score": 0, "last_activity_date": 1575581969, "creation_date": 1575581969, "answer_id": 59203650, "question_id": 59077400, "link": "https://stackoverflow.com/questions/59077400/problem-with-linq-query-select-first-task-from-each-goal/59203650#59203650", "title": "Problem with LINQ query: Select first task from each goal", "body": "<p>I currently don't have EF Core, but do you really need to compare this much?</p>\n\n<p>Wouldn't querying the tasks be sufficient?</p>\n\n<p>If there is a navigation property or foreign key defined I could imaging using something like this:</p>\n\n<p><code>\nTasks.Where(task =&gt; task.Sequence == Tasks.Where(t =&gt; t.GoalIdentity == task.GoalIdentity).Min(t =&gt; t.Sequence) || task.ShowAlways);\n</code></p>\n"}], "owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 59117553, "answer_count": 6, "score": 7, "last_activity_date": 1575581969, "creation_date": 1574883498, "last_edit_date": 1575127621, "question_id": 59077400, "link": "https://stackoverflow.com/questions/59077400/problem-with-linq-query-select-first-task-from-each-goal", "title": "Problem with LINQ query: Select first task from each goal", "body": "<p>I'm looking for suggestions on how to write a query. For each <code>Goal</code>, I want to select the first <code>Task</code> (sorted by <code>Task.Sequence</code>), in addition to any tasks with <code>ShowAlways == true</code>. (My actual query is more complex, but this query demonstrates the limitations I'm running into.)</p>\n\n<p>I tried something like this:</p>\n\n<pre><code>var tasks = (from a in DbContext.Areas\n             from g in a.Goals\n             from t in g.Tasks\n             let nextTaskId = g.Tasks.OrderBy(tt =&gt; tt.Sequence).Select(tt =&gt; tt.Id).DefaultIfEmpty(-1).FirstOrDefault()\n             where t.ShowAlways || t.Id == nextTaskId\n             select new CalendarTask\n             {\n\n                 // Member assignment\n\n             }).ToList();\n</code></pre>\n\n<p>But this query appears to be too complex.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>System.InvalidOperationException: 'Processing of the LINQ expression 'OrderBy&lt;Task, int&gt;(\n    source: MaterializeCollectionNavigation(Navigation: Goal.Tasks(&lt; Tasks &gt; k__BackingField, DbSet&lt;Task&gt;) Collection ToDependent Task Inverse: Goal, Where&lt;Task&gt;(\n        source: NavigationExpansionExpression\n            Source: Where&lt;Task&gt;(\n                source: DbSet&lt;Task&gt;,\n                predicate: (t0) =&gt; Property&lt;Nullable&lt;int&gt;&gt;((Unhandled parameter: ti0).Outer.Inner, \"Id\") == Property&lt;Nullable&lt;int&gt;&gt;(t0, \"GoalId\"))\n            PendingSelector: (t0) =&gt; NavigationTreeExpression\n                Value: EntityReferenceTask\n                Expression: t0\n        ,\n        predicate: (i) =&gt; Property&lt;Nullable&lt;int&gt;&gt;(NavigationTreeExpression\n            Value: EntityReferenceGoal\n            Expression: (Unhandled parameter: ti0).Outer.Inner, \"Id\") == Property&lt;Nullable&lt;int&gt;&gt;(i, \"GoalId\"))), \n    keySelector: (tt) =&gt; tt.Sequence)' by 'NavigationExpandingExpressionVisitor' failed. This may indicate either a bug or a limitation in EF Core. See https://go.microsoft.com/fwlink/?linkid=2101433 for more detailed information.'\n</code></pre>\n\n<p>The problem is the line <code>let nextTaskId =...</code>. If I comment out that, there is no error. (But I don't get what I'm after.)</p>\n\n<p>I'll readily admit that I don't understand the details of the error message. About the only other way I can think of to approach this is return all the <code>Task</code>s and then sort and filter them on the client. But my preference is not to retrieve data I don't need.</p>\n\n<p>Can anyone see any other ways to approach this query?</p>\n\n<p><em>Note: I'm using the very latest version of Visual Studio and .NET.</em></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I tried a different, but less efficient approach to this query.</p>\n\n<pre><code>var tasks = (DbContext.Areas\n      .Where(a =&gt; a.UserId == UserManager.GetUserId(User) &amp;&amp; !a.OnHold)\n      .SelectMany(a =&gt; a.Goals)\n      .Where(g =&gt; !g.OnHold)\n      .Select(g =&gt; g.Tasks.Where(tt =&gt; !tt.OnHold &amp;&amp; !tt.Completed).OrderBy(tt =&gt; tt.Sequence).FirstOrDefault()))\n    .Union(DbContext.Areas\n      .Where(a =&gt; a.UserId == UserManager.GetUserId(User) &amp;&amp; !a.OnHold)\n      .SelectMany(a =&gt; a.Goals)\n      .Where(g =&gt; !g.OnHold)\n      .Select(g =&gt; g.Tasks.Where(tt =&gt; !tt.OnHold &amp;&amp; !tt.Completed &amp;&amp; (tt.DueDate.HasValue || tt.AlwaysShow)).OrderBy(tt =&gt; tt.Sequence).FirstOrDefault()))\n    .Distinct()\n    .Select(t =&gt; new CalendarTask\n    {\n        Id = t.Id,\n        Title = t.Title,\n        Goal = t.Goal.Title,\n        CssClass = t.Goal.Area.CssClass,\n        DueDate = t.DueDate,\n        Completed = t.Completed\n    });\n</code></pre>\n\n<p>But this also produced an error:</p>\n\n<pre><code>System.InvalidOperationException: 'Processing of the LINQ expression 'Where&lt;Task&gt;(\n    source: MaterializeCollectionNavigation(Navigation: Goal.Tasks (&lt;Tasks&gt;k__BackingField, DbSet&lt;Task&gt;) Collection ToDependent Task Inverse: Goal, Where&lt;Task&gt;(\n        source: NavigationExpansionExpression\n            Source: Where&lt;Task&gt;(\n                source: DbSet&lt;Task&gt;, \n                predicate: (t) =&gt; Property&lt;Nullable&lt;int&gt;&gt;((Unhandled parameter: ti).Inner, \"Id\") == Property&lt;Nullable&lt;int&gt;&gt;(t, \"GoalId\"))\n            PendingSelector: (t) =&gt; NavigationTreeExpression\n                Value: EntityReferenceTask\n                Expression: t\n        , \n        predicate: (i) =&gt; Property&lt;Nullable&lt;int&gt;&gt;(NavigationTreeExpression\n            Value: EntityReferenceGoal\n            Expression: (Unhandled parameter: ti).Inner, \"Id\") == Property&lt;Nullable&lt;int&gt;&gt;(i, \"GoalId\"))), \n    predicate: (tt) =&gt; !(tt.OnHold) &amp;&amp; !(tt.Completed))' by 'NavigationExpandingExpressionVisitor' failed. This may indicate either a bug or a limitation in EF Core. See https://go.microsoft.com/fwlink/?linkid=2101433 for more detailed information.'\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "in-app-purchase"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1574886226, "post_id": 59077185, "comment_id": 104392957, "body": "The api probably changed. Check the docs to see how it is supposed to be done."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1574924551, "post_id": 59077185, "comment_id": 104402807, "body": "By IAP you refer to the package <a href=\"https://docs.unity3d.com/Packages/com.unity.ads.mediation@1.0/manual/index.html\" rel=\"nofollow noreferrer\"><code>Ads IAP Mediation Adaptor</code></a> imported through the PackageManager?"}, {"owner": {"reputation": 3810, "user_id": 3055219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WsJZ8.jpg?s=128&g=1", "display_name": "Basile Perrenoud", "link": "https://stackoverflow.com/users/3055219/basile-perrenoud"}, "edited": false, "score": 0, "creation_date": 1574937163, "post_id": 59077185, "comment_id": 104408910, "body": "Try readding the package usung the package manager"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1578933308, "post_id": 59077185, "comment_id": 105591665, "body": "You are most certainly using <a href=\"https://stackoverflow.com/questions/tagged/c%23\">c#</a>, not <a href=\"https://stackoverflow.com/questions/tagged/unityscript\">unityscript</a>"}], "owner": {"reputation": 542, "user_id": 3430889, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/569305440/picture?type=large", "display_name": "SHAI", "link": "https://stackoverflow.com/users/3430889/shai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1578933314, "creation_date": 1574882538, "last_edit_date": 1578933314, "question_id": 59077185, "link": "https://stackoverflow.com/questions/59077185/cant-implement-interface-member-istorelistener", "title": "Can&#39;t implement interface member &#39;IStoreListener&#39;", "body": "<p>I tried to upgrade UNITY from 2019.1.8f1 to 2019.2.13f1, and started to get a lot of compiler errors about IAP\nalso upgraded IAP to the latest version\n-Can't implement interface member 'IStoreListener'\nusing UnityEngine.Purchasing.Security -The name security does not exist in the namespace</p>\n\n<p>I downgraded back to 2019.1.8f1 but having the same error\nI'm currently stuck with my project. Everything was perfect until that update :\\</p>\n"}, {"tags": ["c#", "datagridview", "backgroundworker", "sqldatareader"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10216583"}, "edited": false, "score": 0, "creation_date": 1574887784, "post_id": 59077151, "comment_id": 104393551, "body": "Addition to the answer(s) that will fix your main issue. 1) You also can remove the <code>if (reader.HasRows)</code> and start with the <code>while (reader.Read())</code> directly since you do nothing if the reader has no rows. 2) You don&#39;t need <code>conn.Close();</code> the <code>using</code> will take care of closing and disposing the connection. 3) Both <code>SqlCommand</code> and <code>SqlReader</code> are disposable objects, meaning, you need to create them in <code>using</code> blocks the same way you did with the <code>SqlConnection</code>. Good luck."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11765632, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eH8x17ZYim0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMpco5qHq7n7SNXUeCQ2len40GBw/photo.jpg?sz=128", "display_name": "Matt Oliver", "link": "https://stackoverflow.com/users/11765632/matt-oliver"}, "edited": false, "score": 0, "creation_date": 1574889498, "post_id": 59077890, "comment_id": 104394220, "body": "Thanks Steve.  I&#39;m working on doing this now, but i&#39;m beyond green with C#.  Any suggestions on where to start with creating a new instance?"}, {"owner": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "reply_to_user": {"reputation": 3, "user_id": 11765632, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eH8x17ZYim0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMpco5qHq7n7SNXUeCQ2len40GBw/photo.jpg?sz=128", "display_name": "Matt Oliver", "link": "https://stackoverflow.com/users/11765632/matt-oliver"}, "edited": false, "score": 1, "creation_date": 1574891481, "post_id": 59077890, "comment_id": 104394926, "body": "@MattOliver I&#39;ve edited to provide an idea of how to go about this"}, {"owner": {"reputation": 3, "user_id": 11765632, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eH8x17ZYim0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMpco5qHq7n7SNXUeCQ2len40GBw/photo.jpg?sz=128", "display_name": "Matt Oliver", "link": "https://stackoverflow.com/users/11765632/matt-oliver"}, "edited": false, "score": 1, "creation_date": 1574895433, "post_id": 59077890, "comment_id": 104396125, "body": "Absolutely perfect!  It sped it up significantly as well, but that was to be expected removing the sleep.   Thank you very much for your clear and concise help!"}], "tags": [], "owner": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "is_accepted": true, "score": 3, "last_activity_date": 1574891257, "last_edit_date": 1574891257, "creation_date": 1574886060, "answer_id": 59077890, "question_id": 59077151, "link": "https://stackoverflow.com/questions/59077151/c-datareader-skipping-first-result/59077890#59077890", "title": "C# - DataReader skipping first result", "body": "<p>According to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.backgroundworker.reportprogress?view=netframework-4.8\" rel=\"nofollow noreferrer\">documentation</a>, in the remarks section it mentions that the call to <code>ReportProgress</code> is asynchronous and returns immediately. However, in order for it to work as expected with your code, you'd need it to run synchronously. </p>\n\n<p>This is because you're using the same object, <code>Obj</code>, to pass the data on each iteration of your reader to <code>ReportProgress</code> - and possibly using <code>Thread.Sleep(100)</code> as a means of synchronisation - this is not really a valid or effective design, and probably resulting in the behaviour you're seeing.</p>\n\n<p>For example, let's assume the data has four rows, this would be the outcome:</p>\n\n<pre><code>+--------+-----------------------------------+--------------------------------------------+\n|        | DoWork                            | ReportProgress                             |\n+--------+-----------------------------------+--------------------------------------------+\n| 1      | Populate values of Obj with row 1 |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 2      | Wait 100 ms                       |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 3      | Dispatch ReportProgress           |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 4      | Populate values of Obj with row 2 |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 5      | Wait 100 ms                       | Add a row with values of Obj, now at Row 2 |\n+--------+-----------------------------------+--------------------------------------------+\n| 6      | Dispatch ReportProgress           |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 7      | Populate values of Obj with row 3 |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 8      | Wait 100 ms                       | Add a row with values of Obj, now at Row 3 |\n+--------+-----------------------------------+--------------------------------------------+\n| 9      | Dispatch ReportProgress           |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 10     | Populate values of Obj with row 4 |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 11     | Wait 100 ms                       | Add a row with values of Obj, now at Row 4 |\n+--------+-----------------------------------+--------------------------------------------+\n| 12     | Dispatch ReportProgress           |                                            |\n+--------+-----------------------------------+--------------------------------------------+\n| 13     | End of iteration, no more rows    | Add a row with values of Obj, now at Row 4 |\n+--------+-----------------------------------+--------------------------------------------+\n</code></pre>\n\n<p>How to fix it?</p>\n\n<p>The easiest way would be to use a new instance of <code>Obj</code> on each iteration. That way, that way each call to <code>ReportProgress</code> has its own instance which will not be changed.</p>\n\n<p>In other words, something like the below assuming <code>RetrieveTableData</code> is a simple object requiring no parameters to its constructor. I'm deliberately keeping to your original style rather than rewriting everything.. there are lots of issues we could talk about here, code style, names of variables, but it is not directly relevant to the problem...</p>\n\n<pre><code>while (reader.Read())\n{\n    var Obj = new RetriveTableData(); // create a new instance\n    Obj.uid = reader[\"id\"].ToString();\n    Obj.iss_type = reader[\"issue_type\"].ToString();\n    ...\n</code></pre>\n\n<p>We would then no longer need this line at the top of the method; the point is to change the scope of <code>Obj</code> so we do not reuse it on each iteration.</p>\n\n<pre><code>RetriveTableData Obj = (RetriveTableData)e.Argument;\n</code></pre>\n\n<p><code>Thread.Sleep(100)</code> would no longer be needed either.</p>\n\n<p>To tackle your additional aim of creating the data rows in the complete event rather than the progress event, you could collect these individual <code>RetrieveTableData</code> objects into a <code>List&lt;RetrieveTableData&gt;</code>, and pass that to your <code>RunWorkerCompleted</code> event handler via <code>e.Result</code> on the <code>DoWorkEventArgs</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 11765632, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eH8x17ZYim0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMpco5qHq7n7SNXUeCQ2len40GBw/photo.jpg?sz=128", "display_name": "Matt Oliver", "link": "https://stackoverflow.com/users/11765632/matt-oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 59077890, "answer_count": 1, "score": 0, "last_activity_date": 1574891257, "creation_date": 1574882408, "last_edit_date": 1574889774, "question_id": 59077151, "link": "https://stackoverflow.com/questions/59077151/c-datareader-skipping-first-result", "title": "C# - DataReader skipping first result", "body": "<p>Looking to see if I can get some help on this. I have a <code>BackgroundWorker</code> that will perform a SQL query and then update a <code>DataGridView</code> during the progress changed event. However, it is skipping the first row and adding a duplicate last row to the <code>DGV</code>. The column headers are off as I added in the UID for troubleshooting. So please disregard how the titles do not match the data.</p>\n\n<p><a href=\"https://i.stack.imgur.com/94jFa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/94jFa.png\" alt=\"this\"></a></p>\n\n<p>I checked the usual culprit of having a <code>Read()</code> in the <code>IF</code>, but that is not the case. </p>\n\n<p>Interestingly, if I put a break on the <code>reader = Sqlcmd.ExecuteReader();</code> and step through it, it randomly works. </p>\n\n<p>Any help would be greatly appreciated! I'm at a complete loss. </p>\n\n<hr>\n\n<p>Additionally, if I could move the <code>DGV</code> add from the progress changed to the complete event it would be a huge benefit as well.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uthyu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uthyu.png\" alt=\"this\"></a></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// DO WORK\nprivate void issueBWworker_DoWork_1(object sender, DoWorkEventArgs e)\n{\n    // DGV 1\n    RetriveTableData Obj = (RetriveTableData)e.Argument;\n    string SqlcmdString = \"SELECT * FROM xBETA_OAP_ISSUE\";\n    SqlDataReader reader;\n    int i = 1;\n    try\n    {\n        using (SqlConnection conn = new SqlConnection(ConnString))\n        {\n            Sqlcmd = new SqlCommand(SqlcmdString, conn);\n            conn.Open();\n            reader = Sqlcmd.ExecuteReader();\n            if (reader.HasRows)\n            {\n                while (reader.Read())\n                {\n                    Obj.uid = reader[\"id\"].ToString();\n                    Obj.iss_type = reader[\"issue_type\"].ToString();\n                    Obj.inc_num = reader[\"ticket_num\"].ToString();\n                    Obj.create_date = reader[\"create_date\"].ToString();\n                    Obj.created_by = reader[\"created_by\"].ToString();\n                    Obj.active = reader[\"active\"].ToString();\n                    Obj.change_date = reader[\"change_date\"].ToString();\n                    Obj.changed_by = reader[\"changed_by\"].ToString();\n\n                    Thread.Sleep(100);\n\n                    //MessageBox.Show(Obj.uid);\n\n                    // To Report progress.x\n                    issueBWworker.ReportProgress(i, Obj);\n                    if (issueBWworker.CancellationPending)\n                    {\n                        // Set the e.Cancel flag so that the WorkerCompleted event\n                        // knows that the process was cancelled.\n                        e.Cancel = true;\n                        issueBWworker.ReportProgress(0);\n                        return;\n                    }\n                    i++;\n                }\n                conn.Close();\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        MessageBox.Show(ex.Message);\n    }\n}\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// Progress Changes\n\nprivate void issueBWworker_ProgressChanged_1(object sender, ProgressChangedEventArgs e)\n{\n    if (!issueBWworker.CancellationPending)\n    {\n        // DGV 1\n        RetriveTableData Obj = (RetriveTableData)e.UserState;\n        issue_dgv.Rows.Add(Obj.uid.ToString(), Obj.iss_type.ToString(), Obj.inc_num.ToString(), Obj.create_date.ToString(), Obj.created_by.ToString(), Obj.active.ToString(), Obj.change_date.ToString(), Obj.changed_by.ToString());\n\n        pbar.Value = e.ProgressPercentage;\n        //toolStripStatusLabel1.Text = \"Processing row.. \" + e.ProgressPercentage.ToString() + \" of \" + TotalRecords;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// Complete\nprivate void issueBWworker_RunWorkerCompleted_1(object sender, RunWorkerCompletedEventArgs e)\n{\n    if (e.Cancelled)\n    {\n        //toolStripStatusLabel1.Text = \"Cancelled by User Intentionally...\";\n        pbar.Value = 0;\n        pbar.Visible = false;\n    }\n    // Check to see if an error occurred in the background process.\n    else if (e.Error != null)\n    {\n        //toolStripStatusLabel1.Text = e.Error.Message;\n        pbar.Visible = false;\n    }\n    else\n    {\n        // BackGround Task Completed with out Error\n        pbar.Visible = false;\n        //toolStripStatusLabel1.Text = \" All Records Loaded...\";\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1574882402, "post_id": 59077119, "comment_id": 104391380, "body": "if you need rows and columns, use a Grid"}], "answers": [{"tags": [], "owner": {"reputation": 509, "user_id": 11237109, "user_type": "registered", "profile_image": "https://graph.facebook.com/1998471240201957/picture?type=large", "display_name": "Guilherme Nimer", "link": "https://stackoverflow.com/users/11237109/guilherme-nimer"}, "is_accepted": true, "score": 2, "last_activity_date": 1574882652, "creation_date": 1574882652, "answer_id": 59077204, "question_id": 59077119, "link": "https://stackoverflow.com/questions/59077119/xamarin-forms-stacklayout-into-3-columns/59077204#59077204", "title": "Xamarin.Forms StackLayout into 3 columns", "body": "<p>Here's a example you can use to separate in columns without grid.</p>\n\n<pre><code>&lt;StackLayout Orientation=\"Horizontal\" HorizontalOptions=\"FillAndExpand\" VerticalOptions=\"CenterAndExpand\"&gt;\n\n    &lt;StackLayout Margin=\"5,0,5,0\" HorizontalOptions=\"FillAndExpand\"&gt;\n               &lt;Entry x:Name=\"Community\" WidthRequest=\"200\" Placeholder=\"Community\" /&gt;\n        &lt;Entry x:Name=\"Job\" WidthRequest=\"200\" Placeholder=\"Job\" /&gt;\n        &lt;Entry x:Name=\"Model\" WidthRequest=\"200\" Placeholder=\"Model\" /&gt;\n        &lt;Entry x:Name=\"Elevation\" WidthRequest=\"200\" Placeholder=\"Elevation\" /&gt;\n        &lt;Entry x:Name=\"Email\" WidthRequest=\"200\" Placeholder=\"Email\" /&gt;\n        &lt;Entry x:Name=\"C_Email\" WidthRequest=\"200\" Placeholder=\"C_Email\" /&gt;\n        &lt;Entry x:Name=\"Buyer_Salutation\" WidthRequest=\"200\" Placeholder=\"Buyer_Salutation\" /&gt;\n    &lt;/StackLayout&gt;\n    &lt;StackLayout Margin=\"5,0,5,0\" HorizontalOptions=\"FillAndExpand\"&gt;\n\n        &lt;Entry x:Name=\"Customer_Name\" WidthRequest=\"200\" Placeholder=\"Customer_Name\" /&gt;\n        &lt;Entry x:Name=\"Customer_LName\" WidthRequest=\"200\" Placeholder=\"Customer_LName\" /&gt;\n        &lt;Entry x:Name=\"C_Buyer_Salutation\" WidthRequest=\"200\" Placeholder=\"C_Buyer_Salutation\" /&gt;\n        &lt;Entry x:Name=\"CoBuyer_Name\" WidthRequest=\"200\" Placeholder=\"CoBuyer_Name\" /&gt;\n        &lt;Entry x:Name=\"CoBuyer_LName\" WidthRequest=\"200\" Placeholder=\"CoBuyer_LName\" /&gt;\n        &lt;Entry x:Name=\"Address1\" WidthRequest=\"200\" Placeholder=\"Address1\" /&gt;\n        &lt;Entry x:Name=\"City\" WidthRequest=\"200\" Placeholder=\"City\" /&gt;\n        &lt;Entry x:Name=\"Province\" WidthRequest=\"200\" Placeholder=\"Province\" /&gt;\n        &lt;Entry x:Name=\"Zip\" WidthRequest=\"200\" Placeholder=\"Zip\" /&gt;\n\n    &lt;/StackLayout&gt;\n    &lt;StackLayout Margin=\"5,0,5,0\" HorizontalOptions=\"FillAndExpand\"&gt;\n\n        &lt;Entry x:Name=\"Phone1Cell\" WidthRequest=\"200\" Placeholder=\"Phone1Cell\" /&gt;\n        &lt;Entry x:Name=\"Phone1Work\" WidthRequest=\"200\" Placeholder=\"Phone1Work\" /&gt;\n        &lt;Entry x:Name=\"Phone2Main\" WidthRequest=\"200\" Placeholder=\"Phone2Main\" /&gt;\n        &lt;Entry x:Name=\"Phone2Cell\" WidthRequest=\"200\" Placeholder=\"Phone2Cell\" /&gt;\n        &lt;Entry x:Name=\"Phone2Work\" WidthRequest=\"200\" Placeholder=\"Phone2Work\" /&gt;\n    &lt;/StackLayout&gt;\n\n&lt;/StackLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 59077204, "answer_count": 1, "score": 1, "last_activity_date": 1574897143, "creation_date": 1574882273, "last_edit_date": 1574897143, "question_id": 59077119, "link": "https://stackoverflow.com/questions/59077119/xamarin-forms-stacklayout-into-3-columns", "title": "Xamarin.Forms StackLayout into 3 columns", "body": "<p>I am using <strong>Xamarin.Forms</strong>'s <code>StackLayout</code> and this is what I got:</p>\n\n<pre><code>&lt;StackLayout HorizontalOptions=\"Center\" VerticalOptions=\"CenterAndExpand\"&gt;\n        &lt;Entry x:Name=\"Community\" WidthRequest=\"200\" Placeholder=\"Community\" /&gt;\n        &lt;Entry x:Name=\"Job\" WidthRequest=\"200\" Placeholder=\"Job\" /&gt;\n        &lt;Entry x:Name=\"Model\" WidthRequest=\"200\" Placeholder=\"Model\" /&gt;\n        &lt;Entry x:Name=\"Elevation\" WidthRequest=\"200\" Placeholder=\"Elevation\" /&gt;\n        &lt;Entry x:Name=\"Email\" WidthRequest=\"200\" Placeholder=\"Email\" /&gt;\n        &lt;Entry x:Name=\"C_Email\" WidthRequest=\"200\" Placeholder=\"C_Email\" /&gt;\n        &lt;Entry x:Name=\"Buyer_Salutation\" WidthRequest=\"200\" Placeholder=\"Buyer_Salutation\" /&gt;\n        &lt;Entry x:Name=\"Customer_Name\" WidthRequest=\"200\" Placeholder=\"Customer_Name\" /&gt;\n        &lt;Entry x:Name=\"Customer_LName\" WidthRequest=\"200\" Placeholder=\"Customer_LName\" /&gt;\n        &lt;Entry x:Name=\"C_Buyer_Salutation\" WidthRequest=\"200\" Placeholder=\"C_Buyer_Salutation\" /&gt;\n        &lt;Entry x:Name=\"CoBuyer_Name\" WidthRequest=\"200\" Placeholder=\"CoBuyer_Name\" /&gt;\n        &lt;Entry x:Name=\"CoBuyer_LName\" WidthRequest=\"200\" Placeholder=\"CoBuyer_LName\" /&gt;\n        &lt;Entry x:Name=\"Address1\" WidthRequest=\"200\" Placeholder=\"Address1\" /&gt;\n        &lt;Entry x:Name=\"City\" WidthRequest=\"200\" Placeholder=\"City\" /&gt;\n        &lt;Entry x:Name=\"Province\" WidthRequest=\"200\" Placeholder=\"Province\" /&gt;\n        &lt;Entry x:Name=\"Zip\" WidthRequest=\"200\" Placeholder=\"Zip\" /&gt;\n        &lt;Entry x:Name=\"Phone1Cell\" WidthRequest=\"200\" Placeholder=\"Phone1Cell\" /&gt;\n        &lt;Entry x:Name=\"Phone1Work\" WidthRequest=\"200\" Placeholder=\"Phone1Work\" /&gt;\n        &lt;Entry x:Name=\"Phone2Main\" WidthRequest=\"200\" Placeholder=\"Phone2Main\" /&gt;\n        &lt;Entry x:Name=\"Phone2Cell\" WidthRequest=\"200\" Placeholder=\"Phone2Cell\" /&gt;\n        &lt;Entry x:Name=\"Phone2Work\" WidthRequest=\"200\" Placeholder=\"Phone2Work\" /&gt;\n    &lt;/StackLayout&gt;\n</code></pre>\n\n<p>Nevertheless, when I run my app it displays all my Entries in 1 column, stacked on top of each other. </p>\n\n<p>How do I get 3 <code>StackLayout</code> so I can separate these?</p>\n"}, {"tags": ["c#", "linq", "indexer"], "answers": [{"tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": true, "score": 1, "last_activity_date": 1574881806, "creation_date": 1574881806, "answer_id": 59077029, "question_id": 59076926, "link": "https://stackoverflow.com/questions/59076926/linq-pass-an-indexer-as-ienumerable-select-selector/59077029#59077029", "title": "Linq pass an Indexer as IEnumerable.Select selector", "body": "<p>There is no way to directly write the \"method group\" for an indexer, but you can write an extension method on <code>Dictionary&lt;TKey, TValue&gt;</code> and use use the method group of that:</p>\n\n<pre><code>public static TValue Get&lt;TKey, TValue&gt;(this Dictionary&lt;TKey, TValue&gt; dict, TKey key) =&gt; dict[key];\n</code></pre>\n\n<p>Now you can use <code>someDict.Get</code> in your lambda.</p>\n"}], "owner": {"reputation": 2695, "user_id": 3096657, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/100001008411462/picture?type=large", "display_name": "wondra", "link": "https://stackoverflow.com/users/3096657/wondra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59077029, "answer_count": 1, "score": 0, "last_activity_date": 1574881806, "creation_date": 1574881295, "question_id": 59076926, "link": "https://stackoverflow.com/questions/59076926/linq-pass-an-indexer-as-ienumerable-select-selector", "title": "Linq pass an Indexer as IEnumerable.Select selector", "body": "<p>Is there a syntax that allows passing an indexer as <code>Select(Func&lt;T,TResult&gt; selector)</code> selector? For example is there a shorthand (i.e. without 'arrow') for following code using an indexer:</p>\n\n<pre><code>// full version using indexer\ncollection.Select(key =&gt; dictionary[key]);\n</code></pre>\n\n<p>in the same way as there is for any other member functions? e.g.:</p>\n\n<pre><code>// full\ncollection.Select(key =&gt; dictionary.ContainsKey(key));\n// shorthand\ncollection.Select(dictionary.ContainsKey);\n</code></pre>\n\n<p>none of following seems to work:</p>\n\n<pre><code>// shorthand attempts with invalid syntax\ncollection.Select(dictionary.[]);\ncollection.Select(dictionary[]);\n</code></pre>\n\n<p>indexers are just methods after all...</p>\n"}, {"tags": ["c#", "unity3d", "serialization"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1574886338, "post_id": 59076835, "comment_id": 104393001, "body": "Try changing the values in the inspector, rather than in the code."}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 7427054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9c56ffaa3ad7d0809b5e7d214a0879a?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/7427054/jonas"}, "is_accepted": false, "score": 0, "last_activity_date": 1574883821, "creation_date": 1574883821, "answer_id": 59077459, "question_id": 59076835, "link": "https://stackoverflow.com/questions/59076835/unity-recompile-serialized-script/59077459#59077459", "title": "Unity recompile serialized script", "body": "<p>Hello and welcome @Corneey,</p>\n\n<p>For starters, I have no idea how to recompile that script or change any values (except for some input fields it might have?), but there's a workaround:</p>\n\n<pre><code>public class LookAtMouse : MonoBehaviour\n{\n    //The object to rotate with/look at the mouse\n    public Transform target;\n\n    //Update is called once per frame\n    public void Update()\n    {\n        //Get mouse position in 3D space\n        Plane target = new Plane(Vector3.up, 0);\n        Ray r = Camera.mainCamera.ScreenPointToRay(Input.mousePosition);\n        //On the hit, rotate the target to the \"impact point\"\n        if(target.Raycast(r, out float distance)\n            Vector3 hitPoint = r.GetPoint(distance);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12447848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f25a0de4173d161a8f050cc4eb8bc206?s=128&d=identicon&r=PG&f=1", "display_name": "Corneey", "link": "https://stackoverflow.com/users/12447848/corneey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574883821, "creation_date": 1574880898, "question_id": 59076835, "link": "https://stackoverflow.com/questions/59076835/unity-recompile-serialized-script", "title": "Unity recompile serialized script", "body": "<p>I'm rather new to Unity and trying to get started with a simple scene consisting only of an FPS Controller and a few obstacles.\nAs the controller I'm using the one from the Unity Standard Assets and everything worked fine.\nUpon adding a Character Mesh however I noticed that I had to setup camera clamping. The controller script accesses the serialized \"MouseLook\" script in which I have to edit a few variables to fit my needs.\nSince it's serialized however I can't simply change the variables, save the code and get the changes.\nSince I'm not planning on changing the fact that the script is serialized I just want to update my changed variables.</p>\n\n<p>I hope this was understandable. Thanks in advance!</p>\n"}, {"tags": ["c#", "asp.net-core", "powerbi"], "owner": {"reputation": 337, "user_id": 496419, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4ecbd10642a94fa23e478f36e9e39d60?s=128&d=identicon&r=PG", "display_name": "RebelScum", "link": "https://stackoverflow.com/users/496419/rebelscum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574880000, "creation_date": 1574880000, "question_id": 59076623, "link": "https://stackoverflow.com/questions/59076623/can-i-attach-an-authentication-cookie-for-a-different-site-from-my-net-core-web", "title": "Can I attach an authentication cookie for a different site from my .NET Core web app?", "body": "<p>We have a .NET Core web application with an AngularJS SPA front-end.  We also have a Power BI Report Server with a few dozen Paginated Reports (SSRS).  We would like for the web app users to be able to view/save/print the reports from the web app, without having to authenticate again into the Power BI Report Server.  We also don't want to maintain two user lists (one for the web app, and one for the PBIRS).  I have been told that they want us to use a single service account for PBIRS, and have the web app authenticate in to PBIRS, and serve up the reports to the user.  </p>\n\n<p>Unfortunately, Microsoft's official SSRS Report Viewer control (which allows you to enter authentication info), only supports Web Forms, which is not compatible with .NET Core.  I have tried a few .NET Core wrappers for it, but I was not able to get them working.  </p>\n\n<p>Then I had another idea.  Can I have my .NET code create a client, authenticate into PBIRS, and maybe get an authentication cookie, then somehow attach that cookie to the user's browser, so that if the user goes directly to the PBIRS, the cookie is valid and they are authenticated in as the service account user?  How can I do this?  </p>\n\n<p>These two servers might be in different subdomains, but I think they will be in the same domain.  I need to verify this.  I think it might not be possible at all if they are on different domains, correct?  </p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 11644047, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-upghUNx91Kw/AAAAAAAAAAI/AAAAAAAAAJE/UfaMRlsVi74/photo.jpg?sz=128", "display_name": "Roomey", "link": "https://stackoverflow.com/users/11644047/roomey"}, "edited": false, "score": 0, "creation_date": 1574880747, "post_id": 59076692, "comment_id": 104390751, "body": "Thx! And how can I change every cell using loop/cycle?"}, {"owner": {"reputation": 8164, "user_id": 558018, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b1a94399ffa51364838c637de651f88a?s=128&d=identicon&r=PG", "display_name": "AgentFire", "link": "https://stackoverflow.com/users/558018/agentfire"}, "reply_to_user": {"reputation": 527, "user_id": 11644047, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-upghUNx91Kw/AAAAAAAAAAI/AAAAAAAAAJE/UfaMRlsVi74/photo.jpg?sz=128", "display_name": "Roomey", "link": "https://stackoverflow.com/users/11644047/roomey"}, "edited": false, "score": 0, "creation_date": 1574886508, "post_id": 59076692, "comment_id": 104393075, "body": "@Roomey if you need functionality of some kind of list, then its better to use <code>ListView</code> or <code>ListBox</code>, there you can set alternating colors to each row. If you need specifically <code>Grid</code> and change cells&#39; colors, then it is most likeiy an XY problem."}], "tags": [], "owner": {"reputation": 8164, "user_id": 558018, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b1a94399ffa51364838c637de651f88a?s=128&d=identicon&r=PG", "display_name": "AgentFire", "link": "https://stackoverflow.com/users/558018/agentfire"}, "is_accepted": true, "score": 2, "last_activity_date": 1574880365, "creation_date": 1574880365, "answer_id": 59076692, "question_id": 59076619, "link": "https://stackoverflow.com/questions/59076619/how-to-change-row-column-background-color-in-grid/59076692#59076692", "title": "How to change row/column background color in Grid?", "body": "<p>The <code>Grid</code> does not provide a simple way to color its \"cells\".</p>\n\n<p>There are ways to color them, and the most easiest is to simply use a <code>Border</code>:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;!-- At the top so that they don't overlap anything else. --&gt;\n    &lt;Border Background=\"Red\" Grid.Row=\"0\" Grid.Column=\"0\" /&gt;\n    &lt;Border Background=\"Red\" Grid.Row=\"0\" Grid.Column=\"1\" /&gt;\n    ...\n&lt;/Grid&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8164, "user_id": 558018, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b1a94399ffa51364838c637de651f88a?s=128&d=identicon&r=PG", "display_name": "AgentFire", "link": "https://stackoverflow.com/users/558018/agentfire"}, "edited": false, "score": 0, "creation_date": 1574886674, "post_id": 59077034, "comment_id": 104393133, "body": "Better use <code>gridMain.Children.OfType&lt;Children&gt;()</code> or it may throw in case there are not just borders."}], "tags": [], "owner": {"reputation": 81, "user_id": 8765279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Te6ZN.jpg?s=128&g=1", "display_name": "Devil Night", "link": "https://stackoverflow.com/users/8765279/devil-night"}, "is_accepted": false, "score": 2, "last_activity_date": 1574881827, "creation_date": 1574881827, "answer_id": 59077034, "question_id": 59076619, "link": "https://stackoverflow.com/questions/59076619/how-to-change-row-column-background-color-in-grid/59077034#59077034", "title": "How to change row/column background color in Grid?", "body": "<p>How can I change every cell using loop/cycle?\nreply !!</p>\n\n<pre><code> &lt;Grid x:Name=\"gridMain\"&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Border Background=\"Red\" Grid.Row=\"0\" /&gt;\n    &lt;Border Background=\"Blue\" Grid.Row=\"1\" /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>you can use.</p>\n\n<pre><code> foreach (Border item in gridMain.Children)\n        {\n            if (item.Background == Brushes.Blue)\n                item.Background = Brushes.Red;\n            else\n                item.Background = Brushes.Blue;\n        }\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 11644047, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-upghUNx91Kw/AAAAAAAAAAI/AAAAAAAAAJE/UfaMRlsVi74/photo.jpg?sz=128", "display_name": "Roomey", "link": "https://stackoverflow.com/users/11644047/roomey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "closed_date": 1574928139, "accepted_answer_id": 59076692, "answer_count": 2, "score": -1, "last_activity_date": 1574881827, "creation_date": 1574879983, "question_id": 59076619, "link": "https://stackoverflow.com/questions/59076619/how-to-change-row-column-background-color-in-grid", "closed_reason": "Duplicate", "title": "How to change row/column background color in Grid?", "body": "<p>I tried to use some atributes of rowdefinition, but it doesn't help me. I also tried to use <code>Grid.Rows[0].BackColor = Color.Red;</code> but it doesn't work too.</p>\n\n<pre><code>   &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n            &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n   &lt;/Grid.RowDefinitions&gt;\n</code></pre>\n"}, {"tags": ["c#", "pagination", "automapper"], "comments": [{"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 1, "creation_date": 1574880588, "post_id": 59076569, "comment_id": 104390681, "body": "<a href=\"https://stackoverflow.com/questions/58980561/automapper-with-inherited-list#comment104231389_58980561\" title=\"automapper with inherited list%23comment104231389_58980561\">stackoverflow.com/questions/58980561/&hellip;</a>"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 1, "creation_date": 1574882717, "post_id": 59076569, "comment_id": 104391493, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/12470156/automapper-custom-type-converter-not-working\">AutoMapper Custom Type Converter not working</a>"}], "owner": {"reputation": 4650, "user_id": 193189, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/CZMVU.jpg?s=128&g=1", "display_name": "punkouter", "link": "https://stackoverflow.com/users/193189/punkouter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574885894, "creation_date": 1574879682, "last_edit_date": 1574885894, "question_id": 59076569, "link": "https://stackoverflow.com/questions/59076569/how-to-use-automapper-with-pagedlists", "title": "How to use AutoMapper with PagedLists?", "body": "<p>I had automapper working but then added in the PagedList and now it does not work. How\n do I tell it just to map the RfReport to RfReportModel but keep the PagedList parameters?  </p>\n\n<p>AutoMapper.AutoMapperMappingException: 'Error mapping types.'\nArgumentException: PWDRS.Core.Helpers.PagedList`1[PWDRS.Application.Models.RfReportModel] needs to have a constructor with 0 args or only optional args.</p>\n\n<pre><code>  public PagedList&lt;RfReportModel&gt; GetRfReportListPaged(RfReportParameters rfReportParameters)\n    {\n        PagedList&lt;RfReport&gt; rfReports = _rfReportRepository.GetRfReportListPaged(rfReportParameters);\n        PagedList&lt;RfReportModel&gt; mapped = _mapper.Map&lt;PagedList&lt;RfReportModel&gt;&gt;(rfReports);\n        return mapped;\n    }\n\n\n  public class PagedList&lt;T&gt; : List&lt;T&gt;\n    {\n        public int CurrentPage { get; private set; }\n        public int TotalPages { get; private set; }\n        public int PageSize { get; private set; }\n        public int TotalCount { get; private set; }\n\n        public bool HasPrevious =&gt; CurrentPage &gt; 1;\n        public bool HasNext =&gt; CurrentPage &lt; TotalPages;\n\n        public PagedList(List&lt;T&gt; items, int count, int pageNumber, int pageSize)\n        {\n            TotalCount = count;\n            PageSize = pageSize;\n            CurrentPage = pageNumber;\n            TotalPages = (int)Math.Ceiling(count / (double)pageSize);\n\n            AddRange(items);\n        }\n\n        public static PagedList&lt;T&gt; ToPagedList(IEnumerable&lt;T&gt; source, int pageNumber, int pageSize)\n        {\n            var count = source.Count();\n            var items = source.Skip((pageNumber - 1) * pageSize).Take(pageSize).ToList();\n\n            return new PagedList&lt;T&gt;(items, count, pageNumber, pageSize);\n        }\n    }\n</code></pre>\n\n<p>EDIT 1: I could not figure out how to do it in automapper but I realized I could recreate the PagedList easily like this to effectively do the same thing.</p>\n\n<pre><code> public PagedList&lt;RfReportModel&gt; GetRfReportListPaged(RfReportParameters rfReportParameters)\n    {\n        PagedList&lt;RfReport&gt; rfReports = _rfReportRepository.GetRfReportListPaged(rfReportParameters);\n        IEnumerable&lt;RfReportModel&gt; mapped = _mapper.Map&lt;IEnumerable&lt;RfReportModel&gt;&gt;(rfReports);\n\n        PagedList&lt;RfReportModel&gt; plMapped = PagedList&lt;RfReportModel&gt;.ToPagedList(\n         mapped,\n         rfReportParameters.PageNumber,\n         rfReportParameters.PageSize);\n\n        return plMapped;\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1574879716, "post_id": 59076542, "comment_id": 104390334, "body": "Put all of your main into a method, then exit/return from the method when the user enters an empty string"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1574880056, "post_id": 59076542, "comment_id": 104390466, "body": "<code>Trim</code> only removes characters from the beginning and end of a string.  It does not remove characters from the middle."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1574881215, "post_id": 59076542, "comment_id": 104390924, "body": "There doesn&#39;t seem to be a question in this question. What is your question?"}, {"owner": {"reputation": 396, "user_id": 3775564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c767d7d6d60c8cc9e55bf3c1d2d3def2?s=128&d=identicon&r=PG&f=1", "display_name": "mminneman", "link": "https://stackoverflow.com/users/3775564/mminneman"}, "edited": false, "score": 1, "creation_date": 1574882775, "post_id": 59076542, "comment_id": 104391515, "body": "From your question it sounds like you have it working, but (1) you are required to use a for loop, and (2) you aren&#39;t sure how? Are you trying to write something that takes in a string, writes if it is a palindrome, than asks for input again, until the user enters nothing? Are you checking if the sentence is a palindrome, or words in the sentence? We need a summary of what you&#39;re asking."}, {"owner": {"reputation": 55, "user_id": 12142556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb842f0734236321434a3c3b324dedbb?s=128&d=identicon&r=PG&f=1", "display_name": "Osmankaapa", "link": "https://stackoverflow.com/users/12142556/osmankaapa"}, "edited": false, "score": 0, "creation_date": 1574884403, "post_id": 59076542, "comment_id": 104392235, "body": "I just have to make for loop it. Program must ask word again and again, until user enters nothing. Just enter nothing and press enter it stop the whole program. thanks for the info juharr. I have to do that completely thing with replace method."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 12142556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb842f0734236321434a3c3b324dedbb?s=128&d=identicon&r=PG&f=1", "display_name": "Osmankaapa", "link": "https://stackoverflow.com/users/12142556/osmankaapa"}, "edited": false, "score": 0, "creation_date": 1574884766, "post_id": 59076720, "comment_id": 104392393, "body": "Console.ReadLine() is only temporarily thing, biggest problem is to put this program to loop. I&#39;ll try Peter Smith advice, it i can not get it work i&#39;ll be back as Arnold said :D"}, {"owner": {"reputation": 55, "user_id": 12142556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb842f0734236321434a3c3b324dedbb?s=128&d=identicon&r=PG&f=1", "display_name": "Osmankaapa", "link": "https://stackoverflow.com/users/12142556/osmankaapa"}, "edited": false, "score": 0, "creation_date": 1574886418, "post_id": 59076720, "comment_id": 104393041, "body": "it works now, it was too easy :D Also repaired trim with replace method."}], "tags": [], "owner": {"reputation": 1086, "user_id": 7988497, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155370853067558/picture?type=large", "display_name": "MichaelD", "link": "https://stackoverflow.com/users/7988497/michaeld"}, "is_accepted": false, "score": 1, "last_activity_date": 1574880479, "creation_date": 1574880479, "answer_id": 59076720, "question_id": 59076542, "link": "https://stackoverflow.com/questions/59076542/after-instruction-still-can-not-make-for-loop-with-c/59076720#59076720", "title": "After instruction still can not make for loop with C#", "body": "<p>The very simplest approach is replace your <code>Console.ReadLine()</code> where you want to break to <code>return</code>.</p>\n\n<p>Alternatively, you could wrap the logic in another while loop. </p>\n\n<pre><code>while (userinput != \"\")\n{\n    // Remove chars\n    // rest of your logic\n\n    /* IMPORTANT */\n    userinput = Console.Readline();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11819962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a4a6e6f99669eef979e203b60e2ec0?s=128&d=identicon&r=PG&f=1", "display_name": "Volodymyr", "link": "https://stackoverflow.com/users/11819962/volodymyr"}, "is_accepted": false, "score": 1, "last_activity_date": 1574922267, "last_edit_date": 1574922267, "creation_date": 1574891584, "answer_id": 59078942, "question_id": 59076542, "link": "https://stackoverflow.com/questions/59076542/after-instruction-still-can-not-make-for-loop-with-c/59078942#59078942", "title": "After instruction still can not make for loop with C#", "body": "<p>To remove the symbols from the input, you can use the <code>Regex.Replace</code> method. In this case, you can be sure, that the specified symbols will be correctly removed from the input string. Note, that you can handle the whitespaces along with other characters you mentioned, like in the code snippet below:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var CharactersToRemove { get; set; } = \" ,.;:!?\";\nvar processedInput = Regex.Replace(input.ToLower(), $\"[{CharactersToRemove}]\", string.Empty);\n</code></pre>\n\n<p>Note, that here I used <code>input.ToLower()</code> to convert the input to a lowercase string. This will make the palindrome tests case-insensitive. Should you need case-sensitive palindrome tests, just remove the <code>.ToLower()</code> part.</p>\n\n<p>There is no need to reverse the input string to check if it is a palindrome. You can check this within one <code>for</code> loop as follows:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>bool CheckForBeingaAPalindrome(string input)\n{\n    var frontIndex = 0;\n    var tailIndex = input.Length - 1;\n\n    for (; frontIndex &lt; tailIndex;)\n    {\n        if (input[frontIndex] != input[tailIndex])\n            return false;\n\n        ++frontIndex;\n        --tailIndex;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Note, that in this case you only iterate over the elements of the input string once. This approach will give you al least 4 times better performance than the one you used.</p>\n\n<p>Below, you can find a complete minimal working solution to your problem.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Text.RegularExpressions;\nusing static System.Console;\n\nnamespace Assignment\n{\n    public static class PalindromeFinder\n    {\n        public static string CharactersToRemove { get; set; } = \" ,.;:!?\";\n\n        public static bool IsPalindrome(string input)\n        {\n            var processedInput = RemoveUnnecessaryCharacters(input);\n            return CheckForBeingAPalindrome(processedInput);\n        }\n\n        private static string RemoveUnnecessaryCharacters(string input)\n        {\n            return Regex.Replace(input.ToLower(), $\"[{CharactersToRemove}]\", string.Empty);\n        }\n\n        private static bool CheckForBeingAPalindrome(string input)\n        {\n            var frontIndex = 0;\n            var tailIndex = input.Length - 1;\n\n            for (; frontIndex &lt; tailIndex;)\n            {\n                if (input[frontIndex] != input[tailIndex])\n                    return false;\n\n                ++frontIndex;\n                --tailIndex;\n            }\n\n            return true;\n        }\n    }\n\n    public class Program\n    {\n        private static void Main(string[] args)\n        {\n            ContinuouslyCheckUserInputForBeingAPalindrome();\n        }\n\n        private static void ContinuouslyCheckUserInputForBeingAPalindrome()\n        {\n            while (FetchUserInputFromConsole() is string input\n                   &amp;&amp; !string.IsNullOrWhiteSpace(input))\n            {\n                var isPalindrome = PalindromeFinder.IsPalindrome(input);\n                var modifier = isPalindrome ? \"a\" : \"not a\";\n                WriteLine($\"It is {modifier} palindrome\");\n            }\n        }\n\n        private static string FetchUserInputFromConsole()\n        {\n            Write(\"Enter a string: \");\n            return ReadLine();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "is_accepted": true, "score": 1, "last_activity_date": 1574891671, "creation_date": 1574891671, "answer_id": 59078957, "question_id": 59076542, "link": "https://stackoverflow.com/questions/59076542/after-instruction-still-can-not-make-for-loop-with-c/59078957#59078957", "title": "After instruction still can not make for loop with C#", "body": "<p>You could potentially do something along these lines:</p>\n\n<pre><code>var running = true;\n\nwhile(running)\n{\n     var input = Console.ReadLine().ToLower();\n     var phrase = input.Sanitize(new List&lt;string&gt;() {\".\", \",\", \"?\", \"!\", \"'\", \"&amp;\", \"%\", \"$\", \" \"});\n\n     if(phrase.IsPalindrome())\n         Console.Writeline(\"Input was palindrome.\");\n}\n\npublic static string Sanitize(this string input, IList&lt;string&gt; punctuation) =&gt;\n     String.Join(String.Empty, input.Where(character =&gt; punctuation.Contains(character) == false));\n\npublic static bool IsPalindrome(this string sentence)\n{\n    for (int l = 0, r = sentence.Length - 1; l &lt; r; l++, r--)\n        if (sentence[l] != sentence[r])\n            return false;\n\n    return true;\n}\n\npublic static void Close(string input) \n{\n    // Some logic to see if the application should stop.  \n}\n</code></pre>\n\n<p>You could create another method that looks for commands, or keystrokes, then sets the boolean to run as false.  Which would break the infinite loop.  You could also do an abrupt close with <code>Environment.Exit</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 12142556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb842f0734236321434a3c3b324dedbb?s=128&d=identicon&r=PG&f=1", "display_name": "Osmankaapa", "link": "https://stackoverflow.com/users/12142556/osmankaapa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "closed_date": 1574923991, "accepted_answer_id": 59078957, "answer_count": 3, "score": 0, "last_activity_date": 1574922267, "creation_date": 1574879570, "last_edit_date": 1574881413, "question_id": 59076542, "link": "https://stackoverflow.com/questions/59076542/after-instruction-still-can-not-make-for-loop-with-c", "closed_reason": "Duplicate", "title": "After instruction still can not make for loop with C#", "body": "<p>I started a C# course now and there is an assignment where I have to create a \"palindrome detector\" program. Point is that user inputs some word or sentence, then I have to remove chars like <code>,.;:!?</code> and space from it. I have done that with two different methods, because char method can not remove space so I wrote another method for it.</p>\n\n<p>After \"cleaning\" operation program reversing input what user gave, and comparing original user input and reversed user input to each other. It they are same it prints \"It is palindrome\", if they are different it prints \"It is not palindrome\". That is working fine, BUT THE PROBLEM IS I have to put them in for loop. It have to ask input again and again, until user give empty.</p>\n\n<p>This would be very easy, but somehow I can not do it. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>using System;\n\nnamespace Palindromi\n{\n    class Program\n    {\n        static void Main()\n        {\n\n            Console.WriteLine(\"Hei! Tervetuloa palindromin tunnistusohjelmaan. T\u00e4m\u00e4 tunnistaa, onko sy\u00f6tt\u00e4m\u00e4si sana sama toisinp\u00e4in!\");\n            Console.Write(\"Anna teksti (tyhj\u00e4 lopettaa): \");\n            string userinput = Console.ReadLine(); //userinput is user's input, this is what you have to modify. remove some chars and reverse it.\n\n            if (userinput == \"\")\n            {\n                Console.ReadLine();//when i have loop this have to be \"break\". This meant to break for loop when i have it.\n            }\n\n            char[] removechars = { '.', ':', ';', ',', '!', '?' };//this is the list of \"have to be removed\" chars\n\n            string userinput_without_chars = userinput.Trim(removechars); //this method remove chars which are listed\n            string userinput_without_chars_space = userinput_without_chars.Replace( \" \", \"\"); //replace space with empty\n\n\n            string reverse_string, reversed;\n\n            reverse_string = userinput_without_chars_space;\n            reversed = \"\";\n\n            int len;\n            len = userinput_without_chars_space.Length - 1;\n\n            while (len &gt;= 0)\n            {\n                reversed = reversed + reverse_string[len];\n                len--;\n            }\n            Console.WriteLine(\"Sana k\u00e4\u00e4nnettyn\u00e4 on {0}\", reversed); //tells user input reversed\n\n            if (userinput_without_chars_space == reversed)//check is the userinput same than reversed user input\n            {\n                Console.Write(\"On palindromi.\");//it is palindrome\n            }\n            else\n            {\n                Console.Write(\"Ei ole palindromi.\");//it is not palindrome\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "treeview"], "comments": [{"owner": {"reputation": 1246, "user_id": 1032593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jW4ut.jpg?s=128&g=1", "display_name": "Muhammad Arslan Jamshaid", "link": "https://stackoverflow.com/users/1032593/muhammad-arslan-jamshaid"}, "edited": false, "score": 0, "creation_date": 1574879873, "post_id": 59076516, "comment_id": 104390395, "body": "adding your code will surely help and understand, what you have done so far. However, try this: <code>TreeView.Nodes[0].EnsureVisible();</code>"}, {"owner": {"reputation": 9, "user_id": 11429827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Daniel Engelkes", "link": "https://stackoverflow.com/users/11429827/daniel-engelkes"}, "reply_to_user": {"reputation": 1246, "user_id": 1032593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jW4ut.jpg?s=128&g=1", "display_name": "Muhammad Arslan Jamshaid", "link": "https://stackoverflow.com/users/1032593/muhammad-arslan-jamshaid"}, "edited": false, "score": 0, "creation_date": 1574892785, "post_id": 59076516, "comment_id": 104395343, "body": "here is a snipped of code       private void frmMain_Load_1(object sender, EventArgs e)         {             Treeview1.ExpandAll();                            // outputfile = File.AppendText(@&quot;..\\video.txt&quot;);             btnPlay.Enabled = false;             btnPause.Enabled = false;             btnStop.Enabled = false;             btnBackward.Enabled = false;             btnForward.Enabled = false;             int videoCounter=0,videoCounter1=0;"}, {"owner": {"reputation": 9, "user_id": 11429827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Daniel Engelkes", "link": "https://stackoverflow.com/users/11429827/daniel-engelkes"}, "reply_to_user": {"reputation": 1246, "user_id": 1032593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jW4ut.jpg?s=128&g=1", "display_name": "Muhammad Arslan Jamshaid", "link": "https://stackoverflow.com/users/1032593/muhammad-arslan-jamshaid"}, "edited": false, "score": 0, "creation_date": 1574892938, "post_id": 59076516, "comment_id": 104395397, "body": "That works.  Thank you Muhammad Arslan Jamshad"}], "owner": {"reputation": 9, "user_id": 11429827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Daniel Engelkes", "link": "https://stackoverflow.com/users/11429827/daniel-engelkes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574884509, "creation_date": 1574879460, "last_edit_date": 1574884509, "question_id": 59076516, "link": "https://stackoverflow.com/questions/59076516/wpf-c-treeview-scroll-to-the-top-of-the-treeview", "title": "WPF C# Treeview Scroll to the top of the Treeview", "body": "<p>When starting my application I have in the form load event to expand the treeview control but it scrolls to bottom of the list.  How do I get the treeview back to the top of the list of nodes. </p>\n"}, {"tags": ["c#", "button", "listbox"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12447693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178af82f0b0b1b0974a5a55a147b38de?s=128&d=identicon&r=PG&f=1", "display_name": "user12447693", "link": "https://stackoverflow.com/users/12447693/user12447693"}, "edited": false, "score": 0, "creation_date": 1574889262, "post_id": 59077444, "comment_id": 104394148, "body": "Thank you for your reply. Your answer helps a lot!"}], "tags": [], "owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "is_accepted": false, "score": 0, "last_activity_date": 1574883761, "creation_date": 1574883761, "answer_id": 59077444, "question_id": 59076500, "link": "https://stackoverflow.com/questions/59076500/specify-proper-line-in-listbox-using-c-windows-forms-application/59077444#59077444", "title": "Specify proper line in listBox using C# Windows Forms Application", "body": "<p>I ~think~ you're asking how to change the <strong>selected</strong> item in the listbox by pressing the buttons?</p>\n\n<p>If so, something like:</p>\n\n<pre><code>OpenFileDialog openFile = new OpenFileDialog();\n\nprivate void btnLoadFile_Click(object sender, EventArgs e)\n{\n    if (openFile.ShowDialog() == DialogResult.OK )\n    {\n        try\n        {\n            List&lt;String&gt; lines = new List&lt;String&gt;(System.IO.File.ReadAllLines(openFile.FileName));\n            lines.RemoveAll(l =&gt; l.Trim().Length == 0);\n            if (lines.Count &gt; 0)\n            {\n                listBox1.Items.Clear();\n                listBox1.Items.AddRange(lines.ToArray());\n            }                    \n        }\n        catch(Exception ex)\n        {\n            MessageBox.Show(ex.ToString(), \"Error Loading File\");\n        }                \n    }\n}\n\nprivate void btnFirst_Click(object sender, EventArgs e)\n{\n    if (listBox1.Items.Count &gt; 0)\n    {\n        listBox1.SelectedIndex = 0;\n    }\n}\n\nprivate void btnLast_Click(object sender, EventArgs e)\n{\n    if (listBox1.Items.Count &gt; 0)\n    {\n        listBox1.SelectedIndex = (listBox1.Items.Count - 1);\n    }\n}\n\nprivate void btnPrevious_Click(object sender, EventArgs e)\n{\n    if (listBox1.Items.Count &gt; 0)\n    {\n        listBox1.SelectedIndex = (listBox1.SelectedIndex &gt; 0) ? (listBox1.SelectedIndex - 1) : 0;\n    }\n}\n\nprivate void btnNext_Click(object sender, EventArgs e)\n{\n    if (listBox1.Items.Count &gt; 0)\n    {\n        listBox1.SelectedIndex = (listBox1.SelectedIndex &lt; (listBox1.Items.Count - 1)) ? (listBox1.SelectedIndex + 1) : (listBox1.Items.Count - 1);\n    }\n}\n</code></pre>\n\n<p>Note that if no item is currently selected, then pressing previous or next will select the first item in the listbox.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 12447693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178af82f0b0b1b0974a5a55a147b38de?s=128&d=identicon&r=PG&f=1", "display_name": "user12447693", "link": "https://stackoverflow.com/users/12447693/user12447693"}, "edited": false, "score": 0, "creation_date": 1574889231, "post_id": 59077529, "comment_id": 104394138, "body": "Thank you for your reply. Your answer is work and helps a lot!"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 13, "user_id": 12447693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178af82f0b0b1b0974a5a55a147b38de?s=128&d=identicon&r=PG&f=1", "display_name": "user12447693", "link": "https://stackoverflow.com/users/12447693/user12447693"}, "edited": false, "score": 0, "creation_date": 1574889719, "post_id": 59077529, "comment_id": 104394299, "body": "@user12447693 you are welcome, glad to be of help, also good question by the way!"}], "tags": [], "owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "is_accepted": true, "score": 0, "last_activity_date": 1574884769, "last_edit_date": 1574884769, "creation_date": 1574884116, "answer_id": 59077529, "question_id": 59076500, "link": "https://stackoverflow.com/questions/59076500/specify-proper-line-in-listbox-using-c-windows-forms-application/59077529#59077529", "title": "Specify proper line in listBox using C# Windows Forms Application", "body": "<blockquote>\n  <p>How to specify the First, Last, Previous and Next line in the listBox by pressing a proper button?</p>\n</blockquote>\n\n<p><strong>Note</strong>: <em>This answer assumes you want only show one line at a time, either it be the first line, next, previous and or last line in the text file.</em></p>\n\n<p><strong><em>Let's first go over</em></strong> your current approach. The routine <code>button6_Click</code> is only trying to load a file, read the line and if the line/string is not <code>null</code> then add this string to <code>listBox1</code>; this is doing this for every string in that file. The usage of <code>OpenFileDialog</code> and <code>StreamReader</code> implement <code>IDisposable</code>, you should wrap these in a <code>using</code> block to ensure objects are properly disposed of as well.</p>\n\n<p><strong><em>Your current approach</em></strong> is more than likely not what you need as you don't want to load everything up at once, only when needed. With this in mind, you would need to keep some sort of <code>collection</code> of these lines from the file; there's more than a few ways, but I will focus on just one way.</p>\n\n<p>First, create a new class as per below:</p>\n\n<pre><code>public class NavigateFile\n{\n    // Stores the file lines collection\n    public IEnumerable&lt;string&gt; CurrentFileLines { get; private set; }\n\n    // Tracks the current line index\n    public int CurrentFileLineIndex { get; private set; } = 0;\n\n    // Tracks the next line index\n    public int NextFileLineIndex { get; private set; } = 1;\n\n    // Tracks the previous line index\n    public int PreviousFileLineIndex { get; private set; } = -1;\n\n    // Tracks the last line index\n    public int LastFileLineIndex { get; private set; } = 0;\n\n    // Routine to load the file\n    public void LoadFile()\n    {\n        using (OpenFileDialog ofd = new OpenFileDialog())\n            if (ofd.ShowDialog() == DialogResult.OK)\n                CurrentFileLines = File.ReadLines(ofd.FileName).Where(line =&gt; !string.IsNullOrEmpty(line));\n\n        CurrentFileLineIndex = 0;\n        NextFileLineIndex = 1;\n        PreviousFileLineIndex = -1;\n        LastFileLineIndex = CurrentFileLines.Count();\n    }\n\n    // Routine return the first line in the file\n    public string GoToFirstLine()\n    {\n        CurrentFileLineIndex = 0;\n        return CurrentFileLines.ToList()[CurrentFileLineIndex];\n    }\n\n    // Routine return the next line in the file if we can\n    public string GoToNextLine()\n    {\n        if((CurrentFileLineIndex + 1) &lt;= CurrentFileLines.Count() - 1)\n        {\n            CurrentFileLineIndex++;\n            return CurrentFileLines.ToList()[CurrentFileLineIndex];\n        }   \n\n        return CurrentFileLines.ToList()[CurrentFileLineIndex];\n    }\n\n    // Routine return the previous line in the file if we can\n    public string GoToPreviousLine()\n    {\n        if ((CurrentFileLineIndex - 1) &gt;= 0 &amp;&amp; (CurrentFileLineIndex - 1) &lt;= CurrentFileLines.Count())\n        {\n            CurrentFileLineIndex--;\n            return CurrentFileLines.ToList()[CurrentFileLineIndex];\n        }\n\n        return CurrentFileLines.ToList()[CurrentFileLineIndex];\n    }\n\n    // Routine return the last line in the file\n    public string GoToLastLine()\n    {\n        CurrentFileLineIndex = CurrentFileLines.Count() - 1;\n        return CurrentFileLines.Last();\n    }\n\n}\n</code></pre>\n\n<p>Next you could use this simply by calling a few functions to return what you would need. Put below logic in your specific buttons to handle what you would need to.</p>\n\n<pre><code> // put this in your class where you will be using the new class\n private NavigateFile NavigateFile { get; set; } = new NavigateFile();\n\n // Load a file\n listBox1.Items.Clear();\n NavigateFile.LoadFile();\n listBox1.Items.Add(NavigateFile.GoToFirstLine());\n\n // Go to first line\n listBox1.Items.Clear();\n listBox1.Items.Add(NavigateFile.GoToFirstLine());\n\n // Go to next line\n listBox1.Items.Clear();\n listBox1.Items.Add(NavigateFile.GoToNextLine());\n\n // Go to previous line\n listBox1.Items.Clear();\n listBox1.Items.Add(NavigateFile.GoToPreviousLine());\n\n // Go to last line in the file\n listBox1.Items.Clear();\n listBox1.Items.Add(NavigateFile.GoToLastLine());\n</code></pre>\n\n<p>If you should need to lookup an item, you can build a <code>Linq</code> query against <code>CurrentFileLines</code> in the <code>NavigateFile</code> class and pull what you would need, it may be helpful if needed somewhere.</p>\n\n<p><strong>Note:</strong></p>\n\n<p>I was clearing out the <code>listBox1.Items</code> every time I did something, you don't have to, but I did. Also keep in mind, make sure you have a file loaded before calling any of these functions and or edit them to make sure you have data. If there is something you don't understand, please let me know and I can help.</p>\n"}], "owner": {"reputation": 13, "user_id": 12447693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178af82f0b0b1b0974a5a55a147b38de?s=128&d=identicon&r=PG&f=1", "display_name": "user12447693", "link": "https://stackoverflow.com/users/12447693/user12447693"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 59077529, "answer_count": 2, "score": 1, "last_activity_date": 1575157190, "creation_date": 1574879430, "last_edit_date": 1575157190, "question_id": 59076500, "link": "https://stackoverflow.com/questions/59076500/specify-proper-line-in-listbox-using-c-windows-forms-application", "title": "Specify proper line in listBox using C# Windows Forms Application", "body": "<p>I'm using C# Windows Forms Application to create a simple application. I've used a listBox to read and display a text file (10 lines). How to specify the First, Last, Previous and Next line in the listBox by pressing a proper button? Any help will be appreciated. Thank you.\n[enter image description here][1]</p>\n"}, {"tags": ["c#", "unity3d", "gameobject"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1574879980, "post_id": 59076494, "comment_id": 104390437, "body": "<code>FindGameObjectWithTag</code> doesn&#39;t exist. You&#39;re either using <code>FindWithTag</code> which <a href=\"https://docs.unity3d.com/ScriptReference/GameObject.FindWithTag.html\" rel=\"nofollow noreferrer\">specifically only searches for active objects</a> or <a href=\"https://docs.unity3d.com/ScriptReference/GameObject.FindGameObjectsWithTag.html\" rel=\"nofollow noreferrer\"><code>FindGameObject&#47;s&#47;WithTag</code></a> which returns an array. And also only active objects."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1574880696, "post_id": 59076494, "comment_id": 104390727, "body": "@Draco18s It exists (at least in some versions) but it&#39;s undocumented. It&#39;s equivalent to <code>FindWithTag</code>."}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1574880912, "post_id": 59076494, "comment_id": 104390811, "body": "@Ruzihm That&#39;s...mildly annoying."}], "owner": {"reputation": 1, "user_id": 12447716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saGTK.jpg?s=128&g=1", "display_name": "maddiemoonxx", "link": "https://stackoverflow.com/users/12447716/maddiemoonxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574879691, "creation_date": 1574879413, "last_edit_date": 1574879691, "question_id": 59076494, "link": "https://stackoverflow.com/questions/59076494/unity-c-setting-a-gameobject-to-active-from-a-script-in-a-prefab", "title": "Unity c#: setting a GameObject to active from a script in a prefab", "body": "<p>I am running a script from within a prefab that is instantiated in the scene. The script is run when the pregab is cliked on. I want to be able to set QuestionScreen to true to make it visible and to close the game so that only the questionscreen is shown.</p>\n\n<p>I have tried adding the game objects to the UFO script attached to the prefab, and I have tried using tags to select them.\nThe code works for the game GameObject but not for the question screen.\nThe tags are set correctly.\nI have tried running the function from another script but it still is only run when the prefab is clicked on. </p>\n\n<pre><code>public void ScreenSwitch()\n{\n    GameObject Game = GameObject.FindGameObjectWithTag(\"GameScreen\");\n    GameObject QuestionScreen = GameObject.FindGameObjectWithTag(\"Question\");\n    Debug.Log(QuestionScreen);\n    Debug.Log(Game);\n    Game.SetActive(false);\n    QuestionScreen.SetActive(true);\n}\n\npublic void OnMouseDown()\n{\n    ScreenSwitch();\n    Debug.Log(\"Spaceship clicked\");\n</code></pre>\n"}, {"tags": ["c#", "linq", "datatable", "sql-order-by"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574880431, "post_id": 59076484, "comment_id": 104390617, "body": "You can sort them after you group them when selecting like this <code>{ AllKeys = group.Key.OrderBy(t=&gt;t),...</code>"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1574881213, "post_id": 59076484, "comment_id": 104390923, "body": "Is the <code>GroupBy</code> working for you? Are you using a special <code>comparer</code> that compares <code>IEnumerable&lt;object&gt;</code>? Between the <code>GroupBy</code> and the <code>Select</code> you could put <code>OrderBy(g =&gt; g.Key, comparer)</code> with an appropriate comparer."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1574881320, "post_id": 59076484, "comment_id": 104390963, "body": "You will need an extension method to copy the result to a new <code>DataTable</code>. What type do you expect to have in the <code>AllKeys</code> column?"}, {"owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574883030, "post_id": 59076484, "comment_id": 104391625, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/41244/dynamic-linq-orderby-on-ienumerablet-iqueryablet\">Dynamic LINQ OrderBy on IEnumerable&lt;T&gt; / IQueryable&lt;T&gt;</a>"}, {"owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "edited": false, "score": 0, "creation_date": 1574886970, "post_id": 59076484, "comment_id": 104393226, "body": "{ AllKeys = group.Key.OrderBy(t=&gt;t),... it&#39;s only sort the keys in the query row."}, {"owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "edited": false, "score": 0, "creation_date": 1574887001, "post_id": 59076484, "comment_id": 104393240, "body": "Yes the comparer is working, I got the idea from here: <a href=\"https://stackoverflow.com/questions/29009231/how-to-group-datatable-by-unknown-column-names-and-calculate-sum-of-one-field\" title=\"how to group datatable by unknown column names and calculate sum of one field\">stackoverflow.com/questions/29009231/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "edited": false, "score": 0, "creation_date": 1574887071, "post_id": 59076484, "comment_id": 104393266, "body": "Currently the type of the AllKeys is: System.Linq.Enumerable.WhereSelectArrayIterator&lt;System.Data.&zwnj;&#8203;DataColumn, object&gt;"}, {"owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "reply_to_user": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574896286, "post_id": 59076484, "comment_id": 104396335, "body": "@EugenePodskal I tried with this: var ordered = summed.OrderBy(&quot;AllKeys&quot;).ToArray(); but it&#39;s throw error:"}, {"owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "reply_to_user": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574896303, "post_id": 59076484, "comment_id": 104396343, "body": "@EugenePodskal Error: Exception thrown: &#39;Microsoft.CSharp.RuntimeBinder.RuntimeBinderException&#39; in System.Core.dll"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "edited": false, "score": 0, "creation_date": 1574898520, "post_id": 59079605, "comment_id": 104396862, "body": "Thank you very much! I create the table from the list of the columns and the operations what the user choose, not from the query. A foreach on this query will fill the DataTable."}, {"owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "edited": false, "score": 0, "creation_date": 1574899179, "post_id": 59079605, "comment_id": 104397010, "body": "I&#39;d be happy if you could send me sources for learning these techniques."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "edited": false, "score": 0, "creation_date": 1574902440, "post_id": 59079605, "comment_id": 104397626, "body": "@Lother I no longer know all my sources, but I would say a lot of Stack Overflow searching can help you put the pieces together, and a lot of experimentation in LINQPad can help with understanding (the <code>Dump</code> method especially) of object structures."}, {"owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1574946678, "post_id": 59079605, "comment_id": 104414029, "body": "The only issue with this answer is that it will be done in-memory instead of DB, but depending on the number of keys it may even be for better."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "edited": false, "score": 0, "creation_date": 1575316687, "post_id": 59079605, "comment_id": 104517663, "body": "@EugenePodskal Is there some way to work with <code>DataTable</code> that isn&#39;t in memory? Note that the original question has <code>AsEnumerable()</code> immediately after the <code>baseTable</code> and is using field selection syntax for <code>DataTable</code>."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 2, "last_activity_date": 1575317890, "last_edit_date": 1575317890, "creation_date": 1574895957, "answer_id": 59079605, "question_id": 59076484, "link": "https://stackoverflow.com/questions/59076484/c-datatable-how-to-sort-the-solution-after-grouping/59079605#59079605", "title": "C# DataTable How to sort the solution after grouping?", "body": "<p>Just like you can provide a custom <code>IEqualityComparer</code> for <code>GroupBy</code>, you can provide a custom <code>IComparer</code> for <code>OrderBy</code>. Basically, <code>AllKeys</code> is of type <code>IEnumerable&lt;object&gt;</code>, so you need an <code>IComparer</code> that takes those and compares each element with the default comparer, but you have to get that using Reflection:</p>\n\n<pre><code>public class EnumerableComparer : IComparer&lt;IEnumerable&lt;object&gt;&gt; {\n    public int Compare(IEnumerable&lt;object&gt; xs, IEnumerable&lt;object&gt; ys) {\n        var xe = xs.GetEnumerator();\n        var ye = ys.GetEnumerator();\n\n        var sofar = 0;\n        while (sofar == 0 &amp;&amp; xe.MoveNext()) {\n            if (!ye.MoveNext())\n                sofar = 1;\n            else {\n                var ct = typeof(Comparer&lt;&gt;).MakeGenericType(xe.Current.GetType());\n                var c = ct.GetProperty(\"Default\").GetValue(null);\n                var fc = ct.GetMethod(\"Compare\");\n                sofar = (int)fc.Invoke(c, new[] { xe.Current, ye.Current });\n            }\n        }\n        if (sofar == 0 &amp;&amp; ye.MoveNext())\n            sofar = -1;\n\n        return sofar;\n    }\n}\n</code></pre>\n\n<p>With this available, you can do:</p>\n\n<pre><code>var q = baseTable.AsEnumerable()\n                 .GroupBy(row =&gt; columnsToGroupBy.Select(c =&gt; row[c]), comparer) //eg: day, time, country\n                 .Select(group =&gt; new {\n                     AllKeys = group.Key,\n                     AllField = group.Sum(row =&gt; double.Parse(row[\"rain\"].ToString()))\n                 })\n                 .OrderBy(r =&gt; r.AllKeys, new EnumerableComparer());\n</code></pre>\n\n<p>If you want to convert the result to a <code>DataTable</code> you'll need to use Reflection but you have the problem of deciding what to do with your <code>AllKeys</code> in the result column(s).</p>\n"}], "owner": {"reputation": 13, "user_id": 7221998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640141eb88657dbba59262a4759a3668?s=128&d=identicon&r=PG&f=1", "display_name": "Lother", "link": "https://stackoverflow.com/users/7221998/lother"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 59079605, "answer_count": 1, "score": 1, "last_activity_date": 1575317890, "creation_date": 1574879355, "question_id": 59076484, "link": "https://stackoverflow.com/questions/59076484/c-datatable-how-to-sort-the-solution-after-grouping", "title": "C# DataTable How to sort the solution after grouping?", "body": "<p>I have a table. I grouped that table's rows. The columns are optional.\nColumns of the table: day, time, country, city, rain (millimeter).\nI would like to copy the solution to a new table.</p>\n\n<p>Code:</p>\n\n<pre><code>var q = baseTable.AsEnumerable()\n.GroupBy(row =&gt; columnsToGroupBy.Select(c =&gt; row[c]), comparer) //eg: day, time, country\n.Select(group =&gt; new {\nAllKeys = group.Key,\nAllField = group.Sum(row =&gt; double.Parse(row[\"rain\"].ToString()))});\n</code></pre>\n\n<p>Eg. after the grouping it shows how much rain has fallen. </p>\n\n<pre><code>q[0]: { AllKeys { \"Tuesday, \"06:00\", \"Austria\" }, AllField { \"1\" } }\nq[1]: { AllKeys { \"Monday\", \"12:00\", \"Slovakia\" }, AllField { \"3\" } }\nq[2]: { AllKeys { \"Tuesday, \"06:00\", \"Slovakia\" }, AllField { \"1,5\" } }\nq[3]: { AllKeys { \"Monday\", \"11:00\", \"Slovakia\" }, AllField { \"4\" } }\n</code></pre>\n\n<p>I would like to sort by the keys in ascending order:</p>\n\n<pre><code>q[0] tartalma { AllKeys { \"Monday\", \"11:00\", \"Slovakia\" }, AllField { \"4\" } }\nq[1] tartalma { AllKeys { \"Monday\", \"12:00\", \"Slovakia\" }, AllField { \"3\" } }\nq[2] tartalma { AllKeys { \"Tuesday, \"06:00\", \"Austria\" }, AllField { \"1,5\" } }\nq[3] tartalma { AllKeys { \"Tuesday, \"06:00\", \"Slovakia\" }, AllField { \"1\" } }\n</code></pre>\n\n<p>IF the user would like to change the sorting by the day and time, than it have to sort the columns to day and time.\nSo this is not work, because I don't know how many keys will be:</p>\n\n<pre><code>var q2 = q.OrderBy(x =&gt; x.AllKeys.First()))\n.ThenBy(x =&gt; x.AllKeys.ToList()[1]);\n</code></pre>\n\n<p>Can you help me, how to sort the query?</p>\n"}, {"tags": ["c#", ".net", "wix", "windows-services", "topshelf"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1574880501, "post_id": 59076477, "comment_id": 104390646, "body": "Have you tried to look at the MSI log? Did you see any errors in file?"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574880534, "post_id": 59076477, "comment_id": 104390658, "body": "Or check the event log while restarting the windows service."}, {"owner": {"reputation": 1535, "user_id": 604920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/99cec1c67581c047a6653fde327ab6c1?s=128&d=identicon&r=PG", "display_name": "Yasir", "link": "https://stackoverflow.com/users/604920/yasir"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1574881024, "post_id": 59076477, "comment_id": 104390847, "body": "@PavelAnikhouski The log shows the following error &quot;Error 1923. Service &#39;Broker Windows Service Test&#39; (BrokerWindowsServiceTest) could not be installed.  Verify that you have sufficient privileges to install system services.&quot;"}, {"owner": {"reputation": 1535, "user_id": 604920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/99cec1c67581c047a6653fde327ab6c1?s=128&d=identicon&r=PG", "display_name": "Yasir", "link": "https://stackoverflow.com/users/604920/yasir"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574881188, "post_id": 59076477, "comment_id": 104390909, "body": "@Eldar I checked the Event log. It was the same error that I am seeing elsewhere: &quot;Error 1923. Service &#39;Broker Windows Service Test&#39; (BrokerWindowsServiceTest) could not be installed.  Verify that you have sufficient privileges to install system services.&quot;"}, {"owner": {"reputation": 487, "user_id": 1602286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05396893155418a0a93052cb05f64a3f?s=128&d=identicon&r=PG", "display_name": "Michael Daniloff", "link": "https://stackoverflow.com/users/1602286/michael-daniloff"}, "edited": false, "score": 0, "creation_date": 1574882704, "post_id": 59076477, "comment_id": 104391490, "body": "Possibly it is not Wix installer issue. I wold try to install the service using InstallUtil command. (run as admin) and check the log if you get errors."}, {"owner": {"reputation": 1535, "user_id": 604920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/99cec1c67581c047a6653fde327ab6c1?s=128&d=identicon&r=PG", "display_name": "Yasir", "link": "https://stackoverflow.com/users/604920/yasir"}, "reply_to_user": {"reputation": 487, "user_id": 1602286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05396893155418a0a93052cb05f64a3f?s=128&d=identicon&r=PG", "display_name": "Michael Daniloff", "link": "https://stackoverflow.com/users/1602286/michael-daniloff"}, "edited": false, "score": 0, "creation_date": 1574884081, "post_id": 59076477, "comment_id": 104392106, "body": "@MichaelDaniloff I directly navigated to the exe location in the bin/release folder on my machine and installed and started the service using the command prompt and it worked without issues. But it doesn&#39;t start when I install it through Wix."}, {"owner": {"reputation": 487, "user_id": 1602286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05396893155418a0a93052cb05f64a3f?s=128&d=identicon&r=PG", "display_name": "Michael Daniloff", "link": "https://stackoverflow.com/users/1602286/michael-daniloff"}, "edited": false, "score": 0, "creation_date": 1574885149, "post_id": 59076477, "comment_id": 104392537, "body": "@Yasir but can you do the same for the location where  Wix put it?"}, {"owner": {"reputation": 1535, "user_id": 604920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/99cec1c67581c047a6653fde327ab6c1?s=128&d=identicon&r=PG", "display_name": "Yasir", "link": "https://stackoverflow.com/users/604920/yasir"}, "reply_to_user": {"reputation": 487, "user_id": 1602286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05396893155418a0a93052cb05f64a3f?s=128&d=identicon&r=PG", "display_name": "Michael Daniloff", "link": "https://stackoverflow.com/users/1602286/michael-daniloff"}, "edited": false, "score": 0, "creation_date": 1574887692, "post_id": 59076477, "comment_id": 104393521, "body": "@MichaelDaniloff If I navigate to the location where Wix has dumped the files and then install the service using the command prompt, it works. I can then go and manually start the service as well."}, {"owner": {"reputation": 1535, "user_id": 604920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/99cec1c67581c047a6653fde327ab6c1?s=128&d=identicon&r=PG", "display_name": "Yasir", "link": "https://stackoverflow.com/users/604920/yasir"}, "reply_to_user": {"reputation": 487, "user_id": 1602286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05396893155418a0a93052cb05f64a3f?s=128&d=identicon&r=PG", "display_name": "Michael Daniloff", "link": "https://stackoverflow.com/users/1602286/michael-daniloff"}, "edited": false, "score": 0, "creation_date": 1574888241, "post_id": 59076477, "comment_id": 104393738, "body": "@MichaelDaniloff Another interesting thing if I install the service from the Wix location manually, and then click retry in the Wix installer, I am able to start the service. So, the answer must be related to user access in Wix vs manual install."}, {"owner": {"reputation": 4192, "user_id": 5601267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FhwsUzLPxHs/AAAAAAAAAAI/AAAAAAAAADY/O6MbIjDJcYE/photo.jpg?sz=128", "display_name": "Brian Sutherland", "link": "https://stackoverflow.com/users/5601267/brian-sutherland"}, "edited": false, "score": 0, "creation_date": 1574893829, "post_id": 59076477, "comment_id": 104395698, "body": "Does it work if you use &quot;NT AUTHORITY&quot; instead of &quot;NT Authority&quot;. I have some vague memory of that making a difference"}], "answers": [{"tags": [], "owner": {"reputation": 34253, "user_id": 129130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FJpdt.gif?s=128&g=1", "display_name": "Stein &#197;smul", "link": "https://stackoverflow.com/users/129130/stein-%c3%85smul"}, "is_accepted": false, "score": 0, "last_activity_date": 1574907970, "last_edit_date": 1574907970, "creation_date": 1574906232, "answer_id": 59080738, "question_id": 59076477, "link": "https://stackoverflow.com/questions/59076477/wix-installer-based-topshelf-windows-service-fails-to-start/59080738#59080738", "title": "Wix installer based TopShelf windows service fails to start", "body": "<blockquote>\n  <p><strong><em>Installer Methods</em></strong>: I would inspect your service installer code inside the binary. There must be something that you are doing in the\n  installation methods for the assembly / binary that is not replicated\n  by MSI at installation time. What are you doing in these installer\n  methods? Samples: <a href=\"https://stackoverflow.com/a/57274639/129130\"><strong>1</strong></a> and <a href=\"https://stackoverflow.com/a/50144232/129130\"><strong>2</strong></a>.</p>\n  \n  <p><strong><em>WiX Service Installation</em></strong>: I would take out all attributes that are not\n  needed in the WiX element. See this sample: <a href=\"https://github.com/rstropek/Samples/blob/master/WiXSamples/WindowsService/ServiceInstaller/Product.wxs\" rel=\"nofollow noreferrer\">Service Installation</a>\n  (Stropek). Particularly the <strong><code>Account attribute</code></strong>, just leave it out. Also take out that permissioning element for SYSTEM. Default permissions are better - they are already there.</p>\n</blockquote>\n\n<p><strong><em>Procmon.exe</em></strong>: You can inspect the system for what happens when you run <strong><code>InstallUtil.exe</code></strong> if you run <strong><code>Procmon.exe</code></strong> and inspect the information overload. Are you familiar with this tool? I would prefer not to go into it (again - <a href=\"https://stackoverflow.com/questions/47746076/registering-a-cpp-dll-into-com-after-installation-using-wix-msi-installer/47792474#47792474\">rudimentary example</a>), and I think it should be enough to study you installation method code instead.</p>\n\n<p><strong><em>Capture</em></strong>: It is also possible to use a setup-capture tool to scan the before and after state of the system when you run <strong><code>InstallUtil.exe</code></strong>. That requires a hefty tool (<strong><code>AdminStudio</code></strong>, <strong><code>Advanced Installer</code></strong>) and is rarely available for developers. Just for the record.</p>\n\n<hr>\n\n<p><strong><em>Links</em></strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52092884/cannot-update-a-windows-service-installed-by-msi/52095690#52095690\">Cannot update a Windows Service installed by MSI</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57703489/wix-installer-upgrade-with-same-upgrade-code-id-shows-privilege-error-prompt/57709473#57709473\">Wix installer upgrade with same &quot;upgrade code&quot; ID shows privilege error prompt</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51768425/wix-service-install-not-enough-permission/51775803#51775803\">wix service install not enough permission</a></li>\n</ul>\n\n<p><strong><em>Additional</em></strong>:</p>\n\n<ul>\n<li><strong><a href=\"https://stackoverflow.com/questions/53512998/desktop-applicaton-not-opening-after-installation-in-client-system/53530377#53530377\">Desktop applicaton not opening after installation in client system</a></strong></li>\n<li><a href=\"https://stackoverflow.com/questions/55501396/application-is-not-getting-opened-after-installing-it-with-the-installer-created/55505883#55505883\">Application is not getting opened after installing it with the installer created by &quot;Visual studio installer&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8164859/install-a-windows-service-using-a-windows-command-prompt\">Install a Windows service using a Windows command prompt?</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 387980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29a0c1878fe1b6403a2cb0f15bd4c9e?s=128&d=identicon&r=PG", "display_name": "Zohrab Broyan", "link": "https://stackoverflow.com/users/387980/zohrab-broyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1592807634, "creation_date": 1592807634, "answer_id": 62508637, "question_id": 59076477, "link": "https://stackoverflow.com/questions/59076477/wix-installer-based-topshelf-windows-service-fails-to-start/62508637#62508637", "title": "Wix installer based TopShelf windows service fails to start", "body": "<p>Make sure the ServiceInstall Name exactly matches the name of your topshelf service</p>\n"}], "owner": {"reputation": 1535, "user_id": 604920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/99cec1c67581c047a6653fde327ab6c1?s=128&d=identicon&r=PG", "display_name": "Yasir", "link": "https://stackoverflow.com/users/604920/yasir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1592807634, "creation_date": 1574879331, "last_edit_date": 1574880981, "question_id": 59076477, "link": "https://stackoverflow.com/questions/59076477/wix-installer-based-topshelf-windows-service-fails-to-start", "title": "Wix installer based TopShelf windows service fails to start", "body": "<p>I have written a bare-bones .NET 4.7.2 C# Windows Service using TopShelf and Quartz. The service works when I debug it using Visual Studio 2019 on my Windows 10 laptop. I then created a Wix 3.11.2 based setup to install and start this service. Now, I am trying to install the service on my laptop using this installer. The installer is able to copy the files but fails to start the service. Here is the code:</p>\n\n<p>Product.wxs</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Wix xmlns=\"http://schemas.microsoft.com/wix/2006/wi\"&gt;\n&lt;Product Id=\"*\" Name=\"Broker Test\" Language=\"1033\" Version=\"1.0.0.0\"\n       Manufacturer=\"Test\"\n       UpgradeCode=\"{68813F65-1022-4E32-AC50-CD16B5927DAD}\"&gt;\n&lt;Package InstallerVersion=\"200\" Compressed=\"yes\" InstallScope=\"perMachine\" /&gt;\n\n&lt;Media Id=\"1\" Cabinet=\"BrokerTest.cab\" EmbedCab=\"yes\" /&gt;\n\n&lt;Directory Id=\"TARGETDIR\" Name=\"SourceDir\"&gt;\n  &lt;Directory Id=\"INSTALLDIR\" Name=\"Application\"&gt;\n    &lt;Directory Id=\"WINDIR\" Name=\"Service\"/&gt;\n  &lt;/Directory&gt;\n&lt;/Directory&gt;\n\n&lt;Feature Id=\"ProductFeature\" Title=\"BrokerTest_MSI\" Level=\"1\"&gt;\n  &lt;ComponentGroupRef Id=\"BrokerWindowsService\" /&gt;\n&lt;/Feature&gt;\n\n&lt;Property Id=\"WIXUI_INSTALLDIR\" Value=\"INSTALLDIR\" /&gt;\n&lt;Property Id=\"INSTALLTYPE\" Value=\"1\"/&gt;\n&lt;/Product&gt;\n&lt;/Wix&gt;\n</code></pre>\n\n<p>WinService.wxs</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Wix xmlns=\"http://schemas.microsoft.com/wix/2006/wi\"\n xmlns:util=\"http://schemas.microsoft.com/wix/UtilExtension\"&gt;\n&lt;Fragment&gt;\n&lt;ComponentGroup Id=\"BrokerWindowsService\"&gt;\n\n  &lt;ComponentRef Id=\"Tb.WinService.Test\" /&gt;\n  &lt;ComponentRef Id=\"TopShelf\"/&gt;\n  &lt;ComponentRef Id=\"Tb.ServiceConfig\" /&gt;\n  &lt;ComponentRef Id=\"Microsoft.Extensions.DependencyInjection\" /&gt;\n  &lt;ComponentRef Id=\"Microsoft.Extensions.DependencyInjection.Abstractions\" /&gt;      \n  &lt;ComponentRef Id=\"Quartz\" /&gt;      \n\n&lt;/ComponentGroup&gt;\n\n&lt;DirectoryRef Id=\"WINDIR\"&gt;\n  &lt;Directory Id=\"DataDir\" Name=\"Data\"/&gt;\n\n  &lt;Component Id=\"Tb.WinService.Test\" Guid=\"{F1DF09D9-98D8-4D63-9BB9-7581D56E1685}\"&gt;\n\n    &lt;CreateFolder Directory=\"DataDir\"&gt;\n      &lt;util:PermissionEx User=\"NT Authority\\SYSTEM\" GenericAll=\"yes\"/&gt;\n    &lt;/CreateFolder&gt;\n\n    &lt;File Id=\"Tb.WinService.Test.dll\" Name=\"$(var.Tb.WinService.Test.TargetFileName)\" Source=\"$(var.Tb.WinService.Test.TargetPath)\" /&gt;\n    &lt;File Id=\"Tb.WinService.Test.pdb\" Name=\"$(var.Tb.WinService.Test.TargetName).pdb\" Source=\"$(var.Tb.WinService.Test.TargetDir)$(var.Tb.WinService.Test.TargetName).pdb\" /&gt;\n\n    &lt;ServiceInstall Id=\"ServiceInstaller\" Type=\"ownProcess\" Vital=\"yes\"\n                            Name=\"BrokerWindowsServiceTest\"\n                            DisplayName=\"Broker Windows Service Test\"\n                            Description=\"Runs scheduled tasks\"\n                            Start=\"auto\" Account=\"NT Authority\\SYSTEM\"\n                            ErrorControl=\"ignore\"\n                            Interactive=\"no\" /&gt;\n\n    &lt;ServiceControl Id=\"StartService\"\n                            Start=\"install\" Stop=\"both\" Remove=\"uninstall\"\n                            Name=\"BrokerWindowsServiceTest\" Wait=\"yes\" /&gt;\n\n  &lt;/Component&gt;\n\n  &lt;Component Id=\"TopShelf\" Guid=\"{CEC3596B-4D38-4641-81EF-CBC09C4FE67E}\"&gt;\n    &lt;File Id=\"TopShelf.dll\" Name=\"TopShelf.dll\" Source=\"$(var.SolutionDir)packages\\Topshelf.4.2.1\\lib\\net452\\Topshelf.dll\" Vital=\"yes\" /&gt;\n    &lt;File Id=\"TopShelf.xml\" Name=\"TopShelf.xml\" Source=\"$(var.SolutionDir)packages\\Topshelf.4.2.1\\lib\\net452\\Topshelf.xml\" Vital=\"yes\" /&gt;\n  &lt;/Component&gt;\n\n  &lt;Component Id=\"Tb.ServiceConfig\" Guid=\"{A08D1440-4B2A-4DFB-9F55-27E81DC4B106}\"&gt;\n    &lt;File Id=\"Tb.Service.App.Config\" Name=\"$(var.Tb.WinService.Test.TargetName).exe.config\" \n          Vital=\"yes\" KeyPath=\"yes\" Source=\"$(var.Tb.WinService.Test.TargetDir)App.config\" /&gt;\n  &lt;/Component&gt;\n\n  &lt;Component Id=\"Microsoft.Extensions.DependencyInjection\" Guid=\"{8F69CFC4-02F9-479C-9C57-E2F88180E542}\"&gt;\n    &lt;File Id=\"Microsoft.Extensions.DependencyInjection.dll\" Name=\"Microsoft.Extensions.DependencyInjection.dll\" \n          Source=\"$(var.SolutionDir)packages\\Microsoft.Extensions.DependencyInjection.3.0.1\\lib\\netstandard2.0\\Microsoft.Extensions.DependencyInjection.dll\" Vital=\"yes\" /&gt;\n  &lt;/Component&gt;\n\n  &lt;Component Id=\"Microsoft.Extensions.DependencyInjection.Abstractions\" Guid=\"{8EB47289-9527-4CE4-9991-EBF8997368DC}\"&gt;\n    &lt;File Id=\"Microsoft.Extensions.DependencyInjection.Abstractions.dll\" Name=\"Microsoft.Extensions.DependencyInjection.Abstractions.dll\" \n          Source=\"$(var.SolutionDir)packages\\Microsoft.Extensions.DependencyInjection.Abstractions.3.0.1\\lib\\netstandard2.0\\Microsoft.Extensions.DependencyInjection.Abstractions.dll\" Vital=\"yes\" /&gt;\n  &lt;/Component&gt;\n\n  &lt;Component Id=\"Quartz\" Guid=\"{345DA6DA-F385-47A6-844C-3171ADE42E83}\"&gt;\n    &lt;File Id=\"Quartz.dll\" Name=\"Quartz.dll\" Source=\"$(var.SolutionDir)packages\\Quartz.3.0.7\\lib\\net452\\Quartz.dll\" Vital=\"yes\" /&gt;\n    &lt;File Id=\"Quartz.xml\" Name=\"Quartz.xml\" Source=\"$(var.SolutionDir)packages\\Quartz.3.0.7\\lib\\net452\\Quartz.xml\" Vital=\"yes\" /&gt;\n  &lt;/Component&gt;      \n\n&lt;/DirectoryRef&gt;\n&lt;/Fragment&gt;\n&lt;/Wix&gt;\n</code></pre>\n\n<p>I get the following error when I run the Wix Installer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zeOVd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zeOVd.png\" alt=\"Privileges Error\"></a></p>\n\n<p>If I try to start the service manually, I get the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FnCTH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FnCTH.jpg\" alt=\"Error Message\"></a></p>\n\n<p>I have already tried the following:</p>\n\n<ol>\n<li>I am using the NT Authority\\System account which should have the proper access.</li>\n<li>Currently my windows service isn't really doing anything. It's returing Task.CompletedTask. So, there shouldn't be a timeout scenario.</li>\n<li>I have tried with both debug and release builds.</li>\n<li>I am installing on the same machine I am developing on. So, .NET framework version shouldn't be an issue.</li>\n<li>I tried launching the debugger but it was unable to attach. So I didn't get any more details.</li>\n<li>I caught exceptions and wrote to the Event Log but that too doesn't have any more details. </li>\n</ol>\n"}, {"tags": ["c#", "nunit", "log4net", "nunit-console"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 1, "creation_date": 1574880364, "post_id": 59076450, "comment_id": 104390586, "body": "How did you manage the log4net configuration? Make sense to create the separate configs for tests and the rest of application"}, {"owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "edited": false, "score": 0, "creation_date": 1574893834, "post_id": 59076450, "comment_id": 104395703, "body": "What do you mean by &quot;nunit logs?&quot; NUnit does have internal logs, but they shouldn&#39;t contain your console output. Console output from tests is stored as a part of the xml test result and is also written to console by the console runner, but only if you request it to be written."}, {"owner": {"reputation": 1504, "user_id": 2933946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fac94f311bc302b24e56e201ce7aef0?s=128&d=identicon&r=PG&f=1", "display_name": "xander", "link": "https://stackoverflow.com/users/2933946/xander"}, "edited": false, "score": 0, "creation_date": 1574912823, "post_id": 59076450, "comment_id": 104399567, "body": "It sounds like the &quot;NUnit logs&quot; are a capture of the console output from the test run? If so, I agree with Pavel--you should disable log4net&#39;s console appender when running your NUnit tests."}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1574933712, "post_id": 59076450, "comment_id": 104406980, "body": "Hello all, thanks for taking the time to ask questions. All we are doing is passing in an argument of a file name to write the logs to file, the resulting logs, have the test results and test logging, intertwined with our application logs (which I don&#39;t want). Any thoughts on where I can begin finding out how to turn off a logger when running tests?"}], "owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574879226, "creation_date": 1574879226, "question_id": 59076450, "link": "https://stackoverflow.com/questions/59076450/is-is-possible-to-stop-my-log4net-console-logs-appearing-in-the-nunit-console-ru", "title": "Is is possible to stop my log4net console logs appearing in the nunit console runner test output", "body": "<p>This seems like it should be quite simple, but I'm not an expert (or anywhere near) with regards to both 'frameworks' involved here.</p>\n\n<p>Part of our build pipeline runs our unit tests using the nunit console runner. </p>\n\n<p>We also use log4net and configure a console appender and a Rolling File Appender\nThe console appender is useful for QA when they run the tests, so they don't have to hunt out the file. So I can't just get rid of it and I can't get rid of the file appender as that is important.</p>\n\n<p>What I've noticed is that my nunit logs contain all the console output from my application (that is already being written to file) and making it very hard to parse and taking up tons of space.</p>\n\n<p>Is there a way to take the console logging the NUnit test into the file and ignore the stuff coming from log4net?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 594993, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b28082696b605d3aaf3a2a1c7b04b0b5?s=128&d=identicon&r=PG", "display_name": "Nate Kennedy", "link": "https://stackoverflow.com/users/594993/nate-kennedy"}, "edited": false, "score": 0, "creation_date": 1617656027, "post_id": 59076601, "comment_id": 118359752, "body": "But at what point in configuring the pipeline should that function be added?  Before .UseRouting()?  Before .UseAuthentication()?  After?"}], "tags": [], "owner": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "is_accepted": true, "score": 6, "last_activity_date": 1574879886, "creation_date": 1574879886, "answer_id": 59076601, "question_id": 59076409, "link": "https://stackoverflow.com/questions/59076409/re-read-a-request-body-in-asp-net-core/59076601#59076601", "title": "Re-read a Request body in ASP.NET core", "body": "<p><code>EnableBuffering</code> exists in dotnet 3.0, just add </p>\n\n<pre><code>using Microsoft.AspNetCore.Http;\n</code></pre>\n\n<p>then</p>\n\n<pre><code>app.Use(async (context, next) =&gt; {\n    context.Request.EnableBuffering();\n    await next();\n});\n</code></pre>\n"}], "owner": {"reputation": 12246, "user_id": 214980, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bf7aec50272874960980fd6923cf962c?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/214980/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2085, "favorite_count": 1, "accepted_answer_id": 59076601, "answer_count": 1, "score": 3, "last_activity_date": 1574879886, "creation_date": 1574879102, "question_id": 59076409, "link": "https://stackoverflow.com/questions/59076409/re-read-a-request-body-in-asp-net-core", "title": "Re-read a Request body in ASP.NET core", "body": "<p>I have an error logger that writes errors from an API controller to the database. It has some code like this:</p>\n\n<pre><code>string form = string.Empty;\nif (request.Method == \"POST\")\n{\n    using (StreamReader sr = new StreamReader(request.Body))\n    {\n        if (request.Body.CanSeek) request.Body.Seek(0, SeekOrigin.Begin);\n        if (request.Body.CanRead) form = sr.ReadToEndAsync().Result;\n        form = sr.ReadToEndAsync().Result;\n    }\n}\n</code></pre>\n\n<p>However, this can't read the body because it's already been read, and ASP.NET Core doesn't let you do this. See: <a href=\"https://devblogs.microsoft.com/aspnet/re-reading-asp-net-core-request-bodies-with-enablebuffering/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/aspnet/re-reading-asp-net-core-request-bodies-with-enablebuffering/</a></p>\n\n<p>I looked at <code>.EnableBuffering</code> and <code>.EnableRewind</code> but neither of these exist on <code>HttpRequest</code> (at least not in 3.0.</p>\n\n<pre><code>app.Use(async (context, next) =&gt; {\n    context.Request.EnableRewind();\n    await next();\n});\n</code></pre>\n\n<p>How do I get to reread the request body?</p>\n"}, {"tags": ["c#", "for-loop", "foreach"], "comments": [{"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1574879647, "post_id": 59076382, "comment_id": 104390305, "body": "+1 for creativity and ingenuity! And for providing code we can reproduce. I&#39;m playing hangman. Be back in a few."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1574879667, "post_id": 59076382, "comment_id": 104390309, "body": "The problem is that you need to keep track of all the letters that have every been guessed and use that to determine if you should print the letter or the star.  Also the <code>while</code> loop should stop either when all the letters are guessed (not the same as the counter reaching the length) or when you get to a maximum allowed number of guesses."}], "answers": [{"comments": [{"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 1, "creation_date": 1574880485, "post_id": 59076607, "comment_id": 104390641, "body": "better and simpler than what I was going to suggest. +1"}, {"owner": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "edited": false, "score": 0, "creation_date": 1574881408, "post_id": 59076607, "comment_id": 104390990, "body": "Thanks! It worked. Would anybody have any suggestions on how I would go about ending the program when the user guesses the word correctly before reaching the length of the word? Thanks"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "reply_to_user": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "edited": false, "score": 0, "creation_date": 1574881572, "post_id": 59076607, "comment_id": 104391073, "body": "@Cole.C you can check how many <code>*</code> symbols are remaining in <code>found</code> array. If this equals zero, you should stop"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "reply_to_user": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "edited": false, "score": 0, "creation_date": 1574881790, "post_id": 59076607, "comment_id": 104391158, "body": "@Cole.C <code>if (!found.Any(c =&gt; c == &#39;*&#39;)) break;</code> the simplest solution using <code>System.Linq</code>, I&#39;ll update an answer"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "reply_to_user": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "edited": false, "score": 0, "creation_date": 1574883505, "post_id": 59076607, "comment_id": 104391847, "body": "@Cole.C Please, have a look at updated answer, I&#39;ve added a check when user guesses the word, solution with <code>Linq</code> is also possible"}, {"owner": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "edited": false, "score": 0, "creation_date": 1574903293, "post_id": 59076607, "comment_id": 104397781, "body": "@PavelAnikhouski I have tried what is in the suggested answer, but I am not able to get it to work. Even when the entire word is guessed its still allowing me to enter a guess. I tired putting the second <code>if</code>statement in and out of the <code>foreach</code>loop but had no luck. I know that using <code>Linq</code> would be easier but I would like to know a method on how not to use that."}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "reply_to_user": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "edited": false, "score": 0, "creation_date": 1574926480, "post_id": 59076607, "comment_id": 104403521, "body": "@Cole.C Please, have a look at updated answer. You should this code inside <code>while</code> loop before increasing a counter <code>var any = false;     foreach (var c in found)         if (c == &#39;*&#39;)             any = true;      if (!any)         break;</code> it&#39;ll break the main loop when there are no more <code>*</code> symbols in <code>found</code> array"}, {"owner": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "edited": false, "score": 0, "creation_date": 1574985233, "post_id": 59076607, "comment_id": 104427786, "body": "@PavelAnikhouski Ahh okay I was able to get it to work. I am trying now to keep track of when the user guesses wrong in the main <code>for</code> loop I tried adding <code>if (userGuess != charArray[index] gusses++</code> But I am getting wried numbers like 70 and 120. I am unsure how why I am getting these kind of numbers. Would you have any suggestions?"}], "tags": [], "owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "is_accepted": true, "score": 2, "last_activity_date": 1580902785, "last_edit_date": 1580902785, "creation_date": 1574879911, "answer_id": 59076607, "question_id": 59076382, "link": "https://stackoverflow.com/questions/59076382/how-do-i-display-the-input-of-the-user-if-the-user-guesses-correctly-in-hangman/59076607#59076607", "title": "How do I display the input of the user, if the user guesses correctly in hangman c#", "body": "<p>You can solve it by introducing an additional array with found symbols, something like in code below. The solution is pretty simple and straightforward, <code>test</code> word is used as an example</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>int counter = 0;\n\nvar charArray = \"test\".ToCharArray();\nvar found = new char[charArray.Length];\nfor (int i = 0; i &lt; charArray.Length; i++)\n{\n    found[i] = '*';\n}\n\nwhile (counter &lt; charArray.Length)\n{\n    Console.Write(\"(Guess) Enter a letter in a word \");\n    foreach (char character in charArray)\n    {\n        Console.Write(\"*\");\n    }\n\n    Console.Write(\" &gt; \");\n    var userGuess = Console.ReadKey().KeyChar;\n    Console.WriteLine();\n    for (int index = 0; index &lt; charArray.Length; index++)\n    {\n        if (charArray[index] == userGuess)\n        {\n            found[index] = userGuess;\n        }\n        Console.Write(found[index]);\n    }\n\n    var any = false;\n    foreach (var c in found)\n        if (c == '*')\n            any = true;\n\n    if (!any)\n        break;\n\n\n    Console.WriteLine();\n    counter++;\n}\n</code></pre>\n\n<p>Example output </p>\n\n<p><a href=\"https://i.stack.imgur.com/zGXtk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGXtk.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "is_accepted": false, "score": 1, "last_activity_date": 1574882194, "creation_date": 1574882194, "answer_id": 59077103, "question_id": 59076382, "link": "https://stackoverflow.com/questions/59076382/how-do-i-display-the-input-of-the-user-if-the-user-guesses-correctly-in-hangman/59077103#59077103", "title": "How do I display the input of the user, if the user guesses correctly in hangman c#", "body": "<blockquote>\n  <p>\"Would anybody have any suggestions on how I would go about ending the\n  program when the user guesses the word correctly before reaching the\n  length of the word?\"</p>\n</blockquote>\n\n<p>I took some other liberties as well.</p>\n\n<pre><code>        static void PlayHangMan(string wordToGuess, int numberOfGuesses)\n        {\n            try\n            {\n                int counter = 0;\n                bool victory = false;\n\n                var charArray = wordToGuess.ToCharArray();\n                var found = new char[charArray.Length];\n                for (int i = 0; i &lt; charArray.Length; i++)\n                {\n                    found[i] = '*';\n                }\n\n                string hiddenWord = string.Empty;\n                foreach (char character in charArray)\n                {\n                    hiddenWord = hiddenWord + \"*\";\n                }\n\n                while (counter &lt; numberOfGuesses)\n                {\n                    Console.Write($\"(Guess left: {numberOfGuesses - counter}) Enter a letter in a word: {hiddenWord} &gt; \");\n\n                    // Wait for user input\n                    var userGuess = Console.ReadKey().KeyChar;\n\n                    hiddenWord = string.Empty;\n                    Console.WriteLine();\n                    for (int index = 0; index &lt; charArray.Length; index++)\n                    {\n                        if (charArray[index] == userGuess)\n                        {\n                            found[index] = userGuess;\n                            hiddenWord = hiddenWord + userGuess;\n                        }\n                        else\n                        {\n                            hiddenWord = hiddenWord + found[index];\n                        }\n                    }\n                    counter++;\n                    if (!found.Any(f =&gt; f == '*'))\n                    {\n                        Console.WriteLine($\"You won! Word: {hiddenWord}\");\n                        victory = true;\n                        break;\n                    }\n                }\n\n                if (!victory)\n                    Console.WriteLine(\"You are out of guesses.\");\n\n                Console.Read();\n            }\n            catch (Exception ex)\n            {\n                var m = ex.Message;\n            }\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1ubaB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ubaB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>or</p>\n\n<p><a href=\"https://i.stack.imgur.com/0iUUQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0iUUQ.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 45, "user_id": 7217943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2dcb75836d283c5dc9159dcd6b3e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole.C", "link": "https://stackoverflow.com/users/7217943/cole-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 59076607, "answer_count": 2, "score": 2, "last_activity_date": 1580902785, "creation_date": 1574878990, "last_edit_date": 1575048115, "question_id": 59076382, "link": "https://stackoverflow.com/questions/59076382/how-do-i-display-the-input-of-the-user-if-the-user-guesses-correctly-in-hangman", "title": "How do I display the input of the user, if the user guesses correctly in hangman c#", "body": "<p>I am trying to make a version of hangman in c# using the console application.</p>\n\n<p>Right now what is working is for every letter that the user has not guessed it displays an * but what is not working is when the user guesses correctly it doesn't show the letter that the user inputted on the next turn.</p>\n\n<p>Here is the code that I have that displays and shows of the user guessed any of the letters.</p>\n\n<pre><code> static void PlayHangMan(string randomWord)\n    {\n        char[] charArray;\n        char userGuess;\n        int counter = 0;\n\n        charArray = randomWord.ToCharArray();\n\n        while (counter &lt; charArray.Length)\n        {\n            Console.Write(\"(Guess) Enter a letter in a word \");\n            foreach (char character in charArray)\n            {\n                Console.Write(\"*\");\n            }\n            Console.Write(\" &gt; \");\n            userGuess = Console.ReadKey().KeyChar;\n            Console.WriteLine();\n            for (int index = 0; index &lt; charArray.Length; index++)\n            {\n                if (charArray[index] == userGuess)\n                {\n                    charArray[index] = userGuess;\n                    Console.Write(charArray[index]);\n                }\n                else\n                {\n                    Console.Write(\"*\");\n                }\n            }\n            Console.WriteLine();\n            counter++;\n        }\n    }\n</code></pre>\n\n<p>---UPDATE---</p>\n\n<p>I have been able to get the input to display correctly now thanks to the suggestions down below. But now I am trying to keep track of when the user guesses incorrectly. I have tried what is below. But I am getting very wired numbers. Like if I only guess wrong once I would want the guesses number to increase by one only , instead it is display 70 instead of one. Not too sure why</p>\n\n<pre><code> while (found.Any(c =&gt; c == '*'))\n        {\n            Console.Write(\"(Guess) Enter a letter in a word \");\n            Console.Write(found);\n            Console.Write(\" &gt; \");\n            userGuess = Console.ReadKey().KeyChar;\n            Console.WriteLine();\n\n            for (int index = 0; index &lt; charArray.Length; index++)\n            {\n                if (charArray[index] == userGuess &amp;&amp; userGuess != lettersUsed[index])\n                {\n                    found[index] = userGuess;\n                    lettersUsed[index] = userGuess;\n                }\n                else if (lettersUsed[index] == userGuess)\n                {\n                    Console.WriteLine($\"{userGuess} is already in the word\");\n                }\n                else if (charArray[index] != userGuess &amp;&amp; userGuess != lettersUsed[index])\n                {\n                    guesses++;\n                }\n            }\n        }    \n</code></pre>\n\n<p>Thanks for the suggestions!</p>\n"}, {"tags": ["c#", "struct", "arduino", "serial-port", "port"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574881268, "post_id": 59076362, "comment_id": 104390942, "body": "After you read &quot;/&quot; char read into an byte array and then use <a href=\"https://stackoverflow.com/questions/2871/reading-a-c-c-data-structure-in-c-sharp-from-a-byte-array\">this</a> method to create your struct from byte array. And if you want to continue use your current implementation you need to used <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/fixed-statement\" rel=\"nofollow noreferrer\">fixed</a> statement"}, {"owner": {"reputation": 3, "user_id": 12447495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcaffc5b6b588abaf03e1ce105f890b1?s=128&d=identicon&r=PG&f=1", "display_name": "hunt333r", "link": "https://stackoverflow.com/users/12447495/hunt333r"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574968965, "post_id": 59076362, "comment_id": 104423947, "body": "can you please give me a more exact response ? i try to use the examples provided but i get only errors"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12447495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcaffc5b6b588abaf03e1ce105f890b1?s=128&d=identicon&r=PG&f=1", "display_name": "hunt333r", "link": "https://stackoverflow.com/users/12447495/hunt333r"}, "edited": false, "score": 0, "creation_date": 1574968970, "post_id": 59076989, "comment_id": 104423949, "body": "can you please give me a more exact response ? i try to use the examples provided but i get only errors"}, {"owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "reply_to_user": {"reputation": 3, "user_id": 12447495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcaffc5b6b588abaf03e1ce105f890b1?s=128&d=identicon&r=PG&f=1", "display_name": "hunt333r", "link": "https://stackoverflow.com/users/12447495/hunt333r"}, "edited": false, "score": 0, "creation_date": 1575031392, "post_id": 59076989, "comment_id": 104441834, "body": "@hunt333r Then you should post code you have used and the errors you receive."}], "tags": [], "owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "is_accepted": false, "score": 0, "last_activity_date": 1574882190, "last_edit_date": 1574882190, "creation_date": 1574881614, "answer_id": 59076989, "question_id": 59076362, "link": "https://stackoverflow.com/questions/59076362/struct-received-over-com-port-from-arduino-has-incorrect-values-in-some-but-not/59076989#59076989", "title": "Struct received over COM port from Arduino has incorrect values in some but not all of its fields", "body": "<p>The problem probably stems from the fact that you use default <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.ports.serialport.encoding?view=netframework-4.8\" rel=\"nofollow noreferrer\">SerialPort.Encoding</a>. And it is</p>\n\n<blockquote>\n  <p>An Encoding object. The default is ASCIIEncoding.</p>\n</blockquote>\n\n<p>That means that each byte will get its highest bit set to 0, as explained in <a href=\"https://stackoverflow.com/questions/7178655/serialport-encoding-how-do-i-get-8-bit-ascii\">SerialPort encoding - how do I get 8 bit ASCII?</a></p>\n\n<p>The solution proposed there is to use </p>\n\n<pre><code>_serialPort.Encoding = System.Text.Encoding.GetEncoding(1252);\n</code></pre>\n\n<p>It would probably work, but I'd rather recommend you to use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.ports.serialport.readbyte?view=netframework-4.8\" rel=\"nofollow noreferrer\">ReadByte</a> method instead as it does exactly what it says</p>\n\n<pre><code>someText = _serialPort.ReadByte();\nrc = someText;\nif (rc == '/')\n{\n    byte* p = (byte*)&amp;payloadSerial;\n    int i;\n    for (i = 0; i &lt; 26; i++)\n    {\n        *p++ = _serialPort.ReadByte();\n</code></pre>\n\n<hr>\n\n<p>There may also be (additionally) </p>\n\n<ol>\n<li>an issue with <a href=\"https://en.wikipedia.org/wiki/Endianness#Little-endian\" rel=\"nofollow noreferrer\">endianness</a> (though both x86 and arduino seem to be little-endian).</li>\n<li>or an issue with incompatible struct <a href=\"https://stackoverflow.com/questions/2748995/struct-memory-layout-in-c\">layout</a>/padding (probably not, but still a possibility)</li>\n</ol>\n\n<p>P.S. Also, as it has been already pointed in the comment it may be better to read all bytes into an array and create the structure from it with <a href=\"https://stackoverflow.com/questions/2871/reading-a-c-c-data-structure-in-c-sharp-from-a-byte-array\">Reading a C/C++ data structure in C# from a byte array</a></p>\n"}], "owner": {"reputation": 3, "user_id": 12447495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcaffc5b6b588abaf03e1ce105f890b1?s=128&d=identicon&r=PG&f=1", "display_name": "hunt333r", "link": "https://stackoverflow.com/users/12447495/hunt333r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574979265, "creation_date": 1574878918, "last_edit_date": 1574927917, "question_id": 59076362, "link": "https://stackoverflow.com/questions/59076362/struct-received-over-com-port-from-arduino-has-incorrect-values-in-some-but-not", "title": "Struct received over COM port from Arduino has incorrect values in some but not all of its fields", "body": "<p>I want to send some serial values to my PC.</p>\n\n<p><strong>Arduino with sensors (master) >> via Bluetooth >> Arduino (slave) >> via serial com port >> PC with C# app</strong></p>\n\n<p>Serial transmission works well from master to slave, but how can I receive and convert the values received to floats on the PC side using C#?</p>\n\n<p>Slave code is: </p>\n\n<p>Struct definition</p>\n\n<pre><code> typedef struct {\n  char bt1;\n  float bt2; \n  float bt3; \n  float bt4;\n  float bt5;\n  float bt6;\n  float bt7;  \n  char bt8;\n  } PayloadBT;\n  PayloadBT payloadBT;  \n</code></pre>\n\n<p>Struct sent to pc</p>\n\n<pre><code>BT_writeAnything(0, payloadBT);\n\n\ntemplate &lt;class T&gt; long int BT_writeAnything(int ee, T&amp; valuebt)\n{\n  Serial.write('/');\n  Serial.write((char *) &amp;valuebt, sizeof(valuebt));\n}\n</code></pre>\n\n<p>On PC app:</p>\n\n<pre><code>using System;\nusing System.IO.Ports;\nusing System.Threading;\n\n public struct PayloadSerial\n{\n    public char bt1;\n    public float bt2;\n    public float bt3;\n    public float bt4;\n    public float bt5;\n    public float bt6;\n    public float bt7;\n    public char bt8;\n  }\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n    static SerialPort _serialPort;\n    static char rc;\n\n\n        public static  void Main()\n        {\n            _serialPort = new SerialPort();\n            _serialPort.PortName = \"COM7\";//Set your board COM\n            _serialPort.BaudRate = 9600;\n            _serialPort.Open();\n            PayloadSerial payloadSerial;\n\n            while (true)\n            {\n                someText = (byte)_serialPort.ReadChar();\n                rc = someText;\n                if (rc == '/')\n                {\n                    byte* p = (byte*)&amp;payloadSerial;\n                    int i;\n                    for (i = 0; i &lt; 26; i++)\n                    {\n                        *p++ = (byte)_serialPort.ReadChar();\n                    }\n\n                    if (payloadSerial.bt1 == '&lt;' &amp;&amp; payloadSerial.bt8 == '&gt;') {\n\n                    Console.WriteLine(payloadSerial.bt2);\n                    Console.WriteLine(payloadSerial.bt3);\n                    Console.WriteLine(payloadSerial.bt4);\n                    Console.WriteLine(payloadSerial.bt1);\n                    Console.WriteLine(payloadSerial.bt8);\n                    Console.WriteLine(payloadSerial.bt5);\n                    Console.WriteLine(payloadSerial.bt6);\n                    Console.WriteLine(payloadSerial.bt7);\n                        Thread.Sleep(10);   \n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>What I receive is : \nError   CS0214  Pointers and fixed size buffers may only be used in an unsafe context.\nIf I declare as unsafe I receive strange values ended with E-39</p>\n\n<pre><code>4.408201E-39\n5.785725E-39\n7.255092E-39\n# this char value is correct\nW this char value is correct \n5.785725E-39\n5.785725E-39\n7.347765E-40\n</code></pre>\n\n<p>I am using Visual Studio as my IDE.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "webforms", "removing-whitespace"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1574879147, "post_id": 59076252, "comment_id": 104390079, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/5039544/getting-textbox-value-in-javascript\">Getting Textbox value in Javascript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4137, "user_id": 5519709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3tpv.jpg?s=128&g=1", "display_name": "Selim Yildiz", "link": "https://stackoverflow.com/users/5519709/selim-yildiz"}, "is_accepted": false, "score": 2, "last_activity_date": 1574879544, "last_edit_date": 1574879544, "creation_date": 1574878695, "answer_id": 59076309, "question_id": 59076252, "link": "https://stackoverflow.com/questions/59076252/asp-net-and-c-remove-spaces-from-asp-textbox-when-typing-and-pasting/59076309#59076309", "title": "ASP.NET and C#: remove spaces from asp.TextBox when typing and pasting", "body": "<p>It seems you don't select Textbox item properly.</p>\n\n<p>You can get the control ID for HTML markup that is generated by ASP.NET by using <code>ClientID</code> as following:</p>\n\n<pre><code>var text = document.getElementById('&lt;%= txtText.ClientID%&gt;');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 983, "user_id": 5490188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFO4F.png?s=128&g=1", "display_name": "Zizzipupp", "link": "https://stackoverflow.com/users/5490188/zizzipupp"}, "edited": false, "score": 0, "creation_date": 1574879762, "post_id": 59076465, "comment_id": 104390351, "body": "This worked! Still can&#39;t get my head around why the solution with <code>&#39;&lt;%= txtText.ClientID%&gt;&#39;</code> isn&#39;t working..."}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "reply_to_user": {"reputation": 983, "user_id": 5490188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFO4F.png?s=128&g=1", "display_name": "Zizzipupp", "link": "https://stackoverflow.com/users/5490188/zizzipupp"}, "edited": false, "score": 0, "creation_date": 1574881111, "post_id": 59076465, "comment_id": 104390878, "body": "I&#39;ve added more examples."}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": true, "score": 2, "last_activity_date": 1574881104, "last_edit_date": 1574881104, "creation_date": 1574879302, "answer_id": 59076465, "question_id": 59076252, "link": "https://stackoverflow.com/questions/59076252/asp-net-and-c-remove-spaces-from-asp-textbox-when-typing-and-pasting/59076465#59076465", "title": "ASP.NET and C#: remove spaces from asp.TextBox when typing and pasting", "body": "<p>I would use a Class name and bind the script to the elemens with that class. Then you don't need ClientID and it works for multiple elements.</p>\n\n<pre><code>&lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" CssClass=\"NoSpaces\"&gt;&lt;/asp:TextBox&gt;\n&lt;asp:TextBox ID=\"TextBox2\" runat=\"server\" CssClass=\"NoSpaces\"&gt;&lt;/asp:TextBox&gt;\n\n&lt;script&gt;\n    $('.NoSpaces').bind('keyup blur', function (e) {\n        var keyCode = e.keyCode ? e.keyCode : e.which;\n        this.value = this.value.replace(/\\s/g, '')\n        if (keyCode === 32) return;\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>If you do want to use ClientID, then do this</p>\n\n<pre><code>$('#&lt;%= TextBox1.ClientID %&gt;').bind('keyup blur', function (e) {\n</code></pre>\n\n<p>However if the input is not an aspnet control (<code>asp:TextBox</code> or input with <code>runat=server</code>) then it wont work. Another issue with ClientID is that the script needs to be inline on the page containing that control.</p>\n"}], "owner": {"reputation": 983, "user_id": 5490188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFO4F.png?s=128&g=1", "display_name": "Zizzipupp", "link": "https://stackoverflow.com/users/5490188/zizzipupp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 59076465, "answer_count": 2, "score": 2, "last_activity_date": 1574881104, "creation_date": 1574878440, "question_id": 59076252, "link": "https://stackoverflow.com/questions/59076252/asp-net-and-c-remove-spaces-from-asp-textbox-when-typing-and-pasting", "title": "ASP.NET and C#: remove spaces from asp.TextBox when typing and pasting", "body": "<p>There is a nice solution to accomplish what I am after <a href=\"https://stackoverflow.com/a/40106224/5490188\">here</a>, where they use this javascript function:</p>\n\n<pre><code>var text = document.getElementById('txtText');\ntext.addEventListener('input', function(e){\n  var keyCode = e.keyCode ? e.keyCode : e.which;\n  this.value = this.value.replace(/\\s/g, '')\n  if(keyCode === 32) return;\n})\n</code></pre>\n\n<p>which is applied to the following element:</p>\n\n<pre><code>&lt;input type='text' id=\"txtText\"&gt;\n</code></pre>\n\n<p>In my case, I don't have an <code>&lt;input...</code> element, but an <code>&lt;asp:TextBox</code> element, and the function above isn't working. I am using the correct element ID but I can still paste and also type white spaces. What am I missing?</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1574891585, "post_id": 59076213, "comment_id": 104394968, "body": "Microsoft has all explanations in this article <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/network-programming/tls\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/network-programmin&zwnj;&#8203;g/&hellip;</a> So <code>SystemDefault</code> is what you might use (delegate the version selection to Windows, or other OS). Pros and cons are all there."}, {"owner": {"reputation": 1180, "user_id": 2668308, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e1c0e6d94073b36b84a225f226313bb4?s=128&d=identicon&r=PG", "display_name": "Ricky Keane", "link": "https://stackoverflow.com/users/2668308/ricky-keane"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1574933897, "post_id": 59076213, "comment_id": 104407090, "body": "Why the downvote?"}], "owner": {"reputation": 1180, "user_id": 2668308, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e1c0e6d94073b36b84a225f226313bb4?s=128&d=identicon&r=PG", "display_name": "Ricky Keane", "link": "https://stackoverflow.com/users/2668308/ricky-keane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1422, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574878317, "creation_date": 1574878317, "question_id": 59076213, "link": "https://stackoverflow.com/questions/59076213/tls-version-for-net-core-2-2-web-api", "title": "TLS Version for .net Core 2.2 Web Api", "body": "<p>For an api that used the .Net Framework I was able to use the ServicePointManager.SecurityProtocol to see the SSL/TLS protocol that was currently enabled for that application.\nIn a .net core 2.2 web api, when I use the HttpClient I can see that the SslProtocols property for the HttpClientHandler is set to SystemDefault, but when I make a request to <a href=\"https://www.howsmyssl.com\" rel=\"nofollow noreferrer\">https://www.howsmyssl.com</a> it tells me that I'm using TLS1.2. Is it possible to get the currently enabled TLS version that will be used with the HttpClient?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "edited": false, "score": 3, "creation_date": 1574878414, "post_id": 59076184, "comment_id": 104389734, "body": "Try to debug your program :) see for example <a href=\"https://csharp.net-tutorials.com/debugging/introduction/\" rel=\"nofollow noreferrer\">csharp.net-tutorials.com/debugging/introduction</a>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1574878626, "post_id": 59076184, "comment_id": 104389827, "body": "A method called <b>Get</b>Payment should return a value.  Perhaps a better name for this method is <code>CalculatePayment</code>."}], "answers": [{"tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": false, "score": 4, "last_activity_date": 1574878497, "creation_date": 1574878497, "answer_id": 59076267, "question_id": 59076184, "link": "https://stackoverflow.com/questions/59076184/i-keep-getting-0-as-my-output-why-is-my-programming-not-running-as-it-should/59076267#59076267", "title": "I keep getting 0 as my output? Why is my programming not running as it should?", "body": "<p>The issue is in your GetPayment method.</p>\n\n<pre><code>public void GetPayment()\n{\n    double firstCalculation = (loan * rate / 100);  \n    double secondCalculation = (1 - 1 / Math.Pow(1 + rate / 100, period));\n    double payment = firstCalculation / secondCalculation; // &lt;-- right here.\n}\n</code></pre>\n\n<p>You are declaring a new local variable named payment, which shadows the class field that is used in your <code>DisplayPayment</code> method. Since it's never updated, the class field remains the initialized value of 0, which is what's ultimately displayed.</p>\n\n<p>Instead, assign the calculated value to the class field.</p>\n\n<pre><code>payment = firstCalculation / secondCalculation;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11745959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e867329d9dbd961a7e5ccbdd9e0ffa88?s=128&d=identicon&r=PG&f=1", "display_name": "rb_9999", "link": "https://stackoverflow.com/users/11745959/rb-9999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575811705, "creation_date": 1574878231, "last_edit_date": 1574878339, "question_id": 59076184, "link": "https://stackoverflow.com/questions/59076184/i-keep-getting-0-as-my-output-why-is-my-programming-not-running-as-it-should", "title": "I keep getting 0 as my output? Why is my programming not running as it should?", "body": "<p>I am calculating a monthly payment and taking in multiple inputs (cash, loan, loan period, interest rate) and then using <code>GetPayment()</code> to calculate monthly payment. I am required to use 2 different classes, one being program and the other being <code>PaymentCalculator()</code>.</p>\n\n<pre><code>namespace ConsoleApp59\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            PaymentCalculator calc1 = new PaymentCalculator();\n\n            calc1.SetCash(GetInput(\"cash flow: \"));\n\n            calc1.SetLoan(GetInput(\"loan amount: \"));\n\n            calc1.SetPeriod(GetInput(\"loan period (in months): \"));\n\n            calc1.SetRate(GetInput(\"interest rate (ex. 10, 20): \"));\n\n            calc1.GetPayment();\n            calc1.DisplayPayment();\n\n            ReadKey();\n        }\n        static double GetInput(string input)\n        {\n            Write(\"Please enter \" + input);\n            double final = double.Parse(ReadLine());\n            return final;\n\n        }\n    }\n\n    public class PaymentCalculator\n    {\n        double cash, loan, period, rate, payment;\n\n        public PaymentCalculator()\n        {\n            cash = 0;\n            loan = 0;\n            period = 0;\n            rate = 0;\n            payment = 0;\n        }\n\n        public void SetCash(double input)\n        {\n            cash = input;\n        }\n        public void SetLoan(double input)\n        {\n            loan = input;\n        }\n        public void SetPeriod(double input)\n        {\n            period = input;\n        }\n        public void SetRate(double input)\n        {\n            rate = input;\n        }\n        public void GetPayment()\n        {\n            double firstCalculation = (loan * rate / 100);  \n            double secondCalculation = (1 - 1 / Math.Pow(1 + rate / 100, period));\n            double payment = firstCalculation / secondCalculation;\n\n        }\n        public void DisplayPayment()\n        {\n            WriteLine(\"\\t ----- Payment Calculator -----\");\n            WriteLine(\"Monthly Payment: {0:F2}\", payment);\n        }\n    }\n}\n</code></pre>\n\n<p>The issue I am running into is when I run the program the output ALWAYS says this:</p>\n\n<blockquote>\n  <p>Monthly Payment: 0:00</p>\n</blockquote>\n\n<p>It shouldn't be saying that, but instead any <em>other</em> number than <code>0.00</code>. I have no clue why this is happening because I can't find any error in my code. </p>\n\n<p>Please somebody tell me why this is happening and what can I do to fix it so I can get actual numbers as my answers.</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 1, "creation_date": 1574878194, "post_id": 59076105, "comment_id": 104389643, "body": "What type is <code>o.Status</code>?"}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1574878212, "post_id": 59076105, "comment_id": 104389655, "body": "and what is <code>query</code>?"}, {"owner": {"reputation": 3344, "user_id": 7085070, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bMjQO.jpg?s=128&g=1", "display_name": "OlegI", "link": "https://stackoverflow.com/users/7085070/olegi"}, "edited": false, "score": 0, "creation_date": 1574878361, "post_id": 59076105, "comment_id": 104389712, "body": "Also, what does it mean not working? Does it throw an exception, what kind of exception or what kind of result it returns?"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 1, "creation_date": 1574878420, "post_id": 59076105, "comment_id": 104389736, "body": "Your code appears to be logically correct. My educated guess is that the result of <code>o.Status.ToString()</code> is not what you expect or if it is, there is a problem with the string comparison."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1574878479, "post_id": 59076105, "comment_id": 104389767, "body": "If <code>Request.Query[&quot;OrderStatusSearch&quot;]</code> is an array then the result of <code>ToString</code> is not going to be a comma separated list of the values.  It&#39;s going to be the type of the array like <code>&quot;System.Int32[]&quot;</code> for a <code>int[]</code>"}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1574878530, "post_id": 59076105, "comment_id": 104389784, "body": "if you could provide us with code we can reproduce, that would be helpful"}, {"owner": {"reputation": 29, "user_id": 6951875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d079e987280eeb733d6610638d2e05f?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Payne", "link": "https://stackoverflow.com/users/6951875/mike-payne"}, "edited": false, "score": 0, "creation_date": 1574880379, "post_id": 59076105, "comment_id": 104390591, "body": "I was hired to edit existing code, so there is a lot of code that I am dealing with that I did not write. I&#39;m doing my best to understand it.  o.Status is an OrderStatus enum.   query is an IQueryable defined earlier in the code as: ``` var query = _db.Orders.AsNoTracking(); ```  _db is a DbContext.   The URL is being requested with Search?OrderStatus=0&amp;OrderStatusSearch2=10 and I have a property on the model class that has [BindProperty] on it and is of type List&lt;int&gt; but it is not being populated with any data."}, {"owner": {"reputation": 29, "user_id": 6951875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d079e987280eeb733d6610638d2e05f?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Payne", "link": "https://stackoverflow.com/users/6951875/mike-payne"}, "edited": false, "score": 0, "creation_date": 1574880480, "post_id": 59076105, "comment_id": 104390639, "body": "There were line breaks in the above reply but they&#39;re not being properly displayed. :( I&#39;m new to posting on StackOverflow and I haven&#39;t had the easiest time learning it, especially since it keeps telling me that I am banned from posting because my questions &quot;have not been well received by the community.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "is_accepted": false, "score": 2, "last_activity_date": 1574886225, "last_edit_date": 1574886225, "creation_date": 1574882590, "answer_id": 59077193, "question_id": 59076105, "link": "https://stackoverflow.com/questions/59076105/how-to-use-multi-valued-array-parameterenum-values-obtained-from-request-query/59077193#59077193", "title": "How to use multi-valued/array parameter(enum values) obtained from Request.Query in LINQ queries?", "body": "<p>It is an educated guess, but as you say that </p>\n\n<blockquote>\n  <p>o.Status is an OrderStatus enum</p>\n</blockquote>\n\n<p>then most probably you need to convert values from <code>cb_orderstatus</code> to actual <code>OrderStatus</code>es values and use <code>OrderStatus[].Contains</code> in the query</p>\n\n<pre><code>string cb_orderstatus = Request.Query[\"OrderStatusSearch\"].ToString();\nif (!string.IsNullOrEmpty(cb_orderstatus))\n{\n    var orderStatuses = cb_orderstatus\n        .Split(\",\")\n        .Select(statusIntegerString =&gt; \n            (OrderStatus)int.Parse(statusIntegerString))\n        .ToArray();\n    query = query.Where(o =&gt; orderStatuses.Contains(o.Status));\n}\n</code></pre>\n\n<p>Though I am not sure that you will get comma-separated values from <code>Request.Query[\"OrderStatusSearch\"]</code>.</p>\n\n<p>In any case, it would be orders of magnitude better to rely on standard parameter <a href=\"https://stackoverflow.com/questions/9508265/how-do-i-accept-an-array-as-an-asp-net-mvc-controller-action-parameter\">binding</a>, so I'd recommend you to post another question that deals with </p>\n\n<blockquote>\n  <p>I have a property on the model class that has [BindProperty] on it and is of type List but it is not being populated with any data. </p>\n</blockquote>\n"}], "owner": {"reputation": 29, "user_id": 6951875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d079e987280eeb733d6610638d2e05f?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Payne", "link": "https://stackoverflow.com/users/6951875/mike-payne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574886225, "creation_date": 1574877985, "last_edit_date": 1574883422, "question_id": 59076105, "link": "https://stackoverflow.com/questions/59076105/how-to-use-multi-valued-array-parameterenum-values-obtained-from-request-query", "title": "How to use multi-valued/array parameter(enum values) obtained from Request.Query in LINQ queries?", "body": "<p>I'm still new to modern styles .NET development and Entity Framework. I'm trying to get a list of objects where one of the values falls in a list of other values, and I'm trying to use the LINQ query methods to do so. </p>\n\n<pre><code>string cb_orderstatus = Request.Query[\"OrderStatusSearch\"].ToString();\nif (!string.IsNullOrEmpty(cb_orderstatus))\n{\n    string[] orderStatuses = cb_orderstatus.Split(\",\");\n    query = query.Where(o =&gt; orderStatuses.Contains(o.Status.ToString()));\n}\n</code></pre>\n\n<p>If the value of the cb_orderstatus is a string array containing 5, 10, and 15, I want the query to return objects where their Status equals any of these values. Currently it is not working. Can anyone help?</p>\n"}, {"tags": ["c#", "wpf", "visual-studio", "xaml"], "comments": [{"owner": {"reputation": 1089, "user_id": 1322469, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bYGgI.jpg?s=128&g=1", "display_name": "Andr&#233; Silva", "link": "https://stackoverflow.com/users/1322469/andr%c3%a9-silva"}, "edited": false, "score": 0, "creation_date": 1574878624, "post_id": 59075971, "comment_id": 104389824, "body": "Try out the VS plugin <a href=\"https://marketplace.visualstudio.com/items?itemName=Johan20D.KilltheWPFDesigner\" rel=\"nofollow noreferrer\">Kill the WPF Designer</a>. It was made by a StackOverflow user Johan Larsson. I&#39;ve had those kind of issues where designer is really <i>buggy</i> and using this, makes it refresh."}, {"owner": {"reputation": 141, "user_id": 11558376, "user_type": "registered", "profile_image": "https://graph.facebook.com/2082017408563647/picture?type=large", "display_name": "Bruno Bukavu Thai", "link": "https://stackoverflow.com/users/11558376/bruno-bukavu-thai"}, "reply_to_user": {"reputation": 1089, "user_id": 1322469, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bYGgI.jpg?s=128&g=1", "display_name": "Andr&#233; Silva", "link": "https://stackoverflow.com/users/1322469/andr%c3%a9-silva"}, "edited": false, "score": 0, "creation_date": 1574889841, "post_id": 59075971, "comment_id": 104394339, "body": "Thanks Andr&#233;, I will give it a look and see if this works. As someone with no background in programming or design, I am wondering if  I should have gone with some other tool insted of VS and C# :s"}, {"owner": {"reputation": 214, "user_id": 6948386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arvNS.png?s=128&g=1", "display_name": "Yohann", "link": "https://stackoverflow.com/users/6948386/yohann"}, "edited": false, "score": 0, "creation_date": 1575016462, "post_id": 59075971, "comment_id": 104434870, "body": "I made a test on my side. I tried it on net core 3.0 and NET Framework . It is same as you, the image do not appear in designer view(net core 3.0). So, I suggest you can go to the <a href=\"https://developercommunity.visualstudio.com/spaces/8/index.html\" rel=\"nofollow noreferrer\">Developer Community Visual Studio</a> and report this issue."}], "owner": {"reputation": 141, "user_id": 11558376, "user_type": "registered", "profile_image": "https://graph.facebook.com/2082017408563647/picture?type=large", "display_name": "Bruno Bukavu Thai", "link": "https://stackoverflow.com/users/11558376/bruno-bukavu-thai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574877841, "creation_date": 1574877393, "last_edit_date": 1574877841, "question_id": 59075971, "link": "https://stackoverflow.com/questions/59075971/wpf-xaml-images-disappear-in-designer-after-running", "title": "WPF-XAML: Images disappear in designer after running", "body": "<p>I am creating an application on Visual Studio 16.3 and I have created some buttons with images on them. Everytime I run the application, the image appear in runtime but when I close the build, all the images disapear in the designer and it's very annoying. I have to cut the code that contains the image references and wait around 1 to 2 seconds and paste the code again to make the image reappear. Here is my code:</p>\n\n<p>In my MainWindow, I have created resources so that I can reuse the images:</p>\n\n<pre><code>&lt;Window.Resources&gt;\n        &lt;BitmapImage x:Key=\"Students\" UriSource=\"Resources/Graduate/2x/baseline_student_black_18dp.png\"/&gt;        \n&lt;/Window.Resources&gt;\n</code></pre>\n\n<p>I have created a side menu containing names and images:</p>\n\n<pre><code>&lt;ListView x:Name=\"ListViewMain\" Grid.Row=\"1\" Background=\"Transparent\" SelectionMode=\"Single\" ScrollViewer.HorizontalScrollBarVisibility=\"Disabled\" SelectionChanged=\"ListViewMain_SelectionChanged\"&gt;\n  &lt;ListViewItem Width=\"128\" x:Name=\"ItemClass\" HorizontalAlignment=\"Left\"&gt;    \n     &lt;StackPanel Orientation=\"Horizontal\"&gt;\n        &lt;Image Margin=\"5\" Source=\"{DynamicResource Students}\"/&gt;\n        &lt;TextBlock Text=\"Home\" VerticalAlignment=\"Center\" FontSize=\"14\" Foreground=\"#FF606060\"/&gt;\n     &lt;/StackPanel&gt;\n  &lt;/ListViewItem&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>I have spent a quite amount of time on the internet trying to find out why this is happening but I haven't found anything. Most of the questions are related to images not appearing in runtime while my problem is that my images do not appear in designer.</p>\n\n<p>Might this be related to the fact that I am using .Net Core 3? I know there are a lot of bugs in Visual Studio. Maybe this is one of them.</p>\n\n<p>Thanks in advance for your help</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "linq-to-sql", "linq-to-entities"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1574877455, "post_id": 59075935, "comment_id": 104389319, "body": "Why select an anonymous class instead of <code>select new StageTwo { Id = inn.Id ... }</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 10859686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e6ab2024ccac8a649d70a1b7b9f256a?s=128&d=identicon&r=PG&f=1", "display_name": "NoobCoder", "link": "https://stackoverflow.com/users/10859686/noobcoder"}, "edited": false, "score": 0, "creation_date": 1574879652, "post_id": 59076380, "comment_id": 104390306, "body": "Thanks, this solved it! still getting to grips with this and this was a big help. Take care bud."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 117, "user_id": 10859686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e6ab2024ccac8a649d70a1b7b9f256a?s=128&d=identicon&r=PG&f=1", "display_name": "NoobCoder", "link": "https://stackoverflow.com/users/10859686/noobcoder"}, "edited": false, "score": 0, "creation_date": 1574879684, "post_id": 59076380, "comment_id": 104390317, "body": "happy to help :)"}], "tags": [], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "is_accepted": true, "score": 1, "last_activity_date": 1574878977, "creation_date": 1574878977, "answer_id": 59076380, "question_id": 59075935, "link": "https://stackoverflow.com/questions/59075935/c-iqueryableto-to-ienumerable-using-linq-expressions-and-class/59076380#59076380", "title": "C# IQueryableto to IEnumerable using Linq expressions and class", "body": "<p>Your error message is telling you that <code>queryJoin</code> is an anonymous type, but you are trying to force it to be an <code>IEnumerable&lt;StageTwo&gt;</code>, and C# can't make that conversion.</p>\n\n<p>The reason <code>queryJoin</code> is an anonymous type is because you've not defined it in your linq query. So to fix it, instead of this:</p>\n\n<pre><code>select new \n{\n    inn.Id,\n    inn.XParty,\n    inn.Curr,\n    yacc.Action,\n    inn.Amount\n});\n</code></pre>\n\n<p>You'd want this:</p>\n\n<pre><code>select new StepTwo \n{\n    Id = inn.Id,\n    Party = inn.XParty,\n    Currency = inn.Curr,\n    Account = yacc.Action,\n    Amount = inn.Amount\n});\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10859686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e6ab2024ccac8a649d70a1b7b9f256a?s=128&d=identicon&r=PG&f=1", "display_name": "NoobCoder", "link": "https://stackoverflow.com/users/10859686/noobcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 59076380, "answer_count": 1, "score": -1, "last_activity_date": 1574878977, "creation_date": 1574877273, "question_id": 59075935, "link": "https://stackoverflow.com/questions/59075935/c-iqueryableto-to-ienumerable-using-linq-expressions-and-class", "title": "C# IQueryableto to IEnumerable using Linq expressions and class", "body": "<p>I have a class which should take the query results from a database using a join.</p>\n\n<p>My class is:</p>\n\n<pre><code>`\n   public class StepTwo \n    {\n        public int Id { get; set; }\n        public string Party { get; set; }\n        public string Currency { get; set; }\n        public string Account { get; set; }\n        public double? Amount { get; set; }\n    }\n`\n</code></pre>\n\n<p>I have then created a method which will return the results:</p>\n\n<pre><code>  public IEnumerable&lt;StageTwo&gt; StepTwo()\n    {\n        var queryJoin = (from inn in db.Input.Take(10)\n                        join yacc in db.AccY on inn.Action equals yacc.Action\n                        orderby inn.Id descending\n                        select new \n                        {\n                            inn.Id,\n                            inn.XParty,\n                            inn.Curr,\n                            yacc.Action,\n                            inn.Amount\n                        });\n         return queryJoin;\n    }\n</code></pre>\n\n<p>In other methods where I did not use a join, this worked fine but now it is not working. I have the error message on the <code>return queryJoin;</code> stating: </p>\n\n<pre><code>`\nCannot implicitly convert type 'System.Linq.IQueryable&lt;&lt;anonymous type: int Id, string XParty, string Curr, string YAction, double? Amount&gt;&gt;' to '\nSystem.Collections.Generic.IEnumerable&lt;Project.StepTwo&gt;'. An explicit conversion exists (are you missing a cast?)`\n</code></pre>\n\n<p>I know the class names are a bit different from the database names but I have tried to change them to match. Based on the error above, I assume it's something else.</p>\n\n<p>Any advise would be appreciated, thank you.</p>\n"}, {"tags": ["javascript", "c#", "continuous-integration", "azure-pipelines"], "comments": [{"owner": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "edited": false, "score": 0, "creation_date": 1574932759, "post_id": 59075923, "comment_id": 104406493, "body": "Sorry not totally get your point. What do you mean <code>Save in Separate C# Respository</code> Did you just want to commit all of that generated build artifacts with JS app  into that C# Repo?  You have mentioned that two repos are in the same organization. Did them also in same team project?"}, {"owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "reply_to_user": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "edited": false, "score": 1, "creation_date": 1575287264, "post_id": 59075923, "comment_id": 104503459, "body": "Unfortunately no, the repos are not in the same project, only in the same organization.  From what I&#39;ve been able to piece together it appears that there should be a way for me to temporarily &#39;store&#39; the artifact from the JS build pipe.  My thought then is inside the build pipe for the C# project is to grab the particular file needed from already-built JS artifact; the C# build pipe can then proceed along as normal and build the project like any other .NET app."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "edited": false, "score": 0, "creation_date": 1575287035, "post_id": 59109885, "comment_id": 104503338, "body": "Thanks for your response. Part of what I&#39;m attempting to detangle is <i>where</i> exactly these artifacts are being stored once built (or how to temporarily &#39;store&#39; them) so I can then pick up that file from the artifact and insert into the repository where the C# project sits."}, {"owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "edited": false, "score": 0, "creation_date": 1575287631, "post_id": 59109885, "comment_id": 104503659, "body": "The trouble is, as currently constructed, the JS file needs to be incorporated <i>into</i> the C# project prior to compiling due to legacy architecture decisions."}, {"owner": {"reputation": 745, "user_id": 729122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5bb2a61eefcf834861b8bb98a25f69?s=128&d=identicon&r=PG", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/729122/gaurav"}, "reply_to_user": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "edited": false, "score": 0, "creation_date": 1575287930, "post_id": 59109885, "comment_id": 104503810, "body": "Ok Austin, I am getting your requirement. You need to create a pipeline with three jobs- first will build the js project , second will download the artifact of js project and then build the C# project and in the job you can copy artifacts from JS and C# project then build it. Let me know if you need more details."}, {"owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "edited": false, "score": 0, "creation_date": 1575292298, "post_id": 59109885, "comment_id": 104506025, "body": "Thanks for your response @Gaurav.  Yes more details would be helpful, namely, <b>the location of the published files</b> (see above YAML I updated 12/2/2019) so I may grab them with the build pipe of the C# project.  Are these files stored centrally within the organization and available across projects?"}, {"owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "edited": false, "score": 0, "creation_date": 1575295590, "post_id": 59109885, "comment_id": 104507849, "body": "look at my latest YAML; grabbing the .js file from within the C# build pipe was easier than I anticipated.  Now I&#39;m attempting to commit that file into the C# repo to replace the current .js file (same name) and proceed along with the build for the C# project.  Recommendations?"}], "tags": [], "owner": {"reputation": 745, "user_id": 729122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5bb2a61eefcf834861b8bb98a25f69?s=128&d=identicon&r=PG", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/729122/gaurav"}, "is_accepted": false, "score": 0, "last_activity_date": 1575054163, "creation_date": 1575054163, "answer_id": 59109885, "question_id": 59075923, "link": "https://stackoverflow.com/questions/59075923/how-to-package-js-app-in-azure-build-pipeline-and-save-in-separate-c-respositor/59109885#59109885", "title": "How to package JS app in Azure Build Pipeline and Save in Separate C# Respository", "body": "<p>I think you need to create a third pipeline where you can download the artifacts from your C# API and your JS app, then you can organize them and deploy to target server. Here is an example for you:<a href=\"https://i.stack.imgur.com/TDdAF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TDdAF.png\" alt=\"\"></a> </p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "edited": false, "score": 0, "creation_date": 1575646115, "post_id": 59145788, "comment_id": 104647871, "body": "As a quick side note I&#39;ve found rather than having two separate projects it makes much more sense to create separate repos within the same project.  This is how I ended up solving my &#39;one pipeline kicking off another&#39; conundrum."}], "tags": [], "owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "is_accepted": true, "score": 1, "last_activity_date": 1575316466, "creation_date": 1575316466, "answer_id": 59145788, "question_id": 59075923, "link": "https://stackoverflow.com/questions/59075923/how-to-package-js-app-in-azure-build-pipeline-and-save-in-separate-c-respositor/59145788#59145788", "title": "How to package JS app in Azure Build Pipeline and Save in Separate C# Respository", "body": "<p>After lots of trial and effort I've been able to finagle a workaround that appears to complete this stage of the project:</p>\n\n<p><strong>TL;DR</strong> </p>\n\n<ol>\n<li>Download build artifact from the path I'd specified in the JS build pipe (in this case <code>downloadPath: '$(System.ArtifactsDirectory)'</code>)</li>\n<li>Copy file to specified file path within C# project and overwrite existing file</li>\n</ol>\n\n<pre><code>steps:\n#Download JS app from published JS Build Pipe\n- task: DownloadBuildArtifacts@0\n  inputs:\n    buildType: 'specific'\n    project: '(project identifier here)'\n    pipeline: '7'\n    buildVersionToDownload: 'latest'\n    downloadType: 'specific'\n    downloadPath: '$(System.ArtifactsDirectory)'\n\n- task: CopyFiles@2\n  inputs:\n    SourceFolder: '$(System.ArtifactsDirectory)\\folder-name-where-item-was-saved'\n    Contents: '**'\n    TargetFolder: '$(Build.SourcesDirectory)\\directory\\where\\I\\want\\built\\file'\n    OverWrite: true\n</code></pre>\n\n<p>Now I've got to begin the effort to trigger a pipeline from another pipeline, but that's another day and another dollar.  Continuing on the redesign of our deployment process. </p>\n"}], "owner": {"reputation": 43, "user_id": 9317836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ch0uYbFhDH4/AAAAAAAAAAI/AAAAAAAAEgk/Bo6tUHdzYQs/photo.jpg?sz=128", "display_name": "delarooster", "link": "https://stackoverflow.com/users/9317836/delarooster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 59145788, "answer_count": 2, "score": 1, "last_activity_date": 1575316466, "creation_date": 1574877232, "last_edit_date": 1575294035, "question_id": 59075923, "link": "https://stackoverflow.com/questions/59075923/how-to-package-js-app-in-azure-build-pipeline-and-save-in-separate-c-respositor", "title": "How to package JS app in Azure Build Pipeline and Save in Separate C# Respository", "body": "<p>TL;DR - Using two separate repositories (because that's how I've inherited them) I'm attempting to run a custom script to build a JS-only app that is then copied and deployed along with a C# API app that's housed in a second respository.  Using Azure DevOps Services (cloud-based) for repos and pipelines.</p>\n\n<p>As I've indicated above I'm working my way through the process of running these scripts to create a single .js file that's ready to be deployed with our API (the JS app is called and created by a variety of our applications using this API).  My conundrum is how to approach this using Azure's Build Pipe as I can run the scripts but where the file(s) created are then being stored (and where to reference them) and then taking that file and inserting this creation into the repository of the C# API app, thereby kicking off a second build that would then deploy the C# app to the appropriate service.</p>\n\n<p>In another JS project I've successfully copied the files in my build pipes to then push these 'builds' to the appropriate environments but I'm at a loss for copying a specific file, following the <code>npm run build-prod</code> step to save and then insert a file in a known static location to the second repository.  NOTE: both repositories are located in the same organization.</p>\n\n<p>Here's my uber rough draft YAML for the JS application:</p>\n\n<pre><code>\ntrigger:\n- master\n\npool:\n  vmImage: 'vs2017-win2016'\n\nsteps:\n- task: NodeTool@0\n  inputs:\n    versionSpec: '10.x'\n  displayName: 'Install Node.js'\n\n- script: |\n    npm install\n    npm run build-prod\n  displayName: 'npm install and build-prod'\n\n- task: CopyFiles@2\n  inputs:\n    SourceFolder: '$(agent.builddirectory)/dist/'\n    Contents: '**'\n    TargetFolder: '$(build.artifactstagingdirectory)'\n\n- task: PublishBuildArtifacts@1\n  inputs:\n    PathtoPublish: '$(Build.ArtifactStagingDirectory)/closet-api.js'\n    ArtifactName: 'closet-api.js'\n    publishLocation: 'Container'\n</code></pre>\n\n<p>Your help is appreciated!</p>\n\n<p>12/2/2019 Minor Update\nI've updated my YAML to appropriately run my custom build script (contained within the JS file) and grab the required file.  Now the conundrum is a more thorough understanding on where exactly this file is located so, in another project in a separate build pipe, I may grab the .js file and use it in my C# project.</p>\n\n<pre><code>trigger:\n- master\n\npool:\n  vmImage: 'vs2017-win2016'\n\nsteps:\n- task: NodeTool@0\n  inputs:\n    versionSpec: '10.x'\n  displayName: 'Install Node.js'\n\n- script: npm install\n  displayName: 'npm install'\n\n- script: npm run build-prod\n  displayName: 'Run Build Script for Prod'\n- task: CopyFiles@2\n  displayName: 'Copy client-api.js file to: $(Build.ArtifactStagingDirectory)'\n  inputs:\n    SourceFolder: '$(Build.SourcesDirectory)'\n    Contents: '**\\dist\\closet-api.js'\n    TargetFolder: '$(Build.ArtifactStagingDirectory)'\n- task: PublishBuildArtifacts@1\n  inputs:\n    pathtoPublish: '$(Build.ArtifactStagingDirectory)'\n    artifactName: closet-api.js\n</code></pre>\n\n<p><strong>Next update</strong>\nLooks like grabbing the created .js file is easier than I anticipated in the C# project pipeline.  Now I'm working out how to insert the file into the C# repo prior to the build for the C# project.</p>\n\n<pre><code>#Code from C# project grabbing published .js file\n\n- task: DownloadPipelineArtifact@2\n  inputs:\n    buildType: 'specific'\n    project: #'(insert the .js project number here)'\n    definition: '7'\n    specificBuildWithTriggering: true\n    buildVersionToDownload: 'latest'\n    targetPath: '$(Pipeline.Workspace)'\n</code></pre>\n"}, {"tags": ["c#", "data-structures", "graph", "split", "dijkstra"], "comments": [{"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 1, "creation_date": 1574877878, "post_id": 59075896, "comment_id": 104389520, "body": "You could pick one of the parser libraries out there, or you could just use a RegEx. You can also use Split repeatedly: split by <code>[</code>, split first result by <code>--</code>, ..."}, {"owner": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "reply_to_user": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1574879122, "post_id": 59075896, "comment_id": 104390064, "body": "Thanks @IanMercer :)"}], "answers": [{"comments": [{"owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1574878601, "post_id": 59076206, "comment_id": 104389813, "body": "Love regex. Can you also demonstrate how to extract the matched parts? (I know, I could just look up the reference, but you said &quot;Full&quot; code, didn&#39;t you? ;-) )"}, {"owner": {"reputation": 2291, "user_id": 5798361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YT5kv.png?s=128&g=1", "display_name": "Anonta", "link": "https://stackoverflow.com/users/5798361/anonta"}, "reply_to_user": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1574878746, "post_id": 59076206, "comment_id": 104389881, "body": "@Peter - Reinstate Monica Will add it in a few minutes."}, {"owner": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "edited": false, "score": 0, "creation_date": 1574878976, "post_id": 59076206, "comment_id": 104389995, "body": "This is great @Anonta! Did not know I could use regex for this! Thanks"}, {"owner": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "edited": false, "score": 0, "creation_date": 1574880110, "post_id": 59076206, "comment_id": 104390486, "body": "@Anonta What references are you using for the <code>Regex.Matches</code> part since when trying to implement your code it&#39;s giving me an error on the <code>matches.Select</code> as follows: &#39;Match Collection&#39; does no contain a definition for &#39;Select&#39; and no accessible extension method &#39;Select&#39; accepting a first argument of type &#39;Match Collection&#39; could be found"}, {"owner": {"reputation": 2291, "user_id": 5798361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YT5kv.png?s=128&g=1", "display_name": "Anonta", "link": "https://stackoverflow.com/users/5798361/anonta"}, "reply_to_user": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "edited": false, "score": 0, "creation_date": 1574880252, "post_id": 59076206, "comment_id": 104390542, "body": "@AvrilFenech <code>System.IO</code>, <code>System.Linq</code> and <code>System.Text.RegularExpressions</code>"}, {"owner": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "edited": false, "score": 0, "creation_date": 1574880527, "post_id": 59076206, "comment_id": 104390655, "body": "@Anonta Yep got the same ones! Still getting an error :/"}, {"owner": {"reputation": 2291, "user_id": 5798361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YT5kv.png?s=128&g=1", "display_name": "Anonta", "link": "https://stackoverflow.com/users/5798361/anonta"}, "reply_to_user": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "edited": false, "score": 0, "creation_date": 1574880722, "post_id": 59076206, "comment_id": 104390742, "body": "@AvrilFenech This error is shown when <code>System.Linq</code> is not imported."}, {"owner": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "edited": false, "score": 0, "creation_date": 1574881010, "post_id": 59076206, "comment_id": 104390843, "body": "@Anonta Yeah. I have it but still it&#39;s giving that same issue. Will look into it further."}], "tags": [], "owner": {"reputation": 2291, "user_id": 5798361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YT5kv.png?s=128&g=1", "display_name": "Anonta", "link": "https://stackoverflow.com/users/5798361/anonta"}, "is_accepted": true, "score": 1, "last_activity_date": 1575030324, "last_edit_date": 1575030324, "creation_date": 1574878291, "answer_id": 59076206, "question_id": 59075896, "link": "https://stackoverflow.com/questions/59075896/parsing-a-graph-from-a-dot-notation-input-for-dijkstras-algorithm-c/59076206#59076206", "title": "Parsing a graph from a dot notation input for Dijkstra&#39;s Algorithm C#", "body": "<p>We can extract the values easily using this regular expression:</p>\n\n<pre><code>(\\w+) -- (\\w+)\\[label=\"(\\w+)\",weight=\"([0-9]*\\.?[0-9]+)\"\\];\n</code></pre>\n\n<p>Full Code: </p>\n\n<pre><code>string rawData = File.ReadAllText(\"H:\\\\data.txt\");\nstring pattern = \"(\\\\w+) -- (\\\\w+)\\\\[label=\\\"(\\\\w+)\\\",weight=\\\"([0-9]*\\\\.?[0-9]+)\\\"\\\\];\";\nvar matches = Regex.Matches(rawData, pattern);\n</code></pre>\n\n<p><strong>Edit:</strong> \nHere's how we can get the different values from each match object</p>\n\n<p>Define an <code>Edge</code> class just for holding data </p>\n\n<pre><code>class Edge {\n    public string NodeALabel;\n    public string NodeBLabel;\n    public double Weight;\n    public string EdgeLabel;\n}\n</code></pre>\n\n<p>Get the group values from each match. The group number is determined by how many opening parenthesis there are on the left side of the group.</p>\n\n<pre><code>var edgeList = matches.Select(match =&gt; new Edge() {\n    NodeALabel= match.Groups[1].Value,\n    NodeBLabel= match.Groups[2].Value,\n    Weight= double.Parse(match.Groups[4].Value),\n    EdgeLabel= match.Groups[3].Value\n}).ToList();\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9850678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff34ffe5588ba29c04e7f4eaca36f0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Avril Fenech", "link": "https://stackoverflow.com/users/9850678/avril-fenech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 1, "accepted_answer_id": 59076206, "answer_count": 1, "score": 1, "last_activity_date": 1575030324, "creation_date": 1574877126, "last_edit_date": 1574877584, "question_id": 59075896, "link": "https://stackoverflow.com/questions/59075896/parsing-a-graph-from-a-dot-notation-input-for-dijkstras-algorithm-c", "title": "Parsing a graph from a dot notation input for Dijkstra&#39;s Algorithm C#", "body": "<p>I am trying to read a graph from a text file and parse it to be able to extract the vertices, edges and weight to use for a Dijkstra's Algorithm implementation.</p>\n\n<p>The text file contains the following structure:</p>\n\n<pre><code>graph {\n    a -- b[label=\"5\",weight=\"5\"];\n    a -- c[label=\"1\",weight=\"1\"];\n    c -- b[label=\"3\",weight=\"3\"];\n    c -- e[label=\"1\",weight=\"1\"];\n    e -- b[label=\"1\",weight=\"1\"];\n}\n</code></pre>\n\n<p>Finding it difficult to use the .split since the data is not seperated by the same delimeter.</p>\n\n<p>I need to extract for example from the first line:\na needs to be set as from.\nb needs to be set as to\nand 5 needs to set as weight</p>\n\n<p>Any ideas on how I can approach this please?</p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1574877164, "post_id": 59075844, "comment_id": 104389178, "body": "If <code>flyoutRow</code> is also a <code>WebElement</code> then that could also be stale, not just <code>JobProgressBar</code>. You might be better off trying to find <code>JobProgressBar</code> on its own rather than as a child of <code>flyoutRow</code>. Can you post the code that you are using for <code>flyoutRow.JobProgressBar</code> as well? It&#39;s hard to tell exactly what is throwing the error without additional context of your code."}, {"owner": {"reputation": 2239, "user_id": 5400362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afc3721db0d3d78c446c6ae3f2b99737?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/5400362/dev"}, "edited": false, "score": 0, "creation_date": 1574877346, "post_id": 59075844, "comment_id": 104389270, "body": "screenshot of html code is bad practice, for debugging your problem no one will write it for you, its kind of help to help yourself. Welcome to SO! please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and follow same in the next posts"}, {"owner": {"reputation": 1573, "user_id": 7450414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UaD1.jpg?s=128&g=1", "display_name": "AndiCover", "link": "https://stackoverflow.com/users/7450414/andicover"}, "edited": false, "score": 0, "creation_date": 1574879230, "post_id": 59075844, "comment_id": 104390118, "body": "Take a look at this answer here: <a href=\"https://stackoverflow.com/a/57513438/7450414\">stackoverflow.com/a/57513438/7450414</a> I think you can build something similar in C# and your StaleElementReferenceExceptions should be gone."}], "answers": [{"comments": [{"owner": {"reputation": 569, "user_id": 11865571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vMeI.jpg?s=128&g=1", "display_name": "MentallyRecursive", "link": "https://stackoverflow.com/users/11865571/mentallyrecursive"}, "edited": false, "score": 0, "creation_date": 1574879525, "post_id": 59076051, "comment_id": 104390239, "body": "I think you may have meant to initialize <code>currentAttempts</code> to 0"}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "reply_to_user": {"reputation": 569, "user_id": 11865571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vMeI.jpg?s=128&g=1", "display_name": "MentallyRecursive", "link": "https://stackoverflow.com/users/11865571/mentallyrecursive"}, "edited": false, "score": 0, "creation_date": 1574879722, "post_id": 59076051, "comment_id": 104390335, "body": "Corrected, thank you. I was originally using <code>maxAttempts</code> as a variable, but changed it to <code>currentAttempts</code> after the fact."}], "tags": [], "owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "is_accepted": false, "score": 0, "last_activity_date": 1574879699, "last_edit_date": 1574879699, "creation_date": 1574877748, "answer_id": 59076051, "question_id": 59075844, "link": "https://stackoverflow.com/questions/59075844/selenium-staleelementreferenceexception-when-the-element-refreshes-every-second/59076051#59076051", "title": "Selenium StaleElementReferenceException when the element refreshes every second", "body": "<p>Without full context of your HTML, it's a bit difficult to write a fully-working sample, but I have an idea about how you can avoid the <code>StaleElementException</code> and still run your code to retrieve <code>title</code> as intended.</p>\n\n<p>We can attempt to get <code>title</code> attribute in a loop, where we <code>try</code> / <code>catch</code> the <code>StaleElementException</code>, and hopefully still return a value for <code>title</code> as well:</p>\n\n<pre><code>public string GetProgressBarTitle()\n{\n    var currentAttempts = 0; // track number of attempts\n\n    // find the element for the first time\n    var progressBarCompletion = driver.Findlement(By.XPath(\"//div[contains(@class, 'progressJobProgressBar')]\")); // this probably needs to be more specific to your row \n\n    // attempt to retrieve title, in a loop:\n\n    while (currentAttempts &lt;= 5) // attempt to find the title up to 5 times\n    {\n        // try to get title...\n        try\n        {\n            var title = progressBarCompletion.GetAttribute(\"title\");\n            return title;\n        }\n        catch (StaleElementReferenceException)\n        {\n            // if element is stale, find it again &amp; retry\n            progressBarCompletion = driver.Findlement(By.XPath(\"//div[contains(@class, 'progressJobProgressBar')]\"));\n            currentAttempts++; // increment number of attempts\n        }\n    } // end while\n    return string.Empty; // handle case where number of attempts passed &amp; title was not returned\n} // end method\n</code></pre>\n\n<p>The above code will attempt to perform <code>GetAttribute(\"title\");</code> in a loop, catching the <code>StaleElementReferenceException</code> and fetching a new copy of <code>progressBarCompletion</code> element in the event that it has gone stale. The loop will attempt up to 5 times before quitting. You can change the number of attempts as needed.</p>\n\n<p>Hopefully this can get you started. The XPath selector I chose might not be specific enough here -- I can see that each progress bar must be a child of <code>flyoutRow</code>.</p>\n\n<p>An alternative XPath for <code>progressBarCompletion</code> could be:</p>\n\n<pre><code>//li[div[text()='Zipping']]/div[contains(@class, 'progressJobProgressBar')]\n</code></pre>\n\n<p>which will grab the progress bar element with job description 'Zipping'. This may be a little closer to what you are looking for.</p>\n"}], "owner": {"reputation": 1, "user_id": 7981816, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H-4XCwJx8VU/AAAAAAAAAAI/AAAAAAAAAEA/IsnGslOzg8A/photo.jpg?sz=128", "display_name": "Ryan Dorendorf", "link": "https://stackoverflow.com/users/7981816/ryan-dorendorf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1574879699, "creation_date": 1574876938, "question_id": 59075844, "link": "https://stackoverflow.com/questions/59075844/selenium-staleelementreferenceexception-when-the-element-refreshes-every-second", "title": "Selenium StaleElementReferenceException when the element refreshes every second", "body": "<p>In my web application there is a set of progress bars that update every second. When I look at the DOM in Chrome dev tools I can see that the elements are getting destroyed and recreated. So when I try to read the value or the text on a given label I get a StaleElementReferenceException.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dYxlX.png\" rel=\"nofollow noreferrer\">Screenshot of Elements in Chrome</a></p>\n\n<p>A specific example is I'm trying to get the value from the title attribute of this element. But I keep getting the error when running this line of code.</p>\n\n<pre><code>var progressBarCompletion = flyoutRow.JobProgressBar.GetAttribute(\"title\");\n</code></pre>\n\n<p>Full error message: <em>OpenQA.Selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document</em></p>\n"}, {"tags": ["c#", "html", "asp.net", "razor", "visual-studio-2019"], "comments": [{"owner": {"reputation": 684, "user_id": 7723172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcgjg.jpg?s=128&g=1", "display_name": "Gerrit", "link": "https://stackoverflow.com/users/7723172/gerrit"}, "edited": false, "score": 1, "creation_date": 1574876922, "post_id": 59075767, "comment_id": 104389078, "body": "Please provide some code so we can help you. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"}, {"owner": {"reputation": 1, "user_id": 12075464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81514bb9463899a10dc8ccf9ae14ad8f?s=128&d=identicon&r=PG&f=1", "display_name": "rip001", "link": "https://stackoverflow.com/users/12075464/rip001"}, "reply_to_user": {"reputation": 684, "user_id": 7723172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcgjg.jpg?s=128&g=1", "display_name": "Gerrit", "link": "https://stackoverflow.com/users/7723172/gerrit"}, "edited": false, "score": 0, "creation_date": 1574878017, "post_id": 59075767, "comment_id": 104389575, "body": "Add the the view code."}], "owner": {"reputation": 1, "user_id": 12075464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81514bb9463899a10dc8ccf9ae14ad8f?s=128&d=identicon&r=PG&f=1", "display_name": "rip001", "link": "https://stackoverflow.com/users/12075464/rip001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574877978, "creation_date": 1574876656, "last_edit_date": 1574877978, "question_id": 59075767, "link": "https://stackoverflow.com/questions/59075767/html-download-link-wont-download-file-from-server-in-visual-studio-19", "title": "HTML download link wont download file from server in Visual Studio 19", "body": "<p>I'm having an issue with my cshtml code in vs2019. I need to be able to fetch a file from a server and be able to download it via download link with HMTL5. If i use the code outside of vs2019 it works but within vs2019 it doesn't work; any ideas? I've already check privileges and such and non of that seems to be an issue.</p>\n\n<p>This is the cshtml view code from my controller. </p>\n\n<pre><code>@{\n     ViewData[\"Title\"] = \"Index\";\n}\n\n &lt;h2&gt;Index&lt;/h2&gt;\n &lt;h1&gt;\n   &lt;a \n     href=\"\\\\someserver\\somefolder\\anotherfolder\\yetanotherfolder\\test.txt\" \n    download&gt; \n     Test &lt;/a&gt;\n &lt;/h1&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "ajax", "asp.net-web-api", "datatables"], "comments": [{"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1574877789, "post_id": 59075706, "comment_id": 104389475, "body": "if you don&#39;t pass any additional paramters (by commenting out this line <code>data: request_data</code>) is the <code>request</code> object still null?"}, {"owner": {"reputation": 41, "user_id": 7872768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617617aef148f742bb72df9a027c02b0?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Palenoff", "link": "https://stackoverflow.com/users/7872768/mr-palenoff"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1574888089, "post_id": 59075706, "comment_id": 104393665, "body": "@zgood unfortunatelly yes:("}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7872768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617617aef148f742bb72df9a027c02b0?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Palenoff", "link": "https://stackoverflow.com/users/7872768/mr-palenoff"}, "edited": false, "score": 0, "creation_date": 1581531097, "post_id": 60173969, "comment_id": 106469250, "body": "Nope! This request is POST (look at &quot;/api/Request/Data&quot;)"}], "tags": [], "owner": {"reputation": 11, "user_id": 3193759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L6iTN.jpg?s=128&g=1", "display_name": "Steven Baker", "link": "https://stackoverflow.com/users/3193759/steven-baker"}, "is_accepted": false, "score": 0, "last_activity_date": 1581440557, "creation_date": 1581440557, "answer_id": 60173969, "question_id": 59075706, "link": "https://stackoverflow.com/questions/59075706/datatables-aspnet-idatatablesrequest-is-null-when-posting-data-to-webapi/60173969#60173969", "title": "DataTables.AspNet IDataTablesRequest is null when posting data to WebApi", "body": "<p>Your ajax query is GET yet the method is decorated with a POST attribute</p>\n"}], "owner": {"reputation": 41, "user_id": 7872768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617617aef148f742bb72df9a027c02b0?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Palenoff", "link": "https://stackoverflow.com/users/7872768/mr-palenoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581440557, "creation_date": 1574876378, "question_id": 59075706, "link": "https://stackoverflow.com/questions/59075706/datatables-aspnet-idatatablesrequest-is-null-when-posting-data-to-webapi", "title": "DataTables.AspNet IDataTablesRequest is null when posting data to WebApi", "body": "<p>I am dealing with <code>DataTables.AspNet</code> nuget package to implement server-side pagination, searching and filtering.</p>\n\n<p>I am trying to post my table name from ajax <code>datatables</code> to WebApi controller in order to get the specific C# DataTable to be returned as data source. I pack table name as a key-value pair of <code>IDictionary&lt;string, object&gt; AdditionalParameters</code> (<code>\"table\"</code> is a key). When the request is processed by <code>Data</code> method of WebApi controller, the <code>IDataTablesRequest</code> argument is always coming as <code>null</code> so I can't get my table name! Moreover, when I assign the table name explicitly and get <code>DataTable</code>, <code>DataTablesResponse.Create()</code> returns <code>null</code>.</p>\n\n<p>So how can I force <code>IDataTablesRequest</code> to get data passed from <code>datatables.js</code>?</p>\n\n<p>Client Side\n</p>\n\n<pre><code>function loadTable(type, editable) {\nvar url = \"/api/Request/\" + type;\n$.ajax({\n    url: \"/api/Request/Columns/\" + type,\n    type: \"GET\",\n    statusCode: {\n        200: function (response) {\n            dtcolumns = response;\n            var columns = [];\n            if (editable) { columns.push({ data: null, className: 'select-checkbox', defaultContent: '' }); }\n            for (var i in dtcolumns) {\n                columns.push(\n                    {\n                        name: dtcolumns[i].Name,\n                        title: dtcolumns[i].Caption,\n                        data: dtcolumns[i].Name,\n                        visible: !(dtcolumns[i].Caption === \"\"),\n                        sortable: true,\n                        searchable: true\n                    });\n            }\n            var request_data = new Object();\n            var AdditionalParameters = {};\n            AdditionalParameters[\"table\"] = type; // Table Name!\n            request_data.AdditionalParameters = AdditionalParameters;\n            var table = $('#just-table').DataTable({\n                deferRender: true,\n                bPaginate: true,\n                autoFill: {\n                    horizontal: false\n                },\n                serverSide: true,\n                processing: true,\n                columns: columns,\n                ajax: {\n                    url: \"/api/Request/Data\",\n                    type: \"POST\",\n                    //contentType: \"application/json\",\n                    //dataType: \"json\",\n                    //data: JSON.stringify(request_data),\n                    data: request_data, //PASSING TABLE NAME TO WEBAPI CONTROLLER\n                    statusCode: {\n                        500: function (response) {\n                                alert(response.responseJSON.Message)\n                        }\n                    }\n                },\n                rowId: 'ID',\n                scroller: {\n                    loadingIndicator: true\n                },\n                targets: 0,\n                dom: 'BS&lt;\"toolbar\"&gt;frtips'\n            });\n        }\n    }\n})\n}\n</code></pre>\n\n<p>Server Side\n</p>\n\n<pre><code>    [HttpPost]\n    [Route(\"api/Request/Data\")]\n    public JsonResult&lt;IDataTablesResponse&gt; Data(IDataTablesRequest request /*ALWAYS NULL!!!*/)\n    {\n        DataTable data = DBContext.GetInstance()[request.AdditionalParameters[\"table\"].ToString()];\n        var filteredData = data.AsEnumerable().Where(row =&gt; row.ItemArray.Contains(request.Search.Value));\n        var dataPage = filteredData.Skip(request.Start).Take(request.Length).CopyToDataTable();\n        //ALWAYS NULL!!!\n        var response = DataTables.AspNet.WebApi2.DataTablesResponse.Create(request, data.AsDataView().Count, filteredData.Count(), dataPage);\n       return new DataTablesJsonResult(response, Request);\n    }\n</code></pre>\n"}, {"tags": ["c#", "linq", "parallel.foreach", "cancellation-token"], "answers": [{"comments": [{"owner": {"reputation": 4583, "user_id": 6844481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Z6GA.jpg?s=128&g=1", "display_name": "Shahar Shokrani", "link": "https://stackoverflow.com/users/6844481/shahar-shokrani"}, "edited": false, "score": 0, "creation_date": 1574878698, "post_id": 59075734, "comment_id": 104389860, "body": "Hey @mike-s thanks for the answer, I have not checked the <code>Environment.Exit</code> yet but see please updated question."}], "tags": [], "owner": {"reputation": 2719, "user_id": 534514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n77PT.png?s=128&g=1", "display_name": "Mike S", "link": "https://stackoverflow.com/users/534514/mike-s"}, "is_accepted": false, "score": 4, "last_activity_date": 1574876518, "creation_date": 1574876518, "answer_id": 59075734, "question_id": 59075637, "link": "https://stackoverflow.com/questions/59075637/why-threads-continue-to-run-after-a-cancel-has-been-called/59075734#59075734", "title": "Why threads continue to run after a cancel has been called?", "body": "<p>Cancel() on a cancellation token is just signaling the cancellation token, which just impacts other places in the code that check the token (such as calls to cts.IsCancellationRequested). Framework calls often will check the cancellation token and abort. It's also useful to check a cancellation token inside a loop (as a means to abort the loop) or before a long operation. </p>\n\n<p>The cancellation token does not forcibly terminate a thread or process.  There are other APIs for that, such as <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.environment.exit?view=netframework-4.8\" rel=\"nofollow noreferrer\">Environment.Exit</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 4583, "user_id": 6844481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Z6GA.jpg?s=128&g=1", "display_name": "Shahar Shokrani", "link": "https://stackoverflow.com/users/6844481/shahar-shokrani"}, "edited": false, "score": 0, "creation_date": 1574922791, "post_id": 59076992, "comment_id": 104402181, "body": "Hey @eric-lippert, <code>as soon as it is convenient to do so</code> - what do you mean by convenient? when it will actually going to happen?"}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "reply_to_user": {"reputation": 4583, "user_id": 6844481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Z6GA.jpg?s=128&g=1", "display_name": "Shahar Shokrani", "link": "https://stackoverflow.com/users/6844481/shahar-shokrani"}, "edited": false, "score": 1, "creation_date": 1575052544, "post_id": 59076992, "comment_id": 104450628, "body": "@ShaharShokrani: That&#39;s up to the code which accepts a <code>CancellationToken</code>.  Such code can use <code>IsCancellationRequested</code>, <code>ThrowIfCancellationRequested</code>, or <code>Register</code> to stop further work.  In the case of network APIs, it&#39;s normal to stop work mid-request.  In the case of APIs which accept a delegate (e.g., the Task Parallel Library), they usually cancel when requesting the next work item.  It&#39;s up to you to indicate if it is convenient to cancel a partial work item (e.g., by calling <code>ThrowIfCancellationRequested</code> in the work item); third-party libraries have no way of knowing."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 10, "last_activity_date": 1574964120, "last_edit_date": 1574964120, "creation_date": 1574881621, "answer_id": 59076992, "question_id": 59075637, "link": "https://stackoverflow.com/questions/59075637/why-threads-continue-to-run-after-a-cancel-has-been-called/59076992#59076992", "title": "Why threads continue to run after a cancel has been called?", "body": "<blockquote>\n  <p>My question is why it continue printing values over 1? </p>\n</blockquote>\n\n<p>Imagine you hired a hundred pilots to fly a hundred planes from a hundred airports. A bunch of them take off, and then you send a message saying \"cancel all the flights\".  Well, there are a bunch of planes <em>on the runway at takeoff speed</em> when you send that message, and the message arrives <em>after they are in the air</em>. Those flights will not be cancelled!</p>\n\n<p>You are discovering the most important thing to know about multithreaded programming. <strong>You have to reason as though every possible ordering of things happening might occur</strong>. That includes messages arriving later than you think they should.</p>\n\n<p>In particular, your problem is a result of your abuse of the parallelization mechanisms, which are designed to parallelize <em>long work</em>. <em>You've created a bunch of tasks that take less time to run than it takes to send the message stopping them.</em> It should not be a surprise in that case that some of the tasks complete after they've been told to stop.</p>\n\n<blockquote>\n  <p>I expected that calling Cancel() on the token would terminate the process.</p>\n</blockquote>\n\n<p>Your expectation is completely, totally wrong.  Stop expecting that, since that expectation in no way conforms to reality.  A cancellation token is a request to cancel an operation as soon as it is convenient to do so. It's not terminating a thread or a process.</p>\n\n<p>However, even if you <em>did</em> terminate the threads, you would still observe this behaviour.  Thread termination is an event like any other, and that event is not instantaneous. It takes time to execute, and other threads can continue their work while that thread termination is executing.</p>\n\n<blockquote>\n  <p>what do you mean by \"convenient\" in \"a request to cancel an operation as soon as it is convenient to do so\"?</p>\n</blockquote>\n\n<p>Let's take a step back.</p>\n\n<p>If the work to be done is <em>extremely short</em>, then there is no need to represent it as a task. Just do the work! In general if work takes less than about 30ms, just do the work.</p>\n\n<p>Therefore, let's assume that every task <em>takes a long time</em>.</p>\n\n<p>Now, why might a task take a long time? There are generally two reasons:</p>\n\n<ul>\n<li><p>We're waiting for another system to complete some task. We're waiting for a network packet or a disk read or some such thing.  </p></li>\n<li><p>We have a huge amount of computation, and the CPU is saturated.</p></li>\n</ul>\n\n<p>Suppose we are in the first situation. <strong>Does parallelizing help?</strong> No. If you are waiting for a package in the mail, <em>hiring one, two, ten or a hundred people to wait does not make the package come faster</em>. </p>\n\n<p>But that <em>does</em> help for the second case; if we have an extra CPU in the machine we can dedicate <em>two</em> CPUs to solve the problem in about half the time.</p>\n\n<p>Therefore we can assume that <em>if we are parallelizing a task, it is because the CPU is doing a lot of work</em>.</p>\n\n<p>Great.  Now, what is the nature of \"CPU does a lot of work?\"  It almost always involves a <em>loop</em> somewhere.</p>\n\n<p>So then, how do we cancel a task?  We do not cancel a task by <em>terminating the thread</em>. We <em>ask</em> the task to cancel itself. A well-designed task will take a cancellation token, and <em>in its loop</em> will check to see if the cancellation token is indicating that the task is cancelled.  <strong>Cancellation is cooperative</strong>.  The task has to <em>cooperate</em> and <em>decide when it checks to see if it is cancelled</em>. </p>\n\n<p>Notice that <em>checking to see if you are cancelled</em> is <em>work</em>, and that is work that <em>takes time away from the real task</em>.  If you spend half your time checking to see if you are cancelled, your task takes twice as long as it could. And remember, the point of parallelizing the task is <em>to make it take half as long</em>, so <em>doubling</em> the amount of time it takes to do the task is a non-starter.</p>\n\n<p>Therefore most tasks do <em>not</em> check every time through the loop if they are cancelled. A well-designed task will check every few milliseconds, not every few nanoseconds. </p>\n\n<p>That's what I mean by \"a cancellation is a request to stop when it is convenient\". The task, if it was written correctly, should know what a good time to check for cancellation is so that it balances responsiveness against performance.</p>\n"}, {"tags": [], "owner": {"reputation": 7429, "user_id": 4811873, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/2ef5bab087ac0b70e03e34b0b0009fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Robinson", "link": "https://stackoverflow.com/users/4811873/mike-robinson"}, "is_accepted": false, "score": 1, "last_activity_date": 1575385311, "creation_date": 1575385311, "answer_id": 59159951, "question_id": 59075637, "link": "https://stackoverflow.com/questions/59075637/why-threads-continue-to-run-after-a-cancel-has-been-called/59159951#59159951", "title": "Why threads continue to run after a cancel has been called?", "body": "<p>Following up on Eric's excellent answer ... \"a thread or process\" and \"a unit of work\" usually should not be the same thing.  Creating a thread to carry out one unit of work and then die is like shooting flaming arrows into the air:  you can't control it, can't predict it, and those arrows start interfering with each other.  The system becomes choked with so much work that it can't work on anything.  (A condition called <em>\"thrashing.\"</em>)</p>\n\n<p>A much better strategy is modeled after a fast-food restaurant:  a small number of workers, each with an assigned task, taking work-requests from a queue and delivering the finished sandwiches to another.  At any instant, any queue might contain more or fewer entries.  You don't see any of the workers falling down, dead.  During lunch rush-hour, more workers are busy but at the same tasks.  During a slow period they remain at their posts, patiently waiting for the next order to arrive.  Any particular work-request might be flagged as \"cancelled,\" and the workers notice this and respond accordingly.  No part of the restaurant is \"over-committed,\" and the entire operation is able to consistently produce a predictable number of sandwiches per hour, according to management control.</p>\n"}], "owner": {"reputation": 4583, "user_id": 6844481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Z6GA.jpg?s=128&g=1", "display_name": "Shahar Shokrani", "link": "https://stackoverflow.com/users/6844481/shahar-shokrani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 59076992, "answer_count": 3, "score": 2, "last_activity_date": 1575385311, "creation_date": 1574876102, "last_edit_date": 1574879294, "question_id": 59075637, "link": "https://stackoverflow.com/questions/59075637/why-threads-continue-to-run-after-a-cancel-has-been-called", "title": "Why threads continue to run after a cancel has been called?", "body": "<p>Consider this simple example <a href=\"https://github.com/ShaharShokrani/ParallelProgramingDotNet/blob/master/ParallelProgrammingDotNet/CancellationAndExceptions.cs\" rel=\"nofollow noreferrer\">code</a>:</p>\n\n<pre><code>var cts = new CancellationTokenSource();\nvar items = Enumerable.Range(1, 20);\n\nvar results = items.AsParallel().WithCancellation(cts.Token).Select(i =&gt;\n{\n    double result = Math.Log10(i);                \n    return result;\n});\n\ntry\n{\n    foreach (var result in results)\n    {\n        if (result &gt; 1)\n            cts.Cancel();\n        Console.WriteLine($\"result = {result}\");\n    }\n}\ncatch (OperationCanceledException e)\n{\n    if (cts.IsCancellationRequested)\n        Console.WriteLine($\"Canceled\");\n}\n</code></pre>\n\n<p>Foreach of the results in the parallel results it prints the results until <code>result &gt; 1</code></p>\n\n<p>This code output is something like:</p>\n\n<pre><code>result = 0.9030899869919435\nresult = 0.8450980400142568\nresult = 0.7781512503836436\nresult = 0\nresult = 0.6020599913279624\nresult = 0.47712125471966244\nresult = 0.3010299956639812\nresult = 0.6989700043360189\nresult = 0.9542425094393249\nresult = 1\nresult = 1.0413926851582251 &lt;-- This is normal\nresult = 1.2041199826559248 &lt;-- Why it prints this value (and below)\nresult = 1.0791812460476249\nresult = 1.2304489213782739\nresult = 1.1139433523068367\nresult = 1.255272505103306\nresult = 1.146128035678238\nresult = 1.2787536009528289\nresult = 1.1760912590556813\nresult = 1.3010299956639813\nCanceled\n</code></pre>\n\n<p><strong>My question is why it continue printing values over 1?</strong> I had expected that it the <code>Cancel()</code> token will be terminate the process.</p>\n\n<hr>\n\n<p>Update 1</p>\n\n<p><a href=\"https://stackoverflow.com/a/59075734/6844481\">@mike-s</a>'s answer suggested:</p>\n\n<blockquote>\n  <p>It's also useful to check a cancellation token inside a loop (as a\n  means to abort the loop) or before a long operation.</p>\n</blockquote>\n\n<p>I've tried adding a check</p>\n\n<pre><code>foreach (var result in results)\n{\n    if (result &gt; 1)\n        cts.Cancel();\n\n    if (!cts.IsCancellationRequested) //&lt;----Check the cancellation token before printing\n        Console.WriteLine($\"result = {result}\");\n}\n</code></pre>\n\n<p>It still gives the same result's output.</p>\n"}, {"tags": ["c#", "design-patterns"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 3, "creation_date": 1574875930, "post_id": 59075554, "comment_id": 104388618, "body": "Not all tasks require a design pattern if it is exactly as you say then this just sounds like a sequence of statements (probably organized in a procedure or function)"}, {"owner": {"reputation": 49, "user_id": 5540673, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b13a2f2244972806167de44bbfea026d?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/5540673/jane-doe"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1574876034, "post_id": 59075554, "comment_id": 104388660, "body": "I get what you are saying but i don&#39;t really want to have to do if-else statements to check if commandA has run successfully so now run command B etc.. @Hogan"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 1, "creation_date": 1574876112, "post_id": 59075554, "comment_id": 104388688, "body": "Why not?  It sounds to me like that is what requirements specify.  No &quot;pattern&quot; is going to change having to do some if then else statement.  Unless there is something I&#39;m missing here?  Maybe there is more than 3 steps?"}, {"owner": {"reputation": 866, "user_id": 2688108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pH3rG.jpg?s=128&g=1", "display_name": "DrkDeveloper", "link": "https://stackoverflow.com/users/2688108/drkdeveloper"}, "edited": false, "score": 0, "creation_date": 1574876130, "post_id": 59075554, "comment_id": 104388699, "body": "Are you talking about &quot;fluent&quot; pattern? <a href=\"https://www.red-gate.com/simple-talk/dotnet/net-framework/fluent-code-in-c/\" rel=\"nofollow noreferrer\">red-gate.com/simple-talk/dotnet/net-framework/fluent-code-in&zwnj;&#8203;-c</a>"}, {"owner": {"reputation": 49, "user_id": 5540673, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b13a2f2244972806167de44bbfea026d?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/5540673/jane-doe"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1574876586, "post_id": 59075554, "comment_id": 104388909, "body": "@Hogan added more context to the post"}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1574876660, "post_id": 59075554, "comment_id": 104388943, "body": "The builder pattern is a creational pattern, so I would say that one doesn&#39;t fit your scenario. The other two seem like overkill for your &#39;simple as that&#39; problem. If you really want to use a pattern, the <i>Template</i> pattern is simple and can be refactored later. But I agree with @Hogan, if one part is dependent on the previous then you will have to do some form of checking to ensure you have the information you need for the next step(s)."}, {"owner": {"reputation": 49, "user_id": 5540673, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b13a2f2244972806167de44bbfea026d?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/5540673/jane-doe"}, "reply_to_user": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1574876791, "post_id": 59075554, "comment_id": 104389007, "body": "@quaabaam I didn&#39;t make it clear, I am aware I will have to do checks but what pattern would allow the easiest way of linking these commands together without doing a lot of if-elses but also allowing me to pass the result of the previous command to the next."}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1574876846, "post_id": 59075554, "comment_id": 104389031, "body": "so I guess this is chain of repsonsibility - <a href=\"https://en.wikipedia.org/wiki/Chain-of-responsibility_patte\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Chain-of-responsibility_patte</a> - but honestly - this code looks fine.  If I did a code review where someone made this more complicated I would make them re-write it."}, {"owner": {"reputation": 49, "user_id": 5540673, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b13a2f2244972806167de44bbfea026d?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/5540673/jane-doe"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1574876917, "post_id": 59075554, "comment_id": 104389076, "body": "@Hogan okay fair enough, maybe I am thinking i&#39;ve over engineered it in my head."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1574876957, "post_id": 59075554, "comment_id": 104389090, "body": "This is turning into an echo chamber! To echo what has been said by others, I really don&#39;t think you need a pattern. If you don&#39;t want a whole bunch of nested if-then&#39;s (which I agree is ugly) then you can just stack your if-then&#39;s, with a &quot;return&#39; if the result is not what&#39;s expected."}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1574876996, "post_id": 59075554, "comment_id": 104389104, "body": "yeah -- if you get to the point where you have 500 to 1000 lines of &quot;if else&quot; constructs -- then make a chain of responsibility. Short of that make something that easy for others to maintain and read."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5540673, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b13a2f2244972806167de44bbfea026d?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/5540673/jane-doe"}, "edited": false, "score": 0, "creation_date": 1574948250, "post_id": 59075988, "comment_id": 104414869, "body": "Thank you, this seems like the best approach for me currently. I guess I had a &quot;big brain&quot; moment nesting it all.. this is much cleaner. Thank you."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 49, "user_id": 5540673, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b13a2f2244972806167de44bbfea026d?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/5540673/jane-doe"}, "edited": false, "score": 0, "creation_date": 1575311113, "post_id": 59075988, "comment_id": 104515379, "body": "Glad I could help!"}], "tags": [], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "is_accepted": true, "score": 0, "last_activity_date": 1574878018, "last_edit_date": 1574878018, "creation_date": 1574877449, "answer_id": 59075988, "question_id": 59075554, "link": "https://stackoverflow.com/questions/59075554/best-design-pattern-for-linking-api-results-together/59075988#59075988", "title": "Best design pattern for linking Api results together", "body": "<p>I've faced situations exactly like this... where I've had about 15 calls to make, but each call depended on the call before it being successful.  Here's how I handle it.</p>\n\n<p>First, I created a <code>Response</code> object:</p>\n\n<pre><code>public class CallResponse\n{\n    public bool Success { get; set; }\n    public string Json { get; set; } // this can vary based on  your needs\n    public Exception ex { get; set; } // used only if there was an error in the call\n}\n</code></pre>\n\n<p>Then, each call would return an instance of <code>CallResponse</code>:</p>\n\n<pre><code>    CallResponse response1 = Call1();\n    if (!response1.Success) \n    {\n        HandleError(response1)\n        return;\n    }\n\n    CallResponse response2 = Call2(response1.Json);\n    if (!response2.Success) \n    {\n        HandleError(response2)\n        return;\n    }\n</code></pre>\n\n<p>And so on. I don't know if this fits a known pattern, but at least it keeps the top level code clean and easy to follow.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>At the very least, you could avoid nesting your if-then's:</p>\n\n<pre><code>    public ResponseCode GeneratePlaylistWithSongs(string playlistID, List&lt;string&gt; trackList)\n    {\n        PlaylistValidationResponseMessage playlistValidationRM = ValidatePlaylist(playlistID) as PlaylistValidationResponseMessage;\n        if(playlistValidationRM.ResponseCode != ResponseCode.SUCCESS)\n        {\n            return ResponseCode.FAILURE; \n        }\n\n        SongGetResponseMessage songGetResponseMessage = GetSongTracks(trackList) as SongGetResponseMessage;\n        if(songGetResponseMessage.ResponseCode != ResponseCode.SUCCESS)\n        {\n             return ResponseCode.FAILURE;\n        }\n\n        GeneratePlaylistResponseMessage generatePlaylistRM = GeneratePlaylist(playlistID, SourceType.SETLISTFM, songGetResponseMessage.Track) as GeneratePlaylistResponseMessage;\n        return generatePlaylistRM.ResponseCode;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 277, "user_id": 3757844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/552625747/picture?type=large", "display_name": "Abarnett", "link": "https://stackoverflow.com/users/3757844/abarnett"}, "is_accepted": false, "score": 0, "last_activity_date": 1574877716, "creation_date": 1574877716, "answer_id": 59076047, "question_id": 59075554, "link": "https://stackoverflow.com/questions/59075554/best-design-pattern-for-linking-api-results-together/59076047#59076047", "title": "Best design pattern for linking Api results together", "body": "<p>This is likely an oversimplified answer but you can build a fluent API that allows you to do something like this...</p>\n\n<pre><code>var response = new PlayListHandler()\n    .DoCommandA()\n    .DoCommandB()\n    .DoCommandC(); \n\nreturn MyResponseGenerator.Translate(response);\n</code></pre>\n\n<p>Notes: </p>\n\n<ul>\n<li><p>PlayListHandler should implement an IPlayListHandler. Each \"DoCommandX()\" returns an IPlayListHandler. </p></li>\n<li><p>Each command should throw an exception if it returns a failed status code. You should be handling exceptions through <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/error-handling/exception-handling#exception-filters\" rel=\"nofollow noreferrer\">exception filters</a>, allowing you to remove copy/pasted exception handling from your API method code.</p></li>\n</ul>\n"}], "owner": {"reputation": 49, "user_id": 5540673, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b13a2f2244972806167de44bbfea026d?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Doe", "link": "https://stackoverflow.com/users/5540673/jane-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1574881509, "accepted_answer_id": 59075988, "answer_count": 2, "score": 0, "last_activity_date": 1574878018, "creation_date": 1574875764, "last_edit_date": 1574876575, "question_id": 59075554, "link": "https://stackoverflow.com/questions/59075554/best-design-pattern-for-linking-api-results-together", "closed_reason": "Opinion-based", "title": "Best design pattern for linking Api results together", "body": "<p>Language to use: C#</p>\n\n<p>I have a situation where I have around 4/5 api calls to make but they are all dependent on the previous API call being successful.</p>\n\n<p>For example:</p>\n\n<ol>\n<li>CommandA</li>\n<li>CommandB(Uses Result of CommandA)</li>\n<li>CommandC(Uses Result of CommandB)</li>\n</ol>\n\n<p>and so on and so forth - it really as simple as that. I have bneen recommended the builder pattern, Chain of responsibility and command pattern but don't know which one would be the easiest to build upon if i have to add any more commands later on down the line. Thanks.</p>\n\n<p>For more context, I am trying to create a spotify playlist generator that takes in multiple different sources. </p>\n\n<p>I currently have it set up so it has 2 flows - random songs and setlist fm songs.</p>\n\n<p>the flow of the random songs is</p>\n\n<ul>\n<li>Check if playlist exists(create if not) (CommandA)</li>\n<li>Remove songs in playlist if specified(CommandB)</li>\n<li>Get Random Songs (CommandC)</li>\n<li>Add songs (CommandD)</li>\n</ul>\n\n<p>and the flow for setlist fm is\n - CommandA\n - CommandB\n - Scrap setlist fm for songs\n - CommandD</p>\n\n<p>here is an example code snippet:</p>\n\n<pre><code>    public ResponseCode GeneratePlaylistWithSongs(string playlistID, List&lt;string&gt; trackList)\n    {\n        PlaylistValidationResponseMessage playlistValidationRM = ValidatePlaylist(playlistID) as PlaylistValidationResponseMessage;\n        if(playlistValidationRM.ResponseCode == ResponseCode.SUCCESS)\n        {\n            SongGetResponseMessage songGetResponseMessage = GetSongTracks(trackList) as SongGetResponseMessage;\n            if(songGetResponseMessage.ResponseCode == ResponseCode.SUCCESS)\n            {\n                GeneratePlaylistResponseMessage generatePlaylistRM =\n                    GeneratePlaylist(playlistID,\n                    SourceType.SETLISTFM,\n                    songGetResponseMessage.Track)\n                    as GeneratePlaylistResponseMessage;\n\n                return generatePlaylistRM.ResponseCode;\n            }\n        }\n        return ResponseCode.FAILURE;\n    }\n</code></pre>\n\n<p>as you can see, if i wanted to add any more to this flow i would just create a lot of if-elses on the response messages.</p>\n"}, {"tags": ["c#", "winforms", "logic"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574875942, "post_id": 59075538, "comment_id": 104388623, "body": "Well, firstly I would change your <code>activate</code> variable to a <code>bool</code> type. Then alter your <code>if</code> statement to: <code>if (activate) { &#47;* do thing *&#47; } else { &#47;* do other thing *&#47;</code>"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574876307, "post_id": 59075538, "comment_id": 104388781, "body": "Also, what about your form are you wanting to change? Do you want to update <code>text boxes</code> with new data? Add all new elements? This question needs more detail in what you are needing to do"}, {"owner": {"reputation": 44, "user_id": 10107943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vwu74.jpg?s=128&g=1", "display_name": "Kaiiso", "link": "https://stackoverflow.com/users/10107943/kaiiso"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574876880, "post_id": 59075538, "comment_id": 104389055, "body": "I want to change the screen to display the form, I choose the target screen from my own settings form"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574877028, "post_id": 59075538, "comment_id": 104389115, "body": "You are not changing the <code>screen</code>. Instead, you are changing the <code>form</code>&#39;s property. You can use <code>.Show()</code> and <code>.Hide()</code> to display the form or to not display the form"}], "answers": [{"comments": [{"owner": {"reputation": 866, "user_id": 2688108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pH3rG.jpg?s=128&g=1", "display_name": "DrkDeveloper", "link": "https://stackoverflow.com/users/2688108/drkdeveloper"}, "reply_to_user": {"reputation": 44, "user_id": 10107943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vwu74.jpg?s=128&g=1", "display_name": "Kaiiso", "link": "https://stackoverflow.com/users/10107943/kaiiso"}, "edited": false, "score": 0, "creation_date": 1574876886, "post_id": 59075596, "comment_id": 104389059, "body": "@Kaiiso &quot;Obviously you&#39;ll have to call some method that updates the UI with the new values, or bind properties, or something.&quot;"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574877081, "post_id": 59075596, "comment_id": 104389141, "body": "Please add some code to help explain your answer and show your solution in action :)"}, {"owner": {"reputation": 866, "user_id": 2688108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pH3rG.jpg?s=128&g=1", "display_name": "DrkDeveloper", "link": "https://stackoverflow.com/users/2688108/drkdeveloper"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574908445, "post_id": 59075596, "comment_id": 104398672, "body": "@Symon I don&#39;t know what properties @Kaiiso changes. The question doesn&#39;t specify them and the code he proposes it&#39;s valid (use a string for bool... No). He just have to add a <code>ChangeProperties(Form frm)</code> method and call it before show."}], "tags": [], "owner": {"reputation": 866, "user_id": 2688108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pH3rG.jpg?s=128&g=1", "display_name": "DrkDeveloper", "link": "https://stackoverflow.com/users/2688108/drkdeveloper"}, "is_accepted": false, "score": -1, "last_activity_date": 1574875938, "creation_date": 1574875938, "answer_id": 59075596, "question_id": 59075538, "link": "https://stackoverflow.com/questions/59075538/how-can-i-open-form-after-closing-it-with-refresh/59075596#59075596", "title": "How can I open form after closing it ? (with refresh)", "body": "<p><code>Hide()</code> is your friend.</p>\n\n<p>If you want only to hide it and after show in the same state as it was hidden. That's the way.</p>\n\n<p>The other way it's to destroy the form and create a new form and show it.</p>\n\n<p>Obviously you'll have to call some method that updates the UI with the new values, or bind properties, or something.</p>\n"}], "owner": {"reputation": 44, "user_id": 10107943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vwu74.jpg?s=128&g=1", "display_name": "Kaiiso", "link": "https://stackoverflow.com/users/10107943/kaiiso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1574876116, "creation_date": 1574875696, "question_id": 59075538, "link": "https://stackoverflow.com/questions/59075538/how-can-i-open-form-after-closing-it-with-refresh", "title": "How can I open form after closing it ? (with refresh)", "body": "<p>I'm trying to make a close button and an open button, after form closing I want to open back the form with the new properties that i changed in my settings form. Can you help me? thank you in advance, have a nice day. Kaiiso</p>\n\n<pre><code>Browser browserForm = new Browser();\n\nprivate void setBrowser(string activate)\n{\n\n        if (activate == \"true\")\n        {\n            browserForm.Show();\n        }\n        else if (activate == \"false\")\n        {\n            browserForm.Close();\n        }\n}\n</code></pre>\n\n<p>I know that is actually not working but it's a simple exemple :)</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 3, "creation_date": 1574875828, "post_id": 59075530, "comment_id": 104388559, "body": "<code>DateTime.Now.ToString()</code> returns <code>MM&#47;dd&#47;yyyy H:mm:ss tt</code>. Attempting <code>ParseExact</code> with <code>MM&#47;dd&#47;yyyy</code> will fail because the string is not in that format."}, {"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1574875971, "post_id": 59075530, "comment_id": 104388637, "body": "i know why it fails. i am looking for a way to validate date format"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1574876013, "post_id": 59075530, "comment_id": 104388645, "body": "Use <code>ToShortDateString()</code> instead of <code>ToString()</code>. This will still cause your <code>MM&#47;dd&#47;yyyy</code> format to fail in months before October."}, {"owner": {"reputation": 108835, "user_id": 15541, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/515ca9736a9a8ce65e58af764ccddf46?s=128&d=identicon&r=PG", "display_name": "leppie", "link": "https://stackoverflow.com/users/15541/leppie"}, "edited": false, "score": 0, "creation_date": 1574876015, "post_id": 59075530, "comment_id": 104388646, "body": "Use <code>DateTime.Now.ToShortDateString()</code> then"}, {"owner": {"reputation": 2208, "user_id": 561710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/aqIt1.jpg?s=128&g=1", "display_name": "Joe Johnston", "link": "https://stackoverflow.com/users/561710/joe-johnston"}, "edited": false, "score": 0, "creation_date": 1574876223, "post_id": 59075530, "comment_id": 104388741, "body": "Could you recycle the result? Apply your format and then tryParse the result and and compare that result to the DateTime.Now? including and excluding the time would be important. I don&#39;t have VS on this box to test it for you."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 3, "creation_date": 1574876230, "post_id": 59075530, "comment_id": 104388744, "body": "It&#39;s still unclear what you mean by a valid format string. Technically, <code>&quot;MM yyyy MM yyyy H tt z&quot;</code> is a valid format string. So is <code>&quot;123123123123&quot;</code>. It might not be meaningful, but it&#39;s valid."}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1574876250, "post_id": 59075530, "comment_id": 104388758, "body": "Either specify a string constant with a date in the desired format or use <code>Parse</code> instead of <code>ParseExact</code>. Better yet: Use <code>TryParseExact</code>!"}, {"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1574876327, "post_id": 59075530, "comment_id": 104388794, "body": "<code>TryParseExact</code> will not solve the issue. It just returns true or false instead of throwing exception."}, {"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1574876765, "post_id": 59075530, "comment_id": 104388998, "body": "@JonathonChase you are right <code>MM yyyy MM yyyy H tt z</code> is valid format. But above will return <code>false</code>"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1574876861, "post_id": 59075530, "comment_id": 104389046, "body": "@LP13 The above will return false because it will only return true if the dateFormat is <code>&quot;M&#47;dd&#47;yyyy H:mm:ss tt&quot;</code>, since that&#39;s the format you&#39;re testing against."}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1574879679, "post_id": 59075530, "comment_id": 104390313, "body": "<code>I am looking for a way to check if the given date format is valid .Net date format.</code> . From the given code, the question is more like: <code>I am looking for a way to check if the given date format is valid .Net date format that can parse DateTime.Now.ToString().</code>"}], "answers": [{"comments": [{"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1574876538, "post_id": 59075673, "comment_id": 104388890, "body": "<code>TryParse</code> does not take format. I am not validating date. i want to validate the dateformat"}], "tags": [], "owner": {"reputation": 866, "user_id": 2688108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pH3rG.jpg?s=128&g=1", "display_name": "DrkDeveloper", "link": "https://stackoverflow.com/users/2688108/drkdeveloper"}, "is_accepted": false, "score": -1, "last_activity_date": 1574876264, "creation_date": 1574876264, "answer_id": 59075673, "question_id": 59075530, "link": "https://stackoverflow.com/questions/59075530/how-to-validate-date-format-in-c/59075673#59075673", "title": "How to validate date format in C#", "body": "<p>why not <code>TryParse()</code> or exact version? <a href=\"https://docs.microsoft.com/es-es/dotnet/api/system.datetime.tryparse?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/es-es/dotnet/api/system.datetime.tryparse?view=netframework-4.8</a></p>\n\n<p>returns true if system can parse.</p>\n\n<p>It does \"the same\" your method does.</p>\n"}, {"comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1574879641, "post_id": 59076423, "comment_id": 104390301, "body": "this throws an exception for dateFormat &quot;a&quot;"}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1574879928, "post_id": 59076423, "comment_id": 104390418, "body": "@Matt.G, yes, you are right. Obviously <code>TryPareExact</code> throws when the format itself is invalid. I changed my answer."}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": false, "score": 1, "last_activity_date": 1574884112, "last_edit_date": 1574884112, "creation_date": 1574879152, "answer_id": 59076423, "question_id": 59075530, "link": "https://stackoverflow.com/questions/59075530/how-to-validate-date-format-in-c/59076423#59076423", "title": "How to validate date format in C#", "body": "<p>Since the format returned by <code>DateTime.ToString</code> does not match your format (it includes the time part), <code>ParseExact</code> fails.</p>\n\n<p>Validate the format by using <code>public string ToString(string format, System.IFormatProvider provider)</code> instead</p>\n\n<pre><code>public bool IsValidDateFormat(string dateFormat)\n{\n    try {\n        string s = DateTime.Now.ToString(dateFormat, CultureInfo.InvariantCulture);\n        DateTime.Parse(s, CultureInfo.InvariantCulture);\n        return true;\n    } catch {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Note that date/time formats that may seem not to be valid, can in fact be valid, as some non-format characters are just outputted as is. E.g. </p>\n\n<pre><code>DateTime.Now.ToString(\"abcdefg\", CultureInfo.InvariantCulture)\n</code></pre>\n\n<p>results in <code>\"abc27e6A.D.\"</code>. So it is in fact a valid date/time format, even if it does not make a lot of sense. You can enhance the quality of the test by trying to parse the resulting date string. This will eliminate a lot of nonsensical formats.</p>\n\n<p>This test ...</p>\n\n<pre><code>Console.WriteLine(IsValidDateFormat(\",,\"));\nConsole.WriteLine(IsValidDateFormat(\"a\"));\nConsole.WriteLine(IsValidDateFormat(\"MM/dd/yyyy hh:mm:ss\"));\nConsole.WriteLine(IsValidDateFormat(\"MM/dd/yyyy\"));\nConsole.WriteLine(IsValidDateFormat(\"abcdefg\"));\nConsole.ReadKey();\n</code></pre>\n\n<p>... prints</p>\n\n<blockquote>\n  <p>False<br>\n  False<br>\n  True<br>\n  True<br>\n  False</p>\n</blockquote>\n"}], "owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574884112, "creation_date": 1574875669, "last_edit_date": 1574876921, "question_id": 59075530, "link": "https://stackoverflow.com/questions/59075530/how-to-validate-date-format-in-c", "title": "How to validate date format in C#", "body": "<p>I want to check if a given string is a valid .net date format. </p>\n\n<p>so i have the following function that checks if the date format is correct</p>\n\n<pre><code>    public void IsValidDateFormat(string dateFormat)\n    {\n        var flag = true;\n        try\n        {\n            DateTime.ParseExact(DateTime.Now.ToString(),\n                dateFormat,\n                System.Globalization.CultureInfo.InvariantCulture);\n        }\n        catch (Exception ex)\n        {\n            flag = false;\n        }\n\n       return flag;\n    }\n</code></pre>\n\n<p>However, The method is not working as expected. For a valid date format also it returns false.</p>\n\n<p><code>dateFormat = ,,</code>  => returns false =>Passed<br>\n<code>dateFormat = someinvalidformat</code>  => returns false =>Passed<br>\n<code>dateFormat = MM/dd/yyyy</code>  => returns false => Not Passed   </p>\n\n<p>So <code>MM/dd/yyyy</code> is valid dateformat. But method returns false.</p>\n\n<p>Is there a better way to check if given date format is valid .Net date format?</p>\n\n<p><strong>Update 1</strong><br>\nI understand why method fails for <code>MM/dd/yyyy</code> or for other valid date formats. I am not asking why it fails. <code>MM/dd/yyyy</code> is just common valid date time format i am using here for example.<br>\nI am looking for a way to check if the given date format is valid .Net date format. So it could be any .Net date format.</p>\n"}, {"tags": ["c#", "wpf", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 1071, "user_id": 6721847, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/efhLp.jpg?s=128&g=1", "display_name": "monadoboi", "link": "https://stackoverflow.com/users/6721847/monadoboi"}, "is_accepted": false, "score": 0, "last_activity_date": 1574955477, "creation_date": 1574955477, "answer_id": 59092229, "question_id": 59075483, "link": "https://stackoverflow.com/questions/59075483/update-sortmemberpath-on-property-change/59092229#59092229", "title": "Update SortMemberPath on property change", "body": "<p>To solve this I simply created a function in my custom class that extends off DataGrid, and added it to its <code>Sorting</code> event handler. </p>\n\n<pre><code>    public DataGridEx()\n    {\n       Sorting += UpdateSorting;\n    }\n</code></pre>\n\n<p>The <code>UpdateSorting</code> function appends an ASCII character at the beginning of the string depending on what the order I'd like the item to stay in. In this example I want folder type items to stay at the top, so when the list is ascending I add a low alphabetical character (e.g. <code>!</code>), and vice versa for the descending list. This way the folders are always at the top. </p>\n\n<p>This isn't the best solution in my opinion (and honestly not very related to the question itself) but it works for now. If anyone has a better answer please feel free to post! </p>\n"}], "owner": {"reputation": 1071, "user_id": 6721847, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/efhLp.jpg?s=128&g=1", "display_name": "monadoboi", "link": "https://stackoverflow.com/users/6721847/monadoboi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574955477, "creation_date": 1574875457, "question_id": 59075483, "link": "https://stackoverflow.com/questions/59075483/update-sortmemberpath-on-property-change", "title": "Update SortMemberPath on property change", "body": "<p>I have a property, <code>SortingName</code>, used as the <code>SortMemberPath</code> for one of my columns in my <code>DataGrid</code>. However, I would like this property to get updated every time the header is clicked (i.e. call its setter again).</p>\n\n<p>Here is the property:</p>\n\n<pre><code>    [XmlIgnore]\n    public virtual string SortingName {\n        get { return m_sortingName; }\n        set\n        {\n            if (m_sortingName == null)\n                m_sortingName = value;\n            m_sortingName = m_sortingName.StartsWith(\"_\") ? value : \"_\" + value;\n        }\n    } \n</code></pre>\n\n<p>And here is the XAML for the <code>DataGrid</code> it's used in (the first column is the :</p>\n\n<pre><code>&lt;DataGrid.Columns&gt;\n          &lt;DataGridTemplateColumn Header=\"Templates\" \n                              Width=\"200\" SortMemberPath='SortingName'&gt;\n            &lt;DataGridTemplateColumn.CellTemplate&gt;\n              &lt;DataTemplate DataType=\"{x:Type request:ModelDocument}\"&gt;\n                &lt;TextBlock TextAlignment=\"Left\"&gt;\n                  &lt;TextBlock.Style&gt;\n                    &lt;Style TargetType=\"TextBlock\"&gt;\n                      &lt;Setter Property=\"Text\" Value=\"{Binding PrettyName}\"/&gt;\n                    &lt;/Style&gt;\n                  &lt;/TextBlock.Style&gt;\n                &lt;/TextBlock&gt;\n              &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellTemplate&gt;\n          &lt;/DataGridTemplateColumn&gt;\n\n...remaining columns\n</code></pre>\n\n<p>I've tried to use a <code>Binding</code> for the <code>SortMemberPath</code>, and assigning an <code>UpdateSourceTrigger=PropertyChanged</code>, but it did not seem to do anything. I had also attempted <a href=\"https://stackoverflow.com/questions/2129601/how-can-i-apply-a-custom-sort-rule-to-a-wpf-datagrid\">this</a> method, but had issues with the how my <code>ItemsSource</code> is defined. So I would prefer to update the property on click instead.</p>\n"}, {"tags": ["c#", "sql", "sql-server", "performance-testing", "deadlock"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 3, "creation_date": 1574875451, "post_id": 59075427, "comment_id": 104388387, "body": "Without seeing the code there is no way to answer this question"}, {"owner": {"reputation": 11, "user_id": 9354739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCjBy.jpg?s=128&g=1", "display_name": "Patryk Niklewicz", "link": "https://stackoverflow.com/users/9354739/patryk-niklewicz"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1574914156, "post_id": 59075427, "comment_id": 104399818, "body": "Ok, I&#39;ve added code to my question"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1575302108, "post_id": 59075427, "comment_id": 104511352, "body": "You shouldn&#39;t have a loop like that inside a tansaction -- reduce the transaction to the SMALLEST amount of code possible."}, {"owner": {"reputation": 11, "user_id": 9354739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCjBy.jpg?s=128&g=1", "display_name": "Patryk Niklewicz", "link": "https://stackoverflow.com/users/9354739/patryk-niklewicz"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1575361849, "post_id": 59075427, "comment_id": 104530382, "body": "I&#39;ve tried to implement that loop in case of exception, to try execute transaction again"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1575566502, "post_id": 59075427, "comment_id": 104618342, "body": "This is exactly why you are having a problem -- when you have the error you need to roll back -- here, everything is trying to happen inside the transaction.  That is asking for trouble."}, {"owner": {"reputation": 11, "user_id": 9354739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCjBy.jpg?s=128&g=1", "display_name": "Patryk Niklewicz", "link": "https://stackoverflow.com/users/9354739/patryk-niklewicz"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1575990842, "post_id": 59075427, "comment_id": 104747756, "body": "Ok, you are right about this. For now I&#39;ve made some changes inside code and deadlocks occurs much less frequently. As it turned out, the cause was that update procedure was nested with select. I&#39;ve moved the select statement before update to improve executing time for update and that change helped , because now there is no deadlocks, even with huge loads."}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1575991145, "post_id": 59075427, "comment_id": 104747952, "body": "Excellent -- glad I was able to help."}], "owner": {"reputation": 11, "user_id": 9354739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCjBy.jpg?s=128&g=1", "display_name": "Patryk Niklewicz", "link": "https://stackoverflow.com/users/9354739/patryk-niklewicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1574877442, "creation_date": 1574875194, "last_edit_date": 1574877442, "question_id": 59075427, "link": "https://stackoverflow.com/questions/59075427/how-to-properly-handle-deadlock-in-stored-procedure", "title": "How to properly handle deadlock in stored procedure?", "body": "<p>I'm using SQL Server Express 2014 and Visual Studio 2017.</p>\n\n<p>I have two stored procedures: first, to check if specific record in table A exists (if not exists it creates one); second, updating value of that specific record. </p>\n\n<p>The problem is, when using <code>Jmeter</code> and more than one user is handling this procedures the deadlock appears. How to handle deadlock to protect database from losing data, because after deadlock <code>XACT_STATE()</code> is equal to -1, so I can't rollback transaction from CATCH block to the <code>savepoint</code>, also I can't rollback all transaction because it will rollback effect of first procedure. </p>\n\n<p>I've also checked in SQL Server Profiler that if SQL Server tries to rollback to the named <code>savepoint</code>, it freezes transaction and Visual Studio shows me an error that </p>\n\n<blockquote>\n  <p>System.InvalidOperationException: 'This SqlTransaction has completed; it is no longer usable.</p>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>USE TESTDB\nGO\n\nALTER PROCEDURE UPDATEVALUES\n@ID int\n@PARAMS nvarchar(128)\n\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    SELECT @InnerTranName = '_' + @PARAMS;\n    SET @Success = 0;\n    SET @RetryCount = 0;\n\n    BEGIN TRANSACTION @InnerTranName;\n    WHILE @RetryCount &lt; 5 AND @Success = 0\n    BEGIN\n        BEGIN TRY\n            IF @RetryCount = 0\n                BEGIN\n                    SAVE TRANSACTION @InnerTranName;\n                END\n\n            -- UPDATE PROCEDURE\n\n            IF @@TRANCOUNT = 2\n                SET @Success = 1\n        END TRY\n        BEGIN CATCH\n            DECLARE @error int,\n                    @message varchar(4000),\n                    @xstate int;\n\n            SELECT\n                @error = ERROR_NUMBER(),\n                @message = ERROR_MESSAGE(),\n                @xstate = XACT_STATE();\n\n            RAISERROR ('CounterValue_Update: %d: %s', 16, 1, @error, @message)\n\n            IF @error = 1205\n                BEGIN\n                    SET @RetryCount = @RetryCount + 1\n                    ROLLBACK TRANSACTION @InnerTranName\n                END\n        END CATCH\n    END\n    IF @Success = 0\n        ROLLBACK;\n    ELSE\n        COMMIT;\nEND\n</code></pre>\n"}, {"tags": ["c#", "akka.net", "akka-remote-actor", "akka.net-networking"], "answers": [{"tags": [], "owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1574876034, "creation_date": 1574876034, "answer_id": 59075618, "question_id": 59075374, "link": "https://stackoverflow.com/questions/59075374/debugging-akka-net-remote-connections-cant-connect-failed-to-bind/59075618#59075618", "title": "Debugging Akka.NET remote connections (Cant connect - Failed to bind)", "body": "<p>Haha, and literally 5 minutes after posting my question I was finally able to determine the solution (although its not ideal).</p>\n\n<p>The solution was the realisation that when you instantiate the <code>ActorSystem</code> on the client application you are NOT actually connecting the local actor system to the remote system BUT rather creating a local instance of an actor system which itself is listening on a random port.</p>\n\n<p>The remote connection itself occurs when you create an <code>ActorSelection()</code> reference.</p>\n\n<p>So all I needed to do was change my client hocon from </p>\n\n<pre><code>hostname = 192.168.0.29\n</code></pre>\n\n<p>TO</p>\n\n<pre><code>hostname = 192.168.0.52\n</code></pre>\n\n<p>However this creates one final (albeit rather small) problem. I now need a different hocon file for an instance running locally vs an instance running remotely. Admittedly this could probably be addressed through code.... </p>\n\n<p>I'd be happy to mark as the solution someone who might be able to propose something that addresses this issue.</p>\n"}], "owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574877226, "creation_date": 1574874981, "last_edit_date": 1574877226, "question_id": 59075374, "link": "https://stackoverflow.com/questions/59075374/debugging-akka-net-remote-connections-cant-connect-failed-to-bind", "title": "Debugging Akka.NET remote connections (Cant connect - Failed to bind)", "body": "<p>Using the example Chat Server/Client project available as part of the Akka.NET source code I have attempted to modify it such that it would successfully work over two computers on my network.</p>\n\n<p>I have two systems that are connected via a router like this</p>\n\n<pre><code>192.168.0.29 (Server) &lt;---------------| Router |---------------&gt; 192.168.0.52 (Client)\n</code></pre>\n\n<p>I then have two actor systems that are configured like this:</p>\n\n<p>Server:</p>\n\n<pre><code>akka {  \n    actor {\n        provider = remote #Specify remote provider\n    }\n    remote {\n\n        dot-netty.tcp {\n            port = 666 #Akka server port number\n            hostname = 0.0.0.0 #Bind to all local network interfaces\n            public-hostname = 192.168.0.29 #Expose public IP to enable correct routing of public messages.\n\n        }\n    }\n}\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>akka {  \n    actor {\n        provider = remote\n    }\n    remote {\n        dot-netty.tcp {\n            port = 0 #Tell Akka that this is a client connection/use random port.\n            hostname = 192.168.0.29 #Tell Akka.NET which remote instance to connect to\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately, while I am able to successfully connect to the chat server locally, no matter how I configure my Hocon I cannot seem to get the remote instance to bind to my server actor located on the machine <code>192.168.0.29</code>.</p>\n\n<p>The specific error message that I receive </p>\n\n<pre><code>[ERROR][27/11/2019 4:58:36 PM][Thread 0004][Akka.Remote.Transport.DotNetty.TcpTransport] Failed to bind to 192.168.0.29:0; shutting down DotNetty transport.\nCause: System.Net.Sockets.SocketException (10049): The requested address is not valid in its context\n   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)\n</code></pre>\n\n<p>This error message suggests to me that there is no available socket that Akka.NET can access.</p>\n\n<p>Ironically enough, some time ago <a href=\"https://stackoverflow.com/questions/47206602/getting-akka-net-to-connect-to-a-remote-addresses\">I asked a very similar question</a> which at the time helped me resolve my connectivity issues but I never used Akka.NET till recently again.</p>\n\n<p>I note that both machines have their firewalls turned off and can successfully ping each other, I have also played around with all various combinations of settings.</p>\n\n<p>The original source code to the Akka.NET server/client application is located <a href=\"https://github.com/akkadotnet/akka.net/tree/dev/src/examples/Chat\" rel=\"nofollow noreferrer\">here</a>, my current version of it <a href=\"https://www.dropbox.com/s/twdji3q893qqg9v/Chat.zip?dl=0\" rel=\"nofollow noreferrer\">is here</a>.</p>\n\n<p>Could anyone provide any insight into what I might be doing wrong and how I can improve my debugging of Akka.NET remote connections? For example is there a way that I can verify that the Actor system on server <code>192.168.0.29</code> is accessible from <code>192.168.0.52</code> externally? </p>\n"}, {"tags": ["c#", "winapi", "memory", "process", "byte"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 9781192, "user_type": "registered", "profile_image": "https://graph.facebook.com/1420966161342500/picture?type=large", "display_name": "Saad Amrani", "link": "https://stackoverflow.com/users/9781192/saad-amrani"}, "edited": false, "score": 0, "creation_date": 1574957902, "post_id": 59082528, "comment_id": 104420002, "body": "Hey let me try this . i believe  page_exe_writecopy defined as 0x80 ?"}, {"owner": {"reputation": 91, "user_id": 9781192, "user_type": "registered", "profile_image": "https://graph.facebook.com/1420966161342500/picture?type=large", "display_name": "Saad Amrani", "link": "https://stackoverflow.com/users/9781192/saad-amrani"}, "edited": false, "score": 1, "creation_date": 1574967490, "post_id": 59082528, "comment_id": 104423513, "body": "&gt; THANKS A LOT !! Realy worked fine  liek a charm ! Cheers man ur a  damn life saver ."}], "tags": [], "owner": {"reputation": 6168, "user_id": 10611792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r727s.jpg?s=128&g=1", "display_name": "Drake Wu", "link": "https://stackoverflow.com/users/10611792/drake-wu"}, "is_accepted": true, "score": 1, "last_activity_date": 1574920473, "creation_date": 1574920473, "answer_id": 59082528, "question_id": 59075333, "link": "https://stackoverflow.com/questions/59075333/cant-write-1-byte-at-the-entry-point-of-a-process-dll-module/59082528#59082528", "title": "Cant write 1 byte at the entry point of a process dll module", "body": "<p>Try to use <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex\" rel=\"nofollow noreferrer\"><code>VirtualProtectEx</code></a> before <code>WriteProcessMemory</code>, to change the protection on a region of committed pages in the virtual address space of a specified process. like,</p>\n\n<pre><code>VirtualProtectEx(p, (IntPtr)WINTR_Z, dwSize, PAGE_EXECUTE_WRITECOPY, ref OldProtect)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 9781192, "user_type": "registered", "profile_image": "https://graph.facebook.com/1420966161342500/picture?type=large", "display_name": "Saad Amrani", "link": "https://stackoverflow.com/users/9781192/saad-amrani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 59082528, "answer_count": 1, "score": -1, "last_activity_date": 1574920473, "creation_date": 1574874793, "last_edit_date": 1574875885, "question_id": 59075333, "link": "https://stackoverflow.com/questions/59075333/cant-write-1-byte-at-the-entry-point-of-a-process-dll-module", "title": "Cant write 1 byte at the entry point of a process dll module", "body": "<p><strong>Hello</strong>\nso my problem is kind of weird ..\nim trying to write memory using this :</p>\n\n<pre><code>WriteProcessMemory(intptr pHandle, intptr lpBaseAddr, byte[] lpBuffer, uint nSize, int lpNbrOfBytesWritten);\n</code></pre>\n\n<p>have a process called : proc.exe \nthis process has lots of modules .</p>\n\n<p>the module thatbim intersted in called mod.dll.</p>\n\n<p>so what im trying to do here is : \nwrite the first byte of the entry point which has opcode : <strong>dec ebp</strong>   which equals D4 ithink  as a  1 byte .</p>\n\n<p>so first of all i get the process[0].modules list ...  find my mod.dll in tbat list .. get it's baseAddress then thats it .</p>\n\n<p>since  that address is the entry point addr right ?</p>\n\n<p>so then i made an array of bytes which basically hold just 1 byte : <strong>0xC3</strong> which is a <strong>ret</strong> .\nso it should be fine .\nbut sadly it returns false somehow ... and when i do it manually via <strong>olleDbg</strong>  it works fine.</p>\n\n<p>then i thought i might have made a mistake  while coding ... so i tried  writing memory at  another module  .. with diffrent address of just this time not at  right at the entry point .. was somehing like testmod.dll+4E..</p>\n\n<p>which had 5 bytes his time ..\nSo yeah i  made 1st byte as C3 and rest as NOPs or 90s ... and it worked fine .</p>\n\n<p><strong>CODE :</strong> </p>\n\n<pre><code> try\n        {\n            if ((p = mem.OpenProcess(MY_ACCESS.PROCESS_ALL_ACCESS, false, mem.GetProcess(\"proc\")[0].Id)) != IntPtr.Zero)\n            {\n                //Mod base address\n                int z       = (int)get_Mod_BaseAddr(\"proc\", \"mod.dll\");\n                string s    = Convert.ToString(z, 16);\n                int zz      = Convert.ToInt32(s, 16);\n                WINTR_Z     += zz; // wintr_z had 0x0 before\n\n                //WINTR_C\n                WINTR       += WINTR_Z; // WINTR had 0xFA... before\n\n                //STTER\n                z           = (int)get_Mod_BaseAddr(\"proc\", \"mod1.dll\");\n                s           = Convert.ToString(z, 16);\n                zz          = Convert.ToInt32(s, 16);\n                STTER       += zz; // WINTR had 0xsome_hex... before\n\n\n                byte[] _BYP_WINTR_Z = { 0xC3 }; // (does not work)the ret to override dec ebp\n                byte[] _BYP_WINTR   = { 0xC3, 0x90, 0x90, 0x90, 0x90 }; // same module (mod.dll) but diffrent address writing 5 bytes here works fine\n                byte[] _BYP_STTER   = { 0xC3, 0x90, 0x90, 0x90, 0x90 }; // diffrent module (mod1)  writing 5 bytes also works fine .\n\n\n\n                if (!mem.WriteProcessMemory(p, (IntPtr)WINTR_Z, _BYP_WINTR_Z, (uint)_BYP_WINTR_Z.Length, 0)) return false; // does not Work(false)\n                if (!mem.WriteProcessMemory(p, (IntPtr)WINTR, _BYP_WINTR, (uint)_BYP_WINTR.Length, 0)) return false; // works(true)\n                if (!mem.WriteProcessMemory(p, (IntPtr)STTER, _BYP_STTER, (uint)_BYP_STTER.Length, 0)) return false; // works(true)\n\n                return true;\n            }\n\n        }\n</code></pre>\n\n<p><strong>any help please</strong> ?</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "edited": false, "score": 0, "creation_date": 1574874976, "post_id": 59075322, "comment_id": 104388169, "body": "This is weird....I keep getting an error saying CommunityPicker does not exists"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "reply_to_user": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "edited": false, "score": 0, "creation_date": 1574875036, "post_id": 59075322, "comment_id": 104388196, "body": "try cleaning and rebuilding your solution"}, {"owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "edited": false, "score": 0, "creation_date": 1574875157, "post_id": 59075322, "comment_id": 104388253, "body": "Yup, that worked....how do I get it display the Description from my Model?"}, {"owner": {"reputation": 7657, "user_id": 10627299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1009ed8c6d700200b7517ecad9657f95?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Lu - MSFT", "link": "https://stackoverflow.com/users/10627299/leon-lu-msft"}, "reply_to_user": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "edited": false, "score": 0, "creation_date": 1574918064, "post_id": 59075322, "comment_id": 104400719, "body": "@user979331 If you have solved this issue, please mark it as answer it will help others who have similar issue.Thanks."}], "tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": false, "score": 2, "last_activity_date": 1574874750, "creation_date": 1574874750, "answer_id": 59075322, "question_id": 59075264, "link": "https://stackoverflow.com/questions/59075264/xamarin-form-picker-from-list/59075322#59075322", "title": "Xamarin.Form Picker from List", "body": "<p>You can only bind to public properties.  Either make <code>areas</code> a public property</p>\n\n<pre><code>public List&lt;AreaClass&gt; areas { get; set; }\n</code></pre>\n\n<p>or explicitly assign <code>ItemsSource</code> in the code behind</p>\n\n<pre><code>CommunityPicker.ItemsSource = webService.getAreas();\n</code></pre>\n"}], "owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574874750, "creation_date": 1574874510, "question_id": 59075264, "link": "https://stackoverflow.com/questions/59075264/xamarin-form-picker-from-list", "title": "Xamarin.Form Picker from List", "body": "<p>I am using Xamarin.Form and I have this Picker in my xaml file:</p>\n\n<pre><code>&lt;Picker Title=\"Select Communities\"\n        ItemsSource=\"{Binding areas}\"\n        ItemDisplayBinding=\"{Binding Description}\" WidthRequest=\"400\" x:Name=\"CommunityPicker\" /&gt;\n</code></pre>\n\n<p>I am trying to bind this List I have: <code>List&lt;AreaClass&gt; areas = new List&lt;AreaClass&gt;();</code></p>\n\n<p>This list gets populated via api call and I can see it has 30 items in it, however nothing appears in my picker.</p>\n\n<p>Here is my class:</p>\n\n<pre><code>public class AreaClass\n    {\n        public string Area { get; set; }\n        public string Description { get; set; }\n    }\n</code></pre>\n\n<p>and here is how its getting populated:</p>\n\n<p>In code behind:</p>\n\n<pre><code>areas = webService.getAreas();\n</code></pre>\n\n<p>And here is the getAreas method:</p>\n\n<pre><code>public List&lt;AreaClass&gt; getAreas()\n        {\n\n            List&lt;AreaClass&gt; areas = new List&lt;AreaClass&gt;();\n\n            try\n            {\n                using (connection = new SqlConnection(connection))\n                {\n                    connection.Open();\n\n                    using (SqlCommand command = new SqlCommand(\"sp\", connection))\n                    {\n                        command.CommandType = CommandType.StoredProcedure;\n\n                        using (SqlDataReader reader = command.ExecuteReader())\n                        {\n                            while (reader.Read())\n                            {\n\n                                AreaClass area = new AreaClass();\n\n                                area.Area = reader[\"Area\"].ToString();\n                                area.Description = reader[\"Description\"].ToString();\n\n                                areas.Add(area);\n                            }\n                        }\n\n\n                    }\n\n                }\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e.Message.ToString());\n            }\n            finally\n            {\n                connection.Close();\n            }\n\n            return areas;\n\n        }\n</code></pre>\n\n<p>What am I doing wrong? Why is my Picker not getting populated?</p>\n"}, {"tags": ["c#", "mailkit", "mimekit"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1574874132, "post_id": 59075092, "comment_id": 104387748, "body": "The connect has to work for you to see log file.  Most mail servers require using default credentials which are in the user mail settings on the client machine.  The From account and user account has to be the same."}], "answers": [{"tags": [], "owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "is_accepted": true, "score": 0, "last_activity_date": 1574892191, "creation_date": 1574892191, "answer_id": 59079045, "question_id": 59075092, "link": "https://stackoverflow.com/questions/59075092/mailkit-log-file-is-empty/59079045#59079045", "title": "MailKit log file is empty", "body": "<p>The ProtocolLogger doesn't log SSL/TLS negotiation information because that all happens at a lower level inside .NET's SslStream that MailKit does not have access to.</p>\n\n<p>MailKit's ProtocolLogger <em>ONLY</em> logs SMTP, POP3 and/or IMAP commands.</p>\n"}], "owner": {"reputation": 23, "user_id": 4990368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/747dcace14061792d3efb6865a17927e?s=128&d=identicon&r=PG&f=1", "display_name": "PLV", "link": "https://stackoverflow.com/users/4990368/plv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 59079045, "answer_count": 1, "score": 0, "last_activity_date": 1574892191, "creation_date": 1574873897, "question_id": 59075092, "link": "https://stackoverflow.com/questions/59075092/mailkit-log-file-is-empty", "title": "MailKit log file is empty", "body": "<p>I'm developing an application ASP.NET, using MailKit v.2.4.1, I'm trying to use ProtocolLogger, but the log file is always empty. This is the code I use:</p>\n\n<pre><code> using (SmtpClient smtp = new SmtpClient(new ProtocolLogger(Server.MapPath(\"~/Log/SMTP.log\"))))\n using (ImapClient imap = new ImapClient(new ProtocolLogger(Server.MapPath(\"~/Log/IMAP.log\"))))\n       {\n        smtp.Connect(bParametri.GetParametro(\"ServerSMTP\").Valore,int.Parse(bParametri.GetParametro(\"PortaSMTP\").Valore), true);\n                                if (smtp.IsConnected)\n                                {\n                                    smtp.Authenticate(bParametri.GetParametro(\"UserSMTP\").Valore, bParametri.GetParametro(\"PasswordSMTP\").Valore);\n                                    if (smtp.IsAuthenticated)\n                                    {\n                                        smtp.Send(emailO);\n                                        smtp.Disconnect(true);}}}\n</code></pre>\n\n<p>smtp.Connect generates an SSPI error, but the log file is always empty.</p>\n"}, {"tags": ["c#", "asp.net", "wcf", "class-library"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1574874754, "post_id": 59074988, "comment_id": 104388067, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/5493639/how-do-i-get-the-xml-soap-request-of-an-wcf-web-service-request\">How do I get the XML SOAP request of an WCF Web service request?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7167251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9192d8a884bfecd0a37e9a7f1c0d87a5?s=128&d=identicon&r=PG&f=1", "display_name": "p995", "link": "https://stackoverflow.com/users/7167251/p995"}, "edited": false, "score": 1, "creation_date": 1575224004, "post_id": 59087471, "comment_id": 104485035, "body": "Hi, Thanks for the response, above will fetch you the xml with all tags and i needed it in only xml format, so did it in blow format:var response = obj1.GetImageResponse(request);              using (var stream = new MemoryStream())             {                 var serialOg = new XmlSerializer(typeof(ImageService.GetImageResponse());                 var xtww = new XmlTextWriter(stream, new UTF8Encoding(false));                 serialOgofCartsvc.Serialize(xtww, response);                 xtww.Close();             }"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 39, "user_id": 7167251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9192d8a884bfecd0a37e9a7f1c0d87a5?s=128&d=identicon&r=PG&f=1", "display_name": "p995", "link": "https://stackoverflow.com/users/7167251/p995"}, "edited": false, "score": 0, "creation_date": 1575266499, "post_id": 59087471, "comment_id": 104494549, "body": "yes, you can serialize the results again to return data in <code>XML</code> format."}], "tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": true, "score": 1, "last_activity_date": 1574939314, "creation_date": 1574939314, "answer_id": 59087471, "question_id": 59074988, "link": "https://stackoverflow.com/questions/59074988/how-to-get-wcf-response-in-xml-format-which-is-referenced-through-service-refere/59087471#59087471", "title": "How to get wcf response in XML format which is referenced through service reference in class library project", "body": "<p>I am a little confused that why we need that primitive XML data. But we can completely get the source message, SOAP message envelops by using IClientMessageInspector.<br>\n<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.servicemodel.dispatcher.iclientmessageinspector?redirectedfrom=MSDN&amp;view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.servicemodel.dispatcher.iclientmessageinspector?redirectedfrom=MSDN&amp;view=netframework-4.8</a><br>\nHere is an example, assumed that you call the service by using a client proxy.  </p>\n\n<pre><code>public class ClientMessageLogger : IClientMessageInspector\n    {\n        public void AfterReceiveReply(ref Message reply, object correlationState)\n        {\n            Console.WriteLine(reply);\n        }\n\n        public object BeforeSendRequest(ref Message request, IClientChannel channel)\n        {\n            return null;\n        }\n    }\n    public class CustContractBehaviorAttribute : Attribute, IContractBehavior, IContractBehaviorAttribute\n    {\n        public Type TargetContract =&gt; typeof(IService);\n\n        public void AddBindingParameters(ContractDescription contractDescription, ServiceEndpoint endpoint, BindingParameterCollection bindingParameters)\n        {\n            return;\n        }\n\n        public void ApplyClientBehavior(ContractDescription contractDescription, ServiceEndpoint endpoint, ClientRuntime clientRuntime)\n        {\n            clientRuntime.ClientMessageInspectors.Add(new ClientMessageLogger());\n        }\n\n        public void ApplyDispatchBehavior(ContractDescription contractDescription, ServiceEndpoint endpoint, DispatchRuntime dispatchRuntime)\n        {\n            return;\n        }\n\n        public void Validate(ContractDescription contractDescription, ServiceEndpoint endpoint)\n        {\n            return;\n        }\n}\n</code></pre>\n\n<p>Then apply the contract behavior on the automatically generated service contract.</p>\n\n<pre><code>    [System.CodeDom.Compiler.GeneratedCodeAttribute(\"System.ServiceModel\", \"4.0.0.0\")]\n    [System.ServiceModel.ServiceContractAttribute(ConfigurationName=\"ServiceReference1.IService\")]\n    [CustContractBehavior]\npublic interface IService {\n</code></pre>\n\n<p>Result.<br>\n<a href=\"https://i.stack.imgur.com/1KMrl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1KMrl.png\" alt=\"enter image description here\"></a><br>\nFeel free to let me know if there is anything I can help with.</p>\n"}], "owner": {"reputation": 39, "user_id": 7167251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9192d8a884bfecd0a37e9a7f1c0d87a5?s=128&d=identicon&r=PG&f=1", "display_name": "p995", "link": "https://stackoverflow.com/users/7167251/p995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 59087471, "answer_count": 1, "score": 0, "last_activity_date": 1574939314, "creation_date": 1574873497, "last_edit_date": 1574873842, "question_id": 59074988, "link": "https://stackoverflow.com/questions/59074988/how-to-get-wcf-response-in-xml-format-which-is-referenced-through-service-refere", "title": "How to get wcf response in XML format which is referenced through service reference in class library project", "body": "<pre><code>// Created obj for wcf service\nServiceSummary.ImageService.ManagerServiceClient obj1 = new ServiceSummary.ImageService.ManagerServiceClient(); \n\n// Forming a request body\nvar request = new ImageService.GetImageRequest\n                {\n                    UserContextData = new ImageService.UserContextData\n                    {\n                        Country = Country.ToUpper(),\n                        Region = Region.ToUpper()\n                    },\n                };\n\n// Invoking GetImageResponse and storing result in response variable\nvar response = obj1.GetImageResponse(request);\n</code></pre>\n\n<p>The response is returned of type class - how to get the response in XML format instead?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq"], "comments": [{"owner": {"reputation": 14747, "user_id": 701560, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/tgkZ4.jpg?s=128&g=1", "display_name": "d.moncada", "link": "https://stackoverflow.com/users/701560/d-moncada"}, "edited": false, "score": 0, "creation_date": 1574873416, "post_id": 59074916, "comment_id": 104387371, "body": "what property in Dashboard represents currency?"}, {"owner": {"reputation": 13, "user_id": 12144281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340f450ba3871ac08f2cff2eb9957c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Morquecho", "link": "https://stackoverflow.com/users/12144281/morquecho"}, "reply_to_user": {"reputation": 14747, "user_id": 701560, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/tgkZ4.jpg?s=128&g=1", "display_name": "d.moncada", "link": "https://stackoverflow.com/users/701560/d-moncada"}, "edited": false, "score": 0, "creation_date": 1574873476, "post_id": 59074916, "comment_id": 104387403, "body": "RealEjecutado &lt;-- is what i want to convert"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1574873477, "post_id": 59074916, "comment_id": 104387405, "body": "<code>.ToString(&quot;C&quot;)</code> see <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/standard/base-types/&hellip;</a> Assuming that the data is numeric.  If it&#39;s stored in the DB as a string you can parse to a numeric value first."}, {"owner": {"reputation": 423, "user_id": 2249997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/GEPab.png?s=128&g=1", "display_name": "gandalf", "link": "https://stackoverflow.com/users/2249997/gandalf"}, "edited": false, "score": 0, "creation_date": 1574873583, "post_id": 59074916, "comment_id": 104387463, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/29975128/asp-net-mvc-data-annotation-for-currency-format\">ASP.NET MVC data annotation for currency format</a>"}, {"owner": {"reputation": 14747, "user_id": 701560, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/tgkZ4.jpg?s=128&g=1", "display_name": "d.moncada", "link": "https://stackoverflow.com/users/701560/d-moncada"}, "edited": false, "score": 0, "creation_date": 1574873583, "post_id": 59074916, "comment_id": 104387464, "body": "@Morquecho what type is it, a string?"}, {"owner": {"reputation": 13, "user_id": 12144281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340f450ba3871ac08f2cff2eb9957c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Morquecho", "link": "https://stackoverflow.com/users/12144281/morquecho"}, "edited": false, "score": 0, "creation_date": 1574873741, "post_id": 59074916, "comment_id": 104387550, "body": "It tells me the following: it cannot be converted from &#39;string&#39; to &#39;System.IFormatProvider&#39; ..... I guess since SQL must be int and not varchar so it can be converted?"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574874021, "post_id": 59074916, "comment_id": 104387687, "body": "@Morquecho Nope. That is the Compiler telling you &quot;dude, that code you wrote makes no sesnse&quot;. The SQL Server? You never even got close to calling it."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574874166, "post_id": 59074916, "comment_id": 104387770, "body": "You need to specifry what is happening or not happening with your code. Right now your problem is unclear."}, {"owner": {"reputation": 13, "user_id": 12144281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340f450ba3871ac08f2cff2eb9957c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Morquecho", "link": "https://stackoverflow.com/users/12144281/morquecho"}, "edited": false, "score": 0, "creation_date": 1574874334, "post_id": 59074916, "comment_id": 104387863, "body": "Check the following: No overload for the &#39;ToString&#39; method takes 1 arguments"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12144281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340f450ba3871ac08f2cff2eb9957c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Morquecho", "link": "https://stackoverflow.com/users/12144281/morquecho"}, "edited": false, "score": 0, "creation_date": 1574876656, "post_id": 59075540, "comment_id": 104388942, "body": "if it worked, only if I still specify the .Tosting (&quot;C&quot;) format I get as a result -&gt; 865,873.00 \u20ac  and what I&#39;m looking for is $865.873.00"}, {"owner": {"reputation": 561, "user_id": 2710988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2525f78d5c000accb821e634df050da8?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Barkley", "link": "https://stackoverflow.com/users/2710988/brandon-barkley"}, "reply_to_user": {"reputation": 13, "user_id": 12144281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340f450ba3871ac08f2cff2eb9957c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Morquecho", "link": "https://stackoverflow.com/users/12144281/morquecho"}, "edited": false, "score": 0, "creation_date": 1576095682, "post_id": 59075540, "comment_id": 104791640, "body": "That would be an issue related to your current culture. There should be another ToString overload where you can pass in the appropriate culture."}], "tags": [], "owner": {"reputation": 561, "user_id": 2710988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2525f78d5c000accb821e634df050da8?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Barkley", "link": "https://stackoverflow.com/users/2710988/brandon-barkley"}, "is_accepted": true, "score": 1, "last_activity_date": 1574875699, "creation_date": 1574875699, "answer_id": 59075540, "question_id": 59074916, "link": "https://stackoverflow.com/questions/59074916/convert-or-display-string-to-currency/59075540#59075540", "title": "Convert or display string to currency", "body": "<p>This is possibly not the most efficient way to accomplish this, but it should work given what you said in the question. The second select is because I believe LinqToEntities will complain about the function usages. This will try to parse the value to Decimal. If successful, it will then use the currency string converter. If it fails, it will just use the bare value of RealEjecutado.</p>\n\n<pre><code>using (Web_INCAEntities dc = new Web_INCAEntities())\n{\n    var v = (from a in dc.TBL_PBI\n             select new Dashboard\n             {\n                 id = a.id,\n                 RealEjecutado =  a.RealEjecutado,\n                 PlanVigente =  a.PlanVigente,\n                 Reprogramacion =  a.Reprogramacion\n             });\n    list = v.ToList().Select(x =&gt; new Dashboard\n             {\n                 id = x.id,\n                 RealEjecutado =  Decimal.TryParse(x.RealEjecutado, out decimal i) ? i.ToString(\"C\") : x.RealEjecutado,\n                 PlanVigente =  x.PlanVigente,\n                 Reprogramacion =  x.Reprogramacion\n             }).ToList();     \n}\n\nreturn View(\"../Dashboard/PontoHorizonte/Graficas\", list);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1574876753, "creation_date": 1574876753, "answer_id": 59075796, "question_id": 59074916, "link": "https://stackoverflow.com/questions/59074916/convert-or-display-string-to-currency/59075796#59075796", "title": "Convert or display string to currency", "body": "<pre><code>public static string DecimalToFormattedStringCurrency(decimal? decimalValue, string decimalFormatter = null)\n        {\n            if (String.IsNullOrWhiteSpace(decimalFormatter))\n            {\n                decimalFormatter = \"{0:C0}\";\n            }\n\n            return decimalValue.HasValue ? String.Format(decimalFormatter, decimalValue) : null;\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12447201"}, "is_accepted": false, "score": 2, "last_activity_date": 1574878893, "last_edit_date": 1574878893, "creation_date": 1574877267, "answer_id": 59075929, "question_id": 59074916, "link": "https://stackoverflow.com/questions/59074916/convert-or-display-string-to-currency/59075929#59075929", "title": "Convert or display string to currency", "body": "<p>Building off of Brandon's answer, you can do </p>\n\n<pre><code>i.ToString(\"C\", CultureInfo.CreateSpecificCulture(\"en-US\"))\n</code></pre>\n\n<p>to get the dollar format like so</p>\n\n<pre><code>using (Web_INCAEntities dc = new Web_INCAEntities())\n{\n    var v = (from a in dc.TBL_PBI\n             select new Dashboard\n             {\n                 id = a.id,\n                 RealEjecutado =  a.RealEjecutado,\n                 PlanVigente =  a.PlanVigente,\n                 Reprogramacion =  a.Reprogramacion\n             });\n    list = v.ToList().Select(x =&gt; new Dashboard\n             {\n                 id = x.id,\n                 RealEjecutado =  Decimal.TryParse(x.RealEjecutado, out decimal i) ? i.ToString(\"C\", CultureInfo.CreateSpecificCulture(\"en-US\")) : x.RealEjecutado,\n                 PlanVigente =  x.PlanVigente,\n                 Reprogramacion =  x.Reprogramacion\n             }).ToList();     \n}\n\nreturn View(\"../Dashboard/PontoHorizonte/Graficas\", list);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12144281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340f450ba3871ac08f2cff2eb9957c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Morquecho", "link": "https://stackoverflow.com/users/12144281/morquecho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 59075540, "answer_count": 3, "score": 1, "last_activity_date": 1574878893, "creation_date": 1574873240, "last_edit_date": 1574874223, "question_id": 59074916, "link": "https://stackoverflow.com/questions/59074916/convert-or-display-string-to-currency", "title": "Convert or display string to currency", "body": "<p>I am working with C# and Linq and what I intend is to show a series of data that I add to a list with the currency format.</p>\n\n<p>Data in SQL Server (RealEjecutado &lt;-- is what i want to convert)</p>\n\n<pre><code>100000.00\n</code></pre>\n\n<p>I want it to be displayed like this:</p>\n\n<pre><code>$100,000.00\n</code></pre>\n\n<p>My code</p>\n\n<pre><code>List&lt;Dashboard&gt; list = new List&lt;Dashboard&gt;();\n\nusing (Web_INCAEntities dc = new Web_INCAEntities())\n{\n        var v = (from a in dc.TBL_PBI\n                 select new Dashboard\n                 {\n                     id = a.id,\n                     RealEjecutado =  a.RealEjecutado,\n                     PlanVigente =  a.PlanVigente,\n                     Reprogramacion =  a.Reprogramacion\n                 });\n        list = v.ToList();\n    }\n\n    return View(\"../Dashboard/PontoHorizonte/Graficas\", list);\n</code></pre>\n\n<p>Markup:</p>\n\n<pre><code>@grid.GetHtml(\ntableStyle: \"fl-table\",\nhtmlAttributes: new { id = \"tablaadmin\" },\n    columns: grid.Columns(\n                grid.Column(header: \"Real Ejecutado\", format: @&lt;text&gt;&lt;div class=\"\" data-id=\"@item.id\" data-propertyname=\"RealEjecutado\" id=\"\" &gt;&lt;p id=\"userinput\"&gt;@item.RealEjecutado&lt;/p&gt;&lt;/div&gt;&lt;/text&gt;),\n                grid.Column(header: \"Plan Vigente\", format:@&lt;text&gt;&lt;div class=\"\" data-id=\"@item.id\" data-propertyname=\"PlanVigente\"&gt;@item.PlanVigente&lt;/div&gt;&lt;/text&gt;),\n                grid.Column(header: \"Proyecci\u00f3n INCA\", format:@&lt;text&gt;&lt;div class=\"\" data-id=\"@item.id\" data-propertyname=\"Reprogramacion\"&gt;@item.Reprogramacion&lt;/div&gt;&lt;/text&gt;)\n                )\n                )\n</code></pre>\n\n<p>I have not found on the web something that works for me, that is why I ask your help to solve this, thanks in advance</p>\n"}, {"tags": ["c#", "while-loop", "messagebox"], "comments": [{"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1574873279, "post_id": 59074833, "comment_id": 104387288, "body": "What is the code of pos()? Is that an asynchronous method? What did you try to locate in documentation?"}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 1, "creation_date": 1574873317, "post_id": 59074833, "comment_id": 104387312, "body": "Without knowing anything about <code>pos</code>, we can&#39;t really say anything. Apparently, it is an asynchronous call. Is there a return value (or an overload that notifies you if the position is reached)? How is the position update designed? Apparently, it runs on the same thread as your <code>while</code>. So, the <code>while</code> is just blocking that update. Again, without knowing anything about the library, it is impossible to tell something helpful."}, {"owner": {"reputation": 772, "user_id": 4968222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-qmiGUb-IyGQ/AAAAAAAAAAI/AAAAAAAACbE/bw99wODIdns/photo.jpg?sz=128", "display_name": "Thomas Klammer", "link": "https://stackoverflow.com/users/4968222/thomas-klammer"}, "edited": false, "score": 0, "creation_date": 1574874317, "post_id": 59074833, "comment_id": 104387852, "body": "please provide the code of pos()"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 6219070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96758ab08ee7d8f2828f656590d894b6?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeS", "link": "https://stackoverflow.com/users/6219070/maximes"}, "edited": false, "score": 0, "creation_date": 1574934828, "post_id": 59074936, "comment_id": 104407625, "body": "Thank you very much for your explanations ! Simply adding <code>Application.DoEvents()</code> actually worked ! I will go for @Idle_Mind solution because it makes the code easier to read, but thank you very much for taking the time to explain me what was happening and for offering a solution."}], "tags": [], "owner": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "is_accepted": false, "score": -1, "last_activity_date": 1574876721, "last_edit_date": 1574876721, "creation_date": 1574873309, "answer_id": 59074936, "question_id": 59074833, "link": "https://stackoverflow.com/questions/59074833/messagebox-and-while-loop-c/59074936#59074936", "title": "MessageBox and while loop C#", "body": "<p>I believe what you'll want to do is add a call to:</p>\n\n<pre><code>Application.DoEvents();\n</code></pre>\n\n<p>This will allow your application to process posted messages (events), which will allow that global variable to be updated.</p>\n\n<blockquote>\n  <p>I just wanted to know why the MessageBox allowed me to sort of achieve my objectif, but the while loop did not, and how to use it in my advantage here.</p>\n</blockquote>\n\n<p>The reason that works is because you're giving the WndProc a chance to process events which have been sent to the application. It's not an intended feature of that call to <code>MessageBox.Show();</code>, but it is a consequence. You can do the same thing with a call to <code>Application.DoEvents();</code> without the interruption of the message box.</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 6219070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96758ab08ee7d8f2828f656590d894b6?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeS", "link": "https://stackoverflow.com/users/6219070/maximes"}, "edited": false, "score": 0, "creation_date": 1574935027, "post_id": 59075120, "comment_id": 104407749, "body": "Thank you for your answer Timothy ! If I understand what is happening is your code, I can&#39;t seem to be able to properly implement it (very limited skill here, sorry). The fact that I don&#39;t understand much of what is happening here (especially all the events and where they are called), does not help."}, {"owner": {"reputation": 79, "user_id": 6219070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96758ab08ee7d8f2828f656590d894b6?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeS", "link": "https://stackoverflow.com/users/6219070/maximes"}, "edited": false, "score": 0, "creation_date": 1575025944, "post_id": 59075120, "comment_id": 104439355, "body": "Thank you very much for your inputs on my problem. I have been looking for the doc, but even the machine manufacturer did not have it so I did not try too hard to look for it online. I&#39;m sure this is going to be helpful, and I&#39;ll follow your advice and try to stick with  sync commands as much as possible!"}], "tags": [], "owner": {"reputation": 957, "user_id": 3368572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5v1T3.jpg?s=128&g=1", "display_name": "Timothy Jannace", "link": "https://stackoverflow.com/users/3368572/timothy-jannace"}, "is_accepted": false, "score": 1, "last_activity_date": 1574963208, "last_edit_date": 1574963208, "creation_date": 1574873973, "answer_id": 59075120, "question_id": 59074833, "link": "https://stackoverflow.com/questions/59074833/messagebox-and-while-loop-c/59075120#59075120", "title": "MessageBox and while loop C#", "body": "<p>If you're using events you are probably having concurrency issues. Especially with events being raised every 30ms!</p>\n\n<p>A very simple way to handle concurrency is to use a lock object to prevent different threads from using contested resources simultaneously:</p>\n\n<pre><code>class MyEventHandler\n{\n    private object _lockObject;\n\n    MyEventHandler()\n    {\n        _lockObject = new object();\n    }\n\n    public int MyContestedResource { get; }\n\n    public void HandleEvent( object sender, MyEvent event )\n    {\n        lock ( _lockObject )\n        {\n            // do stuff with event here\n            MyContestedResource++;\n        }\n    }\n}\n</code></pre>\n\n<p>Keep in mind that is very simple and by no means perfect in every scenario. If you provide more information about how the events are raised and what you're doing with them people will be able to provide more help.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Using that signature you posted for the Pos method I was able to find documentation on the library you are using: <a href=\"https://www.academia.edu/24938060/Do_PE\" rel=\"nofollow noreferrer\">https://www.academia.edu/24938060/Do_PE</a></p>\n\n<p>The reason you only see the method signature when you goto definition is because the library has been compiled into a dll. Actually, it probably wouldn't be that useful to see the code anyway because it looks like the library is a C# wrapper around native (c or c++) code.</p>\n\n<p>Anyways, I hope the documentation is helpful to you. If you look at page 20 there are some pointers on doing movement. This is going to be a challenge for a new programmer but you can do it. I would suggest you avoid using the event handler to drive your logic and instead stick with using the <em>synchronous</em> versions of commands. Using the synchronous commands your code should operate the same way it reads.</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 6219070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96758ab08ee7d8f2828f656590d894b6?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeS", "link": "https://stackoverflow.com/users/6219070/maximes"}, "edited": false, "score": 0, "creation_date": 1574934671, "post_id": 59076526, "comment_id": 104407544, "body": "Thank you for your answer ! It works like a charm ! (good catch on the EXACT value). I learnt a lot, and I am sure the async/await combo is going to be very usefull in the future !"}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "reply_to_user": {"reputation": 79, "user_id": 6219070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96758ab08ee7d8f2828f656590d894b6?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeS", "link": "https://stackoverflow.com/users/6219070/maximes"}, "edited": false, "score": 0, "creation_date": 1574961856, "post_id": 59076526, "comment_id": 104421674, "body": "Does the piston report its position via the event <b>all of the time</b>, or does it only report in response to a <code>pos()</code> call and then only until it has stopped moving?"}, {"owner": {"reputation": 79, "user_id": 6219070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96758ab08ee7d8f2828f656590d894b6?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeS", "link": "https://stackoverflow.com/users/6219070/maximes"}, "edited": false, "score": 0, "creation_date": 1575025684, "post_id": 59076526, "comment_id": 104439224, "body": "Thank you so much for your edit, I&#39;ll implement it still today!"}], "tags": [], "owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "is_accepted": true, "score": 1, "last_activity_date": 1574957036, "last_edit_date": 1574957036, "creation_date": 1574879517, "answer_id": 59076526, "question_id": 59074833, "link": "https://stackoverflow.com/questions/59074833/messagebox-and-while-loop-c/59076526#59076526", "title": "MessageBox and while loop C#", "body": "<blockquote>\n  <p>I tried to use a while loop to compare the current position of the\n  piston with the goal destination, however, upon entering the while\n  loop, the variable storing the piston position does not update\n  anymore.</p>\n</blockquote>\n\n<p>While you are in the <code>while</code> loop, your app can no longer receive and process the feedback <strong>event</strong>.</p>\n\n<p>One possible solution would be to use <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/async\" rel=\"nofollow noreferrer\">async</a>/<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/await\" rel=\"nofollow noreferrer\">await</a> like this:</p>\n\n<pre><code>private const int fullSpeed = 1;\nprivate const int reducedSpeed = 2;\n\nprivate int currentPistonPositon = 0; // global var updated by event as you described\n\nprivate async void button1_Click(object sender, EventArgs e)\n{\n    int B = 50;\n    int C = 75;\n\n    pos(fullSpeed, B);\n\n    await Task.Run(() =&gt;\n        {   // pick one below?\n\n            // assumes that \"B\" and \"currentPistonPosition\" can actually be EXACTLY the same value\n            while (currentPistonPositon != B) \n            {\n                System.Threading.Thread.Sleep(25);\n            }\n\n            // if this isn't the case, then  perhaps when it reaches a certain threshold distance?\n            while (Math.Abs(currentPistonPositon - B) &gt; 0.10)\n            {\n                System.Threading.Thread.Sleep(25);\n            }\n        });\n\n    pos(reducedSpeed, C);\n}\n</code></pre>\n\n<p>Note the <code>button1_Click</code> method signature has been marked with <code>async</code>.  The code will wait for the while loop inside the task to complete while still processing <strong>event</strong> messages because of the <code>await</code>.  Only then will it move on to the second <code>pos()</code> call.</p>\n\n<blockquote>\n  <p>Thank you for your answer ! It works like a charm ! (good catch on the\n  EXACT value). I learnt a lot, and I am sure the async/await combo is\n  going to be very usefull in the future ! \u2013 MaximeS</p>\n</blockquote>\n\n<p>If that worked well, then you might want to consider refactoring the code and making your own \"goto position\" method like this:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    int B = 50;\n    int C = 75;\n\n    GotoPosition(fullSpeed, B);\n    GotoPosition(reducedSpeed, C);\n}\n\nprivate async void GotoPosition(int speed, int position)\n{\n    pos(speed, position);\n\n    await Task.Run(() =&gt;\n    {\n        while (Math.Abs(currentPistonPositon - position) &gt; 0.10)\n        {\n            System.Threading.Thread.Sleep(25);\n        }\n    });\n}\n</code></pre>\n\n<p>Readability would be greatly improved.</p>\n\n<p>You could even get fancier and introduce a <strong>timeout</strong> concept into the while loop.  Now your code could do something like below:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    int B = 50;\n    int C = 75;\n\n    if (GotoPosition(fullSpeed, B, TimeSpan.FromMilliseconds(750)).Result)\n    {\n        if (GotoPosition(reducedSpeed, C, TimeSpan.FromMilliseconds(1500)).Result)\n        {\n            // ... we successfully went to B at fullSpeed, then to C at reducedSpeed ...\n        }\n        else\n        {\n            MessageBox.Show(\"Piston Timed Out\");\n        }\n    }\n    else\n    {\n        MessageBox.Show(\"Piston Timed Out\");\n    }\n\n}\n\nprivate async Task&lt;bool&gt; GotoPosition(int speed, int position, TimeSpan timeOut)\n{\n    pos(speed, position); // call the async API\n\n    // wait for the position to be reached, or the timeout to occur\n    bool success = true; // assume we have succeeded until proven otherwise\n    DateTime dt = DateTime.Now.Add(timeOut); // set our timeout DateTime in the future\n    await Task.Run(() =&gt;\n    {\n        System.Threading.Thread.Sleep(50); // give the piston a chance to update maybe once before checking?\n        while (Math.Abs(currentPistonPositon - position) &gt; 0.10) // see if the piston has reached our target position\n        {\n            if (DateTime.Now &gt; dt) // did we move past our timeout DateTime?\n            {\n                success = false;\n                break;\n            }\n            System.Threading.Thread.Sleep(25); // very small sleep to reduce CPU usage\n        }\n    });\n    return success;\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6219070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96758ab08ee7d8f2828f656590d894b6?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeS", "link": "https://stackoverflow.com/users/6219070/maximes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 59076526, "answer_count": 3, "score": 0, "last_activity_date": 1574963208, "creation_date": 1574872915, "last_edit_date": 1574876225, "question_id": 59074833, "link": "https://stackoverflow.com/questions/59074833/messagebox-and-while-loop-c", "title": "MessageBox and while loop C#", "body": "<p>I'm modifying existing C# code in order to pilote a piston. Every 30ms, I have a direct feedback of the position of this piston, through an event. The value is stored in a global variable I use to get the current position of the piston.</p>\n\n<p>What I'm trying to achieve: for a given distance input (A->C), I want the piston to travel at full speed for 95% of the distance (A->B), and then slower for the remaining 5% (B->C).</p>\n\n<p>I have access to a command that defines the speed and the destination of the piston : pos(velocity, destination).</p>\n\n<p>However, if I write that code:</p>\n\n<pre><code>pos(fullSpeed,B);\npos(reducedSpeed, C);\n</code></pre>\n\n<p>the piston directly goes from fullSpeed to reducedSpeed</p>\n\n<p>I tried to use a while loop to compare the current position of the piston with the goal destination, however, upon entering the while loop, the variable storing the piston position does not update anymore. </p>\n\n<p>However, I noticed that by throwing a MessageBox in between, the position value keeps on getting updated, and I can simply click \"ok\" to launch the second command.</p>\n\n<pre><code>pos(fullSpeed,B);\nMessageBox.show(\"Wait\");\npos(reducedSpeed, C);\n</code></pre>\n\n<p>I would like to know why the \"while\" loop stops the update of the position variable but the MessageBox does not. I mean, as long as I don't click the \"ok\" button, the box is here preventing me from doing anything, which for me ressembles a while loop behaviour. Is there another way for me to do this instead of the MessageBox ?</p>\n\n<p>I have little to no knowledge when it comes to C# and no support. I have tried to look in the documentation, but I did not find an answer (I have probably missed it). Any lead is more than welcome.</p>\n\n<p><strong>EDIT</strong>: I have no documentation for that code, and it is barely commented. Here is what I gathered (really hope it helps):</p>\n\n<p>To move the piston, taht function is called:</p>\n\n<pre><code>MyEdc.Move.Pos(control, speed, destination, ref MyTan);\n</code></pre>\n\n<p>control simply define what we pilote (a distance or a load, it is an enum), and I have no idea what MyTan does. Only thing I know is that the MyEdc.Move.Pos returns an error code.</p>\n\n<p>If I look at the definition of \"pos\", I am redirected to class</p>\n\n<pre><code>public DoPEmove Move;\n</code></pre>\n\n<p>containing among other things:</p>\n\n<pre><code>public DoPE.ERR Pos(DoPE.CTRL MoveCtrl, double Speed, double Destination, ref short Tan);\n</code></pre>\n\n<p>DoPE.ERR is also an type enum. However, I cannot reach the definition of a function named \"Pos\". Coud it be within the .dll included ?</p>\n\n<p>The following is the code that allows me to access the position of the piston (without the global variables):</p>\n\n<pre><code>private int OnData(ref DoPE.OnData Data, object Parameter)\n    {\n      if (Data.DoPError == DoPE.ERR.NOERROR)\n      {\n        DoPE.Data Sample = Data.Data;\n        Int32 Time = Environment.TickCount;\n        if ((Time - LastTime) &gt;= 300 /*ms*/)\n        {\n          LastTime = Time;\n          string text;\n          text = String.Format(\"{0}\", Sample.Time.ToString(\"0.000\"));\n          guiTime.Text = text;\n          text = String.Format(\"{0}\", Sample.Sensor[(int)DoPE.SENSOR.SENSOR_S].ToString(\"0.000\"));\n          guiPosition.Text = text;\n          text = String.Format(\"{0}\", Sample.Sensor[(int)DoPE.SENSOR.SENSOR_F].ToString(\"0.000\"));\n          guiLoad.Text = text;\n          text = String.Format(\"{0}\", Sample.Sensor[(int)DoPE.SENSOR.SENSOR_E].ToString(\"0.000\"));\n          guiExtension.Text = text;\n        }\n      }\n      return 0;\n    }\n</code></pre>\n\n<p>Which is called using</p>\n\n<pre><code>MyEdc.Eh.OnDataHdlr += new DoPE.OnDataHdlr(OnData);\n</code></pre>\n\n<p>I realise how little I know on how the soft operates, and how frustrating this is for you. If you think this is a lost cause, no problem, I'll try Timothy Jannace solution, and if it does not help me, I'll stick with the MessageBox solution. I just wanted to know why the MessageBox allowed me to sort of achieve my objectif, but the while loop did not, and how to use it in my advantage here. </p>\n"}, {"tags": ["c#", ".net", ".net-core", "azure-functions"], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 6664433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZUlAb.jpg?s=128&g=1", "display_name": "Ivan Martinyuk", "link": "https://stackoverflow.com/users/6664433/ivan-martinyuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1574873513, "creation_date": 1574873513, "answer_id": 59074998, "question_id": 59074815, "link": "https://stackoverflow.com/questions/59074815/azure-functions-queuetrigger-with-variable-name-queuetriggerattribute-restricti/59074998#59074998", "title": "Azure Functions QueueTrigger with variable name, QueueTriggerAttribute restrictions", "body": "<p>As i remember attribute <strong>QueueTrigger</strong> accept only const string, so you can try make some tricks using environment variables like in post <a href=\"https://stackoverflow.com/questions/50148862/is-there-a-way-to-dynamically-determine-the-amount-and-names-of-queues-triggered\">how to pass dynamic queue name</a></p>\n"}, {"comments": [{"owner": {"reputation": 5475, "user_id": 265165, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/96ccb09c24ac7eca20a64e350bd414c4?s=128&d=identicon&r=PG", "display_name": "thmshd", "link": "https://stackoverflow.com/users/265165/thmshd"}, "edited": false, "score": 0, "creation_date": 1601623047, "post_id": 62772961, "comment_id": 113469297, "body": "Thanks for your contribution, I understand there is that option. I want the classes I write to be more flexible though, and having &quot;queue-name-variable&quot; always map to one specific other value (per environment) isn&#39;t very helpful. And the problem with the <code>INameResolver</code> is, that it doesn&#39;t provide any context of resolution, so within method <code>Resolve (string name)</code> you don&#39;t have much to decide upon."}], "tags": [], "owner": {"reputation": 63, "user_id": 12030613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1a834760f12994455852c16fc8b8aa9?s=128&d=identicon&r=PG&f=1", "display_name": "unie", "link": "https://stackoverflow.com/users/12030613/unie"}, "is_accepted": false, "score": 1, "last_activity_date": 1594116883, "creation_date": 1594116883, "answer_id": 62772961, "question_id": 59074815, "link": "https://stackoverflow.com/questions/59074815/azure-functions-queuetrigger-with-variable-name-queuetriggerattribute-restricti/62772961#62772961", "title": "Azure Functions QueueTrigger with variable name, QueueTriggerAttribute restrictions", "body": "<p>See <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-expressions-patterns\" rel=\"nofollow noreferrer\">binding expressions</a>:</p>\n<p>In short, you can pass in a variable queue name as &quot;%queue-name-variable%&quot;</p>\n<pre><code>[FunctionName(&quot;QueueTrigger&quot;)]\npublic static void Run(\n    [QueueTrigger(&quot;%queue-name-variable%&quot;)]string myQueueItem, \n    ILogger log)\n{\n    log.LogInformation($&quot;C# Queue trigger function processed: {myQueueItem}&quot;);\n}\n</code></pre>\n<p>Where <strong>input-queue-name</strong> is defined in your configuration like</p>\n<pre><code>{&quot;queue-name-variable&quot;: &quot;queue-name-in-current-env&quot;}\n</code></pre>\n"}], "owner": {"reputation": 5475, "user_id": 265165, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/96ccb09c24ac7eca20a64e350bd414c4?s=128&d=identicon&r=PG", "display_name": "thmshd", "link": "https://stackoverflow.com/users/265165/thmshd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1594116883, "creation_date": 1574872842, "question_id": 59074815, "link": "https://stackoverflow.com/questions/59074815/azure-functions-queuetrigger-with-variable-name-queuetriggerattribute-restricti", "title": "Azure Functions QueueTrigger with variable name, QueueTriggerAttribute restrictions", "body": "<p>Assume the following typical <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-queue#trigger---c-example\" rel=\"nofollow noreferrer\">Queue Trigger</a> function:</p>\n\n<pre><code>public void Run([QueueTrigger(\"queue1\")]object data, ILogger log)\n{\n    // Do something with data\n}\n</code></pre>\n\n<p>My problem is that <code>\"queue1\"</code> has to be a constant field, so it has to be defined at compile time.\nAlso, I'd want to have a base class for Queue Triggers, that could work like this:</p>\n\n<pre><code>public abstract class QueueBase&lt;TModel&gt;\n{\n    public void Run([QueueTrigger(\"queueName\")]TModel data, ILogger log)\n    {\n        // Do something with data, log something etc.\n        OnRunExecuted(data);\n        // Do something with data, log something etc.\n    }\n\n    public abstract void OnRunExecuted(TModel data);\n}\n</code></pre>\n\n<p>with this, I could write own classes which inherit from <code>QueueBase</code> but can even live inside a library which doesn't have <code>Microsoft.Azure.WebJobs</code> dependency:</p>\n\n<pre><code>public class MyQueueHandler : QueueBase&lt;MyModel&gt;\n{\n    public void OnRunExecuted(MyModel data) =&gt; ...;\n}\n</code></pre>\n\n<p>But it's impossible to pass in a Queue name... is it?</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6", "ef-code-first"], "comments": [{"owner": {"reputation": 101, "user_id": 12369573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fe86ae5cc0db3b6c920eb6a378feb8?s=128&d=identicon&r=PG&f=1", "display_name": "Blaise", "link": "https://stackoverflow.com/users/12369573/blaise"}, "edited": false, "score": 1, "creation_date": 1574876694, "post_id": 59074795, "comment_id": 104388961, "body": "I believe you should be able to update your OnDelete action in the Context, then add a new migration and run it. Let EF do the work of creating the migration properly. See the answer here for how to define that: <a href=\"https://stackoverflow.com/questions/17487577/entity-framework-ef-code-first-cascade-delete-for-one-to-zero-or-one-relations\" title=\"entity framework ef code first cascade delete for one to zero or one relations\">stackoverflow.com/questions/17487577/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 6340338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/087a24358543f96410ccae489eaa77fb?s=128&d=identicon&r=PG&f=1", "display_name": "Abdoulrhman RIF", "link": "https://stackoverflow.com/users/6340338/abdoulrhman-rif"}, "reply_to_user": {"reputation": 101, "user_id": 12369573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fe86ae5cc0db3b6c920eb6a378feb8?s=128&d=identicon&r=PG&f=1", "display_name": "Blaise", "link": "https://stackoverflow.com/users/12369573/blaise"}, "edited": false, "score": 0, "creation_date": 1574887143, "post_id": 59074795, "comment_id": 104393298, "body": "Honestly, Thank you so much, I don&#39;t get this part &quot;you should be able to update your OnDelete action in the Context&quot;, but I followed the link and that helped a lot."}], "owner": {"reputation": 23, "user_id": 6340338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/087a24358543f96410ccae489eaa77fb?s=128&d=identicon&r=PG&f=1", "display_name": "Abdoulrhman RIF", "link": "https://stackoverflow.com/users/6340338/abdoulrhman-rif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574873179, "creation_date": 1574872794, "last_edit_date": 1574873179, "question_id": 59074795, "link": "https://stackoverflow.com/questions/59074795/alter-foreign-key-constraints-after-applying-the-migration-entity-framework-code", "title": "Alter foreign key constraints after applying the migration Entity Framework code first", "body": "<p>I need to add a \"cascade delete\" constraint to a foreign key.</p>\n\n<p>The migration for creating the foreign key is the last.</p>\n\n<pre><code>CreateTable(\n   \"dbo.DependentTable\",\n   c =&gt; new\n   {\n       ID = c.Int(nullable: false),\n       SomeValue = c.Double(nullable: false),\n   })\n   .PrimaryKey(t =&gt; t.ID)\n   .ForeignKey(\"dbo.IndependentTable\", t =&gt; t.IndependentTableId)\n   .Index(t =&gt; t.ID);\n</code></pre>\n\n<p>I just need to alter this line and re 'update-database'.</p>\n\n<pre><code>.ForeignKey(\"dbo.IndependentTable\", t =&gt; t.IndependentTableId, cascadeDelete: true)\n</code></pre>\n\n<p>What I tried to do:</p>\n\n<ol>\n<li><p>Comment code in <code>Down()</code> method to avoid losing the table and the data inside it.</p>\n\n<ul>\n<li>roll-back to previous migration.</li>\n<li>alter the line.</li>\n<li>run <code>update-database</code></li>\n</ul>\n\n<p>but I keep getting an error </p>\n\n<blockquote>\n  <p>There is already an object named 'dbo.DependentTable'</p>\n</blockquote></li>\n<li><p>Generate New migration with <code>-IgnoreChanges</code></p>\n\n<ul>\n<li><p>Call these methods:</p>\n\n<pre><code>DropForeignKey(\"dbo.DependentTable\", \"ID\");\nAddForeignKey(\"dbo.DependentTable\",\"ID\",\"IndependentTable\",cascadeDelete: true)\n</code></pre></li>\n<li><p>Run <code>Update-database</code></p></li>\n</ul>\n\n<p>That also resulted in an error </p>\n\n<blockquote>\n  <p>There is already an object named 'FK_dbo.DependentTable_dbo.IndependentTable_Id' in the database. Could not create constraint or index. See previous errors.</p>\n</blockquote></li>\n</ol>\n\n<p>Is there a way to add cascade delete to the foreign key without losing any data?</p>\n"}, {"tags": ["c#", "wpf", "string", "xaml", "listbox"], "comments": [{"owner": {"reputation": 749, "user_id": 12258072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6TiUvricWRs/AAAAAAAAAAI/AAAAAAAAAA4/TW-MiZYzbhY/photo.jpg?sz=128", "display_name": "Longoon12000", "link": "https://stackoverflow.com/users/12258072/longoon12000"}, "edited": false, "score": 1, "creation_date": 1574872969, "post_id": 59074777, "comment_id": 104387137, "body": "<code>I assume this is because the event handler is only attached to the single item that&#39;s on the list in the beginning</code> - are you using listbox <code>SelectionChanged</code> event? Then that would not be the case."}, {"owner": {"reputation": 121, "user_id": 11225433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a389e3adea39ad9062b4baa45850521?s=128&d=identicon&r=PG&f=1", "display_name": "Rhyme", "link": "https://stackoverflow.com/users/11225433/rhyme"}, "reply_to_user": {"reputation": 749, "user_id": 12258072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6TiUvricWRs/AAAAAAAAAAI/AAAAAAAAAA4/TW-MiZYzbhY/photo.jpg?sz=128", "display_name": "Longoon12000", "link": "https://stackoverflow.com/users/12258072/longoon12000"}, "edited": false, "score": 0, "creation_date": 1574875717, "post_id": 59074777, "comment_id": 104388505, "body": "Using it did solve both problems, thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 256, "user_id": 5065750, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/J5Gl2.png?s=128&g=1", "display_name": "Alexus", "link": "https://stackoverflow.com/users/5065750/alexus"}, "is_accepted": true, "score": 1, "last_activity_date": 1574873385, "creation_date": 1574873385, "answer_id": 59074958, "question_id": 59074777, "link": "https://stackoverflow.com/questions/59074777/getting-a-string-from-a-listbox-item-added-during-runtime/59074958#59074958", "title": "Getting a string from a listbox item added during runtime", "body": "<p>You can try this, you can test the selection of an element in your listbox :</p>\n\n<pre><code> private void youListBox_SelectionChanged(object sender, SelectionChangedEventArgs e)\n {\n     if(yourListBox.SelectedItem != null)\n     {\n        ....\n     }\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 866, "user_id": 2688108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pH3rG.jpg?s=128&g=1", "display_name": "DrkDeveloper", "link": "https://stackoverflow.com/users/2688108/drkdeveloper"}, "edited": false, "score": 2, "creation_date": 1574875416, "post_id": 59075155, "comment_id": 104388366, "body": "even easier. SelectionChangedEventArgs store a lot of properties that let you don&#39;t need to call listbox reference."}, {"owner": {"reputation": 121, "user_id": 11225433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a389e3adea39ad9062b4baa45850521?s=128&d=identicon&r=PG&f=1", "display_name": "Rhyme", "link": "https://stackoverflow.com/users/11225433/rhyme"}, "edited": false, "score": 0, "creation_date": 1574875887, "post_id": 59075155, "comment_id": 104388598, "body": "I could only select one answer and the other one included code that deals with no selection (which as it turned out I needed as well), but this answer was a great help too, thanks!"}], "tags": [], "owner": {"reputation": 772, "user_id": 4968222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-qmiGUb-IyGQ/AAAAAAAAAAI/AAAAAAAACbE/bw99wODIdns/photo.jpg?sz=128", "display_name": "Thomas Klammer", "link": "https://stackoverflow.com/users/4968222/thomas-klammer"}, "is_accepted": false, "score": 1, "last_activity_date": 1574874143, "creation_date": 1574874143, "answer_id": 59075155, "question_id": 59074777, "link": "https://stackoverflow.com/questions/59074777/getting-a-string-from-a-listbox-item-added-during-runtime/59075155#59075155", "title": "Getting a string from a listbox item added during runtime", "body": "<p>You should listen to the <code>SelectionChanged</code> event. See below</p>\n\n<pre><code>        public MainWindow()\n        {\n            InitializeComponent();\n\n            ListBox.Items.Add(\"Word1\");\n            ListBox.Items.Add(\"Word2\");\n            ListBox.Items.Add(\"Word3\");\n            ListBox.Items.Add(\"Word4\");\n\n            ListBox.SelectionChanged += ListBox_SelectionChanged;\n        }\n\n        private void ListBox_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            var listBoxValue = ListBox.SelectedValue.ToString();\n            Console.WriteLine(listBoxValue);\n        }\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 11225433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a389e3adea39ad9062b4baa45850521?s=128&d=identicon&r=PG&f=1", "display_name": "Rhyme", "link": "https://stackoverflow.com/users/11225433/rhyme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1574877158, "accepted_answer_id": 59074958, "answer_count": 2, "score": 0, "last_activity_date": 1574877120, "creation_date": 1574872726, "last_edit_date": 1574877120, "question_id": 59074777, "link": "https://stackoverflow.com/questions/59074777/getting-a-string-from-a-listbox-item-added-during-runtime", "closed_reason": "Duplicate", "title": "Getting a string from a listbox item added during runtime", "body": "<p>I have a listbox with one item on it, it can then get replaced by several items (words) taken from the text inputted in a textbox. They're added with <code>listbox.Items.Add(word)</code>.\nI want to be able to convert those words from the listbox back into strings as they are selected (so I can do other stuff with them) but I have encountered two problems that I'm not sure how to deal with:</p>\n\n<ol>\n<li>When the original item is selected I get an exception:</li>\n</ol>\n\n<blockquote>\n  <p>System.NullReferenceException: 'Object reference not set to an\n  instance of an object.'</p>\n</blockquote>\n\n<p>when using <code>string s = ((ListBoxItem)listbox.SelectedItem).Content.ToString();</code> </p>\n\n<p>and</p>\n\n<blockquote>\n  <p>\"System.NullReferenceException: 'Object reference not set to an\n  instance of an object.'</p>\n  \n  <p>System.Windows.Controls.Primitives.Selector.SelectedValue.get returned\n  null.\"</p>\n</blockquote>\n\n<p>when using <code>string s = listbox.SelectedValue.ToString();</code></p>\n\n<ol start=\"2\">\n<li>When any of the new items are selected nothing happens. I assume this is because the event handler is only attached to the single item that's on the list in the beginning, but I am not sure how to apply it to items that aren't there yet. Is there an event handler for when any item from a listbox is selected?</li>\n</ol>\n\n<p>Any help would be appreciated, thank you in advance.</p>\n"}, {"tags": ["c#", "html", "asp.net", ".net"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1574872791, "post_id": 59074709, "comment_id": 104387028, "body": "From what I can gather from your post: <code>&lt;asp:DropDownList ID=&quot;ddlMCSearch_Department&quot; runat=&quot;server&quot; CssClass=&quot;select&quot; Width=&quot;210px&quot;                         OnSelectedIndexChanged=&quot;Department_SelectedIndexChanged&quot; AutoPostBack=&quot;true&quot;&gt;                     &lt;&#47;asp:DropDownList&gt;</code> This drop down is set to <code>AutoPostBack=true</code> and from your post it looks like you are experiencing this issue when changing the value of the <code>Department</code> drop down. Don&#39;t do an <code>AutoPostBack</code> on the drop down?"}, {"owner": {"reputation": 119, "user_id": 8492561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3835fe4f84be96bb67445ef77de6857?s=128&d=identicon&r=PG&f=1", "display_name": "beh1", "link": "https://stackoverflow.com/users/8492561/beh1"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1574872923, "post_id": 59074709, "comment_id": 104387111, "body": "I have to do AutoPostBack=true because the selected Department informs the Areas and Tracking Groups. So we have to go to the server to get that info."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1574872954, "post_id": 59074709, "comment_id": 104387132, "body": "Use <code>ajax</code> to get that data from the server <code>async</code> Then populate <code>Area</code> and  <code>Tracking Groups</code>"}, {"owner": {"reputation": 119, "user_id": 8492561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3835fe4f84be96bb67445ef77de6857?s=128&d=identicon&r=PG&f=1", "display_name": "beh1", "link": "https://stackoverflow.com/users/8492561/beh1"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1574873042, "post_id": 59074709, "comment_id": 104387170, "body": "That is the only thing I haven&#39;t tried at this point. I&#39;ll give it a shot."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 1, "creation_date": 1574873113, "post_id": 59074709, "comment_id": 104387202, "body": "Try setting <code>AutoPostBack = &quot;false&quot;</code> as a test to see if your dynamic inputs stay in place when changing the <code>Department</code> drop down. If that keeps everything in view, add the <code>ajax</code> call I suggested and you should be good to go. Just in case you need an example of using <code>ajax</code> in your project: (<a href=\"https://stackoverflow.com/questions/5331986/how-to-use-ajax-with-asp-net-webforms\" title=\"how to use ajax with asp net webforms\">stackoverflow.com/questions/5331986/&hellip;</a>)"}, {"owner": {"reputation": 119, "user_id": 8492561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3835fe4f84be96bb67445ef77de6857?s=128&d=identicon&r=PG&f=1", "display_name": "beh1", "link": "https://stackoverflow.com/users/8492561/beh1"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1574890169, "post_id": 59074709, "comment_id": 104394442, "body": "Thanks for your help. Started to get it to work."}, {"owner": {"reputation": 101, "user_id": 12369573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fe86ae5cc0db3b6c920eb6a378feb8?s=128&d=identicon&r=PG&f=1", "display_name": "Blaise", "link": "https://stackoverflow.com/users/12369573/blaise"}, "edited": false, "score": 0, "creation_date": 1574893147, "post_id": 59074709, "comment_id": 104395467, "body": "Of note, the controls you are mentioning disappearing, appear to be inside the update panel. You&#39;d have to repeat the logic that put them there, or not have them inside the panel. I may be reading your example wrong though."}], "owner": {"reputation": 119, "user_id": 8492561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3835fe4f84be96bb67445ef77de6857?s=128&d=identicon&r=PG&f=1", "display_name": "beh1", "link": "https://stackoverflow.com/users/8492561/beh1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574872458, "creation_date": 1574872458, "question_id": 59074709, "link": "https://stackoverflow.com/questions/59074709/asp-net-drop-down-list-selection-refreshing-entire-page-despite-asyncpostbacktri", "title": "ASP.NET Drop Down List Selection Refreshing Entire Page despite AsyncPostBackTrigger", "body": "<p>I have an UpdatePanel with a group of DropDownLists. When I select a Department from the drop down list, it causes the Area and Tracking Groups to be updated with new values. </p>\n\n<p>The problem with this is it also causes the entire page to refresh, which causes some of my textboxes that dynamically appear to disappear.</p>\n\n<p>I have tried using AsyncPostBackTriggers to no avail. It still causes the rest of the page to be refreshed.</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=\"pnlMCSearch\" runat=\"server\" UpdateMode=\"Conditional\" ChildrenAsTriggers=\"true\" &gt;\n    &lt;ContentTemplate&gt;\n    &lt;fieldset&gt;\n    &lt;div class=\"SEARCH_TABLE\"&gt;\n            ...\n            &lt;div class=\"SEARCH_ROW\"&gt;\n                &lt;div class=\"SEARCH_CELL CELL25\"&gt;\n                    &lt;b&gt;Department&lt;/b&gt;\n                &lt;/div&gt;\n                &lt;div class=\"SEARCH_CELL CELL75\"&gt;\n                    &lt;asp:DropDownList ID=\"ddlMCSearch_Department\" runat=\"server\" CssClass=\"select\" Width=\"210px\"\n                        OnSelectedIndexChanged=\"Department_SelectedIndexChanged\" AutoPostBack=\"true\"&gt;\n                    &lt;/asp:DropDownList&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"SEARCH_ROW\"&gt;\n                &lt;div class=\"SEARCH_CELL CELL25\"&gt;\n                    &lt;b&gt;Area&lt;/b&gt;\n                &lt;/div&gt;\n                &lt;div class=\"SEARCH_CELL CELL75\"&gt;\n                    &lt;asp:DropDownList ID=\"ddlMCSearch_Area\" runat=\"server\" CssClass=\"select\" Width=\"210px\"&gt;\n                    &lt;/asp:DropDownList&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            ...\n            &lt;div class=\"SEARCH_ROW\"&gt;\n                &lt;div class=\"SEARCH_CELL CELL25\"&gt;\n                    &lt;b&gt;Tracking Group&lt;/b&gt;\n                &lt;/div&gt;\n                &lt;div class=\"SEARCH_CELL CELL75\"&gt;\n                    &lt;asp:DropDownList ID=\"ddlMCSearch_TrackingGroup\" runat=\"server\" CssClass=\"select\" Width=\"210px\" &gt;\n                    &lt;/asp:DropDownList&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"SEARCH_ROW\"&gt;\n                &lt;div class=\"SEARCH_CELL CELL25\"&gt;\n                    &lt;b&gt;Date operator&lt;/b&gt;\n                &lt;/div&gt;\n                &lt;div class=\"SEARCH_CELL CELL75\"&gt;\n                    &lt;asp:RadioButtonList ID=\"rdBtnMCSearch_DateOperators\" runat=\"server\" RepeatDirection=\"Horizontal\"\n                        RepeatLayout=\"Flow\" class=\"dateOperator\"&gt;\n                        &lt;asp:ListItem ID=\"rdBtnMCSearch_DateOperators_LessThan\" Text=\"Less than or equal to\" Value=\"ltoet\"&gt;&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem ID=\"rdBtnMCSearch_DateOperators_GreaterThan\" Text=\"Greater than or equal to\" Selected=\"True\" Value=\"gtoet\"&gt;&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem ID=\"rdBtnMCSearch_DateOperators_Between\" Text=\"Between\" Value=\"between\"&gt;&lt;/asp:ListItem&gt;\n                    &lt;/asp:RadioButtonList&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"SEARCH_ROW\"&gt;\n                &lt;div class=\"SEARCH_CELL CELL25\"&gt;\n                    &lt;b&gt;Start Date(s)&lt;/b&gt;\n                &lt;/div&gt;\n                &lt;div class=\"SEARCH_CELL CELL75\"&gt;\n                    &lt;asp:TextBox ID=\"txtMCSearch_StartDate1\" runat=\"server\" Width=\"195px\" class=\"startDate1\"&gt;\n                    &lt;/asp:TextBox&gt;\n                    &lt;asp:TextBox ID=\"txtMCSearch_StartDate2\" runat=\"server\" Width=\"195px\" class=\"startDate2\"&gt;\n                    &lt;/asp:TextBox&gt;\n\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"SEARCH_ROW\"&gt;\n                &lt;div class=\"SEARCH_CELL CELL25\"&gt;\n                    &lt;b&gt;End Date(s)&lt;/b&gt;\n                &lt;/div&gt;\n                &lt;div class=\"SEARCH_CELL CELL75\"&gt;\n                    &lt;asp:TextBox ID=\"txtMCSearch_EndDate1\" runat=\"server\" Width=\"195px\" class=\"endDate1\"&gt;\n                    &lt;/asp:TextBox&gt;\n                    &lt;asp:TextBox ID=\"txtMCSearch_EndDate2\" runat=\"server\" Width=\"195px\" class=\"endDate2\"&gt;\n                    &lt;/asp:TextBox&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"SEARCH_ROW\"&gt;\n                &lt;div class=\"SEARCH_CELL CELL50\"&gt;\n                    &lt;asp:Button ID=\"btnMCSearch_Search\" runat=\"server\" Text=\"Search\" CssClass=\"submit\" OnClick=\"SearchForMCItems\"/&gt;\n                &lt;/div&gt;\n                &lt;div class=\"SEARCH_CELL CELL50 FLOAT_RIGHT\"&gt;\n                    &lt;asp:Button ID=\"btnMCSearch_Clear\" runat=\"server\" Text=\"Clear\" OnClick=\"ClearMCSearchFields\"/&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/fieldset&gt;\n    &lt;/ContentTemplate&gt;\n    &lt;Triggers&gt; \n        &lt;asp:AsyncPostBackTrigger ControlID=\"ddlMCSearch_Department\" EventName=\"SelectedIndexChanged\" /&gt; \n        &lt;asp:AsyncPostBackTrigger ControlID=\"ddlMCSearch_Area\" /&gt;\n        &lt;asp:AsyncPostBackTrigger ControlID=\"ddlMCSearch_TrackingGroup\" /&gt;\n        &lt;asp:PostBackTrigger ControlID=\"btnMCSearch_Search\" /&gt;\n    &lt;/Triggers&gt; \n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>Before selecting a department:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tT3sp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tT3sp.png\" alt=\"Before selecting a department\"></a></p>\n\n<p>After selecting a department:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6ctJa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ctJa.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have looked at most of the Stack Overflow posts about AsyncPostBackTriggers and DropDownLists. </p>\n\n<p>I have checked and tried:</p>\n\n<ol>\n<li>Not using any ClientIDMode=\"Static\" for my controls</li>\n<li>Tried adding ChildrenAsTriggers=\"true\"</li>\n<li>Tried using nested panels</li>\n</ol>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1574872568, "post_id": 59074660, "comment_id": 104386907, "body": "Hi Ming! When it comes to working with JSON in C#, Newtonsoft is your best friend. <a href=\"https://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">newtonsoft.com/json</a>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1574873285, "post_id": 59074660, "comment_id": 104387294, "body": "You could use Newtonsoft&#39;s <code>JsonTextReader</code> to locate the element&#39;s start and end indices.  From there you could get a substring from the original JSON."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1574873768, "post_id": 59074660, "comment_id": 104387568, "body": "<code>JsonTextReader</code> doesn&#39;t report its position in the underlying <code>Stream</code>, see the discussion thread at <a href=\"https://stackoverflow.com/q/53108483\">How to get detailed position information from JsonTextReader</a>, which is unanswered.  You might be able to get what you need by recording the <code>IJsonLineInfo</code> of the <code>abs</code> node then re-reading the file to get the whitespace; see e.g. <a href=\"https://stackoverflow.com/q/26050036\">Newtonsoft.Json - Getting corresponding line numbers of deserialized objects from JSON for better error handling</a>."}, {"owner": {"reputation": 700, "user_id": 877438, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ed202062cb1ae19e14c7689e4b3ba977?s=128&d=identicon&r=PG", "display_name": "Ming", "link": "https://stackoverflow.com/users/877438/ming"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1574940527, "post_id": 59074660, "comment_id": 104410769, "body": "@dbc take these two JSON as example, <code>{     &quot;abc&quot; :&quot;def&quot;}</code> and <code>{ &quot;abc&quot;     :&quot;def&quot;}</code> the <code>LinePosition</code> of the <code>abc</code> property is the position of <code>:</code>, but it doesn&#39;t tell whether it is 5 spaces at front of <code>abc</code> and 1 space after it or the other way round."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1574961340, "post_id": 59074660, "comment_id": 104421476, "body": "@Ming - <code>JsonTextReader</code> doesn&#39;t provide the information you want.  However, with the <code>JsonTextReader</code>&#39;s <code>IJsonLineInfo</code> of the <code>&quot;abc&quot;</code> property itself, and the <code>IJsonLineInfo</code> at the time the reader is positioned on the end token <code>}</code> of the value of <code>&quot;abc&quot;</code>, you might have enough information to extract the formatted JSON with some manual parsing of the contents of the file loaded into a <code>string</code>."}, {"owner": {"reputation": 700, "user_id": 877438, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ed202062cb1ae19e14c7689e4b3ba977?s=128&d=identicon&r=PG", "display_name": "Ming", "link": "https://stackoverflow.com/users/877438/ming"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1574967724, "post_id": 59074660, "comment_id": 104423595, "body": "@dbc no, there are four token types: start, propertyName, value and close. Lets take start and property name as examples, when it is start, <code>LinePosition</code> is on <code>{</code>, when it is propertyName, position is on <code>:</code>, it can only tell total number of spaces between <code>{</code> and <code>:</code>, it cannot tell whether it is 4 spaces in between <code>{</code> and property name or property name and <code>:</code>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1574968099, "post_id": 59074660, "comment_id": 104423689, "body": "Right, you&#39;ll need to manually scan backwards in the JSON <code>string</code> from the position of the <code>:</code>, skipping past spacing, then the property, then more spacing, to get exactly what you want.  Honestly a nuisance but it&#39;s the best I can suggest since Json.NET doesn&#39;t pass information about spacing on to consumers of <code>JsonTextReader</code>.  (Or you could use a <code>Regex</code> as you decided below.)"}], "answers": [{"tags": [], "owner": {"reputation": 700, "user_id": 877438, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ed202062cb1ae19e14c7689e4b3ba977?s=128&d=identicon&r=PG", "display_name": "Ming", "link": "https://stackoverflow.com/users/877438/ming"}, "is_accepted": true, "score": 0, "last_activity_date": 1574968564, "last_edit_date": 1574968564, "creation_date": 1574966774, "answer_id": 59094782, "question_id": 59074660, "link": "https://stackoverflow.com/questions/59074660/read-part-of-original-json-string-with-all-spaces-and-indents/59094782#59094782", "title": "Read part of ORIGINAL JSON string with all spaces and indents", "body": "<p>Eventually, I decided to read the string out of <code>Stream</code> first then use <code>Regex</code> as solution for this special case, I know it is not great, but because spaces and indent is one of crucial requirements, for sake of simplicity, I am happy to trade off performance for now.</p>\n"}], "owner": {"reputation": 700, "user_id": 877438, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ed202062cb1ae19e14c7689e4b3ba977?s=128&d=identicon&r=PG", "display_name": "Ming", "link": "https://stackoverflow.com/users/877438/ming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 59094782, "answer_count": 1, "score": -1, "last_activity_date": 1574968564, "creation_date": 1574872300, "last_edit_date": 1574968172, "question_id": 59074660, "link": "https://stackoverflow.com/questions/59074660/read-part-of-original-json-string-with-all-spaces-and-indents", "title": "Read part of ORIGINAL JSON string with all spaces and indents", "body": "<p>My client posts following json data in the body to my API, is there an easy way to get hold of the <code>abc</code> node's value (including the <code>{}</code> as well) as JSON string from <code>HttpContext.Request.Body</code>? the most important thing is <strong>I need to keep all original spaces or indent if any</strong>.</p>\n\n<p>P.S the <code>abc</code> is always the first node, while <code>def</code> is the last node.</p>\n\n<p>Thanks</p>\n\n<pre><code>{\n   \"abc\": {\n     ....\n   },\n   \"def\":\"...\"\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 10625822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b9142d3102bc830c0a9e5f3263b95?s=128&d=identicon&r=PG&f=1", "display_name": "kian5749", "link": "https://stackoverflow.com/users/10625822/kian5749"}, "edited": false, "score": 0, "creation_date": 1574872785, "post_id": 59074756, "comment_id": 104387024, "body": "I tried to use the method IsChecked and it also gives me an error. I edited the question to show which error it gives."}, {"owner": {"reputation": 685, "user_id": 11219312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8110b38146dc6fa2c0808452618c4143?s=128&d=identicon&r=PG&f=1", "display_name": "AmRo", "link": "https://stackoverflow.com/users/11219312/amro"}, "reply_to_user": {"reputation": 65, "user_id": 10625822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b9142d3102bc830c0a9e5f3263b95?s=128&d=identicon&r=PG&f=1", "display_name": "kian5749", "link": "https://stackoverflow.com/users/10625822/kian5749"}, "edited": false, "score": 0, "creation_date": 1574873209, "post_id": 59074756, "comment_id": 104387255, "body": "Did you try GetValueOrDefault method?"}], "tags": [], "owner": {"reputation": 685, "user_id": 11219312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8110b38146dc6fa2c0808452618c4143?s=128&d=identicon&r=PG&f=1", "display_name": "AmRo", "link": "https://stackoverflow.com/users/11219312/amro"}, "is_accepted": false, "score": 1, "last_activity_date": 1574872940, "last_edit_date": 1574872940, "creation_date": 1574872649, "answer_id": 59074756, "question_id": 59074650, "link": "https://stackoverflow.com/questions/59074650/how-to-check-if-a-radio-button-has-been-selected-if-it-has-assign-a-value-to-va/59074756#59074756", "title": "How to check if a radio button has been selected, if it has assign a value to variable", "body": "<p>Instead of <code>Checked</code> use <code>IsChecked</code> property:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void RadioButton_Checked(object sender, RoutedEventArgs e)\n{\n    if (MilesButton.IsChecked ?? false)\n    {\n            radius = 3956;\n    }\n}\n</code></pre>\n\n<p>Also you can use <a href=\"https://msdn.microsoft.com/en-us/library/72cec0e0(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>GetValueOrDefault</code></a> method like this:</p>\n\n<pre><code>if (MilesButton.IsChecked.GetValueOrDefault())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 772, "user_id": 4968222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-qmiGUb-IyGQ/AAAAAAAAAAI/AAAAAAAACbE/bw99wODIdns/photo.jpg?sz=128", "display_name": "Thomas Klammer", "link": "https://stackoverflow.com/users/4968222/thomas-klammer"}, "is_accepted": true, "score": 0, "last_activity_date": 1574873824, "creation_date": 1574873824, "answer_id": 59075072, "question_id": 59074650, "link": "https://stackoverflow.com/questions/59074650/how-to-check-if-a-radio-button-has-been-selected-if-it-has-assign-a-value-to-va/59075072#59075072", "title": "How to check if a radio button has been selected, if it has assign a value to variable", "body": "<p>This code should work for you</p>\n\n<p>In the XAML file:</p>\n\n<pre><code>    &lt;Grid&gt;\n        &lt;RadioButton x:Name=\"MilesButton\" Content=\"MilesButton\" HorizontalAlignment=\"Left\" Margin=\"66,39,0,0\" VerticalAlignment=\"Top\" GroupName=\"distance\" Checked=\"RadioButton_Checked\"/&gt;\n        &lt;RadioButton Content=\"KilometreButton\" HorizontalAlignment=\"Left\" Margin=\"66,59,0,0\" VerticalAlignment=\"Top\" GroupName=\"distance\" Checked=\"RadioButton_Checked\"/&gt;\n    &lt;/Grid&gt;\n</code></pre>\n\n<p>And the code behind</p>\n\n<pre><code>        private int radius = 0;\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n\n        private void RadioButton_Checked(object sender, RoutedEventArgs e)\n        {\n            if (MilesButton.IsChecked == true)\n            {\n                radius = 3956;\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 10625822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b9142d3102bc830c0a9e5f3263b95?s=128&d=identicon&r=PG&f=1", "display_name": "kian5749", "link": "https://stackoverflow.com/users/10625822/kian5749"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 59075072, "answer_count": 2, "score": -1, "last_activity_date": 1574881585, "creation_date": 1574872261, "last_edit_date": 1574881585, "question_id": 59074650, "link": "https://stackoverflow.com/questions/59074650/how-to-check-if-a-radio-button-has-been-selected-if-it-has-assign-a-value-to-va", "title": "How to check if a radio button has been selected, if it has assign a value to variable", "body": "<p>I am writing a distance calculator for an assignment and for one of the requirements is to have the user select which units they want the distance is displayed. I'm using the haversine equation to work out the distance. The code what I have to check if the button has been selected is </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void RadioButton_Checked(object sender, RoutedEventArgs e)\n{\n    if (MilesButton.Checked == true)\n    {\n        radius = 3956;\n    }\n}\n</code></pre>\n\n<p>It gives me the error  \"The event can only appear on the left hand side of += or -=\".\nIs there a better way to check if the button has been selected? Also if i use the method <code>MilesButton.IsChecked</code> is gives another error \"cannot implicitly convert type 'bool?' to 'bool' an explicit conversion exists(are you missing a cast?)\"</p>\n"}, {"tags": ["c#", "dependency-injection", "autofac"], "answers": [{"tags": [], "owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "is_accepted": true, "score": 1, "last_activity_date": 1574892291, "creation_date": 1574892291, "answer_id": 59079070, "question_id": 59074637, "link": "https://stackoverflow.com/questions/59074637/is-it-possible-to-register-one-type-for-multiple-keys-with-autofac-assembly-scan/59079070#59079070", "title": "Is it possible to register one type for multiple keys with Autofac assembly scanning?", "body": "<p>This is not supported in Autofac core, but you could easily make an extension method to do it for you.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static IRegistrationBuilder&lt;object, ScanningActivatorData, DynamicRegistrationStyle&gt;\n    Keyed&lt;TService&gt;(\n        this IRegistrationBuilder&lt;object, ScanningActivatorData, DynamicRegistrationStyle&gt; registration,\n        Func&lt;Type, object[]&gt; serviceKeyMapping)\n{\n    var serviceType = typeof(TService);\n    return registration\n        .AssignableTo(serviceType)\n        .As(t =&gt; serviceKeyMapping(t).Select(key =&gt; new KeyedService(key, serviceType)));\n}\n</code></pre>\n\n<p>It should be roughly a drop-in replacement for what you're trying to do.</p>\n\n<p>Autofac is pretty easy to extend this way by using <a href=\"https://github.com/autofac/Autofac/blob/develop/src/Autofac/RegistrationExtensions.cs\" rel=\"nofollow noreferrer\">the existing extension methods</a> as a starting place for a lot of working examples. The one I put here is a very slight modification <a href=\"https://github.com/autofac/Autofac/blob/53a10c1062bc4e959d2ef3d7ec3175ca735746ba/src/Autofac/RegistrationExtensions.cs#L538\" rel=\"nofollow noreferrer\">on the existing <code>Keyed&lt;T&gt;</code> extension for assembly scanning.</a> Since not <em>every</em> use case can possibly be covered, this is the \"official solution\" for filling gaps like this.</p>\n"}], "owner": {"reputation": 1604, "user_id": 1046025, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/377a941c8318cf56b27d2f359380d8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad Kamelzadeh", "link": "https://stackoverflow.com/users/1046025/mehrdad-kamelzadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 59079070, "answer_count": 1, "score": 0, "last_activity_date": 1574892348, "creation_date": 1574872215, "last_edit_date": 1574892348, "question_id": 59074637, "link": "https://stackoverflow.com/questions/59074637/is-it-possible-to-register-one-type-for-multiple-keys-with-autofac-assembly-scan", "title": "Is it possible to register one type for multiple keys with Autofac assembly scanning?", "body": "<p>I am trying to register on type (i.e. <code>MyClass</code>) for multiple Keys (i.e. 3, 4, 5) in AutoFac. \nSo that, <code>componentContext.ResolveKeyed&lt;T&gt;(3)</code>,<code>componentContext.ResolveKeyed&lt;T&gt;(4)</code> and <code>componentContext.ResolveKeyed&lt;T&gt;(5)</code> all return <code>MyClass</code> instance.\nI'm not sure how to do it as <code>Keyed&lt;IMyClass&gt;()</code> requires the type and not the values.</p>\n\n<pre><code>builder.RegisterAssemblyTypes(Assembly.GetExecutingAssembly())\n            .Where(type =&gt; type.IsAssignableTo&lt;IMyClass&gt;())\n            .Keyed&lt;IMyClass&gt;(type =&gt; type.GetCustomAttribute&lt;MyCustomAttribute&gt;().VALUES)\n            .AsImplementedInterfaces()\n            .InstancePerLifetimeScope();\n\n[MyCustomAttribute(3, 4, 5)]\nclass MyClass : IMyClass { }\n\nclass MyCustomAttribute : Attribute {\n    public int[] VALUES { get; set; }\n\n    public MyCustomAttribute(params int[] values) {\n       this.Values = values;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "deedle"], "answers": [{"tags": [], "owner": {"reputation": 224912, "user_id": 33518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d06834fe3fb105f62b2186aba4a430d5?s=128&d=identicon&r=PG", "display_name": "Tomas Petricek", "link": "https://stackoverflow.com/users/33518/tomas-petricek"}, "is_accepted": true, "score": 1, "last_activity_date": 1574887756, "creation_date": 1574887756, "answer_id": 59078218, "question_id": 59074589, "link": "https://stackoverflow.com/questions/59074589/how-to-add-keyvalue-pair-to-deedle-series/59078218#59078218", "title": "How to add keyvalue pair to deedle Series?", "body": "<p>Appending one key-value pair to a series is not the most typical thing to do with Deedle. The reason is that if you're writing code in a functional way, you'll typically end up using higher-level operations like maps and filters. You can certainly add one key-value pair, but if you were doing that in a loop, that would be inefficient and you should use a more high-level way of expressing your logic instead.</p>\n\n<p>If you don't need to do this in a loop and really just want to append one key-value pair, I would create a new series containing the new element and use the <code>Merge</code> operation:</p>\n\n<pre><code>// Create: 0 -&gt; A, 1 -&gt; B, 2 -&gt; C\nvar s1 = new[] { \"A\", \"B\", \"C\" }.ToOrdinalSeries();\n\n// Append: 5 -&gt; Z\nvar s2 = s1.Merge(new[] { KeyValue.Create(5, \"Z\") }.ToSeries());\n\n// Print the new series\ns2.Print();\n</code></pre>\n\n<p>The C# documentation for Deedle is definitely lacking behind the F# one, but it is all open-source and available in pretty simple Markdown format <a href=\"https://github.com/fslaborg/Deedle/blob/master/docs/content/csharpintro.md\" rel=\"nofollow noreferrer\">on GitHub</a>, so you are welcome to contribute what you learned and found missing!</p>\n"}], "owner": {"reputation": 1610, "user_id": 1843300, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fa09275896179f56b570afc74522a6d5?s=128&d=identicon&r=PG", "display_name": "Dork", "link": "https://stackoverflow.com/users/1843300/dork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59078218, "answer_count": 1, "score": 0, "last_activity_date": 1574887756, "creation_date": 1574872058, "question_id": 59074589, "link": "https://stackoverflow.com/questions/59074589/how-to-add-keyvalue-pair-to-deedle-series", "title": "How to add keyvalue pair to deedle Series?", "body": "<p>I have <code>Series&lt;string,object&gt;</code> and I need to create new <code>Series&lt;string,object&gt;</code> from it by one adding key-value pair. Is it possible in any nice way but not decomposing original Series in loop and creating new via SeriesBuilder? I couldn't find solution searching in poor Deedle C# documentation.</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 423, "user_id": 2249997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/GEPab.png?s=128&g=1", "display_name": "gandalf", "link": "https://stackoverflow.com/users/2249997/gandalf"}, "edited": false, "score": 0, "creation_date": 1574873368, "post_id": 59074560, "comment_id": 104387346, "body": "Change your fields to properties public bool Creature {get;set;} = true;"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 10032505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/clhpj.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/10032505/mohammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1574873753, "creation_date": 1574873753, "answer_id": 59075053, "question_id": 59074560, "link": "https://stackoverflow.com/questions/59074560/net-core-model-binding-failure-after-post/59075053#59075053", "title": "Net Core Model Binding Failure after POST", "body": "<p>Your model just <code>Set</code> the values it doesn't have a <code>Get</code>.\nso if you want set the values you need to set it in another way like this :</p>\n\n<p>Assuming your model is</p>\n\n<pre><code>public class SpoilerAnalysisViewModel\n{\n public public bool White{ get; set; }\n ....\n}\n</code></pre>\n\n<p>then you can set the values :</p>\n\n<pre><code> SpoilerAnalysisViewModel model = new SpoilerAnalysisViewModel()\n {\n   White= True;\n   ....\n };\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12425246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90a2cd3789250c7062feec9cd2574c78?s=128&d=identicon&r=PG&f=1", "display_name": "UrzaMasterArtificer", "link": "https://stackoverflow.com/users/12425246/urzamasterartificer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574873753, "creation_date": 1574871985, "last_edit_date": 1574872341, "question_id": 59074560, "link": "https://stackoverflow.com/questions/59074560/net-core-model-binding-failure-after-post", "title": "Net Core Model Binding Failure after POST", "body": "<p>having trouble using model data after a POST. I've included the relevant code for the method called after POST, the .cshtml code that does the POSTing, and the ViewModel. Note while I haven't included it here, I have tried using [FromForm]: public string UpdateSpoiler([FromForm] SpoilerAnalysisViewModel temp)</p>\n\n<p>Default routing is in place. When the .cshtml page is first generated, it does have the proper set name defined. After POST, all data is empty.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>View model class:</p>\n\n<pre><code>public class SpoilerAnalysisViewModel\n    {\n        public string SetName = string.Empty;\n\n        // Colors\n        public bool White = true;\n        public bool Blue = true;\n        public bool Black = true;\n        public bool Red = true;\n        public bool Green = true;\n        public bool Colorless = true;\n\n        // CMC range\n        public byte minCMC = 0;\n        public byte maxCMC = 15;\n\n        // Card types\n        public bool Creature = true;\n        public bool Instant = true;\n        public bool Sorcery = true;\n        public bool Enchantment = true;\n        public bool Artifact = true;\n        public bool Land = true;\n\n        // Rarities\n        public bool Limited = true;\n        public bool Mythics = true;\n        public bool Rares = true;\n        public bool Uncommons = true;\n        public bool Commons = true;\n\n    }\n</code></pre>\n\n<p>.cshtml file:</p>\n\n<pre><code>@model SpoilerAnalysisViewModel;\n\n&lt;!DOCTYPE html&gt;\n\n&lt;body&gt;\n@using (Html.BeginForm(\"RefreshSpoiler\", \"SpoilerAnalysis\", FormMethod.Post))\n{\n    &lt;table cellpadding=\"0\" cellspacing=\"0\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                @Html.CheckBoxFor(m =&gt; m.White) White\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                @Html.TextBoxFor(m =&gt; m.minCMC) Minimum CMC\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                @Html.TextBoxFor(m =&gt; m.SetName) Current Set\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;input type=\"submit\" value=\"Submit\" /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n}\n</code></pre>\n\n<p></p>\n\n<p>Method called after POST</p>\n\n<pre><code>    [HttpPost]\n    public string RefreshSpoiler(SpoilerAnalysisViewModel temp)\n    {\n        if (temp == null) return \"model is null\";\n        return \"set: \" + temp.SetName;\n    }\n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 2, "creation_date": 1574871924, "post_id": 59074467, "comment_id": 104386577, "body": "Seems like you&#39;re trying to parse a CSV file/string. What programming language are you using? Most languages have a CSV parser in their standard library. Is there a specific reason you&#39;re trying to do this with regex?"}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1574872149, "post_id": 59074467, "comment_id": 104386679, "body": "It&#39;s unclear how you are hoping for this wreck of a regex to work. <i>Probably</i> you would be better off simply with <code>(?:&quot;([^&quot;]*)&quot;|([^&quot;,]*))</code> but we can&#39;t guess which regex dialect you are using or what you are hoping to achieve. See also the <a href=\"/tags/regex/info\">Stack Overflow <code>regex</code> tag info page</a> for guidance on how to ask a proper question and how to tag it correctly."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1574872223, "post_id": 59074467, "comment_id": 104386725, "body": "Could you use a CSV parser instead Jason? I wonder if that would be more robust."}, {"owner": {"reputation": 49, "user_id": 11541868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46aae242d0b3ea6d1dcd8e3e3e1e9365?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11541868/jason"}, "edited": false, "score": 0, "creation_date": 1574872328, "post_id": 59074467, "comment_id": 104386785, "body": "If I find one that is not using visual basic dll, I will definitely use it."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1574872494, "post_id": 59074467, "comment_id": 104386865, "body": "What language/environment are you using?"}, {"owner": {"reputation": 49, "user_id": 11541868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46aae242d0b3ea6d1dcd8e3e3e1e9365?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11541868/jason"}, "edited": false, "score": 0, "creation_date": 1574872635, "post_id": 59074467, "comment_id": 104386940, "body": "C# .net , I don&#39;t think they have one built in, the one I know is using visual basic dll.  On the other hand, there is some in GitHub, just wondering which one you guys recommend."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1574872894, "post_id": 59074467, "comment_id": 104387093, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1189416/c-regular-expressions-how-to-parse-comma-separated-values-where-some-values\">C#, regular expressions : how to parse comma-separated values, where some values might be quoted strings themselves containing commas</a>"}], "answers": [{"tags": [], "owner": {"reputation": 561, "user_id": 2710988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2525f78d5c000accb821e634df050da8?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Barkley", "link": "https://stackoverflow.com/users/2710988/brandon-barkley"}, "is_accepted": false, "score": 0, "last_activity_date": 1574877334, "creation_date": 1574877334, "answer_id": 59075959, "question_id": 59074467, "link": "https://stackoverflow.com/questions/59074467/regular-expression-not-working-when-comma-is-right-after-quote/59075959#59075959", "title": "Regular Expression not working when comma is right after quote", "body": "<p>The general issue with the regular expression is that it checks optionally for a comma at the beginning and then greedily goes until it gets a match of \", or ,. I believe it is checking for \", first so it keeps going until it encounters the \",Gas...\". I think switching the two conditions though would instead cause issues with commas within quotes. You should probably just replace this regular expression with the on in this answer.</p>\n\n<p><a href=\"https://stackoverflow.com/a/42535295/2710988\">https://stackoverflow.com/a/42535295/2710988</a></p>\n"}], "owner": {"reputation": 49, "user_id": 11541868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46aae242d0b3ea6d1dcd8e3e3e1e9365?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11541868/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574877334, "creation_date": 1574871710, "last_edit_date": 1574872827, "question_id": 59074467, "link": "https://stackoverflow.com/questions/59074467/regular-expression-not-working-when-comma-is-right-after-quote", "title": "Regular Expression not working when comma is right after quote", "body": "<p>I have the regular expression</p>\n\n<pre><code>((?&lt;=\\\")[^\\\"]*(?=\\\"(,|$)+)|(?&lt;=,|^)[^,\\\"]*(?=,|$))\n</code></pre>\n\n<p>and the string I try to parse</p>\n\n<pre><code>\"Private\",N,,\"Gas,Meter.\"\n</code></pre>\n\n<p>this works properly as I will have Private, N, space, \"Gas Meter\"</p>\n\n<p>but</p>\n\n<pre><code>\"Private\",N,,\",Gas,Meter.\"\n</code></pre>\n\n<p>will give me</p>\n\n<pre><code>Private, \",N,,\" and then \",Gas,Meter.\"\n</code></pre>\n\n<p>the regular expression works if , is in between but not right after the quote.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core", "unobtrusive-validation"], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 2194443, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EWkWr.png?s=128&g=1", "display_name": "Aleksei Petrov", "link": "https://stackoverflow.com/users/2194443/aleksei-petrov"}, "is_accepted": true, "score": 1, "last_activity_date": 1575477950, "creation_date": 1575477950, "answer_id": 59180916, "question_id": 59074459, "link": "https://stackoverflow.com/questions/59074459/how-to-get-parent-object-during-addvalidationattributes-in-validationhtmlattribu/59180916#59180916", "title": "How to get parent object during AddValidationAttributes in ValidationHtmlAttributeProvider?", "body": "<p>I've finally found a solution to it.</p>\n\n<p>First of all, I've overloaded wrong version of the method. The correct one is\n<code>void AddAndTrackValidationAttributes(ViewContext viewContext, ModelExplorer modelExplorer, string expression, IDictionary&lt;string, string&gt; attributes)</code>, because it provides expression string to current property with validation attributes.</p>\n\n<p>With this expression we can assume, that the target property with name stored in <code>otherPropertyName</code> is exist on the same path (because it is in the same class). For example, if expression is <code>Model.Child[0].PropertyA</code>, then target property could be retrieved with expression <code>Model.Child[0].PropertyB</code>. </p>\n\n<p>Unfortunately, <code>ExpressionMetadataProvider.FromStringExpression</code> function just don't work for expression with indexers. However, it works well with only properties expression. In my case, the only way is going through object hierarchy manually: parse the expression and go to properties and elements at given indexes using reflections.</p>\n\n<p>The whole code:</p>\n\n<pre><code>public class CustomValidationHtmlAttributeProvider : DefaultValidationHtmlAttributeProvider\n{\n    private readonly IOptions&lt;MvcViewOptions&gt; _optionsAccessor;\n    private readonly IModelMetadataProvider _metadataProvider;\n    private readonly ClientValidatorCache _clientValidatorCache;\n\n\n    public CustomValidationHtmlAttributeProvider(IOptions&lt;MvcViewOptions&gt; optionsAccessor, IModelMetadataProvider metadataProvider, ClientValidatorCache clientValidatorCache) \n        : base(optionsAccessor, metadataProvider, clientValidatorCache)\n    {\n        _optionsAccessor = optionsAccessor;\n        _metadataProvider = metadataProvider;\n        _clientValidatorCache = clientValidatorCache;\n    }\n\n    public override void AddValidationAttributes(ViewContext viewContext, ModelExplorer modelExplorer, string expression, IDictionary&lt;string, string&gt; attributes)\n    {\n        // getting existing validation attribute\n        var greaterThanAttribute = modelExplorer.Metadata.ValidatorMetadata.FirstOrDefault(x =&gt;\n            x.GetType() == typeof(GreaterThanAttribute)) as GreaterThanAttribute;\n        var otherPropertyName = greaterThanAttribute.OtherPropertyName;\n\n        var targetExpression = GetTargetPropertyExpression(expression, otherPropertyName);\n        var otherValue = GetValueOnExpression(modelExplorer.Container.Model, targetExpression);\n\n        greaterThanAttribute.OtherPropertyValue = otherValue;\n\n        base.AddValidationAttributes(viewContext, modelExplorer, attributes);\n    }\n\n    private static object GetValueOnExpression(object container, string expression)\n    {\n        while (expression != \"\")\n        {\n            if (NextStatementIsIndexer(expression))\n            {\n                var index = GetIndex(expression);\n\n                switch (container)\n                {\n                    case IDictionary dictionary:\n                        container = dictionary[index];\n                        break;\n                    case IEnumerable&lt;object&gt; enumerable:\n                        container = enumerable.ElementAt(int.Parse(index));\n                        break;\n                    default:\n                        throw new Exception($\"{container} is unknown collection type\");\n                }\n\n                expression = ClearIndexerStatement(expression);\n            }\n            else\n            {\n                var propertyName = GetPropertyStatement(expression);\n                var propertyInfo = container.GetType().GetProperty(propertyName);\n                if (propertyInfo == null)\n                    throw new Exception($\"Can't find {propertyName} property in the container {container}\");\n\n                container = propertyInfo.GetValue(container);\n                expression = ClearPropertyStatement(expression);\n            }\n        }\n\n        return container;\n    }\n\n    private static bool NextStatementIsIndexer(string expression) \n        =&gt; expression[0] == '[';\n\n    private static string ClearPropertyStatement(string expression)\n    {\n        var statementEndPosition = expression.IndexOfAny(new [] {'.', '['});\n        if (statementEndPosition == -1) return \"\";\n        if (expression[statementEndPosition] == '.') statementEndPosition++;\n        return expression.Substring(statementEndPosition);\n    }\n\n    private static string GetPropertyStatement(string expression)\n    {\n        var statementEndPosition = expression.IndexOfAny(new [] {'.', '['});\n        if (statementEndPosition == -1) return expression;\n        return expression.Substring(0, statementEndPosition);\n    }\n\n    private static string ClearIndexerStatement(string expression)\n    {\n        var statementEndPosition = expression.IndexOf(']');\n        if (statementEndPosition == expression.Length - 1) return \"\";\n        if (expression[statementEndPosition + 1] == '.') statementEndPosition++;\n        return expression.Substring(statementEndPosition + 1);\n    }\n\n    private static string GetIndex(string expression)\n    {\n        var closeBracketPosition = expression.IndexOf(']');\n        return expression.Substring(1, closeBracketPosition - 1);\n    }\n\n    private static string GetTargetPropertyExpression(string sourceExpression, string targetProperty)\n    {\n        var memberAccessTokenPosition = sourceExpression.LastIndexOf('.');\n        if (memberAccessTokenPosition == -1) // expression is just a property name\n            return targetProperty;\n        var newExpression = sourceExpression.Substring(0, memberAccessTokenPosition + 1) + targetProperty;\n        return newExpression;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 643, "user_id": 2194443, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EWkWr.png?s=128&g=1", "display_name": "Aleksei Petrov", "link": "https://stackoverflow.com/users/2194443/aleksei-petrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 59180916, "answer_count": 1, "score": 1, "last_activity_date": 1575477950, "creation_date": 1574871674, "last_edit_date": 1574871974, "question_id": 59074459, "link": "https://stackoverflow.com/questions/59074459/how-to-get-parent-object-during-addvalidationattributes-in-validationhtmlattribu", "title": "How to get parent object during AddValidationAttributes in ValidationHtmlAttributeProvider?", "body": "<p>I'm trying to implement my custom validation attribute in ASP.NET Core MVC web app, including server and client side validation. The drawback of existing data annotations is static nature of attributes, which makes it impossible to pass runtime data to it.</p>\n\n<p>I want to make GreaterThanAttribute, which takes a name of another property as parameter to compare the given value with the value of that property. Something like this:</p>\n\n<pre><code>public class TestModel \n{\n    public int PropertyA { get; set; }\n\n    [GreaterThan(nameof(PropertyA))]\n    public int PropertyB { get; set; }\n}\n</code></pre>\n\n<p>I've implemented the attribute in the following way:</p>\n\n<pre><code>[AttributeUsage(AttributeTargets.Property)]\npublic class GreaterThanAttribute : ValidationAttribute, IClientModelValidator\n{\n    public const string RuleName = \"greaterthan\";\n    public const string ParameterName = \"othervalue\";\n    public object OtherPropertyValue { get; set; }\n    public string OtherPropertyName { get; }\n\n    public GreaterThanAttribute(string otherPropertyName)\n    {\n        OtherPropertyName = otherPropertyName;\n        ErrorMessage = $\"The value should be greater than filed {OtherPropertyName}\";\n    }\n\n    public void AddValidation(ClientModelValidationContext context)\n    {\n        if (context == null)\n            throw new ArgumentNullException(nameof(context));\n\n        MergeAttribute(context.Attributes, \"data-val\", \"true\");\n        MergeAttribute(context.Attributes, $\"data-val-{RuleName}\", ErrorMessageString);\n        MergeAttribute(context.Attributes, $\"data-val-{RuleName}-{ParameterName}\", OtherPropertyValue?.ToString());\n    }\n\n    protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n    {\n        // server side validation, no difficulties here\n    }\n\n    private static void MergeAttribute(IDictionary&lt;string, string&gt; attributes, string key, string value)\n    {\n        if (attributes.ContainsKey(key))\n            return;\n        attributes.Add(key, value);\n    }\n}\n</code></pre>\n\n<p>I've added unobtrusive validator for this attribute in my view:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$.validator.addMethod(\"@GreaterThanAttribute.RuleName\", function (value, element, params) {\n    var parsedThisValue = Globalize.numberParser()(value);\n    var parsedOtherValue = Globalize.numberParser()(params);\n    return parsedThisValue &gt; parsedOtherValue;\n});\n$.validator.unobtrusive.adapters.addSingleVal(\"@GreaterThanAttribute.RuleName\", \"@GreaterThanAttribute.ParameterName\");\n&lt;/script&gt;\n</code></pre>\n\n<p>The problem is now I need to add <code>data-val-greaterthan-othervalue</code> attribute to the input field manually, like:</p>\n\n<pre><code>@{\n    var propertyName = $\"data-val-{GreaterThanAttribute.RuleName}-{GreaterThanAttribute.ParameterName}\";\n    var propertyValue = Model.Child[0].PropertyB;\n}\n@Html.TextBoxFor(x =&gt; Model.Child[0].PropertyA, new Dictionary&lt;string, object&gt; {{propertyName, propertyValue}})\n@Html.ValidationMessageFor(x =&gt; Model.Child[0].PropertyA)\n</code></pre>\n\n<p>And I don't like it that way. So I'm looking a way to add this attribute using existing ASP.NET mechanisms without polluting views with it.\nThe closest way to that I found in answer <a href=\"https://stackoverflow.com/questions/45939333/access-model-data-in-addvalidation-method-asp-net-core-custom-validation\">Access model data in AddValidation method asp.net core custom validation</a>.</p>\n\n<p>Now I'm trying to inject actual value into the attribute in my custom validation html attribute provider:</p>\n\n<pre><code>public class CustomValidationHtmlAttributeProvider : DefaultValidationHtmlAttributeProvider\n{\n    private readonly IOptions&lt;MvcViewOptions&gt; _optionsAccessor;\n    private readonly IModelMetadataProvider _metadataProvider;\n    private readonly ClientValidatorCache _clientValidatorCache;\n\n\n    public CustomValidationHtmlAttributeProvider(IOptions&lt;MvcViewOptions&gt; optionsAccessor, IModelMetadataProvider metadataProvider, ClientValidatorCache clientValidatorCache) \n        : base(optionsAccessor, metadataProvider, clientValidatorCache)\n    {\n        _optionsAccessor = optionsAccessor;\n        _metadataProvider = metadataProvider;\n        _clientValidatorCache = clientValidatorCache;\n    }\n\n    public override void AddValidationAttributes(ViewContext viewContext, ModelExplorer modelExplorer, IDictionary&lt;string, string&gt; attributes)\n    {\n        // getting existing validation attribute\n        var greaterThanAttribute = modelExplorer.Metadata.ValidatorMetadata.FirstOrDefault(x =&gt;\n            x.GetType() == typeof(GreaterThanAttribute)) as GreaterThanAttribute;\n        var otherPropertyName = greaterThanAttribute.OtherPropertyName;\n\n        // -------------\n        // how to get reference to parent object of the model here?\n        // -------------\n        var otherValue = ?????????????\n\n        greaterThanAttribute.OtherPropertyValue = otherValue;\n\n        base.AddValidationAttributes(viewContext, modelExplorer, attributes);\n    }\n}\n</code></pre>\n\n<p>The problem is I can't find a way to get a reference to parent class of the property being validated in order to get value of <code>PropertyB</code>. All I have here is:</p>\n\n<ul>\n<li><code>modelExplorer.Model</code> is pointing to value of the PropertyA, as expected</li>\n<li><code>modelExplorer.Container</code> is pointing to value of whole Model of a view, which is complex, could have several levels of hierarchy and list. So basically I need get the value of <code>Model.Child[0].PropertyA</code> right now, but I don't know the exact path in advance. And of course I don't know index of current Child and so on.</li>\n<li><code>modelExplorer.Metadata</code> has all metadata for current property, for the whole container, but I don't see the way to connect this metadata to actual Model and values.</li>\n</ul>\n\n<p>So the question is: how to reach the value of <code>PropertyB</code> here, considering the fact, that I don't know the whole hierarchy of the container? Maybe there is complete other way to achieve desired validation attribute?</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1574872131, "post_id": 59074448, "comment_id": 104386672, "body": "Your pattern seems to be <a href=\"http://regexstorm.net/tester?p=%5cb%5cw%2A%5bA%c4%84E%c4%98%c4%96I%c4%aeYOU%c5%b2%c5%aa%5d%2b%5cw%2A%5bA%c4%84E%c4%98%c4%96I%c4%aeYOU%c5%b2%c5%aa%5d%2b%5cw%2A%5bA%c4%84E%c4%98%c4%96I%c4%aeYOU%c5%b2%c5%aa%5d%2b%5cw%2A%5cb&amp;i=Eimantas+%c4%97jo+namo+ir+nepar%c4%97jo%0d%0a&amp;o=i\" rel=\"nofollow noreferrer\">working just fine</a> with <code>RegexOptions.IgnoreCase</code>."}, {"owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "edited": false, "score": 0, "creation_date": 1574872349, "post_id": 59074448, "comment_id": 104386793, "body": "It also works with three of the same though."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1574872636, "post_id": 59074448, "comment_id": 104386941, "body": "Try <a href=\"http://regexstorm.net/tester?p=%5cb%5ba-z%5d%2A%28%5bA%c4%84E%c4%98%c4%96I%c4%aeYOU%c5%b2%c5%aa%5d%29%5ba-z%5d%2A%28%3f!%5c1%29%28%5bA%c4%84E%c4%98%c4%96I%c4%aeYOU%c5%b2%c5%aa%5d%29%5ba-z%5d%2A%28%3f!%5c1%29%28%3f!%5c2%29%5bA%c4%84E%c4%98%c4%96I%c4%aeYOU%c5%b2%c5%aa%5d%5ba-z%5d%2A%5cb&amp;i=Eimantas+%c4%97jo+namo+ir+nepar%c4%97jo%0d%0aEementes+%c4%97jo+namo+ir+nepar%c4%97jo&amp;o=i\" rel=\"nofollow noreferrer\">this</a>: <code>\\b[a-z]*([A\u0104E\u0118\u0116I\u012eYOU\u0172\u016a])[a-z]*(?!\\1)([A\u0104E\u0118\u0116I\u012eYOU\u0172\u016a])[a-z]*(?&zwnj;&#8203;!\\1)(?!\\2)[A\u0104E\u0118\u0116I\u012eYO&zwnj;&#8203;U\u0172\u016a][a-z]*\\b</code>"}], "owner": {"reputation": 21, "user_id": 12037347, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKCUnpVfVTc560M9LVg6KoEUQrxBa49V2QJcp9XQ=k-s128", "display_name": "EIMA", "link": "https://stackoverflow.com/users/12037347/eima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574871628, "creation_date": 1574871628, "question_id": 59074448, "link": "https://stackoverflow.com/questions/59074448/matching-words-with-certain-letters-with-regex", "title": "Matching words with certain letters with regex", "body": "<p>I have a line of text, for example:</p>\n\n<pre><code>Eimantas \u0117jo namo ir nepar\u0117jo\n</code></pre>\n\n<p>Is it possible to find words in this text that contains 3 different vowels (<code>Eimantas</code>, <code>nepar\u0117jo</code>) (there can be more vowels or they could be repeated) with Regex. Vowels in my language are: <code>A\u0104E\u0118\u0116I\u012eYOU\u0172\u016a</code>.</p>\n\n<p>I tried this expression but it matches words even if they have only 3 same vowels:</p>\n\n<pre><code>\\\\b\\\\w*[A\u0104E\u0118\u0116I\u012eYOU\u0172\u016a]+\\\\w*[A\u0104E\u0118\u0116I\u012eYOU\u0172\u016a]+\\\\w*[A\u0104E\u0118\u0116I\u012eYOU\u0172\u016a]+\\\\w*\\\\b\n</code></pre>\n\n<p>I run the match ingoring cases</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "resharper", "blazor"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1574871058, "post_id": 59074258, "comment_id": 104386115, "body": "Do they persist after a (re)build? What version of .core (3.0 or 3.1) and is your Visual Studio a Preview or not?"}, {"owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1574871124, "post_id": 59074258, "comment_id": 104386157, "body": "Yes, unfortunately"}, {"owner": {"reputation": 2556, "user_id": 10883465, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E5Lki7kUGF8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY1dMAbpAmyyBJtdSM1p4AdgBm_QQ/mo/photo.jpg?sz=128", "display_name": "Joelius", "link": "https://stackoverflow.com/users/10883465/joelius"}, "edited": false, "score": 1, "creation_date": 1574871178, "post_id": 59074258, "comment_id": 104386187, "body": "Have you restarted VS? Sometimes just rebuilding doesn&#39;t help.. Also removing the bin and obj folders before rebuilding is a good idea."}, {"owner": {"reputation": 18794, "user_id": 1220550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G1osH.jpg?s=128&g=1", "display_name": "Peter B", "link": "https://stackoverflow.com/users/1220550/peter-b"}, "edited": false, "score": 0, "creation_date": 1574871305, "post_id": 59074258, "comment_id": 104386259, "body": "Sorry I have no fix, but maybe you can try if things improve by putting the <code>@code</code> part before the <code>@page</code> part..."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1574871446, "post_id": 59074258, "comment_id": 104386336, "body": "I know turning of R# is a bit of a hassle but I suspect that it is the culprit. But this is something you can safely ignore. Blazor is new and quickly evolving."}, {"owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "edited": false, "score": 0, "creation_date": 1574871512, "post_id": 59074258, "comment_id": 104386374, "body": "Yes, it stays after removing folders, restarting VS and rebuilding."}, {"owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "reply_to_user": {"reputation": 18794, "user_id": 1220550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G1osH.jpg?s=128&g=1", "display_name": "Peter B", "link": "https://stackoverflow.com/users/1220550/peter-b"}, "edited": false, "score": 0, "creation_date": 1574871612, "post_id": 59074258, "comment_id": 104386412, "body": "Same error @PeterB with Code before Page"}, {"owner": {"reputation": 473, "user_id": 2315711, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d31bfde82b25523b2d1fcb785198e23d?s=128&d=identicon&r=PG", "display_name": "Christian A", "link": "https://stackoverflow.com/users/2315711/christian-a"}, "edited": false, "score": 2, "creation_date": 1574871675, "post_id": 59074258, "comment_id": 104386449, "body": "Resharper doesn&#39;t support Blazor yet. Try to disable it, and see if the errors are gone"}, {"owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "edited": false, "score": 1, "creation_date": 1574871747, "post_id": 59074258, "comment_id": 104386481, "body": "Turning off Resharper helped. But at what cost"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1574877269, "post_id": 59074258, "comment_id": 104389230, "body": "If this is for learning purposes, you could install the VS Preview (and use the latest Blazor stuff, 3.1) . And then keep R# on in your regular VS."}], "answers": [{"tags": [], "owner": {"reputation": 28123, "user_id": 1308743, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/92ec7a7b317928af4b975419239ffa99?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/1308743/kyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1574878206, "creation_date": 1574878206, "answer_id": 59076176, "question_id": 59074258, "link": "https://stackoverflow.com/questions/59074258/how-to-fix-intelisense-error-for-blazor-code-section/59076176#59076176", "title": "How to fix Intelisense error for Blazor code section?", "body": "<p>This should be fixed in Resharper 2019.2.3 and up I believe. If you have 2019.2.3 and it's still not working, I would install the latest EAP here : <a href=\"https://www.jetbrains.com/resharper/eap/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/resharper/eap/</a></p>\n"}], "owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 823, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1574878206, "creation_date": 1574870958, "last_edit_date": 1574871303, "question_id": 59074258, "link": "https://stackoverflow.com/questions/59074258/how-to-fix-intelisense-error-for-blazor-code-section", "title": "How to fix Intelisense error for Blazor code section?", "body": "<p>I'm using Visual Studio 16.3.10 (with Resharper) and .Net Core 3.0 with Server-Side Blazor.\nIt's a nearly clear template project.</p>\n\n<p>I'm getting this type of errors in all <code>.razor</code> files:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lb8J7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lb8J7.png\" alt=\"Error\"></a></p>\n\n<p>Project is building just fine. And in <strong>Error List</strong> in VS is empty.\nAlso normal <code>.cs</code> files are looking nice and clear.</p>\n\n<p>I haven't found anything by using search etc.</p>\n\n<p>How can I get rid of this <em>fake</em> errors?</p>\n"}, {"tags": ["c#", "dependency-injection", "ninject"], "comments": [{"owner": {"reputation": 13929, "user_id": 1236044, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/I4JH8.jpg?s=128&g=1", "display_name": "jbl", "link": "https://stackoverflow.com/users/1236044/jbl"}, "edited": false, "score": 0, "creation_date": 1574876049, "post_id": 59074223, "comment_id": 104388670, "body": "Are you looking for a behaviour similar to <code>WhenInjectedInto</code> ? <a href=\"https://github.com/ninject/Ninject/wiki/Contextual-Binding#specifying-constraints-on-the-type-binding-using-the-built-in-attribute-based-helpers\" rel=\"nofollow noreferrer\">github.com/ninject/Ninject/wiki/&hellip;</a>"}, {"owner": {"reputation": 1165, "user_id": 1713059, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7bd8b0140954719a3579286567533d8d?s=128&d=identicon&r=PG", "display_name": "user1713059", "link": "https://stackoverflow.com/users/1713059/user1713059"}, "reply_to_user": {"reputation": 13929, "user_id": 1236044, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/I4JH8.jpg?s=128&g=1", "display_name": "jbl", "link": "https://stackoverflow.com/users/1236044/jbl"}, "edited": false, "score": 0, "creation_date": 1574935973, "post_id": 59074223, "comment_id": 104408307, "body": "@jbl Yes, but WhenInjectedInto checks the class which item is injected into directly, it does not traverse the injection chain. This means writing <code>.WhenInjectedInto&lt;X1&gt;()</code> will not work since <code>Config</code> is not injected into <code>X1</code> directly, but into <code>Z</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5259, "user_id": 218136, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83406fc77fe8d14e79f13c0c5ff72583?s=128&d=identicon&r=PG", "display_name": "Dave Thieben", "link": "https://stackoverflow.com/users/218136/dave-thieben"}, "is_accepted": true, "score": 0, "last_activity_date": 1575910682, "creation_date": 1575910682, "answer_id": 59253388, "question_id": 59074223, "link": "https://stackoverflow.com/questions/59074223/how-to-inject-instance-depending-on-the-final-injection-chain-target/59253388#59253388", "title": "How to inject instance depending on the final injection chain target?", "body": "<p><code>WhenInjectedInto</code> is close, but as you noted, only looks at the current request. I created an extension method to address this exact use case:</p>\n\n<pre><code>    public static IBindingInNamedWithOrOnSyntax&lt;T&gt; WhenAnyAncestorIs&lt;T&gt;(this IBindingWhenSyntax&lt;T&gt; binding, params Type[] types)\n    {\n        bool Matches(IRequest request)\n        {\n            Type target = request.Target?.Member?.ReflectedType;\n            return (target != null &amp;&amp; types.Any(t =&gt; t == target))\n                || (request.ParentRequest != null &amp;&amp; Matches(request.ParentRequest));\n        }\n\n        return binding.When(Matches);\n    }\n</code></pre>\n\n<p>and use like:</p>\n\n<pre><code>Bind&lt;IConfigSource&gt;().To&lt;DataConfigSource&gt;()\n    .WhenAnyAncestorIs(\n        typeof(DataConfigurationRepository),\n        typeof(ManifestRepository),\n        typeof(DataManager)\n    )\n    .InSingletonScope();\n</code></pre>\n\n<p>you will need an additional binding for requests that do not use those Types.</p>\n"}], "owner": {"reputation": 1165, "user_id": 1713059, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7bd8b0140954719a3579286567533d8d?s=128&d=identicon&r=PG", "display_name": "user1713059", "link": "https://stackoverflow.com/users/1713059/user1713059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 59253388, "answer_count": 1, "score": 1, "last_activity_date": 1575910682, "creation_date": 1574870827, "last_edit_date": 1574872438, "question_id": 59074223, "link": "https://stackoverflow.com/questions/59074223/how-to-inject-instance-depending-on-the-final-injection-chain-target", "title": "How to inject instance depending on the final injection chain target?", "body": "<p>I have classes: <code>X1 &lt;- Y &lt;- Z &lt;- Config</code> (arrow means injection via constructor) and <code>X2 &lt;- Y &lt;- Z &lt;- Config</code>. <code>Z</code> expects some configuration (<code>Config</code> class), but the instance depends on the final type: <code>X1</code> and <code>X2</code> (type itself or a key they have defned somehow). In this example there should be two different instances of each <code>Y</code>, <code>Z</code> and <code>Config</code> class.</p>\n\n<p>How can I use different <code>Config</code> in <code>Z</code> depending on where it finally is used (<code>X1</code> or <code>X2</code>)?</p>\n\n<pre><code>    class X1\n    {\n        public X1(Y y)\n        {\n            int c = y.Z.Config.C; // This config variable is connected with X1.\n        }\n    }\n\n    class X2\n    {\n        public X2(Y y)\n        {\n            int c = y.Z.Config.C; // This config variable is different than the one for X1.\n        }\n    }\n\n    class Y\n    {\n        public Z Z { get; }\n\n        public Y(Z z)\n        {\n            Z = z;\n        }\n    }\n\n\n    class Z\n    {\n        public Config Config { get; }\n\n        public Z(Config config)\n        {\n            Config = config;\n        }\n    }\n\n    class Config\n    {\n        public int C { get; set; }\n    }\n</code></pre>\n\n<p>I could do sth like below, but it seems very fishy and smelly (a rough example):</p>\n\n<pre><code>    Bind&lt;Config&gt;().ToMethod(x =&gt;\n    {\n        // Return proper config object depending on the classes found in the injection chain...\n        IRequest req = x.Request;\n        while (req != null)\n        {\n            if (req.Service.UnderlyingSystemType == typeof(X1))\n            {\n                return configForX1;\n            }\n\n            if (req.Service.UnderlyingSystemType == typeof(X2))\n            {\n                return configForX2;\n            }\n\n            req = req.ParentRequest;\n        }\n\n        throw new Exception(\"Oh no.\");\n    });\n</code></pre>\n\n<p>Or to make it less fishy should I do:</p>\n\n<pre><code>    class X1\n    {\n        public X1([Named(\"X1\")] Config config, Y y)\n        {\n            y.SetConfig(config);\n        }\n    }\n\n    class Y\n    {\n        private readonly Z _z;\n\n        public Y(Z z)\n        {\n            _z = z;\n        }\n\n        public void SetConfig(Config config)\n        {\n            _z.SetConfig(config);\n        }\n    }\n\n    class Z\n    {\n        private Config _config;\n\n        public void SetConfig(Config config)\n        {\n            _config = config;\n        }\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    Bind&lt;MetricsApiConfiguration&gt;().To().Named(\"X1\");\n    Bind&lt;MetricsApiConfiguration&gt;().To().Named(\"X2\");\n</code></pre>\n\n<p>Any other (better) ideas?</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 736, "user_id": 1141853, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fd98274c146d838eeb5b4922f96fcf4c?s=128&d=identicon&r=PG", "display_name": "CurtisHx", "link": "https://stackoverflow.com/users/1141853/curtishx"}, "edited": false, "score": 7, "creation_date": 1574870833, "post_id": 59074167, "comment_id": 104386000, "body": "Any specific reason why you have to use Linq?"}, {"owner": {"reputation": 1099, "user_id": 1770679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/9qZtG.jpg?s=128&g=1", "display_name": "Roy Doron", "link": "https://stackoverflow.com/users/1770679/roy-doron"}, "edited": false, "score": 1, "creation_date": 1574871061, "post_id": 59074167, "comment_id": 104386116, "body": "Maybe Are you confusing Linq with Lambda expression?"}], "answers": [{"tags": [], "owner": {"reputation": 905, "user_id": 9287029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5cd72ac1361a607ea6c2d1206e040f?s=128&d=identicon&r=PG", "display_name": "Chris Yungmann", "link": "https://stackoverflow.com/users/9287029/chris-yungmann"}, "is_accepted": false, "score": 8, "last_activity_date": 1574871976, "last_edit_date": 1574871976, "creation_date": 1574871363, "answer_id": 59074377, "question_id": 59074167, "link": "https://stackoverflow.com/questions/59074167/call-method-x-times-using-linq/59074377#59074377", "title": "Call method x times using linq", "body": "<pre class=\"lang-cs prettyprint-override\"><code>var lstNews = Enumerable.Repeat(0, 3).Select(_ =&gt; CollectNews()).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 5102469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155883205745601/picture?type=large", "display_name": "Nick Proud", "link": "https://stackoverflow.com/users/5102469/nick-proud"}, "is_accepted": false, "score": 5, "last_activity_date": 1574872192, "last_edit_date": 1574872192, "creation_date": 1574871726, "answer_id": 59074471, "question_id": 59074167, "link": "https://stackoverflow.com/questions/59074167/call-method-x-times-using-linq/59074471#59074471", "title": "Call method x times using linq", "body": "<p>You can <code>System.Linq.Enumerable</code> to repeat an Action multiple times.</p>\n\n<pre><code>                Enumerable.Repeat&lt;Action&gt;(() =&gt;\n            {\n                lstNews.Add(CollectNews);\n            }, 3);\n</code></pre>\n\n<p>This would run the <code>Add</code> method on the list 3 times. Docs on <code>Enumerable.Repeat</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.repeat?view=netframework-4.8\" rel=\"nofollow noreferrer\">here.</a></p>\n"}, {"tags": [], "owner": {"reputation": 1587, "user_id": 1865984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/R9vY1.jpg?s=128&g=1", "display_name": "Grzegorz S\u0142awecki", "link": "https://stackoverflow.com/users/1865984/grzegorz-s%c5%82awecki"}, "is_accepted": true, "score": 4, "last_activity_date": 1575195210, "last_edit_date": 1575195210, "creation_date": 1574871882, "answer_id": 59074517, "question_id": 59074167, "link": "https://stackoverflow.com/questions/59074167/call-method-x-times-using-linq/59074517#59074517", "title": "Call method x times using linq", "body": "<p>As I understand you want to end up with a list of three <code>News</code> objects. You can do something like </p>\n\n<pre><code>Enumerable.Repeat(1, 3).Select(_ =&gt; CollectNews()).ToList();\n</code></pre>\n\n<p>You could use any value in place of <code>1</code> in that example.</p>\n\n<p>While this approach works, it's sort of abusing the idea of LINQ. In particular, you should not assume any order of executing <code>CollectNews()</code> calls. While the standard <code>Select</code> implementation will execute in sequence this may not always be true. </p>\n"}], "owner": {"reputation": 105, "user_id": 12215886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/334f07038ecfc24c5e58aec5e3f6e8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Pablitros", "link": "https://stackoverflow.com/users/12215886/pablitros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 1, "accepted_answer_id": 59074517, "answer_count": 3, "score": 9, "last_activity_date": 1575195210, "creation_date": 1574870625, "question_id": 59074167, "link": "https://stackoverflow.com/questions/59074167/call-method-x-times-using-linq", "title": "Call method x times using linq", "body": "<p>I would like to call one method 3 times Using <strong>LINQ</strong>, the method returns an object, with that object I want to add it into a List, How do i do it?</p>\n\n<pre><code>List&lt;News&gt; lstNews = new List&lt;News&gt;();\n\nlstNews.Add(CollectNews) [x 3 times] &lt;-- Using Linq \n\nprivate static News CollectNews(){\n...\n}\n\n\n</code></pre>\n"}, {"tags": ["c#", "generics", "exception"], "answers": [{"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 3, "creation_date": 1574871432, "post_id": 59074215, "comment_id": 104386330, "body": "I&#39;m not sure that it&#39;s worth an interface here - just a non-generic base class between <code>Exception</code> and <code>MyException&lt;T&gt;</code> would be fine."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1574871546, "post_id": 59074215, "comment_id": 104386387, "body": "Also, OP still doesn&#39;t have access to the generic property (without using reflection) which I guess is the real issue."}], "tags": [], "owner": {"reputation": 3525, "user_id": 10927863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYbxO.jpg?s=128&g=1", "display_name": "Eliahu Aaron", "link": "https://stackoverflow.com/users/10927863/eliahu-aaron"}, "is_accepted": true, "score": 15, "last_activity_date": 1574932838, "last_edit_date": 1574932838, "creation_date": 1574870808, "answer_id": 59074215, "question_id": 59074049, "link": "https://stackoverflow.com/questions/59074049/how-to-catch-all-variants-of-a-generic-exception-in-c/59074215#59074215", "title": "How to catch all variants of a generic exception in C#", "body": "<p>Make <code>MyException&lt;T&gt;</code> implement an interface and check for an exception by the interface type.</p>\n\n<p>Interface:</p>\n\n<pre><code>public interface IMyException\n{\n    string MyProperty { get; }\n}\n</code></pre>\n\n<p>Generic class implementing the interface:</p>\n\n<pre><code>public class MyException&lt;T&gt; : Exception, IMyException\n{\n    public string MyProperty { get; }\n\n    public MyException(T prop)\n    {\n        MyProperty = prop?.ToString();\n    }\n}\n</code></pre>\n\n<p>Derived classes:</p>\n\n<pre><code>public class MyDerivedStringException : MyException&lt;string&gt;\n{\n    public MyDerivedStringException(string prop) : base(prop)\n    {\n\n    }\n}\n\npublic class MyDerivedIntException : MyException&lt;int&gt;\n{\n    public MyDerivedIntException(int prop) : base(prop)\n    {\n\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>try\n{\n    // ...\n}\ncatch (Exception e) when (e is IMyException)\n{\n    // ...\n}\n</code></pre>\n\n<p>The same can be done by creating a base class that inherits from <code>Exception</code> and than making <code>MyException&lt;T&gt;</code> derive from that base class.</p>\n"}, {"tags": [], "owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "is_accepted": false, "score": 2, "last_activity_date": 1574870949, "creation_date": 1574870949, "answer_id": 59074253, "question_id": 59074049, "link": "https://stackoverflow.com/questions/59074049/how-to-catch-all-variants-of-a-generic-exception-in-c/59074253#59074253", "title": "How to catch all variants of a generic exception in C#", "body": "<p>Unfortunatelly, you can't catch with the </p>\n\n<p><code>catch(MyException ex)</code> class, as it expects a type.</p>\n\n<p>Your best bet would be to create a base class or interface, catch it and get the type from there.</p>\n\n<p>There is already an answer on <a href=\"https://stackoverflow.com/questions/9029942/can-you-catch-a-exceptiont-where-t-is-any-type\">so here</a> on how to get the type and do this.</p>\n"}, {"comments": [{"owner": {"reputation": 3189, "user_id": 8532748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d32f21f33b065b3dac43163943b95a4?s=128&d=identicon&r=PG&f=1", "display_name": "SBFrancies", "link": "https://stackoverflow.com/users/8532748/sbfrancies"}, "edited": false, "score": 0, "creation_date": 1574871493, "post_id": 59074302, "comment_id": 104386361, "body": "This is a good answer and I&#39;ve upvoted - unfortunately it doesn&#39;t solve my specific issue as the generic exception is in a third party library so I can&#39;t edit it."}], "tags": [], "owner": {"reputation": 1619, "user_id": 1512892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/PXCHj.jpg?s=128&g=1", "display_name": "Trae Moore", "link": "https://stackoverflow.com/users/1512892/trae-moore"}, "is_accepted": false, "score": 3, "last_activity_date": 1574872568, "last_edit_date": 1574872568, "creation_date": 1574871109, "answer_id": 59074302, "question_id": 59074049, "link": "https://stackoverflow.com/questions/59074049/how-to-catch-all-variants-of-a-generic-exception-in-c/59074302#59074302", "title": "How to catch all variants of a generic exception in C#", "body": "<p>This implementation boxes and unboxes if T:Value is Valuetype... but with respect to utilization you can control performance implications with the number of times you attempt to box/unbox.</p>\n\n<pre><code>public class MyException&lt;T&gt; : MyException\n{\n    public T Prop =&gt; (T)base.Prop;\n\n    public MyException(T prop) : base(prop)\n    {\n\n    }\n}\n\npublic class MyException : Exception\n{\n    protected object Prop { get; }\n\n    public MyException(object prop)\n    {\n         Prop = prop;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Logic</p>\n\n<pre><code>try {\n     ...\n} catch(MyException e) {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1619, "user_id": 1512892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/PXCHj.jpg?s=128&g=1", "display_name": "Trae Moore", "link": "https://stackoverflow.com/users/1512892/trae-moore"}, "is_accepted": false, "score": 1, "last_activity_date": 1574873407, "last_edit_date": 1574873407, "creation_date": 1574872105, "answer_id": 59074605, "question_id": 59074049, "link": "https://stackoverflow.com/questions/59074049/how-to-catch-all-variants-of-a-generic-exception-in-c/59074605#59074605", "title": "How to catch all variants of a generic exception in C#", "body": "<p>this implementation abstracts the handling delegate for the exception type away from the context of the T/C... This may be a little too adventurous, but the cool part about it is you can inject different handlers depending on scope of reuse and context of utilization.</p>\n\n<pre><code>public interface IExceptionHandler\n{\n    object Handle(Exception ex);\n\n    void RegisterExceptionTypeHandler&lt;T&gt;(Func&lt;T,object&gt; handlerDelegate) where T : Exception;\n}\n</code></pre>\n\n<hr>\n\n<p>registration logic</p>\n\n<pre><code>handler.RegisterExceptionTypeHandler&lt;MyException&lt;int&gt;&gt;(ex =&gt; ...);\nhandler.RegisterExceptionTypeHandler&lt;MyException&lt;string&gt;&gt;(ex =&gt; ...);\n</code></pre>\n\n<hr>\n\n<pre><code>try {\n    ...\n}catch(Exception ex)\n{\n    ...any validation\n    return exceptionHandler.Handle(ex)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "is_accepted": false, "score": 10, "last_activity_date": 1574873373, "last_edit_date": 1574873373, "creation_date": 1574872701, "answer_id": 59074769, "question_id": 59074049, "link": "https://stackoverflow.com/questions/59074049/how-to-catch-all-variants-of-a-generic-exception-in-c/59074769#59074769", "title": "How to catch all variants of a generic exception in C#", "body": "<p>The test if your <code>Type</code> is derived from a generic is:</p>\n\n<pre><code>Type = typeof(something);\nt.GetGenericTypeDefinition()==typeof(MyException&lt;&gt;);\n</code></pre>\n\n<p>But this is true only for derived types itself, like <code>MyException&lt;int&gt;</code> or <code>MyException&lt;string&gt;</code>.</p>\n\n<p>If you have further derivatives like <code>MyDerivedStringException</code> you had to test on:</p>\n\n<pre><code>ex.GetType.BaseType.GetGenericTypeDefinition()==typeof(MyException&lt;&gt;);\n</code></pre>\n\n<p>So this works for any existing generic, but you need to know the level of inheritance for this test, or loop through all the base types.</p>\n\n<p>So you could do this:</p>\n\n<pre><code>catch(Exception ex) when (ex.GetType.BaseType.GetGenericTypeDefinition()==typeof(MyException&lt;&gt;))\n</code></pre>\n"}], "owner": {"reputation": 3189, "user_id": 8532748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d32f21f33b065b3dac43163943b95a4?s=128&d=identicon&r=PG&f=1", "display_name": "SBFrancies", "link": "https://stackoverflow.com/users/8532748/sbfrancies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 3, "accepted_answer_id": 59074215, "answer_count": 5, "score": 22, "last_activity_date": 1574932838, "creation_date": 1574870245, "last_edit_date": 1574872809, "question_id": 59074049, "link": "https://stackoverflow.com/questions/59074049/how-to-catch-all-variants-of-a-generic-exception-in-c", "title": "How to catch all variants of a generic exception in C#", "body": "<p>I would like to catch all variants of a generic exception class and I was wondering if there is a way to do it without multiple catch blocks. For example say I have an exception class:</p>\n\n<pre><code>public class MyException&lt;T&gt; : Exception\n{\n    public string MyProperty { get; }\n\n    public MyException(T prop) : base(prop.ToString())\n    {\n        MyProperty = prop?.ToString();\n    }\n}\n</code></pre>\n\n<p>and two derived classes:</p>\n\n<pre><code>public class MyDerivedStringException : MyException&lt;string&gt;\n{\n    public MyDerivedStringException(string prop) : base(prop)\n    {\n\n    }\n}\n\npublic class MyDerivedIntException : MyException&lt;int&gt;\n{\n    public MyDerivedIntException(int prop) : base(prop)\n    {\n\n    }\n}\n</code></pre>\n\n<p>is there a way of catching both <code>MyDerivedStringException</code> and <code>MyDerivedIntException</code> in one catch block.</p>\n\n<p>I have tried this:</p>\n\n<pre><code>try\n{\n   ...\n}\n\ncatch(Exception e) when (e is MyDerivedStringException || e is MyDerivedIntException)\n{\n}\n</code></pre>\n\n<p>but it is not very clean and means I do not have access to <code>MyProperty</code>.</p>\n\n<p>I am interested in a general solution to the problem but in my case the generic Exception is defined in a third party library which as pointed out below adds some additional constraints to the problem.</p>\n"}]